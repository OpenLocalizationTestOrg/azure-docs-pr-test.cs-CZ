---
title: "integrace aaaContinuous ve Visual Studio Team Services pomocí projekty skupiny prostředků Azure | Microsoft Docs"
description: "Popisuje, jak tooset až průběžnou integraci ve Visual Studio Team Services pomocí nasazení skupiny prostředků Azure projekty v sadě Visual Studio."
services: visual-studio-online
documentationcenter: na
author: mlearned
manager: erickson-doug
editor: 
ms.assetid: b81c172a-be87-4adc-861e-d20b94be9e38
ms.service: azure-resource-manager
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/01/2016
ms.author: mlearned
ms.openlocfilehash: 0fe4a4b8989ee323e8ef2206fa4ebed503025670
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="continuous-integration-in-visual-studio-team-services-using-azure-resource-group-deployment-projects"></a><span data-ttu-id="e9849-103">Průběžnou integraci ve Visual Studio Team Services pomocí projekty nasazení skupiny prostředků Azure</span><span class="sxs-lookup"><span data-stu-id="e9849-103">Continuous integration in Visual Studio Team Services using Azure Resource Group deployment projects</span></span>
<span data-ttu-id="e9849-104">toodeploy šablony Azure, můžete provádět úlohy v různých fázích: vytvořit, testovací, kopie tooAzure (také nazývané "Přípravy") a nasadit šablonu.</span><span class="sxs-lookup"><span data-stu-id="e9849-104">toodeploy an Azure template, you perform tasks in various stages: Build, Test, Copy tooAzure (also called "Staging"), and Deploy Template.</span></span> <span data-ttu-id="e9849-105">Existují dva různé způsoby toodeploy šablony tooVisual Studio Team Services (Visual Studio Team Services).</span><span class="sxs-lookup"><span data-stu-id="e9849-105">There are two different ways toodeploy templates tooVisual Studio Team Services (VS Team Services).</span></span> <span data-ttu-id="e9849-106">Obě metody zadejte stejné výsledky hello, takže zvolte hello ten, který nejlépe vyhovuje pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="e9849-106">Both methods provide hello same results, so choose hello one that best fits your workflow.</span></span>

1. <span data-ttu-id="e9849-107">Přidejte definici sestavení tooyour jeden krok, který spouští skript prostředí PowerShell text hello, který je součástí hello projekt nasazení skupiny prostředků Azure (nasadit-AzureResourceGroup.ps1).</span><span class="sxs-lookup"><span data-stu-id="e9849-107">Add a single step tooyour build definition that runs hello PowerShell script that’s included in hello Azure Resource Group deployment project (Deploy-AzureResourceGroup.ps1).</span></span> <span data-ttu-id="e9849-108">skript Hello zkopíruje artefaktů a poté nasadí hello šablony.</span><span class="sxs-lookup"><span data-stu-id="e9849-108">hello script copies artifacts and then deploys hello template.</span></span>
2. <span data-ttu-id="e9849-109">Přidáte že více Visual Studio Team Services kroky sestavení, každé z nich provedení úlohy fáze.</span><span class="sxs-lookup"><span data-stu-id="e9849-109">Add multiple VS Team Services build steps, each one performing a stage task.</span></span>

<span data-ttu-id="e9849-110">Tento článek ukazuje obě možnosti.</span><span class="sxs-lookup"><span data-stu-id="e9849-110">This article demonstrates both options.</span></span> <span data-ttu-id="e9849-111">první možnost Hello má hello výhod používání hello používá stejný skript vývojáři v sadě Visual Studio a zajištění konzistence v průběhu cyklu hello.</span><span class="sxs-lookup"><span data-stu-id="e9849-111">hello first option has hello advantage of using hello same script used by developers in Visual Studio and providing consistency throughout hello lifecycle.</span></span> <span data-ttu-id="e9849-112">Druhá možnost Hello nabízí pohodlný alternativní toohello předdefinované skript.</span><span class="sxs-lookup"><span data-stu-id="e9849-112">hello second option offers a convenient alternative toohello built-in script.</span></span> <span data-ttu-id="e9849-113">Obě postupech se předpokládá, že již máte nasazení projektu sady Visual Studio zaškrtnutí do Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="e9849-113">Both procedures assume you already have a Visual Studio deployment project checked into VS Team Services.</span></span>

## <a name="copy-artifacts-tooazure"></a><span data-ttu-id="e9849-114">Zkopírování artefaktů tooAzure</span><span class="sxs-lookup"><span data-stu-id="e9849-114">Copy artifacts tooAzure</span></span>
<span data-ttu-id="e9849-115">Bez ohledu na scénáři hello máte artefakty, které jsou potřebné pro nasazení šablony, je třeba zadat toothem přístupu Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="e9849-115">Regardless of hello scenario, if you have any artifacts that are needed for template deployment, you must give Azure Resource Manager access toothem.</span></span> <span data-ttu-id="e9849-116">Tyto artefakty mohou zahrnovat například soubory:</span><span class="sxs-lookup"><span data-stu-id="e9849-116">These artifacts can include files such as:</span></span>

* <span data-ttu-id="e9849-117">Vnořené šablony</span><span class="sxs-lookup"><span data-stu-id="e9849-117">Nested templates</span></span>
* <span data-ttu-id="e9849-118">Konfiguračních skriptů a skripty, DSC</span><span class="sxs-lookup"><span data-stu-id="e9849-118">Configuration scripts and DSC scripts</span></span>
* <span data-ttu-id="e9849-119">Binární soubory aplikace</span><span class="sxs-lookup"><span data-stu-id="e9849-119">Application binaries</span></span>

### <a name="nested-templates-and-configuration-scripts"></a><span data-ttu-id="e9849-120">Vnořené šablony a konfigurační skripty</span><span class="sxs-lookup"><span data-stu-id="e9849-120">Nested Templates and Configuration Scripts</span></span>
<span data-ttu-id="e9849-121">Při použití šablony hello poskytované sadě Visual Studio (nebo vytvořené s nástroji Visual Studio fragmenty) hello skript prostředí PowerShell nejen zpracuje hello artefakty, je také parameterizes hello identifikátor URI pro hello prostředky pro jiné nasazení.</span><span class="sxs-lookup"><span data-stu-id="e9849-121">When you use hello templates provided by Visual Studio (or built with Visual Studio snippets), hello PowerShell script not only stages hello artifacts, it also parameterizes hello URI for hello resources for different deployments.</span></span> <span data-ttu-id="e9849-122">skript Hello pak zkopíruje hello artefakty tooa zabezpečeného kontejneru v Azure, vytvoří SaS token pro tento kontejner a pak předá tyto informace o nasazení šablony toohello.</span><span class="sxs-lookup"><span data-stu-id="e9849-122">hello script then copies hello artifacts tooa secure container in Azure, creates a SaS token for that container, and then passes that information on toohello template deployment.</span></span> <span data-ttu-id="e9849-123">V tématu [vytvořit šablonu nasazení](https://msdn.microsoft.com/library/azure/dn790564.aspx) toolearn Další informace o vnořené šablony.</span><span class="sxs-lookup"><span data-stu-id="e9849-123">See [Create a template deployment](https://msdn.microsoft.com/library/azure/dn790564.aspx) toolearn more about nested templates.</span></span>  <span data-ttu-id="e9849-124">Při použití úlohy v Visual Studio Team Services, musíte vybrat hello příslušné úlohy pro šablonu nasazení a v případě potřeby předat hodnoty parametrů z hello pracovní krok toohello šablonu nasazení.</span><span class="sxs-lookup"><span data-stu-id="e9849-124">When using tasks in VS Team Services, you must select hello appropriate tasks for your template deployment and if necessary, pass parameter values from hello staging step toohello template deployment.</span></span>

## <a name="set-up-continuous-deployment-in-vs-team-services"></a><span data-ttu-id="e9849-125">Nastavit průběžné nasazování ve Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="e9849-125">Set up continuous deployment in VS Team Services</span></span>
<span data-ttu-id="e9849-126">skript prostředí PowerShell toocall hello ve Visual Studio Team Services, budete potřebovat tooupdate vaší definice sestavení.</span><span class="sxs-lookup"><span data-stu-id="e9849-126">toocall hello PowerShell script in VS Team Services, you need tooupdate your build definition.</span></span> <span data-ttu-id="e9849-127">Stručně řečeno hello kroky jsou:</span><span class="sxs-lookup"><span data-stu-id="e9849-127">In brief, hello steps are:</span></span> 

1. <span data-ttu-id="e9849-128">Upravte definici sestavení hello.</span><span class="sxs-lookup"><span data-stu-id="e9849-128">Edit hello build definition.</span></span>
2. <span data-ttu-id="e9849-129">Nastavení Azure autorizace ve Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="e9849-129">Set up Azure authorization in VS Team Services.</span></span>
3. <span data-ttu-id="e9849-130">Přidejte krok sestavení Azure PowerShell, který odkazuje na skript prostředí PowerShell hello v hello projekt nasazení skupiny prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="e9849-130">Add an Azure PowerShell build step that references hello PowerShell script in hello Azure Resource Group deployment project.</span></span>
4. <span data-ttu-id="e9849-131">Nastavte hodnotu hello hello *- ArtifactsStagingDirectory* toowork parametr s projektem součástí Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="e9849-131">Set hello value of hello *-ArtifactsStagingDirectory* parameter toowork with a project built in VS Team Services.</span></span>

### <a name="detailed-walkthrough-for-option-1"></a><span data-ttu-id="e9849-132">Podrobný návod pro možnost 1</span><span class="sxs-lookup"><span data-stu-id="e9849-132">Detailed walkthrough for Option 1</span></span>
<span data-ttu-id="e9849-133">Hello následující postupy vás provede procesem hello kroky nezbytné tooconfigure průběžné nasazování ve Visual Studio Team Services pomocí jednu úlohu, která se spouští skript prostředí PowerShell hello ve vašem projektu.</span><span class="sxs-lookup"><span data-stu-id="e9849-133">hello following procedures walk you through hello steps necessary tooconfigure continuous deployment in VS Team Services using a single task that runs hello PowerShell script in your project.</span></span> 

1. <span data-ttu-id="e9849-134">Upravit definici sestavení vaší Visual Studio Team Services a přidejte krok sestavení prostředí Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e9849-134">Edit your VS Team Services build definition and add an Azure PowerShell build step.</span></span> <span data-ttu-id="e9849-135">Zvolte definici sestavení hello pod hello **sestavení definice** kategorie a potom zvolte hello **upravit** odkaz.</span><span class="sxs-lookup"><span data-stu-id="e9849-135">Choose hello build definition under hello **Build definitions** category and then choose hello **Edit** link.</span></span>
   
   ![Upravit definici sestavení][0]
2. <span data-ttu-id="e9849-137">Přidejte nový **prostředí Azure PowerShell** sestavení definici sestavení toohello krok a pak zvolte hello **krok sestavení přidat...**</span><span class="sxs-lookup"><span data-stu-id="e9849-137">Add a new **Azure PowerShell** build step toohello build definition and then choose hello **Add build step…**</span></span> <span data-ttu-id="e9849-138">.</span><span class="sxs-lookup"><span data-stu-id="e9849-138">button.</span></span>
   
   ![Přidejte krok sestavení][1]
3. <span data-ttu-id="e9849-140">Zvolte hello **úloh nasadit** kategorie, vyberte hello **prostředí Azure PowerShell** úkolů a potom vyberte jeho **přidat** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="e9849-140">Choose hello **Deploy task** category, select hello **Azure PowerShell** task, and then choose its **Add** button.</span></span>
   
   ![Přidání úkolů][2]
4. <span data-ttu-id="e9849-142">Zvolte hello **prostředí Azure PowerShell** kroku sestavení a pak zadejte jeho hodnoty.</span><span class="sxs-lookup"><span data-stu-id="e9849-142">Choose hello **Azure PowerShell** build step and then fill in its values.</span></span>
   
   1. <span data-ttu-id="e9849-143">Pokud již máte koncový bod služby Azure přidali tooVS Team Services, zvolte předplatné hello v hello **předplatné Azure** rozevíracího seznamu a pak přeskočit toohello další části.</span><span class="sxs-lookup"><span data-stu-id="e9849-143">If you already have an Azure service endpoint added tooVS Team Services, choose hello subscription in hello **Azure Subscription** drop-down list box and then skip toohello next section.</span></span> 
      
      <span data-ttu-id="e9849-144">Pokud nemáte koncový bod služby Azure ve Visual Studio Team Services, je třeba tooadd jeden.</span><span class="sxs-lookup"><span data-stu-id="e9849-144">If you don’t have an Azure service endpoint in VS Team Services, you need tooadd one.</span></span> <span data-ttu-id="e9849-145">Tato část vás provede procesem hello.</span><span class="sxs-lookup"><span data-stu-id="e9849-145">This subsection takes you through hello process.</span></span> <span data-ttu-id="e9849-146">Pokud účtu Azure používá účet Microsoft (například Hotmail), je třeba provést následující kroky tooget hello ověřování instanční objekt.</span><span class="sxs-lookup"><span data-stu-id="e9849-146">If your Azure account uses a Microsoft account (such as Hotmail), you must take hello following steps tooget a Service Principal authentication.</span></span>
   2. <span data-ttu-id="e9849-147">Zvolte hello **spravovat** propojit další toohello **předplatné Azure** rozevíracího seznamu.</span><span class="sxs-lookup"><span data-stu-id="e9849-147">Choose hello **Manage** link next toohello **Azure Subscription** drop-down list box.</span></span>
      
      ![Spravovat předplatná Azure][3]
   3. <span data-ttu-id="e9849-149">Zvolte **Azure** v hello **nový koncový bod služby** rozevíracího seznamu.</span><span class="sxs-lookup"><span data-stu-id="e9849-149">Choose **Azure** in hello **New Service Endpoint** drop-down list box.</span></span>
      
      ![Nový koncový bod služby][4]
   4. <span data-ttu-id="e9849-151">V hello **přidat předplatné Azure** dialogové okno, vyberte hello **instanční objekt** možnost.</span><span class="sxs-lookup"><span data-stu-id="e9849-151">In hello **Add Azure Subscription** dialog box, select hello **Service Principal** option.</span></span>
      
      ![Hlavní možnosti služby][5]
   5. <span data-ttu-id="e9849-153">Přidat toohello informace vašeho předplatného Azure **přidat předplatné Azure** dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="e9849-153">Add your Azure subscription information toohello **Add Azure Subscription** dialog box.</span></span> <span data-ttu-id="e9849-154">Je třeba tooprovide hello následující položky:</span><span class="sxs-lookup"><span data-stu-id="e9849-154">You need tooprovide hello following items:</span></span>
      
      * <span data-ttu-id="e9849-155">Id předplatného</span><span class="sxs-lookup"><span data-stu-id="e9849-155">Subscription Id</span></span>
      * <span data-ttu-id="e9849-156">Název odběru</span><span class="sxs-lookup"><span data-stu-id="e9849-156">Subscription Name</span></span>
      * <span data-ttu-id="e9849-157">Id objektu zabezpečení</span><span class="sxs-lookup"><span data-stu-id="e9849-157">Service Principal Id</span></span>
      * <span data-ttu-id="e9849-158">Klíč objektu služby</span><span class="sxs-lookup"><span data-stu-id="e9849-158">Service Principal Key</span></span>
      * <span data-ttu-id="e9849-159">Id klienta</span><span class="sxs-lookup"><span data-stu-id="e9849-159">Tenant Id</span></span>
   6. <span data-ttu-id="e9849-160">Přidejte název podle vašeho výběru toohello **předplatné** pole název.</span><span class="sxs-lookup"><span data-stu-id="e9849-160">Add a name of your choice toohello **Subscription** name box.</span></span> <span data-ttu-id="e9849-161">Tato hodnota se zobrazí později v hello **předplatné Azure** rozevíracího seznamu ve Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="e9849-161">This value appears later in hello **Azure Subscription** drop-down list in VS Team Services.</span></span> 
   7. <span data-ttu-id="e9849-162">Pokud si nejste jisti svoje ID předplatného Azure, můžete použít jednu z následujících příkazů tooretrieve hello ho.</span><span class="sxs-lookup"><span data-stu-id="e9849-162">If you don’t know your Azure subscription ID, you can use one of hello following commands tooretrieve it.</span></span>
      
      <span data-ttu-id="e9849-163">Pro skripty prostředí PowerShell použijte:</span><span class="sxs-lookup"><span data-stu-id="e9849-163">For PowerShell scripts, use:</span></span>
      
      `Get-AzureRmSubscription`
      
      <span data-ttu-id="e9849-164">Pokud používáte Azure CLI, použijte:</span><span class="sxs-lookup"><span data-stu-id="e9849-164">For Azure CLI, use:</span></span>
      
      `azure account show`
   8. <span data-ttu-id="e9849-165">tooget ID objektu služby, klíč objektu služby a ID klienta, použijte postup hello v [vytvoření aplikace Active Directory a objektu zabezpečení pomocí portálu](resource-group-create-service-principal-portal.md) nebo [ověřování objekt služby s Azure Resource Manager](resource-group-authenticate-service-principal.md).</span><span class="sxs-lookup"><span data-stu-id="e9849-165">tooget a Service Principal ID, Service Principal Key, and Tenant ID, follow hello procedure in [Create Active Directory application and service principal using portal](resource-group-create-service-principal-portal.md) or [Authenticating a service principal with Azure Resource Manager](resource-group-authenticate-service-principal.md).</span></span>
   9. <span data-ttu-id="e9849-166">Přidat hello ID objektu služby, klíč objektu služby a ID klienta hodnoty toohello **přidat předplatné Azure** dialogové okno pole a zvolte hello **OK** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="e9849-166">Add hello Service Principal ID, Service Principal Key, and Tenant ID values toohello **Add Azure Subscription** dialog box and then choose hello **OK** button.</span></span>
      
      <span data-ttu-id="e9849-167">Nyní máte platný objekt služby toouse toorun hello skript prostředí Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e9849-167">You now have a valid Service Principal toouse toorun hello Azure PowerShell script.</span></span>
5. <span data-ttu-id="e9849-168">Upravit definici sestavení hello a zvolte hello **prostředí Azure PowerShell** kroku sestavení.</span><span class="sxs-lookup"><span data-stu-id="e9849-168">Edit hello build definition and choose hello **Azure PowerShell** build step.</span></span> <span data-ttu-id="e9849-169">Vyberte předplatné hello v hello **předplatné Azure** rozevíracího seznamu.</span><span class="sxs-lookup"><span data-stu-id="e9849-169">Select hello subscription in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="e9849-170">(Pokud se nezobrazí hello předplatného, zvolte hello **aktualizovat** tlačítko Další hello **spravovat** odkaz.)</span><span class="sxs-lookup"><span data-stu-id="e9849-170">(If hello subscription doesn't appear, choose hello **Refresh** button next hello **Manage** link.)</span></span> 
   
   ![Konfigurace prostředí Azure PowerShell úlohu sestavení][8]
6. <span data-ttu-id="e9849-172">Zadejte cestu toohello skript prostředí PowerShell AzureResourceGroup.ps1 nasadit.</span><span class="sxs-lookup"><span data-stu-id="e9849-172">Provide a path toohello Deploy-AzureResourceGroup.ps1 PowerShell script.</span></span> <span data-ttu-id="e9849-173">toodo, zvolte hello třemi tečkami (...) tlačítko Další toohello **cestu ke skriptu** přejděte skript prostředí PowerShell nasadit AzureResourceGroup.ps1 toohello v hello **skripty** složku projekt, vyberte ho, a potom zvolte hello **OK** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="e9849-173">toodo this, choose hello ellipsis (…) button next toohello **Script Path** box, navigate toohello Deploy-AzureResourceGroup.ps1 PowerShell script in hello **Scripts** folder of your project, select it, and then choose hello **OK** button.</span></span>    
   
   ![Vyberte cestu tooscript][9]
7. <span data-ttu-id="e9849-175">Po výběru hello skriptu, aktualizujte hello cesta toohello skript tak, aby je spuštěn z hello Build.StagingDirectory (hello stejný adresář, *ArtifactsLocation* je nastaven na).</span><span class="sxs-lookup"><span data-stu-id="e9849-175">After you select hello script, update hello path toohello script so that it’s run from hello Build.StagingDirectory (hello same directory that *ArtifactsLocation* is set to).</span></span> <span data-ttu-id="e9849-176">To provedete tak, že přidáte "$(Build.StagingDirectory)/" toohello začátek hello cestu ke skriptu.</span><span class="sxs-lookup"><span data-stu-id="e9849-176">You can do this by adding “$(Build.StagingDirectory)/” toohello beginning of hello script path.</span></span>
   
    ![Upravit tooscript cesta][10]
8. <span data-ttu-id="e9849-178">V hello **argumenty skriptu** zadejte hello následující parametry (v jednom řádku).</span><span class="sxs-lookup"><span data-stu-id="e9849-178">In hello **Script Arguments** box, enter hello following parameters (in a single line).</span></span> <span data-ttu-id="e9849-179">Pokud spustíte skript hello v sadě Visual Studio, můžete zobrazit, jak používá VS hello parametry v hello **výstup** okno.</span><span class="sxs-lookup"><span data-stu-id="e9849-179">When you run hello script in Visual Studio, you can see how VS uses hello parameters in hello **Output** window.</span></span> <span data-ttu-id="e9849-180">Můžete to použít jako výchozí bod pro nastavování hodnot parametrů hello v kroku vaše sestavení.</span><span class="sxs-lookup"><span data-stu-id="e9849-180">You can use this as a starting point for setting hello parameter values in your build step.</span></span>
   
   | <span data-ttu-id="e9849-181">Parametr</span><span class="sxs-lookup"><span data-stu-id="e9849-181">Parameter</span></span> | <span data-ttu-id="e9849-182">Popis</span><span class="sxs-lookup"><span data-stu-id="e9849-182">Description</span></span> |
   | --- | --- |
   | <span data-ttu-id="e9849-183">-ResourceGroupLocation</span><span class="sxs-lookup"><span data-stu-id="e9849-183">-ResourceGroupLocation</span></span> |<span data-ttu-id="e9849-184">Hello hodnotu geografického umístění, kde je umístěna, například skupina prostředků hello **eastus** nebo **, východní USA,**.</span><span class="sxs-lookup"><span data-stu-id="e9849-184">hello geo-location value where hello resource group is located, such as **eastus** or **'East US'**.</span></span> <span data-ttu-id="e9849-185">(Pokud je mezera v názvu text hello, přidejte jednoduchých uvozovkách.) V tématu [oblasti Azure](https://azure.microsoft.com/en-us/regions/) Další informace.</span><span class="sxs-lookup"><span data-stu-id="e9849-185">(Add single quotes if there's a space in hello name.) See [Azure Regions](https://azure.microsoft.com/en-us/regions/) for more information.</span></span> |
   | <span data-ttu-id="e9849-186">-ResourceGroupName</span><span class="sxs-lookup"><span data-stu-id="e9849-186">-ResourceGroupName</span></span> |<span data-ttu-id="e9849-187">Hello název skupiny prostředků hello použít pro toto nasazení.</span><span class="sxs-lookup"><span data-stu-id="e9849-187">hello name of hello resource group used for this deployment.</span></span> |
   | <span data-ttu-id="e9849-188">-UploadArtifacts</span><span class="sxs-lookup"><span data-stu-id="e9849-188">-UploadArtifacts</span></span> |<span data-ttu-id="e9849-189">Tento parametr, pokud jsou k dispozici, určuje, zda artefaktů, které je třeba toobe nahrán tooAzure z místního systému hello.</span><span class="sxs-lookup"><span data-stu-id="e9849-189">This parameter, when present, specifies that artifacts that need toobe uploaded tooAzure from hello local system.</span></span> <span data-ttu-id="e9849-190">Potřebujete jenom tooset tento přepínač. Pokud vaše šablony nasazení vyžaduje další artefaktů, které chcete toostage pomocí skriptu prostředí PowerShell hello (například konfigurační skripty nebo vnořené šablony).</span><span class="sxs-lookup"><span data-stu-id="e9849-190">You only need tooset this switch if your template deployment requires extra artifacts that you want toostage using hello PowerShell script (such as configuration scripts or nested templates).</span></span> |
   | <span data-ttu-id="e9849-191">-StorageAccountName</span><span class="sxs-lookup"><span data-stu-id="e9849-191">-StorageAccountName</span></span> |<span data-ttu-id="e9849-192">Hello název účtu úložiště hello používá toostage artefaktů pro toto nasazení.</span><span class="sxs-lookup"><span data-stu-id="e9849-192">hello name of hello storage account used toostage artifacts for this deployment.</span></span> <span data-ttu-id="e9849-193">Tento parametr se používá pouze pokud jsou pracovní artefaktů pro nasazení.</span><span class="sxs-lookup"><span data-stu-id="e9849-193">This parameter is only used if you are staging artifacts for deployment.</span></span> <span data-ttu-id="e9849-194">Pokud je tento parametr zadaný, se vytvoří nový účet úložiště, pokud hello skript nebyl vytvořili během předchozí nasazení.</span><span class="sxs-lookup"><span data-stu-id="e9849-194">If this parameter is supplied, a new storage account is created if hello script has not created one during a previous deployment.</span></span> <span data-ttu-id="e9849-195">Pokud je zadán parametr hello, již musí existovat účet úložiště hello.</span><span class="sxs-lookup"><span data-stu-id="e9849-195">If hello parameter is specified, hello storage account must already exist.</span></span> |
   | <span data-ttu-id="e9849-196">-StorageAccountResourceGroupName</span><span class="sxs-lookup"><span data-stu-id="e9849-196">-StorageAccountResourceGroupName</span></span> |<span data-ttu-id="e9849-197">Hello název skupiny prostředků hello přidružené k účtu úložiště hello.</span><span class="sxs-lookup"><span data-stu-id="e9849-197">hello name of hello resource group associated with hello storage account.</span></span> <span data-ttu-id="e9849-198">Tento parametr je povinný, jenom v případě, že je zadat hodnotu pro parametr StorageAccountName hello.</span><span class="sxs-lookup"><span data-stu-id="e9849-198">This parameter is required only if you provide a value for hello StorageAccountName parameter.</span></span> |
   | <span data-ttu-id="e9849-199">-TemplateFile</span><span class="sxs-lookup"><span data-stu-id="e9849-199">-TemplateFile</span></span> |<span data-ttu-id="e9849-200">Hello cesta toohello souboru šablony v hello projekt nasazení skupiny prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="e9849-200">hello path toohello template file in hello Azure Resource Group deployment project.</span></span> <span data-ttu-id="e9849-201">Flexibilita tooenhance, použijte cestu pro tento parametr, který je relativní toohello umístění hello skript prostředí PowerShell místo absolutní cesta.</span><span class="sxs-lookup"><span data-stu-id="e9849-201">tooenhance flexibility, use a path for this parameter that is relative toohello location of hello PowerShell script instead of an absolute path.</span></span> |
   | <span data-ttu-id="e9849-202">-TemplateParametersFile</span><span class="sxs-lookup"><span data-stu-id="e9849-202">-TemplateParametersFile</span></span> |<span data-ttu-id="e9849-203">Hello cesta toohello soubor parametrů v hello projekt nasazení skupiny prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="e9849-203">hello path toohello parameters file in hello Azure Resource Group deployment project.</span></span> <span data-ttu-id="e9849-204">Flexibilita tooenhance, použijte cestu pro tento parametr, který je relativní toohello umístění hello skript prostředí PowerShell místo absolutní cesta.</span><span class="sxs-lookup"><span data-stu-id="e9849-204">tooenhance flexibility, use a path for this parameter that is relative toohello location of hello PowerShell script instead of an absolute path.</span></span> |
   | <span data-ttu-id="e9849-205">-ArtifactStagingDirectory</span><span class="sxs-lookup"><span data-stu-id="e9849-205">-ArtifactStagingDirectory</span></span> |<span data-ttu-id="e9849-206">Tento parametr umožňuje skript prostředí PowerShell hello vědět hello složku, ze kterých by se měl zkopírovat binární soubory hello projektu.</span><span class="sxs-lookup"><span data-stu-id="e9849-206">This parameter lets hello PowerShell script know hello folder from where hello project’s binary files should be copied.</span></span> <span data-ttu-id="e9849-207">Tato hodnota přepíše hello výchozí hodnota používaná metodou hello skript prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e9849-207">This value overrides hello default value used by hello PowerShell script.</span></span> <span data-ttu-id="e9849-208">Pro Visual Studio Team Services používat, nastavte hodnotu hello: - ArtifactStagingDirectory $(Build.StagingDirectory)</span><span class="sxs-lookup"><span data-stu-id="e9849-208">For VS Team Services use, set hello value to: -ArtifactStagingDirectory $(Build.StagingDirectory)</span></span> |
   
   <span data-ttu-id="e9849-209">Tady je příklad skriptu argumenty (řádku přerušený čitelnější):</span><span class="sxs-lookup"><span data-stu-id="e9849-209">Here’s a script arguments example (line broken for readability):</span></span>
   
   ```    
   -ResourceGroupName 'MyGroup' -ResourceGroupLocation 'eastus' -TemplateFile '..\templates\azuredeploy.json' 
   -TemplateParametersFile '..\templates\azuredeploy.parameters.json' -UploadArtifacts -StorageAccountName 'mystorageacct' 
   –StorageAccountResourceGroupName 'Default-Storage-EastUS' -ArtifactStagingDirectory '$(Build.StagingDirectory)'    
   ```
   
   <span data-ttu-id="e9849-210">Jakmile budete hotovi, hello **argumenty skriptu** pole by měla vypadat přibližně hello následující seznamu:</span><span class="sxs-lookup"><span data-stu-id="e9849-210">When you’re finished, hello **Script Arguments** box should resemble hello following list:</span></span>
   
   ![Argumenty skriptu][11]
9. <span data-ttu-id="e9849-212">Po přidání všech hello požadované položky toohello kroku sestavení Azure PowerShell, zvolte hello **fronty** tlačítko toobuild hello projekt sestavit.</span><span class="sxs-lookup"><span data-stu-id="e9849-212">After you’ve added all hello required items toohello Azure PowerShell build step, choose hello **Queue** build button toobuild hello project.</span></span> <span data-ttu-id="e9849-213">Hello **sestavení** obrazovka ukazuje výstup hello hello skript prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e9849-213">hello **Build** screen shows hello output from hello PowerShell script.</span></span>

### <a name="detailed-walkthrough-for-option-2"></a><span data-ttu-id="e9849-214">Podrobný návod pro možnost 2</span><span class="sxs-lookup"><span data-stu-id="e9849-214">Detailed walkthrough for Option 2</span></span>
<span data-ttu-id="e9849-215">Hello následující postupy vás provede procesem hello kroky nezbytné tooconfigure průběžné nasazování ve Visual Studio Team Services pomocí předdefinované úlohy hello.</span><span class="sxs-lookup"><span data-stu-id="e9849-215">hello following procedures walk you through hello steps necessary tooconfigure continuous deployment in VS Team Services using hello built-in tasks.</span></span>

1. <span data-ttu-id="e9849-216">Upravte vaše Visual Studio Team Services definice tooadd dva nové sestavení kroky sestavení.</span><span class="sxs-lookup"><span data-stu-id="e9849-216">Edit your VS Team Services build definition tooadd two new build steps.</span></span> <span data-ttu-id="e9849-217">Zvolte definici sestavení hello pod hello **sestavení definice** kategorie a potom zvolte hello **upravit** odkaz.</span><span class="sxs-lookup"><span data-stu-id="e9849-217">Choose hello build definition under hello **Build definitions** category and then choose hello **Edit** link.</span></span>
   
   ![Upravit definice sestavení][12]
2. <span data-ttu-id="e9849-219">Přidat hello nové kroky sestavení, toohello definici sestavení pomocí hello **krok sestavení přidat...**</span><span class="sxs-lookup"><span data-stu-id="e9849-219">Add hello new build steps toohello build definition using hello **Add build step…**</span></span> <span data-ttu-id="e9849-220">.</span><span class="sxs-lookup"><span data-stu-id="e9849-220">button.</span></span>
   
   ![Přidejte krok sestavení][13]
3. <span data-ttu-id="e9849-222">Zvolte hello **nasadit** kategorii úloh, vyberte hello **Azure File Copy** úkolů a potom vyberte jeho **přidat** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="e9849-222">Choose hello **Deploy** task category, select hello **Azure File Copy** task, and then choose its **Add** button.</span></span>
   
   ![Přidat úloha Azure File Copy][14]
4. <span data-ttu-id="e9849-224">Zvolte hello **nasazení skupiny prostředků Azure** úkolů, a potom vyberte jeho **přidat** tlačítko a potom **Zavřít** hello **úloha katalogu**.</span><span class="sxs-lookup"><span data-stu-id="e9849-224">Choose hello **Azure Resource Group Deployment** task, then choose its **Add** button and then **Close** hello **Task Catalog**.</span></span>
   
   ![Přidat úloha nasazení skupiny prostředků Azure][15]
5. <span data-ttu-id="e9849-226">Zvolte hello **Azure File Copy** úloh a zadejte jeho hodnoty.</span><span class="sxs-lookup"><span data-stu-id="e9849-226">Choose hello **Azure File Copy** task and fill in its values.</span></span>
   
   <span data-ttu-id="e9849-227">Pokud již máte koncový bod služby Azure přidali tooVS Team Services, zvolte předplatné hello v hello **předplatné Azure** rozevíracího seznamu.</span><span class="sxs-lookup"><span data-stu-id="e9849-227">If you already have an Azure service endpoint added tooVS Team Services, choose hello subscription in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="e9849-228">Pokud nemáte předplatné, přečtěte si téma [možnost 1](#detailed-walkthrough-for-option-1) pokyny k nastavení jeden ve Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="e9849-228">If you do not have a subscription, see [Option 1](#detailed-walkthrough-for-option-1) for instructions on setting one up in VS Team Services.</span></span>
   
   * <span data-ttu-id="e9849-229">Zdroj – zadejte **$(Build.StagingDirectory)**</span><span class="sxs-lookup"><span data-stu-id="e9849-229">Source - enter **$(Build.StagingDirectory)**</span></span>
   * <span data-ttu-id="e9849-230">Azure typu připojení – vyberte **Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="e9849-230">Azure Connection Type - select **Azure Resource Manager**</span></span>
   * <span data-ttu-id="e9849-231">Předplatné Azure RM - vyberte hello předplatné pro účet úložiště hello chcete toouse v hello **předplatné Azure** rozevíracího seznamu.</span><span class="sxs-lookup"><span data-stu-id="e9849-231">Azure RM Subscription - select hello subscription for hello storage account you want toouse in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="e9849-232">Pokud se nezobrazí hello předplatného, zvolte hello **aktualizovat** tlačítko Další hello **spravovat** odkaz.</span><span class="sxs-lookup"><span data-stu-id="e9849-232">If hello subscription doesn't appear, choose hello **Refresh** button next hello **Manage** link.</span></span>
   * <span data-ttu-id="e9849-233">Cílový typ - vyberte **objektů Blob v Azure**</span><span class="sxs-lookup"><span data-stu-id="e9849-233">Destination Type - select **Azure Blob**</span></span>
   * <span data-ttu-id="e9849-234">RM účet úložiště – vyberte účet úložiště hello byste chtěli toouse pro přípravu artefaktů</span><span class="sxs-lookup"><span data-stu-id="e9849-234">RM Storage Account - select hello storage account you would like toouse for staging artifacts</span></span>
   * <span data-ttu-id="e9849-235">Název kontejneru – zadejte název hello hello kontejneru byste chtěli toouse pro pracovní; může být jakýkoli název kontejneru platný, ale používat jeden vyhrazený toothis definici sestavení</span><span class="sxs-lookup"><span data-stu-id="e9849-235">Container Name - enter hello name of hello container you would like toouse for staging; it can be any valid container name, but use one dedicated toothis build definition</span></span>
   
   <span data-ttu-id="e9849-236">Pro hodnoty výstup hello:</span><span class="sxs-lookup"><span data-stu-id="e9849-236">For hello output values:</span></span>
   
   * <span data-ttu-id="e9849-237">Zadejte kontejner úložiště URI - **artifactsLocation**</span><span class="sxs-lookup"><span data-stu-id="e9849-237">Storage Container URI - enter **artifactsLocation**</span></span>
   * <span data-ttu-id="e9849-238">Token SAS pro kontejner úložiště – zadejte **artifactsLocationSasToken**</span><span class="sxs-lookup"><span data-stu-id="e9849-238">Storage Container SAS Token - enter **artifactsLocationSasToken**</span></span>
   
   ![Konfigurace úloze Azure File Copy][16]
6. <span data-ttu-id="e9849-240">Zvolte hello **nasazení skupiny prostředků Azure** kroku sestavení a pak zadejte jeho hodnoty.</span><span class="sxs-lookup"><span data-stu-id="e9849-240">Choose hello **Azure Resource Group Deployment** build step and then fill in its values.</span></span>
   
   * <span data-ttu-id="e9849-241">Azure typu připojení – vyberte **Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="e9849-241">Azure Connection Type - select **Azure Resource Manager**</span></span>
   * <span data-ttu-id="e9849-242">Předplatné Azure RM - vyberte hello předplatné pro nasazení v hello **předplatné Azure** rozevíracího seznamu.</span><span class="sxs-lookup"><span data-stu-id="e9849-242">Azure RM Subscription - select hello subscription for deployment in hello **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="e9849-243">To bude obvykle hello používá stejného předplatného v předchozím kroku hello</span><span class="sxs-lookup"><span data-stu-id="e9849-243">This will usually be hello same subscription used in hello previous step</span></span>
   * <span data-ttu-id="e9849-244">Akce – vyberte **vytvořit nebo aktualizovat skupinu prostředků**</span><span class="sxs-lookup"><span data-stu-id="e9849-244">Action - select **Create or Update Resource Group**</span></span>
   * <span data-ttu-id="e9849-245">Skupiny prostředků – vyberte skupinu prostředků nebo zadejte název hello novou skupinu prostředků pro nasazení hello</span><span class="sxs-lookup"><span data-stu-id="e9849-245">Resource Group - select a resource group or enter hello name of a new resource group for hello deployment</span></span>
   * <span data-ttu-id="e9849-246">Umístění – vyberte hello umístění pro skupinu prostředků hello</span><span class="sxs-lookup"><span data-stu-id="e9849-246">Location - select hello location for hello resource group</span></span>
   * <span data-ttu-id="e9849-247">Šablona – zadejte hello cesta a název hello šablony toobe nasazené předřazení **$(Build.StagingDirectory)**, například: **$(Build.StagingDirectory/DSC-CI/azuredeploy.json)**</span><span class="sxs-lookup"><span data-stu-id="e9849-247">Template - enter hello path and name of hello template toobe deployed prepending **$(Build.StagingDirectory)**, for example: **$(Build.StagingDirectory/DSC-CI/azuredeploy.json)**</span></span>
   * <span data-ttu-id="e9849-248">Zadejte parametry šablony - hello cesta a název toobe parametry hello používá, předřazení **$(Build.StagingDirectory)**, například: **$(Build.StagingDirectory/DSC-CI/azuredeploy.parameters.json)**</span><span class="sxs-lookup"><span data-stu-id="e9849-248">Template Parameters - enter hello path and name of hello parameters toobe used, prepending **$(Build.StagingDirectory)**, for example: **$(Build.StagingDirectory/DSC-CI/azuredeploy.parameters.json)**</span></span>
   * <span data-ttu-id="e9849-249">Přepsání parametry šablony – zadejte nebo zkopírujte a vložte následující kód hello:</span><span class="sxs-lookup"><span data-stu-id="e9849-249">Override Template Parameters - enter or copy and paste hello following code:</span></span>
     
     ```    
     -_artifactsLocation $(artifactsLocation) -_artifactsLocationSasToken (ConvertTo-SecureString -String "$(artifactsLocationSasToken)" -AsPlainText -Force)
     ```
     ![Konfigurace úlohy nasazení skupiny prostředků Azure][17]
7. <span data-ttu-id="e9849-251">Po přidání všech hello požadované položky, Uložit definici sestavení hello a zvolte **fronty nového sestavení** v horní části hello.</span><span class="sxs-lookup"><span data-stu-id="e9849-251">After you’ve added all hello required items, save hello build definition and choose **Queue new build** at hello top.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e9849-252">Další kroky</span><span class="sxs-lookup"><span data-stu-id="e9849-252">Next steps</span></span>
<span data-ttu-id="e9849-253">Čtení [přehled Azure Resource Manageru](azure-resource-manager/resource-group-overview.md) toolearn Další informace o Azure Resource Manageru a skupin prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="e9849-253">Read [Azure Resource Manager overview](azure-resource-manager/resource-group-overview.md) toolearn more about Azure Resource Manager and Azure resource groups.</span></span>

[0]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough1.png
[1]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough2.png
[2]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough3.png
[3]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough4.png
[4]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough5.png
[5]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough6.png
[8]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough9.png
[9]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough10.png
[10]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough11b.png
[11]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough12.png
[12]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough13.png
[13]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough14.png
[14]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough15.png
[15]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough16.png
[16]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough17.png
[17]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough18.png
