---
title: "aaaStage nasazení cloudové služby (Node.js) | Microsoft Docs"
description: "Zjistěte, jak toodeploy vaše aplikace Azure tooa pracovní prostředí, pak nasadíte tooa produkčním prostředí pomocí prohození virtuální IP (VIP)."
services: cloud-services
documentationcenter: nodejs
author: TomArcher
manager: routlaw
editor: 
ms.assetid: d65d26a6-b424-49cd-a88c-7ef46bb112a8
ms.service: cloud-services
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 08/17/2017
ms.author: tarcher
ms.openlocfilehash: 0656c84ac444a10f152f441265f85141347bf1fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="staging-an-application-in-azure"></a><span data-ttu-id="41d6a-103">Pracovní aplikace v Azure</span><span class="sxs-lookup"><span data-stu-id="41d6a-103">Staging an Application in Azure</span></span>
<span data-ttu-id="41d6a-104">Zabalené aplikace může být nasazený toohello pracovní prostředí v Azure toobe testována před přesunutím toohello produkční prostředí, ve které hello je přístupná v hello Internetové aplikace.</span><span class="sxs-lookup"><span data-stu-id="41d6a-104">A packaged application can be deployed toohello staging environment in Azure toobe tested before you move it toohello production environment in which hello application is accessible on hello Internet.</span></span> <span data-ttu-id="41d6a-105">Je pracovní prostředí je úplně stejně jako hello provozním prostředí, ale můžete jen přístup hello dvoufázové instalace aplikace s zkomolené adresu URL, který je generovaný Azure.</span><span class="sxs-lookup"><span data-stu-id="41d6a-105">The staging environment is exactly like hello production environment, except that you can only access hello staged application with an obfuscated URL that is generated by Azure.</span></span> <span data-ttu-id="41d6a-106">Po ověření, že aplikace funguje správně, může být nasazený toohello provozním prostředí provedením prohození virtuální IP (VIP).</span><span class="sxs-lookup"><span data-stu-id="41d6a-106">After you have verified that your application is working correctly, it can be deployed toohello production environment by performing a Virtual IP (VIP) swap.</span></span>

> [!NOTE]
> <span data-ttu-id="41d6a-107">Hello kroky v tomto článku se projeví pouze toonode aplikace hostované jako cloudová služba Azure.</span><span class="sxs-lookup"><span data-stu-id="41d6a-107">hello steps in this article only apply toonode applications hosted as an Azure Cloud Service.</span></span>
> 
> 

## <a name="step-1-stage-an-application"></a><span data-ttu-id="41d6a-108">Krok 1: Příprava aplikace</span><span class="sxs-lookup"><span data-stu-id="41d6a-108">Step 1: Stage an Application</span></span>
<span data-ttu-id="41d6a-109">Tato úloha popisuje, jak toostage aplikace pomocí hello **Microsoft Azure PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="41d6a-109">This task covers how toostage an application by using hello **Microsoft Azure PowerShell**.</span></span>

1. <span data-ttu-id="41d6a-110">Při publikování služby, stačí předat hello **-slotu** parametru hello **Publish-AzureServiceProject** rutiny.</span><span class="sxs-lookup"><span data-stu-id="41d6a-110">When publishing a service, simply pass hello **-Slot** parameter to hello **Publish-AzureServiceProject** cmdlet.</span></span>
   
   ```powershell
   Publish-AzureServiceProject -Slot staging
   ```
2. <span data-ttu-id="41d6a-111">Přihlaste se toohello [portál Azure classic] a vyberte **cloudové služby**.</span><span class="sxs-lookup"><span data-stu-id="41d6a-111">Log on toohello [Azure classic portal] and select **Cloud Services**.</span></span> <span data-ttu-id="41d6a-112">Po hello cloudové služby se vytvoří a hello **pracovní** stav sloupce byl aktualizován příliš**systémem**, klikněte na název služby hello.</span><span class="sxs-lookup"><span data-stu-id="41d6a-112">After hello cloud service is created and hello **Staging** column status has been updated too**Running**, click on hello service name.</span></span>
   
   ![portál zobrazení spuštěnou službu][cloud-service]
3. <span data-ttu-id="41d6a-114">Vyberte hello **řídicí panel**a potom vyberte **pracovní**.</span><span class="sxs-lookup"><span data-stu-id="41d6a-114">Select hello **Dashboard**, and then select **Staging**.</span></span>
   
   ![řídicí panel cloud service][cloud-service-dashboard]
4. <span data-ttu-id="41d6a-116">Poznamenejte si hodnotu hello v hello **adresa URL webu** položka toohello vpravo.</span><span class="sxs-lookup"><span data-stu-id="41d6a-116">Note hello value in hello **Site URL** entry toohello right.</span></span> <span data-ttu-id="41d6a-117">název DNS Hello je zkomolené interní ID, které generuje Azure.</span><span class="sxs-lookup"><span data-stu-id="41d6a-117">hello DNS name is an obfuscated internal ID that Azure generated.</span></span>
   
    ![Adresa url webu][cloud-service-staging-url]

<span data-ttu-id="41d6a-119">Nyní můžete ověřit, zda aplikace hello správně funguje v hello pracovní prostředí pomocí hello pracovní adresa URL webu.</span><span class="sxs-lookup"><span data-stu-id="41d6a-119">Now you can verify that hello application is working correctly in hello staging environment by using hello staging site URL.</span></span>

## <a name="step-2-upgrade-an-application-in-production-by-swapping-vips"></a><span data-ttu-id="41d6a-120">Krok 2: Upgrade aplikace v produkčním prostředí pomocí Prohazuje virtuální IP adresy</span><span class="sxs-lookup"><span data-stu-id="41d6a-120">Step 2: Upgrade an Application in Production by Swapping VIPs</span></span>
<span data-ttu-id="41d6a-121">Po ověření hello upgradovanou verzi aplikace v testovacím prostředí, můžete rychle zpřístupnit jej v produkčním prostředí pomocí odkládací hello virtuálních IP adres (VIP) hello pracovní a provozní prostředí.</span><span class="sxs-lookup"><span data-stu-id="41d6a-121">After you have verified hello upgraded version of an application in the staging environment, you can quickly make it available in production by swapping hello virtual IPs (VIPs) of hello staging and production environments.</span></span>

> [!NOTE]
> <span data-ttu-id="41d6a-122">Tento krok předpokládá, že jste již nasazení tooproduction aplikaci a připraví hello upgradovanou verzi aplikace.</span><span class="sxs-lookup"><span data-stu-id="41d6a-122">This step assumes that you have already deployed an application tooproduction and staged hello upgraded version of the application.</span></span>
> 
> 

1. <span data-ttu-id="41d6a-123">Přihlaste se k hello [portál Azure classic], klikněte na tlačítko **cloudové služby** a pak vyberte název služby hello.</span><span class="sxs-lookup"><span data-stu-id="41d6a-123">Log into hello [Azure classic portal], click **Cloud Services** and then select hello service name.</span></span>
2. <span data-ttu-id="41d6a-124">Z hello **řídicí panel**, vyberte **pracovní**a potom klikněte na **odkládacího souboru** v hello dolní části stránky hello.</span><span class="sxs-lookup"><span data-stu-id="41d6a-124">From hello **Dashboard**, select **Staging**, and then click **Swap** at hello bottom of hello page.</span></span> <span data-ttu-id="41d6a-125">Otevře se dialogové okno prohození hello.</span><span class="sxs-lookup"><span data-stu-id="41d6a-125">This opens hello VIP Swap dialog.</span></span>
   
   ![Dialogové okno prohození virtuální IP adresy][vip-swap-dialog]
3. <span data-ttu-id="41d6a-127">Zkontrolujte hello informace a pak klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="41d6a-127">Review hello information, and then click **OK**.</span></span> <span data-ttu-id="41d6a-128">dvě nasazení Hello začít aktualizace jako pracovní nasazení přepínače tooproduction a hello produkční nasazení přepínače toostaging hello.</span><span class="sxs-lookup"><span data-stu-id="41d6a-128">hello two deployments begin updating as hello staging deployment switches tooproduction and hello production deployment switches toostaging.</span></span>

<span data-ttu-id="41d6a-129">Úspěšně jste připravený nasazení a upgradovat produkční nasazení přes vzájemná záměna virtuální IP adresy s nasazováním hello v pracovní.</span><span class="sxs-lookup"><span data-stu-id="41d6a-129">You have successfully staged a deployment and upgraded a production deployment by swapping VIPs with hello deployment in staging.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="41d6a-130">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="41d6a-130">Additional Resources</span></span>
* <span data-ttu-id="41d6a-131">[Jak tooDeploy Upgrade služby tooProduction podle vzájemná záměna virtuální IP adresy v Azure]</span><span class="sxs-lookup"><span data-stu-id="41d6a-131">[How tooDeploy a Service Upgrade tooProduction by Swapping VIPs in Azure]</span></span>

[portál Azure classic]: http://manage.windowsazure.com
[cloud-service]: ./media/cloud-services-nodejs-stage-application/staging-cloud-service-running.png
[cloud-service-dashboard]: ./media/cloud-services-nodejs-stage-application/cloud-service-dashboard-staging.png
[cloud-service-staging-url]: ./media/cloud-services-nodejs-stage-application/cloud-service-staging-url.png
[vip-swap-dialog]: ./media/cloud-services-nodejs-stage-application/vip-swap-dialog.png
[Jak tooDeploy Upgrade služby tooProduction podle vzájemná záměna virtuální IP adresy v Azure]: cloud-services-how-to-manage.md#how-to-swap-deployments-to-promote-a-staged-deployment-to-production
