---
title: "Osvědčené postupy pro službu Azure SQL Data Warehouse | Dokumentace Microsoftu"
description: "Doporučení a osvědčené postupy, které byste měli znát, když budete vyvíjet řešení pro službu Azure SQL Data Warehouse. Pomohou vám stát se úspěšnými."
services: sql-data-warehouse
documentationcenter: NA
author: shivaniguptamsft
manager: jhubbard
editor: 
ms.assetid: 7b698cad-b152-4d33-97f5-5155dfa60f79
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: get-started-article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: performance
ms.date: 10/31/2016
ms.author: shigu;barbkess
ms.openlocfilehash: c1fb0d8790d8c97ac45db02ac76403e7a80fae5d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="best-practices-for-azure-sql-data-warehouse"></a><span data-ttu-id="c4259-104">Osvědčené postupy pro službu Azure SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="c4259-104">Best practices for Azure SQL Data Warehouse</span></span>
<span data-ttu-id="c4259-105">Tento článek je kolekcí mnoha osvědčených postupů, které vám pomohou dosáhnout optimálního výkonu vaší služby Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c4259-105">This article is a collection of many best practices that will help you to achieve optimal performance from your Azure SQL Data Warehouse.</span></span>  <span data-ttu-id="c4259-106">Některé koncepty v tomto článku jsou základní a snadno se vysvětlují, další koncepty jsou pokročilejší a v tomto článku se jich jenom lehce dotýkáme.</span><span class="sxs-lookup"><span data-stu-id="c4259-106">Some of the concepts in this article are basic and easy to explain, other concepts are more advanced and we just scratch the surface in this article.</span></span>  <span data-ttu-id="c4259-107">Účelem tohoto článku je poskytnout vám základní pokyny a zvýšit povědomí o důležitých oblastech, na které byste se měli zaměřit, když budete sestavovat svůj datový sklad.</span><span class="sxs-lookup"><span data-stu-id="c4259-107">The purpose of this article is to give you some basic guidance and to raise awareness of important areas to focus as you build your data warehouse.</span></span>  <span data-ttu-id="c4259-108">Každá část vám představí nějaký koncept a odkáže vás na podrobnější články, které se danému konceptu věnují více do hloubky.</span><span class="sxs-lookup"><span data-stu-id="c4259-108">Each section introduces you to a concept and then point you to more detailed articles which cover the concept in more depth.</span></span>

<span data-ttu-id="c4259-109">Pokud se službou Azure SQL Data Warehouse teprve začínáte, nenechte se tímto článkem zahltit.</span><span class="sxs-lookup"><span data-stu-id="c4259-109">If you are just getting started with Azure SQL Data Warehouse, do not let this article overwhelm you.</span></span>  <span data-ttu-id="c4259-110">Témata jsou uspořádaná především podle důležitosti.</span><span class="sxs-lookup"><span data-stu-id="c4259-110">The sequence of the topics is mostly in the order of importance.</span></span>  <span data-ttu-id="c4259-111">Pokud se zpočátku zaměříte na prvních pár konceptů, bude vám to úplně stačit.</span><span class="sxs-lookup"><span data-stu-id="c4259-111">If you start by focusing on the first few concepts, you'll be in good shape.</span></span>  <span data-ttu-id="c4259-112">Až budete o službě SQL Data Warehouse vědět víc a budete si jistější, vraťte se a prozkoumejte pár dalších konceptů.</span><span class="sxs-lookup"><span data-stu-id="c4259-112">As you get more familiar and comfortable with using SQL Date Warehouse, come back and look at a few more concepts.</span></span>  <span data-ttu-id="c4259-113">Nebude to trvat dlouho a všechno začne dávat smysl.</span><span class="sxs-lookup"><span data-stu-id="c4259-113">It won't take long for everything to make sense.</span></span>

## <a name="reduce-cost-with-pause-and-scale"></a><span data-ttu-id="c4259-114">Snižte náklady pomocí pozastavení a škálování</span><span class="sxs-lookup"><span data-stu-id="c4259-114">Reduce cost with pause and scale</span></span>
<span data-ttu-id="c4259-115">Klíčovou funkcí služby SQL Data Warehouse je schopnost pozastavit se, když ji zrovna nepoužíváte, a zastavit tak účtování výpočetních prostředků.</span><span class="sxs-lookup"><span data-stu-id="c4259-115">A key feature of SQL Data Warehouse is the ability to pause when you are not using it, which stops the billing of compute resources.</span></span>  <span data-ttu-id="c4259-116">Další klíčovou funkcí je schopnost škálovat prostředky.</span><span class="sxs-lookup"><span data-stu-id="c4259-116">Another key feature is the ability to scale resources.</span></span>  <span data-ttu-id="c4259-117">Pozastavení a škálování můžete provádět přes Azure Portal nebo prostřednictvím příkazů prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c4259-117">Pausing and Scaling can be done via the Azure portal or through PowerShell commands.</span></span>  <span data-ttu-id="c4259-118">S těmito funkcemi se důkladně seznamte, protože mohou výrazně snížit náklady na datový sklad, když se zrovna nevyužívá.</span><span class="sxs-lookup"><span data-stu-id="c4259-118">Become familiar with these features as they can greatly reduce the cost of your data warehouse when it is not in use.</span></span>  <span data-ttu-id="c4259-119">Pokud chcete, aby váš datový sklad byl neustále přístupný, můžete zvážit vertikální snížení jeho kapacity na nejmenší možnou velikost DW100 místo jeho pozastavení.</span><span class="sxs-lookup"><span data-stu-id="c4259-119">If you always want your data warehouse accessible, you may want to consider scaling it down to the smallest size, a DW100 rather than pausing.</span></span>

<span data-ttu-id="c4259-120">Viz také [Pozastavení výpočetních prostředků][Pause compute resources], [Obnovení výpočetních prostředků][Resume compute resources], [Škálování výpočetních prostředků].</span><span class="sxs-lookup"><span data-stu-id="c4259-120">See also [Pause compute resources][Pause compute resources], [Resume compute resources][Resume compute resources], [Scale compute resources].</span></span>

## <a name="drain-transactions-before-pausing-or-scaling"></a><span data-ttu-id="c4259-121">Vypusťte transakce před pozastavením nebo škálováním</span><span class="sxs-lookup"><span data-stu-id="c4259-121">Drain transactions before pausing or scaling</span></span>
<span data-ttu-id="c4259-122">Když službu SQL Data Warehouse pozastavíte nebo škálujete, při vytvoření požadavku na pozastavení nebo škálování se na pozadí zruší vaše dotazy.</span><span class="sxs-lookup"><span data-stu-id="c4259-122">When you pause or scale your SQL Data Warehouse, behind the scenes your queries are canceled when you initiate the pause or scale request.</span></span>  <span data-ttu-id="c4259-123">Zrušení jednoduchého dotazu SELECT je rychlá operace a nemá téměř žádný vliv na čas potřebný k pozastavení nebo škálování instance.</span><span class="sxs-lookup"><span data-stu-id="c4259-123">Canceling a simple SELECT query is a quick operation and has almost no impact to the time it takes to pause or scale your instance.</span></span>  <span data-ttu-id="c4259-124">Nicméně zastavení transakčních dotazů, které upravují data nebo strukturu dat, může trvat mnohem déle.</span><span class="sxs-lookup"><span data-stu-id="c4259-124">However, transactional queries, which modify your data or the structure of the data, may not be able to stop quickly.</span></span>  <span data-ttu-id="c4259-125">**Transakční dotazy se podle definice musí dokončit v celém rozsahu, nebo musí vrátit zpět provedené změny.**</span><span class="sxs-lookup"><span data-stu-id="c4259-125">**Transactional queries, by definition, must either complete in their entirety or rollback their changes.**</span></span>  <span data-ttu-id="c4259-126">Vracení dokončené práce transakčního dotazu zpět může trvat stejně dlouho nebo dokonce déle, než původní změna, kterou dotaz prováděl.</span><span class="sxs-lookup"><span data-stu-id="c4259-126">Rolling back the work completed by a transactional query can take as long, or even longer, than the original change the query was applying.</span></span>  <span data-ttu-id="c4259-127">Například pokud zrušíte dotaz, který odstraňoval řádky a už hodinu běžel, může systému hodinu trvat, než odstraněné řádky vloží zpět.</span><span class="sxs-lookup"><span data-stu-id="c4259-127">For example, if you cancel a query which was deleting rows and has already been running for an hour, it could take the system an hour to insert back the rows which were deleted.</span></span>  <span data-ttu-id="c4259-128">Pokud spustíte pozastavení nebo škálování zatímco probíhají transakce, může to vypadat, že vaše pozastavení nebo škálování trvá dlouho, protože pozastavení a škálování musí počkat na dokončení odvolání transakce, než budou moci pokračovat.</span><span class="sxs-lookup"><span data-stu-id="c4259-128">If you run pause or scaling while transactions are in flight, your pause or scaling may seem to take a long time because pausing and scaling has to wait for the rollback to complete before it can proceed.</span></span>

<span data-ttu-id="c4259-129">Viz také [Vysvětlení transakcí][Understanding transactions], [Optimalizace transakcí][Optimizing transactions].</span><span class="sxs-lookup"><span data-stu-id="c4259-129">See also [Understanding transactions][Understanding transactions], [Optimizing transactions][Optimizing transactions]</span></span>

## <a name="maintain-statistics"></a><span data-ttu-id="c4259-130">Udržujte statistiky</span><span class="sxs-lookup"><span data-stu-id="c4259-130">Maintain statistics</span></span>
<span data-ttu-id="c4259-131">Na rozdíl od systému SQL Server, který automaticky detekuje a vytváří nebo aktualizuje statistiky nad sloupci, služba SQL Data Warehouse vyžaduje ruční údržbu statistik.</span><span class="sxs-lookup"><span data-stu-id="c4259-131">Unlike SQL Server, which automatically detects and creates or updates statistics on columns, SQL Data Warehouse requires manual maintenance of statistics.</span></span>  <span data-ttu-id="c4259-132">I když to do budoucna plánujeme změnit, zatím si budete muset udržovat statistiky pro zajištění optimalizace plánů služby SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c4259-132">While we do plan to change this in the future, for now you will want to maintain your statistics to ensure that the SQL Data Warehouse plans are optimized.</span></span>  <span data-ttu-id="c4259-133">Plány vytvořené optimalizátorem jsou jenom tak dobré jako dostupné statistiky.</span><span class="sxs-lookup"><span data-stu-id="c4259-133">The plans created by the optimizer are only as good as the available statistics.</span></span>  <span data-ttu-id="c4259-134">**Vytvoření vzorkové statistiky nad každým sloupcem je snadný způsob, jak začít se statistikami.**</span><span class="sxs-lookup"><span data-stu-id="c4259-134">**Creating sampled statistics on every column is an easy way to get started with statistics.**</span></span>  <span data-ttu-id="c4259-135">Stejně důležité je aktualizovat statistiky, když dojde k významným změnám vašich dat.</span><span class="sxs-lookup"><span data-stu-id="c4259-135">It's equally important to update statistics as significant changes happen to your data.</span></span>  <span data-ttu-id="c4259-136">Konzervativní přístup může být denní aktualizace statistik nebo aktualizace po každém načtení.</span><span class="sxs-lookup"><span data-stu-id="c4259-136">A conservative approach may be to update your statistics daily or after each load.</span></span>  <span data-ttu-id="c4259-137">Vždy existují kompromisy mezi výkonem a náklady na vytvoření a aktualizaci statistik.</span><span class="sxs-lookup"><span data-stu-id="c4259-137">There are always trade-offs between performance and the cost to create and update statistics.</span></span> <span data-ttu-id="c4259-138">Pokud si myslíte, že údržba všech vašich statistik trvá příliš dlouho, možná byste měli pečlivěji vybírat sloupce, které mají statistiky, nebo sloupce, které vyžadují časté aktualizace.</span><span class="sxs-lookup"><span data-stu-id="c4259-138">If you find it is taking too long to maintain all of your statistics, you may want to try to be more selective about which columns have statistics or which columns need frequent updating.</span></span>  <span data-ttu-id="c4259-139">Například můžete chtít denně aktualizovat sloupce s datem, do kterých se mohou přidávat nové hodnoty.</span><span class="sxs-lookup"><span data-stu-id="c4259-139">For example, you might want to update date columns, where new values may be added, daily.</span></span> <span data-ttu-id="c4259-140">**Nejvíce výhod získáte tak, že budete mít statistiky nad sloupci používanými ve spojeních, sloupci používanými v klauzuli WHERE a sloupci používanými v příkazu GROUP BY.**</span><span class="sxs-lookup"><span data-stu-id="c4259-140">**You will gain the most benefit by having statistics on columns involved in joins, columns used in the WHERE clause and columns found in GROUP BY.**</span></span>

<span data-ttu-id="c4259-141">Viz také [Správa statistik tabulek][Manage table statistics], [CREATE STATISTICS][CREATE STATISTICS], [UPDATE STATISTICS][UPDATE STATISTICS].</span><span class="sxs-lookup"><span data-stu-id="c4259-141">See also [Manage table statistics][Manage table statistics], [CREATE STATISTICS][CREATE STATISTICS], [UPDATE STATISTICS][UPDATE STATISTICS]</span></span>

## <a name="group-insert-statements-into-batches"></a><span data-ttu-id="c4259-142">Seskupujte příkazy INSERT do dávek</span><span class="sxs-lookup"><span data-stu-id="c4259-142">Group INSERT statements into batches</span></span>
<span data-ttu-id="c4259-143">Pro jednorázové nahrávání do malé tabulky příkazem INSERT nebo dokonce i opakované načítání vyhledávání si můžete vystačit s příkazem jako třeba `INSERT INTO MyLookup VALUES (1, 'Type 1')`.</span><span class="sxs-lookup"><span data-stu-id="c4259-143">A one-time load to a small table with an INSERT statement or even a periodic reload of a look-up may perform just fine for your needs with a statement like `INSERT INTO MyLookup VALUES (1, 'Type 1')`.</span></span>  <span data-ttu-id="c4259-144">Pokud však v průběhu dne potřebujete načíst tisíce nebo miliony řádků, můžete zjistit, že vám příkazy INSERT s jedním prvkem jednoduše nestačí.</span><span class="sxs-lookup"><span data-stu-id="c4259-144">However, if you need to load thousands or millions of rows throughout the day, you might find that singleton INSERTS just can't keep up.</span></span>  <span data-ttu-id="c4259-145">Místo toho vyvíjejte své procesy tak, aby zapisovaly do souboru, který bude pravidelně kontrolovat a načítat další proces.</span><span class="sxs-lookup"><span data-stu-id="c4259-145">Instead, develop your processes so that they write to a file and another process periodically comes along and loads this file.</span></span>

<span data-ttu-id="c4259-146">Viz také [INSERT][INSERT].</span><span class="sxs-lookup"><span data-stu-id="c4259-146">See also [INSERT][INSERT]</span></span>

## <a name="use-polybase-to-load-and-export-data-quickly"></a><span data-ttu-id="c4259-147">Použijte PolyBase k rychlému načítání a exportu dat</span><span class="sxs-lookup"><span data-stu-id="c4259-147">Use PolyBase to load and export data quickly</span></span>
<span data-ttu-id="c4259-148">SQL Data Warehouse podporuje načítání a export dat prostřednictvím různých nástrojů, včetně Azure Data Factory, PolyBase a BCP.</span><span class="sxs-lookup"><span data-stu-id="c4259-148">SQL Data Warehouse supports loading and exporting data through several tools including Azure Data Factory, PolyBase, and BCP.</span></span>  <span data-ttu-id="c4259-149">Pro malá množství dat, kde není výkon tak důležitý, by vám měl stačit libovolný nástroj.</span><span class="sxs-lookup"><span data-stu-id="c4259-149">For small amounts of data where performance isn't critical, any tool may be sufficient for your needs.</span></span>  <span data-ttu-id="c4259-150">Když však načítáte nebo exportujete velká množství dat nebo vyžadujete vysoký výkon, nejlepší volbou je PolyBase.</span><span class="sxs-lookup"><span data-stu-id="c4259-150">However, when you are loading or exporting large volumes of data or fast performance is needed, PolyBase is the best choice.</span></span>  <span data-ttu-id="c4259-151">PolyBase je navržena pro využití architektury MPP (Massively Parallel Processing) služby SQL Data Warehouse a proto bude načítat a exportovat data řádově rychleji, než jakýkoli jiný nástroj.</span><span class="sxs-lookup"><span data-stu-id="c4259-151">PolyBase is designed to leverage the MPP (Massively Parallel Processing) architecture of SQL Data Warehouse and will therefore load and export data magnitudes faster than any other tool.</span></span>  <span data-ttu-id="c4259-152">Úlohy funkce PolyBase můžete spustit pomocí příkazů CTAS nebo INSERT INTO.</span><span class="sxs-lookup"><span data-stu-id="c4259-152">PolyBase loads can be run using CTAS or INSERT INTO.</span></span>  <span data-ttu-id="c4259-153">**Použití příkazu CTAS minimalizuje protokolování transakce a je to nejrychlejší způsob, jak načíst vaše data.**</span><span class="sxs-lookup"><span data-stu-id="c4259-153">**Using CTAS will minimize transaction logging and the fastest way to load your data.**</span></span>  <span data-ttu-id="c4259-154">Azure Data Factory také podporuje úlohy funkce PolyBase.</span><span class="sxs-lookup"><span data-stu-id="c4259-154">Azure Data Factory also supports PolyBase loads.</span></span>  <span data-ttu-id="c4259-155">PolyBase podporuje řadu formátů souborů, včetně souborů GZip.</span><span class="sxs-lookup"><span data-stu-id="c4259-155">PolyBase supports a variety of file formats including Gzip files.</span></span>  <span data-ttu-id="c4259-156">**Pro maximalizaci propustnosti při použití textových souborů GZip rozdělte soubory na 60 nebo více souborů, čímž maximalizujete paralelismus vaší úlohy.**</span><span class="sxs-lookup"><span data-stu-id="c4259-156">**To maximize throughput when using gzip text files, break files up into 60 or more files to maximize parallelism of your load.**</span></span>  <span data-ttu-id="c4259-157">Pro rychlejší celkovou propustnost zvažte souběžné načítání dat.</span><span class="sxs-lookup"><span data-stu-id="c4259-157">For faster total throughput, consider loading data concurrently.</span></span>

<span data-ttu-id="c4259-158">Viz také [Načtení dat][Load data], [Průvodce používáním funkce PolyBase][Guide for using PolyBase], [Vzory a strategie načítání služby Azure SQL Data Warehouse][Azure SQL Data Warehouse loading patterns and strategies], [Načtení dat pomocí služby Azure Data Factory][Load Data with Azure Data Factory], [Přesun dat pomocí služby Azure Data Factory][Move data with Azure Data Factory], [CREATE EXTERNAL FILE FORMAT][CREATE EXTERNAL FILE FORMAT], [CREATE TABLE AS SELECT (CTAS)][Create table as select (CTAS)].</span><span class="sxs-lookup"><span data-stu-id="c4259-158">See also [Load data][Load data], [Guide for using PolyBase][Guide for using PolyBase], [Azure SQL Data Warehouse loading patterns and strategies][Azure SQL Data Warehouse loading patterns and strategies], [Load Data with Azure Data Factory][Load Data with Azure Data Factory], [Move data with Azure Data Factory][Move data with Azure Data Factory], [CREATE EXTERNAL FILE FORMAT][CREATE EXTERNAL FILE FORMAT], [Create table as select (CTAS)][Create table as select (CTAS)]</span></span>

## <a name="load-then-query-external-tables"></a><span data-ttu-id="c4259-159">Načtěte a následně dotazujte externí tabulky</span><span class="sxs-lookup"><span data-stu-id="c4259-159">Load then query external tables</span></span>
<span data-ttu-id="c4259-160">Přestože lze PolyBase (také označovanou jako externí tabulky) považovat za nejrychlejší způsob načítání dat, není ideální pro dotazy.</span><span class="sxs-lookup"><span data-stu-id="c4259-160">While Polybase, also known as external tables, can be the fastest way to load data, it is not optimal for queries.</span></span> <span data-ttu-id="c4259-161">Tabulky PolyBase služby SQL Data Warehouse aktuálně podporují pouze soubory Azure blob.</span><span class="sxs-lookup"><span data-stu-id="c4259-161">SQL Data Warehouse Polybase tables currently only support Azure blob files.</span></span> <span data-ttu-id="c4259-162">Tyto soubory nemají podporu v žádných výpočetních prostředcích.</span><span class="sxs-lookup"><span data-stu-id="c4259-162">These files do not have any compute resources backing them.</span></span>  <span data-ttu-id="c4259-163">Z toho důvodu služba SQL Data Warehouse nemůže tuto práci přesměrovat a proto musí číst celý soubor. Aby mohla data číst, načte celý soubor do dočasné tabulky tepmdb.</span><span class="sxs-lookup"><span data-stu-id="c4259-163">As a result, SQL Data Warehouse cannot offload this work and therefore must read the entire file by loading it to tempdb in order to read the data.</span></span>  <span data-ttu-id="c4259-164">Proto pokud máte několik dotazů, které budou tato data dotazovat, je lepší data jednou nahrát a nastavit dotazy, aby používaly místní tabulku.</span><span class="sxs-lookup"><span data-stu-id="c4259-164">Therefore, if you have several queries that will be querying this data, it is better to load this data once and have queries use the local table.</span></span>

<span data-ttu-id="c4259-165">Viz také [Průvodce používáním funkce PolyBase][Guide for using PolyBase].</span><span class="sxs-lookup"><span data-stu-id="c4259-165">See also [Guide for using PolyBase][Guide for using PolyBase]</span></span>

## <a name="hash-distribute-large-tables"></a><span data-ttu-id="c4259-166">Distribuujte velké tabulky pomocí hodnot hash</span><span class="sxs-lookup"><span data-stu-id="c4259-166">Hash distribute large tables</span></span>
<span data-ttu-id="c4259-167">Ve výchozím nastavení jsou tabulky distribuované metodou kruhového dotazování.</span><span class="sxs-lookup"><span data-stu-id="c4259-167">By default, tables are Round Robin distributed.</span></span>  <span data-ttu-id="c4259-168">To umožňuje uživatelům jednoduše začít vyvářet tabulky, aniž by se museli rozhodovat, jakým způsobem se mají jejich tabulky distribuovat.</span><span class="sxs-lookup"><span data-stu-id="c4259-168">This makes it easy for users to get started creating tables without having to decide how their tables should be distributed.</span></span>  <span data-ttu-id="c4259-169">Výkon tabulek kruhového dotazování může být pro některé úlohy dostatečný, ale ve většině případů bude lépe fungovat výběr distribučního sloupce.</span><span class="sxs-lookup"><span data-stu-id="c4259-169">Round Robin tables may perform sufficiently for some workloads, but in most cases selecting a distribution column will perform much better.</span></span>  <span data-ttu-id="c4259-170">Nejběžnějším příkladem, kdy tabulka distribuovaná podle sloupce zdaleka překoná tabulku kruhového dotazování, je spojení dvou velkých tabulek faktů.</span><span class="sxs-lookup"><span data-stu-id="c4259-170">The most common example of when a table distributed by a column will far outperform a Round Robin table is when two large fact tables are joined.</span></span>  <span data-ttu-id="c4259-171">Například pokud máte tabulku objednávek, která se distribuuje podle sloupce id_objednavky a tabulku transakcí, která se také distribuuje podle sloupce id_objednavky, a provedete spojení tabulky objednávek s tabulkou transakcí podle sloupce id_objednavky, z dotazu se stane předávací dotaz, to znamená, že eliminujeme operace přesunu dat.</span><span class="sxs-lookup"><span data-stu-id="c4259-171">For example, if you have an orders table, which is distributed by order_id, and a transactions table, which is also distributed by order_id, when you join your orders table to your transactions table on order_id, this query becomes a pass-through query, which means we eliminate data movement operations.</span></span>  <span data-ttu-id="c4259-172">Méně kroků znamená rychlejší dotaz.</span><span class="sxs-lookup"><span data-stu-id="c4259-172">Fewer steps mean a faster query.</span></span>  <span data-ttu-id="c4259-173">Méně přesunů dat také přispívá ke zrychlení dotazů.</span><span class="sxs-lookup"><span data-stu-id="c4259-173">Less data movement also makes for faster queries.</span></span>  <span data-ttu-id="c4259-174">Toto vysvětlení je velmi zjednodušené.</span><span class="sxs-lookup"><span data-stu-id="c4259-174">This explanation just scratches the surface.</span></span> <span data-ttu-id="c4259-175">Při načítání distribuované tabulky se ujistěte, že příchozí data nejsou seřazená podle distribučního klíče, zpomalilo by to načítání.</span><span class="sxs-lookup"><span data-stu-id="c4259-175">When loading a distributed table, be sure that your incoming data is not sorted on the distribution key as this will slow down your loads.</span></span>  <span data-ttu-id="c4259-176">Níže najdete odkazy na mnohem podrobnější informace o tom, jak výběr distribučního sloupce může zvýšit výkon, a jak nadefinovat distribuovanou tabulku v klauzuli WITH příkazu CREATE TABLES.</span><span class="sxs-lookup"><span data-stu-id="c4259-176">See the below links for much more details on how selecting a distribution column can improve performance as well as how to define a distributed table in the WITH clause of your CREATE TABLES statement.</span></span>

<span data-ttu-id="c4259-177">Viz také [Přehled tabulek][Table overview], [Distribuce tabulky][Table distribution], [Výběr distribuce tabulky][Selecting table distribution], [CREATE TABLE][CREATE TABLE], [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT].</span><span class="sxs-lookup"><span data-stu-id="c4259-177">See also [Table overview][Table overview], [Table distribution][Table distribution], [Selecting table distribution][Selecting table distribution], [CREATE TABLE][CREATE TABLE], [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT]</span></span>

## <a name="do-not-over-partition"></a><span data-ttu-id="c4259-178">Nevytvářejte zbytečně moc oddílů</span><span class="sxs-lookup"><span data-stu-id="c4259-178">Do not over-partition</span></span>
<span data-ttu-id="c4259-179">Přestože dělení dat může být velice efektivní pro udržování dat prostřednictvím přepínání oddílů nebo optimalizace prohledávání pomocí eliminace oddílů, příliš mnoho oddílů může zpomalit vaše dotazy.</span><span class="sxs-lookup"><span data-stu-id="c4259-179">While partitioning data can be very effective for maintaining your data through partition switching or optimizing scans by with partition elimination, having too many partitions can slow down your queries.</span></span>  <span data-ttu-id="c4259-180">Strategie vysoce členitého dělení, která může dobře fungovat v systému SQL Server, často nemusí fungovat dobře ve službě SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c4259-180">Often a high granularity partitioning strategy which may work well on SQL Server may not work well on SQL Data Warehouse.</span></span>  <span data-ttu-id="c4259-181">Pokud máte příliš mnoho oddílů, může se také snížit efektivita clusterovaných indexů columnstore, pokud má každý oddíl méně než 1 milion řádků.</span><span class="sxs-lookup"><span data-stu-id="c4259-181">Having too many partitions can also reduce the effectiveness of clustered columnstore indexes if each partition has fewer than 1 million rows.</span></span>  <span data-ttu-id="c4259-182">Mějte na paměti, že služba SQL Data Warehouse za vás na pozadí dělí data do 60 databází, takže pokud vytvoříte tabulku se 100 oddíly, výsledkem bude ve skutečnosti 6000 oddílů.</span><span class="sxs-lookup"><span data-stu-id="c4259-182">Keep in mind that behind the scenes, SQL Data Warehouse partitions your data for you into 60 databases, so if you create a table with 100 partitions, this actually results in 6000 partitions.</span></span>  <span data-ttu-id="c4259-183">Každá úloha je jiná, takže nejlepší rada je, abyste s dělením experimentovali a zjistili, co je pro vaši úlohu nejvhodnější.</span><span class="sxs-lookup"><span data-stu-id="c4259-183">Each workload is different so the best advice is to experiment with partitioning to see what works best for your workload.</span></span>  <span data-ttu-id="c4259-184">Zvažte použití nižší členitosti, než jaká by pro vás byla vhodná v systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c4259-184">Consider lower granularity than what may have worked for you in SQL Server.</span></span>  <span data-ttu-id="c4259-185">Například místo denního dělení zvažte použití týdenního nebo měsíčního dělení.</span><span class="sxs-lookup"><span data-stu-id="c4259-185">For example, consider using weekly or monthly partitions rather than daily partitions.</span></span>

<span data-ttu-id="c4259-186">Viz také [Dělení tabulky][Table partitioning].</span><span class="sxs-lookup"><span data-stu-id="c4259-186">See also [Table partitioning][Table partitioning]</span></span>

## <a name="minimize-transaction-sizes"></a><span data-ttu-id="c4259-187">Minimalizujte velikosti transakcí</span><span class="sxs-lookup"><span data-stu-id="c4259-187">Minimize transaction sizes</span></span>
<span data-ttu-id="c4259-188">Příkazy INSERT, UPDATE a DELETE se spouštějí v rámci transakce, a když selžou, musí se transakce odvolat.</span><span class="sxs-lookup"><span data-stu-id="c4259-188">INSERT, UPDATE, and DELETE statements run in a transaction and when they fail they must be rolled back.</span></span>  <span data-ttu-id="c4259-189">Abyste minimalizovali potenciální dlouhé odvolávání, minimalizujte velikost transakcí kdykoli je to možné.</span><span class="sxs-lookup"><span data-stu-id="c4259-189">To minimize the potential for a long rollback, minimize transaction sizes whenever possible.</span></span>  <span data-ttu-id="c4259-190">Můžete to provést rozdělením příkazů INSERT, UPDATE a DELETE na části.</span><span class="sxs-lookup"><span data-stu-id="c4259-190">This can be done by dividing INSERT, UPDATE, and DELETE statements into parts.</span></span>  <span data-ttu-id="c4259-191">Například pokud máte příkaz INSERT a očekáváte, že se bude vykonávat 1 hodinu, tak pokud je to možné, rozdělte příkaz INSERT na 4 části, z nichž každá bude trvat 15 minut.</span><span class="sxs-lookup"><span data-stu-id="c4259-191">For example, if you have an INSERT which you expect to take 1 hour, if possible, break the INSERT up into 4 parts, which will each run in 15 minutes.</span></span>  <span data-ttu-id="c4259-192">Abyste snížili riziko odvolání transakce, využijte příkazy s minimálním protokolováním, například CTAS, TRUNCATE, DROP TABLE nebo INSERT k vyprázdnění tabulek.</span><span class="sxs-lookup"><span data-stu-id="c4259-192">Leverage special Minimal Logging cases, like CTAS, TRUNCATE, DROP TABLE or INSERT to empty tables, to reduce rollback risk.</span></span>  <span data-ttu-id="c4259-193">Dalším způsobem, jak eliminovat odvolávání transakcí, je použít ke správě dat operace pouze nad metadaty, jako třeba přepínání oddílů.</span><span class="sxs-lookup"><span data-stu-id="c4259-193">Another way to eliminate rollbacks is to use Metadata Only operations like partition switching for data management.</span></span>  <span data-ttu-id="c4259-194">Například místo provedení příkazu DELETE pro odstranění všech řádků v tabulce, kde datum_objednavky bylo Říjen 2001, můžete data dělit měsíčně a pak vyměnit oddíl s daty za prázdný oddíl z jiné tabulky (viz příklady příkazu ALTER TABLE).</span><span class="sxs-lookup"><span data-stu-id="c4259-194">For example, rather than execute a DELETE statement to delete all rows in a table where the order_date was in October of 2001, you could partition your data monthly and then switch out the partition with data for an empty partition from another table (see ALTER TABLE examples).</span></span>  <span data-ttu-id="c4259-195">U tabulek bez oddílů zvažte místo příkazu DELETE použití příkazu CTAS k zápisu dat, která chcete v tabulce uchovat.</span><span class="sxs-lookup"><span data-stu-id="c4259-195">For unpartitioned tables consider using a CTAS to write the data you want to keep in a table rather than using DELETE.</span></span>  <span data-ttu-id="c4259-196">Pokud provedení příkazu CTAS trvá stejně dlouho, stále je to mnohem bezpečnější operace, protože zahrnuje minimální protokolování transakce a v případě potřeby ji lze rychle zrušit.</span><span class="sxs-lookup"><span data-stu-id="c4259-196">If a CTAS takes the same amount of time, it is a much safer operation to run as it has very minimal transaction logging and can be canceled quickly if needed.</span></span>

<span data-ttu-id="c4259-197">Viz také [Vysvětlení transakcí][Understanding transactions], [Optimalizace transakcí][Optimizing transactions], [Dělení tabulky][Table partitioning], [TRUNCATE TABLE][TRUNCATE TABLE], [ALTER TABLE][ALTER TABLE], [CREATE TABLE AS SELECT (CTAS)][Create table as select (CTAS)].</span><span class="sxs-lookup"><span data-stu-id="c4259-197">See also [Understanding transactions][Understanding transactions], [Optimizing transactions][Optimizing transactions], [Table partitioning][Table partitioning], [TRUNCATE TABLE][TRUNCATE TABLE], [ALTER TABLE][ALTER TABLE], [Create table as select (CTAS)][Create table as select (CTAS)]</span></span>

## <a name="use-the-smallest-possible-column-size"></a><span data-ttu-id="c4259-198">Použijte co nejmenší velikost sloupce</span><span class="sxs-lookup"><span data-stu-id="c4259-198">Use the smallest possible column size</span></span>
<span data-ttu-id="c4259-199">Při definování DDL můžete použitím nejmenšího datového typu, který podporuje vaše data, zvýšit výkon dotazu.</span><span class="sxs-lookup"><span data-stu-id="c4259-199">When defining your DDL, using the smallest data type which will support your data will improve query performance.</span></span>  <span data-ttu-id="c4259-200">To je obzvlášť důležité pro sloupce typu CHAR a VARCHAR.</span><span class="sxs-lookup"><span data-stu-id="c4259-200">This is especially important for CHAR and VARCHAR columns.</span></span>  <span data-ttu-id="c4259-201">Pokud má nejdelší hodnota v sloupci 25 znaků, nadefinujte typ sloupce jako VARCHAR(25).</span><span class="sxs-lookup"><span data-stu-id="c4259-201">If the longest value in a column is 25 characters, then define your column as VARCHAR(25).</span></span>  <span data-ttu-id="c4259-202">Vyhněte se definování všech sloupců se znaky na výchozí délku.</span><span class="sxs-lookup"><span data-stu-id="c4259-202">Avoid defining all character columns to a large default length.</span></span>  <span data-ttu-id="c4259-203">Kromě toho sloupce definujte jako VARCHAR, pokud tento typ splňuje všechny požadavky, místo používání NVARCHAR.</span><span class="sxs-lookup"><span data-stu-id="c4259-203">In addition, define columns as VARCHAR when that is all that is needed rather than use NVARCHAR.</span></span>

<span data-ttu-id="c4259-204">Viz také [Přehled tabulek][Table overview], [Typy tabulkových dat][Table data types], [CREATE TABLE][CREATE TABLE].</span><span class="sxs-lookup"><span data-stu-id="c4259-204">See also [Table overview][Table overview], [Table data types][Table data types], [CREATE TABLE][CREATE TABLE]</span></span>

## <a name="use-temporary-heap-tables-for-transient-data"></a><span data-ttu-id="c4259-205">Použijte dočasné tabulky hald pro přechodná data</span><span class="sxs-lookup"><span data-stu-id="c4259-205">Use temporary heap tables for transient data</span></span>
<span data-ttu-id="c4259-206">Když dočasně umisťujete data ve službě SQL Data Warehouse, možná zjistíte, že použitím tabulky haldy se celý proces zrychlí.</span><span class="sxs-lookup"><span data-stu-id="c4259-206">When you are temporarily landing data on SQL Data Warehouse, you may find that using a heap table will make the overall process faster.</span></span>  <span data-ttu-id="c4259-207">Pokud nahráváte data pouze za účelem jejich přípravy před spuštěním dalších transformací, nahrání tabulky do tabulky haldy bude mnohem rychlejší, než nahrání dat do clusterované tabulky columnstore.</span><span class="sxs-lookup"><span data-stu-id="c4259-207">If you are loading data only to stage it before running more transformations, loading the table to heap table will be much faster than loading the data to a clustered columnstore table.</span></span>  <span data-ttu-id="c4259-208">Nahrání dat do dočasné tabulky bude dokonce mnohem rychlejší, než nahrání tabulky do trvalého úložiště.</span><span class="sxs-lookup"><span data-stu-id="c4259-208">In addition, loading data to a temp table will also load much faster than loading a table to permanent storage.</span></span>  <span data-ttu-id="c4259-209">Dočasné tabulky začínají znakem „#“ a přístup k nim má pouze relace, která je vytvořila, proto mohou fungovat pouze v omezených scénářích.</span><span class="sxs-lookup"><span data-stu-id="c4259-209">Temporary tables start with a "#" and are only accessible by the session which created it, so they may only work in limited scenarios.</span></span>   <span data-ttu-id="c4259-210">Tabulky hald se definují v klauzuli WITH příkazu CREATE TABLE.</span><span class="sxs-lookup"><span data-stu-id="c4259-210">Heap tables are defined in the WITH clause of a CREATE TABLE.</span></span>  <span data-ttu-id="c4259-211">Pokud používáte dočasnou tabulku, nezapomeňte nad ní také vytvořit statistiky.</span><span class="sxs-lookup"><span data-stu-id="c4259-211">If you do use a temporary table, remember to create statistics on that temporary table too.</span></span>

<span data-ttu-id="c4259-212">Viz také [Dočasné tabulky][Temporary tables], [CREATE TABLE][CREATE TABLE], [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT].</span><span class="sxs-lookup"><span data-stu-id="c4259-212">See also [Temporary tables][Temporary tables], [CREATE TABLE][CREATE TABLE], [CREATE TABLE AS SELECT][CREATE TABLE AS SELECT]</span></span>

## <a name="optimize-clustered-columnstore-tables"></a><span data-ttu-id="c4259-213">Optimalizujte clusterované tabulky columnstore</span><span class="sxs-lookup"><span data-stu-id="c4259-213">Optimize clustered columnstore tables</span></span>
<span data-ttu-id="c4259-214">Clusterované indexy columnstore jsou jedním z nejefektivnějších způsobů ukládání dat ve službě Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c4259-214">Clustered columnstore indexes are one of the most efficient ways you can store your data in Azure SQL Data Warehouse.</span></span>  <span data-ttu-id="c4259-215">Vy výchozím nastavení se tabulky ve službě SQL Data Warehouse vytváří jako clusterované columnstore.</span><span class="sxs-lookup"><span data-stu-id="c4259-215">By default, tables in SQL Data Warehouse are created as Clustered ColumnStore.</span></span>  <span data-ttu-id="c4259-216">Pokud chcete dosáhnout co nejlepšího výkonu dotazů na tabulky columnstore, je důležité mít kvalitní segmenty.</span><span class="sxs-lookup"><span data-stu-id="c4259-216">To get the best performance for queries on columnstore tables, having good segment quality is important.</span></span>  <span data-ttu-id="c4259-217">Když se řádky zapisují do tabulek columnstore při zatížení paměti, může tím utrpět kvalita segmentů columnstore.</span><span class="sxs-lookup"><span data-stu-id="c4259-217">When rows are written to columnstore tables under memory pressure, columnstore segment quality may suffer.</span></span>  <span data-ttu-id="c4259-218">Kvalitu segmentů lze změřit podle počtu řádků v komprimované skupině řádků.</span><span class="sxs-lookup"><span data-stu-id="c4259-218">Segment quality can be measured by number of rows in a compressed Row Group.</span></span>  <span data-ttu-id="c4259-219">V části [Příčiny nekvalitních indexů columnstore][Causes of poor columnstore index quality] v článku [Indexy tabulky][Table indexes] najdete podrobné pokyny k zjišťování a zlepšování kvality segmentů clusterovaných tabulek columnstore.</span><span class="sxs-lookup"><span data-stu-id="c4259-219">See the [Causes of poor columnstore index quality][Causes of poor columnstore index quality] in the [Table indexes][Table indexes] article for step by step instructions on detecting and improving segment quality for clustered columnstore tables.</span></span>  <span data-ttu-id="c4259-220">Vzhledem k důležitosti vysoké kvality segmentů columnstore je vhodné k nahrávání dat používat ID uživatelů, kteří jsou ve střední nebo velké třídě prostředků.</span><span class="sxs-lookup"><span data-stu-id="c4259-220">Because high quality columnstore segments is important, it's a good idea to use users ids which are in the medium or large resource class for loading data.</span></span>  <span data-ttu-id="c4259-221">Čím méně DWU použijete, tím větší třídu prostředků budete chtít přiřadit ke svému uživateli, který nahrává data.</span><span class="sxs-lookup"><span data-stu-id="c4259-221">The fewer DWUs you use, the larger the resource class you will want to assign to your loading user.</span></span>

<span data-ttu-id="c4259-222">Protože tabulky columnstore zpravidla nebudou vkládat data do komprimovaného segmentu columnstore, dokud v něm nebude více než 1 milion řádků na tabulku, a každá tabulka služby SQL Data Warehouse je rozdělená na 60 tabulek, obecně platí, že tabulky columnstore nepřináší dotazům žádné výhody, pokud tabulka nemá alespoň 60 milionů řádků.</span><span class="sxs-lookup"><span data-stu-id="c4259-222">Since columnstore tables generally won't push data into a compressed columnstore segment until there are more than 1 million rows per table and each SQL Data Warehouse table is partitioned into 60 tables, as a rule of thumb, columnstore tables won't benefit a query unless the table has more than 60 million rows.</span></span>  <span data-ttu-id="c4259-223">Pro tabulky s méně než 60 miliony řádků může být použití indexu columnstore zbytečné.</span><span class="sxs-lookup"><span data-stu-id="c4259-223">For table with less than 60 million rows, it may not make any sense to have a columnstore index.</span></span>  <span data-ttu-id="c4259-224">Ale také to nemusí vadit.</span><span class="sxs-lookup"><span data-stu-id="c4259-224">It also may not hurt.</span></span>  <span data-ttu-id="c4259-225">Kromě toho, pokud svá data dělíte, pamatujte na to, že každý oddíl musí mít alespoň 1 milion řádků, abyste využili výhod clusterovaného indexu columnstore.</span><span class="sxs-lookup"><span data-stu-id="c4259-225">Furthermore, if you partition your data, then you will want to consider that each partition will need to have 1 million rows to benefit from a clustered columnstore index.</span></span>  <span data-ttu-id="c4259-226">Pokud má tabulka 100 oddílů, bude muset mít alespoň 6 miliard řádků, abyste využili výhod clusterovaného úložiště sloupců (60 distribucí × 100 oddílů × 1 milion řádků).</span><span class="sxs-lookup"><span data-stu-id="c4259-226">If a table has 100 partitions, then it will need to have at least 6 billion rows to benefit from a clustered columns store (60 distributions * 100 partitions * 1 million rows).</span></span>  <span data-ttu-id="c4259-227">Pokud vaše tabulka v tomto příkladu neobsahuje 6 miliard řádků, buď snižte počet oddílů, nebo místo ní zvažte použití tabulky haldy.</span><span class="sxs-lookup"><span data-stu-id="c4259-227">If your table does not have 6 billion rows in this example, either reduce the number of partitions or consider using a heap table instead.</span></span>  <span data-ttu-id="c4259-228">Můžete také experimentovat, abyste zjistili, jestli pomocí tabulky haldy se sekundárními indexy dosáhnete lepšího výkonu než s tabulkou columnstore.</span><span class="sxs-lookup"><span data-stu-id="c4259-228">It also may be worth experimenting to see if better performance can be gained with a heap table with secondary indexes rather than a columnstore table.</span></span>  <span data-ttu-id="c4259-229">Tabulky columnstore zatím ještě nepodporují sekundární indexy.</span><span class="sxs-lookup"><span data-stu-id="c4259-229">Columnstore tables do not yet support secondary indexes.</span></span>

<span data-ttu-id="c4259-230">Při dotazování tabulky columnstore budou příkazy pracovat rychleji, pokud vyberete pouze sloupce, které potřebujete.</span><span class="sxs-lookup"><span data-stu-id="c4259-230">When querying a columnstore table, queries will run faster if you select only the columns you need.</span></span>  

<span data-ttu-id="c4259-231">Viz také [Indexy tabulky][Table indexes], [Průvodce indexy columnstore][Columnstore indexes guide], [Obnovení indexů columnstore][Rebuilding columnstore indexes].</span><span class="sxs-lookup"><span data-stu-id="c4259-231">See also [Table indexes][Table indexes], [Columnstore indexes guide][Columnstore indexes guide], [Rebuilding columnstore indexes][Rebuilding columnstore indexes]</span></span>

## <a name="use-larger-resource-class-to-improve-query-performance"></a><span data-ttu-id="c4259-232">Použijte větší třídu prostředků k vylepšení výkonu dotazu</span><span class="sxs-lookup"><span data-stu-id="c4259-232">Use larger resource class to improve query performance</span></span>
<span data-ttu-id="c4259-233">SQL Data Warehouse používá skupiny prostředků jako způsob přidělení paměti pro dotazy.</span><span class="sxs-lookup"><span data-stu-id="c4259-233">SQL Data Warehouse uses resource groups as a way to allocate memory to queries.</span></span>  <span data-ttu-id="c4259-234">Standardně jsou všichni uživatelé přiřazeni k malé třídě prostředků, která poskytuje 100 MB paměti na distribuci.</span><span class="sxs-lookup"><span data-stu-id="c4259-234">Out of the box, all users are assigned to the small resource class which grants 100 MB of memory per distribution.</span></span>  <span data-ttu-id="c4259-235">Protože vždy existuje 60 distribucí a každé distribuci je poskytnuto minimálně 100 MB paměti, velikost celkově přidělené paměti v systému je 6 000 MB, tedy téměř 6 GB.</span><span class="sxs-lookup"><span data-stu-id="c4259-235">Since there are always 60 distributions and each distribution is given a minimum of 100 MB, system wide the total memory allocation is 6,000 MB, or just under 6 GB.</span></span>  <span data-ttu-id="c4259-236">Pro určité dotazy, například velká spojení nebo nahrávání do clusterovaných tabulek columnstore, bude větší přidělení paměti přínosem.</span><span class="sxs-lookup"><span data-stu-id="c4259-236">Certain queries, like large joins or loads to clustered columnstore tables, will benefit from larger memory allocations.</span></span>  <span data-ttu-id="c4259-237">U některých dotazů, jako jsou třeba pouhá prohledávání, se výhody neprojeví.</span><span class="sxs-lookup"><span data-stu-id="c4259-237">Some queries, like pure scans, will see no benefit.</span></span>  <span data-ttu-id="c4259-238">Na druhou stranu využívání velkých tříd prostředků ovlivňuje souběžnost, což byste měli zvážit před přesunutím všech svých uživatelů do velké třídy prostředků.</span><span class="sxs-lookup"><span data-stu-id="c4259-238">On the flip side, utilizing larger resource classes impacts concurrency, so you will want to take this into consideration before moving all of your users to a large resource class.</span></span>

<span data-ttu-id="c4259-239">Viz také [Souběžnost a správa úloh][Concurrency and workload management].</span><span class="sxs-lookup"><span data-stu-id="c4259-239">See also [Concurrency and workload management][Concurrency and workload management]</span></span>

## <a name="use-smaller-resource-class-to-increase-concurrency"></a><span data-ttu-id="c4259-240">Použijte menší třídu prostředků pro zlepšení souběžnosti</span><span class="sxs-lookup"><span data-stu-id="c4259-240">Use Smaller Resource Class to Increase Concurrency</span></span>
<span data-ttu-id="c4259-241">Pokud se vám zdá, že dotazy uživatelů mají dlouhé zpoždění, může to být tím, že jsou vaši uživatelé spuštění ve větší třídě prostředků a spotřebovávají velké množství slotů souběžnosti. To způsobuje, že se ostatní dotazy řadí do fronty.</span><span class="sxs-lookup"><span data-stu-id="c4259-241">If you are noticing that user queries seem to have a long delay, it could be that your users are running in larger resource classes and are consuming a lot of concurrency slots causing other queries to queue up.</span></span>  <span data-ttu-id="c4259-242">Pokud chcete zjistit, jestli jsou požadavky uživatelů ve frontě, spusťte příkaz `SELECT * FROM sys.dm_pdw_waits` a zkontrolujte, jestli se vrátí nějaké řádky.</span><span class="sxs-lookup"><span data-stu-id="c4259-242">To see if users queries are queued, run `SELECT * FROM sys.dm_pdw_waits` to see if any rows are returned.</span></span>

<span data-ttu-id="c4259-243">Viz také [Souběžnost a správa úloh][Concurrency and workload management], [sys.dm_pdw_waits][sys.dm_pdw_waits].</span><span class="sxs-lookup"><span data-stu-id="c4259-243">See also [Concurrency and workload management][Concurrency and workload management], [sys.dm_pdw_waits][sys.dm_pdw_waits]</span></span>

## <a name="use-dmvs-to-monitor-and-optimize-your-queries"></a><span data-ttu-id="c4259-244">Použijte zobrazení dynamických zpráv k monitorování a optimalizaci dotazů</span><span class="sxs-lookup"><span data-stu-id="c4259-244">Use DMVs to monitor and optimize your queries</span></span>
<span data-ttu-id="c4259-245">SQL Data Warehouse obsahuje různá zobrazení dynamických zpráv, která mohou sloužit k monitorování provádění dotazů.</span><span class="sxs-lookup"><span data-stu-id="c4259-245">SQL Data Warehouse has several DMVs which can be used to monitor query execution.</span></span>  <span data-ttu-id="c4259-246">Níže uvedený článek o monitorování vás provede podrobnými pokyny k tomu, jak se dívat na podrobnosti prováděného dotazu.</span><span class="sxs-lookup"><span data-stu-id="c4259-246">The monitoring article below walks through step-by-step instructions on how to look at the details of an executing query.</span></span>  <span data-ttu-id="c4259-247">S rychlým vyhledáváním dotazů v těchto zobrazeních dynamických zpráv může pomoci použití možnosti LABEL v dotazech.</span><span class="sxs-lookup"><span data-stu-id="c4259-247">To quickly find queries in these DMVs, using the LABEL option with your queries can help.</span></span>

<span data-ttu-id="c4259-248">Viz také [Monitorování úloh pomocí zobrazení dynamických zpráv][Monitor your workload using DMVs], [LABEL][LABEL], [OPTION][OPTION], [sys.dm_exec_sessions][sys.dm_exec_sessions], [sys.dm_pdw_exec_requests][sys.dm_pdw_exec_requests], [sys.dm_pdw_request_steps][sys.dm_pdw_request_steps], [sys.dm_pdw_sql_requests][sys.dm_pdw_sql_requests], [sys.dm_pdw_dms_workers], [DBCC PDW_SHOWEXECUTIONPLAN][DBCC PDW_SHOWEXECUTIONPLAN], [sys.dm_pdw_waits][sys.dm_pdw_waits]</span><span class="sxs-lookup"><span data-stu-id="c4259-248">See also [Monitor your workload using DMVs][Monitor your workload using DMVs], [LABEL][LABEL], [OPTION][OPTION], [sys.dm_exec_sessions][sys.dm_exec_sessions], [sys.dm_pdw_exec_requests][sys.dm_pdw_exec_requests], [sys.dm_pdw_request_steps][sys.dm_pdw_request_steps], [sys.dm_pdw_sql_requests][sys.dm_pdw_sql_requests], [sys.dm_pdw_dms_workers], [DBCC PDW_SHOWEXECUTIONPLAN][DBCC PDW_SHOWEXECUTIONPLAN], [sys.dm_pdw_waits][sys.dm_pdw_waits]</span></span>

## <a name="other-resources"></a><span data-ttu-id="c4259-249">Další prostředky</span><span class="sxs-lookup"><span data-stu-id="c4259-249">Other resources</span></span>
<span data-ttu-id="c4259-250">Přečtěte si také článek [Řešení potíží][Troubleshooting], ve kterém najdete běžné problémy a jejich řešení.</span><span class="sxs-lookup"><span data-stu-id="c4259-250">Also see our [Troubleshooting][Troubleshooting] article for common issues and solutions.</span></span>

<span data-ttu-id="c4259-251">Pokud jste v tomto článku nenašli, co jste hledali, zkuste použít „Hledání dokumentů“ v levé části této stránky k vyhledávání ve všech dokumentech služby Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c4259-251">If you didn't find what you were looking for in this article, try using the "Search for docs" on the left side of this page to search all of the Azure SQL Data Warehouse documents.</span></span>  <span data-ttu-id="c4259-252">[Fórum pro Azure SQL Data Warehouse na webu MSDN][Azure SQL Data Warehouse MSDN Forum] bylo vytvořeno jako místo, kde můžete pokládat otázky ostatním uživatelům a do skupiny produktů SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c4259-252">The [Azure SQL Data Warehouse MSDN Forum][Azure SQL Data Warehouse MSDN Forum] was create as a place for you to ask questions to other users and to the SQL Data Warehouse Product Group.</span></span>  <span data-ttu-id="c4259-253">Toto fórum aktivně sledujeme, abychom zajistili, že vaši otázku zodpoví další uživatel nebo někdo z nás.</span><span class="sxs-lookup"><span data-stu-id="c4259-253">We actively monitor this forum to ensure that your questions are answered either by another user or one of us.</span></span>  <span data-ttu-id="c4259-254">Pokud dáváte přednost pokládání otázek na Stack Overflow, máme také [Fórum pro Azure SQL Data Warehouse na Stack Overflow][Azure SQL Data Warehouse Stack Overflow Forum].</span><span class="sxs-lookup"><span data-stu-id="c4259-254">If you prefer to ask your questions on Stack Overflow, we also have an [Azure SQL Data Warehouse Stack Overflow Forum][Azure SQL Data Warehouse Stack Overflow Forum].</span></span>

<span data-ttu-id="c4259-255">Nakonec můžete použít stránku [Zpětná vazba k službě Azure SQL Data Warehouse][Azure SQL Data Warehouse Feedback] k podání žádostí o funkce.</span><span class="sxs-lookup"><span data-stu-id="c4259-255">Finally, please do use the [Azure SQL Data Warehouse Feedback][Azure SQL Data Warehouse Feedback] page to make feature requests.</span></span>  <span data-ttu-id="c4259-256">Přidáním vlastních žádostí nebo hlasováním pro ostatní žádosti nám pomůžete určit prioritu funkcí.</span><span class="sxs-lookup"><span data-stu-id="c4259-256">Adding your requests or up-voting other requests really helps us prioritize features.</span></span>

<!--Image references-->

<!--Article references-->
[Create a support ticket]: ./sql-data-warehouse-get-started-create-support-ticket.md
[Concurrency and workload management]: ./sql-data-warehouse-develop-concurrency.md
[Create table as select (CTAS)]: ./sql-data-warehouse-develop-ctas.md
[Table overview]: ./sql-data-warehouse-tables-overview.md
[Table data types]: ./sql-data-warehouse-tables-data-types.md
[Table distribution]: ./sql-data-warehouse-tables-distribute.md
[Table indexes]: ./sql-data-warehouse-tables-index.md
[Causes of poor columnstore index quality]: ./sql-data-warehouse-tables-index.md#causes-of-poor-columnstore-index-quality
[Rebuilding columnstore indexes]: ./sql-data-warehouse-tables-index.md#rebuilding-indexes-to-improve-segment-quality
[Table partitioning]: ./sql-data-warehouse-tables-partition.md
[Manage table statistics]: ./sql-data-warehouse-tables-statistics.md
[Temporary tables]: ./sql-data-warehouse-tables-temporary.md
[Guide for using PolyBase]: ./sql-data-warehouse-load-polybase-guide.md
[Load data]: ./sql-data-warehouse-overview-load.md
[Move data with Azure Data Factory]: ../data-factory/data-factory-azure-sql-data-warehouse-connector.md
[Load data with Azure Data Factory]: ./sql-data-warehouse-get-started-load-with-azure-data-factory.md
[Load data with bcp]: ./sql-data-warehouse-load-with-bcp.md
[Load data with PolyBase]: ./sql-data-warehouse-get-started-load-with-polybase.md
[Monitor your workload using DMVs]: ./sql-data-warehouse-manage-monitor.md
[Pause compute resources]: ./sql-data-warehouse-manage-compute-overview.md#pause-compute-bk
[Resume compute resources]: ./sql-data-warehouse-manage-compute-overview.md#resume-compute-bk
<span data-ttu-id="c4259-257">[Škálování výpočetních prostředků]: ./sql-data-warehouse-manage-compute-overview.md#scale-compute</span><span class="sxs-lookup"><span data-stu-id="c4259-257">[Scale compute resources]: ./sql-data-warehouse-manage-compute-overview.md#scale-compute</span></span>
[Understanding transactions]: ./sql-data-warehouse-develop-transactions.md
[Optimizing transactions]: ./sql-data-warehouse-develop-best-practices-transactions.md
[Troubleshooting]: ./sql-data-warehouse-troubleshoot.md
[LABEL]: ./sql-data-warehouse-develop-label.md

<!--MSDN references-->
[ALTER TABLE]: https://msdn.microsoft.com/library/ms190273.aspx
[CREATE EXTERNAL FILE FORMAT]: https://msdn.microsoft.com/library/dn935026.aspx
[CREATE STATISTICS]: https://msdn.microsoft.com/library/ms188038.aspx
[CREATE TABLE]: https://msdn.microsoft.com/library/mt203953.aspx
[CREATE TABLE AS SELECT]: https://msdn.microsoft.com/library/mt204041.aspx
[DBCC PDW_SHOWEXECUTIONPLAN]: https://msdn.microsoft.com/library/mt204017.aspx
[INSERT]: https://msdn.microsoft.com/library/ms174335.aspx
[OPTION]: https://msdn.microsoft.com/library/ms190322.aspx
[TRUNCATE TABLE]: https://msdn.microsoft.com/library/ms177570.aspx
[UPDATE STATISTICS]: https://msdn.microsoft.com/library/ms187348.aspx
[sys.dm_exec_sessions]: https://msdn.microsoft.com/library/ms176013.aspx
[sys.dm_pdw_exec_requests]: https://msdn.microsoft.com/library/mt203887.aspx
[sys.dm_pdw_request_steps]: https://msdn.microsoft.com/library/mt203913.aspx
[sys.dm_pdw_sql_requests]: https://msdn.microsoft.com/library/mt203889.aspx
<span data-ttu-id="c4259-258">[sys.dm_pdw_dms_workers]: https://msdn.microsoft.com/library/mt203878.aspx</span><span class="sxs-lookup"><span data-stu-id="c4259-258">[sys.dm_pdw_dms_workers]: https://msdn.microsoft.com/library/mt203878.aspx</span></span>
[sys.dm_pdw_waits]: https://msdn.microsoft.com/library/mt203893.aspx
[Columnstore indexes guide]: https://msdn.microsoft.com/library/gg492088.aspx

<!--Other Web references-->
[Selecting table distribution]: https://blogs.msdn.microsoft.com/sqlcat/2015/08/11/choosing-hash-distributed-table-vs-round-robin-distributed-table-in-azure-sql-dw-service/
[Azure SQL Data Warehouse Feedback]: https://feedback.azure.com/forums/307516-sql-data-warehouse
[Azure SQL Data Warehouse MSDN Forum]: https://social.msdn.microsoft.com/Forums/sqlserver/home?forum=AzureSQLDataWarehouse
[Azure SQL Data Warehouse Stack Overflow Forum]:  http://stackoverflow.com/questions/tagged/azure-sqldw
[Azure SQL Data Warehouse loading patterns and strategies]: https://blogs.msdn.microsoft.com/sqlcat/2016/02/06/azure-sql-data-warehouse-loading-patterns-and-strategies
