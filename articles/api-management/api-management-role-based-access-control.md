---
title: "Postup použití řízení přístupu na základě Role ve službě Azure API Management | Microsoft Docs"
description: "Naučte se používat předdefinované role a vytvářet vlastní role v Azure API Management"
services: api-management
documentationcenter: 
author: miaojiang
manager: erikre
editor: 
ms.assetid: 364cd53e-88fb-4301-a093-f132fa1f88f5
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/30/2017
ms.author: apimpm
ms.openlocfilehash: fa757a591d788f52d759bc24accedd3c55149ae7
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-use-role-based-access-control-in-azure-api-management"></a><span data-ttu-id="703f6-103">Postup použití řízení přístupu na základě Role ve službě Azure API Management</span><span class="sxs-lookup"><span data-stu-id="703f6-103">How to Use Role-Based Access Control in Azure API Management</span></span>
<span data-ttu-id="703f6-104">Azure API Management spoléhá na řízení řízení přístupu (RBAC) Chcete-li povolit vyladění správy přístupu pro služby API Management a entit (například rozhraní API, zásady).</span><span class="sxs-lookup"><span data-stu-id="703f6-104">Azure API Management relies on Azure Role-Based Access Control (RBAC) to enable fine-grained access management for API Management services and entities (e.g., APIs, policies).</span></span> <span data-ttu-id="703f6-105">Tento článek obsahuje přehled rolí předdefinované a vlastní ve službě API Management.</span><span class="sxs-lookup"><span data-stu-id="703f6-105">This article gives you an overview of the built-in and custom roles in API Management.</span></span> <span data-ttu-id="703f6-106">Pokud chcete další informace o řízení přístupu na portálu Azure, najdete v části [Začínáme se správou přístupu na portálu Azure](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)</span><span class="sxs-lookup"><span data-stu-id="703f6-106">If you want more details on access management in the Azure portal, see [Get started with access management in the Azure portal](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)</span></span>

## <a name="built-in-roles"></a><span data-ttu-id="703f6-107">Předdefinované role</span><span class="sxs-lookup"><span data-stu-id="703f6-107">Built-in Roles</span></span>
<span data-ttu-id="703f6-108">API Management aktuálně poskytuje 3 předdefinovaných rolí a přidá 2 více rolí v blízké budoucnosti.</span><span class="sxs-lookup"><span data-stu-id="703f6-108">API Management currently provides 3 built-in roles and will add 2 more roles in the near future.</span></span> <span data-ttu-id="703f6-109">Tyto role mohou být přiřazeny na různých místech včetně předplatné, skupinu prostředků a jednotlivé instance služby API Management.</span><span class="sxs-lookup"><span data-stu-id="703f6-109">These roles can be assigned at differnt scopes including subscription, resource group, and individual API Management instance.</span></span> <span data-ttu-id="703f6-110">Například pokud "Azure API Management Service čtečky" role je přiřazená uživateli na úrovni skupiny prostředků, pak bude mít uživatel pro čtení přístup na všechny instance API Management uvnitř skupiny prostředků.</span><span class="sxs-lookup"><span data-stu-id="703f6-110">For instance, if the "Azure API Management Service Reader" role is assigned to an user at the resource group level, then the user will have read access to all API Management instances inside the resource group.</span></span> 

<span data-ttu-id="703f6-111">Následující tabulka obsahuje stručný popis předdefinovaných rolí.</span><span class="sxs-lookup"><span data-stu-id="703f6-111">The following table provides brief descriptions of the built-in roles.</span></span> <span data-ttu-id="703f6-112">Tyto role pomocí portálu Azure nebo jiných nástrojů, včetně Azure můžete přiřadit [prostředí PowerShell](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-powershell)Azure [rozhraní příkazového řádku](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-azure-cli), a [REST API](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-rest).</span><span class="sxs-lookup"><span data-stu-id="703f6-112">You can assign these roles using the Azure Portal or other tools including Azure [PowerShell](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-powershell), Azure [Command-line interface](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-azure-cli), and [REST API](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-manage-access-rest).</span></span> <span data-ttu-id="703f6-113">Podrobnosti o tom, jak přiřadit předdefinovaných rolí najdete v tématu [použití přiřazení rolí ke správě přístupu k prostředkům předplatného Azure](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/).</span><span class="sxs-lookup"><span data-stu-id="703f6-113">For details about how to assign built-in roles, see [Use role assignments to manage access to your Azure subscription resources](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/).</span></span>

| <span data-ttu-id="703f6-114">Role</span><span class="sxs-lookup"><span data-stu-id="703f6-114">Role</span></span>          | <span data-ttu-id="703f6-115">Přístup pro čtení<sup>[1]</sup></span><span class="sxs-lookup"><span data-stu-id="703f6-115">Read access<sup>[1]</sup></span></span> | <span data-ttu-id="703f6-116">Přístup pro zápis<sup>[2]</sup></span><span class="sxs-lookup"><span data-stu-id="703f6-116">Write access<sup>[2]</sup></span></span> | <span data-ttu-id="703f6-117">Vytvoření služby, odstranění, změny velikosti, VPN a konfigurace vlastní domény</span><span class="sxs-lookup"><span data-stu-id="703f6-117">Service creation, deletion, scaling, VPN and custom domain configuration</span></span> | <span data-ttu-id="703f6-118">Přístup k portálu starší verze Publsiher</span><span class="sxs-lookup"><span data-stu-id="703f6-118">Access to legacy Publsiher Portal</span></span> | <span data-ttu-id="703f6-119">Popis</span><span class="sxs-lookup"><span data-stu-id="703f6-119">Description</span></span>
| ------------- | ---- | ---- | ---- | ---- | ---- | ---- |
| <span data-ttu-id="703f6-120">Přispěvatel služby Azure API Management</span><span class="sxs-lookup"><span data-stu-id="703f6-120">Azure API Management Service Contributor</span></span> | <span data-ttu-id="703f6-121">✓</span><span class="sxs-lookup"><span data-stu-id="703f6-121">✓</span></span> | <span data-ttu-id="703f6-122">✓</span><span class="sxs-lookup"><span data-stu-id="703f6-122">✓</span></span> | <span data-ttu-id="703f6-123">✓</span><span class="sxs-lookup"><span data-stu-id="703f6-123">✓</span></span> | <span data-ttu-id="703f6-124">✓</span><span class="sxs-lookup"><span data-stu-id="703f6-124">✓</span></span> | <span data-ttu-id="703f6-125">Superuživatele.</span><span class="sxs-lookup"><span data-stu-id="703f6-125">Super user.</span></span> <span data-ttu-id="703f6-126">Má úplný přístup CRUD služby API Management a entit (například rozhraní API, zásady).</span><span class="sxs-lookup"><span data-stu-id="703f6-126">Has full CRUD access to API Management services and entities (e.g., APIs, Policies).</span></span> <span data-ttu-id="703f6-127">Má přístup k portálu starší verze vydavatele.</span><span class="sxs-lookup"><span data-stu-id="703f6-127">Has access to the legacy publisher portal.</span></span> |
| <span data-ttu-id="703f6-128">Čtecí modul služby Azure API Management</span><span class="sxs-lookup"><span data-stu-id="703f6-128">Azure API Management Service Reader</span></span> | <span data-ttu-id="703f6-129">✓</span><span class="sxs-lookup"><span data-stu-id="703f6-129">✓</span></span> | | || <span data-ttu-id="703f6-130">Má přístup jen pro čtení k služby API Management a entity.</span><span class="sxs-lookup"><span data-stu-id="703f6-130">Has read-only access to API Management services and entities.</span></span> |
| <span data-ttu-id="703f6-131">Operátor služby Azure API Management</span><span class="sxs-lookup"><span data-stu-id="703f6-131">Azure API Management Service Operator</span></span> | <span data-ttu-id="703f6-132">✓</span><span class="sxs-lookup"><span data-stu-id="703f6-132">✓</span></span> | | <span data-ttu-id="703f6-133">✓</span><span class="sxs-lookup"><span data-stu-id="703f6-133">✓</span></span> | | <span data-ttu-id="703f6-134">Můžete spravovat služby API Management, ale není entity.</span><span class="sxs-lookup"><span data-stu-id="703f6-134">Can manage API Management services but not entities.</span></span>|
| <span data-ttu-id="703f6-135">Azure API Management Service editoru<sup>*</sup></span><span class="sxs-lookup"><span data-stu-id="703f6-135">Azure API Management Service Editor<sup>*</sup></span></span> | <span data-ttu-id="703f6-136">✓</span><span class="sxs-lookup"><span data-stu-id="703f6-136">✓</span></span> | <span data-ttu-id="703f6-137">✓</span><span class="sxs-lookup"><span data-stu-id="703f6-137">✓</span></span> | |  | <span data-ttu-id="703f6-138">Můžete spravovat, ale není služby API Management entity.</span><span class="sxs-lookup"><span data-stu-id="703f6-138">Can manage API Management entities but not services.</span></span>|
| <span data-ttu-id="703f6-139">Azure API Management Content Manager<sup>*</sup></span><span class="sxs-lookup"><span data-stu-id="703f6-139">Azure API Management Content Manager<sup>*</sup></span></span> | <span data-ttu-id="703f6-140">✓</span><span class="sxs-lookup"><span data-stu-id="703f6-140">✓</span></span> | | | <span data-ttu-id="703f6-141">✓</span><span class="sxs-lookup"><span data-stu-id="703f6-141">✓</span></span> | <span data-ttu-id="703f6-142">Můžete spravovat portál pro vývojáře.</span><span class="sxs-lookup"><span data-stu-id="703f6-142">Can manage developer portal.</span></span> <span data-ttu-id="703f6-143">Jen pro čtení přístup ke službám a entity.</span><span class="sxs-lookup"><span data-stu-id="703f6-143">Read-only access to services and entities.</span></span>|

<span data-ttu-id="703f6-144"><sup>[1] přístup pro čtení služby API Management a entit (například rozhraní API, zásady)</sup></span><span class="sxs-lookup"><span data-stu-id="703f6-144"><sup>[1] Read access to API Management services and entities (e.g., APIs, policies)</sup></span></span>

<span data-ttu-id="703f6-145"><sup>[2] oprávnění k zápisu do služby API Management a entity s výjimkou opeartions následující: 1) Instance vytvoření, odstranění a škálování nastavení název domény 3) vlastní konfigurace sítě VPN 2)</sup></span><span class="sxs-lookup"><span data-stu-id="703f6-145"><sup>[2] Write access to API Management services and entities except following opeartions: 1) Instance creation, deletion, and scaling 2) VPN configuration  3) Custom domain name setup</sup></span></span>

<span data-ttu-id="703f6-146"><sup>\*Role služby Editor bude k dispozici po jsme migrovat všechny správce uživatelského rozhraní na portálu vydavatele existující k portálu Azure. Role správce obsahu bude k dispozici po portálu vydavatele je teď vyčleněný, aby obsahovala pouze funkce související se správou portálu pro vývojáře.</sup></span><span class="sxs-lookup"><span data-stu-id="703f6-146"><sup>\* The Service Editor role will be available after we migrate all admin UI from the existing publisher portal to the Azure portal. The Content Manager role will be available after the publisher portal is refactored to only contain functionalities related to managing the developer portal.</sup></span></span>  


## <a name="custom-roles"></a><span data-ttu-id="703f6-147">Vlastní role</span><span class="sxs-lookup"><span data-stu-id="703f6-147">Custom Roles</span></span>
<span data-ttu-id="703f6-148">Pokud žádná z předdefinovaných rolí splňovat specifické potřeby, lze vytvořit vlastní role a zajistit tak podrobnější správu přístupu pro API Management entity.</span><span class="sxs-lookup"><span data-stu-id="703f6-148">If none of the built-in roles meet your specific needs, custom roles can be created to provide more granular access management for API Management entities.</span></span> <span data-ttu-id="703f6-149">Například můžete vytvořit vlastní roli, která má přístup jen pro čtení do služby API Management, ale pouze oprávnění k zápisu pro jedno konkrétní rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="703f6-149">For example, you can create a custom role which has read-only access to an API Management service but only has write access to one specific API.</span></span> <span data-ttu-id="703f6-150">Další informace o vlastních rolích naleznete v tématu [vlastní role v Azure RBAC](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles).</span><span class="sxs-lookup"><span data-stu-id="703f6-150">To learn more details about custom roles, see [Custom Roles in Azure RBAC](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles).</span></span> 

<span data-ttu-id="703f6-151">Když vytvoříte vlastní roli, je snazší začít s některou z předdefinovaných rolí.</span><span class="sxs-lookup"><span data-stu-id="703f6-151">When you create a custom role, it is easier to start with one of the built-in roles.</span></span> <span data-ttu-id="703f6-152">Upravit atributy, které se přidání akce, NotActions nebo AssignableScopes a potom uložte změny jako novou roli.</span><span class="sxs-lookup"><span data-stu-id="703f6-152">Edit the attributes to add the Actions, NotActions, or AssignableScopes, then save the changes as a new role.</span></span> <span data-ttu-id="703f6-153">Následující příklad začíná roli "Azure API Management Service čtečky" a vytvoří vlastní role s názvem "Editor rozhraní API kalkulačky".</span><span class="sxs-lookup"><span data-stu-id="703f6-153">The following example begins with the "Azure API Managment Service Reader" role and creates a custom role called "Calculator API Editor".</span></span> <span data-ttu-id="703f6-154">Vlastní role lze přiřadit pouze konkrétní rozhraní API proto bude má přístup pouze k toto rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="703f6-154">The custom role can be assigned only to a specific API therefore will only has access to that API.</span></span> 

```
$role = Get-AzureRmRoleDefinition "API Management Service Reader Role"
$role.Id = $null
$role.Name = 'Calculator API Contributor'
$role.Description = 'Has read access to Contoso APIM instance and write access to the Calculator API.'
$role.Actions.Add('Microsoft.ApiManagement/service/apis/write')
$role.AssignableScopes.Clear()
$role.AssignableScopes.Add('/subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.ApiManagement/service/<service name>/apis/<api ID>')
New-AzureRmRoleDefinition -Role $role
New-AzureRmRoleAssignment -ObjectId <object ID of the user account> -RoleDefinitionName 'Calculator API Contributor' -Scope '/subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.ApiManagement/service/<service name>/apis/<api ID>'
```

## <a name="watch-a-video-overview"></a><span data-ttu-id="703f6-155">Podívejte se na Video s přehledem</span><span class="sxs-lookup"><span data-stu-id="703f6-155">Watch a Video Overview</span></span>

> [!VIDEO https://channel9.msdn.com/Blogs/AzureApiMgmt/Role-Based-Access-Control-in-API-Management/player]
> 
> 

## <a name="next-steps"></a><span data-ttu-id="703f6-156">Další kroky</span><span class="sxs-lookup"><span data-stu-id="703f6-156">Next Steps</span></span>

* <span data-ttu-id="703f6-157">Další informace o řízení přístupu na základě rolí v Azure</span><span class="sxs-lookup"><span data-stu-id="703f6-157">Learn more about Role-Based Access Control in Azure</span></span>
  * [<span data-ttu-id="703f6-158">Začínáme se správou přístupu na webu Azure Portal</span><span class="sxs-lookup"><span data-stu-id="703f6-158">Get started with access management in the Azure portal</span></span>](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)
  * [<span data-ttu-id="703f6-159">Použití přiřazení rolí ke správě přístupu k prostředkům předplatného Azure</span><span class="sxs-lookup"><span data-stu-id="703f6-159">Use role assignments to manage access to your Azure subscription resources</span></span>](https://azure.microsoft.com/en-us/documentation/articles/role-based-access-control-what-is/)
  * [<span data-ttu-id="703f6-160">Vlastní role v Azure RBAC</span><span class="sxs-lookup"><span data-stu-id="703f6-160">Custom Roles in Azure RBAC</span></span>](https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-custom-roles)
