---
title: "aaaAzure služby Active Directory v2.0 tokeny odkaz | Microsoft Docs"
description: "Hello typy tokenů a deklaracích identity vysílaných hello koncového bodu Azure AD v2.0"
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: dc58c282-9684-4b38-b151-f3e079f034fd
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: 29eb5c3402aeae302ee7c6234488520495f85904
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-v20-tokens-reference"></a><span data-ttu-id="f0d36-103">Přehled v2.0 tokeny služby Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="f0d36-103">Azure Active Directory v2.0 tokens reference</span></span>
<span data-ttu-id="f0d36-104">Hello koncového bodu v2.0 Azure Active Directory (Azure AD) vysílá několik typů tokeny zabezpečení v každé [tok ověřování](active-directory-v2-flows.md).</span><span class="sxs-lookup"><span data-stu-id="f0d36-104">hello Azure Active Directory (Azure AD) v2.0 endpoint emits several types of security tokens in each [authentication flow](active-directory-v2-flows.md).</span></span> <span data-ttu-id="f0d36-105">Tento odkaz popisuje hello formátu, zabezpečení vlastnosti a obsah každého typu token.</span><span class="sxs-lookup"><span data-stu-id="f0d36-105">This reference describes hello format, security characteristics, and contents of each type of token.</span></span>

> [!NOTE]
> <span data-ttu-id="f0d36-106">koncový bod v2.0 Hello nepodporuje všechny scénáře Azure Active Directory a funkce.</span><span class="sxs-lookup"><span data-stu-id="f0d36-106">hello v2.0 endpoint does not support all Azure Active Directory scenarios and features.</span></span> <span data-ttu-id="f0d36-107">toodetermine zda byste měli používat koncového bodu v2.0 hello, přečtěte si informace o [v2.0 omezení](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="f0d36-107">toodetermine whether you should use hello v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>
>

## <a name="types-of-tokens"></a><span data-ttu-id="f0d36-108">Typy tokenů</span><span class="sxs-lookup"><span data-stu-id="f0d36-108">Types of tokens</span></span>
<span data-ttu-id="f0d36-109">Hello koncového bodu v2.0 podporuje hello [protokol autorizace OAuth 2.0](active-directory-v2-protocols.md), které používá přístup tokeny a obnovovacích tokenů.</span><span class="sxs-lookup"><span data-stu-id="f0d36-109">hello v2.0 endpoint supports hello [OAuth 2.0 authorization protocol](active-directory-v2-protocols.md), which uses access tokens and refresh tokens.</span></span> <span data-ttu-id="f0d36-110">Hello koncového bodu v2.0 také podporuje ověřování a přihlásit se přes [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="f0d36-110">hello v2.0 endpoint also supports authentication and sign-in via [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="f0d36-111">OpenID Connect zavádí třetí typ tokenu, hello ID tokenu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-111">OpenID Connect introduces a third type of token, hello ID token.</span></span> <span data-ttu-id="f0d36-112">Všechny tyto tokeny je reprezentován jako *nosiče* tokenu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-112">Each of these tokens is represented as a *bearer* token.</span></span>

<span data-ttu-id="f0d36-113">Token nosiče je chráněný prostředek, že uděluje hello tooa přístup nosiče tokenu lightweight zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="f0d36-113">A bearer token is a lightweight security token that grants hello bearer access tooa protected resource.</span></span> <span data-ttu-id="f0d36-114">nosiče Hello je jakékoli strany, který může být hello token.</span><span class="sxs-lookup"><span data-stu-id="f0d36-114">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="f0d36-115">I když může strana musí provést ověření pomocí Azure AD tooreceive hello nosný token, pokud kroky nejsou přijata toosecure hello token během přenosu a uložení, může být zachyceny a použity nezamýšleným strana.</span><span class="sxs-lookup"><span data-stu-id="f0d36-115">Although a party must authenticate with Azure AD tooreceive hello bearer token, if steps are not taken toosecure hello token during transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="f0d36-116">Některé tokeny zabezpečení mít předdefinované mechanismus tooprevent Neautorizováno stran pomocí, ale nezadávejte tokenů nosiče není.</span><span class="sxs-lookup"><span data-stu-id="f0d36-116">Some security tokens have a built-in mechanism tooprevent unauthorized parties from using them, but bearer tokens do not.</span></span> <span data-ttu-id="f0d36-117">Nosné tokeny musí přenosu v zabezpečený kanál, jako je například transport layer security (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="f0d36-117">Bearer tokens must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="f0d36-118">Pokud bez tento typ zabezpečení je přenesen token nosiče, škodlivý strany může token "útok man-in-the-middle" tooacquire hello a použít je pro prostředek tooa chráněné neoprávněného přístupu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-118">If a bearer token is transmitted without this type of security, a malicious party could use a "man-in-the-middle attack" tooacquire hello token and use it for unauthorized access tooa protected resource.</span></span> <span data-ttu-id="f0d36-119">Hello stejné zabezpečení zásady platí při ukládání nebo ukládání do mezipaměti nosné tokeny pro pozdější použití.</span><span class="sxs-lookup"><span data-stu-id="f0d36-119">hello same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="f0d36-120">Vždy zajistěte, aby vaše aplikace bezpečně přenáší a ukládá nosné tokeny.</span><span class="sxs-lookup"><span data-stu-id="f0d36-120">Always ensure that your app securely transmits and stores bearer tokens.</span></span> <span data-ttu-id="f0d36-121">Další informace o zabezpečení pro nosné tokeny, najdete v části [RFC 6750 část 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="f0d36-121">For more security considerations for bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="f0d36-122">Řadu hello tokeny vydané koncovým bodem v2.0 hello jsou implementované jako webové tokeny JSON (Jwt).</span><span class="sxs-lookup"><span data-stu-id="f0d36-122">Many of hello tokens issued by hello v2.0 endpoint are implemented as JSON Web Tokens (JWTs).</span></span> <span data-ttu-id="f0d36-123">Token JWT je tootransfer informací o compact a adresa URL bezpečných způsob, jak mezi dvěma účastníky.</span><span class="sxs-lookup"><span data-stu-id="f0d36-123">A JWT is a compact, URL-safe way tootransfer information between two parties.</span></span> <span data-ttu-id="f0d36-124">je volána Hello informace v token JWT *deklarace identity*.</span><span class="sxs-lookup"><span data-stu-id="f0d36-124">hello information in a JWT is called a *claim*.</span></span> <span data-ttu-id="f0d36-125">Je kontrolní výrazy informací o hello nosiče a předmět hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-125">It's an assertion of information about hello bearer and subject of hello token.</span></span> <span data-ttu-id="f0d36-126">deklarace identity Hello v token JWT jsou JavaScript Object Notation (JSON) objektů, které jsou zakódovány a serializovat pro přenos.</span><span class="sxs-lookup"><span data-stu-id="f0d36-126">hello claims in a JWT are JavaScript Object Notation (JSON) objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="f0d36-127">Vzhledem k tomu hello Jwt vydán koncového bodu v2.0 hello jsou podepsán, ale nejsou šifrovaná, snadno si můžete prohlédnout hello obsah token JWT pro účely ladění.</span><span class="sxs-lookup"><span data-stu-id="f0d36-127">Because hello JWTs issued by hello v2.0 endpoint are signed but not encrypted, you can easily inspect hello contents of a JWT for debugging purposes.</span></span> <span data-ttu-id="f0d36-128">Další informace o Jwt, najdete v části hello [JWT specifikace](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="f0d36-128">For more information about JWTs, see hello [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="f0d36-129">ID tokeny</span><span class="sxs-lookup"><span data-stu-id="f0d36-129">ID tokens</span></span>
<span data-ttu-id="f0d36-130">ID token je formulář tokenu zabezpečení přihlášení, která vaše aplikace obdrží při ověřování se provádí pomocí [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="f0d36-130">An ID token is a form of sign-in security token that your app receives when it performs authentication by using [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="f0d36-131">ID tokeny jsou reprezentovány jako [Jwt](#types-of-tokens), a obsahují deklarace identity, které můžete toosign hello uživatele v aplikaci tooyour.</span><span class="sxs-lookup"><span data-stu-id="f0d36-131">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use toosign hello user in tooyour app.</span></span> <span data-ttu-id="f0d36-132">Hello deklarací identity můžete použít v tokenu ID různými způsoby.</span><span class="sxs-lookup"><span data-stu-id="f0d36-132">You can use hello claims in an ID token in various ways.</span></span> <span data-ttu-id="f0d36-133">Správci obvykle používají informace o účtu pro ID tokeny toodisplay nebo toomake rozhodnutí o řízení přístupu v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f0d36-133">Typically, admins use ID tokens toodisplay account information or toomake access control decisions in an app.</span></span> <span data-ttu-id="f0d36-134">koncový bod v2.0 Hello vydává pouze jeden typ ID token, který má konzistentní sadu deklarací identity, bez ohledu na typ hello uživatele, který je přihlášený.</span><span class="sxs-lookup"><span data-stu-id="f0d36-134">hello v2.0 endpoint issues only one type of ID token, which has a consistent set of claims, regardless of hello type of user that is signed in.</span></span> <span data-ttu-id="f0d36-135">Hello formát a obsah ID tokeny jsou text hello stejné pro osobní uživatele účtu Microsoft a pro pracovní nebo školní účty.</span><span class="sxs-lookup"><span data-stu-id="f0d36-135">hello format and content of ID tokens are hello same for personal Microsoft account users and for work or school accounts.</span></span>

<span data-ttu-id="f0d36-136">V současné době jsou tokeny typu ID podepsán, ale nejsou šifrovaná.</span><span class="sxs-lookup"><span data-stu-id="f0d36-136">Currently, ID tokens are signed but not encrypted.</span></span> <span data-ttu-id="f0d36-137">Pokud vaše aplikace obdrží ID token, musí [ověřit podpis hello](#validating-tokens) tooprove hello pravosti tokenu a ověřit pár deklarace identity v tokenu tooprove hello jeho platnosti.</span><span class="sxs-lookup"><span data-stu-id="f0d36-137">When your app receives an ID token, it must [validate hello signature](#validating-tokens) tooprove hello token's authenticity and validate a few claims in hello token tooprove its validity.</span></span> <span data-ttu-id="f0d36-138">Hello deklarace ověřené aplikací se liší v závislosti na požadavcích scénáře, ale aplikace musí provést některé [běžné ověření deklarace identity](#validating-tokens) v každý scénář.</span><span class="sxs-lookup"><span data-stu-id="f0d36-138">hello claims validated by an app vary depending on scenario requirements, but your app must perform some [common claim validations](#validating-tokens) in every scenario.</span></span>

<span data-ttu-id="f0d36-139">Jsme získáte hello hello úplné podrobnosti o deklaracích identity v tokenech ID v následující části, kromě tooa ukázkový ID token.</span><span class="sxs-lookup"><span data-stu-id="f0d36-139">We give you hello full details about claims in ID tokens in hello following sections, in addition tooa sample ID token.</span></span> <span data-ttu-id="f0d36-140">Všimněte si, že deklarace identity v tokenech ID nebudou zobrazeny v určitém pořadí.</span><span class="sxs-lookup"><span data-stu-id="f0d36-140">Note that claims in ID tokens are not returned in a specific order.</span></span> <span data-ttu-id="f0d36-141">Navíc můžete nových deklarací identity zavedená do tokenů ID kdykoli.</span><span class="sxs-lookup"><span data-stu-id="f0d36-141">Also, new claims can be introduced into ID tokens at any time.</span></span> <span data-ttu-id="f0d36-142">Aplikace by neměl přerušení, když jsou zavedené nových deklarací identity.</span><span class="sxs-lookup"><span data-stu-id="f0d36-142">Your app should not break when new claims are introduced.</span></span> <span data-ttu-id="f0d36-143">Hello následující seznam obsahuje hello deklarace identity, které vaše aplikace aktuálně můžete spolehlivě interpretovat.</span><span class="sxs-lookup"><span data-stu-id="f0d36-143">hello following list includes hello claims that your app currently can reliably interpret.</span></span> <span data-ttu-id="f0d36-144">Další informace naleznete v hello [OpenID Connect specifikace](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="f0d36-144">You can find more details in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="f0d36-145">Ukázkový token pro ID</span><span class="sxs-lookup"><span data-stu-id="f0d36-145">Sample ID token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSJ9.eyJhdWQiOiI2NzMxZGU3Ni0xNGE2LTQ5YWUtOTdiYy02ZWJhNjkxNDM5MWUiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vYjk0MTk4MTgtMDlhZi00OWMyLWIwYzMtNjUzYWRjMWYzNzZlL3YyLjAiLCJpYXQiOjE0NTIyODUzMzEsIm5iZiI6MTQ1MjI4NTMzMSwiZXhwIjoxNDUyMjg5MjMxLCJuYW1lIjoiQmFiZSBSdXRoIiwibm9uY2UiOiIxMjM0NSIsIm9pZCI6ImExZGJkZGU4LWU0ZjktNDU3MS1hZDkzLTMwNTllMzc1MGQyMyIsInByZWZlcnJlZF91c2VybmFtZSI6InRoZWdyZWF0YmFtYmlub0BueXkub25taWNyb3NvZnQuY29tIiwic3ViIjoiTUY0Zi1nZ1dNRWppMTJLeW5KVU5RWnBoYVVUdkxjUXVnNWpkRjJubDAxUSIsInRpZCI6ImI5NDE5ODE4LTA5YWYtNDljMi1iMGMzLTY1M2FkYzFmMzc2ZSIsInZlciI6IjIuMCJ9.p_rYdrtJ1oCmgDBggNHB9O38KTnLCMGbMDODdirdmZbmJcTHiZDdtTc-hguu3krhbtOsoYM2HJeZM3Wsbp_YcfSKDY--X_NobMNsxbT7bqZHxDnA2jTMyrmt5v2EKUnEeVtSiJXyO3JWUq9R0dO-m4o9_8jGP6zHtR62zLaotTBYHmgeKpZgTFB9WtUq8DVdyMn_HSvQEfz-LWqckbcTwM_9RNKoGRVk38KChVJo4z5LkksYRarDo8QgQ7xEKmYmPvRr_I7gvM2bmlZQds2OeqWLB1NSNbFZqyFOCgYn3bAQ-nEQSKwBaA36jYGPOVG2r2Qv1uKcpSOxzxaQybzYpQ
```

> [!TIP]
> <span data-ttu-id="f0d36-146">Pro postup tooinspect hello deklarace identity ve hello ukázkový ID token, vložte hello ukázkový ID, token do [calebb.net](http://calebb.net/).</span><span class="sxs-lookup"><span data-stu-id="f0d36-146">For practice, tooinspect hello claims in hello sample ID token, paste hello sample ID token into [calebb.net](http://calebb.net/).</span></span>
>
>

#### <a name="claims-in-id-tokens"></a><span data-ttu-id="f0d36-147">Deklarace identity v tokenech ID</span><span class="sxs-lookup"><span data-stu-id="f0d36-147">Claims in ID tokens</span></span>
| <span data-ttu-id="f0d36-148">Name (Název)</span><span class="sxs-lookup"><span data-stu-id="f0d36-148">Name</span></span> | <span data-ttu-id="f0d36-149">Deklarovat</span><span class="sxs-lookup"><span data-stu-id="f0d36-149">Claim</span></span> | <span data-ttu-id="f0d36-150">Příklad hodnoty</span><span class="sxs-lookup"><span data-stu-id="f0d36-150">Example value</span></span> | <span data-ttu-id="f0d36-151">Popis</span><span class="sxs-lookup"><span data-stu-id="f0d36-151">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f0d36-152">Cílová skupina</span><span class="sxs-lookup"><span data-stu-id="f0d36-152">audience</span></span> |`aud` |`6731de76-14a6-49ae-97bc-6eba6914391e` |<span data-ttu-id="f0d36-153">Identifikuje hello určené příjemce hello token.</span><span class="sxs-lookup"><span data-stu-id="f0d36-153">Identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="f0d36-154">V ID tokeny cílová skupina hello je ID aplikace vaší aplikace, přidělené tooyour aplikace v portálu pro registraci aplikace Microsoft hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-154">In ID tokens, hello audience is your app's Application ID, assigned tooyour app in hello Microsoft Application Registration Portal.</span></span> <span data-ttu-id="f0d36-155">Vaše aplikace by měl ověřit tuto hodnotu a odmítnout hello token, pokud hodnota hello neodpovídá.</span><span class="sxs-lookup"><span data-stu-id="f0d36-155">Your app should validate this value, and reject hello token if hello value does not match.</span></span> |
| <span data-ttu-id="f0d36-156">Vystavitel</span><span class="sxs-lookup"><span data-stu-id="f0d36-156">issuer</span></span> |`iss` |`https://login.microsoftonline.com/b9419818-09af-49c2-b0c3-653adc1f376e/v2.0 ` |<span data-ttu-id="f0d36-157">Identifikuje hello služby tokenů zabezpečení (STS), vytvoří a vrátí hello token a klient Azure AD hello, ve které hello došlo k ověření uživatele.</span><span class="sxs-lookup"><span data-stu-id="f0d36-157">Identifies hello security token service (STS) that constructs and returns hello token, and hello Azure AD tenant in which hello user was authenticated.</span></span> <span data-ttu-id="f0d36-158">Aplikace by měl ověřit hello vystavitele deklarace, že tooensure, který hello tokenu pochází koncového bodu v2.0 hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-158">Your app should validate hello issuer claim tooensure that hello token came from hello v2.0 endpoint.</span></span> <span data-ttu-id="f0d36-159">Používejte ani hello GUID část hello toorestrict hello sadu deklarací klienty, kteří se můžete přihlásit toohello aplikace.</span><span class="sxs-lookup"><span data-stu-id="f0d36-159">It also should use hello GUID portion of hello claim toorestrict hello set of tenants that can sign in toohello app.</span></span> <span data-ttu-id="f0d36-160">Hello identifikátor GUID, který označuje, že uživatele hello je příjemce uživatel ze společnosti Microsoft je účet `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="f0d36-160">hello GUID that indicates that hello user is a consumer user from a Microsoft account is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> |
| <span data-ttu-id="f0d36-161">vydané v</span><span class="sxs-lookup"><span data-stu-id="f0d36-161">issued at</span></span> |`iat` |`1452285331` |<span data-ttu-id="f0d36-162">Hello čas, na které hello byl vydán token, v čase epoch.</span><span class="sxs-lookup"><span data-stu-id="f0d36-162">hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="f0d36-163">čas vypršení platnosti</span><span class="sxs-lookup"><span data-stu-id="f0d36-163">expiration time</span></span> |`exp` |`1452289231` |<span data-ttu-id="f0d36-164">v čase epoch reprezentované Hello čas, na které hello stává neplatným, token.</span><span class="sxs-lookup"><span data-stu-id="f0d36-164">hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="f0d36-165">Aplikace by měla používat tato deklarace identity tooverify hello platnosti tokenu životnosti hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-165">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="f0d36-166">Neplatný před</span><span class="sxs-lookup"><span data-stu-id="f0d36-166">not before</span></span> |`nbf` |`1452285331` |<span data-ttu-id="f0d36-167">v čase epoch reprezentované Hello čas, na které hello vstupuje v platnost, token.</span><span class="sxs-lookup"><span data-stu-id="f0d36-167">hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="f0d36-168">Je obvykle stejné jako čas vystavení hello hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-168">It is usually hello same as hello issuance time.</span></span> <span data-ttu-id="f0d36-169">Aplikace by měla používat tato deklarace identity tooverify hello platnosti tokenu životnosti hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-169">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="f0d36-170">Verze</span><span class="sxs-lookup"><span data-stu-id="f0d36-170">version</span></span> |`ver` |`2.0` |<span data-ttu-id="f0d36-171">verze Hello hello ID tokenu, jak je definované ve službě Azure AD.</span><span class="sxs-lookup"><span data-stu-id="f0d36-171">hello version of hello ID token, as defined by Azure AD.</span></span> <span data-ttu-id="f0d36-172">Pro koncový bod v2.0 hello, hodnota hello je `2.0`.</span><span class="sxs-lookup"><span data-stu-id="f0d36-172">For hello v2.0 endpoint, hello value is `2.0`.</span></span> |
| <span data-ttu-id="f0d36-173">ID klienta</span><span class="sxs-lookup"><span data-stu-id="f0d36-173">tenant ID</span></span> |`tid` |`b9419818-09af-49c2-b0c3-653adc1f376e` |<span data-ttu-id="f0d36-174">Identifikátor GUID, který představuje klienta hello Azure AD, která hello uživatele je z.</span><span class="sxs-lookup"><span data-stu-id="f0d36-174">A GUID that represents hello Azure AD tenant that hello user is from.</span></span> <span data-ttu-id="f0d36-175">Pro pracovní a školní účty je hello GUID hello neměnné klienta, ke které patří ID hello organizace, která hello uživatele.</span><span class="sxs-lookup"><span data-stu-id="f0d36-175">For work and school accounts, hello GUID is hello immutable tenant ID of hello organization that hello user belongs to.</span></span> <span data-ttu-id="f0d36-176">Pro osobní účty, hodnota hello je `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="f0d36-176">For personal accounts, hello value is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> <span data-ttu-id="f0d36-177">Hello `profile` obor je požadován v pořadí tooreceive tuto deklaraci.</span><span class="sxs-lookup"><span data-stu-id="f0d36-177">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="f0d36-178">Kód hash</span><span class="sxs-lookup"><span data-stu-id="f0d36-178">code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="f0d36-179">Kód hash Hello je součástí tokeny typu ID jenom v případě, že je hello ID token vydán s kódem autorizace OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f0d36-179">hello code hash is included in ID tokens only when hello ID token is issued with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="f0d36-180">Dá se použít toovalidate hello pravost autorizační kód.</span><span class="sxs-lookup"><span data-stu-id="f0d36-180">It can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="f0d36-181">Podrobnosti o provedení tohoto ověření naleznete v tématu hello [OpenID Connect specifikace](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="f0d36-181">For details about performing this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="f0d36-182">Hodnota hash tokenu přístupu</span><span class="sxs-lookup"><span data-stu-id="f0d36-182">access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="f0d36-183">hash tokenu přístupu Hello je součástí tokeny typu ID jenom v případě, že je hello ID token vydán s přístupový token OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f0d36-183">hello access token hash is included in ID tokens only when hello ID token is issued with an OAuth 2.0 access token.</span></span> <span data-ttu-id="f0d36-184">Dá se použít toovalidate hello pravost přístupový token.</span><span class="sxs-lookup"><span data-stu-id="f0d36-184">It can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="f0d36-185">Podrobnosti o provedení tohoto ověření naleznete v tématu hello [OpenID Connect specifikace](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="f0d36-185">For details about performing this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="f0d36-186">hodnotu Nonce</span><span class="sxs-lookup"><span data-stu-id="f0d36-186">nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="f0d36-187">hodnotu nonce Hello je strategie pro minimalizaci útoky opětovného přehrání tokenu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-187">hello nonce is a strategy for mitigating token replay attacks.</span></span> <span data-ttu-id="f0d36-188">Vaše aplikace může určit hodnotu nonce v jednom požadavku autorizace pomocí hello `nonce` parametr dotazu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-188">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="f0d36-189">Hodnota Hello zadáte v žádosti o hello je vygenerované v tokenu ID hello `nonce` deklarace identity, ponechat beze změny.</span><span class="sxs-lookup"><span data-stu-id="f0d36-189">hello value you provide in hello request is emitted in hello ID token's `nonce` claim, unmodified.</span></span> <span data-ttu-id="f0d36-190">Aplikace můžete ověřit hodnoty hello s hello hodnotu, kterou není zadán u hello požadavku, která přidruží token konkrétní ID relace hello aplikace.</span><span class="sxs-lookup"><span data-stu-id="f0d36-190">Your app can verify hello value against hello value it specified on hello request, which associates hello app's session with a specific ID token.</span></span> <span data-ttu-id="f0d36-191">Aplikace by měla provést toto ověření během procesu ověření tokenu ID hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-191">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="f0d36-192">jméno</span><span class="sxs-lookup"><span data-stu-id="f0d36-192">name</span></span> |`name` |`Babe Ruth` |<span data-ttu-id="f0d36-193">deklarace identity názvu Hello poskytuje čitelná pro člověka hodnotu, která identifikuje hello subjektu hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-193">hello name claim provides a human-readable value that identifies hello subject of hello token.</span></span> <span data-ttu-id="f0d36-194">Hodnota Hello není zaručeno, že toobe jedinečné, je měnitelný a je určen toobe použít pouze pro účely zobrazení.</span><span class="sxs-lookup"><span data-stu-id="f0d36-194">hello value is not guaranteed toobe unique, it is mutable, and it's designed toobe used only for display purposes.</span></span> <span data-ttu-id="f0d36-195">Hello `profile` obor je požadován v pořadí tooreceive tuto deklaraci.</span><span class="sxs-lookup"><span data-stu-id="f0d36-195">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="f0d36-196">E-mailu</span><span class="sxs-lookup"><span data-stu-id="f0d36-196">email</span></span> |`email` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="f0d36-197">Hello primární e-mailová adresa přidružená hello uživatelský účet, pokud nějaká existuje.</span><span class="sxs-lookup"><span data-stu-id="f0d36-197">hello primary email address associated with hello user account, if one exists.</span></span> <span data-ttu-id="f0d36-198">Její hodnota je měnitelný a může časem změnit.</span><span class="sxs-lookup"><span data-stu-id="f0d36-198">Its value is mutable and might change over time.</span></span> <span data-ttu-id="f0d36-199">Hello `email` obor je požadován v pořadí tooreceive tuto deklaraci.</span><span class="sxs-lookup"><span data-stu-id="f0d36-199">hello `email` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="f0d36-200">upřednostňované uživatelské jméno</span><span class="sxs-lookup"><span data-stu-id="f0d36-200">preferred username</span></span> |`preferred_username` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="f0d36-201">Hello primární uživatelské jméno, který reprezentuje uživatele hello v koncového bodu v2.0 hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-201">hello primary username that represents hello user in hello v2.0 endpoint.</span></span> <span data-ttu-id="f0d36-202">To může být e-mailovou adresu, telefonní číslo nebo obecné uživatelské jméno bez zadaného formátu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-202">It could be an email address, phone number, or a generic username without a specified format.</span></span> <span data-ttu-id="f0d36-203">Její hodnota je měnitelný a může časem změnit.</span><span class="sxs-lookup"><span data-stu-id="f0d36-203">Its value is mutable and might change over time.</span></span> <span data-ttu-id="f0d36-204">Hello `profile` obor je požadován v pořadí tooreceive tuto deklaraci.</span><span class="sxs-lookup"><span data-stu-id="f0d36-204">hello `profile` scope is required in order tooreceive this claim.</span></span> |
| <span data-ttu-id="f0d36-205">Předmět</span><span class="sxs-lookup"><span data-stu-id="f0d36-205">subject</span></span> |`sub` |`MF4f-ggWMEji12KynJUNQZphaUTvLcQug5jdF2nl01Q` | <span data-ttu-id="f0d36-206">objekt zabezpečení Hello, o které hello token vyhodnotí informace, například hello uživatele aplikace.</span><span class="sxs-lookup"><span data-stu-id="f0d36-206">hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="f0d36-207">Tato hodnota se nedá změnit a nemůže být přiřazeny nebo znovu použít.</span><span class="sxs-lookup"><span data-stu-id="f0d36-207">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="f0d36-208">Lze použít tooperform kontroly autorizace, bezpečně, například když je použité tooaccess prostředek hello token a slouží jako klíč v tabulkách databáze.</span><span class="sxs-lookup"><span data-stu-id="f0d36-208">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource, and can be used as a key in database tables.</span></span> <span data-ttu-id="f0d36-209">Vzhledem k tomu, že je vždy k dispozici v tokenech hello hello předmětu, že Azure AD vydá, doporučujeme používat tuto hodnotu v systému pro obecné účely autorizace.</span><span class="sxs-lookup"><span data-stu-id="f0d36-209">Because hello subject is always present in hello tokens that Azure AD issues, we recommend using this value in a general-purpose authorization system.</span></span> <span data-ttu-id="f0d36-210">předmět Hello je však identifikátor pairwise – je ID jedinečný tooa konkrétní aplikace.</span><span class="sxs-lookup"><span data-stu-id="f0d36-210">hello subject is, however, a pairwise identifier - it is unique tooa particular application ID.</span></span>  <span data-ttu-id="f0d36-211">Proto pokud jeden uživatel přihlásí do dvou různých aplikací pomocí dva identifikátory ID jiného klienta, tyto aplikace se zobrazí dvě různé hodnoty pro deklarace identity subjektu hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-211">Therefore, if a single user signs into two different apps using two different client IDs, those apps will receive two different values for hello subject claim.</span></span>  <span data-ttu-id="f0d36-212">To se může nebo nemusí být potřeby v závislosti na požadavcích vaší architektury a ochrana osobních údajů.</span><span class="sxs-lookup"><span data-stu-id="f0d36-212">This may or may not be desired depending on your architecture and privacy requirements.</span></span> |
| <span data-ttu-id="f0d36-213">ID objektu</span><span class="sxs-lookup"><span data-stu-id="f0d36-213">object ID</span></span> |`oid` |`a1dbdde8-e4f9-4571-ad93-3059e3750d23` | <span data-ttu-id="f0d36-214">Hello neměnné identifikátor pro objekt v hello Microsoft identity systému, v takovém případě uživatelský účet.</span><span class="sxs-lookup"><span data-stu-id="f0d36-214">hello immutable identifier for an object in hello Microsoft identity system, in this case, a user account.</span></span>  <span data-ttu-id="f0d36-215">Lze ji použít tooperform kontroly autorizace bezpečně a jako klíč v tabulkách databáze.</span><span class="sxs-lookup"><span data-stu-id="f0d36-215">It can also be used tooperform authorization checks safely and as a key in database tables.</span></span> <span data-ttu-id="f0d36-216">Toto ID jednoznačně identifikuje uživatele hello napříč aplikacemi – přihlášení hello stejný uživatel obdrží dvě různé aplikace hello stejnou hodnotu v hello `oid` deklarací identity.</span><span class="sxs-lookup"><span data-stu-id="f0d36-216">This ID uniquely identifies hello user across applications - two different applications signing in hello same user will receive hello same value in hello `oid` claim.</span></span>  <span data-ttu-id="f0d36-217">To znamená, že ho lze použít při zadávání dotazů tooMicrosoft online služby, jako je Microsoft Graph hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-217">This means that it can be used when making queries tooMicrosoft online services, such as hello Microsoft Graph.</span></span>  <span data-ttu-id="f0d36-218">Toto ID hello vrátí Hello Microsoft Graph `id` vlastnost pro daný uživatelský účet.</span><span class="sxs-lookup"><span data-stu-id="f0d36-218">hello Microsoft Graph will return this ID as hello `id` property for a given user account.</span></span>  <span data-ttu-id="f0d36-219">Protože hello `oid` uživatelům víc aplikací toocorrelate, hello `profile` obor je požadován v pořadí tooreceive tuto deklaraci.</span><span class="sxs-lookup"><span data-stu-id="f0d36-219">Because hello `oid` allows multiple apps toocorrelate users, hello `profile` scope is required in order tooreceive this claim.</span></span> <span data-ttu-id="f0d36-220">Všimněte si, že pokud jeden uživatel existuje v několika klientech, hello uživatele bude obsahovat ID jiný objekt v každém klientovi – Přestože hello uživatel přihlásí do každého účtu s hello stejné přihlašovací údaje jsou považovány za různé účty.</span><span class="sxs-lookup"><span data-stu-id="f0d36-220">Note that if a single user exists in multiple tenants, hello user will contain a different object ID in each tenant - they are considered different accounts, even though hello user logs into each account with hello same credentials.</span></span> |

### <a name="access-tokens"></a><span data-ttu-id="f0d36-221">Přístupové tokeny</span><span class="sxs-lookup"><span data-stu-id="f0d36-221">Access tokens</span></span>
<span data-ttu-id="f0d36-222">V současné době přístupové tokeny vydané koncového bodu v2.0 hello mohou být spotřebovávána pouze Microsoft Services.</span><span class="sxs-lookup"><span data-stu-id="f0d36-222">Currently, access tokens issued by hello v2.0 endpoint can be consumed only by Microsoft Services.</span></span> <span data-ttu-id="f0d36-223">Vaše aplikace by neměl potřebovat tooperform žádné ověření nebo kontroly přístupové tokeny hello aktuálně podporované scénáře.</span><span class="sxs-lookup"><span data-stu-id="f0d36-223">Your apps shouldn't need tooperform any validation or inspection of access tokens for any of hello currently supported scenarios.</span></span> <span data-ttu-id="f0d36-224">Přístupové tokeny lze považovat za zcela neprůhledný.</span><span class="sxs-lookup"><span data-stu-id="f0d36-224">You can treat access tokens as completely opaque.</span></span> <span data-ttu-id="f0d36-225">Jsou jenom řetězce, že vaše aplikace můžete předat tooMicrosoft požadavky HTTP.</span><span class="sxs-lookup"><span data-stu-id="f0d36-225">They are just strings that your app can pass tooMicrosoft in HTTP requests.</span></span>

<span data-ttu-id="f0d36-226">V blízkosti budoucí, v2.0 hello hello koncový bod zavedete hello možnost pro vaše aplikace tooreceive přístupové tokeny z jiných klientů.</span><span class="sxs-lookup"><span data-stu-id="f0d36-226">In hello near future, hello v2.0 endpoint will introduce hello ability for your app tooreceive access tokens from other clients.</span></span> <span data-ttu-id="f0d36-227">V ten moment se aktualizují hello informace v tomto tématu odkaz na hello informace potřebné pro vaše aplikace tooperform přístup k ověření tokenu a další podobné úlohy.</span><span class="sxs-lookup"><span data-stu-id="f0d36-227">At that time, hello information in this reference topic will be updated with hello information that you need for your app tooperform access token validation and other similar tasks.</span></span>

<span data-ttu-id="f0d36-228">Pokud budete požadovat token přístupu z koncového bodu v2.0 hello, hello koncového bodu v2.0 také vrátí hodnotu metadata o hello přístupový token pro toouse vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="f0d36-228">When you request an access token from hello v2.0 endpoint, hello v2.0 endpoint also returns metadata about hello access token for your app toouse.</span></span> <span data-ttu-id="f0d36-229">Tyto informace zahrnují čas vypršení platnosti hello hello přístupový token a hello oborů, pro které je platný.</span><span class="sxs-lookup"><span data-stu-id="f0d36-229">This information includes hello expiry time of hello access token and hello scopes for which it is valid.</span></span> <span data-ttu-id="f0d36-230">Vaše aplikace používá tato metadata tooperform inteligentního ukládání do mezipaměti přístupové tokeny bez nutnosti tooparse otevřete hello přístupový token, sám sebe.</span><span class="sxs-lookup"><span data-stu-id="f0d36-230">Your app uses this metadata tooperform intelligent caching of access tokens without having tooparse open hello access token itself.</span></span>

### <a name="refresh-tokens"></a><span data-ttu-id="f0d36-231">Obnovovacích tokenů</span><span class="sxs-lookup"><span data-stu-id="f0d36-231">Refresh tokens</span></span>
<span data-ttu-id="f0d36-232">Obnovovacích tokenů jsou tokeny zabezpečení, vaše aplikace můžete použít tooget nové přístup tokeny v tok OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f0d36-232">Refresh tokens are security tokens that your app can use tooget new access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="f0d36-233">Aplikace můžete použít aktualizace tokeny tooachieve dlouhodobé přístup tooresources jménem uživatele bez nutnosti interakce s uživatelem hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-233">Your app can use refresh tokens tooachieve long-term access tooresources on behalf of a user without requiring interaction with hello user.</span></span>

<span data-ttu-id="f0d36-234">Tokeny obnovení jsou více prostředků.</span><span class="sxs-lookup"><span data-stu-id="f0d36-234">Refresh tokens are multi-resource.</span></span> <span data-ttu-id="f0d36-235">Token obnovení obdržel během žádosti o token pro jeden prostředek lze uplatnit pro přístup k tokeny tooa úplně jiný prostředek.</span><span class="sxs-lookup"><span data-stu-id="f0d36-235">A refresh token received during a token request for one resource can be redeemed for access tokens tooa completely different resource.</span></span>

<span data-ttu-id="f0d36-236">tooreceive aktualizace v odpovědi tokenu, vaše aplikace musí požádat a udělit hello `offline_acesss` oboru.</span><span class="sxs-lookup"><span data-stu-id="f0d36-236">tooreceive a refresh in a token response, your app must request and be granted hello `offline_acesss` scope.</span></span> <span data-ttu-id="f0d36-237">Další informace o hello toolearn `offline_access` obor najdete v tématu hello [souhlasu a obory](active-directory-v2-scopes.md) článku.</span><span class="sxs-lookup"><span data-stu-id="f0d36-237">toolearn more about hello `offline_access` scope, see hello [consent and scopes](active-directory-v2-scopes.md) article.</span></span>

<span data-ttu-id="f0d36-238">Obnovovacích tokenů jsou a vždy budou, zcela neprůhledný tooyour aplikace.</span><span class="sxs-lookup"><span data-stu-id="f0d36-238">Refresh tokens are, and always will be, completely opaque tooyour app.</span></span> <span data-ttu-id="f0d36-239">Se vydávají koncového bodu v2.0 hello Azure AD a můžete být prověřovány a interpretovat koncového bodu v2.0 hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-239">They are issued by hello Azure AD v2.0 endpoint and can only be inspected and interpreted by hello v2.0 endpoint.</span></span> <span data-ttu-id="f0d36-240">Jsou dlohotrvající, ale aplikace nemá zapisovat tooexpect, který token obnovení vydrží období.</span><span class="sxs-lookup"><span data-stu-id="f0d36-240">They are long-lived, but your app should not be written tooexpect that a refresh token will last for any period of time.</span></span> <span data-ttu-id="f0d36-241">V každém okamžiku z různých důvodů může být zneplatněné obnovovacích tokenů.</span><span class="sxs-lookup"><span data-stu-id="f0d36-241">Refresh tokens can be invalidated at any moment for various reasons.</span></span> <span data-ttu-id="f0d36-242">Hello tooattempt tooredeem je způsob, jak vaše aplikace tooknow pokud obnovovací token je platný pouze ji tak, že koncový bod žádosti o token toohello v2.0.</span><span class="sxs-lookup"><span data-stu-id="f0d36-242">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request toohello v2.0 endpoint.</span></span>

<span data-ttu-id="f0d36-243">Pokud uplatníte obnovovací token pro nový přístupový token (a pokud vaše aplikace byl udělen hello `offline_access` oboru), se zobrazí nový token aktualizace v odpovědi tokenu hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-243">When you redeem a refresh token for a new access token (and if your app had been granted hello `offline_access` scope), you receive a new refresh token in hello token response.</span></span> <span data-ttu-id="f0d36-244">Uložte hello nově vydané aktualizace tokenu, tooreplace hello jeden, které jste použili v žádosti o hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-244">Save hello newly issued refresh token, tooreplace hello one you used in hello request.</span></span> <span data-ttu-id="f0d36-245">To zaručuje, že jsou dál platné pro stejně dlouho obnovovacích tokenů.</span><span class="sxs-lookup"><span data-stu-id="f0d36-245">This guarantees that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="f0d36-246">Ověřování tokenů</span><span class="sxs-lookup"><span data-stu-id="f0d36-246">Validating tokens</span></span>
<span data-ttu-id="f0d36-247">V současné době hello pouze ověření tokenu aplikace měli tooperform ověřuje tokeny typu ID.</span><span class="sxs-lookup"><span data-stu-id="f0d36-247">Currently, hello only token validation your apps should need tooperform is validating ID tokens.</span></span> <span data-ttu-id="f0d36-248">toovalidate ID token aplikace by měl ověřit token obou hello ID podpisu hello deklarace identity a v tokenu ID hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-248">toovalidate an ID token, your app should validate both hello ID token's signature and hello claims in hello ID token.</span></span>

<!-- TODO: Link -->
<span data-ttu-id="f0d36-249">Společnost Microsoft poskytuje knihovny a ukázky kódu, které ukazují, jak pracovat s tooeasily ověření tokenu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-249">Microsoft provides libraries and code samples that show you how tooeasily handle token validation.</span></span> <span data-ttu-id="f0d36-250">V dalších částech hello jsme popisují základní proces hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-250">In hello next sections, we describe hello underlying process.</span></span> <span data-ttu-id="f0d36-251">Několik knihovny open-source třetí strany jsou také k dispozici pro ověřování JWT.</span><span class="sxs-lookup"><span data-stu-id="f0d36-251">Several third-party open-source libraries also are available for JWT validation.</span></span> <span data-ttu-id="f0d36-252">Není k dispozici nejméně jedna knihovna možnost pro téměř každé platformě a jazyk.</span><span class="sxs-lookup"><span data-stu-id="f0d36-252">There's at least one library option for almost every platform and language.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="f0d36-253">Ověření podpisu hello</span><span class="sxs-lookup"><span data-stu-id="f0d36-253">Validate hello signature</span></span>
<span data-ttu-id="f0d36-254">Token JWT obsahuje tři segmenty, které jsou odděleny hello `.` znak.</span><span class="sxs-lookup"><span data-stu-id="f0d36-254">A JWT contains three segments, which are separated by hello `.` character.</span></span> <span data-ttu-id="f0d36-255">první segment Hello se označuje jako hello *záhlaví*, druhý segment hello je hello *textu*, a třetí segment hello je hello *podpis*.</span><span class="sxs-lookup"><span data-stu-id="f0d36-255">hello first segment is known as hello *header*, hello second segment is hello *body*, and hello third segment is hello *signature*.</span></span> <span data-ttu-id="f0d36-256">segment podpis Hello lze použít toovalidate hello pravosti tokenu ID hello tak, aby důvěryhodné aplikace.</span><span class="sxs-lookup"><span data-stu-id="f0d36-256">hello signature segment can be used toovalidate hello authenticity of hello ID token so that it can be trusted by your app.</span></span>

<span data-ttu-id="f0d36-257">ID tokeny jsou podepsány pomocí standardní asymetrických šifrovacích algoritmů, například RSA 256.</span><span class="sxs-lookup"><span data-stu-id="f0d36-257">ID tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="f0d36-258">Hello hlavička hello ID token obsahuje informace o klíči hello a metodu šifrování použít toosign hello token.</span><span class="sxs-lookup"><span data-stu-id="f0d36-258">hello header of hello ID token has information about hello key and encryption method used toosign hello token.</span></span> <span data-ttu-id="f0d36-259">Například:</span><span class="sxs-lookup"><span data-stu-id="f0d36-259">For example:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "kid": "MnC_VZcATfM5pOYiJHMba9goEKY"
}
```

<span data-ttu-id="f0d36-260">Hello `alg` deklarace identity označuje hello algoritmus, který byl použité toosign hello token.</span><span class="sxs-lookup"><span data-stu-id="f0d36-260">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="f0d36-261">Hello `kid` deklarace identity označuje hello veřejný klíč, který byl použité toosign hello token.</span><span class="sxs-lookup"><span data-stu-id="f0d36-261">hello `kid` claim indicates hello public key that was used toosign hello token.</span></span>

<span data-ttu-id="f0d36-262">V každém okamžiku může být koncového bodu v2.0 hello podepsat ID token pomocí kterékoli z konkrétní sadu páry klíčů veřejný soukromý.</span><span class="sxs-lookup"><span data-stu-id="f0d36-262">At any time, hello v2.0 endpoint might sign an ID token by using any one of a specific set of public-private key pairs.</span></span> <span data-ttu-id="f0d36-263">koncového bodu v2.0 Hello pravidelně otočí hello možné sady klíčů, takže vaše aplikace by měly být zapsány toohandle tyto klíče se automaticky změní.</span><span class="sxs-lookup"><span data-stu-id="f0d36-263">hello v2.0 endpoint periodically rotates hello possible set of keys, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="f0d36-264">Přiměřené frekvence toocheck pro aktualizace toohello veřejné klíče používané koncového bodu v2.0 hello je každých 24 hodin.</span><span class="sxs-lookup"><span data-stu-id="f0d36-264">A reasonable frequency toocheck for updates toohello public keys used by hello v2.0 endpoint is every 24 hours.</span></span>

<span data-ttu-id="f0d36-265">Můžete získat hello podepisování klíčová data, které potřebujete toovalidate hello podpis pomocí hello OpenID Connect dokument metadat nacházející se v:</span><span class="sxs-lookup"><span data-stu-id="f0d36-265">You can acquire hello signing key data that you need toovalidate hello signature by using hello OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="f0d36-266">Vyzkoušejte hello adresy URL v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="f0d36-266">Try hello URL in a browser!</span></span>
>
>

<span data-ttu-id="f0d36-267">Tento dokument metadat je objekt JSON, který má několik užitečné informací, jako je například umístění hello hello různé koncové body požadované pro ověřování OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="f0d36-267">This metadata document is a JSON object that has several useful pieces of information, such as hello location of hello various endpoints required for OpenID Connect authentication.</span></span>  <span data-ttu-id="f0d36-268">Hello dokument taky obsahuje *jwks_uri*, což dává hello umístění sady hello veřejných klíčů, používá toosign tokeny.</span><span class="sxs-lookup"><span data-stu-id="f0d36-268">hello document also includes a *jwks_uri*, which gives hello location of hello set of public keys used toosign tokens.</span></span> <span data-ttu-id="f0d36-269">dokument JSON Hello nacházející se v hello jwks_uri má všechny hello informací veřejného klíče, který je aktuálně používán.</span><span class="sxs-lookup"><span data-stu-id="f0d36-269">hello JSON document located at hello jwks_uri has all hello public key information that is currently in use.</span></span> <span data-ttu-id="f0d36-270">Aplikace můžete použít hello `kid` deklarací identity v hello JWT záhlaví tooselect které veřejný klíč v tomto dokumentu bylo použité toosign token.</span><span class="sxs-lookup"><span data-stu-id="f0d36-270">Your app can use hello `kid` claim in hello JWT header tooselect which public key in this document has been used toosign a token.</span></span> <span data-ttu-id="f0d36-271">Potom provede ověření podpisu pomocí hello správný veřejný klíč a algoritmus uvedené hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-271">It then performs signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="f0d36-272">Provádění ověřování podpisu je mimo rámec tohoto dokumentu hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-272">Performing signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="f0d36-273">Mnoho knihovny open-source jsou k dispozici toohelp vám to.</span><span class="sxs-lookup"><span data-stu-id="f0d36-273">Many open-source libraries are available toohelp you with this.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="f0d36-274">Ověřit hello deklarace identity</span><span class="sxs-lookup"><span data-stu-id="f0d36-274">Validate hello claims</span></span>
<span data-ttu-id="f0d36-275">Pokud vaše aplikace obdrží token ID při přihlášení uživatele, má také provést několik kontrol před hello nároky v tokenu ID hello.</span><span class="sxs-lookup"><span data-stu-id="f0d36-275">When your app receives an ID token upon user sign-in, it should also perform a few checks against hello claims in hello ID token.</span></span> <span data-ttu-id="f0d36-276">Patří mezi ně nejsou omezeny na:</span><span class="sxs-lookup"><span data-stu-id="f0d36-276">These include but are not limited to:</span></span>

* <span data-ttu-id="f0d36-277">**Cílová skupina** deklarace identity, tooverify, který hello ID token byl určený toobe zadané tooyour aplikace</span><span class="sxs-lookup"><span data-stu-id="f0d36-277">**audience** claim, tooverify that hello ID token was intended toobe given tooyour app</span></span>
* <span data-ttu-id="f0d36-278">**Neplatný před** a **čas vypršení platnosti** deklarací, jestli nevypršela platnost tooverify, který hello ID token</span><span class="sxs-lookup"><span data-stu-id="f0d36-278">**not before** and **expiration time** claims, tooverify that hello ID token has not expired</span></span>
* <span data-ttu-id="f0d36-279">**Vystavitel** deklarace identity, tooverify, který hello token byl vydán tooyour aplikace koncového bodu v2.0 hello</span><span class="sxs-lookup"><span data-stu-id="f0d36-279">**issuer** claim, tooverify that hello token was issued tooyour app by hello v2.0 endpoint</span></span>
* <span data-ttu-id="f0d36-280">**hodnotu Nonce**, jako token přehráním snížení rizika útoku</span><span class="sxs-lookup"><span data-stu-id="f0d36-280">**nonce**, as a token replay attack mitigation</span></span>

<span data-ttu-id="f0d36-281">Úplný seznam ověření deklarace identity, které vaše aplikace by měla provádět, naleznete v části hello [OpenID Connect specifikace](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="f0d36-281">For a full list of claim validations that your app should perform, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span>

<span data-ttu-id="f0d36-282">Podrobnosti o hello očekávaných hodnot pro tyto deklarace identity jsou součástí hello [tokeny typu ID](# ID tokens) části.</span><span class="sxs-lookup"><span data-stu-id="f0d36-282">Details of hello expected values for these claims are included in hello [ID tokens](# ID tokens) section.</span></span>

## <a name="token-lifetimes"></a><span data-ttu-id="f0d36-283">Token životnosti</span><span class="sxs-lookup"><span data-stu-id="f0d36-283">Token lifetimes</span></span>
<span data-ttu-id="f0d36-284">Poskytujeme hello následující životnosti tokenu pro vás pouze informační charakter.</span><span class="sxs-lookup"><span data-stu-id="f0d36-284">We provide hello following token lifetimes for your information only.</span></span> <span data-ttu-id="f0d36-285">Hello informace vám mohou pomoci při vývoji a ladění aplikací.</span><span class="sxs-lookup"><span data-stu-id="f0d36-285">hello information might help you as you develop and debug apps.</span></span> <span data-ttu-id="f0d36-286">Vaše aplikace by neměl být zapsána tooexpect některé z těchto životnosti tooremain konstanta.</span><span class="sxs-lookup"><span data-stu-id="f0d36-286">Your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="f0d36-287">Token může životnosti a bude kdykoli změnit.</span><span class="sxs-lookup"><span data-stu-id="f0d36-287">Token lifetimes can and will change at any time.</span></span>

| <span data-ttu-id="f0d36-288">Token</span><span class="sxs-lookup"><span data-stu-id="f0d36-288">Token</span></span> | <span data-ttu-id="f0d36-289">Doba platnosti</span><span class="sxs-lookup"><span data-stu-id="f0d36-289">Lifetime</span></span> | <span data-ttu-id="f0d36-290">Popis</span><span class="sxs-lookup"><span data-stu-id="f0d36-290">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f0d36-291">ID tokeny (pracovní nebo školní účty)</span><span class="sxs-lookup"><span data-stu-id="f0d36-291">ID tokens (work or school accounts)</span></span> |<span data-ttu-id="f0d36-292">1 hodina</span><span class="sxs-lookup"><span data-stu-id="f0d36-292">1 hour</span></span> |<span data-ttu-id="f0d36-293">Tokeny typu ID obvykle jsou platné po dobu 1 hodina.</span><span class="sxs-lookup"><span data-stu-id="f0d36-293">ID tokens typically are valid for 1 hour.</span></span> <span data-ttu-id="f0d36-294">Webové aplikace můžete použít tento stejný toomaintain životního cyklu, které vlastní relaci s hello uživatele (doporučeno), nebo se můžete rozhodnout životnost úplně jiné relace.</span><span class="sxs-lookup"><span data-stu-id="f0d36-294">Your web app can use this same lifetime toomaintain its own session with hello user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="f0d36-295">Pokud aplikace potřebuje tooget nový token ID, musí žádosti toomake nové přihlášení toohello v2.0 zajistí autorizaci koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-295">If your app needs tooget a new ID token, it needs toomake a new sign-in request toohello v2.0 authorize endpoint.</span></span> <span data-ttu-id="f0d36-296">Pokud má uživatel hello relace platná prohlížeče s koncovým bodem v2.0 hello, hello uživatele není může být požadované tooenter své přihlašovací údaje znovu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-296">If hello user has a valid browser session with hello v2.0 endpoint, hello user might not be required tooenter their credentials again.</span></span> |
| <span data-ttu-id="f0d36-297">ID tokeny (osobní účty)</span><span class="sxs-lookup"><span data-stu-id="f0d36-297">ID tokens (personal accounts)</span></span> |<span data-ttu-id="f0d36-298">24 hodin</span><span class="sxs-lookup"><span data-stu-id="f0d36-298">24 hours</span></span> |<span data-ttu-id="f0d36-299">ID tokeny pro osobní účty obvykle jsou platné po dobu 24 hodin.</span><span class="sxs-lookup"><span data-stu-id="f0d36-299">ID tokens for personal accounts typically are valid for 24 hours.</span></span> <span data-ttu-id="f0d36-300">Webové aplikace můžete použít tento stejný toomaintain životního cyklu, které vlastní relaci s hello uživatele (doporučeno), nebo se můžete rozhodnout životnost úplně jiné relace.</span><span class="sxs-lookup"><span data-stu-id="f0d36-300">Your web app can use this same lifetime toomaintain its own session with hello user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="f0d36-301">Pokud aplikace potřebuje tooget nový token ID, musí žádosti toomake nové přihlášení toohello v2.0 zajistí autorizaci koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-301">If your app needs tooget a new ID token, it needs toomake a new sign-in request toohello v2.0 authorize endpoint.</span></span> <span data-ttu-id="f0d36-302">Pokud má uživatel hello relace platná prohlížeče s koncovým bodem v2.0 hello, hello uživatele není může být požadované tooenter své přihlašovací údaje znovu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-302">If hello user has a valid browser session with hello v2.0 endpoint, hello user might not be required tooenter their credentials again.</span></span> |
| <span data-ttu-id="f0d36-303">Přístupové tokeny (pracovní nebo školní účty)</span><span class="sxs-lookup"><span data-stu-id="f0d36-303">Access tokens (work or school accounts)</span></span> |<span data-ttu-id="f0d36-304">1 hodina</span><span class="sxs-lookup"><span data-stu-id="f0d36-304">1 hour</span></span> |<span data-ttu-id="f0d36-305">Jako součást tokenu metadata hello uvedené v odpovědi tokenu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-305">Indicated in token responses as part of hello token metadata.</span></span> |
| <span data-ttu-id="f0d36-306">Přístupové tokeny (osobní účty)</span><span class="sxs-lookup"><span data-stu-id="f0d36-306">Access tokens (personal accounts)</span></span> |<span data-ttu-id="f0d36-307">1 hodina</span><span class="sxs-lookup"><span data-stu-id="f0d36-307">1 hour</span></span> |<span data-ttu-id="f0d36-308">Jako součást tokenu metadata hello uvedené v odpovědi tokenu.</span><span class="sxs-lookup"><span data-stu-id="f0d36-308">Indicated in token responses as part of hello token metadata.</span></span> <span data-ttu-id="f0d36-309">Přístupové tokeny, které jsou vydány jménem osobní účty je možné nakonfigurovat pro různé životnost, ale je typické 1 hodina.</span><span class="sxs-lookup"><span data-stu-id="f0d36-309">Access tokens that are issued on behalf of personal accounts can be configured for a different lifetime, but 1 hour is typical.</span></span> |
| <span data-ttu-id="f0d36-310">Obnovovacích tokenů (pracovní nebo školní účet)</span><span class="sxs-lookup"><span data-stu-id="f0d36-310">Refresh tokens (work or school account)</span></span> |<span data-ttu-id="f0d36-311">Až too14 dnů</span><span class="sxs-lookup"><span data-stu-id="f0d36-311">Up too14 days</span></span> |<span data-ttu-id="f0d36-312">Jeden obnovovací token je platný pro maximálně 14 dní.</span><span class="sxs-lookup"><span data-stu-id="f0d36-312">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="f0d36-313">Token obnovení hello však může stane neplatnou kdykoli z různých důvodů, tak vaše aplikace by měla tootry toouse token obnovení pokračovat, dokud se nezdaří, nebo dokud aplikace ho nahradí nový token obnovení.</span><span class="sxs-lookup"><span data-stu-id="f0d36-313">However, hello refresh token might become invalid at any time for various reasons, so your app should continue tootry toouse a refresh token until it fails, or until your app replaces it with a new refresh token.</span></span> <span data-ttu-id="f0d36-314">Token obnovení také stává neplatným, pokud to bylo 90 dnů od hello uživatel zadá své přihlašovací údaje.</span><span class="sxs-lookup"><span data-stu-id="f0d36-314">A refresh token also becomes invalid if it has been 90 days since hello user has entered their credentials.</span></span> |
| <span data-ttu-id="f0d36-315">Obnovovacích tokenů (osobní účty)</span><span class="sxs-lookup"><span data-stu-id="f0d36-315">Refresh tokens (personal accounts)</span></span> |<span data-ttu-id="f0d36-316">Až too1 roku</span><span class="sxs-lookup"><span data-stu-id="f0d36-316">Up too1 year</span></span> |<span data-ttu-id="f0d36-317">Jeden obnovovací token je platný pro nesmí být delší než 1 rok.</span><span class="sxs-lookup"><span data-stu-id="f0d36-317">A single refresh token is valid for a maximum of 1 year.</span></span> <span data-ttu-id="f0d36-318">Ale hello obnovovací token může zneplatní kdykoli z různých důvodů, tak vaše aplikace by měly pokračovat ve tootry toouse token obnovení, dokud se nezdaří.</span><span class="sxs-lookup"><span data-stu-id="f0d36-318">However, hello refresh token might become invalid at any time for various reasons, so your app should continue tootry toouse a refresh token until it fails.</span></span> |
| <span data-ttu-id="f0d36-319">Autorizačních kódů (pracovní nebo školní účty)</span><span class="sxs-lookup"><span data-stu-id="f0d36-319">Authorization codes (work or school accounts)</span></span> |<span data-ttu-id="f0d36-320">10 minut</span><span class="sxs-lookup"><span data-stu-id="f0d36-320">10 minutes</span></span> |<span data-ttu-id="f0d36-321">Autorizace kódy jsou účelově krátkodobou a by měl být okamžitě uplatněn přístupové tokeny a obnovovacích tokenů při přijetí hello tokeny.</span><span class="sxs-lookup"><span data-stu-id="f0d36-321">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when hello tokens are received.</span></span> |
| <span data-ttu-id="f0d36-322">Autorizačních kódů (osobní účty)</span><span class="sxs-lookup"><span data-stu-id="f0d36-322">Authorization codes (personal accounts)</span></span> |<span data-ttu-id="f0d36-323">5 minut</span><span class="sxs-lookup"><span data-stu-id="f0d36-323">5 minutes</span></span> |<span data-ttu-id="f0d36-324">Autorizace kódy jsou účelově krátkodobou a by měl být okamžitě uplatněn přístupové tokeny a obnovovacích tokenů při přijetí hello tokeny.</span><span class="sxs-lookup"><span data-stu-id="f0d36-324">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when hello tokens are received.</span></span> <span data-ttu-id="f0d36-325">Autorizace kódy, které jsou vydány jménem osobní účty, jsou pro jednorázové použití.</span><span class="sxs-lookup"><span data-stu-id="f0d36-325">Authorization codes that are issued on behalf of personal accounts are for one-time use.</span></span> |
