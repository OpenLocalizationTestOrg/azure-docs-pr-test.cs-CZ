---
title: "aaaWhat se liší v koncového bodu v2.0 hello Azure AD? | Dokumentace Microsoftu"
description: "Porovnání hello původní Azure AD a hello v2.0 koncové body."
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 5060da46-b091-4e25-9fa8-af4ae4359b6c
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/01/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: e7ed196f9053fc21db799cd6bc513ba5c2b92885
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="whats-different-about-hello-v20-endpoint"></a><span data-ttu-id="f1327-104">Co se liší o koncového bodu v2.0 hello?</span><span class="sxs-lookup"><span data-stu-id="f1327-104">What's different about hello v2.0 endpoint?</span></span>
<span data-ttu-id="f1327-105">Pokud jste se seznámili s Azure Active Directory nebo aplikací mít integrované s Azure AD v posledních hello, může být určité rozdíly v koncového bodu v2.0 hello, které by uživatel očekával.</span><span class="sxs-lookup"><span data-stu-id="f1327-105">If you're familiar with Azure Active Directory or have integrated apps with Azure AD in hello past, there may be some differences in hello v2.0 endpoint that you would not expect.</span></span>  <span data-ttu-id="f1327-106">Tento dokument se volá na těchto rozdílů za pochopení.</span><span class="sxs-lookup"><span data-stu-id="f1327-106">This document calls out those differences for your understanding.</span></span>

> [!NOTE]
> <span data-ttu-id="f1327-107">Ne všechny scénáře Azure Active Directory a funkce jsou podporovány koncového bodu v2.0 hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-107">Not all Azure Active Directory scenarios & features are supported by hello v2.0 endpoint.</span></span>  <span data-ttu-id="f1327-108">toodetermine Pokud byste měli používat koncového bodu v2.0 hello, přečtěte si informace o [v2.0 omezení](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="f1327-108">toodetermine if you should use hello v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>

## <a name="microsoft-accounts-and-azure-ad-accounts"></a><span data-ttu-id="f1327-109">Účty Microsoft a účty Azure AD</span><span class="sxs-lookup"><span data-stu-id="f1327-109">Microsoft accounts and Azure AD accounts</span></span>
<span data-ttu-id="f1327-110">koncový bod v2.0 Hello umožňují vývojářům toowrite aplikace, které přijímají přihlášení z účtů Microsoft Accounts i Azure AD, koncový bod jedné ověřování pomocí.</span><span class="sxs-lookup"><span data-stu-id="f1327-110">hello v2.0 endpoint allow developers toowrite apps that accept sign-in from both Microsoft Accounts and Azure AD accounts, using a single auth endpoint.</span></span>  <span data-ttu-id="f1327-111">Tato poskytuje hello možnost toowrite aplikaci zcela účet bez ohledu na; může být hello typu účtu, který hello uživatel se přihlásí, které ignorují.</span><span class="sxs-lookup"><span data-stu-id="f1327-111">This gives you hello ability toowrite your app completely account-agnostic; it can be ignorant of hello type of account that hello user signs in with.</span></span>  <span data-ttu-id="f1327-112">Samozřejmě můžete *můžete* zvýšit vaši aplikaci využívající hello typu účtu se používá v konkrétní relace, ale nemusíte.</span><span class="sxs-lookup"><span data-stu-id="f1327-112">Of course, you *can* make your app aware of hello type of account being used in a particular session, but you don't have to.</span></span>

<span data-ttu-id="f1327-113">Například pokud aplikace zavolá hello [Microsoft Graph](https://graph.microsoft.io), některé další funkce a dat budou k dispozici tooenterprise uživatele, například svých webech služby SharePoint nebo dat adresáře.</span><span class="sxs-lookup"><span data-stu-id="f1327-113">For instance, if your app calls hello [Microsoft Graph](https://graph.microsoft.io), some additional functionality and data will be available tooenterprise users, such as their SharePoint sites or Directory data.</span></span>  <span data-ttu-id="f1327-114">Ale pro mnoho akce například [čtení e-mailu uživatele](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), hello kódu je možné zapisovat přesně hello stejné pro účty Microsoft Accounts i Azure AD.</span><span class="sxs-lookup"><span data-stu-id="f1327-114">But for many actions, such as [Reading a user's mail](https://graph.microsoft.io/docs/api-reference/v1.0/resources/message), hello code can be written exactly hello same for both Microsoft Accounts and Azure AD accounts.</span></span>  

<span data-ttu-id="f1327-115">Integrace aplikace s Accounts Microsoft a účty Azure AD je nyní jeden jednoduchý proces.</span><span class="sxs-lookup"><span data-stu-id="f1327-115">Integrating your app with Microsoft Accounts and Azure AD accounts is now one simple process.</span></span>  <span data-ttu-id="f1327-116">Můžete použít jednu sadu koncové body, jeden knihovny a jediné aplikaci registrace toogain přístup tooboth hello spotřebních a podnikových světů.</span><span class="sxs-lookup"><span data-stu-id="f1327-116">You can use a single set of endpoints, a single library, and a single app registration toogain access tooboth hello consumer and enterprise worlds.</span></span>  <span data-ttu-id="f1327-117">Další informace o hello koncového bodu v2.0, podívejte se na toolearn [hello přehled](active-directory-appmodel-v2-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f1327-117">toolearn more about hello v2.0 endpoint, check out [hello overview](active-directory-appmodel-v2-overview.md).</span></span>

## <a name="new-app-registration-portal"></a><span data-ttu-id="f1327-118">Nový portál pro registraci aplikace</span><span class="sxs-lookup"><span data-stu-id="f1327-118">New app registration portal</span></span>
<span data-ttu-id="f1327-119">tooregister aplikaci, která funguje s koncovým bodem v2.0 hello, musíte použít nové portálu pro registraci aplikace: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).  Toto je hello portál, kde lze získat ID aplikace přizpůsobit vzhled hello přihlašovací stránku vaší aplikace a další.</span><span class="sxs-lookup"><span data-stu-id="f1327-119">tooregister an app that works with hello v2.0 endpoint, you must use a new app registration portal: [apps.dev.microsoft.com](https://apps.dev.microsoft.com/?referrer=https://azure.microsoft.com/documentation/articles&deeplink=/appList).  This is hello portal where you can obtain an application ID, customize hello appearance of your app's sign-in page, and more.</span></span>  <span data-ttu-id="f1327-120">Stačí tooaccess hello portál je účet používá technologii Microsoft - osobní nebo pracovní nebo školní účet.</span><span class="sxs-lookup"><span data-stu-id="f1327-120">All you need tooaccess hello portal is a Microsoft powered account - either personal or work/school account.</span></span>

## <a name="one-app-id-for-all-platforms"></a><span data-ttu-id="f1327-121">ID jednu aplikaci pro všechny platformy</span><span class="sxs-lookup"><span data-stu-id="f1327-121">One app ID for all platforms</span></span>
<span data-ttu-id="f1327-122">Pokud jste použili Azure Active Directory, pravděpodobně jste registrováni několik různých aplikací pro jeden projekt.</span><span class="sxs-lookup"><span data-stu-id="f1327-122">If you've used Azure Active Directory, you've probably registered several different apps for a single project.</span></span>  <span data-ttu-id="f1327-123">Například pokud jste vytvořili web a aplikaci pro iOS, musíte tooregister je samostatně pomocí dvou různých ID aplikace.</span><span class="sxs-lookup"><span data-stu-id="f1327-123">For example, if you built both a website and an iOS app, you had tooregister them separately, using two different Application Ids.</span></span> <span data-ttu-id="f1327-124">portál pro registraci aplikace Hello Azure AD vynutit toomake můžete tento rozdíl během registrace:</span><span class="sxs-lookup"><span data-stu-id="f1327-124">hello Azure AD app registration portal forced you toomake this distinction during registration:</span></span>

![Původní registrace aplikace uživatelského rozhraní](../../media/active-directory-v2-flows/old_app_registration.PNG)

<span data-ttu-id="f1327-126">Podobně pokud jste měli web a back-endové webové rozhraní api, může jste si zaregistrovali každý jako samostatnou aplikaci ve službě Azure AD.</span><span class="sxs-lookup"><span data-stu-id="f1327-126">Similarly, if you had a website and a backend web api, you might have registered each as a separate app in Azure AD.</span></span>  <span data-ttu-id="f1327-127">Nebo pokud jste měli k aplikaci pro iOS a aplikace pro Android, můžete také může mít registrovaný dvě různé aplikace.</span><span class="sxs-lookup"><span data-stu-id="f1327-127">Or if you had an iOS app and an Android app, you also might have registered two different apps.</span></span>  <span data-ttu-id="f1327-128">Registrace jednotlivých součástí aplikace vedla toosome neočekávané chování pro vývojáře a zákazníkům:</span><span class="sxs-lookup"><span data-stu-id="f1327-128">Registering each component of an application led toosome unexpected behaviors for developers and their customers:</span></span>

* <span data-ttu-id="f1327-129">Jednotlivé komponenty zobrazovaly jako samostatnou aplikaci v klientovi služby Azure Active Directory hello jednotlivých zákazníků.</span><span class="sxs-lookup"><span data-stu-id="f1327-129">Each component appeared as a separate app in hello Azure Active Directory tenant of each customer.</span></span>
* <span data-ttu-id="f1327-130">Správce klienta se pokus o tooapply zásad, spravovat přístup k, nebo odstranit aplikaci, byste mají toodo Ano pro jednotlivé součásti aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-130">When a tenant administrator attempted tooapply policy to, manage access to, or delete an app, they would have toodo so for each component of hello app.</span></span>
* <span data-ttu-id="f1327-131">Když zákazníci dá souhlas tooan aplikace, by jednotlivé komponenty zobrazí se v úvodní obrazovka souhlasu jako odlišné aplikace.</span><span class="sxs-lookup"><span data-stu-id="f1327-131">When customers consented tooan application, each component would appear in hello consent screen as a distinct application.</span></span>

<span data-ttu-id="f1327-132">S koncovým bodem v2.0 hello teď můžete zaregistrovat všechny součásti projektu jako registrace jedna aplikace a použít jeden Id aplikace pro celý projekt.</span><span class="sxs-lookup"><span data-stu-id="f1327-132">With hello v2.0 endpoint, you can now register all components of your project as a single app registration, and use a single Application Id for your entire project.</span></span>  <span data-ttu-id="f1327-133">Můžete přidat několik tooa "platformy" každý projekt a zadejte pro každou platformu, kterou přidáte hello příslušná data.</span><span class="sxs-lookup"><span data-stu-id="f1327-133">You can add several "platforms" tooa each project, and provide hello appropriate data for each platform you add.</span></span>  <span data-ttu-id="f1327-134">Samozřejmě můžete vytvořit libovolný počet aplikací, jako třeba v závislosti na požadavcích, ale pro hello většině případů musí být pouze jedno Id aplikace potřebné.</span><span class="sxs-lookup"><span data-stu-id="f1327-134">Of course, you can create as many apps as you like depending on your requirements, but for hello majority of cases only one Application Id should be necessary.</span></span>

<span data-ttu-id="f1327-135">Naše cílem je, že to vést tooa další zjednodušené správy aplikací a vývojové prostředí a vytvořit více konsolidované zobrazení jeden projekt, který je možné, že pracujete na.</span><span class="sxs-lookup"><span data-stu-id="f1327-135">Our aim is that this will lead tooa more simplified app management and development experience, and create a more consolidated view of a single project that you might be working on.</span></span>

## <a name="scopes-not-resources"></a><span data-ttu-id="f1327-136">Obory, ne prostředky</span><span class="sxs-lookup"><span data-stu-id="f1327-136">Scopes, not resources</span></span>
<span data-ttu-id="f1327-137">V Azure Active Directory, můžete aplikaci chovat jako **prostředků**, nebo příjemce tokenů.</span><span class="sxs-lookup"><span data-stu-id="f1327-137">In Azure Active Directory, an app can behave as a **resource**, or a recipient of tokens.</span></span>  <span data-ttu-id="f1327-138">Prostředek můžete definovat několika **obory** nebo **oAuth2Permissions** , že rozumí, povolení toorequest tokeny toothat prostředku pro určitou sadu obory klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="f1327-138">A resource can define a number of **scopes** or **oAuth2Permissions** that it understands, allowing client apps toorequest tokens toothat resource for a certain set of scopes.</span></span>  <span data-ttu-id="f1327-139">Vezměte v úvahu hello Azure AD Graph API jako příklad prostředku:</span><span class="sxs-lookup"><span data-stu-id="f1327-139">Consider hello Azure AD Graph API as an example of a resource:</span></span>

* <span data-ttu-id="f1327-140">Identifikátor prostředku nebo `AppID URI`:`https://graph.windows.net/`</span><span class="sxs-lookup"><span data-stu-id="f1327-140">Resource Identifier, or `AppID URI`: `https://graph.windows.net/`</span></span>
* <span data-ttu-id="f1327-141">Obory, nebo `OAuth2Permissions`: `Directory.Read`, `Directory.Write`atd.</span><span class="sxs-lookup"><span data-stu-id="f1327-141">Scopes, or `OAuth2Permissions`: `Directory.Read`, `Directory.Write`, etc.</span></span>  

<span data-ttu-id="f1327-142">Všechny tyto platí pro koncový bod v2.0 hello hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-142">All of this holds true for hello hello v2.0 endpoint.</span></span>  <span data-ttu-id="f1327-143">Aplikace může stále chovat jako prostředek, definovat obory a identifikovat podle identifikátoru URI.</span><span class="sxs-lookup"><span data-stu-id="f1327-143">An app can still behave as resource, define scopes, and be identified by a URI.</span></span>  <span data-ttu-id="f1327-144">Klientské aplikace může stále požádat o přístup toothose obory.</span><span class="sxs-lookup"><span data-stu-id="f1327-144">Client apps can still request access toothose scopes.</span></span>  <span data-ttu-id="f1327-145">Ale hello způsob, ve kterém klient požaduje tato oprávnění se změnil.</span><span class="sxs-lookup"><span data-stu-id="f1327-145">However, hello way in which a client requests those permissions has changed.</span></span>  <span data-ttu-id="f1327-146">V posledních hello autorizace OAuth 2.0 tooAzure žádosti, které může mít hledá AD jako:</span><span class="sxs-lookup"><span data-stu-id="f1327-146">In hello past, an OAuth 2.0 authorize request tooAzure AD might have looked like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&resource=https%3A%2F%2Fgraph.windows.net%2F
...
```

<span data-ttu-id="f1327-147">kde hello **prostředků** parametr uvedené, které prostředků hello klientská aplikace požaduje autorizaci pro.</span><span class="sxs-lookup"><span data-stu-id="f1327-147">where hello **resource** parameter indicated which resource hello client app is requesting authorization for.</span></span>  <span data-ttu-id="f1327-148">Azure AD vypočtená hello oprávněních hello aplikace na základě statické konfigurace v hello portálu Azure a vystavené tokeny odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="f1327-148">Azure AD computed hello permissions required by hello app based on static configuration in hello Azure Portal, and issued tokens accordingly.</span></span>  <span data-ttu-id="f1327-149">Nyní hello stejné OAuth 2.0 autorizace požadavku vypadá jako:</span><span class="sxs-lookup"><span data-stu-id="f1327-149">Now, hello same OAuth 2.0 authorize request looks like:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="f1327-150">kde hello **oboru** parametr určuje, které aplikace hello prostředků a oprávnění požaduje autorizaci pro.</span><span class="sxs-lookup"><span data-stu-id="f1327-150">where hello **scope** parameter indicates which resource and permissions hello app is requesting authorization for.</span></span> <span data-ttu-id="f1327-151">Hello požadovaných prostředků je stále velmi součástí požadavku hello – jednoduše je zahrnut v každém hello hodnot parametru oboru hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-151">hello desired resource is still very present in hello request - it is simply encompassed in each of hello values of hello scope parameter.</span></span>  <span data-ttu-id="f1327-152">Pomocí parametru oboru hello tímto způsobem umožňuje toobe koncový bod v2.0 hello více kompatibilní se specifikací hello OAuth 2.0 a přesněji zarovnaná s obvyklé postupy odvětví.</span><span class="sxs-lookup"><span data-stu-id="f1327-152">Using hello scope parameter in this manner allows hello v2.0 endpoint toobe more compliant with hello OAuth 2.0 specification, and aligns more closely with common industry practices.</span></span>  <span data-ttu-id="f1327-153">Umožňuje také aplikace tooperform [přírůstkové souhlasu](#incremental-and-dynamic-consent), který je popsán v další části hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-153">It also enables apps tooperform [incremental consent](#incremental-and-dynamic-consent), which is described in hello next section.</span></span>

## <a name="incremental-and-dynamic-consent"></a><span data-ttu-id="f1327-154">Přírůstkové a dynamické souhlasu</span><span class="sxs-lookup"><span data-stu-id="f1327-154">Incremental and dynamic consent</span></span>
<span data-ttu-id="f1327-155">Aplikace registrované v Azure AD dříve potřeby toospecify jejich požadovaná oprávnění OAuth 2.0 v hello portálu Azure, v okamžiku vytvoření aplikace:</span><span class="sxs-lookup"><span data-stu-id="f1327-155">Apps registered in Azure AD previously needed toospecify their required OAuth 2.0 permissions in hello Azure Portal, at app creation time:</span></span>

![Registrace oprávnění uživatelského rozhraní](../../media/active-directory-v2-flows/app_reg_permissions.PNG)

<span data-ttu-id="f1327-157">požadované aplikace byla nakonfigurována oprávnění Hello **staticky**.</span><span class="sxs-lookup"><span data-stu-id="f1327-157">hello permissions an app required were configured **statically**.</span></span>  <span data-ttu-id="f1327-158">Zatímco to povoleno konfigurace tooexist aplikace hello v hello portálu Azure a uchovávat hello kód dobrý a jednoduché, uvede několik problémů pro vývojáře:</span><span class="sxs-lookup"><span data-stu-id="f1327-158">While this allowed configuration of hello app tooexist in hello Azure Portal and kept hello code nice and simple, it presents a few issues for developers:</span></span>

* <span data-ttu-id="f1327-159">Aplikace měla tooknow všechna oprávnění hello někdy potřebovat při vytváření aplikace.</span><span class="sxs-lookup"><span data-stu-id="f1327-159">An app had tooknow all of hello permissions it would ever need at app creation time.</span></span>  <span data-ttu-id="f1327-160">Přidání oprávnění v čase bylo obtížné procesu.</span><span class="sxs-lookup"><span data-stu-id="f1327-160">Adding permissions over time was a difficult process.</span></span>
* <span data-ttu-id="f1327-161">Aplikace měla tooknow všechny prostředky hello by někdy přístup předem.</span><span class="sxs-lookup"><span data-stu-id="f1327-161">An app had tooknow all of hello resources it would ever access ahead of time.</span></span>  <span data-ttu-id="f1327-162">Bylo obtížné toocreate aplikace, které mají přístup libovolný počet prostředků.</span><span class="sxs-lookup"><span data-stu-id="f1327-162">It was difficult toocreate apps that could access an arbitrary number of resources.</span></span>
* <span data-ttu-id="f1327-163">Aplikace měla toorequest všechna oprávnění hello, které někdy potřebovat při hello na prvním přihlášení uživatele.</span><span class="sxs-lookup"><span data-stu-id="f1327-163">An app had toorequest all hello permissions it would ever need upon hello user's first sign-in.</span></span>  <span data-ttu-id="f1327-164">V některých případech to vedlo tooa velmi dlouhý seznam oprávnění, která se nedoporučuje. koncoví uživatelé z schválení aplikace hello přístup na počáteční přihlášení.</span><span class="sxs-lookup"><span data-stu-id="f1327-164">In some cases this led tooa very long list of permissions, which discouraged end-users from approving hello app's access on initial sign-in.</span></span>

<span data-ttu-id="f1327-165">S koncovým bodem v2.0 hello, můžete zadat oprávnění hello vašim potřebám aplikace **dynamicky**, v době běhu během regulární využití vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="f1327-165">With hello v2.0 endpoint, you can specify hello permissions your app needs **dynamically**, at runtime, during regular usage of your app.</span></span>  <span data-ttu-id="f1327-166">toodo Ano, můžete zadat hello rozsahy vašim potřebám aplikace v libovolném bodě v čase zahrnutím v hello `scope` parametr požadavku ověřování:</span><span class="sxs-lookup"><span data-stu-id="f1327-166">toodo so, you can specify hello scopes your app needs at any given point in time by including them in hello `scope` parameter of an authorization request:</span></span>

```
GET https://login.microsoftonline.com/common/oauth2/v2.0/authorize?
client_id=2d4d11a2-f814-46a7-890a-274a72a7309e
&scope=https%3A%2F%2Fgraph.windows.net%2Fdirectory.read%20https%3A%2F%2Fgraph.windows.net%2Fdirectory.write
...
```

<span data-ttu-id="f1327-167">Hello výše uvedených požadavků oprávnění pro tooread aplikace hello uživatele Azure AD data adresáře a také adresáře tootheir dat zápisu.</span><span class="sxs-lookup"><span data-stu-id="f1327-167">hello above requests permission for hello app tooread an Azure AD user's directory data, as well as write data tootheir directory.</span></span>  <span data-ttu-id="f1327-168">Pokud uživatel hello souhlasí toothose oprávnění v hello posledních pro tuto konkrétní aplikaci, bude jednoduše zadat své přihlašovací údaje a být přihlášeni k aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-168">If hello user has consented toothose permissions in hello past for this particular app, they will simply enter their credentials and be signed into hello app.</span></span>  <span data-ttu-id="f1327-169">Pokud uživatel hello nedala souhlas tooany těchto oprávnění, koncového bodu v2.0 hello požádá uživatele hello souhlasu toothose oprávnění.</span><span class="sxs-lookup"><span data-stu-id="f1327-169">If hello user has not consented tooany of these permissions, hello v2.0 endpoint will ask hello user for consent toothose permissions.</span></span>  <span data-ttu-id="f1327-170">Další toolearn, můžete si přečíst na [oprávnění, souhlasu a obory](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="f1327-170">toolearn more, you can read up on [permissions, consent, and scopes](active-directory-v2-scopes.md).</span></span>

<span data-ttu-id="f1327-171">Umožňuje aplikaci oprávnění toorequest dynamicky prostřednictvím hello `scope` parametr získáte plnou kontrolu nad možnosti pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="f1327-171">Allowing an app toorequest permissions dynamically via hello `scope` parameter gives you full control over your user's experience.</span></span>  <span data-ttu-id="f1327-172">Pokud chcete, můžete toofrontload vašeho souhlasu prostředí a požádat o všechna oprávnění v jedné žádosti počáteční autorizace.</span><span class="sxs-lookup"><span data-stu-id="f1327-172">If you wish, you can choose toofrontload your consent experience and ask for all permissions in one initial authorization request.</span></span>  <span data-ttu-id="f1327-173">Nebo pokud vaše aplikace vyžaduje velký počet oprávnění, můžete zvolit toogather tato oprávnění od uživatele hello postupně, jak pokoušejí určité funkce vaší aplikace pro toouse v čase.</span><span class="sxs-lookup"><span data-stu-id="f1327-173">Or if your app requires a large number of permissions, you can choose toogather those permissions from hello user incrementally, as they attempt toouse certain features of your app over time.</span></span>

## <a name="well-known-scopes"></a><span data-ttu-id="f1327-174">Známé oborů</span><span class="sxs-lookup"><span data-stu-id="f1327-174">Well-known scopes</span></span>
#### <a name="offline-access"></a><span data-ttu-id="f1327-175">Přístup v režimu offline</span><span class="sxs-lookup"><span data-stu-id="f1327-175">Offline access</span></span>
<span data-ttu-id="f1327-176">Aplikace pomocí koncového bodu v2.0 hello může vyžadovat použití hello nové dobře známé oprávnění pro aplikace - hello `offline_access` oboru.</span><span class="sxs-lookup"><span data-stu-id="f1327-176">Apps using hello v2.0 endpoint may require hello use of a new well-known permission for apps - hello `offline_access` scope.</span></span>  <span data-ttu-id="f1327-177">Všechny aplikace bude nutné toorequest toto oprávnění, pokud potřebují tooaccess prostředkům jménem hello uživatele pro delší dobu, i když uživatel hello nemusí být aplikaci aktivně hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-177">All apps will need toorequest this permission if they need tooaccess resources on hello behalf of a user for a prolonged period of time, even when hello user may not be actively using hello app.</span></span>  <span data-ttu-id="f1327-178">Hello `offline_access` obor se zobrazí uživateli toohello v souhlas v dialogových oknech jako "Přístup k datům v režimu offline", které hello uživatel musí vyjádřit souhlas s.</span><span class="sxs-lookup"><span data-stu-id="f1327-178">hello `offline_access` scope will appear toohello user in consent dialogs as "Access your data offline", which hello user must agree to.</span></span>  <span data-ttu-id="f1327-179">Vyžádání hello `offline_access` oprávnění umožní vaší webové aplikace tooreceive OAuth 2.0 refresh_tokens z koncového bodu v2.0 hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-179">Requesting hello `offline_access` permission will enable your web app tooreceive OAuth 2.0 refresh_tokens from hello v2.0 endpoint.</span></span>  <span data-ttu-id="f1327-180">Refresh_tokens je dlouhodobé a může být vyměňují pro nové access_tokens OAuth 2.0 po delší dobu přístupu.</span><span class="sxs-lookup"><span data-stu-id="f1327-180">Refresh_tokens are long-lived, and can be exchanged for new OAuth 2.0 access_tokens for extended periods of access.</span></span>  

<span data-ttu-id="f1327-181">Pokud aplikace nevyžaduje hello `offline_access` oboru, neobdrží refresh_tokens.</span><span class="sxs-lookup"><span data-stu-id="f1327-181">If your app does not request hello `offline_access` scope, it will not receive refresh_tokens.</span></span>  <span data-ttu-id="f1327-182">To znamená, že pokud uplatníte authorization_code v toku kódu autorizace hello OAuth 2.0, pouze obdržíte zpět access_token z hello `/token` koncový bod.</span><span class="sxs-lookup"><span data-stu-id="f1327-182">This means that when you redeem an authorization_code in hello OAuth 2.0 authorization code flow, you will only receive back an access_token from hello `/token` endpoint.</span></span>  <span data-ttu-id="f1327-183">Tento access_token zůstane platná, a to krátkou dobu (obvykle jedna hodina), ale nakonec vyprší.</span><span class="sxs-lookup"><span data-stu-id="f1327-183">That access_token will remain valid for a short period of time (typically one hour), but will eventually expire.</span></span>  <span data-ttu-id="f1327-184">V tomto bodě v čase, vaše aplikace bude potřebovat tooredirect hello uživatele zpět toohello `/authorize` tooretrieve koncový bod nové authorization_code.</span><span class="sxs-lookup"><span data-stu-id="f1327-184">At that point in time, your app will need tooredirect hello user back toohello `/authorize` endpoint tooretrieve a new authorization_code.</span></span>  <span data-ttu-id="f1327-185">Během této přesměrování hello uživatel může nebo nemusí potřebovat tooenter jejich přihlašovací údaje znovu nebo znovu souhlas toopermissions, v závislosti na typu hello hello aplikace.</span><span class="sxs-lookup"><span data-stu-id="f1327-185">During this redirect, hello user may or may not need tooenter their credentials again or re-consent toopermissions, depending on hello hello type of app.</span></span>

<span data-ttu-id="f1327-186">Další informace o protokolu OAuth 2.0, refresh_tokens a access_tokens, podívejte se na hello toolearn [referenci na protokol v2.0](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="f1327-186">toolearn more about OAuth 2.0, refresh_tokens, and access_tokens, check out hello [v2.0 protocol reference](active-directory-v2-protocols.md).</span></span>

#### <a name="openid-profile-and-email"></a><span data-ttu-id="f1327-187">OpenID, profil a e-mailu</span><span class="sxs-lookup"><span data-stu-id="f1327-187">OpenID, profile and email</span></span>
<span data-ttu-id="f1327-188">V minulosti by hello nejzákladnější tok OpenID Connect přihlášení s Azure Active Directory poskytují množství informací o hello uživatele v požadavku id_token výsledné hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-188">Historically, hello most basic OpenID Connect sign-in flow with Azure Active Directory would provide a wealth of information about hello user in hello resulting id_token.</span></span>  <span data-ttu-id="f1327-189">deklarace identity Hello v požadavku id_token může obsahovat uživatele hello název, upřednostňované uživatelské jméno, e-mailovou adresu, ID objektu a další.</span><span class="sxs-lookup"><span data-stu-id="f1327-189">hello claims in an id_token can include hello user's name, preferred username, email address, object ID, and more.</span></span>

<span data-ttu-id="f1327-190">Snažíme se teď omezení hello informace, že hello `openid` oboru dává vám přístup aplikace k.</span><span class="sxs-lookup"><span data-stu-id="f1327-190">We are now restricting hello information that hello `openid` scope affords your app access to.</span></span>  <span data-ttu-id="f1327-191">obor, openid, Hello bude pouze povolit vaší aplikace toosign hello uživateli v a přijímat identifikátor specifický pro aplikace pro uživatele hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-191">hello ‘openid’ scope will only allow your app toosign hello user in, and receive an app-specific identifier for hello user.</span></span>  <span data-ttu-id="f1327-192">Pokud chcete tooobtain identifikovatelné osobní údaje (PII) o hello uživateli ve vaší aplikaci, vaše aplikace bude potřebovat další oprávnění toorequest od uživatele hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-192">If you want tooobtain personally identifiable information (PII) about hello user in your app, your app will need toorequest additional permissions from hello user.</span></span>  <span data-ttu-id="f1327-193">Představujeme dva nové obory – hello `email` a `profile` obory – které umožňují toodo tak.</span><span class="sxs-lookup"><span data-stu-id="f1327-193">We are introducing two new scopes – hello `email` and `profile` scopes – which allow you toodo so.</span></span>

<span data-ttu-id="f1327-194">Hello `email` obor je velmi jednoduchá – umožňuje vaší aplikace přístup toohello primární e-mailovou adresu uživatele prostřednictvím hello `email` deklarací identity v požadavku id_token hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-194">hello `email` scope is very straightforward – it allows your app access toohello user’s primary email address via hello `email` claim in hello id_token.</span></span>  <span data-ttu-id="f1327-195">Hello `profile` oboru poskytuje tooall přístup k vaší aplikaci další základní informace o uživateli hello – jejich název, upřednostňované uživatelského jména, ID objektu a tak dále.</span><span class="sxs-lookup"><span data-stu-id="f1327-195">hello `profile` scope affords your app access tooall other basic information about hello user – their name, preferred username, object ID, and so on.</span></span>

<span data-ttu-id="f1327-196">To vám umožní toocode aplikace způsobem minimální zpřístupnění – můžete pouze požádat hello uživatele pro sadu hello informací, že vaše aplikace vyžaduje toodo úlohy.</span><span class="sxs-lookup"><span data-stu-id="f1327-196">This allows you toocode your app in a minimal-disclosure fashion – you can only ask hello user for hello set of information that your app requires toodo its job.</span></span>  <span data-ttu-id="f1327-197">Další informace o těchto oborů, najdete v části příliš[hello odkaz oboru v2.0](active-directory-v2-scopes.md).</span><span class="sxs-lookup"><span data-stu-id="f1327-197">For more information on these scopes, refer too[hello v2.0 scope reference](active-directory-v2-scopes.md).</span></span>

## <a name="token-claims"></a><span data-ttu-id="f1327-198">Token deklarací identity</span><span class="sxs-lookup"><span data-stu-id="f1327-198">Token Claims</span></span>
<span data-ttu-id="f1327-199">Hello deklarace identity v tokenech vystavený koncového bodu v2.0 hello nebudou identické tootokens vydaný koncové body hello všeobecně dostupná Azure AD – aplikace migraci toohello nové služby by neměl Předpokládejme, že konkrétní deklaraci identity, budou v id_tokens nebo access_tokens existovat.</span><span class="sxs-lookup"><span data-stu-id="f1327-199">hello claims in tokens issued by hello v2.0 endpoint will not be identical tootokens issued by hello generally available Azure AD endpoints - apps migrating toohello new service should not assume a particular claim will exist in id_tokens or access_tokens.</span></span> <span data-ttu-id="f1327-200">toolearn o hello specifických deklarací vygenerované v v2.0 tokeny, najdete v části hello [odkaz tokenu v2.0](active-directory-v2-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="f1327-200">toolearn about hello specific claims emitted in v2.0 tokens, see hello [v2.0 token reference](active-directory-v2-tokens.md).</span></span>

## <a name="limitations"></a><span data-ttu-id="f1327-201">Omezení</span><span class="sxs-lookup"><span data-stu-id="f1327-201">Limitations</span></span>
<span data-ttu-id="f1327-202">Existuje několik omezení toobe vědět, když používáte bod v2.0 hello.</span><span class="sxs-lookup"><span data-stu-id="f1327-202">There are a few restrictions toobe aware of when using hello v2.0 point.</span></span>  <span data-ttu-id="f1327-203">Naleznete toohello [v2.0 omezení doc](active-directory-v2-limitations.md) toosee, pokud platí některé z těchto omezení tooyour určitého scénáře.</span><span class="sxs-lookup"><span data-stu-id="f1327-203">Please refer toohello [v2.0 limitations doc](active-directory-v2-limitations.md) toosee if any of these restrictions apply tooyour particular scenario.</span></span>
