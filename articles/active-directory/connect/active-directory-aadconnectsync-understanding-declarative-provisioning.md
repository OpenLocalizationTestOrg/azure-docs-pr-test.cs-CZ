---
title: "Azure AD Connect: Principy deklarativní zřizování | Microsoft Docs"
description: "Vysvětluje deklarativní zřizování konfigurační model v Azure AD Connect."
services: active-directory
documentationcenter: 
author: andkjell
manager: femila
editor: 
ms.assetid: cfbb870d-be7d-47b3-ba01-9e78121f0067
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: billmath
ms.openlocfilehash: 7497ec2ca658c3790227c56ef1755d9a1cb74e0a
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-understanding-declarative-provisioning"></a><span data-ttu-id="45dc0-103">Synchronizace Azure AD Connect: Principy deklarativní zřizování</span><span class="sxs-lookup"><span data-stu-id="45dc0-103">Azure AD Connect sync: Understanding Declarative Provisioning</span></span>
<span data-ttu-id="45dc0-104">Toto téma vysvětluje konfigurační model v Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="45dc0-104">This topic explains the configuration model in Azure AD Connect.</span></span> <span data-ttu-id="45dc0-105">Model se nazývá deklarativní zřizování a umožňuje snadno změníte konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="45dc0-105">The model is called Declarative Provisioning and it allows you to make a configuration change with ease.</span></span> <span data-ttu-id="45dc0-106">Celou řadu věcí, které jsou popsané v tomto tématu jsou rozšířené a není potřeba pro většinu scénářů zákazníka.</span><span class="sxs-lookup"><span data-stu-id="45dc0-106">Many things described in this topic are advanced and not required for most customer scenarios.</span></span>

## <a name="overview"></a><span data-ttu-id="45dc0-107">Přehled</span><span class="sxs-lookup"><span data-stu-id="45dc0-107">Overview</span></span>
<span data-ttu-id="45dc0-108">Deklarativní zřizování je zpracování objektů brzo ze zdrojového adresáře připojené a určuje, jak tento objekt a atributy by měly transformaci ze zdroje na cíl.</span><span class="sxs-lookup"><span data-stu-id="45dc0-108">Declarative provisioning is processing objects coming in from a source connected directory and determines how the object and attributes should be transformed from a source to a target.</span></span> <span data-ttu-id="45dc0-109">Objekt je zpracovat v kanálu synchronizace a kanál je stejný pro příchozí a odchozí pravidla.</span><span class="sxs-lookup"><span data-stu-id="45dc0-109">An object is processed in a sync pipeline and the pipeline is the same for inbound and outbound rules.</span></span> <span data-ttu-id="45dc0-110">Příchozí pravidlo je od prostoru konektoru do úložiště metaverse a odchozí pravidlo je z úložiště metaverse na prostoru konektoru.</span><span class="sxs-lookup"><span data-stu-id="45dc0-110">An inbound rule is from a connector space to the metaverse and an outbound rule is from the metaverse to a connector space.</span></span>

![Synchronizace kanálu](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/sync1.png)  

<span data-ttu-id="45dc0-112">Kanál má několik různých modulů.</span><span class="sxs-lookup"><span data-stu-id="45dc0-112">The pipeline has several different modules.</span></span> <span data-ttu-id="45dc0-113">Každé z nich je zodpovědná za jeden koncept objekt synchronizace.</span><span class="sxs-lookup"><span data-stu-id="45dc0-113">Each one is responsible for one concept in object synchronization.</span></span>

![Synchronizace kanálu](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/pipeline.png)  

* <span data-ttu-id="45dc0-115">Zdroj zdrojového objektu</span><span class="sxs-lookup"><span data-stu-id="45dc0-115">Source, The source object</span></span>
* <span data-ttu-id="45dc0-116">[Obor](#scope), vyhledá všechna pravidla synchronizace, které jsou v oboru</span><span class="sxs-lookup"><span data-stu-id="45dc0-116">[Scope](#scope), Finds all sync rules that are in scope</span></span>
* <span data-ttu-id="45dc0-117">[Připojení k](#join), určuje vztah mezi prostoru konektoru a úložiště metaverse</span><span class="sxs-lookup"><span data-stu-id="45dc0-117">[Join](#join), Determines relationship between connector space and metaverse</span></span>
* <span data-ttu-id="45dc0-118">[Transformace](#transform), jak by měl být atributy transformovat vypočte a toku</span><span class="sxs-lookup"><span data-stu-id="45dc0-118">[Transform](#transform), Calculates how attributes should be transformed and flow</span></span>
* <span data-ttu-id="45dc0-119">[Priorita](#precedence), vyřeší konfliktní atribut příspěvky</span><span class="sxs-lookup"><span data-stu-id="45dc0-119">[Precedence](#precedence), Resolves conflicting attribute contributions</span></span>
* <span data-ttu-id="45dc0-120">Cíl, cílový objekt</span><span class="sxs-lookup"><span data-stu-id="45dc0-120">Target, The target object</span></span>

## <a name="scope"></a><span data-ttu-id="45dc0-121">Rozsah</span><span class="sxs-lookup"><span data-stu-id="45dc0-121">Scope</span></span>
<span data-ttu-id="45dc0-122">Modul obor je vyhodnocení objekt a určí, pravidla, která jsou v oboru a musí být obsažena ve zpracování.</span><span class="sxs-lookup"><span data-stu-id="45dc0-122">The scope module is evaluating an object and determines the rules that are in scope and should be included in the processing.</span></span> <span data-ttu-id="45dc0-123">V závislosti na hodnoty atributů pro objekt jsou různé synchronizační pravidla vyhodnocena jako v oboru.</span><span class="sxs-lookup"><span data-stu-id="45dc0-123">Depending on the attributes values on the object, different sync rules are evaluated to be in scope.</span></span> <span data-ttu-id="45dc0-124">Zakázaný uživatel se žádné poštovní schránky Exchange například mít různá pravidla než v případě povoleného uživatele s poštovní schránku.</span><span class="sxs-lookup"><span data-stu-id="45dc0-124">For example, a disabled user with no Exchange mailbox does have different rules than an enabled user with a mailbox.</span></span>  
![Rozsah](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/scope1.png)  

<span data-ttu-id="45dc0-126">Rozsah je definován jako skupiny a klauzule.</span><span class="sxs-lookup"><span data-stu-id="45dc0-126">The scope is defined as groups and clauses.</span></span> <span data-ttu-id="45dc0-127">Klauzulích jsou uvnitř skupiny.</span><span class="sxs-lookup"><span data-stu-id="45dc0-127">The clauses are inside a group.</span></span> <span data-ttu-id="45dc0-128">Logické a se používá mezi všechny klauzule ve skupině.</span><span class="sxs-lookup"><span data-stu-id="45dc0-128">A logical AND is used between all clauses in a group.</span></span> <span data-ttu-id="45dc0-129">Například (oddělení IT a země = = Dánsko).</span><span class="sxs-lookup"><span data-stu-id="45dc0-129">For example, (department =IT AND country = Denmark).</span></span> <span data-ttu-id="45dc0-130">Logické nebo se používá mezi skupinami.</span><span class="sxs-lookup"><span data-stu-id="45dc0-130">A logical OR is used between groups.</span></span>

![Rozsah](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/scope2.png)  
<span data-ttu-id="45dc0-132">Obor na tomto obrázku byste si měli přečíst jako (oddělení IT a země = = Dánsko) nebo (země = Švédsko).</span><span class="sxs-lookup"><span data-stu-id="45dc0-132">The scope in this picture should be read as (department = IT AND country = Denmark) OR (country=Sweden).</span></span> <span data-ttu-id="45dc0-133">Pokud skupina 1 nebo skupinu 2 je vyhodnocena jako true, bude toto pravidlo je v oboru.</span><span class="sxs-lookup"><span data-stu-id="45dc0-133">If either group 1 or group 2 is evaluated to true, then the rule is in scope.</span></span>

<span data-ttu-id="45dc0-134">Modul oboru podporuje následující operace.</span><span class="sxs-lookup"><span data-stu-id="45dc0-134">The scope module supports the following operations.</span></span>

| <span data-ttu-id="45dc0-135">Operace</span><span class="sxs-lookup"><span data-stu-id="45dc0-135">Operation</span></span> | <span data-ttu-id="45dc0-136">Popis</span><span class="sxs-lookup"><span data-stu-id="45dc0-136">Description</span></span> |
| --- | --- |
| <span data-ttu-id="45dc0-137">ROVNÁ NOTEQUAL</span><span class="sxs-lookup"><span data-stu-id="45dc0-137">EQUAL, NOTEQUAL</span></span> |<span data-ttu-id="45dc0-138">Porovnat řetězec, která vyhodnotí, pokud je hodnota rovna hodnotě atributu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-138">A string compare that evaluates if value is equal to the value in the attribute.</span></span> <span data-ttu-id="45dc0-139">Více hodnot atributů najdete v části ISIN a ISNOTIN.</span><span class="sxs-lookup"><span data-stu-id="45dc0-139">For multi-valued attributes, see ISIN and ISNOTIN.</span></span> |
| <span data-ttu-id="45dc0-140">LESSTHAN LESSTHAN_OR_EQUAL</span><span class="sxs-lookup"><span data-stu-id="45dc0-140">LESSTHAN, LESSTHAN_OR_EQUAL</span></span> |<span data-ttu-id="45dc0-141">Porovnat řetězec, který vyhodnotí, jestli je hodnota menší než hodnota hodnoty v atributu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-141">A string compare that evaluates if value is less than of the value in the attribute.</span></span> |
| <span data-ttu-id="45dc0-142">OBSAHUJE, NOTCONTAINS</span><span class="sxs-lookup"><span data-stu-id="45dc0-142">CONTAINS, NOTCONTAINS</span></span> |<span data-ttu-id="45dc0-143">Porovnat řetězec, která vyhodnotí Pokud hodnotu lze nalézt někde uvnitř hodnotu v atributu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-143">A string compare that evaluates if value can be found somewhere inside value in the attribute.</span></span> |
| <span data-ttu-id="45dc0-144">STARTSWITH, NOTSTARTSWITH</span><span class="sxs-lookup"><span data-stu-id="45dc0-144">STARTSWITH, NOTSTARTSWITH</span></span> |<span data-ttu-id="45dc0-145">Porovnat řetězec, který se vyhodnotí jako, pokud hodnota je na začátku hodnotu v atributu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-145">A string compare that evaluates if value is in the beginning of the value in the attribute.</span></span> |
| <span data-ttu-id="45dc0-146">ENDSWITH, NOTENDSWITH</span><span class="sxs-lookup"><span data-stu-id="45dc0-146">ENDSWITH, NOTENDSWITH</span></span> |<span data-ttu-id="45dc0-147">Porovnat řetězec, který se vyhodnotí jako, pokud hodnota je na konci hodnotu v atributu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-147">A string compare that evaluates if value is in the end of the value in the attribute.</span></span> |
| <span data-ttu-id="45dc0-148">GREATERTHAN GREATERTHAN_OR_EQUAL</span><span class="sxs-lookup"><span data-stu-id="45dc0-148">GREATERTHAN, GREATERTHAN_OR_EQUAL</span></span> |<span data-ttu-id="45dc0-149">Porovnat řetězec, která vyhodnotí, pokud je hodnota vyšší než hodnota atributu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-149">A string compare that evaluates if value is greater than of the value in the attribute.</span></span> |
| <span data-ttu-id="45dc0-150">ISNULL ISNOTNULL</span><span class="sxs-lookup"><span data-stu-id="45dc0-150">ISNULL, ISNOTNULL</span></span> |<span data-ttu-id="45dc0-151">Vyhodnotí, jestli je chybí atribut z objektu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-151">Evaluates if the attribute is absent from the object.</span></span> <span data-ttu-id="45dc0-152">Pokud atribut není přítomen a proto hodnotu null, pravidlo je v oboru.</span><span class="sxs-lookup"><span data-stu-id="45dc0-152">If the attribute is not present and therefore null, then the rule is in scope.</span></span> |
| <span data-ttu-id="45dc0-153">ISIN ISNOTIN</span><span class="sxs-lookup"><span data-stu-id="45dc0-153">ISIN, ISNOTIN</span></span> |<span data-ttu-id="45dc0-154">Vyhodnotí, pokud je hodnota v definovaný atribut.</span><span class="sxs-lookup"><span data-stu-id="45dc0-154">Evaluates if the value is present in the defined attribute.</span></span> <span data-ttu-id="45dc0-155">Tato operace je více hodnot variantu ROVNO a NOTEQUAL.</span><span class="sxs-lookup"><span data-stu-id="45dc0-155">This operation is the multi-valued variation of EQUAL and NOTEQUAL.</span></span> <span data-ttu-id="45dc0-156">Atribut by měl být více hodnot atributů a pokud hodnotu lze najít na žádném ze hodnoty atributu, pak toto pravidlo je v oboru.</span><span class="sxs-lookup"><span data-stu-id="45dc0-156">The attribute is supposed to be a multi-valued attribute and if the value can be found in any of the attribute values, then the rule is in scope.</span></span> |
| <span data-ttu-id="45dc0-157">ISBITSET ISNOTBITSET</span><span class="sxs-lookup"><span data-stu-id="45dc0-157">ISBITSET, ISNOTBITSET</span></span> |<span data-ttu-id="45dc0-158">Vyhodnotí, pokud je konkrétní bit nastavený.</span><span class="sxs-lookup"><span data-stu-id="45dc0-158">Evaluates if a particular bit is set.</span></span> <span data-ttu-id="45dc0-159">Například můžete použít k vyhodnocení bity v userAccountControl chcete zobrazit, pokud uživatel povolený nebo zakázaný.</span><span class="sxs-lookup"><span data-stu-id="45dc0-159">For example, can be used to evaluate the bits in userAccountControl to see if a user is enabled or disabled.</span></span> |
| <span data-ttu-id="45dc0-160">ISMEMBEROF ISNOTMEMBEROF</span><span class="sxs-lookup"><span data-stu-id="45dc0-160">ISMEMBEROF, ISNOTMEMBEROF</span></span> |<span data-ttu-id="45dc0-161">Hodnota by měla obsahovat rozlišující název pro skupinu v prostoru konektoru.</span><span class="sxs-lookup"><span data-stu-id="45dc0-161">The value should contain a DN to a group in the connector space.</span></span> <span data-ttu-id="45dc0-162">Pokud se objekt členem skupiny zadán, je pravidlo v oboru.</span><span class="sxs-lookup"><span data-stu-id="45dc0-162">If the object is a member of the group specified, the rule is in scope.</span></span> |

## <a name="join"></a><span data-ttu-id="45dc0-163">Spojit</span><span class="sxs-lookup"><span data-stu-id="45dc0-163">Join</span></span>
<span data-ttu-id="45dc0-164">Připojení k modulu v kanálu synchronizace je zodpovědná za hledání vztah mezi objektem ve zdroji a objekt na cíli.</span><span class="sxs-lookup"><span data-stu-id="45dc0-164">The join module in the sync pipeline is responsible for finding the relationship between the object in the source and an object in the target.</span></span> <span data-ttu-id="45dc0-165">Tento vztah na příchozí pravidlo, bude objekt v prostoru konektoru, hledání vztah k objektu v úložišti metaverse.</span><span class="sxs-lookup"><span data-stu-id="45dc0-165">On an inbound rule, this relationship would be an object in a connector space finding a relationship to an object in the metaverse.</span></span>  
![Připojení mezi cs a mv](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/join1.png)  
<span data-ttu-id="45dc0-167">Cílem je zobrazit, že pokud je objekt již v úložišti metaverse, vytvořené jiný konektor by měl být spojené s.</span><span class="sxs-lookup"><span data-stu-id="45dc0-167">The goal is to see if there is an object already in the metaverse, created by another Connector, it should be associated with.</span></span> <span data-ttu-id="45dc0-168">Například v doménové struktuře prostředku účet by měl být uživatele z doménové struktury účtu připojené s uživatelem z doménové struktury prostředku.</span><span class="sxs-lookup"><span data-stu-id="45dc0-168">For example, in an account-resource forest the user from the account forest should be joined with the user from the resource forest.</span></span>

<span data-ttu-id="45dc0-169">Spojení se používají převážně na příchozí pravidla ke spojení objekty konektoru místo ke stejnému objektu úložiště metaverse.</span><span class="sxs-lookup"><span data-stu-id="45dc0-169">Joins are used mostly on inbound rules to join connector space objects together to the same metaverse object.</span></span>

<span data-ttu-id="45dc0-170">Že spojení jsou definovány jako jednu nebo více skupin.</span><span class="sxs-lookup"><span data-stu-id="45dc0-170">The joins are defined as one or more groups.</span></span> <span data-ttu-id="45dc0-171">Uvnitř skupiny máte klauzule.</span><span class="sxs-lookup"><span data-stu-id="45dc0-171">Inside a group, you have clauses.</span></span> <span data-ttu-id="45dc0-172">Logické a se používá mezi všechny klauzule ve skupině.</span><span class="sxs-lookup"><span data-stu-id="45dc0-172">A logical AND is used between all clauses in a group.</span></span> <span data-ttu-id="45dc0-173">Logické nebo se používá mezi skupinami.</span><span class="sxs-lookup"><span data-stu-id="45dc0-173">A logical OR is used between groups.</span></span> <span data-ttu-id="45dc0-174">Skupiny jsou zpracovány v pořadí od shora dolů.</span><span class="sxs-lookup"><span data-stu-id="45dc0-174">The groups are processed in order from top to bottom.</span></span> <span data-ttu-id="45dc0-175">Když jedna skupina nalezl přesně jednu shodu s objektem na cíli, se vyhodnocují žádná další pravidla spojení.</span><span class="sxs-lookup"><span data-stu-id="45dc0-175">When one group has found exactly one match with an object in the target, then no other join rules are evaluated.</span></span> <span data-ttu-id="45dc0-176">Pokud nula nebo více než jeden objekt nenajde, bude pokračovat na další skupinu pravidel zpracování.</span><span class="sxs-lookup"><span data-stu-id="45dc0-176">If zero or more than one object is found, processing continues to the next group of rules.</span></span> <span data-ttu-id="45dc0-177">Z tohoto důvodu pravidla musí být vytvořený v pořadí nejvíce explicitní první a více přibližné na konci.</span><span class="sxs-lookup"><span data-stu-id="45dc0-177">For this reason, the rules should be created in the order of most explicit first and more fuzzy at the end.</span></span>  
![Připojení k definici](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/join2.png)  
<span data-ttu-id="45dc0-179">Spojení na tomto obrázku se zpracovávají shora dolů.</span><span class="sxs-lookup"><span data-stu-id="45dc0-179">The joins in this picture are processed from top to bottom.</span></span> <span data-ttu-id="45dc0-180">První synchronizace kanál uvidí, pokud je shoda s employeeID.</span><span class="sxs-lookup"><span data-stu-id="45dc0-180">First the sync pipeline sees if there is a match on employeeID.</span></span> <span data-ttu-id="45dc0-181">Pokud ne, druhé pravidlo se zobrazí, pokud název účtu můžete použít ke spojení objekty.</span><span class="sxs-lookup"><span data-stu-id="45dc0-181">If not, the second rule sees if the account name can be used to join the objects together.</span></span> <span data-ttu-id="45dc0-182">Pokud není nalezena shoda buď, je pravidlo třetí a finální více přibližné shody pomocí jméno uživatele.</span><span class="sxs-lookup"><span data-stu-id="45dc0-182">If that is not a match either, the third and final rule is a more fuzzy match by using the name of user.</span></span>

<span data-ttu-id="45dc0-183">Pokud byly vyhodnoceny všechna pravidla spojení a je přesně jednu shodu, **typu propojení** na **popis** stránky se používá.</span><span class="sxs-lookup"><span data-stu-id="45dc0-183">If all join rules have been evaluated and there is not exactly one match, the **Link Type** on the **Description** page is used.</span></span> <span data-ttu-id="45dc0-184">Pokud je tato možnost nastavena na **zřídit**, pak se vytvoří nový objekt v cíl.</span><span class="sxs-lookup"><span data-stu-id="45dc0-184">If this option is set to **Provision**, then a new object in the target is created.</span></span>  
<span data-ttu-id="45dc0-185">![Zřízení nebo připojení k](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/join3.png)</span><span class="sxs-lookup"><span data-stu-id="45dc0-185">![Provision or join](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/join3.png)</span></span>  

<span data-ttu-id="45dc0-186">Objekt by měl mít pouze jedno pravidlo jedním synchronizačním s pravidly spojení v oboru.</span><span class="sxs-lookup"><span data-stu-id="45dc0-186">An object should only have one single sync rule with join rules in scope.</span></span> <span data-ttu-id="45dc0-187">Pokud existují více pravidel synchronizace kterých byla definována spojení, dojde k chybě.</span><span class="sxs-lookup"><span data-stu-id="45dc0-187">If there are multiple sync rules where join is defined, an error occurs.</span></span> <span data-ttu-id="45dc0-188">Priorita se nepoužije se vyřešit konflikty spojení.</span><span class="sxs-lookup"><span data-stu-id="45dc0-188">Precedence is not used to resolve join conflicts.</span></span> <span data-ttu-id="45dc0-189">Objekt musí mít připojení k pravidlo v oboru pro atributy s stejné příchozí nebo odchozí směr toku.</span><span class="sxs-lookup"><span data-stu-id="45dc0-189">An object must have a join rule in scope for attributes to flow with the same inbound/outbound direction.</span></span> <span data-ttu-id="45dc0-190">Pokud potřebujete toku atributů příchozí i odchozí ke stejnému objektu, musí mít příchozí i pravidlo odchozí synchronizace s spojení.</span><span class="sxs-lookup"><span data-stu-id="45dc0-190">If you need to flow attributes both inbound and outbound to the same object, you must have both an inbound and an outbound sync rule with join.</span></span>

<span data-ttu-id="45dc0-191">Odchozí spojení má zvláštní chování při pokusu o zřízení objektu do prostoru konektoru na cílový.</span><span class="sxs-lookup"><span data-stu-id="45dc0-191">Outbound join has a special behavior when it tries to provision an object to a target connector space.</span></span> <span data-ttu-id="45dc0-192">Atribut rozlišující název se používá první vyzkoušení zpětného spojení.</span><span class="sxs-lookup"><span data-stu-id="45dc0-192">The DN attribute is used to first try a reverse-join.</span></span> <span data-ttu-id="45dc0-193">Pokud v prostoru konektoru cíl s stejné rozlišující název již existuje objekt, jsou připojené objekty.</span><span class="sxs-lookup"><span data-stu-id="45dc0-193">If there is already an object in the target connector space with the same DN, the objects are joined.</span></span>

<span data-ttu-id="45dc0-194">Připojení k modulu je Vyhodnocená jenom po při přechodu do oboru dojde nové pravidlo synchronizace.</span><span class="sxs-lookup"><span data-stu-id="45dc0-194">The join module is only evaluated once when a new sync rule comes into scope.</span></span> <span data-ttu-id="45dc0-195">Pokud objekt má připojený, není to odpojování i v případě, že již nesplňuje kritéria spojení.</span><span class="sxs-lookup"><span data-stu-id="45dc0-195">When an object has joined, it is not disjoining even if the join criteria is no longer satisfied.</span></span> <span data-ttu-id="45dc0-196">Pokud chcete odpojte objekt, musí se synchronizační pravidlo, které připojený objekty dostala mimo rozsah.</span><span class="sxs-lookup"><span data-stu-id="45dc0-196">If you want to disjoin an object, the sync rule that joined the objects must go out of scope.</span></span>

### <a name="metaverse-delete"></a><span data-ttu-id="45dc0-197">Odstranění úložiště Metaverse</span><span class="sxs-lookup"><span data-stu-id="45dc0-197">Metaverse delete</span></span>
<span data-ttu-id="45dc0-198">Zůstane, pokud je v oboru s jedno pravidlo synchronizace objektu úložiště metaverse **typu propojení** nastavena na **zřídit** nebo **StickyJoin**.</span><span class="sxs-lookup"><span data-stu-id="45dc0-198">A metaverse object remains as long as there is one sync rule in scope with **Link Type** set to **Provision** or **StickyJoin**.</span></span> <span data-ttu-id="45dc0-199">StickyJoin se používá, pokud není povoleno zřídit nový objekt, který úložiště metaverse konektoru, ale v případě, že se má propojit, je třeba jej odstranit ve zdroji, než je odstraněn objekt úložiště metaverse.</span><span class="sxs-lookup"><span data-stu-id="45dc0-199">A StickyJoin is used when a Connector is not allowed to provision a new object to the metaverse, but when it has joined, it must be deleted in the source before the metaverse object is deleted.</span></span>

<span data-ttu-id="45dc0-200">Při odstranění objektu úložiště metaverse všechny objekty přidružené pravidlo odchozí synchronizace označen pro **zřídit** jsou označena pro odstranění.</span><span class="sxs-lookup"><span data-stu-id="45dc0-200">When a metaverse object is deleted, all objects associated with an outbound sync rule marked for **provision** are marked for a delete.</span></span>

## <a name="transformations"></a><span data-ttu-id="45dc0-201">Transformace</span><span class="sxs-lookup"><span data-stu-id="45dc0-201">Transformations</span></span>
<span data-ttu-id="45dc0-202">Transformace slouží k určení, jak by měl toku atributů ze zdroje do cíle.</span><span class="sxs-lookup"><span data-stu-id="45dc0-202">The transformations are used to define how attributes should flow from the source to the target.</span></span> <span data-ttu-id="45dc0-203">Tyto toky může mít jednu z následujících **toku typy**: přímo, konstanta nebo výraz.</span><span class="sxs-lookup"><span data-stu-id="45dc0-203">The flows can have one of the following **flow types**: Direct, Constant, or Expression.</span></span> <span data-ttu-id="45dc0-204">Hodnota atributu jako tok přímé tok,-je bez další transformací.</span><span class="sxs-lookup"><span data-stu-id="45dc0-204">A direct flow, flows an attribute value as-is with no additional transformations.</span></span> <span data-ttu-id="45dc0-205">Konstantní hodnotu Nastaví zadanou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-205">A constant value sets the specified value.</span></span> <span data-ttu-id="45dc0-206">Výraz používá deklarativní zřizování jazyk výrazů k express, jak by měla být transformace.</span><span class="sxs-lookup"><span data-stu-id="45dc0-206">An expression uses the declarative provisioning expression language to express how the transformation should be.</span></span> <span data-ttu-id="45dc0-207">Podrobnosti o výraz jazyka najdete v [pochopení deklarativní zřizování jazyk výrazů](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md) tématu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-207">The details for the expression language can be found in the [understanding declarative provisioning expression language](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md) topic.</span></span>

![Zřízení nebo připojení k](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/transformations1.png)  

<span data-ttu-id="45dc0-209">**Použít jednou** políčko definuje, že atribut by měl být nastavena pouze při vytvoření objektu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-209">The **Apply once** checkbox defines that the attribute should only be set when the object is initially created.</span></span> <span data-ttu-id="45dc0-210">Například tato konfigurace slouží k nastavení počátečního hesla pro nový objekt uživatele.</span><span class="sxs-lookup"><span data-stu-id="45dc0-210">For example, this configuration can be used to set an initial password for a new user object.</span></span>

### <a name="merging-attribute-values"></a><span data-ttu-id="45dc0-211">Slučování hodnoty atributu</span><span class="sxs-lookup"><span data-stu-id="45dc0-211">Merging attribute values</span></span>
<span data-ttu-id="45dc0-212">V toky atributů je nastavení určující, pokud by měly být sloučeny více hodnot atributů z několika různých konektorů.</span><span class="sxs-lookup"><span data-stu-id="45dc0-212">In the attribute flows there is a setting to determine if multi-valued attributes should be merged from several different Connectors.</span></span> <span data-ttu-id="45dc0-213">Výchozí hodnota je **aktualizace**, což naznačuje, že by měl win synchronizační pravidlo s nejvyšší prioritou.</span><span class="sxs-lookup"><span data-stu-id="45dc0-213">The default value is **Update**, which indicates that the sync rule with highest precedence should win.</span></span>

![Merge – typy](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/mergetype.png)  

<span data-ttu-id="45dc0-215">K dispozici je také **sloučení** a **MergeCaseInsensitive**.</span><span class="sxs-lookup"><span data-stu-id="45dc0-215">There is also **Merge** and **MergeCaseInsensitive**.</span></span> <span data-ttu-id="45dc0-216">Tyto možnosti umožňují sloučení hodnoty z různých zdrojů.</span><span class="sxs-lookup"><span data-stu-id="45dc0-216">These options allow you to merge values from different sources.</span></span> <span data-ttu-id="45dc0-217">Například může sloužit ke sloučení atributu proxyAddresses nebo člena z několika různých doménových struktur.</span><span class="sxs-lookup"><span data-stu-id="45dc0-217">For example, it can be used to merge the member or proxyAddresses attribute from several different forests.</span></span> <span data-ttu-id="45dc0-218">Pokud použijete tuto možnost, všechna pravidla synchronizace v oboru pro objekt musí používat stejný typ sloučení.</span><span class="sxs-lookup"><span data-stu-id="45dc0-218">When you use this option, all sync rules in scope for an object must use the same merge type.</span></span> <span data-ttu-id="45dc0-219">Nelze definovat **aktualizace** z jeden konektor a **sloučení** z jiné.</span><span class="sxs-lookup"><span data-stu-id="45dc0-219">You cannot define **Update** from one Connector and **Merge** from another.</span></span> <span data-ttu-id="45dc0-220">Pokud se pokusíte, obdržíte chybu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-220">If you try, you receive an error.</span></span>

<span data-ttu-id="45dc0-221">Rozdíl mezi **sloučení** a **MergeCaseInsensitive** je postupy zpracování duplicitními hodnotami atributů.</span><span class="sxs-lookup"><span data-stu-id="45dc0-221">The difference between **Merge** and **MergeCaseInsensitive** is how to process duplicate attribute values.</span></span> <span data-ttu-id="45dc0-222">Synchronizační modul je zajištěno, že duplicitní hodnoty nejsou vloženy do atribut target.</span><span class="sxs-lookup"><span data-stu-id="45dc0-222">The sync engine makes sure duplicate values are not inserted into the target attribute.</span></span> <span data-ttu-id="45dc0-223">S **MergeCaseInsensitive**, duplicitní hodnoty s pouze rozdíly v případě, že nebudete nacházet.</span><span class="sxs-lookup"><span data-stu-id="45dc0-223">With **MergeCaseInsensitive**, duplicate values with only a difference in case are not going to be present.</span></span> <span data-ttu-id="45dc0-224">Například byste neměli vidět obě "SMTP:bob@contoso.com"a"smtp:bob@contoso.com" v atribut target.</span><span class="sxs-lookup"><span data-stu-id="45dc0-224">For example, you should not see both "SMTP:bob@contoso.com" and "smtp:bob@contoso.com" in the target attribute.</span></span> <span data-ttu-id="45dc0-225">**Sloučení** je jenom prohlížení přesné hodnoty a více hodnot tam, kde existuje jenom rozdíl v případě může být k dispozici.</span><span class="sxs-lookup"><span data-stu-id="45dc0-225">**Merge** is only looking at the exact values and multiple values where there only is a difference in case might be present.</span></span>

<span data-ttu-id="45dc0-226">Možnost **nahradit** je stejný jako **aktualizace**, ale se nepoužívá.</span><span class="sxs-lookup"><span data-stu-id="45dc0-226">The option **Replace** is the same as **Update**, but it is not used.</span></span>

### <a name="control-the-attribute-flow-process"></a><span data-ttu-id="45dc0-227">Řízení procesu toku atributů</span><span class="sxs-lookup"><span data-stu-id="45dc0-227">Control the attribute flow process</span></span>
<span data-ttu-id="45dc0-228">Pokud více pravidel příchozí synchronizace jsou nakonfigurovaná pro podílet se na stejný atribut úložiště metaverse, přednost se používá přednost.</span><span class="sxs-lookup"><span data-stu-id="45dc0-228">When multiple inbound sync rules are configured to contribute to the same metaverse attribute, then precedence is used to determine the winner.</span></span> <span data-ttu-id="45dc0-229">Pravidlo synchronizace s nejvyšší prioritou (nejnižší číselnou hodnotu) se bude podílet se hodnota.</span><span class="sxs-lookup"><span data-stu-id="45dc0-229">The sync rule with highest precedence (lowest numeric value) is going to contribute the value.</span></span> <span data-ttu-id="45dc0-230">Stejné se stane pro odchozí pravidla.</span><span class="sxs-lookup"><span data-stu-id="45dc0-230">The same happens for outbound rules.</span></span> <span data-ttu-id="45dc0-231">Synchronizace pravidla pomocí služby wins nejvyšší prioritu a přispívat hodnota, která má připojený adresář.</span><span class="sxs-lookup"><span data-stu-id="45dc0-231">The sync rule with highest precedence wins and contribute the value to the connected directory.</span></span>

<span data-ttu-id="45dc0-232">V některých případech místo přispívat hodnotu, pravidlo synchronizace měli určit chování ostatní pravidla.</span><span class="sxs-lookup"><span data-stu-id="45dc0-232">In some cases, rather than contribute a value, the sync rule should determine how other rules should behave.</span></span> <span data-ttu-id="45dc0-233">Existují některé speciální literály použít pro tento případ.</span><span class="sxs-lookup"><span data-stu-id="45dc0-233">There are some special literals used for this case.</span></span>

<span data-ttu-id="45dc0-234">Pro příchozí pravidla synchronizace, skutečné **NULL** slouží k označení, že tok nemá žádnou hodnotu přispívat.</span><span class="sxs-lookup"><span data-stu-id="45dc0-234">For inbound Synchronization Rules, the literal **NULL** can be used to indicate that the flow has no value to contribute.</span></span> <span data-ttu-id="45dc0-235">Jiné pravidlo s nižší prioritou můžete přispívat hodnotu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-235">Another rule with lower precedence can contribute a value.</span></span> <span data-ttu-id="45dc0-236">Pokud žádné pravidlo podílí hodnotu, pak se odebere atribut úložiště metaverse.</span><span class="sxs-lookup"><span data-stu-id="45dc0-236">If no rule contributed a value, then the metaverse attribute is removed.</span></span> <span data-ttu-id="45dc0-237">Odchozí pravidla Pokud **NULL** konečná hodnota je po zpracování všech pravidel synchronizace, pak se hodnota odebere v adresáři připojené.</span><span class="sxs-lookup"><span data-stu-id="45dc0-237">For an outbound rule, if **NULL** is the final value after all sync rules have been processed, then the value is removed in the connected directory.</span></span>

<span data-ttu-id="45dc0-238">Literálové **AuthoritativeNull** je podobná **NULL** , ale s tím rozdílem, že žádná nižší prioritu pravidla můžete přispívat hodnotu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-238">The literal **AuthoritativeNull** is similar to **NULL** but with the difference that no lower precedence rules can contribute a value.</span></span>

<span data-ttu-id="45dc0-239">Tok atributů použít také **IgnoreThisFlow**.</span><span class="sxs-lookup"><span data-stu-id="45dc0-239">An attribute flow can also use **IgnoreThisFlow**.</span></span> <span data-ttu-id="45dc0-240">Je to podobné na hodnotu NULL v tom smyslu, že znamená, že není nic přispívat.</span><span class="sxs-lookup"><span data-stu-id="45dc0-240">It is similar to NULL in the sense that it indicates there is nothing to contribute.</span></span> <span data-ttu-id="45dc0-241">Rozdíl je v ji neodebere již existující hodnoty na cíli.</span><span class="sxs-lookup"><span data-stu-id="45dc0-241">The difference is that it does not remove an already existing value in the target.</span></span> <span data-ttu-id="45dc0-242">Je jako toku atributů nebylo nikdy existuje.</span><span class="sxs-lookup"><span data-stu-id="45dc0-242">It is like the attribute flow has never been there.</span></span>

<span data-ttu-id="45dc0-243">Zde naleznete příklad:</span><span class="sxs-lookup"><span data-stu-id="45dc0-243">Here is an example:</span></span>

<span data-ttu-id="45dc0-244">V *Out do AD - Exchange uživatele hybridní* naleznete následující postup:</span><span class="sxs-lookup"><span data-stu-id="45dc0-244">In *Out to AD - User Exchange hybrid* the following flow can be found:</span></span>  
`IIF([cloudSOAExchMailbox] = True,[cloudMSExchSafeSendersHash],IgnoreThisFlow)`  
<span data-ttu-id="45dc0-245">Tento výraz byste si měli přečíst jako: Pokud je poštovní schránka uživatele ve službě Azure AD, pak toku atributů z Azure AD k AD.</span><span class="sxs-lookup"><span data-stu-id="45dc0-245">This expression should be read as: if the user mailbox is located in Azure AD, then flow the attribute from Azure AD to AD.</span></span> <span data-ttu-id="45dc0-246">Pokud ne, není nic zpět do služby Active Directory toku.</span><span class="sxs-lookup"><span data-stu-id="45dc0-246">If not, do not flow anything back to Active Directory.</span></span> <span data-ttu-id="45dc0-247">V takovém případě by se zachovat existující hodnotu v AD.</span><span class="sxs-lookup"><span data-stu-id="45dc0-247">In this case, it would keep the existing value in AD.</span></span>

### <a name="importedvalue"></a><span data-ttu-id="45dc0-248">ImportedValue</span><span class="sxs-lookup"><span data-stu-id="45dc0-248">ImportedValue</span></span>
<span data-ttu-id="45dc0-249">Vzhledem k tomu, že název atributu musí být uzavřena v uvozovkách, nikoli hranaté závorky, se liší od dalších funkcí funkce ImportedValue:</span><span class="sxs-lookup"><span data-stu-id="45dc0-249">The function ImportedValue is different than all other functions since the attribute name must be enclosed in quotes rather than square brackets:</span></span>  
<span data-ttu-id="45dc0-250">`ImportedValue("proxyAddresses")`.</span><span class="sxs-lookup"><span data-stu-id="45dc0-250">`ImportedValue("proxyAddresses")`.</span></span>

<span data-ttu-id="45dc0-251">Obvykle během synchronizace používá atribut očekávané hodnotě, i když nebyla dosud exportovat nebo došlo k chybě při exportu ("top věž").</span><span class="sxs-lookup"><span data-stu-id="45dc0-251">Usually during synchronization an attribute uses the expected value, even if it hasn’t been exported yet or an error was received during export (“top of the tower”).</span></span> <span data-ttu-id="45dc0-252">Příchozí synchronizace se předpokládá, že atribut, který ještě nedosáhla připojený adresář nakonec nedosáhne.</span><span class="sxs-lookup"><span data-stu-id="45dc0-252">An inbound synchronization assumes that an attribute that hasn’t yet reached a connected directory eventually reaches it.</span></span> <span data-ttu-id="45dc0-253">V některých případech je potřeba pouze synchronizovat hodnotu, která byla potvrzena připojený adresář ("hologram a rozdílový import věž").</span><span class="sxs-lookup"><span data-stu-id="45dc0-253">In some cases, it is important to only synchronize a value that has been confirmed by the connected directory (“hologram and delta import tower”).</span></span>

<span data-ttu-id="45dc0-254">Příklad této funkce lze nalézt v synchronizační pravidlo out-of-box *v ze služby Active Directory – běžné uživatele ze serveru Exchange*.</span><span class="sxs-lookup"><span data-stu-id="45dc0-254">An example of this function can be found in the out-of-box Synchronization Rule *In from AD – User Common from Exchange*.</span></span> <span data-ttu-id="45dc0-255">V hybridní Exchange přidané systémem Exchange online pouze synchronizovat při bylo potvrzeno, že byl úspěšně exportován hodnotu:</span><span class="sxs-lookup"><span data-stu-id="45dc0-255">In Hybrid Exchange, the value added by Exchange online should only be synchronized when it has been confirmed that the value was exported successfully:</span></span>  
`proxyAddresses` <- `RemoveDuplicates(Trim(ImportedValue("proxyAddresses")))`

## <a name="precedence"></a><span data-ttu-id="45dc0-256">Priorita</span><span class="sxs-lookup"><span data-stu-id="45dc0-256">Precedence</span></span>
<span data-ttu-id="45dc0-257">Při pokusu o několik pravidel synchronizace přispívat stejnou hodnotu atributu na cíl, hodnotu priority, která se používá přednost.</span><span class="sxs-lookup"><span data-stu-id="45dc0-257">When several sync rules try to contribute the same attribute value to the target, the precedence value is used to determine the winner.</span></span> <span data-ttu-id="45dc0-258">Pravidlo s nejvyšší prioritou, nejnižší číselnou hodnotu, bude přispívat atribut v konfliktu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-258">The rule with highest precedence, lowest numeric value, is going to contribute the attribute in a conflict.</span></span>

![Merge – typy](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/precedence1.png)  

<span data-ttu-id="45dc0-260">Toto uspořádání lze použít k definování přesnější toky atributů pro malou podmnožinu objektů.</span><span class="sxs-lookup"><span data-stu-id="45dc0-260">This ordering can be used to define more precise attribute flows for a small subset of objects.</span></span> <span data-ttu-id="45dc0-261">Například out z – pole pravidla ujistěte se, které atributy z aktivovaný účet (**uživatele AccountEnabled**) mají přednost před z jiné účty.</span><span class="sxs-lookup"><span data-stu-id="45dc0-261">For example, the out-of-box-rules make sure that attributes from an enabled account (**User AccountEnabled**) have precedence from other accounts.</span></span>

<span data-ttu-id="45dc0-262">Mezi konektory lze definovat prioritu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-262">Precedence can be defined between Connectors.</span></span> <span data-ttu-id="45dc0-263">Konektory, který umožňuje lepší daty přispívání hodnoty.</span><span class="sxs-lookup"><span data-stu-id="45dc0-263">That allows Connectors with better data to contribute values first.</span></span>

### <a name="multiple-objects-from-the-same-connector-space"></a><span data-ttu-id="45dc0-264">Více objektů ze stejné prostoru konektoru</span><span class="sxs-lookup"><span data-stu-id="45dc0-264">Multiple objects from the same connector space</span></span>
<span data-ttu-id="45dc0-265">Pokud máte několik objektů ve stejném připojený ke stejnému objektu úložiště metaverse prostoru konektoru, je třeba upravit prioritu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-265">If you have several objects in the same connector space joined to the same metaverse object, precedence must be adjusted.</span></span> <span data-ttu-id="45dc0-266">Pokud několik objektů v oboru stejného pravidla synchronizace, není synchronizační modul schopní určit prioritu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-266">If several objects are in scope of the same sync rule, then the sync engine is not able to determine precedence.</span></span> <span data-ttu-id="45dc0-267">Ho je nejednoznačný, které zdrojový objekt musí přispívat hodnotu do úložiště metaverse.</span><span class="sxs-lookup"><span data-stu-id="45dc0-267">It is ambiguous which source object should contribute the value to the metaverse.</span></span> <span data-ttu-id="45dc0-268">Tato konfigurace se hlásí jako nejednoznačný i v případě, že atributy ve zdroji mají stejnou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-268">This configuration is reported as ambiguous even if the attributes in the source have the same value.</span></span>  
![Více objektů spojeno do stejného objektu mv](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/multiple1.png)  

<span data-ttu-id="45dc0-270">Pro tento scénář potřebujete změnit obor pravidel synchronizace, takže zdrojové objekty mají různé synchronizační pravidla v oboru.</span><span class="sxs-lookup"><span data-stu-id="45dc0-270">For this scenario, you need to change the scope of the sync rules so the source objects have different sync rules in scope.</span></span> <span data-ttu-id="45dc0-271">Který umožňuje definovat jinou prioritu.</span><span class="sxs-lookup"><span data-stu-id="45dc0-271">That allows you to define different precedence.</span></span>  
![Více objektů spojeno do stejného objektu mv](./media/active-directory-aadconnectsync-understanding-declarative-provisioning/multiple2.png)  

## <a name="next-steps"></a><span data-ttu-id="45dc0-273">Další kroky</span><span class="sxs-lookup"><span data-stu-id="45dc0-273">Next steps</span></span>
* <span data-ttu-id="45dc0-274">Další informace o jazyk výrazů v [Principy deklarativní zřizování výrazy](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="45dc0-274">Read more about the expression language in [Understanding Declarative Provisioning Expressions](active-directory-aadconnectsync-understanding-declarative-provisioning-expressions.md).</span></span>
* <span data-ttu-id="45dc0-275">Najdete v tématu Jak deklarativní zřizování je použité out-of-box v [Principy výchozí konfigurace](active-directory-aadconnectsync-understanding-default-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="45dc0-275">See how declarative provisioning is used out-of-box in [Understanding the default configuration](active-directory-aadconnectsync-understanding-default-configuration.md).</span></span>
* <span data-ttu-id="45dc0-276">Informace o tom, praktické změnit pomocí deklarativní zřizování v [jak provést změnu výchozí konfigurace](active-directory-aadconnectsync-change-the-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="45dc0-276">See how to make a practical change using declarative provisioning in [How to make a change to the default configuration](active-directory-aadconnectsync-change-the-configuration.md).</span></span>
* <span data-ttu-id="45dc0-277">Dál číst, jak uživatelů a kontaktů spolupracují [Principy uživatelů a kontaktů](active-directory-aadconnectsync-understanding-users-and-contacts.md).</span><span class="sxs-lookup"><span data-stu-id="45dc0-277">Continue to read how users and contacts work together in [Understanding Users and Contacts](active-directory-aadconnectsync-understanding-users-and-contacts.md).</span></span>

<span data-ttu-id="45dc0-278">**Témata s přehledem**</span><span class="sxs-lookup"><span data-stu-id="45dc0-278">**Overview topics**</span></span>

* [<span data-ttu-id="45dc0-279">Synchronizace Azure AD Connect: pochopení a přizpůsobení synchronizace</span><span class="sxs-lookup"><span data-stu-id="45dc0-279">Azure AD Connect sync: Understand and customize synchronization</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="45dc0-280">Integrování místních identit do služby Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="45dc0-280">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)

<span data-ttu-id="45dc0-281">**Témata odkazů**</span><span class="sxs-lookup"><span data-stu-id="45dc0-281">**Reference topics**</span></span>

* [<span data-ttu-id="45dc0-282">Synchronizace Azure AD Connect: odkaz na funkce</span><span class="sxs-lookup"><span data-stu-id="45dc0-282">Azure AD Connect sync: Functions Reference</span></span>](active-directory-aadconnectsync-functions-reference.md)
