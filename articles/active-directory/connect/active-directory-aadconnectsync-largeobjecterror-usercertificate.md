---
title: "Synchronizace Azure AD Connect: LargeObject zpracování chyb vzniklých při userCertificate atribut | Microsoft Docs"
description: "Toto téma obsahuje postup nápravy LargeObject chyby způsobené userCertificate atribut."
services: active-directory
documentationcenter: 
author: cychua
manager: femila
editor: 
ms.assetid: 146ad5b3-74d9-4a83-b9e8-0973a19828d9
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: billmath
ms.openlocfilehash: 2a5418ff61e07793fceca5a8207c1c5aa18847b4
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/03/2017
---
# <a name="azure-ad-connect-sync-handling-largeobject-errors-caused-by-usercertificate-attribute"></a><span data-ttu-id="65bed-103">Synchronizace Azure AD Connect: LargeObject zpracování chyb vzniklých při userCertificate atribut</span><span class="sxs-lookup"><span data-stu-id="65bed-103">Azure AD Connect sync: Handling LargeObject errors caused by userCertificate attribute</span></span>

<span data-ttu-id="65bed-104">Azure AD vynucuje maximální limit **15** certifikátů hodnoty na **userCertificate** atribut.</span><span class="sxs-lookup"><span data-stu-id="65bed-104">Azure AD enforces a maximum limit of **15** certificate values on the **userCertificate** attribute.</span></span> <span data-ttu-id="65bed-105">Pokud Azure AD Connect exportuje objekt s více než 15 hodnoty do služby Azure AD, Azure AD vrátí **LargeObject** chybová zpráva:</span><span class="sxs-lookup"><span data-stu-id="65bed-105">If Azure AD Connect exports an object with more than 15 values to Azure AD, Azure AD returns a **LargeObject** error with message:</span></span>

><span data-ttu-id="65bed-106">*"Zřízený objekt je příliš velký. Omezte počet hodnot atributů pro tento objekt. Operace bude opakována při příštím synchronizačním cyklu..."*</span><span class="sxs-lookup"><span data-stu-id="65bed-106">*"The provisioned object is too large. Trim the number of attribute values on this object. The operation will be retried in the next synchronization cycle..."*</span></span>

<span data-ttu-id="65bed-107">Ostatní atributy AD může být způsobeno LargeObject chyba.</span><span class="sxs-lookup"><span data-stu-id="65bed-107">The LargeObject error may be caused by other AD attributes.</span></span> <span data-ttu-id="65bed-108">Pokud chcete potvrdit, je skutečně způsobená userCertificate atribut, je třeba ověřit pro objekt buď v místní službě AD, nebo v [hledání úložiště Metaverse Synchronization Service Manager](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-service-manager-ui-mvsearch).</span><span class="sxs-lookup"><span data-stu-id="65bed-108">To confirm it is indeed caused by the userCertificate attribute, you need to verify against the object either in on-premises AD or in the [Synchronization Service Manager Metaverse Search](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-service-manager-ui-mvsearch).</span></span>

<span data-ttu-id="65bed-109">Pokud chcete získat seznam objektů ve vašem klientovi s chybami LargeObject, použijte jednu z následujících metod:</span><span class="sxs-lookup"><span data-stu-id="65bed-109">To obtain the list of objects in your tenant with LargeObject errors, use one of the following methods:</span></span>

 * <span data-ttu-id="65bed-110">Pokud je váš klient Azure AD Connect Health pro synchronizaci, můžete se podívat do [synchronizace chybách](https://docs.microsoft.com/azure/active-directory/connect-health/active-directory-aadconnect-health-sync#object-level-synchronization-error-report-preview) zadat.</span><span class="sxs-lookup"><span data-stu-id="65bed-110">If your tenant is enabled for Azure AD Connect Health for sync, you can refer to the [Synchronization Error Report](https://docs.microsoft.com/azure/active-directory/connect-health/active-directory-aadconnect-health-sync#object-level-synchronization-error-report-preview) provided.</span></span>
 
 * <span data-ttu-id="65bed-111">Oznámení e-mailu pro chyby synchronizace adresáře odeslaný na konci každé synchronizačním cyklu má seznam objektů s chybami LargeObject.</span><span class="sxs-lookup"><span data-stu-id="65bed-111">The notification email for directory synchronization errors that is sent at the end of each sync cycle has the list of objects with LargeObject errors.</span></span> 
 * <span data-ttu-id="65bed-112">[Kartu Synchronization Service Manager operace](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-service-manager-ui-operations) zobrazí seznam objektů s chybami LargeObject, pokud kliknete na poslední Export do Azure AD operaci.</span><span class="sxs-lookup"><span data-stu-id="65bed-112">The [Synchronization Service Manager Operations tab](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnectsync-service-manager-ui-operations) displays the list of objects with LargeObject errors if you click the latest Export to Azure AD operation.</span></span>
 
## <a name="mitigation-options"></a><span data-ttu-id="65bed-113">Zmírnění dopadů možnosti</span><span class="sxs-lookup"><span data-stu-id="65bed-113">Mitigation options</span></span>
<span data-ttu-id="65bed-114">Až do vyřešení chyby LargeObject jiné změny atributů ke stejnému objektu nelze exportovat do služby Azure AD.</span><span class="sxs-lookup"><span data-stu-id="65bed-114">Until the LargeObject error is resolved, other attribute changes to the same object cannot be exported to Azure AD.</span></span> <span data-ttu-id="65bed-115">Opravte případné chyby, zvažte následující možnosti:</span><span class="sxs-lookup"><span data-stu-id="65bed-115">To resolve the error, you can consider the following options:</span></span>

 * <span data-ttu-id="65bed-116">Upgrade Azure AD Connect k sestavení 1.1.524.0 nebo po.</span><span class="sxs-lookup"><span data-stu-id="65bed-116">Upgrade Azure AD Connect to build 1.1.524.0 or after.</span></span> <span data-ttu-id="65bed-117">Ve službě Azure AD Connect sestavení 1.1.524.0, out-of-box synchronizace, které byly aktualizovány pravidla není export userCertificate atributy a userSMIMECertificate, pokud máte více než 15 hodnoty atributů.</span><span class="sxs-lookup"><span data-stu-id="65bed-117">In Azure AD Connect build 1.1.524.0, the out-of-box synchronization rules have been updated to not export attributes userCertificate and userSMIMECertificate if the attributes have more than 15 values.</span></span> <span data-ttu-id="65bed-118">Podrobnosti o tom, jak upgradovat Azure AD Connect, najdete v článku [Azure AD Connect: Upgrade z předchozí verze na nejnovější](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-upgrade-previous-version).</span><span class="sxs-lookup"><span data-stu-id="65bed-118">For details on how to upgrade Azure AD Connect, refer to article [Azure AD Connect: Upgrade from a previous version to the latest](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-upgrade-previous-version).</span></span>

 * <span data-ttu-id="65bed-119">Implementace **pravidlo odchozí synchronizace** v Azure AD Connect, který exportuje **hodnota místo skutečnými hodnotami pro objekty s více než 15 certifikát hodnoty null**.</span><span class="sxs-lookup"><span data-stu-id="65bed-119">Implement an **outbound sync rule** in Azure AD Connect that exports a **null value instead of the actual values for objects with more than 15 certificate values**.</span></span> <span data-ttu-id="65bed-120">Tato možnost je vhodná, pokud nechcete, aby všechny hodnoty certifikát tak, aby exportovány do služby Azure AD pro objekty s více než 15 hodnotami.</span><span class="sxs-lookup"><span data-stu-id="65bed-120">This option is suitable if you do not require any of the certificate values to be exported to Azure AD for objects with more than 15 values.</span></span> <span data-ttu-id="65bed-121">Podrobnosti o tom, jak implementovat toto synchronizační pravidlo, najdete další části [implementace synchronizační pravidlo omezit export userCertificate atributu](#implementing-sync-rule-to-limit-export-of-usercertificate-attribute).</span><span class="sxs-lookup"><span data-stu-id="65bed-121">For details on how to implement this sync rule, refer to next section [Implementing sync rule to limit export of userCertificate attribute](#implementing-sync-rule-to-limit-export-of-usercertificate-attribute).</span></span>

 * <span data-ttu-id="65bed-122">Snižte počet hodnot certifikát na místní objektu AD (maximálně 15) odebráním hodnoty, které jsou již používá vaše organizace.</span><span class="sxs-lookup"><span data-stu-id="65bed-122">Reduce the number of certificate values on the on-premises AD object (15 or less) by removing values that are no longer in use by your organization.</span></span> <span data-ttu-id="65bed-123">To je vhodné, pokud je atribut tomu způsobeno certifikáty s vypršenou platností nebo se nepoužívá.</span><span class="sxs-lookup"><span data-stu-id="65bed-123">This is suitable if the attribute bloat is caused by expired or unused certificates.</span></span> <span data-ttu-id="65bed-124">Můžete použít [zde k dispozici skript prostředí PowerShell](https://gallery.technet.microsoft.com/Remove-Expired-Certificates-0517e34f) vám pomohou najít, zálohování a odstranit certifikáty s vypršenou platností v místní AD.</span><span class="sxs-lookup"><span data-stu-id="65bed-124">You can use the [PowerShell script available here](https://gallery.technet.microsoft.com/Remove-Expired-Certificates-0517e34f) to help find, backup, and delete expired certificates in your on-premises AD.</span></span> <span data-ttu-id="65bed-125">Před odstraněním certifikáty, se doporučuje, abyste ověřili se infrastruktura veřejných klíčů správci ve vaší organizaci.</span><span class="sxs-lookup"><span data-stu-id="65bed-125">Before deleting the certificates, it is recommended that you verify with the Public-Key-Infrastructure administrators in your organization.</span></span>

 * <span data-ttu-id="65bed-126">Konfigurujte Azure AD Connect vyloučit atribut userCertificate z se exportují do služby Azure AD.</span><span class="sxs-lookup"><span data-stu-id="65bed-126">Configure Azure AD Connect to exclude the userCertificate attribute from being exported to Azure AD.</span></span> <span data-ttu-id="65bed-127">Obecně nedoporučujeme tuto možnost vzhledem k tomu, že atribut může být používán služeb Microsoft Online Services, které umožňují konkrétní scénáře.</span><span class="sxs-lookup"><span data-stu-id="65bed-127">In general, we do not recommend this option since the attribute may be used by Microsoft Online Services to enable specific scenarios.</span></span> <span data-ttu-id="65bed-128">Konkrétně:</span><span class="sxs-lookup"><span data-stu-id="65bed-128">In particular:</span></span>
    * <span data-ttu-id="65bed-129">Atribut userCertificate v objektu User je používán Exchange Online a klienty Outlook pro zprávu podepisování a šifrování.</span><span class="sxs-lookup"><span data-stu-id="65bed-129">The userCertificate attribute on the User object is used by Exchange Online and Outlook clients for message signing and encryption.</span></span> <span data-ttu-id="65bed-130">Další informace o této funkci naleznete v článku [S/MIME pro zprávu podepisování a šifrování](https://technet.microsoft.com/library/dn626158(v=exchg.150).aspx).</span><span class="sxs-lookup"><span data-stu-id="65bed-130">To learn more about this feature, refer to article [S/MIME for message signing and encryption](https://technet.microsoft.com/library/dn626158(v=exchg.150).aspx).</span></span>

    * <span data-ttu-id="65bed-131">Atribut userCertificate na objekt počítače se používá Azure AD umožňuje Windows 10 v místní doméně zařízení pro připojení k Azure AD.</span><span class="sxs-lookup"><span data-stu-id="65bed-131">The userCertificate attribute on the Computer object is used by Azure AD to allow Windows 10 on-premises domain-joined devices to connect to Azure AD.</span></span> <span data-ttu-id="65bed-132">Další informace o této funkci naleznete v článku [připojení zařízení připojených k doméně ke službě Azure AD pro Windows 10 vyskytne](https://docs.microsoft.com/azure/active-directory/active-directory-azureadjoin-devices-group-policy).</span><span class="sxs-lookup"><span data-stu-id="65bed-132">To learn more about this feature, please refer to article [Connect domain-joined devices to Azure AD for Windows 10 experiences](https://docs.microsoft.com/azure/active-directory/active-directory-azureadjoin-devices-group-policy).</span></span>

## <a name="implementing-sync-rule-to-limit-export-of-usercertificate-attribute"></a><span data-ttu-id="65bed-133">Implementace synchronizační pravidlo omezit export userCertificate atributu</span><span class="sxs-lookup"><span data-stu-id="65bed-133">Implementing sync rule to limit export of userCertificate attribute</span></span>
<span data-ttu-id="65bed-134">Chcete-li vyřešit chyby LargeObject způsobené userCertificate atribut, můžete implementovat pravidlo odchozí synchronizace v Azure AD Connect, který exportuje **hodnota místo skutečných hodnot pro objekty s více než 15 certifikát hodnotynull**.</span><span class="sxs-lookup"><span data-stu-id="65bed-134">To resolve the LargeObject error caused by the userCertificate attribute, you can implement an outbound sync rule in Azure AD Connect that exports a **null value instead of the actual values for objects with more than 15 certificate values**.</span></span> <span data-ttu-id="65bed-135">Tato část popisuje kroky nutné k implementaci synchronizační pravidlo pro **uživatele** objekty.</span><span class="sxs-lookup"><span data-stu-id="65bed-135">This section describes the steps required to implement the sync rule for **User** objects.</span></span> <span data-ttu-id="65bed-136">Postup může být přizpůsobena pro **kontaktujte** a **počítače** objekty.</span><span class="sxs-lookup"><span data-stu-id="65bed-136">The steps can be adapted for **Contact** and **Computer** objects.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="65bed-137">Export hodnotu null odebere certifikát hodnoty dříve úspěšně exportovány do služby Azure AD.</span><span class="sxs-lookup"><span data-stu-id="65bed-137">Exporting null value removes certificate values previously exported successfully to Azure AD.</span></span>

<span data-ttu-id="65bed-138">Kroky můžete shrnuto jako:</span><span class="sxs-lookup"><span data-stu-id="65bed-138">The steps can be summarized as:</span></span>

1. <span data-ttu-id="65bed-139">Zakažte plánovače synchronizace a ověřte, že neexistuje žádná synchronizace v průběhu.</span><span class="sxs-lookup"><span data-stu-id="65bed-139">Disable sync scheduler and verify there is no synchronization in progress.</span></span>
3. <span data-ttu-id="65bed-140">Pro atribut userCertificate najít existující pravidlo odchozí synchronizace.</span><span class="sxs-lookup"><span data-stu-id="65bed-140">Find the existing outbound sync rule for userCertificate attribute.</span></span>
4. <span data-ttu-id="65bed-141">Vytvořte pravidlo odchozí synchronizace vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="65bed-141">Create the outbound sync rule required.</span></span>
5. <span data-ttu-id="65bed-142">Ověřte nové pravidlo synchronizace na existující objekt s chybou LargeObject.</span><span class="sxs-lookup"><span data-stu-id="65bed-142">Verify the new sync rule on an existing object with LargeObject error.</span></span>
6. <span data-ttu-id="65bed-143">Nové pravidlo synchronizace použito na zbývající objekty s chybou LargeObject.</span><span class="sxs-lookup"><span data-stu-id="65bed-143">Apply the new sync rule to remaining objects with LargeObject error.</span></span>
7. <span data-ttu-id="65bed-144">Ověřte neexistují žádné neočekávané změny čekající na exportovány do služby Azure AD.</span><span class="sxs-lookup"><span data-stu-id="65bed-144">Verify there are no unexpected changes waiting to be exported to Azure AD.</span></span>
8. <span data-ttu-id="65bed-145">Exportujte změny do Azure AD.</span><span class="sxs-lookup"><span data-stu-id="65bed-145">Export the changes to Azure AD.</span></span>
9. <span data-ttu-id="65bed-146">Plánování pro synchronizační nástroj znovu povolte.</span><span class="sxs-lookup"><span data-stu-id="65bed-146">Re-enable sync scheduler.</span></span>

### <a name="step-1-disable-sync-scheduler-and-verify-there-is-no-synchronization-in-progress"></a><span data-ttu-id="65bed-147">Krok 1.</span><span class="sxs-lookup"><span data-stu-id="65bed-147">Step 1.</span></span> <span data-ttu-id="65bed-148">Zakažte plánovače synchronizace a ověřte, že neexistuje žádná synchronizace v průběhu</span><span class="sxs-lookup"><span data-stu-id="65bed-148">Disable sync scheduler and verify there is no synchronization in progress</span></span>
<span data-ttu-id="65bed-149">Zajistěte, aby že žádná synchronizace bude probíhat, když jste uprostřed implementace nové pravidlo synchronizace, aby se zabránilo neúmyslnému změny se exportují do služby Azure AD.</span><span class="sxs-lookup"><span data-stu-id="65bed-149">Ensure no synchronization takes place while you are in the middle of implementing a new sync rule to avoid unintended changes being exported to Azure AD.</span></span> <span data-ttu-id="65bed-150">Postup při zakázání plánovače předdefinované synchronizace:</span><span class="sxs-lookup"><span data-stu-id="65bed-150">To disable the built-in sync scheduler:</span></span>
1. <span data-ttu-id="65bed-151">Spusťte relaci prostředí PowerShell na server Azure AD Connect.</span><span class="sxs-lookup"><span data-stu-id="65bed-151">Start PowerShell session on the Azure AD Connect server.</span></span>

2. <span data-ttu-id="65bed-152">Zakážete plánované synchronizace spuštěním rutiny:`Set-ADSyncScheduler -SyncCycleEnabled $false`</span><span class="sxs-lookup"><span data-stu-id="65bed-152">Disable scheduled synchronization by running cmdlet: `Set-ADSyncScheduler -SyncCycleEnabled $false`</span></span>

> [!Note]
> <span data-ttu-id="65bed-153">Předchozí kroky platí pouze pro novější verze (1.1.xxx.x) služby Azure AD Connect s integrovanou plánovače.</span><span class="sxs-lookup"><span data-stu-id="65bed-153">The preceding steps are only applicable to newer versions (1.1.xxx.x) of Azure AD Connect with the built-in scheduler.</span></span> <span data-ttu-id="65bed-154">Pokud používáte starší verze (1.0.xxx.x) služby Azure AD Connect, který používá plánovače úloh systému Windows nebo používáte vlastní vlastní plánovače (ne běžné) k aktivaci periodickou synchronizaci, musíte je zakázat odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="65bed-154">If you are using older versions (1.0.xxx.x) of Azure AD Connect that uses Windows Task Scheduler, or you are using your own custom scheduler (not common) to trigger periodic synchronization, you need to disable them accordingly.</span></span>

3. <span data-ttu-id="65bed-155">Spuštění **Synchronization Service Manager** přechodem na spuštění → synchronizační služba.</span><span class="sxs-lookup"><span data-stu-id="65bed-155">Start the **Synchronization Service Manager** by going to START → Synchronization Service.</span></span>

4. <span data-ttu-id="65bed-156">Přejděte na **operace** kartě a potvrďte neprobíhá žádná operace, jejichž stav je *"v průběhu."*</span><span class="sxs-lookup"><span data-stu-id="65bed-156">Go to the **Operations** tab and confirm there is no operation whose status is *“in progress.”*</span></span>

### <a name="step-2-find-the-existing-outbound-sync-rule-for-usercertificate-attribute"></a><span data-ttu-id="65bed-157">Krok 2.</span><span class="sxs-lookup"><span data-stu-id="65bed-157">Step 2.</span></span> <span data-ttu-id="65bed-158">Pro atribut userCertificate najít existující pravidlo odchozí synchronizace</span><span class="sxs-lookup"><span data-stu-id="65bed-158">Find the existing outbound sync rule for userCertificate attribute</span></span>
<span data-ttu-id="65bed-159">Měla by existovat existující synchronizační pravidlo, které je povolené a nakonfigurované pro export userCertificate atribut pro uživatelské objekty do služby Azure AD.</span><span class="sxs-lookup"><span data-stu-id="65bed-159">There should be an existing sync rule that is enabled and configured to export userCertificate attribute for User objects to Azure AD.</span></span> <span data-ttu-id="65bed-160">Vyhledejte toto synchronizační pravidlo a zjistěte jeho **přednost** a **oboru filtru** konfigurace:</span><span class="sxs-lookup"><span data-stu-id="65bed-160">Locate this sync rule to find out its **precedence** and **scoping filter** configuration:</span></span>

1. <span data-ttu-id="65bed-161">Spuštění **editoru pravidel synchronizace** tak, že přejdete do editoru pravidla synchronizace. počáteční →.</span><span class="sxs-lookup"><span data-stu-id="65bed-161">Start the **Synchronization Rules Editor** by going to START → Synchronization Rules Editor.</span></span>

2. <span data-ttu-id="65bed-162">Filtry hledání konfigurace s následujícími hodnotami:</span><span class="sxs-lookup"><span data-stu-id="65bed-162">Configure the search filters with the following values:</span></span>

    | <span data-ttu-id="65bed-163">Atribut</span><span class="sxs-lookup"><span data-stu-id="65bed-163">Attribute</span></span> | <span data-ttu-id="65bed-164">Hodnota</span><span class="sxs-lookup"><span data-stu-id="65bed-164">Value</span></span> |
    | --- | --- |
    | <span data-ttu-id="65bed-165">Směr</span><span class="sxs-lookup"><span data-stu-id="65bed-165">Direction</span></span> |<span data-ttu-id="65bed-166">**Odchozí**</span><span class="sxs-lookup"><span data-stu-id="65bed-166">**Outbound**</span></span> |
    | <span data-ttu-id="65bed-167">Typ objektu MV</span><span class="sxs-lookup"><span data-stu-id="65bed-167">MV Object Type</span></span> |<span data-ttu-id="65bed-168">**Osoba**</span><span class="sxs-lookup"><span data-stu-id="65bed-168">**Person**</span></span> |
    | <span data-ttu-id="65bed-169">konektor</span><span class="sxs-lookup"><span data-stu-id="65bed-169">Connector</span></span> |<span data-ttu-id="65bed-170">*název vašeho konektoru služby Azure AD*</span><span class="sxs-lookup"><span data-stu-id="65bed-170">*name of your Azure AD connector*</span></span> |
    | <span data-ttu-id="65bed-171">Typ objektu konektoru</span><span class="sxs-lookup"><span data-stu-id="65bed-171">Connector Object Type</span></span> |<span data-ttu-id="65bed-172">**uživatel**</span><span class="sxs-lookup"><span data-stu-id="65bed-172">**user**</span></span> |
    | <span data-ttu-id="65bed-173">Atribut MV</span><span class="sxs-lookup"><span data-stu-id="65bed-173">MV attribute</span></span> |<span data-ttu-id="65bed-174">**userCertificate**</span><span class="sxs-lookup"><span data-stu-id="65bed-174">**userCertificate**</span></span> |

3. <span data-ttu-id="65bed-175">Pokud používáte OOB (out-of-box) synchronizační pravidla pro Azure AD connector. Chcete-li exportovat userCertficiate atribut pro uživatelské objekty, měli byste obdržet *"Se do AAD – uživatel ExchangeOnline"* pravidlo.</span><span class="sxs-lookup"><span data-stu-id="65bed-175">If you are using OOB (out-of-box) sync rules to Azure AD connector to export userCertficiate attribute for User objects, you should get back the *“Out to AAD – User ExchangeOnline”* rule.</span></span>
4. <span data-ttu-id="65bed-176">Poznamenejte si **přednost** hodnotu toto synchronizační pravidlo.</span><span class="sxs-lookup"><span data-stu-id="65bed-176">Note down the **precedence** value of this sync rule.</span></span>
5. <span data-ttu-id="65bed-177">Vyberte synchronizační pravidlo a klikněte na tlačítko **upravit**.</span><span class="sxs-lookup"><span data-stu-id="65bed-177">Select the sync rule and click **Edit**.</span></span>
6. <span data-ttu-id="65bed-178">V *"Upravit vyhrazené pravidlo potvrzení"* automaticky otevíraný dialog, klikněte na tlačítko **ne**.</span><span class="sxs-lookup"><span data-stu-id="65bed-178">In the *“Edit Reserved Rule Confirmation”* pop-up dialog, click **No**.</span></span> <span data-ttu-id="65bed-179">(Nemusíte si dělat starosti, jsme nebudete provést změnu toto synchronizační pravidlo).</span><span class="sxs-lookup"><span data-stu-id="65bed-179">(Don’t worry, we are not going to make any change to this sync rule).</span></span>
7. <span data-ttu-id="65bed-180">V dialogovém okně upravit, vyberte **Scoping filtru** kartě.</span><span class="sxs-lookup"><span data-stu-id="65bed-180">In the edit screen, select the **Scoping filter** tab.</span></span>
8. <span data-ttu-id="65bed-181">Poznamenejte si nastavení oboru filtru.</span><span class="sxs-lookup"><span data-stu-id="65bed-181">Note down the scoping filter configuration.</span></span> <span data-ttu-id="65bed-182">Pokud používáte OOB synchronizační pravidlo, musí přesně být **jednoho oboru filtru skupina obsahující dvě klauzule**, včetně:</span><span class="sxs-lookup"><span data-stu-id="65bed-182">If you are using the OOB sync rule, there should exactly be **one scoping filter group containing two clauses**, including:</span></span>

    | <span data-ttu-id="65bed-183">Atribut</span><span class="sxs-lookup"><span data-stu-id="65bed-183">Attribute</span></span> | <span data-ttu-id="65bed-184">Operátor</span><span class="sxs-lookup"><span data-stu-id="65bed-184">Operator</span></span> | <span data-ttu-id="65bed-185">Hodnota</span><span class="sxs-lookup"><span data-stu-id="65bed-185">Value</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="65bed-186">sourceObjectType</span><span class="sxs-lookup"><span data-stu-id="65bed-186">sourceObjectType</span></span> | <span data-ttu-id="65bed-187">ROVNÁ</span><span class="sxs-lookup"><span data-stu-id="65bed-187">EQUAL</span></span> | <span data-ttu-id="65bed-188">Uživatel</span><span class="sxs-lookup"><span data-stu-id="65bed-188">User</span></span> |
    | <span data-ttu-id="65bed-189">cloudMastered</span><span class="sxs-lookup"><span data-stu-id="65bed-189">cloudMastered</span></span> | <span data-ttu-id="65bed-190">NOTEQUAL</span><span class="sxs-lookup"><span data-stu-id="65bed-190">NOTEQUAL</span></span> | <span data-ttu-id="65bed-191">True</span><span class="sxs-lookup"><span data-stu-id="65bed-191">True</span></span> |

### <a name="step-3-create-the-outbound-sync-rule-required"></a><span data-ttu-id="65bed-192">Krok 3.</span><span class="sxs-lookup"><span data-stu-id="65bed-192">Step 3.</span></span> <span data-ttu-id="65bed-193">Vytvořit požadované pravidlo odchozí synchronizace</span><span class="sxs-lookup"><span data-stu-id="65bed-193">Create the outbound sync rule required</span></span>
<span data-ttu-id="65bed-194">Nové pravidlo synchronizace musí mít stejnou **oboru filtru** a **vyšší prioritu** než existující synchronizační pravidlo.</span><span class="sxs-lookup"><span data-stu-id="65bed-194">The new sync rule must have the same **scoping filter** and **higher precedence** than the existing sync rule.</span></span> <span data-ttu-id="65bed-195">To zajišťuje, aby nové pravidlo synchronizace se vztahuje na stejnou sadu objektů jako existující pravidlo synchronizace a přepíše existující synchronizační pravidlo pro atribut userCertificate.</span><span class="sxs-lookup"><span data-stu-id="65bed-195">This ensures that the new sync rule applies to the same set of objects as the existing sync rule and overrides the existing sync rule for the userCertificate attribute.</span></span> <span data-ttu-id="65bed-196">Vytvoření pravidla synchronizace:</span><span class="sxs-lookup"><span data-stu-id="65bed-196">To create the sync rule:</span></span>
1. <span data-ttu-id="65bed-197">V editoru pravidel synchronizace, klikněte **přidat nové pravidlo** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="65bed-197">In the Synchronization Rules Editor, click the **Add new rule** button.</span></span>
2. <span data-ttu-id="65bed-198">V části **kartě Popis**, zadejte následující konfiguraci:</span><span class="sxs-lookup"><span data-stu-id="65bed-198">Under the **Description tab**, provide the following configuration:</span></span>

    | <span data-ttu-id="65bed-199">Atribut</span><span class="sxs-lookup"><span data-stu-id="65bed-199">Attribute</span></span> | <span data-ttu-id="65bed-200">Hodnota</span><span class="sxs-lookup"><span data-stu-id="65bed-200">Value</span></span> | <span data-ttu-id="65bed-201">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="65bed-201">Details</span></span> |
    | --- | --- | --- |
    | <span data-ttu-id="65bed-202">Name (Název)</span><span class="sxs-lookup"><span data-stu-id="65bed-202">Name</span></span> | <span data-ttu-id="65bed-203">*Zadejte název*</span><span class="sxs-lookup"><span data-stu-id="65bed-203">*Provide a name*</span></span> | <span data-ttu-id="65bed-204">Například *"Se aad – vlastní přepsání pro userCertificate"*</span><span class="sxs-lookup"><span data-stu-id="65bed-204">E.g., *“Out to AAD – Custom override for userCertificate”*</span></span> |
    | <span data-ttu-id="65bed-205">Popis</span><span class="sxs-lookup"><span data-stu-id="65bed-205">Description</span></span> | <span data-ttu-id="65bed-206">*Zadejte popis*</span><span class="sxs-lookup"><span data-stu-id="65bed-206">*Provide a description*</span></span> | <span data-ttu-id="65bed-207">Například *"Pokud userCertificate atribut má více než 15 hodnot, export hodnotu NULL."*</span><span class="sxs-lookup"><span data-stu-id="65bed-207">E.g., *“If userCertificate attribute has more than 15 values, export NULL.”*</span></span> |
    | <span data-ttu-id="65bed-208">Připojený systém</span><span class="sxs-lookup"><span data-stu-id="65bed-208">Connected System</span></span> | <span data-ttu-id="65bed-209">*Vyberte konektoru služby Azure AD*</span><span class="sxs-lookup"><span data-stu-id="65bed-209">*Select the Azure AD Connector*</span></span> |
    | <span data-ttu-id="65bed-210">Typ objektu systému připojené</span><span class="sxs-lookup"><span data-stu-id="65bed-210">Connected System Object Type</span></span> | <span data-ttu-id="65bed-211">**uživatel**</span><span class="sxs-lookup"><span data-stu-id="65bed-211">**user**</span></span> | |
    | <span data-ttu-id="65bed-212">Typ objektu úložiště Metaverse</span><span class="sxs-lookup"><span data-stu-id="65bed-212">Metaverse Object Type</span></span> | <span data-ttu-id="65bed-213">**osoba**</span><span class="sxs-lookup"><span data-stu-id="65bed-213">**person**</span></span> | |
    | <span data-ttu-id="65bed-214">Typ propojení</span><span class="sxs-lookup"><span data-stu-id="65bed-214">Link Type</span></span> | <span data-ttu-id="65bed-215">**Spojení**</span><span class="sxs-lookup"><span data-stu-id="65bed-215">**Join**</span></span> | |
    | <span data-ttu-id="65bed-216">Priorita</span><span class="sxs-lookup"><span data-stu-id="65bed-216">Precedence</span></span> | <span data-ttu-id="65bed-217">*Zvolili číslo mezi 1 a 99*</span><span class="sxs-lookup"><span data-stu-id="65bed-217">*Chose a number between 1 - 99*</span></span> | <span data-ttu-id="65bed-218">Číslo zvolený nesmí používat žádné existující pravidlo synchronizace a má nižší hodnotu (a tedy vyšší prioritu) než existující synchronizační pravidlo.</span><span class="sxs-lookup"><span data-stu-id="65bed-218">The number chosen must not be used by any existing sync rule and has a lower value (and therefore, higher precedence) than the existing sync rule.</span></span> |

3. <span data-ttu-id="65bed-219">Přejděte na **Scoping filtru** kartě a implementovat stejné oboru filtru používá existující synchronizační pravidlo.</span><span class="sxs-lookup"><span data-stu-id="65bed-219">Go to the **Scoping filter** tab and implement the same scoping filter the existing sync rule is using.</span></span>
4. <span data-ttu-id="65bed-220">Přeskočit **připojení pravidla** kartě.</span><span class="sxs-lookup"><span data-stu-id="65bed-220">Skip the **Join rules** tab.</span></span>
5. <span data-ttu-id="65bed-221">Přejděte na **transformace** a přidejte nový transformaci pomocí následující konfigurace:</span><span class="sxs-lookup"><span data-stu-id="65bed-221">Go to the **Transformations** tab to add a new transformation using following configuration:</span></span>

    | <span data-ttu-id="65bed-222">Atribut</span><span class="sxs-lookup"><span data-stu-id="65bed-222">Attribute</span></span> | <span data-ttu-id="65bed-223">Hodnota</span><span class="sxs-lookup"><span data-stu-id="65bed-223">Value</span></span> |
    | --- | --- |
    | <span data-ttu-id="65bed-224">Typ toku</span><span class="sxs-lookup"><span data-stu-id="65bed-224">Flow Type</span></span> |<span data-ttu-id="65bed-225">**Výraz**</span><span class="sxs-lookup"><span data-stu-id="65bed-225">**Expression**</span></span> |
    | <span data-ttu-id="65bed-226">Atribut target</span><span class="sxs-lookup"><span data-stu-id="65bed-226">Target Attribute</span></span> |<span data-ttu-id="65bed-227">**userCertificate**</span><span class="sxs-lookup"><span data-stu-id="65bed-227">**userCertificate**</span></span> |
    | <span data-ttu-id="65bed-228">Zdrojový atribut</span><span class="sxs-lookup"><span data-stu-id="65bed-228">Source Attribute</span></span> |<span data-ttu-id="65bed-229">*Použijte následující výraz*:`IIF(IsNullOrEmpty([userCertificate]), NULL, IIF((Count([userCertificate])> 15),AuthoritativeNull,[userCertificate]))`</span><span class="sxs-lookup"><span data-stu-id="65bed-229">*Use the following expression*: `IIF(IsNullOrEmpty([userCertificate]), NULL, IIF((Count([userCertificate])> 15),AuthoritativeNull,[userCertificate]))`</span></span> |
    
6. <span data-ttu-id="65bed-230">Klikněte **přidat** tlačítko pro vytvoření pravidla synchronizace.</span><span class="sxs-lookup"><span data-stu-id="65bed-230">Click the **Add** button to create the sync rule.</span></span>

### <a name="step-4-verify-the-new-sync-rule-on-an-existing-object-with-largeobject-error"></a><span data-ttu-id="65bed-231">Krok 4.</span><span class="sxs-lookup"><span data-stu-id="65bed-231">Step 4.</span></span> <span data-ttu-id="65bed-232">Ověřte nové pravidlo synchronizace na existující objekt s chybou LargeObject</span><span class="sxs-lookup"><span data-stu-id="65bed-232">Verify the new sync rule on an existing object with LargeObject error</span></span>
<span data-ttu-id="65bed-233">Toto je ověřte, zda pravidlo synchronizace vytvořené funguje správně na existující objekt AD s chybou LargeObject před použitím na jiné objekty:</span><span class="sxs-lookup"><span data-stu-id="65bed-233">This is to verify that the sync rule created is working correctly on an existing AD object with LargeObject error before you apply it to other objects:</span></span>
1. <span data-ttu-id="65bed-234">Přejděte na **Operations** kartě Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="65bed-234">Go to the **Operations** tab in the Synchronization Service Manager.</span></span>
2. <span data-ttu-id="65bed-235">Vyberte poslední Export do Azure AD operaci a klikněte na některý z objektů s chybami LargeObject.</span><span class="sxs-lookup"><span data-stu-id="65bed-235">Select the most recent Export to Azure AD operation and click on one of the objects with LargeObject errors.</span></span>
3.  <span data-ttu-id="65bed-236">Na obrazovce automaticky otevírané okno Vlastnosti objektu prostoru konektoru, klikněte na **Preview** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="65bed-236">In the Connector Space Object Properties pop-up screen, click on the **Preview** button.</span></span>
4. <span data-ttu-id="65bed-237">Na obrazovce automaticky otevírané okno náhledu vyberte **úplné synchronizace** a klikněte na tlačítko **potvrdit Preview**.</span><span class="sxs-lookup"><span data-stu-id="65bed-237">In the Preview pop-up screen, select **Full synchronization** and click **Commit Preview**.</span></span>
5. <span data-ttu-id="65bed-238">Zavřete obrazovce Preview a na obrazovce vlastnosti objektu prostoru konektoru.</span><span class="sxs-lookup"><span data-stu-id="65bed-238">Close the Preview screen and the Connector Space Object Properties screen.</span></span>
6. <span data-ttu-id="65bed-239">Přejděte na **konektory** kartě Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="65bed-239">Go to the **Connectors** tab in the Synchronization Service Manager.</span></span>
7. <span data-ttu-id="65bed-240">Klikněte pravým tlačítkem na **Azure AD** konektoru a vyberte **spustit...**</span><span class="sxs-lookup"><span data-stu-id="65bed-240">Right-click on the **Azure AD** Connector and select **Run...**</span></span>
8. <span data-ttu-id="65bed-241">V místní nabídce spustit konektor, vyberte **exportovat** krok a klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="65bed-241">In the Run Connector pop-up, select **Export** step and click **OK**.</span></span>
9. <span data-ttu-id="65bed-242">Počkejte, než pro Export do Azure AD se dokončí a potvrďte, že se nezobrazí žádná chyba další LargeObject na tento konkrétní objekt.</span><span class="sxs-lookup"><span data-stu-id="65bed-242">Wait for Export to Azure AD to complete and confirm there is no more LargeObject error on this specific object.</span></span>

### <a name="step-5-apply-the-new-sync-rule-to-remaining-objects-with-largeobject-error"></a><span data-ttu-id="65bed-243">Krok 5.</span><span class="sxs-lookup"><span data-stu-id="65bed-243">Step 5.</span></span> <span data-ttu-id="65bed-244">Použít nové pravidlo synchronizace zbývající objektů s chybou LargeObject</span><span class="sxs-lookup"><span data-stu-id="65bed-244">Apply the new sync rule to remaining objects with LargeObject error</span></span>
<span data-ttu-id="65bed-245">Po přidání synchronizační pravidlo, budete muset spustit krok úplná synchronizace v konektoru AD:</span><span class="sxs-lookup"><span data-stu-id="65bed-245">Once the sync rule has been added, you need to run a full synchronization step on the AD Connector:</span></span>
1. <span data-ttu-id="65bed-246">Přejděte na **konektory** kartě Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="65bed-246">Go to the **Connectors** tab in the Synchronization Service Manager.</span></span>
2. <span data-ttu-id="65bed-247">Klikněte pravým tlačítkem na **AD** konektoru a vyberte **spustit...**</span><span class="sxs-lookup"><span data-stu-id="65bed-247">Right-click on the **AD** Connector and select **Run...**</span></span>
3. <span data-ttu-id="65bed-248">V místní nabídce spustit konektor, vyberte **úplná synchronizace** krok a klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="65bed-248">In the Run Connector pop-up, select **Full Synchronization** step and click **OK**.</span></span>
4. <span data-ttu-id="65bed-249">Počkejte, než k dokončení kroku úplnou synchronizaci.</span><span class="sxs-lookup"><span data-stu-id="65bed-249">Wait for the Full Synchronization step to complete.</span></span>
5. <span data-ttu-id="65bed-250">Pokud máte více než jednu AD konektory, opakujte výše uvedené kroky pro zbývající konektory AD.</span><span class="sxs-lookup"><span data-stu-id="65bed-250">Repeat the above steps for the remaining AD Connectors if you have more than one AD Connectors.</span></span> <span data-ttu-id="65bed-251">Obvykle se vyžadují více konektorů, pokud máte více místních adresářů.</span><span class="sxs-lookup"><span data-stu-id="65bed-251">Usually, multiple connectors are required if you have multiple on-premises directories.</span></span>

### <a name="step-6-verify-there-are-no-unexpected-changes-waiting-to-be-exported-to-azure-ad"></a><span data-ttu-id="65bed-252">Krok 6.</span><span class="sxs-lookup"><span data-stu-id="65bed-252">Step 6.</span></span> <span data-ttu-id="65bed-253">Ověřte, neexistují žádné neočekávané změny čekající na exportovány do služby Azure AD</span><span class="sxs-lookup"><span data-stu-id="65bed-253">Verify there are no unexpected changes waiting to be exported to Azure AD</span></span>
1. <span data-ttu-id="65bed-254">Přejděte na **konektory** kartě Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="65bed-254">Go to the **Connectors** tab in the Synchronization Service Manager.</span></span>
2. <span data-ttu-id="65bed-255">Klikněte pravým tlačítkem na **Azure AD** konektoru a vyberte **hledání prostoru konektoru**.</span><span class="sxs-lookup"><span data-stu-id="65bed-255">Right-click on the **Azure AD** Connector and select **Search Connector Space**.</span></span>
3. <span data-ttu-id="65bed-256">V místní nabídce hledání prostoru konektoru:</span><span class="sxs-lookup"><span data-stu-id="65bed-256">In the Search Connector Space pop-up:</span></span>
    1. <span data-ttu-id="65bed-257">Nastavit obor **čekající na vyřízení Export**.</span><span class="sxs-lookup"><span data-stu-id="65bed-257">Set Scope to **Pending Export**.</span></span>
    2. <span data-ttu-id="65bed-258">Zkontrolujte všechny 3 zaškrtávací políčka, včetně **přidat**, **upravit** a **odstranit**.</span><span class="sxs-lookup"><span data-stu-id="65bed-258">Check all 3 checkboxes, including **Add**, **Modify** and **Delete**.</span></span>
    3. <span data-ttu-id="65bed-259">Klikněte na tlačítko **vyhledávání** tlačítko vracet všechny objekty s změny čekající na exportovány do služby Azure AD.</span><span class="sxs-lookup"><span data-stu-id="65bed-259">Click **Search** button to return all objects with changes waiting to be exported to Azure AD.</span></span>
    4. <span data-ttu-id="65bed-260">Ověřte, že neexistují žádné neočekávané změny.</span><span class="sxs-lookup"><span data-stu-id="65bed-260">Verify there are no unexpected changes.</span></span> <span data-ttu-id="65bed-261">Pro zjištění změny pro daný objekt, dvakrát klikněte na objekt.</span><span class="sxs-lookup"><span data-stu-id="65bed-261">To examine the changes for a given object, double-click on the object.</span></span>

### <a name="step-7-export-the-changes-to-azure-ad"></a><span data-ttu-id="65bed-262">Krok 7.</span><span class="sxs-lookup"><span data-stu-id="65bed-262">Step 7.</span></span> <span data-ttu-id="65bed-263">Exportovat změny do Azure AD</span><span class="sxs-lookup"><span data-stu-id="65bed-263">Export the changes to Azure AD</span></span>
<span data-ttu-id="65bed-264">Export změny do Azure AD:</span><span class="sxs-lookup"><span data-stu-id="65bed-264">To export the changes to Azure AD:</span></span>
1. <span data-ttu-id="65bed-265">Přejděte na **konektory** kartě Synchronization Service Manager.</span><span class="sxs-lookup"><span data-stu-id="65bed-265">Go to the **Connectors** tab in the Synchronization Service Manager.</span></span>
2. <span data-ttu-id="65bed-266">Klikněte pravým tlačítkem na **Azure AD** konektoru a vyberte **spustit...**</span><span class="sxs-lookup"><span data-stu-id="65bed-266">Right-click on the **Azure AD** Connector and select **Run...**</span></span>
4. <span data-ttu-id="65bed-267">V místní nabídce spustit konektor, vyberte **exportovat** krok a klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="65bed-267">In the Run Connector pop-up, select **Export** step and click **OK**.</span></span>
5. <span data-ttu-id="65bed-268">Počkejte, než pro Export do Azure AD se dokončí a potvrďte, že nejsou žádné další chyby LargeObject.</span><span class="sxs-lookup"><span data-stu-id="65bed-268">Wait for Export to Azure AD to complete and confirm there are no more LargeObject errors.</span></span>

### <a name="step-8-re-enable-sync-scheduler"></a><span data-ttu-id="65bed-269">Krok 8.</span><span class="sxs-lookup"><span data-stu-id="65bed-269">Step 8.</span></span> <span data-ttu-id="65bed-270">Opětovné povolení plánovače synchronizace</span><span class="sxs-lookup"><span data-stu-id="65bed-270">Re-enable sync scheduler</span></span>
<span data-ttu-id="65bed-271">Teď, když je problém vyřešen, znovu povolte plánovače předdefinované synchronizace:</span><span class="sxs-lookup"><span data-stu-id="65bed-271">Now that the issue is resolved, re-enable the built-in sync scheduler:</span></span>
1. <span data-ttu-id="65bed-272">Spusťte relaci prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="65bed-272">Start PowerShell session.</span></span>
2. <span data-ttu-id="65bed-273">Plánované synchronizace znovu povolte spuštěním rutiny:`Set-ADSyncScheduler -SyncCycleEnabled $true`</span><span class="sxs-lookup"><span data-stu-id="65bed-273">Re-enable scheduled synchronization by running cmdlet: `Set-ADSyncScheduler -SyncCycleEnabled $true`</span></span>

> [!Note]
> <span data-ttu-id="65bed-274">Předchozí kroky platí pouze pro novější verze (1.1.xxx.x) služby Azure AD Connect s integrovanou plánovače.</span><span class="sxs-lookup"><span data-stu-id="65bed-274">The preceding steps are only applicable to newer versions (1.1.xxx.x) of Azure AD Connect with the built-in scheduler.</span></span> <span data-ttu-id="65bed-275">Pokud používáte starší verze (1.0.xxx.x) služby Azure AD Connect, který používá plánovače úloh systému Windows nebo používáte vlastní vlastní plánovače (ne běžné) k aktivaci periodickou synchronizaci, musíte je zakázat odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="65bed-275">If you are using older versions (1.0.xxx.x) of Azure AD Connect that uses Windows Task Scheduler, or you are using your own custom scheduler (not common) to trigger periodic synchronization, you need to disable them accordingly.</span></span>

## <a name="next-steps"></a><span data-ttu-id="65bed-276">Další kroky</span><span class="sxs-lookup"><span data-stu-id="65bed-276">Next steps</span></span>
<span data-ttu-id="65bed-277">Přečtěte si další informace o [Integrování místních identit do služby Azure Active Directory](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="65bed-277">Learn more about [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>

