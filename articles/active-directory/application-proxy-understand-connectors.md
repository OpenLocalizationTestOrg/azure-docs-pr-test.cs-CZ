---
title: "Pochopení konektory proxy aplikace služby Azure AD | Microsoft Docs"
description: "Popisuje základní informace o Azure AD Application Proxy konektory."
services: active-directory
documentationcenter: 
author: kgremban
manager: femila
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/03/2017
ms.author: kgremban
ms.reviewer: harshja
ms.custom: it-pro
ms.openlocfilehash: c18d0a2bff654573e6e28a7cd7fad853b3a11346
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/18/2017
---
# <a name="understand-azure-ad-application-proxy-connectors"></a><span data-ttu-id="8b4ae-103">Pochopení konektory proxy aplikace služby Azure AD</span><span class="sxs-lookup"><span data-stu-id="8b4ae-103">Understand Azure AD Application Proxy connectors</span></span>

<span data-ttu-id="8b4ae-104">Konektory jsou co umožňují proxy aplikace služby Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-104">Connectors are what make Azure AD Application Proxy possible.</span></span> <span data-ttu-id="8b4ae-105">Jsou jednoduchá, snadno nasadit a udržovat a super výkonné.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-105">They are simple, easy to deploy and maintain, and super powerful.</span></span> <span data-ttu-id="8b4ae-106">Tento článek popisuje, jaké konektory jsou, jak fungují a některé návrhy, jak k optimalizaci vašeho nasazení.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-106">This article discusses what connectors are, how they work, and some suggestions for how to optimize your deployment.</span></span> 

## <a name="what-is-an-application-proxy-connector"></a><span data-ttu-id="8b4ae-107">Co je konektor Proxy aplikace</span><span class="sxs-lookup"><span data-stu-id="8b4ae-107">What is an Application Proxy connector</span></span>

<span data-ttu-id="8b4ae-108">Konektory jsou lightweight agenti, kteří se nacházejí na místě a usnadnit tak odchozí připojení ke službě Proxy aplikace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-108">Connectors are lightweight agents that sit on-premises and facilitate the outbound connection to the Application Proxy service.</span></span> <span data-ttu-id="8b4ae-109">Konektory musí být nainstalován v systému Windows Server, který má přístup k back-end aplikace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-109">Connectors must be installed on a Windows Server that has access to the backend application.</span></span> <span data-ttu-id="8b4ae-110">Konektory můžete uspořádat do skupin konektoru se všemi skupinami zpracování přenosů pro konkrétní aplikace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-110">You can organize connectors into connector groups, with each group handling traffic to specific applications.</span></span> <span data-ttu-id="8b4ae-111">Vyrovnávání zatížení konektory automaticky a může pomoct za účelem optimalizace struktury vaší sítě.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-111">Connectors load-balance automatically, and can help to optimize your network structure.</span></span> 

## <a name="requirements-and-deployment"></a><span data-ttu-id="8b4ae-112">Požadavky a nasazení</span><span class="sxs-lookup"><span data-stu-id="8b4ae-112">Requirements and deployment</span></span>

<span data-ttu-id="8b4ae-113">Pokud chcete úspěšně nasadit Proxy aplikace, budete potřebovat minimálně jeden konektor, ale doporučujeme dvou nebo více větší odolnost.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-113">To deploy Application Proxy successfully, you need at least one connector, but we recommend two or more for greater resiliency.</span></span> <span data-ttu-id="8b4ae-114">Konektor nainstalujte na počítač 2016 nebo Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-114">Install the connector on a Windows Server 2012 R2 or 2016 machine.</span></span> <span data-ttu-id="8b4ae-115">Konektor musí být schopen komunikovat s Proxy aplikace služby a také místní aplikace, které budete publikovat.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-115">The connector needs to be able to communicate with the Application Proxy service as well as the on-premises applications that you publish.</span></span> 

<span data-ttu-id="8b4ae-116">Další informace o síťové požadavky u serveru konektoru najdete v tématu [začít pracovat s Proxy aplikace a nainstalujte konektor](active-directory-application-proxy-enable.md).</span><span class="sxs-lookup"><span data-stu-id="8b4ae-116">For more information about the network requirements for the connector server, see [Get started with Application Proxy and install a connector](active-directory-application-proxy-enable.md).</span></span>

## <a name="maintenance"></a><span data-ttu-id="8b4ae-117">Údržby</span><span class="sxs-lookup"><span data-stu-id="8b4ae-117">Maintenance</span></span>
<span data-ttu-id="8b4ae-118">Konektory a služba postará o všech úloh vysoké dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-118">The connectors and the service take care of all the high availability tasks.</span></span> <span data-ttu-id="8b4ae-119">Dají se přidat nebo odebrat dynamicky.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-119">They can be added or removed dynamically.</span></span> <span data-ttu-id="8b4ae-120">Pokaždé, když dorazí novou žádost o je směrována na jednu z konektory, které aktuálně nejsou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-120">Each time a new request arrives it is routed to one of the connectors that is currently available.</span></span> <span data-ttu-id="8b4ae-121">Pokud konektor není dočasně k dispozici, není reagovat na tento provoz.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-121">If a connector is temporarily not available, it doesn't respond to this traffic.</span></span>

<span data-ttu-id="8b4ae-122">Konektory jsou bezstavové a mít žádné konfigurační data v počítači.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-122">The connectors are stateless and have no configuration data on the machine.</span></span> <span data-ttu-id="8b4ae-123">Pouze data, která ukládají se nastavení připojení služby a její ověřovací certifikát.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-123">The only data they store is the settings for connecting the service and its authentication certificate.</span></span> <span data-ttu-id="8b4ae-124">Při připojování ke službě, všechna požadovaná konfigurační data pro vyžádání obsahu a jej aktualizovat každých několik minut.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-124">When they connect to the service, they pull all the required configuration data and refresh it every couple of minutes.</span></span>

<span data-ttu-id="8b4ae-125">Konektory také dotazovat server a zjistěte, zda existuje novější verze konektoru.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-125">Connectors also poll the server to find out whether there is a newer version of the connector.</span></span> <span data-ttu-id="8b4ae-126">Pokud ho najde, konektory aktualizovat sami.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-126">If one is found, the connectors update themselves.</span></span>

<span data-ttu-id="8b4ae-127">Vaše konektory z počítače, na kterém běží, můžete monitorovat pomocí protokolu událostí a čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-127">You can monitor your connectors from the machine they are running on, using either the event log and performance counters.</span></span> <span data-ttu-id="8b4ae-128">Nebo můžete zobrazit jejich stav ze stránky Proxy aplikací na portálu Azure:</span><span class="sxs-lookup"><span data-stu-id="8b4ae-128">Or you can view their status from the Application Proxy page of the Azure portal:</span></span>

 ![Konektory Proxy aplikace AzureAD](./media/application-proxy-understand-connectors/app-proxy-connectors.png)

<span data-ttu-id="8b4ae-130">Nemáte ručně odstranit konektory, které se nepoužívá.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-130">You don't have to manually delete connectors that are unused.</span></span> <span data-ttu-id="8b4ae-131">Konektor je spuštěna, zůstává aktivní jako připojení ke službě.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-131">When a connector is running, it remains active as it connects to the service.</span></span> <span data-ttu-id="8b4ae-132">Nepoužívané konektory jsou označené jako _neaktivní_ a jsou odebrány po 10 dnů nečinnosti.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-132">Unused connectors are tagged as _inactive_ and are removed after 10 days of inactivity.</span></span> <span data-ttu-id="8b4ae-133">Pokud chcete odinstalovat konektor, ale odinstalujte službu konektoru i aktualizační službu ze serveru.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-133">If you do want to uninstall a connector, though, uninstall both the Connector service and the Updater service from the server.</span></span> <span data-ttu-id="8b4ae-134">Restartujte počítač, aby se službě úplně odebrala.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-134">Restart your computer to fully remove the service.</span></span>

## <a name="automatic-updates"></a><span data-ttu-id="8b4ae-135">Automatické aktualizace</span><span class="sxs-lookup"><span data-stu-id="8b4ae-135">Automatic updates</span></span>

<span data-ttu-id="8b4ae-136">Azure AD poskytuje funkce Automatické aktualizace pro všechny konektory, které nasadíte.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-136">Azure AD provides automatic updates for all the connectors that you deploy.</span></span> <span data-ttu-id="8b4ae-137">Tak dlouho, dokud se službou Application Proxy Connector Updater, vaše konektory aktualizovat automaticky.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-137">As long as the Application Proxy Connector Updater service is running, your connectors update automatically.</span></span> <span data-ttu-id="8b4ae-138">Pokud nevidíte konektor aktualizační službu na serveru, budete muset [přeinstalování vašeho konektoru](active-directory-application-proxy-enable.md) získat žádné aktualizace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-138">If you don’t see the Connector Updater service on your server, you need to [reinstall your connector](active-directory-application-proxy-enable.md) to get any updates.</span></span> 

<span data-ttu-id="8b4ae-139">Pokud nechcete čekat na automatické aktualizace se do vašeho konektoru, můžete provést ruční upgrade.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-139">If you don't want to wait for an automatic update to come to your connector, you can perform a manual upgrade.</span></span> <span data-ttu-id="8b4ae-140">Přejděte na [stránky pro stažení konektoru](https://download.msappproxy.net/subscription/d3c8b69d-6bf7-42be-a529-3fe9c2e70c90/connector/download) na serveru, kde je vaše konektor najít a vyberte **Stáhnout**.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-140">Go to the [connector download page](https://download.msappproxy.net/subscription/d3c8b69d-6bf7-42be-a529-3fe9c2e70c90/connector/download) on the server where your connector is located and select **Download**.</span></span> <span data-ttu-id="8b4ae-141">Tento proces se spustí upgrade pro místní konektor.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-141">This process kicks off an upgrade for the local connector.</span></span> 

<span data-ttu-id="8b4ae-142">U klientů s více konektorů automatické aktualizace cíle jeden konektor v době v každé skupině, abyste zabránili výpadkům ve vašem prostředí.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-142">For tenants with multiple connectors, the automatic updates target one connector at a time in each group to prevent downtime in your environment.</span></span> 

<span data-ttu-id="8b4ae-143">Výpadek se můžete setkat, když vaše konektor aktualizuje, pokud:</span><span class="sxs-lookup"><span data-stu-id="8b4ae-143">You may experience downtime when your connector updates if:</span></span>  
- <span data-ttu-id="8b4ae-144">Můžete mít pouze jeden konektor.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-144">You only have one connector.</span></span> <span data-ttu-id="8b4ae-145">Pokud chcete tento výpadky a zvýšit vysokou dostupnost, doporučujeme nainstalovat druhý konektor a [vytvořte skupinu konektor](active-directory-application-proxy-connectors-azure-portal.md).</span><span class="sxs-lookup"><span data-stu-id="8b4ae-145">To avoid this downtime and improve high availability, we recommend you install a second connector and [create a connector group](active-directory-application-proxy-connectors-azure-portal.md).</span></span>  
- <span data-ttu-id="8b4ae-146">Konektor se uprostřed transakce, když zahájil aktualizace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-146">A connector was in the middle of a transaction when the update began.</span></span> <span data-ttu-id="8b4ae-147">I když dojde ke ztrátě počáteční transakce, prohlížeč by měl automaticky opakujte operaci, nebo můžete aktualizovat stránku.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-147">Although the initial transaction is lost, your browser should automatically retry the operation or you can refresh your page.</span></span> <span data-ttu-id="8b4ae-148">Když je nutno žádost, provoz se směruje na zálohování konektor.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-148">When the request is resent, the traffic is routed to a backup connector.</span></span>

## <a name="creating-connector-groups"></a><span data-ttu-id="8b4ae-149">Vytváření skupin konektoru</span><span class="sxs-lookup"><span data-stu-id="8b4ae-149">Creating connector groups</span></span>

<span data-ttu-id="8b4ae-150">Konektor skupiny umožňují přiřadit konkrétní konektory poskytovat konkrétní aplikace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-150">Connector groups enable you to assign specific connectors to serve specific applications.</span></span> <span data-ttu-id="8b4ae-151">Můžete seskupit několik konektorů a potom přiřadit ke skupině pro každou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-151">You can group a number of connectors together, and then assign each application to a group.</span></span> 

<span data-ttu-id="8b4ae-152">Konektor skupiny bylo snazší spravovat nasazení ve velkých organizacích.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-152">Connector groups make it easier to manage large deployments.</span></span> <span data-ttu-id="8b4ae-153">Také zvyšují latence pro klienty, kteří mají aplikace hostované v různých oblastech, protože můžete vytvořit skupiny založené na umístění konektoru k obsluze pouze místní aplikace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-153">They also improve latency for tenants that have applications hosted in different regions, because you can create location-based connector groups to serve only local applications.</span></span> 

<span data-ttu-id="8b4ae-154">Další informace o skupinách konektoru najdete v tématu [publikování aplikací na samostatných sítí a umístění pomocí konektoru skupiny](active-directory-application-proxy-connectors-azure-portal.md).</span><span class="sxs-lookup"><span data-stu-id="8b4ae-154">To learn more about connector groups, see [Publish applications on separate networks and locations using connector groups](active-directory-application-proxy-connectors-azure-portal.md).</span></span>

## <a name="security-and-networking"></a><span data-ttu-id="8b4ae-155">Zabezpečení a sítě</span><span class="sxs-lookup"><span data-stu-id="8b4ae-155">Security and networking</span></span>

<span data-ttu-id="8b4ae-156">Konektory lze nainstalovat kdekoli v síti, která vám umožní k odesílání požadavků na službu Proxy aplikace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-156">Connectors can be installed anywhere on the network that allows them to send requests to the Application Proxy service.</span></span> <span data-ttu-id="8b4ae-157">Co je důležité je, že počítač také spuštěným konektorem má přístup k aplikacím.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-157">What's important is that the computer running the connector also has access to your apps.</span></span> <span data-ttu-id="8b4ae-158">Konektory můžete nainstalovat v rámci vaší podnikové síti nebo na virtuální počítač, který běží v cloudu.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-158">You can install connectors inside of your corporate network or on a virtual machine that runs in the cloud.</span></span> <span data-ttu-id="8b4ae-159">Konektory lze spustit v rámci demilitarizovaná zóna (DMZ), ale není nutné, protože všechny přenosy je odchozí, takže zůstává zabezpečené sítě.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-159">Connectors can run within a demilitarized zone (DMZ), but it's not necessary because all traffic is outbound so your network stays secure.</span></span>

<span data-ttu-id="8b4ae-160">Konektory odeslat pouze odchozí požadavky.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-160">Connectors only send outbound requests.</span></span> <span data-ttu-id="8b4ae-161">Odchozí přenosy se odesílají se službou Proxy aplikace a k publikovaným aplikacím.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-161">The outbound traffic is sent to the Application Proxy service and to the published applications.</span></span> <span data-ttu-id="8b4ae-162">Nemáte otevřít příchozí porty, protože přenosy obou směrech po vytvoření relace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-162">You don't have to open inbound ports because traffic flows both ways once a session is established.</span></span> <span data-ttu-id="8b4ae-163">Nemáte nastavení vyrovnávání zátěže mezi konektory nebo nakonfigurujte příchozí přístup přes vaší brány firewall.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-163">You don't have to set up load balancing between the connectors or configure inbound access through your firewalls.</span></span> 

<span data-ttu-id="8b4ae-164">Další informace o konfiguraci odchozí pravidla brány firewall najdete v tématu [pracují se stávající místní proxy servery](application-proxy-working-with-proxy-servers.md).</span><span class="sxs-lookup"><span data-stu-id="8b4ae-164">For more information about configuring outbound firewall rules, see [Work with existing on-premises proxy servers](application-proxy-working-with-proxy-servers.md).</span></span>

<span data-ttu-id="8b4ae-165">Použití [Azure AD Application proxy serveru konektoru porty nástroj pro testování](https://aadap-portcheck.connectorporttest.msappproxy.net/) k ověření, že vaše konektoru může kontaktovat službu Proxy aplikace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-165">Use the [Azure AD Application Proxy Connector Ports Test Tool](https://aadap-portcheck.connectorporttest.msappproxy.net/) to verify that your connector can reach the Application Proxy service.</span></span> <span data-ttu-id="8b4ae-166">Minimálně Ujistěte se, že oblasti střed USA a oblasti nejblíže k vám mají všechny zelené značky zaškrtnutí.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-166">At a minimum, make sure that the Central US region and the region closest to you have all green checkmarks.</span></span> <span data-ttu-id="8b4ae-167">Kromě toho další zelené značky zaškrtnutí znamená větší odolnost proti chybám.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-167">Beyond that, more green checkmarks means greater resiliency.</span></span> 

## <a name="performance-and-scalability"></a><span data-ttu-id="8b4ae-168">Výkon a škálovatelnost</span><span class="sxs-lookup"><span data-stu-id="8b4ae-168">Performance and scalability</span></span>

<span data-ttu-id="8b4ae-169">Měřítko pro službu Proxy aplikace je transparentní, ale Škálováním je faktor pro konektory.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-169">Scale for the Application Proxy service is transparent, but scale is a factor for connectors.</span></span> <span data-ttu-id="8b4ae-170">Je potřeba mít dostatek konektory pro zpracování provozu mezi ve špičce.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-170">You need to have enough connectors to handle peak traffic.</span></span> <span data-ttu-id="8b4ae-171">Ale nemusíte konfiguraci Vyrovnávání zatížení, protože všechny konektory v rámci skupiny pro konektor automatické vyvážení zatížení.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-171">However, you don't need to configure load balancing because all connectors within a connector group automatically load balance.</span></span>

<span data-ttu-id="8b4ae-172">Vzhledem k tomu, že konektory jsou bezstavové, nejsou ovlivněny počet uživatelů a relací.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-172">Since connectors are stateless, they are not affected by the number of users or sessions.</span></span> <span data-ttu-id="8b4ae-173">Místo toho budou reagovat na počet požadavků a jejich velikost datové části.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-173">Instead, they respond to the number of requests and their payload size.</span></span> <span data-ttu-id="8b4ae-174">S standardní webových přenosů průměrná počítače může zpracovávat několik tisíců požadavků za sekundu.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-174">With standard web traffic, an average machine can handle a couple thousand requests per second.</span></span> <span data-ttu-id="8b4ae-175">Konkrétní kapacitu, závisí na vlastnosti přesný počítače.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-175">The specific capacity depends on the exact machine characteristics.</span></span> 

<span data-ttu-id="8b4ae-176">Výkon konektoru je svázaná s procesoru a sítě.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-176">The connector performance is bound by CPU and networking.</span></span> <span data-ttu-id="8b4ae-177">Výkon procesorů je potřeba pro SSL šifrování a dešifrování, zatímco sítě je důležité získat rychlého připojení k aplikacím a online služby v Azure.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-177">CPU performance is needed for SSL encryption and decryption, while networking is important to get fast connectivity to the applications and the online service in Azure.</span></span>

<span data-ttu-id="8b4ae-178">Naproti tomu paměti je menší problém pro konektory.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-178">In contrast, memory is less of an issue for connectors.</span></span> <span data-ttu-id="8b4ae-179">Velká část zpracování a veškerý provoz neověřené postará online služby.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-179">The online service takes care of much of the processing and all unauthenticated traffic.</span></span> <span data-ttu-id="8b4ae-180">Vše, co můžete udělat v cloudu se provádí v cloudu.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-180">Everything that can be done in the cloud is done in the cloud.</span></span> 

<span data-ttu-id="8b4ae-181">Dalším faktorem, který ovlivňuje výkon je kvality sítě mezi konektorů, včetně:</span><span class="sxs-lookup"><span data-stu-id="8b4ae-181">Another factor that affects performance is the quality of the networking between the connectors, including:</span></span> 

* <span data-ttu-id="8b4ae-182">**Online služby**: pomalá nebo vysokou latencí připojení k Proxy aplikace služby v Azure vliv na výkon konektoru.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-182">**The online service**: Slow or high-latency connections to the Application Proxy service in Azure influence the connector performance.</span></span> <span data-ttu-id="8b4ae-183">Nejlepšího výkonu dosáhnete připojení k Azure s Express Route vaší organizace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-183">For the best performance, connect your organization to Azure with Express Route.</span></span> <span data-ttu-id="8b4ae-184">Jinak máte tým sítí, ujistěte se, že jsou co možná nejefektivnější zajistit připojení k Azure.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-184">Otherwise, have your networking team ensure that connections to Azure are handled as efficiently as possible.</span></span> 
* <span data-ttu-id="8b4ae-185">**Back-end aplikace**: V některých případech jsou další servery proxy mezi konektor a back-end aplikace, které může zpomalit nebo zabránění připojení.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-185">**The backend applications**: In some cases, there are additional proxies between the connector and the backend applications that can slow or prevent connections.</span></span> <span data-ttu-id="8b4ae-186">Tento scénář lze vyřešit, otevřete prohlížeč ze serveru konektoru a pokuste se získat přístup k aplikaci.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-186">To troubleshoot this scenario, open a browser from the connector server and try to access the application.</span></span> <span data-ttu-id="8b4ae-187">Pokud spustíte konektory v Azure, ale aplikace jsou na místě, nemusí být prostředí očekávat vaši uživatelé.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-187">If you run the connectors in Azure but the applications are on-premises, the experience might not be what your users expect.</span></span>
* <span data-ttu-id="8b4ae-188">**Řadiče domény**: Pokud konektory provést jednotné přihlašování pomocí omezené delegování Kerberos, se před odesláním požadavku na back-end kontaktovat řadiče domény.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-188">**The domain controllers**: If the connectors perform SSO using Kerberos Constrained Delegation, they contact the domain controllers before sending the request to the backend.</span></span> <span data-ttu-id="8b4ae-189">Konektory mají mezipaměť lístky protokolu Kerberos, ale v prostředí zaneprázdněn odezvy řadičů domény může ovlivnit výkon.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-189">The connectors have a cache of Kerberos tickets, but in a busy environment the responsiveness of the domain controllers can affect performance.</span></span> <span data-ttu-id="8b4ae-190">Tento problém je dnes běžné pro konektory, které spustit v Azure, ale komunikovat s řadiči domény, které jsou na místě.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-190">This issue is more common for connectors that run in Azure but communicate with domain controllers that are on-premises.</span></span> 

<span data-ttu-id="8b4ae-191">Další informace o optimalizaci sítě najdete v tématu [aspekty topologie sítě, při použití aplikace Proxy Azure Active Directory](application-proxy-network-topology-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="8b4ae-191">For more information about optimizing your network, see [Network topology considerations when using Azure Active Directory Application Proxy](application-proxy-network-topology-considerations.md).</span></span>

## <a name="domain-joining"></a><span data-ttu-id="8b4ae-192">Připojení k doméně</span><span class="sxs-lookup"><span data-stu-id="8b4ae-192">Domain joining</span></span>

<span data-ttu-id="8b4ae-193">Konektory lze spustit na počítači, který není připojený k doméně.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-193">Connectors can run on a machine that is not domain-joined.</span></span> <span data-ttu-id="8b4ae-194">Pokud chcete jednotné přihlašování (SSO) k aplikacím, které používají integrované ověřování systému Windows (IWA), ale musíte na počítači připojeném k doméně.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-194">However, if you want single sign-on (SSO) to applications that use Integrated Windows Authentication (IWA), you need a domain-joined machine.</span></span> <span data-ttu-id="8b4ae-195">V takovém případě musí být konektor počítače připojené k doméně, která může provádět [Kerberos](https://web.mit.edu/kerberos) omezené delegování jménem uživatelů pro publikování aplikace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-195">In this case, the connector machines must be joined to a domain that can perform [Kerberos](https://web.mit.edu/kerberos) Constrained Delegation on behalf of the users for the published applications.</span></span>

<span data-ttu-id="8b4ae-196">Konektory může být taky připojen do domény nebo doménové struktury, které mají částečný vztah důvěryhodnosti, nebo řadiče domény jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-196">Connectors can also be joined to domains or forests that have a partial trust, or to read-only domain controllers.</span></span>

## <a name="connector-deployments-on-hardened-environments"></a><span data-ttu-id="8b4ae-197">Nasazení konektoru na posílené prostředí</span><span class="sxs-lookup"><span data-stu-id="8b4ae-197">Connector deployments on hardened environments</span></span>

<span data-ttu-id="8b4ae-198">Obvykle nasazení konektoru je jednoduchý a nepotřebuje žádnou zvláštní konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-198">Usually, connector deployment is straightforward and requires no special configuration.</span></span> <span data-ttu-id="8b4ae-199">Existují však některé jedinečné podmínky, které musí vzít v úvahu:</span><span class="sxs-lookup"><span data-stu-id="8b4ae-199">However, there are some unique conditions that should be considered:</span></span>

* <span data-ttu-id="8b4ae-200">Organizace, které omezit odchozí přenosy musí [otevřete požadované porty](active-directory-application-proxy-enable.md#open-your-ports).</span><span class="sxs-lookup"><span data-stu-id="8b4ae-200">Organizations that limit the outbound traffic must [open required ports](active-directory-application-proxy-enable.md#open-your-ports).</span></span>
* <span data-ttu-id="8b4ae-201">Počítače kompatibilní se standardem FIPS, bude pravděpodobně nutné změnit jejich konfigurace povolit konektor procesy generovat a ukládat certifikát.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-201">FIPS-compliant machines might be required to change their configuration to allow the connector processes to generate and store a certificate.</span></span>
* <span data-ttu-id="8b4ae-202">Organizace, které zamknout jejich prostředí na základě procesů, které vydávají požadavky sítě mají a ujistěte se, že jsou povoleny obě služby konektoru pro přístup k všechny požadované porty a adresy IP.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-202">Organizations that lock down their environment based on the processes that issue the networking requests have to make sure that both connector services are enabled to access all required ports and IPs.</span></span>
* <span data-ttu-id="8b4ae-203">V některých případech může odchozí dopředného proxy přerušení ověřování obousměrný certifikátu a způsobit selhání komunikace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-203">In some cases, outbound forward proxies may break the two-way certificate authentication and cause the communication to fail.</span></span>

## <a name="connector-authentication"></a><span data-ttu-id="8b4ae-204">Konektor ověřování</span><span class="sxs-lookup"><span data-stu-id="8b4ae-204">Connector authentication</span></span>

<span data-ttu-id="8b4ae-205">K poskytování zabezpečeného služby, konektory mít k ověření na službu a službu má k ověření směrem k konektor.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-205">To provide a secure service, connectors have to authenticate toward the service, and the service has to authenticate toward the connector.</span></span> <span data-ttu-id="8b4ae-206">Toto ověřování se provádí pomocí certifikátů klienta a serveru při konektory inicializuje připojení.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-206">This authentication is done using client and server certificates when the connectors initiate the connection.</span></span> <span data-ttu-id="8b4ae-207">Tímto způsobem uživatelské jméno a heslo správce nejsou uložené na počítači konektor.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-207">This way the administrator’s username and password are not stored on the connector machine.</span></span>

<span data-ttu-id="8b4ae-208">Certifikáty jsou specifické pro službu Proxy aplikace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-208">The certificates used are specific to the Application Proxy service.</span></span> <span data-ttu-id="8b4ae-209">Budou vytvořeny při počáteční registraci a jsou automaticky obnovena konektory každých několik měsíců.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-209">They get created during the initial registration and are automatically renewed by the connectors every couple of months.</span></span> 

<span data-ttu-id="8b4ae-210">Pokud konektor není připojený ke službě několik měsíců, může být zastaralý svoje certifikáty.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-210">If a connector is not connected to the service for several months, its certificates may be outdated.</span></span> <span data-ttu-id="8b4ae-211">V takovém případě odinstalovat a znovu nainstalujte konektor aktivace registrace.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-211">In this case, uninstall and reinstall the connector to trigger registration.</span></span> <span data-ttu-id="8b4ae-212">Můžete spustit následující příkazy prostředí PowerShell:</span><span class="sxs-lookup"><span data-stu-id="8b4ae-212">You can run the following PowerShell commands:</span></span>

```
Import-module AppProxyPSModule
Register-AppProxyConnector
```

## <a name="under-the-hood"></a><span data-ttu-id="8b4ae-213">Pod pokličkou</span><span class="sxs-lookup"><span data-stu-id="8b4ae-213">Under the hood</span></span>

<span data-ttu-id="8b4ae-214">Konektory jsou založené na Windows Server služby Proxy webových aplikací, takže mají většinu stejné nástroje pro správu včetně protokoly událostí systému Windows</span><span class="sxs-lookup"><span data-stu-id="8b4ae-214">Connectors are based on Windows Server Web Application Proxy, so they have most of the same management tools including Windows Event Logs</span></span>

 ![Správa protokolů událostí se v prohlížeči událostí](./media/application-proxy-understand-connectors/event-view-window.png)

<span data-ttu-id="8b4ae-216">a čítačů výkonu systému Windows.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-216">and Windows performance counters.</span></span> 

 ![Přidání čítačů do konektor s nástrojem Sledování výkonu](./media/application-proxy-understand-connectors/performance-monitor.png)

<span data-ttu-id="8b4ae-218">Konektory jste správce a relace protokoly.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-218">The connectors have both admin and session logs.</span></span> <span data-ttu-id="8b4ae-219">Správce protokoly obsahovat klíče události a jejich chyby.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-219">The admin logs include key events and their errors.</span></span> <span data-ttu-id="8b4ae-220">Protokoly relace obsahovat všechny transakce a jejich zpracování podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-220">The session logs include all the transactions and their processing details.</span></span> 

<span data-ttu-id="8b4ae-221">Pokud chcete zobrazit protokoly, přejděte do prohlížeče událostí, otevřete **zobrazení** nabídky a povolit **ukazují analytické a ladicí protokoly**.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-221">To see the logs, go to the Event Viewer, open the **View** menu, and enable **Show analytic and debug logs**.</span></span> <span data-ttu-id="8b4ae-222">Pak je spustit shromažďování událostí povolte.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-222">Then, enable them to start collecting events.</span></span> <span data-ttu-id="8b4ae-223">Tyto protokoly se nezobrazí v Proxy webových aplikací ve Windows serveru 2012 R2 jako konektory jsou založené na novější verzi.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-223">These logs do not appear in Web Application Proxy in Windows Server 2012 R2, as the connectors are based on a more recent version.</span></span>

<span data-ttu-id="8b4ae-224">Můžete zkontrolovat stav služby v okně služby.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-224">You can examine the state of the service in the Services window.</span></span> <span data-ttu-id="8b4ae-225">Tento konektor zahrnuje dvě služby systému Windows: skutečný konektor a aktualizačního programu.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-225">The connector comprises two Windows Services: the actual connector, and the updater.</span></span> <span data-ttu-id="8b4ae-226">Oba dva musí běžet vždy.</span><span class="sxs-lookup"><span data-stu-id="8b4ae-226">Both of them must run all the time.</span></span>

 ![Místní služby AzureAD](./media/application-proxy-understand-connectors/aad-connector-services.png)

## <a name="next-steps"></a><span data-ttu-id="8b4ae-228">Další kroky</span><span class="sxs-lookup"><span data-stu-id="8b4ae-228">Next steps</span></span>


* [<span data-ttu-id="8b4ae-229">Publikování aplikací na samostatných sítí a umístění pomocí konektoru skupin</span><span class="sxs-lookup"><span data-stu-id="8b4ae-229">Publish applications on separate networks and locations using connector groups</span></span>](active-directory-application-proxy-connectors-azure-portal.md)
* [<span data-ttu-id="8b4ae-230">Práce s existující místní proxy servery</span><span class="sxs-lookup"><span data-stu-id="8b4ae-230">Work with existing on-premises proxy servers</span></span>](application-proxy-working-with-proxy-servers.md)
* [<span data-ttu-id="8b4ae-231">Řešení potíží s Proxy aplikace a konektor chyby</span><span class="sxs-lookup"><span data-stu-id="8b4ae-231">Troubleshoot Application Proxy and connector errors</span></span>](active-directory-application-proxy-troubleshoot.md)
* [<span data-ttu-id="8b4ae-232">Postup při bezobslužné instalaci konektoru Proxy aplikace Azure AD</span><span class="sxs-lookup"><span data-stu-id="8b4ae-232">How to silently install the Azure AD Application Proxy Connector</span></span>](active-directory-application-proxy-silent-installation.md)

