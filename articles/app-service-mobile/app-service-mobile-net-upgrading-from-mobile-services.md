---
title: "aaaUpgrade z tooAzure mobilní služby App Service"
description: "Zjistěte, jak tooeasily upgradu vaší aplikace tooan s Mobile Services aplikace služby mobilní aplikace"
services: app-service\mobile
documentationcenter: 
author: ggailey777
manager: syntaxc4
editor: 
ms.assetid: 9c0ac353-afb6-462b-ab94-d91b8247322f
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile
ms.devlang: dotnet
ms.topic: article
ms.date: 10/01/2016
ms.author: glenga
ms.openlocfilehash: 2b75a1b824e8ef0d36c9053f2f19af051479f928
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="upgrade-your-existing-net-azure-mobile-service-tooapp-service"></a><span data-ttu-id="917d6-103">Upgrade stávající služba Mobile Azure .NET tooApp služby</span><span class="sxs-lookup"><span data-stu-id="917d6-103">Upgrade your existing .NET Azure Mobile Service tooApp Service</span></span>
<span data-ttu-id="917d6-104">Mobile App Service je nový způsob toobuild mobilních aplikací pomocí Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="917d6-104">App Service Mobile is a new way toobuild mobile applications using Microsoft Azure.</span></span> <span data-ttu-id="917d6-105">Další, najdete v části toolearn [co jsou Mobile Apps?].</span><span class="sxs-lookup"><span data-stu-id="917d6-105">toolearn more, see [What are Mobile Apps?].</span></span>

<span data-ttu-id="917d6-106">Toto téma popisuje, jak tooupgrade existující .NET back-end aplikace z Azure Mobile Services tooa nové App Service Mobile Apps.</span><span class="sxs-lookup"><span data-stu-id="917d6-106">This topic describes how tooupgrade an existing .NET backend application from Azure Mobile Services tooa new App Service Mobile Apps.</span></span> <span data-ttu-id="917d6-107">Při provádění tohoto upgradu, aplikace pro Mobile Services můžete dál toooperate.</span><span class="sxs-lookup"><span data-stu-id="917d6-107">While you perform this upgrade, your existing Mobile Services application can continue toooperate.</span></span>   <span data-ttu-id="917d6-108">Pokud potřebujete tooupgrade aplikace back-end Node.js, podívejte se příliš[upgradu vaší Node.js Mobile Services](app-service-mobile-node-backend-upgrading-from-mobile-services.md).</span><span class="sxs-lookup"><span data-stu-id="917d6-108">If you need tooupgrade a Node.js backend application, refer too[Upgrading your Node.js Mobile Services](app-service-mobile-node-backend-upgrading-from-mobile-services.md).</span></span>

<span data-ttu-id="917d6-109">Když mobilní back-end je upgradovaná tooAzure služby App Service, má přístup tooall funkce služby App Service a se účtují podle příliš[služby App Service – ceny], není Mobile Services ceny.</span><span class="sxs-lookup"><span data-stu-id="917d6-109">When a mobile backend is upgraded tooAzure App Service, it has access tooall App Service features and are billed according too[App Service pricing], not Mobile Services pricing.</span></span>

## <a name="migrate-vs-upgrade"></a><span data-ttu-id="917d6-110">Migrace a upgrade</span><span class="sxs-lookup"><span data-stu-id="917d6-110">Migrate vs. upgrade</span></span>
[!INCLUDE [app-service-mobile-migrate-vs-upgrade](../../includes/app-service-mobile-migrate-vs-upgrade.md)]

> [!TIP]
> <span data-ttu-id="917d6-111">Je doporučeno, které [provést migraci](app-service-mobile-migrating-from-mobile-services.md) před zahájením upgradu.</span><span class="sxs-lookup"><span data-stu-id="917d6-111">It is recommended that you [perform a migration](app-service-mobile-migrating-from-mobile-services.md) before going through an upgrade.</span></span> <span data-ttu-id="917d6-112">Tímto způsobem můžete vložit obě verze aplikace hello stejný plán služby App Service a způsobit bez dalších nákladů.</span><span class="sxs-lookup"><span data-stu-id="917d6-112">This way, you can put both versions of your application on hello same App Service Plan and incur no additional cost.</span></span>
>
>

### <a name="improvements-in-mobile-apps-net-server-sdk"></a><span data-ttu-id="917d6-113">Vylepšení v nástroji server mobilní aplikace .NET SDK</span><span class="sxs-lookup"><span data-stu-id="917d6-113">Improvements in Mobile Apps .NET server SDK</span></span>
<span data-ttu-id="917d6-114">Upgrade toohello nové [Mobile Apps SDK](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/) poskytuje hello následující výhody:</span><span class="sxs-lookup"><span data-stu-id="917d6-114">Upgrading toohello new [Mobile Apps SDK](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/) provides hello following benefits:</span></span>

* <span data-ttu-id="917d6-115">Větší flexibilitu v NuGet závislosti.</span><span class="sxs-lookup"><span data-stu-id="917d6-115">More flexibility on NuGet dependencies.</span></span> <span data-ttu-id="917d6-116">Hello hostování prostředí už poskytuje vlastní verzích balíčky NuGet, abyste je mohli používat alternativní verze kompatibilní.</span><span class="sxs-lookup"><span data-stu-id="917d6-116">hello hosting environment no longer provides its own versions of NuGet packages, so you can use alternative compatible versions.</span></span> <span data-ttu-id="917d6-117">Pokud existují nové kritické bugfixes nebo toohello aktualizace zabezpečení Mobile serveru SDK nebo závislosti, je však nutné ručně aktualizovat služby.</span><span class="sxs-lookup"><span data-stu-id="917d6-117">However, if there are new critical bugfixes or security updates toohello Mobile Server SDK or dependencies, you must update your service manually.</span></span>
* <span data-ttu-id="917d6-118">Větší míra flexibility v hello mobilní SDK.</span><span class="sxs-lookup"><span data-stu-id="917d6-118">More flexibility in hello mobile SDK.</span></span> <span data-ttu-id="917d6-119">Funkce, které můžete řídit explicitně a trasy jsou nastaveny, jako je ověřování, tabulka rozhraní API a hello nabízené registrace koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="917d6-119">You can explicitly control which features and routes are set up, such as authentication, table APIs, and hello push registration endpoint.</span></span> <span data-ttu-id="917d6-120">Další, najdete v části toolearn [jak toouse hello .NET server SDK pro Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="917d6-120">toolearn more, see [How toouse hello .NET server SDK for Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span></span>
* <span data-ttu-id="917d6-121">Podpora pro jiné typy projektů ASP.NET a trasy.</span><span class="sxs-lookup"><span data-stu-id="917d6-121">Support for other ASP.NET project types and routes.</span></span> <span data-ttu-id="917d6-122">Nyní můžete hostovat řadiče MVC a webového rozhraní API v hello stejné projektu jako projektu mobilního back-endu.</span><span class="sxs-lookup"><span data-stu-id="917d6-122">You can now host MVC and Web API controllers in hello same project as your mobile backend project.</span></span>
* <span data-ttu-id="917d6-123">Podpora nových funkcích služby App Service ověřování, které umožňují toouse obvyklé konfigurace ověřování napříč webových a mobilních aplikací.</span><span class="sxs-lookup"><span data-stu-id="917d6-123">Support for new App Service authentication features, which allow you toouse a common authentication configuration across your web and mobile apps.</span></span>

## <span data-ttu-id="917d6-124"><a name="overview"></a>Základní přehled upgradu</span><span class="sxs-lookup"><span data-stu-id="917d6-124"><a name="overview"></a>Basic upgrade overview</span></span>
<span data-ttu-id="917d6-125">V mnoha případech upgradu bude stejně jednoduché jako přepínání toohello nový Mobile Apps server SDK a opětovné publikování kódu do nové instance mobilní aplikace.</span><span class="sxs-lookup"><span data-stu-id="917d6-125">In many cases, upgrading will be as simple as switching toohello new Mobile Apps server SDK and republishing your code onto a new Mobile App instance.</span></span> <span data-ttu-id="917d6-126">Existují, ale některé scénáře, které se vyžadují určitou další konfiguraci, jako je například pokročilého ověřování scénáře a pracovat s naplánované úlohy.</span><span class="sxs-lookup"><span data-stu-id="917d6-126">There are, however some scenarios which will require some additional configuration, such as advanced authentication scenarios and working with scheduled jobs.</span></span> <span data-ttu-id="917d6-127">Každá z těchto součástí hello později částech.</span><span class="sxs-lookup"><span data-stu-id="917d6-127">Each of these is covered in hello later sections.</span></span>

> [!TIP]
> <span data-ttu-id="917d6-128">Doporučujeme přečíst si a pochopit hello zbývající část tohoto tématu úplně před zahájením upgradu.</span><span class="sxs-lookup"><span data-stu-id="917d6-128">It is advised that you read and understand hello rest of this topic completely before starting an upgrade.</span></span> <span data-ttu-id="917d6-129">Poznamenejte si všechny funkce, pomocí kterého jsou vyznačeny níže.</span><span class="sxs-lookup"><span data-stu-id="917d6-129">Make note of any features you use which are called out below.</span></span>
>
>

<span data-ttu-id="917d6-130">Hello klientem Mobile Services SDK jsou **není** kompatibilní s hello nový Mobile Apps server SDK.</span><span class="sxs-lookup"><span data-stu-id="917d6-130">hello Mobile Services client SDKs are **not** compatible with hello new Mobile Apps server SDK.</span></span> <span data-ttu-id="917d6-131">V pořadí tooprovide kontinuitu poskytování služeb pro vaši aplikaci by neměl publikovat změny tooa lokality aktuálně obsluhující publikované klientů.</span><span class="sxs-lookup"><span data-stu-id="917d6-131">In order tooprovide continuity of service for your app, you should not publish changes tooa site currently serving published clients.</span></span> <span data-ttu-id="917d6-132">Místo toho by měla vytvoříte novou mobilní aplikaci, která slouží jako duplicitní.</span><span class="sxs-lookup"><span data-stu-id="917d6-132">Instead, you should create a new mobile app that serves as a duplicate.</span></span> <span data-ttu-id="917d6-133">Tuto aplikaci můžete umístit na hello stejné služby App Service plánování tooavoid by docházelo k další finanční náklady.</span><span class="sxs-lookup"><span data-stu-id="917d6-133">You can put this application on hello same App Service plan tooavoid incurring additional financial cost.</span></span>

<span data-ttu-id="917d6-134">Pak bude mít dvě verze aplikace hello: jeden které zůstane stejný hello a slouží publikovaných aplikací v hello divoký a hello jiných, která pak můžete upgradovat a cíl s novou verzí klienta.</span><span class="sxs-lookup"><span data-stu-id="917d6-134">You will then have two versions of hello application: one which stays hello same and serves published apps in hello wild, and hello other which you can then upgrade and target with a new client release.</span></span> <span data-ttu-id="917d6-135">Můžete přesunout a otestujte svůj kód vaší tempem, ale ujistěte se, že všechny opravy chyb, které provedete získat použité tooboth.</span><span class="sxs-lookup"><span data-stu-id="917d6-135">You can move and test your code at your pace, but you should make sure that any bug fixes you make get applied tooboth.</span></span> <span data-ttu-id="917d6-136">Jakmile si myslíte, že požadovaný počet klientských aplikací v hello divoký aktualizovaly toohello nejnovější verzi, můžete odstranit původní migrovanou aplikaci hello vyžadujete-li.</span><span class="sxs-lookup"><span data-stu-id="917d6-136">Once you feel that a desired number of client apps in hello wild have updated toohello latest version, you can delete hello original migrated app if you desire.</span></span>

<span data-ttu-id="917d6-137">Hello úplné osnovy pro proces upgradu hello vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="917d6-137">hello full outline for hello upgrade process is as follows:</span></span>

1. <span data-ttu-id="917d6-138">Vytvoření nové mobilní aplikace</span><span class="sxs-lookup"><span data-stu-id="917d6-138">Create a new Mobile App</span></span>
2. <span data-ttu-id="917d6-139">Aktualizace hello projektu toouse hello nové sady SDK serveru</span><span class="sxs-lookup"><span data-stu-id="917d6-139">Update hello project toouse hello new Server SDKs</span></span>
3. <span data-ttu-id="917d6-140">Vydání nové verze klientské aplikace</span><span class="sxs-lookup"><span data-stu-id="917d6-140">Release a new version of your client application</span></span>
4. <span data-ttu-id="917d6-141">(Volitelné) Odstranit původní migrované instanci</span><span class="sxs-lookup"><span data-stu-id="917d6-141">(Optional) Delete your original migrated instance</span></span>

## <span data-ttu-id="917d6-142"><a name="mobile-app-version"></a>Vytváření druhé instance aplikace</span><span class="sxs-lookup"><span data-stu-id="917d6-142"><a name="mobile-app-version"></a>Creating a second application instance</span></span>
<span data-ttu-id="917d6-143">Hello prvním krokem při upgradu je toocreate hello mobilní aplikace prostředku, který bude hostitelem hello novou verzi vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="917d6-143">hello first step in upgrading is toocreate hello Mobile App resource which will host hello new version of your application.</span></span> <span data-ttu-id="917d6-144">Pokud jste již migrovali stávající mobilní službu, budete chtít toocreate touto verzí na hello stejný plán, který hostování.</span><span class="sxs-lookup"><span data-stu-id="917d6-144">If you have already migrated an existing mobile service, you will want toocreate this version on hello same hosting plan.</span></span> <span data-ttu-id="917d6-145">Otevřete hello [portál Azure] a přejděte tooyour migrovat aplikace.</span><span class="sxs-lookup"><span data-stu-id="917d6-145">Open hello [Azure portal] and navigate tooyour migrated application.</span></span> <span data-ttu-id="917d6-146">Poznamenejte si plán služby App Service je spuštěn na hello.</span><span class="sxs-lookup"><span data-stu-id="917d6-146">Make note of hello App Service Plan it is running on.</span></span>

<span data-ttu-id="917d6-147">Dále vytvořte druhou instanci aplikace hello podle následující hello [pokyny pro vytvoření rozhraní .NET back-end](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#create-app).</span><span class="sxs-lookup"><span data-stu-id="917d6-147">Next, create hello second application instance by following hello [.NET backend creation instructions](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#create-app).</span></span> <span data-ttu-id="917d6-148">Když výzvami tooselect, můžete plán služby App Service nebo "hostování plán" zvolit hello plán migrované aplikace.</span><span class="sxs-lookup"><span data-stu-id="917d6-148">When prompted tooselect you App Service Plan or "hosting plan" choose hello plan of your migrated application.</span></span>

<span data-ttu-id="917d6-149">Budete pravděpodobně chtít toouse hello stejnou databázi a Centrum oznámení, jako je nebyla v Mobile Services.</span><span class="sxs-lookup"><span data-stu-id="917d6-149">You will likely want toouse hello same database and Notification Hub as you did in Mobile Services.</span></span> <span data-ttu-id="917d6-150">Tyto hodnoty můžete zkopírovat otevřením [portál Azure] a navigace toohello původní aplikace, klikněte na tlačítko **nastavení** > **nastavení aplikace**.</span><span class="sxs-lookup"><span data-stu-id="917d6-150">You can copy these values by opening [Azure portal] and navigating toohello original application, then click **Settings** > **Application settings**.</span></span> <span data-ttu-id="917d6-151">V části **připojovací řetězce**, kopie `MS_NotificationHubConnectionString` a `MS_TableConnectionString`.</span><span class="sxs-lookup"><span data-stu-id="917d6-151">Under **Connection Strings**, copy `MS_NotificationHubConnectionString` and `MS_TableConnectionString`.</span></span> <span data-ttu-id="917d6-152">Přejděte tooyour nové upgradu lokality a vložit do přepsal všechny existující hodnoty.</span><span class="sxs-lookup"><span data-stu-id="917d6-152">Navigate tooyour new upgrade site and paste them in, overwriting any existing values.</span></span> <span data-ttu-id="917d6-153">Tento postup opakujte pro všechny ostatní nastavení aplikace potřebám vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="917d6-153">Repeat this process for any other application settings your app needs.</span></span> <span data-ttu-id="917d6-154">Pokud nepoužíváte migrované službě, můžete číst nastavení aplikace a připojovacích řetězců z hello **konfigurace** kartě hello Mobile Services část hello [portál Azure classic].</span><span class="sxs-lookup"><span data-stu-id="917d6-154">If not using a migrated service, you can read connection strings and app settings from hello **Configure** tab of hello Mobile Services section of hello [Azure classic portal].</span></span>

<span data-ttu-id="917d6-155">Vytvořit kopii projekt ASP.NET hello pro vaši aplikaci a publikujete ho v tooyour nové lokality.</span><span class="sxs-lookup"><span data-stu-id="917d6-155">Make a copy of hello ASP.NET project for your application and publish it tooyour new site.</span></span> <span data-ttu-id="917d6-156">Pomocí kopie klientskou aplikaci aktualizovat hello nové adrese URL, ověřte, že vše funguje podle očekávání.</span><span class="sxs-lookup"><span data-stu-id="917d6-156">Using a copy of your client application updated with hello new URL, validate that everything works as expected.</span></span>

## <a name="updating-hello-server-project"></a><span data-ttu-id="917d6-157">Aktualizace projektu server hello</span><span class="sxs-lookup"><span data-stu-id="917d6-157">Updating hello server project</span></span>
<span data-ttu-id="917d6-158">Mobile Apps poskytuje novou [mobilní aplikace Server SDK] který velkou část hello nabízí stejné funkce jako runtime hello Mobile Services.</span><span class="sxs-lookup"><span data-stu-id="917d6-158">Mobile Apps provides a new [Mobile App Server SDK] which provides much of hello same functionality as hello Mobile Services runtime.</span></span> <span data-ttu-id="917d6-159">Nejdřív byste měli odebrat všechny odkazy na toohello Mobile Services balíčky.</span><span class="sxs-lookup"><span data-stu-id="917d6-159">First, you should remove all references toohello Mobile Services packages.</span></span> <span data-ttu-id="917d6-160">V modulu snap-in Správce balíčků NuGet hello vyhledejte `WindowsAzure.MobileServices.Backend`.</span><span class="sxs-lookup"><span data-stu-id="917d6-160">In hello NuGet package manager, search for `WindowsAzure.MobileServices.Backend`.</span></span> <span data-ttu-id="917d6-161">Většina aplikací se zobrazí několik balíčků tady, včetně `WindowsAzure.MobileServices.Backend.Tables` a `WindowsAzure.MobileServices.Backend.Entity`.</span><span class="sxs-lookup"><span data-stu-id="917d6-161">Most apps will see several packages here, including `WindowsAzure.MobileServices.Backend.Tables` and `WindowsAzure.MobileServices.Backend.Entity`.</span></span> <span data-ttu-id="917d6-162">V takovém případě začínat hello nejnižší balíček v hello strom závislosti, jako například `Entity`a jeho odebrání.</span><span class="sxs-lookup"><span data-stu-id="917d6-162">In such a case, start with hello lowest package in hello dependency tree, such as `Entity`, and remove it.</span></span> <span data-ttu-id="917d6-163">Po zobrazení výzvy, neodstraňujte všechny závislé balíčky.</span><span class="sxs-lookup"><span data-stu-id="917d6-163">When prompted, do not remove all dependant packages.</span></span> <span data-ttu-id="917d6-164">Tento postup opakujte, dokud neodeberete `WindowsAzure.MobileServices.Backend` sám sebe.</span><span class="sxs-lookup"><span data-stu-id="917d6-164">Repeat this process until you have removed `WindowsAzure.MobileServices.Backend` itself.</span></span>

<span data-ttu-id="917d6-165">V tomto okamžiku budete mít projekt, který již neodkazuje na Mobile Services SDK.</span><span class="sxs-lookup"><span data-stu-id="917d6-165">At this point you will have a project that no longer references Mobile Services SDKs.</span></span>

<span data-ttu-id="917d6-166">Dále přidáte odkazy hello Mobile Apps SDK.</span><span class="sxs-lookup"><span data-stu-id="917d6-166">Next you will add references hello Mobile Apps SDK.</span></span> <span data-ttu-id="917d6-167">Pro tento upgrade, bude Většina vývojářů chcete toodownload a nainstalovat hello `Microsoft.Azure.Mobile.Server.Quickstart` balíček, jak to bude pro vyžádání obsahu v celé sadě požadované hello.</span><span class="sxs-lookup"><span data-stu-id="917d6-167">For this upgrade, most developers will want toodownload and install hello `Microsoft.Azure.Mobile.Server.Quickstart` package, as this will pull in hello entire required set.</span></span>

<span data-ttu-id="917d6-168">Bude mnoha chyby kompilátoru vyplývající z rozdíly mezi hello sady SDK, ale jsou snadno tooaddress a jsou popsané v hello zbývající část tohoto oddílu.</span><span class="sxs-lookup"><span data-stu-id="917d6-168">There will be quite a few compiler errors resulting from differences between hello SDKs, but these are easy tooaddress and are covered in hello rest of this section.</span></span>

### <a name="base-configuration"></a><span data-ttu-id="917d6-169">Základní konfigurace</span><span class="sxs-lookup"><span data-stu-id="917d6-169">Base configuration</span></span>
<span data-ttu-id="917d6-170">Potom v WebApiConfig.cs, můžete nahradit:</span><span class="sxs-lookup"><span data-stu-id="917d6-170">Then, in WebApiConfig.cs, you can replace:</span></span>

        // Use this class tooset configuration options for your mobile service
        ConfigOptions options = new ConfigOptions();

        // Use this class tooset WebAPI configuration options
        HttpConfiguration config = ServiceConfig.Initialize(new ConfigBuilder(options));

<span data-ttu-id="917d6-171">S</span><span class="sxs-lookup"><span data-stu-id="917d6-171">with</span></span>

        HttpConfiguration config = new HttpConfiguration();
        new MobileAppConfiguration()
            .UseDefaultConfiguration()
        .ApplyTo(config);

> [!NOTE]
> <span data-ttu-id="917d6-172">Pokud toolearn chcete další informace o hello nový server .NET SDK a jak funkce tooadd nebo odebrat z vaší aplikace, najdete v tématu hello [jak toouse hello .NET server SDK] tématu.</span><span class="sxs-lookup"><span data-stu-id="917d6-172">If you wish toolearn more about hello new .NET server SDK and how tooadd/remove features from your app, please see hello [How toouse hello .NET server SDK] topic.</span></span>
>
>

<span data-ttu-id="917d6-173">Pokud vaše aplikace umožňuje používání funkce hello ověřování, budete také potřebovat tooregister OWIN middleware.</span><span class="sxs-lookup"><span data-stu-id="917d6-173">If your app makes use of hello authentication features, you will also need tooregister an OWIN middleware.</span></span> <span data-ttu-id="917d6-174">V takovém případě byste měli přesunout hello výše konfigurace kódu do nové třídy OWIN při spuštění.</span><span class="sxs-lookup"><span data-stu-id="917d6-174">In this case, you should move hello above configuration code into a new OWIN Startup class.</span></span>

1. <span data-ttu-id="917d6-175">Přidání balíčku NuGet hello `Microsoft.Owin.Host.SystemWeb` Pokud již není zahrnutý v projektu.</span><span class="sxs-lookup"><span data-stu-id="917d6-175">Add hello NuGet package `Microsoft.Owin.Host.SystemWeb` if it is not already included in your project.</span></span>
2. <span data-ttu-id="917d6-176">V sadě Visual Studio, klikněte pravým tlačítkem na projekt a vyberte **přidat** -> **novou položku**.</span><span class="sxs-lookup"><span data-stu-id="917d6-176">In Visual Studio, right click on your project and select **Add** -> **New Item**.</span></span> <span data-ttu-id="917d6-177">Vyberte **webové** -> **Obecné** -> **třídy pro spuštění OWIN**.</span><span class="sxs-lookup"><span data-stu-id="917d6-177">Select **Web** -> **General** -> **OWIN Startup class**.</span></span>
3. <span data-ttu-id="917d6-178">Přesunutí hello výše kód pro MobileAppConfiguration z `WebApiConfig.Register()` toohello `Configuration()` metoda třídy nové spuštění.</span><span class="sxs-lookup"><span data-stu-id="917d6-178">Move hello above code for MobileAppConfiguration from `WebApiConfig.Register()` toohello `Configuration()` method of your new startup class.</span></span>

<span data-ttu-id="917d6-179">Ujistěte se, zda text hello `Configuration()` metoda končí:</span><span class="sxs-lookup"><span data-stu-id="917d6-179">Make sure hello `Configuration()` method ends with:</span></span>

        app.UseWebApi(config)
        app.UseAppServiceAuthentication(config);

<span data-ttu-id="917d6-180">Existují související tooauthentication další změny, které jsou popsané v následující části hello úplného ověření.</span><span class="sxs-lookup"><span data-stu-id="917d6-180">There are additional changes related tooauthentication which are covered in hello full authentication section below.</span></span>

### <a name="working-with-data"></a><span data-ttu-id="917d6-181">Práce s daty</span><span class="sxs-lookup"><span data-stu-id="917d6-181">Working with Data</span></span>
<span data-ttu-id="917d6-182">V Mobile Services název mobilní aplikace hello zpracovat jako hello výchozí název schématu v instalačním programu hello Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="917d6-182">In Mobile Services, hello mobile app name served as hello default schema name in hello Entity Framework setup.</span></span>

<span data-ttu-id="917d6-183">tooensure, zda máte hello stejné schéma se na ně odkazovat jako předtím hello použít následující schéma hello tooset v hello DbContext pro aplikaci:</span><span class="sxs-lookup"><span data-stu-id="917d6-183">tooensure that you have hello same schema being referenced as before, use hello following tooset hello schema in hello DbContext for your application:</span></span>

        string schema = System.Configuration.ConfigurationManager.AppSettings.Get("MS_MobileServiceName");

<span data-ttu-id="917d6-184">Zkontrolujte prosím, že máte MS_MobileServiceName nastavit, pokud hello výše.</span><span class="sxs-lookup"><span data-stu-id="917d6-184">Please make sure you have MS_MobileServiceName set if you do hello above.</span></span> <span data-ttu-id="917d6-185">Také můžete zadat jiný název schématu pokud dříve vaší aplikace to přizpůsobit.</span><span class="sxs-lookup"><span data-stu-id="917d6-185">You can also provide another schema name if your application customized this previously.</span></span>

### <a name="system-properties"></a><span data-ttu-id="917d6-186">Vlastnosti systému</span><span class="sxs-lookup"><span data-stu-id="917d6-186">System Properties</span></span>
#### <a name="naming"></a><span data-ttu-id="917d6-187">Pojmenování</span><span class="sxs-lookup"><span data-stu-id="917d6-187">Naming</span></span>
<span data-ttu-id="917d6-188">V Azure Mobile Services server hello SDK, vlastnosti systému vždycky obsahovat dvojité podtržítko (`__`) předponu pro hello vlastnosti:</span><span class="sxs-lookup"><span data-stu-id="917d6-188">In hello Azure Mobile Services server SDK, system properties always contain a double underscore (`__`) prefix for hello properties:</span></span>

* <span data-ttu-id="917d6-189">__createdAt</span><span class="sxs-lookup"><span data-stu-id="917d6-189">__createdAt</span></span>
* <span data-ttu-id="917d6-190">__updatedAt</span><span class="sxs-lookup"><span data-stu-id="917d6-190">__updatedAt</span></span>
* <span data-ttu-id="917d6-191">__deleted</span><span class="sxs-lookup"><span data-stu-id="917d6-191">__deleted</span></span>
* <span data-ttu-id="917d6-192">__version</span><span class="sxs-lookup"><span data-stu-id="917d6-192">__version</span></span>

<span data-ttu-id="917d6-193">Hello klientem Mobile Services SDK mít speciální logiku pro analýzu vlastnosti systému v tomto formátu.</span><span class="sxs-lookup"><span data-stu-id="917d6-193">hello Mobile Services client SDKs have special logic for parsing system properties in this format.</span></span>

<span data-ttu-id="917d6-194">V Azure Mobile Apps vlastnosti systému už mít speciální formátování a mít hello následující názvy:</span><span class="sxs-lookup"><span data-stu-id="917d6-194">In Azure Mobile Apps, system properties no longer have a special format and have hello following names:</span></span>

* <span data-ttu-id="917d6-195">CreatedAt</span><span class="sxs-lookup"><span data-stu-id="917d6-195">createdAt</span></span>
* <span data-ttu-id="917d6-196">updatedAt</span><span class="sxs-lookup"><span data-stu-id="917d6-196">updatedAt</span></span>
* <span data-ttu-id="917d6-197">Odstranit</span><span class="sxs-lookup"><span data-stu-id="917d6-197">deleted</span></span>
* <span data-ttu-id="917d6-198">Verze</span><span class="sxs-lookup"><span data-stu-id="917d6-198">version</span></span>

<span data-ttu-id="917d6-199">Hello Mobile Apps klienta SDK použití hello nové systému vlastnosti názvy, takže nejsou žádné změny vyžaduje tooclient kódu.</span><span class="sxs-lookup"><span data-stu-id="917d6-199">hello Mobile Apps client SDKs use hello new system properties names, so no changes are required tooclient code.</span></span> <span data-ttu-id="917d6-200">Pokud jste přímo provedení REST zavolá službu tooyour pak musíte změnit své dotazy odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="917d6-200">However, if you are directly making REST calls tooyour service then you should change your queries accordingly.</span></span>

#### <a name="local-store"></a><span data-ttu-id="917d6-201">Místní úložiště</span><span class="sxs-lookup"><span data-stu-id="917d6-201">Local store</span></span>
<span data-ttu-id="917d6-202">Hello změny toohello názvy vlastností systému znamená, že místní databázi offline synchronizace pro Mobile Services není kompatibilní s Mobile Apps.</span><span class="sxs-lookup"><span data-stu-id="917d6-202">hello changes toohello names of system properties mean that an offline sync local database for Mobile Services is not compatible with Mobile Apps.</span></span> <span data-ttu-id="917d6-203">Pokud je to možné Vyhněte se upgrade klientských aplikací z tooMobile Mobile Services, které byly odeslány aplikace až po změny čekající na zpracování toohello serveru.</span><span class="sxs-lookup"><span data-stu-id="917d6-203">If possible, you should avoid upgrading client apps from Mobile Services tooMobile Apps until after pending changes have been sent toohello server.</span></span> <span data-ttu-id="917d6-204">Potom hello upgradovaný aplikace by měl používat nový název souboru databáze.</span><span class="sxs-lookup"><span data-stu-id="917d6-204">Then, hello upgraded app should use a new database filename.</span></span>

<span data-ttu-id="917d6-205">Pokud klientské aplikace upgradován z mobilní služby tooMobile aplikace při v hello operace fronty jsou čekající změny v režimu offline, hello systémové databáze musí být aktualizované toouse hello nové názvy sloupců.</span><span class="sxs-lookup"><span data-stu-id="917d6-205">If a client app is upgraded from Mobile Services tooMobile Apps while there are pending offline changes in hello operation queue, then hello system database must be updated toouse hello new column names.</span></span> <span data-ttu-id="917d6-206">V systému iOS toho lze dosáhnout pomocí názvy sloupců hello toochange lightweight migrace.</span><span class="sxs-lookup"><span data-stu-id="917d6-206">On iOS, this can be achieved using lightweight migrations toochange hello column names.</span></span> <span data-ttu-id="917d6-207">Na zařízení s Androidem a hello spravovaný klient .NET byste měli zapsat vlastní SQL toorename hello sloupce pro vaše data objektu tabulky.</span><span class="sxs-lookup"><span data-stu-id="917d6-207">On Android and hello .NET managed client, you should write custom SQL toorename hello columns for your data object tables.</span></span>

<span data-ttu-id="917d6-208">V systému iOS měli byste změnit schéma základní Data pro vaše data entity toomatch hello následující.</span><span class="sxs-lookup"><span data-stu-id="917d6-208">On iOS, you should change your Core Data schema for your data entities toomatch hello following.</span></span> <span data-ttu-id="917d6-209">Všimněte si, že hello vlastnosti `createdAt`, `updatedAt` a `version` již nemáte `ms_` předpony:</span><span class="sxs-lookup"><span data-stu-id="917d6-209">Note that hello properties `createdAt`, `updatedAt` and `version` no longer have an `ms_` prefix:</span></span>

| <span data-ttu-id="917d6-210">Atribut</span><span class="sxs-lookup"><span data-stu-id="917d6-210">Attribute</span></span> | <span data-ttu-id="917d6-211">Typ</span><span class="sxs-lookup"><span data-stu-id="917d6-211">Type</span></span> | <span data-ttu-id="917d6-212">Poznámka</span><span class="sxs-lookup"><span data-stu-id="917d6-212">Note</span></span> |
| --- | --- | --- |
| <span data-ttu-id="917d6-213">id</span><span class="sxs-lookup"><span data-stu-id="917d6-213">id</span></span> |<span data-ttu-id="917d6-214">Řetězec, označen jako požadovaný</span><span class="sxs-lookup"><span data-stu-id="917d6-214">String, marked required</span></span> |<span data-ttu-id="917d6-215">primární klíč v vzdáleného úložiště</span><span class="sxs-lookup"><span data-stu-id="917d6-215">primary key in remote store</span></span> |
| <span data-ttu-id="917d6-216">CreatedAt</span><span class="sxs-lookup"><span data-stu-id="917d6-216">createdAt</span></span> |<span data-ttu-id="917d6-217">Datum</span><span class="sxs-lookup"><span data-stu-id="917d6-217">Date</span></span> |<span data-ttu-id="917d6-218">Vlastnost systému toocreatedAt mapy (volitelné)</span><span class="sxs-lookup"><span data-stu-id="917d6-218">(optional) maps toocreatedAt system property</span></span> |
| <span data-ttu-id="917d6-219">updatedAt</span><span class="sxs-lookup"><span data-stu-id="917d6-219">updatedAt</span></span> |<span data-ttu-id="917d6-220">Datum</span><span class="sxs-lookup"><span data-stu-id="917d6-220">Date</span></span> |<span data-ttu-id="917d6-221">Vlastnost systému tooupdatedAt mapy (volitelné)</span><span class="sxs-lookup"><span data-stu-id="917d6-221">(optional) maps tooupdatedAt system property</span></span> |
| <span data-ttu-id="917d6-222">Verze</span><span class="sxs-lookup"><span data-stu-id="917d6-222">version</span></span> |<span data-ttu-id="917d6-223">Řetězec</span><span class="sxs-lookup"><span data-stu-id="917d6-223">String</span></span> |<span data-ttu-id="917d6-224">(volitelné) používané toodetect konfliktů, tooversion mapy</span><span class="sxs-lookup"><span data-stu-id="917d6-224">(optional) used toodetect conflicts, maps tooversion</span></span> |

#### <a name="querying-system-properties"></a><span data-ttu-id="917d6-225">Dotaz na vlastnosti systému</span><span class="sxs-lookup"><span data-stu-id="917d6-225">Querying system properties</span></span>
<span data-ttu-id="917d6-226">V Azure Mobile Services nejsou odesílány vlastnosti systému ve výchozím nastavení, ale jenom v případě, že jsou vyžádané pomocí řetězce dotazu hello `__systemProperties`.</span><span class="sxs-lookup"><span data-stu-id="917d6-226">In Azure Mobile Services, system properties are not sent by default, but only when they are requested using hello query string `__systemProperties`.</span></span> <span data-ttu-id="917d6-227">Naopak v systému Azure Mobile Apps jsou vlastnosti **vždycky vybraná** vzhledem k tomu, že jsou součástí objektový model sady SDK serveru hello.</span><span class="sxs-lookup"><span data-stu-id="917d6-227">In contrast, in Azure Mobile Apps system properties are **always selected** since they are part of hello server SDK object model.</span></span>

<span data-ttu-id="917d6-228">Tato změna ovlivňuje především vlastních implementací správce domény, jako je například rozšíření `MappedEntityDomainManager`.</span><span class="sxs-lookup"><span data-stu-id="917d6-228">This change mainly impacts custom implementations of domain managers, such as extensions of `MappedEntityDomainManager`.</span></span> <span data-ttu-id="917d6-229">V Mobile Services, pokud klient požaduje nikdy všechny vlastnosti systému, je možné toouse `MappedEntityDomainManager` který nemapují ve skutečnosti všechny vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="917d6-229">In Mobile Services, if a client never requests any system properties, it is possible toouse a `MappedEntityDomainManager` that does not actually map all properties.</span></span> <span data-ttu-id="917d6-230">V Azure Mobile Apps, ale tyto nenamapovaný vlastnosti dojde k chybě v dotazech GET.</span><span class="sxs-lookup"><span data-stu-id="917d6-230">However, in Azure Mobile Apps, these unmapped properties will cause an error in GET queries.</span></span>

<span data-ttu-id="917d6-231">Nejjednodušší způsob, jak tooresolve hello problém Hello je toomodify vaší DTOs tak, aby se dědí `ITableData` místo `EntityData`.</span><span class="sxs-lookup"><span data-stu-id="917d6-231">hello easiest way tooresolve hello issue is toomodify your DTOs so that they inherit from `ITableData` instead of `EntityData`.</span></span> <span data-ttu-id="917d6-232">Pak přidejte hello `[NotMapped]` atribut toohello pole, která by měla být vynechán.</span><span class="sxs-lookup"><span data-stu-id="917d6-232">Then, add hello `[NotMapped]` attribute toohello fields that should be omitted.</span></span>

<span data-ttu-id="917d6-233">Například následující hello definuje `TodoItem` bez vlastností systému:</span><span class="sxs-lookup"><span data-stu-id="917d6-233">For example, hello following defines `TodoItem` with no system properties:</span></span>

    using System.ComponentModel.DataAnnotations.Schema;

    public class TodoItem : ITableData
    {
        public string Text { get; set; }

        public bool Complete { get; set; }

        public string Id { get; set; }

        [NotMapped]
        public DateTimeOffset? CreatedAt { get; set; }

        [NotMapped]
        public DateTimeOffset? UpdatedAt { get; set; }

        [NotMapped]
        public bool Deleted { get; set; }

        [NotMapped]
        public byte[] Version { get; set; }
    }

<span data-ttu-id="917d6-234">Poznámka: Pokud dojde k chybám `NotMapped`, přidejte referenční sestavení při toohello `System.ComponentModel.DataAnnotations`.</span><span class="sxs-lookup"><span data-stu-id="917d6-234">Note: if you get errors on `NotMapped`, add a reference toohello assembly `System.ComponentModel.DataAnnotations`.</span></span>

### <a name="cors"></a><span data-ttu-id="917d6-235">CORS</span><span class="sxs-lookup"><span data-stu-id="917d6-235">CORS</span></span>
<span data-ttu-id="917d6-236">Mobilní služby zahrnuty některé podpora CORS nástrojem pro zabalení hello řešení ASP.NET CORS.</span><span class="sxs-lookup"><span data-stu-id="917d6-236">Mobile Services included some support for CORS by wrapping hello ASP.NET CORS solution.</span></span> <span data-ttu-id="917d6-237">Tuto vrstvu zabalení byla odebrána toogive hello vývojáře větší kontrolu, tak můžete přímo využít [podporu pro ASP.NET CORS](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api).</span><span class="sxs-lookup"><span data-stu-id="917d6-237">This wrapping layer has been removed toogive hello developer more control, so you can directly leverage [ASP.NET CORS support](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api).</span></span>

<span data-ttu-id="917d6-238">Hello hlavní oblastí zájmu Pokud pomocí CORS jsou tohoto hello `eTag` a `Location` hlavičky musí být povoleno v pořadí pro hello klientské sady SDK toowork správně.</span><span class="sxs-lookup"><span data-stu-id="917d6-238">hello main areas of concern if using CORS are that hello `eTag` and `Location` headers must be allowed in order for hello client SDKs toowork properly.</span></span>

### <a name="push-notifications"></a><span data-ttu-id="917d6-239">Nabízená oznámení</span><span class="sxs-lookup"><span data-stu-id="917d6-239">Push Notifications</span></span>
<span data-ttu-id="917d6-240">Nabízená instalace hello hlavní položku, která bude možná chybí hello Server SDK je třída PushRegistrationHandler hello.</span><span class="sxs-lookup"><span data-stu-id="917d6-240">For push, hello main item that you may find missing from hello Server SDK is hello PushRegistrationHandler class.</span></span> <span data-ttu-id="917d6-241">Registrace zpracovávané trochu jinak v Mobile Apps a tagless registrace se ve výchozím nastavení povolené.</span><span class="sxs-lookup"><span data-stu-id="917d6-241">Registrations are handled slightly differently in Mobile Apps, and tagless registrations are enabled by default.</span></span> <span data-ttu-id="917d6-242">Správa značky mohou možné dosáhnout použitím vlastního rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="917d6-242">Managing tags may be accomplished by using custom APIs.</span></span> <span data-ttu-id="917d6-243">Najdete v tématu hello [registrace pro značky](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#tags) pokyny pro další informace.</span><span class="sxs-lookup"><span data-stu-id="917d6-243">Please see hello [registering for tags](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#tags) instructions for more information.</span></span>

### <a name="scheduled-jobs"></a><span data-ttu-id="917d6-244">Naplánované úlohy</span><span class="sxs-lookup"><span data-stu-id="917d6-244">Scheduled Jobs</span></span>
<span data-ttu-id="917d6-245">Naplánované úlohy nejsou součástí Mobile Apps, všechny existující úlohy, které máte ve vašem .NET back-end bude nutné toobe upgradovat jednotlivě.</span><span class="sxs-lookup"><span data-stu-id="917d6-245">Scheduled jobs are not built into Mobile Apps, so any existing jobs that you have in your .NET backend will need toobe upgraded individually.</span></span> <span data-ttu-id="917d6-246">Jednou z možností je toocreate naplánované [webovou úlohu] v lokalitě kód mobilní aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="917d6-246">One option is toocreate a scheduled [Web Job] on hello Mobile App code site.</span></span> <span data-ttu-id="917d6-247">Můžete také nastavit kontroler, který obsahuje kód úlohy a nakonfigurovat hello [Azure Scheduler] toohit tohoto koncového bodu podle plánu hello očekává.</span><span class="sxs-lookup"><span data-stu-id="917d6-247">You could also set up a controller that holds your job code and configure hello [Azure Scheduler] toohit that endpoint on hello expected schedule.</span></span>

### <a name="miscellaneous-changes"></a><span data-ttu-id="917d6-248">Ostatní změny</span><span class="sxs-lookup"><span data-stu-id="917d6-248">Miscellaneous changes</span></span>
<span data-ttu-id="917d6-249">Všechny ApiControllers, které budou využívat mobilního klienta musí mít teď hello `[MobileAppController]` atribut.</span><span class="sxs-lookup"><span data-stu-id="917d6-249">All ApiControllers which will be consumed by a mobile client must now have hello `[MobileAppController]` attribute.</span></span> <span data-ttu-id="917d6-250">To již není zahrnuta ve výchozím nastavení tak, aby ostatní ApiControllers toogo nehodou zasažena hello mobilní formátování.</span><span class="sxs-lookup"><span data-stu-id="917d6-250">This is no longer included by default so that other ApiControllers toogo unaffected by hello mobile formatters.</span></span>

<span data-ttu-id="917d6-251">Hello `ApiServices` objekt je už součástí hello SDK.</span><span class="sxs-lookup"><span data-stu-id="917d6-251">hello `ApiServices` object is no longer part of hello SDK.</span></span> <span data-ttu-id="917d6-252">tooaccess nastavení mobilní aplikace, můžete použít následující hello:</span><span class="sxs-lookup"><span data-stu-id="917d6-252">tooaccess Mobile App settings, you can use hello following:</span></span>

    MobileAppSettingsDictionary settings = this.Configuration.GetMobileAppSettingsProvider().GetMobileAppSettings();

<span data-ttu-id="917d6-253">Podobně protokolování se nyní provádí pomocí hello zápis trasování standardní ASP.NET:</span><span class="sxs-lookup"><span data-stu-id="917d6-253">Similarly, logging is now accomplished using hello standard ASP.NET trace writing:</span></span>

    ITraceWriter traceWriter = this.Configuration.Services.GetTraceWriter();
    traceWriter.Info("Hello, World");  

## <span data-ttu-id="917d6-254"><a name="authentication"></a>Důležité informace o ověřování</span><span class="sxs-lookup"><span data-stu-id="917d6-254"><a name="authentication"></a>Authentication considerations</span></span>
<span data-ttu-id="917d6-255">Hello ověřování součástí Mobile Services nyní byly přesunuty do funkce hello ověřování/autorizace služby App Service.</span><span class="sxs-lookup"><span data-stu-id="917d6-255">hello authentication components of Mobile Services have now been moved into hello App Service Authentication/Authorization feature.</span></span> <span data-ttu-id="917d6-256">Dozvíte se o to povolení pro svůj web ve čtení hello [přidat ověřování tooyour mobilní aplikace](app-service-mobile-ios-get-started-users.md) tématu.</span><span class="sxs-lookup"><span data-stu-id="917d6-256">You can learn about enabling this for your site by reading hello [Add authentication tooyour mobile app](app-service-mobile-ios-get-started-users.md) topic.</span></span>

<span data-ttu-id="917d6-257">Pro někteří poskytovatelé, například AAD a Facebook, Google musí být schopný tooleverage hello existující registraci z vaší kopie aplikace.</span><span class="sxs-lookup"><span data-stu-id="917d6-257">For some providers, such as AAD, Facebook, and Google, you should be able tooleverage hello existing registration from your copy application.</span></span> <span data-ttu-id="917d6-258">Jednoduše potřebovat portál toonavigate toohello poskytovatele identit a přidat nové registrace toohello adresa URL přesměrování.</span><span class="sxs-lookup"><span data-stu-id="917d6-258">You simply need toonavigate toohello identity provider's portal and add a new redirect URL toohello registration.</span></span> <span data-ttu-id="917d6-259">Nakonfigurujte ověřování/autorizace služby App Service se hello ID klienta a tajný klíč.</span><span class="sxs-lookup"><span data-stu-id="917d6-259">Then configure App Service Authentication/Authorization with hello client ID and secret.</span></span>

### <a name="controller-action-authorization"></a><span data-ttu-id="917d6-260">Autorizace akce kontroleru</span><span class="sxs-lookup"><span data-stu-id="917d6-260">Controller action authorization</span></span>
<span data-ttu-id="917d6-261">Všechny instance hello `[AuthorizeLevel(AuthorizationLevel.User)]` atribut musí být nyní změněné toouse hello standardní ASP.NET `[Authorize]` atribut.</span><span class="sxs-lookup"><span data-stu-id="917d6-261">Any instances of hello `[AuthorizeLevel(AuthorizationLevel.User)]` attribute must now be changed toouse hello standard ASP.NET `[Authorize]` attribute.</span></span> <span data-ttu-id="917d6-262">Kromě toho řadiče jsou nyní anonymní ve výchozím nastavení, jako ostatní aplikace ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="917d6-262">Additionally, controllers are now Anonymous by default, as in other ASP.NET applications.</span></span>
<span data-ttu-id="917d6-263">Pokud používáte jednu z hello jiné možnosti AuthorizeLevel, například správce nebo aplikaci, Upozorňujeme, že jsou pryč.</span><span class="sxs-lookup"><span data-stu-id="917d6-263">If you were using one of hello other AuthorizeLevel options, such as Admin or Application, please note that these are gone.</span></span> <span data-ttu-id="917d6-264">Místo toho můžete nastavit AuthorizationFilters pro sdílené tajné klíče nebo bezpečně nakonfigurovat volání služba služba tooenable objektu služby AAD.</span><span class="sxs-lookup"><span data-stu-id="917d6-264">You can instead set up AuthorizationFilters for shared secrets or configure an AAD Service Principal tooenable service-to-service calls securely.</span></span>

### <a name="getting-additional-user-information"></a><span data-ttu-id="917d6-265">Získání informací o další uživatele</span><span class="sxs-lookup"><span data-stu-id="917d6-265">Getting additional user information</span></span>
<span data-ttu-id="917d6-266">Můžete získat další uživatelské informace, včetně přístupových tokenů prostřednictvím hello `GetAppServiceIdentityAsync()` metoda:</span><span class="sxs-lookup"><span data-stu-id="917d6-266">You can get additional user information, including access tokens through hello `GetAppServiceIdentityAsync()` method:</span></span>

        FacebookCredentials creds = await this.User.GetAppServiceIdentityAsync<FacebookCredentials>();

<span data-ttu-id="917d6-267">Kromě toho pokud vaše aplikace používá závislosti na uživatelské ID, jako je například ukládání je v databázi, je důležité, toonote, který hello ID uživatele Mobile Services a App Service Mobile Apps se liší.</span><span class="sxs-lookup"><span data-stu-id="917d6-267">Additionally, if your application takes dependencies on user IDs, such as storing them in a database, it is important toonote that hello user IDs between Mobile Services and App Service Mobile Apps are different.</span></span> <span data-ttu-id="917d6-268">Hello ID uživatele Mobile Services, můžete pořád dostat, když.</span><span class="sxs-lookup"><span data-stu-id="917d6-268">You can still get hello Mobile Services User ID, though.</span></span> <span data-ttu-id="917d6-269">Všechny hello ProviderCredentials podtřídy mít vlastnost ID uživatele.</span><span class="sxs-lookup"><span data-stu-id="917d6-269">All of hello ProviderCredentials subclasses have a UserId property.</span></span> <span data-ttu-id="917d6-270">Z příkladu hello před pokračováním proto:</span><span class="sxs-lookup"><span data-stu-id="917d6-270">So continuing from hello example before:</span></span>

        string mobileServicesUserId = creds.Provider + ":" + creds.UserId;

<span data-ttu-id="917d6-271">Pokud vaše aplikace využít všechny závislosti na ID uživatele, je důležité, budete moci využít hello stejnou registraci pomocí zprostředkovatele identity, pokud je to možné.</span><span class="sxs-lookup"><span data-stu-id="917d6-271">If your app does take any dependencies on user IDs, it is important that you leverage hello same registration with an identity provider if possible.</span></span> <span data-ttu-id="917d6-272">ID uživatelů jsou obvykle vymezená toohello registrace aplikace, která byla použita, proto Představujeme nové registrace může způsobit problémy s odpovídajícími uživatelům tootheir data.</span><span class="sxs-lookup"><span data-stu-id="917d6-272">User IDs are typically scoped toohello application registration that was used, so introducing a new registration could create problems with matching users tootheir data.</span></span>

### <a name="custom-authentication"></a><span data-ttu-id="917d6-273">Vlastního ověřování</span><span class="sxs-lookup"><span data-stu-id="917d6-273">Custom authentication</span></span>
<span data-ttu-id="917d6-274">Pokud vaše aplikace používá vlastní řešení ověřování, budete chtít toomake hello upgradovaný lokality má přístup toohello systému.</span><span class="sxs-lookup"><span data-stu-id="917d6-274">If your app is using a custom authentication solution, you will want toomake sure that hello upgraded site has access toohello system.</span></span> <span data-ttu-id="917d6-275">Postupujte podle pokynů nové hello pro vlastní ověřování v hello [Přehled sady SDK serveru .NET] toointegrate řešení.</span><span class="sxs-lookup"><span data-stu-id="917d6-275">Follow hello new instructions for custom authentication in hello [.NET server SDK overview] toointegrate your solution.</span></span> <span data-ttu-id="917d6-276">Upozorňujeme, že hello vlastního ověřování součásti jsou stále ve verzi preview.</span><span class="sxs-lookup"><span data-stu-id="917d6-276">Please note that hello custom authentication components are still in preview.</span></span>

## <span data-ttu-id="917d6-277"><a name="updating-clients"></a>Aktualizace klientů</span><span class="sxs-lookup"><span data-stu-id="917d6-277"><a name="updating-clients"></a>Updating clients</span></span>
<span data-ttu-id="917d6-278">Až budete mít provozní back-end mobilní aplikace, můžete pracovat na novou verzi klientskou aplikaci, která se využívá.</span><span class="sxs-lookup"><span data-stu-id="917d6-278">Once you have an operational Mobile App backend, you can work on a new version of your client application which consumes it.</span></span> <span data-ttu-id="917d6-279">Mobilní aplikace také zahrnuje novou verzi klienta hello sady SDK a podobné upgrade serveru v toohello výše, budete potřebovat tooremove všech odkazech toohello Mobile Services SDK před instalací verze mobilní aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="917d6-279">Mobile Apps also includes a new version of hello client SDKs, and similar toohello server upgrade above, you will need tooremove all references toohello Mobile Services SDKs before installing hello Mobile Apps versions.</span></span>

<span data-ttu-id="917d6-280">Jednou z hlavních změn hello mezi verzemi hello je hello konstruktory už nebudou potřebovat klíč aplikace.</span><span class="sxs-lookup"><span data-stu-id="917d6-280">One of hello main changes between hello versions is that hello constructors no longer require an application key.</span></span> <span data-ttu-id="917d6-281">Nyní jednoduše předáte v adrese URL hello mobilní aplikace.</span><span class="sxs-lookup"><span data-stu-id="917d6-281">You now simply pass in hello URL of your Mobile App.</span></span> <span data-ttu-id="917d6-282">Například na hello klientů .NET, hello `MobileServiceClient` konstruktor je nyní:</span><span class="sxs-lookup"><span data-stu-id="917d6-282">For example, on hello .NET clients, hello `MobileServiceClient` constructor is now:</span></span>

        public static MobileServiceClient MobileService = new MobileServiceClient(
            "https://contoso.azurewebsites.net", // URL of hello Mobile App
        );

<span data-ttu-id="917d6-283">Další informace o instalaci hello nové sady SDK a použitím hello nové struktury prostřednictvím hello odkazy níže:</span><span class="sxs-lookup"><span data-stu-id="917d6-283">You can read about installing hello new SDKs and using hello new structure via hello links below:</span></span>

* [<span data-ttu-id="917d6-284">iOS verze 3.0.0 nebo novější</span><span class="sxs-lookup"><span data-stu-id="917d6-284">iOS version 3.0.0 or later</span></span>](app-service-mobile-ios-how-to-use-client-library.md)
* [<span data-ttu-id="917d6-285">Rozhraní .NET (Windows nebo Xamarin) verze 2.0.0 nebo novější</span><span class="sxs-lookup"><span data-stu-id="917d6-285">.NET (Windows/Xamarin) version 2.0.0 or later</span></span>](app-service-mobile-dotnet-how-to-use-client-library.md)

<span data-ttu-id="917d6-286">Pokud vaše aplikace provede pomocí nabízených oznámení, poznamenejte si hello registrace konkrétní pokyny pro každou platformu, protože byly některé změny existuje také.</span><span class="sxs-lookup"><span data-stu-id="917d6-286">If your application makes use of push notifications, make note of hello specific registration instructions for each platform, as there have been some changes there as well.</span></span>

<span data-ttu-id="917d6-287">Až budete mít hello novou verzi klienta připraven, vyzkoušejte ji proti projektu upgradovaný server.</span><span class="sxs-lookup"><span data-stu-id="917d6-287">When you have hello new client version ready, try it out against your upgraded server project.</span></span> <span data-ttu-id="917d6-288">Po ověření, že bude fungovat, můžete vydat novou verzi toocustomers vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="917d6-288">After validating that it works, you can release a new version of your application toocustomers.</span></span> <span data-ttu-id="917d6-289">Nakonec Jakmile vaši zákazníci mohli dříve prvního tooreceive těchto aktualizací, můžete odstranit hello Mobile Services verzi vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="917d6-289">Eventually, once your customers have had a chance tooreceive these updates, you can delete hello Mobile Services version of your app.</span></span> <span data-ttu-id="917d6-290">V tomto okamžiku jste zcela upgradovali tooan aplikace služby mobilní aplikace pomocí hello nejnovější Mobile Apps serveru SDK.</span><span class="sxs-lookup"><span data-stu-id="917d6-290">At this point, you have completely upgraded tooan App Service Mobile App using hello latest Mobile Apps server SDK.</span></span>

<!-- URLs. -->

[portál Azure]: https://portal.azure.com/
[portál Azure classic]: https://manage.windowsazure.com/
[co jsou Mobile Apps?]: app-service-mobile-value-prop.md
[I already use web sites and mobile services – how does App Service help me?]: /en-us/documentation/articles/app-service-mobile-value-prop-migration-from-mobile-services
[mobilní aplikace Server SDK]: http://www.nuget.org/packages/microsoft.azure.mobile.server
[Create a Mobile App]: app-service-mobile-xamarin-ios-get-started.md
[Add push notifications tooyour mobile app]: app-service-mobile-xamarin-ios-get-started-push.md
[Add authentication tooyour mobile app]: app-service-mobile-xamarin-ios-get-started-users.md
[Azure Scheduler]: /en-us/documentation/services/scheduler/
[webovou úlohu]: ../app-service-web/websites-webjobs-resources.md
[jak toouse hello .NET server SDK]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md
[Migrate from Mobile Services tooan App Service Mobile App]: app-service-mobile-migrating-from-mobile-services.md
[Migrate your existing Mobile Service tooApp Service]: app-service-mobile-migrating-from-mobile-services.md
[služby App Service – ceny]: https://azure.microsoft.com/en-us/pricing/details/app-service/
[Přehled sady SDK serveru .NET]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md
