---
title: "Zapnutí offline synchronizace pro vaši aplikaci pro univerzální platformu Windows (UWP) s Mobile Apps | Microsoft Docs"
description: "Další informace o použití služby Azure Mobile Apps do mezipaměti a synchronizaci dat offline v aplikaci pro univerzální platformu Windows (UWP)."
documentationcenter: windows
author: ggailey777
manager: syntaxc4
editor: 
services: app-service\mobile
ms.assetid: 8fe51773-90de-4014-8a38-41544446d9b5
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile-windows
ms.devlang: dotnet
ms.topic: article
ms.date: 10/01/2016
ms.author: glenga
ms.openlocfilehash: 4b0a57c3bab688487eb9a50461b406e1a6e477c6
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/03/2017
---
# <a name="enable-offline-sync-for-your-windows-app"></a><span data-ttu-id="f7ed0-103">Zapnutí offline synchronizace u aplikace pro Windows</span><span class="sxs-lookup"><span data-stu-id="f7ed0-103">Enable offline sync for your Windows app</span></span>
[!INCLUDE [app-service-mobile-selector-offline](../../includes/app-service-mobile-selector-offline.md)]

## <a name="overview"></a><span data-ttu-id="f7ed0-104">Přehled</span><span class="sxs-lookup"><span data-stu-id="f7ed0-104">Overview</span></span>
<span data-ttu-id="f7ed0-105">V tomto kurzu se dozvíte, jak přidat podporu offline režimu do aplikace pro univerzální platformu Windows (UWP) pomocí back-end mobilní aplikace Azure.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-105">This tutorial shows you how to add offline support to a Universal Windows Platform (UWP) app using an Azure Mobile App backend.</span></span> <span data-ttu-id="f7ed0-106">Offline synchronizace umožňuje koncovým uživatelům pracovat s mobilní aplikací – zobrazení, přidávat a upravovat data - i v případě, že není žádné síťové připojení.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-106">Offline sync allows end users to interact with a mobile app--viewing, adding, or modifying data - even when there is no network connection.</span></span> <span data-ttu-id="f7ed0-107">Změny se ukládají do místní databáze.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-107">Changes are stored in a local database.</span></span> <span data-ttu-id="f7ed0-108">Jakmile zařízení do režimu online, tyto změny se synchronizují s vzdálené back-end.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-108">Once the device is back online, these changes are synced with the remote backend.</span></span>

<span data-ttu-id="f7ed0-109">V tomto kurzu aktualizujete projekt aplikace UPW z tohoto kurzu [vytvoření aplikace pro Windows] pro podporu offline funkce Azure Mobile Apps.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-109">In this tutorial, you update the UWP app project from the tutorial [Create a Windows app] to support the offline features of Azure Mobile Apps.</span></span> <span data-ttu-id="f7ed0-110">Pokud použijete serverový projekt stažené rychlý start, je nutné přidat data přístup rozšiřující balíčky do projektu.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-110">If you do not use the downloaded quick start server project, you must add the data access extension packages to your project.</span></span> <span data-ttu-id="f7ed0-111">Další informace o balíčcích rozšíření serveru najdete v tématu [pracovat s .NET back-end serveru SDK pro Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="f7ed0-111">For more information about server extension packages, see [Work with the .NET backend server SDK for Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span></span>

<span data-ttu-id="f7ed0-112">Další informace o funkci offline synchronizace, naleznete v tématu [Offline synchronizací dat v Azure Mobile Apps].</span><span class="sxs-lookup"><span data-stu-id="f7ed0-112">To learn more about the offline sync feature, see the topic [Offline Data Sync in Azure Mobile Apps].</span></span>

## <a name="requirements"></a><span data-ttu-id="f7ed0-113">Požadavky</span><span class="sxs-lookup"><span data-stu-id="f7ed0-113">Requirements</span></span>
<span data-ttu-id="f7ed0-114">Tento kurz vyžaduje následující požadavky:</span><span class="sxs-lookup"><span data-stu-id="f7ed0-114">This tutorial requires the following pre-requisites:</span></span>

* <span data-ttu-id="f7ed0-115">Visual Studio 2013 běžící na Windows 8.1 nebo novějším.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-115">Visual Studio 2013 running on Windows 8.1 or later.</span></span>
* <span data-ttu-id="f7ed0-116">Dokončení [vytvoření aplikace pro Windows][Vytvoření aplikace pro windows].</span><span class="sxs-lookup"><span data-stu-id="f7ed0-116">Completion of [Create a Windows app][create a windows app].</span></span>
* <span data-ttu-id="f7ed0-117">[Azure Mobile Services SQLite úložiště][sqlite store nuget]</span><span class="sxs-lookup"><span data-stu-id="f7ed0-117">[Azure Mobile Services SQLite Store][sqlite store nuget]</span></span>
* [<span data-ttu-id="f7ed0-118">SQLite pro vývoj pro univerzální platformu Windows</span><span class="sxs-lookup"><span data-stu-id="f7ed0-118">SQLite for Universal Windows Platform development</span></span>](http://www.sqlite.org/downloads)

## <a name="update-the-client-app-to-support-offline-features"></a><span data-ttu-id="f7ed0-119">Aktualizace klienta aplikace pro podporu funkcím offline</span><span class="sxs-lookup"><span data-stu-id="f7ed0-119">Update the client app to support offline features</span></span>
<span data-ttu-id="f7ed0-120">Offline funkce mobilní aplikace Azure umožňují interakci s místní databázi, pokud jste v offline scénář.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-120">Azure Mobile App offline features allow you to interact with a local database when you are in an offline scenario.</span></span> <span data-ttu-id="f7ed0-121">V aplikaci použít tyto funkce, inicializovat [SyncContext] [ synccontext] do místního úložiště.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-121">To use these features in your app, you initialize a [SyncContext][synccontext] to a local store.</span></span> <span data-ttu-id="f7ed0-122">Potom referenční tabulku prostřednictvím [IMobileServiceSyncTable][IMobileServiceSyncTable] rozhraní.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-122">Then reference your table through the [IMobileServiceSyncTable][IMobileServiceSyncTable] interface.</span></span> <span data-ttu-id="f7ed0-123">SQLite slouží jako místní úložiště v zařízení.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-123">SQLite is used as the local store on the device.</span></span>

1. <span data-ttu-id="f7ed0-124">Nainstalujte [SQLite runtime pro univerzální platformu Windows](http://sqlite.org/2016/sqlite-uwp-3120200.vsix).</span><span class="sxs-lookup"><span data-stu-id="f7ed0-124">Install the [SQLite runtime for the Universal Windows Platform](http://sqlite.org/2016/sqlite-uwp-3120200.vsix).</span></span>
2. <span data-ttu-id="f7ed0-125">V sadě Visual Studio, otevřete Správce balíčků NuGet pro projekt aplikace UPW, který jste dokončili v [vytvoření aplikace pro Windows] kurzu.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-125">In Visual Studio, open the NuGet package manager for the UWP app project that you completed in the [Create a Windows app] tutorial.</span></span>
    <span data-ttu-id="f7ed0-126">Vyhledat a nainstalovat **Microsoft.Azure.Mobile.Client.SQLiteStore** balíček NuGet.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-126">Search for and install the **Microsoft.Azure.Mobile.Client.SQLiteStore** NuGet package.</span></span>
3. <span data-ttu-id="f7ed0-127">V Průzkumníku řešení klikněte pravým tlačítkem na **odkazy** > **přidat odkaz na...** >**Universal Windows** > **rozšíření**, potom povolte obě **SQLite pro univerzální platformu Windows** a **2015 modulu Runtime Visual C++ pro Universal Windows Platform apps**.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-127">In Solution Explorer, right-click **References** > **Add Reference...** > **Universal Windows** > **Extensions**, then enable  both **SQLite for Universal Windows Platform** and **Visual C++ 2015 Runtime for Universal Windows Platform apps**.</span></span>

    ![Přidat odkaz na SQLite UWP][1]
4. <span data-ttu-id="f7ed0-129">Otevřete soubor MainPage.xaml.cs a zrušte komentář u `#define OFFLINE_SYNC_ENABLED` definice.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-129">Open the MainPage.xaml.cs file and uncomment the `#define OFFLINE_SYNC_ENABLED` definition.</span></span>
5. <span data-ttu-id="f7ed0-130">V sadě Visual Studio, stiskněte **F5** klíč znovu sestavit a spustit klientskou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-130">In Visual Studio, press the **F5** key to rebuild and run the client app.</span></span> <span data-ttu-id="f7ed0-131">Aplikace funguje stejným způsobem jako před jste povolili offline synchronizace.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-131">The app works the same as it did before you enabled offline sync.</span></span> <span data-ttu-id="f7ed0-132">Však místní databáze je nyní obsahuje data, která lze použít v případě pomocí offline.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-132">However, the local database is now populated with data that can be used in an offline scenario.</span></span>

## <span data-ttu-id="f7ed0-133"><a name="update-sync"></a>Aktualizace aplikace k odpojení od back-end</span><span class="sxs-lookup"><span data-stu-id="f7ed0-133"><a name="update-sync"></a>Update the app to disconnect from the backend</span></span>
<span data-ttu-id="f7ed0-134">V této části Zrušení propojení na váš back-end mobilní aplikace k simulaci offline situaci.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-134">In this section, you break the connection to your Mobile App backend to simulate an offline situation.</span></span> <span data-ttu-id="f7ed0-135">Když přidáte datových položek, vaše obslužná rutina výjimky zprávou, že aplikace je v offline režimu.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-135">When you add data items, your exception handler tells you that the app is in offline mode.</span></span> <span data-ttu-id="f7ed0-136">V tomto stavu nové položky přidány v místním úložišti a se budou synchronizovat s back-end mobilní aplikace při dalším spuštění nabízené v připojeném stavu.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-136">In this state, new items added in the local store and will be synced to the mobile app backend when push is next run in a connected state.</span></span>

1. <span data-ttu-id="f7ed0-137">Upravte App.xaml.cs v sdílený projekt.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-137">Edit App.xaml.cs in the shared project.</span></span> <span data-ttu-id="f7ed0-138">Komentář inicializace **MobileServiceClient** a přidejte následující řádek, který používá adresu URL neplatný mobilní aplikace:</span><span class="sxs-lookup"><span data-stu-id="f7ed0-138">Comment out the initialization of the **MobileServiceClient** and add the following line, which uses an invalid mobile app URL:</span></span>

         public static MobileServiceClient MobileService = new MobileServiceClient("https://your-service.azurewebsites.fail");

    <span data-ttu-id="f7ed0-139">Můžete také ukazují offline chování zakázáním Wi-Fi a mobilní sítě na zařízení nebo použít režim v letadle.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-139">You can also demonstrate offline behavior by disabling wifi and cellular networks on the device or use airplane mode.</span></span>
2. <span data-ttu-id="f7ed0-140">Stiskněte klávesu **F5** sestavení a spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-140">Press **F5** to build and run the app.</span></span> <span data-ttu-id="f7ed0-141">Všimněte si vaše synchronizace se nezdařila při obnovení při spuštění aplikace.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-141">Notice your sync failed on refresh when the app launched.</span></span>
3. <span data-ttu-id="f7ed0-142">Zadejte nové položky a Všimněte si, že nabízené nezdaří a zobrazí se [CancelledByNetworkError] stav pokaždé, když kliknete na tlačítko **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-142">Enter new items and notice that push fails with a [CancelledByNetworkError] status each time you click **Save**.</span></span> <span data-ttu-id="f7ed0-143">Však nové položky todo existovat v místním úložišti, dokud se můžou poslat na back-end mobilní aplikace.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-143">However, the new todo items exist in the local store until they can be pushed to the mobile app backend.</span></span>  <span data-ttu-id="f7ed0-144">V produkční aplikace je-li potlačit tyto výjimky klientské aplikace chová, jako by se stále připojeni k back-end mobilní aplikace.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-144">In a production app, if you suppress these exceptions the client app behaves as if it's still connected to the mobile app backend.</span></span>
4. <span data-ttu-id="f7ed0-145">Zavřete aplikaci a restartujte ji k ověření, že nové položky, které jste vytvořili, jsou nastavené jako trvalé do místního úložiště.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-145">Close the app and restart it to verify that the new items you created are persisted to the local store.</span></span>
5. <span data-ttu-id="f7ed0-146">(Volitelné) V sadě Visual Studio otevřete **Průzkumníka serveru**.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-146">(Optional) In Visual Studio, open **Server Explorer**.</span></span> <span data-ttu-id="f7ed0-147">Přejděte k vaší databázi v **Azure**->**databází SQL**.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-147">Navigate to your database in **Azure**->**SQL Databases**.</span></span> <span data-ttu-id="f7ed0-148">Klikněte pravým tlačítkem na databázi a vyberte **otevřít v Průzkumníku objektů systému SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-148">Right-click your database and select **Open in SQL Server Object Explorer**.</span></span> <span data-ttu-id="f7ed0-149">Teď můžete procházet tabulku databáze SQL a její obsah.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-149">Now you can browse to your SQL database table and its contents.</span></span> <span data-ttu-id="f7ed0-150">Ověřte, že se nezměnil na data v databázi back-end.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-150">Verify that the data in the backend database has not changed.</span></span>
6. <span data-ttu-id="f7ed0-151">(Volitelné) Dotaz na vaše mobilní back-end, pomocí dotazu GET ve formuláři pomocí REST nástroje, jako je Fiddler nebo Postman `https://<your-mobile-app-backend-name>.azurewebsites.net/tables/TodoItem`.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-151">(Optional) Use a REST tool such as Fiddler or Postman to query your mobile backend, using a GET query in the form `https://<your-mobile-app-backend-name>.azurewebsites.net/tables/TodoItem`.</span></span>

## <span data-ttu-id="f7ed0-152"><a name="update-online-app"></a>Aktualizace aplikace se znovu připojit váš back-end mobilní aplikace</span><span class="sxs-lookup"><span data-stu-id="f7ed0-152"><a name="update-online-app"></a>Update the app to reconnect your Mobile App backend</span></span>
<span data-ttu-id="f7ed0-153">V této části je znovu připojit aplikace k back-end mobilní aplikace.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-153">In this section, you reconnect the app to the mobile app backend.</span></span> <span data-ttu-id="f7ed0-154">Tyto změny simulovat opětovné připojení sítě na aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-154">These changes simulate a network reconnection on the app.</span></span>

<span data-ttu-id="f7ed0-155">Při prvním spuštění aplikace, `OnNavigatedTo` volání obslužné rutiny události `InitLocalStoreAsync`.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-155">When you first run the application, the `OnNavigatedTo` event handler calls `InitLocalStoreAsync`.</span></span> <span data-ttu-id="f7ed0-156">Tato metoda volá `SyncAsync` synchronizaci místního úložiště s databází back-end.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-156">This method in turn calls `SyncAsync` to sync your local store with the backend database.</span></span> <span data-ttu-id="f7ed0-157">Aplikace se pokusí synchronizovat při spuštění.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-157">The app attempts to sync on startup.</span></span>

1. <span data-ttu-id="f7ed0-158">Otevřete v projektu sdíleného souboru App.xaml.cs a zrušte komentář u vaší předchozí inicializace `MobileServiceClient` k používání správných adresu URL mobilní aplikace.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-158">Open App.xaml.cs in the shared project, and uncomment your previous initialization of `MobileServiceClient` to use the correct the mobile app URL.</span></span>
2. <span data-ttu-id="f7ed0-159">Stiskněte **F5** klíč znovu sestavte a spusťte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-159">Press the **F5** key to rebuild and run the app.</span></span> <span data-ttu-id="f7ed0-160">Aplikace synchronizuje místní změny s použitím operací nabízení a vyžadování back-end mobilní aplikace Azure při `OnNavigatedTo` spustí obslužnou rutinu události.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-160">The app syncs your local changes with the Azure Mobile App backend using push and pull operations when the `OnNavigatedTo` event handler executes.</span></span>
3. <span data-ttu-id="f7ed0-161">(Volitelné) Zobrazte aktualizovaná data pomocí Průzkumníka objektů systému SQL Server nebo REST nástroje, například aplikaci Fiddler.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-161">(Optional) View the updated data using either SQL Server Object Explorer or a REST tool like Fiddler.</span></span> <span data-ttu-id="f7ed0-162">Všimněte si data umístění byl synchronizován mezi databázi back-end mobilní aplikace Azure a místní úložiště.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-162">Notice the data has been synchronized between the Azure Mobile App backend database and the local store.</span></span>
4. <span data-ttu-id="f7ed0-163">V aplikaci klikněte na zaškrtávací políčko vedle několik položek k jejich dokončení v místním úložišti.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-163">In the app, click the check box beside a few items to complete them in the local store.</span></span>

   <span data-ttu-id="f7ed0-164">`UpdateCheckedTodoItem`volání `SyncAsync` k položce každý byla úspěšně dokončena synchronizace s back-end mobilní aplikace.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-164">`UpdateCheckedTodoItem` calls `SyncAsync` to sync each completed item with the Mobile App backend.</span></span> <span data-ttu-id="f7ed0-165">`SyncAsync`volá nabízení a vyžadování.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-165">`SyncAsync` calls both push and pull.</span></span> <span data-ttu-id="f7ed0-166">Ale **vždy, když je spustit vyžádání pro tabulku, která klient udělal změny, push vždy provést automaticky**.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-166">However, **whenever you execute a pull against a table that the client has made changes to, a push is always executed automatically**.</span></span> <span data-ttu-id="f7ed0-167">To zaručuje, že všechny tabulky v místním úložišti společně s vztahy zůstaly konzistentní.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-167">This behavior ensures all tables in the local store along with relationships remain consistent.</span></span> <span data-ttu-id="f7ed0-168">Toto chování může způsobit neočekávané push.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-168">This behavior may result in an unexpected push.</span></span>  <span data-ttu-id="f7ed0-169">Další informace o toto chování najdete v tématu [Offline synchronizací dat v Azure Mobile Apps].</span><span class="sxs-lookup"><span data-stu-id="f7ed0-169">For more information on this behavior, see [Offline Data Sync in Azure Mobile Apps].</span></span>

## <a name="api-summary"></a><span data-ttu-id="f7ed0-170">Souhrn rozhraní API</span><span class="sxs-lookup"><span data-stu-id="f7ed0-170">API Summary</span></span>
<span data-ttu-id="f7ed0-171">K podpoře offline funkce mobilních služeb, jsme použili [IMobileServiceSyncTable] rozhraní a inicializovat [MobileServiceClient.SyncContext] [ synccontext] s místní databáze SQLite.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-171">To support the offline features of mobile services, we used the [IMobileServiceSyncTable] interface and initialized [MobileServiceClient.SyncContext][synccontext] with a local SQLite database.</span></span> <span data-ttu-id="f7ed0-172">V režimu offline, normální operace CRUD pro Mobile Apps pracovat jako aplikace stále připojený. během operace dojít proti místní úložiště.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-172">When offline, the normal CRUD operations for Mobile Apps work as if the app is still connected while the operations occur against the local store.</span></span> <span data-ttu-id="f7ed0-173">Tyto metody slouží k synchronizaci místní úložiště se serverem:</span><span class="sxs-lookup"><span data-stu-id="f7ed0-173">The following methods are used to synchronize the local store with the server:</span></span>

* <span data-ttu-id="f7ed0-174">**[PushAsync]**  vzhledem k tomu, že tato metoda je členem skupiny [IMobileServicesSyncContext], změny mezi všechny tabulky odesílají na back-end.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-174">**[PushAsync]** Because this method is a member of [IMobileServicesSyncContext], changes across all tables are pushed to the backend.</span></span> <span data-ttu-id="f7ed0-175">Pouze záznamy s místní změny se odešlou server.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-175">Only records with local changes are sent to the server.</span></span>
* <span data-ttu-id="f7ed0-176">**[PullAsync]**  vyžádání se spouští z [IMobileServiceSyncTable].</span><span class="sxs-lookup"><span data-stu-id="f7ed0-176">**[PullAsync]** A pull is started from a [IMobileServiceSyncTable].</span></span> <span data-ttu-id="f7ed0-177">Pokud je v tabulce sledovaných změn, implicitní nabízené běží a ujistěte se, že všechny tabulky v místním úložišti společně s vztahy zůstaly konzistentní.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-177">When there are tracked changes in the table, an implicit push is run to make sure that all tables in the local store along with relationships remain consistent.</span></span> <span data-ttu-id="f7ed0-178">*PushOtherTables* parametr řídí, zda jiné tabulky v kontextu odesílají v implicitní push.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-178">The *pushOtherTables* parameter controls whether other tables in the context are pushed in an implicit push.</span></span> <span data-ttu-id="f7ed0-179">*Dotazu* přebírá parametr [IMobileServiceTableQuery<T> ] [ IMobileServiceTableQuery] nebo řetězec dotazu OData k filtrování vrácená data.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-179">The *query* parameter takes an [IMobileServiceTableQuery<T>][IMobileServiceTableQuery] or OData query string to filter the returned data.</span></span> <span data-ttu-id="f7ed0-180">*QueryId* parametr se používá k definování přírůstkové synchronizace.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-180">The *queryId* parameter is used to define incremental sync.</span></span> <span data-ttu-id="f7ed0-181">Další informace najdete v tématu [Offline synchronizací dat v Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span><span class="sxs-lookup"><span data-stu-id="f7ed0-181">For more information, see [Offline Data Sync in Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span></span>
* <span data-ttu-id="f7ed0-182">**[PurgeAsync]**  vaše aplikace by měly pravidelně volat tuto metodu za účelem vymazat zastaralá data z místního úložiště.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-182">**[PurgeAsync]** Your app should periodically call this method to purge stale data from the local store.</span></span> <span data-ttu-id="f7ed0-183">Použití *vynutit* parametr, pokud budete potřebovat k vyprázdnění. veškeré změny, které dosud nebyly synchronizovány.</span><span class="sxs-lookup"><span data-stu-id="f7ed0-183">Use the *force* parameter when you need to purge any changes that have not yet been synced.</span></span>

<span data-ttu-id="f7ed0-184">Další informace o těchto postupech najdete v tématu [Offline synchronizací dat v Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span><span class="sxs-lookup"><span data-stu-id="f7ed0-184">For more information about these concepts, see [Offline Data Sync in Azure Mobile Apps](app-service-mobile-offline-data-sync.md#how-sync-works).</span></span>

## <a name="more-info"></a><span data-ttu-id="f7ed0-185">Další informace</span><span class="sxs-lookup"><span data-stu-id="f7ed0-185">More info</span></span>
<span data-ttu-id="f7ed0-186">Následující témata obsahují další informace o funkci offline synchronizace mobilních aplikací:</span><span class="sxs-lookup"><span data-stu-id="f7ed0-186">The following topics provide additional background information on the offline sync feature of Mobile Apps:</span></span>

* <span data-ttu-id="f7ed0-187">[Offline synchronizací dat v Azure Mobile Apps]</span><span class="sxs-lookup"><span data-stu-id="f7ed0-187">[Offline Data Sync in Azure Mobile Apps]</span></span>
* <span data-ttu-id="f7ed0-188">[Mobilní aplikace Azure .NET SDK postupy][8]</span><span class="sxs-lookup"><span data-stu-id="f7ed0-188">[Azure Mobile Apps .NET SDK HOWTO][8]</span></span>

<!-- Anchors. -->
[Update the app to support offline features]: #enable-offline-app
[Update the sync behavior of the app]: #update-sync
[Update the app to reconnect your Mobile Apps backend]: #update-online-app
[Next Steps]:#next-steps

<!-- Images -->
[1]: ./media/app-service-mobile-windows-store-dotnet-get-started-offline-data/app-service-mobile-add-reference-sqlite-dialog.png
[11]: ./media/app-service-mobile-windows-store-dotnet-get-started-offline-data/app-service-mobile-add-wp81-reference-sqlite-dialog.png
[13]: ./media/app-service-mobile-windows-store-dotnet-get-started-offline-data/cpu-architecture.png


<!-- URLs. -->
<span data-ttu-id="f7ed0-189">[Offline synchronizací dat v Azure Mobile Apps]: app-service-mobile-offline-data-sync.md</span><span class="sxs-lookup"><span data-stu-id="f7ed0-189">[Offline Data Sync in Azure Mobile Apps]: app-service-mobile-offline-data-sync.md</span></span>
<span data-ttu-id="f7ed0-190">[Vytvoření aplikace pro windows]: app-service-mobile-windows-store-dotnet-get-started.md</span><span class="sxs-lookup"><span data-stu-id="f7ed0-190">[create a windows app]: app-service-mobile-windows-store-dotnet-get-started.md</span></span>
[SQLite for Windows 8.1]: http://go.microsoft.com/fwlink/?LinkID=716919
[SQLite for Windows Phone 8.1]: http://go.microsoft.com/fwlink/?LinkID=716920
[SQLite for Windows 10]: http://go.microsoft.com/fwlink/?LinkID=716921
[synccontext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileserviceclient.synccontext(v=azure.10).aspx
[sqlite store nuget]: https://www.nuget.org/packages/Microsoft.Azure.Mobile.Client.SQLiteStore/
<span data-ttu-id="f7ed0-191">[IMobileServiceSyncTable]: https://msdn.microsoft.com/library/azure/mt691742(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="f7ed0-191">[IMobileServiceSyncTable]: https://msdn.microsoft.com/library/azure/mt691742(v=azure.10).aspx</span></span>
[IMobileServiceTableQuery]: https://msdn.microsoft.com/library/azure/dn250631(v=azure.10).aspx
<span data-ttu-id="f7ed0-192">[IMobileServicesSyncContext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynccontext(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="f7ed0-192">[IMobileServicesSyncContext]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynccontext(v=azure.10).aspx</span></span>
[MobileServicePushFailedException]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushfailedexception(v=azure.10).aspx
[Status]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushcompletionresult.status(v=azure.10).aspx
<span data-ttu-id="f7ed0-193">[CancelledByNetworkError]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushstatus(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="f7ed0-193">[CancelledByNetworkError]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.mobileservicepushstatus(v=azure.10).aspx</span></span>
<span data-ttu-id="f7ed0-194">[PullAsync]: https://msdn.microsoft.com/library/azure/mt667558(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="f7ed0-194">[PullAsync]: https://msdn.microsoft.com/library/azure/mt667558(v=azure.10).aspx</span></span>
<span data-ttu-id="f7ed0-195">[PushAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileservicesynccontextextensions.pushasync(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="f7ed0-195">[PushAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.mobileservicesynccontextextensions.pushasync(v=azure.10).aspx</span></span>
<span data-ttu-id="f7ed0-196">[PurgeAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynctable.purgeasync(v=azure.10).aspx</span><span class="sxs-lookup"><span data-stu-id="f7ed0-196">[PurgeAsync]: https://msdn.microsoft.com/library/azure/microsoft.windowsazure.mobileservices.sync.imobileservicesynctable.purgeasync(v=azure.10).aspx</span></span>
[8]: app-service-mobile-dotnet-how-to-use-client-library.md
