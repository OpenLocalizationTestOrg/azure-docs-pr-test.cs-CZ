---
title: "ověřování služby Service Bus aaaAzure s podpisy sdíleného přístupu | Microsoft Docs"
description: "Přehled ověřování Service Bus pomocí sdílené přístupové podpisy přehled, podrobnosti o ověřování SAS s Azure Service Bus."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: 773bb11720384d7245820b56dc25b8e064ffa746
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-authentication-with-shared-access-signatures"></a><span data-ttu-id="1b700-103">Ověřování služby Service Bus s podpisy sdíleného přístupu</span><span class="sxs-lookup"><span data-stu-id="1b700-103">Service Bus authentication with Shared Access Signatures</span></span>

<span data-ttu-id="1b700-104">*Sdílené přístupové podpisy* (SAS) jsou hello primární zabezpečení mechanismus pro zasílání zpráv Service Bus.</span><span class="sxs-lookup"><span data-stu-id="1b700-104">*Shared Access Signatures* (SAS) are hello primary security mechanism for Service Bus messaging.</span></span> <span data-ttu-id="1b700-105">Tento článek popisuje SAS, jak fungují a jak toouse je způsobem, bez ohledu na platformu.</span><span class="sxs-lookup"><span data-stu-id="1b700-105">This article discusses SAS, how they work, and how toouse them in a platform-agnostic way.</span></span>

<span data-ttu-id="1b700-106">Ověření SAS umožňuje aplikacím tooauthenticate tooService sběrnice pomocí přístupový klíč nakonfigurované na oboru názvů hello nebo na hello zasílání zpráv entity (fronta nebo téma) pomocí konkrétní práva, která jsou přidružená.</span><span class="sxs-lookup"><span data-stu-id="1b700-106">SAS authentication enables applications tooauthenticate tooService Bus using an access key configured on hello namespace, or on hello messaging entity (queue or topic) with which specific rights are associated.</span></span> <span data-ttu-id="1b700-107">Pak můžete použít tento klíč toogenerate token SAS, který můžou klienti zase použít tooauthenticate tooService sběrnice.</span><span class="sxs-lookup"><span data-stu-id="1b700-107">You can then use this key toogenerate a SAS token that clients can in turn use tooauthenticate tooService Bus.</span></span>

<span data-ttu-id="1b700-108">Podpora ověřování SAS je součástí hello Azure SDK verze 2.0 nebo novější.</span><span class="sxs-lookup"><span data-stu-id="1b700-108">SAS authentication support is included in hello Azure SDK version 2.0 and later.</span></span>

## <a name="overview-of-sas"></a><span data-ttu-id="1b700-109">Přehled SAS</span><span class="sxs-lookup"><span data-stu-id="1b700-109">Overview of SAS</span></span>

<span data-ttu-id="1b700-110">Sdílené přístupové podpisy jsou mechanismus ověřování na základě zabezpečeného hodnoty hash SHA-256 nebo identifikátory URI.</span><span class="sxs-lookup"><span data-stu-id="1b700-110">Shared Access Signatures are an authentication mechanism based on SHA-256 secure hashes or URIs.</span></span> <span data-ttu-id="1b700-111">Přidružení zabezpečení je velmi výkonný mechanismus, který je používán všechny služby Service Bus.</span><span class="sxs-lookup"><span data-stu-id="1b700-111">SAS is an extremely powerful mechanism that is used by all Service Bus services.</span></span> <span data-ttu-id="1b700-112">Při skutečném použití SAS má dvě součásti: *sdílené zásady přístupu* a *sdílený přístupový podpis* (často říká *tokenu*).</span><span class="sxs-lookup"><span data-stu-id="1b700-112">In actual use, SAS has two components: a *shared access policy* and a *Shared Access Signature* (often called a *token*).</span></span>

<span data-ttu-id="1b700-113">Ověřování SAS v Service Bus zahrnuje konfiguraci hello kryptografického klíče s přidružená práva na prostředku služby Service Bus.</span><span class="sxs-lookup"><span data-stu-id="1b700-113">SAS authentication in Service Bus involves hello configuration of a cryptographic key with associated rights on a Service Bus resource.</span></span> <span data-ttu-id="1b700-114">Prostředky sběrnice klienti deklarace identity přístup tooService prezentací SAS token.</span><span class="sxs-lookup"><span data-stu-id="1b700-114">Clients claim access tooService Bus resources by presenting a SAS token.</span></span> <span data-ttu-id="1b700-115">Tento token se skládá z identifikátoru URI přistupuje hello prostředku a vypršela platnost podepsané hello nakonfigurovaný klíč.</span><span class="sxs-lookup"><span data-stu-id="1b700-115">This token consists of hello resource URI being accessed, and an expiry signed with hello configured key.</span></span>

<span data-ttu-id="1b700-116">Podpis sdíleného přístupu autorizační pravidla můžete konfigurovat v Service Bus [předává](service-bus-fundamentals-hybrid-solutions.md#relays), [fronty](service-bus-fundamentals-hybrid-solutions.md#queues), a [témata](service-bus-fundamentals-hybrid-solutions.md#topics).</span><span class="sxs-lookup"><span data-stu-id="1b700-116">You can configure Shared Access Signature authorization rules on Service Bus [relays](service-bus-fundamentals-hybrid-solutions.md#relays), [queues](service-bus-fundamentals-hybrid-solutions.md#queues), and [topics](service-bus-fundamentals-hybrid-solutions.md#topics).</span></span>

<span data-ttu-id="1b700-117">SAS ověřování používá hello následující prvky:</span><span class="sxs-lookup"><span data-stu-id="1b700-117">SAS authentication uses hello following elements:</span></span>

* <span data-ttu-id="1b700-118">[Sdílený přístup autorizační pravidlo](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule): volitelný sekundární klíč, název klíče a přidružená práva A 256 bitů primární kryptografický klíč ve formátu Base64 reprezentace (kolekce *naslouchání*, *odeslat*, nebo *spravovat* oprávnění).</span><span class="sxs-lookup"><span data-stu-id="1b700-118">[Shared Access authorization rule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule): A 256-bit primary cryptographic key in Base64 representation, an optional secondary key, and a key name and associated rights (a collection of *Listen*, *Send*, or *Manage* rights).</span></span>
* <span data-ttu-id="1b700-119">[Sdílený přístupový podpis](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) tokenu: vygenerování pomocí hello HMAC SHA256 prostředků řetězce, který se skládá z hello URI hello prostředku, který je přístupný a vypršela platnost, se hello kryptografickým klíčem.</span><span class="sxs-lookup"><span data-stu-id="1b700-119">[Shared Access Signature](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) token: Generated using hello HMAC-SHA256 of a resource string, consisting of hello URI of hello resource that is accessed and an expiry, with hello cryptographic key.</span></span> <span data-ttu-id="1b700-120">podpis Hello a další prvky popsané v následující části hello jsou formátovány do tokenu SAS text řetězec tooform hello.</span><span class="sxs-lookup"><span data-stu-id="1b700-120">hello signature and other elements described in hello following sections are formatted into a string tooform hello SAS token.</span></span>

## <a name="shared-access-policy"></a><span data-ttu-id="1b700-121">Zásada sdíleného přístupu</span><span class="sxs-lookup"><span data-stu-id="1b700-121">Shared access policy</span></span>

<span data-ttu-id="1b700-122">Důležité toounderstand o tokenu SAS se začne zásadám.</span><span class="sxs-lookup"><span data-stu-id="1b700-122">An important thing toounderstand about SAS is that it starts with a policy.</span></span> <span data-ttu-id="1b700-123">Pro každou zásadu rozhodnete na tři údaje: **název**, **oboru**, a **oprávnění**.</span><span class="sxs-lookup"><span data-stu-id="1b700-123">For each policy, you decide on three pieces of information: **name**, **scope**, and **permissions**.</span></span> <span data-ttu-id="1b700-124">Hello **název** je právě toto; jedinečný název v rámci tohoto oboru.</span><span class="sxs-lookup"><span data-stu-id="1b700-124">hello **name** is just that; a unique name within that scope.</span></span> <span data-ttu-id="1b700-125">Hello obor je snadné dostatečně: jeho hello identifikátor URI prostředku hello nejistá.</span><span class="sxs-lookup"><span data-stu-id="1b700-125">hello scope is easy enough: it's hello URI of hello resource in question.</span></span> <span data-ttu-id="1b700-126">V případě oboru názvů Service Bus hello obor je hello plně kvalifikovaný název domény (FQDN), jako například `https://<yournamespace>.servicebus.windows.net/`.</span><span class="sxs-lookup"><span data-stu-id="1b700-126">For a Service Bus namespace, hello scope is hello fully qualified domain name (FQDN), such as `https://<yournamespace>.servicebus.windows.net/`.</span></span>

<span data-ttu-id="1b700-127">Hello dostupná oprávnění pro zásady jsou z velké části není potřeba vysvětlovat:</span><span class="sxs-lookup"><span data-stu-id="1b700-127">hello available permissions for a policy are largely self-explanatory:</span></span>

* <span data-ttu-id="1b700-128">Odeslat</span><span class="sxs-lookup"><span data-stu-id="1b700-128">Send</span></span>
* <span data-ttu-id="1b700-129">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-129">Listen</span></span>
* <span data-ttu-id="1b700-130">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-130">Manage</span></span>

<span data-ttu-id="1b700-131">Po vytvoření zásady hello je přiřazen *primární klíč* a *sekundární klíč*.</span><span class="sxs-lookup"><span data-stu-id="1b700-131">After you create hello policy, it is assigned a *Primary Key* and a *Secondary Key*.</span></span> <span data-ttu-id="1b700-132">Toto jsou kryptograficky silnou klíče.</span><span class="sxs-lookup"><span data-stu-id="1b700-132">These are cryptographically strong keys.</span></span> <span data-ttu-id="1b700-133">Nemusíte je ztratí nebo je úniku – vždy budete mít k dispozici v hello [portál Azure][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="1b700-133">Don't lose them or leak them - they'll always be available in hello [Azure portal][Azure portal].</span></span> <span data-ttu-id="1b700-134">Můžete použít buď hello generované klíčů a jejich lze vygenerovat kdykoli.</span><span class="sxs-lookup"><span data-stu-id="1b700-134">You can use either of hello generated keys, and you can regenerate them at any time.</span></span> <span data-ttu-id="1b700-135">Ale pokud chcete znovu vygenerovat nebo změnit hello primární klíč v zásadách hello, budou všechny sdílené přístupové podpisy na ní neplatné.</span><span class="sxs-lookup"><span data-stu-id="1b700-135">However, if you regenerate or change hello primary key in hello policy, any Shared Access Signatures created from it will be invalidated.</span></span>

<span data-ttu-id="1b700-136">Když vytvoříte obor názvů sběrnice, zásady se automaticky vytvoří pro hello celý obor názvů s názvem **RootManageSharedAccessKey**, a tato zásada nemá všechna oprávnění.</span><span class="sxs-lookup"><span data-stu-id="1b700-136">When you create a Service Bus namespace, a policy is automatically created for hello entire namespace called **RootManageSharedAccessKey**, and this policy has all permissions.</span></span> <span data-ttu-id="1b700-137">Nemáte přihlásíte jako **kořenové**, takže nemusíte tuto zásadu použít, pokud dobře důvody.</span><span class="sxs-lookup"><span data-stu-id="1b700-137">You don't log on as **root**, so don't use this policy unless there's a really good reason.</span></span> <span data-ttu-id="1b700-138">Můžete vytvořit další zásady hello **konfigurace** kartě pro obor názvů hello hello portálu.</span><span class="sxs-lookup"><span data-stu-id="1b700-138">You can create additional policies in hello **Configure** tab for hello namespace in hello portal.</span></span> <span data-ttu-id="1b700-139">Je důležité toonote, který úrovně jediného stromu v Service Bus (obor názvů, fronty atd.) může mít pouze až tooit too12 zásady připojené.</span><span class="sxs-lookup"><span data-stu-id="1b700-139">It's important toonote that a single tree level in Service Bus (namespace, queue, etc.) can only have up too12 policies attached tooit.</span></span>

## <a name="configuration-for-shared-access-signature-authentication"></a><span data-ttu-id="1b700-140">Konfigurace pro ověřování sdíleného přístupového podpisu</span><span class="sxs-lookup"><span data-stu-id="1b700-140">Configuration for Shared Access Signature authentication</span></span>
<span data-ttu-id="1b700-141">Můžete nakonfigurovat hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) pravidlo na obory názvů Service Bus, fronty a témata.</span><span class="sxs-lookup"><span data-stu-id="1b700-141">You can configure hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) rule on Service Bus namespaces, queues, or topics.</span></span> <span data-ttu-id="1b700-142">Konfigurace [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) na Service Bus se aktuálně nepodporuje předplatné, ale můžete použít pravidla nakonfigurované na oboru názvů nebo téma toosubscriptions toosecure přístup.</span><span class="sxs-lookup"><span data-stu-id="1b700-142">Configuring a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) on a Service Bus subscription is currently not supported, but you can use rules configured on a namespace or topic toosecure access toosubscriptions.</span></span> <span data-ttu-id="1b700-143">Pracovní vzorku, který znázorňuje tento postup, najdete v části hello [pomocí sdíleného přístupového podpisu (SAS) ověřování pomocí předplatných Service Bus](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c) ukázka.</span><span class="sxs-lookup"><span data-stu-id="1b700-143">For a working sample that illustrates this procedure, see hello [Using Shared Access Signature (SAS) authentication with Service Bus Subscriptions](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c) sample.</span></span>

<span data-ttu-id="1b700-144">Nesmí být delší než 12 tato pravidla lze konfigurovat v oboru názvů Service Bus, fronta nebo téma.</span><span class="sxs-lookup"><span data-stu-id="1b700-144">A maximum of 12 such rules can be configured on a Service Bus namespace, queue, or topic.</span></span> <span data-ttu-id="1b700-145">Pravidla, které jsou nakonfigurované na oboru názvů Service Bus platit tooall entity v daném oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="1b700-145">Rules that are configured on a Service Bus namespace apply tooall entities in that namespace.</span></span>

![SAS](./media/service-bus-sas/service-bus-namespace.png)

<span data-ttu-id="1b700-147">Na tomto obrázku hello *manageRuleNS*, *sendRuleNS*, a *listenRuleNS* autorizační pravidla použít tooboth fronta F1 a téma T1, při *listenRuleQ*  a *sendRuleQ* použít pouze tooqueue Otázka č. 1 a *sendRuleT* platí pouze tootopic T1.</span><span class="sxs-lookup"><span data-stu-id="1b700-147">In this figure, hello *manageRuleNS*, *sendRuleNS*, and *listenRuleNS* authorization rules apply tooboth queue Q1 and topic T1, while *listenRuleQ* and *sendRuleQ* apply only tooqueue Q1 and *sendRuleT* applies only tootopic T1.</span></span>

<span data-ttu-id="1b700-148">Hello klíče parametry [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) jsou následující:</span><span class="sxs-lookup"><span data-stu-id="1b700-148">hello key parameters of a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) are as follows:</span></span>

| <span data-ttu-id="1b700-149">Parametr</span><span class="sxs-lookup"><span data-stu-id="1b700-149">Parameter</span></span> | <span data-ttu-id="1b700-150">Popis</span><span class="sxs-lookup"><span data-stu-id="1b700-150">Description</span></span> |
| --- | --- |
| <span data-ttu-id="1b700-151">*KeyName*</span><span class="sxs-lookup"><span data-stu-id="1b700-151">*KeyName*</span></span> |<span data-ttu-id="1b700-152">Řetězec, který popisuje hello autorizační pravidlo.</span><span class="sxs-lookup"><span data-stu-id="1b700-152">A string that describes hello authorization rule.</span></span> |
| <span data-ttu-id="1b700-153">*PrimaryKey*</span><span class="sxs-lookup"><span data-stu-id="1b700-153">*PrimaryKey*</span></span> |<span data-ttu-id="1b700-154">Kódováním base64 256 bitů primární klíč pro přihlašování a ověřování tokenu SAS hello.</span><span class="sxs-lookup"><span data-stu-id="1b700-154">A base64-encoded 256-bit primary key for signing and validating hello SAS token.</span></span> |
| <span data-ttu-id="1b700-155">*Sekundární klíč*</span><span class="sxs-lookup"><span data-stu-id="1b700-155">*SecondaryKey*</span></span> |<span data-ttu-id="1b700-156">Kódováním base64 256 bitů sekundární klíč pro přihlašování a ověřování tokenu SAS hello.</span><span class="sxs-lookup"><span data-stu-id="1b700-156">A base64-encoded 256-bit secondary key for signing and validating hello SAS token.</span></span> |
| <span data-ttu-id="1b700-157">*AccessRights*</span><span class="sxs-lookup"><span data-stu-id="1b700-157">*AccessRights*</span></span> |<span data-ttu-id="1b700-158">Seznam přístupová práva udělují hello autorizační pravidlo.</span><span class="sxs-lookup"><span data-stu-id="1b700-158">A list of access rights granted by hello authorization rule.</span></span> <span data-ttu-id="1b700-159">Tato práva, může být jakékoli kolekce naslouchání, odeslání a Správa práv.</span><span class="sxs-lookup"><span data-stu-id="1b700-159">These rights can be any collection of Listen, Send, and Manage rights.</span></span> |

<span data-ttu-id="1b700-160">Při zřízení oboru názvů Service Bus [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), s [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) nastavit příliš**RootManageSharedAccessKey**, se vytvoří ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="1b700-160">When a Service Bus namespace is provisioned, a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), with [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) set too**RootManageSharedAccessKey**, is created by default.</span></span>

## <a name="generate-a-shared-access-signature-token"></a><span data-ttu-id="1b700-161">Vygenerování sdíleného přístupového podpisu (token)</span><span class="sxs-lookup"><span data-stu-id="1b700-161">Generate a Shared Access Signature (token)</span></span>

<span data-ttu-id="1b700-162">samotnými zásadami Hello není hello přístupový token pro Service Bus.</span><span class="sxs-lookup"><span data-stu-id="1b700-162">hello policy itself is not hello access token for Service Bus.</span></span> <span data-ttu-id="1b700-163">Je hello objekt, ze které hello se generuje přístupový token - pomocí buď hello primární nebo sekundární klíč.</span><span class="sxs-lookup"><span data-stu-id="1b700-163">It is hello object from which hello access token is generated - using either hello primary or secondary key.</span></span> <span data-ttu-id="1b700-164">Libovolného klienta, který má přístup toohello podpisový klíč zadaný v autorizační pravidlo hello sdíleného přístupu můžete vygenerovat hello SAS token.</span><span class="sxs-lookup"><span data-stu-id="1b700-164">Any client that has access toohello signing keys specified in hello shared access authorization rule can generate hello SAS token.</span></span> <span data-ttu-id="1b700-165">Hello token je generován tím, že pečlivě vytvoří řetězec ve formátu hello:</span><span class="sxs-lookup"><span data-stu-id="1b700-165">hello token is generated by carefully crafting a string in hello following format:</span></span>

```
SharedAccessSignature sig=<signature-string>&se=<expiry>&skn=<keyName>&sr=<URL-encoded-resourceURI>
```

<span data-ttu-id="1b700-166">Kde `signature-string` je hodnota hash SHA-256 hello hello oboru hello tokenu (**oboru** jak je popsáno v předchozí části hello) s Line FEED připojí a čas vypršení platnosti (v sekundách od hello epoch: `00:00:00 UTC` na 1. ledna pod hodnotou 1970).</span><span class="sxs-lookup"><span data-stu-id="1b700-166">Where `signature-string` is hello SHA-256 hash of hello scope of hello token (**scope** as described in hello previous section) with a CRLF appended and an expiry time (in seconds since hello epoch: `00:00:00 UTC` on 1 January 1970).</span></span> 

> [!NOTE]
> <span data-ttu-id="1b700-167">tooavoid čas krátké vypršení platnosti tokenu, je doporučeno zakódovat hodnota času vypršení platnosti hello jako celé číslo bez znaménka alespoň 32-bit, nebo pokud možno celé číslo dlouho (64 bitů).</span><span class="sxs-lookup"><span data-stu-id="1b700-167">tooavoid a short token expiry time, it is recommended that you encode hello expiry time value as at least a 32-bit unsigned integer, or preferably a long (64-bit) integer.</span></span>  
> 
> 

<span data-ttu-id="1b700-168">Hodnota hash Hello vypadá podobně jako toohello následující pseudo kód a vrátí 32 bajtů.</span><span class="sxs-lookup"><span data-stu-id="1b700-168">hello hash looks similar toohello following pseudo code and returns 32 bytes.</span></span>

```
SHA-256('https://<yournamespace>.servicebus.windows.net/'+'\n'+ 1438205742)
```

<span data-ttu-id="1b700-169">Hello-rozdělí hodnoty jsou v hello **SharedAccessSignature** řetězec tak, aby hello příjemce můžete vypočítat hodnotu hash hello s hello stejnými parametry, toobe se, že vrací hello stejného výsledku.</span><span class="sxs-lookup"><span data-stu-id="1b700-169">hello non-hashed values are in hello **SharedAccessSignature** string so that hello recipient can compute hello hash with hello same parameters, toobe sure that it returns hello same result.</span></span> <span data-ttu-id="1b700-170">Hello URI Určuje obor hello a název klíče hello identifikuje hello zásad toobe používá toocompute hello hash.</span><span class="sxs-lookup"><span data-stu-id="1b700-170">hello URI specifies hello scope, and hello key name identifies hello policy toobe used toocompute hello hash.</span></span> <span data-ttu-id="1b700-171">To je důležité z hlediska zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="1b700-171">This is important from a security standpoint.</span></span> <span data-ttu-id="1b700-172">Pokud hello podpis neodpovídá vypočítá které hello příjemce (Service Bus), byl odepřen přístup.</span><span class="sxs-lookup"><span data-stu-id="1b700-172">If hello signature doesn't match that which hello recipient (Service Bus) calculates, then access is denied.</span></span> <span data-ttu-id="1b700-173">V tomto okamžiku může být tohoto odesílatele hello měl přístupový klíč toohello a musí být udělena práva hello určená v zásadách hello.</span><span class="sxs-lookup"><span data-stu-id="1b700-173">At this point you can be sure that hello sender had access toohello key and should be granted hello rights specified in hello policy.</span></span>

<span data-ttu-id="1b700-174">Všimněte si, že mají používat hello kódovaný identifikátor URI pro tuto operaci.</span><span class="sxs-lookup"><span data-stu-id="1b700-174">Note that you should use hello encoded resource URI for this operation.</span></span> <span data-ttu-id="1b700-175">identifikátor URI prostředku Hello je hello je požadována úplný identifikátor URI hello přístup toowhich prostředků služby Service Bus.</span><span class="sxs-lookup"><span data-stu-id="1b700-175">hello resource URI is hello full URI of hello Service Bus resource toowhich access is claimed.</span></span> <span data-ttu-id="1b700-176">Například `http://<namespace>.servicebus.windows.net/<entityPath>` nebo `sb://<namespace>.servicebus.windows.net/<entityPath>`, tj `http://contoso.servicebus.windows.net/contosoTopics/T1/Subscriptions/S3`.</span><span class="sxs-lookup"><span data-stu-id="1b700-176">For example, `http://<namespace>.servicebus.windows.net/<entityPath>` or `sb://<namespace>.servicebus.windows.net/<entityPath>`; that is, `http://contoso.servicebus.windows.net/contosoTopics/T1/Subscriptions/S3`.</span></span>

<span data-ttu-id="1b700-177">Hello sdíleného přístupu autorizační pravidlo se používá k podepisování musí být nakonfigurované na entitu hello zadanou tento identifikátor URI, nebo pomocí jedné z jejích hierarchické nadřazených tříd.</span><span class="sxs-lookup"><span data-stu-id="1b700-177">hello shared access authorization rule used for signing must be configured on hello entity specified by this URI, or by one of its hierarchical parents.</span></span> <span data-ttu-id="1b700-178">Například `http://contoso.servicebus.windows.net/contosoTopics/T1` nebo `http://contoso.servicebus.windows.net` v předchozím příkladu hello.</span><span class="sxs-lookup"><span data-stu-id="1b700-178">For example, `http://contoso.servicebus.windows.net/contosoTopics/T1` or `http://contoso.servicebus.windows.net` in hello previous example.</span></span>

<span data-ttu-id="1b700-179">SAS token je platná pro všechny prostředky pod hello `<resourceURI>` použít v hello `signature-string`.</span><span class="sxs-lookup"><span data-stu-id="1b700-179">A SAS token is valid for all resources under hello `<resourceURI>` used in hello `signature-string`.</span></span>

<span data-ttu-id="1b700-180">Hello [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) v hello SAS token odkazuje toohello **keyName** hello sdíleného přístupu autorizační pravidla používají toogenerate hello token.</span><span class="sxs-lookup"><span data-stu-id="1b700-180">hello [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) in hello SAS token refers toohello **keyName** of hello shared access authorization rule used toogenerate hello token.</span></span>

<span data-ttu-id="1b700-181">Hello *URL kódovaný resourceURI* musí být hello stejný jako identifikátor URI použitý v hello řetězec přihlášení během hello výpočtu podpisu hello hello.</span><span class="sxs-lookup"><span data-stu-id="1b700-181">hello *URL-encoded-resourceURI* must be hello same as hello URI used in hello string-to-sign during hello computation of hello signature.</span></span> <span data-ttu-id="1b700-182">Měla by být [kódováním procent](https://msdn.microsoft.com/library/4fkewx0t.aspx).</span><span class="sxs-lookup"><span data-stu-id="1b700-182">It should be [percent-encoded](https://msdn.microsoft.com/library/4fkewx0t.aspx).</span></span>

<span data-ttu-id="1b700-183">Doporučujeme pravidelně obnovovat hello klíče v hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) objektu.</span><span class="sxs-lookup"><span data-stu-id="1b700-183">It is recommended that you periodically regenerate hello keys used in hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object.</span></span> <span data-ttu-id="1b700-184">Aplikace by měly používat obecně hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) toogenerate SAS token.</span><span class="sxs-lookup"><span data-stu-id="1b700-184">Applications should generally use hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) toogenerate a SAS token.</span></span> <span data-ttu-id="1b700-185">Při opakovaném generování klíče hello, měli byste nahradit hello [sekundární klíč](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) s hello původního primárního klíče a vygenerovat nový klíč jako hello nový primární klíč.</span><span class="sxs-lookup"><span data-stu-id="1b700-185">When regenerating hello keys, you should replace hello [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) with hello old primary key, and generate a new key as hello new primary key.</span></span> <span data-ttu-id="1b700-186">To vám umožní toocontinue pomocí tokeny k ověřování, které byly vydány s hello starý primární klíč a ještě, nevypršela jejich platnost.</span><span class="sxs-lookup"><span data-stu-id="1b700-186">This enables you toocontinue using tokens for authorization that were issued with hello old primary key, and that have not yet expired.</span></span>

<span data-ttu-id="1b700-187">Pokud dojde k narušení klíč a budete mít toorevoke hello klíčů, můžete obnovit obou hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) a hello [sekundární klíč](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) z [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), nahraďte je s novými klíči.</span><span class="sxs-lookup"><span data-stu-id="1b700-187">If a key is compromised and you have toorevoke hello keys, you can regenerate both hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) and hello [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) of a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), replacing them with new keys.</span></span> <span data-ttu-id="1b700-188">Tento postup zruší platnost všech tokenů podepsané hello staré klíče.</span><span class="sxs-lookup"><span data-stu-id="1b700-188">This procedure invalidates all tokens signed with hello old keys.</span></span>

## <a name="how-toouse-shared-access-signature-authentication-with-service-bus"></a><span data-ttu-id="1b700-189">Jak toouse sdíleného přístupového podpisu ověřování službou Service Bus</span><span class="sxs-lookup"><span data-stu-id="1b700-189">How toouse Shared Access Signature authentication with Service Bus</span></span>

<span data-ttu-id="1b700-190">Hello následující scénáře patří konfigurace autorizačních pravidel, generování tokenů SAS a autorizací klienta.</span><span class="sxs-lookup"><span data-stu-id="1b700-190">hello following scenarios include configuration of authorization rules, generation of SAS tokens, and client authorization.</span></span>

<span data-ttu-id="1b700-191">Pro úplnou pracovní ukázkové aplikace Service Bus, která znázorňuje hello konfiguraci a použití SAS autorizace, najdete v části [sdíleného přístupového podpisu ověřování službou Service Bus](http://code.msdn.microsoft.com/Shared-Access-Signature-0a88adf8).</span><span class="sxs-lookup"><span data-stu-id="1b700-191">For a full working sample of a Service Bus application that illustrates hello configuration and uses SAS authorization, see [Shared Access Signature authentication with Service Bus](http://code.msdn.microsoft.com/Shared-Access-Signature-0a88adf8).</span></span> <span data-ttu-id="1b700-192">Související příklad, který znázorňuje použití hello SAS autorizačních pravidel, která je nakonfigurovaná na obory názvů nebo témata sběrnice odběrů toosecure je k dispozici zde: [pomocí sdíleného přístupového podpisu (SAS) ověřování pomocí předplatných Service Bus ](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c).</span><span class="sxs-lookup"><span data-stu-id="1b700-192">A related sample that illustrates hello use of SAS authorization rules configured on namespaces or topics toosecure Service Bus subscriptions is available here: [Using Shared Access Signature (SAS) authentication with Service Bus Subscriptions](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c).</span></span>

## <a name="access-shared-access-authorization-rules-on-a-namespace"></a><span data-ttu-id="1b700-193">Pravidla přístupu k autorizaci sdíleného přístupu u oboru názvů</span><span class="sxs-lookup"><span data-stu-id="1b700-193">Access Shared Access Authorization rules on a namespace</span></span>

<span data-ttu-id="1b700-194">Operace na kořen oboru názvů Service Bus hello vyžadují ověřování pomocí certifikátu.</span><span class="sxs-lookup"><span data-stu-id="1b700-194">Operations on hello Service Bus namespace root require certificate authentication.</span></span> <span data-ttu-id="1b700-195">Je potřeba načíst certifikát pro správu pro vaše předplatné Azure.</span><span class="sxs-lookup"><span data-stu-id="1b700-195">You must upload a management certificate for your Azure subscription.</span></span> <span data-ttu-id="1b700-196">tooupload certifikát pro správu, postupujte podle kroků hello [sem](../cloud-services/cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate), pomocí hello [portál Azure][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="1b700-196">tooupload a management certificate, follow hello steps [here](../cloud-services/cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate), using hello [Azure portal][Azure portal].</span></span> <span data-ttu-id="1b700-197">Další informace o certifikátech správy Azure najdete v tématu hello [přehled Azure certifikátů](../cloud-services/cloud-services-certs-create.md#what-are-management-certificates).</span><span class="sxs-lookup"><span data-stu-id="1b700-197">For more information about Azure management certificates, see hello [Azure certificates overview](../cloud-services/cloud-services-certs-create.md#what-are-management-certificates).</span></span>

<span data-ttu-id="1b700-198">Hello koncový bod pro přístup ke sdíleným přístupem autorizační pravidla na obor názvů sběrnice je následující:</span><span class="sxs-lookup"><span data-stu-id="1b700-198">hello endpoint for accessing shared access authorization rules on a Service Bus namespace is as follows:</span></span>

```http
https://management.core.windows.net/{subscriptionId}/services/ServiceBus/namespaces/{namespace}/AuthorizationRules/
```

<span data-ttu-id="1b700-199">toocreate [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) objekt v oboru názvů Service Bus, provést operaci POST na tento koncový bod s informace o pravidle hello serializovanou jako XML nebo JSON.</span><span class="sxs-lookup"><span data-stu-id="1b700-199">toocreate a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object on a Service Bus namespace, execute a POST operation on this endpoint with hello rule information serialized as JSON or XML.</span></span> <span data-ttu-id="1b700-200">Například:</span><span class="sxs-lookup"><span data-stu-id="1b700-200">For example:</span></span>

```csharp
// Base address for accessing authorization rules on a namespace
string baseAddress = @"https://management.core.windows.net/<subscriptionId>/services/ServiceBus/namespaces/<namespace>/AuthorizationRules/";

// Configure authorization rule with base64-encoded 256-bit key and Send rights
var sendRule = new SharedAccessAuthorizationRule("contosoSendAll",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Send });

// Operations on hello Service Bus namespace root require certificate authentication.
WebRequestHandler handler = new WebRequestHandler
{
    ClientCertificateOptions = ClientCertificateOption.Manual
};
// Access hello management certificate by subject name
handler.ClientCertificates.Add(GetCertificate(<certificateSN>));

HttpClient httpClient = new HttpClient(handler)
{
    BaseAddress = new Uri(baseAddress)
};
httpClient.DefaultRequestHeaders.Accept.Add(
    new MediaTypeWithQualityHeaderValue("application/json"));
httpClient.DefaultRequestHeaders.Add("x-ms-version", "2015-01-01");

// Execute a POST operation on hello baseAddress above toocreate an auth rule
var postResult = httpClient.PostAsJsonAsync("", sendRule).Result;
```

<span data-ttu-id="1b700-201">Podobně použijte operaci GET na hello koncový bod tooread hello autorizační pravidla nakonfigurované na oboru názvů hello.</span><span class="sxs-lookup"><span data-stu-id="1b700-201">Similarly, use a GET operation on hello endpoint tooread hello authorization rules configured on hello namespace.</span></span>

<span data-ttu-id="1b700-202">tooupdate nebo odstranění konkrétní ověřovací pravidlo, použijte následující koncový bod hello:</span><span class="sxs-lookup"><span data-stu-id="1b700-202">tooupdate or delete a specific authorization rule, use hello following endpoint:</span></span>

```http
https://management.core.windows.net/{subscriptionId}/services/ServiceBus/namespaces/{namespace}/AuthorizationRules/{KeyName}
```

## <a name="access-shared-access-authorization-rules-on-an-entity"></a><span data-ttu-id="1b700-203">Přístup sdíleného přístupu autorizační pravidla s entitou</span><span class="sxs-lookup"><span data-stu-id="1b700-203">Access Shared Access Authorization rules on an entity</span></span>

<span data-ttu-id="1b700-204">Dostanete [Microsoft.ServiceBus.Messaging.SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) objekt nakonfigurované na fronty sběrnice nebo téma prostřednictvím hello [AuthorizationRules](/dotnet/api/microsoft.servicebus.messaging.authorizationrules) kolekce v hello odpovídající [QueueDescription](/dotnet/api/microsoft.servicebus.messaging.queuedescription) nebo [TopicDescription](/dotnet/api/microsoft.servicebus.messaging.topicdescription).</span><span class="sxs-lookup"><span data-stu-id="1b700-204">You can access a [Microsoft.ServiceBus.Messaging.SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object configured on a Service Bus queue or topic through hello [AuthorizationRules](/dotnet/api/microsoft.servicebus.messaging.authorizationrules) collection in hello corresponding [QueueDescription](/dotnet/api/microsoft.servicebus.messaging.queuedescription) or [TopicDescription](/dotnet/api/microsoft.servicebus.messaging.topicdescription).</span></span>

<span data-ttu-id="1b700-205">Hello následující kód ukazuje, jak tooadd autorizační pravidla pro frontu.</span><span class="sxs-lookup"><span data-stu-id="1b700-205">hello following code shows how tooadd authorization rules for a queue.</span></span>

```csharp
// Create an instance of NamespaceManager for hello operation
NamespaceManager nsm = NamespaceManager.CreateFromConnectionString(
    <connectionString> );
QueueDescription qd = new QueueDescription( <qPath> );

// Create a rule with send rights with keyName as "contosoQSendKey"
// and add it toohello queue description.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoSendKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Send }));

// Create a rule with listen rights with keyName as "contosoQListenKey"
// and add it toohello queue description.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoQListenKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Listen }));

// Create a rule with manage rights with keyName as "contosoQManageKey"
// and add it toohello queue description.
// A rule with manage rights must also have send and receive rights.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoQManageKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] {AccessRights.Manage, AccessRights.Listen, AccessRights.Send }));

// Create hello queue.
nsm.CreateQueue(qd);
```

## <a name="use-shared-access-signature-authorization"></a><span data-ttu-id="1b700-206">Použití autorizačních sdíleného přístupového podpisu</span><span class="sxs-lookup"><span data-stu-id="1b700-206">Use Shared Access Signature authorization</span></span>

<span data-ttu-id="1b700-207">Aplikace pomocí knihovny Service Bus .NET hello hello .NET SDK služby Azure můžete použít autorizace SAS prostřednictvím hello [SharedAccessSignatureTokenProvider](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) třídy.</span><span class="sxs-lookup"><span data-stu-id="1b700-207">Applications using hello Azure .NET SDK with hello Service Bus .NET libraries can use SAS authorization through hello [SharedAccessSignatureTokenProvider](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) class.</span></span> <span data-ttu-id="1b700-208">Hello následující kód ukazuje použití hello hello zprostředkovatele tokenu toosend zprávy tooa fronty Service Bus.</span><span class="sxs-lookup"><span data-stu-id="1b700-208">hello following code illustrates hello use of hello token provider toosend messages tooa Service Bus queue.</span></span>

```csharp
Uri runtimeUri = ServiceBusEnvironment.CreateServiceUri("sb",
    <yourServiceNamespace>, string.Empty);
MessagingFactory mf = MessagingFactory.Create(runtimeUri,
    TokenProvider.CreateSharedAccessSignatureTokenProvider(keyName, key));
QueueClient sendClient = mf.CreateQueueClient(qPath);

//Sending hello message tooqueue.
BrokeredMessage helloMessage = new BrokeredMessage("Hello, Service Bus!");
helloMessage.MessageId = "SAS-Sample-Message";
sendClient.Send(helloMessage);
```

<span data-ttu-id="1b700-209">Aplikace můžete také použít SAS pro ověřování pomocí SAS připojovací řetězec v metodách, které přijímají připojovací řetězce.</span><span class="sxs-lookup"><span data-stu-id="1b700-209">Applications can also use SAS for authentication by using a SAS connection string in methods that accept connection strings.</span></span>

<span data-ttu-id="1b700-210">Všimněte si, že autorizace SAS toouse s předávací služby Service Bus, můžete použít klíče SAS, které jsou nakonfigurované na oboru názvů Service Bus hello.</span><span class="sxs-lookup"><span data-stu-id="1b700-210">Note that toouse SAS authorization with Service Bus relays, you can use SAS keys configured on hello Service Bus namespace.</span></span> <span data-ttu-id="1b700-211">Pokud vytvoříte relé explicitně na obor názvů hello ([NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) s [RelayDescription](/dotnet/api/microsoft.servicebus.messaging.relaydescription)) objektu, budete moct nastavit pravidla SAS hello jen pro tento předávání.</span><span class="sxs-lookup"><span data-stu-id="1b700-211">If you explicitly create a relay on hello namespace ([NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) with a [RelayDescription](/dotnet/api/microsoft.servicebus.messaging.relaydescription)) object, you can set hello SAS rules just for that relay.</span></span> <span data-ttu-id="1b700-212">toouse autorizace SAS s odběry služby Service Bus, můžete nakonfigurovat na obor názvů sběrnice nebo téma klíče SAS.</span><span class="sxs-lookup"><span data-stu-id="1b700-212">toouse SAS authorization with Service Bus subscriptions, you can use SAS keys configured on a Service Bus namespace or on a topic.</span></span>

## <a name="use-hello-shared-access-signature-at-http-level"></a><span data-ttu-id="1b700-213">Použití hello sdílený přístupový podpis (na úrovni protokolu HTTP)</span><span class="sxs-lookup"><span data-stu-id="1b700-213">Use hello Shared Access Signature (at HTTP level)</span></span>

<span data-ttu-id="1b700-214">Teď, když víte, jak toocreate podpisy sdíleného přístupu pro všechny entity v Service Bus, jste připraveni tooperform HTTP POST:</span><span class="sxs-lookup"><span data-stu-id="1b700-214">Now that you know how toocreate Shared Access Signatures for any entities in Service Bus, you are ready tooperform an HTTP POST:</span></span>

```http
POST https://<yournamespace>.servicebus.windows.net/<yourentity>/messages
Content-Type: application/json
Authorization: SharedAccessSignature sr=https%3A%2F%2F<yournamespace>.servicebus.windows.net%2F<yourentity>&sig=<yoursignature from code above>&se=1438205742&skn=KeyName
ContentType: application/atom+xml;type=entry;charset=utf-8
``` 

<span data-ttu-id="1b700-215">Pamatujte si, že se tento postup funguje pro vše.</span><span class="sxs-lookup"><span data-stu-id="1b700-215">Remember, this works for everything.</span></span> <span data-ttu-id="1b700-216">Můžete vytvořit SAS pro fronty, tématu nebo předplatného.</span><span class="sxs-lookup"><span data-stu-id="1b700-216">You can create SAS for a queue, topic, or subscription.</span></span> 

<span data-ttu-id="1b700-217">Pokud dáváte odesílatele nebo klienta SAS token, nemají hello klíč přímo a jejich nelze vrátit hello hash tooobtain ho.</span><span class="sxs-lookup"><span data-stu-id="1b700-217">If you give a sender or client a SAS token, they don't have hello key directly, and they cannot reverse hello hash tooobtain it.</span></span> <span data-ttu-id="1b700-218">Jako takový budete mít kontrolu nad co přístupem a jak dlouho.</span><span class="sxs-lookup"><span data-stu-id="1b700-218">As such, you have control over what they can access, and for how long.</span></span> <span data-ttu-id="1b700-219">Tooremember důležité je, pokud změníte hello primární klíč v zásadách hello, bude zrušena žádné sdílené přístupové podpisy vytvořit z něj.</span><span class="sxs-lookup"><span data-stu-id="1b700-219">An important thing tooremember is that if you change hello primary key in hello policy, any Shared Access Signatures created from it will be invalidated.</span></span>

## <a name="use-hello-shared-access-signature-at-amqp-level"></a><span data-ttu-id="1b700-220">Použití hello sdílený přístupový podpis (na úrovni AMQP)</span><span class="sxs-lookup"><span data-stu-id="1b700-220">Use hello Shared Access Signature (at AMQP level)</span></span>

<span data-ttu-id="1b700-221">V předchozí části hello jste viděli, jak toouse hello token SAS s požadavek HTTP POST pro odesílání dat toohello Service Bus.</span><span class="sxs-lookup"><span data-stu-id="1b700-221">In hello previous section, you saw how toouse hello SAS token with an HTTP POST request for sending data toohello Service Bus.</span></span> <span data-ttu-id="1b700-222">Jak už víte, můžete přístup k Service Bus pomocí hello Advanced zpráv služby Řízení front protokol (AMQP), je hello preferované protokol toouse z důvodů výkonu v řadě scénářů.</span><span class="sxs-lookup"><span data-stu-id="1b700-222">As you know, you can access Service Bus using hello Advanced Message Queuing Protocol (AMQP) that is hello preferred protocol toouse for performance reasons, in many scenarios.</span></span> <span data-ttu-id="1b700-223">Hello využití tokenu SAS s AMQP je popsané v dokumentu hello [AMQP Claim-Based zabezpečení verze 1.0](https://www.oasis-open.org/committees/download.php/50506/amqp-cbs-v1%200-wd02%202013-08-12.doc) který je v pracovní koncept od 2013 ale dobře nepodporuje Azure ještě dnes.</span><span class="sxs-lookup"><span data-stu-id="1b700-223">hello SAS token usage with AMQP is described in hello document [AMQP Claim-Based Security Version 1.0](https://www.oasis-open.org/committees/download.php/50506/amqp-cbs-v1%200-wd02%202013-08-12.doc) that is in working draft since 2013 but well-supported by Azure today.</span></span>

<span data-ttu-id="1b700-224">Před zahájením toosend data tooService sběrnice, musíte odeslat hello vydavatel tokenu SAS hello uvnitř do AMQP zpráva tooa dobře definovaný AMQP uzlu s názvem **$cbs** (můžete ho zobrazovat jako "speciální" fronty používané hello služby tooacquire a ověřit, zda všechny Hello tokeny SAS).</span><span class="sxs-lookup"><span data-stu-id="1b700-224">Before starting toosend data tooService Bus, hello publisher must send hello SAS token inside an AMQP message tooa well-defined AMQP node named **$cbs** (you can see it as a "special" queue used by hello service tooacquire and validate all hello SAS tokens).</span></span> <span data-ttu-id="1b700-225">Vydavatel Hello musíte zadat hello **ReplyTo** pole uvnitř uvítací zprávu AMQP; Toto je uzel hello, ve které hello služby reaguje toohello vydavatele s hello výsledek ověření tokenu hello (jednoduché požadavek nebo odpověď vzor mezi Vydavatel a služby).</span><span class="sxs-lookup"><span data-stu-id="1b700-225">hello publisher must specify hello **ReplyTo** field inside hello AMQP message; this is hello node in which hello service replies toohello publisher with hello result of hello token validation (a simple request/reply pattern between publisher and service).</span></span> <span data-ttu-id="1b700-226">Tento uzel odpověď se vytvoří "na hello chodu," o "dynamické vytvoření vzdáleném uzlu" a Mluvte podle specifikace hello protokolu AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="1b700-226">This reply node is created "on hello fly," speaking about "dynamic creation of remote node" as described by hello AMQP 1.0 specification.</span></span> <span data-ttu-id="1b700-227">Po zkontrolování, že tento hello SAS token je platný, můžete hello vydavatele vpřed a toosend data toohello službu spustit.</span><span class="sxs-lookup"><span data-stu-id="1b700-227">After checking that hello SAS token is valid, hello publisher can go forward and start toosend data toohello service.</span></span>

<span data-ttu-id="1b700-228">Hello následující kroky ukazují, jak toosend hello tokenu SAS s použitím hello protokolu AMQP [AMQP.Net Lite](https://github.com/Azure/amqpnetlite) knihovny.</span><span class="sxs-lookup"><span data-stu-id="1b700-228">hello following steps show how toosend hello SAS token with AMQP protocol using hello [AMQP.Net Lite](https://github.com/Azure/amqpnetlite) library.</span></span> <span data-ttu-id="1b700-229">To je užitečné, pokud nemůžete použít hello oficiální Service Bus SDK (například na WinRT, rozhraní .net Compact Framework, rozhraní .net Micro Framework a Mono) vývoj v jazyce C\#.</span><span class="sxs-lookup"><span data-stu-id="1b700-229">This is useful if you can't use hello official Service Bus SDK (for example on WinRT, .Net Compact Framework, .Net Micro Framework and Mono) developing in C\#.</span></span> <span data-ttu-id="1b700-230">Tato knihovna je samozřejmě užitečné toohelp pochopit, jak založené na deklaracích identity zabezpečení funguje na úrovni hello AMQP, jako jste viděli, jak to funguje na úrovni hello HTTP (s HTTP POST požadavku a hello SAS token odeslaný uvnitř hello "" hlavičku ověřování).</span><span class="sxs-lookup"><span data-stu-id="1b700-230">Of course, this library is useful toohelp understand how claims-based security works at hello AMQP level, as you saw how it works at hello HTTP level (with an HTTP POST request and hello SAS token sent inside hello "Authorization" header).</span></span> <span data-ttu-id="1b700-231">Pokud nepotřebujete takové hluboké znalosti o AMQP, můžete použít hello oficiální Service Bus SDK s rozhraní .net Framework aplikace, které bude to pro vás.</span><span class="sxs-lookup"><span data-stu-id="1b700-231">If you don't need such deep knowledge about AMQP, you can use hello official Service Bus SDK with .Net Framework applications, which will do it for you.</span></span>

### <a name="c35"></a><span data-ttu-id="1b700-232">C&#35;</span><span class="sxs-lookup"><span data-stu-id="1b700-232">C&#35;</span></span>

```csharp
/// <summary>
/// Send claim-based security (CBS) token
/// </summary>
/// <param name="shareAccessSignature">Shared access signature (token) toosend</param>
private bool PutCbsToken(Connection connection, string sasToken)
{
    bool result = true;
    Session session = new Session(connection);

    string cbsClientAddress = "cbs-client-reply-to";
    var cbsSender = new SenderLink(session, "cbs-sender", "$cbs");
    var cbsReceiver = new ReceiverLink(session, cbsClientAddress, "$cbs");

    // construct hello put-token message
    var request = new Message(sasToken);
    request.Properties = new Properties();
    request.Properties.MessageId = Guid.NewGuid().ToString();
    request.Properties.ReplyTo = cbsClientAddress;
    request.ApplicationProperties = new ApplicationProperties();
    request.ApplicationProperties["operation"] = "put-token";
    request.ApplicationProperties["type"] = "servicebus.windows.net:sastoken";
    request.ApplicationProperties["name"] = Fx.Format("amqp://{0}/{1}", sbNamespace, entity);
    cbsSender.Send(request);

    // receive hello response
    var response = cbsReceiver.Receive();
    if (response == null || response.Properties == null || response.ApplicationProperties == null)
    {
        result = false;
    }
    else
    {
        int statusCode = (int)response.ApplicationProperties["status-code"];
        if (statusCode != (int)HttpStatusCode.Accepted && statusCode != (int)HttpStatusCode.OK)
        {
            result = false;
        }
    }

    // hello sender/receiver may be kept open for refreshing tokens
    cbsSender.Close();
    cbsReceiver.Close();
    session.Close();

    return result;
}
```

<span data-ttu-id="1b700-233">Hello `PutCbsToken()` metoda přijímá hello *připojení* (instance třídy připojení AMQP jako poskytované hello [AMQP .NET Lite knihovny](https://github.com/Azure/amqpnetlite)) představující služby toohello připojení TCP hello a hello *sasToken* parametr, který je toosend tokenu SAS hello.</span><span class="sxs-lookup"><span data-stu-id="1b700-233">hello `PutCbsToken()` method receives hello *connection* (AMQP connection class instance as provided by hello [AMQP .NET Lite library](https://github.com/Azure/amqpnetlite)) that represents hello TCP connection toohello service and hello *sasToken* parameter that is hello SAS token toosend.</span></span> 

> [!NOTE]
> <span data-ttu-id="1b700-234">Je důležité, aby hello připojení je vytvořena s **SASL ověřovací mechanismus nastavit tooEXTERNAL** (a ne hello prostý výchozí uživatelské jméno a heslo použít, pokud nepotřebujete toosend hello SAS token).</span><span class="sxs-lookup"><span data-stu-id="1b700-234">It's important that hello connection is created with **SASL authentication mechanism set tooEXTERNAL** (and not hello default PLAIN with username and password used when you don't need toosend hello SAS token).</span></span>
> 
> 

<span data-ttu-id="1b700-235">V dalším kroku hello vydavatele vytvoří dva odkazy AMQP pro hello SAS token odesílání a příjmu odpovědi hello (výsledek ověření tokenu hello) ze služby hello.</span><span class="sxs-lookup"><span data-stu-id="1b700-235">Next, hello publisher creates two AMQP links for sending hello SAS token and receiving hello reply (hello token validation result) from hello service.</span></span>

<span data-ttu-id="1b700-236">Hello AMQP zpráva obsahuje sadu vlastností a další informace než jednoduché zprávy.</span><span class="sxs-lookup"><span data-stu-id="1b700-236">hello AMQP message contains a set of properties, and more information than a simple message.</span></span> <span data-ttu-id="1b700-237">Hello SAS token je hello těla zprávy hello (pomocí jeho konstruktoru).</span><span class="sxs-lookup"><span data-stu-id="1b700-237">hello SAS token is hello body of hello message (using its constructor).</span></span> <span data-ttu-id="1b700-238">Hello **"ReplyTo"** vlastnost je nastavena na název uzlu toohello pro příjem výsledek ověření hello na odkaz hello příjemce (pokud, můžete změnit její název chcete a bude nutné vytvořit dynamicky službou hello).</span><span class="sxs-lookup"><span data-stu-id="1b700-238">hello **"ReplyTo"** property is set toohello node name for receiving hello validation result on hello receiver link (you can change its name if you want, and it will be created dynamically by hello service).</span></span> <span data-ttu-id="1b700-239">Hello poslední tři aplikace nebo vlastní vlastnosti jsou používány hello služby tooindicate jaké operace má tooexecute.</span><span class="sxs-lookup"><span data-stu-id="1b700-239">hello last three application/custom properties are used by hello service tooindicate what kind of operation it has tooexecute.</span></span> <span data-ttu-id="1b700-240">Jak je popsáno ve hello CBS návrhu specifikace, musí být hello **název operace** hello ("put-token"), **typ tokenu** (v tomto případě "servicebus.windows.net:sastoken") a hello **" název"cílová skupina hello** toowhich hello token platí (hello celý entity).</span><span class="sxs-lookup"><span data-stu-id="1b700-240">As described by hello CBS draft specification, they must be hello **operation name** ("put-token"), hello **type of token** (in this case, a "servicebus.windows.net:sastoken"), and hello **"name" of hello audience** toowhich hello token applies (hello entire entity).</span></span>

<span data-ttu-id="1b700-241">Po odeslání tokenu SAS hello na odkaz hello odesílatele, musí hello vydavatele čtení hello odpovědět na odkaz hello příjemce.</span><span class="sxs-lookup"><span data-stu-id="1b700-241">After sending hello SAS token on hello sender link, hello publisher must read hello reply on hello receiver link.</span></span> <span data-ttu-id="1b700-242">odpověď Hello je jednoduchý AMQP zprávu s vlastností aplikace s názvem **"kód stavu"** obsahující hello stejné hodnoty jako stavový kód HTTP.</span><span class="sxs-lookup"><span data-stu-id="1b700-242">hello reply is a simple AMQP message with an application property named **"status-code"** that can contain hello same values as an HTTP status code.</span></span>

## <a name="rights-required-for-service-bus-operations"></a><span data-ttu-id="1b700-243">Práva potřebná pro operace služby Service Bus</span><span class="sxs-lookup"><span data-stu-id="1b700-243">Rights required for Service Bus operations</span></span>

<span data-ttu-id="1b700-244">Hello následující tabulka uvádí hello přístupová práva potřebná pro různé operace na prostředcích služby Service Bus.</span><span class="sxs-lookup"><span data-stu-id="1b700-244">hello following table shows hello access rights required for various operations on Service Bus resources.</span></span>

| <span data-ttu-id="1b700-245">Operace</span><span class="sxs-lookup"><span data-stu-id="1b700-245">Operation</span></span> | <span data-ttu-id="1b700-246">Požadované deklarace identity</span><span class="sxs-lookup"><span data-stu-id="1b700-246">Claim Required</span></span> | <span data-ttu-id="1b700-247">Deklarace oboru</span><span class="sxs-lookup"><span data-stu-id="1b700-247">Claim Scope</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1b700-248">**Namespace**</span><span class="sxs-lookup"><span data-stu-id="1b700-248">**Namespace**</span></span> | | |
| <span data-ttu-id="1b700-249">Konfigurovat autorizační pravidlo na obor názvů</span><span class="sxs-lookup"><span data-stu-id="1b700-249">Configure authorization rule on a namespace</span></span> |<span data-ttu-id="1b700-250">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-250">Manage</span></span> |<span data-ttu-id="1b700-251">Každou adresu, obor názvů</span><span class="sxs-lookup"><span data-stu-id="1b700-251">Any namespace address</span></span> |
| <span data-ttu-id="1b700-252">**Služba registru**</span><span class="sxs-lookup"><span data-stu-id="1b700-252">**Service Registry**</span></span> | | |
| <span data-ttu-id="1b700-253">Zobrazení výčtu privátní zásady</span><span class="sxs-lookup"><span data-stu-id="1b700-253">Enumerate Private Policies</span></span> |<span data-ttu-id="1b700-254">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-254">Manage</span></span> |<span data-ttu-id="1b700-255">Každou adresu, obor názvů</span><span class="sxs-lookup"><span data-stu-id="1b700-255">Any namespace address</span></span> |
| <span data-ttu-id="1b700-256">Zahájit naslouchání na obor názvů</span><span class="sxs-lookup"><span data-stu-id="1b700-256">Begin listening on a namespace</span></span> |<span data-ttu-id="1b700-257">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-257">Listen</span></span> |<span data-ttu-id="1b700-258">Každou adresu, obor názvů</span><span class="sxs-lookup"><span data-stu-id="1b700-258">Any namespace address</span></span> |
| <span data-ttu-id="1b700-259">Posílat zprávy tooa naslouchání v oboru názvů</span><span class="sxs-lookup"><span data-stu-id="1b700-259">Send messages tooa listener at a namespace</span></span> |<span data-ttu-id="1b700-260">Odeslat</span><span class="sxs-lookup"><span data-stu-id="1b700-260">Send</span></span> |<span data-ttu-id="1b700-261">Každou adresu, obor názvů</span><span class="sxs-lookup"><span data-stu-id="1b700-261">Any namespace address</span></span> |
| <span data-ttu-id="1b700-262">**Fronty**</span><span class="sxs-lookup"><span data-stu-id="1b700-262">**Queue**</span></span> | | |
| <span data-ttu-id="1b700-263">Vytvoření fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-263">Create a queue</span></span> |<span data-ttu-id="1b700-264">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-264">Manage</span></span> |<span data-ttu-id="1b700-265">Každou adresu, obor názvů</span><span class="sxs-lookup"><span data-stu-id="1b700-265">Any namespace address</span></span> |
| <span data-ttu-id="1b700-266">Odstranění fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-266">Delete a queue</span></span> |<span data-ttu-id="1b700-267">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-267">Manage</span></span> |<span data-ttu-id="1b700-268">Každou adresu, platný fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-268">Any valid queue address</span></span> |
| <span data-ttu-id="1b700-269">Zobrazení výčtu fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-269">Enumerate queues</span></span> |<span data-ttu-id="1b700-270">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-270">Manage</span></span> |<span data-ttu-id="1b700-271">$Prostředky nebo fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-271">/$Resources/Queues</span></span> |
| <span data-ttu-id="1b700-272">Získat hello popis fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-272">Get hello queue description</span></span> |<span data-ttu-id="1b700-273">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-273">Manage</span></span> |<span data-ttu-id="1b700-274">Každou adresu, platný fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-274">Any valid queue address</span></span> |
| <span data-ttu-id="1b700-275">Konfigurovat autorizační pravidlo pro frontu</span><span class="sxs-lookup"><span data-stu-id="1b700-275">Configure authorization rule for a queue</span></span> |<span data-ttu-id="1b700-276">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-276">Manage</span></span> |<span data-ttu-id="1b700-277">Každou adresu, platný fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-277">Any valid queue address</span></span> |
| <span data-ttu-id="1b700-278">Odeslat do fronty toohello</span><span class="sxs-lookup"><span data-stu-id="1b700-278">Send into toohello queue</span></span> |<span data-ttu-id="1b700-279">Odeslat</span><span class="sxs-lookup"><span data-stu-id="1b700-279">Send</span></span> |<span data-ttu-id="1b700-280">Každou adresu, platný fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-280">Any valid queue address</span></span> |
| <span data-ttu-id="1b700-281">Příjem zpráv z fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-281">Receive messages from a queue</span></span> |<span data-ttu-id="1b700-282">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-282">Listen</span></span> |<span data-ttu-id="1b700-283">Každou adresu, platný fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-283">Any valid queue address</span></span> |
| <span data-ttu-id="1b700-284">Zrušte nebo dokončení zprávy po přijetí uvítací zprávu v režimu zamknutí funkce Náhled</span><span class="sxs-lookup"><span data-stu-id="1b700-284">Abandon or complete messages after receiving hello message in peek-lock mode</span></span> |<span data-ttu-id="1b700-285">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-285">Listen</span></span> |<span data-ttu-id="1b700-286">Každou adresu, platný fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-286">Any valid queue address</span></span> |
| <span data-ttu-id="1b700-287">Odložení zprávu pro pozdější načtení</span><span class="sxs-lookup"><span data-stu-id="1b700-287">Defer a message for later retrieval</span></span> |<span data-ttu-id="1b700-288">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-288">Listen</span></span> |<span data-ttu-id="1b700-289">Každou adresu, platný fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-289">Any valid queue address</span></span> |
| <span data-ttu-id="1b700-290">Tato zpráva</span><span class="sxs-lookup"><span data-stu-id="1b700-290">Deadletter a message</span></span> |<span data-ttu-id="1b700-291">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-291">Listen</span></span> |<span data-ttu-id="1b700-292">Každou adresu, platný fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-292">Any valid queue address</span></span> |
| <span data-ttu-id="1b700-293">Zjištění stavu hello související s relací fronty zpráv</span><span class="sxs-lookup"><span data-stu-id="1b700-293">Get hello state associated with a message queue session</span></span> |<span data-ttu-id="1b700-294">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-294">Listen</span></span> |<span data-ttu-id="1b700-295">Každou adresu, platný fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-295">Any valid queue address</span></span> |
| <span data-ttu-id="1b700-296">Nastavit stav hello související s relací fronty zpráv</span><span class="sxs-lookup"><span data-stu-id="1b700-296">Set hello state associated with a message queue session</span></span> |<span data-ttu-id="1b700-297">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-297">Listen</span></span> |<span data-ttu-id="1b700-298">Každou adresu, platný fronty</span><span class="sxs-lookup"><span data-stu-id="1b700-298">Any valid queue address</span></span> |
| <span data-ttu-id="1b700-299">**Téma**</span><span class="sxs-lookup"><span data-stu-id="1b700-299">**Topic**</span></span> | | |
| <span data-ttu-id="1b700-300">Vytvoření tématu</span><span class="sxs-lookup"><span data-stu-id="1b700-300">Create a topic</span></span> |<span data-ttu-id="1b700-301">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-301">Manage</span></span> |<span data-ttu-id="1b700-302">Každou adresu, obor názvů</span><span class="sxs-lookup"><span data-stu-id="1b700-302">Any namespace address</span></span> |
| <span data-ttu-id="1b700-303">Odstranit téma</span><span class="sxs-lookup"><span data-stu-id="1b700-303">Delete a topic</span></span> |<span data-ttu-id="1b700-304">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-304">Manage</span></span> |<span data-ttu-id="1b700-305">Každou adresu, platný tématu</span><span class="sxs-lookup"><span data-stu-id="1b700-305">Any valid topic address</span></span> |
| <span data-ttu-id="1b700-306">Zobrazení výčtu témata</span><span class="sxs-lookup"><span data-stu-id="1b700-306">Enumerate topics</span></span> |<span data-ttu-id="1b700-307">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-307">Manage</span></span> |<span data-ttu-id="1b700-308">$Prostředky nebo témata</span><span class="sxs-lookup"><span data-stu-id="1b700-308">/$Resources/Topics</span></span> |
| <span data-ttu-id="1b700-309">Získání popisu tématu hello</span><span class="sxs-lookup"><span data-stu-id="1b700-309">Get hello topic description</span></span> |<span data-ttu-id="1b700-310">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-310">Manage</span></span> |<span data-ttu-id="1b700-311">Každou adresu, platný tématu</span><span class="sxs-lookup"><span data-stu-id="1b700-311">Any valid topic address</span></span> |
| <span data-ttu-id="1b700-312">Konfigurovat autorizační pravidlo pro téma</span><span class="sxs-lookup"><span data-stu-id="1b700-312">Configure authorization rule for a topic</span></span> |<span data-ttu-id="1b700-313">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-313">Manage</span></span> |<span data-ttu-id="1b700-314">Každou adresu, platný tématu</span><span class="sxs-lookup"><span data-stu-id="1b700-314">Any valid topic address</span></span> |
| <span data-ttu-id="1b700-315">Odeslat toohello tématu</span><span class="sxs-lookup"><span data-stu-id="1b700-315">Send toohello topic</span></span> |<span data-ttu-id="1b700-316">Odeslat</span><span class="sxs-lookup"><span data-stu-id="1b700-316">Send</span></span> |<span data-ttu-id="1b700-317">Každou adresu, platný tématu</span><span class="sxs-lookup"><span data-stu-id="1b700-317">Any valid topic address</span></span> |
| <span data-ttu-id="1b700-318">**Předplatné**</span><span class="sxs-lookup"><span data-stu-id="1b700-318">**Subscription**</span></span> | | |
| <span data-ttu-id="1b700-319">Vytvoření odběru</span><span class="sxs-lookup"><span data-stu-id="1b700-319">Create a subscription</span></span> |<span data-ttu-id="1b700-320">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-320">Manage</span></span> |<span data-ttu-id="1b700-321">Každou adresu, obor názvů</span><span class="sxs-lookup"><span data-stu-id="1b700-321">Any namespace address</span></span> |
| <span data-ttu-id="1b700-322">Odstranit odběr</span><span class="sxs-lookup"><span data-stu-id="1b700-322">Delete subscription</span></span> |<span data-ttu-id="1b700-323">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-323">Manage</span></span> |<span data-ttu-id="1b700-324">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1b700-324">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1b700-325">Zobrazení výčtu odběrů</span><span class="sxs-lookup"><span data-stu-id="1b700-325">Enumerate subscriptions</span></span> |<span data-ttu-id="1b700-326">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-326">Manage</span></span> |<span data-ttu-id="1b700-327">.. / myTopic/odběrů</span><span class="sxs-lookup"><span data-stu-id="1b700-327">../myTopic/Subscriptions</span></span> |
| <span data-ttu-id="1b700-328">Získat předplatné popis</span><span class="sxs-lookup"><span data-stu-id="1b700-328">Get subscription description</span></span> |<span data-ttu-id="1b700-329">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-329">Manage</span></span> |<span data-ttu-id="1b700-330">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1b700-330">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1b700-331">Zrušte nebo dokončení zprávy po přijetí uvítací zprávu v režimu zamknutí funkce Náhled</span><span class="sxs-lookup"><span data-stu-id="1b700-331">Abandon or complete messages after receiving hello message in peek-lock mode</span></span> |<span data-ttu-id="1b700-332">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-332">Listen</span></span> |<span data-ttu-id="1b700-333">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1b700-333">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1b700-334">Odložení zprávu pro pozdější načtení</span><span class="sxs-lookup"><span data-stu-id="1b700-334">Defer a message for later retrieval</span></span> |<span data-ttu-id="1b700-335">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-335">Listen</span></span> |<span data-ttu-id="1b700-336">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1b700-336">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1b700-337">Tato zpráva</span><span class="sxs-lookup"><span data-stu-id="1b700-337">Deadletter a message</span></span> |<span data-ttu-id="1b700-338">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-338">Listen</span></span> |<span data-ttu-id="1b700-339">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1b700-339">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1b700-340">Zjištění stavu hello přidružené k tématu relace</span><span class="sxs-lookup"><span data-stu-id="1b700-340">Get hello state associated with a topic session</span></span> |<span data-ttu-id="1b700-341">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-341">Listen</span></span> |<span data-ttu-id="1b700-342">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1b700-342">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1b700-343">Nastavit stav hello přidružené k tématu relace</span><span class="sxs-lookup"><span data-stu-id="1b700-343">Set hello state associated with a topic session</span></span> |<span data-ttu-id="1b700-344">Naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-344">Listen</span></span> |<span data-ttu-id="1b700-345">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1b700-345">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1b700-346">**Pravidla**</span><span class="sxs-lookup"><span data-stu-id="1b700-346">**Rules**</span></span> | | |
| <span data-ttu-id="1b700-347">Vytvoření pravidla</span><span class="sxs-lookup"><span data-stu-id="1b700-347">Create a rule</span></span> |<span data-ttu-id="1b700-348">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-348">Manage</span></span> |<span data-ttu-id="1b700-349">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1b700-349">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1b700-350">Odstranění pravidla</span><span class="sxs-lookup"><span data-stu-id="1b700-350">Delete a rule</span></span> |<span data-ttu-id="1b700-351">Spravovat</span><span class="sxs-lookup"><span data-stu-id="1b700-351">Manage</span></span> |<span data-ttu-id="1b700-352">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1b700-352">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1b700-353">Zobrazení výčtu pravidel</span><span class="sxs-lookup"><span data-stu-id="1b700-353">Enumerate rules</span></span> |<span data-ttu-id="1b700-354">Spravovat nebo naslouchání</span><span class="sxs-lookup"><span data-stu-id="1b700-354">Manage or Listen</span></span> |<span data-ttu-id="1b700-355">.. /myTopic/Subscriptions/mySubscription/Rules</span><span class="sxs-lookup"><span data-stu-id="1b700-355">../myTopic/Subscriptions/mySubscription/Rules</span></span> 

## <a name="next-steps"></a><span data-ttu-id="1b700-356">Další kroky</span><span class="sxs-lookup"><span data-stu-id="1b700-356">Next steps</span></span>

<span data-ttu-id="1b700-357">toolearn Další informace o zasílání zpráv Service Bus, najdete v následujících tématech hello.</span><span class="sxs-lookup"><span data-stu-id="1b700-357">toolearn more about Service Bus messaging, see hello following topics.</span></span>

* [<span data-ttu-id="1b700-358">Základy služby Service Bus</span><span class="sxs-lookup"><span data-stu-id="1b700-358">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="1b700-359">Fronty, témata a odběry služby Service Bus</span><span class="sxs-lookup"><span data-stu-id="1b700-359">Service Bus queues, topics, and subscriptions</span></span>](service-bus-queues-topics-subscriptions.md)
* [<span data-ttu-id="1b700-360">Jak toouse fronty Service Bus</span><span class="sxs-lookup"><span data-stu-id="1b700-360">How toouse Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="1b700-361">Jak toouse Service Bus témat a odběrů</span><span class="sxs-lookup"><span data-stu-id="1b700-361">How toouse Service Bus topics and subscriptions</span></span>](service-bus-dotnet-how-to-use-topics-subscriptions.md)

[Azure portal]: https://portal.azure.com