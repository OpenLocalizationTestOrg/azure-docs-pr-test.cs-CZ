---
title: "zpracování přehled architektury zpráv Service Bus aaaAzure | Microsoft Docs"
description: "Popisuje architekturu zpracování zpráv hello Azure Service Bus."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: baf94c2d-0e58-4d5d-a588-767f996ccf7f
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: f7606e40cdf6db3797a0db2de9365453ff2a158e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-architecture"></a><span data-ttu-id="342c8-103">Architektura služby Service Bus</span><span class="sxs-lookup"><span data-stu-id="342c8-103">Service Bus architecture</span></span>
<span data-ttu-id="342c8-104">Tento článek popisuje architekturu zpracování zpráv hello Azure Service Bus.</span><span class="sxs-lookup"><span data-stu-id="342c8-104">This article describes hello message processing architecture of Azure Service Bus.</span></span>

## <a name="service-bus-scale-units"></a><span data-ttu-id="342c8-105">Jednotky škálování služby Service Bus</span><span class="sxs-lookup"><span data-stu-id="342c8-105">Service Bus scale units</span></span>
<span data-ttu-id="342c8-106">Service Bus se organizuje podle *jednotek škálování*.</span><span class="sxs-lookup"><span data-stu-id="342c8-106">Service Bus is organized by *scale units*.</span></span> <span data-ttu-id="342c8-107">Jednotka škálování je jednotka nasazení a obsahuje všechny součásti požadované hello spuštění služby.</span><span class="sxs-lookup"><span data-stu-id="342c8-107">A scale unit is a unit of deployment and contains all components required run hello service.</span></span> <span data-ttu-id="342c8-108">Každá oblast nasadí jednu nebo víc jednotek škálování služby Service Bus.</span><span class="sxs-lookup"><span data-stu-id="342c8-108">Each region deploys one or more Service Bus scale units.</span></span>

<span data-ttu-id="342c8-109">Obor názvů sběrnice je tooa mapované jednotky škálování.</span><span class="sxs-lookup"><span data-stu-id="342c8-109">A Service Bus namespace is mapped tooa scale unit.</span></span> <span data-ttu-id="342c8-110">Hello jednotka škálování zpracovává všechny typy entit služby Service Bus (fronty, témata, odběry).</span><span class="sxs-lookup"><span data-stu-id="342c8-110">hello scale unit handles all types of Service Bus entities (queues, topics, subscriptions).</span></span> <span data-ttu-id="342c8-111">Jednotka škálování služby Service Bus se skládá z hello následující součásti:</span><span class="sxs-lookup"><span data-stu-id="342c8-111">A Service Bus scale unit consists of hello following components:</span></span>

* <span data-ttu-id="342c8-112">**Sada uzlů brány.**</span><span class="sxs-lookup"><span data-stu-id="342c8-112">**A set of gateway nodes.**</span></span> <span data-ttu-id="342c8-113">Uzly brány ověřují příchozí požadavky.</span><span class="sxs-lookup"><span data-stu-id="342c8-113">Gateway nodes authenticate incoming requests.</span></span> <span data-ttu-id="342c8-114">Každý uzel brány má veřejnou IP adresu.</span><span class="sxs-lookup"><span data-stu-id="342c8-114">Each gateway node has a public IP address.</span></span>
* <span data-ttu-id="342c8-115">**Sada zprostředkovatelských uzlů pro přenos zpráv.**</span><span class="sxs-lookup"><span data-stu-id="342c8-115">**A set of messaging broker nodes.**</span></span> <span data-ttu-id="342c8-116">Zprostředkovatelské uzly pro přenos zpráv zpracovávají požadavky týkající se entit přenos zpráv.</span><span class="sxs-lookup"><span data-stu-id="342c8-116">Messaging broker nodes process requests concerning messaging entities.</span></span>
* <span data-ttu-id="342c8-117">**Jedno úložiště brány.**</span><span class="sxs-lookup"><span data-stu-id="342c8-117">**One gateway store.**</span></span> <span data-ttu-id="342c8-118">Hello úložiště brány uchovává data hello pro každou entitu, která je definována v této jednotce škálování.</span><span class="sxs-lookup"><span data-stu-id="342c8-118">hello gateway store holds hello data for every entity that is defined in this scale unit.</span></span> <span data-ttu-id="342c8-119">Hello úložiště brány se implementuje nad databázi SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="342c8-119">hello gateway store is implemented on top of a SQL Azure database.</span></span>
* <span data-ttu-id="342c8-120">**Několik úložišť pro přenos zpráv.**</span><span class="sxs-lookup"><span data-stu-id="342c8-120">**Multiple messaging stores.**</span></span> <span data-ttu-id="342c8-121">Přenos zpráv uchovává zprávy hello všechny fronty, témata a odběry, které jsou definovány v této jednotce škálování.</span><span class="sxs-lookup"><span data-stu-id="342c8-121">Messaging stores hold hello messages of all queues, topics and subscriptions that are defined in this scale unit.</span></span> <span data-ttu-id="342c8-122">Taky obsahuje všechna data odběru.</span><span class="sxs-lookup"><span data-stu-id="342c8-122">It also contains all subscription data.</span></span> <span data-ttu-id="342c8-123">Pokud [dělení entit pro zasílání zpráv](service-bus-partitioning.md) je povoleno, fronta nebo téma je namapované tooone úložišti pro přenos zpráv.</span><span class="sxs-lookup"><span data-stu-id="342c8-123">Unless [partitioning messaging entities](service-bus-partitioning.md) is enabled, a queue or topic is mapped tooone messaging store.</span></span> <span data-ttu-id="342c8-124">Odběry jsou uložené ve hello stejném úložišti pro přenos zpráv jako jejich nadřazené téma.</span><span class="sxs-lookup"><span data-stu-id="342c8-124">Subscriptions are stored in hello same messaging store as their parent topic.</span></span> <span data-ttu-id="342c8-125">S výjimkou služby Service Bus [zasílání zpráv úrovně Premium](service-bus-premium-messaging.md), hello úložiště pro zasílání zpráv implementují nad databáze SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="342c8-125">Except for Service Bus [Premium Messaging](service-bus-premium-messaging.md), hello messaging stores are implemented on top of SQL Azure databases.</span></span>

## <a name="containers"></a><span data-ttu-id="342c8-126">Kontejnery</span><span class="sxs-lookup"><span data-stu-id="342c8-126">Containers</span></span>
<span data-ttu-id="342c8-127">Každé entitě přenosu zpráv je přiřazený specifický kontejner.</span><span class="sxs-lookup"><span data-stu-id="342c8-127">Each messaging entity is assigned a specific container.</span></span> <span data-ttu-id="342c8-128">Kontejner je logická konstrukce, která používá právě jeden zasílání zpráv toostore úložiště všechny relevantní data pro tento kontejner.</span><span class="sxs-lookup"><span data-stu-id="342c8-128">A container is a logical construct that uses exactly one messaging store toostore all relevant data for this container.</span></span> <span data-ttu-id="342c8-129">Každý kontejner je přiřazený tooa zprostředkovatelský uzel pro zasílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="342c8-129">Each container is assigned tooa messaging broker node.</span></span> <span data-ttu-id="342c8-130">Typicky je víc kontejnerů než zprostředkovatelských uzlů přenosu zpráv.</span><span class="sxs-lookup"><span data-stu-id="342c8-130">Typically, there are more containers than messaging broker nodes.</span></span> <span data-ttu-id="342c8-131">Každý zprostředkovatelský uzel služeb načte několik kontejnerů.</span><span class="sxs-lookup"><span data-stu-id="342c8-131">Therefore, each messaging broker node loads multiple containers.</span></span> <span data-ttu-id="342c8-132">Hello distribuce kontejnerů tooa zprostředkovatelský uzel přenosu zpráv je organizovaná tak, aby všechny zprostředkovatelské uzly přenosu zpráv byly rovnoměrně zatížené.</span><span class="sxs-lookup"><span data-stu-id="342c8-132">hello distribution of containers tooa messaging broker node is organized such that all messaging broker nodes are equally loaded.</span></span> <span data-ttu-id="342c8-133">Pokud hello hello zatížení vzor změny (například jeden z hello kontejnerů začne být velmi vytížený) nebo pokud zprostředkovatelský uzel přenosu zpráv dočasně nedostupný, kontejnery se předistribuují mezi hello zprostředkovatelských uzlů přenosu zpráv.</span><span class="sxs-lookup"><span data-stu-id="342c8-133">If hello load pattern changes (for example, one of hello containers gets very busy), or if a messaging broker node becomes temporarily unavailable, hello containers are redistributed among hello messaging broker nodes.</span></span>

## <a name="processing-of-incoming-messaging-requests"></a><span data-ttu-id="342c8-134">Zpracování příchozích událostí přenosu zpráv</span><span class="sxs-lookup"><span data-stu-id="342c8-134">Processing of incoming messaging requests</span></span>
<span data-ttu-id="342c8-135">Když klient odešle požadavek tooService sběrnice, hello Vyrovnávání zatížení Azure ho přesměruje tooany uzlů brány hello.</span><span class="sxs-lookup"><span data-stu-id="342c8-135">When a client sends a request tooService Bus, hello Azure load balancer routes it tooany of hello gateway nodes.</span></span> <span data-ttu-id="342c8-136">Hello uzel brány ověří požadavek hello.</span><span class="sxs-lookup"><span data-stu-id="342c8-136">hello gateway node authorizes hello request.</span></span> <span data-ttu-id="342c8-137">Pokud hello požadavek týká entity přenosu zpráv (fronty, tématu, odběru), uzel brány hello vyhledává hello entity v úložišti brány hello a určí, ve které zasílání zpráv hello úložiště se entita nachází.</span><span class="sxs-lookup"><span data-stu-id="342c8-137">If hello request concerns a messaging entity (queue, topic, subscription), hello gateway node looks up hello entity in hello gateway store and determines in which messaging store hello entity is located.</span></span> <span data-ttu-id="342c8-138">Potom vyhledá, který zprostředkovatelský uzel se aktuálně stará o tento kontejner a odešle toothat požadavek hello zprostředkovatelský uzel pro zasílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="342c8-138">It then looks up which messaging broker node is currently servicing this container, and sends hello request toothat messaging broker node.</span></span> <span data-ttu-id="342c8-139">Hello zprostředkovatelský uzel pro zasílání zpráv zpracuje požadavek hello a aktualizuje stav entity hello v úložišti kontejneru hello.</span><span class="sxs-lookup"><span data-stu-id="342c8-139">hello messaging broker node processes hello request and updates hello entity state in hello container store.</span></span> <span data-ttu-id="342c8-140">Hello zprostředkovatelský uzel zasílání zpráv pak odešle hello odpověď zpět toohello brány uzlu, který odešle klientem odpovídající odpověď zpět toohello této vydané hello původní žádosti.</span><span class="sxs-lookup"><span data-stu-id="342c8-140">hello messaging broker node then sends hello response back toohello gateway node, which sends an appropriate response back toohello client that issued hello original request.</span></span>

![Zpracování Příchozích událostí přenosu zpráv](./media/service-bus-architecture/ic690644.png)

## <a name="next-steps"></a><span data-ttu-id="342c8-142">Další kroky</span><span class="sxs-lookup"><span data-stu-id="342c8-142">Next steps</span></span>
<span data-ttu-id="342c8-143">Teď, když jste si přečetli Přehled architektury služby Service Bus, najdete na adrese hello následující odkazy na další informace:</span><span class="sxs-lookup"><span data-stu-id="342c8-143">Now that you've read an overview of Service Bus architecture, visit hello following links for more information:</span></span>

* [<span data-ttu-id="342c8-144">Přehled přenosu zpráv ve službě Service Bus</span><span class="sxs-lookup"><span data-stu-id="342c8-144">Service Bus messaging overview</span></span>](service-bus-messaging-overview.md)
* [<span data-ttu-id="342c8-145">Základy služby Service Bus</span><span class="sxs-lookup"><span data-stu-id="342c8-145">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="342c8-146">Řešení zasílání zpráv ve frontě pomocí front Service Bus</span><span class="sxs-lookup"><span data-stu-id="342c8-146">A queued messaging solution using Service Bus queues</span></span>](service-bus-dotnet-multi-tier-app-using-service-bus-queues.md)


