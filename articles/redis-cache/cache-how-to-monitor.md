---
title: Tom, jak monitorovat Azure Redis Cache | Microsoft Docs
description: "Naučte se monitorovat stav a výkon vaší instance služby Azure Redis Cache"
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 7e70b153-9c87-4290-85af-2228f31df118
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/13/2017
ms.author: sdanie
ms.openlocfilehash: 8996f5ce03e39557d9cc9c3de1ec214f5cd664b4
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-monitor-azure-redis-cache"></a><span data-ttu-id="c097f-103">Jak monitorovat Azure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="c097f-103">How to monitor Azure Redis Cache</span></span>
<span data-ttu-id="c097f-104">Používá Azure Redis Cache [Azure monitorování](https://docs.microsoft.com/azure/monitoring-and-diagnostics/) zajistit několik možností pro monitorování vaše instance mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="c097f-104">Azure Redis Cache uses [Azure Monitor](https://docs.microsoft.com/azure/monitoring-and-diagnostics/) to provide several options for monitoring your cache instances.</span></span> <span data-ttu-id="c097f-105">Můžete zobrazit metriky, připnout grafy metriky na úvodní panel, přizpůsobení datum a čas rozsah monitorování grafy, přidat a metriky odebrání grafy a nastavit upozornění, pokud jsou splněny určité podmínky.</span><span class="sxs-lookup"><span data-stu-id="c097f-105">You can view metrics, pin metrics charts to the Startboard, customize the date and time range of monitoring charts, add and remove metrics from the charts, and set alerts when certain conditions are met.</span></span> <span data-ttu-id="c097f-106">Tyto nástroje vám umožňují sledovat stav vaší instance služby Azure Redis Cache a vám pomohou při správě aplikace ukládání do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="c097f-106">These tools enable you to monitor the health of your Azure Redis Cache instances and help you manage your caching applications.</span></span>

<span data-ttu-id="c097f-107">Metriky pro instance služby Azure Redis Cache jsou shromažďována pomocí Redis [informace](http://redis.io/commands/info) příkaz přibližně dvakrát za minutu a automaticky uložené 30 dní (najdete v části [exportovat mezipaměti metriky](#export-cache-metrics) ke konfiguraci jiné zásady uchovávání informací) tak, aby se zobrazí v grafech metriky a vyhodnocuje pravidla výstrah.</span><span class="sxs-lookup"><span data-stu-id="c097f-107">Metrics for Azure Redis Cache instances are collected using the Redis [INFO](http://redis.io/commands/info) command approximately twice per minute and automatically stored for 30 days (see [Export cache metrics](#export-cache-metrics) to configure a different retention policy) so they can be displayed in the metrics charts and evaluated by alert rules.</span></span> <span data-ttu-id="c097f-108">Další informace o různých informace hodnoty používané pro jednotlivé metriky mezipaměti najdete v tématu [k dostupným metrikám a vytváření sestav intervaly](#available-metrics-and-reporting-intervals).</span><span class="sxs-lookup"><span data-stu-id="c097f-108">For more information about the different INFO values used for each cache metric, see [Available metrics and reporting intervals](#available-metrics-and-reporting-intervals).</span></span>

<a name="view-cache-metrics"></a>

<span data-ttu-id="c097f-109">Chcete-li zobrazit mezipaměti metriky, [Procházet](cache-configure.md#configure-redis-cache-settings) do instance mezipaměti v [portál Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c097f-109">To view cache metrics, [browse](cache-configure.md#configure-redis-cache-settings) to your cache instance in the [Azure portal](https://portal.azure.com).</span></span>  <span data-ttu-id="c097f-110">Azure Redis Cache obsahuje několik předdefinovaných grafy **přehled** okno a **Redis metriky** okno.</span><span class="sxs-lookup"><span data-stu-id="c097f-110">Azure Redis Cache provides some built-in charts on the **Overview** blade and the **Redis metrics** blade.</span></span> <span data-ttu-id="c097f-111">Každý graf lze přizpůsobit přidáním nebo odebráním metriky a změna reporting intervalu.</span><span class="sxs-lookup"><span data-stu-id="c097f-111">Each chart can be customized by adding or removing metrics and changing the reporting interval.</span></span>

![Metriky pro redis](./media/cache-how-to-monitor/redis-cache-redis-metrics-blade.png)

## <a name="view-pre-configured-metrics-charts"></a><span data-ttu-id="c097f-113">Zobrazení předem nakonfigurované metriky grafy</span><span class="sxs-lookup"><span data-stu-id="c097f-113">View pre-configured metrics charts</span></span>

<span data-ttu-id="c097f-114">**Přehled** okno obsahuje následující předem nakonfigurované monitorování grafy.</span><span class="sxs-lookup"><span data-stu-id="c097f-114">The **Overview** blade has the following pre-configured monitoring charts.</span></span>

* [<span data-ttu-id="c097f-115">Monitorování grafy</span><span class="sxs-lookup"><span data-stu-id="c097f-115">Monitoring charts</span></span>](#monitoring-charts)
* [<span data-ttu-id="c097f-116">Použití grafů</span><span class="sxs-lookup"><span data-stu-id="c097f-116">Usage charts</span></span>](#usage-charts)

### <a name="monitoring-charts"></a><span data-ttu-id="c097f-117">Monitorování grafy</span><span class="sxs-lookup"><span data-stu-id="c097f-117">Monitoring charts</span></span>
<span data-ttu-id="c097f-118">**Monitorování** tématu **přehled** okno obsahuje **přístupy a nezdařených přístupů k**, **získá a nastaví**, **připojení**, a **celkový příkazy** grafy.</span><span class="sxs-lookup"><span data-stu-id="c097f-118">The **Monitoring** section in the **Overview** blade has **Hits and Misses**, **Gets and Sets**, **Connections**, and **Total Commands** charts.</span></span>

![Monitorování grafy](./media/cache-how-to-monitor/redis-cache-monitoring-part.png)

### <a name="usage-charts"></a><span data-ttu-id="c097f-120">Použití grafů</span><span class="sxs-lookup"><span data-stu-id="c097f-120">Usage charts</span></span>
<span data-ttu-id="c097f-121">**Využití** tématu **přehled** okno obsahuje **zatížení serveru Redis**, **využití paměti**, **šířka pásma sítě**, a **využití procesoru** grafy a také zobrazuje **cenová úroveň** pro instanci mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="c097f-121">The **Usage** section in the **Overview** blade has **Redis Server Load**, **Memory Usage**, **Network Bandwith**, and **CPU Usage** charts, and also displays the **Pricing tier** for the cache instance.</span></span>

![Použití grafů](./media/cache-how-to-monitor/redis-cache-usage-part.png)

<span data-ttu-id="c097f-123">**Cenová úroveň** zobrazí mezipaměti cenovou úroveň a lze provádět [škálování](cache-how-to-scale.md) mezipaměti na jinou cenovou úroveň.</span><span class="sxs-lookup"><span data-stu-id="c097f-123">The **Pricing tier** displays the cache pricing tier, and can be used to [scale](cache-how-to-scale.md) the cache to a different pricing tier.</span></span>

## <a name="view-metrics-with-azure-monitor"></a><span data-ttu-id="c097f-124">Zobrazit metriky s Azure monitorování</span><span class="sxs-lookup"><span data-stu-id="c097f-124">View metrics with Azure monitor</span></span>
<span data-ttu-id="c097f-125">Chcete-li zobrazit Redis metriky a vytvářet vlastní grafy pomocí Azure monitorování, klikněte na tlačítko **metriky** z **prostředků nabídky**a přizpůsobit graf pomocí požadovaného metriky, vytváření sestav interval, typ grafu a další.</span><span class="sxs-lookup"><span data-stu-id="c097f-125">To view Redis metrics and create custom charts using Azure Monitor, click **Metrics** from the **Resource menu**, and customize your chart using the desired metrics, reporting interval, chart type, and more.</span></span>

![Metriky pro redis](./media/cache-how-to-monitor/redis-cache-monitor.png)

<span data-ttu-id="c097f-127">Další informace o práci s metriky pomocí Azure monitorování najdete v tématu [přehled metriky v Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="c097f-127">For more information on working with metrics using Azure Monitor, see [Overview of metrics in Microsoft Azure](../monitoring-and-diagnostics/monitoring-overview-metrics.md).</span></span>

<a name="how-to-view-metrics-and-customize-chart"></a>
<a name="enable-cache-diagnostics"></a>
## <a name="export-cache-metrics"></a><span data-ttu-id="c097f-128">Export mezipaměti metriky</span><span class="sxs-lookup"><span data-stu-id="c097f-128">Export cache metrics</span></span>
<span data-ttu-id="c097f-129">Ve výchozím nastavení, mezipaměti metriky v Azure monitorování jsou [uchovávají po dobu 30 dnů](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive) a odstraní.</span><span class="sxs-lookup"><span data-stu-id="c097f-129">By default, cache metrics in Azure Monitor are [stored for 30 days](../monitoring-and-diagnostics/monitoring-overview-azure-monitor.md#store-and-archive) and then deleted.</span></span> <span data-ttu-id="c097f-130">Chcete-li zachovat metriky vaší mezipaměti po dobu delší než 30 dní, můžete [určit účet úložiště](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) a zadejte **uchovávání dat (dny)** zásady pro vaše mezipaměť metriky.</span><span class="sxs-lookup"><span data-stu-id="c097f-130">To persist your cache metrics for longer than 30 days, you can [designate a storage account](../monitoring-and-diagnostics/monitoring-archive-diagnostic-logs.md) and specify a **Retention (days)** policy for your cache metrics.</span></span> 

<span data-ttu-id="c097f-131">Konfigurace účtu úložiště pro vaše metriky mezipaměti:</span><span class="sxs-lookup"><span data-stu-id="c097f-131">To configure a storage account for your cache metrics:</span></span>

1. <span data-ttu-id="c097f-132">Klikněte na tlačítko **diagnostiky** z **prostředků nabídky** v **Redis Cache** okno.</span><span class="sxs-lookup"><span data-stu-id="c097f-132">Click **Diagnostics** from the **Resource menu** in the **Redis Cache** blade.</span></span>
2. <span data-ttu-id="c097f-133">Klikněte na tlačítko **na**.</span><span class="sxs-lookup"><span data-stu-id="c097f-133">Click **On**.</span></span>
3. <span data-ttu-id="c097f-134">Zkontrolujte **archivu do účtu úložiště**.</span><span class="sxs-lookup"><span data-stu-id="c097f-134">Check **Archive to a storage account**.</span></span>
4. <span data-ttu-id="c097f-135">Vyberte účet úložiště pro uložení metriky mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="c097f-135">Select the storage account in which to store the cache metrics.</span></span>
5. <span data-ttu-id="c097f-136">Zkontrolujte **1 minuta** zaškrtávací políčko a zadejte **uchovávání dat (dny)** zásad.</span><span class="sxs-lookup"><span data-stu-id="c097f-136">Check the **1 minute** checkbox and specify a **Retention (days)** policy.</span></span> <span data-ttu-id="c097f-137">Pokud nechcete použít všechny zásady uchovávání informací a navždy zachování dat, nastavte **uchovávání dat (dny)** k **0**.</span><span class="sxs-lookup"><span data-stu-id="c097f-137">If you do not want to apply any retention policy and retain data forever, set **Retention (days)** to **0**.</span></span>
6. <span data-ttu-id="c097f-138">Klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="c097f-138">Click **Save**.</span></span>

![Redis diagnostiky](./media/cache-how-to-monitor/redis-cache-diagnostics.png)

>[!NOTE]
><span data-ttu-id="c097f-140">Kromě archivace vaše mezipaměť metriky pro úložiště, můžete také [stream je do centra událostí nebo poslat k analýze protokolů](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics).</span><span class="sxs-lookup"><span data-stu-id="c097f-140">In addition to archiving your cache metrics to storage, you can also [stream them to an Event hub or send them to Log Analytics](../monitoring-and-diagnostics/monitoring-overview-metrics.md#export-metrics).</span></span>
>
>

<span data-ttu-id="c097f-141">Pro přístup k vaší metriky, můžete je zobrazit na portálu Azure podle předchozích pokynů v tomto článku a můžete taky přejít pomocí [REST API služby Azure monitorování metriky](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api).</span><span class="sxs-lookup"><span data-stu-id="c097f-141">To access your metrics, you can view them in the Azure portal as previously described in this article, and you can also access them using the [Azure Monitor Metrics REST API](../monitoring-and-diagnostics/monitoring-overview-metrics.md#access-metrics-via-the-rest-api).</span></span>

> [!NOTE]
> <span data-ttu-id="c097f-142">Pokud změníte účty úložiště, data v účtu úložiště dříve nakonfigurované zůstane k dispozici ke stažení, ale nezobrazí se na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="c097f-142">If you change storage accounts, the data in the previously configured storage account remains available for download, but it is not displayed in the Azure portal.</span></span>  
> 
> 

## <a name="available-metrics-and-reporting-intervals"></a><span data-ttu-id="c097f-143">K dostupným metrikám a vytváření sestav intervaly</span><span class="sxs-lookup"><span data-stu-id="c097f-143">Available metrics and reporting intervals</span></span>
<span data-ttu-id="c097f-144">Metriky mezipaměti jsou hlásila použití intervalech několik sestav, včetně **po hodině**, **Dnes**, **za minulý týden**, a **vlastní**.</span><span class="sxs-lookup"><span data-stu-id="c097f-144">Cache metrics are reported using several reporting intervals, including **Past hour**, **Today**, **Past week**, and **Custom**.</span></span> <span data-ttu-id="c097f-145">**Metrika** pro každý metriky graf zobrazuje průměrné, minimální a maximální hodnoty pro jednotlivé metriky v grafu a některé metriky zobrazení celkem pro generování sestav interval.</span><span class="sxs-lookup"><span data-stu-id="c097f-145">The **Metric** blade for each metrics chart displays the average, minimum, and maximum values for each metric in the chart, and some metrics display a total for the reporting interval.</span></span> 

<span data-ttu-id="c097f-146">Jednotlivé metriky zahrnuje dvě verze.</span><span class="sxs-lookup"><span data-stu-id="c097f-146">Each metric includes two versions.</span></span> <span data-ttu-id="c097f-147">Jedna metrika měří výkonu pro celou mezipaměť a mezipaměti, které používají [clustering](cache-how-to-premium-clustering.md), druhá verze metriku, která zahrnuje `(Shard 0-9)` výkonu míry název pro jednu horizontálního oddílu v mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="c097f-147">One metric measures performance for the entire cache, and for caches that use [clustering](cache-how-to-premium-clustering.md), a second version of the metric that includes `(Shard 0-9)` in the name measures performance for a single shard in a cache.</span></span> <span data-ttu-id="c097f-148">Například pokud mezipaměť obsahuje 4 horizontálních oddílů `Cache Hits` je celková velikost přístupů pro celou mezipaměť, a `Cache Hits (Shard 3)` je právě přístupů pro tento horizontálního oddílu mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="c097f-148">For example if a cache has 4 shards, `Cache Hits` is the total amount of hits for the entire cache, and `Cache Hits (Shard 3)` is just the hits for that shard of the cache.</span></span>

> [!NOTE]
> <span data-ttu-id="c097f-149">I v případě mezipaměti nečinný bez aktivních klientů připojených aplikací, může se zobrazit některé mezipaměti aktivitou, například s připojenými klienty, využití paměti a operace provádí.</span><span class="sxs-lookup"><span data-stu-id="c097f-149">Even when the cache is idle with no connected active client applications, you may see some cache activity, such as connected clients, memory usage, and operations being performed.</span></span> <span data-ttu-id="c097f-150">Tato aktivita je normální během operace instanci služby Azure Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="c097f-150">This activity is normal during the operation of an Azure Redis Cache instance.</span></span>
> 
> 

| <span data-ttu-id="c097f-151">Metrika</span><span class="sxs-lookup"><span data-stu-id="c097f-151">Metric</span></span> | <span data-ttu-id="c097f-152">Popis</span><span class="sxs-lookup"><span data-stu-id="c097f-152">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c097f-153">Přístupů k mezipaměti</span><span class="sxs-lookup"><span data-stu-id="c097f-153">Cache Hits</span></span> |<span data-ttu-id="c097f-154">Počet úspěšných hledání klíče během zadaného intervalu sestavy.</span><span class="sxs-lookup"><span data-stu-id="c097f-154">The number of successful key lookups during the specified reporting interval.</span></span> <span data-ttu-id="c097f-155">To se mapuje na `keyspace_hits` z Redis [informace](http://redis.io/commands/info) příkaz.</span><span class="sxs-lookup"><span data-stu-id="c097f-155">This maps to `keyspace_hits` from the Redis [INFO](http://redis.io/commands/info) command.</span></span> |
| <span data-ttu-id="c097f-156">Neúspěšné přístupy do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="c097f-156">Cache Misses</span></span> |<span data-ttu-id="c097f-157">Počet neúspěšných klíč hledání během zadaného intervalu sestavy.</span><span class="sxs-lookup"><span data-stu-id="c097f-157">The number of failed key lookups during the specified reporting interval.</span></span> <span data-ttu-id="c097f-158">To se mapuje na `keyspace_misses` z Redis informace o příkazu.</span><span class="sxs-lookup"><span data-stu-id="c097f-158">This maps to `keyspace_misses` from the Redis INFO command.</span></span> <span data-ttu-id="c097f-159">Neúspěšné přístupy do mezipaměti neznamenají, že se vyskytl problém s mezipamětí.</span><span class="sxs-lookup"><span data-stu-id="c097f-159">Cache misses do not necessarily mean there is an issue with the cache.</span></span> <span data-ttu-id="c097f-160">Například při použití mezipaměti vyhraďte programovací vzor, aplikace vypadá první do mezipaměti pro položku.</span><span class="sxs-lookup"><span data-stu-id="c097f-160">For example, when using the cache-aside programming pattern, an application looks first in the cache for an item.</span></span> <span data-ttu-id="c097f-161">Pokud položka není (neúspěšných přístupů do mezipaměti), položka je načtena z databáze a přidány do mezipaměti pro další použití.</span><span class="sxs-lookup"><span data-stu-id="c097f-161">If the item is not there (cache miss), the item is retrieved from the database and added to the cache for next time.</span></span> <span data-ttu-id="c097f-162">Neúspěšné přístupy do mezipaměti jsou normální chování pro mezipaměť vyhraďte programovací vzor.</span><span class="sxs-lookup"><span data-stu-id="c097f-162">Cache misses are normal behavior for the cache-aside programming pattern.</span></span> <span data-ttu-id="c097f-163">Pokud počet nezdařených přístupů k mezipaměti je vyšší, než se očekávalo, zkontrolujte aplikační logiky, která naplní a přečte z mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="c097f-163">If the number of cache misses is higher than expected, examine the application logic that populates and reads from the cache.</span></span> <span data-ttu-id="c097f-164">Pokud jsou určený k vyloučení položek z mezipaměti z důvodu přetížení paměti, může být některé Neúspěšné přístupy do mezipaměti, ale lepší Metrika pro monitorování přetížení paměti by `Used Memory` nebo `Evicted Keys`.</span><span class="sxs-lookup"><span data-stu-id="c097f-164">If items are being evicted from the cache due to memory pressure then there may be some cache misses, but a better metric to monitor for memory pressure would be `Used Memory` or `Evicted Keys`.</span></span> |
| <span data-ttu-id="c097f-165">Připojení klienti</span><span class="sxs-lookup"><span data-stu-id="c097f-165">Connected Clients</span></span> |<span data-ttu-id="c097f-166">Počet připojení klientů k mezipaměti během zadaného intervalu sestavy.</span><span class="sxs-lookup"><span data-stu-id="c097f-166">The number of client connections to the cache during the specified reporting interval.</span></span> <span data-ttu-id="c097f-167">To se mapuje na `connected_clients` z Redis informace o příkazu.</span><span class="sxs-lookup"><span data-stu-id="c097f-167">This maps to `connected_clients` from the Redis INFO command.</span></span> <span data-ttu-id="c097f-168">Jednou [limitu připojení](cache-configure.md#default-redis-server-configuration) se dosáhlo maximálního následující pokusy o připojení k mezipaměti se nezdaří.</span><span class="sxs-lookup"><span data-stu-id="c097f-168">Once the [connection limit](cache-configure.md#default-redis-server-configuration) is reached subsequent connection attempts to the cache will fail.</span></span> <span data-ttu-id="c097f-169">Všimněte si, že i v případě, že neexistují žádné aktivní klientská aplikace, může stále nastat několik instancí připojených klientů z důvodu vnitřní procesy a připojení.</span><span class="sxs-lookup"><span data-stu-id="c097f-169">Note that even if there are no active client application, there may still be a few instances of connected clients due to internal processes and connections.</span></span> |
| <span data-ttu-id="c097f-170">Vyřazené klíče</span><span class="sxs-lookup"><span data-stu-id="c097f-170">Evicted Keys</span></span> |<span data-ttu-id="c097f-171">Počet položek odstraněna z mezipaměti během zadaného intervalu sestavy z důvodu `maxmemory` limit.</span><span class="sxs-lookup"><span data-stu-id="c097f-171">The number of items evicted from the cache during the specified reporting interval due to the `maxmemory` limit.</span></span> <span data-ttu-id="c097f-172">To se mapuje na `evicted_keys` z Redis informace o příkazu.</span><span class="sxs-lookup"><span data-stu-id="c097f-172">This maps to `evicted_keys` from the Redis INFO command.</span></span> |
| <span data-ttu-id="c097f-173">Vypršela platnost klíče</span><span class="sxs-lookup"><span data-stu-id="c097f-173">Expired Keys</span></span> |<span data-ttu-id="c097f-174">Počet položek, které vypršela během zadaného intervalu sestavy z mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="c097f-174">The number of items expired from the cache during the specified reporting interval.</span></span> <span data-ttu-id="c097f-175">Tato hodnota se mapuje na `expired_keys` z Redis informace o příkazu.</span><span class="sxs-lookup"><span data-stu-id="c097f-175">This value maps to `expired_keys` from the Redis INFO command.</span></span> |
| <span data-ttu-id="c097f-176">Celkový počet klíčů</span><span class="sxs-lookup"><span data-stu-id="c097f-176">Total Keys</span></span>  | <span data-ttu-id="c097f-177">Maximální počet klíčů v mezipaměti během posledních časové období sestavy.</span><span class="sxs-lookup"><span data-stu-id="c097f-177">The maximum number of keys in the cache during the past reporting time period.</span></span> <span data-ttu-id="c097f-178">To se mapuje na `keyspace` z Redis informace o příkazu.</span><span class="sxs-lookup"><span data-stu-id="c097f-178">This maps to `keyspace` from the Redis INFO command.</span></span> <span data-ttu-id="c097f-179">Z důvodu omezení systému základní metriky pro mezipaměti s clusteringem povolené vrátí celkový počet klíčů maximální počet klíčů horizontálního oddílu, který měl maximální počet klíčů během vytváření sestav intervalu.</span><span class="sxs-lookup"><span data-stu-id="c097f-179">Due to a limitation of the underlying metrics system, for caches with clustering enabled, Total Keys returns the maximum number of keys of the shard that had the maximum number of keys during the reporting interval.</span></span>  |
| <span data-ttu-id="c097f-180">Získá</span><span class="sxs-lookup"><span data-stu-id="c097f-180">Gets</span></span> |<span data-ttu-id="c097f-181">Počet operací get z mezipaměti během zadaného intervalu sestavy.</span><span class="sxs-lookup"><span data-stu-id="c097f-181">The number of get operations from the cache during the specified reporting interval.</span></span> <span data-ttu-id="c097f-182">Tato hodnota je součtem těchto hodnot z informace o Redis všechny příkaz: `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit`, a `cmdstat_getrange`a je ekvivalentní součtem velikostí mezipaměti úspěchy a neúspěchy během generování sestav intervalu.</span><span class="sxs-lookup"><span data-stu-id="c097f-182">This value is the sum of the following values from the Redis INFO all command: `cmdstat_get`, `cmdstat_hget`, `cmdstat_hgetall`, `cmdstat_hmget`, `cmdstat_mget`, `cmdstat_getbit`, and `cmdstat_getrange`, and is equivalent to the sum of cache hits and misses during the reporting interval.</span></span> |
| <span data-ttu-id="c097f-183">Zatížení serveru redis</span><span class="sxs-lookup"><span data-stu-id="c097f-183">Redis Server Load</span></span> |<span data-ttu-id="c097f-184">Procento cykly, ve kterých je zaneprázdněný zpracovávají a nečeká nečinnosti pro zprávy serveru Redis.</span><span class="sxs-lookup"><span data-stu-id="c097f-184">The percentage of cycles in which the Redis server is busy processing and not waiting idle for messages.</span></span> <span data-ttu-id="c097f-185">Pokud tento čítač dosáhne 100, znamená to, narazil na serveru Redis mezní hodnoty výkonu a nemůže zpracovat procesoru fungovat všechny rychlejší.</span><span class="sxs-lookup"><span data-stu-id="c097f-185">If this counter reaches 100 it means the Redis server has hit a performance ceiling and the CPU can't process work any faster.</span></span> <span data-ttu-id="c097f-186">Pokud vidíte vysoké zatížení serveru Redis uvidíte výjimkám časového limitu v klientovi.</span><span class="sxs-lookup"><span data-stu-id="c097f-186">If you are seeing high Redis Server Load then you will see timeout exceptions in the client.</span></span> <span data-ttu-id="c097f-187">V tomto případě zvažte vertikálním navýšení kapacity nebo dělení dat do více mezipamětí.</span><span class="sxs-lookup"><span data-stu-id="c097f-187">In this case you should consider scaling up or partitioning your data into multiple caches.</span></span> |
| <span data-ttu-id="c097f-188">Nastaví</span><span class="sxs-lookup"><span data-stu-id="c097f-188">Sets</span></span> |<span data-ttu-id="c097f-189">Počet operací sady do mezipaměti během zadaného intervalu sestavy.</span><span class="sxs-lookup"><span data-stu-id="c097f-189">The number of set operations to the cache during the specified reporting interval.</span></span> <span data-ttu-id="c097f-190">Tato hodnota je součtem následující hodnoty z informace o Redis vše, příkaz: `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange` , a `cmdstat_setnx`.</span><span class="sxs-lookup"><span data-stu-id="c097f-190">This value is the sum of the following values from the Redis INFO all command: `cmdstat_set`, `cmdstat_hset`, `cmdstat_hmset`, `cmdstat_hsetnx`, `cmdstat_lset`, `cmdstat_mset`, `cmdstat_msetnx`, `cmdstat_setbit`, `cmdstat_setex`, `cmdstat_setrange`, and `cmdstat_setnx`.</span></span> |
| <span data-ttu-id="c097f-191">Celkový počet operací</span><span class="sxs-lookup"><span data-stu-id="c097f-191">Total Operations</span></span> |<span data-ttu-id="c097f-192">Celkový počet příkazy, které jsou zpracovány serverem mezipaměti během zadaného intervalu sestavy.</span><span class="sxs-lookup"><span data-stu-id="c097f-192">The total number of commands processed by the cache server during the specified reporting interval.</span></span> <span data-ttu-id="c097f-193">Tato hodnota se mapuje na `total_commands_processed` z Redis informace o příkazu.</span><span class="sxs-lookup"><span data-stu-id="c097f-193">This value maps to `total_commands_processed` from the Redis INFO command.</span></span> <span data-ttu-id="c097f-194">Všimněte si, že při použití Azure Redis Cache výhradně pro protokol pub nebo sub bude žádné metriky pro `Cache Hits`, `Cache Misses`, `Gets`, nebo `Sets`, ale bude `Total Operations` metriky, které odráží využití mezipaměti pro operace pub nebo sub.</span><span class="sxs-lookup"><span data-stu-id="c097f-194">Note that when Azure Redis Cache is used purely for pub/sub there will be no metrics for `Cache Hits`, `Cache Misses`, `Gets`, or `Sets`, but there will be `Total Operations` metrics that reflect the cache usage for pub/sub operations.</span></span> |
| <span data-ttu-id="c097f-195">Použitá paměť</span><span class="sxs-lookup"><span data-stu-id="c097f-195">Used Memory</span></span> |<span data-ttu-id="c097f-196">Velikost mezipaměti paměť použitá pro dvojice klíč/hodnota v mezipaměti v MB během zadaného intervalu sestavy.</span><span class="sxs-lookup"><span data-stu-id="c097f-196">The amount of cache memory used for key/value pairs in the cache in MB during the specified reporting interval.</span></span> <span data-ttu-id="c097f-197">Tato hodnota se mapuje na `used_memory` z Redis informace o příkazu.</span><span class="sxs-lookup"><span data-stu-id="c097f-197">This value maps to `used_memory` from the Redis INFO command.</span></span> <span data-ttu-id="c097f-198">Nezahrnuje metadata nebo fragmentace.</span><span class="sxs-lookup"><span data-stu-id="c097f-198">This does not include metadata or fragmentation.</span></span> |
| <span data-ttu-id="c097f-199">Použitá paměť RSS</span><span class="sxs-lookup"><span data-stu-id="c097f-199">Used Memory RSS</span></span> |<span data-ttu-id="c097f-200">Množství paměti mezipaměti v MB během zadaného intervalu sestavy, včetně fragmentace a metadata.</span><span class="sxs-lookup"><span data-stu-id="c097f-200">The amount of cache memory used in MB during the specified reporting interval, including fragmentation and metadata.</span></span> <span data-ttu-id="c097f-201">Tato hodnota se mapuje na `used_memory_rss` z Redis informace o příkazu.</span><span class="sxs-lookup"><span data-stu-id="c097f-201">This value maps to `used_memory_rss` from the Redis INFO command.</span></span> |
| <span data-ttu-id="c097f-202">Procesor</span><span class="sxs-lookup"><span data-stu-id="c097f-202">CPU</span></span> |<span data-ttu-id="c097f-203">Využití procesoru serveru Azure Redis Cache v procentech během zadaného intervalu sestavy.</span><span class="sxs-lookup"><span data-stu-id="c097f-203">The CPU utilization of the Azure Redis Cache server as a percentage during the specified reporting interval.</span></span> <span data-ttu-id="c097f-204">Tato hodnota se mapuje na operační systém `\Processor(_Total)\% Processor Time` čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="c097f-204">This value maps to the operating system `\Processor(_Total)\% Processor Time` performance counter.</span></span> |
| <span data-ttu-id="c097f-205">Mezipaměti pro čtení</span><span class="sxs-lookup"><span data-stu-id="c097f-205">Cache Read</span></span> |<span data-ttu-id="c097f-206">Množství dat načten z mezipaměti v MB za sekundu (MB/s) během zadaného intervalu sestavy.</span><span class="sxs-lookup"><span data-stu-id="c097f-206">The amount of data read from the cache in Megabytes per second (MB/s) during the specified reporting interval.</span></span> <span data-ttu-id="c097f-207">Tato hodnota se odvozuje od karty síťového rozhraní, které podporují virtuální počítač, který hostuje mezipaměti a není konkrétní Redis.</span><span class="sxs-lookup"><span data-stu-id="c097f-207">This value is derived from the network interface cards that support the virtual machine that hosts the cache and is not Redis specific.</span></span> <span data-ttu-id="c097f-208">**Tato hodnota odpovídá šířku pásma sítě používané této mezipaměti. Pokud chcete nastavit výstrahy pro omezení šířky pásma sítě straně serveru, vytvořte ji pomocí této `Cache Read` čítače. V tématu [Tato tabulka](cache-faq.md#cache-performance) mezí zjištěnou šířky pásma pro různé mezipaměti cenové úrovně a velikosti.**</span><span class="sxs-lookup"><span data-stu-id="c097f-208">**This value corresponds to the network bandwidth used by this cache. If you want to set up alerts for server side network bandwidth limits, then create it using this `Cache Read` counter. See [this table](cache-faq.md#cache-performance) for the observed bandwidth limits for various cache pricing tiers and sizes.**</span></span> |
| <span data-ttu-id="c097f-209">Mezipaměť zápisu</span><span class="sxs-lookup"><span data-stu-id="c097f-209">Cache Write</span></span> |<span data-ttu-id="c097f-210">Reporting množství dat, které jsou zapsány do mezipaměti v MB za sekundu (MB/s) během zadaného intervalu.</span><span class="sxs-lookup"><span data-stu-id="c097f-210">The amount of data written to the cache in Megabytes per second (MB/s) during the specified reporting interval.</span></span> <span data-ttu-id="c097f-211">Tato hodnota se odvozuje od karty síťového rozhraní, které podporují virtuální počítač, který hostuje mezipaměti a není konkrétní Redis.</span><span class="sxs-lookup"><span data-stu-id="c097f-211">This value is derived from the network interface cards that support the virtual machine that hosts the cache and is not Redis specific.</span></span> <span data-ttu-id="c097f-212">Tato hodnota odpovídá na šířku pásma sítě data odeslaná do mezipaměti z klienta.</span><span class="sxs-lookup"><span data-stu-id="c097f-212">This value corresponds to the network bandwidth of data sent to the cache from the client.</span></span> |

<a name="operations-and-alerts"></a>
## <a name="alerts"></a><span data-ttu-id="c097f-213">Výstrahy</span><span class="sxs-lookup"><span data-stu-id="c097f-213">Alerts</span></span>
<span data-ttu-id="c097f-214">Můžete nakonfigurovat přijímat výstrahy založené na protokolech metriky a aktivity.</span><span class="sxs-lookup"><span data-stu-id="c097f-214">You can configure to receive alerts based on metrics and activity logs.</span></span> <span data-ttu-id="c097f-215">Azure monitorování umožňuje nakonfigurovat výstrahu při aktivaci, proveďte následující:</span><span class="sxs-lookup"><span data-stu-id="c097f-215">Azure Monitor allows you to configure an alert to do the following when it triggers:</span></span>

* <span data-ttu-id="c097f-216">Odeslat oznámení e-mailu</span><span class="sxs-lookup"><span data-stu-id="c097f-216">Send an email notification</span></span>
* <span data-ttu-id="c097f-217">Volat webhook, jehož</span><span class="sxs-lookup"><span data-stu-id="c097f-217">Call a webhook</span></span>
* <span data-ttu-id="c097f-218">Vyvolání aplikace logiky Azure</span><span class="sxs-lookup"><span data-stu-id="c097f-218">Invoke an Azure Logic App</span></span>

<span data-ttu-id="c097f-219">Chcete-li nakonfigurovat pravidla výstrah pro mezipaměť, klikněte na tlačítko **výstrah pravidla** z **prostředků nabídky**.</span><span class="sxs-lookup"><span data-stu-id="c097f-219">To configure Alert rules for your cache, click **Alert rules** from the **Resource menu**.</span></span>

![Monitorování](./media/cache-how-to-monitor/redis-cache-monitoring.png)

<span data-ttu-id="c097f-221">Další informace o konfiguraci a používání výstrah najdete v tématu [přehled výstrah](../monitoring-and-diagnostics/insights-alerts-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c097f-221">For more information about configuring and using Alerts, see [Overview of Alerts](../monitoring-and-diagnostics/insights-alerts-portal.md).</span></span>

## <a name="activity-logs"></a><span data-ttu-id="c097f-222">Protokoly aktivit</span><span class="sxs-lookup"><span data-stu-id="c097f-222">Activity Logs</span></span>
<span data-ttu-id="c097f-223">Protokoly aktivity získat přehled o činnosti, které byly provedeny v vaší instance služby Azure Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="c097f-223">Activity logs provide insight into the operations that were performed on your Azure Redis Cache instances.</span></span> <span data-ttu-id="c097f-224">Se dřív označovala jako "protokoly auditu" nebo "operační protokoly".</span><span class="sxs-lookup"><span data-stu-id="c097f-224">It was previously known as "audit logs" or "operational logs".</span></span> <span data-ttu-id="c097f-225">Pomocí protokolů z aktivity, můžete určit ", kdo a kdy" pro všechny zápisu operace (PUT, POST, DELETE) na vaše instance služby Azure Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="c097f-225">Using activity logs, you can determine the "what, who, and when" for any write operations (PUT, POST, DELETE) taken on your Azure Redis Cache instances.</span></span> 

> [!NOTE]
> <span data-ttu-id="c097f-226">Protokoly aktivity nezahrnují operace čtení (GET).</span><span class="sxs-lookup"><span data-stu-id="c097f-226">Activity logs do not include read (GET) operations.</span></span>
>
>

<span data-ttu-id="c097f-227">Chcete-li zobrazit protokoly aktivity pro mezipaměť, klikněte na tlačítko **protokoly aktivity** z **prostředků nabídky**.</span><span class="sxs-lookup"><span data-stu-id="c097f-227">To view activity logs for your cache, click **Activity logs** from the **Resource menu**.</span></span>

<span data-ttu-id="c097f-228">Další informace o protokoly aktivity najdete v tématu [přehled protokol činnosti Azure](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span><span class="sxs-lookup"><span data-stu-id="c097f-228">For more information about Activity logs, see [Overview of the Azure Activity Log](../monitoring-and-diagnostics/monitoring-overview-activity-logs.md).</span></span>











