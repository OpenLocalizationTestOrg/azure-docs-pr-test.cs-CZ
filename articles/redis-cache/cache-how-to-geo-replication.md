---
title: "Postup konfigurace geografická replikace pro Azure Redis Cache | Microsoft Docs"
description: "Zjistěte, jak replikovat vaše instance služby Azure Redis Cache pomocí zeměpisné oblasti."
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 375643dc-dbac-4bab-8004-d9ae9570440d
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/06/2017
ms.author: sdanie
ms.openlocfilehash: 71b0d4add7e642487f6d67cda692c500ee78b0e6
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="how-to-configure-geo-replication-for-azure-redis-cache"></a><span data-ttu-id="eb9b0-103">Postup konfigurace geografická replikace pro Azure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="eb9b0-103">How to configure Geo-replication for Azure Redis Cache</span></span>

<span data-ttu-id="eb9b0-104">Geografická replikace poskytuje mechanismus pro propojení dvě instance vrstvy Azure Redis Cache Premium.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-104">Geo-replication provides a mechanism for linking two Premium tier Azure Redis Cache instances.</span></span> <span data-ttu-id="eb9b0-105">Jeden mezipaměti je určený jako primární propojené mezipaměti a druhý jako sekundární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-105">One cache is designated as the primary linked cache, and the other as the secondary linked cache.</span></span> <span data-ttu-id="eb9b0-106">Sekundární propojené mezipaměti se stane, jen pro čtení a data zapsat do mezipaměti. primární se replikují do sekundární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-106">The secondary linked cache becomes read-only, and data written to the primary cache is replicated to the secondary linked cache.</span></span> <span data-ttu-id="eb9b0-107">Tato funkce slouží k replikaci mezipaměti mezi oblastmi Azure.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-107">This functionality can be used to replicate a cache across Azure regions.</span></span> <span data-ttu-id="eb9b0-108">Tento článek poskytuje návod ke konfiguraci geografická replikace pro vaše instance služby Azure Redis Cache Premium vrstvy.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-108">This article provides a guide to configuring Geo-replication for your Premium tier Azure Redis Cache instances.</span></span>

## <a name="geo-replication-prerequisites"></a><span data-ttu-id="eb9b0-109">Geografická replikace požadavky</span><span class="sxs-lookup"><span data-stu-id="eb9b0-109">Geo-replication prerequisites</span></span>

<span data-ttu-id="eb9b0-110">Ke konfiguraci geografická replikace mezi dvěma mezipaměti, musí být splněny následující požadavky:</span><span class="sxs-lookup"><span data-stu-id="eb9b0-110">To configure Geo-replication between two caches, the following prerequisites must be met:</span></span>

- <span data-ttu-id="eb9b0-111">Musí být obě mezipamětí [úroveň Premium](cache-premium-tier-intro.md) ukládá do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-111">Both caches must be [Premium tier](cache-premium-tier-intro.md) caches.</span></span>
- <span data-ttu-id="eb9b0-112">Obě mezipaměti musí být ve stejném předplatném Azure.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-112">Both caches must be in the same Azure subscription.</span></span>
- <span data-ttu-id="eb9b0-113">Sekundární propojené mezipaměti musí být stejné cenová úroveň nebo větší cenovou úroveň než primární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-113">The secondary linked cache must be either the same pricing tier or a larger pricing tier than the primary linked cache.</span></span>
- <span data-ttu-id="eb9b0-114">Pokud primární propojené mezipaměti povoleným clusteringem, musí mít sekundární mezipaměti propojené s stejný počet horizontálních oddílů jako primární propojené mezipaměti povoleným clusteringem.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-114">If the primary linked cache has clustering enabled, the secondary linked cache must have clustering enabled with the same number of shards as the primary linked cache.</span></span>
- <span data-ttu-id="eb9b0-115">Obě mezipaměti musí být vytvořený a ve spuštěném stavu.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-115">Both caches must be created and in a running state.</span></span>
- <span data-ttu-id="eb9b0-116">U buď mezipaměti nesmí být povolena trvalost.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-116">Persistence must not be enabled on either cache.</span></span>
- <span data-ttu-id="eb9b0-117">Geografická replikace mezi mezipamětí ve stejné virtuální síti je podporována.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-117">Geo-replication between caches in the same VNET is supported.</span></span> <span data-ttu-id="eb9b0-118">Geografická replikace mezi mezipaměti v různých virtuálních sítí je také podporována, dvě virtuální sítě jsou nakonfigurovány tak, že prostředky ve virtuální sítě jsou vzájemně dosažitelné prostřednictvím připojení TCP.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-118">Geo-replication between caches in different VNETs is also supported, as long as the two VNETs are configured in such a way that resources in the VNETs are able to reach each other via TCP connections.</span></span>

<span data-ttu-id="eb9b0-119">Po dokončení konfigurace geografická replikace vaší propojené mezipaměti pár platí následující omezení:</span><span class="sxs-lookup"><span data-stu-id="eb9b0-119">After Geo-replication is configured, the following restrictions apply to your linked cache pair:</span></span>

- <span data-ttu-id="eb9b0-120">Sekundární propojené mezipaměť je jen pro čtení; si můžete přečíst z něj, ale nemohou do ní zapisovat žádná data.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-120">The secondary linked cache is read-only; you can read from it, but you can't write any data to it.</span></span> 
- <span data-ttu-id="eb9b0-121">Odeberou se všechna data, která byla v sekundární propojené mezipaměti před přidáním odkazu.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-121">Any data that was in the secondary linked cache before the link was added is removed.</span></span> <span data-ttu-id="eb9b0-122">Pokud ale je následně odstraněny geografickou replikaci, zůstává replikovaná data v sekundární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-122">If the Geo-replication is subsequently removed however, the replicated data remains in the secondary linked cache.</span></span>
- <span data-ttu-id="eb9b0-123">Nelze inicializovat, [škálování operaci](cache-how-to-scale.md) na buď mezipaměti nebo [změnit počet horizontálních oddílů](cache-how-to-premium-clustering.md) když mezipaměť obsahuje povoleným clusteringem.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-123">You can't initiate a [scaling operation](cache-how-to-scale.md) on either cache or [change the number of shards](cache-how-to-premium-clustering.md) if the cache has clustering enabled.</span></span>
- <span data-ttu-id="eb9b0-124">Nelze zapnout stálost na buď mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-124">You can't enable persistence on either cache.</span></span>
- <span data-ttu-id="eb9b0-125">Můžete použít [exportovat](cache-how-to-import-export-data.md#export) s buď mezipaměti, ale můžete pouze [Import](cache-how-to-import-export-data.md#import) do primární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-125">You can use [Export](cache-how-to-import-export-data.md#export) with either cache, but you can only [Import](cache-how-to-import-export-data.md#import) into the primary linked cache.</span></span>
- <span data-ttu-id="eb9b0-126">Nelze odstranit propojené mezipaměti nebo skupinu prostředků, která obsahuje, dokud neodeberete odkaz geografická replikace.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-126">You can't delete either linked cache, or the resource group that contains them, until you remove the Geo-replication link.</span></span> <span data-ttu-id="eb9b0-127">Další informace najdete v tématu [proč operace nezdaří při pokusu odstranit mé propojené mezipaměti?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span><span class="sxs-lookup"><span data-stu-id="eb9b0-127">For more information, see [Why did the operation fail when I tried to delete my linked cache?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span></span>
- <span data-ttu-id="eb9b0-128">Pokud dva mezipamětí jsou v různých oblastech, náklady na celkový výstup sítě bude použita pro data replikovat přes oblasti sekundární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-128">If the two caches are in different regions, network egress costs will apply to the data replicated across regions to the secondary linked cache.</span></span> <span data-ttu-id="eb9b0-129">Další informace najdete v tématu [kolik stojí k replikaci dat mezi oblastech Azure?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span><span class="sxs-lookup"><span data-stu-id="eb9b0-129">For more information, see [How much does it cost to replicate my data across Azure regions?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span></span>
- <span data-ttu-id="eb9b0-130">Neexistuje žádné automatické převzetí služeb při selhání do sekundárního propojené mezipaměti, pokud primární mezipaměti (a její replika) přejděte.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-130">There is no automatic failover to the secondary linked cache if the primary cache (and its replica) go down.</span></span> <span data-ttu-id="eb9b0-131">V pořadí pro převzetí služeb při selhání klientské aplikace musíte ručně odebrat odkaz geografická replikace a přejděte do mezipaměti, který byl dříve sekundární propojené mezipaměti klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-131">In order to failover client applications, you would need to manually remove the Geo-replication link and point the client applications to the cache that was formerly the secondary linked cache.</span></span> <span data-ttu-id="eb9b0-132">Další informace najdete v tématu [jak funguje převzetí služeb při selhání do sekundárního propojené mezipaměti?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span><span class="sxs-lookup"><span data-stu-id="eb9b0-132">For more information, see [How does failing over to the secondary linked cache work?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span></span>

## <a name="add-a-geo-replication-link"></a><span data-ttu-id="eb9b0-133">Přidat odkaz geografická replikace</span><span class="sxs-lookup"><span data-stu-id="eb9b0-133">Add a Geo-replication link</span></span>

1. <span data-ttu-id="eb9b0-134">Pokud chcete propojit dvě prémiových mezipamětí společně za geografickou replikaci, klikněte na tlačítko **geografická replikace** z nabídky prostředků mezipaměti určený jako primární propojené mezipaměti a pak klikněte na tlačítko **odkaz replikace mezipaměti přidat** z **geografická replikace** okno.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-134">To link two premium caches together for geo-replication, click **Geo-replication** from the Resource menu of the cache intended as the primary linked cache, and then click **Add cache replication link** from the **Geo-replication** blade.</span></span>

    ![Přidání odkazu](./media/cache-how-to-geo-replication/cache-geo-location-menu.png)

2. <span data-ttu-id="eb9b0-136">Klikněte na název požadované sekundární mezipaměti z **kompatibilní mezipamětí** seznamu.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-136">Click the name of the desired secondary cache from the **Compatible caches** list.</span></span> <span data-ttu-id="eb9b0-137">Pokud se v seznamu nezobrazí, požadované mezipaměti, ověřte, zda [požadavky geografická replikace](#geo-replication-prerequisites) pro požadované mezipaměti sekundární jsou splněny.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-137">If your desired cache isn't displayed in the list, verify that the [Geo-replication prerequisites](#geo-replication-prerequisites) for the desired secondary cache are met.</span></span> <span data-ttu-id="eb9b0-138">Chcete-li filtrovat mezipamětí podle oblasti, klikněte na požadovanou oblast v mapě zobrazíte pouze mezipaměti v **kompatibilní mezipamětí** seznamu.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-138">To filter the caches by region, click the desired region in the map to display only those caches in the **Compatible caches** list.</span></span>

    ![Geografická replikace kompatibilní mezipaměti](./media/cache-how-to-geo-replication/cache-geo-location-select-link.png)
    
    <span data-ttu-id="eb9b0-140">Můžete také zahájit proces propojení nebo zobrazit podrobnosti o sekundární mezipaměti pomocí místní nabídky.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-140">You can also initiate the linking process or view details about the secondary cache by using the context menu.</span></span>

    ![Geografická replikace kontextové nabídky](./media/cache-how-to-geo-replication/cache-geo-location-select-link-context-menu.png)

3. <span data-ttu-id="eb9b0-142">Klikněte na tlačítko **odkaz** k propojení dvou mezipamětí společně a zahájit proces replikace.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-142">Click **Link** to link the two caches together and begin the replication process.</span></span>

    ![Ukládá do mezipaměti odkaz](./media/cache-how-to-geo-replication/cache-geo-location-confirm-link.png)

4. <span data-ttu-id="eb9b0-144">Průběh procesu replikace můžete zobrazit na **geografická replikace** okno.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-144">You can view the progress of the replication process on the **Geo-replication** blade.</span></span>

    ![Stav propojení](./media/cache-how-to-geo-replication/cache-geo-location-linking.png)

    <span data-ttu-id="eb9b0-146">Můžete také zobrazit spojující stavu na **přehled** okno pro primární a sekundární mezipamětí.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-146">You can also view the linking status on the **Overview** blade for both the primary and secondary caches.</span></span>

    ![Stav mezipaměti](./media/cache-how-to-geo-replication/cache-geo-location-link-status.png)

    <span data-ttu-id="eb9b0-148">Po dokončení procesu replikace **propojit stav** změny **úspěšné**.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-148">Once the replication process is complete, the **Link status** changes to **Succeeded**.</span></span>

    ![Stav mezipaměti](./media/cache-how-to-geo-replication/cache-geo-location-link-successful.png)

    <span data-ttu-id="eb9b0-150">Během procesu vytváření primární propojené mezipaměti zůstává k dispozici pro použití ale sekundární propojené mezipaměti není k dispozici, dokud se nedokončí proces propojení.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-150">During the linking process, the primary linked cache remains available for use but the secondary linked cache is not available until the linking process completes.</span></span>

## <a name="remove-a-geo-replication-link"></a><span data-ttu-id="eb9b0-151">Odebrat odkaz geografická replikace</span><span class="sxs-lookup"><span data-stu-id="eb9b0-151">Remove a Geo-replication link</span></span>

1. <span data-ttu-id="eb9b0-152">Odebere propojení mezi dvěma mezipaměti nebo zastavit geografická replikace, klikněte na tlačítko **zrušit propojení mezipamětí** z **geografická replikace** okno.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-152">To remove the link between two caches and stop Geo-replication, click **Unlink caches** from the **Geo-replication** blade.</span></span>
    
    ![Zrušit propojení mezipaměti](./media/cache-how-to-geo-replication/cache-geo-location-unlink.png)

    <span data-ttu-id="eb9b0-154">Po dokončení procesu zrušení propojení sekundární mezipaměť je k dispozici pro čtení i zápisy.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-154">When the unlinking process completes, the secondary cache is available for both reads and writes.</span></span>

>[!NOTE]
><span data-ttu-id="eb9b0-155">Pokud je odebrán odkaz geografická replikace, replikovaných dat z primární propojené mezipaměti zůstává v sekundární mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-155">When the Geo-replication link is removed, the replicated data from the primary linked cache remains in the secondary cache.</span></span>
>
>

## <a name="geo-replication-faq"></a><span data-ttu-id="eb9b0-156">Geografická replikace – nejčastější dotazy</span><span class="sxs-lookup"><span data-stu-id="eb9b0-156">Geo-replication FAQ</span></span>

- [<span data-ttu-id="eb9b0-157">Můžete použít geografická replikace s mezipamětí úroveň Standard nebo Basic?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-157">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>](#can-i-use-geo-replication-with-a-standard-or-basic-tier-cache)
- [<span data-ttu-id="eb9b0-158">Je k dispozici pro použití Moje mezipaměti během procesu vytváření nebo zrušení propojení?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-158">Is my cache available for use during the linking or unlinking process?</span></span>](#is-my-cache-available-for-use-during-the-linking-or-unlinking-process)
- [<span data-ttu-id="eb9b0-159">Můžete propojit více než dva mezipamětí společně?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-159">Can I link more than two caches together?</span></span>](#can-i-link-more-than-two-caches-together)
- [<span data-ttu-id="eb9b0-160">Můžete propojit dvě mezipaměti z různých předplatných Azure?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-160">Can I link two caches from different Azure subscriptions?</span></span>](#can-i-link-two-caches-from-different-azure-subscriptions)
- [<span data-ttu-id="eb9b0-161">Můžete propojit dvě mezipaměti s jinou velikostí?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-161">Can I link two caches with different sizes?</span></span>](#can-i-link-two-caches-with-different-sizes)
- [<span data-ttu-id="eb9b0-162">Můžete použít geografická replikace s povoleným clusteringem?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-162">Can I use Geo-replication with clustering enabled?</span></span>](#can-i-use-geo-replication-with-clustering-enabled)
- [<span data-ttu-id="eb9b0-163">Můžete použít geografická replikace s Moje mezipamětí ve virtuální síti?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-163">Can I use Geo-replication with my caches in a VNET?</span></span>](#can-i-use-geo-replication-with-my-caches-in-a-vnet)
- [<span data-ttu-id="eb9b0-164">Můžete použít PowerShell nebo rozhraní příkazového řádku Azure ke správě geografická replikace?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-164">Can I use PowerShell or Azure CLI to manage Geo-replication?</span></span>](#can-i-use-powershell-or-azure-cli-to-manage-geo-replication)
- [<span data-ttu-id="eb9b0-165">Kolik stojí replikovat data mezi oblastech Azure?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-165">How much does it cost to replicate my data across Azure regions?</span></span>](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)
- [<span data-ttu-id="eb9b0-166">Proč operace nezdaří při pokusu odstranit mé propojené mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-166">Why did the operation fail when I tried to delete my linked cache?</span></span>](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)
- [<span data-ttu-id="eb9b0-167">Jaké oblasti je vhodné použít pro moje sekundární propojené mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-167">What region should I use for my secondary linked cache?</span></span>](#what-region-should-i-use-for-my-secondary-linked-cache)
- [<span data-ttu-id="eb9b0-168">Jak funguje převzetí služeb při selhání do sekundárního propojené mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-168">How does failing over to the secondary linked cache work?</span></span>](#how-does-failing-over-to-the-secondary-linked-cache-work)

### <a name="can-i-use-geo-replication-with-a-standard-or-basic-tier-cache"></a><span data-ttu-id="eb9b0-169">Můžete použít geografická replikace s mezipamětí úroveň Standard nebo Basic?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-169">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>

<span data-ttu-id="eb9b0-170">Ne, geografická replikace je k dispozici pouze pro prémiových mezipamětí vrstvy.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-170">No, Geo-replication is only available for Premium tier caches.</span></span>

### <a name="is-my-cache-available-for-use-during-the-linking-or-unlinking-process"></a><span data-ttu-id="eb9b0-171">Je k dispozici pro použití Moje mezipaměti během procesu vytváření nebo zrušení propojení?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-171">Is my cache available for use during the linking or unlinking process?</span></span>

- <span data-ttu-id="eb9b0-172">Při propojení dvou mezipamětí společně za geografickou replikaci, zůstane primární propojené mezipaměti k dispozici pro použití ale sekundární propojené mezipaměti není k dispozici, dokud se nedokončí proces propojení.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-172">When linking two caches together for Geo-replication, the primary linked cache remains available for use but the secondary linked cache is not available until the linking process completes.</span></span>
- <span data-ttu-id="eb9b0-173">Při odebírání geografická replikace propojení mezi dvěma mezipamětí, zůstávají dostupné k použití obou mezipamětí.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-173">When removing the Geo-replication link between two caches, both caches remain available for use.</span></span>

### <a name="can-i-link-more-than-two-caches-together"></a><span data-ttu-id="eb9b0-174">Můžete propojit více než dva mezipamětí společně?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-174">Can I link more than two caches together?</span></span>

<span data-ttu-id="eb9b0-175">Ne, při použití geografická replikace můžete propojit pouze dvě mezipamětí společně.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-175">No, when using Geo-replication you can only link two caches together.</span></span>

### <a name="can-i-link-two-caches-from-different-azure-subscriptions"></a><span data-ttu-id="eb9b0-176">Můžete propojit dvě mezipaměti z různých předplatných Azure?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-176">Can I link two caches from different Azure subscriptions?</span></span>

<span data-ttu-id="eb9b0-177">Ne, obě mezipaměti musí být ve stejném předplatném Azure.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-177">No, both caches must be in the same Azure subscription.</span></span>

### <a name="can-i-link-two-caches-with-different-sizes"></a><span data-ttu-id="eb9b0-178">Můžete propojit dvě mezipaměti s jinou velikostí?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-178">Can I link two caches with different sizes?</span></span>

<span data-ttu-id="eb9b0-179">Ano, tak dlouho, dokud sekundární propojené mezipaměti je větší než primární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-179">Yes, as long as the secondary linked cache is larger than the primary linked cache.</span></span>

### <a name="can-i-use-geo-replication-with-clustering-enabled"></a><span data-ttu-id="eb9b0-180">Můžete použít geografická replikace s povoleným clusteringem?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-180">Can I use Geo-replication with clustering enabled?</span></span>

<span data-ttu-id="eb9b0-181">Ano, tak dlouho, dokud obě mezipamětí mít stejný počet horizontálních oddílů.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-181">Yes, as long as both caches have the same number of shards.</span></span>

### <a name="can-i-use-geo-replication-with-my-caches-in-a-vnet"></a><span data-ttu-id="eb9b0-182">Můžete použít geografická replikace s Moje mezipamětí ve virtuální síti?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-182">Can I use Geo-replication with my caches in a VNET?</span></span>

<span data-ttu-id="eb9b0-183">Ano, jsou podporovány geografická replikace mezipamětí ve virtuálních sítí.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-183">Yes, Geo-replication of caches in VNETs are supported.</span></span> 

- <span data-ttu-id="eb9b0-184">Geografická replikace mezi mezipamětí ve stejné virtuální síti je podporována.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-184">Geo-replication between caches in the same VNET is supported.</span></span>
- <span data-ttu-id="eb9b0-185">Geografická replikace mezi mezipaměti v různých virtuálních sítí je také podporována, dvě virtuální sítě jsou nakonfigurovány tak, že prostředky ve virtuální sítě jsou vzájemně dosažitelné prostřednictvím připojení TCP.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-185">Geo-replication between caches in different VNETs is also supported, as long as the two VNETs are configured in such a way that resources in the VNETs are able to reach each other via TCP connections.</span></span>

### <a name="can-i-use-powershell-or-azure-cli-to-manage-geo-replication"></a><span data-ttu-id="eb9b0-186">Můžete použít PowerShell nebo rozhraní příkazového řádku Azure ke správě geografická replikace?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-186">Can I use PowerShell or Azure CLI to manage Geo-replication?</span></span>

<span data-ttu-id="eb9b0-187">V tuto chvíli můžete spravovat pouze geografická replikace pomocí portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-187">At this time you can only manage Geo-replication using the Azure portal.</span></span>

### <a name="how-much-does-it-cost-to-replicate-my-data-across-azure-regions"></a><span data-ttu-id="eb9b0-188">Kolik stojí replikovat data mezi oblastech Azure?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-188">How much does it cost to replicate my data across Azure regions?</span></span>

<span data-ttu-id="eb9b0-189">Pokud používáte geografická replikace, data z primární propojené mezipaměti se replikují do sekundární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-189">When using Geo-replication, data from the primary linked cache is replicated to the secondary linked cache.</span></span> <span data-ttu-id="eb9b0-190">Pokud jsou dvě propojené mezipamětí ve stejné oblasti Azure, je bezplatná pro přenos dat.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-190">If the two linked caches are in the same Azure region, there is no charge for the data transfer.</span></span> <span data-ttu-id="eb9b0-191">Pokud dvě propojené mezipaměti v různých oblastech Azure, je zdarma přenos dat geografické replikace náklady na šířku pásma replikace dat oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-191">If the two linked caches are in different Azure regions, the Geo-Replication data transfer charge is the bandwidth cost of replicating that data to the other Azure region.</span></span> <span data-ttu-id="eb9b0-192">Další informace najdete v tématu [podrobnosti o cenách šířky pásma](https://azure.microsoft.com/pricing/details/bandwidth/).</span><span class="sxs-lookup"><span data-stu-id="eb9b0-192">For more information, see [Bandwidth Pricing Details](https://azure.microsoft.com/pricing/details/bandwidth/).</span></span>

### <a name="why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache"></a><span data-ttu-id="eb9b0-193">Proč operace nezdaří při pokusu odstranit mé propojené mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-193">Why did the operation fail when I tried to delete my linked cache?</span></span>

<span data-ttu-id="eb9b0-194">Při dvou mezipamětí jsou spojeny dohromady, nelze odstranit mezipaměti nebo skupinu prostředků, která je obsahuje, dokud neodeberete odkaz geografická replikace.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-194">When two caches are linked together, you can't delete either cache or the resource group that contains them until you remove the Geo-replication link.</span></span> <span data-ttu-id="eb9b0-195">Pokud se pokusíte odstranit skupinu prostředků, který obsahuje jedno nebo obě propojené mezipamětí, další prostředky ve skupině prostředků se odstraní, ale zůstává skupině prostředků v `deleting` stavu a všechny propojené mezipamětí ve skupině prostředků zůstat v `running` stavu.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-195">If you attempt to delete the resource group that contains one or both of the linked caches, the other resources in the resource group are deleted, but the resource group stays in the `deleting` state and any linked caches in the resource group remain in the `running` state.</span></span> <span data-ttu-id="eb9b0-196">Pokud chcete provést odstranění skupiny prostředků a propojené mezipaměti v něm, zrušit propojení geografická replikace, jak je popsáno v [odebrat odkaz geografická replikace](#remove-a-geo-replication-link).</span><span class="sxs-lookup"><span data-stu-id="eb9b0-196">To complete the deletion of the resource group and the linked caches within it, break the Geo-replication link as described in [Remove a Geo-replication link](#remove-a-geo-replication-link).</span></span>

### <a name="what-region-should-i-use-for-my-secondary-linked-cache"></a><span data-ttu-id="eb9b0-197">Jaké oblasti je vhodné použít pro moje sekundární propojené mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-197">What region should I use for my secondary linked cache?</span></span>

<span data-ttu-id="eb9b0-198">Obecně se doporučuje pro mezipaměť existovat ve stejné oblasti Azure jako aplikace, která se přistupuje.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-198">In general, it is recommended for your cache to exist in the same Azure region as the application that accesses it.</span></span> <span data-ttu-id="eb9b0-199">Pokud vaše aplikace má primární a záložní oblast, musí existovat své mezipaměti primární a sekundární v těchto oblastech stejné.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-199">If your application has a primary and fallback region, then your primary and secondary caches should exist in those same regions.</span></span> <span data-ttu-id="eb9b0-200">Další informace o spárované oblastech najdete v tématu [osvědčené postupy – Azure spárované oblasti](../best-practices-availability-paired-regions.md).</span><span class="sxs-lookup"><span data-stu-id="eb9b0-200">For more information about paired regions, see [Best Practices – Azure Paired regions](../best-practices-availability-paired-regions.md).</span></span>

### <a name="how-does-failing-over-to-the-secondary-linked-cache-work"></a><span data-ttu-id="eb9b0-201">Jak funguje převzetí služeb při selhání do sekundárního propojené mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="eb9b0-201">How does failing over to the secondary linked cache work?</span></span>

<span data-ttu-id="eb9b0-202">V první verzi systému geografická replikace Azure Redis Cache automatické převzetí služeb při selhání v oblastech Azure nepodporuje.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-202">In the initial release of Geo-replication, Azure Redis Cache does not support automatic failover across Azure regions.</span></span> <span data-ttu-id="eb9b0-203">Geografická replikace se používá hlavně ve scénáři zotavení po havárii.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-203">Geo-replication is used primarily in a disaster recovery scenario.</span></span> <span data-ttu-id="eb9b0-204">Ve scénáři zotavení distater by měl v koordinované spíše než umožníte jednotlivé součásti aplikace při rozhodování, kdy přepnout do své zálohy na své vlastní zákazníkům zprovoznit celý zásobník aplikací v oblasti zálohování.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-204">In a distater recovery scenario, customers should bring up the entire application stack in a backup region in a coordinated manner rather than letting individual application components decide when to switch to their backups on their own.</span></span> <span data-ttu-id="eb9b0-205">To je obzvláště důležité pro Redis.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-205">This is especially relevant to Redis.</span></span> <span data-ttu-id="eb9b0-206">Jedním z klíčových výhod Redis je, že se jedná o velmi nízkou latencí úložiště.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-206">One of the key benefits of Redis is that it is a very low-latency store.</span></span> <span data-ttu-id="eb9b0-207">Pokud Redis používaný aplikací k převezme v jiné oblasti Azure, ale nemá výpočetní vrstvě, doba odezvy přidané by mít znatelný dopad na výkon.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-207">If Redis used by an application fails over to a different Azure region but the compute tier does not, the added round trip time would have a noticeable impact on performance.</span></span> <span data-ttu-id="eb9b0-208">Z tohoto důvodu jsme přeje, aby se zabránilo selhání Redis přes automaticky z důvodu problémů s dostupností přechodný.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-208">For this reason, we would like to avoid Redis failing over automatically due to transient availability issues.</span></span>

<span data-ttu-id="eb9b0-209">V současné době zahájíte převzetí služeb při selhání, musíte odebrat odkaz geografická replikace na portálu Azure a poté změňte koncový bod připojení v klientovi Redis z primární propojené mezipaměti (dříve propojené) sekundární mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-209">Currently, to initiate the failover, you need to remove the Geo-replication link in the Azure portal, and then change the connection end-point in the Redis client from the primary linked cache to the (formerly linked) secondary cache.</span></span> <span data-ttu-id="eb9b0-210">Pokud nejsou přidruženy k dvě mezipamětí, replika se stane regulární mezipaměti pro čtení a zápis znovu a přijímá požadavky přímo z klientů Redis.</span><span class="sxs-lookup"><span data-stu-id="eb9b0-210">When the two caches are disassociated, the replica becomes a regular read-write cache again and accepts requests directly from Redis clients.</span></span>


## <a name="next-steps"></a><span data-ttu-id="eb9b0-211">Další kroky</span><span class="sxs-lookup"><span data-stu-id="eb9b0-211">Next steps</span></span>

<span data-ttu-id="eb9b0-212">Další informace o [Azure Redis Cache na úrovni Premium](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="eb9b0-212">Learn more about the [Azure Redis Cache Premium tier](cache-premium-tier-intro.md).</span></span>

