---
title: "aaaHow tooconfigure geografická replikace pro Azure Redis Cache | Microsoft Docs"
description: "Zjistěte, jak tooreplicate Azure Redis Cache instancí v zeměpisných oblastech."
services: redis-cache
documentationcenter: 
author: steved0x
manager: douge
editor: 
ms.assetid: 375643dc-dbac-4bab-8004-d9ae9570440d
ms.service: cache
ms.workload: tbd
ms.tgt_pltfrm: cache-redis
ms.devlang: na
ms.topic: article
ms.date: 07/06/2017
ms.author: sdanie
ms.openlocfilehash: edcd6f202b51055d1a4e47ecaf11f9977d50aa81
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooconfigure-geo-replication-for-azure-redis-cache"></a><span data-ttu-id="69468-103">Jak tooconfigure geografická replikace pro Azure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="69468-103">How tooconfigure Geo-replication for Azure Redis Cache</span></span>

<span data-ttu-id="69468-104">Geografická replikace poskytuje mechanismus pro propojení dvě instance vrstvy Azure Redis Cache Premium.</span><span class="sxs-lookup"><span data-stu-id="69468-104">Geo-replication provides a mechanism for linking two Premium tier Azure Redis Cache instances.</span></span> <span data-ttu-id="69468-105">Jeden mezipaměti je určený jako primární propojené mezipaměti hello a hello jiných jako sekundární propojené mezipaměti hello.</span><span class="sxs-lookup"><span data-stu-id="69468-105">One cache is designated as hello primary linked cache, and hello other as hello secondary linked cache.</span></span> <span data-ttu-id="69468-106">Hello sekundární propojené mezipaměti se stane, jen pro čtení a data napsané toohello primární mezipaměť je replikují toohello sekundární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="69468-106">hello secondary linked cache becomes read-only, and data written toohello primary cache is replicated toohello secondary linked cache.</span></span> <span data-ttu-id="69468-107">Tuto funkci lze použít tooreplicate mezipaměti nad oblastmi Azure.</span><span class="sxs-lookup"><span data-stu-id="69468-107">This functionality can be used tooreplicate a cache across Azure regions.</span></span> <span data-ttu-id="69468-108">Tento článek obsahuje Průvodce tooconfiguring geografická replikace pro vaše instance služby Azure Redis Cache Premium vrstvy.</span><span class="sxs-lookup"><span data-stu-id="69468-108">This article provides a guide tooconfiguring Geo-replication for your Premium tier Azure Redis Cache instances.</span></span>

## <a name="geo-replication-prerequisites"></a><span data-ttu-id="69468-109">Geografická replikace požadavky</span><span class="sxs-lookup"><span data-stu-id="69468-109">Geo-replication prerequisites</span></span>

<span data-ttu-id="69468-110">musí být splněné tooconfigure geografická replikace mezi dvěma mezipamětí, hello následující požadavky:</span><span class="sxs-lookup"><span data-stu-id="69468-110">tooconfigure Geo-replication between two caches, hello following prerequisites must be met:</span></span>

- <span data-ttu-id="69468-111">Musí být obě mezipamětí [úroveň Premium](cache-premium-tier-intro.md) ukládá do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="69468-111">Both caches must be [Premium tier](cache-premium-tier-intro.md) caches.</span></span>
- <span data-ttu-id="69468-112">Obě mezipaměti musí být v hello stejného předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="69468-112">Both caches must be in hello same Azure subscription.</span></span>
- <span data-ttu-id="69468-113">Hello sekundární propojené mezipaměti musí být buď hello stejné cenová úroveň nebo větší cenovou úroveň než primární propojené mezipaměť hello.</span><span class="sxs-lookup"><span data-stu-id="69468-113">hello secondary linked cache must be either hello same pricing tier or a larger pricing tier than hello primary linked cache.</span></span>
- <span data-ttu-id="69468-114">Pokud primární propojené mezipaměti hello povoleným clusteringem, clustering povolit hello hello sekundární propojené mezipaměti musí mít stejný počet horizontálních oddílů jako primární propojené mezipaměti hello.</span><span class="sxs-lookup"><span data-stu-id="69468-114">If hello primary linked cache has clustering enabled, hello secondary linked cache must have clustering enabled with hello same number of shards as hello primary linked cache.</span></span>
- <span data-ttu-id="69468-115">Obě mezipaměti musí být vytvořený a ve spuštěném stavu.</span><span class="sxs-lookup"><span data-stu-id="69468-115">Both caches must be created and in a running state.</span></span>
- <span data-ttu-id="69468-116">U buď mezipaměti nesmí být povolena trvalost.</span><span class="sxs-lookup"><span data-stu-id="69468-116">Persistence must not be enabled on either cache.</span></span>
- <span data-ttu-id="69468-117">Geografická replikace mezi mezipaměti v hello stejnou virtuální síť je podporována.</span><span class="sxs-lookup"><span data-stu-id="69468-117">Geo-replication between caches in hello same VNET is supported.</span></span> <span data-ttu-id="69468-118">Geografická replikace mezi mezipaměti v různých virtuálních sítí se také podporuje, hello dvě virtuální sítě jsou nakonfigurovány tak, aby byly prostředky ve virtuální sítě hello možné tooreach navzájem prostřednictvím připojení TCP.</span><span class="sxs-lookup"><span data-stu-id="69468-118">Geo-replication between caches in different VNETs is also supported, as long as hello two VNETs are configured in such a way that resources in hello VNETs are able tooreach each other via TCP connections.</span></span>

<span data-ttu-id="69468-119">Po dokončení konfigurace geografická replikace hello platí následující omezení pár tooyour propojené mezipaměti:</span><span class="sxs-lookup"><span data-stu-id="69468-119">After Geo-replication is configured, hello following restrictions apply tooyour linked cache pair:</span></span>

- <span data-ttu-id="69468-120">Hello sekundární propojené mezipaměť je jen pro čtení; si můžete přečíst z něj však nelze zapsat všechny tooit data.</span><span class="sxs-lookup"><span data-stu-id="69468-120">hello secondary linked cache is read-only; you can read from it, but you can't write any data tooit.</span></span> 
- <span data-ttu-id="69468-121">Odeberou se všechna data, která byla v hello sekundární propojené mezipaměti před přidáním odkazu hello.</span><span class="sxs-lookup"><span data-stu-id="69468-121">Any data that was in hello secondary linked cache before hello link was added is removed.</span></span> <span data-ttu-id="69468-122">Pokud hello geografická replikace je následně odstraněny ale, hello replikují data zůstanou v mezipaměti pro sekundární propojené hello.</span><span class="sxs-lookup"><span data-stu-id="69468-122">If hello Geo-replication is subsequently removed however, hello replicated data remains in hello secondary linked cache.</span></span>
- <span data-ttu-id="69468-123">Nelze inicializovat, [škálování operaci](cache-how-to-scale.md) na buď mezipaměti nebo [změnit hello počet horizontálních oddílů](cache-how-to-premium-clustering.md) Pokud mezipaměti hello povoleným clusteringem.</span><span class="sxs-lookup"><span data-stu-id="69468-123">You can't initiate a [scaling operation](cache-how-to-scale.md) on either cache or [change hello number of shards](cache-how-to-premium-clustering.md) if hello cache has clustering enabled.</span></span>
- <span data-ttu-id="69468-124">Nelze zapnout stálost na buď mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="69468-124">You can't enable persistence on either cache.</span></span>
- <span data-ttu-id="69468-125">Můžete použít [exportovat](cache-how-to-import-export-data.md#export) s buď mezipaměti, ale můžete pouze [Import](cache-how-to-import-export-data.md#import) do hello primární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="69468-125">You can use [Export](cache-how-to-import-export-data.md#export) with either cache, but you can only [Import](cache-how-to-import-export-data.md#import) into hello primary linked cache.</span></span>
- <span data-ttu-id="69468-126">Nelze odstranit propojené mezipaměti nebo hello skupinu prostředků, který obsahuje, dokud neodeberete hello geografická replikace propojení.</span><span class="sxs-lookup"><span data-stu-id="69468-126">You can't delete either linked cache, or hello resource group that contains them, until you remove hello Geo-replication link.</span></span> <span data-ttu-id="69468-127">Další informace najdete v tématu [proč hello operace selhat, když jsem se toodelete Moje propojené mezipaměti?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span><span class="sxs-lookup"><span data-stu-id="69468-127">For more information, see [Why did hello operation fail when I tried toodelete my linked cache?](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)</span></span>
- <span data-ttu-id="69468-128">Pokud dva mezipamětí hello jsou v různých oblastech, bude použita náklady na celkový výstup sítě toohello data se replikují přes oblasti toohello sekundární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="69468-128">If hello two caches are in different regions, network egress costs will apply toohello data replicated across regions toohello secondary linked cache.</span></span> <span data-ttu-id="69468-129">Další informace najdete v tématu [kolik nemá ho náklady tooreplicate svá data v oblastech Azure?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span><span class="sxs-lookup"><span data-stu-id="69468-129">For more information, see [How much does it cost tooreplicate my data across Azure regions?](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)</span></span>
- <span data-ttu-id="69468-130">Neexistuje propojené mezipaměť automatické převzetí služeb při selhání toohello sekundární, pokud primární mezipaměti hello (a její replika) přejděte.</span><span class="sxs-lookup"><span data-stu-id="69468-130">There is no automatic failover toohello secondary linked cache if hello primary cache (and its replica) go down.</span></span> <span data-ttu-id="69468-131">V pořadí toofailover klientské aplikace potřebovali byste toomanually odebrat hello geografická replikace odkaz a bod hello klienta aplikace toohello mezipaměti, který byl dříve hello sekundární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="69468-131">In order toofailover client applications, you would need toomanually remove hello Geo-replication link and point hello client applications toohello cache that was formerly hello secondary linked cache.</span></span> <span data-ttu-id="69468-132">Další informace najdete v tématu [jak selhání přes toohello sekundární propojené mezipaměti funguje?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span><span class="sxs-lookup"><span data-stu-id="69468-132">For more information, see [How does failing over toohello secondary linked cache work?](#how-does-failing-over-to-the-secondary-linked-cache-work)</span></span>

## <a name="add-a-geo-replication-link"></a><span data-ttu-id="69468-133">Přidat odkaz geografická replikace</span><span class="sxs-lookup"><span data-stu-id="69468-133">Add a Geo-replication link</span></span>

1. <span data-ttu-id="69468-134">toolink dva premium ukládá do mezipaměti, společně za geografickou replikaci, klikněte na tlačítko **geografická replikace** z nabídky prostředků hello hello mezipaměti určený jako primární hello propojené mezipaměti a pak klikněte na tlačítko **odkaz replikace mezipaměti přidat**z hello **geografická replikace** okno.</span><span class="sxs-lookup"><span data-stu-id="69468-134">toolink two premium caches together for geo-replication, click **Geo-replication** from hello Resource menu of hello cache intended as hello primary linked cache, and then click **Add cache replication link** from hello **Geo-replication** blade.</span></span>

    ![Přidání odkazu](./media/cache-how-to-geo-replication/cache-geo-location-menu.png)

2. <span data-ttu-id="69468-136">Klikněte na název hello hello potřeby sekundární mezipaměti z hello **kompatibilní mezipamětí** seznamu.</span><span class="sxs-lookup"><span data-stu-id="69468-136">Click hello name of hello desired secondary cache from hello **Compatible caches** list.</span></span> <span data-ttu-id="69468-137">Pokud v seznamu hello nezobrazí požadované mezipaměti, ověřte, že hello [geografická replikace požadavky](#geo-replication-prerequisites) pro potřeby hello splnění sekundární mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="69468-137">If your desired cache isn't displayed in hello list, verify that hello [Geo-replication prerequisites](#geo-replication-prerequisites) for hello desired secondary cache are met.</span></span> <span data-ttu-id="69468-138">toofilter hello mezipamětí podle oblasti, klikněte na požadovanou oblast hello v toodisplay mapy hello pouze ty ukládá do mezipaměti v hello **kompatibilní mezipamětí** seznamu.</span><span class="sxs-lookup"><span data-stu-id="69468-138">toofilter hello caches by region, click hello desired region in hello map toodisplay only those caches in hello **Compatible caches** list.</span></span>

    ![Geografická replikace kompatibilní mezipaměti](./media/cache-how-to-geo-replication/cache-geo-location-select-link.png)
    
    <span data-ttu-id="69468-140">Lze také zahájit hello propojení procesu nebo zobrazení podrobností o sekundární mezipaměti hello pomocí hello kontextové nabídky.</span><span class="sxs-lookup"><span data-stu-id="69468-140">You can also initiate hello linking process or view details about hello secondary cache by using hello context menu.</span></span>

    ![Geografická replikace kontextové nabídky](./media/cache-how-to-geo-replication/cache-geo-location-select-link-context-menu.png)

3. <span data-ttu-id="69468-142">Klikněte na tlačítko **odkaz** toolink hello dvě mezipamětí společně a spusťte proces replikace hello.</span><span class="sxs-lookup"><span data-stu-id="69468-142">Click **Link** toolink hello two caches together and begin hello replication process.</span></span>

    ![Ukládá do mezipaměti odkaz](./media/cache-how-to-geo-replication/cache-geo-location-confirm-link.png)

4. <span data-ttu-id="69468-144">Hello průběh procesu hello replikace můžete zobrazit na hello **geografická replikace** okno.</span><span class="sxs-lookup"><span data-stu-id="69468-144">You can view hello progress of hello replication process on hello **Geo-replication** blade.</span></span>

    ![Stav propojení](./media/cache-how-to-geo-replication/cache-geo-location-linking.png)

    <span data-ttu-id="69468-146">Můžete také zobrazit hello propojení stavu na hello **přehled** okno pro obě primární a sekundární mezipamětí hello.</span><span class="sxs-lookup"><span data-stu-id="69468-146">You can also view hello linking status on hello **Overview** blade for both hello primary and secondary caches.</span></span>

    ![Stav mezipaměti](./media/cache-how-to-geo-replication/cache-geo-location-link-status.png)

    <span data-ttu-id="69468-148">Po dokončení procesu replikace hello hello **propojit stav** změní příliš**úspěšné**.</span><span class="sxs-lookup"><span data-stu-id="69468-148">Once hello replication process is complete, hello **Link status** changes too**Succeeded**.</span></span>

    ![Stav mezipaměti](./media/cache-how-to-geo-replication/cache-geo-location-link-successful.png)

    <span data-ttu-id="69468-150">Během hello proces propojení zůstane hello primární propojené mezipaměti k dispozici pro použití ale hello sekundární propojené mezipaměti není k dispozici, dokud se nedokončí hello proces propojení.</span><span class="sxs-lookup"><span data-stu-id="69468-150">During hello linking process, hello primary linked cache remains available for use but hello secondary linked cache is not available until hello linking process completes.</span></span>

## <a name="remove-a-geo-replication-link"></a><span data-ttu-id="69468-151">Odebrat odkaz geografická replikace</span><span class="sxs-lookup"><span data-stu-id="69468-151">Remove a Geo-replication link</span></span>

1. <span data-ttu-id="69468-152">Klikněte na tlačítko tooremove hello propojení mezi dvěma mezipaměti a ukončení geografická replikace, **zrušit propojení mezipamětí** z hello **geografická replikace** okno.</span><span class="sxs-lookup"><span data-stu-id="69468-152">tooremove hello link between two caches and stop Geo-replication, click **Unlink caches** from hello **Geo-replication** blade.</span></span>
    
    ![Zrušit propojení mezipaměti](./media/cache-how-to-geo-replication/cache-geo-location-unlink.png)

    <span data-ttu-id="69468-154">Po dokončení procesu zrušení propojení hello hello sekundární mezipaměti je k dispozici pro obě čte a zapisuje.</span><span class="sxs-lookup"><span data-stu-id="69468-154">When hello unlinking process completes, hello secondary cache is available for both reads and writes.</span></span>

>[!NOTE]
><span data-ttu-id="69468-155">Pokud je odebrán odkaz hello geografická replikace, hello replikovaných dat z hello primární propojené mezipaměti zůstanou v mezipaměti sekundární hello.</span><span class="sxs-lookup"><span data-stu-id="69468-155">When hello Geo-replication link is removed, hello replicated data from hello primary linked cache remains in hello secondary cache.</span></span>
>
>

## <a name="geo-replication-faq"></a><span data-ttu-id="69468-156">Geografická replikace – nejčastější dotazy</span><span class="sxs-lookup"><span data-stu-id="69468-156">Geo-replication FAQ</span></span>

- [<span data-ttu-id="69468-157">Můžete použít geografická replikace s mezipamětí úroveň Standard nebo Basic?</span><span class="sxs-lookup"><span data-stu-id="69468-157">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>](#can-i-use-geo-replication-with-a-standard-or-basic-tier-cache)
- [<span data-ttu-id="69468-158">Je k dispozici pro použití při propojování hello nebo zrušení propojení proces Moje mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="69468-158">Is my cache available for use during hello linking or unlinking process?</span></span>](#is-my-cache-available-for-use-during-the-linking-or-unlinking-process)
- [<span data-ttu-id="69468-159">Můžete propojit více než dva mezipamětí společně?</span><span class="sxs-lookup"><span data-stu-id="69468-159">Can I link more than two caches together?</span></span>](#can-i-link-more-than-two-caches-together)
- [<span data-ttu-id="69468-160">Můžete propojit dvě mezipaměti z různých předplatných Azure?</span><span class="sxs-lookup"><span data-stu-id="69468-160">Can I link two caches from different Azure subscriptions?</span></span>](#can-i-link-two-caches-from-different-azure-subscriptions)
- [<span data-ttu-id="69468-161">Můžete propojit dvě mezipaměti s jinou velikostí?</span><span class="sxs-lookup"><span data-stu-id="69468-161">Can I link two caches with different sizes?</span></span>](#can-i-link-two-caches-with-different-sizes)
- [<span data-ttu-id="69468-162">Můžete použít geografická replikace s povoleným clusteringem?</span><span class="sxs-lookup"><span data-stu-id="69468-162">Can I use Geo-replication with clustering enabled?</span></span>](#can-i-use-geo-replication-with-clustering-enabled)
- [<span data-ttu-id="69468-163">Můžete použít geografická replikace s Moje mezipamětí ve virtuální síti?</span><span class="sxs-lookup"><span data-stu-id="69468-163">Can I use Geo-replication with my caches in a VNET?</span></span>](#can-i-use-geo-replication-with-my-caches-in-a-vnet)
- [<span data-ttu-id="69468-164">Můžete použít PowerShell nebo rozhraní příkazového řádku Azure toomanage geografická replikace?</span><span class="sxs-lookup"><span data-stu-id="69468-164">Can I use PowerShell or Azure CLI toomanage Geo-replication?</span></span>](#can-i-use-powershell-or-azure-cli-to-manage-geo-replication)
- [<span data-ttu-id="69468-165">Kolik stojí tooreplicate svá data v oblastech Azure?</span><span class="sxs-lookup"><span data-stu-id="69468-165">How much does it cost tooreplicate my data across Azure regions?</span></span>](#how-much-does-it-cost-to-replicate-my-data-across-azure-regions)
- [<span data-ttu-id="69468-166">Proč hello operace selhat, když jsem se toodelete Moje propojené mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="69468-166">Why did hello operation fail when I tried toodelete my linked cache?</span></span>](#why-did-the-operation-fail-when-i-tried-to-delete-my-linked-cache)
- [<span data-ttu-id="69468-167">Jaké oblasti je vhodné použít pro moje sekundární propojené mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="69468-167">What region should I use for my secondary linked cache?</span></span>](#what-region-should-i-use-for-my-secondary-linked-cache)
- [<span data-ttu-id="69468-168">Jak funguje selhání přes toohello sekundární propojené mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="69468-168">How does failing over toohello secondary linked cache work?</span></span>](#how-does-failing-over-to-the-secondary-linked-cache-work)

### <a name="can-i-use-geo-replication-with-a-standard-or-basic-tier-cache"></a><span data-ttu-id="69468-169">Můžete použít geografická replikace s mezipamětí úroveň Standard nebo Basic?</span><span class="sxs-lookup"><span data-stu-id="69468-169">Can I use Geo-replication with a Standard or Basic tier cache?</span></span>

<span data-ttu-id="69468-170">Ne, geografická replikace je k dispozici pouze pro prémiových mezipamětí vrstvy.</span><span class="sxs-lookup"><span data-stu-id="69468-170">No, Geo-replication is only available for Premium tier caches.</span></span>

### <a name="is-my-cache-available-for-use-during-hello-linking-or-unlinking-process"></a><span data-ttu-id="69468-171">Je k dispozici pro použití při propojování hello nebo zrušení propojení proces Moje mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="69468-171">Is my cache available for use during hello linking or unlinking process?</span></span>

- <span data-ttu-id="69468-172">Při propojení dvou mezipamětí společně za geografickou replikaci, zůstane hello primární propojené mezipaměti k dispozici pro použití ale hello sekundární propojené mezipaměti není k dispozici, dokud se nedokončí hello proces propojení.</span><span class="sxs-lookup"><span data-stu-id="69468-172">When linking two caches together for Geo-replication, hello primary linked cache remains available for use but hello secondary linked cache is not available until hello linking process completes.</span></span>
- <span data-ttu-id="69468-173">Při odebírání hello geografická replikace propojení mezi dvěma mezipamětí, zůstávají dostupné k použití obou mezipamětí.</span><span class="sxs-lookup"><span data-stu-id="69468-173">When removing hello Geo-replication link between two caches, both caches remain available for use.</span></span>

### <a name="can-i-link-more-than-two-caches-together"></a><span data-ttu-id="69468-174">Můžete propojit více než dva mezipamětí společně?</span><span class="sxs-lookup"><span data-stu-id="69468-174">Can I link more than two caches together?</span></span>

<span data-ttu-id="69468-175">Ne, při použití geografická replikace můžete propojit pouze dvě mezipamětí společně.</span><span class="sxs-lookup"><span data-stu-id="69468-175">No, when using Geo-replication you can only link two caches together.</span></span>

### <a name="can-i-link-two-caches-from-different-azure-subscriptions"></a><span data-ttu-id="69468-176">Můžete propojit dvě mezipaměti z různých předplatných Azure?</span><span class="sxs-lookup"><span data-stu-id="69468-176">Can I link two caches from different Azure subscriptions?</span></span>

<span data-ttu-id="69468-177">Ne, obě mezipaměti musí být v hello stejného předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="69468-177">No, both caches must be in hello same Azure subscription.</span></span>

### <a name="can-i-link-two-caches-with-different-sizes"></a><span data-ttu-id="69468-178">Můžete propojit dvě mezipaměti s jinou velikostí?</span><span class="sxs-lookup"><span data-stu-id="69468-178">Can I link two caches with different sizes?</span></span>

<span data-ttu-id="69468-179">Ano, tak dlouho, dokud sekundární propojené mezipaměti hello je větší než hello primární propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="69468-179">Yes, as long as hello secondary linked cache is larger than hello primary linked cache.</span></span>

### <a name="can-i-use-geo-replication-with-clustering-enabled"></a><span data-ttu-id="69468-180">Můžete použít geografická replikace s povoleným clusteringem?</span><span class="sxs-lookup"><span data-stu-id="69468-180">Can I use Geo-replication with clustering enabled?</span></span>

<span data-ttu-id="69468-181">Ano, tak dlouho, dokud obě mezipaměti mají hello stejný počet horizontálních oddílů.</span><span class="sxs-lookup"><span data-stu-id="69468-181">Yes, as long as both caches have hello same number of shards.</span></span>

### <a name="can-i-use-geo-replication-with-my-caches-in-a-vnet"></a><span data-ttu-id="69468-182">Můžete použít geografická replikace s Moje mezipamětí ve virtuální síti?</span><span class="sxs-lookup"><span data-stu-id="69468-182">Can I use Geo-replication with my caches in a VNET?</span></span>

<span data-ttu-id="69468-183">Ano, jsou podporovány geografická replikace mezipamětí ve virtuálních sítí.</span><span class="sxs-lookup"><span data-stu-id="69468-183">Yes, Geo-replication of caches in VNETs are supported.</span></span> 

- <span data-ttu-id="69468-184">Geografická replikace mezi mezipaměti v hello stejnou virtuální síť je podporována.</span><span class="sxs-lookup"><span data-stu-id="69468-184">Geo-replication between caches in hello same VNET is supported.</span></span>
- <span data-ttu-id="69468-185">Geografická replikace mezi mezipaměti v různých virtuálních sítí se také podporuje, hello dvě virtuální sítě jsou nakonfigurovány tak, aby byly prostředky ve virtuální sítě hello možné tooreach navzájem prostřednictvím připojení TCP.</span><span class="sxs-lookup"><span data-stu-id="69468-185">Geo-replication between caches in different VNETs is also supported, as long as hello two VNETs are configured in such a way that resources in hello VNETs are able tooreach each other via TCP connections.</span></span>

### <a name="can-i-use-powershell-or-azure-cli-toomanage-geo-replication"></a><span data-ttu-id="69468-186">Můžete použít PowerShell nebo rozhraní příkazového řádku Azure toomanage geografická replikace?</span><span class="sxs-lookup"><span data-stu-id="69468-186">Can I use PowerShell or Azure CLI toomanage Geo-replication?</span></span>

<span data-ttu-id="69468-187">V tuto chvíli, které můžete spravovat pouze hello geografická replikace pomocí portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="69468-187">At this time you can only manage Geo-replication using hello Azure portal.</span></span>

### <a name="how-much-does-it-cost-tooreplicate-my-data-across-azure-regions"></a><span data-ttu-id="69468-188">Kolik stojí tooreplicate svá data v oblastech Azure?</span><span class="sxs-lookup"><span data-stu-id="69468-188">How much does it cost tooreplicate my data across Azure regions?</span></span>

<span data-ttu-id="69468-189">Při použití geografická replikace, data z primární propojené mezipaměti hello je sekundární replikované toohello propojené mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="69468-189">When using Geo-replication, data from hello primary linked cache is replicated toohello secondary linked cache.</span></span> <span data-ttu-id="69468-190">Pokud hello dvě propojené mezipamětí jsou v hello stejné oblasti Azure, je bezplatná pro přenos dat hello.</span><span class="sxs-lookup"><span data-stu-id="69468-190">If hello two linked caches are in hello same Azure region, there is no charge for hello data transfer.</span></span> <span data-ttu-id="69468-191">Pokud hello dvě propojené mezipamětí jsou v různých oblastech Azure, hello poplatků přenos dat geografické replikace je náklady na šířku pásma hello replikace tohoto data toohello jiné oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="69468-191">If hello two linked caches are in different Azure regions, hello Geo-Replication data transfer charge is hello bandwidth cost of replicating that data toohello other Azure region.</span></span> <span data-ttu-id="69468-192">Další informace najdete v tématu [podrobnosti o cenách šířky pásma](https://azure.microsoft.com/pricing/details/bandwidth/).</span><span class="sxs-lookup"><span data-stu-id="69468-192">For more information, see [Bandwidth Pricing Details](https://azure.microsoft.com/pricing/details/bandwidth/).</span></span>

### <a name="why-did-hello-operation-fail-when-i-tried-toodelete-my-linked-cache"></a><span data-ttu-id="69468-193">Proč hello operace selhat, když jsem se toodelete Moje propojené mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="69468-193">Why did hello operation fail when I tried toodelete my linked cache?</span></span>

<span data-ttu-id="69468-194">Při dvou mezipamětí jsou spojeny dohromady, nelze odstranit mezipaměti nebo hello skupinu prostředků, který je obsahuje, dokud neodeberete hello geografická replikace propojení.</span><span class="sxs-lookup"><span data-stu-id="69468-194">When two caches are linked together, you can't delete either cache or hello resource group that contains them until you remove hello Geo-replication link.</span></span> <span data-ttu-id="69468-195">Pokud se pokusíte skupiny prostředků hello toodelete, který obsahuje jedno nebo obě hello propojené mezipamětí, hello další prostředky ve skupině prostředků hello se odstraní, ale skupinu prostředků hello zůstává v hello `deleting` stavu a všechny propojené mezipamětí ve skupině prostředků hello zůstat v hello `running` stavu.</span><span class="sxs-lookup"><span data-stu-id="69468-195">If you attempt toodelete hello resource group that contains one or both of hello linked caches, hello other resources in hello resource group are deleted, but hello resource group stays in hello `deleting` state and any linked caches in hello resource group remain in hello `running` state.</span></span> <span data-ttu-id="69468-196">toocomplete hello odstranění skupiny prostředků hello a hello propojené mezipaměti v něm zalomení hello geografická replikace propojení, jak je popsáno v [odebrat odkaz geografická replikace](#remove-a-geo-replication-link).</span><span class="sxs-lookup"><span data-stu-id="69468-196">toocomplete hello deletion of hello resource group and hello linked caches within it, break hello Geo-replication link as described in [Remove a Geo-replication link](#remove-a-geo-replication-link).</span></span>

### <a name="what-region-should-i-use-for-my-secondary-linked-cache"></a><span data-ttu-id="69468-197">Jaké oblasti je vhodné použít pro moje sekundární propojené mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="69468-197">What region should I use for my secondary linked cache?</span></span>

<span data-ttu-id="69468-198">Obecně se doporučuje pro vaší mezipaměti tooexist v hello stejné oblasti Azure jako hello aplikace, který přistupuje k ho.</span><span class="sxs-lookup"><span data-stu-id="69468-198">In general, it is recommended for your cache tooexist in hello same Azure region as hello application that accesses it.</span></span> <span data-ttu-id="69468-199">Pokud vaše aplikace má primární a záložní oblast, musí existovat své mezipaměti primární a sekundární v těchto oblastech stejné.</span><span class="sxs-lookup"><span data-stu-id="69468-199">If your application has a primary and fallback region, then your primary and secondary caches should exist in those same regions.</span></span> <span data-ttu-id="69468-200">Další informace o spárované oblastech najdete v tématu [osvědčené postupy – Azure spárované oblasti](../best-practices-availability-paired-regions.md).</span><span class="sxs-lookup"><span data-stu-id="69468-200">For more information about paired regions, see [Best Practices – Azure Paired regions](../best-practices-availability-paired-regions.md).</span></span>

### <a name="how-does-failing-over-toohello-secondary-linked-cache-work"></a><span data-ttu-id="69468-201">Jak funguje selhání přes toohello sekundární propojené mezipaměti?</span><span class="sxs-lookup"><span data-stu-id="69468-201">How does failing over toohello secondary linked cache work?</span></span>

<span data-ttu-id="69468-202">V hello počáteční verze geografická replikace Azure Redis Cache automatické převzetí služeb při selhání v oblastech Azure nepodporuje.</span><span class="sxs-lookup"><span data-stu-id="69468-202">In hello initial release of Geo-replication, Azure Redis Cache does not support automatic failover across Azure regions.</span></span> <span data-ttu-id="69468-203">Geografická replikace se používá hlavně ve scénáři zotavení po havárii.</span><span class="sxs-lookup"><span data-stu-id="69468-203">Geo-replication is used primarily in a disaster recovery scenario.</span></span> <span data-ttu-id="69468-204">Ve scénáři zotavení distater zákazníci měli zprovoznit hello celý zásobník aplikací v oblasti zálohování v koordinované spíše než umožníte jednotlivé součásti aplikace při rozhodování, kdy tooswitch tootheir zálohy na své vlastní.</span><span class="sxs-lookup"><span data-stu-id="69468-204">In a distater recovery scenario, customers should bring up hello entire application stack in a backup region in a coordinated manner rather than letting individual application components decide when tooswitch tootheir backups on their own.</span></span> <span data-ttu-id="69468-205">To je obzvláště důležité tooRedis.</span><span class="sxs-lookup"><span data-stu-id="69468-205">This is especially relevant tooRedis.</span></span> <span data-ttu-id="69468-206">Jedním z klíčových výhod Redis hello je, že se jedná o velmi nízkou latencí úložiště.</span><span class="sxs-lookup"><span data-stu-id="69468-206">One of hello key benefits of Redis is that it is a very low-latency store.</span></span> <span data-ttu-id="69468-207">Pokud Redis používá aplikace převezme tooa jiné oblasti Azure, ale hello výpočetní vrstvě nemá, hello přidat zaokrouhlí času by mít znatelný dopad na výkon.</span><span class="sxs-lookup"><span data-stu-id="69468-207">If Redis used by an application fails over tooa different Azure region but hello compute tier does not, hello added round trip time would have a noticeable impact on performance.</span></span> <span data-ttu-id="69468-208">Z tohoto důvodu rádi bychom znali selhání Redis tooavoid přes automaticky z důvodu problémů s dostupností tootransient.</span><span class="sxs-lookup"><span data-stu-id="69468-208">For this reason, we would like tooavoid Redis failing over automatically due tootransient availability issues.</span></span>

<span data-ttu-id="69468-209">V současné době tooinitiate hello převzetí služeb při selhání, je nutné tooremove hello geografická replikace na odkaz v hello portál Azure a poté změňte koncový bod připojení hello v klientovi Redis hello z hello primární propojené mezipaměti toohello (dříve propojené) sekundární mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="69468-209">Currently, tooinitiate hello failover, you need tooremove hello Geo-replication link in hello Azure portal, and then change hello connection end-point in hello Redis client from hello primary linked cache toohello (formerly linked) secondary cache.</span></span> <span data-ttu-id="69468-210">Když hello, které nejsou přidruženy k dvě mezipamětí, hello replika se stane běžný pro čtení a zápis mezipaměti znovu a přijímá požadavky přímo z klientů Redis.</span><span class="sxs-lookup"><span data-stu-id="69468-210">When hello two caches are disassociated, hello replica becomes a regular read-write cache again and accepts requests directly from Redis clients.</span></span>


## <a name="next-steps"></a><span data-ttu-id="69468-211">Další kroky</span><span class="sxs-lookup"><span data-stu-id="69468-211">Next steps</span></span>

<span data-ttu-id="69468-212">Další informace o hello [Azure Redis Cache na úrovni Premium](cache-premium-tier-intro.md).</span><span class="sxs-lookup"><span data-stu-id="69468-212">Learn more about hello [Azure Redis Cache Premium tier](cache-premium-tier-intro.md).</span></span>

