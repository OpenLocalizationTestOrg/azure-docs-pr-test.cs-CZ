---
title: "aaaMigrate Služba mezipaměti spravovaných aplikací tooRedis - Azure | Microsoft Docs"
description: "Zjistěte, jak toomigrate spravované služby mezipaměti a mezipaměti v roli aplikace tooAzure Redis Cache"
services: redis-cache
documentationcenter: na
author: steved0x
manager: douge
editor: tysonn
ms.assetid: 041f077b-8c8e-4d7c-a3fc-89d334ed70d6
ms.service: cache
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: cache-redis
ms.workload: tbd
ms.date: 05/30/2017
ms.author: sdanie
ms.openlocfilehash: bd81722820acf0d2637828fbb6100c723aafeba5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="migrate-from-managed-cache-service-tooazure-redis-cache"></a><span data-ttu-id="aa00a-103">Migrace z tooAzure spravované služby mezipaměti Redis Cache</span><span class="sxs-lookup"><span data-stu-id="aa00a-103">Migrate from Managed Cache Service tooAzure Redis Cache</span></span>
<span data-ttu-id="aa00a-104">Migrace vaší aplikace, které používají tooAzure služba spravovaných mezipaměti Azure Redis Cache lze provést s minimálními změnami tooyour aplikací, v závislosti na hello spravované služby mezipaměti funkce, které používá aplikaci ukládání do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="aa00a-104">Migrating your applications that use Azure Managed Cache Service tooAzure Redis Cache can be accomplished with minimal changes tooyour application, depending on hello Managed Cache Service features used by your caching application.</span></span> <span data-ttu-id="aa00a-105">Když hello rozhraní API jsou přesně hello stejné jsou podobné a většinu váš stávající kód, který používá služba spravovaných mezipaměti tooaccess mezipaměti lze opětovně použít s minimálními změnami.</span><span class="sxs-lookup"><span data-stu-id="aa00a-105">While hello APIs are not exactly hello same they are similar, and much of your existing code that uses Managed Cache Service tooaccess a cache can be reused with minimal changes.</span></span> <span data-ttu-id="aa00a-106">Toto téma ukazuje, jak toomake hello nezbytné konfigurace a aplikace se změní toomigrate toouse aplikace vaší spravovanou službu mezipaměti Azure Redis Cache a ukazuje, jak některých funkcí hello Azure Redis Cache lze použít tooimplement hello funkce Spravovat službu mezipaměti mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="aa00a-106">This topic shows how toomake hello necessary configuration and application changes toomigrate your Managed Cache Service applications toouse Azure Redis Cache, and shows how some of hello features of Azure Redis Cache can be used tooimplement hello functionality of a Managed Cache Service cache.</span></span>

>[!NOTE]
><span data-ttu-id="aa00a-107">Spravované služby mezipaměti a mezipaměť hostovaná v instanci Role byly [vyřazeno](https://azure.microsoft.com/blog/azure-managed-cache-and-in-role-cache-services-to-be-retired-on-11-30-2016/) 30. listopadu 2016.</span><span class="sxs-lookup"><span data-stu-id="aa00a-107">Managed Cache Service and In-Role Cache were [retired](https://azure.microsoft.com/blog/azure-managed-cache-and-in-role-cache-services-to-be-retired-on-11-30-2016/) November 30, 2016.</span></span> <span data-ttu-id="aa00a-108">Pokud máte všechna nasazení mezipaměť hostovaná v instanci Role, které chcete toomigrate tooAzure Redis Cache, můžete provést hello kroky v tomto článku.</span><span class="sxs-lookup"><span data-stu-id="aa00a-108">If you have any In-Role Cache deployments that you want toomigrate tooAzure Redis Cache, you can follow hello steps in this article.</span></span>

## <a name="migration-steps"></a><span data-ttu-id="aa00a-109">Kroky migrace</span><span class="sxs-lookup"><span data-stu-id="aa00a-109">Migration Steps</span></span>
<span data-ttu-id="aa00a-110">Hello následující kroky jsou požadované toomigrate toouse aplikace spravovanou službu mezipaměti Azure Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="aa00a-110">hello following steps are required toomigrate a Managed Cache Service application toouse Azure Redis Cache.</span></span>

* <span data-ttu-id="aa00a-111">Mapování funkce tooAzure spravované služby mezipaměti Redis Cache</span><span class="sxs-lookup"><span data-stu-id="aa00a-111">Map Managed Cache Service features tooAzure Redis Cache</span></span>
* <span data-ttu-id="aa00a-112">Vyberte nabídku mezipaměti</span><span class="sxs-lookup"><span data-stu-id="aa00a-112">Choose a Cache Offering</span></span>
* <span data-ttu-id="aa00a-113">Vytvoření mezipaměti</span><span class="sxs-lookup"><span data-stu-id="aa00a-113">Create a Cache</span></span>
* <span data-ttu-id="aa00a-114">Konfigurace klientů mezipaměti hello</span><span class="sxs-lookup"><span data-stu-id="aa00a-114">Configure hello Cache Clients</span></span>
  * <span data-ttu-id="aa00a-115">Odebrat hello konfigurace služby spravované mezipaměti</span><span class="sxs-lookup"><span data-stu-id="aa00a-115">Remove hello Managed Cache Service Configuration</span></span>
  * <span data-ttu-id="aa00a-116">Konfigurace klienta mezipaměti pomocí hello balíček StackExchange.Redis NuGet</span><span class="sxs-lookup"><span data-stu-id="aa00a-116">Configure a cache client using hello StackExchange.Redis NuGet Package</span></span>
* <span data-ttu-id="aa00a-117">Migrace kódu spravované služby mezipaměti</span><span class="sxs-lookup"><span data-stu-id="aa00a-117">Migrate Managed Cache Service code</span></span>
  * <span data-ttu-id="aa00a-118">Připojit toohello mezipaměti pomocí hello ConnectionMultiplexer – třída</span><span class="sxs-lookup"><span data-stu-id="aa00a-118">Connect toohello cache using hello ConnectionMultiplexer class</span></span>
  * <span data-ttu-id="aa00a-119">Primitivní datové typy přístupu v mezipaměti hello</span><span class="sxs-lookup"><span data-stu-id="aa00a-119">Access primitive data types in hello cache</span></span>
  * <span data-ttu-id="aa00a-120">Práce s objekty .NET v mezipaměti hello</span><span class="sxs-lookup"><span data-stu-id="aa00a-120">Work with .NET objects in hello cache</span></span>
* <span data-ttu-id="aa00a-121">Migrace stavu relace ASP.NET a ukládání výstupu do mezipaměti tooAzure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="aa00a-121">Migrate ASP.NET Session State and Output caching tooAzure Redis Cache</span></span> 

## <a name="map-managed-cache-service-features-tooazure-redis-cache"></a><span data-ttu-id="aa00a-122">Mapování funkce tooAzure spravované služby mezipaměti Redis Cache</span><span class="sxs-lookup"><span data-stu-id="aa00a-122">Map Managed Cache Service features tooAzure Redis Cache</span></span>
<span data-ttu-id="aa00a-123">Azure spravované Cache Service a Azure Redis Cache jsou podobné, ale některé z jejich funkcí implementovat různými způsoby.</span><span class="sxs-lookup"><span data-stu-id="aa00a-123">Azure Managed Cache Service and Azure Redis Cache are similar but implement some of their features in different ways.</span></span> <span data-ttu-id="aa00a-124">Tato část popisuje některé rozdíly hello a poskytuje pokyny k implementaci hello funkcí služby mezipaměti spravované ve službě Azure Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="aa00a-124">This section describes some of hello differences and provides guidance on implementing hello features of Managed Cache Service in Azure Redis Cache.</span></span>

| <span data-ttu-id="aa00a-125">Spravované funkce Cache Service</span><span class="sxs-lookup"><span data-stu-id="aa00a-125">Managed Cache Service feature</span></span> | <span data-ttu-id="aa00a-126">Podpora spravovaného Cache Service</span><span class="sxs-lookup"><span data-stu-id="aa00a-126">Managed Cache Service support</span></span> | <span data-ttu-id="aa00a-127">Podpora Azure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="aa00a-127">Azure Redis Cache support</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aa00a-128">Pojmenované mezipaměti</span><span class="sxs-lookup"><span data-stu-id="aa00a-128">Named caches</span></span> |<span data-ttu-id="aa00a-129">Výchozí mezipaměti je nakonfigurován, a v hello lze nakonfigurovat Standard a Premium mezipaměti nabídek, až toonine další s názvem mezipaměti v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="aa00a-129">A default cache is configured, and in hello Standard and Premium cache offerings, up toonine additional named caches can be configured if desired.</span></span> |<span data-ttu-id="aa00a-130">Azure Redis Cache úrovní mít konfigurovat počet databází (výchozí 16), které se dají použít tooimplement, který ukládá do mezipaměti podobné funkce toonamed.</span><span class="sxs-lookup"><span data-stu-id="aa00a-130">Azure Redis caches have a configurable number of databases (default of 16) that can be used tooimplement a similar functionality toonamed caches.</span></span> <span data-ttu-id="aa00a-131">Další informace najdete v tématu [Co jsou databáze Redis?](cache-faq.md#what-are-redis-databases) a [Výchozí konfigurace serveru Redis](cache-configure.md#default-redis-server-configuration).</span><span class="sxs-lookup"><span data-stu-id="aa00a-131">For more information, see [What are Redis databases?](cache-faq.md#what-are-redis-databases) and [Default Redis server configuration](cache-configure.md#default-redis-server-configuration).</span></span> |
| <span data-ttu-id="aa00a-132">Vysoká dostupnost</span><span class="sxs-lookup"><span data-stu-id="aa00a-132">High Availability</span></span> |<span data-ttu-id="aa00a-133">Poskytuje vysokou dostupnost pro položky v mezipaměti hello v mezipaměti nabídky hello Standard a Premium.</span><span class="sxs-lookup"><span data-stu-id="aa00a-133">Provides high availability for items in hello cache in hello Standard and Premium cache offerings.</span></span> <span data-ttu-id="aa00a-134">Pokud jsou ztraceny z důvodu selhání tooa položky, jsou stále k dispozici záložní kopie hello položky v mezipaměti hello.</span><span class="sxs-lookup"><span data-stu-id="aa00a-134">If items are lost due tooa failure, backup copies of hello items in hello cache are still available.</span></span> <span data-ttu-id="aa00a-135">Zapíše sekundární mezipaměti toohello probíhají synchronně.</span><span class="sxs-lookup"><span data-stu-id="aa00a-135">Writes toohello secondary cache are made synchronously.</span></span> |<span data-ttu-id="aa00a-136">Zajištění vysoké dostupnosti je k dispozici v hello Standard a Premium mezipaměti nabídky, které mají konfiguraci dva uzly primární/replika (pár primární/replika má každý horizontálního oddílu v mezipaměti Premium).</span><span class="sxs-lookup"><span data-stu-id="aa00a-136">High availability is available in hello Standard and Premium cache offerings, which have a two node Primary/Replica configuration (each shard in a Premium cache has a primary/replica pair).</span></span> <span data-ttu-id="aa00a-137">Zápisy toohello repliky jsou vytvářeny asynchronně.</span><span class="sxs-lookup"><span data-stu-id="aa00a-137">Writes toohello replica are made asynchronously.</span></span> <span data-ttu-id="aa00a-138">Další informace najdete v tématu [cenách Azure Redis Cache](https://azure.microsoft.com/pricing/details/cache/).</span><span class="sxs-lookup"><span data-stu-id="aa00a-138">For more information, see [Azure Redis Cache pricing](https://azure.microsoft.com/pricing/details/cache/).</span></span> |
| <span data-ttu-id="aa00a-139">Oznámení</span><span class="sxs-lookup"><span data-stu-id="aa00a-139">Notifications</span></span> |<span data-ttu-id="aa00a-140">Umožňuje asynchronní oznámení, klienti tooreceive když celou řadu operace mezipaměti, ke kterým došlo u pojmenované mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="aa00a-140">Allows clients tooreceive asynchronous notifications when a variety of cache operations occur on a named cache.</span></span> |<span data-ttu-id="aa00a-141">Klientské aplikace můžete použít protokol pub nebo sub Redis nebo [oznámení Keyspace](cache-configure.md#keyspace-notifications-advanced-settings) tooachieve podobné toonotifications funkce.</span><span class="sxs-lookup"><span data-stu-id="aa00a-141">Client applications can use Redis pub/sub or [Keyspace notifications](cache-configure.md#keyspace-notifications-advanced-settings) tooachieve a similar functionality toonotifications.</span></span> |
| <span data-ttu-id="aa00a-142">Místní mezipaměť</span><span class="sxs-lookup"><span data-stu-id="aa00a-142">Local cache</span></span> |<span data-ttu-id="aa00a-143">Ukládá kopie v mezipaměti objektů místně na klientovi hello velmi rychlý přístup.</span><span class="sxs-lookup"><span data-stu-id="aa00a-143">Stores a copy of cached objects locally on hello client for extra-fast access.</span></span> |<span data-ttu-id="aa00a-144">Klientské aplikace potřebovat tooimplement tuto funkci pomocí slovníku nebo podobné datové struktury.</span><span class="sxs-lookup"><span data-stu-id="aa00a-144">Client applications would need tooimplement this functionality using a dictionary or similar data structure.</span></span> |
| <span data-ttu-id="aa00a-145">Zásady vyřazení</span><span class="sxs-lookup"><span data-stu-id="aa00a-145">Eviction Policy</span></span> |<span data-ttu-id="aa00a-146">Žádná nebo hodnoty nejdelšího Nepoužití.</span><span class="sxs-lookup"><span data-stu-id="aa00a-146">None or LRU.</span></span> <span data-ttu-id="aa00a-147">Výchozí zásada Hello je hodnoty nejdelšího Nepoužití.</span><span class="sxs-lookup"><span data-stu-id="aa00a-147">hello default policy is LRU.</span></span> |<span data-ttu-id="aa00a-148">Azure Redis Cache podporuje následující zásady vyřazení hello: volatile lru, allkeys lru, náhodné volatile, allkeys náhodné, volatile ttl, noeviction.</span><span class="sxs-lookup"><span data-stu-id="aa00a-148">Azure Redis Cache supports hello following eviction policies: volatile-lru, allkeys-lru, volatile-random, allkeys-random, volatile-ttl, noeviction.</span></span> <span data-ttu-id="aa00a-149">Výchozí zásada Hello je volatile hodnoty nejdelšího nepoužití.</span><span class="sxs-lookup"><span data-stu-id="aa00a-149">hello default policy is volatile-lru.</span></span> <span data-ttu-id="aa00a-150">Další informace najdete v tématu [konfigurace serveru výchozí Redis](cache-configure.md#default-redis-server-configuration).</span><span class="sxs-lookup"><span data-stu-id="aa00a-150">For more information, see [Default Redis server configuration](cache-configure.md#default-redis-server-configuration).</span></span> |
| <span data-ttu-id="aa00a-151">Zásady vypršení platnosti</span><span class="sxs-lookup"><span data-stu-id="aa00a-151">Expiration Policy</span></span> |<span data-ttu-id="aa00a-152">interval vypršení platnosti výchozí hello je deset minut zásad vypršení platnosti výchozí Hello je absolutní.</span><span class="sxs-lookup"><span data-stu-id="aa00a-152">hello default expiration policy is Absolute and hello default expiration interval is ten minutes.</span></span> <span data-ttu-id="aa00a-153">Klouzavé a nikdy zásady jsou také k dispozici.</span><span class="sxs-lookup"><span data-stu-id="aa00a-153">Sliding and Never policies are also available.</span></span> |<span data-ttu-id="aa00a-154">Ve výchozím nastavení se položky v mezipaměti hello nevyprší, ale dá se vypršení platnosti na základě zápisu za použití mezipaměti sady přetížení.</span><span class="sxs-lookup"><span data-stu-id="aa00a-154">By default items in hello cache do not expire, but an expiration can be configured on a per write basis using cache set overloads.</span></span> <span data-ttu-id="aa00a-155">Další informace najdete v tématu [přidat a načtení objektů z mezipaměti hello](cache-dotnet-how-to-use-azure-redis-cache.md#add-and-retrieve-objects-from-the-cache).</span><span class="sxs-lookup"><span data-stu-id="aa00a-155">For more information, see [Add and retrieve objects from hello cache](cache-dotnet-how-to-use-azure-redis-cache.md#add-and-retrieve-objects-from-the-cache).</span></span> |
| <span data-ttu-id="aa00a-156">Oblasti a označování</span><span class="sxs-lookup"><span data-stu-id="aa00a-156">Regions and Tagging</span></span> |<span data-ttu-id="aa00a-157">Oblasti jsou podskupiny pro položky v mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="aa00a-157">Regions are subgroups for cached items.</span></span> <span data-ttu-id="aa00a-158">Oblasti také podporují hello poznámky položek v mezipaměti s další popisné řetězce názvem značky.</span><span class="sxs-lookup"><span data-stu-id="aa00a-158">Regions also support hello annotation of cached items with additional descriptive strings called tags.</span></span> <span data-ttu-id="aa00a-159">Oblasti podpory hello možnost tooperform operace hledání na všech položek s příznakem v této oblasti.</span><span class="sxs-lookup"><span data-stu-id="aa00a-159">Regions support hello ability tooperform search operations on any tagged items in that region.</span></span> <span data-ttu-id="aa00a-160">Všechny položky v rámci oblasti se nacházejí v rámci jednoho uzlu clusteru mezipaměti hello.</span><span class="sxs-lookup"><span data-stu-id="aa00a-160">All items within a region are located within a single node of hello cache cluster.</span></span> |<span data-ttu-id="aa00a-161">Mezipaměť Redis se skládá z jednoho uzlu (Pokud je povolená Redis clusteru) tak hello konceptu oblastech spravovaných Cache Service se nevztahuje.</span><span class="sxs-lookup"><span data-stu-id="aa00a-161">A Redis cache consists of a single node (unless Redis cluster is enabled) so hello concept of Managed Cache Service regions does not apply.</span></span> <span data-ttu-id="aa00a-162">Při načítání klíče tak, aby popisné značky mohou být vloženy do hello názvy klíčů a později používá tooretrieve hello položky redis podporuje vyhledávání a operace zástupný znak.</span><span class="sxs-lookup"><span data-stu-id="aa00a-162">Redis supports searching and wildcard operations when retrieving keys so descriptive tags can be embedded within hello key names and used tooretrieve hello items later.</span></span> <span data-ttu-id="aa00a-163">Příklad implementace označování řešení pomocí Redis, naleznete v části [implementace mezipaměť s Redisem označování](http://stackify.com/implementing-cache-tagging-redis/).</span><span class="sxs-lookup"><span data-stu-id="aa00a-163">For an example of implementing a tagging solution using Redis, see [Implementing cache tagging with Redis](http://stackify.com/implementing-cache-tagging-redis/).</span></span> |
| <span data-ttu-id="aa00a-164">Serializace</span><span class="sxs-lookup"><span data-stu-id="aa00a-164">Serialization</span></span> |<span data-ttu-id="aa00a-165">Managed Cache podporuje NetDataContractSerializer, BinaryFormatter a hello použití vlastní serializátorů.</span><span class="sxs-lookup"><span data-stu-id="aa00a-165">Managed Cache supports NetDataContractSerializer, BinaryFormatter, and hello use of custom serializers.</span></span> <span data-ttu-id="aa00a-166">Výchozí hodnota Hello je NetDataContractSerializer.</span><span class="sxs-lookup"><span data-stu-id="aa00a-166">hello default is NetDataContractSerializer.</span></span> |<span data-ttu-id="aa00a-167">Je zodpovědností hello objekty .NET hello klienta aplikace tooserialize před uvedením do mezipaměti hello hello vybíráte hello serializátor si vývojář aplikace klienta toohello.</span><span class="sxs-lookup"><span data-stu-id="aa00a-167">It is hello responsibility of hello client application tooserialize .NET objects before placing them into hello cache, with hello choice of hello serializer up toohello client application developer.</span></span> <span data-ttu-id="aa00a-168">Další informace a ukázkový kód, najdete v části [práce s objekty .NET v mezipaměti hello](cache-dotnet-how-to-use-azure-redis-cache.md#work-with-net-objects-in-the-cache).</span><span class="sxs-lookup"><span data-stu-id="aa00a-168">For more information and sample code, see [Work with .NET objects in hello cache](cache-dotnet-how-to-use-azure-redis-cache.md#work-with-net-objects-in-the-cache).</span></span> |
| <span data-ttu-id="aa00a-169">Emulátor mezipaměti</span><span class="sxs-lookup"><span data-stu-id="aa00a-169">Cache emulator</span></span> |<span data-ttu-id="aa00a-170">Managed Cache poskytuje emulátoru místní mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="aa00a-170">Managed Cache provides a local cache emulator.</span></span> |<span data-ttu-id="aa00a-171">Azure Redis Cache nemá emulátoru, ale můžete [místní spuštění sestavení MSOpenTech hello redis server.exe](cache-faq.md#cache-emulator) tooprovide emulátoru prostředí.</span><span class="sxs-lookup"><span data-stu-id="aa00a-171">Azure Redis Cache does not have an emulator, but you can [run hello MSOpenTech build of redis-server.exe locally](cache-faq.md#cache-emulator) tooprovide an emulator experience.</span></span> |

## <a name="choose-a-cache-offering"></a><span data-ttu-id="aa00a-172">Vyberte nabídku mezipaměti</span><span class="sxs-lookup"><span data-stu-id="aa00a-172">Choose a Cache Offering</span></span>
<span data-ttu-id="aa00a-173">Microsoft Azure Redis Cache je dostupná v hello následující úrovně:</span><span class="sxs-lookup"><span data-stu-id="aa00a-173">Microsoft Azure Redis Cache is available in hello following tiers:</span></span>

* <span data-ttu-id="aa00a-174">**Basic** – jeden uzel.</span><span class="sxs-lookup"><span data-stu-id="aa00a-174">**Basic** – Single node.</span></span> <span data-ttu-id="aa00a-175">Více velikostí až too53 GB.</span><span class="sxs-lookup"><span data-stu-id="aa00a-175">Multiple sizes up too53 GB.</span></span>
* <span data-ttu-id="aa00a-176">**Standard** – dva uzly Primární/Replika.</span><span class="sxs-lookup"><span data-stu-id="aa00a-176">**Standard** – Two-node Primary/Replica.</span></span> <span data-ttu-id="aa00a-177">Více velikostí až too53 GB.</span><span class="sxs-lookup"><span data-stu-id="aa00a-177">Multiple sizes up too53 GB.</span></span> <span data-ttu-id="aa00a-178">99,9% SLA.</span><span class="sxs-lookup"><span data-stu-id="aa00a-178">99.9% SLA.</span></span>
* <span data-ttu-id="aa00a-179">**Premium** – dva uzly primární/replika s po až too10 horizontálních oddílů.</span><span class="sxs-lookup"><span data-stu-id="aa00a-179">**Premium** – Two-node Primary/Replica with up too10 shards.</span></span> <span data-ttu-id="aa00a-180">Více velikosti od 6 GB too530 GB.</span><span class="sxs-lookup"><span data-stu-id="aa00a-180">Multiple sizes from 6 GB too530 GB.</span></span> <span data-ttu-id="aa00a-181">Všechny funkce úrovně Standard a navíc podpora [clusteru Redis](cache-how-to-premium-clustering.md), [trvalosti Redis](cache-how-to-premium-persistence.md) a [služby Azure Virtual Network](cache-how-to-premium-vnet.md).</span><span class="sxs-lookup"><span data-stu-id="aa00a-181">All Standard tier features and more including support for [Redis cluster](cache-how-to-premium-clustering.md), [Redis persistence](cache-how-to-premium-persistence.md), and [Azure Virtual Network](cache-how-to-premium-vnet.md).</span></span> <span data-ttu-id="aa00a-182">99,9% SLA.</span><span class="sxs-lookup"><span data-stu-id="aa00a-182">99.9% SLA.</span></span>

<span data-ttu-id="aa00a-183">Každá úroveň se liší z hlediska funkcí a cen.</span><span class="sxs-lookup"><span data-stu-id="aa00a-183">Each tier differs in terms of features and pricing.</span></span> <span data-ttu-id="aa00a-184">Hello funkce jsou popsané dál v této příručce a další informace o cenách najdete v tématu [podrobnosti o cenách mezipaměti](https://azure.microsoft.com/pricing/details/cache/).</span><span class="sxs-lookup"><span data-stu-id="aa00a-184">hello features are covered later in this guide, and for more information on pricing, see [Cache Pricing Details](https://azure.microsoft.com/pricing/details/cache/).</span></span>

<span data-ttu-id="aa00a-185">Počáteční bod pro migraci je toopick hello velikost, která odpovídá hello velikost předchozí mezipaměti spravované služby mezipaměti a pak škálovat nahoru nebo dolů v závislosti na požadavcích hello vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="aa00a-185">A starting point for migration is toopick hello size that matches hello size of your previous Managed Cache Service cache, and then scale up or down depending on hello requirements of your application.</span></span> <span data-ttu-id="aa00a-186">Další pokyny k výběru správné nabídky Azure Redis Cache hello, najdete v části [jaké mezipaměť Redis nabídky a velikosti použít?](cache-faq.md#what-redis-cache-offering-and-size-should-i-use).</span><span class="sxs-lookup"><span data-stu-id="aa00a-186">For more guidance on choosing hello right Azure Redis Cache offering, see [What Redis Cache offering and size should I use?](cache-faq.md#what-redis-cache-offering-and-size-should-i-use).</span></span>

## <a name="create-a-cache"></a><span data-ttu-id="aa00a-187">Vytvoření mezipaměti</span><span class="sxs-lookup"><span data-stu-id="aa00a-187">Create a Cache</span></span>
[!INCLUDE [redis-cache-create](../../includes/redis-cache-create.md)]

## <a name="configure-hello-cache-clients"></a><span data-ttu-id="aa00a-188">Konfigurace klientů mezipaměti hello</span><span class="sxs-lookup"><span data-stu-id="aa00a-188">Configure hello Cache Clients</span></span>
<span data-ttu-id="aa00a-189">Jakmile hello mezipaměti je vytvořen a nakonfigurován, hello dalším krokem je konfigurace spravované služby mezipaměti hello tooremove a přidejte hello přidat hello konfigurace Azure Redis Cache a reference, aby klienti mezipaměti mají přístup k mezipaměti hello.</span><span class="sxs-lookup"><span data-stu-id="aa00a-189">Once hello cache is created and configured, hello next step is tooremove hello Managed Cache Service configuration, and add hello add hello Azure Redis Cache configuration and references so that cache clients can access hello cache.</span></span>

* <span data-ttu-id="aa00a-190">Odebrat hello konfigurace služby spravované mezipaměti</span><span class="sxs-lookup"><span data-stu-id="aa00a-190">Remove hello Managed Cache Service Configuration</span></span>
* <span data-ttu-id="aa00a-191">Konfigurace klienta mezipaměti pomocí hello balíček StackExchange.Redis NuGet</span><span class="sxs-lookup"><span data-stu-id="aa00a-191">Configure a cache client using hello StackExchange.Redis NuGet Package</span></span>

### <a name="remove-hello-managed-cache-service-configuration"></a><span data-ttu-id="aa00a-192">Odebrat hello konfigurace služby spravované mezipaměti</span><span class="sxs-lookup"><span data-stu-id="aa00a-192">Remove hello Managed Cache Service Configuration</span></span>
<span data-ttu-id="aa00a-193">Před hello je možné nakonfigurovat klientské aplikace pro Azure Redis Cache, existující konfigurace spravované služby mezipaměti hello a odkazy na sestavení musí být odstraněn odinstalací balíčku NuGet pro spravované mezipaměti Service hello.</span><span class="sxs-lookup"><span data-stu-id="aa00a-193">Before hello client applications can be configured for Azure Redis Cache, hello existing Managed Cache Service configuration and assembly references must be removed by uninstalling hello Managed Cache Service NuGet package.</span></span>

<span data-ttu-id="aa00a-194">toouninstall hello balíčku NuGet pro spravované mezipaměti Service, klikněte pravým tlačítkem na projekt klienta hello v **Průzkumníku řešení** a zvolte **spravovat balíčky NuGet**.</span><span class="sxs-lookup"><span data-stu-id="aa00a-194">toouninstall hello Managed Cache Service NuGet package, right-click hello client project in **Solution Explorer** and choose **Manage NuGet Packages**.</span></span> <span data-ttu-id="aa00a-195">Vyberte hello **nainstalované balíky** uzel a typ W**indowsAzure.Caching** do hello nainstalováno vyhledávání balíčky pole.</span><span class="sxs-lookup"><span data-stu-id="aa00a-195">Select hello **Installed packages** node, and type W**indowsAzure.Caching** into hello Search installed packages box.</span></span> <span data-ttu-id="aa00a-196">Vyberte **Windows** **Azure Cache** (nebo **Windows** **ukládání do mezipaměti Azure** v závislosti na verzi hello balíčku NuGet hello), klikněte na tlačítko  **Odinstalace**a potom klikněte na **Zavřít**.</span><span class="sxs-lookup"><span data-stu-id="aa00a-196">Select **Windows** **Azure Cache** (or **Windows** **Azure Caching** depending on hello version of hello NuGet package), click **Uninstall**, and then click **Close**.</span></span>

![Odinstalace balíčku NuGet Azure Managed Cache Service](./media/cache-migrate-to-redis/IC757666.jpg)

<span data-ttu-id="aa00a-198">Odinstalaci balíčku NuGet pro spravované mezipaměti Service hello odebere hello Služba mezipaměti spravovaných sestavení a hello spravované služby mezipaměti položky v hello app.config nebo web.config klientské aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="aa00a-198">Uninstalling hello Managed Cache Service NuGet package removes hello Managed Cache Service assemblies and hello Managed Cache Service entries in hello app.config or web.config of hello client application.</span></span> <span data-ttu-id="aa00a-199">Protože některé vlastní nastavení nemusí být odebrány při odinstalaci hello balíček NuGet, otevřete soubor web.config nebo app.config a ujistěte se, že hello následující prvky jsou zcela odebrána.</span><span class="sxs-lookup"><span data-stu-id="aa00a-199">Because some customized settings may not be removed when uninstalling hello NuGet package, open web.config or app.config and ensure that hello following elements are completely removed.</span></span>

<span data-ttu-id="aa00a-200">Ujistěte se, že hello `dataCacheClients` položka je odebrána z hello `configSections` elementu.</span><span class="sxs-lookup"><span data-stu-id="aa00a-200">Ensure that hello `dataCacheClients` entry is removed from hello `configSections` element.</span></span> <span data-ttu-id="aa00a-201">Neodebírejte hello celý `configSections` element; právě odebrat hello `dataCacheClients` položku, pokud je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="aa00a-201">Do not remove hello entire `configSections` element; just remove hello `dataCacheClients` entry, if it is present.</span></span>

```xml
<configSections>
  <!-- Existing sections omitted for clarity. -->
  <section name="dataCacheClients"type="Microsoft.ApplicationServer.Caching.DataCacheClientsSection, Microsoft.ApplicationServer.Caching.Core" allowLocation="true" allowDefinition="Everywhere"/>
</configSections>
```

<span data-ttu-id="aa00a-202">Ujistěte se, že hello `dataCacheClients` oddíl je odebrat.</span><span class="sxs-lookup"><span data-stu-id="aa00a-202">Ensure that hello `dataCacheClients` section is removed.</span></span> <span data-ttu-id="aa00a-203">Hello `dataCacheClients` skupinový rámeček je podobné toohello následující ukázka.</span><span class="sxs-lookup"><span data-stu-id="aa00a-203">hello `dataCacheClients` section will be similar toohello following example.</span></span>

```xml
<dataCacheClients>
  <dataCacheClientname="default">
    <!--toouse hello in-role flavor of Azure Cache, set identifier toobe hello cache cluster role name -->
    <!--toouse hello Azure Managed Cache Service, set identifier toobe hello endpoint of hello cache cluster -->
    <autoDiscoverisEnabled="true"identifier="[Cache role name or Service Endpoint]"/>

    <!--<localCache isEnabled="true" sync="TimeoutBased" objectCount="100000" ttlValue="300" />-->
    <!--Use this section toospecify security settings for connecting tooyour cache. This section is not required if your cache is hosted on a role that is a part of your cloud service. -->
    <!--<securityProperties mode="Message" sslEnabled="true">
      <messageSecurity authorizationInfo="[Authentication Key]" />
    </securityProperties>-->
  </dataCacheClient>
</dataCacheClients>
```

<span data-ttu-id="aa00a-204">Odebraný konfigurace hello spravované služby mezipaměti můžete nakonfigurovat hello mezipaměti klienta, jak je popsáno v následující části hello.</span><span class="sxs-lookup"><span data-stu-id="aa00a-204">Once hello Managed Cache Service configuration is removed, you can configure hello cache client as described in hello following section.</span></span>

### <a name="configure-a-cache-client-using-hello-stackexchangeredis-nuget-package"></a><span data-ttu-id="aa00a-205">Konfigurace klienta mezipaměti pomocí hello balíček StackExchange.Redis NuGet</span><span class="sxs-lookup"><span data-stu-id="aa00a-205">Configure a cache client using hello StackExchange.Redis NuGet Package</span></span>
[!INCLUDE [redis-cache-configure](../../includes/redis-cache-configure-stackexchange-redis-nuget.md)]

## <a name="migrate-managed-cache-service-code"></a><span data-ttu-id="aa00a-206">Migrace kódu spravované služby mezipaměti</span><span class="sxs-lookup"><span data-stu-id="aa00a-206">Migrate Managed Cache Service code</span></span>
<span data-ttu-id="aa00a-207">Hello rozhraní API pro klienta mezipaměti StackExchange.Redis hello je podobné toohello spravované mezipaměti služby.</span><span class="sxs-lookup"><span data-stu-id="aa00a-207">hello API for hello StackExchange.Redis cache client is similar toohello Managed Cache Service.</span></span> <span data-ttu-id="aa00a-208">Tato část obsahuje přehled hello rozdíly.</span><span class="sxs-lookup"><span data-stu-id="aa00a-208">This section provides an overview of hello differences.</span></span>

### <a name="connect-toohello-cache-using-hello-connectionmultiplexer-class"></a><span data-ttu-id="aa00a-209">Připojit toohello mezipaměti pomocí hello ConnectionMultiplexer – třída</span><span class="sxs-lookup"><span data-stu-id="aa00a-209">Connect toohello cache using hello ConnectionMultiplexer class</span></span>
<span data-ttu-id="aa00a-210">Ve spravované službě mezipaměti byly zpracovány mezipaměti toohello připojení pomocí hello `DataCacheFactory` a `DataCache` třídy.</span><span class="sxs-lookup"><span data-stu-id="aa00a-210">In Managed Cache Service, connections toohello cache were handled by hello `DataCacheFactory` and `DataCache` classes.</span></span> <span data-ttu-id="aa00a-211">Tato připojení jsou ve službě Azure Redis Cache spravuje hello `ConnectionMultiplexer` třídy.</span><span class="sxs-lookup"><span data-stu-id="aa00a-211">In Azure Redis Cache, these connections are managed by hello `ConnectionMultiplexer` class.</span></span>

<span data-ttu-id="aa00a-212">Přidejte následující hello pomocí příkazu toohello začátek všechny soubory, ze kterého mají být tooaccess hello mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="aa00a-212">Add hello following using statement toohello top of any file from which you want tooaccess hello cache.</span></span>

```c#
using StackExchange.Redis
```

<span data-ttu-id="aa00a-213">Pokud se tento obor názvů se nevyřeší, ujistěte se, že jste přidali hello balíčku StackExchange.Redis NuGet jak je popsáno v [konfigurace klientů mezipaměti hello](cache-dotnet-how-to-use-azure-redis-cache.md#configure-the-cache-clients).</span><span class="sxs-lookup"><span data-stu-id="aa00a-213">If this namespace doesn’t resolve, be sure that you have added hello StackExchange.Redis NuGet package as described in [Configure hello cache clients](cache-dotnet-how-to-use-azure-redis-cache.md#configure-the-cache-clients).</span></span>

> [!NOTE]
> <span data-ttu-id="aa00a-214">Všimněte si, že hello klient StackExchange.Redis vyžaduje rozhraní .NET Framework 4 nebo vyšší.</span><span class="sxs-lookup"><span data-stu-id="aa00a-214">Note that hello StackExchange.Redis client requires .NET Framework 4 or higher.</span></span>
> 
> 

<span data-ttu-id="aa00a-215">instanci Azure Redis Cache tooconnect tooan, statické hello volání `ConnectionMultiplexer.Connect` metoda a předejte jí koncový bod hello a klíč.</span><span class="sxs-lookup"><span data-stu-id="aa00a-215">tooconnect tooan Azure Redis Cache instance, call hello static `ConnectionMultiplexer.Connect` method and pass in hello endpoint and key.</span></span> <span data-ttu-id="aa00a-216">Jeden ze způsobů toosharing `ConnectionMultiplexer` instance v aplikaci je toohave statické vlastnosti, která vrací připojenou instanci, podobně jako toohello následující ukázka.</span><span class="sxs-lookup"><span data-stu-id="aa00a-216">One approach toosharing a `ConnectionMultiplexer` instance in your application is toohave a static property that returns a connected instance, similar toohello following example.</span></span> <span data-ttu-id="aa00a-217">To poskytuje způsob vláken tooinitialize pouze jedné připojené `ConnectionMultiplexer` instance.</span><span class="sxs-lookup"><span data-stu-id="aa00a-217">This provides a thread-safe way tooinitialize only a single connected `ConnectionMultiplexer` instance.</span></span> <span data-ttu-id="aa00a-218">V tomto příkladu `abortConnect` je sada toofalse, což znamená, že hello volání bude úspěšné i v případě, že nebude navázáno připojení toohello mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="aa00a-218">In this example `abortConnect` is set toofalse, which means that hello call will succeed even if a connection toohello cache is not established.</span></span> <span data-ttu-id="aa00a-219">Klíčovou vlastností `ConnectionMultiplexer` je, že automatické obnovení připojení toohello mezipaměti po vyřešení hello problém sítě nebo jiných příčin.</span><span class="sxs-lookup"><span data-stu-id="aa00a-219">One key feature of `ConnectionMultiplexer` is that it will automatically restore connectivity toohello cache once hello network issue or other causes are resolved.</span></span>

```c#
private static Lazy<ConnectionMultiplexer> lazyConnection = new Lazy<ConnectionMultiplexer>(() =>
{
    return ConnectionMultiplexer.Connect("contoso5.redis.cache.windows.net,abortConnect=false,ssl=true,password=...");
});

public static ConnectionMultiplexer Connection
{
    get
    {
        return lazyConnection.Value;
    }
}
```

<span data-ttu-id="aa00a-220">Hello koncový bod mezipaměti, klíče a portů můžete získat z hello **Redis Cache** okně instance mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="aa00a-220">hello cache endpoint, keys, and ports can be obtained from hello **Redis Cache** blade for your cache instance.</span></span> <span data-ttu-id="aa00a-221">Další informace najdete v tématu [Redis Cache vlastnosti](cache-configure.md#properties).</span><span class="sxs-lookup"><span data-stu-id="aa00a-221">For more information, see [Redis Cache properties](cache-configure.md#properties).</span></span>

<span data-ttu-id="aa00a-222">Po navázání připojení hello vrátit databázi mezipaměti Redis toohello odkaz podle volání hello `ConnectionMultiplexer.GetDatabase` metoda.</span><span class="sxs-lookup"><span data-stu-id="aa00a-222">Once hello connection is established, return a reference toohello Redis cache database by calling hello `ConnectionMultiplexer.GetDatabase` method.</span></span> <span data-ttu-id="aa00a-223">Hello objekt byl vrácen ze hello `GetDatabase` metoda je prostý průchozí objekt a není nutné toobe uložené.</span><span class="sxs-lookup"><span data-stu-id="aa00a-223">hello object returned from hello `GetDatabase` method is a lightweight pass-through object and does not need toobe stored.</span></span>

```c#
IDatabase cache = Connection.GetDatabase();

// Perform cache operations using hello cache object...
// Simple put of integral data types into hello cache
cache.StringSet("key1", "value");
cache.StringSet("key2", 25);

// Simple get of data types from hello cache
string key1 = cache.StringGet("key1");
int key2 = (int)cache.StringGet("key2");
```

<span data-ttu-id="aa00a-224">Klient StackExchange.Redis Hello používá hello `RedisKey` a `RedisValue` typy pro přístup k informacím a ukládání položek v mezipaměti hello.</span><span class="sxs-lookup"><span data-stu-id="aa00a-224">hello StackExchange.Redis client uses hello `RedisKey` and `RedisValue` types for accessing and storing items in hello cache.</span></span> <span data-ttu-id="aa00a-225">Tyto typy namapovat na nejvíce primitivní typy jazyka, včetně řetězec a často nepoužívají se přímo.</span><span class="sxs-lookup"><span data-stu-id="aa00a-225">These types map onto most primitive language types, including string, and often are not used directly.</span></span> <span data-ttu-id="aa00a-226">Redis řetězce jsou hello nejzákladnější druh hodnotu Redis a může obsahovat mnoho typů dat, včetně serializovaných binární datové proudy, a při hello typ nemusí používat přímo, budete používat metody, které obsahují `String` v názvu hello.</span><span class="sxs-lookup"><span data-stu-id="aa00a-226">Redis Strings are hello most basic kind of Redis value, and can contain many types of data, including serialized binary streams, and while you may not use hello type directly, you will use methods that contain `String` in hello name.</span></span> <span data-ttu-id="aa00a-227">Pro většinu primitivní datové typy slouží k ukládání a načítání položky z mezipaměti hello pomocí hello `StringSet` a `StringGet` metody, pokud jsou kolekce nebo jiné datové typy Redis ukládání do mezipaměti hello.</span><span class="sxs-lookup"><span data-stu-id="aa00a-227">For most primitive data types you store and retrieve items from hello cache using hello `StringSet` and `StringGet` methods, unless you are storing collections or other Redis data types in hello cache.</span></span> 

<span data-ttu-id="aa00a-228">`StringSet`a `StringGet` jsou velmi podobné toohello spravované mezipaměti služby `Put` a `Get` metody s jedním hlavní rozdíl, že před nastavování a získávání objekt .NET do mezipaměti hello musí serializovat nejdřív.</span><span class="sxs-lookup"><span data-stu-id="aa00a-228">`StringSet` and `StringGet` are very similar toohello Managed Cache Service `Put` and `Get` methods, with one major difference being that before you set and get a .NET object into hello cache you must serialize it first.</span></span> 

<span data-ttu-id="aa00a-229">Při volání metody `StringGet`, pokud objekt hello existuje, bude vrácen, a pokud ne, vrátí se hodnota null.</span><span class="sxs-lookup"><span data-stu-id="aa00a-229">When calling `StringGet`, if hello object exists, it is returned, and if it does not, null is returned.</span></span> <span data-ttu-id="aa00a-230">V takovém případě můžete načíst hodnotu hello z hello požadovaného zdroje dat a uložte ho hello mezipaměti pro pozdější použití.</span><span class="sxs-lookup"><span data-stu-id="aa00a-230">In this case you can retrieve hello value from hello desired data source and store it in hello cache for subsequent use.</span></span> <span data-ttu-id="aa00a-231">To se označuje jako hello doplňováním mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="aa00a-231">This is known as hello cache-aside pattern.</span></span>

<span data-ttu-id="aa00a-232">toospecify hello vypršení platnosti položky v mezipaměti hello, použijte hello `TimeSpan` parametr `StringSet`.</span><span class="sxs-lookup"><span data-stu-id="aa00a-232">toospecify hello expiration of an item in hello cache, use hello `TimeSpan` parameter of `StringSet`.</span></span>

```c#
cache.StringSet("key1", "value1", TimeSpan.FromMinutes(90));
```

<span data-ttu-id="aa00a-233">Azure Redis Cache může pracovat s objekty .NET, jakož i primitivní datové typy, ale před objekt .NET můžete uložit do mezipaměti, musí být serializovány.</span><span class="sxs-lookup"><span data-stu-id="aa00a-233">Azure Redis Cache can work with .NET objects as well as primitive data types, but before a .NET object can be cached it must be serialized.</span></span> <span data-ttu-id="aa00a-234">Toto je zodpovědností hello vývojář aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="aa00a-234">This is hello responsibility of hello application developer.</span></span> <span data-ttu-id="aa00a-235">To dává flexibilní vývojáře hello v hello volbu hello serializátor.</span><span class="sxs-lookup"><span data-stu-id="aa00a-235">This gives hello developer flexibility in hello choice of hello serializer.</span></span> <span data-ttu-id="aa00a-236">Další informace a ukázkový kód, najdete v části [práce s objekty .NET v mezipaměti hello](cache-dotnet-how-to-use-azure-redis-cache.md#work-with-net-objects-in-the-cache).</span><span class="sxs-lookup"><span data-stu-id="aa00a-236">For more information and sample code, see [Work with .NET objects in hello cache](cache-dotnet-how-to-use-azure-redis-cache.md#work-with-net-objects-in-the-cache).</span></span>

## <a name="migrate-aspnet-session-state-and-output-caching-tooazure-redis-cache"></a><span data-ttu-id="aa00a-237">Migrace stavu relace ASP.NET a ukládání výstupu do mezipaměti tooAzure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="aa00a-237">Migrate ASP.NET Session State and Output caching tooAzure Redis Cache</span></span>
<span data-ttu-id="aa00a-238">Azure Redis Cache má zprostředkovatele pro stavu relace ASP.NET a stránky ukládání výstupu do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="aa00a-238">Azure Redis Cache has providers for both ASP.NET Session State and Page Output caching.</span></span> <span data-ttu-id="aa00a-239">toomigrate aplikace, který používá hello spravované služby mezipaměti verze těchto poskytovatelů, nejprve odeberte hello stávající části ze souboru web.config a pak nakonfigurujte hello Azure Redis Cache verze zprostředkovatelů hello.</span><span class="sxs-lookup"><span data-stu-id="aa00a-239">toomigrate your application that uses hello Managed Cache Service versions of these providers, first remove hello existing sections from your web.config, and then configure hello Azure Redis Cache versions of hello providers.</span></span> <span data-ttu-id="aa00a-240">Pokyny týkající se použití hello poskytovatelů Azure Redis Cache ASP.NET, najdete v části [poskytovatele stavu relace ASP.NET pro Azure Redis Cache](cache-aspnet-session-state-provider.md) a [poskytovatel výstupní mezipaměti technologie ASP.NET pro Azure Redis Cache](cache-aspnet-output-cache-provider.md).</span><span class="sxs-lookup"><span data-stu-id="aa00a-240">For instructions on using hello Azure Redis Cache ASP.NET providers, see [ASP.NET Session State Provider for Azure Redis Cache](cache-aspnet-session-state-provider.md) and [ASP.NET Output Cache Provider for Azure Redis Cache](cache-aspnet-output-cache-provider.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="aa00a-241">Další kroky</span><span class="sxs-lookup"><span data-stu-id="aa00a-241">Next steps</span></span>
<span data-ttu-id="aa00a-242">Prozkoumejte hello [dokumentace k Azure Redis Cache](https://azure.microsoft.com/documentation/services/cache/) pro kurzy, ukázky, videa a další.</span><span class="sxs-lookup"><span data-stu-id="aa00a-242">Explore hello [Azure Redis Cache documentation](https://azure.microsoft.com/documentation/services/cache/) for tutorials, samples, videos, and more.</span></span>

