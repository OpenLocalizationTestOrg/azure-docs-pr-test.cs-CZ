# <a name="get-started-using-azure-stream-analytics-real-time-fraud-detection"></a><span data-ttu-id="bc7d4-101">Začněte používat Azure Stream Analytics: odhalování podvodů v reálném čase</span><span class="sxs-lookup"><span data-stu-id="bc7d4-101">Get started using Azure Stream Analytics: Real-time fraud detection</span></span>

<span data-ttu-id="bc7d4-102">V tomto kurzu poskytuje ilustraci začátku do konce jak toouse Azure Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-102">This tutorial provides an end-to-end illustration of how toouse Azure Stream Analytics.</span></span> <span data-ttu-id="bc7d4-103">Získáte informace o těchto tématech:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-103">You learn how to:</span></span> 

* <span data-ttu-id="bc7d4-104">Přepněte do instance služby Azure Event Hubs vysílání datových proudů.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-104">Bring streaming events into an instance of Azure Event Hubs.</span></span> <span data-ttu-id="bc7d4-105">V tomto kurzu budete používat aplikaci, která poskytujeme která simuluje proud záznamů metadat mobilního telefonu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-105">In this tutorial, you'll use an app that we provide that simulates a stream of mobile-phone metadata records.</span></span>

* <span data-ttu-id="bc7d4-106">Zápis SQL jako Stream Analytics dotazy tootransform dat, agregace informací o nebo hledáte vzory.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-106">Write SQL-like Stream Analytics queries tootransform data, aggregating information or looking for patterns.</span></span> <span data-ttu-id="bc7d4-107">Zobrazí se, jak toouse tooexamine dotazu hello příchozího datového proudu a vyhledejte volání, které mohou být podvodné.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-107">You will see how toouse a query tooexamine hello incoming stream and look for calls that might be fraudulent.</span></span>

* <span data-ttu-id="bc7d4-108">Odešlete hello výsledky tooan výstupní jímku (úložiště), abyste mohli analyzovat další statistiky.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-108">Send hello results tooan output sink (storage) that you can analyze for additional insights.</span></span> <span data-ttu-id="bc7d4-109">V takovém případě budete odesílat hello podezřelé volání data tooAzure Blob storage.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-109">In this case, you'll send hello suspicious call data tooAzure Blob storage.</span></span>

<span data-ttu-id="bc7d4-110">V tomto kurzu používáme hello příklad odhalování podvodů v reálném čase, které jsou na základě dat telefonního hovoru.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-110">In  this tutorial, we use hello example of real-time fraud detection based on phone-call data.</span></span> <span data-ttu-id="bc7d4-111">Ale hello techniku, které jsme ilustrují vhodná taky pro jiné typy odhalování podvodů, jako je krádež platební karty podvodu nebo identity.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-111">But hello technique we illustrate is also suited for other types of fraud detection, such as credit card fraud or identity theft.</span></span> 

## <a name="scenario-telecommunications-and-sim-fraud-detection-in-real-time"></a><span data-ttu-id="bc7d4-112">Scénář: Telecommunications a SIM odhalování podvodů v reálném čase</span><span class="sxs-lookup"><span data-stu-id="bc7d4-112">Scenario: Telecommunications and SIM fraud detection in real time</span></span>

<span data-ttu-id="bc7d4-113">Společnost telecommunications má velký objem dat pro příchozí volání.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-113">A telecommunications company has a large volume of data for incoming calls.</span></span> <span data-ttu-id="bc7d4-114">Hello společnost chce toodetect podvodné volá v reálném čase, tak, aby oznámit zákazníků nebo vypnout službu pro specifické číslo.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-114">hello company wants toodetect fraudulent calls in real time so that they can notify customers or shut down service for a specific number.</span></span> <span data-ttu-id="bc7d4-115">Jeden typ SIM podvodů zahrnuje několik volání z hello stejnou identitu kolem hello stejný čas ale v geograficky různých umístění.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-115">One type of SIM fraud involves multiple calls from hello same identity around hello same time but in geographically different locations.</span></span> <span data-ttu-id="bc7d4-116">toodetect tento typ podvodů, hello společnosti musí tooexamine příchozí phone záznamy a vyhledat konkrétní vzory – v takovém případě pro volání provedená kolem hello současně v různých zemí.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-116">toodetect this type of fraud, hello company needs tooexamine incoming phone records and look for specific patterns—in this case, for calls made around hello same time in different countries.</span></span> <span data-ttu-id="bc7d4-117">Všechny záznamy phone, které do této kategorie patří jsou zapsány toostorage pro další analýzu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-117">Any phone records that fall into this category are written toostorage for subsequent analysis.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="bc7d4-118">Požadavky</span><span class="sxs-lookup"><span data-stu-id="bc7d4-118">Prerequisites</span></span>

<span data-ttu-id="bc7d4-119">V tomto kurzu budete simulovat telefonní hovor dat pomocí klientskou aplikaci, která generuje ukázka telefonní hovor metadat.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-119">In this tutorial, you'll simulate phone-call data by using a client app that generates sample phone call metadata.</span></span> <span data-ttu-id="bc7d4-120">Některé hello záznamy, které hello aplikace vytvoří vypadají podvodné volání.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-120">Some of hello records that hello app produces look like fraudulent calls.</span></span> 

<span data-ttu-id="bc7d4-121">Než začnete, ujistěte se, že máte hello následující:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-121">Before you start, make sure you have hello following:</span></span>

* <span data-ttu-id="bc7d4-122">Účet Azure.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-122">An Azure account.</span></span>
* <span data-ttu-id="bc7d4-123">Hello události volání generátor aplikace.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-123">hello call-event generator app.</span></span> <span data-ttu-id="bc7d4-124">Tím získáte stažením hello [TelcoGenerator.zip soubor](http://download.microsoft.com/download/8/B/D/8BD50991-8D54-4F59-AB83-3354B69C8A7E/TelcoGenerator.zip) z hello Microsoft Download Center.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-124">You can get this by downloading hello [TelcoGenerator.zip file](http://download.microsoft.com/download/8/B/D/8BD50991-8D54-4F59-AB83-3354B69C8A7E/TelcoGenerator.zip) from hello Microsoft Download Center.</span></span> <span data-ttu-id="bc7d4-125">Rozbalte tento balíček do složky v počítači.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-125">Unzip this package into a folder on your computer.</span></span> <span data-ttu-id="bc7d4-126">Pokud chcete toosee hello zdrojový kód a spusťte hello aplikace v ladicí program, můžete získat zdrojovém kódu aplikace hello z [Githubu](https://aka.ms/azure-stream-analytics-telcogenerator).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-126">If you want toosee hello source code and run hello app in a debugger, you can get hello app source code from [GitHub](https://aka.ms/azure-stream-analytics-telcogenerator).</span></span> 

    >[!NOTE]
    ><span data-ttu-id="bc7d4-127">Windows mohou blokovat hello stáhnout soubor .zip.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-127">Windows might block hello downloaded .zip file.</span></span> <span data-ttu-id="bc7d4-128">Pokud nelze rozbalte ji, klikněte pravým tlačítkem na soubor hello a vyberte **vlastnosti**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-128">If you can't unzip it, right-click hello file and select **Properties**.</span></span> <span data-ttu-id="bc7d4-129">Pokud se zobrazí hello zpráva "Tento soubor pochází z jiného počítače a může být blokovaný toohelp chránit tento počítač", vyberte hello **Odblokovat** a potom klikněte na **použít**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-129">If you see hello "This file came from another computer and might be blocked toohelp protect this computer" message, select hello **Unblock** option and then click **Apply**.</span></span>

<span data-ttu-id="bc7d4-130">Pokud chcete výsledky hello tooexamine úlohy streamování Analytics hello, musíte taky nástroj pro zobrazení obsahu hello kontejneru Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-130">If you want tooexamine hello results of hello Streaming Analytics job, you also need a tool for viewing hello contents of a Azure Blob Storage container.</span></span> <span data-ttu-id="bc7d4-131">Pokud používáte Visual Studio, můžete použít [nástroje Azure pro sadu Visual Studio](https://docs.microsoft.com/en-us/azure/vs-azure-tools-storage-resources-server-explorer-browse-manage) nebo [cloudu Průzkumníka Visual Studio](https://docs.microsoft.com/en-us/azure/vs-azure-tools-resources-managing-with-cloud-explorer).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-131">If you use Visual Studio, you can use [Azure Tools for Visual Studio](https://docs.microsoft.com/en-us/azure/vs-azure-tools-storage-resources-server-explorer-browse-manage) or [Visual Studio Cloud Explorer](https://docs.microsoft.com/en-us/azure/vs-azure-tools-resources-managing-with-cloud-explorer).</span></span> <span data-ttu-id="bc7d4-132">Alternativně můžete nainstalovat samostatných nástrojů, jako je například [Azure Storage Explorer](http://storageexplorer.com/) nebo [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-132">Alternatively, you can install standalone tools like [Azure Storage Explorer](http://storageexplorer.com/) or [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span></span> 

## <a name="create-an-azure-event-hubs-tooingest-events"></a><span data-ttu-id="bc7d4-133">Vytvoření Azure event hubs tooingest události</span><span class="sxs-lookup"><span data-stu-id="bc7d4-133">Create an Azure event hubs tooingest events</span></span>

<span data-ttu-id="bc7d4-134">tooanalyze datový proud je *ingestování* do Azure.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-134">tooanalyze a data stream, you *ingest* it into Azure.</span></span> <span data-ttu-id="bc7d4-135">Tooingest dat obvyklým způsobem je toouse [Azure Event Hubs](../event-hubs/event-hubs-what-is-event-hubs.md), což vám umožní přijímat miliony událostí za sekundu a pak zpracování a ukládání informací o události hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-135">A typical way tooingest data is toouse [Azure Event Hubs](../event-hubs/event-hubs-what-is-event-hubs.md), which lets you ingest millions of events per second and then process and store hello event information.</span></span> <span data-ttu-id="bc7d4-136">V tomto kurzu vytvoříte centra událostí a pak mít hello události volání generátor aplikace odesílání volání data toothat centra událostí.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-136">For this tutorial, you create an event hub and then have hello call-event generator app send call data toothat event hub.</span></span> <span data-ttu-id="bc7d4-137">Další informace o službě event hubs naleznete v tématu hello [dokumentace Azure Service Bus](https://docs.microsoft.com/en-us/azure/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-137">For more about event hubs, see hello [Azure Service Bus documentation](https://docs.microsoft.com/en-us/azure/service-bus/).</span></span>

>[!NOTE]
><span data-ttu-id="bc7d4-138">Podrobnější verzi tohoto postupu, naleznete v části [vytvoření oboru názvů Event Hubs a Centrum událostí pomocí portálu Azure hello](../event-hubs/event-hubs-create.md).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-138">For a more detailed version of this procedure, see [Create an Event Hubs namespace and an event hub using hello Azure portal](../event-hubs/event-hubs-create.md).</span></span> 

### <a name="create-a-namespace-and-event-hub"></a><span data-ttu-id="bc7d4-139">Vytvořit obor názvů a události rozbočovače</span><span class="sxs-lookup"><span data-stu-id="bc7d4-139">Create a namespace and event hub</span></span>
<span data-ttu-id="bc7d4-140">V tomto postupu vytvoříte na obor názvů centra událostí a poté přidejte namepsace toothat centra událostí.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-140">In this procedure, you first create an event hub namespace, and then you add an event hub toothat namepsace.</span></span> <span data-ttu-id="bc7d4-141">Obory názvů centra událostí jsou používány toologically seskupení souvisejících událostí sběrnice instancí.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-141">Event hub namespaces are used toologically group related event bus instances.</span></span> 

1. <span data-ttu-id="bc7d4-142">Přihlaste se k hello portál Azure a klikněte na tlačítko **nový** > **Internet věcí** > **centra událostí**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-142">Log  into hello Azure portal and click **New** > **Internet of Things** > **Event Hub**.</span></span> 

2. <span data-ttu-id="bc7d4-143">V hello **vytvoření oboru názvů** okno, zadejte název oboru názvů, jako `<yourname>-eh-ns-demo`.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-143">In hello **Create namespace** blade, enter a namespace name such as `<yourname>-eh-ns-demo`.</span></span> <span data-ttu-id="bc7d4-144">Můžete použít libovolný název pro obor názvů hello, ale název hello musí být platné adresy URL a musí být jedinečný v Azure.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-144">You can use any name for hello namespace, but hello name must be valid for a URL and it must be unique across Azure.</span></span> 
    
3. <span data-ttu-id="bc7d4-145">Vyberte předplatné a vytvořit nebo vybrat skupinu prostředků a potom klikněte na tlačítko **vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-145">Select a subscription and create or choose a resource group , then click **Create**.</span></span> 

    ![Vytvoření oboru názvů události rozbočovače](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-namespace-new-portal.png)
 
4. <span data-ttu-id="bc7d4-147">Po dokončení nasazení obor názvů hello najdete hello události rozbočovače oboru názvů v seznamu prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-147">When hello namespace has finished deploying, find hello event hub namespace in your list of Azure resources.</span></span> 

5. <span data-ttu-id="bc7d4-148">Klikněte na tlačítko Nový obor názvů hello a v okně hello obor názvů, klikněte na tlačítko  **+ &nbsp;centra událostí**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-148">Click hello new namespace, and in hello namespace blade, click **+&nbsp;Event Hub**.</span></span> 

    ![<span data-ttu-id="bc7d4-149">tlačítko Přidat centra událostí Hello pro vytvoření nového centra událostí</span><span class="sxs-lookup"><span data-stu-id="bc7d4-149">hello Add Event Hub button for creating a new event hub</span></span> ](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-button-new-portal.png)    
 
6. <span data-ttu-id="bc7d4-150">Název hello nového centra událostí `sa-eh-frauddetection-demo`.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-150">Name hello new event hub `sa-eh-frauddetection-demo`.</span></span> <span data-ttu-id="bc7d4-151">Můžete použít jiný název.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-151">You can use a different name.</span></span> <span data-ttu-id="bc7d4-152">Pokud tak učiníte, poznamenejte si ho, protože potřebujete název hello později.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-152">If you do, make a note of it, because you need hello name later.</span></span> <span data-ttu-id="bc7d4-153">Nepotřebujete tooset další možnosti pro centra událostí hello hned teď.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-153">You don't need tooset any other options for hello event hub right now.</span></span>

    ![Okno pro vytvoření nového centra událostí](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-new-portal.png)
    
 
7. <span data-ttu-id="bc7d4-155">Klikněte na možnost **Vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-155">Click **Create**.</span></span>
### <a name="grant-access-toohello-event-hub-and-get-a-connection-string"></a><span data-ttu-id="bc7d4-156">Udělit přístup k Centru událostí toohello a získat připojovací řetězec</span><span class="sxs-lookup"><span data-stu-id="bc7d4-156">Grant access toohello event hub and get a connection string</span></span>

<span data-ttu-id="bc7d4-157">Předtím, než se proces může odesílat data centra událostí tooan, musí mít centra událostí hello zásadu, která umožňuje odpovídající přístup.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-157">Before a process can send data tooan event hub, hello event hub must have a policy that allows appropriate access.</span></span> <span data-ttu-id="bc7d4-158">zásady přístupu Hello vytvoří připojovací řetězec, který obsahuje informace o ověření.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-158">hello access policy produces a connection string that includes authorization information.</span></span>

1.  <span data-ttu-id="bc7d4-159">V okně oboru názvů událostí hello, klikněte na tlačítko **Event Hubs** a pak klikněte na název hello nového centra událostí.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-159">In hello event namespace blade, click **Event Hubs** and then click hello name of your new event hub.</span></span>

2.  <span data-ttu-id="bc7d4-160">V okně Centrum událostí hello, klikněte na tlačítko **zásady sdíleného přístupu** a pak klikněte na  **+ &nbsp;přidat**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-160">In hello event hub blade, click **Shared access policies** and then click **+&nbsp;Add**.</span></span>

    >[!NOTE]
    ><span data-ttu-id="bc7d4-161">Ujistěte se, že pracujete s hello centra událostí, není hello názvů centra událostí.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-161">Make sure you're working with hello event hub, not hello event hub namespace.</span></span>

3.  <span data-ttu-id="bc7d4-162">Přidat zásadu s názvem `sa-policy-manage-demo` a **deklarace identity**, vyberte **spravovat**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-162">Add a policy named `sa-policy-manage-demo` and for **Claim**, select **Manage**.</span></span>

    ![Okno pro vytvoření nové zásady přístupu centra událostí](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-shared-access-policy-manage-new-portal.png)
 
4.  <span data-ttu-id="bc7d4-164">Klikněte na možnost **Vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-164">Click **Create**.</span></span>

5.  <span data-ttu-id="bc7d4-165">Po hello byla zásada nasazená, klikněte na něj v seznamu hello zásady sdíleného přístupu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-165">After hello policy has been deployed, click it in hello list of shared access policies.</span></span>

6.  <span data-ttu-id="bc7d4-166">Najít hello políčko s názvem **PŘIPOJOVACÍ řetězec primární klíč** a klikněte na tlačítko hello kopie tlačítko Další toohello připojovací řetězec.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-166">Find hello box labeled **CONNECTION STRING-PRIMARY KEY** and click hello copy button next toohello connection string.</span></span> 
    
    ![Kopírování hello primární připojovací řetězec klíč ze zásad přístupu hello](./media/stream-analytics-real-time-fraud-detection/stream-analytics-shared-access-policy-copy-connection-string-new-portal.png)
 
7.  <span data-ttu-id="bc7d4-168">Vložte připojovací řetězec hello do textového editoru.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-168">Paste hello connection string into a text editor.</span></span> <span data-ttu-id="bc7d4-169">Tento připojovací řetězec pro další části hello, musíte po provedení některé tooit malé úpravy.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-169">You need this connection string for hello next section, after you make some small edits tooit.</span></span>

    <span data-ttu-id="bc7d4-170">Hello připojovací řetězec vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-170">hello connection string looks like this:</span></span>

        Endpoint=sb://YOURNAME-eh-ns-demo.servicebus.windows.net/;SharedAccessKeyName=sa-policy-manage-demo;SharedAccessKey=Gw2NFZwU1Di+rxA2T+6hJYAtFExKRXaC2oSQa0ZsPkI=;EntityPath=sa-eh-frauddetection-demo

    <span data-ttu-id="bc7d4-171">Všimněte si, že hello připojovací řetězec obsahuje více párů klíč hodnota oddělené středníky: `Endpoint`, `SharedAccessKeyName`, `SharedAccessKey`, a `EntityPath`.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-171">Notice that hello connection string contains multiple key-value pairs, separated with semicolons: `Endpoint`, `SharedAccessKeyName`, `SharedAccessKey`, and `EntityPath`.</span></span>  

## <a name="configure-and-start-hello-event-generator-application"></a><span data-ttu-id="bc7d4-172">Nakonfigurujte a spusťte aplikaci generátor hello událostí</span><span class="sxs-lookup"><span data-stu-id="bc7d4-172">Configure and start hello event generator application</span></span>

<span data-ttu-id="bc7d4-173">Než začnete hello TelcoGenerator aplikace, musíte ho nakonfigurovat tak, aby se budou odesílat volání záznamy toohello události rozbočovače, který jste právě vytvořili.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-173">Before you start hello TelcoGenerator app, you configure it so that it will send call records toohello event hub you just created.</span></span>

### <a name="configure-hello-telcogeneratorapp"></a><span data-ttu-id="bc7d4-174">Konfigurace hello TelcoGeneratorapp</span><span class="sxs-lookup"><span data-stu-id="bc7d4-174">Configure hello TelcoGeneratorapp</span></span>

1.  <span data-ttu-id="bc7d4-175">V editoru hello, kam jste zkopírovali hello připojovací řetězec, poznamenejte si hello `EntityPath` hodnotu a pak odeberte hello `EntityPath` pár (Nezapomeňte tooremove hello středník, předcházejícího).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-175">In hello editor where you copied hello connection string, make a note of hello `EntityPath` value, and then remove hello `EntityPath` pair (don't forget tooremove hello semicolon that precedes it).</span></span> 

2.  <span data-ttu-id="bc7d4-176">Ve složce hello, kde jste rozbalené hello TelcoGenerator.zip souboru otevřete soubor telcodatagen.exe.config hello v editoru.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-176">In hello folder where you unzipped hello TelcoGenerator.zip file, open hello telcodatagen.exe.config file in an editor.</span></span> <span data-ttu-id="bc7d4-177">(Existuje více než jeden soubor .config, proto se ujistěte, že otevíráte hello doprava o jednu.)</span><span class="sxs-lookup"><span data-stu-id="bc7d4-177">(There is more than one .config file, so be sure that you open hello right one.)</span></span>

3.  <span data-ttu-id="bc7d4-178">V hello `<appSettings>` elementu, to udělat:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-178">In hello `<appSettings>` element, do this:</span></span>

    * <span data-ttu-id="bc7d4-179">Nastavte hodnotu hello hello `EventHubName` klíče toohello název centra událostí (tedy toohello hodnota hello entity cesty).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-179">Set hello value of hello `EventHubName` key toohello event hub name (that is, toohello value of hello entity path).</span></span>
    * <span data-ttu-id="bc7d4-180">Nastavte hodnotu hello hello `Microsoft.ServiceBus.ConnectionString` klíče toohello připojovací řetězec.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-180">Set hello value of hello `Microsoft.ServiceBus.ConnectionString` key toohello connection string.</span></span> 

    <span data-ttu-id="bc7d4-181">Hello `<appSettings>` části bude vypadat podobně jako následující příklad hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-181">hello `<appSettings>` section will look like hello following example.</span></span> <span data-ttu-id="bc7d4-182">(Pro přehlednost, jsme zabalená hello řádky a odebrat některé znaky z hello autorizační token.)</span><span class="sxs-lookup"><span data-stu-id="bc7d4-182">(For clarity, we wrapped hello lines and removed some characters from hello authorization token.)</span></span>

    ![Soubor konfigurace aplikace TelcoGenerator zobrazující hello event hub název a připojovací řetězec](./media/stream-analytics-real-time-fraud-detection/stream-analytics-telcogenerator-config-file-app-settings.png)
 
4.  <span data-ttu-id="bc7d4-184">Uložte soubor hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-184">Save hello file.</span></span> 

### <a name="start-hello-app"></a><span data-ttu-id="bc7d4-185">Spuštění aplikace hello</span><span class="sxs-lookup"><span data-stu-id="bc7d4-185">Start hello app</span></span>
1.  <span data-ttu-id="bc7d4-186">Otevřete okno příkazového řádku a změňte toohello složku, kde je rozbalené aplikace TelcoGenerator hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-186">Open a command window and change toohello folder where hello TelcoGenerator app is unzipped.</span></span>
2.  <span data-ttu-id="bc7d4-187">Zadejte hello následující příkaz:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-187">Enter hello following command:</span></span>

        telcodatagen.exe 1000 .2 2

    <span data-ttu-id="bc7d4-188">Hello parametry jsou:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-188">hello parameters are:</span></span> 

    * <span data-ttu-id="bc7d4-189">Počet disky CDR za hodinu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-189">Number of CDRs per hour.</span></span> 
    * <span data-ttu-id="bc7d4-190">SIM karta podvod pravděpodobnosti: Jak často, jako procento všechna volání hello aplikaci by měla simulovat podvodné volání.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-190">SIM Card Fraud Probability: How often, as a percentage of all calls, that hello app should simulate a fraudulent call.</span></span> <span data-ttu-id="bc7d4-191">Hodnota Hello.2 znamená, že bude vypadat přibližně 20 % hello volání záznamy podvodné.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-191">hello value .2 means that about 20% of hello call records will look fraudulent.</span></span>
    * <span data-ttu-id="bc7d4-192">Doba v hodinách.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-192">Duration in hours.</span></span> <span data-ttu-id="bc7d4-193">Hello počet hodin, které hello aplikace měly být spuštěny.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-193">hello number of hours that hello app should run.</span></span> <span data-ttu-id="bc7d4-194">Můžete také zastavit aplikace hello kdykoli stisknutím kombinace kláves Ctrl + C v příkazovém řádku hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-194">You can also stop hello app any time by pressing Ctrl+C at hello command line.</span></span>

    <span data-ttu-id="bc7d4-195">Za několik sekund spuštění aplikace hello zobrazení telefonní hovor záznamy v úvodní obrazovka jako odešle je toohello centra událostí.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-195">After a few seconds, hello app starts displaying phone call records on hello screen as it sends them toohello event hub.</span></span>

<span data-ttu-id="bc7d4-196">Hello klíčová pole, které budete používat v této aplikaci zjišťování podvodů v reálném čase se hello následující:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-196">Some of hello key fields that you will be using in this real-time fraud detection application are hello following:</span></span>

|<span data-ttu-id="bc7d4-197">**Záznam**</span><span class="sxs-lookup"><span data-stu-id="bc7d4-197">**Record**</span></span>|<span data-ttu-id="bc7d4-198">**Definice**</span><span class="sxs-lookup"><span data-stu-id="bc7d4-198">**Definition**</span></span>|
|----------|--------------|
|`CallrecTime`|<span data-ttu-id="bc7d4-199">časové razítko Hello hello volání počáteční čas.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-199">hello timestamp for hello call start time.</span></span> |
|`SwitchNum`|<span data-ttu-id="bc7d4-200">přepínač telefonní Hello používá tooconnect hello volání.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-200">hello telephone switch used tooconnect hello call.</span></span> <span data-ttu-id="bc7d4-201">V tomto příkladu hello přepínače jsou řetězce, které představují hello země původu (USA, Čína, UK, Německu nebo Austrálie).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-201">For this example, hello switches are strings that represent hello country of origin (US, China, UK, Germany, or Australia).</span></span> |
|`CallingNum`|<span data-ttu-id="bc7d4-202">telefonní číslo Hello hello volajícího.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-202">hello phone number of hello caller.</span></span> |
|`CallingIMSI`|<span data-ttu-id="bc7d4-203">Hello mezinárodní Mobile Subscriber Identity IMSI ().</span><span class="sxs-lookup"><span data-stu-id="bc7d4-203">hello International Mobile Subscriber Identity (IMSI).</span></span> <span data-ttu-id="bc7d4-204">Toto je jedinečný identifikátor volajícím hello hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-204">This is hello Unique identifier of hello caller.</span></span> |
|`CalledNum`|<span data-ttu-id="bc7d4-205">Hello telefonní číslo příjemce volání hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-205">hello phone number of hello call recipient.</span></span> |
|`CalledIMSI`|<span data-ttu-id="bc7d4-206">Mezinárodní mobilní odběratele Identity (IMSI).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-206">International Mobile Subscriber Identity (IMSI).</span></span> <span data-ttu-id="bc7d4-207">Toto je jedinečný identifikátor hello hello volání příjemce.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-207">This is hello unique identifier of hello call recipient.</span></span> |


## <a name="create-a-stream-analytics-job-toomanage-streaming-data"></a><span data-ttu-id="bc7d4-208">Vytvoření toomanage úlohy Stream Analytics, streamování dat</span><span class="sxs-lookup"><span data-stu-id="bc7d4-208">Create a Stream Analytics job toomanage streaming data</span></span>

<span data-ttu-id="bc7d4-209">Teď, když máte datový proud událostí volání, můžete nastavit úlohu služby Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-209">Now that you have a stream of call events, you can set up a Stream Analytics job.</span></span> <span data-ttu-id="bc7d4-210">Úloha Hello bude číst data z hello centra událostí, které jste nastavili.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-210">hello job will read data from hello event hub that you set up.</span></span> 

### <a name="create-hello-job"></a><span data-ttu-id="bc7d4-211">Vytvořit úlohu hello</span><span class="sxs-lookup"><span data-stu-id="bc7d4-211">Create hello job</span></span> 

1. <span data-ttu-id="bc7d4-212">V hello portálu Azure, klikněte na **nový** > **Internet věcí** > **úlohy služby Stream Analytics**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-212">In hello Azure portal, click **New** > **Internet of Things** > **Stream Analytics job**.</span></span>

2. <span data-ttu-id="bc7d4-213">Název úlohy hello `sa_frauddetection_job_demo`, určete předplatné, skupinu prostředků a umístění.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-213">Name hello job `sa_frauddetection_job_demo`, specify a subscription, resource group, and location.</span></span>

    <span data-ttu-id="bc7d4-214">Je vhodné tooplace hello úlohy a hello událostí rozbočovač v hello stejné oblasti pro nejlepší výkon a tak, že nemáte platíte tootransfer dat mezi oblastmi.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-214">It's a good idea tooplace hello job and hello event hub in hello same region for best performance and so that you don't pay tootransfer data between regions.</span></span>

    ![Vytvoření nové úlohy Stream Analytics](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sa-job-new-portal.png)

3. <span data-ttu-id="bc7d4-216">Klikněte na možnost **Vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-216">Click **Create**.</span></span>

    <span data-ttu-id="bc7d4-217">bude vytvořena úloha Hello a hello portálu se zobrazí podrobnosti úlohy.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-217">hello job is created and hello portal displays job details.</span></span> <span data-ttu-id="bc7d4-218">Nic běží ještě, přestože – máte tooconfigure hello úloha může být zahájena.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-218">Nothing is running yet, though—you have tooconfigure hello job before it can be started.</span></span>

### <a name="configure-job-input"></a><span data-ttu-id="bc7d4-219">Konfigurace úlohy vstup</span><span class="sxs-lookup"><span data-stu-id="bc7d4-219">Configure job input</span></span>

1. <span data-ttu-id="bc7d4-220">V řídicím panelu hello nebo hello **všechny prostředky** okno, vyhledejte a vyberte hello `sa_frauddetection_job_demo` úlohy služby Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-220">In hello dashboard or hello **All resources** blade, find and select hello `sa_frauddetection_job_demo` Stream Analytics job.</span></span> 
2. <span data-ttu-id="bc7d4-221">V hello **úlohy topologie** části hello okno úlohy Stream Analytics, klikněte na tlačítko hello **vstup** pole.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-221">In hello **Job Topology** section of hello Stream Analytics job blade, click hello **Input** box.</span></span>

    ![Vstupní pole v části topologie v okně úlohy streamování Analytics hello](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-input-box-new-portal.png)
 
3. <span data-ttu-id="bc7d4-223">Klikněte na tlačítko  **+ &nbsp;přidat** a potom vyplňte hello okno s těmito hodnotami:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-223">Click **+&nbsp;Add** and then fill out hello blade with these values:</span></span>

    * <span data-ttu-id="bc7d4-224">**Vstupní alias**: použití hello název `CallStream`.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-224">**Input alias**: Use hello name `CallStream`.</span></span> <span data-ttu-id="bc7d4-225">Pokud použijete jiný název, poznamenejte si jeho vzhledem k tomu, že ho budete potřebovat později.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-225">If you use a different name, make a note of it because you'll need it later.</span></span>
    * <span data-ttu-id="bc7d4-226">**Typ zdroje**: vyberte **datový proud**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-226">**Source type**: Select **Data stream**.</span></span> <span data-ttu-id="bc7d4-227">(**Referenční data** odkazuje toostatic vyhledávání data, která nebude používat v tomto kurzu.)</span><span class="sxs-lookup"><span data-stu-id="bc7d4-227">(**Reference data** refers toostatic lookup data, which you won't use in this tutorial.)</span></span>
    * <span data-ttu-id="bc7d4-228">**Zdroj**: vyberte **centra událostí**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-228">**Source**: Select **Event hub**.</span></span>
    * <span data-ttu-id="bc7d4-229">**Import možnost**: vyberte **použijte Centrum událostí z aktuálního předplatného**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-229">**Import option**: Select **Use event hub from current subscription**.</span></span> 
    * <span data-ttu-id="bc7d4-230">**Obor názvů sběrnice**: Vyberte hello události rozbočovače názvů, který jste vytvořili dříve (`<yourname>-eh-ns-demo`).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-230">**Service bus namespace**: Select hello event hub namespace that you created earlier (`<yourname>-eh-ns-demo`).</span></span>
    * <span data-ttu-id="bc7d4-231">**Centra událostí**: Vyberte hello centra událostí, který jste vytvořili dříve (`sa-eh-frauddetection-demo`).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-231">**Event hub**: Select hello event hub that you created earlier (`sa-eh-frauddetection-demo`).</span></span>
    * <span data-ttu-id="bc7d4-232">**Název zásady centra událostí**: Vyberte hello zásady přístupu, kterou jste vytvořili dříve (`sa-policy-manage-demo`).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-232">**Event hub policy name**: Select hello access policy that you created earlier (`sa-policy-manage-demo`).</span></span>

    ![Vytvořit nový vstupní úlohy streamování Analytics](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sa-input-new-portal.png)

4. <span data-ttu-id="bc7d4-234">Klikněte na možnost **Vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-234">Click **Create**.</span></span>

## <a name="create-queries-tootransform-real-time-data"></a><span data-ttu-id="bc7d4-235">Vytváření dotazů tootransform data v reálném čase</span><span class="sxs-lookup"><span data-stu-id="bc7d4-235">Create queries tootransform real-time data</span></span>

<span data-ttu-id="bc7d4-236">V tuto chvíli máte úloha Stream Analytics nastavit tooread příchozí datový proud.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-236">At this point, you have a Stream Analytics job set up tooread an incoming data stream.</span></span> <span data-ttu-id="bc7d4-237">dalším krokem Hello je toocreate transformaci, která analyzuje hello data v reálném čase.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-237">hello next step is toocreate a transformation that analyzes hello data in real time.</span></span> <span data-ttu-id="bc7d4-238">To uděláte tak, že vytvoříte dotaz.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-238">You do this by creating a query.</span></span> <span data-ttu-id="bc7d4-239">Stream Analytics podporuje jednoduchý a deklarativní dotazu model, který popisuje transformace pro zpracování v reálném čase.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-239">Stream Analytics supports a simple, declarative query model that describes transformations for real-time processing.</span></span> <span data-ttu-id="bc7d4-240">Hello dotazy pomocí SQL jako jazyk, který má některé analytics konkrétní toostream rozšíření.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-240">hello queries use a SQL-like language that has some extensions specific toostream analytics.</span></span> 

<span data-ttu-id="bc7d4-241">Velmi jednoduchý dotaz může být jednoduše načíst všechna data příchozí hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-241">A very simple query might simply read all hello incoming data.</span></span> <span data-ttu-id="bc7d4-242">Ale často vytvořit dotazy, které vypadají pro konkrétní data, nebo pro vztahy v datech hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-242">However, you often create queries that look for specific data or for relationships in hello data.</span></span> <span data-ttu-id="bc7d4-243">V této části kurzu hello vytvoříte a otestovat několik dotazů toolearn několik způsobů, ve kterých můžete převést vstupní datový proud pro analýzu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-243">In this section of hello tutorial, you will create and test several queries toolearn a few ways in which you can transform an input stream for analysis.</span></span> 

<span data-ttu-id="bc7d4-244">Hello dotazy, které tady vytvoříte právě zobrazí úvodní obrazovka toohello Transformovaná data.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-244">hello queries you create here will just display hello transformed data toohello screen.</span></span> <span data-ttu-id="bc7d4-245">V další části nakonfigurujete výstupní jímku a dotaz, který zapíše hello Transformovaná data toothat jímky.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-245">In a later section, you'll configure an output sink and a query that writes hello transformed data toothat sink.</span></span>

<span data-ttu-id="bc7d4-246">toolearn Další informace o jazyce hello, najdete v části hello [referenční příručka Azure Stream Analytics Query Language](https://msdn.microsoft.com/library/dn834998.aspx).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-246">toolearn more about hello language, see hello [Azure Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/dn834998.aspx).</span></span>

### <a name="get-sample-data-for-testing-queries"></a><span data-ttu-id="bc7d4-247">Načíst ukázková data pro testování dotazů</span><span class="sxs-lookup"><span data-stu-id="bc7d4-247">Get sample data for testing queries</span></span>

<span data-ttu-id="bc7d4-248">Hello TelcoGenerator aplikace odesílá centra událostí toohello volání záznamy a vaše úlohy služby Stream Analytics je nakonfigurované tooread z centra událostí hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-248">hello TelcoGenerator app is sending call records toohello event hub, and your Stream Analytics job is configured tooread from hello event hub.</span></span> <span data-ttu-id="bc7d4-249">Můžete použít dotazu tootest hello úlohy toomake jistotu, že je správně čtení.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-249">You can use a query tootest hello job toomake sure that it's reading correctly.</span></span> <span data-ttu-id="bc7d4-250">příliš testování dotazu v hello konzoly Azure, musíte ukázková data.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-250">too test a query in hello Azure console, you need sample data.</span></span> <span data-ttu-id="bc7d4-251">V tomto návodu budete extrahovat ukázková data z datového proudu hello, který přichází do centra událostí hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-251">For this walkthrough, you'll extract sample data from hello stream that's coming into hello event hub.</span></span>

1. <span data-ttu-id="bc7d4-252">Zajistěte, aby tuto aplikaci TelcoGenerator hello používá a vytváření záznamů volání.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-252">Make sure that hello TelcoGenerator app is running and producing call records.</span></span>
2. <span data-ttu-id="bc7d4-253">V portálu hello vrátíte okno úlohy streamování Analytics toohello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-253">In hello portal, return toohello Streaming Analytics job blade.</span></span> <span data-ttu-id="bc7d4-254">(Pokud jste zavřeli okno hello, vyhledejte `sa_frauddetection_job_demo` v hello **všechny prostředky** okno.)</span><span class="sxs-lookup"><span data-stu-id="bc7d4-254">(If you closed hello blade, search for `sa_frauddetection_job_demo` in hello **All resources** blade.)</span></span>
3. <span data-ttu-id="bc7d4-255">Klikněte na tlačítko hello **dotazu** pole.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-255">Click hello **Query** box.</span></span> <span data-ttu-id="bc7d4-256">Azure obsahuje hello vstupy a výstupy, které jsou nakonfigurované pro hello úlohy a umožňuje vám vytvořit dotaz, který umožňuje transformovat vstupního datového proudu hello při přenosu toohello výstup.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-256">Azure lists hello inputs and outputs that are configured for hello job, and lets you create a query that lets you transform hello input stream as it is sent toohello output.</span></span>
4. <span data-ttu-id="bc7d4-257">V hello **dotazu** okně klikněte na tlačítko Další toohello hello tečky `CallStream` vstup a pak vyberte **vzorová data ze vstupu**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-257">In hello **Query** blade, click hello dots next toohello `CallStream` input and then select **Sample data from input**.</span></span>

    ![Nabídka Možnosti toouse ukázková data pro hello položka se "Ukázkových dat ze vstupu" vybrané úlohy streamování Analytics](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sample-data-from-input.png)

    <span data-ttu-id="bc7d4-259">Otevře se okno, které umožňuje určit, kolik tooget ukázková data, definována v tom, jak dlouho tooread hello vstupní datový proud.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-259">This opens a blade that lets you specify how much sample data tooget, defined in terms of how long tooread hello input stream.</span></span>

5. <span data-ttu-id="bc7d4-260">Nastavit **minut** too3 a pak klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-260">Set **Minutes** too3 and then click **OK**.</span></span> 
    
    ![Možnosti vzorkování hello vstupního datového proudu, s vybrané "3 minut".](./media/stream-analytics-real-time-fraud-detection/stream-analytics-input-create-sample-data.png)

    <span data-ttu-id="bc7d4-262">Azure ukázky data z vstupního datového proudu hello za 3 minuty a vás upozorní, jakmile je připraven hello ukázková data.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-262">Azure samples 3 minutes' worth of data from hello input stream and notifies you when hello sample data is ready.</span></span> <span data-ttu-id="bc7d4-263">(To trvá nějakou dobu.)</span><span class="sxs-lookup"><span data-stu-id="bc7d4-263">(This takes a short while.)</span></span> 

<span data-ttu-id="bc7d4-264">Hello ukázková data jsou ukládána dočasně a je k dispozici, když máte otevřete okno dotazu hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-264">hello sample data is stored temporarily and is available while you have hello query window open.</span></span> <span data-ttu-id="bc7d4-265">Pokud zavřete okno dotazu hello hello ukázková data zahozena a toocreate budete mít novou sadu ukázková data.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-265">If you close hello query window, hello sample data is discarded, and you'll have toocreate a new set of sample data.</span></span> 

<span data-ttu-id="bc7d4-266">Jako alternativu můžete získat soubor .json, který se nachází ukázková data [z Githubu](https://github.com/Azure/azure-stream-analytics/blob/master/Sample%20Data/telco.json)a pak nahrajte tento toouse soubor .json jako ukázková data pro hello `CallStream` vstupní.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-266">As an alternative, you can get a .json file that has sample data in it [from GitHub](https://github.com/Azure/azure-stream-analytics/blob/master/Sample%20Data/telco.json), and then upload that .json file toouse as sample data for hello `CallStream` input .</span></span> 

### <a name="test-using-a-pass-through-query"></a><span data-ttu-id="bc7d4-267">Testování pomocí předávacího dotazu</span><span class="sxs-lookup"><span data-stu-id="bc7d4-267">Test using a pass-through query</span></span>

<span data-ttu-id="bc7d4-268">Pokud chcete tooarchive každé události, můžete použít předávací dotaz tooread všechna pole hello v datové části hello hello události.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-268">If you want tooarchive every event, you can use a pass-through query tooread all hello fields in hello payload of hello event.</span></span>

1. <span data-ttu-id="bc7d4-269">V okně dotazu hello zadejte tento dotaz:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-269">In hello query window, enter this query:</span></span>

        SELECT 
            *
        FROM 
            CallStream

    >[!NOTE]
    ><span data-ttu-id="bc7d4-270">Stejně jako u SQL, klíčová slova nejsou velká a malá písmena a prázdný znak není důležité.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-270">As with SQL, keywords are not case sensitive, and whitespace is not significant.</span></span>

    <span data-ttu-id="bc7d4-271">V tomto dotazu `CallStream` je alias hello, kterou jste zadali při vytvoření hello vstup.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-271">In this query, `CallStream` is hello alias that you specified when you created hello input.</span></span> <span data-ttu-id="bc7d4-272">Pokud jste použili jiný alias, použijte tento název.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-272">If you used a different alias, use that name instead.</span></span>

2. <span data-ttu-id="bc7d4-273">Klikněte na tlačítko **Test**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-273">Click **Test**.</span></span>

    <span data-ttu-id="bc7d4-274">Úloha Stream Analytics Hello spouští dotaz hello hello ukázková data a zobrazí výstup hello v hello dolní části okna hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-274">hello Stream Analytics job runs hello query against hello sample data and displays hello output at hello bottom of hello window.</span></span> <span data-ttu-id="bc7d4-275">Znamená to, zda jsou správně nakonfigurovány hello centra událostí a úlohy streamování Analytics hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-275">This tells you that hello event hub and hello Streaming Analytics job are configured correctly.</span></span> <span data-ttu-id="bc7d4-276">(Jak je uvedeno, později vytvoříte výstupní jímku této hello dotaz může zapisovat data.)</span><span class="sxs-lookup"><span data-stu-id="bc7d4-276">(As noted, later you'll create an output sink that hello query can write data to.)</span></span>

    ![Úlohy Stream Analytics se výstup, zobrazují se 73 záznamy vygenerované](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output.png)

    <span data-ttu-id="bc7d4-278">Hello přesný počet záznamů, které vidíte bude záviset na počet záznamů zaznamenalo v 3 minut ukázky.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-278">hello exact number of records you see will depend on how many records were captured in your 3-minute sample.</span></span>
 
### <a name="reduce-hello-number-of-fields-using-a-column-projection"></a><span data-ttu-id="bc7d4-279">Snižte počet hello polí pomocí sloupce projekce</span><span class="sxs-lookup"><span data-stu-id="bc7d4-279">Reduce hello number of fields using a column projection</span></span>

<span data-ttu-id="bc7d4-280">V mnoha případech nepotřebuje analýzy všechny sloupce hello ze vstupního proudu hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-280">In many cases, your analysis doesn't need all hello columns from hello input stream.</span></span> <span data-ttu-id="bc7d4-281">Můžete použít dotazu tooproject menší sadu vrátí pole než hello předávací dotaz.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-281">You can use a query tooproject a smaller set of returned fields than in hello pass-through query.</span></span>

1. <span data-ttu-id="bc7d4-282">Změna dotazu hello v hello kód editor toohello následující:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-282">Change hello query in hello code editor toohello following:</span></span>

        SELECT CallRecTime, SwitchNum, CallingIMSI, CallingNum, CalledNum 
        FROM 
            CallStream

2. <span data-ttu-id="bc7d4-283">Klikněte na tlačítko **Test** znovu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-283">Click **Test** again.</span></span> 

    ![Úlohy Stream Analytics se výstup. pro projekci, zobrazují se 25 záznamy vygenerované](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-projection.png)
 
### <a name="count-incoming-calls-by-region-tumbling-window-with-aggregation"></a><span data-ttu-id="bc7d4-285">Počet příchozích volání podle oblasti: Přeskakující okno s průběhem</span><span class="sxs-lookup"><span data-stu-id="bc7d4-285">Count incoming calls by region: Tumbling window with aggregation</span></span>

<span data-ttu-id="bc7d4-286">Předpokládejme, že chcete toocount hello počet příchozí volání na oblast.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-286">Suppose you want toocount hello number of incoming calls per region.</span></span> <span data-ttu-id="bc7d4-287">Streamovaných dat užitečné, když chcete, aby tooperform agregační funkce jako počítání, je nutné toosegment hello datový proud do dočasné jednotky (protože je efektivně nekonečná hello datový proud sám sebe).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-287">In streaming data, when you want tooperform aggregate functions like counting, you need toosegment hello stream into temporal units (since hello data stream itself is effectively endless).</span></span> <span data-ttu-id="bc7d4-288">Můžete to udělat pomocí Analytics se streamování [oddílovou funkci](stream-analytics-window-functions.md).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-288">You do this using a Streaming Analytics [window function](stream-analytics-window-functions.md).</span></span> <span data-ttu-id="bc7d4-289">Pak můžete pracovat s daty hello uvnitř toto okno jako jednotku.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-289">You can then work with hello data inside that window as a unit.</span></span>

<span data-ttu-id="bc7d4-290">Tato transformace se má pořadí dočasné Windows, které nepřekrývaly – každé okno bude mít diskrétní sadu dat, která můžete seskupovat a agregaci.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-290">For this transformation, you want a sequence of temporal windows that don't overlap—each window will have a discrete set of data that you can group and aggregate.</span></span> <span data-ttu-id="bc7d4-291">Tento typ okna se označují tooas *Přeskakující okno* .</span><span class="sxs-lookup"><span data-stu-id="bc7d4-291">This type of window is referred tooas a *Tumbling window* .</span></span> <span data-ttu-id="bc7d4-292">V rámci hello Přeskakující okno, můžete získat počet příchozích hovorů hello seskupené podle `SwitchNum`, která představuje hello zemi, kde hello volání vytvořena.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-292">Within hello Tumbling window, you can get a count of hello incoming calls grouped by `SwitchNum`, which represents hello country where hello call originated.</span></span> 

1. <span data-ttu-id="bc7d4-293">Změna dotazu hello v hello kód editor toohello následující:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-293">Change hello query in hello code editor toohello following:</span></span>

        SELECT 
            System.Timestamp as WindowEnd, SwitchNum, COUNT(*) as CallCount 
        FROM
            CallStream TIMESTAMP BY CallRecTime 
        GROUP BY TUMBLINGWINDOW(s, 5), SwitchNum

    <span data-ttu-id="bc7d4-294">Tento dotaz používá hello `Timestamp By` – klíčové slovo v hello `FROM` klauzule toospecify které pole časového razítka v hello vstupní datový proud toouse toodefine hello Přeskakující okno.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-294">This query uses hello `Timestamp By` keyword in hello `FROM` clause toospecify which timestamp field in hello input stream toouse toodefine hello Tumbling window.</span></span> <span data-ttu-id="bc7d4-295">V takovém případě hello okno rozdělí hello data na segmenty ve hello `CallRecTime` pole všechny záznamy.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-295">In this case, hello window divides hello data into segments by hello `CallRecTime` field in each record.</span></span> <span data-ttu-id="bc7d4-296">(Pokud není zadaný žádný pole, operace oddílová hello používá hello dobu, po kterou všechny události dorazí na hello centra událostí.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-296">(If no field is specified, hello windowing operation uses hello time that each event arrives at hello event hub.</span></span> <span data-ttu-id="bc7d4-297">V části "Čas aplikace Vs čas doručení" v [Stream Analytics referenční příručka jazyka dotazů](https://msdn.microsoft.com/library/azure/dn834998.aspx).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-297">See "Arrival Time Vs Application Time" in [Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx).</span></span> 

    <span data-ttu-id="bc7d4-298">projekce Hello zahrnuje `System.Timestamp`, která vrací časové razítko pro element end hello jednotlivých období.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-298">hello projection includes `System.Timestamp`, which returns a timestamp for hello end of each window.</span></span> 

    <span data-ttu-id="bc7d4-299">toospecify, které chcete toouse Přeskakující okno, použijte hello [TUMBLINGWINDOW](https://msdn.microsoft.com/library/dn835055.aspx) funkce v hello `GROUP BY `klauzule.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-299">toospecify that you want toouse a Tumbling window, you use hello [TUMBLINGWINDOW](https://msdn.microsoft.com/library/dn835055.aspx) function in hello `GROUP BY `clause.</span></span> <span data-ttu-id="bc7d4-300">Ve funkci hello zadejte časovou jednotku (od mikrosekund tooa denně) a velikost okna (počet jednotek).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-300">In hello function, you specify a time unit (anywhere from a microsecond tooa day) and a window size (how many units).</span></span> <span data-ttu-id="bc7d4-301">V tomto příkladu hello Přeskakující okno se skládá z 5 sekund intervalech, zobrazí se počet podle země pro volání za každých 5 sekund.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-301">In this example, hello Tumbling window consists of 5-second intervals, so you will get a count by country for every 5 seconds' worth of calls.</span></span>

2. <span data-ttu-id="bc7d4-302">Klikněte na tlačítko **Test** znovu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-302">Click **Test** again.</span></span> <span data-ttu-id="bc7d4-303">Ve výsledcích hello, Všimněte si, že hello časová razítka v části **WindowEnd** jsou v přírůstcích po 5 sekund.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-303">In hello results, notice that hello timestamps under **WindowEnd** are in 5-second increments.</span></span>

    ![Úlohy Stream Analytics se výstup za účelem agregace, zobrazují se 13 záznamy vygenerované](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-aggregation.png)
 
### <a name="detect-sim-fraud-using-a-self-join"></a><span data-ttu-id="bc7d4-305">Odhalování podvodů SIM pomocí vlastní spojení</span><span class="sxs-lookup"><span data-stu-id="bc7d4-305">Detect SIM fraud using a self-join</span></span>

<span data-ttu-id="bc7d4-306">V tomto příkladu jsme můžete zvážit podvodné použití toobe volání, které pocházejí z hello stejné uživatele, ale v různých umístěních do 5 sekund od sebe navzájem.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-306">For this example, we can consider fraudulent usage toobe calls that originate from hello same user but in different locations within 5 seconds of one another.</span></span> <span data-ttu-id="bc7d4-307">Například hello stejného uživatele nelze vytvořit legálně volání z hello USA a Austrálie v hello stejnou dobu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-307">For example, hello same user can't legitimately make a call from hello US and Australia at hello same time.</span></span> 

<span data-ttu-id="bc7d4-308">toocheck pro tyto případy, můžete použít vlastní spojení hello streamování dat toojoin hello datového proudu tooitself podle hello `CallRecTime` hodnotu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-308">toocheck for these cases, you can use a self-join of hello streaming data toojoin hello stream tooitself based on hello `CallRecTime` value.</span></span> <span data-ttu-id="bc7d4-309">Potom můžete zobrazit pro volání zaznamenává kde hello `CallingIMSI` hodnotu (hello pocházející číslo) je hello stejné, ale hello `SwitchNum` hodnotu (země původu) není hello stejné.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-309">You can then look for call records where hello `CallingIMSI` value (hello originating number) is hello same, but hello `SwitchNum` value (country of origin) is not hello same.</span></span>

<span data-ttu-id="bc7d4-310">Když použijete ke spojení s streamovaných dat užitečné, spojení hello musíte zadat, že některá omezení na tom, jak úplně hello odpovídající řádky je možné oddělit v čase.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-310">When you use a join with streaming data, hello join must provide some limits on how far hello matching rows can be separated in time.</span></span> <span data-ttu-id="bc7d4-311">(Jak jsme uvedli dříve, streamování dat hello je efektivně nekonečná.) rozsah čas Hello hello relace jsou určeny uvnitř hello `ON` klauzuli spojení hello pomocí hello `DATEDIFF` funkce.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-311">(As noted earlier, hello streaming data is effectively endless.) hello time bounds for hello relationship are specified inside hello `ON` clause of hello join, using hello `DATEDIFF` function .</span></span> <span data-ttu-id="bc7d4-312">V takovém případě hello spojení je založena na 5 sekund intervalu dat volání.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-312">In this case, hello join is based on a 5-second interval of call data .</span></span>

1. <span data-ttu-id="bc7d4-313">Změna dotazu hello v hello kód editor toohello následující:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-313">Change hello query in hello code editor toohello following:</span></span> 

        SELECT  System.Timestamp as Time, 
            CS1.CallingIMSI, 
            CS1.CallingNum as CallingNum1, 
            CS2.CallingNum as CallingNum2, 
            CS1.SwitchNum as Switch1, 
            CS2.SwitchNum as Switch2 
        FROM CallStream CS1 TIMESTAMP BY CallRecTime 
            JOIN CallStream CS2 TIMESTAMP BY CallRecTime 
            ON CS1.CallingIMSI = CS2.CallingIMSI 
            AND DATEDIFF(ss, CS1, CS2) BETWEEN 1 AND 5 
        WHERE CS1.SwitchNum != CS2.SwitchNum

    <span data-ttu-id="bc7d4-314">Tento dotaz není třeba žádné připojení k SQL s výjimkou hello `DATEDIFF` funkce v hello spojení.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-314">This query is like any SQL join except for hello `DATEDIFF` function in hello join.</span></span> <span data-ttu-id="bc7d4-315">Toto je verze `DATEDIFF` se konkrétní tooStreaming analýzy, a musí se nacházet v hello `ON...BETWEEN` klauzule.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-315">This is a version of `DATEDIFF` that's specific tooStreaming Analytics, and it must appear in hello `ON...BETWEEN` clause.</span></span> <span data-ttu-id="bc7d4-316">Hello parametry jsou časovou jednotku (v sekundách v tomto příkladu) a aliasy hello hello dvou zdrojů pro připojení k hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-316">hello parameters are a time unit (seconds in this example) and hello aliases of hello two sources for hello join.</span></span> <span data-ttu-id="bc7d4-317">(To se liší od standardní SQL hello `DATEDIFF` funkce.)</span><span class="sxs-lookup"><span data-stu-id="bc7d4-317">(This is different from hello standard SQL `DATEDIFF` function.)</span></span> 

    <span data-ttu-id="bc7d4-318">Hello `WHERE` klauzule zahrnuje hello podmínku, která flags podvodné volání hello: hello původní přepínače nejsou hello stejné.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-318">hello `WHERE` clause includes hello condition that flags hello fraudulent call: hello originating switches are not hello same.</span></span> 

2. <span data-ttu-id="bc7d4-319">Klikněte na tlačítko **Test** znovu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-319">Click **Test** again.</span></span> 

    ![Výstup pro spojení sama na sebe, zobrazení 6 záznamů vygenerovaných úlohy Stream Analytics](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-self-join.png)

3. <span data-ttu-id="bc7d4-321">Klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-321">Click **Save**.</span></span> <span data-ttu-id="bc7d4-322">To umožňuje ušetřit hello spojení sama na sebe dotaz jako součást úlohy streamování Analytics hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-322">This saves hello self-join query as part of hello Streaming Analytics job.</span></span> <span data-ttu-id="bc7d4-323">(Ho nebude uložen hello ukázková data.)</span><span class="sxs-lookup"><span data-stu-id="bc7d4-323">(It doesn't save hello sample data.)</span></span>

    ![Uložit úlohu služby Stream Analytics](./media/stream-analytics-real-time-fraud-detection/stream-analytics-query-editor-save-button-new-portal.png)

## <a name="create-an-output-sink-toostore-transformed-data"></a><span data-ttu-id="bc7d4-325">Vytvoření výstupní jímku toostore transformovat data</span><span class="sxs-lookup"><span data-stu-id="bc7d4-325">Create an output sink toostore transformed data</span></span>

<span data-ttu-id="bc7d4-326">Přes hello datového proudu, které jste definovali datového proudu událostí, události vstupní tooingest centra událostí a dotaz tooperform transformace.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-326">You've defined an event stream, an event hub input tooingest events, and a query tooperform a transformation over hello stream.</span></span> <span data-ttu-id="bc7d4-327">posledním krokem Hello je toodefine výstupní jímku pro úlohu hello – to znamená, místní toowrite hello transformaci datového proudu k.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-327">hello last step is toodefine an output sink for hello job—that is, a place toowrite hello transformed stream to.</span></span> 

<span data-ttu-id="bc7d4-328">Mnoho prostředků můžete použít jako výstup jímky – databázi systému SQL Server, úložiště table, úložiště Data Lake, Power BI a i jiné centra událostí.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-328">You can use many resources as output sinks—a SQL Server database, table storage, Data Lake storage, Power BI, and even another event hub.</span></span> <span data-ttu-id="bc7d4-329">V tomto kurzu napíšete hello datového proudu tooAzure úložiště objektů Blob, což je typické volbou pro shromažďování informací o události pro pozdější analýzu, protože počítá Nestrukturovaná data.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-329">For this tutorial, you'll write hello stream tooAzure Blob Storage, which is a typical choice for collecting event information for later analysis, since it accommodates unstructured data .</span></span>

<span data-ttu-id="bc7d4-330">Pokud máte stávající účet úložiště objektů blob, můžete použít, který.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-330">If you have an existing blob storage account, you can use that.</span></span> <span data-ttu-id="bc7d4-331">V tomto kurzu ukážeme jak toocreate nové úložiště účet pouze pro účely tohoto kurzu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-331">For this tutorial, we'll show you how toocreate a new storage account just for this tutorial.</span></span>

### <a name="create-an-azure-blob-storage-account"></a><span data-ttu-id="bc7d4-332">Vytvoření účtu Azure Blob Storage</span><span class="sxs-lookup"><span data-stu-id="bc7d4-332">Create an Azure Blob Storage account</span></span>

1. <span data-ttu-id="bc7d4-333">V hello portálu Azure vrátíte okno úlohy streamování Analytics toohello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-333">In hello Azure portal, return toohello Streaming Analytics job blade.</span></span> <span data-ttu-id="bc7d4-334">(Pokud jste zavřeli okno hello, vyhledejte `sa_frauddetection_job_demo` v hello **všechny prostředky** okno.)</span><span class="sxs-lookup"><span data-stu-id="bc7d4-334">(If you closed hello blade, search for `sa_frauddetection_job_demo` in hello **All resources** blade.)</span></span>
2. <span data-ttu-id="bc7d4-335">V hello **úlohy topologie** klikněte na tlačítko hello **výstup** pole.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-335">In hello **Job Topology** section, click hello **Output** box.</span></span> 
3. <span data-ttu-id="bc7d4-336">V hello **výstupy** okně klikněte na tlačítko  **+ &nbsp;přidat** a potom vyplňte hello okno s těmito hodnotami:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-336">In hello **Outputs** blade, click **+&nbsp;Add** and then fill out hello blade with these values:</span></span>

    * <span data-ttu-id="bc7d4-337">**Alias pro výstup**: použití hello název `CallStream-FraudulentCalls`.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-337">**Output alias**: Use hello name `CallStream-FraudulentCalls`.</span></span> 
    * <span data-ttu-id="bc7d4-338">**Jímky**: vyberte **úložiště objektů Blob**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-338">**Sink**: Select **Blob storage**.</span></span>
    * <span data-ttu-id="bc7d4-339">**Možnosti importu**: vyberte **pomocí úložiště objektů blob z aktuálního předplatného**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-339">**Import options**: Select **Use blob storage from current subscription**.</span></span>
    * <span data-ttu-id="bc7d4-340">**Účet úložiště**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-340">**Storage account**.</span></span> <span data-ttu-id="bc7d4-341">Vyberte **vytvořit nový účet úložiště.**</span><span class="sxs-lookup"><span data-stu-id="bc7d4-341">Select **Create new storage account.**</span></span>
    * <span data-ttu-id="bc7d4-342">**Účet úložiště** (druhé pole).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-342">**Storage account** (second box).</span></span> <span data-ttu-id="bc7d4-343">Zadejte `YOURNAMEsademo`, kde `YOURNAME` je název vaší nebo jiné jedinečné řetězce.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-343">Enter `YOURNAMEsademo`, where `YOURNAME` is your name or another unique string.</span></span> <span data-ttu-id="bc7d4-344">v názvu Hello lze použít pouze malá písmena a čísla a musí být jedinečný v Azure.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-344">hello name can use only lowercase letters and numbers, and it must be unique across Azure.</span></span> 
    * <span data-ttu-id="bc7d4-345">**Kontejner**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-345">**Container**.</span></span> <span data-ttu-id="bc7d4-346">Zadejte `sa-fraudulentcalls-demo`.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-346">Enter `sa-fraudulentcalls-demo`.</span></span>
    <span data-ttu-id="bc7d4-347">název účtu úložiště Hello a název kontejneru jsou používané společně tooprovide identifikátor URI pro úložiště objektů blob hello, například takto:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-347">hello storage account name and container name are used together tooprovide a URI for hello blob storage, like this:</span></span> 

    `http://yournamesademo.blob.core.windows.net/sa-fraudulentcalls-demo/...`
    
    !["Nové výstup" okno úlohy Stream Analytics](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-output-blob-storage-new-console.png)
    
4. <span data-ttu-id="bc7d4-349">Klikněte na možnost **Vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-349">Click **Create**.</span></span> 

    <span data-ttu-id="bc7d4-350">Azure vytvoří účet úložiště hello a automaticky vygeneruje klíč.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-350">Azure creates hello storage account and generates a key automatically.</span></span> 

5. <span data-ttu-id="bc7d4-351">Zavřít hello **výstupy** okno.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-351">Close hello **Outputs** blade.</span></span> 

## <a name="start-hello-streaming-analytics-job"></a><span data-ttu-id="bc7d4-352">Spustit úlohu streamování Analytics hello</span><span class="sxs-lookup"><span data-stu-id="bc7d4-352">Start hello Streaming Analytics job</span></span>

<span data-ttu-id="bc7d4-353">Úloha Hello je nyní nakonfigurována.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-353">hello job is now configured.</span></span> <span data-ttu-id="bc7d4-354">Zadané vstup (centra událostí hello), transformaci (hello dotazu toolook pro podvodné volání) a výstup (úložiště objektů blob).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-354">You've specified an input (hello event hub), a transformation (hello query toolook for fraudulent calls), and an output (blob storage).</span></span> <span data-ttu-id="bc7d4-355">Nyní můžete spustit úlohy hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-355">You can now start hello job.</span></span> 

1. <span data-ttu-id="bc7d4-356">Zkontrolujte, zda text hello TelcoGenerator aplikace běží.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-356">Make sure hello TelcoGenerator app is running.</span></span>

2. <span data-ttu-id="bc7d4-357">V okně úlohy hello, klikněte na tlačítko **spustit**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-357">In hello job blade, click **Start**.</span></span>

    ![Spuštění úlohy Stream Analytics hello](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-start-output.png)

3. <span data-ttu-id="bc7d4-359">V hello **spuštění úlohy** okně pro výstup čas spuštění úlohy, vyberte **nyní**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-359">In hello **Start job** blade, for Job output start time, select **Now**.</span></span> 

4. <span data-ttu-id="bc7d4-360">Klikněte na tlačítko **spustit**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-360">Click **Start**.</span></span> 

    !["Spuštění úlohy" okno úlohy Stream Analytics hello](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-start-job-blade.png)

    <span data-ttu-id="bc7d4-362">Azure vás upozorní, jakmile byla spuštěna úloha hello a v okně úlohy hello hello stav se zobrazí jako **systémem**.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-362">Azure notifies you when hello job has started, and in hello job blade, hello status is displayed as **Running**.</span></span>

    ![Stav úlohy Stream Analytics, zobrazující "Spuštěný"](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-running-status.png)
    

## <a name="examine-hello-transformed-data"></a><span data-ttu-id="bc7d4-364">Zkontrolujte hello transformovat data</span><span class="sxs-lookup"><span data-stu-id="bc7d4-364">Examine hello transformed data</span></span>

<span data-ttu-id="bc7d4-365">Nyní máte dokončení úlohy streamování Analytics.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-365">You now have a complete Streaming Analytics job.</span></span> <span data-ttu-id="bc7d4-366">Úloha Hello je zkoumání proud metadata telefonní hovor, hledá podvodné telefonní hovory v reálném čase a zápis informace o těchto toostorage podvodné volání.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-366">hello job is examining a stream of phone call metadata, looking for fraudulent phone calls in real time, and writing information about those fraudulent calls toostorage.</span></span> 

<span data-ttu-id="bc7d4-367">toocomplete tohoto kurzu můžete chtít toolook v hello dat probíhá zachycenou úlohy streamování Analytics hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-367">toocomplete this tutorial, you might want toolook at hello data being captured by hello Streaming Analytics job.</span></span> <span data-ttu-id="bc7d4-368">Hello zapisuje data tooAzure Blog úložiště v bloky dat (soubory).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-368">hello data is being written tooAzure Blog Storage in chunks (files).</span></span> <span data-ttu-id="bc7d4-369">Můžete použít jakýkoli nástroj, který čte Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-369">You can use any tool that reads Azure Blob Storage.</span></span> <span data-ttu-id="bc7d4-370">Jak jsme uvedli v hello v části předpoklady, můžete použít rozšíření Azure v sadě Visual Studio, nebo můžete použít nástroje, jako je [Azure Storage Explorer](http://storageexplorer.com/) nebo [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-370">As noted in hello Prerequisites section, you can use Azure extensions in Visual Studio, or you can use a tool like [Azure Storage Explorer](http://storageexplorer.com/) or [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span></span> 

<span data-ttu-id="bc7d4-371">Při kontrole hello obsah souboru v úložišti objektů blob, můžete vidět něco podobného jako hello následující:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-371">When you examine hello contents of a file in blob storage, you see something like hello following :</span></span>

![Úložiště objektů blob v Azure s výstupem analýzy datových proudů](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-blob-storage-view.png)
 

## <a name="clean-up-resources"></a><span data-ttu-id="bc7d4-373">Vyčištění prostředků</span><span class="sxs-lookup"><span data-stu-id="bc7d4-373">Clean up resources</span></span>

<span data-ttu-id="bc7d4-374">Máme další články, které dál se scénářem hello odhalování podvodů a které používají hello prostředky, které jste vytvořili v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-374">We have additional articles that continue with hello fraud-detection scenario and that use hello resources that you've created in this tutorial.</span></span> <span data-ttu-id="bc7d4-375">Pokud chcete toocontinue, najdete návrhy hello pod **další kroky** později.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-375">If you want toocontinue, see hello suggestions under **Next steps** later.</span></span>

<span data-ttu-id="bc7d4-376">Ale pokud s tím budete hotovi a nepotřebujete hello prostředky, které jste vytvořili, odstraněním je tak, aby vám zbytečně nenabíhaly poplatky nepotřebné Azure.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-376">However, if you're done and you don't need hello resources you've created, you can delete them so that you don't incur unnecessary Azure charges.</span></span> <span data-ttu-id="bc7d4-377">V takovém případě doporučujeme, aby hello následující:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-377">In that case, we suggest that you do hello following:</span></span>

1. <span data-ttu-id="bc7d4-378">Zastavte úlohu streamování Analytics hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-378">Stop hello Streaming Analytics job.</span></span> <span data-ttu-id="bc7d4-379">V hello **úlohy** okně klikněte na tlačítko **Zastavit** v horní části hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-379">In hello **Jobs** blade, click **Stop** at hello top.</span></span>
2. <span data-ttu-id="bc7d4-380">Zastavte aplikaci Telco generátor hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-380">Stop hello Telco Generator app.</span></span> <span data-ttu-id="bc7d4-381">V jakém jste začínali hello aplikace hello příkazové okno stiskněte kombinaci kláves Ctrl + C.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-381">In hello command window where you started hello app, press Ctrl+C.</span></span>
3. <span data-ttu-id="bc7d4-382">Pokud jste vytvořili nový účet úložiště objektů blob jenom pro účely tohoto kurzu, odstraňte jej.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-382">If you created a new blob storage account just for this tutorial, delete it.</span></span> 
4. <span data-ttu-id="bc7d4-383">Odstraňte úlohu streamování Analytics hello.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-383">Delete hello Streaming Analytics job.</span></span>
5. <span data-ttu-id="bc7d4-384">Odstraňte hello centra událostí.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-384">Delete hello event hub.</span></span>
6. <span data-ttu-id="bc7d4-385">Odstraňte názvový prostor hello události rozbočovače.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-385">Delete hello event hub namespace.</span></span>

## <a name="get-support"></a><span data-ttu-id="bc7d4-386">Získat podporu</span><span class="sxs-lookup"><span data-stu-id="bc7d4-386">Get support</span></span>

<span data-ttu-id="bc7d4-387">Pro další pomoc, vyzkoušejte naše [fórum Azure Stream Analytics](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-387">For further assistance, try our [Azure Stream Analytics forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span></span>

## <a name="next-steps"></a><span data-ttu-id="bc7d4-388">Další kroky</span><span class="sxs-lookup"><span data-stu-id="bc7d4-388">Next steps</span></span>

<span data-ttu-id="bc7d4-389">V tomto kurzu můžete pokračovat v hello následující články:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-389">You can continue this tutorial with hello following articles:</span></span>

* <span data-ttu-id="bc7d4-390">[Stream Analytics a Power BI: řídicí panel analýzy v reálném čase pro datový proud](stream-analytics-power-bi-dashboard.md).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-390">[Stream Analytics and Power BI: A real-time analytics dashboard for streaming data](stream-analytics-power-bi-dashboard.md).</span></span> <span data-ttu-id="bc7d4-391">Tento článek ukazuje, jak toosend hello TelCo výstup hello Stream Analytics úlohy tooPower BI v reálném čase vizualizaci a analýzu.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-391">This article shows you how toosend hello TelCo output of hello Stream Analytics job tooPower BI for real-time visualization and analysis.</span></span>
* <span data-ttu-id="bc7d4-392">[Jak toostore data ze služby Azure Stream Analytics v Azure Redis Cache pomocí Azure Functions](stream-analytics-functions-redis.md).</span><span class="sxs-lookup"><span data-stu-id="bc7d4-392">[How toostore data from Azure Stream Analytics in an Azure Redis Cache using Azure Functions](stream-analytics-functions-redis.md).</span></span> <span data-ttu-id="bc7d4-393">Tento článek popisuje, jakým způsobem volá toouse Azure Functions toowrite podvodné tooan Azure Redis cache prostřednictvím fronty Service Bus.</span><span class="sxs-lookup"><span data-stu-id="bc7d4-393">This article shows how toouse Azure Functions toowrite fraudulent calls tooan Azure Redis cache via a Service Bus queue.</span></span>

<span data-ttu-id="bc7d4-394">Další informace o Stream Analytics obecně platí, zkuste tyto články:</span><span class="sxs-lookup"><span data-stu-id="bc7d4-394">For more information about Stream Analytics in general, try these articles:</span></span>

* [<span data-ttu-id="bc7d4-395">Úvod tooAzure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="bc7d4-395">Introduction tooAzure Stream Analytics</span></span>](stream-analytics-introduction.md)
* [<span data-ttu-id="bc7d4-396">Škálování služby Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="bc7d4-396">Scale Azure Stream Analytics jobs</span></span>](stream-analytics-scale-jobs.md)
* [<span data-ttu-id="bc7d4-397">Referenční příručka k jazyku Azure Stream Analytics Query Language</span><span class="sxs-lookup"><span data-stu-id="bc7d4-397">Azure Stream Analytics Query Language Reference</span></span>](https://msdn.microsoft.com/library/azure/dn834998.aspx)
* [<span data-ttu-id="bc7d4-398">Referenční příručka k rozhraní REST API pro správu služby Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="bc7d4-398">Azure Stream Analytics Management REST API Reference</span></span>](https://msdn.microsoft.com/library/azure/dn835031.aspx)
