---
title: "Průvodce aaaTroubleshooting pro Azure Stream Analytics | Microsoft Docs"
description: "Jak tootroubleshoot vaše úloha Stream Analytics"
keywords: "řešení potíží s Průvodce"
documentationcenter: 
services: stream-analytics
author: jeffstokes72
manager: jhubbard
editor: cgronlun
ms.assetid: 
ms.service: stream-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 04/20/2017
ms.author: jeffstok
ms.openlocfilehash: 4add48054e06a7d8eb617a08595c1be4555c59d2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshooting-guide-for-azure-stream-analytics"></a><span data-ttu-id="4065f-104">Průvodce řešením potíží pro Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="4065f-104">Troubleshooting guide for Azure Stream Analytics</span></span>

<span data-ttu-id="4065f-105">Řešení potíží Azure Stream Analytics se může zobrazit toobe komplexní úsilí na první pohled.</span><span class="sxs-lookup"><span data-stu-id="4065f-105">Azure Stream Analytics troubleshooting can appear toobe a complex effort at first glance.</span></span> <span data-ttu-id="4065f-106">Po dokončení práce s mnoha uživateli, jsme vytvořili hello Tento průvodce toohelp zjednodušit proces a odeberte hello již nebudete muset odhadovat o vstupy, výstupy, dotazů a funkce.</span><span class="sxs-lookup"><span data-stu-id="4065f-106">After working with many users, we have created this guide toohelp streamline hello process and remove hello guesswork about your inputs, outputs, queries, and functions.</span></span>

## <a name="troubleshoot-your-stream-analytics-job"></a><span data-ttu-id="4065f-107">Řešení potíží s vaší úloze Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="4065f-107">Troubleshoot your Stream Analytics job</span></span>

<span data-ttu-id="4065f-108">Chcete-li dosáhnout nejlepších výsledků při řešení potíží úlohu služby Stream Analytics použijte hello následující pokyny:</span><span class="sxs-lookup"><span data-stu-id="4065f-108">For best results in troubleshooting your Stream Analytics job, use hello following guidelines:</span></span>

1.  <span data-ttu-id="4065f-109">Test připojení:</span><span class="sxs-lookup"><span data-stu-id="4065f-109">Test your connectivity:</span></span>
    - <span data-ttu-id="4065f-110">Ověřte připojení tooinputs a výstupů pomocí hello **Test připojení** tlačítko pro každý vstup a výstup.</span><span class="sxs-lookup"><span data-stu-id="4065f-110">Verify connectivity tooinputs and outputs by using hello **Test Connection** button for each input and output.</span></span>

2.  <span data-ttu-id="4065f-111">Zkontrolujte vstupní data:</span><span class="sxs-lookup"><span data-stu-id="4065f-111">Examine your input data:</span></span>
    - <span data-ttu-id="4065f-112">je tooverify, že vstupní dat odesílaných do centra událostí, použijte [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a) tooconnect tooAzure centra událostí (Pokud se používá Centrum událostí vstupu).</span><span class="sxs-lookup"><span data-stu-id="4065f-112">tooverify that input data is flowing into Event Hub, use [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a) tooconnect tooAzure Event Hub (if Event Hub input is used).</span></span>  
    - <span data-ttu-id="4065f-113">Použití hello [ **ukázková Data** ](stream-analytics-sample-data-input.md) tlačítko pro každý vstupní a stáhněte si hello vstupní ukázková data.</span><span class="sxs-lookup"><span data-stu-id="4065f-113">Use hello [**Sample Data**](stream-analytics-sample-data-input.md) button for each input, and download hello input sample data.</span></span>
    - <span data-ttu-id="4065f-114">Zkontrolujte hello ukázková data toounderstand hello tvar dat hello: hello schéma a hello [datové typy](https://msdn.microsoft.com/library/azure/dn835065.aspx).</span><span class="sxs-lookup"><span data-stu-id="4065f-114">Inspect hello sample data toounderstand hello shape of hello data: hello schema and hello [data types](https://msdn.microsoft.com/library/azure/dn835065.aspx).</span></span>

3.  <span data-ttu-id="4065f-115">Otestování dotazu:</span><span class="sxs-lookup"><span data-stu-id="4065f-115">Test your query:</span></span>
    - <span data-ttu-id="4065f-116">Na hello **dotazu** pomocí hello **testování** tlačítko tootest hello dotazu a použijte hello stáhli ukázková data příliš[testovací hello dotazu](stream-analytics-test-query.md).</span><span class="sxs-lookup"><span data-stu-id="4065f-116">On hello **Query** tab, use hello **Test** button tootest hello query, and use hello downloaded sample data too[test hello query](stream-analytics-test-query.md).</span></span> <span data-ttu-id="4065f-117">Zkontrolujte případné chyby a pokus toocorrect je.</span><span class="sxs-lookup"><span data-stu-id="4065f-117">Examine any errors and attempt toocorrect them.</span></span>
    - <span data-ttu-id="4065f-118">Pokud používáte [ **Timestamp By**](https://msdn.microsoft.com/library/azure/mt573293.aspx), ověřte, že události hello časová razítka větší než hello [čas spuštění úlohy](stream-analytics-out-of-order-and-late-events.md).</span><span class="sxs-lookup"><span data-stu-id="4065f-118">If you use [**Timestamp By**](https://msdn.microsoft.com/library/azure/mt573293.aspx), verify that hello events have timestamps greater than hello [job start time](stream-analytics-out-of-order-and-late-events.md).</span></span>

4.  <span data-ttu-id="4065f-119">Ladění dotazu:</span><span class="sxs-lookup"><span data-stu-id="4065f-119">Debug your query:</span></span>
    - <span data-ttu-id="4065f-120">Znovu sestavte dotaz hello progresivně z jednoduchého příkazu select toomore komplexní agregace pomocí kroků.</span><span class="sxs-lookup"><span data-stu-id="4065f-120">Rebuild hello query progressively from simple select statement toomore complex aggregates by using steps.</span></span> <span data-ttu-id="4065f-121">použít toobuild až hello dotazu logiku krok za krokem, [WITH](https://msdn.microsoft.com/library/azure/dn835049.aspx) klauzule.</span><span class="sxs-lookup"><span data-stu-id="4065f-121">toobuild up hello query logic step by step, use [WITH](https://msdn.microsoft.com/library/azure/dn835049.aspx) clauses.</span></span>
    - <span data-ttu-id="4065f-122">Použití [SELECT INTO](stream-analytics-select-into.md) toodebug kroky dotazu.</span><span class="sxs-lookup"><span data-stu-id="4065f-122">Use [SELECT INTO](stream-analytics-select-into.md) toodebug query steps.</span></span>

5.  <span data-ttu-id="4065f-123">Eliminovat běžné nástrahy, jako například:</span><span class="sxs-lookup"><span data-stu-id="4065f-123">Eliminate common pitfalls, such as:</span></span>
    - <span data-ttu-id="4065f-124">A [ **kde** ](https://msdn.microsoft.com/library/azure/dn835048.aspx) klauzule v dotazu hello odfiltrovat všechny události, brání generován žádný výstup.</span><span class="sxs-lookup"><span data-stu-id="4065f-124">A [**WHERE**](https://msdn.microsoft.com/library/azure/dn835048.aspx) clause in hello query filtered out all events, preventing any output from being generated.</span></span>
    - <span data-ttu-id="4065f-125">Při použití funkce okno, počkejte na toosee doba trvání hello celé okno výstup z dotazu hello.</span><span class="sxs-lookup"><span data-stu-id="4065f-125">When you use window functions, wait for hello entire window duration toosee an output from hello query.</span></span>
    - <span data-ttu-id="4065f-126">čas spuštění úlohy hello předchází Hello časové razítko pro události, a proto jsou vyřazována události.</span><span class="sxs-lookup"><span data-stu-id="4065f-126">hello timestamp for events precedes hello job start time and, therefore, events are being dropped.</span></span>

6.  <span data-ttu-id="4065f-127">Použijte řazení událostí:</span><span class="sxs-lookup"><span data-stu-id="4065f-127">Use event ordering:</span></span>
    - <span data-ttu-id="4065f-128">Pokud všechny hello předchozí kroky fungovala správně, přejděte toohello **nastavení** a vyberte [ **řazení událostí**](stream-analytics-out-of-order-and-late-events.md).</span><span class="sxs-lookup"><span data-stu-id="4065f-128">If all hello previous steps worked fine, go toohello **Settings** blade and select [**Event Ordering**](stream-analytics-out-of-order-and-late-events.md).</span></span> <span data-ttu-id="4065f-129">Ověřte, že je tato zásada povolena pro co smysl ve vašem scénáři.</span><span class="sxs-lookup"><span data-stu-id="4065f-129">Verify that this policy is configured for what makes sense in your scenario.</span></span> <span data-ttu-id="4065f-130">zásady Hello *není* použijí, když používáte hello **Test** tlačítko tootest hello dotazu.</span><span class="sxs-lookup"><span data-stu-id="4065f-130">hello policy is *not* applied when you use hello **Test** button tootest hello query.</span></span> <span data-ttu-id="4065f-131">Tento výsledek je jeden rozdíl mezi testování v prohlížeči a spuštění úlohy hello v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="4065f-131">This result is one difference between testing in-browser versus running hello job in production.</span></span>

7.  <span data-ttu-id="4065f-132">Ladění pomocí metriky:</span><span class="sxs-lookup"><span data-stu-id="4065f-132">Debug by using metrics:</span></span>
    - <span data-ttu-id="4065f-133">Pokud žádný výstup získáte po hello očekávané trvání (založené na dotazu hello), zkuste následující hello:</span><span class="sxs-lookup"><span data-stu-id="4065f-133">If you obtain no output after hello expected duration (based on hello query), try hello following:</span></span>
        - <span data-ttu-id="4065f-134">Podívejte se na [ **monitorování metriky** ](stream-analytics-monitoring.md) na hello **monitorování** kartě. Protože jsou agregovány hello hodnot, jsou hello metriky zpožděn několik minut.</span><span class="sxs-lookup"><span data-stu-id="4065f-134">Look at [**Monitoring Metrics**](stream-analytics-monitoring.md) on hello **Monitor** tab. Because hello values are aggregated, hello metrics are delayed by a few minutes.</span></span>
            - <span data-ttu-id="4065f-135">Pokud vstupní události > 0, hello úlohy je možné tooread vstupní data.</span><span class="sxs-lookup"><span data-stu-id="4065f-135">If Input Events > 0, hello job is able tooread input data.</span></span> <span data-ttu-id="4065f-136">Pokud události vstup není pak > 0:</span><span class="sxs-lookup"><span data-stu-id="4065f-136">If Input Events is not > 0, then:</span></span>
                - <span data-ttu-id="4065f-137">toosee zda zdroj dat hello obsahuje platná data, zkontrolujte ho pomocí [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a).</span><span class="sxs-lookup"><span data-stu-id="4065f-137">toosee whether hello data source has valid data, check it by using [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a).</span></span> <span data-ttu-id="4065f-138">Tato kontrola platí, pokud úloha hello používá jako vstup centra událostí.</span><span class="sxs-lookup"><span data-stu-id="4065f-138">This check applies if hello job is using Event Hub as input.</span></span>
                - <span data-ttu-id="4065f-139">Toosee zkontrolujte, zda text hello formát serializace dat a data kódování jsou podle očekávání.</span><span class="sxs-lookup"><span data-stu-id="4065f-139">Check toosee whether hello data serialization format and data encoding are as expected.</span></span>
                - <span data-ttu-id="4065f-140">Pokud úloha hello používá centra událostí, zkontrolujte toosee, zda text hello zprávy hello je *Null*.</span><span class="sxs-lookup"><span data-stu-id="4065f-140">If hello job is using an Event Hub, check toosee whether hello body of hello message is *Null*.</span></span>
            - <span data-ttu-id="4065f-141">Pokud chyb při převodu dat > 0 a stoupající, může být true hello následující:</span><span class="sxs-lookup"><span data-stu-id="4065f-141">If Data Conversion Errors > 0 and climbing, hello following might be true:</span></span>
                - <span data-ttu-id="4065f-142">Úloha Hello nemusí být možné toode-serializovat hello události.</span><span class="sxs-lookup"><span data-stu-id="4065f-142">hello job might not be able toode-serialize hello events.</span></span>
                - <span data-ttu-id="4065f-143">Hello schématu události nemusí odpovídat definované hello nebo očekávané schéma hello událostí v dotazu hello.</span><span class="sxs-lookup"><span data-stu-id="4065f-143">hello event schema might not match hello defined or expected schema of hello events in hello query.</span></span>
                - <span data-ttu-id="4065f-144">datové typy Hello některých polí hello v události hello nemusí odpovídat očekávání.</span><span class="sxs-lookup"><span data-stu-id="4065f-144">hello datatypes of some of hello fields in hello event might not match expectations.</span></span>
            - <span data-ttu-id="4065f-145">Pokud chyby za běhu > 0 znamená tuto úlohu hello může přijímat hello data ale generuje chyby při zpracování dotazu hello.</span><span class="sxs-lookup"><span data-stu-id="4065f-145">If Runtime Errors > 0, it means that hello job can receive hello data but is generating errors while processing hello query.</span></span>
                - <span data-ttu-id="4065f-146">toofind hello chyby, přejděte toohello [protokoly auditu](../azure-resource-manager/resource-group-audit.md) a filtrujte *se nezdařilo* stavu.</span><span class="sxs-lookup"><span data-stu-id="4065f-146">toofind hello errors, go toohello [Audit Logs](../azure-resource-manager/resource-group-audit.md) and filter on *Failed* status.</span></span>
            - <span data-ttu-id="4065f-147">Pokud InputEvents > 0 a OutputEvents = 0, znamená to, zda je splněna jedna z následujících hello:</span><span class="sxs-lookup"><span data-stu-id="4065f-147">If InputEvents > 0 and OutputEvents = 0, it means that one of hello following is true:</span></span>
                - <span data-ttu-id="4065f-148">Zpracování dotazu mělo za výsledek nulu výstupních událostí.</span><span class="sxs-lookup"><span data-stu-id="4065f-148">Query processing resulted in zero output events.</span></span>
                - <span data-ttu-id="4065f-149">Události nebo jeho pole může být poškozený, což vede k nulové výstup po zpracování dotazu.</span><span class="sxs-lookup"><span data-stu-id="4065f-149">Events or its fields might be malformed, resulting in zero output after query processing.</span></span>
                - <span data-ttu-id="4065f-150">Úloha Hello byla toohello dat nelze toopush [výstupní jímku](stream-analytics-select-into.md) důvodů připojení nebo ověřování.</span><span class="sxs-lookup"><span data-stu-id="4065f-150">hello job was unable toopush data toohello [output sink](stream-analytics-select-into.md) for connectivity or authentication reasons.</span></span>
        - <span data-ttu-id="4065f-151">Ve všech hello dříve uvedených případech chyb, operace zprávy protokolu popisují další podrobnosti (včetně, co se děje), s výjimkou případů, kdy hello dotazu logiku odfiltrovat všechny události.</span><span class="sxs-lookup"><span data-stu-id="4065f-151">In all hello previously mentioned error cases, operations log messages explain additional details (including what is happening), except in cases where hello query logic filtered out all events.</span></span> <span data-ttu-id="4065f-152">Pokud hello zpracování více událostí generuje chyby, Stream Analytics protokoly hello první tři chybové zprávy z hello stejný typ v rámci tooOperations 10 minut protokolů.</span><span class="sxs-lookup"><span data-stu-id="4065f-152">If hello processing of multiple events generates errors, Stream Analytics logs hello first three error messages of hello same type within 10 minutes tooOperations logs.</span></span> <span data-ttu-id="4065f-153">Potlačí další identické chyby se zprávou, který čte "Chyby se děje příliš rychle že tyto potlačeno."</span><span class="sxs-lookup"><span data-stu-id="4065f-153">It then suppresses additional identical errors with a message that reads “Errors are happening too rapidly, these are being suppressed.”</span></span>

8. <span data-ttu-id="4065f-154">Ladění pomocí auditu a diagnostické protokoly:</span><span class="sxs-lookup"><span data-stu-id="4065f-154">Debug by using audit and diagnostic logs:</span></span>
    - <span data-ttu-id="4065f-155">Použití [protokoly auditu](../azure-resource-manager/resource-group-audit.md)a filtr tooidentify a ladění chyb.</span><span class="sxs-lookup"><span data-stu-id="4065f-155">Use [Audit Logs](../azure-resource-manager/resource-group-audit.md), and filter tooidentify and debug errors.</span></span>
    - <span data-ttu-id="4065f-156">Použití [úlohy diagnostické protokoly](stream-analytics-job-diagnostic-logs.md) tooidentify a ladění chyb.</span><span class="sxs-lookup"><span data-stu-id="4065f-156">Use [job diagnostic logs](stream-analytics-job-diagnostic-logs.md) tooidentify and debug errors.</span></span>

9. <span data-ttu-id="4065f-157">Zkontrolujte výstupy hello:</span><span class="sxs-lookup"><span data-stu-id="4065f-157">Examine hello outputs:</span></span>
    - <span data-ttu-id="4065f-158">Pokud je stav úlohy hello *systémem*, v závislosti na hello dobu, po kterou je stanoveno v dotazu hello, zobrazí se výstup hello ve zdroji dat podřízený hello.</span><span class="sxs-lookup"><span data-stu-id="4065f-158">When hello job status is *Running*, depending on hello duration that's stipulated in hello query, you can see hello output in hello sink data source.</span></span>
    - <span data-ttu-id="4065f-159">Pokud nevidíte výstupů, které budou konkrétní výstupní typ tooa, přesměruje je tooan výstupní typ, který je méně složitých, jako je například objektu Blob Azure.</span><span class="sxs-lookup"><span data-stu-id="4065f-159">If you cannot see outputs that are going tooa specific output type, redirect them tooan output type that is less complex, such as an Azure Blob.</span></span> <span data-ttu-id="4065f-160">Pomocí Průzkumníka úložiště zkontrolujte, zda se zobrazí výstup hello toosee.</span><span class="sxs-lookup"><span data-stu-id="4065f-160">By using Storage Explorer, check toosee whether hello output can be seen.</span></span> <span data-ttu-id="4065f-161">Kromě toho ověřte, zda omezení omezení na výstup hello brání data přijímání.</span><span class="sxs-lookup"><span data-stu-id="4065f-161">Additionally, verify whether throttling limits at hello output are preventing data from being received.</span></span>

10. <span data-ttu-id="4065f-162">Tok dat analysis pomocí úlohy diagram metriky:</span><span class="sxs-lookup"><span data-stu-id="4065f-162">Use data-flow analysis with job diagram metrics:</span></span>
    - <span data-ttu-id="4065f-163">tooanalyze data toku a identifikovat problémy, použijte hello [diagram úlohy s metriky](stream-analytics-job-diagram-with-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="4065f-163">tooanalyze data flow and identify issues, use hello [job diagram with metrics](stream-analytics-job-diagram-with-metrics.md).</span></span>

11. <span data-ttu-id="4065f-164">Otevřete případu podpory:</span><span class="sxs-lookup"><span data-stu-id="4065f-164">Open a support case:</span></span>
    - <span data-ttu-id="4065f-165">Navíc pokud selžou všechny ostatní postupy, otevřete případu podpory společnosti Microsoft pomocí hello ID předplatného, která obsahuje úlohu.</span><span class="sxs-lookup"><span data-stu-id="4065f-165">Finally, if all else fails, open a Microsoft support case by using hello SubscriptionID that contains your job.</span></span>

## <a name="get-help"></a><span data-ttu-id="4065f-166">Podpora</span><span class="sxs-lookup"><span data-stu-id="4065f-166">Get help</span></span>

<span data-ttu-id="4065f-167">Pro další pomoc, vyzkoušejte naše [fórum Azure Stream Analytics](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span><span class="sxs-lookup"><span data-stu-id="4065f-167">For further assistance, try our [Azure Stream Analytics forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span></span>

## <a name="next-steps"></a><span data-ttu-id="4065f-168">Další kroky</span><span class="sxs-lookup"><span data-stu-id="4065f-168">Next steps</span></span>

* [<span data-ttu-id="4065f-169">Úvod tooAzure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="4065f-169">Introduction tooAzure Stream Analytics</span></span>](stream-analytics-introduction.md)
* [<span data-ttu-id="4065f-170">Začínáme používat službu Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="4065f-170">Get started using Azure Stream Analytics</span></span>](stream-analytics-real-time-fraud-detection.md)
* [<span data-ttu-id="4065f-171">Škálování služby Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="4065f-171">Scale Azure Stream Analytics jobs</span></span>](stream-analytics-scale-jobs.md)
* [<span data-ttu-id="4065f-172">Referenční příručka k jazyku Azure Stream Analytics Query Language</span><span class="sxs-lookup"><span data-stu-id="4065f-172">Azure Stream Analytics Query Language Reference</span></span>](https://msdn.microsoft.com/library/azure/dn834998.aspx)
* [<span data-ttu-id="4065f-173">Referenční příručka k rozhraní REST API pro správu služby Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="4065f-173">Azure Stream Analytics Management REST API Reference</span></span>](https://msdn.microsoft.com/library/azure/dn835031.aspx)
