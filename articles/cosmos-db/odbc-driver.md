---
title: "Připojte se k databázi Cosmos Azure pomocí nástrojů BI analytics | Microsoft Docs"
description: "Naučte se používat ovladač Azure Cosmos DB ODBC k vytvoření tabulky a zobrazení tak, aby normalizovaný data lze zobrazit v softwaru analytics BI a data."
keywords: "rozhraní ODBC, ovladače odbc"
services: cosmos-db
author: mimig1
manager: jhubbard
editor: 
documentationcenter: 
ms.assetid: 9967f4e5-4b71-4cd7-8324-221a8c789e6b
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: rest-api
ms.topic: article
ms.date: 05/24/2017
ms.author: mimig
ms.openlocfilehash: 2df792c00b7a789dbefa64bfe0245f1ad73c3faa
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="connect-to-azure-cosmos-db-using-bi-analytics-tools-with-the-odbc-driver"></a><span data-ttu-id="fad6f-104">Připojte se k databázi Cosmos Azure pomocí nástrojů BI analýzy pomocí ovladače ODBC</span><span class="sxs-lookup"><span data-stu-id="fad6f-104">Connect to Azure Cosmos DB using BI analytics tools with the ODBC driver</span></span>

<span data-ttu-id="fad6f-105">Ovladač Azure Cosmos DB ODBC umožňuje připojení k databázi Cosmos Azure pomocí nástroje Analýza BI například Tableau, SQL Server Integration Services a Power BI Desktop, aby mohli analyzovat a vytvořit vizualizacemi vašich dat. Azure Cosmos DB v těchto řešeních.</span><span class="sxs-lookup"><span data-stu-id="fad6f-105">The Azure Cosmos DB ODBC driver enables you to connect to Azure Cosmos DB using BI analytics tools such as SQL Server Integration Services, Power BI Desktop, and Tableau so that you can analyze and create visualizations of your Azure Cosmos DB data in those solutions.</span></span>

<span data-ttu-id="fad6f-106">Ovladač Azure Cosmos DB ODBC je kompatibilní s ODBC 3.8 a podporuje syntaxi ANSI SQL-92.</span><span class="sxs-lookup"><span data-stu-id="fad6f-106">The Azure Cosmos DB ODBC driver is ODBC 3.8 compliant and supports ANSI SQL-92 syntax.</span></span> <span data-ttu-id="fad6f-107">Ovladač nabízí bohaté funkce můžete renormalize data v Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="fad6f-107">The driver offers rich features to help you renormalize data in Azure Cosmos DB.</span></span> <span data-ttu-id="fad6f-108">Použití ovladače, může představovat data v Azure Cosmos DB jako tabulky a zobrazení.</span><span class="sxs-lookup"><span data-stu-id="fad6f-108">Using the driver, you can represent data in Azure Cosmos DB as tables and views.</span></span> <span data-ttu-id="fad6f-109">Ovladač umožňuje provádět operace SQL u tabulky a zobrazení, včetně skupiny dotazy, vložení, aktualizace a odstraní.</span><span class="sxs-lookup"><span data-stu-id="fad6f-109">The driver enables you to perform SQL operations against the tables and views including group by queries, inserts, updates, and deletes.</span></span>

## <a name="why-do-i-need-to-normalize-my-data"></a><span data-ttu-id="fad6f-110">Proč musím normalizaci svá data?</span><span class="sxs-lookup"><span data-stu-id="fad6f-110">Why do I need to normalize my data?</span></span>
<span data-ttu-id="fad6f-111">Azure Cosmos DB je schemaless databáze, takže umožňuje rychlý vývoj aplikací povolením aplikace k iteraci jejich datového modelu za chodu a není je omezit striktní schématu.</span><span class="sxs-lookup"><span data-stu-id="fad6f-111">Azure Cosmos DB is a schemaless database, so it enables rapid development of apps by enabling applications to iterate their data model on the fly and not confine them to a strict schema.</span></span> <span data-ttu-id="fad6f-112">Izolované databáze Azure Cosmos DB může obsahovat dokumenty JSON různé struktur.</span><span class="sxs-lookup"><span data-stu-id="fad6f-112">A single Azure Cosmos DB database can contain JSON documents of various structures.</span></span> <span data-ttu-id="fad6f-113">Tato služba je skvělá pro rychlý vývoj aplikací, ale když chcete k analýze a vytváření sestav dat pomocí analýzy dat a nástroje BI, často potřebuje data vyrovnány a splňovat určité schéma.</span><span class="sxs-lookup"><span data-stu-id="fad6f-113">This is great for rapid application development, but when you want to analyze and create reports of your data using data analytics and BI tools, the data often needs to be flattened and adhere to a specific schema.</span></span>

<span data-ttu-id="fad6f-114">Toto je, kde odeslán ovladač ODBC.</span><span class="sxs-lookup"><span data-stu-id="fad6f-114">This is where the ODBC driver comes in.</span></span> <span data-ttu-id="fad6f-115">Pomocí ovladače ODBC, můžete nyní renormalized data v Azure Cosmos DB do tabulek a zobrazení hodí k vašim datovým potřebám analýz a generování sestav.</span><span class="sxs-lookup"><span data-stu-id="fad6f-115">By using the ODBC driver, you can now renormalized data in Azure Cosmos DB into tables and views fitting to your data analytic and reporting needs.</span></span> <span data-ttu-id="fad6f-116">Renormalized schémata nemají žádný vliv na základní data a není omezit jen vývojáři řídit k nim, jednoduše umožňují vám využít kompatibilní s rozhraním ODBC nástroje pro přístup k datům.</span><span class="sxs-lookup"><span data-stu-id="fad6f-116">The renormalized schemas have no impact on the underlying data and do not confine developers to adhere to them, they simply enable you to leverage ODBC-compliant tools to access the data.</span></span> <span data-ttu-id="fad6f-117">Takže teď vaše databáze Azure Cosmos DB pouze nebude oblíbená položka pro váš vývojový tým, ale bude datoví analytici skvělé příliš.</span><span class="sxs-lookup"><span data-stu-id="fad6f-117">So now your Azure Cosmos DB database will not only be a favorite for your development team, but your data analysts will love it too.</span></span>

<span data-ttu-id="fad6f-118">Teď umožňuje Začínáme pomocí ovladače ODBC.</span><span class="sxs-lookup"><span data-stu-id="fad6f-118">Now lets get started with the ODBC driver.</span></span>

## <span data-ttu-id="fad6f-119"><a id="install"></a>Krok 1: Instalace ovladač Azure Cosmos DB ODBC</span><span class="sxs-lookup"><span data-stu-id="fad6f-119"><a id="install"></a>Step 1: Install the Azure Cosmos DB ODBC driver</span></span>

1. <span data-ttu-id="fad6f-120">Stáhněte si ovladače pro vaše prostředí:</span><span class="sxs-lookup"><span data-stu-id="fad6f-120">Download the drivers for your environment:</span></span>

    * <span data-ttu-id="fad6f-121">[Microsoft Azure Cosmos DB ODBC 64-bit.msi](https://aka.ms/documentdb-odbc-64x64) pro 64bitový systém Windows</span><span class="sxs-lookup"><span data-stu-id="fad6f-121">[Microsoft Azure Cosmos DB ODBC 64-bit.msi](https://aka.ms/documentdb-odbc-64x64) for 64-bit Windows</span></span>
    * <span data-ttu-id="fad6f-122">[Microsoft Azure Cosmos DB ODBC 32 x 64-bit.msi](https://aka.ms/documentdb-odbc-32x64) pro 32bitovou verzi na 64bitovém systému Windows</span><span class="sxs-lookup"><span data-stu-id="fad6f-122">[Microsoft Azure Cosmos DB ODBC 32x64-bit.msi](https://aka.ms/documentdb-odbc-32x64) for 32-bit on 64-bit Windows</span></span>
    * <span data-ttu-id="fad6f-123">[Microsoft Azure Cosmos DB ODBC 32-bit.msi](https://aka.ms/documentdb-odbc-32x32) pro 32bitový systém Windows</span><span class="sxs-lookup"><span data-stu-id="fad6f-123">[Microsoft Azure Cosmos DB ODBC 32-bit.msi](https://aka.ms/documentdb-odbc-32x32) for 32-bit Windows</span></span>

    <span data-ttu-id="fad6f-124">Spusťte soubor msi místně, která se spouští **Průvodce instalací ovladačů DB Microsoft Azure Cosmos ODBC**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-124">Run the msi file locally, which starts the **Microsoft Azure Cosmos DB ODBC Driver Installation Wizard**.</span></span> 
2. <span data-ttu-id="fad6f-125">Dokončení Průvodce instalací pomocí výchozího vstup pro instalaci ovladače ODBC.</span><span class="sxs-lookup"><span data-stu-id="fad6f-125">Complete the installation wizard using the default input to install the ODBC driver.</span></span>
3. <span data-ttu-id="fad6f-126">Otevřete **správce zdrojů dat ODBC** aplikace v počítači, můžete to provedete zadáním **zdroje dat ODBC** v systému Windows vyhledávacího pole.</span><span class="sxs-lookup"><span data-stu-id="fad6f-126">Open the **ODBC Data source Administrator** app on your computer, you can do this by typing **ODBC Data sources** in the Windows search box.</span></span> 
    <span data-ttu-id="fad6f-127">Můžete potvrdit, ovladač byl nainstalován kliknutím **ovladače** kartě a zajištění **ovladače ODBC Microsoft Azure Cosmos DB** je uveden.</span><span class="sxs-lookup"><span data-stu-id="fad6f-127">You can confirm the driver was installed by clicking the **Drivers** tab and ensuring **Microsoft Azure Cosmos DB ODBC Driver** is listed.</span></span>

    ![Azure Cosmos DB správce zdrojů dat ODBC](./media/odbc-driver/odbc-driver.png)

## <span data-ttu-id="fad6f-129"><a id="connect"></a>Krok 2: Připojení k databázi Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="fad6f-129"><a id="connect"></a>Step 2: Connect to your Azure Cosmos DB database</span></span>

1. <span data-ttu-id="fad6f-130">Po [instalaci ovladače Azure Cosmos DB ODBC](#install)v **správce zdrojů dat ODBC** okně klikněte na tlačítko **přidat**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-130">After [Installing the Azure Cosmos DB ODBC driver](#install), in the **ODBC Data Source Administrator** window, click **Add**.</span></span> <span data-ttu-id="fad6f-131">Můžete vytvořit uživatele nebo název DSN systému.</span><span class="sxs-lookup"><span data-stu-id="fad6f-131">You can create a User or System DSN.</span></span> <span data-ttu-id="fad6f-132">V tomto příkladu vytváříme uživatelské DSN.</span><span class="sxs-lookup"><span data-stu-id="fad6f-132">In this example, we are creating a User DSN.</span></span>
2. <span data-ttu-id="fad6f-133">V **vytvořit nový zdroj dat** vyberte **ovladače ODBC Microsoft Azure Cosmos DB**a potom klikněte na **Dokončit**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-133">In the **Create New Data Source** window, select **Microsoft Azure Cosmos DB ODBC Driver**, and then click **Finish**.</span></span>
3. <span data-ttu-id="fad6f-134">V **Azure Cosmos DB ODBC ovladač SDN instalace** vyplňte následující:</span><span class="sxs-lookup"><span data-stu-id="fad6f-134">In the **Azure Cosmos DB ODBC Driver SDN Setup** window, fill in the following:</span></span> 

    ![Azure okno nastavení DSN ovladač ODBC pro Cosmos DB](./media/odbc-driver/odbc-driver-dsn-setup.png)
    - <span data-ttu-id="fad6f-136">**Název zdroje dat**: vlastní popisný název DSN rozhraní ODBC.</span><span class="sxs-lookup"><span data-stu-id="fad6f-136">**Data Source Name**: Your own friendly name for the ODBC DSN.</span></span> <span data-ttu-id="fad6f-137">Tento název je jedinečný pro váš účet Azure Cosmos DB, takže název správně Pokud máte více účtů.</span><span class="sxs-lookup"><span data-stu-id="fad6f-137">This name is unique to your Azure Cosmos DB account, so name it appropriately if you have multiple accounts.</span></span>
    - <span data-ttu-id="fad6f-138">**Popis**: stručný popis zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="fad6f-138">**Description**: A brief description of the data source.</span></span>
    - <span data-ttu-id="fad6f-139">**Hostitele**: identifikátor URI pro váš účet Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="fad6f-139">**Host**: URI for your Azure Cosmos DB account.</span></span> <span data-ttu-id="fad6f-140">Můžete načíst to z okna Azure Cosmos DB klíče na portálu Azure, jak je znázorněno na následujícím snímku obrazovky.</span><span class="sxs-lookup"><span data-stu-id="fad6f-140">You can retrieve this from the Azure Cosmos DB Keys blade in the Azure portal, as shown in the following screenshot.</span></span> 
    - <span data-ttu-id="fad6f-141">**Přístup ke klíči**: primární nebo sekundární, čtení a zápis nebo jen pro čtení klíče z okna Azure Cosmos DB klíče na portálu Azure, jak je znázorněno na následujícím snímku obrazovky.</span><span class="sxs-lookup"><span data-stu-id="fad6f-141">**Access Key**: The primary or secondary, read-write or read-only key from the Azure Cosmos DB Keys blade in the Azure portal as shown in the following screenshot.</span></span> <span data-ttu-id="fad6f-142">Doporučujeme, že abyste použili klíč jen pro čtení, pokud název zdroje dat se používá pro zpracování dat jen pro čtení a vytváření sestav.</span><span class="sxs-lookup"><span data-stu-id="fad6f-142">We recommend you use the read-only key if the DSN is used for read-only data processing and reporting.</span></span>
    <span data-ttu-id="fad6f-143">![Azure okna klíče DB Cosmos](./media/odbc-driver/odbc-driver-keys.png)</span><span class="sxs-lookup"><span data-stu-id="fad6f-143">![Azure Cosmos DB Keys blade](./media/odbc-driver/odbc-driver-keys.png)</span></span>
    - <span data-ttu-id="fad6f-144">**Přístupový klíč pro šifrování**: vybrat nejlepší volbou založená na uživatelích tohoto počítače.</span><span class="sxs-lookup"><span data-stu-id="fad6f-144">**Encrypt Access Key for**: Select the best choice based on the users of this machine.</span></span> 
4. <span data-ttu-id="fad6f-145">Klikněte **Test** tlačítko a ujistěte se, zda se můžete připojit ke svému účtu Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="fad6f-145">Click the **Test** button to make sure you can connect to your Azure Cosmos DB account.</span></span> 
5. <span data-ttu-id="fad6f-146">Klikněte na tlačítko **pokročilé možnosti** a nastavte následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="fad6f-146">Click **Advanced Options** and set the following values:</span></span>
    - <span data-ttu-id="fad6f-147">**Dotaz konzistence**: vyberte [úroveň konzistence](consistency-levels.md) pro operace.</span><span class="sxs-lookup"><span data-stu-id="fad6f-147">**Query Consistency**: Select the [consistency level](consistency-levels.md) for your operations.</span></span> <span data-ttu-id="fad6f-148">Výchozí hodnota je relace.</span><span class="sxs-lookup"><span data-stu-id="fad6f-148">The default is Session.</span></span>
    - <span data-ttu-id="fad6f-149">**Počet opakovaných pokusů**: Zadejte počet pokusů o opakování operace, pokud úvodního požadavku není dokončena z důvodu omezení služby.</span><span class="sxs-lookup"><span data-stu-id="fad6f-149">**Number of Retries**: Enter the number of times to retry an operation if the initial request does not complete due to service throttling.</span></span>
    - <span data-ttu-id="fad6f-150">**Soubor se schématem**: Zde máte několik možností.</span><span class="sxs-lookup"><span data-stu-id="fad6f-150">**Schema File**: You have a number of options here.</span></span>
        - <span data-ttu-id="fad6f-151">Ve výchozím nastavení tato položka, jako je (prázdný), a kontroluje ovladače data na první stránce pro všechny kolekce k určení schéma každou kolekci.</span><span class="sxs-lookup"><span data-stu-id="fad6f-151">By default, leaving this entry as is (blank), the driver scans the first page data for all collections to determine the schema of each collection.</span></span> <span data-ttu-id="fad6f-152">To se označuje jako kolekce mapování.</span><span class="sxs-lookup"><span data-stu-id="fad6f-152">This is known as Collection Mapping.</span></span> <span data-ttu-id="fad6f-153">Bez soubor schéma definované ovladače se má provést kontrola pro každou relaci ovladačů a může mít za následek vyšší spuštění provoz aplikace pomocí DSN.</span><span class="sxs-lookup"><span data-stu-id="fad6f-153">Without a schema file defined, the driver has to perform the scan for each driver session and could result in a higher start up time of an application using the DSN.</span></span> <span data-ttu-id="fad6f-154">Doporučujeme vždy přiřadit soubor schématu pro zdroje dat DSN.</span><span class="sxs-lookup"><span data-stu-id="fad6f-154">We recommend that you always associate a schema file for a DSN.</span></span>
        - <span data-ttu-id="fad6f-155">Pokud již máte soubor schématu (může být ten, který jste vytvořili pomocí [schématu Editor](#schema-editor)), můžete kliknout na **Procházet**, přejděte k souboru, klikněte na **Uložit**a potom klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-155">If you already have a schema file (possibly one that you created using the [Schema Editor](#schema-editor)), you can click **Browse**, navigate to your file, click **Save**, and then click **OK**.</span></span>
        - <span data-ttu-id="fad6f-156">Pokud chcete vytvořit nové schéma, klikněte na tlačítko **OK**a potom klikněte na **schématu Editor** v hlavním okně.</span><span class="sxs-lookup"><span data-stu-id="fad6f-156">If you want to create a new schema, click **OK**, and then click **Schema Editor** in the main window.</span></span> <span data-ttu-id="fad6f-157">Pak pokračujte [schématu Editor](#schema-editor) informace.</span><span class="sxs-lookup"><span data-stu-id="fad6f-157">Then proceed to the [Schema Editor](#schema-editor) information.</span></span> <span data-ttu-id="fad6f-158">Při vytváření nového souboru schématu, nezapomeňte prosím vraťte se **pokročilé možnosti** okno zahrnout schématu nově vytvořený soubor.</span><span class="sxs-lookup"><span data-stu-id="fad6f-158">Upon creating the new schema file, please remember to go back to the **Advanced Options** window to include the newly created schema file.</span></span>

6. <span data-ttu-id="fad6f-159">Po dokončení a zavření **Azure Cosmos DB ODBC ovladač DSN instalace** okně Nový uživatelský název DSN se přidá do karty Uživatelské DSN.</span><span class="sxs-lookup"><span data-stu-id="fad6f-159">Once you complete and close the **Azure Cosmos DB ODBC Driver DSN Setup** window, the new User DSN is added to the User DSN tab.</span></span>

    ![Nové Azure Cosmos DB název DSN rozhraní ODBC na kartě Uživatelské DSN](./media/odbc-driver/odbc-driver-user-dsn.png)

## <span data-ttu-id="fad6f-161"><a id="#collection-mapping"></a>Krok 3: Vytvoření definice schématu pomocí metody kolekce mapování</span><span class="sxs-lookup"><span data-stu-id="fad6f-161"><a id="#collection-mapping"></a>Step 3: Create a schema definition using the collection mapping method</span></span>

<span data-ttu-id="fad6f-162">Existují dva typy metod vzorkování, které můžete použít: **kolekce mapování** nebo **tabulky oddělovače**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-162">There are two types of sampling methods that you can use: **collection mapping** or **table-delimiters**.</span></span> <span data-ttu-id="fad6f-163">Relaci vzorkování můžete využít obě metody vzorkování, ale každá kolekce metodu lze použít pouze konkrétní vzorkování.</span><span class="sxs-lookup"><span data-stu-id="fad6f-163">A sampling session can utilize both sampling methods, but each collection can only use a specific sampling method.</span></span> <span data-ttu-id="fad6f-164">Následující postup vytvořit schéma pro data v jedné nebo více kolekcí pomocí metody kolekce mapování.</span><span class="sxs-lookup"><span data-stu-id="fad6f-164">The steps below create a schema for the data in one or more collections using the collection mapping method.</span></span> <span data-ttu-id="fad6f-165">Tato metoda vzorkování načte data na stránce určit strukturu dat kolekce.</span><span class="sxs-lookup"><span data-stu-id="fad6f-165">This sampling method retrieves the data in the page of a collection to determine the structure of the data.</span></span> <span data-ttu-id="fad6f-166">Ho transponuje kolekci do tabulky na straně ODBC.</span><span class="sxs-lookup"><span data-stu-id="fad6f-166">It transposes a collection to a table on the ODBC side.</span></span> <span data-ttu-id="fad6f-167">Tato metoda vzorkování je rychlé a efektivní, když jsou data v kolekci homogenního.</span><span class="sxs-lookup"><span data-stu-id="fad6f-167">This sampling method is efficient and fast when the data in a collection is homogenous.</span></span> <span data-ttu-id="fad6f-168">Pokud kolekce obsahuje heterogenous typu dat, doporučujeme použít [tabulky oddělovače mapování metoda](#table-mapping) jako poskytuje robustnější metody vzorkování určit datové struktury v kolekci.</span><span class="sxs-lookup"><span data-stu-id="fad6f-168">If a collection contains heterogenous type of data, we recommend you use the [table-delimiters mapping method](#table-mapping) as it provides a more robust sampling method to determine the data structures in the collection.</span></span> 

1. <span data-ttu-id="fad6f-169">Po dokončení kroků 1 – 4 v [připojit k databázi Azure Cosmos DB](#connect), klikněte na tlačítko **schématu Editor** v **Azure Cosmos DB ODBC ovladač DSN instalace** okno.</span><span class="sxs-lookup"><span data-stu-id="fad6f-169">After completing steps 1-4 in [Connect to your Azure Cosmos DB database](#connect), click **Schema Editor** in the **Azure Cosmos DB ODBC Driver DSN Setup** window.</span></span>

    ![Schéma editor tlačítka v okně Azure Cosmos DB ODBC ovladač DSN nastavení](./media/odbc-driver/odbc-driver-schema-editor.png)
2. <span data-ttu-id="fad6f-171">V **schématu Editor** okně klikněte na tlačítko **vytvořit nový**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-171">In the **Schema Editor** window, click **Create New**.</span></span>
    <span data-ttu-id="fad6f-172">**Generovat schéma** okno zobrazí všechny kolekce v účtu Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="fad6f-172">The **Generate Schema** window displays all the collections in the Azure Cosmos DB account.</span></span> 
3. <span data-ttu-id="fad6f-173">Vyberte jeden nebo více kolekcí pro ukázkové a pak klikněte na tlačítko **ukázka**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-173">Select one or more collections to sample, and then click **Sample**.</span></span> 
4. <span data-ttu-id="fad6f-174">V **zobrazení návrhu** jsou reprezentované kartě, databáze, schéma a tabulku.</span><span class="sxs-lookup"><span data-stu-id="fad6f-174">In the **Design View** tab, the database, schema, and table are represented.</span></span> <span data-ttu-id="fad6f-175">V zobrazení tabulky zobrazí kontroly sadu vlastnosti související s názvy sloupců (název serveru SQL, název zdroje atd.).</span><span class="sxs-lookup"><span data-stu-id="fad6f-175">In the table view, the scan displays the set of properties associated with the column names (SQL Name, Source Name, etc.).</span></span>
    <span data-ttu-id="fad6f-176">Pro každý sloupec můžete upravit název sloupce SQL, typ SQL, délka SQL (pokud existuje), škálování (pokud existuje), přesnost (pokud existuje) a s možnou hodnotou Null.</span><span class="sxs-lookup"><span data-stu-id="fad6f-176">For each column, you can modify the column SQL name, the SQL type, SQL length (if applicable), Scale (if applicable), Precision (if applicable) and Nullable.</span></span>
    - <span data-ttu-id="fad6f-177">Můžete nastavit **skrýt sloupce** k **true** Pokud chcete vyloučit sloupce z výsledků dotazu.</span><span class="sxs-lookup"><span data-stu-id="fad6f-177">You can set **Hide Column** to **true** if you want to exclude that column from query results.</span></span> <span data-ttu-id="fad6f-178">Sloupce označena skrýt sloupce = true nebudou zobrazeny pro výběr a projekce, i když jsou stále součástí schématu.</span><span class="sxs-lookup"><span data-stu-id="fad6f-178">Columns marked Hide Column = true are not returned for selection and projection, although they are still part of the schema.</span></span> <span data-ttu-id="fad6f-179">Například můžete skrýt všechny vlastnosti systém požadovaný Azure Cosmos DB počínaje "_".</span><span class="sxs-lookup"><span data-stu-id="fad6f-179">For example, you can hide all of the Azure Cosmos DB system required properties starting with “_”.</span></span>
    - <span data-ttu-id="fad6f-180">**Id** sloupec je pouze pole, které nemohou být skrytá. protože je používán jako primární klíč v normalizovaný schématu.</span><span class="sxs-lookup"><span data-stu-id="fad6f-180">The **id** column is the only field that cannot be hidden as it is used as the primary key in the normalized schema.</span></span> 
5. <span data-ttu-id="fad6f-181">Po dokončení definování schématu, klikněte na tlačítko **soubor** | **Uložit**, přejděte do adresáře uložte schématu a pak klikněte na tlačítko **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-181">Once you have finished defining the schema, click **File** | **Save**, navigate to the directory to save the schema, and then click **Save**.</span></span>

    <span data-ttu-id="fad6f-182">Pokud chcete v budoucnu toto schéma používají, pomocí názvu DSN, otevřete okno Azure Cosmos DB ODBC ovladač DSN nastavení (pomocí Správce zdrojů dat ODBC), klikněte na tlačítko Upřesnit možnosti a pak v dialogovém okně soubor schématu přejděte na schéma uložené.</span><span class="sxs-lookup"><span data-stu-id="fad6f-182">If in the future you want to use this schema with a DSN, open the Azure Cosmos DB ODBC Driver DSN Setup window (via the ODBC Data Source Administrator), click Advanced Options, and then in the Schema File box, navigate to the saved schema.</span></span> <span data-ttu-id="fad6f-183">Ukládání souboru schématu do existující DSN upravuje DSN připojení k oboru k datům a struktury definované schéma.</span><span class="sxs-lookup"><span data-stu-id="fad6f-183">Saving a schema file to an existing DSN modifies the DSN connection to scope to the data and structure defined by schema.</span></span>

## <span data-ttu-id="fad6f-184"><a id="table-mapping"></a>Krok 4: Vytvoření definice schématu pomocí tabulky oddělovače mapování – metoda</span><span class="sxs-lookup"><span data-stu-id="fad6f-184"><a id="table-mapping"></a>Step 4: Create a schema definition using the table-delimiters mapping method</span></span>

<span data-ttu-id="fad6f-185">Existují dva typy metod vzorkování, které můžete použít: **kolekce mapování** nebo **tabulky oddělovače**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-185">There are two types of sampling methods that you can use: **collection mapping** or **table-delimiters**.</span></span> <span data-ttu-id="fad6f-186">Relaci vzorkování můžete využít obě metody vzorkování, ale každá kolekce metodu lze použít pouze konkrétní vzorkování.</span><span class="sxs-lookup"><span data-stu-id="fad6f-186">A sampling session can utilize both sampling methods, but each collection can only use a specific sampling method.</span></span> 

<span data-ttu-id="fad6f-187">Následujících kroků vytvořte schéma pro data v jedné nebo více kolekcí pomocí **tabulky oddělovače** mapování metoda.</span><span class="sxs-lookup"><span data-stu-id="fad6f-187">The following steps create a schema for the data in one or more collections using the **table-delimiters** mapping method.</span></span> <span data-ttu-id="fad6f-188">Doporučujeme použít tuto metodu vzorkování, pokud kolekce obsahují heterogenní typ dat.</span><span class="sxs-lookup"><span data-stu-id="fad6f-188">We recommend that you use this sampling method when your collections contain heterogeneous type of data.</span></span> <span data-ttu-id="fad6f-189">Tuto metodu můžete použít k určení rozsahu vzorkování na sadu atributů a jeho odpovídající hodnoty.</span><span class="sxs-lookup"><span data-stu-id="fad6f-189">You can use this method to scope the sampling to a set of attributes and its corresponding values.</span></span> <span data-ttu-id="fad6f-190">Například pokud dokument obsahuje vlastnost "Druh", můžete určit obor vzorkuje hodnoty této vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="fad6f-190">For example, if a document contains a “Type” property, you can scope the sampling to the values of this property.</span></span> <span data-ttu-id="fad6f-191">Konečný výsledek vzorkuje by sadu tabulek pro každou z hodnot pro typ jste zadali.</span><span class="sxs-lookup"><span data-stu-id="fad6f-191">The end result of the sampling would be a set of tables for each of the values for Type you have specified.</span></span> <span data-ttu-id="fad6f-192">Zadejte například = Auto vytvoří tabulku Car při typ = roviny byste mohli vytvořit tabulku roviny.</span><span class="sxs-lookup"><span data-stu-id="fad6f-192">For example, Type = Car will produce a Car table while Type = Plane would produce a Plane table.</span></span>

1. <span data-ttu-id="fad6f-193">Po dokončení kroků 1 – 4 v [připojit k databázi Azure Cosmos DB](#connect), klikněte na tlačítko **schématu Editor** v okně Azure Cosmos DB ODBC ovladač DSN nastavení.</span><span class="sxs-lookup"><span data-stu-id="fad6f-193">After completing steps 1-4 in [Connect to your Azure Cosmos DB database](#connect), click **Schema Editor** in the Azure Cosmos DB ODBC Driver DSN Setup window.</span></span>
2. <span data-ttu-id="fad6f-194">V **schématu Editor** okně klikněte na tlačítko **vytvořit nový**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-194">In the **Schema Editor** window, click **Create New**.</span></span>
    <span data-ttu-id="fad6f-195">**Generovat schéma** okno zobrazí všechny kolekce v účtu Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="fad6f-195">The **Generate Schema** window displays all the collections in the Azure Cosmos DB account.</span></span> 
3. <span data-ttu-id="fad6f-196">Vyberte kolekci, která na **ukázkové zobrazení** ve **mapování definice** sloupec pro kolekce, klikněte na tlačítko **upravit**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-196">Select a collection on the **Sample View** tab, in the **Mapping Definition** column for the collection, click **Edit**.</span></span> <span data-ttu-id="fad6f-197">Potom v **mapování definice** vyberte **tabulky oddělovače** metoda.</span><span class="sxs-lookup"><span data-stu-id="fad6f-197">Then in the **Mapping Definition** window, select **Table Delimiters** method.</span></span> <span data-ttu-id="fad6f-198">Potom udělejte následující:</span><span class="sxs-lookup"><span data-stu-id="fad6f-198">Then do the following:</span></span>

    <span data-ttu-id="fad6f-199">a.</span><span class="sxs-lookup"><span data-stu-id="fad6f-199">a.</span></span> <span data-ttu-id="fad6f-200">V **atributy** zadejte název vlastnosti oddělovač.</span><span class="sxs-lookup"><span data-stu-id="fad6f-200">In the **Attributes** box, type the name of a delimiter property.</span></span> <span data-ttu-id="fad6f-201">Toto je vlastnost dokumentu, který chcete určit obor vzorkování na, například města a stiskněte klávesu enter.</span><span class="sxs-lookup"><span data-stu-id="fad6f-201">This is a property in your document that you want to scope the sampling to, for instance, City and press enter.</span></span> 

    <span data-ttu-id="fad6f-202">b.</span><span class="sxs-lookup"><span data-stu-id="fad6f-202">b.</span></span> <span data-ttu-id="fad6f-203">Pokud chcete určit obor vzorkování na určité hodnoty pro atribut, který jste právě zadali, vyberte atribut v výběr a potom zadejte hodnotu do **hodnotu** pole, například Praha a stiskněte klávesu enter.</span><span class="sxs-lookup"><span data-stu-id="fad6f-203">If you only want to scope the sampling to certain values for the attribute you just entered, select the attribute in the selection box, then enter a value in the **Value** box, for example, Seattle and press enter.</span></span> <span data-ttu-id="fad6f-204">Můžete přidat více hodnot atributů.</span><span class="sxs-lookup"><span data-stu-id="fad6f-204">You can continue to add multiple values for attributes.</span></span> <span data-ttu-id="fad6f-205">Právě zkontrolujte, že je vybraný správný atribut, když zadáváte hodnoty.</span><span class="sxs-lookup"><span data-stu-id="fad6f-205">Just ensure that the correct attribute is selected when you're entering values.</span></span>

    <span data-ttu-id="fad6f-206">Například, pokud zahrnete **atributy** hodnotu města a budete chtít omezit tabulka zahrnovat pouze řádky s hodnotou města Brno a Dubaj, zadejte město v atributy pole a New Yorku a pak Dubaj do **Hodnoty** pole.</span><span class="sxs-lookup"><span data-stu-id="fad6f-206">For example, if you include an **Attributes** value of City, and you want to limit your table to only include rows with a city value of New York and Dubai, you would enter City in the Attributes box, and New York and then Dubai in the **Values** box.</span></span>
4. <span data-ttu-id="fad6f-207">Klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-207">Click **OK**.</span></span> 
5. <span data-ttu-id="fad6f-208">Po dokončení definice mapování pro kolekce, které chcete v ukázkové **schématu Editor** okně klikněte na tlačítko **ukázka**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-208">After completing the mapping definitions for the collections you want to sample, in the **Schema Editor** window, click **Sample**.</span></span>
     <span data-ttu-id="fad6f-209">Pro každý sloupec můžete upravit název sloupce SQL, typ SQL, délka SQL (pokud existuje), škálování (pokud existuje), přesnost (pokud existuje) a s možnou hodnotou Null.</span><span class="sxs-lookup"><span data-stu-id="fad6f-209">For each column, you can modify the column SQL name, the SQL type, SQL length (if applicable), Scale (if applicable), Precision (if applicable) and Nullable.</span></span>
    - <span data-ttu-id="fad6f-210">Můžete nastavit **skrýt sloupce** k **true** Pokud chcete vyloučit sloupce z výsledků dotazu.</span><span class="sxs-lookup"><span data-stu-id="fad6f-210">You can set **Hide Column** to **true** if you want to exclude that column from query results.</span></span> <span data-ttu-id="fad6f-211">Sloupce označena skrýt sloupce = true nebudou zobrazeny pro výběr a projekce, i když jsou stále součástí schématu.</span><span class="sxs-lookup"><span data-stu-id="fad6f-211">Columns marked Hide Column = true are not returned for selection and projection, although they are still part of the schema.</span></span> <span data-ttu-id="fad6f-212">Například můžete skrýt všechny vlastnosti požadované systému Azure Cosmos DB počínaje "_".</span><span class="sxs-lookup"><span data-stu-id="fad6f-212">For example, you can hide all the Azure Cosmos DB system required properties starting with “_”.</span></span>
    - <span data-ttu-id="fad6f-213">**Id** sloupec je pouze pole, které nemohou být skrytá. protože je používán jako primární klíč v normalizovaný schématu.</span><span class="sxs-lookup"><span data-stu-id="fad6f-213">The **id** column is the only field that cannot be hidden as it is used as the primary key in the normalized schema.</span></span> 
6. <span data-ttu-id="fad6f-214">Po dokončení definování schématu, klikněte na tlačítko **soubor** | **Uložit**, přejděte do adresáře uložte schématu a pak klikněte na tlačítko **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-214">Once you have finished defining the schema, click **File** | **Save**, navigate to the directory to save the schema, and then click **Save**.</span></span>
7. <span data-ttu-id="fad6f-215">Zpět v **Azure Cosmos DB ODBC ovladač DSN instalace** okně klikněte na tlačítko ** Rozšířené možnosti **.</span><span class="sxs-lookup"><span data-stu-id="fad6f-215">Back in the **Azure Cosmos DB ODBC Driver DSN Setup** window, click ** Advanced Options**.</span></span> <span data-ttu-id="fad6f-216">Pak na **soubor schématu** pole, přejděte na soubor uložený schéma a klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-216">Then, in the **Schema File** box, navigate to the saved schema file and click **OK**.</span></span> <span data-ttu-id="fad6f-217">Klikněte na tlačítko **OK** znovu a uložit DSN.</span><span class="sxs-lookup"><span data-stu-id="fad6f-217">Click **OK** again to save the DSN.</span></span> <span data-ttu-id="fad6f-218">To umožňuje ušetřit schéma, které jste vytvořili s DSN.</span><span class="sxs-lookup"><span data-stu-id="fad6f-218">This saves the schema you created to the DSN.</span></span> 

## <a name="optional-creating-views"></a><span data-ttu-id="fad6f-219">(Volitelné) Vytváření zobrazení</span><span class="sxs-lookup"><span data-stu-id="fad6f-219">(Optional) Creating views</span></span>
<span data-ttu-id="fad6f-220">Můžete definovat a vytvářet zobrazení v rámci procesu vzorkování.</span><span class="sxs-lookup"><span data-stu-id="fad6f-220">You can define and create views as part of the sampling process.</span></span> <span data-ttu-id="fad6f-221">Tato zobrazení jsou ekvivalentní zobrazení SQL.</span><span class="sxs-lookup"><span data-stu-id="fad6f-221">These views are equivalent to SQL views.</span></span> <span data-ttu-id="fad6f-222">Jsou jen pro čtení a oboru se výběr a definované projekce Azure Cosmos DB SQL.</span><span class="sxs-lookup"><span data-stu-id="fad6f-222">They are read-only and are scope the selections and projections of the Azure Cosmos DB SQL defined.</span></span> 

<span data-ttu-id="fad6f-223">Vytvoření zobrazení pro vaše data v **schématu Editor** okno v **definice zobrazení** sloupce, klikněte na tlačítko **přidat** na řádek kolekce ukázce.</span><span class="sxs-lookup"><span data-stu-id="fad6f-223">To create a view for your data, in the **Schema Editor** window, in the **View Definitions** column, click **Add** on the row of the collection to sample.</span></span> <span data-ttu-id="fad6f-224">Potom v **definice zobrazení** okno, postupujte takto:</span><span class="sxs-lookup"><span data-stu-id="fad6f-224">Then in the **View Definitions** window, do the following:</span></span>
1. <span data-ttu-id="fad6f-225">Klikněte na tlačítko **nový**, zadejte název zobrazení, například EmployeesfromSeattleView a pak klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-225">Click **New**, enter a name for the view, for example, EmployeesfromSeattleView and then click **OK**.</span></span>
2. <span data-ttu-id="fad6f-226">V **upravit zobrazení** okno, zadejte dotaz služby Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="fad6f-226">In the **Edit view** window, enter an Azure Cosmos DB query.</span></span> <span data-ttu-id="fad6f-227">Dotaz SQL Azure Cosmos databáze musí být například`SELECT c.City, c.EmployeeName, c.Level, c.Age, c.Gender, c.Manager FROM c WHERE c.City = “Seattle”`a potom klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-227">This must be an Azure Cosmos DB SQL query, for example`SELECT c.City, c.EmployeeName, c.Level, c.Age, c.Gender, c.Manager FROM c WHERE c.City = “Seattle”`, and then click **OK**.</span></span>

<span data-ttu-id="fad6f-228">Jak se vám líbí, můžete vytvořit mnoho zobrazení.</span><span class="sxs-lookup"><span data-stu-id="fad6f-228">You can create a many views as you like.</span></span> <span data-ttu-id="fad6f-229">Po dokončení definování zobrazení, můžete pak Vzorkovat data.</span><span class="sxs-lookup"><span data-stu-id="fad6f-229">Once you are done defining the views, you can then sample the data.</span></span> 

## <a name="step-5-view-your-data-in-bi-tools-such-as-power-bi-desktop"></a><span data-ttu-id="fad6f-230">Krok 5: Zobrazení dat v nástrojích BI, například Power BI Desktop</span><span class="sxs-lookup"><span data-stu-id="fad6f-230">Step 5: View your data in BI tools such as Power BI Desktop</span></span>

<span data-ttu-id="fad6f-231">Nové DSN můžete použít pro připojení k žádné kompatibilní s rozhraním ODBC nástroje DocumentADB – tento krok jednoduše ukazuje, jak se připojit k Power BI Desktop a vytvořit vizualizaci Power BI.</span><span class="sxs-lookup"><span data-stu-id="fad6f-231">You can use your new DSN to connect DocumentADB with any ODBC-compliant tools - this step simply shows you how to connect to Power BI Desktop and create a Power BI visualization.</span></span>

1. <span data-ttu-id="fad6f-232">Otevřít Power BI Desktop.</span><span class="sxs-lookup"><span data-stu-id="fad6f-232">Open Power BI Desktop.</span></span>
2. <span data-ttu-id="fad6f-233">Klikněte na tlačítko **získat Data**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-233">Click **Get Data**.</span></span>
3. <span data-ttu-id="fad6f-234">V **načíst Data** okně klikněte na tlačítko **jiných** | **ODBC** | **Connect**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-234">In the **Get Data** window, click **Other** | **ODBC** | **Connect**.</span></span>
4. <span data-ttu-id="fad6f-235">V **z rozhraní ODBC** okno, vyberte zdroj dat jste vytvořili a potom klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-235">In the **From ODBC** window, select the data source name you created, and then click **OK**.</span></span> <span data-ttu-id="fad6f-236">Můžete nechat **pokročilé možnosti** položky, které jsou prázdné.</span><span class="sxs-lookup"><span data-stu-id="fad6f-236">You can leave the **Advanced Options** entries blank.</span></span>
5. <span data-ttu-id="fad6f-237">V **přístup k datovému zdroji prostřednictvím ovladače ODBC** vyberte **výchozí nebo vlastní** a pak klikněte na **Connect**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-237">In the **Access a data source using an ODBC driver** window, select **Default or Custom** and then click **Connect**.</span></span> <span data-ttu-id="fad6f-238">Nemusíte zahrnovat **pověření vlastnosti připojovacího řetězce**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-238">You do not need to include the **Credential connection string properties**.</span></span>
6. <span data-ttu-id="fad6f-239">V **Navigátor** okno, v levém podokně rozbalte databázi schématu a pak vyberte v tabulce.</span><span class="sxs-lookup"><span data-stu-id="fad6f-239">In the **Navigator** window, in the left pane, expand the database, the schema, and then select the table.</span></span> <span data-ttu-id="fad6f-240">V podokně Výsledky zahrnuje data pomocí schématu, kterou jste vytvořili.</span><span class="sxs-lookup"><span data-stu-id="fad6f-240">The results pane includes the data using the schema you created.</span></span>
7. <span data-ttu-id="fad6f-241">K vizualizaci dat v Power BI desktop, zaškrtněte políčko před název tabulky a pak klikněte na tlačítko **zatížení**.</span><span class="sxs-lookup"><span data-stu-id="fad6f-241">To visualize the data in Power BI desktop, check the box in front of the table name, and then click **Load**.</span></span>
8. <span data-ttu-id="fad6f-242">V Power BI Desktop vkládá zcela vlevo, vyberte kartu dat</span><span class="sxs-lookup"><span data-stu-id="fad6f-242">In Power BI Desktop, on the far left, select the Data tab</span></span> ![Karta data v Power BI Desktop](./media/odbc-driver/odbc-driver-data-tab.png) <span data-ttu-id="fad6f-244">Potvrďte vaše data byla importována.</span><span class="sxs-lookup"><span data-stu-id="fad6f-244">to confirm your data was imported.</span></span>
9. <span data-ttu-id="fad6f-245">Nyní můžete vytvořit vizuální prvky používající Power BI kliknutím na kartu sestavy ![kartu sestavy v Power BI Desktop](./media/odbc-driver/odbc-driver-report-tab.png), kliknete na příkaz **nové Visual**a pak přizpůsobení dlaždice.</span><span class="sxs-lookup"><span data-stu-id="fad6f-245">You can now create visuals using Power BI by clicking on the Report tab ![Report tab in Power BI Desktop](./media/odbc-driver/odbc-driver-report-tab.png), clicking **New Visual**, and then customizing your tile.</span></span> <span data-ttu-id="fad6f-246">Další informace o vytváření vizualizací v Power BI Desktop najdete v tématu [typů vizualizace v Power BI](https://powerbi.microsoft.com/documentation/powerbi-service-visualization-types-for-reports-and-q-and-a/).</span><span class="sxs-lookup"><span data-stu-id="fad6f-246">For more information about creating visualizations in Power BI Desktop, see [Visualization types in Power BI](https://powerbi.microsoft.com/documentation/powerbi-service-visualization-types-for-reports-and-q-and-a/).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="fad6f-247">Řešení potíží</span><span class="sxs-lookup"><span data-stu-id="fad6f-247">Troubleshooting</span></span>

<span data-ttu-id="fad6f-248">Pokud se zobrazí následující chyba, zkontrolujte **hostitele** a **přístupový klíč** hodnoty, které jste zkopírovali na portálu Azure v [kroku 2](#connect) jsou správné a opakujte.</span><span class="sxs-lookup"><span data-stu-id="fad6f-248">If you receive the following error, ensure the **Host** and **Access Key** values you copied the Azure portal in [Step 2](#connect) are correct and then retry.</span></span> <span data-ttu-id="fad6f-249">Pomocí tlačítek kopírovat na pravé straně **hostitele** a **přístupový klíč** hodnoty v portálu Azure a Kopírovat bez hodnoty chyb.</span><span class="sxs-lookup"><span data-stu-id="fad6f-249">Use the copy buttons to the right of the **Host** and **Access Key** values in the Azure portal to copy the values error free.</span></span>

    [HY000]: [Microsoft][Azure Cosmos DB] (401) HTTP 401 Authentication Error: {"code":"Unauthorized","message":"The input authorization token can't serve the request. Please check that the expected payload is built as per the protocol, and check the key being used. Server used the following payload to sign: 'get\ndbs\n\nfri, 20 jan 2017 03:43:55 gmt\n\n'\r\nActivityId: 9acb3c0d-cb31-4b78-ac0a-413c8d33e373"}`

## <a name="next-steps"></a><span data-ttu-id="fad6f-250">Další kroky</span><span class="sxs-lookup"><span data-stu-id="fad6f-250">Next steps</span></span>

<span data-ttu-id="fad6f-251">Další informace o databázi Cosmos Azure najdete v tématu [co je Azure Cosmos DB?](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="fad6f-251">To learn more about Azure Cosmos DB, see [What is Azure Cosmos DB?](introduction.md).</span></span>
