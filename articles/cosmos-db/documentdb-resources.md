---
title: "aaaAzure Cosmos DB model prostředků a koncepty | Microsoft Docs"
description: "Další informace o databázi Cosmos Azure hierarchické model databáze, kolekce, uživatelem definované funkce (UDF), dokumentů, oprávnění toomanage prostředky a další."
keywords: "Model hierarchické, cosmosdb, azure, Microsoft azure"
services: cosmos-db
documentationcenter: 
author: AndrewHoh
manager: jhubbard
editor: monicar
ms.assetid: ef9d5c0c-0867-4317-bb1b-98e219799fd5
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/24/2017
ms.author: anhoh
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: fc3642232b86cc27901ebd97456c386829324632
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="azure-cosmos-db-hierarchical-resource-model-and-core-concepts"></a><span data-ttu-id="cceb5-104">Hierarchický model prostředků a základní koncepty databáze Azure Cosmos</span><span class="sxs-lookup"><span data-stu-id="cceb5-104">Azure Cosmos DB hierarchical resource model and core concepts</span></span>
<span data-ttu-id="cceb5-105">Hello entity databáze, které spravují databázi Cosmos Azure jsou odkazované tooas **prostředky**.</span><span class="sxs-lookup"><span data-stu-id="cceb5-105">hello database entities that Azure Cosmos DB manages are referred tooas **resources**.</span></span> <span data-ttu-id="cceb5-106">Každý prostředek je jedinečně identifikovaný logického identifikátoru URI.</span><span class="sxs-lookup"><span data-stu-id="cceb5-106">Each resource is uniquely identified by a logical URI.</span></span> <span data-ttu-id="cceb5-107">Můžete pracovat s prostředky hello pomocí standardních operací protokolu HTTP, hlaviček požadavků a odpovědí a stavové kódy.</span><span class="sxs-lookup"><span data-stu-id="cceb5-107">You can interact with hello resources using standard HTTP verbs, request/response headers and status codes.</span></span> 

<span data-ttu-id="cceb5-108">Po přečtení tohoto článku, budete moct tooanswer hello následující otázky:</span><span class="sxs-lookup"><span data-stu-id="cceb5-108">By reading this article, you'll be able tooanswer hello following questions:</span></span>

* <span data-ttu-id="cceb5-109">Co je model prostředků Cosmos DB?</span><span class="sxs-lookup"><span data-stu-id="cceb5-109">What is Cosmos DB's resource model?</span></span>
* <span data-ttu-id="cceb5-110">Co jsou systému definované prostředky jako názvem na rozdíl od toouser definované prostředky?</span><span class="sxs-lookup"><span data-stu-id="cceb5-110">What are system defined resources as opposed toouser defined resources?</span></span>
* <span data-ttu-id="cceb5-111">Jak řeší prostředku?</span><span class="sxs-lookup"><span data-stu-id="cceb5-111">How do I address a resource?</span></span>
* <span data-ttu-id="cceb5-112">Jak funguje s kolekcí?</span><span class="sxs-lookup"><span data-stu-id="cceb5-112">How do I work with collections?</span></span>
* <span data-ttu-id="cceb5-113">Jak funguje s uložené procedury, triggery a uživatelem definované funkce (UDF)?</span><span class="sxs-lookup"><span data-stu-id="cceb5-113">How do I work with stored procedures, triggers and User Defined Functions (UDFs)?</span></span>

## <a name="hierarchical-resource-model"></a><span data-ttu-id="cceb5-114">Model hierarchické prostředků</span><span class="sxs-lookup"><span data-stu-id="cceb5-114">Hierarchical resource model</span></span>
<span data-ttu-id="cceb5-115">Jako hello následující diagram znázorňuje, hello Cosmos DB hierarchické **model prostředků** se skládá ze sady prostředků v rámci účtu databáze, každý adresovatelné prostřednictvím logické a stabilní identifikátoru URI.</span><span class="sxs-lookup"><span data-stu-id="cceb5-115">As hello following diagram illustrates, hello Cosmos DB hierarchical **resource model** consists of sets of resources under a database account, each addressable via a logical and stable URI.</span></span> <span data-ttu-id="cceb5-116">Sadu prostředků bude odkazované tooas **kanálu** v tomto článku.</span><span class="sxs-lookup"><span data-stu-id="cceb5-116">A set of resources will be referred tooas a **feed** in this article.</span></span> 

> [!NOTE]
> <span data-ttu-id="cceb5-117">Azure Cosmos DB nabízí vysoce efektivní protokolu TCP, který je taky dosáhl standardu RESTful svůj model komunikace, k dispozici prostřednictvím hello [klient DocumentDB .NET rozhraní API](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="cceb5-117">Azure Cosmos DB offers a highly efficient TCP protocol which is also RESTful in its communication model, available through hello [DocumentDB .NET client API](documentdb-sdk-dotnet.md).</span></span>
> 
> 

<span data-ttu-id="cceb5-118">![Model hierarchické prostředků Azure Cosmos DB][1]</span><span class="sxs-lookup"><span data-stu-id="cceb5-118">![Azure Cosmos DB hierarchical resource model][1]</span></span>  
<span data-ttu-id="cceb5-119">**Model hierarchické prostředků**</span><span class="sxs-lookup"><span data-stu-id="cceb5-119">**Hierarchical resource model**</span></span>   

<span data-ttu-id="cceb5-120">toostart práci s prostředky, je nutné [vytvoření databázového účtu](create-documentdb-dotnet.md) pomocí svého předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="cceb5-120">toostart working with resources, you must [create a database account](create-documentdb-dotnet.md) using your Azure subscription.</span></span> <span data-ttu-id="cceb5-121">Databázový účet se může skládat z sadu **databáze**, každá obsahuje několik **kolekce**, každý naopak obsahovat **uložené procedury, aktivuje, funkce UDF, dokumenty**a související **přílohy**.</span><span class="sxs-lookup"><span data-stu-id="cceb5-121">A database account can consist of a set of **databases**, each containing multiple **collections**, each of which in turn contain **stored procedures, triggers, UDFs, documents** and related **attachments**.</span></span> <span data-ttu-id="cceb5-122">Databáze také přiřazeni **uživatelé**, každý s sadu **oprávnění** tooaccess kolekcí, uložené procedury, triggery, UDF, dokumenty nebo přílohy.</span><span class="sxs-lookup"><span data-stu-id="cceb5-122">A database also has associated **users**, each with a set of **permissions** tooaccess collections, stored procedures, triggers, UDFs, documents or attachments.</span></span> <span data-ttu-id="cceb5-123">Databáze, uživatelé, oprávnění a kolekce jsou systémem definované prostředky s dobře známými schématy, dokumenty a přílohy obsahují libovolný, uživatelem definovaný obsah JSON.</span><span class="sxs-lookup"><span data-stu-id="cceb5-123">While databases, users, permissions and collections are system-defined resources with well-known schemas, documents and attachments contain arbitrary, user defined JSON content.</span></span>  

| <span data-ttu-id="cceb5-124">Prostředek</span><span class="sxs-lookup"><span data-stu-id="cceb5-124">Resource</span></span> | <span data-ttu-id="cceb5-125">Popis</span><span class="sxs-lookup"><span data-stu-id="cceb5-125">Description</span></span> |
| --- | --- |
| <span data-ttu-id="cceb5-126">Účet databáze</span><span class="sxs-lookup"><span data-stu-id="cceb5-126">Database account</span></span> |<span data-ttu-id="cceb5-127">Databázový účet je přidružen sadu databází a pevné velikosti úložiště objektů blob pro přílohy.</span><span class="sxs-lookup"><span data-stu-id="cceb5-127">A database account is associated with a set of databases and a fixed amount of blob storage for attachments.</span></span> <span data-ttu-id="cceb5-128">Můžete vytvořit jeden nebo více účtů databáze pomocí svého předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="cceb5-128">You can create one or more database accounts using your Azure subscription.</span></span> <span data-ttu-id="cceb5-129">Další informace najdete v článku naše [stránce s cenami](https://azure.microsoft.com/pricing/details/cosmos-db/).</span><span class="sxs-lookup"><span data-stu-id="cceb5-129">For more information, visit our [pricing page](https://azure.microsoft.com/pricing/details/cosmos-db/).</span></span> |
| <span data-ttu-id="cceb5-130">Databáze</span><span class="sxs-lookup"><span data-stu-id="cceb5-130">Database</span></span> |<span data-ttu-id="cceb5-131">Databáze je logický kontejner úložiště dokumentů rozděleného mezi kolekcemi.</span><span class="sxs-lookup"><span data-stu-id="cceb5-131">A database is a logical container of document storage partitioned across collections.</span></span> <span data-ttu-id="cceb5-132">Je také kontejner uživatelé.</span><span class="sxs-lookup"><span data-stu-id="cceb5-132">It is also a users container.</span></span> |
| <span data-ttu-id="cceb5-133">Uživatel</span><span class="sxs-lookup"><span data-stu-id="cceb5-133">User</span></span> |<span data-ttu-id="cceb5-134">Hello logické obor názvů pro obor oprávnění.</span><span class="sxs-lookup"><span data-stu-id="cceb5-134">hello logical namespace for scoping permissions.</span></span> |
| <span data-ttu-id="cceb5-135">Oprávnění</span><span class="sxs-lookup"><span data-stu-id="cceb5-135">Permission</span></span> |<span data-ttu-id="cceb5-136">Autorizační token přidružit k uživateli pro konkrétní prostředek tooa přístup.</span><span class="sxs-lookup"><span data-stu-id="cceb5-136">An authorization token associated with a user for access tooa specific resource.</span></span> |
| <span data-ttu-id="cceb5-137">Kolekce</span><span class="sxs-lookup"><span data-stu-id="cceb5-137">Collection</span></span> |<span data-ttu-id="cceb5-138">Kolekce je kontejner dokumentů JSON a přidružené logiky Javascriptové aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-138">A collection is a container of JSON documents and hello associated JavaScript application logic.</span></span> <span data-ttu-id="cceb5-139">Kolekce je fakturovatelná entita, kde hello [náklady](performance-levels.md) je určen podle úrovně výkonu hello přidružené hello kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-139">A collection is a billable entity, where hello [cost](performance-levels.md) is determined by hello performance level associated with hello collection.</span></span> <span data-ttu-id="cceb5-140">Kolekce může mít rozsah jeden nebo více oddílů nebo serverů a lze je škálovat toohandle prakticky neomezené objemy úložišť a propustnosti.</span><span class="sxs-lookup"><span data-stu-id="cceb5-140">Collections can span one or more partitions/servers and can scale toohandle practically unlimited volumes of storage or throughput.</span></span> |
| <span data-ttu-id="cceb5-141">Uložená procedura</span><span class="sxs-lookup"><span data-stu-id="cceb5-141">Stored Procedure</span></span> |<span data-ttu-id="cceb5-142">Logiku aplikace napsané v jazyce JavaScript, který je registrován s kolekcí a transakčně provést v rámci hello databázového stroje.</span><span class="sxs-lookup"><span data-stu-id="cceb5-142">Application logic written in JavaScript which is registered with a collection and transactionally executed within hello database engine.</span></span> |
| <span data-ttu-id="cceb5-143">Aktivační události</span><span class="sxs-lookup"><span data-stu-id="cceb5-143">Trigger</span></span> |<span data-ttu-id="cceb5-144">Logiku aplikace napsané v jazyce JavaScript provést před nebo po buď vložit, nahradí nebo operace odstranění.</span><span class="sxs-lookup"><span data-stu-id="cceb5-144">Application logic written in JavaScript executed before or after either an insert, replace or delete operation.</span></span> |
| <span data-ttu-id="cceb5-145">UDF</span><span class="sxs-lookup"><span data-stu-id="cceb5-145">UDF</span></span> |<span data-ttu-id="cceb5-146">Logiku aplikace napsané v jazyce JavaScript.</span><span class="sxs-lookup"><span data-stu-id="cceb5-146">Application logic written in JavaScript.</span></span> <span data-ttu-id="cceb5-147">UDF povolte toomodel operátor vlastního dotazu a tím rozšiřovat hello jádra rozhraní API DocumentDB dotazovací jazyk.</span><span class="sxs-lookup"><span data-stu-id="cceb5-147">UDFs enable you toomodel a custom query operator and thereby extend hello core DocumentDB API query language.</span></span> |
| <span data-ttu-id="cceb5-148">Dokument</span><span class="sxs-lookup"><span data-stu-id="cceb5-148">Document</span></span> |<span data-ttu-id="cceb5-149">Uživatelem definovaný (libovolný) obsah JSON.</span><span class="sxs-lookup"><span data-stu-id="cceb5-149">User defined (arbitrary) JSON content.</span></span> <span data-ttu-id="cceb5-150">Ve výchozím nastavení musí se žádné schéma definované toobe ani sekundární indexy, které potřebují toobe zadaný pro všechny hello dokumenty přidat tooa kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-150">By default, no schema needs toobe defined nor do secondary indices need toobe provided for all hello documents added tooa collection.</span></span> |
| <span data-ttu-id="cceb5-151">Přílohy</span><span class="sxs-lookup"><span data-stu-id="cceb5-151">Attachment</span></span> |<span data-ttu-id="cceb5-152">Přílohu je speciální dokument obsahující odkazy a související metadata pro externí objektů blob nebo médium.</span><span class="sxs-lookup"><span data-stu-id="cceb5-152">An attachment is a special document containing references and associated metadata for external blob/media.</span></span> <span data-ttu-id="cceb5-153">Hello vývojáře můžete vybrat blob hello toohave spravuje Cosmos DB nebo jej uložte u poskytovatele služeb externí objekt blob, jako je například OneDrive, Dropbox, atd.</span><span class="sxs-lookup"><span data-stu-id="cceb5-153">hello developer can choose toohave hello blob managed by Cosmos DB or store it with an external blob service provider such as OneDrive, Dropbox, etc.</span></span> |

## <a name="system-vs-user-defined-resources"></a><span data-ttu-id="cceb5-154">Systém a prostředky definované uživatelem</span><span class="sxs-lookup"><span data-stu-id="cceb5-154">System vs. user defined resources</span></span>
<span data-ttu-id="cceb5-155">Prostředkům, například účty databáze, databáze, kolekce, uživatelé, oprávnění, uložené procedury, aktivační události a UDF – všechny mají pevného schématu a se označují jako systémové prostředky.</span><span class="sxs-lookup"><span data-stu-id="cceb5-155">Resources such as database accounts, databases, collections, users, permissions, stored procedures, triggers, and UDFs - all have a fixed schema and are called system resources.</span></span> <span data-ttu-id="cceb5-156">Naproti tomu prostředkům, například dokumentů a příloh mít žádná omezení na schéma hello a jsou příklady prostředků definované uživatelem.</span><span class="sxs-lookup"><span data-stu-id="cceb5-156">In contrast, resources such as documents and attachments have no restrictions on hello schema and are examples of user defined resources.</span></span> <span data-ttu-id="cceb5-157">V Cosmos databáze, systém a uživatel definované prostředky reprezentované a spravovat jako kompatibilní se standardem standard JSON.</span><span class="sxs-lookup"><span data-stu-id="cceb5-157">In Cosmos DB, both system and user defined resources are represented and managed as standard-compliant JSON.</span></span> <span data-ttu-id="cceb5-158">Všechny prostředky, systém nebo uživatelsky definované, máte následující běžné vlastnosti hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-158">All resources, system or user defined, have hello following common properties.</span></span>

> [!NOTE]
> <span data-ttu-id="cceb5-159">Všimněte si, že všechny systému vygenerovaných vlastnosti prostředku začínají podtržítkem (_) v jejich reprezentace JSON.</span><span class="sxs-lookup"><span data-stu-id="cceb5-159">Note that all system generated properties in a resource are prefixed with an underscore (_) in their JSON representation.</span></span>
> 
> 

<table>
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="cceb5-160"><strong>Vlastnost</strong></span><span class="sxs-lookup"><span data-stu-id="cceb5-160"><strong>Property</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-161"><strong>Nastavit uživatele nebo vygenerované systémem?</strong></span><span class="sxs-lookup"><span data-stu-id="cceb5-161"><strong>User settable or system generated?</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-162"><strong>Účel</strong></span><span class="sxs-lookup"><span data-stu-id="cceb5-162"><strong>Purpose</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="cceb5-163">_rid</span><span class="sxs-lookup"><span data-stu-id="cceb5-163">_rid</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-164">Vygenerované systémem</span><span class="sxs-lookup"><span data-stu-id="cceb5-164">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-165">Generované systémem, hierarchické a jedinečný identifikátor prostředku hello</span><span class="sxs-lookup"><span data-stu-id="cceb5-165">System generated, unique and hierarchical identifier of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="cceb5-166">_etag</span><span class="sxs-lookup"><span data-stu-id="cceb5-166">_etag</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-167">Vygenerované systémem</span><span class="sxs-lookup"><span data-stu-id="cceb5-167">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-168">Značka Etag hello prostředku požadované pro optimistické řízení souběžného</span><span class="sxs-lookup"><span data-stu-id="cceb5-168">etag of hello resource required for optimistic concurrency control</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="cceb5-169">_ts</span><span class="sxs-lookup"><span data-stu-id="cceb5-169">_ts</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-170">Vygenerované systémem</span><span class="sxs-lookup"><span data-stu-id="cceb5-170">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-171">Poslední aktualizované časové razítko prostředků hello</span><span class="sxs-lookup"><span data-stu-id="cceb5-171">Last updated timestamp of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="cceb5-172">_self</span><span class="sxs-lookup"><span data-stu-id="cceb5-172">_self</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-173">Vygenerované systémem</span><span class="sxs-lookup"><span data-stu-id="cceb5-173">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-174">Jedinečný identifikátor URI adresovatelné hello prostředku</span><span class="sxs-lookup"><span data-stu-id="cceb5-174">Unique addressable URI of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="cceb5-175">id</span><span class="sxs-lookup"><span data-stu-id="cceb5-175">id</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-176">Vygenerované systémem</span><span class="sxs-lookup"><span data-stu-id="cceb5-176">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-177">Uživatelem definované jedinečný název prostředku hello (s hello oddílu stejnou hodnotu klíče).</span><span class="sxs-lookup"><span data-stu-id="cceb5-177">User defined unique name of hello resource (with hello same partition key value).</span></span> <span data-ttu-id="cceb5-178">Pokud uživatel hello neurčuje id, bude id vygenerované systémem</span><span class="sxs-lookup"><span data-stu-id="cceb5-178">If hello user does not specify an id, an id will be system generated</span></span></p></td>
        </tr>
    </tbody>
</table>

### <a name="wire-representation-of-resources"></a><span data-ttu-id="cceb5-179">Síťové vyjádření prostředků</span><span class="sxs-lookup"><span data-stu-id="cceb5-179">Wire representation of resources</span></span>
<span data-ttu-id="cceb5-180">Cosmos DB nenutí všechny vlastní rozšíření toohello JSON standardní nebo speciální kódování; funguje s standardní kompatibilní dokumentů JSON.</span><span class="sxs-lookup"><span data-stu-id="cceb5-180">Cosmos DB does not mandate any proprietary extensions toohello JSON standard or special encodings; it works with standard compliant JSON documents.</span></span>  

### <a name="addressing-a-resource"></a><span data-ttu-id="cceb5-181">Adresování prostředku</span><span class="sxs-lookup"><span data-stu-id="cceb5-181">Addressing a resource</span></span>
<span data-ttu-id="cceb5-182">Všechny prostředky jsou adresovatelné identifikátor URI.</span><span class="sxs-lookup"><span data-stu-id="cceb5-182">All resources are URI addressable.</span></span> <span data-ttu-id="cceb5-183">Hello hodnotu hello **_self** vlastnost prostředku hello představuje relativní identifikátor URI prostředku hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-183">hello value of hello **_self** property of a resource represents hello relative URI of hello resource.</span></span> <span data-ttu-id="cceb5-184">Hello formát hello URI se skládá z hello /\<kanálu\>/ {_rid} segmenty cesty:</span><span class="sxs-lookup"><span data-stu-id="cceb5-184">hello format of hello URI consists of hello /\<feed\>/{_rid} path segments:</span></span>  

| <span data-ttu-id="cceb5-185">Hodnota hello _self</span><span class="sxs-lookup"><span data-stu-id="cceb5-185">Value of hello _self</span></span> | <span data-ttu-id="cceb5-186">Popis</span><span class="sxs-lookup"><span data-stu-id="cceb5-186">Description</span></span> |
| --- | --- |
| <span data-ttu-id="cceb5-187">/DBS</span><span class="sxs-lookup"><span data-stu-id="cceb5-187">/dbs</span></span> |<span data-ttu-id="cceb5-188">Informační kanál databází pod účtem databáze</span><span class="sxs-lookup"><span data-stu-id="cceb5-188">Feed of databases under a database account</span></span> |
| <span data-ttu-id="cceb5-189">/DBS/ {dbName}</span><span class="sxs-lookup"><span data-stu-id="cceb5-189">/dbs/{dbName}</span></span> |<span data-ttu-id="cceb5-190">Databáze s id odpovídající hodnota hello {dbName}</span><span class="sxs-lookup"><span data-stu-id="cceb5-190">Database with an id matching hello value {dbName}</span></span> |
| <span data-ttu-id="cceb5-191">/colls/ /DBS/ {dbName}</span><span class="sxs-lookup"><span data-stu-id="cceb5-191">/dbs/{dbName}/colls/</span></span> |<span data-ttu-id="cceb5-192">Informační kanál kolekcí v databázi</span><span class="sxs-lookup"><span data-stu-id="cceb5-192">Feed of collections under a database</span></span> |
| <span data-ttu-id="cceb5-193">/colls/ /DBS/ {dbName} {collName}</span><span class="sxs-lookup"><span data-stu-id="cceb5-193">/dbs/{dbName}/colls/{collName}</span></span> |<span data-ttu-id="cceb5-194">Kolekce s id odpovídající hodnota hello {collName}</span><span class="sxs-lookup"><span data-stu-id="cceb5-194">Collection with an id matching hello value {collName}</span></span> |
| <span data-ttu-id="cceb5-195">/colls/ /DBS/ {dbName} {collName} / docs</span><span class="sxs-lookup"><span data-stu-id="cceb5-195">/dbs/{dbName}/colls/{collName}/docs</span></span> |<span data-ttu-id="cceb5-196">Informační kanál dokumentů v kolekci</span><span class="sxs-lookup"><span data-stu-id="cceb5-196">Feed of documents under a collection</span></span> |
| <span data-ttu-id="cceb5-197">/docs/ /colls/ {collName} /DBS/ {dbName} {docId}</span><span class="sxs-lookup"><span data-stu-id="cceb5-197">/dbs/{dbName}/colls/{collName}/docs/{docId}</span></span> |<span data-ttu-id="cceb5-198">Dokumentů s id odpovídající hodnota hello {doc}</span><span class="sxs-lookup"><span data-stu-id="cceb5-198">Document with an id matching hello value {doc}</span></span> |
| <span data-ttu-id="cceb5-199">/users/ /DBS/ {dbName}</span><span class="sxs-lookup"><span data-stu-id="cceb5-199">/dbs/{dbName}/users/</span></span> |<span data-ttu-id="cceb5-200">Informační kanál uživatele v databázi</span><span class="sxs-lookup"><span data-stu-id="cceb5-200">Feed of users under a database</span></span> |
| <span data-ttu-id="cceb5-201">/users/ /DBS/ {dbName} {userId}</span><span class="sxs-lookup"><span data-stu-id="cceb5-201">/dbs/{dbName}/users/{userId}</span></span> |<span data-ttu-id="cceb5-202">Uživatel s id odpovídající hodnota hello {uživatele}</span><span class="sxs-lookup"><span data-stu-id="cceb5-202">User with an id matching hello value {user}</span></span> |
| <span data-ttu-id="cceb5-203">/users/ /DBS/ {dbName} {userId} nebo oprávnění</span><span class="sxs-lookup"><span data-stu-id="cceb5-203">/dbs/{dbName}/users/{userId}/permissions</span></span> |<span data-ttu-id="cceb5-204">Informační kanál oprávnění pod uživatelským</span><span class="sxs-lookup"><span data-stu-id="cceb5-204">Feed of permissions under a user</span></span> |
| <span data-ttu-id="cceb5-205">/permissions/ /users/ {userId} /DBS/ {dbName} {permissionId}</span><span class="sxs-lookup"><span data-stu-id="cceb5-205">/dbs/{dbName}/users/{userId}/permissions/{permissionId}</span></span> |<span data-ttu-id="cceb5-206">Oprávnění s id odpovídající hodnota hello {oprávnění}</span><span class="sxs-lookup"><span data-stu-id="cceb5-206">Permission with an id matching hello value {permission}</span></span> |

<span data-ttu-id="cceb5-207">Každý prostředek, má název jedinečný uživatelsky definované zveřejňovány prostřednictvím vlastnost id hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-207">Each resource has a unique user defined name exposed via hello id property.</span></span> <span data-ttu-id="cceb5-208">Poznámka: pro dokumenty, pokud uživatel hello neurčuje id, naše podporovaných sad SDK automaticky vygeneruje jedinečné id pro dokument hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-208">Note: for documents, if hello user does not specify an id, our supported SDKs will automatically generate a unique id for hello document.</span></span> <span data-ttu-id="cceb5-209">Hello id je řetězec definované uživatelem, až too256 znaky, které je jedinečné v rámci kontextu hello konkrétní nadřazený prostředek.</span><span class="sxs-lookup"><span data-stu-id="cceb5-209">hello id is a user defined string, of up too256 characters that is unique within hello context of a specific parent resource.</span></span> 

<span data-ttu-id="cceb5-210">Každý prostředek, také má identifikátor hierarchické prostředků vygenerované systémem (také odkazované tooas identifikátorů RID), která je dostupná přes vlastnost _rid hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-210">Each resource also has a system generated hierarchical resource identifier (also referred tooas an RID), which is available via hello _rid property.</span></span> <span data-ttu-id="cceb5-211">Hello identifikátorů RID kóduje hello celou hierarchii daného prostředku a je vhodné interního vyjádření použitou v distribuovanému tooenforce referenční integrity.</span><span class="sxs-lookup"><span data-stu-id="cceb5-211">hello RID encodes hello entire hierarchy of a given resource and it is a convenient internal representation used tooenforce referential integrity in a distributed manner.</span></span> <span data-ttu-id="cceb5-212">Hello identifikátorů RID je jedinečná v rámci účtu databáze a Cosmos DB je používán interně pro efektivní směrování, bez nutnosti křížové oddílu vyhledávání.</span><span class="sxs-lookup"><span data-stu-id="cceb5-212">hello RID is unique within a database account and it is internally used by Cosmos DB for efficient routing without requiring cross partition lookups.</span></span> <span data-ttu-id="cceb5-213">hodnoty Hello hello _self a hello _rid vlastnosti jsou alternativní i kanonický reprezentace prostředku.</span><span class="sxs-lookup"><span data-stu-id="cceb5-213">hello values of hello _self and hello  _rid properties are both alternate and canonical representations of a resource.</span></span> 

<span data-ttu-id="cceb5-214">Podpora rozhraní REST API Hello adresování prostředků a směrování žádostí hello _rid vlastnosti i hello id.</span><span class="sxs-lookup"><span data-stu-id="cceb5-214">hello REST APIs support addressing of resources and routing of requests by both hello id and hello _rid properties.</span></span>

## <a name="database-accounts"></a><span data-ttu-id="cceb5-215">Databáze účtů</span><span class="sxs-lookup"><span data-stu-id="cceb5-215">Database accounts</span></span>
<span data-ttu-id="cceb5-216">Můžete zřídit jeden nebo více Cosmos DB databáze účtů pomocí svého předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="cceb5-216">You can provision one or more Cosmos DB database accounts using your Azure subscription.</span></span>

<span data-ttu-id="cceb5-217">Můžete vytvořit a spravovat účty pro databázi Cosmos DB prostřednictvím hello portálu Azure v [http://portal.azure.com/](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="cceb5-217">You can create and manage Cosmos DB database accounts via hello Azure Portal at [http://portal.azure.com/](https://portal.azure.com/).</span></span> <span data-ttu-id="cceb5-218">Vytváření a správa databázový účet vyžaduje přístup pro správu a lze provést pouze v rámci vašeho předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="cceb5-218">Creating and managing a database account requires administrative access and can only be performed under your Azure subscription.</span></span> 

### <a name="database-account-properties"></a><span data-ttu-id="cceb5-219">Vlastnosti účtu databáze</span><span class="sxs-lookup"><span data-stu-id="cceb5-219">Database account properties</span></span>
<span data-ttu-id="cceb5-220">V rámci zřizování a správa databázového účtu můžete nakonfigurovat a čtení hello následující vlastnosti:</span><span class="sxs-lookup"><span data-stu-id="cceb5-220">As part of provisioning and managing a database account you can configure and read hello following properties:</span></span>  

<table border="0" cellspacing="0" cellpadding="0">
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="cceb5-221"><strong>Název vlastnosti</strong></span><span class="sxs-lookup"><span data-stu-id="cceb5-221"><strong>Property Name</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-222"><strong>Popis</strong></span><span class="sxs-lookup"><span data-stu-id="cceb5-222"><strong>Description</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="cceb5-223">Konzistence zásad</span><span class="sxs-lookup"><span data-stu-id="cceb5-223">Consistency Policy</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-224">Nastavte tuto vlastnost tooconfigure hello výchozí úroveň konzistence pro všechny kolekce hello v rámci účtu databáze.</span><span class="sxs-lookup"><span data-stu-id="cceb5-224">Set this property tooconfigure hello default consistency level for all hello collections under your database account.</span></span> <span data-ttu-id="cceb5-225">Můžete přepsat úroveň konzistence hello na základě žádosti pomocí hlavička požadavku hello [x-ms--úroveň konzistence].</span><span class="sxs-lookup"><span data-stu-id="cceb5-225">You can override hello consistency level on a per request basis using hello [x-ms-consistency-level] request header.</span></span> <p><p><span data-ttu-id="cceb5-226">Všimněte si, že tato vlastnost se týká pouze toohello <i>uživatelem definované prostředky</i>.</span><span class="sxs-lookup"><span data-stu-id="cceb5-226">Note that this property only applies toohello <i>user defined resources</i>.</span></span> <span data-ttu-id="cceb5-227">Všechny prostředky definovaná systémem nejsou nakonfigurované toosupport čtení nebo dotazy s silnou konzistenci.</span><span class="sxs-lookup"><span data-stu-id="cceb5-227">All system defined resources are configured toosupport reads/queries with strong consistency.</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="cceb5-228">Autorizace klíče</span><span class="sxs-lookup"><span data-stu-id="cceb5-228">Authorization Keys</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="cceb5-229">Jedná se o hello primární a sekundární hlavní a jen pro čtení klíče, které poskytují pro správu přístupu tooall hello prostředků v rámci účtu databáze hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-229">These are hello primary and secondary master and readonly keys that provide administrative access tooall of hello resources under hello database account.</span></span></p></td>
        </tr>
    </tbody>
</table>

<span data-ttu-id="cceb5-230">Všimněte si, že v přidání tooprovisioning, konfigurace a Správa účtu databáze z hello portálu Azure, můžete také prostřednictvím kódu programu vytvořit a spravovat účty Cosmos DB databáze pomocí hello [rozhraní API REST Azure Cosmos DB](/rest/api/documentdb/) jako a taky [klientskou sadu SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="cceb5-230">Note that in addition tooprovisioning, configuring and managing your database account from hello Azure Portal, you can also programmatically create and manage Cosmos DB database accounts by using hello [Azure Cosmos DB REST APIs](/rest/api/documentdb/) as well as [client SDKs](documentdb-sdk-dotnet.md).</span></span>  

## <a name="databases"></a><span data-ttu-id="cceb5-231">Databáze</span><span class="sxs-lookup"><span data-stu-id="cceb5-231">Databases</span></span>
<span data-ttu-id="cceb5-232">Cosmos DB databáze je logický kontejner jeden nebo více kolekcí a uživatelů, jak je znázorněno v následujícím diagramu hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-232">A Cosmos DB database is a logical container of one or more collections and users, as shown in hello following diagram.</span></span> <span data-ttu-id="cceb5-233">Můžete vytvořit libovolný počet databází v části Cosmos DB databáze účet subjektu toooffer omezení.</span><span class="sxs-lookup"><span data-stu-id="cceb5-233">You can create any number of databases under a Cosmos DB database account subject toooffer limits.</span></span>  

<span data-ttu-id="cceb5-234">![Účet a kolekce hierarchické model databáze][2]</span><span class="sxs-lookup"><span data-stu-id="cceb5-234">![Database account and collections hierarchical model][2]</span></span>  
<span data-ttu-id="cceb5-235">**Databáze je logický kontejner uživatelů a kolekce**</span><span class="sxs-lookup"><span data-stu-id="cceb5-235">**A Database is a logical container of users and collections**</span></span>

<span data-ttu-id="cceb5-236">Databáze může obsahovat úložiště prakticky neomezené dokumentů rozděleného v rámci kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-236">A database can contain virtually unlimited document storage partitioned within collections.</span></span>

### <a name="elastic-scale-of-a-cosmos-db-database"></a><span data-ttu-id="cceb5-237">Elastické škálování databáze Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="cceb5-237">Elastic scale of a Cosmos DB database</span></span>
<span data-ttu-id="cceb5-238">Je ve výchozím nastavení – od několika toopetabytes GB SSD zálohovaný dokumentu úložiště a zřízené propustnosti elastické databáze Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="cceb5-238">A Cosmos DB database is elastic by default – ranging from a few GB toopetabytes of SSD backed document storage and provisioned throughput.</span></span> 

<span data-ttu-id="cceb5-239">Na rozdíl od databáze v tradiční relační databáze v databázi Cosmos není vymezená tooa jeden počítač.</span><span class="sxs-lookup"><span data-stu-id="cceb5-239">Unlike a database in traditional RDBMS, a database in Cosmos DB is not scoped tooa single machine.</span></span> <span data-ttu-id="cceb5-240">Pomocí Cosmos DB jako škálování aplikace potřebuje toogrow, vytvoříte více kolekcí, databáze nebo obojí.</span><span class="sxs-lookup"><span data-stu-id="cceb5-240">With Cosmos DB, as your application’s scale needs toogrow, you can create more collections, databases, or both.</span></span> <span data-ttu-id="cceb5-241">Ve skutečnosti různé první strany aplikací v rámci Microsoft jste dosud používali Cosmos DB škálované příjemce vytvořením velmi velké databáze Cosmos DB každý obsahující tisíce kolekce s terabajtů úložiště dokumentů.</span><span class="sxs-lookup"><span data-stu-id="cceb5-241">Indeed, various first party applications within Microsoft have been using Cosmos DB at a consumer scale by creating extremely large Cosmos DB databases each containing thousands of collections with terabytes of document storage.</span></span> <span data-ttu-id="cceb5-242">Může zvětšovat a zmenšovat databáze přidáním nebo odebráním kolekce toomeet požadavky rozsahu vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="cceb5-242">You can grow or shrink a database by adding or removing collections toomeet your application’s scale requirements.</span></span> 

<span data-ttu-id="cceb5-243">Můžete vytvořit libovolný počet kolekcí v rámci na databázi subjektu toohello nabídku.</span><span class="sxs-lookup"><span data-stu-id="cceb5-243">You can create any number of collections within a database subject toohello offer.</span></span> <span data-ttu-id="cceb5-244">Každá kolekce má založenou na SSD úložiště a zřízené pro vás v závislosti na úroveň výkonu vybrané hello propustnosti.</span><span class="sxs-lookup"><span data-stu-id="cceb5-244">Each collection has SSD backed storage and throughput provisioned for you depending on hello selected performance tier.</span></span>

<span data-ttu-id="cceb5-245">Cosmos DB databáze je také kontejner uživatelů.</span><span class="sxs-lookup"><span data-stu-id="cceb5-245">A Cosmos DB database is also a container of users.</span></span> <span data-ttu-id="cceb5-246">Uživatel, naopak, je logický obor názvů pro sadu oprávnění, která poskytuje jemně odstupňovaných toocollections autorizace a přístupu, dokumenty a přílohy.</span><span class="sxs-lookup"><span data-stu-id="cceb5-246">A user, in-turn, is a logical namespace for a set of permissions that provides fine-grained authorization and access toocollections, documents and attachments.</span></span>  

<span data-ttu-id="cceb5-247">Jako s další prostředky ve model prostředků Cosmos DB hello databáze se dají vytvářet, nahradit, odstranit, přečíst nebo uvedené snadno pomocí buď hello [rozhraní REST API](/rest/api/documentdb/) ani v žádné z hello [klientskou sadu SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="cceb5-247">As with other resources in hello Cosmos DB resource model, databases can be created, replaced, deleted, read or enumerated easily using either hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="cceb5-248">Cosmos DB zaručuje silnou konzistenci pro čtení nebo dotazování hello metadata databáze prostředků.</span><span class="sxs-lookup"><span data-stu-id="cceb5-248">Cosmos DB guarantees strong consistency for reading or querying hello metadata of a database resource.</span></span> <span data-ttu-id="cceb5-249">Odstranění databáze automaticky zajistí, že nemůžete použít žádnou z kolekce hello nebo uživatelé jsou v něm obsažena.</span><span class="sxs-lookup"><span data-stu-id="cceb5-249">Deleting a database automatically ensures that you cannot access any of hello collections or users contained within it.</span></span>   

## <a name="collections"></a><span data-ttu-id="cceb5-250">Kolekce</span><span class="sxs-lookup"><span data-stu-id="cceb5-250">Collections</span></span>
<span data-ttu-id="cceb5-251">Cosmos DB kolekce je kontejner dokumentů JSON.</span><span class="sxs-lookup"><span data-stu-id="cceb5-251">A Cosmos DB collection is a container for your JSON documents.</span></span> 

### <a name="elastic-ssd-backed-document-storage"></a><span data-ttu-id="cceb5-252">Elastické SSD zálohovaný úložiště dokumentů</span><span class="sxs-lookup"><span data-stu-id="cceb5-252">Elastic SSD backed document storage</span></span>
<span data-ttu-id="cceb5-253">Kolekce je vnitřně elastické – automatické zvětšování a zmenší tak, jak přidat nebo odebrat dokumenty.</span><span class="sxs-lookup"><span data-stu-id="cceb5-253">A collection is intrinsically elastic - it automatically grows and shrinks as you add or remove documents.</span></span> <span data-ttu-id="cceb5-254">Kolekce jsou logické prostředky a může mít rozsah jeden nebo více fyzických oddílů nebo serverů.</span><span class="sxs-lookup"><span data-stu-id="cceb5-254">Collections are logical resources and can span one or more physical partitions or servers.</span></span> <span data-ttu-id="cceb5-255">Hello počet oddílů v rámci kolekce je dáno DB Cosmos na základě hello velikost úložiště a zřízené propustnosti hello vaší kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-255">hello number of partitions within a collection is determined by Cosmos DB based on hello storage size and hello provisioned throughput of your collection.</span></span> <span data-ttu-id="cceb5-256">Každý oddíl v Cosmos DB má pevně stanovený objem zálohovaná na SSD úložiště s ním spojená a se replikují pro vysokou dostupnost.</span><span class="sxs-lookup"><span data-stu-id="cceb5-256">Every partition in Cosmos DB has a fixed amount of SSD-backed storage associated with it, and is replicated for high availability.</span></span> <span data-ttu-id="cceb5-257">Oddíl správy je plně spravovat Azure Cosmos DB a nemáte mít složitý kód toowrite nebo spravovat vaše oddíly.</span><span class="sxs-lookup"><span data-stu-id="cceb5-257">Partition management is fully managed by Azure Cosmos DB, and you do not have toowrite complex code or manage your partitions.</span></span> <span data-ttu-id="cceb5-258">Cosmos DB kolekce jsou **prakticky neomezené** z hlediska úložiště a propustnosti.</span><span class="sxs-lookup"><span data-stu-id="cceb5-258">Cosmos DB collections are **practically unlimited** in terms of storage and throughput.</span></span> 

### <a name="automatic-indexing-of-collections"></a><span data-ttu-id="cceb5-259">Automatické indexování kolekcí</span><span class="sxs-lookup"><span data-stu-id="cceb5-259">Automatic indexing of collections</span></span>
<span data-ttu-id="cceb5-260">Cosmos DB je systém true databáze bez schémat.</span><span class="sxs-lookup"><span data-stu-id="cceb5-260">Cosmos DB is a true schema-free database system.</span></span> <span data-ttu-id="cceb5-261">Se nepředpokládá ani nevyžaduje žádné schéma dokumentů JSON hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-261">It does not assume or require any schema for hello JSON documents.</span></span> <span data-ttu-id="cceb5-262">Při přidávání tooa kolekce dokumentů, Cosmos DB automaticky indexuje a jsou k dispozici pro tooquery je.</span><span class="sxs-lookup"><span data-stu-id="cceb5-262">As you add documents tooa collection, Cosmos DB automatically indexes them and they are available for you tooquery.</span></span> <span data-ttu-id="cceb5-263">Automatické indexování dokumentů, aniž byste museli schématu nebo sekundární indexy je klíčové funkce Cosmos DB a je povolen jako techniky údržby optimalizovaný pro zápis, uvolněte zámku a protokolu strukturovaná index.</span><span class="sxs-lookup"><span data-stu-id="cceb5-263">Automatic indexing of documents without requiring schema or secondary indexes is a key capability of Cosmos DB and is enabled by write-optimized, lock-free and log-structured index maintenance techniques.</span></span> <span data-ttu-id="cceb5-264">Cosmos DB podporuje dlouhodobě svazku extrémně rychlou zápisů při poskytování stále konzistentní dotazů.</span><span class="sxs-lookup"><span data-stu-id="cceb5-264">Cosmos DB supports sustained volume of extremely fast writes while still serving consistent queries.</span></span> <span data-ttu-id="cceb5-265">Dokument a index úložiště se používá úložiště hello toocalculate spotřebovávají každou kolekci.</span><span class="sxs-lookup"><span data-stu-id="cceb5-265">Both document and index storage are used toocalculate hello storage consumed by each collection.</span></span> <span data-ttu-id="cceb5-266">Můžete ovládat hello úložiště a výkon kompromis přidružené k indexování nakonfigurováním hello zásady indexování pro kolekci.</span><span class="sxs-lookup"><span data-stu-id="cceb5-266">You can control hello storage and performance trade-offs associated with indexing by configuring hello indexing policy for a collection.</span></span> 

### <a name="configuring-hello-indexing-policy-of-a-collection"></a><span data-ttu-id="cceb5-267">Konfigurace zásady indexování hello kolekce</span><span class="sxs-lookup"><span data-stu-id="cceb5-267">Configuring hello indexing policy of a collection</span></span>
<span data-ttu-id="cceb5-268">Hello indexování zásad každá kolekce vám umožní toomake výkonu a úložiště kompromis přidružené k indexování.</span><span class="sxs-lookup"><span data-stu-id="cceb5-268">hello indexing policy of each collection allows you toomake performance and storage trade-offs associated with indexing.</span></span> <span data-ttu-id="cceb5-269">Hello jsou následující možnosti k dispozici tooyou jako součást indexování konfigurace:</span><span class="sxs-lookup"><span data-stu-id="cceb5-269">hello following options are available tooyou as part of indexing configuration:</span></span>  

* <span data-ttu-id="cceb5-270">Zvolte, zda kolekce hello automaticky indexuje všechny dokumenty hello nebo ne.</span><span class="sxs-lookup"><span data-stu-id="cceb5-270">Choose whether hello collection automatically indexes all of hello documents or not.</span></span> <span data-ttu-id="cceb5-271">Ve výchozím nastavení jsou všechny dokumenty automaticky indexovány.</span><span class="sxs-lookup"><span data-stu-id="cceb5-271">By default, all documents are automatically indexed.</span></span> <span data-ttu-id="cceb5-272">Můžete zvolit tooturn vypnout automatické indexování a selektivně přidat pouze konkrétní dokumenty toohello index.</span><span class="sxs-lookup"><span data-stu-id="cceb5-272">You can choose tooturn off automatic indexing and selectively add only specific documents toohello index.</span></span> <span data-ttu-id="cceb5-273">Naopak selektivně můžete tooexclude pouze konkrétní dokumenty.</span><span class="sxs-lookup"><span data-stu-id="cceb5-273">Conversely, you can selectively choose tooexclude only specific documents.</span></span> <span data-ttu-id="cceb5-274">Můžete dosáhnout nastavením hello automatické vlastnost toobe true nebo false na hello indexingPolicy kolekce a pomocí hlavička požadavku hello [x-ms-indexingdirective] při vkládání, nahraďte nebo odstranění dokumentu.</span><span class="sxs-lookup"><span data-stu-id="cceb5-274">You can achieve this by setting hello automatic property toobe true or false on hello indexingPolicy of a collection and using hello [x-ms-indexingdirective] request header while inserting, replacing or deleting a document.</span></span>  
* <span data-ttu-id="cceb5-275">Zvolte, zda tooinclude nebo vyloučit konkrétní cesty nebo vzory v dokumentech z hello index.</span><span class="sxs-lookup"><span data-stu-id="cceb5-275">Choose whether tooinclude or exclude specific paths or patterns in your documents from hello index.</span></span> <span data-ttu-id="cceb5-276">Můžete dosáhnout to tak, že nastavení includedPaths a excludedPaths na indexingPolicy hello kolekce v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="cceb5-276">You can achieve this by setting includedPaths and excludedPaths on hello indexingPolicy of a collection respectively.</span></span> <span data-ttu-id="cceb5-277">Můžete také konfigurovat hello úložiště a výkon kompromis pro rozsah a hash dotazy pro vzory konkrétní cesty.</span><span class="sxs-lookup"><span data-stu-id="cceb5-277">You can also configure hello storage and performance trade-offs for range and hash queries for specific path patterns.</span></span> 
* <span data-ttu-id="cceb5-278">Výběr mezi synchronní (konzistentní) a aktualizace asynchronní indexu (lazy).</span><span class="sxs-lookup"><span data-stu-id="cceb5-278">Choose between synchronous (consistent) and asynchronous (lazy) index updates.</span></span> <span data-ttu-id="cceb5-279">Ve výchozím nastavení hello aktualizace indexu synchronně na každý insert, replace nebo odstranění toohello kolekce dokumentů.</span><span class="sxs-lookup"><span data-stu-id="cceb5-279">By default, hello index is updated synchronously on each insert, replace or delete of a document toohello collection.</span></span> <span data-ttu-id="cceb5-280">To umožňuje hello dotazy toohonor hello stejnou úroveň konzistence jako čtení dokumentu hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-280">This enables hello queries toohonor hello same consistency level as that of hello document reads.</span></span> <span data-ttu-id="cceb5-281">Při Cosmos databáze je optimalizovaná pro zápis a podporuje dlouhodobě svazky zápisů dokumentu společně s synchronní indexu údržby a obsluhující konzistentní dotazy, můžete nakonfigurovat určité kolekce tooupdate svého indexu líné.</span><span class="sxs-lookup"><span data-stu-id="cceb5-281">While Cosmos DB is write optimized and supports sustained volumes of document writes along with synchronous index maintenance and serving consistent queries, you can configure certain collections tooupdate their index lazily.</span></span> <span data-ttu-id="cceb5-282">Opožděné indexování zvyšuje výkon hello zápisu další a je ideální pro hromadné přijímání scénáře pro především pro čtení náročné kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-282">Lazy indexing boosts hello write performance further and is ideal for bulk ingestion scenarios for primarily read-heavy collections.</span></span>

<span data-ttu-id="cceb5-283">Hello indexování zásad lze změnit spuštěním PUT na kolekci hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-283">hello indexing policy can be changed by executing a PUT on hello collection.</span></span> <span data-ttu-id="cceb5-284">To může být buď prostřednictvím hello dosáhnout [klienta SDK](documentdb-sdk-dotnet.md), hello [portálu Azure](https://portal.azure.com) nebo hello [rozhraní REST API](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="cceb5-284">This can be achieved either through hello [client SDK](documentdb-sdk-dotnet.md), hello [Azure Portal](https://portal.azure.com) or hello [REST APIs](/rest/api/documentdb/).</span></span>

### <a name="querying-a-collection"></a><span data-ttu-id="cceb5-285">Dotazování na kolekci</span><span class="sxs-lookup"><span data-stu-id="cceb5-285">Querying a collection</span></span>
<span data-ttu-id="cceb5-286">Hello dokumenty v rámci kolekce může obsahovat libovolný schémata a můžete dát dotaz na dokumenty v rámci kolekce bez zadání žádné schéma nebo předem sekundárních indexů.</span><span class="sxs-lookup"><span data-stu-id="cceb5-286">hello documents within a collection can have arbitrary schemas and you can query documents within a collection without providing any schema or secondary indices upfront.</span></span> <span data-ttu-id="cceb5-287">Můžete dát dotaz na kolekce hello pomocí hello [rozhraní API služby Azure Cosmos databáze DocumentDB: reference syntaxe SQL](https://msdn.microsoft.com/library/azure/dn782250.aspx), která nabízí bohaté hierarchické, relační a prostorových operátory a rozšiřitelnost prostřednictvím bázi jazyka JavaScript UDF.</span><span class="sxs-lookup"><span data-stu-id="cceb5-287">You can query hello collection using hello [Azure Cosmos DB DocumentDB API: SQL syntax reference](https://msdn.microsoft.com/library/azure/dn782250.aspx), which provides rich hierarchical, relational, and spatial operators and extensibility via JavaScript-based UDFs.</span></span> <span data-ttu-id="cceb5-288">Gramatika JSON umožňuje modelování dokumentů JSON jako stromy s popisky jako uzly stromu hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-288">JSON grammar allows for modeling JSON documents as trees with labels as hello tree nodes.</span></span> <span data-ttu-id="cceb5-289">To je zneužití jak DocumentDB API automatických technikách indexování, jakož i dialekt DocumentDB API SQL.</span><span class="sxs-lookup"><span data-stu-id="cceb5-289">This is exploited both by DocumentDB API’s automatic indexing techniques as well as DocumentDB API's SQL dialect.</span></span> <span data-ttu-id="cceb5-290">Hello DocumetDB API dotazovací jazyk zahrnuje tři hlavní aspekty:</span><span class="sxs-lookup"><span data-stu-id="cceb5-290">hello DocumetDB API query language consists of three main aspects:</span></span>   

1. <span data-ttu-id="cceb5-291">Malá sada operace dotazů, které mapují přirozeně toohello stromová struktura, včetně hierarchické dotazy a projekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-291">A small set of query operations that map naturally toohello tree structure including hierarchical queries and projections.</span></span> 
2. <span data-ttu-id="cceb5-292">Podmnožinu relační operacím, včetně složení, filtr, projekce, agregace a vlastní spojení.</span><span class="sxs-lookup"><span data-stu-id="cceb5-292">A subset of relational operations including composition, filter, projections, aggregates and self joins.</span></span> 
3. <span data-ttu-id="cceb5-293">Čistý JavaScript na základě UDF, které pracují s (1) a (2).</span><span class="sxs-lookup"><span data-stu-id="cceb5-293">Pure JavaScript based UDFs that work with (1) and (2).</span></span>  

<span data-ttu-id="cceb5-294">model dotazování Cosmos DB Hello pokusí toostrike rovnováhu mezi funkce, efektivitu a jednoduchost.</span><span class="sxs-lookup"><span data-stu-id="cceb5-294">hello Cosmos DB query model attempts toostrike a balance between functionality, efficiency and simplicity.</span></span> <span data-ttu-id="cceb5-295">Hello Cosmos DB databázový stroj nativně kompilovaný a provede příkazy dotazu SQL hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-295">hello Cosmos DB database engine natively compiles and executes hello SQL query statements.</span></span> <span data-ttu-id="cceb5-296">Můžete dát dotaz na kolekce pomocí hello [rozhraní REST API](/rest/api/documentdb/) ani v žádné z hello [klientskou sadu SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="cceb5-296">You can query a collection using hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="cceb5-297">Hello .NET SDK se dodává s LINQ zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="cceb5-297">hello .NET SDK comes with a LINQ provider.</span></span>

> [!TIP]
> <span data-ttu-id="cceb5-298">Můžete vyzkoušet hello DocumentDB rozhraní API a spouštění dotazů SQL na našem datovou sadu v hello [Query Playground](https://www.documentdb.com/sql/demo).</span><span class="sxs-lookup"><span data-stu-id="cceb5-298">You can try out hello DocumentDB API and run SQL queries against our dataset in hello [Query Playground](https://www.documentdb.com/sql/demo).</span></span>
> 
> 

## <a name="multi-document-transactions"></a><span data-ttu-id="cceb5-299">Transakcí několika dokumentů</span><span class="sxs-lookup"><span data-stu-id="cceb5-299">Multi-document transactions</span></span>
<span data-ttu-id="cceb5-300">Databázové transakce zadejte bezpečné a předvídatelné programovací model pro práci s daty toohello souběžných změny.</span><span class="sxs-lookup"><span data-stu-id="cceb5-300">Database transactions provide a safe and predictable programming model for dealing with concurrent changes toohello data.</span></span> <span data-ttu-id="cceb5-301">V RDBMS, hello tradičním způsobem, jakým toowrite obchodní logika je toowrite **uložené procedury** nebo **aktivační události** a dodávají spolu toohello databázový server pro spouštění transakcí.</span><span class="sxs-lookup"><span data-stu-id="cceb5-301">In RDBMS, hello traditional way toowrite business logic is toowrite **stored-procedures** and/or **triggers** and ship it toohello database server for transactional execution.</span></span> <span data-ttu-id="cceb5-302">V RDBMS programátory hello aplikace je požadovaná toodeal se dvěma různorodých programovací jazyky:</span><span class="sxs-lookup"><span data-stu-id="cceb5-302">In RDBMS, hello application programmer is required toodeal with two disparate programming languages:</span></span> 

* <span data-ttu-id="cceb5-303">programovací jazyk pro Hello (netransakční) aplikace (například JavaScript, Python, C#, Java, atd.)</span><span class="sxs-lookup"><span data-stu-id="cceb5-303">hello (non-transactional) application programming language (e.g. JavaScript, Python, C#, Java, etc.)</span></span>
* <span data-ttu-id="cceb5-304">T-SQL, hello transakční programovací jazyk, který je nativně provedený hello databáze</span><span class="sxs-lookup"><span data-stu-id="cceb5-304">T-SQL, hello transactional programming language which is natively executed by hello database</span></span>

<span data-ttu-id="cceb5-305">Na základě jeho tooJavaScript hloubkové závazků a JSON přímo v databázovém stroji hello Cosmos DB poskytuje intuitivní programovací model pro provádění JavaScript na základě logiky aplikace přímo na hello kolekce z hlediska uložené procedury a aktivační události.</span><span class="sxs-lookup"><span data-stu-id="cceb5-305">By virtue of its deep commitment tooJavaScript and JSON directly within hello database engine, Cosmos DB provides an intuitive programming model for executing JavaScript based application logic directly on hello collections in terms of stored procedures and triggers.</span></span> <span data-ttu-id="cceb5-306">To umožňuje, aby obě hello následující:</span><span class="sxs-lookup"><span data-stu-id="cceb5-306">This allows for both of hello following:</span></span>

* <span data-ttu-id="cceb5-307">Efektivní provádění souběžnosti řídit, obnovení, automatické indexování grafy objekt JSON hello přímo v databázovém stroji hello</span><span class="sxs-lookup"><span data-stu-id="cceb5-307">Efficient implementation of concurrency control, recovery, automatic indexing of hello JSON object graphs directly in hello database engine</span></span>
* <span data-ttu-id="cceb5-308">Přirozeně vyjadřující tok řízení, proměnné rozsahu, přiřazení a integrace primitiv s databázové transakce přímo z hlediska programovací jazyk JavaScript hello zpracování výjimek</span><span class="sxs-lookup"><span data-stu-id="cceb5-308">Naturally expressing control flow, variable scoping, assignment and integration of exception handling primitives with database transactions directly in terms of hello JavaScript programming language</span></span>

<span data-ttu-id="cceb5-309">logiky Javascriptové Hello registrované na úrovni kolekce potom můžete vydat databázových operací na dokumentech hello hello zadané kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-309">hello JavaScript logic registered at a collection level can then issue database operations on hello documents of hello given collection.</span></span> <span data-ttu-id="cceb5-310">Cosmos DB implicitně hello zabalí JavaScript na základě uložených procedur a aktivačních událostí v rámci vedlejším transakce ACID s izolací snímku mezi dokumenty v rámci kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-310">Cosmos DB implicitly wraps hello JavaScript based stored procedures and triggers within an ambient ACID transactions with snapshot isolation across documents within a collection.</span></span> <span data-ttu-id="cceb5-311">Hello průběhu vykonávání Pokud hello JavaScript vyvolá výjimku, potom hello celá transakce zrušena.</span><span class="sxs-lookup"><span data-stu-id="cceb5-311">During hello course of its execution, if hello JavaScript throws an exception, then hello entire transaction is aborted.</span></span> <span data-ttu-id="cceb5-312">Hello výsledné programovací model je velmi jednoduchý ještě výkonné.</span><span class="sxs-lookup"><span data-stu-id="cceb5-312">hello resulting programming model is a very simple yet powerful.</span></span> <span data-ttu-id="cceb5-313">Vývojáři JavaScript získat "trvanlivý" programovací model při stále pomocí svého známé jazykové konstrukty a knihovna primitiv.</span><span class="sxs-lookup"><span data-stu-id="cceb5-313">JavaScript developers get a “durable” programming model while still using their familiar language constructs and library primitives.</span></span>   

<span data-ttu-id="cceb5-314">Hello možnost tooexecute JavaScript přímo v rámci databáze hello modul v hello stejné adresní prostor fondu vyrovnávací paměti hello umožňuje původce a transakční provádění databázových operací na dokumenty hello kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-314">hello ability tooexecute JavaScript directly within hello database engine in hello same address space as hello buffer pool enables performant and transactional execution of database operations against hello documents of a collection.</span></span> <span data-ttu-id="cceb5-315">Kromě toho Cosmos DB databázový stroj usnadňuje hloubkové závazků toohello JSON a JavaScript eliminuje jakákoli neshoda odpor mezi systémy hello typu aplikace a databáze hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-315">Furthermore, Cosmos DB database engine makes a deep commitment toohello JSON and JavaScript eliminates any impedance mismatch between hello type systems of application and hello database.</span></span>   

<span data-ttu-id="cceb5-316">Po vytvoření kolekce, můžete zaregistrovat uložené procedury, triggery a UDF s kolekcí pomocí hello [rozhraní REST API](/rest/api/documentdb/) ani v žádné z hello [klientskou sadu SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="cceb5-316">After creating a collection, you can register stored procedures, triggers and UDFs with a collection using hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="cceb5-317">Po registraci můžete odkazovat a jejich provedení.</span><span class="sxs-lookup"><span data-stu-id="cceb5-317">After registration, you can reference and execute them.</span></span> <span data-ttu-id="cceb5-318">Zvažte následující hello uložené procedury vytvořené zcela v JavaScriptu, následující kód hello má dva argumenty (název adresáře a jméno autora) a vytvoří nový dokument, dotazuje pro dokument a pak ho – vše v rámci implicitní transakci ACID aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="cceb5-318">Consider hello following stored procedure written entirely in JavaScript, hello code below takes two arguments (book name and author name) and creates a new document, queries for a document and then updates it – all within an implicit ACID transaction.</span></span> <span data-ttu-id="cceb5-319">Kdykoli během provádění hello Pokud je vyvolána výjimka JavaScript, celá transakce hello zruší.</span><span class="sxs-lookup"><span data-stu-id="cceb5-319">At any point during hello execution, if a JavaScript exception is thrown, hello entire transaction aborts.</span></span>

    function businessLogic(name, author) {
        var context = getContext();
        var collectionManager = context.getCollection();        
        var collectionLink = collectionManager.getSelfLink()

        // create a new document.
        collectionManager.createDocument(collectionLink,
            {id: name, author: author},
            function(err, documentCreated) {
                if(err) throw new Error(err.message);

                // filter documents by author
                var filterQuery = "SELECT * from root r WHERE r.author = 'George R.'";
                collectionManager.queryDocuments(collectionLink,
                    filterQuery,
                    function(err, matchingDocuments) {
                        if(err) throw new Error(err.message);

                        context.getResponse().setBody(matchingDocuments.length);

                        // Replace hello author name for all documents that satisfied hello query.
                        for (var i = 0; i < matchingDocuments.length; i++) {
                            matchingDocuments[i].author = "George R. R. Martin";
                            // we don’t need tooexecute a callback because they are in parallel
                            collectionManager.replaceDocument(matchingDocuments[i]._self,
                                matchingDocuments[i]);   
                        }
                    })
            })
    };

<span data-ttu-id="cceb5-320">Hello klienta se dají "dodávat" hello výše JavaScript logiku toohello databáze pro spouštění transakcí přes HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="cceb5-320">hello client can “ship” hello above JavaScript logic toohello database for transactional execution via HTTP POST.</span></span> <span data-ttu-id="cceb5-321">Další informace o použití metod HTTP najdete v tématu [RESTful interakce s prostředky Azure Cosmos DB](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span><span class="sxs-lookup"><span data-stu-id="cceb5-321">For more information about using HTTP methods, see [RESTful interactions with Azure Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span> 

    client.createStoredProcedureAsync(collection._self, {id: "CRUDProc", body: businessLogic})
       .then(function(createdStoredProcedure) {
            return client.executeStoredProcedureAsync(createdStoredProcedure.resource._self,
                "NoSQL Distilled",
                "Martin Fowler");
        })
        .then(function(result) {
            console.log(result);
        },
        function(error) {
            console.log(error);
        });


<span data-ttu-id="cceb5-322">Všimněte si, že vzhledem k tomu, že databáze hello nativně funguje s technologií JSON a JavaScript, neexistuje žádný systém Neshoda typu, "OR mapování" nebo magic generování kódu vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="cceb5-322">Notice that because hello database natively understands JSON and JavaScript, there is no type system mismatch, no “OR mapping” or code generation magic required.</span></span>   

<span data-ttu-id="cceb5-323">Uložené procedury a triggery komunikovat s kolekce a hello dokumenty v kolekci prostřednictvím dobře definovaný objekt modelu, který zveřejňuje hello aktuální kontext kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-323">Stored procedures and triggers interact with a collection and hello documents in a collection through a well-defined object model, which exposes hello current collection context.</span></span>  

<span data-ttu-id="cceb5-324">Kolekce v hello DocumentDB API lze vytvořit, odstranit, číst, nebo ve výčtu snadno pomocí buď hello [rozhraní REST API](/rest/api/documentdb/) ani v žádné z hello [klientskou sadu SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="cceb5-324">Collections in hello DocumentDB API can be created, deleted, read or enumerated easily using either hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="cceb5-325">Hello DocumentDB API vždy poskytuje silnou konzistenci pro čtení nebo dotazování hello metadata kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-325">hello DocumentDB API always provides strong consistency for reading or querying hello metadata of a collection.</span></span> <span data-ttu-id="cceb5-326">Odstranění kolekce automaticky zajistí, že nemůžete použít žádnou hello dokumenty, přílohy, uložené procedury, triggery a jsou v něm obsažena UDF.</span><span class="sxs-lookup"><span data-stu-id="cceb5-326">Deleting a collection automatically ensures that you cannot access any of hello documents, attachments, stored procedures, triggers, and UDFs contained within it.</span></span>   

## <a name="stored-procedures-triggers-and-user-defined-functions-udf"></a><span data-ttu-id="cceb5-327">Uložené procedury, triggery a uživatel definované funkce (UDF)</span><span class="sxs-lookup"><span data-stu-id="cceb5-327">Stored procedures, triggers and User Defined Functions (UDF)</span></span>
<span data-ttu-id="cceb5-328">Jak je popsáno v předchozí části hello, můžete napsat aplikaci logiky toorun přímo v rámci transakce uvnitř hello databázového stroje.</span><span class="sxs-lookup"><span data-stu-id="cceb5-328">As described in hello previous section, you can write application logic toorun directly within a transaction inside of hello database engine.</span></span> <span data-ttu-id="cceb5-329">Hello aplikace logiky můžete vytvořené zcela v JavaScriptu a můžete modelován jako uložené procedury, aktivační události nebo uživatelem definovanou FUNKCI.</span><span class="sxs-lookup"><span data-stu-id="cceb5-329">hello application logic can be written entirely in JavaScript and can be modeled as a stored procedure, trigger or a UDF.</span></span> <span data-ttu-id="cceb5-330">Hello kódu jazyka JavaScript v rámci uložené procedury nebo aktivační událost můžete vložit, nahradí, odstranit, číst nebo dotaz, dokumenty v rámci kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-330">hello JavaScript code within a stored procedure or a trigger can insert, replace, delete, read or query documents within a collection.</span></span> <span data-ttu-id="cceb5-331">Na dobrý den druhé straně, hello JavaScript v rámci uživatelem definovanou FUNKCI nelze vložit, nahradí nebo odstranit dokumenty.</span><span class="sxs-lookup"><span data-stu-id="cceb5-331">On hello other hand, hello JavaScript within a UDF cannot insert, replace, or delete documents.</span></span> <span data-ttu-id="cceb5-332">Funkce UDF výčet hello dokumenty sady výsledků dotazu a vytvořit jinou sadu výsledků.</span><span class="sxs-lookup"><span data-stu-id="cceb5-332">UDFs enumerate hello documents of a query's result set and produce another result set.</span></span> <span data-ttu-id="cceb5-333">Víceklientský Cosmos DB vynucuje zásady správného řízení striktní rezervace na základě prostředků.</span><span class="sxs-lookup"><span data-stu-id="cceb5-333">For multi-tenancy, Cosmos DB enforces a strict reservation based resource governance.</span></span> <span data-ttu-id="cceb5-334">Každý uložené procedury, aktivační události nebo uživatelem definovanou FUNKCI získá pevné množství toodo prostředky operačního systému svou práci.</span><span class="sxs-lookup"><span data-stu-id="cceb5-334">Each stored procedure, trigger or a UDF gets a fixed quantum of operating system resources toodo its work.</span></span> <span data-ttu-id="cceb5-335">Kromě toho uložené procedury, aktivační události nebo UDF nemůže propojit s externí knihovny jazyka JavaScript a jsou zakázány, pokud se překročí rozpočty prostředků hello přidělené toothem.</span><span class="sxs-lookup"><span data-stu-id="cceb5-335">Furthermore, stored procedures, triggers or UDFs cannot link against external JavaScript libraries and are blacklisted if they exceed hello resource budgets allocated toothem.</span></span> <span data-ttu-id="cceb5-336">Můžete zaregistrovat, zrušit registraci uložené procedury, aktivační události nebo UDF s kolekcí pomocí hello rozhraní REST API.</span><span class="sxs-lookup"><span data-stu-id="cceb5-336">You can register, unregister stored procedures, triggers or UDFs with a collection by using hello REST APIs.</span></span>  <span data-ttu-id="cceb5-337">Po registraci se uložené procedury, aktivační události nebo uživatelem definovanou FUNKCI předem zkompilovat a uložené jako bajtové kód, který se provede později.</span><span class="sxs-lookup"><span data-stu-id="cceb5-337">Upon registration a stored procedure, trigger, or a UDF is pre-compiled and stored as byte code which gets executed later.</span></span> <span data-ttu-id="cceb5-338">Následující části Hello znázorňují, jak můžete použít tooregister hello Cosmos DB JavaScript SDK, spouštění a zrušit registraci uložené procedury, aktivační události a UDF.</span><span class="sxs-lookup"><span data-stu-id="cceb5-338">hello following section illustrate how you can use hello Cosmos DB JavaScript SDK tooregister, execute, and unregister a stored procedure, trigger, and a UDF.</span></span> <span data-ttu-id="cceb5-339">Hello JavaScript SDK je jednoduché obálku nad hello [rozhraní REST API](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="cceb5-339">hello JavaScript SDK is a simple wrapper over hello [REST APIs](/rest/api/documentdb/).</span></span> 

### <a name="registering-a-stored-procedure"></a><span data-ttu-id="cceb5-340">Registrace uložené procedury</span><span class="sxs-lookup"><span data-stu-id="cceb5-340">Registering a stored procedure</span></span>
<span data-ttu-id="cceb5-341">Registrace uložená procedura vytvoří nový prostředek uložené procedury na kolekci přes HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="cceb5-341">Registration of a stored procedure creates a new stored procedure resource on a collection via HTTP POST.</span></span>  

    var storedProc = {
        id: "validateAndCreate",
        body: function (documentToCreate) {
            documentToCreate.id = documentToCreate.id.toUpperCase();

            var collectionManager = getContext().getCollection();
            collectionManager.createDocument(collectionManager.getSelfLink(),
                documentToCreate,
                function(err, documentCreated) {
                    if(err) throw new Error('Error while creating document: ' + err.message;
                    getContext().getResponse().setBody('success - created ' + 
                            documentCreated.name);
                });
        }
    };

    client.createStoredProcedureAsync(collection._self, storedProc)
        .then(function (createdStoredProcedure) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-stored-procedure"></a><span data-ttu-id="cceb5-342">Provedení uložené procedury</span><span class="sxs-lookup"><span data-stu-id="cceb5-342">Executing a stored procedure</span></span>
<span data-ttu-id="cceb5-343">Provádění uložené procedury se provádí po vydání požadavku HTTP POST na existující prostředek uložené procedury předáním parametry postupu toohello v textu žádosti hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-343">Execution of a stored procedure is done by issuing an HTTP POST against an existing stored procedure resource by passing parameters toohello procedure in hello request body.</span></span>

    var inputDocument = {id : "document1", author: "G. G. Marquez"};
    client.executeStoredProcedureAsync(createdStoredProcedure.resource._self, inputDocument)
        .then(function(executionResult) {
            assert.equal(executionResult, "success - created DOCUMENT1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-stored-procedure"></a><span data-ttu-id="cceb5-344">Zrušení registrace uložené procedury</span><span class="sxs-lookup"><span data-stu-id="cceb5-344">Unregistering a stored procedure</span></span>
<span data-ttu-id="cceb5-345">Zrušení registrace uložené procedury je jednoduše potřeba vydání HTTP DELETE se proti existující prostředek uložené procedury.</span><span class="sxs-lookup"><span data-stu-id="cceb5-345">Unregistering a stored procedure is simply done by issuing an HTTP DELETE against an existing stored procedure resource.</span></span>   

    client.deleteStoredProcedureAsync(createdStoredProcedure.resource._self)
        .then(function (response) {
            return;
        }, function(error) {
            console.log("Error");
        });


### <a name="registering-a-pre-trigger"></a><span data-ttu-id="cceb5-346">Registrace předběžné aktivační událost</span><span class="sxs-lookup"><span data-stu-id="cceb5-346">Registering a pre-trigger</span></span>
<span data-ttu-id="cceb5-347">Registrace aktivační událost se provádí tak, že vytvoříte nový prostředek aktivační události u kolekce přes HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="cceb5-347">Registration of a trigger is done by creating a new trigger resource on a collection via HTTP POST.</span></span> <span data-ttu-id="cceb5-348">Můžete zadat, pokud je aktivační událost hello po předem nebo post aktivační události a hello typ operace může být přidružen (například vytvořit, Replace, Delete nebo všechny).</span><span class="sxs-lookup"><span data-stu-id="cceb5-348">You can specify if hello trigger is a pre or a post trigger and hello type of operation it can be associated with (e.g. Create, Replace, Delete, or All).</span></span>   

    var preTrigger = {
        id: "upperCaseId",
        body: function() {
                var item = getContext().getRequest().getBody();
                item.id = item.id.toUpperCase();
                getContext().getRequest().setBody(item);
        },
        triggerType: TriggerType.Pre,
        triggerOperation: TriggerOperation.All
    }

    client.createTriggerAsync(collection._self, preTrigger)
        .then(function (createdPreTrigger) {
            console.log("Successfully created trigger");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-pre-trigger"></a><span data-ttu-id="cceb5-349">Provádění aktivační události starší než</span><span class="sxs-lookup"><span data-stu-id="cceb5-349">Executing a pre-trigger</span></span>
<span data-ttu-id="cceb5-350">Provádění aktivační události je potřeba zadat název hello existující aktivační události v době hello vydáním hello požadavku POST, PUT nebo odstranění prostředku dokumentu prostřednictvím hlavička požadavku hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-350">Execution of a trigger is done by specifying hello name of an existing trigger at hello time of issuing hello POST/PUT/DELETE request of a document resource via hello request header.</span></span>  

    client.createDocumentAsync(collection._self, { id: "doc1", key: "Love in hello Time of Cholera" }, { preTriggerInclude: "upperCaseId" })
        .then(function(createdDocument) {
            assert.equal(createdDocument.resource.id, "DOC1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-pre-trigger"></a><span data-ttu-id="cceb5-351">Zrušení registrace předběžné aktivační událost</span><span class="sxs-lookup"><span data-stu-id="cceb5-351">Unregistering a pre-trigger</span></span>
<span data-ttu-id="cceb5-352">Zrušení registrace aktivační událost se jednoduše provádí prostřednictvím vydání HTTP DELETE se proti existující prostředek aktivační události.</span><span class="sxs-lookup"><span data-stu-id="cceb5-352">Unregistering a trigger is simply done via issuing an HTTP DELETE against an existing trigger resource.</span></span>  

    client.deleteTriggerAsync(createdPreTrigger._self);
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

### <a name="registering-a-udf"></a><span data-ttu-id="cceb5-353">Registrace UDF</span><span class="sxs-lookup"><span data-stu-id="cceb5-353">Registering a UDF</span></span>
<span data-ttu-id="cceb5-354">Registrace UDF se provádí tak, že vytvoříte nový prostředek UDF na kolekci přes HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="cceb5-354">Registration of a UDF is done by creating a new UDF resource on a collection via HTTP POST.</span></span>  

    var udf = { 
        id: "mathSqrt",
        body: function(number) {
                return Math.sqrt(number);
        },
    };
    client.createUserDefinedFunctionAsync(collection._self, udf)
        .then(function (createdUdf) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-udf-as-part-of-hello-query"></a><span data-ttu-id="cceb5-355">Provádění UDF jako součást dotazu hello</span><span class="sxs-lookup"><span data-stu-id="cceb5-355">Executing a UDF as part of hello query</span></span>
<span data-ttu-id="cceb5-356">Uživatelem definovanou FUNKCI lze zadat jako součást dotazu SQL hello a slouží jako způsob tooextend hello jádro [dotazovací jazyk SQL pro hello DocumentDB API](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span><span class="sxs-lookup"><span data-stu-id="cceb5-356">A UDF can be specified as part of hello SQL query and is used as a way tooextend hello core [SQL query language for hello DocumentDB API](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span></span>

    var filterQuery = "SELECT udf.mathSqrt(r.Age) AS sqrtAge FROM root r WHERE r.FirstName='John'";
    client.queryDocuments(collection._self, filterQuery).toArrayAsync();
        .then(function(queryResponse) {
            var queryResponseDocuments = queryResponse.feed;
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-udf"></a><span data-ttu-id="cceb5-357">Zrušení registrace UDF</span><span class="sxs-lookup"><span data-stu-id="cceb5-357">Unregistering a UDF</span></span>
<span data-ttu-id="cceb5-358">Zrušení registrace UDF jednoduše provádí vydáním HTTP DELETE se proti existující prostředek UDF.</span><span class="sxs-lookup"><span data-stu-id="cceb5-358">Unregistering a UDF is simply done by issuing an HTTP DELETE against an existing UDF resource.</span></span>  

    client.deleteUserDefinedFunctionAsync(createdUdf._self)
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

<span data-ttu-id="cceb5-359">I když výše uvedené fragmenty kódu hello vám ukázal, registrace hello (POST), zrušení registrace (PUT), pro čtení nebo jejich výpisu (GET) a provádění (POST) prostřednictvím hello [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), můžete použít také hello [rozhraní REST API](/rest/api/documentdb/) nebo jiných [klientskou sadu SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="cceb5-359">Although hello snippets above showed hello registration (POST), unregistration (PUT), read/list (GET) and execution (POST) via hello [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), you can also use hello [REST APIs](/rest/api/documentdb/) or other [client SDKs](documentdb-sdk-dotnet.md).</span></span> 

## <a name="documents"></a><span data-ttu-id="cceb5-360">Dokumenty</span><span class="sxs-lookup"><span data-stu-id="cceb5-360">Documents</span></span>
<span data-ttu-id="cceb5-361">Můžete vložit, nahradí, odstranit, číst, výčet a dotaz na libovolné dokumenty JSON v kolekci.</span><span class="sxs-lookup"><span data-stu-id="cceb5-361">You can insert, replace, delete, read, enumerate and query arbitrary JSON documents in a collection.</span></span> <span data-ttu-id="cceb5-362">Cosmos DB nenutí žádné schéma a nevyžaduje sekundární indexy v pořadí toosupport dotazování s dokumenty v kolekci.</span><span class="sxs-lookup"><span data-stu-id="cceb5-362">Cosmos DB does not mandate any schema and does not require secondary indexes in order toosupport querying over documents in a collection.</span></span> <span data-ttu-id="cceb5-363">Hello maximální velikost pro dokument je 2 MB.</span><span class="sxs-lookup"><span data-stu-id="cceb5-363">hello maximum size for a document is 2 MB.</span></span>   

<span data-ttu-id="cceb5-364">Probíhá skutečně otevřenou databázi služby, Cosmos DB není skladová žádné speciální datové typy (např. datum čas) nebo konkrétní kódování pro dokumenty JSON.</span><span class="sxs-lookup"><span data-stu-id="cceb5-364">Being a truly open database service, Cosmos DB does not invent any specialized data types (e.g. date time) or specific encodings for JSON documents.</span></span> <span data-ttu-id="cceb5-365">Všimněte si, že Cosmos DB nevyžaduje žádné speciální JSON konvence toocodify hello vztahy mezi různé dokumenty; Syntaxe Hello SQL Cosmos DB poskytuje velmi výkonný dotazu hierarchické a relační operátory tooquery a projekt dokumenty bez jakékoli speciální poznámky nebo nutnost toocodify vztahy mezi dokumenty pomocí vlastnosti rozlišujícího.</span><span class="sxs-lookup"><span data-stu-id="cceb5-365">Note that Cosmos DB does not require any special JSON conventions toocodify hello relationships among various documents; hello SQL syntax of Cosmos DB provides very powerful hierarchical and relational query operators tooquery and project documents without any special annotations or need toocodify relationships among documents using distinguished properties.</span></span>  

<span data-ttu-id="cceb5-366">Jak se všemi ostatními prostředky mohou být vytvořeny dokumenty, nahradit, odstranit, číst, výčet a dotazovat snadno pomocí rozhraní REST API nebo některou z hello [klientskou sadu SDK](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="cceb5-366">As with all other resources, documents can be created, replaced, deleted, read, enumerated and queried easily using either REST APIs or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="cceb5-367">Odstranění dokumentu okamžitě uvolní hello kvóty odpovídající tooall hello vnořené příloh.</span><span class="sxs-lookup"><span data-stu-id="cceb5-367">Deleting a document instantly frees up hello quota corresponding tooall of hello nested attachments.</span></span> <span data-ttu-id="cceb5-368">Hello čtení úroveň konzistence dokumentů odpovídá hello konzistence zásad na hello databázového účtu.</span><span class="sxs-lookup"><span data-stu-id="cceb5-368">hello read consistency level of documents follows hello consistency policy on hello database account.</span></span> <span data-ttu-id="cceb5-369">Tuto zásadu lze přepsat na základě požadavků v závislosti na požadavcích konzistence dat vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="cceb5-369">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="cceb5-370">Při dotazování dokumentů, přečtěte si hello hello způsobem konzistence indexování režim nastavený na kolekci hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-370">When querying documents, hello read consistency follows hello indexing mode set on hello collection.</span></span> <span data-ttu-id="cceb5-371">Pro "konzistentní" což odpovídá hello účet konzistence zásad.</span><span class="sxs-lookup"><span data-stu-id="cceb5-371">For “consistent”, this follows hello account’s consistency policy.</span></span> 

## <a name="attachments-and-media"></a><span data-ttu-id="cceb5-372">Přílohy a média</span><span class="sxs-lookup"><span data-stu-id="cceb5-372">Attachments and media</span></span>
<span data-ttu-id="cceb5-373">Cosmos DB vám umožní toostore binární objekty BLOB/média pomocí Cosmos DB (maximum 2 GB každý účet) nebo tooyour vlastní médium vzdáleného úložiště.</span><span class="sxs-lookup"><span data-stu-id="cceb5-373">Cosmos DB allows you toostore binary blobs/media either with Cosmos DB (maximum of 2 GB per account) or tooyour own remote media store.</span></span> <span data-ttu-id="cceb5-374">Můžete taky toorepresent hello metadata médií z hlediska speciální dokument s názvem přílohy.</span><span class="sxs-lookup"><span data-stu-id="cceb5-374">It also allows you toorepresent hello metadata of a media in terms of a special document called attachment.</span></span> <span data-ttu-id="cceb5-375">Přílohy v databázi Cosmos je speciální dokument (JSON), který odkazuje na hello média nebo objekt blob uložená na jiném místě.</span><span class="sxs-lookup"><span data-stu-id="cceb5-375">An attachment in Cosmos DB is a special (JSON) document that references hello media/blob stored elsewhere.</span></span> <span data-ttu-id="cceb5-376">Příloha je jednoduše speciální dokument, který zachycuje hello metadata (např. umístění, Autor atd.) médií uložených v médium vzdáleného úložiště.</span><span class="sxs-lookup"><span data-stu-id="cceb5-376">An attachment is simply a special document that captures hello metadata (e.g. location, author etc.) of a media stored in a remote media storage.</span></span> 

<span data-ttu-id="cceb5-377">Zvažte sociálních čtení aplikace, která používá Cosmos DB toostore neobsahovaly a metadata včetně komentář, označuje záložky, hodnocení, líbí nebo nelíbí atd přidružené pro zde elektronickou knihu daného uživatele.</span><span class="sxs-lookup"><span data-stu-id="cceb5-377">Consider a social reading application which uses Cosmos DB toostore ink annotations, and metadata including comments, highlights, bookmarks, ratings, likes/dislikes etc. associated for an e-book of a given user.</span></span>   

* <span data-ttu-id="cceb5-378">Hello hello knihy, samotné je obsah uložený v úložišti média hello buď jako součást Cosmos DB databázového účtu nebo médium vzdáleného úložiště k dispozici.</span><span class="sxs-lookup"><span data-stu-id="cceb5-378">hello content of hello book itself is stored in hello media storage either available as part of Cosmos DB database account or a remote media store.</span></span> 
* <span data-ttu-id="cceb5-379">Aplikace může ukládat metadata každého uživatele jako odlišné dokument – například Michalův metadata pro Sešit1 se ukládají v dokumentu odkazuje /colls/joe/docs/book1.</span><span class="sxs-lookup"><span data-stu-id="cceb5-379">An application may store each user’s metadata as a distinct document -- e.g. Joe’s metadata for book1 is stored in a document referenced by /colls/joe/docs/book1.</span></span> 
* <span data-ttu-id="cceb5-380">Přílohy odkazující toohello stránkách obsahu daného adresáře uživatele, jsou uloženy v dokumentu odpovídající hello například /colls/joe/docs/book1/chapter1 /colls/joe/docs/book1/chapter2 atd.</span><span class="sxs-lookup"><span data-stu-id="cceb5-380">Attachments pointing toohello content pages of a given book of a user are stored under hello corresponding document e.g. /colls/joe/docs/book1/chapter1, /colls/joe/docs/book1/chapter2 etc.</span></span> 

<span data-ttu-id="cceb5-381">Všimněte si, že uvedené příklady hello použijte popisný ID tooconvey hello prostředků hierarchie.</span><span class="sxs-lookup"><span data-stu-id="cceb5-381">Note that hello examples listed above use friendly ids tooconvey hello resource hierarchy.</span></span> <span data-ttu-id="cceb5-382">Jsou přístup k prostředkům prostřednictvím hello rozhraní REST API prostřednictvím ID prostředků jedinečné.</span><span class="sxs-lookup"><span data-stu-id="cceb5-382">Resources are accessed via hello REST APIs through unique resource ids.</span></span> 

<span data-ttu-id="cceb5-383">Pro hello média, který je spravovaný nástrojem Cosmos DB bude vlastnost _media hello hello přílohy odkazovat hello média pomocí jeho identifikátoru URI.</span><span class="sxs-lookup"><span data-stu-id="cceb5-383">For hello media that is managed by Cosmos DB, hello _media property of hello attachment will reference hello media by its URI.</span></span> <span data-ttu-id="cceb5-384">Cosmos DB zajistí toogarbage shromažďování hello média, když všechny zbývající odkazy hello vyřadit.</span><span class="sxs-lookup"><span data-stu-id="cceb5-384">Cosmos DB will ensure toogarbage collect hello media when all of hello outstanding references are dropped.</span></span> <span data-ttu-id="cceb5-385">Cosmos DB automaticky generuje hello přílohy při nahrávání hello nové médium a naplní hello _media toopoint toohello nově přidané média.</span><span class="sxs-lookup"><span data-stu-id="cceb5-385">Cosmos DB automatically generates hello attachment when you upload hello new media and populates hello _media toopoint toohello newly added media.</span></span> <span data-ttu-id="cceb5-386">Pokud si zvolíte toostore hello média v úložišti objektů blob vzdálené spravované vámi (například OneDrive, Azure Storage, DropBox atd), můžete stále přílohy tooreference hello média.</span><span class="sxs-lookup"><span data-stu-id="cceb5-386">If you choose toostore hello media in a remote blob store managed by you (e.g. OneDrive, Azure Storage, DropBox etc), you can still use attachments tooreference hello media.</span></span> <span data-ttu-id="cceb5-387">V tomto případě vytvoříte hello přílohy sami a naplnit její _media vlastnost.</span><span class="sxs-lookup"><span data-stu-id="cceb5-387">In this case, you will create hello attachment yourself and populate its _media property.</span></span>   

<span data-ttu-id="cceb5-388">Stejně jako u všech ostatních prostředků přílohy lze vytvořit, nahradit, odstranit, čtení a vytvořit její výčet snadno pomocí rozhraní REST API nebo některou z hello klientskou sadu SDK.</span><span class="sxs-lookup"><span data-stu-id="cceb5-388">As with all other resources, attachments can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="cceb5-389">Jako s dokumenty, hello číst úroveň konzistence příloh odpovídá hello konzistence zásad na hello databázového účtu.</span><span class="sxs-lookup"><span data-stu-id="cceb5-389">As with documents, hello read consistency level of attachments follows hello consistency policy on hello database account.</span></span> <span data-ttu-id="cceb5-390">Tuto zásadu lze přepsat na základě požadavků v závislosti na požadavcích konzistence dat vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="cceb5-390">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="cceb5-391">Při dotazování pro přílohy, přečtěte si hello hello způsobem konzistence indexování režim nastavený na kolekci hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-391">When querying for attachments, hello read consistency follows hello indexing mode set on hello collection.</span></span> <span data-ttu-id="cceb5-392">Pro "konzistentní" což odpovídá hello účet konzistence zásad.</span><span class="sxs-lookup"><span data-stu-id="cceb5-392">For “consistent”, this follows hello account’s consistency policy.</span></span> 
 

## <a name="users"></a><span data-ttu-id="cceb5-393">Uživatelé</span><span class="sxs-lookup"><span data-stu-id="cceb5-393">Users</span></span>
<span data-ttu-id="cceb5-394">Uživatel Cosmos DB představuje logické obor názvů pro seskupování oprávnění.</span><span class="sxs-lookup"><span data-stu-id="cceb5-394">A Cosmos DB user represents a logical namespace for grouping permissions.</span></span> <span data-ttu-id="cceb5-395">Cosmos DB uživatel může odpovídat tooa uživatele v systému správy protokolu identity nebo předdefinované aplikační role.</span><span class="sxs-lookup"><span data-stu-id="cceb5-395">A Cosmos DB user may correspond tooa user in an identity management system or a predefined application role.</span></span> <span data-ttu-id="cceb5-396">Pro databáze Cosmos uživatel jednoduše představuje abstrakce toogroup sadou oprávnění v databázi.</span><span class="sxs-lookup"><span data-stu-id="cceb5-396">For Cosmos DB, a user simply represents an abstraction toogroup a set of permissions under a database.</span></span>   

<span data-ttu-id="cceb5-397">Pro implementaci víceklientský ve vaší aplikaci, můžete vytvořit uživatele v Cosmos DB, který odpovídá skutečným uživatele tooyour nebo hello klientům aplikace.</span><span class="sxs-lookup"><span data-stu-id="cceb5-397">For implementing multi-tenancy in your application, you can create users in Cosmos DB which corresponds tooyour actual users or hello tenants of your application.</span></span> <span data-ttu-id="cceb5-398">Potom můžete vytvořit oprávnění pro daného uživatele, které odpovídají toohello řízení přístupu prostřednictvím různých kolekcí, dokumentů, přílohy, atd.</span><span class="sxs-lookup"><span data-stu-id="cceb5-398">You can then create permissions for a given user that correspond toohello access control over various collections, documents, attachments, etc.</span></span>   

<span data-ttu-id="cceb5-399">Jak vaše aplikace potřebují tooscale s růstu vaší uživatele, může přijmout různé způsoby tooshard vaše data.</span><span class="sxs-lookup"><span data-stu-id="cceb5-399">As your applications need tooscale with your user growth, you can adopt various ways tooshard your data.</span></span> <span data-ttu-id="cceb5-400">Můžete model každému uživateli následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="cceb5-400">You can model each of your users as follows:</span></span>   

* <span data-ttu-id="cceb5-401">Každý uživatel mapuje tooa databáze.</span><span class="sxs-lookup"><span data-stu-id="cceb5-401">Each user maps tooa database.</span></span>
* <span data-ttu-id="cceb5-402">Každý uživatel mapuje tooa kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-402">Each user maps tooa collection.</span></span> 
* <span data-ttu-id="cceb5-403">Dokumenty odpovídající uživatelé toomultiple přejděte tooa vyhrazené kolekce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-403">Documents corresponding toomultiple users go tooa dedicated collection.</span></span> 
* <span data-ttu-id="cceb5-404">Dokumenty odpovídající uživatelé toomultiple přejděte tooa sady kolekcí.</span><span class="sxs-lookup"><span data-stu-id="cceb5-404">Documents corresponding toomultiple users go tooa set of collections.</span></span>   

<span data-ttu-id="cceb5-405">Bez ohledu na to strategie konkrétní horizontálního dělení hello, který zvolíte můžete model skutečné uživatelům jako uživatele v databázi Cosmos DB a přidružit uživatele tooeach jemně odstupňovaná oprávnění.</span><span class="sxs-lookup"><span data-stu-id="cceb5-405">Regardless of hello specific sharding strategy you choose, you can model your actual users as users in Cosmos DB database and associate fine grained permissions tooeach user.</span></span>  

<span data-ttu-id="cceb5-406">![Kolekce uživatelů][3]</span><span class="sxs-lookup"><span data-stu-id="cceb5-406">![User collections][3]</span></span>  
<span data-ttu-id="cceb5-407">**Strategie horizontálního dělení a uživatelé modelování**</span><span class="sxs-lookup"><span data-stu-id="cceb5-407">**Sharding strategies and modeling users**</span></span>

<span data-ttu-id="cceb5-408">Podobně jako všechny ostatní prostředky uživatelé v Cosmos DB lze vytvořit, nahradit, odstranit, číst nebo uvedené snadno pomocí rozhraní REST API nebo některou z hello klientskou sadu SDK.</span><span class="sxs-lookup"><span data-stu-id="cceb5-408">Like all other resources, users in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="cceb5-409">Cosmos DB vždy poskytuje silnou konzistenci pro čtení nebo dotazování hello metadata prostředek uživatele.</span><span class="sxs-lookup"><span data-stu-id="cceb5-409">Cosmos DB always provides strong consistency for reading or querying hello metadata of a user resource.</span></span> <span data-ttu-id="cceb5-410">Je vhodné ukazující, že odstranění uživatele automaticky zajistí, že nemůžete použít žádnou hello oprávnění jsou v něm obsažena.</span><span class="sxs-lookup"><span data-stu-id="cceb5-410">It is worth pointing out that deleting a user automatically ensures that you cannot access any of hello permissions contained within it.</span></span> <span data-ttu-id="cceb5-411">I když hello Cosmos DB získá hello kvóty hello oprávnění v rámci hello odstranit uživatele na pozadí hello, hello odstranit oprávnění jsou k dispozici okamžitě znovu pro toouse můžete.</span><span class="sxs-lookup"><span data-stu-id="cceb5-411">Even though hello Cosmos DB reclaims hello quota of hello permissions as part of hello deleted user in hello background, hello deleted permissions is available instantly again for you toouse.</span></span>  

## <a name="permissions"></a><span data-ttu-id="cceb5-412">Oprávnění</span><span class="sxs-lookup"><span data-stu-id="cceb5-412">Permissions</span></span>
<span data-ttu-id="cceb5-413">Z hlediska řízení k přístupu, prostředkům, například účty databáze, databáze, uživatelů a oprávnění jsou považovány za *správu* prostředky, protože vyžadují oprávnění správce.</span><span class="sxs-lookup"><span data-stu-id="cceb5-413">From an access control perspective, resources such as database accounts, databases, users and permission are considered *administrative* resources since these require administrative permissions.</span></span> <span data-ttu-id="cceb5-414">Na hello druhé straně, včetně hello kolekcí, dokumentů, přílohy, uložené procedury, triggery, prostředky a funkce UDF jsou obor v části na danou databázi a považovány za *prostředky aplikace*.</span><span class="sxs-lookup"><span data-stu-id="cceb5-414">On hello other hand, resources including hello collections, documents, attachments, stored procedures, triggers, and UDFs are scoped under a given database and considered *application resources*.</span></span> <span data-ttu-id="cceb5-415">Odpovídající toohello dva typy prostředků a hello role, které přistupovat k nim (konkrétně hello správce a uživatele), modelu autorizace hello definuje dva typy *přístupové klíče*: *hlavní klíč* a *klíč prostředku*.</span><span class="sxs-lookup"><span data-stu-id="cceb5-415">Corresponding toohello two types of resources and hello roles that access them (namely hello administrator and user), hello authorization model defines two types of *access keys*: *master key* and *resource key*.</span></span> <span data-ttu-id="cceb5-416">Hello hlavní klíč je součástí hello databázového účtu a je k dispozici toohello developer (nebo správce) kdo je zřizování hello databázového účtu.</span><span class="sxs-lookup"><span data-stu-id="cceb5-416">hello master key is a part of hello database account and is provided toohello developer (or administrator) who is provisioning hello database account.</span></span> <span data-ttu-id="cceb5-417">Tento hlavní klíč musí správce sémantiku v, aby bylo možné ho použít tooauthorize přístup tooboth pro správu a prostředky aplikace.</span><span class="sxs-lookup"><span data-stu-id="cceb5-417">This master key has administrator semantics, in that it can be used tooauthorize access tooboth administrative and application resources.</span></span> <span data-ttu-id="cceb5-418">Klíč prostředku spočívá v tom, podrobné přístupový klíč, který umožňuje přístup tooa *konkrétní* prostředků aplikace.</span><span class="sxs-lookup"><span data-stu-id="cceb5-418">In contrast, a resource key is a granular access key that allows access tooa *specific* application resource.</span></span> <span data-ttu-id="cceb5-419">Proto zachycení hello vztah mezi hello uživatele databáze a hello oprávnění hello uživatelem pro konkrétní zdroje (například kolekce, dokument, přílohy, uložené procedury, aktivační události nebo UDF).</span><span class="sxs-lookup"><span data-stu-id="cceb5-419">Thus, it captures hello relationship between hello user of a database and hello permissions hello user has for a specific resource (e.g. collection, document, attachment, stored procedure, trigger, or UDF).</span></span>   

<span data-ttu-id="cceb5-420">Hello pouze způsob tooobtain je klíč prostředků tak, že vytvoříte prostředek oprávnění v rámci daného uživatele.</span><span class="sxs-lookup"><span data-stu-id="cceb5-420">hello only way tooobtain a resource key is by creating a permission resource under a given user.</span></span> <span data-ttu-id="cceb5-421">Všimněte si, že se v pořadí toocreate nebo získat oprávnění, hlavní klíč musí být uvedené v hlavičce autorizace hello.</span><span class="sxs-lookup"><span data-stu-id="cceb5-421">Note that In order toocreate or retrieve a permission, a master key must be presented in hello authorization header.</span></span> <span data-ttu-id="cceb5-422">Oprávnění prostředků ties hello prostředek, jeho přístup a hello uživatele.</span><span class="sxs-lookup"><span data-stu-id="cceb5-422">A permission resource ties hello resource, its access and hello user.</span></span> <span data-ttu-id="cceb5-423">Po vytvoření oprávnění prostředku, musí uživatel hello pouze toopresent hello přidružených prostředků klíč v pořadí toogain přístup toohello relevantní prostředku.</span><span class="sxs-lookup"><span data-stu-id="cceb5-423">After creating a permission resource, hello user only needs toopresent hello associated resource key in order toogain access toohello relevant resource.</span></span> <span data-ttu-id="cceb5-424">Klíč prostředku proto lze zobrazit jako znázornění logické a compact hello oprávnění prostředku.</span><span class="sxs-lookup"><span data-stu-id="cceb5-424">Hence, a resource key can be viewed as a logical and compact representation of hello permission resource.</span></span>  

<span data-ttu-id="cceb5-425">Stejně jako u všech ostatních prostředků oprávnění v databázi Cosmos lze vytvořit, nahradit, odstranit, čtení a vytvořit její výčet snadno pomocí rozhraní REST API nebo některou z hello klientskou sadu SDK.</span><span class="sxs-lookup"><span data-stu-id="cceb5-425">As with all other resources, permissions in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="cceb5-426">Cosmos DB vždy poskytuje silnou konzistenci pro čtení nebo dotazování hello metadata oprávnění.</span><span class="sxs-lookup"><span data-stu-id="cceb5-426">Cosmos DB always provides strong consistency for reading or querying hello metadata of a permission.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="cceb5-427">Další kroky</span><span class="sxs-lookup"><span data-stu-id="cceb5-427">Next steps</span></span>
<span data-ttu-id="cceb5-428">Další informace o práci s prostředky pomocí příkazů HTTP v [RESTful interakce s prostředky Cosmos DB](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span><span class="sxs-lookup"><span data-stu-id="cceb5-428">Learn more about working with resources by using HTTP commands in [RESTful interactions with Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span>

[1]: media/documentdb-resources/resources1.png
[2]: media/documentdb-resources/resources2.png
[3]: media/documentdb-resources/resources3.png

