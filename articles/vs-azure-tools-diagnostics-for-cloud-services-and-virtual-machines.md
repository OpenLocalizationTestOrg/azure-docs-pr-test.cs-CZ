---
title: "aaaConfiguring diagnostiku pro Azure Cloud Services a virtuálních počítačů | Microsoft Docs"
description: "Popisuje, jak tooconfigure diagnostické informace pro ladění Azure cloude služeb a virtuálních počítačů (VM) v sadě Visual Studio."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: e70cd7b4-6298-43aa-adea-6fd618414c26
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 74cdf49413d6d89a84195070dd9d817da2463373
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-diagnostics-for-azure-cloud-services-and-virtual-machines"></a><span data-ttu-id="914e2-103">Konfiguraci diagnostiky pro cloudové služby Azure a virtuální počítače</span><span class="sxs-lookup"><span data-stu-id="914e2-103">Configuring Diagnostics for Azure Cloud Services and Virtual Machines</span></span>
<span data-ttu-id="914e2-104">Pokud budete potřebovat tootroubleshoot Azure cloudové služby nebo virtuálního počítače Azure, můžete nakonfigurovat Azure diagnostics snadněji pomocí sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="914e2-104">When you need tootroubleshoot an Azure cloud service or Azure virtual machine, you can configure Azure diagnostics more easily by using Visual Studio.</span></span> <span data-ttu-id="914e2-105">Azure diagnostics zaznamená data systému a data protokolování v hello virtuálních počítačů a instancí virtuálního počítače se systémem cloudové služby a přenosy dat do účtu úložiště podle vašeho výběru.</span><span class="sxs-lookup"><span data-stu-id="914e2-105">Azure diagnostics captures system data and logging data on hello virtual machines and virtual machine instances that run your cloud service and transfers that data into a storage account of your choice.</span></span> <span data-ttu-id="914e2-106">V tématu [povolit protokolování diagnostiky pro webové aplikace v Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) Další informace o protokolování v Azure diagnostics.</span><span class="sxs-lookup"><span data-stu-id="914e2-106">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about diagnostics logging in Azure.</span></span>

<span data-ttu-id="914e2-107">Toto téma ukazuje, jak tooenable a nakonfigurovat Azure diagnostics v sadě Visual Studio, před i po nasazení, a také na virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="914e2-107">This topic shows you how tooenable and configure Azure diagnostics in Visual Studio, both before and after deployment, as well as in Azure virtual machines.</span></span> <span data-ttu-id="914e2-108">Také vám ukazuje jak tooselect hello typy toocollect diagnostické informace a jak se shromáždí informace o hello tooview za ním.</span><span class="sxs-lookup"><span data-stu-id="914e2-108">It also shows you how tooselect hello types of diagnostics information toocollect and how tooview hello information after it's collected.</span></span>

<span data-ttu-id="914e2-109">Azure Diagnostics můžete nakonfigurovat v hello následující způsoby:</span><span class="sxs-lookup"><span data-stu-id="914e2-109">You can configure Azure Diagnostics in hello following ways:</span></span>

* <span data-ttu-id="914e2-110">Můžete změnit nastavení konfigurace diagnostiky prostřednictvím hello **konfigurace diagnostiky** dialogové okno v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="914e2-110">You can change diagnostics configuration settings through hello **Diagnostics Configuration** dialog box in Visual Studio.</span></span> <span data-ttu-id="914e2-111">Hello nastavení se ukládají do souboru s názvem diagnostics.wadcfgx (diagnostics.wadcfg v Azure SDK 2.4 nebo starší).</span><span class="sxs-lookup"><span data-stu-id="914e2-111">hello settings are saved in a file called diagnostics.wadcfgx (diagnostics.wadcfg in Azure SDK 2.4 or earlier).</span></span> <span data-ttu-id="914e2-112">Alternativně můžete přímo upravit hello konfigurační soubor.</span><span class="sxs-lookup"><span data-stu-id="914e2-112">Alternatively, you can directly modify hello configuration file.</span></span> <span data-ttu-id="914e2-113">Pokud ručně aktualizovat soubor hello, budou se změny konfigurace hello se vliv hello příštím nasazení hello cloudové služby tooAzure nebo spuštění hello služba v emulátoru hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-113">If you manually update hello file, hello configuration changes will take effect hello next time you deploy hello cloud service tooAzure or run hello service in hello emulator.</span></span>
* <span data-ttu-id="914e2-114">Použití **Průzkumník cloudu** nebo **Průzkumníka serveru** v sadě Visual Studio toochange hello nastavení diagnostiky pro spuštěné cloudové služby nebo virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="914e2-114">Use **Cloud Explorer** or **Server Explorer** in Visual Studio toochange hello diagnostics settings for a running cloud service or virtual machine.</span></span>

## <a name="azure-26-diagnostics-changes"></a><span data-ttu-id="914e2-115">Azure 2.6 diagnostics změny</span><span class="sxs-lookup"><span data-stu-id="914e2-115">Azure 2.6 diagnostics changes</span></span>
<span data-ttu-id="914e2-116">Pro Azure SDK 2.6 projekty v sadě Visual Studio byly provedeny následující změny hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-116">For Azure SDK 2.6 projects in Visual Studio, hello following changes were made.</span></span> <span data-ttu-id="914e2-117">(Tyto změny také použita toolater verze sady SDK pro Azure.)</span><span class="sxs-lookup"><span data-stu-id="914e2-117">(These changes also apply toolater versions of Azure SDK.)</span></span>

* <span data-ttu-id="914e2-118">místní emulátoru Hello nyní podporuje diagnostiku.</span><span class="sxs-lookup"><span data-stu-id="914e2-118">hello local emulator now supports diagnostics.</span></span> <span data-ttu-id="914e2-119">To znamená, že můžete shromažďovat diagnostická data a ujistěte se, že aplikace je vytvoření hello správné trasování při jste vývoj a testování v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="914e2-119">This means you can collect diagnostics data and ensure your application is creating hello right traces while you're developing and testing in Visual Studio.</span></span> <span data-ttu-id="914e2-120">Hello připojovací řetězec `UseDevelopmentStorage=true` umožňuje shromažďování dat diagnostiky, když spouštíte projekt cloudové služby v sadě Visual Studio pomocí emulátoru úložiště Azure hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-120">hello connection string `UseDevelopmentStorage=true` enables diagnostics data collection while you're running your cloud service project in Visual Studio by using hello Azure storage emulator.</span></span> <span data-ttu-id="914e2-121">Všechny diagnostická data se shromažďují v účtu úložiště hello (vývoj pro úložiště).</span><span class="sxs-lookup"><span data-stu-id="914e2-121">All diagnostics data is collected in hello (Development Storage) storage account.</span></span>
* <span data-ttu-id="914e2-122">Hello diagnostiky úložiště připojovací řetězce k účtu (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) je znovu uložené v souboru definice hello služby (.csdef).</span><span class="sxs-lookup"><span data-stu-id="914e2-122">hello diagnostics storage account connection string (Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString) is stored once again in hello service configuration (.cscfg) file.</span></span> <span data-ttu-id="914e2-123">V Azure SDK 2.5 nebyl zadán účet úložiště diagnostiky hello v souboru diagnostics.wadcfgx hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-123">In Azure SDK 2.5 hello diagnostics storage account was specified in hello diagnostics.wadcfgx file.</span></span>

<span data-ttu-id="914e2-124">Existují některé významné rozdíly mezi jak šlo hello připojovací řetězec v Azure SDK 2.4 a starší a jak to funguje v Azure SDK 2.6 nebo novější.</span><span class="sxs-lookup"><span data-stu-id="914e2-124">There are some notable differences between how hello connection string worked in Azure SDK 2.4 and earlier and how it works in Azure SDK 2.6 and later.</span></span>

* <span data-ttu-id="914e2-125">Azure SDK 2.4 a starších verzích používal hello připojovací řetězec jako modul runtime hello diagnostiky modul plug-in tooget hello informace o účtu úložiště pro přenos diagnostické protokoly.</span><span class="sxs-lookup"><span data-stu-id="914e2-125">In Azure SDK 2.4 and earlier, hello connection string was used as a runtime by hello diagnostics plugin tooget hello storage account information for transferring diagnostics logs.</span></span>
* <span data-ttu-id="914e2-126">Ve verzi 2.6 Azure SDK a později je rozšíření diagnostiky hello tooconfigure sady Visual Studio s informace o účtu úložiště odpovídající hello během publikování používají hello diagnostiky připojovací řetězec.</span><span class="sxs-lookup"><span data-stu-id="914e2-126">In Azure SDK 2.6 and later, hello diagnostics connection string is used by Visual Studio tooconfigure hello diagnostics extension with hello appropriate storage account information during publishing.</span></span> <span data-ttu-id="914e2-127">připojovací řetězec Hello umožňuje definovat jiným účtům úložiště pro různé služby konfigurace, které Visual Studio budou používat při publikování.</span><span class="sxs-lookup"><span data-stu-id="914e2-127">hello connection string lets you define different storage accounts for different service configurations that Visual Studio will use when publishing.</span></span> <span data-ttu-id="914e2-128">Ale vzhledem k tomu, že modul plug-in diagnostiky hello již není k dispozici (po Azure SDK 2.5), nelze povolit souboru .cscfg hello samostatně hello rozšíření diagnostiky.</span><span class="sxs-lookup"><span data-stu-id="914e2-128">However, because hello diagnostics plugin is no longer available (after Azure SDK 2.5), hello .cscfg file by itself can't enable hello Diagnostics Extension.</span></span> <span data-ttu-id="914e2-129">Máte tooenable hello rozšíření samostatně prostřednictvím nástrojů, jako je Visual Studio nebo prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="914e2-129">You have tooenable hello extension separately through tools such as Visual Studio or PowerShell.</span></span>
* <span data-ttu-id="914e2-130">toosimplify hello proces konfigurace rozšíření diagnostiky hello v prostředí PowerShell, výstup hello balíčku ze sady Visual Studio také obsahuje hello veřejné konfigurace XML pro hello rozšíření diagnostiky pro každou roli.</span><span class="sxs-lookup"><span data-stu-id="914e2-130">toosimplify hello process of configuring hello diagnostics extension with PowerShell, hello package output from Visual Studio also contains hello public configuration XML for hello diagnostics extension for each role.</span></span> <span data-ttu-id="914e2-131">Visual Studio použije hello diagnostiky připojovací řetězec toopopulate hello informace o účtu úložiště v konfiguraci veřejného hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-131">Visual Studio uses hello diagnostics connection string toopopulate hello storage account information present in hello public configuration.</span></span> <span data-ttu-id="914e2-132">Hello veřejné konfigurační soubory jsou vytvořeny ve složce rozšíření hello a postupujte podle vzoru hello PaaSDiagnostics. &lt;RoleName >. PubConfig.xml.</span><span class="sxs-lookup"><span data-stu-id="914e2-132">hello public config files are created in hello Extensions folder and follow hello pattern PaaSDiagnostics.&lt;RoleName>.PubConfig.xml.</span></span> <span data-ttu-id="914e2-133">Všechna nasazení na základě prostředí PowerShell můžete použít tento vzor toomap každý tooa konfigurace Role.</span><span class="sxs-lookup"><span data-stu-id="914e2-133">Any PowerShell based deployments can use this pattern toomap each configuration tooa Role.</span></span>
* <span data-ttu-id="914e2-134">Hello připojovací řetězec v souboru .cscfg hello používá také hello [portál Azure](http://go.microsoft.com/fwlink/p/?LinkID=525040) tooaccess hello diagnostická data, může se objevit v hello **monitorování** kartě hello připojovací řetězec je potřeba. tooshow služby tooconfigure v hello podrobné dat portálu hello monitorování.</span><span class="sxs-lookup"><span data-stu-id="914e2-134">hello connection string in hello .cscfg file is also used by hello [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040) tooaccess hello diagnostics data so it can appear in hello **Monitoring** tab. hello connection string is needed tooconfigure hello service tooshow verbose monitoring data in hello portal.</span></span>

## <a name="migrating-projects-tooazure-sdk-26-and-later"></a><span data-ttu-id="914e2-135">Migrace projekty tooAzure SDK 2.6 a novější</span><span class="sxs-lookup"><span data-stu-id="914e2-135">Migrating projects tooAzure SDK 2.6 and later</span></span>
<span data-ttu-id="914e2-136">Při migraci z Azure SDK 2.5 tooAzure SDK 2.6 nebo novější, pokud jste měli účet úložiště diagnostiky zadané v souboru .wadcfgx hello, pak zůstane existuje.</span><span class="sxs-lookup"><span data-stu-id="914e2-136">When migrating from Azure SDK 2.5 tooAzure SDK 2.6 or later, if you had a diagnostics storage account specified in hello .wadcfgx file, then it will stay there.</span></span> <span data-ttu-id="914e2-137">tootake výhod hello flexibilitu pomocí jiného úložiště účtů pro jiné úložiště, budete mít toomanually přidat hello připojovací řetězec tooyour projekt.</span><span class="sxs-lookup"><span data-stu-id="914e2-137">tootake advantage of hello flexibility of using different storage accounts for different storage configurations, you'll have toomanually add hello connection string tooyour project.</span></span> <span data-ttu-id="914e2-138">Pokud jste migraci projektu z Azure SDK 2.4 nebo starší tooAzure SDK 2.6, pak hello diagnostiky, které se zachovají připojovací řetězce.</span><span class="sxs-lookup"><span data-stu-id="914e2-138">If you're migrating a project from Azure SDK 2.4 or earlier tooAzure SDK 2.6, then hello diagnostics connection strings are preserved.</span></span> <span data-ttu-id="914e2-139">Upozorňujeme však hello změny v tom, jak jsou připojovací řetězce považovány ve verzi 2.6 Azure SDK uvedeného v předchozí části hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-139">However, please note hello changes in how connection strings are treated in Azure SDK 2.6 as specified in hello previous section.</span></span>

### <a name="how-visual-studio-determines-hello-diagnostics-storage-account"></a><span data-ttu-id="914e2-140">Určuje, jak Visual Studio účet úložiště diagnostiky hello</span><span class="sxs-lookup"><span data-stu-id="914e2-140">How Visual Studio determines hello diagnostics storage account</span></span>
* <span data-ttu-id="914e2-141">Pokud připojovací řetězec diagnostiky je zadané v souboru .cscfg hello, Visual Studio použije ji rozšíření diagnostiky hello tooconfigure při publikování a při generování souborů xml hello veřejné konfigurace během balení.</span><span class="sxs-lookup"><span data-stu-id="914e2-141">If a diagnostics connection string is specified in hello .cscfg file, Visual Studio uses it tooconfigure hello diagnostics extension when publishing, and when generating hello public configuration xml files during packaging.</span></span>
* <span data-ttu-id="914e2-142">Pokud žádný diagnostiky připojovací řetězec je zadané v souboru .cscfg hello, pak Visual Studio spadne zpět toousing hello úložiště účet zadaný v hello .wadcfgx tooconfigure hello diagnostiky příponu souboru při publikování a generování veřejného hello soubory xml konfigurace při balení.</span><span class="sxs-lookup"><span data-stu-id="914e2-142">If no diagnostics connection string is specified in hello .cscfg file, then Visual Studio falls back toousing hello storage account specified in hello .wadcfgx file tooconfigure hello diagnostics extension when publishing, and generating hello public configuration xml files when packaging.</span></span>
* <span data-ttu-id="914e2-143">Hello diagnostiky připojovací řetězec v souboru .cscfg hello má přednost před hello účet úložiště v souboru .wadcfgx hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-143">hello diagnostics connection string in hello .cscfg file takes precedence over hello storage account in hello .wadcfgx file.</span></span> <span data-ttu-id="914e2-144">Pokud diagnostiky připojovací řetězec zadaný v souboru .cscfg hello, pak Visual Studio použije tento a ignoruje hello účet úložiště v .wadcfgx.</span><span class="sxs-lookup"><span data-stu-id="914e2-144">If a diagnostics connection string is specified in hello .cscfg file, then Visual Studio uses that and ignores hello storage account in .wadcfgx.</span></span>

### <a name="what-does-hello-update-development-storage-connection-strings-checkbox-do"></a><span data-ttu-id="914e2-145">Co hello "Aktualizovat připojovací řetězce s vývoj úložiště..."</span><span class="sxs-lookup"><span data-stu-id="914e2-145">What does hello "Update development storage connection strings…"</span></span> <span data-ttu-id="914e2-146">zaškrtávací políčko dělat?</span><span class="sxs-lookup"><span data-stu-id="914e2-146">checkbox do?</span></span>
<span data-ttu-id="914e2-147">Hello zaškrtávací políčko pro **aktualizace vývoj úložiště připojovací řetězce pro diagnostiku a ukládání do mezipaměti pomocí přihlašovacích údajů účtu úložiště Microsoft Azure při publikování tooMicrosoft Azure** nabízí pohodlný způsob tooupdate všechny vývoj úložiště připojovací řetězce k účtu s účtem úložiště Azure hello zadaný během publikování.</span><span class="sxs-lookup"><span data-stu-id="914e2-147">hello checkbox for **Update development storage connection strings for Diagnostics and Caching with Microsoft Azure storage account credentials when publishing tooMicrosoft Azure** gives you a convenient way tooupdate any development storage account connection strings with hello Azure storage account specified during publishing.</span></span>

<span data-ttu-id="914e2-148">Předpokládejme například, zaškrtněte toto políčko a hello diagnostiky připojovací řetězec Určuje `UseDevelopmentStorage=true`.</span><span class="sxs-lookup"><span data-stu-id="914e2-148">For example, suppose you select this checkbox and hello diagnostics connection string specifies `UseDevelopmentStorage=true`.</span></span> <span data-ttu-id="914e2-149">Při publikování tooAzure hello projektu sady Visual Studio automaticky aktualizovat hello diagnostiky připojovací řetězec s hello účet úložiště, který jste zadali v Průvodci publikovat hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-149">When you publish hello project tooAzure, Visual Studio will automatically update hello diagnostics connection string with hello storage account you specified in hello Publish wizard.</span></span> <span data-ttu-id="914e2-150">Pokud účet úložiště skutečné byl zadán jako hello diagnostiky připojovací řetězec, pak tento účet se ale používá místo.</span><span class="sxs-lookup"><span data-stu-id="914e2-150">However, if a real storage account was specified as hello diagnostics connection string, then that account is used instead.</span></span>

## <a name="diagnostics-functionality-differences-between-azure-sdk-24-and-earlier-and-azure-sdk-25-and-later"></a><span data-ttu-id="914e2-151">Diagnostické funkce rozdíly mezi Azure SDK 2.4 a starší a Azure SDK, 2.5 nebo novější</span><span class="sxs-lookup"><span data-stu-id="914e2-151">Diagnostics functionality differences between Azure SDK 2.4 and earlier and Azure SDK 2.5 and later</span></span>
<span data-ttu-id="914e2-152">Pokud upgradujete projekt z Azure SDK 2.4 tooAzure SDK, 2.5 nebo novější, byste měli mít na paměti hello následující rozdíly funkce diagnostiky.</span><span class="sxs-lookup"><span data-stu-id="914e2-152">If you're upgrading your project from Azure SDK 2.4 tooAzure SDK 2.5 or later, you should bear in mind hello following diagnostics functionality differences.</span></span>

* <span data-ttu-id="914e2-153">**Rozhraní API pro konfiguraci jsou zastaralé** – Programová konfigurace diagnostiky je k dispozici v Azure SDK 2.4 nebo starší verze, ale je zastaralý v Azure SDK 2.5 nebo novější.</span><span class="sxs-lookup"><span data-stu-id="914e2-153">**Configuration APIs are deprecated** – Programmatic configuration of diagnostics is available in Azure SDK 2.4 or earlier versions, but is deprecated in Azure SDK 2.5 and later.</span></span> <span data-ttu-id="914e2-154">Pokud vaše konfigurace diagnostiky je aktuálně definována v kódu, budete potřebovat tooreconfigure tato nastavení ručně v hello migrované projektu, pro práci tookeep diagnostiky.</span><span class="sxs-lookup"><span data-stu-id="914e2-154">If your diagnostics configuration is currently defined in code, you'll need tooreconfigure those settings from scratch in hello migrated project in order for diagnostics tookeep working.</span></span> <span data-ttu-id="914e2-155">Hello diagnostiky konfiguračního souboru pro Azure SDK 2.4 je diagnostics.wadcfg a diagnostics.wadcfgx pro Azure SDK 2.5 nebo novější.</span><span class="sxs-lookup"><span data-stu-id="914e2-155">hello diagnostics configuration file for Azure SDK 2.4 is diagnostics.wadcfg, and diagnostics.wadcfgx for Azure SDK 2.5 and later.</span></span>
* <span data-ttu-id="914e2-156">**Diagnostika pro cloudové aplikace, služby se dá nakonfigurovat jenom na úrovni role hello, nikoliv na úrovni instance hello.**</span><span class="sxs-lookup"><span data-stu-id="914e2-156">**Diagnostics for cloud service applications can only be configured at hello role level, not at hello instance level.**</span></span>
* <span data-ttu-id="914e2-157">**Pokaždé, když nasadíte aplikaci, konfiguraci diagnostiky hello je aktualizovat** – to může způsobit problémy parita, pokud změníte konfiguraci diagnostiky z Průzkumníka serveru a pak znovu nasadit aplikace.</span><span class="sxs-lookup"><span data-stu-id="914e2-157">**Every time you deploy your app, hello diagnostics configuration is updated** – This can cause parity issues if you change your diagnostics configuration from Server Explorer and then redeploy your app.</span></span>
* <span data-ttu-id="914e2-158">**V Azure SDK 2.5 nebo novější, jsou nakonfigurované výpisy stavu systému v souboru konfigurace diagnostiky hello, není v kódu** – Pokud máte nakonfigurované v kódu výpisy stavu systému, budete mít toomanually přenos hello konfigurace z kódu toohello konfiguračního souboru protože výpisů stavu systému hello nejsou přenesených během migrace tooAzure hello SDK 2.6.</span><span class="sxs-lookup"><span data-stu-id="914e2-158">**In Azure SDK 2.5 and later, crash dumps are configured in hello diagnostics configuration file, not in code** – If you have crash dumps configured in code, you'll have toomanually transfer hello configuration from code toohello configuration file, because hello crash dumps aren't transferred during hello migration tooAzure SDK 2.6.</span></span>

## <a name="enable-diagnostics-in-cloud-service-projects-before-deploying-them"></a><span data-ttu-id="914e2-159">Povolte diagnostiku v projekty cloudových služeb před jejich nasazením</span><span class="sxs-lookup"><span data-stu-id="914e2-159">Enable diagnostics in cloud service projects before deploying them</span></span>
<span data-ttu-id="914e2-160">V sadě Visual Studio můžete toocollect diagnostická data pro role, které běží v Azure, když spustíte hello služba v emulátoru hello ještě před nasazením.</span><span class="sxs-lookup"><span data-stu-id="914e2-160">In Visual Studio, you can choose toocollect diagnostics data for roles that run in Azure, when you run hello service in hello emulator before deploying it.</span></span> <span data-ttu-id="914e2-161">Všechna nastavení toodiagnostics změny v sadě Visual Studio jsou uložena v souboru konfigurace diagnostics.wadcfgx hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-161">All changes toodiagnostics settings in Visual Studio are saved in hello diagnostics.wadcfgx configuration file.</span></span> <span data-ttu-id="914e2-162">Tato nastavení konfigurace zadejte účet úložiště hello uložení dat diagnostiky při nasazení cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="914e2-162">These configuration settings specify hello storage account where diagnostics data is saved when you deploy your cloud service.</span></span>

[!INCLUDE [cloud-services-wad-warning](../includes/cloud-services-wad-warning.md)]

### <a name="tooenable-diagnostics-in-visual-studio-before-deployment"></a><span data-ttu-id="914e2-163">Diagnostika tooenable v sadě Visual Studio před nasazením</span><span class="sxs-lookup"><span data-stu-id="914e2-163">tooenable diagnostics in Visual Studio before deployment</span></span>
1. <span data-ttu-id="914e2-164">V místní nabídce hello hello role, které vás zajímají, zvolte **vlastnosti**a potom zvolte hello **konfigurace** kartě v roli hello **vlastnosti** okno.</span><span class="sxs-lookup"><span data-stu-id="914e2-164">On hello shortcut menu for hello role that interests you, choose **Properties**, and then choose hello **Configuration** tab in hello role’s **Properties** window.</span></span>
2. <span data-ttu-id="914e2-165">V hello **diagnostiky** část, ujistěte se, že hello **povolení diagnostiky** je zaškrtnuté políčko.</span><span class="sxs-lookup"><span data-stu-id="914e2-165">In hello **Diagnostics** section, make sure that hello **Enable Diagnostics** check box is selected.</span></span>
   
    ![Přístup k hello možnost povolení diagnostiky](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796660.png)
3. <span data-ttu-id="914e2-167">Zvolte hello třemi tečkami (...) tlačítko toospecify hello úložiště účet místo hello diagnostiky dat toobe uložené.</span><span class="sxs-lookup"><span data-stu-id="914e2-167">Choose hello ellipsis (…) button toospecify hello storage account where you want hello diagnostics data toobe stored.</span></span> <span data-ttu-id="914e2-168">Hello účet úložiště, který zvolíte, bude hello umístění, kde jsou uložené diagnostická data.</span><span class="sxs-lookup"><span data-stu-id="914e2-168">hello storage account you choose will be hello location where diagnostics data is stored.</span></span>
   
    ![Zadejte toouse účet úložiště hello](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796661.png)
4. <span data-ttu-id="914e2-170">V hello **vytvoření připojovacího řetězce úložiště** dialogové okno pole, určete, zda chcete tooconnect pomocí hello emulátoru úložiště Azure, předplatné Azure, nebo ručně zadali přihlašovací údaje.</span><span class="sxs-lookup"><span data-stu-id="914e2-170">In hello **Create Storage Connection String** dialog box, specify whether you want tooconnect using hello Azure Storage Emulator, an Azure subscription, or manually entered credentials.</span></span>
   
    ![Dialogové okno účtu úložiště](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796662.png)
   
   * <span data-ttu-id="914e2-172">Pokud zvolíte možnost hello emulátor úložiště Microsoft Azure, je nastaven hello připojovací řetězec tooUseDevelopmentStorage = true.</span><span class="sxs-lookup"><span data-stu-id="914e2-172">If you choose hello Microsoft Azure Storage Emulator option, hello connection string is set tooUseDevelopmentStorage=true.</span></span>
   * <span data-ttu-id="914e2-173">Pokud vyberete volbu hello vaše předplatné, můžete vybrat hello předplatné Azure, které chcete toouse a hello název účtu.</span><span class="sxs-lookup"><span data-stu-id="914e2-173">If you choose hello Your subscription option, you can choose hello Azure subscription you want toouse and hello account name.</span></span> <span data-ttu-id="914e2-174">Je možné, že správa účtů hello tlačítko toomanage předplatné Azure.</span><span class="sxs-lookup"><span data-stu-id="914e2-174">You can choose hello Manage Accounts button toomanage your Azure subscriptions.</span></span>
   * <span data-ttu-id="914e2-175">Pokud si zvolíte možnost hello ručně zadali přihlašovací údaje, můžete se výzvami tooenter hello název a klíč hello Azure účet, který má toouse.</span><span class="sxs-lookup"><span data-stu-id="914e2-175">If you choose hello Manually entered credentials option, you're prompted tooenter hello name and key of hello Azure account you want toouse.</span></span>
5. <span data-ttu-id="914e2-176">Zvolte hello **konfigurace** tlačítko tooview hello **konfigurace diagnostiky** dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="914e2-176">Choose hello **Configure** button tooview hello **Diagnostics configuration** dialog box.</span></span> <span data-ttu-id="914e2-177">Každé kartě (s výjimkou **Obecné** a **adresáře protokolu**) představuje zdroj diagnostických dat, který můžete shromáždit.</span><span class="sxs-lookup"><span data-stu-id="914e2-177">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span> <span data-ttu-id="914e2-178">Karta výchozí Hello, **Obecné**, nabízí hello následující možnosti shromažďování dat diagnostiky: **pouze chyby**, **všechny informace o**, a **vlastní plán** .</span><span class="sxs-lookup"><span data-stu-id="914e2-178">hello default tab, **General**, offers you hello following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="914e2-179">Hello výchozí možnost **pouze chyby**, trvá hello nejmenší velikost úložiště, protože nepřenese upozornění nebo trasování zpráv.</span><span class="sxs-lookup"><span data-stu-id="914e2-179">hello default option, **Errors only**, takes hello least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="914e2-180">Hello všechny přenosy možnost informace hello většinu informací a je, tedy hello nejnákladnější možnost z hlediska úložiště.</span><span class="sxs-lookup"><span data-stu-id="914e2-180">hello All information option transfers hello most information and is, therefore, hello most expensive option in terms of storage.</span></span>
   
    ![Povolení a konfigurace Azure Diagnostika](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
6. <span data-ttu-id="914e2-182">V tomto příkladu vyberte hello **vlastní plán** možnost, můžete přizpůsobit hello data shromažďují.</span><span class="sxs-lookup"><span data-stu-id="914e2-182">For this example, select hello **Custom plan** option so you can customize hello data collected.</span></span>
7. <span data-ttu-id="914e2-183">Hello **kvóty disku v MB** pole určuje, kolik místa, které mají být tooallocate v účtu úložiště pro data diagnostiky.</span><span class="sxs-lookup"><span data-stu-id="914e2-183">hello **Disk Quota in MB** box specifies how much space you want tooallocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="914e2-184">Pokud chcete, můžete změnit hello výchozí hodnotu.</span><span class="sxs-lookup"><span data-stu-id="914e2-184">You can change hello default value if you want.</span></span>
8. <span data-ttu-id="914e2-185">Na každé kartě diagnostická data chcete toocollect, vyberte jeho **povolit přenos z <log type>**  zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="914e2-185">On each tab of diagnostics data you want toocollect, select its **Enable Transfer of <log type>** check box.</span></span> <span data-ttu-id="914e2-186">Například pokud chcete toocollect protokoly aplikací, vyberte hello **povolit přenos protokoly aplikací** políčko hello **protokoly aplikací** kartě. Zadejte také všechny ostatní informace, které vyžaduje každý typ dat diagnostiky.</span><span class="sxs-lookup"><span data-stu-id="914e2-186">For example, if you want toocollect application logs, select hello **Enable transfer of Application Logs** check box on hello **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="914e2-187">Části hello **konfigurace zdroje dat diagnostiky** dál v tomto tématu pro informace o konfiguraci na každé kartě.</span><span class="sxs-lookup"><span data-stu-id="914e2-187">See hello section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
9. <span data-ttu-id="914e2-188">Až poprvé povolíte shromažďování všech dat diagnostiky hello chcete, zvolte hello **OK** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="914e2-188">After you’ve enabled collection of all hello diagnostics data you want, choose hello **OK** button.</span></span>
10. <span data-ttu-id="914e2-189">Spusťte projekt Azure cloud service v sadě Visual Studio jako obvykle.</span><span class="sxs-lookup"><span data-stu-id="914e2-189">Run your Azure cloud service project in Visual Studio as usual.</span></span> <span data-ttu-id="914e2-190">Při používání aplikace se uložily informace protokolu hello, které jste povolili toohello účtu úložiště Azure, které zadáte.</span><span class="sxs-lookup"><span data-stu-id="914e2-190">As you use your application, hello log information that you enabled is saved toohello Azure storage account you specified.</span></span>

## <a name="enable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="914e2-191">Povolte diagnostiku ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="914e2-191">Enable diagnostics in Azure virtual machines</span></span>
<span data-ttu-id="914e2-192">V sadě Visual Studio můžete toocollect dat diagnostiky pro virtuální počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="914e2-192">In Visual Studio, you can choose toocollect diagnostics data for Azure virtual machines.</span></span>

### <a name="tooenable-diagnostics-in-azure-virtual-machines"></a><span data-ttu-id="914e2-193">Diagnostika tooenable ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="914e2-193">tooenable diagnostics in Azure virtual machines</span></span>
1. <span data-ttu-id="914e2-194">V **Průzkumníka serveru**, vyberte hello Azure uzel a potom se připojte tooyour předplatné Azure, pokud jste již připojeni.</span><span class="sxs-lookup"><span data-stu-id="914e2-194">In **Server Explorer**, choose hello Azure node and then connect tooyour Azure subscription, if you're not already connected.</span></span>
2. <span data-ttu-id="914e2-195">Rozbalte hello **virtuální počítače** uzlu.</span><span class="sxs-lookup"><span data-stu-id="914e2-195">Expand hello **Virtual Machines** node.</span></span> <span data-ttu-id="914e2-196">Můžete vytvořit nový virtuální počítač nebo vyberte ten, který již existuje.</span><span class="sxs-lookup"><span data-stu-id="914e2-196">You can create a new virtual machine, or select one that's already there.</span></span>
3. <span data-ttu-id="914e2-197">V místní nabídce hello hello virtuálního počítače, které vás zajímají, zvolte **konfigurace**.</span><span class="sxs-lookup"><span data-stu-id="914e2-197">On hello shortcut menu for hello virtual machine that interests you, choose **Configure**.</span></span> <span data-ttu-id="914e2-198">Zobrazí dialogové okno Konfigurace virtuálního počítače hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-198">This shows hello virtual machine configuration dialog box.</span></span>
   
    ![Konfigurace virtuálního počítače Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796663.png)
4. <span data-ttu-id="914e2-200">Pokud ještě není nainstalovaná, přidejte rozšíření diagnostiky agenta monitorování Microsoft hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-200">If it's not already installed, add hello Microsoft Monitoring Agent Diagnostics extension.</span></span> <span data-ttu-id="914e2-201">Toto rozšíření umožňuje shromažďování dat diagnostiky pro virtuální počítač Azure hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-201">This extension lets you gather diagnostics data for hello Azure virtual machine.</span></span> <span data-ttu-id="914e2-202">V seznamu hello nainstalovaná rozšíření zvolte hello vyberte rozšíření k dispozici rozevírací nabídky a pak zvolte Microsoft Monitoring Agent Diagnostics.</span><span class="sxs-lookup"><span data-stu-id="914e2-202">In hello Installed Extensions list, choose hello Select an available extension drop-down menu and then choose Microsoft Monitoring Agent Diagnostics.</span></span>
   
    ![Instalace rozšíření virtuálního počítače Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766024.png)
   
   > [!NOTE]
   > <span data-ttu-id="914e2-204">Další rozšíření diagnostiky jsou k dispozici pro virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="914e2-204">Other diagnostics extensions are available for your virtual machines.</span></span> <span data-ttu-id="914e2-205">Další informace najdete v tématu rozšíření virtuálního počítače Azure a funkce.</span><span class="sxs-lookup"><span data-stu-id="914e2-205">For more information, see Azure VM Extensions and Features.</span></span>
   > 
   > 
5. <span data-ttu-id="914e2-206">Zvolte hello **přidat** tlačítko tooadd hello rozšíření a zobrazte její **konfigurace diagnostiky** dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="914e2-206">Choose hello **Add** button tooadd hello extension and view its **Diagnostics configuration** dialog box.</span></span>
6. <span data-ttu-id="914e2-207">Zvolte hello **konfigurace** tlačítko toospecify účet úložiště a potom zvolte hello **OK** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="914e2-207">Choose hello **Configure** button toospecify a storage account and then choose hello **OK** button.</span></span>
   
    <span data-ttu-id="914e2-208">Každé kartě (s výjimkou **Obecné** a **adresáře protokolu**) představuje zdroj diagnostických dat, který můžete shromáždit.</span><span class="sxs-lookup"><span data-stu-id="914e2-208">Each tab (except for **General** and **Log Directories**) represents a diagnostic data source that you can collect.</span></span>
   
    ![Povolení a konfigurace Azure Diagnostika](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758144.png)
   
    <span data-ttu-id="914e2-210">Karta výchozí Hello, **Obecné**, nabízí hello následující možnosti shromažďování dat diagnostiky: **pouze chyby**, **všechny informace o**, a **vlastní plán** .</span><span class="sxs-lookup"><span data-stu-id="914e2-210">hello default tab, **General**, offers you hello following diagnostics data collection options: **Errors only**, **All information**, and **Custom plan**.</span></span> <span data-ttu-id="914e2-211">Hello výchozí možnost **pouze chyby**, trvá hello nejmenší velikost úložiště, protože nepřenese upozornění nebo trasování zpráv.</span><span class="sxs-lookup"><span data-stu-id="914e2-211">hello default option, **Errors only**, takes hello least amount of storage because it doesn’t transfer warnings or tracing messages.</span></span> <span data-ttu-id="914e2-212">Hello **všechny informace o** možnost přenosy hello většinu informací a je proto hello nejnákladnější možnost z hlediska úložiště.</span><span class="sxs-lookup"><span data-stu-id="914e2-212">hello **All information** option transfers hello most information and is, therefore, hello most expensive option in terms of storage.</span></span>
7. <span data-ttu-id="914e2-213">V tomto příkladu vyberte hello **vlastní plán** možnost, můžete přizpůsobit hello data shromažďují.</span><span class="sxs-lookup"><span data-stu-id="914e2-213">For this example, select hello **Custom plan** option so you can customize hello data collected.</span></span>
8. <span data-ttu-id="914e2-214">Hello **kvóty disku v MB** pole určuje, kolik místa, které mají být tooallocate v účtu úložiště pro data diagnostiky.</span><span class="sxs-lookup"><span data-stu-id="914e2-214">hello **Disk Quota in MB** box specifies how much space you want tooallocate in your storage account for diagnostics data.</span></span> <span data-ttu-id="914e2-215">Pokud chcete, můžete změnit hello výchozí hodnotu.</span><span class="sxs-lookup"><span data-stu-id="914e2-215">You can change hello default value if you want.</span></span>
9. <span data-ttu-id="914e2-216">Na každé kartě diagnostická data chcete toocollect, vyberte jeho **povolit přenos z <log type>**  zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="914e2-216">On each tab of diagnostics data you want toocollect, select its **Enable Transfer of <log type>** check box.</span></span>
   
    <span data-ttu-id="914e2-217">Například pokud chcete toocollect protokoly aplikací, vyberte hello **povolit přenos protokoly aplikací** políčko hello **protokoly aplikací** kartě. Zadejte také všechny ostatní informace, které vyžaduje každý typ dat diagnostiky.</span><span class="sxs-lookup"><span data-stu-id="914e2-217">For example, if you want toocollect application logs, select hello **Enable transfer of Application Logs** check box on hello **Application Logs** tab. Also, specify any other information required by each diagnostics data type.</span></span> <span data-ttu-id="914e2-218">Části hello **konfigurace zdroje dat diagnostiky** dál v tomto tématu pro informace o konfiguraci na každé kartě.</span><span class="sxs-lookup"><span data-stu-id="914e2-218">See hello section **Configure diagnostics data sources** later in this topic for configuration information on each tab.</span></span>
10. <span data-ttu-id="914e2-219">Až poprvé povolíte shromažďování všech dat diagnostiky hello chcete, zvolte hello **OK** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="914e2-219">After you’ve enabled collection of all hello diagnostics data you want, choose hello **OK** button.</span></span>
11. <span data-ttu-id="914e2-220">Uložte projekt hello aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="914e2-220">Save hello updated project.</span></span>
    
     <span data-ttu-id="914e2-221">Se zobrazí zpráva v hello **protokoly aktivit Microsoft Azure** okno, které hello virtuálního počítače se aktualizovala.</span><span class="sxs-lookup"><span data-stu-id="914e2-221">You'll see a message in hello **Microsoft Azure Activity Log** window that hello virtual machine has been updated.</span></span>

## <a name="configure-diagnostics-data-sources"></a><span data-ttu-id="914e2-222">Konfigurace zdroje dat diagnostiky</span><span class="sxs-lookup"><span data-stu-id="914e2-222">Configure diagnostics data sources</span></span>
<span data-ttu-id="914e2-223">Jakmile povolíte shromažďování dat diagnostiky, můžete přesně jaké zdroje dat mají toocollect a jaké informace se shromažďují.</span><span class="sxs-lookup"><span data-stu-id="914e2-223">After you enable diagnostics data collection, you can choose exactly what data sources you want toocollect and what information is collected.</span></span> <span data-ttu-id="914e2-224">Vítejte v následujícím seznamu jsou karet v hello **konfigurace diagnostiky** dialogové okno a znamená, co jednotlivé možnosti konfigurace.</span><span class="sxs-lookup"><span data-stu-id="914e2-224">hello following is a list of tabs in hello **Diagnostics configuration** dialog box and what each configuration option means.</span></span>

### <a name="application-logs"></a><span data-ttu-id="914e2-225">Protokoly aplikací</span><span class="sxs-lookup"><span data-stu-id="914e2-225">Application logs</span></span>
<span data-ttu-id="914e2-226">**Protokoly aplikací** obsahovat diagnostické informace vyprodukované webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="914e2-226">**Application logs** contain diagnostics information produced by a web application.</span></span> <span data-ttu-id="914e2-227">Pokud chcete toocapture protokoly aplikací, vyberte hello **povolit přenos protokoly aplikací** zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="914e2-227">If you want toocapture application logs, select hello **Enable transfer of Application Logs** check box.</span></span> <span data-ttu-id="914e2-228">Můžete zvýšit nebo snížit hello počet minut doby přenosu protokolů aplikace hello účet úložiště tooyour změnou hello **přenosu období (min.)** hodnotu.</span><span class="sxs-lookup"><span data-stu-id="914e2-228">You can increase or decrease hello number of minutes when hello application logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="914e2-229">Můžete také změnit hello množství informací zachycenou v protokolu hello nastavení hodnota úrovně hello protokolu.</span><span class="sxs-lookup"><span data-stu-id="914e2-229">You can also change hello amount of information captured in hello log by setting hello Log level value.</span></span> <span data-ttu-id="914e2-230">Například můžete **podrobné** tooget Další informace, nebo zvolte **kritický** toocapture pouze kritické chyby.</span><span class="sxs-lookup"><span data-stu-id="914e2-230">For example, you can choose **Verbose** tooget more information or choose **Critical** toocapture only critical errors.</span></span> <span data-ttu-id="914e2-231">Pokud máte diagnostiky specifické pro zprostředkovatele, který vysílá protokoly aplikací, můžete je zaznamenat přidáním hello zprostředkovatele GUID toohello **identifikátor GUID** pole.</span><span class="sxs-lookup"><span data-stu-id="914e2-231">If you have a specific diagnostics provider that emits application logs, you can capture them by adding hello provider’s GUID toohello **Provider GUID** box.</span></span>

  ![Protokoly aplikací](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758145.png)

  <span data-ttu-id="914e2-233">V tématu [povolit protokolování diagnostiky pro webové aplikace v Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) Další informace o protokolech aplikací.</span><span class="sxs-lookup"><span data-stu-id="914e2-233">See [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md) for more information about application logs.</span></span>

### <a name="windows-event-logs"></a><span data-ttu-id="914e2-234">Protokoly událostí systému Windows</span><span class="sxs-lookup"><span data-stu-id="914e2-234">Windows event logs</span></span>
<span data-ttu-id="914e2-235">Pokud chcete toocapture protokoly událostí systému Windows, vyberte hello **povolit přenos protokoly událostí systému Windows** zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="914e2-235">If you want toocapture Windows event logs, select hello **Enable transfer of Windows Event Logs** check box.</span></span> <span data-ttu-id="914e2-236">Můžete zvýšit nebo snížit hello počet minut doby přenosu protokolů událostí hello účet úložiště tooyour změnou hello **přenosu období (min.)** hodnotu.</span><span class="sxs-lookup"><span data-stu-id="914e2-236">You can increase or decrease hello number of minutes when hello event logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="914e2-237">Zaškrtněte políčka hello hello typu událostí, které chcete tootrack.</span><span class="sxs-lookup"><span data-stu-id="914e2-237">Select hello check boxes for hello types of events that you want tootrack.</span></span>

  ![Protokoly událostí](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796664.png)

<span data-ttu-id="914e2-239">Pokud používáte Azure SDK 2.6 nebo novější a chcete toospecify vlastní zdroj dat, zadejte ho v hello  **<Data source name>**  textové pole a zvolte hello **přidat** tooit tlačítko Další.</span><span class="sxs-lookup"><span data-stu-id="914e2-239">If you're using Azure SDK 2.6 or later and want toospecify a custom data source, enter it in hello **<Data source name>** text box and then choose hello **Add** button next tooit.</span></span> <span data-ttu-id="914e2-240">zdroj dat Hello je přidaný toohello diagnostics.cfcfg souboru.</span><span class="sxs-lookup"><span data-stu-id="914e2-240">hello data source is added toohello diagnostics.cfcfg file.</span></span>

<span data-ttu-id="914e2-241">Pokud používáte Azure SDK 2.5 a chcete toospecify vlastní zdroj dat, můžete ho přidat toohello `WindowsEventLog` části hello diagnostics.wadcfgx souboru, například hello následující ukázka.</span><span class="sxs-lookup"><span data-stu-id="914e2-241">If you're using Azure SDK 2.5 and want toospecify a custom data source, you can add it toohello `WindowsEventLog` section of hello diagnostics.wadcfgx file, such as in hello following example.</span></span>

```
<WindowsEventLog scheduledTransferPeriod="PT1M">
   <DataSource name="Application!*" />
   <DataSource name="CustomDataSource!*" />
</WindowsEventLog>
```
### <a name="performance-counters"></a><span data-ttu-id="914e2-242">Čítače výkonu</span><span class="sxs-lookup"><span data-stu-id="914e2-242">Performance counters</span></span>
<span data-ttu-id="914e2-243">Informace o čítači výkonu můžete vyhledat problémová místa systému a optimalizovat výkon systému a aplikací.</span><span class="sxs-lookup"><span data-stu-id="914e2-243">Performance counter information can help you locate system bottlenecks and fine-tune system and application performance.</span></span> <span data-ttu-id="914e2-244">V tématu [vytvořit a použít čítače výkonu v aplikaci Azure](https://msdn.microsoft.com/library/azure/hh411542.aspx) Další informace.</span><span class="sxs-lookup"><span data-stu-id="914e2-244">See [Create and Use Performance Counters in an Azure Application](https://msdn.microsoft.com/library/azure/hh411542.aspx) for more information.</span></span> <span data-ttu-id="914e2-245">Pokud chcete čítače výkonu toocapture, vyberte hello **povolit přenos čítače výkonu** zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="914e2-245">If you want toocapture performance counters, select hello **Enable transfer of Performance Counters** check box.</span></span> <span data-ttu-id="914e2-246">Můžete zvýšit nebo snížit hello počet minut doby přenosu protokolů událostí hello účet úložiště tooyour změnou hello **přenosu období (min.)** hodnotu.</span><span class="sxs-lookup"><span data-stu-id="914e2-246">You can increase or decrease hello number of minutes when hello event logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span> <span data-ttu-id="914e2-247">Vyberte hello zaškrtnutí políček pro hello čítače výkonu, které chcete tootrack.</span><span class="sxs-lookup"><span data-stu-id="914e2-247">Select hello check boxes for hello performance counters that you want tootrack.</span></span>

  ![Čítače výkonu](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758147.png)

<span data-ttu-id="914e2-249">tootrack čítače výkonu, který není uveden, zadejte ho pomocí hello navrhované syntaxe a potom zvolte hello **přidat** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="914e2-249">tootrack a performance counter that isn’t listed, enter it by using hello suggested syntax and then choose hello **Add** button.</span></span> <span data-ttu-id="914e2-250">Hello operační systém na virtuálním počítači hello Určuje, které můžete sledovat čítače výkonu. Další informace o syntaxi najdete v tématu [zadání cesty čítače](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span><span class="sxs-lookup"><span data-stu-id="914e2-250">hello operating system on hello virtual machine determines which performance counters you can track. For more information about syntax, see [Specifying a Counter Path](https://msdn.microsoft.com/library/windows/desktop/aa373193.aspx).</span></span>

### <a name="infrastructure-logs"></a><span data-ttu-id="914e2-251">Protokoly infrastruktury</span><span class="sxs-lookup"><span data-stu-id="914e2-251">Infrastructure logs</span></span>
<span data-ttu-id="914e2-252">Pokud chcete toocapture infrastruktury protokoly, které obsahují informace o hello diagnostiky infrastrukturu Azure, hello RemoteAccess modulu a RemoteForwarder modulu hello, vyberte možnost hello **povolit přenos infrastruktury protokoly**zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="914e2-252">If you want toocapture infrastructure logs, which contain information about hello Azure diagnostic infrastructure, hello RemoteAccess module, and hello RemoteForwarder module, select hello **Enable transfer of Infrastructure Logs** check box.</span></span> <span data-ttu-id="914e2-253">Můžete zvýšit nebo snížit hello počet minut doby přenosu protokolů hello tooyour účet úložiště tak, že změníte hodnotu hello přenosu období (min.).</span><span class="sxs-lookup"><span data-stu-id="914e2-253">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello Transfer Period (min) value.</span></span>

  ![Diagnostické protokoly infrastruktury](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC758148.png)

  <span data-ttu-id="914e2-255">V tématu [shromažďovat protokolování dat pomocí Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) Další informace.</span><span class="sxs-lookup"><span data-stu-id="914e2-255">See [Collect Logging Data by Using Azure Diagnostics](https://msdn.microsoft.com/library/azure/gg433048.aspx) for more information.</span></span>

### <a name="log-directories"></a><span data-ttu-id="914e2-256">Protokol adresáře</span><span class="sxs-lookup"><span data-stu-id="914e2-256">Log directories</span></span>
<span data-ttu-id="914e2-257">Pokud chcete toocapture protokolu adresáře, které obsahují data shromážděná z adresáře protokolu pro požadavky na Internetové informační služby (IIS), neúspěšné požadavky nebo složky, které zvolíte, vyberte hello **povolit přenos protokolu adresáře**zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="914e2-257">If you want toocapture log directories, which contain data collected from log directories for Internet Information Services (IIS) requests, failed requests, or folders that you choose, select hello **Enable transfer of Log Directories** check box.</span></span> <span data-ttu-id="914e2-258">Můžete zvýšit nebo snížit hello počet minut doby přenosu protokolů hello účet úložiště tooyour změnou hello **přenosu období (min.)** hodnotu.</span><span class="sxs-lookup"><span data-stu-id="914e2-258">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span>

<span data-ttu-id="914e2-259">Můžete vybrat pole hello hello protokolů chcete toocollect, například **protokoly služby IIS** a **se nezdařilo požadavku** protokoly.</span><span class="sxs-lookup"><span data-stu-id="914e2-259">You can select hello boxes of hello logs you want toocollect, such as **IIS Logs** and **Failed Request** Logs.</span></span> <span data-ttu-id="914e2-260">Výchozí názvy kontejnerů úložiště jsou k dispozici, ale pokud chcete, můžete změnit názvy hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-260">Default storage container names are provided, but you can change hello names if you want.</span></span>

<span data-ttu-id="914e2-261">Navíc můžete zaznamenat protokoly z libovolné složky.</span><span class="sxs-lookup"><span data-stu-id="914e2-261">Also, you can capture logs from any folder.</span></span> <span data-ttu-id="914e2-262">Stačí zadat cestu hello v hello **protokolu z adresáře absolutní** tématu a potom zvolte hello **přidat adresář** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="914e2-262">Just specify hello path in hello **Log from Absolute Directory** section and then choose hello **Add Directory** button.</span></span> <span data-ttu-id="914e2-263">Hello protokoly bude možné zaznamenat toohello zadaný kontejnery.</span><span class="sxs-lookup"><span data-stu-id="914e2-263">hello logs will be captured toohello specified containers.</span></span>

  ![Protokol adresáře](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796665.png)

### <a name="etw-logs"></a><span data-ttu-id="914e2-265">Protokoly trasování událostí pro Windows</span><span class="sxs-lookup"><span data-stu-id="914e2-265">ETW logs</span></span>
<span data-ttu-id="914e2-266">Pokud používáte [trasování událostí pro Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) a chcete toocapture protokoly trasování událostí pro Windows, vyberte hello **povolit přenos protokolů trasování událostí pro Windows** zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="914e2-266">If you use [Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803\(v=vs.85\).aspx) (ETW) and want toocapture ETW logs, select hello **Enable transfer of ETW Logs** check box.</span></span> <span data-ttu-id="914e2-267">Můžete zvýšit nebo snížit hello počet minut doby přenosu protokolů hello účet úložiště tooyour změnou hello **přenosu období (min.)** hodnotu.</span><span class="sxs-lookup"><span data-stu-id="914e2-267">You can increase or decrease hello number of minutes when hello logs are transferred tooyour storage account by changing hello **Transfer Period (min)** value.</span></span>

<span data-ttu-id="914e2-268">zaznamenání Hello události ze zdroje událostí a manifestů událostí, které zadáte.</span><span class="sxs-lookup"><span data-stu-id="914e2-268">hello events are captured from event sources and event manifests that you specify.</span></span> <span data-ttu-id="914e2-269">toospecify zdroje událostí, zadejte název v hello **zdroje událostí** tématu a potom zvolte hello **přidat zdroj události** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="914e2-269">toospecify an event source, enter a name in hello **Event Sources** section and then choose hello **Add Event Source** button.</span></span> <span data-ttu-id="914e2-270">Podobně můžete zadat manifest událostí v hello **událostí manifesty** tématu a potom zvolte hello **přidat Manifest událostí** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="914e2-270">Similarly, you can specify an event manifest in hello **Event Manifests** section and then choose hello **Add Event Manifest** button.</span></span>

  ![Protokoly trasování událostí pro Windows](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766025.png)

  <span data-ttu-id="914e2-272">framework trasování událostí pro Windows Hello je podporované v technologii ASP.NET pomocí třídy v hello [System.Diagnostics.aspx] (obor názvů https://msdn.microsoft.com/library/system.diagnostics (v=vs.110).</span><span class="sxs-lookup"><span data-stu-id="914e2-272">hello ETW framework is supported in ASP.NET through classes in hello [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) namespace.</span></span> <span data-ttu-id="914e2-273">Hello Microsoft.WindowsAzure.Diagnostics názvů, který dědí z a rozšiřuje standard [System.Diagnostics.aspx] (třídy https://msdn.microsoft.com/library/system.diagnostics (v=vs.110), umožňuje použití hello ([System.Diagnostics.aspx] https://msdn.microsoft.com/library/System.Diagnostics (v=vs.110) jako rozhraní protokolování v hello prostředí Azure.</span><span class="sxs-lookup"><span data-stu-id="914e2-273">hello Microsoft.WindowsAzure.Diagnostics namespace, which inherits from and extends standard [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) classes, enables hello use of [System.Diagnostics.aspx](https://msdn.microsoft.com/library/system.diagnostics(v=vs.110) as a logging framework in hello Azure environment.</span></span> <span data-ttu-id="914e2-274">Další informace najdete v tématu [trvat ovládací prvek z protokolování a trasování v Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) a [povolení diagnostiky Azure Cloud Services a virtuálních počítačů](cloud-services/cloud-services-dotnet-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="914e2-274">For more information, see [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md).</span></span>

### <a name="crash-dumps"></a><span data-ttu-id="914e2-275">Výpisy stavu systému</span><span class="sxs-lookup"><span data-stu-id="914e2-275">Crash dumps</span></span>
<span data-ttu-id="914e2-276">Pokud chcete toocapture informace o když dojde k chybě instanci role, vyberte hello **povolit přenos havárií výpisy** zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="914e2-276">If you want toocapture information about when a role instance crashes, select hello **Enable transfer of Crash Dumps** check box.</span></span> <span data-ttu-id="914e2-277">(Protože ASP.NET zpracovává většina výjimky, to je obecně užitečné pouze pro role pracovního procesu.) Můžete zvýšit nebo snížit hello podíl úložiště místo odeberte výpisy stavu systému toohello změnou hello **Directory kvóty (%)** hodnotu.</span><span class="sxs-lookup"><span data-stu-id="914e2-277">(Because ASP.NET handles most exceptions, this is generally useful only for worker roles.) You can increase or decrease hello percentage of storage space devoted toohello crash dumps by changing hello **Directory Quota (%)** value.</span></span> <span data-ttu-id="914e2-278">Můžete změnit hello kontejneru úložiště, kde jsou uloženy výpisy stavu systému hello a můžete určit, zda chcete toocapture **úplné** nebo **malé** výpis.</span><span class="sxs-lookup"><span data-stu-id="914e2-278">You can change hello storage container where hello crash dumps are stored, and you can select whether you want toocapture a **Full** or **Mini** dump.</span></span>

<span data-ttu-id="914e2-279">procesy Hello aktuálně sledované jsou uvedené.</span><span class="sxs-lookup"><span data-stu-id="914e2-279">hello processes currently being tracked are listed.</span></span> <span data-ttu-id="914e2-280">Zaškrtněte políčka hello hello procesy, které chcete toocapture.</span><span class="sxs-lookup"><span data-stu-id="914e2-280">Select hello check boxes for hello processes that you want toocapture.</span></span> <span data-ttu-id="914e2-281">tooadd jiného procesu toohello seznamu, zadejte název procesu hello a zvolte hello **přidat proces** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="914e2-281">tooadd another process toohello list, enter hello process name and then choose hello **Add Process** button.</span></span>

  ![Výpisy stavu systému](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766026.png)

  <span data-ttu-id="914e2-283">V tématu [trvat ovládací prvek z protokolování a trasování v Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) a [Microsoft Azure Diagnostics část 4: vlastní protokolování součásti a Azure Diagnostics 1.3 změny](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) Další informace.</span><span class="sxs-lookup"><span data-stu-id="914e2-283">See [Take Control of Logging and Tracing in Microsoft Azure](https://msdn.microsoft.com/magazine/ff714589.aspx) and [Microsoft Azure Diagnostics Part 4: Custom Logging Components and Azure Diagnostics 1.3 Changes](http://justazure.com/microsoft-azure-diagnostics-part-4-custom-logging-components-azure-diagnostics-1-3-changes/) for more information.</span></span>

## <a name="view-hello-diagnostics-data"></a><span data-ttu-id="914e2-284">Zobrazení dat diagnostiky hello</span><span class="sxs-lookup"><span data-stu-id="914e2-284">View hello diagnostics data</span></span>
<span data-ttu-id="914e2-285">Poté, co jste shromažďovaných dat diagnostiky hello cloudové služby nebo virtuálního počítače, můžete ji zobrazit.</span><span class="sxs-lookup"><span data-stu-id="914e2-285">After you’ve collected hello diagnostics data for a cloud service or a virtual machine, you can view it.</span></span>

### <a name="tooview-cloud-service-diagnostics-data"></a><span data-ttu-id="914e2-286">tooview cloudové služby diagnostická data</span><span class="sxs-lookup"><span data-stu-id="914e2-286">tooview cloud service diagnostics data</span></span>
1. <span data-ttu-id="914e2-287">Cloudové služby jako obvyklé nasadit a potom ho spusťte.</span><span class="sxs-lookup"><span data-stu-id="914e2-287">Deploy your cloud service as usual and then run it.</span></span>
2. <span data-ttu-id="914e2-288">Hello diagnostická data můžete zobrazit sestavu, která generuje Visual Studio nebo tabulek ve vašem účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="914e2-288">You can view hello diagnostics data in either a report that Visual Studio generates or tables in your storage account.</span></span> <span data-ttu-id="914e2-289">Otevřete tooview hello data v sestavě, **Průzkumník cloudu** nebo **Průzkumníka serveru**, otevřete hello místní nabídce uzlu hello hello role, které vás zajímají a potom zvolte **zobrazení diagnostických dat** .</span><span class="sxs-lookup"><span data-stu-id="914e2-289">tooview hello data in a report, open **Cloud Explorer** or **Server Explorer**, open hello shortcut menu of hello node for hello role that interests you, and then choose **View Diagnostic Data**.</span></span>
   
    ![Zobrazení dat diagnostiky](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748912.png)
   
    <span data-ttu-id="914e2-291">Zobrazí se sestavu, která zobrazuje data k dispozici hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-291">A report that shows hello available data appears.</span></span>
   
    ![Microsoft Azure Diagnostics sestavy v sadě Visual Studio](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796666.png)
   
    <span data-ttu-id="914e2-293">Pokud se nezobrazí hello nejnovější data, můžete mít toowait pro období tooelapse hello přenosu.</span><span class="sxs-lookup"><span data-stu-id="914e2-293">If hello most recent data doesn't appear, you might have toowait for hello transfer period tooelapse.</span></span>
   
    <span data-ttu-id="914e2-294">Zvolte hello **aktualizovat** propojení tooimmediately aktualizace hello dat, nebo zvolte intervalu v hello **automatického obnovení** rozevírací seznam pole toohave hello dat automaticky aktualizován.</span><span class="sxs-lookup"><span data-stu-id="914e2-294">Choose hello **Refresh** link tooimmediately update hello data, or choose an interval in hello **Auto-Refresh** dropdown list box toohave hello data updated automatically.</span></span> <span data-ttu-id="914e2-295">tooexport hello Chyba dat, zvolte hello **exportovat tooCSV** tlačítko toocreate soubor hodnot oddělených čárkami, můžete otevřít v tabulce.</span><span class="sxs-lookup"><span data-stu-id="914e2-295">tooexport hello error data, choose hello **Export tooCSV** button toocreate a comma-separated value file you can open in a spreadsheet.</span></span>
   
    <span data-ttu-id="914e2-296">V **Průzkumník cloudu** nebo **Průzkumníka serveru**, otevřete hello účet úložiště, který je spojen s hello nasazení.</span><span class="sxs-lookup"><span data-stu-id="914e2-296">In **Cloud Explorer** or **Server Explorer**, open hello storage account that's associated with hello deployment.</span></span>
3. <span data-ttu-id="914e2-297">Otevřete hello diagnostiky tabulky v prohlížeči hello tabulky a poté zkontrolovat shromážděných dat hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-297">Open hello diagnostics tables in hello table viewer, and then review hello data that you collected.</span></span> <span data-ttu-id="914e2-298">Pro vlastní protokoly a protokoly služby IIS můžete otevřít kontejner objektů blob.</span><span class="sxs-lookup"><span data-stu-id="914e2-298">For IIS logs and custom logs, you can open a blob container.</span></span> <span data-ttu-id="914e2-299">Kontrolou hello následující tabulky můžete najít kontejner hello tabulky nebo objekt blob, který obsahuje hello data, která vás zajímá.</span><span class="sxs-lookup"><span data-stu-id="914e2-299">By reviewing hello following table, you can find hello table or blob container that contains hello data that interests you.</span></span> <span data-ttu-id="914e2-300">Kromě toho toohello data pro tento soubor protokolu, položky tabulky hello obsahovat EventTickCount, DeploymentId, Role a RoleInstance toohelp je určit, jaké virtuální počítač a role generované hello data a kdy.</span><span class="sxs-lookup"><span data-stu-id="914e2-300">In addition toohello data for that log file, hello table entries contain EventTickCount, DeploymentId, Role, and RoleInstance toohelp you identify what virtual machine and role generated hello data and when.</span></span> 
   
   | <span data-ttu-id="914e2-301">Diagnostických dat</span><span class="sxs-lookup"><span data-stu-id="914e2-301">Diagnostic data</span></span> | <span data-ttu-id="914e2-302">Popis</span><span class="sxs-lookup"><span data-stu-id="914e2-302">Description</span></span> | <span data-ttu-id="914e2-303">Umístění</span><span class="sxs-lookup"><span data-stu-id="914e2-303">Location</span></span> |
   | --- | --- | --- |
   | <span data-ttu-id="914e2-304">Protokoly aplikací</span><span class="sxs-lookup"><span data-stu-id="914e2-304">Application Logs</span></span> |<span data-ttu-id="914e2-305">Protokoly, které generuje kód voláním metod hello System.Diagnostics.Trace – třída</span><span class="sxs-lookup"><span data-stu-id="914e2-305">Logs that your code generates by calling methods of hello System.Diagnostics.Trace class.</span></span> |<span data-ttu-id="914e2-306">WADLogsTable</span><span class="sxs-lookup"><span data-stu-id="914e2-306">WADLogsTable</span></span> |
   | <span data-ttu-id="914e2-307">Protokoly událostí</span><span class="sxs-lookup"><span data-stu-id="914e2-307">Event Logs</span></span> |<span data-ttu-id="914e2-308">Tato data jsou z protokolů událostí systému Windows hello hello virtuálními počítači.</span><span class="sxs-lookup"><span data-stu-id="914e2-308">This data is from hello Windows event logs on hello virtual machines.</span></span> <span data-ttu-id="914e2-309">Systém Windows ukládá informace v těchto protokolech, ale aplikace a služby také používat tooreport chyby nebo protokolování informací.</span><span class="sxs-lookup"><span data-stu-id="914e2-309">Windows stores information in these logs, but applications and services also use them tooreport errors or log information.</span></span> |<span data-ttu-id="914e2-310">WADWindowsEventLogsTable</span><span class="sxs-lookup"><span data-stu-id="914e2-310">WADWindowsEventLogsTable</span></span> |
   | <span data-ttu-id="914e2-311">Čítače výkonu</span><span class="sxs-lookup"><span data-stu-id="914e2-311">Performance Counters</span></span> |<span data-ttu-id="914e2-312">Můžete shromáždit data pro všechny čítače výkonu, který je k dispozici na virtuálním počítači hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-312">You can collect data on any performance counter that’s available on hello virtual machine.</span></span> <span data-ttu-id="914e2-313">Hello operačního systému poskytuje čítače výkonu, které zahrnují mnoho statistické údaje, třeba čas procesoru a využití paměti.</span><span class="sxs-lookup"><span data-stu-id="914e2-313">hello operating system provides performance counters, which include many statistics such as memory usage and processor time.</span></span> |<span data-ttu-id="914e2-314">WADPerformanceCountersTable</span><span class="sxs-lookup"><span data-stu-id="914e2-314">WADPerformanceCountersTable</span></span> |
   | <span data-ttu-id="914e2-315">Protokoly infrastruktury</span><span class="sxs-lookup"><span data-stu-id="914e2-315">Infrastructure Logs</span></span> |<span data-ttu-id="914e2-316">Tyto protokoly jsou generovány z infrastruktury hello diagnostiky, sám sebe.</span><span class="sxs-lookup"><span data-stu-id="914e2-316">These logs are generated from hello diagnostics infrastructure itself.</span></span> |<span data-ttu-id="914e2-317">WADDiagnosticInfrastructureLogsTable</span><span class="sxs-lookup"><span data-stu-id="914e2-317">WADDiagnosticInfrastructureLogsTable</span></span> |
   | <span data-ttu-id="914e2-318">Protokoly služby IIS</span><span class="sxs-lookup"><span data-stu-id="914e2-318">IIS Logs</span></span> |<span data-ttu-id="914e2-319">Tyto protokoly záznam webových požadavků.</span><span class="sxs-lookup"><span data-stu-id="914e2-319">These logs record web requests.</span></span> <span data-ttu-id="914e2-320">Cloudové služby získá významný objem provozu, tyto protokoly mohou být velmi náročná, tak, aby měli shromažďovat a uložení dat této pouze v případě potřeby ho.</span><span class="sxs-lookup"><span data-stu-id="914e2-320">If your cloud service gets a significant amount of traffic, these logs can be quite lengthy, so you should collect and store this data only when you need it.</span></span> |<span data-ttu-id="914e2-321">Můžete najít, že se nezdařilo žádost o protokolech v kontejneru objektů blob hello v rámci služby iis failedreqlogs wad v cestě pro tohoto nasazení, role a instance.</span><span class="sxs-lookup"><span data-stu-id="914e2-321">You can find failed-request logs in hello blob container under wad-iis-failedreqlogs under a path for that deployment, role, and instance.</span></span> <span data-ttu-id="914e2-322">Můžete najít v části wad. Služba iis logfiles dokončení protokoly.</span><span class="sxs-lookup"><span data-stu-id="914e2-322">You can find complete logs under wad-iis-logfiles.</span></span> <span data-ttu-id="914e2-323">V tabulce WADDirectories hello jsou vytvořeny položky pro každý soubor.</span><span class="sxs-lookup"><span data-stu-id="914e2-323">Entries for each file are made in hello WADDirectories table.</span></span> |
   | <span data-ttu-id="914e2-324">Výpisy stavu systému</span><span class="sxs-lookup"><span data-stu-id="914e2-324">Crash dumps</span></span> |<span data-ttu-id="914e2-325">Tyto informace obsahuje binární bitové kopie Cloudová služba proces (obvykle role pracovního procesu).</span><span class="sxs-lookup"><span data-stu-id="914e2-325">This information provides binary images of your cloud service’s process (typically a worker role).</span></span> |<span data-ttu-id="914e2-326">kontejner objektů blob wad. deformační výpisy</span><span class="sxs-lookup"><span data-stu-id="914e2-326">wad-crush-dumps blob container</span></span> |
   | <span data-ttu-id="914e2-327">Vlastní protokol soubory</span><span class="sxs-lookup"><span data-stu-id="914e2-327">Custom log files</span></span> |<span data-ttu-id="914e2-328">Protokoluje data, která jste předdefinované.</span><span class="sxs-lookup"><span data-stu-id="914e2-328">Logs of data that you predefined.</span></span> |<span data-ttu-id="914e2-329">Zadávat lze v umístění hello kód vlastní soubory protokolu ve vašem účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="914e2-329">You can specify in code hello location of custom log files in your storage account.</span></span> <span data-ttu-id="914e2-330">Můžete například zadat kontejner objektů blob vlastní.</span><span class="sxs-lookup"><span data-stu-id="914e2-330">For example, you can specify a custom blob container.</span></span> |
4. <span data-ttu-id="914e2-331">Pokud se zkrátí dat jakéhokoli typu, můžete zkusit roste hello vyrovnávací paměti pro tento datový typ nebo zkrácením hello interval mezi přenosy dat z účtu úložiště tooyour hello virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="914e2-331">If data of any type is truncated, you can try increasing hello buffer for that data type or shortening hello interval between transfers of data from hello virtual machine tooyour storage account.</span></span>
5. <span data-ttu-id="914e2-332">(volitelné) Mazání dat z úložiště hello účtu příležitostně tooreduce celkové náklady na úložiště.</span><span class="sxs-lookup"><span data-stu-id="914e2-332">(optional) Purge data from hello storage account occasionally tooreduce overall storage costs.</span></span>
6. <span data-ttu-id="914e2-333">Po provedení úplné nasazení hello diagnostics.cscfg soubor (.wadcfgx pro Azure SDK 2.5) je aktualizovat v Azure a cloudové služby převezme konfigurace diagnostiky tooyour žádné změny.</span><span class="sxs-lookup"><span data-stu-id="914e2-333">When you do a full deployment, hello diagnostics.cscfg file (.wadcfgx for Azure SDK 2.5) is updated in Azure, and your cloud service picks up any changes tooyour diagnostics configuration.</span></span> <span data-ttu-id="914e2-334">Pokud, místo toho aktualizaci stávajícího nasazení, není soubor .cscfg hello aktualizovat v Azure.</span><span class="sxs-lookup"><span data-stu-id="914e2-334">If you, instead, update an existing deployment, hello .cscfg file isn’t updated in Azure.</span></span> <span data-ttu-id="914e2-335">Můžete je stále změnit nastavení diagnostiky, ale postupem hello v další části hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-335">You can still change diagnostics settings, though, by following hello steps in hello next section.</span></span> <span data-ttu-id="914e2-336">Další informace o provádění úplné nasazení a aktualizaci stávajícího nasazení najdete v tématu [Průvodci publikováním aplikace Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="914e2-336">For more information about performing a full deployment and updating an existing deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span>

### <a name="tooview-virtual-machine-diagnostics-data"></a><span data-ttu-id="914e2-337">data diagnostiky tooview virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="914e2-337">tooview virtual machine diagnostics data</span></span>
1. <span data-ttu-id="914e2-338">V místní nabídce hello hello virtuálního počítače, zvolte **zobrazení diagnostická Data**.</span><span class="sxs-lookup"><span data-stu-id="914e2-338">On hello shortcut menu for hello virtual machine, choose **View Diagnostics Data**.</span></span>
   
    ![Zobrazení dat diagnostiky ve virtuálním počítači Azure](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC766027.png)
   
    <span data-ttu-id="914e2-340">Tím se otevře hello **diagnostiky Souhrn** okno.</span><span class="sxs-lookup"><span data-stu-id="914e2-340">This opens hello **Diagnostics summary** window.</span></span>
   
    ![Virtuální počítač Azure diagnostics souhrn](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC796667.png)  
   
    <span data-ttu-id="914e2-342">Pokud se nezobrazí hello nejnovější data, můžete mít toowait pro období tooelapse hello přenosu.</span><span class="sxs-lookup"><span data-stu-id="914e2-342">If hello most recent data doesn't appear, you might have toowait for hello transfer period tooelapse.</span></span>
   
    <span data-ttu-id="914e2-343">Zvolte hello **aktualizovat** propojení tooimmediately aktualizace hello dat, nebo zvolte intervalu v hello **automatického obnovení** rozevírací seznam pole toohave hello dat automaticky aktualizován.</span><span class="sxs-lookup"><span data-stu-id="914e2-343">Choose hello **Refresh** link tooimmediately update hello data, or choose an interval in hello **Auto-Refresh** dropdown list box toohave hello data updated automatically.</span></span> <span data-ttu-id="914e2-344">tooexport hello Chyba dat, zvolte hello **exportovat tooCSV** tlačítko toocreate soubor hodnot oddělených čárkami, můžete otevřít v tabulce.</span><span class="sxs-lookup"><span data-stu-id="914e2-344">tooexport hello error data, choose hello **Export tooCSV** button toocreate a comma-separated value file you can open in a spreadsheet.</span></span>

## <a name="configure-cloud-service-diagnostics-after-deployment"></a><span data-ttu-id="914e2-345">Po nasazení nakonfigurovat diagnostiku cloudové služby</span><span class="sxs-lookup"><span data-stu-id="914e2-345">Configure cloud service diagnostics after deployment</span></span>
<span data-ttu-id="914e2-346">Pokud jste příčin problém s cloudovou službou, že již byla spuštěna, můžete chtít toocollect dat, které jste neurčili před původně nasazené hello role.</span><span class="sxs-lookup"><span data-stu-id="914e2-346">If you're investigating a problem with a cloud service that already running, you might want toocollect data that you didn't specify before you originally deployed hello role.</span></span> <span data-ttu-id="914e2-347">V takovém případě může spuštění toocollect dat pomocí nastavení hello v Průzkumníku serveru.</span><span class="sxs-lookup"><span data-stu-id="914e2-347">In this case, you can start toocollect that data by using hello settings in Server Explorer.</span></span> <span data-ttu-id="914e2-348">Můžete nakonfigurovat diagnostiku pro jednu instanci nebo všechny instance hello v roli, v závislosti na tom, jestli můžete otevřít dialogové okno Konfigurace diagnostiky hello z místní nabídky hello hello instance nebo hello role.</span><span class="sxs-lookup"><span data-stu-id="914e2-348">You can configure diagnostics for either a single instance or all hello instances in a role, depending on whether you open hello Diagnostics Configuration dialog box from hello shortcut menu for hello instance or hello role.</span></span> <span data-ttu-id="914e2-349">Pokud nakonfigurujete hello role uzlu, změny se použijí tooall instance.</span><span class="sxs-lookup"><span data-stu-id="914e2-349">If you configure hello role node, any changes apply tooall instances.</span></span> <span data-ttu-id="914e2-350">Pokud nakonfigurujete hello instance uzlu, změny se použijí jenom toothat instance.</span><span class="sxs-lookup"><span data-stu-id="914e2-350">If you configure hello instance node, any changes apply toothat instance only.</span></span>

### <a name="tooconfigure-diagnostics-for-a-running-cloud-service"></a><span data-ttu-id="914e2-351">tooconfigure diagnostiku pro spuštěné cloudové služby</span><span class="sxs-lookup"><span data-stu-id="914e2-351">tooconfigure diagnostics for a running cloud service</span></span>
1. <span data-ttu-id="914e2-352">V Průzkumníku serveru rozbalte hello **cloudové služby** uzel a poté rozbalte uzly toolocate hello role nebo instance, který má tooinvestigate nebo obojí.</span><span class="sxs-lookup"><span data-stu-id="914e2-352">In Server Explorer, expand hello **Cloud Services** node, and then expand nodes toolocate hello role or instance that you want tooinvestigate or both.</span></span>
   
    ![Konfiguraci diagnostiky](./media/vs-azure-tools-diagnostics-for-cloud-services-and-virtual-machines/IC748913.png)
2. <span data-ttu-id="914e2-354">V nabídce hello zástupce pro uzel instanci nebo uzel role zvolte **nastavení diagnostiky aktualizace**a potom zvolte hello nastavení diagnostiky, které chcete toocollect.</span><span class="sxs-lookup"><span data-stu-id="914e2-354">On hello shortcut menu for an instance node or a role node, choose **Update Diagnostics Settings**, and then choose hello diagnostic settings that you want toocollect.</span></span>
   
    <span data-ttu-id="914e2-355">Informace o nastavení konfigurace hello najdete v tématu **konfigurace zdroje dat diagnostiky** v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="914e2-355">For information about hello configuration settings, see **Configure diagnostics data sources** in this topic.</span></span> <span data-ttu-id="914e2-356">Informace o tom, jak tooview hello diagnostická data najdete v tématu **zobrazit data diagnostiky hello** v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="914e2-356">For information about how tooview hello diagnostics data, see **View hello diagnostics data** in this topic.</span></span>
   
    <span data-ttu-id="914e2-357">Pokud změníte shromažďování dat v **Průzkumníka serveru**, tyto změny zůstávají v platnosti, dokud nebude plně znovu nasadit cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="914e2-357">If you change data collection in **Server Explorer**, these changes remain in effect until you fully redeploy your cloud service.</span></span> <span data-ttu-id="914e2-358">Pokud používáte hello výchozí nastavení publikování, změny hello nejsou přepsána, protože publikování hello výchozí nastavení je tooupdate hello stávajícího nasazení, nikoli proveďte úplné opětovné nasazení.</span><span class="sxs-lookup"><span data-stu-id="914e2-358">If you use hello default publish settings, hello changes are not overwritten, since hello default publish setting is tooupdate hello existing deployment, rather than do a full redeployment.</span></span> <span data-ttu-id="914e2-359">zda hello nastavení toomake vymazat v době nasazení, přejděte toohello **Upřesnit nastavení** kartě v Průvodci publikovat hello a vymazat hello **aktualizaci nasazení** zaškrtávací políčko.</span><span class="sxs-lookup"><span data-stu-id="914e2-359">toomake sure hello settings clear at deployment time, go toohello **Advanced Settings** tab in hello Publish wizard and clear hello **Deployment update** checkbox.</span></span> <span data-ttu-id="914e2-360">Při opětovném s toto zaškrtávací políčko zaškrtnuto, nastavení hello vrátit toothose v souboru hello .wadcfgx (nebo .wadcfg) jako sada prostřednictvím editoru hello vlastnosti pro roli hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-360">When you redeploy with that checkbox cleared, hello settings revert toothose in hello .wadcfgx (or .wadcfg) file as set through hello Properties editor for hello role.</span></span> <span data-ttu-id="914e2-361">Pokud aktualizujete vaše nasazení, Azure udržuje staré nastavení hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-361">If you update your deployment, Azure keeps hello old settings.</span></span>

## <a name="troubleshoot-azure-cloud-service-issues"></a><span data-ttu-id="914e2-362">Řešení problémů služby Azure cloud</span><span class="sxs-lookup"><span data-stu-id="914e2-362">Troubleshoot Azure cloud service issues</span></span>
<span data-ttu-id="914e2-363">Pokud máte problémy s vaše projekty cloudových služeb, jako je například role, kterou vázne "zaneprázdněn" stav, opakovaně recykluje nebo vyvolá o vnitřní chybu serveru, jsou nástroje a techniky, které můžete použít toodiagnose a tyto problémy opravit.</span><span class="sxs-lookup"><span data-stu-id="914e2-363">If you experience problems with your cloud service projects, such as a role that gets stuck in a "busy" status, repeatedly recycles, or throws an internal server error, there are tools and techniques you can use toodiagnose and fix these problems.</span></span> <span data-ttu-id="914e2-364">Konkrétní příklady běžné problémy a řešení, a také přehled hello koncepty a nástrojů používá toodiagnose a opravte tyto chyby, najdete v části [Azure PaaS výpočetní diagnostická Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span><span class="sxs-lookup"><span data-stu-id="914e2-364">For specific examples of common problems and solutions, as well as an overview of hello concepts and tools used toodiagnose and fix such errors, see [Azure PaaS Compute Diagnostics Data](http://blogs.msdn.com/b/kwill/archive/2013/08/09/windows-azure-paas-compute-diagnostics-data.aspx).</span></span>

## <a name="q--a"></a><span data-ttu-id="914e2-365">Dotazy a odpovědi</span><span class="sxs-lookup"><span data-stu-id="914e2-365">Q & A</span></span>
<span data-ttu-id="914e2-366">**Jaká je velikost vyrovnávací paměti hello a jak velké by to být?**</span><span class="sxs-lookup"><span data-stu-id="914e2-366">**What is hello buffer size, and how large should it be?**</span></span>

<span data-ttu-id="914e2-367">Na každou instanci virtuálního počítače kvóty omezit, kolik diagnostických dat může být uložený v hello místního systému souborů.</span><span class="sxs-lookup"><span data-stu-id="914e2-367">On each virtual machine instance, quotas limit how much diagnostic data can be stored on hello local file system.</span></span> <span data-ttu-id="914e2-368">Kromě toho můžete zadat velikost vyrovnávací paměti pro každý typ diagnostických dat, která je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="914e2-368">In addition, you specify a buffer size for each type of diagnostic data that's available.</span></span> <span data-ttu-id="914e2-369">Tato velikost vyrovnávací paměti se chová jako individuální kvótu pro daný typ dat.</span><span class="sxs-lookup"><span data-stu-id="914e2-369">This buffer size acts like an individual quota for that type of data.</span></span> <span data-ttu-id="914e2-370">Kontrolou hello dolní části dialogového hello můžete určit hello celkové kvóty a hello množství paměti, která zůstává.</span><span class="sxs-lookup"><span data-stu-id="914e2-370">By checking hello bottom of hello dialog box, you can determine hello overall quota and hello amount of memory that remains.</span></span> <span data-ttu-id="914e2-371">Pokud zadáte větší vyrovnávací paměti nebo další typy dat, budete postupovat hello celkové kvóty.</span><span class="sxs-lookup"><span data-stu-id="914e2-371">If you specify larger buffers or more types of data, you'll approach hello overall quota.</span></span> <span data-ttu-id="914e2-372">Můžete změnit hello celkové kvóty změnou hello diagnostics.wadcfg/.wadcfgx konfigurační soubor.</span><span class="sxs-lookup"><span data-stu-id="914e2-372">You can change hello overall quota by modifying hello diagnostics.wadcfg/.wadcfgx configuration file.</span></span> <span data-ttu-id="914e2-373">data se ukládají na diagnostiky Hello hello stejný systém souborů jako data aplikace, pokud vaše aplikace používá velké množství místa na disku, by neměl zvýšit hello celkové kvóty diagnostiky.</span><span class="sxs-lookup"><span data-stu-id="914e2-373">hello diagnostics data is stored on hello same filesystem as your application’s data, so if your application uses a lot of disk space, you shouldn’t increase hello overall diagnostics quota.</span></span>

<span data-ttu-id="914e2-374">**Co je hello přenos období a jak dlouho má se?**</span><span class="sxs-lookup"><span data-stu-id="914e2-374">**What is hello transfer period, and how long should it be?**</span></span>

<span data-ttu-id="914e2-375">doba přenosu Hello je hello množství času, který uplyne mezi dat zaznamená.</span><span class="sxs-lookup"><span data-stu-id="914e2-375">hello transfer period is hello amount of time that elapses between data captures.</span></span> <span data-ttu-id="914e2-376">Po každé období přenos dat se přesune ze hello místního systému souborů na virtuální počítač tootables ve vašem účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="914e2-376">After each transfer period, data is moved from hello local filesystem on a virtual machine tootables in your storage account.</span></span> <span data-ttu-id="914e2-377">Pokud hello množství dat, které jsou shromážděny překročí kvótu hello hello konce dobu přenosu, budou zahozeny starší data.</span><span class="sxs-lookup"><span data-stu-id="914e2-377">If hello amount of data that's collected exceeds hello quota before hello end of a transfer period, older data is discarded.</span></span> <span data-ttu-id="914e2-378">Pokud jste ke ztrátě dat, protože data je větší než velikost vyrovnávací paměti hello nebo hello celkové kvóty můžete toodecrease hello přenos období.</span><span class="sxs-lookup"><span data-stu-id="914e2-378">You might want toodecrease hello transfer period if you're losing data because your data exceeds hello buffer size or hello overall quota.</span></span>

<span data-ttu-id="914e2-379">**Jaké časové pásmo jsou hello časová razítka v?**</span><span class="sxs-lookup"><span data-stu-id="914e2-379">**What time zone are hello time stamps in?**</span></span>

<span data-ttu-id="914e2-380">časová razítka Hello jsou v místním časovém pásmu hello hello datového centra, který je hostitelem cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="914e2-380">hello time stamps are in hello local time zone of hello data center that hosts your cloud service.</span></span> <span data-ttu-id="914e2-381">Hello následující tři sloupce časového razítka v tabulkách protokolu hello se používají.</span><span class="sxs-lookup"><span data-stu-id="914e2-381">hello following three timestamp columns in hello log tables are used.</span></span>

* <span data-ttu-id="914e2-382">**PreciseTimeStamp** je časové razítko trasování událostí pro Windows hello hello události.</span><span class="sxs-lookup"><span data-stu-id="914e2-382">**PreciseTimeStamp** is hello ETW timestamp of hello event.</span></span> <span data-ttu-id="914e2-383">To znamená hello čas hello událost je protokolována z klienta hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-383">That is, hello time hello event is logged from hello client.</span></span>
* <span data-ttu-id="914e2-384">**Časové razítko** se PreciseTimeStamp zaokrouhlí směrem dolů toohello nahrávání frekvence hranic.</span><span class="sxs-lookup"><span data-stu-id="914e2-384">**TIMESTAMP** is PreciseTimeStamp rounded down toohello upload frequency boundary.</span></span> <span data-ttu-id="914e2-385">Ano Pokud vaše nahrávání četnost je 5 minut a událostí hello čas 00:17:12, časové razítko bude 00:15:00.</span><span class="sxs-lookup"><span data-stu-id="914e2-385">So, if your upload frequency is 5 minutes and hello event time 00:17:12, TIMESTAMP will be 00:15:00.</span></span>
* <span data-ttu-id="914e2-386">**Časové razítko** je hello časové razítko, na které hello byla vytvořena entita v hello tabulky Azure.</span><span class="sxs-lookup"><span data-stu-id="914e2-386">**Timestamp** is hello timestamp at which hello entity was created in hello Azure table.</span></span>

<span data-ttu-id="914e2-387">**Jak lze spravovat náklady, při shromažďování diagnostických informací?**</span><span class="sxs-lookup"><span data-stu-id="914e2-387">**How do I manage costs when collecting diagnostic information?**</span></span>

<span data-ttu-id="914e2-388">Hello výchozí nastavení (**úrovně protokolování** nastavit příliš**chyba** a **přenos období** nastavit příliš**1 minuta**) jsou navržené toominimize náklady.</span><span class="sxs-lookup"><span data-stu-id="914e2-388">hello default settings (**Log level** set too**Error** and **Transfer period** set too**1 minute**) are designed toominimize cost.</span></span> <span data-ttu-id="914e2-389">Náklady na výpočetní zvýší, pokud shromažďování více diagnostických dat nebo snížit dobu přenosu hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-389">Your compute costs will increase if you collect more diagnostic data or decrease hello transfer period.</span></span> <span data-ttu-id="914e2-390">Nemáte shromažďovat více dat, než je třeba a nezapomeňte toodisable shromažďování dat, pokud ji už nepotřebujete.</span><span class="sxs-lookup"><span data-stu-id="914e2-390">Don’t collect more data than you need, and don’t forget toodisable data collection when you no longer need it.</span></span> <span data-ttu-id="914e2-391">Můžete vždy ho znovu povolit, i v době běhu, jak je uvedeno v předchozí části hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-391">You can always enable it again, even at runtime, as shown in hello previous section.</span></span>

<span data-ttu-id="914e2-392">**Jak můžu shromáždit protokoly se nezdařilo žádost ze služby IIS?**</span><span class="sxs-lookup"><span data-stu-id="914e2-392">**How do I collect failed-request logs from IIS?**</span></span>

<span data-ttu-id="914e2-393">Ve výchozím nastavení služba IIS není shromažďovat protokoly žádosti se nezdařilo.</span><span class="sxs-lookup"><span data-stu-id="914e2-393">By default, IIS doesn’t collect failed-request logs.</span></span> <span data-ttu-id="914e2-394">Můžete nakonfigurovat službu IIS toocollect je při úpravě souboru web.config pro vaši webovou roli hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-394">You can configure IIS toocollect them if you edit hello web.config file for your web role.</span></span>

<span data-ttu-id="914e2-395">**Nezobrazují se informace o trasování z metod RoleEntryPoint jako OnStart. Co je?**</span><span class="sxs-lookup"><span data-stu-id="914e2-395">**I’m not getting trace information from RoleEntryPoint methods like OnStart. What’s wrong?**</span></span>

<span data-ttu-id="914e2-396">Hello metody RoleEntryPoint se nazývají v kontextu hello WAIISHost.exe, ne služba IIS.</span><span class="sxs-lookup"><span data-stu-id="914e2-396">hello methods of RoleEntryPoint are called in hello context of WAIISHost.exe, not IIS.</span></span> <span data-ttu-id="914e2-397">Informace o konfiguraci v souboru web.config, který obvykle umožňuje trasování netýká proto hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-397">Therefore, hello configuration information in web.config that normally enables tracing doesn’t apply.</span></span> <span data-ttu-id="914e2-398">tooresolve tento problém, přidejte projekt .config souboru tooyour webové role a název hello souboru toomatch hello výstup sestavení, které obsahuje kód RoleEntryPoint hello.</span><span class="sxs-lookup"><span data-stu-id="914e2-398">tooresolve this issue, add a .config file tooyour web role project, and name hello file toomatch hello output assembly that contains hello RoleEntryPoint code.</span></span> <span data-ttu-id="914e2-399">V projektu role hello výchozí web bude hello název souboru .config hello WAIISHost.exe.config. Pak přidejte následující řádky toothis soubor hello:</span><span class="sxs-lookup"><span data-stu-id="914e2-399">In hello default web role project, hello name of hello .config file would be WAIISHost.exe.config. Then add hello following lines toothis file:</span></span>

```
<system.diagnostics>
  <trace>
      <listeners>
          <add name “AzureDiagnostics” type=”Microsoft.WindowsAzure.Diagnostics.DiagnosticMonitorTraceListener”>
              <filter type=”” />
          </add>
      </listeners>
  </trace>
</system.diagnostics>
```

<span data-ttu-id="914e2-400">Nyní v hello **vlastnosti** okno, sada hello **zkopírujte tooOutput Directory** vlastnost příliš**vždy Kopírovat**.</span><span class="sxs-lookup"><span data-stu-id="914e2-400">Now, in hello **Properties** window, set hello **Copy tooOutput Directory** property too**Copy always**.</span></span>

## <a name="next-steps"></a><span data-ttu-id="914e2-401">Další kroky</span><span class="sxs-lookup"><span data-stu-id="914e2-401">Next steps</span></span>
<span data-ttu-id="914e2-402">toolearn Další informace o diagnostiku protokolování v Azure, najdete v části [povolení diagnostiky Azure Cloud Services a virtuálních počítačů](cloud-services/cloud-services-dotnet-diagnostics.md) a [povolit protokolování diagnostiky pro webové aplikace v Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="914e2-402">toolearn more about diagnostics logging in Azure, see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](cloud-services/cloud-services-dotnet-diagnostics.md) and [Enable diagnostics logging for web apps in Azure App Service](app-service-web/web-sites-enable-diagnostic-log.md).</span></span>

