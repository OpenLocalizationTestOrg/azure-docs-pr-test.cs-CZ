---
title: "Azure Active Directory B2C: Referenční: přizpůsobení uživatelského rozhraní cesty uživatele pomocí vlastních zásad | Microsoft Docs"
description: "Téma na Azure Active Directory B2C vlastní zásady"
services: active-directory-b2c
documentationcenter: 
author: rojasja
manager: krassk
editor: rojasja
ms.assetid: 
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/25/2017
ms.author: joroja
ms.openlocfilehash: 68f40aa638a687398512278a0b77d1ba392859cf
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="customize-the-ui-of-a-user-journey-with-custom-policies"></a><span data-ttu-id="8937b-103">Přizpůsobení uživatelského rozhraní cesty uživatele pomocí vlastních zásad</span><span class="sxs-lookup"><span data-stu-id="8937b-103">Customize the UI of a user journey with Custom Policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

> [!NOTE]
> <span data-ttu-id="8937b-104">Tento článek slouží k pokročilé popis fungování přizpůsobení uživatelského rozhraní a povolení s B2C vlastních zásad, pomocí rozhraní prostředí Identity</span><span class="sxs-lookup"><span data-stu-id="8937b-104">This article is an advanced description of how UI customization works and how to enable with B2C Custom policies, using the Identity Experience Framework</span></span>


<span data-ttu-id="8937b-105">Integrované uživatelské prostředí je klíč pro řešení business k příjemce.</span><span class="sxs-lookup"><span data-stu-id="8937b-105">A seamless user experience is key for any business-to-consumer solution.</span></span> <span data-ttu-id="8937b-106">Pomocí integrované uživatelské prostředí jsme znamená prostředí, na zařízení nebo prohlížeče, kde cesty uživatele přes naši službu není možné rozlišit od zákaznický servis, který používají.</span><span class="sxs-lookup"><span data-stu-id="8937b-106">By seamless user experience, we mean an experience, whether on device or browser, where a user’s journey through our service cannot be distinguished from that of the customer service they are using.</span></span>

## <a name="understand-the-cors-way-for-ui-customization"></a><span data-ttu-id="8937b-107">Pochopení způsobu CORS pro přizpůsobení uživatelského rozhraní</span><span class="sxs-lookup"><span data-stu-id="8937b-107">Understand the CORS way for UI customization</span></span>

<span data-ttu-id="8937b-108">Azure AD B2C můžete přizpůsobit vzhled a chování činnost koncového uživatele (UX) na různých stránkách, které může potenciálně zpracovat a zobrazit pomocí Azure AD B2C pomocí vlastních zásad.</span><span class="sxs-lookup"><span data-stu-id="8937b-108">Azure AD B2C allows you to customize the look-and-feel of user experience (UX) on the various pages that can be potentially served and displayed by Azure AD B2C via your custom policies.</span></span>

<span data-ttu-id="8937b-109">K tomuto účelu, Azure AD B2C spuštěním kódu v prohlížeči vaše příjemce a používá moderní a standard přístup [sdílení prostředků různých původů (CORS)](http://www.w3.org/TR/cors/) se načíst vlastní obsah z konkrétní adresy URL, kterou zadáte v vlastní zásady tak, aby odkazoval na vaše šablony HTML5 nebo šablon stylů CSS.</span><span class="sxs-lookup"><span data-stu-id="8937b-109">For that purpose, Azure AD B2C runs code in your consumer's browser and uses the modern and standard approach [Cross-Origin Resource Sharing (CORS)](http://www.w3.org/TR/cors/) to load custom content from a specific URL that you specify in a custom policy to point to your HTML5/CSS templates.</span></span> <span data-ttu-id="8937b-110">CORS je mechanismus, který umožňuje omezené prostředky, jako je písem a na webové stránce budou vyžádány z jiné domény mimo doménu, z něhož pochází prostředku.</span><span class="sxs-lookup"><span data-stu-id="8937b-110">CORS is a mechanism that allows restricted resources, like fonts, on a web page to be requested from another domain outside the domain from which the resource originated.</span></span>

<span data-ttu-id="8937b-111">Ve srovnání s původním tradičním způsobem, jakým, kde jsou vlastní šablony stránky řešení, které jste zadali omezené textu a obrázků, tam, kde omezené řízení rozložení a chování byla nabízí vedoucí k více než problémy zajistit uživatelům prostředí, tak CORS podporuje HTML5 a šablon stylů CSS a umožňují:</span><span class="sxs-lookup"><span data-stu-id="8937b-111">Compared to the old traditional way, where template pages are owned by the solution where you provided limited text and images, where limited control of layout and feel was offered leading to more than difficulties to achieve a seamless experience, the CORS way supports HTML5 and CSS and allow you to:</span></span>

- <span data-ttu-id="8937b-112">Hostování daného obsahu a řešení vloží jeho ovládacích prvků pomocí skript na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="8937b-112">Host the content and the solution injects its controls using client side script.</span></span>
- <span data-ttu-id="8937b-113">Máte plnou kontrolu nad každý pixel rozložení a chování.</span><span class="sxs-lookup"><span data-stu-id="8937b-113">Have full control over every pixel of layout and feel.</span></span>

<span data-ttu-id="8937b-114">Můžete zadat libovolný počet obsahu stránek jako tím, že vytvoří soubory HTML5 nebo šablon stylů CSS podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="8937b-114">You can provide as many content pages as you like by crafting HTML5/CSS files as appropriate.</span></span>

> [!NOTE]
> <span data-ttu-id="8937b-115">Z bezpečnostních důvodů je používání jazyka JavaScript aktuálně blokován pro přizpůsobení.</span><span class="sxs-lookup"><span data-stu-id="8937b-115">For security reasons, the use of JavaScript is currently blocked for customization.</span></span> <span data-ttu-id="8937b-116">Chcete-li odblokovat JavaScript, je potřeba použít vlastní název domény pro vašeho tenanta Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="8937b-116">To unblock JavaScript, use of a custom domain name for your Azure AD B2C tenant is needed.</span></span>

<span data-ttu-id="8937b-117">V každé z vašich šablon HTML5 nebo šablon stylů CSS je zadat *ukotvení* element, který odpovídá požadovaným `<div id=”api”>` elementu v kódu HTML nebo jako znázornění dále stránky obsahu.</span><span class="sxs-lookup"><span data-stu-id="8937b-117">In each of your HTML5/CSS templates, you provide an *anchor* element, which corresponds to the required `<div id=”api”>` element in the HTML or the content page as illustrate hereafter.</span></span> <span data-ttu-id="8937b-118">Azure AD B2C vyžaduje, aby měly všechny stránky obsahu této konkrétní div.</span><span class="sxs-lookup"><span data-stu-id="8937b-118">Azure AD B2C requires that all content pages have this specific div.</span></span>

```
<!DOCTYPE html>
<html>
  <head>
    <title>Your page content’s tile!</title>
  </head>
  <body>
    <div id="api"></div>
  </body>
</html>
```

<span data-ttu-id="8937b-119">Azure AD B2C související obsah pro stránku budou vloženy do této div, když je váš zbývající části stránky na ovládací prvek.</span><span class="sxs-lookup"><span data-stu-id="8937b-119">Azure AD B2C-related content for the page will be injected into this div, while the rest of the page is yours to control.</span></span> <span data-ttu-id="8937b-120">Kód jazyka JavaScript Azure AD B2C vrátí součástí obsahu a vloží do tohoto elementu konkrétní div naše HTML.</span><span class="sxs-lookup"><span data-stu-id="8937b-120">The Azure AD B2C’s JavaScript code pulls in your content and injects our HTML into this specific div element.</span></span> <span data-ttu-id="8937b-121">Azure AD B2C vloží následující ovládací prvky podle potřeby: účet výběru ovládacího prvku, přihlášení ovládací prvky, Multi-Factor (aktuálně založené na telefonu) a ovládací prvky kolekce atributů.</span><span class="sxs-lookup"><span data-stu-id="8937b-121">Azure AD B2C injects the following controls as appropriate: account chooser control, login controls, multi-factor (currently phone-based) controls, and attribute collection controls.</span></span> <span data-ttu-id="8937b-122">Azure AD B2C zajišťuje, že všechny ovládacích prvků HTML5 kompatibilní a přístupné, může být všechny ovládací prvky ve plně, a zda nebude vrátit verze ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="8937b-122">Azure AD B2C ensures that all the controls are HTML5 compliant and accessible, all the controls can be fully styled, and that a control version will not regress.</span></span>

<span data-ttu-id="8937b-123">Nakonec se zobrazí sloučené obsah dynamické dokumentu, který má vaše příjemce.</span><span class="sxs-lookup"><span data-stu-id="8937b-123">The merged content is eventually displayed as the dynamic document to your consumer.</span></span>

<span data-ttu-id="8937b-124">Chcete-li zajistit z výše uvedených funguje podle očekávání, postupujte takto:</span><span class="sxs-lookup"><span data-stu-id="8937b-124">To ensure of the above works as expected, you must:</span></span>

- <span data-ttu-id="8937b-125">Zajistěte, aby byl váš obsah HTML5 kompatibilní a dostupné</span><span class="sxs-lookup"><span data-stu-id="8937b-125">Ensure your content is HTML5 compliant and accessible</span></span>
- <span data-ttu-id="8937b-126">Zajistěte, aby že vaše servery obsahu je povolený pro CORS.</span><span class="sxs-lookup"><span data-stu-id="8937b-126">Ensure your content server is enabled for CORS.</span></span>
- <span data-ttu-id="8937b-127">Poskytovat obsah přes protokol HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8937b-127">Serve content over HTTPS.</span></span>
- <span data-ttu-id="8937b-128">Používejte absolutní adresy URL, například https://yourdomain/content pro všechny odkazy a obsah šablon stylů CSS.</span><span class="sxs-lookup"><span data-stu-id="8937b-128">Use absolute URLS such as https://yourdomain/content for all links and CSS content.</span></span>

> [!TIP]
> <span data-ttu-id="8937b-129">Ověřte, zda má lokality, které jsou hostiteli obsahu na povolení CORS a testování požadavků CORS, můžete použít http://test-cors.org/ lokality.</span><span class="sxs-lookup"><span data-stu-id="8937b-129">To verify that the site you are hosting your content on has CORS enabled and test CORS requests, you can use the site http://test-cors.org/.</span></span> <span data-ttu-id="8937b-130">Díky této lokalitě můžete jednoduše buď odeslat požadavek CORS na vzdálený server (abyste zjistili, zda je podporován CORS), nebo odeslat požadavek CORS na testovací server (Chcete-li prozkoumat určité funkce CORS).</span><span class="sxs-lookup"><span data-stu-id="8937b-130">Thanks to this site, you can simply either send the CORS request to a remote server (to test if CORS is supported), or send the CORS request to a test server (to explore certain features of CORS).</span></span>

> [!TIP]
> <span data-ttu-id="8937b-131">Http://enable-cors.org/ lokality představuje také více než užitečné zdroje na CORS.</span><span class="sxs-lookup"><span data-stu-id="8937b-131">The site http://enable-cors.org/ also constitutes a more than useful resources on CORS.</span></span>

<span data-ttu-id="8937b-132">Díky tohoto přístupu na základě CORS koncoví uživatelé pak bude mít konzistentního prostředí mezi vaší aplikace a stránky obsluhuje Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="8937b-132">Thanks to this CORS-based approach, the end users will then have consistent experiences between your application and the pages served by Azure AD B2C.</span></span>

## <a name="create-a-storage-account"></a><span data-ttu-id="8937b-133">vytvořit účet úložiště</span><span class="sxs-lookup"><span data-stu-id="8937b-133">Create a storage account</span></span>

<span data-ttu-id="8937b-134">Předpokladem je musíte vytvořit účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="8937b-134">As a prerequisite, you need to create a storage account.</span></span> <span data-ttu-id="8937b-135">Budete potřebovat předplatné Azure k vytvoření účtu Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="8937b-135">You will need an Azure subscription to create an Azure Blob Storage account.</span></span> <span data-ttu-id="8937b-136">Můžete si zaregistrovat bezplatnou zkušební verzi na [webu Azure](https://azure.microsoft.com/en-us/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="8937b-136">You can sign up a free trial at the [Azure website](https://azure.microsoft.com/en-us/pricing/free-trial/).</span></span>

1. <span data-ttu-id="8937b-137">Spustí relaci prohlížeče a přejděte do [portál Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="8937b-137">Open a browsing session and navigate to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="8937b-138">Přihlaste se pomocí přihlašovacích údajů správce.</span><span class="sxs-lookup"><span data-stu-id="8937b-138">Sign in with your administrative credentials.</span></span>
3. <span data-ttu-id="8937b-139">Klikněte na tlačítko **nový** > **Data + úložiště** > **účet úložiště**.</span><span class="sxs-lookup"><span data-stu-id="8937b-139">Click **New** > **Data + Storage** > **Storage account**.</span></span>  <span data-ttu-id="8937b-140">A **vytvořit účet úložiště** otevře se okno.</span><span class="sxs-lookup"><span data-stu-id="8937b-140">A **Create storage account** blade opens up.</span></span>
4. <span data-ttu-id="8937b-141">V **název**, zadejte název pro účet úložiště, například *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="8937b-141">In **Name**, provide a name for the storage account, for example, *contoso369b2c*.</span></span> <span data-ttu-id="8937b-142">Tato hodnota bude později označována jako *storageAccountName*.</span><span class="sxs-lookup"><span data-stu-id="8937b-142">This value will be later referred as to *storageAccountName*.</span></span>
5. <span data-ttu-id="8937b-143">Vyberte odpovídající možnosti pro cenové úrovně, skupiny prostředků a odběr.</span><span class="sxs-lookup"><span data-stu-id="8937b-143">Pick the appropriate selections for the pricing tier, the resource group and the subscription.</span></span> <span data-ttu-id="8937b-144">Ujistěte se, že máte **připnout na úvodní panel** možnost zaškrtnutí.</span><span class="sxs-lookup"><span data-stu-id="8937b-144">Make sure that you have the **Pin to Startboard** option checked.</span></span> <span data-ttu-id="8937b-145">Klikněte na možnost **Vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="8937b-145">Click **Create**.</span></span>
6. <span data-ttu-id="8937b-146">Přejděte zpět na úvodní panel a klikněte na účet úložiště, který jste právě vytvořili.</span><span class="sxs-lookup"><span data-stu-id="8937b-146">Go back to the Startboard and click the storage account that you just created.</span></span>
7. <span data-ttu-id="8937b-147">V **služby** klikněte na tlačítko **objekty BLOB**.</span><span class="sxs-lookup"><span data-stu-id="8937b-147">In the **Services** section, click **Blobs**.</span></span> <span data-ttu-id="8937b-148">A **okno služby objektů Blob** otevře.</span><span class="sxs-lookup"><span data-stu-id="8937b-148">A **Blob service blade** opens up.</span></span>
8. <span data-ttu-id="8937b-149">Klikněte na tlačítko **+ kontejner**.</span><span class="sxs-lookup"><span data-stu-id="8937b-149">Click **+ Container**.</span></span>
9. <span data-ttu-id="8937b-150">V **název**, zadejte název kontejneru, například *b2c*.</span><span class="sxs-lookup"><span data-stu-id="8937b-150">In **Name**, provide a name for the container, for example, *b2c*.</span></span> <span data-ttu-id="8937b-151">Tato hodnota se později označuje jako *containerName*.</span><span class="sxs-lookup"><span data-stu-id="8937b-151">This value will be later referred to as *containerName*.</span></span>
9. <span data-ttu-id="8937b-152">Vyberte **Blob** jako **přistupovat typu**.</span><span class="sxs-lookup"><span data-stu-id="8937b-152">Select **Blob** as the **Access type**.</span></span> <span data-ttu-id="8937b-153">Klikněte na možnost **Vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="8937b-153">Click **Create**.</span></span>
10. <span data-ttu-id="8937b-154">Kontejner, který jste vytvořili se zobrazí v seznamu na **okno služby objektů Blob**.</span><span class="sxs-lookup"><span data-stu-id="8937b-154">The container that you created will appear in the list on the **Blob service blade**.</span></span>
11. <span data-ttu-id="8937b-155">Zavřít **objekty BLOB** okno.</span><span class="sxs-lookup"><span data-stu-id="8937b-155">Close the **Blobs** blade.</span></span>
12. <span data-ttu-id="8937b-156">Na **okně účtu úložiště**, klikněte **klíč** ikonu.</span><span class="sxs-lookup"><span data-stu-id="8937b-156">On the **storage account blade**, click the **Key** icon.</span></span> <span data-ttu-id="8937b-157">**Okna klíče přístup** otevře.</span><span class="sxs-lookup"><span data-stu-id="8937b-157">An **Access keys blade** opens up.</span></span>  
13. <span data-ttu-id="8937b-158">Poznamenejte si hodnotu **key1**.</span><span class="sxs-lookup"><span data-stu-id="8937b-158">Write down the value of **key1**.</span></span> <span data-ttu-id="8937b-159">Tuto hodnotu budou později označovaná jako *key1*.</span><span class="sxs-lookup"><span data-stu-id="8937b-159">This value will be later referred as *key1*.</span></span>

## <a name="downloading-the-helper-tool"></a><span data-ttu-id="8937b-160">Stažení nástroje pomocné rutiny</span><span class="sxs-lookup"><span data-stu-id="8937b-160">Downloading the helper tool</span></span>

1.  <span data-ttu-id="8937b-161">Stáhněte si nástroj pomocné rutiny z [Githubu](https://github.com/azureadquickstarts/b2c-azureblobstorage-client/archive/master.zip).</span><span class="sxs-lookup"><span data-stu-id="8937b-161">Download the helper tool from [GitHub](https://github.com/azureadquickstarts/b2c-azureblobstorage-client/archive/master.zip).</span></span>
2.  <span data-ttu-id="8937b-162">Uložit *B2C-AzureBlobStorage-klienta master.zip* soubor na místním počítači.</span><span class="sxs-lookup"><span data-stu-id="8937b-162">Save the *B2C-AzureBlobStorage-Client-master.zip* file on your local machine.</span></span>
3.  <span data-ttu-id="8937b-163">Rozbalte obsah souboru B2C-AzureBlobStorage-klienta master.zip na váš místní disk, například v části **sady přizpůsobení uživatelského rozhraní** složky.</span><span class="sxs-lookup"><span data-stu-id="8937b-163">Extract the content of the B2C-AzureBlobStorage-Client-master.zip file on your local disk, for example under the **UI-Customization-Pack** folder.</span></span> <span data-ttu-id="8937b-164">Tím se vytvoří *B2C AzureBlobStorage klienta hlavní* složky pod.</span><span class="sxs-lookup"><span data-stu-id="8937b-164">This will create a *B2C-AzureBlobStorage-Client-master* folder underneath.</span></span>
4.  <span data-ttu-id="8937b-165">Otevřete tuto složku a extrahování obsahu souboru archivu *B2CAzureStorageClient.zip* v něm.</span><span class="sxs-lookup"><span data-stu-id="8937b-165">Open that folder and extract the content of the archive file *B2CAzureStorageClient.zip* within it.</span></span>

## <a name="upload-the-ui-customization-pack-sample-files"></a><span data-ttu-id="8937b-166">Odeslání ukázkových souborů sady přizpůsobení uživatelského rozhraní</span><span class="sxs-lookup"><span data-stu-id="8937b-166">Upload the UI-Customization-Pack sample files</span></span>

1.  <span data-ttu-id="8937b-167">Pomocí Průzkumníka Windows přejděte do složky *B2C AzureBlobStorage klienta hlavní* umístěná *sady přizpůsobení uživatelského rozhraní* složky vytvořené v předchozí části.</span><span class="sxs-lookup"><span data-stu-id="8937b-167">Using Windows Explorer, navigate to the folder *B2C-AzureBlobStorage-Client-master* located under the *UI-Customization-Pack* folder created in the previous section.</span></span>
2.  <span data-ttu-id="8937b-168">Spustit *B2CAzureStorageClient.exe* souboru.</span><span class="sxs-lookup"><span data-stu-id="8937b-168">Run the *B2CAzureStorageClient.exe* file.</span></span> <span data-ttu-id="8937b-169">Tento program bude jednoduše nahrát všechny soubory v adresáři, který určíte na váš účet úložiště a povolení CORS přístup pro tyto soubory.</span><span class="sxs-lookup"><span data-stu-id="8937b-169">This program will simply upload all the files in the directory that you specify to your storage account, and enable CORS access for those files.</span></span>
3.  <span data-ttu-id="8937b-170">Po zobrazení výzvy zadejte:.</span><span class="sxs-lookup"><span data-stu-id="8937b-170">When prompted, specify: a.</span></span>  <span data-ttu-id="8937b-171">Název účtu úložiště *storageAccountName*, například *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="8937b-171">The name of your storage account, *storageAccountName*, for example *contoso369b2c*.</span></span>
    <span data-ttu-id="8937b-172">b.</span><span class="sxs-lookup"><span data-stu-id="8937b-172">b.</span></span>  <span data-ttu-id="8937b-173">Primární přístupový klíč úložiště objektů blob v azure, *key1*, například *contoso369b2c*.</span><span class="sxs-lookup"><span data-stu-id="8937b-173">The primary access key of your azure blob storage, *key1*, for example *contoso369b2c*.</span></span>
    <span data-ttu-id="8937b-174">c.</span><span class="sxs-lookup"><span data-stu-id="8937b-174">c.</span></span>  <span data-ttu-id="8937b-175">Název vašeho kontejneru úložiště objektů blob úložiště *containerName*, například *b2c*.</span><span class="sxs-lookup"><span data-stu-id="8937b-175">The name of your storage blob storage container, *containerName*, for example *b2c*.</span></span>
    <span data-ttu-id="8937b-176">d.</span><span class="sxs-lookup"><span data-stu-id="8937b-176">d.</span></span>  <span data-ttu-id="8937b-177">Cestu *Starter-Pack* ukázkové soubory, například *... \B2CTemplates\wingtiptoys*.</span><span class="sxs-lookup"><span data-stu-id="8937b-177">The path of the *Starter-Pack* sample files, for example *..\B2CTemplates\wingtiptoys*.</span></span>

<span data-ttu-id="8937b-178">Pokud jste postupovali podle kroků výše, soubory jazyka HTML5 a šablon stylů CSS *sady přizpůsobení uživatelského rozhraní* pro fiktivní společnost **Northwind** bude nyní odkazující na váš účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="8937b-178">If you followed the steps above, the HTML5 and CSS files of the *UI-Customization-Pack* for the fictitious company **wingtiptoys** will now be pointing to your storage account.</span></span>  <span data-ttu-id="8937b-179">Můžete ověřit, že obsah se nahrají správně tak, že otevřete okno související kontejneru na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="8937b-179">You can verify that the content has been uploaded correctly by opening the related container blade in the Azure portal.</span></span> <span data-ttu-id="8937b-180">Případně můžete ověřit, obsah se nahrají správně přístupem na stránku v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="8937b-180">You can alternatively verify that the content has been uploaded correctly by accessing the page from a browser.</span></span> <span data-ttu-id="8937b-181">Další informace najdete v tématu [Azure Active Directory B2C: pomocným nástrojem použitá k předvedení stránce uživatelské rozhraní (UI) přizpůsobení funkce](active-directory-b2c-reference-ui-customization-helper-tool.md).</span><span class="sxs-lookup"><span data-stu-id="8937b-181">For more information, see [Azure Active Directory B2C: A helper tool used to demonstrate the page user interface (UI) customization feature](active-directory-b2c-reference-ui-customization-helper-tool.md).</span></span>

## <a name="ensure-the-storage-account-has-cors-enabled"></a><span data-ttu-id="8937b-182">Zajistěte, aby byl účet úložiště povolení CORS</span><span class="sxs-lookup"><span data-stu-id="8937b-182">Ensure the storage account has CORS enabled</span></span>

<span data-ttu-id="8937b-183">CORS (sdílení prostředků různého původu) musí být povolené na váš koncový bod pro Azure AD B2C Premium a načtěte svůj obsah.</span><span class="sxs-lookup"><span data-stu-id="8937b-183">CORS (Cross-Origin Resource Sharing) must be enabled on your endpoint for Azure AD B2C Premium to load your content.</span></span> <span data-ttu-id="8937b-184">Je to proto, že obsah je hostovaná v jiné doméně než domény Premium Azure AD B2C bude obsluhující stránku z.</span><span class="sxs-lookup"><span data-stu-id="8937b-184">This is because your content is hosted on a different domain than the domain Azure AD B2C Premium will be serving the page from.</span></span>

<span data-ttu-id="8937b-185">Ověřte, že úložiště, které jsou hostiteli obsahu na má povolení CORS, pokračujte následující kroky:</span><span class="sxs-lookup"><span data-stu-id="8937b-185">To verify that the storage you are hosting your content on has CORS enabled, proceed with the following steps:</span></span>

1. <span data-ttu-id="8937b-186">Spustí relaci prohlížeče a přejděte na stránku *unified.html* pomocí úplnou adresu URL jeho umístění ve vašem účtu úložiště `https://<storageAccountName>.blob.core.windows.net/<containerName>/unified.html`.</span><span class="sxs-lookup"><span data-stu-id="8937b-186">Open a browsing session and navigate to the page *unified.html* using the full URL of its location in your storage account, `https://<storageAccountName>.blob.core.windows.net/<containerName>/unified.html`.</span></span> <span data-ttu-id="8937b-187">Například https://contoso369b2c.blob.core.windows.net/b2c/unified.html.</span><span class="sxs-lookup"><span data-stu-id="8937b-187">For example, https://contoso369b2c.blob.core.windows.net/b2c/unified.html.</span></span>
2. <span data-ttu-id="8937b-188">Přejděte do http://test-cors.org.</span><span class="sxs-lookup"><span data-stu-id="8937b-188">Navigate to http://test-cors.org.</span></span> <span data-ttu-id="8937b-189">Tento web můžete ověřit, zda stránka, kterou používáte má povolení CORS.</span><span class="sxs-lookup"><span data-stu-id="8937b-189">This site allows you to verify that the page you are using has CORS enabled.</span></span>  
<!--
![test-cors.org](../../media/active-directory-b2c-customize-ui-of-a-user-journey/test-cors.png)
-->

3. <span data-ttu-id="8937b-190">V **vzdálenou adresou URL**, zadejte úplnou adresu URL pro váš obsah unified.html a klikněte na tlačítko **odeslat požadavek**.</span><span class="sxs-lookup"><span data-stu-id="8937b-190">In **Remote URL**, enter the full URL for your unified.html content, and click **Send Request**.</span></span>
4. <span data-ttu-id="8937b-191">Ověřte, že výstup v **výsledky** část obsahuje *XHR stav: 200*.</span><span class="sxs-lookup"><span data-stu-id="8937b-191">Verify that the output in the **Results** section contains *XHR status: 200*.</span></span> <span data-ttu-id="8937b-192">To znamená, že je povolena CORS.</span><span class="sxs-lookup"><span data-stu-id="8937b-192">This indicates that CORS is enabled.</span></span>
<!--
![CORS enabled](../../media/active-directory-b2c-customize-ui-of-a-user-journey/cors-enabled.png)
-->
<span data-ttu-id="8937b-193">Účet úložiště by měl nyní obsahovat kontejner objektů blob s názvem *b2c* naše obrázku, který obsahuje následující Northwind šablony z *Starter-Pack*.</span><span class="sxs-lookup"><span data-stu-id="8937b-193">The storage account should now contain a blob container named *b2c* in our illustration that contains the following wingtiptoys templates from the *Starter-Pack*.</span></span>

<!--
![Correctly configured storage account](../../articles/active-directory-b2c/media/active-directory-b2c-reference-customize-ui-custom/storage-account-final.png)
-->

<span data-ttu-id="8937b-194">Následující tabulka popisuje účel výše uvedených stránkách HTML5.</span><span class="sxs-lookup"><span data-stu-id="8937b-194">The following table describes the purpose of the above HTML5 pages.</span></span>

| <span data-ttu-id="8937b-195">HTML5 šablony</span><span class="sxs-lookup"><span data-stu-id="8937b-195">HTML5 template</span></span> | <span data-ttu-id="8937b-196">Popis</span><span class="sxs-lookup"><span data-stu-id="8937b-196">Description</span></span> |
|----------------|-------------|
| <span data-ttu-id="8937b-197">*phonefactor.HTML*</span><span class="sxs-lookup"><span data-stu-id="8937b-197">*phonefactor.html*</span></span> | <span data-ttu-id="8937b-198">Tato stránka slouží jako šablona pro stránku služby Multi-Factor authentication.</span><span class="sxs-lookup"><span data-stu-id="8937b-198">This page can be used as a template for a multi-factor authentication page.</span></span> |
| <span data-ttu-id="8937b-199">*ResetPassword.HTML*</span><span class="sxs-lookup"><span data-stu-id="8937b-199">*resetpassword.html*</span></span> | <span data-ttu-id="8937b-200">Tato stránka slouží jako šablona pro zapomněli jste heslo?.</span><span class="sxs-lookup"><span data-stu-id="8937b-200">This page can be used as a template for a forgot password page.</span></span> |
| <span data-ttu-id="8937b-201">*selfasserted.HTML*</span><span class="sxs-lookup"><span data-stu-id="8937b-201">*selfasserted.html*</span></span> | <span data-ttu-id="8937b-202">Tato stránka slouží jako šablona pro stránku pro přihlášení sociálních účet, stránku pro přihlášení místní účet nebo na přihlašovací stránku místní účet.</span><span class="sxs-lookup"><span data-stu-id="8937b-202">This page can be used as a template for a social account sign-up page, a local account sign-up page, or a local account sign-in page.</span></span> |
| <span data-ttu-id="8937b-203">*Unified.HTML*</span><span class="sxs-lookup"><span data-stu-id="8937b-203">*unified.html*</span></span> | <span data-ttu-id="8937b-204">Tato stránka slouží jako šablona pro jednotné stránku registrace nebo přihlášení.</span><span class="sxs-lookup"><span data-stu-id="8937b-204">This page can be used as a template for a unified sign-up or sign-in page.</span></span> |
| <span data-ttu-id="8937b-205">*updateprofile.HTML*</span><span class="sxs-lookup"><span data-stu-id="8937b-205">*updateprofile.html*</span></span> | <span data-ttu-id="8937b-206">Tato stránka slouží jako šablona pro stránku aktualizace profilu.</span><span class="sxs-lookup"><span data-stu-id="8937b-206">This page can be used as a template for a profile update page.</span></span> |

## <a name="add-a-link-to-your-html5css-templates-to-your-user-journey"></a><span data-ttu-id="8937b-207">Přidat odkaz na vaše šablony HTML5 nebo šablon stylů CSS pro vaše uživatele cesty</span><span class="sxs-lookup"><span data-stu-id="8937b-207">Add a link to your HTML5/CSS templates to your user journey</span></span>

<span data-ttu-id="8937b-208">Přímou úpravou vlastní zásady můžete vám dobře slouží uživatele přidáte propojení na vaše šablony HTML5 nebo šablon stylů CSS.</span><span class="sxs-lookup"><span data-stu-id="8937b-208">You can add a link to your HTML5/CSS templates to your user journey by editing a custom policy directly.</span></span>

<span data-ttu-id="8937b-209">Vlastní šablony HTML5 nebo šablon stylů CSS pro použití v vám dobře slouží uživatele muset zadat seznam obsahu definice, které lze použít v těchto cesty uživatele.</span><span class="sxs-lookup"><span data-stu-id="8937b-209">The custom HTML5/CSS templates to use in your user journey have to be specified in a list of content definitions that can be used in those user journeys.</span></span> <span data-ttu-id="8937b-210">K tomuto účelu, volitelný  *<ContentDefinitions>*  – element XML musí být deklarován v části  *<BuildingBlocks>*  části souboru XML vlastní zásady.</span><span class="sxs-lookup"><span data-stu-id="8937b-210">For that purpose, an optional *<ContentDefinitions>* XML element must be declared under the *<BuildingBlocks>* section of your custom policy XML file.</span></span>

<span data-ttu-id="8937b-211">Následující tabulka popisuje sadu ID obsahu definice rozpoznáno modul Azure AD B2C identity prostředí a typ stránky, která má vztah k nim.</span><span class="sxs-lookup"><span data-stu-id="8937b-211">The following table describes the set of content definition ids recognized by the Azure AD B2C identity experience engine and the type of pages that relates to them.</span></span>

| <span data-ttu-id="8937b-212">Id obsahu definice</span><span class="sxs-lookup"><span data-stu-id="8937b-212">Content definition id</span></span> | <span data-ttu-id="8937b-213">Popis</span><span class="sxs-lookup"><span data-stu-id="8937b-213">Description</span></span> |
|-----------------------|-------------|
| <span data-ttu-id="8937b-214">*API.Error*</span><span class="sxs-lookup"><span data-stu-id="8937b-214">*api.error*</span></span> | <span data-ttu-id="8937b-215">**Chybové stránky**.</span><span class="sxs-lookup"><span data-stu-id="8937b-215">**Error page**.</span></span> <span data-ttu-id="8937b-216">Tato stránka se zobrazí, když je došlo k výjimce nebo došlo k chybě.</span><span class="sxs-lookup"><span data-stu-id="8937b-216">This page is displayed when an exception or an error is encountered.</span></span> |
| <span data-ttu-id="8937b-217">*API.idpselections*</span><span class="sxs-lookup"><span data-stu-id="8937b-217">*api.idpselections*</span></span> | <span data-ttu-id="8937b-218">**Stránka Výběr zprostředkovatele identity**.</span><span class="sxs-lookup"><span data-stu-id="8937b-218">**Identity provider selection page**.</span></span> <span data-ttu-id="8937b-219">Tato stránka obsahuje seznam zprostředkovatelů identity, které může uživatel vybírat během přihlášení.</span><span class="sxs-lookup"><span data-stu-id="8937b-219">This page contains a list of identity providers that the user can choose from during sign-in.</span></span> <span data-ttu-id="8937b-220">Jedná se buď poskytovatelů identit enterprise, poskytovatelů identit sociálních třeba Facebook a Google +, nebo místní účty (podle e-mailové adresy nebo uživatelské jméno).</span><span class="sxs-lookup"><span data-stu-id="8937b-220">These are either enterprise identity providers, social identity providers such as Facebook and Google+, or local accounts (based on email address or user name).</span></span> |
| <span data-ttu-id="8937b-221">*API.idpselections.Signup*</span><span class="sxs-lookup"><span data-stu-id="8937b-221">*api.idpselections.signup*</span></span> | <span data-ttu-id="8937b-222">**Výběr zprostředkovatele identity pro registraci**.</span><span class="sxs-lookup"><span data-stu-id="8937b-222">**Identity provider selection for sign-up**.</span></span> <span data-ttu-id="8937b-223">Tato stránka obsahuje seznam poskytovatelů identity, které může uživatel vybírat během registrace.</span><span class="sxs-lookup"><span data-stu-id="8937b-223">This page contains a list of identity providers that the user can choose from during sign-up.</span></span> <span data-ttu-id="8937b-224">Jedná se buď poskytovatelů identit enterprise, poskytovatelů identit sociálních třeba Facebook a Google +, nebo místní účty (podle e-mailové adresy nebo uživatelské jméno).</span><span class="sxs-lookup"><span data-stu-id="8937b-224">These are either enterprise identity providers, social identity providers such as Facebook and Google+, or local accounts (based on email address or user name).</span></span> |
| <span data-ttu-id="8937b-225">*API.localaccountpasswordreset*</span><span class="sxs-lookup"><span data-stu-id="8937b-225">*api.localaccountpasswordreset*</span></span> | <span data-ttu-id="8937b-226">**Zapomněli jste heslo**.</span><span class="sxs-lookup"><span data-stu-id="8937b-226">**Forgot password page**.</span></span> <span data-ttu-id="8937b-227">Tato stránka obsahuje formulář, který má uživatel k vyplnění zahájíte jejich resetování hesla.</span><span class="sxs-lookup"><span data-stu-id="8937b-227">This page contains a form that the user has to fill to initiate their password reset.</span></span>  |
| <span data-ttu-id="8937b-228">*API.localaccountsignin*</span><span class="sxs-lookup"><span data-stu-id="8937b-228">*api.localaccountsignin*</span></span> | <span data-ttu-id="8937b-229">**Přihlašovací stránka místní účet**.</span><span class="sxs-lookup"><span data-stu-id="8937b-229">**Local account sign-in page**.</span></span> <span data-ttu-id="8937b-230">Tato stránka obsahuje formulář přihlášení, který má uživatel vyplnit při přihlášení pomocí místního účtu, který je založený na e-mailovou adresu nebo uživatelské jméno.</span><span class="sxs-lookup"><span data-stu-id="8937b-230">This page contains a sign-in form that the user has to fill in when signing in with a local account that is based on an email address or a user name.</span></span> <span data-ttu-id="8937b-231">Formulář může obsahovat vstupní textové pole a pole pro zadání hesla.</span><span class="sxs-lookup"><span data-stu-id="8937b-231">The form can contain a text input box and password entry box.</span></span> |
| <span data-ttu-id="8937b-232">*API.localaccountsignup*</span><span class="sxs-lookup"><span data-stu-id="8937b-232">*api.localaccountsignup*</span></span> | <span data-ttu-id="8937b-233">**Místní účet stránku**.</span><span class="sxs-lookup"><span data-stu-id="8937b-233">**Local account sign-up page**.</span></span> <span data-ttu-id="8937b-234">Tato stránka obsahuje registrační formulář, který má uživatel vyplnit při registraci pro místní účet, který je založený na e-mailovou adresu nebo uživatelské jméno.</span><span class="sxs-lookup"><span data-stu-id="8937b-234">This page contains a sign-up form that the user has to fill in when signing up for a local account that is based on an email address or a user name.</span></span> <span data-ttu-id="8937b-235">Formulář může obsahovat různé vstupní ovládací prvky jako vstupní textové pole, pole pro zadání hesla, přepínač, polí rozevíracího seznamu vyberte jeden a více vyberte zaškrtávací políčka.</span><span class="sxs-lookup"><span data-stu-id="8937b-235">The form can contain different input controls such as text input box, password entry box, radio button, single-select drop-down boxes, and multi-select check boxes.</span></span> |
| <span data-ttu-id="8937b-236">*API.phonefactor*</span><span class="sxs-lookup"><span data-stu-id="8937b-236">*api.phonefactor*</span></span> | <span data-ttu-id="8937b-237">**Stránka služby Multi-Factor authentication**.</span><span class="sxs-lookup"><span data-stu-id="8937b-237">**Multi-factor authentication page**.</span></span> <span data-ttu-id="8937b-238">Na této stránce si uživatelé mohli ověřit jejich telefonních čísel (pomocí textové nebo hlasové) během registrace nebo přihlášení.</span><span class="sxs-lookup"><span data-stu-id="8937b-238">On this page, users can verify their phone numbers (using text or voice) during sign-up or sign-in.</span></span> |
| <span data-ttu-id="8937b-239">*API.selfasserted*</span><span class="sxs-lookup"><span data-stu-id="8937b-239">*api.selfasserted*</span></span> | <span data-ttu-id="8937b-240">**Stránku pro přihlášení sociálních účet**.</span><span class="sxs-lookup"><span data-stu-id="8937b-240">**Social account sign-up page**.</span></span> <span data-ttu-id="8937b-241">Tato stránka obsahuje registrační formulář, který má uživatel vyplnit při registraci pomocí existujícího účtu od poskytovatele identity sociálních třeba Facebook nebo Google +.</span><span class="sxs-lookup"><span data-stu-id="8937b-241">This page contains a sign-up form that the user has to fill in when signing up using an existing account from a social identity provider such as Facebook or Google+.</span></span> <span data-ttu-id="8937b-242">Tato stránka je podobná výše sociálního účet stránku pro přihlášení s výjimkou heslo vstupní pole.</span><span class="sxs-lookup"><span data-stu-id="8937b-242">This page is similar to the above social account sign-up page with the exception of the password entry fields.</span></span> |
| <span data-ttu-id="8937b-243">*API.selfasserted.profileupdate*</span><span class="sxs-lookup"><span data-stu-id="8937b-243">*api.selfasserted.profileupdate*</span></span> | <span data-ttu-id="8937b-244">**Stránka pro aktualizaci profilu**.</span><span class="sxs-lookup"><span data-stu-id="8937b-244">**Profile update page**.</span></span> <span data-ttu-id="8937b-245">Tato stránka obsahuje formulář, který uživatel může použít k aktualizaci svůj profil.</span><span class="sxs-lookup"><span data-stu-id="8937b-245">This page contains a form that the user can use to update their profile.</span></span> <span data-ttu-id="8937b-246">Tato stránka je podobná výše sociálního účet stránku pro přihlášení s výjimkou heslo vstupní pole.</span><span class="sxs-lookup"><span data-stu-id="8937b-246">This page is similar to the above social account sign-up page with the exception of the password entry fields.</span></span> |
| <span data-ttu-id="8937b-247">*API.signuporsignin*</span><span class="sxs-lookup"><span data-stu-id="8937b-247">*api.signuporsignin*</span></span> | <span data-ttu-id="8937b-248">**Jednotná stránku registrace nebo přihlášení**.</span><span class="sxs-lookup"><span data-stu-id="8937b-248">**Unified sign-up or sign-in page**.</span></span>  <span data-ttu-id="8937b-249">Tato stránka zpracovává jak registrace a přihlášení uživatelů, kteří můžou využívat poskytovatelů identit enterprise, poskytovatelů identit sociálních třeba Facebook nebo Google + nebo místní účty.</span><span class="sxs-lookup"><span data-stu-id="8937b-249">This page handles both sign-up & sign-in of users, who can use enterprise identity providers, social identity providers such as Facebook or Google+, or local accounts.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8937b-250">Další kroky</span><span class="sxs-lookup"><span data-stu-id="8937b-250">Next steps</span></span>
[<span data-ttu-id="8937b-251">Referenční dokumentace: Pochopit, jak vlastních zásad práce s rozhraní Identity prostředí v B2C</span><span class="sxs-lookup"><span data-stu-id="8937b-251">Reference: Understand how custom policies work with the Identity Experience Framework in B2C</span></span>](active-directory-b2c-reference-custom-policies-understanding-contents.md)
