---
title: "Služby Azure Active Directory B2C: Vlastní zásady | Microsoft Docs"
description: "Téma na Azure Active Directory B2C vlastní zásady"
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: 1ff398a4-2079-4615-94f1-57de22c0aad6
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/04/2017
ms.author: parakhj
ms.openlocfilehash: bada9cf5f1a86f3dd047536f6fd9359c0231a384
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-custom-policies"></a><span data-ttu-id="c37b2-103">Azure Active Directory B2C: Vlastní zásady</span><span class="sxs-lookup"><span data-stu-id="c37b2-103">Azure Active Directory B2C: Custom policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

## <a name="what-are-custom-policies"></a><span data-ttu-id="c37b2-104">Jaké jsou vlastní zásady?</span><span class="sxs-lookup"><span data-stu-id="c37b2-104">What are custom policies?</span></span>

<span data-ttu-id="c37b2-105">Vlastní zásady jsou konfigurační soubory, které definují chování hello klienta služby Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="c37b2-105">Custom policies are configuration files that define hello behavior of your Azure AD B2C tenant.</span></span> <span data-ttu-id="c37b2-106">Zatímco **integrovaných zásad** předdefinovaných portálu hello Azure AD B2C hello nejčastějších úloh, identity, vlastních zásad může být plně upravit toocomplete vývojáře identity near neomezený počet úloh.</span><span class="sxs-lookup"><span data-stu-id="c37b2-106">Whereas **built-in policies** are predefined in hello Azure AD B2C portal for hello most common identity tasks, custom policies can be fully edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="c37b2-107">Přečtěte si toodetermine Pokud jsou pro vás ideální a váš scénář identity vlastní zásady.</span><span class="sxs-lookup"><span data-stu-id="c37b2-107">Read on toodetermine if custom policies are right for you and your identity scenario.</span></span>

<span data-ttu-id="c37b2-108">**Vlastní zásady pro úpravy nejsou pro všechny uživatele.**</span><span class="sxs-lookup"><span data-stu-id="c37b2-108">**Custom policy editing is not for everyone.**</span></span> <span data-ttu-id="c37b2-109">křivku Hello je náročné, hello spuštění déle, a budoucí změny toocustom zásady bude vyžadovat podobné toomaintain odborných znalostí.</span><span class="sxs-lookup"><span data-stu-id="c37b2-109">hello learning curve is demanding, hello startup time is longer, and future changes toocustom policies will require similar expertise toomaintain.</span></span> <span data-ttu-id="c37b2-110">Předdefinované zásady je třeba pečlivě zvážit nejprve pro váš scénář před použitím vlastní zásady.</span><span class="sxs-lookup"><span data-stu-id="c37b2-110">Built-in policies should be carefully considered first for your scenario before using custom policies.</span></span>

## <a name="comparing-built-in-policies-and-custom-policies"></a><span data-ttu-id="c37b2-111">Porovnání zásad předdefinované a vlastní zásady</span><span class="sxs-lookup"><span data-stu-id="c37b2-111">Comparing built-in policies and custom policies</span></span>

| | <span data-ttu-id="c37b2-112">Předdefinované zásady</span><span class="sxs-lookup"><span data-stu-id="c37b2-112">Built-in policies</span></span> | <span data-ttu-id="c37b2-113">vlastní zásady</span><span class="sxs-lookup"><span data-stu-id="c37b2-113">Custom policies</span></span> |
|-|-------------------|-----------------|
|<span data-ttu-id="c37b2-114">Cíloví uživatelé</span><span class="sxs-lookup"><span data-stu-id="c37b2-114">Target users</span></span> | <span data-ttu-id="c37b2-115">Všechny vývojáři aplikací s nebo bez znalosti identity</span><span class="sxs-lookup"><span data-stu-id="c37b2-115">All app developers with or without identity expertise</span></span> | <span data-ttu-id="c37b2-116">Odborníci na identitu: integrátorem systémů, konzultanty a týmy interní identity.</span><span class="sxs-lookup"><span data-stu-id="c37b2-116">Identity pros: systems integrators, consultants and in-house identity teams.</span></span> <span data-ttu-id="c37b2-117">Jsou tedy se OpenIDConnect toky a pochopit poskytovatelů identit a ověřování na základě deklarace identity</span><span class="sxs-lookup"><span data-stu-id="c37b2-117">They are comfortable with OpenIDConnect flows, and understand identity providers and claims-based authentication</span></span> |
|<span data-ttu-id="c37b2-118">Konfigurace – metoda</span><span class="sxs-lookup"><span data-stu-id="c37b2-118">Configuration method</span></span> | <span data-ttu-id="c37b2-119">Portál Azure s uživatelsky přívětivý uživatelského rozhraní</span><span class="sxs-lookup"><span data-stu-id="c37b2-119">Azure portal with a user-friendly UI</span></span> | <span data-ttu-id="c37b2-120">Přímo úpravy souborů XML a pak odesílání toohello portálu Azure</span><span class="sxs-lookup"><span data-stu-id="c37b2-120">Directly editing XML files and then uploading toohello Azure portal</span></span> |
|<span data-ttu-id="c37b2-121">Přizpůsobení uživatelského rozhraní</span><span class="sxs-lookup"><span data-stu-id="c37b2-121">UI customization</span></span> | <span data-ttu-id="c37b2-122">Úplné přizpůsobení uživatelského rozhraní, včetně podpory jazyka HTML, CSS a jscript (vyžaduje vlastní domény)</span><span class="sxs-lookup"><span data-stu-id="c37b2-122">Full UI customization, including HTML, CSS, and jscript support(requires custom domain)</span></span><br><br><span data-ttu-id="c37b2-123">Podpora více jazyků s vlastní řetězce</span><span class="sxs-lookup"><span data-stu-id="c37b2-123">Multilanguage support with Custom strings</span></span> | <span data-ttu-id="c37b2-124">stejné</span><span class="sxs-lookup"><span data-stu-id="c37b2-124">Same</span></span> |
| <span data-ttu-id="c37b2-125">Vlastní nastavení atributu</span><span class="sxs-lookup"><span data-stu-id="c37b2-125">Attribute customization</span></span> | <span data-ttu-id="c37b2-126">Standardní a vlastní atributy</span><span class="sxs-lookup"><span data-stu-id="c37b2-126">Standard and custom attributes</span></span> | <span data-ttu-id="c37b2-127">stejné</span><span class="sxs-lookup"><span data-stu-id="c37b2-127">Same</span></span> |
|<span data-ttu-id="c37b2-128">Token a relace správy</span><span class="sxs-lookup"><span data-stu-id="c37b2-128">Token and session management</span></span> | <span data-ttu-id="c37b2-129">Vlastní token a více možností relace</span><span class="sxs-lookup"><span data-stu-id="c37b2-129">Custom token and multiple session options</span></span> | <span data-ttu-id="c37b2-130">stejné</span><span class="sxs-lookup"><span data-stu-id="c37b2-130">Same</span></span> |
|<span data-ttu-id="c37b2-131">Zprostředkovatelé identity</span><span class="sxs-lookup"><span data-stu-id="c37b2-131">Identity Providers</span></span>| <span data-ttu-id="c37b2-132">**Dnes**: předdefinované místní, sociálních zprostředkovatele</span><span class="sxs-lookup"><span data-stu-id="c37b2-132">**Today**: predefined local, social provider</span></span><br><br><span data-ttu-id="c37b2-133">**Budoucí**: založených na standardech OIDC SAML, OAuth</span><span class="sxs-lookup"><span data-stu-id="c37b2-133">**Future**: Standards-based OIDC, SAML, OAuth</span></span> | <span data-ttu-id="c37b2-134">**Dnes**: založených na standardech OIDC OAUTH, SAML</span><span class="sxs-lookup"><span data-stu-id="c37b2-134">**Today**: Standards-based OIDC, OAUTH, SAML</span></span><br><br><span data-ttu-id="c37b2-135">**Budoucí**: WsFed</span><span class="sxs-lookup"><span data-stu-id="c37b2-135">**Future**: WsFed</span></span> |
|<span data-ttu-id="c37b2-136">Úlohy identity (příklady)</span><span class="sxs-lookup"><span data-stu-id="c37b2-136">Identity Tasks (examples)</span></span> | <span data-ttu-id="c37b2-137">Registrace nebo přihlášení s mnoha sociálních účty a místní</span><span class="sxs-lookup"><span data-stu-id="c37b2-137">Signup or SignIn with local and many social accounts</span></span><br><br><span data-ttu-id="c37b2-138">Samoobslužné resetování hesla</span><span class="sxs-lookup"><span data-stu-id="c37b2-138">Self-Service Password Reset</span></span><br><br><span data-ttu-id="c37b2-139">Úpravy profilu</span><span class="sxs-lookup"><span data-stu-id="c37b2-139">Profile Edit</span></span><br><br><span data-ttu-id="c37b2-140">Služba Multi-Factor Auth scénáře</span><span class="sxs-lookup"><span data-stu-id="c37b2-140">Multi-Factor Auth scenarios</span></span><br><br><span data-ttu-id="c37b2-141">Přizpůsobení tokeny a relace</span><span class="sxs-lookup"><span data-stu-id="c37b2-141">Customize Tokens and sessions</span></span><br><br><span data-ttu-id="c37b2-142">Tok tokenu přístupu</span><span class="sxs-lookup"><span data-stu-id="c37b2-142">Access Token flows</span></span> | <span data-ttu-id="c37b2-143">Dokončení hello stejné úlohy jako integrovaných zásad pomocí poskytovatelů vlastní identitu nebo používat vlastní obory</span><span class="sxs-lookup"><span data-stu-id="c37b2-143">Complete hello same tasks as built-in policies using custom identity providers or use custom scopes</span></span><br><br><span data-ttu-id="c37b2-144">Zřízení uživatele v jiném systému v době hello registrace</span><span class="sxs-lookup"><span data-stu-id="c37b2-144">Provision user in another system at hello time of registration</span></span><br><br><span data-ttu-id="c37b2-145">Odeslání Uvítacího e-mailu pomocí vlastního zprostředkovatele služby e-mailu</span><span class="sxs-lookup"><span data-stu-id="c37b2-145">Send a welcome email using your own email service provider</span></span><br><br><span data-ttu-id="c37b2-146">Použít úložiště uživatele mimo B2C</span><span class="sxs-lookup"><span data-stu-id="c37b2-146">Use a user store outside B2C</span></span><br><br><span data-ttu-id="c37b2-147">Ověření uživatele informace s důvěryhodné systému prostřednictvím rozhraní API</span><span class="sxs-lookup"><span data-stu-id="c37b2-147">Validate user provided information with a trusted system via API</span></span> |

## <a name="policy-files"></a><span data-ttu-id="c37b2-148">Soubory zásad</span><span class="sxs-lookup"><span data-stu-id="c37b2-148">Policy files</span></span>

<span data-ttu-id="c37b2-149">Vlastní zásady je reprezentován jako jednoho nebo několika souborů ve formátu XML které tooeach jiné v hierarchické řetězu.</span><span class="sxs-lookup"><span data-stu-id="c37b2-149">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="c37b2-150">elementy XML Hello definovat: schéma deklarace identity, deklarace transformace, obsahu definice, profily poskytovatelů a technické deklarace identity a Userjourney kroků Orchestrace, mezi další prvky.</span><span class="sxs-lookup"><span data-stu-id="c37b2-150">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>

<span data-ttu-id="c37b2-151">Doporučujeme hello používá tři typy souborů zásad:</span><span class="sxs-lookup"><span data-stu-id="c37b2-151">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="c37b2-152">**ZÁKLADNÍHO souboru**, který obsahuje většinu hello definic a pro které Azure poskytuje kompletní příklad.</span><span class="sxs-lookup"><span data-stu-id="c37b2-152">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="c37b2-153">Doporučujeme, že abyste vytvořili minimální počet změny toothis souboru toohelp při řešení problémů a dlouhodobé údržby zásad</span><span class="sxs-lookup"><span data-stu-id="c37b2-153">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="c37b2-154">**soubor rozšíření** , obsahuje změny hello jedinečné konfigurace pro vašeho klienta</span><span class="sxs-lookup"><span data-stu-id="c37b2-154">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="c37b2-155">**soubor předávající strany (RP)** tedy hello jeden zaměřené na úloh soubor, který je vyvolat přímo hello aplikace nebo služby (neboli předávající strany).</span><span class="sxs-lookup"><span data-stu-id="c37b2-155">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="c37b2-156">Přečtěte si článek hello v souboru definice zásad Další informace.</span><span class="sxs-lookup"><span data-stu-id="c37b2-156">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="c37b2-157">Každý úkol jedinečný vyžaduje vlastní RP a v závislosti na branding požadavky hello číslo může být "Celkový počet aplikací x celkový počet případů použití".</span><span class="sxs-lookup"><span data-stu-id="c37b2-157">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>


<span data-ttu-id="c37b2-158">Předdefinované zásady v Azure AD B2C, postupujte podle vzoru souboru 3 hello znázorněný výše, ale hello vývojáře jen vidí hello soubor předávající strany (RP), zatímco hello portál provede změny v souboru EXTenstions toohello pozadí hello.</span><span class="sxs-lookup"><span data-stu-id="c37b2-158">Built-in policies in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>

## <a name="core-concepts-you-should-know-when-using-custom-policies"></a><span data-ttu-id="c37b2-159">Základní koncepty, které byste měli vědět při použití vlastních zásad</span><span class="sxs-lookup"><span data-stu-id="c37b2-159">Core concepts you should know when using custom policies</span></span>

### <a name="azure-active-directory-b2c"></a><span data-ttu-id="c37b2-160">Azure Active Directory B2C</span><span class="sxs-lookup"><span data-stu-id="c37b2-160">Azure Active Directory B2C</span></span>

<span data-ttu-id="c37b2-161">Azure zákazníka identit a přístupu (CIAM) služba management.</span><span class="sxs-lookup"><span data-stu-id="c37b2-161">Azure’s customer identity and access management (CIAM) service.</span></span> <span data-ttu-id="c37b2-162">Služba Hello obsahuje:</span><span class="sxs-lookup"><span data-stu-id="c37b2-162">hello service includes:</span></span>

1. <span data-ttu-id="c37b2-163">Adresář uživatele v podobě hello speciální Azure Active Directory přístupné přes Microsoft Graph a který obsahuje data o místní účty a účty federované uživatele</span><span class="sxs-lookup"><span data-stu-id="c37b2-163">A user directory in hello form of a special-purpose Azure Active Directory accessible via Microsoft Graph and which holds user data for both local accounts and federated accounts</span></span> 
2. <span data-ttu-id="c37b2-164">Přístup k toohello **Identity rozhraní Framework** která orchestruje vztah důvěryhodnosti mezi uživateli a entity a předá deklarací identity mezi nimi toocomplete úlohy správy identitě/přístup</span><span class="sxs-lookup"><span data-stu-id="c37b2-164">Access toohello **Identity Experience Framework** which orchestrates trust between users and entities and passes claims between them toocomplete an identity/access management task</span></span> 
3. <span data-ttu-id="c37b2-165">Služby tokenů zabezpečení (STS) vydávání id tokeny, aktualizace tokeny a přístup tokeny (a ekvivalentní kontrolní výrazy SAML) a ověřování je tooprotect prostředky.</span><span class="sxs-lookup"><span data-stu-id="c37b2-165">A security token service (STS) issuing id tokens, refresh tokens, and access tokens (and equivalent SAML assertions) and validating them tooprotect resources.</span></span>

<span data-ttu-id="c37b2-166">Azure AD B2C komunikuje s zprostředkovatelů identity jiných systémů, uživatelů a adresářem hello místního uživatele v pořadí tooachieve úkol identity aplikace (například přihlášení uživatele, registraci nového uživatele, resetovat heslo).</span><span class="sxs-lookup"><span data-stu-id="c37b2-166">Azure AD B2C interacts with identity providers, users, other systems, and with hello local user directory in sequence tooachieve an identity task (e.g. login a user, register a new user, reset a password).</span></span> <span data-ttu-id="c37b2-167">Hello základní platformu, která vytváří více stran vztah důvěryhodnosti a provede tyto kroky je volána hello Identity Framework prostředí a zásady (také nazývané cesty uživatele nebo zásady důvěryhodnosti framework) explicitně definuje hello aktéři, akce hello hello protokoly a hello posloupnost kroků toocomplete.</span><span class="sxs-lookup"><span data-stu-id="c37b2-167">hello underlying platform which establishes multi-party trust and executes these steps is called hello Identity Experience Framework and a policy (also called an user journey or a Trust framework policy) explicitly defines hello actors, hello actions, hello protocols, and hello sequence of steps toocomplete.</span></span>

### <a name="identity-experience-framework"></a><span data-ttu-id="c37b2-168">Architektura prostředí identit</span><span class="sxs-lookup"><span data-stu-id="c37b2-168">Identity Experience Framework</span></span>

<span data-ttu-id="c37b2-169">Plně konfigurovatelné řízená zásadami, cloudové platformy Azure, které orchestrují vztah důvěryhodnosti mezi entity (široce zprostředkovatelů deklarací) v standardní protokol formáty například OpenIDConnect, OAuth, SAML, WSFed a několik nestandardní ty (například rozhraní REST API založené na výměnu deklarací na systému).</span><span class="sxs-lookup"><span data-stu-id="c37b2-169">A fully configurable, policy-driven, cloud-based Azure platform that orchestrates trust between entities (broadly Claims Providers) in standard protocol formats such as OpenIDConnect, OAuth, SAML, WSFed, and a few non-standard ones (e.g. REST API-based system-to-system claims exchanges).</span></span> <span data-ttu-id="c37b2-170">Vytvoří uživatelsky přívětivý Hello I2E, whitelabelled vyskytne, který podporuje HTML, CSS a jscript.</span><span class="sxs-lookup"><span data-stu-id="c37b2-170">hello I2E creates user-friendly, whitelabelled experiences that support HTML, CSS, and jscript.</span></span>  <span data-ttu-id="c37b2-171">V současné době hello Identity Framework prostředí je k dispozici pouze v kontextu hello hello služby Azure AD B2C a prioritu pro tooCIAM související úlohy.</span><span class="sxs-lookup"><span data-stu-id="c37b2-171">Today, hello Identity Experience Framework is available only in hello context of hello Azure AD B2C service and prioritized for tasks related tooCIAM.</span></span>

### <a name="built-in-policies"></a><span data-ttu-id="c37b2-172">Předdefinované zásady</span><span class="sxs-lookup"><span data-stu-id="c37b2-172">Built-in policies</span></span>

<span data-ttu-id="c37b2-173">Předdefinované konfigurační soubory, že přímý hello chování Azure AD B2C tooperform hello nejčastěji používaná identity úlohy (tj. uživatel registrace, přihlášení, resetování hesla) a interakci s důvěryhodná strana, jehož relace je také předdefinovaných (Azure AD B2C například Facebook zprostředkovatele identity, LinkedIn, Account Microsoft, Google účty).</span><span class="sxs-lookup"><span data-stu-id="c37b2-173">Predefined configuration files that direct hello behavior of Azure AD B2C tooperform hello most commonly used identity tasks (i.e. user registration, signin, password reset) and interact with trusted parties whose relationship is also predefined in Azure AD B2C (e.g. Facebook identity provider, LinkedIn, Microsoft Account, Google accounts).</span></span>  <span data-ttu-id="c37b2-174">V budoucích hello může taky poskytnout integrovaných zásad pro přizpůsobení zprostředkovatelů identity, které jsou obvykle v podnikové sféře hello například Azure Active Directory Premium, Active Directory nebo ADFS Salesforce ID zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="c37b2-174">In hello future, built-in policies may also provide for customization of identity providers which are typically in hello enterprise realm such as Azure Active Directory Premium, Active Directory/ADFS, Salesforce ID Provider etc.</span></span>


### <a name="custom-policies"></a><span data-ttu-id="c37b2-175">vlastní zásady</span><span class="sxs-lookup"><span data-stu-id="c37b2-175">Custom policies</span></span>

<span data-ttu-id="c37b2-176">Konfigurační soubory, které definují chování hello Framework prostředí Identity ve vašem klientovi Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="c37b2-176">Configuration files that define hello behavior of Identity Experience Framework in your Azure AD B2C tenant.</span></span> <span data-ttu-id="c37b2-177">Vlastní zásady přístupný jako jednoho nebo několika souborů XML (viz definice soubory zásad), které jsou spouštěny hello Identity rozhraní Framework při vyvolání předávající strana (například aplikace).</span><span class="sxs-lookup"><span data-stu-id="c37b2-177">A custom policy is accessible as one or several XML files (see Policy Files definitions) which are executed by hello Identity Experience Framework when invoked by a relying party (e.g. an application).</span></span> <span data-ttu-id="c37b2-178">Vlastní zásady je možné přímo upravit toocomplete vývojáře identity near neomezený počet úloh.</span><span class="sxs-lookup"><span data-stu-id="c37b2-178">Custom policies can be directly edited by an identity developer toocomplete a near unlimited number of tasks.</span></span> <span data-ttu-id="c37b2-179">Vývojáři musí definovat vlastní zásady Konfigurace hello důvěryhodné vztahy v koncové body metadat tooinclude pečlivě podrobností, přesný deklarací exchange definice a konfigurace tajné klíče, klíče a certifikáty podle potřeby jednotlivých poskytovatele identit.</span><span class="sxs-lookup"><span data-stu-id="c37b2-179">Developers configuring custom policies must define hello trusted relationships in careful detail tooinclude metadata endpoints, exact claims exchange definitions, and configure secrets, keys and certificates as needed by each identity provider.</span></span>

## <a name="policy-file-definitions-for-identity-experience-framework-trustframeworks"></a><span data-ttu-id="c37b2-180">Soubor definice zásady pro Trustframeworks Framework prostředí Identity</span><span class="sxs-lookup"><span data-stu-id="c37b2-180">Policy File Definitions for Identity Experience Framework Trustframeworks</span></span>

### <a name="policy-files"></a><span data-ttu-id="c37b2-181">Soubory zásad</span><span class="sxs-lookup"><span data-stu-id="c37b2-181">Policy Files</span></span>

<span data-ttu-id="c37b2-182">Vlastní zásady je reprezentován jako jednoho nebo několika souborů ve formátu XML které tooeach jiné v hierarchické řetězu.</span><span class="sxs-lookup"><span data-stu-id="c37b2-182">A custom policy is represented as one or several XML-formatted files which refer tooeach other in a hierarchical chain.</span></span> <span data-ttu-id="c37b2-183">elementy XML Hello definovat: schéma deklarace identity, deklarace transformace, obsahu definice, profily poskytovatelů a technické deklarace identity a Userjourney kroků Orchestrace, mezi další prvky.</span><span class="sxs-lookup"><span data-stu-id="c37b2-183">hello XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>  <span data-ttu-id="c37b2-184">Doporučujeme hello používá tři typy souborů zásad:</span><span class="sxs-lookup"><span data-stu-id="c37b2-184">We recommend hello use of three types of policy files:</span></span>

- <span data-ttu-id="c37b2-185">**ZÁKLADNÍHO souboru**, který obsahuje většinu hello definic a pro které Azure poskytuje kompletní příklad.</span><span class="sxs-lookup"><span data-stu-id="c37b2-185">**A BASE file**, which contains most of hello definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="c37b2-186">Doporučujeme, že abyste vytvořili minimální počet změny toothis souboru toohelp při řešení problémů a dlouhodobé údržby zásad</span><span class="sxs-lookup"><span data-stu-id="c37b2-186">We recommend you make a minimum number of changes toothis file toohelp with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="c37b2-187">**soubor rozšíření** , obsahuje změny hello jedinečné konfigurace pro vašeho klienta</span><span class="sxs-lookup"><span data-stu-id="c37b2-187">**an EXTensions file** that holds hello unique configuration changes for your tenant</span></span>
- <span data-ttu-id="c37b2-188">**soubor předávající strany (RP)** tedy hello jeden zaměřené na úloh soubor, který je vyvolat přímo hello aplikace nebo služby (neboli předávající strany).</span><span class="sxs-lookup"><span data-stu-id="c37b2-188">**a Relying Party (RP) file** which is hello single task-focused file that is invoked directly by hello application or service (aka Relying Party).</span></span>  <span data-ttu-id="c37b2-189">Přečtěte si článek hello v souboru definice zásad Další informace.</span><span class="sxs-lookup"><span data-stu-id="c37b2-189">Read hello article on Policy file definitions for more information.</span></span>  <span data-ttu-id="c37b2-190">Každý úkol jedinečný vyžaduje vlastní RP a v závislosti na branding požadavky hello číslo může být "Celkový počet aplikací x celkový počet případů použití".</span><span class="sxs-lookup"><span data-stu-id="c37b2-190">Each unique task requires its own RP and depending on branding requirements hello number might be "total of applications x total number of use cases".</span></span>

![Typy souborů zásad](media/active-directory-b2c-overview-custom/active-directory-b2c-overview-custom-policy-files.png)

| <span data-ttu-id="c37b2-192">Typ zásad souboru</span><span class="sxs-lookup"><span data-stu-id="c37b2-192">Type of policy file</span></span> | <span data-ttu-id="c37b2-193">Příklady název souboru</span><span class="sxs-lookup"><span data-stu-id="c37b2-193">Examples file name</span></span> | <span data-ttu-id="c37b2-194">Doporučené použití</span><span class="sxs-lookup"><span data-stu-id="c37b2-194">Recommended use</span></span> | <span data-ttu-id="c37b2-195">Dědí z</span><span class="sxs-lookup"><span data-stu-id="c37b2-195">Inherits from</span></span> |
|---------------------|--------------------|-----------------|---------------|
| <span data-ttu-id="c37b2-196">ZÁKLADNÍ</span><span class="sxs-lookup"><span data-stu-id="c37b2-196">BASE</span></span> |<span data-ttu-id="c37b2-197">TrustFrameworkBase.xml</span><span class="sxs-lookup"><span data-stu-id="c37b2-197">TrustFrameworkBase.xml</span></span><br><br><span data-ttu-id="c37b2-198">Mytenant.onmicrosoft.com. B2C 1A_BASE1.xml</span><span class="sxs-lookup"><span data-stu-id="c37b2-198">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span></span> | <span data-ttu-id="c37b2-199">Zahrnuje hello základní deklarace identity schématu, transformace deklarací, zprostředkovatelů deklarací identit a cesty uživatele konfigurovat tak, že Microsoft</span><span class="sxs-lookup"><span data-stu-id="c37b2-199">Includes hello core claims schema, claims transformations, claims providers, and user journeys configured by Microsoft</span></span><br><br><span data-ttu-id="c37b2-200">Zajistěte minimální změny toothis soubor</span><span class="sxs-lookup"><span data-stu-id="c37b2-200">Make minimal changes toothis file</span></span> | <span data-ttu-id="c37b2-201">Žádný</span><span class="sxs-lookup"><span data-stu-id="c37b2-201">None</span></span> |
| <span data-ttu-id="c37b2-202">Rozšíření (EXT)</span><span class="sxs-lookup"><span data-stu-id="c37b2-202">Extension (EXT)</span></span> | <span data-ttu-id="c37b2-203">TrustFrameworkExtensions.xml</span><span class="sxs-lookup"><span data-stu-id="c37b2-203">TrustFrameworkExtensions.xml</span></span><br><br><span data-ttu-id="c37b2-204">Mytenant.onmicrosoft.com. B2C 1A_EXT.xml</span><span class="sxs-lookup"><span data-stu-id="c37b2-204">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span></span> | <span data-ttu-id="c37b2-205">Vaše změny toohello základního souboru zde konsolidovat</span><span class="sxs-lookup"><span data-stu-id="c37b2-205">Consolidate your changes toohello BASE file here</span></span><br><br><span data-ttu-id="c37b2-206">Zprostředkovatelé upravené deklarací</span><span class="sxs-lookup"><span data-stu-id="c37b2-206">Modified claims providers</span></span><br><br><span data-ttu-id="c37b2-207">Cesty upravené uživatele</span><span class="sxs-lookup"><span data-stu-id="c37b2-207">Modified user journeys</span></span><br><br><span data-ttu-id="c37b2-208">Vlastní definice vlastní schéma</span><span class="sxs-lookup"><span data-stu-id="c37b2-208">Your own custom schema definitions</span></span> | <span data-ttu-id="c37b2-209">ZÁKLADNÍHO souboru</span><span class="sxs-lookup"><span data-stu-id="c37b2-209">BASE file</span></span> |
| <span data-ttu-id="c37b2-210">Předávající stranu</span><span class="sxs-lookup"><span data-stu-id="c37b2-210">Relying Party (RP)</span></span> | <span data-ttu-id="c37b2-211">B2C_1A_sign_up_sign_in.XML</span><span class="sxs-lookup"><span data-stu-id="c37b2-211">B2C_1A_sign_up_sign_in.xml</span></span>| <span data-ttu-id="c37b2-212">Token tvar a relace nastavení změnit tady</span><span class="sxs-lookup"><span data-stu-id="c37b2-212">Change token shape and session settings here</span></span>| <span data-ttu-id="c37b2-213">Soubor Extensions(ext)</span><span class="sxs-lookup"><span data-stu-id="c37b2-213">Extensions(EXT) file</span></span> |

### <a name="inheritance-model"></a><span data-ttu-id="c37b2-214">Model dědičnosti</span><span class="sxs-lookup"><span data-stu-id="c37b2-214">Inheritance model</span></span>

<span data-ttu-id="c37b2-215">Pokud aplikace zavolá soubor zásad RP hello, hello Identity Framework prostředí v B2C přidáte všechny elementy hello ze základní a pak z rozšíření a nakonec z hello RP zásad souboru tooassemble hello aktuální zásady platit.</span><span class="sxs-lookup"><span data-stu-id="c37b2-215">When an application calls hello RP Policy file, hello Identity Experience Framework in B2C will add all hello elements from BASE, then from EXTENSIONS, and lastly from hello RP policy file tooassemble hello current policy in effect.</span></span>  <span data-ttu-id="c37b2-216">Elementy hello stejný typ a název souboru RP hello potlačí hello rozšíření a přepsání rozšíření základní.</span><span class="sxs-lookup"><span data-stu-id="c37b2-216">Elements of hello same type and name in hello RP file will override those in hello EXTENSIONS, and EXTENSIONS overrides BASE.</span></span>

<span data-ttu-id="c37b2-217">**Předdefinované zásady** v Azure AD B2C, postupujte podle vzoru souboru 3 hello znázorněný výše, ale hello vývojáře jen vidí hello soubor předávající strany (RP), zatímco hello portál provede změny v souboru EXTenstions toohello pozadí hello.</span><span class="sxs-lookup"><span data-stu-id="c37b2-217">**Built-in policies** in Azure AD B2C follow hello 3-file pattern depicted above, but hello developer only sees hello Relying Party (RP) file, while hello portal makes changes in hello background toohello EXTenstions file.</span></span>  <span data-ttu-id="c37b2-218">Všechny Azure AD B2C sdílí základní zásady souboru, který je ve správě hello hello Azure B2C týmu a se často aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="c37b2-218">All of Azure AD B2C shares a BASE policy file that is under hello control of hello Azure B2C team and is updated frequently.</span></span>
