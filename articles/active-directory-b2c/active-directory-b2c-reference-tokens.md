---
title: 'Azure Active Directory B2C: Odkaz tokenu | Microsoft Docs'
description: "typy Hello tokeny vydané v Azure Active Directory B2C"
services: active-directory-b2c
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 6df79878-65cb-4dfc-98bb-2b328055bc2e
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 3/17/2017
ms.author: dastrock
ms.openlocfilehash: 776bc88cc0308875ac6e576f19ac9edf50319d08
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-token-reference"></a><span data-ttu-id="14867-103">Azure AD B2C: Odkaz tokenu</span><span class="sxs-lookup"><span data-stu-id="14867-103">Azure AD B2C: Token reference</span></span>
<span data-ttu-id="14867-104">Azure Active Directory B2C (Azure AD B2C) vysílá několik typů tokeny zabezpečení, jako zpracovává každý [tok ověřování](active-directory-b2c-apps.md).</span><span class="sxs-lookup"><span data-stu-id="14867-104">Azure Active Directory B2C (Azure AD B2C) emits several types of security tokens as it processes each [authentication flow](active-directory-b2c-apps.md).</span></span> <span data-ttu-id="14867-105">Tento dokument popisuje hello formátu zabezpečení vlastnosti a obsah každého typu token.</span><span class="sxs-lookup"><span data-stu-id="14867-105">This document describes hello format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="14867-106">Typy tokenů</span><span class="sxs-lookup"><span data-stu-id="14867-106">Types of tokens</span></span>
<span data-ttu-id="14867-107">Azure AD B2C podporuje hello [protokol autorizace OAuth 2.0](active-directory-b2c-reference-protocols.md), které využívá oba přístup tokeny a obnovovacích tokenů.</span><span class="sxs-lookup"><span data-stu-id="14867-107">Azure AD B2C supports hello [OAuth 2.0 authorization protocol](active-directory-b2c-reference-protocols.md), which makes use of both access tokens and refresh tokens.</span></span> <span data-ttu-id="14867-108">Také podporuje ověřování a přihlásit se přes [OpenID Connect](active-directory-b2c-reference-protocols.md), který představuje třetí typ tokenu: hello ID token.</span><span class="sxs-lookup"><span data-stu-id="14867-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-b2c-reference-protocols.md), which introduces a third type of token: hello ID token.</span></span> <span data-ttu-id="14867-109">Všechny tyto tokeny je reprezentován jako token nosiče.</span><span class="sxs-lookup"><span data-stu-id="14867-109">Each of these tokens is represented as a bearer token.</span></span>

<span data-ttu-id="14867-110">Token lightweight zabezpečení, že uděluje hello "nosiče" přístup tooa chráněný prostředek, je token nosiče.</span><span class="sxs-lookup"><span data-stu-id="14867-110">A bearer token is a lightweight security token that grants hello "bearer" access tooa protected resource.</span></span> <span data-ttu-id="14867-111">nosiče Hello je jakékoli strany, který může být hello token.</span><span class="sxs-lookup"><span data-stu-id="14867-111">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="14867-112">Azure AD musí je nejdřív ověřit a stranou předtím, než mohl přijímat token nosiče.</span><span class="sxs-lookup"><span data-stu-id="14867-112">Azure AD must first authenticate a party before it can receive a bearer token.</span></span> <span data-ttu-id="14867-113">Ale pokud hello požadované kroky nezavedou toosecure hello token v přenosu a úložiště, můžete zachytit a použít nezamýšleným strana.</span><span class="sxs-lookup"><span data-stu-id="14867-113">But if hello required steps are not taken toosecure hello token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="14867-114">Některé tokeny zabezpečení mají integrované mechanismus, který brání neoprávněným stranám jejich používání, ale nosné tokeny nemají tento mechanismus.</span><span class="sxs-lookup"><span data-stu-id="14867-114">Some security tokens have a built-in mechanism for preventing unauthorized parties from using them, but bearer tokens do not have this mechanism.</span></span> <span data-ttu-id="14867-115">Musí být přenosu v zabezpečený kanál, jako je například transport layer security (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="14867-115">They must be transported in a secure channel, such as transport layer security (HTTPS).</span></span>

<span data-ttu-id="14867-116">Pokud je token nosiče přenesen mimo zabezpečený kanál, škodlivý strany můžete token útok man-in-the-middle tooacquire hello a použít je toogain neoprávněného přístupu tooa chráněných prostředků.</span><span class="sxs-lookup"><span data-stu-id="14867-116">If a bearer token is transmitted outside a secure channel, a malicious party can use a man-in-the-middle attack tooacquire hello token and use it toogain unauthorized access tooa protected resource.</span></span> <span data-ttu-id="14867-117">Hello stejné zásady zabezpečení platí, když jsou nosné tokeny uložené nebo ukládání do mezipaměti pro pozdější použití.</span><span class="sxs-lookup"><span data-stu-id="14867-117">hello same security principles apply when bearer tokens are stored or cached for later use.</span></span> <span data-ttu-id="14867-118">Vždy zajistěte, aby vaše aplikace odesílá a ukládá nosné tokeny zabezpečeným způsobem.</span><span class="sxs-lookup"><span data-stu-id="14867-118">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span>

<span data-ttu-id="14867-119">Další důležité informace o zabezpečení na nosné tokeny, najdete v části [RFC 6750 část 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="14867-119">For additional security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="14867-120">Řadu hello tokeny, které Azure AD B2C problémy jsou implementované jako webové tokeny JSON (Jwt).</span><span class="sxs-lookup"><span data-stu-id="14867-120">Many of hello tokens that Azure AD B2C issues are implemented as JSON web tokens (JWTs).</span></span> <span data-ttu-id="14867-121">Token JWT je compact, adresa URL bezpečných způsob přenosu informací mezi dvěma účastníky.</span><span class="sxs-lookup"><span data-stu-id="14867-121">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span> <span data-ttu-id="14867-122">Tokeny Jwt obsahují informace, které jsou známé jako deklarace identity.</span><span class="sxs-lookup"><span data-stu-id="14867-122">JWTs contain information known as claims.</span></span> <span data-ttu-id="14867-123">Jsou to kontrolní výrazy informací o hello nosiče a hello subjektu hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="14867-123">These are assertions of information about hello bearer and hello subject of hello token.</span></span> <span data-ttu-id="14867-124">deklarace identity Hello v Jwt jsou objekty JSON, které jsou zakódovány a serializovat pro přenos.</span><span class="sxs-lookup"><span data-stu-id="14867-124">hello claims in JWTs are JSON objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="14867-125">Protože jsou hello vystavený Azure AD B2C tokeny Jwt podepsán, ale nejsou šifrovaná, si můžete prohlédnout snadno hello obsah JWT toodebug ho.</span><span class="sxs-lookup"><span data-stu-id="14867-125">Because hello JWTs issued by Azure AD B2C are signed but not encrypted, you can easily inspect hello contents of a JWT toodebug it.</span></span> <span data-ttu-id="14867-126">K dispozici je několik nástrojů, můžete to provést, včetně [calebb.net](http://calebb.net).</span><span class="sxs-lookup"><span data-stu-id="14867-126">Several tools are available that can do this, including [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="14867-127">Další informace o Jwt, najdete v části příliš[JWT specifikace](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="14867-127">For more information about JWTs, refer too[JWT specifications](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="14867-128">ID tokeny</span><span class="sxs-lookup"><span data-stu-id="14867-128">ID tokens</span></span>
<span data-ttu-id="14867-129">ID token je formulář tokenu zabezpečení, která vaše aplikace přijímá od hello Azure AD B2C `authorize` a `token` koncové body.</span><span class="sxs-lookup"><span data-stu-id="14867-129">An ID token is a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="14867-130">ID tokeny jsou reprezentovány jako [Jwt](#types-of-tokens), a obsahují deklarace identity, které můžete tooidentify uživatelé ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="14867-130">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify users in your app.</span></span> <span data-ttu-id="14867-131">Když jsou tokeny typu ID získali z hello `authorize` koncový bod, jsou často používané toosign v aplikacích tooweb uživatele.</span><span class="sxs-lookup"><span data-stu-id="14867-131">When ID tokens are acquired from hello `authorize` endpoint, they are often used toosign in users tooweb applications.</span></span> <span data-ttu-id="14867-132">Když jsou tokeny typu ID získali z hello `token` koncový bod, lze je odeslat v požadavcích HTTP při komunikaci mezi dvě součásti hello stejné aplikaci nebo službě.</span><span class="sxs-lookup"><span data-stu-id="14867-132">When ID tokens are acquired from hello `token` endpoint, they can be sent in HTTP requests during communication between two components of hello same application or service.</span></span> <span data-ttu-id="14867-133">Hello deklarací identity můžete použít v tokenu ID podle svých potřeb.</span><span class="sxs-lookup"><span data-stu-id="14867-133">You can use hello claims in an ID token as you see fit.</span></span> <span data-ttu-id="14867-134">Jsou běžně používané toodisplay účet informace nebo toomake rozhodnutí o řízení přístupu v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="14867-134">They are commonly used toodisplay account information or toomake access control decisions in an app.</span></span>  

<span data-ttu-id="14867-135">Jsou podepsané tokeny typu ID, ale nejsou aktuálně zašifrovány.</span><span class="sxs-lookup"><span data-stu-id="14867-135">ID tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="14867-136">Když aplikaci nebo API obdrží ID token, musí [ověřit podpis hello](#token-validation) tooprove, který hello tokenu je platná.</span><span class="sxs-lookup"><span data-stu-id="14867-136">When your app or API receives an ID token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="14867-137">Aplikaci nebo API musíte také ověřit pár deklarací identity v tokenu tooprove hello je platná.</span><span class="sxs-lookup"><span data-stu-id="14867-137">Your app or API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="14867-138">V závislosti na požadavcích scénáře hello, se může lišit hello deklarace ověřené aplikací, ale aplikace musí provést některé [běžné ověření deklarace identity](#token-validation) v každý scénář.</span><span class="sxs-lookup"><span data-stu-id="14867-138">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="14867-139">Ukázkový token pro ID</span><span class="sxs-lookup"><span data-stu-id="14867-139">Sample ID token</span></span>
```
// Line breaks for display purposes only

eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IklkVG9rZW5TaWduaW5nS2V5Q29udGFpbmVyIn0.
eyJleHAiOjE0NDIzNjAwMzQsIm5iZiI6MTQ0MjM1NjQzNCwidmVyIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9s
b2dpbi5taWNyb3NvZnRvbmxpbmUuY29tLzc3NTUyN2ZmLTlhMzctNDMwNy04YjNkLWNjMzExZjU4ZDkyNS92
Mi4wLyIsImFjciI6ImIyY18xX3NpZ25faW5fc3RvY2siLCJzdWIiOiJOb3Qgc3VwcG9ydGVkIGN1cnJlbnRs
eS4gVXNlIG9pZCBjbGFpbS4iLCJhdWQiOiI5MGMwZmU2My1iY2YyLTQ0ZDUtOGZiNy1iOGJiYzBiMjlkYzYi
LCJpYXQiOjE0NDIzNTY0MzQsImF1dGhfdGltZSI6MTQ0MjM1NjQzNCwiaWRwIjoiZmFjZWJvb2suY29tIn0.
h-uiKcrT882pSKUtWCpj-_3b3vPs3bOWsESAhPMrL-iIIacKc6_uZrWxaWvIYkLra5czBcGKWrYwrAC8ZvQe
DJWZ50WXQrZYODEW1OUwzaD_I1f1HE0c2uvaWdGXBpDEVdsD3ExKaFlKGjFR2V7F-fPThkVDdKmkUDQX3bVc
yyj2V2nlCQ9jd7aGnokTPfLfpOjuIrTsAdPcGpe5hfSEuwYDmqOJjGs9Jp1f-eSNEiCDQOaTBSvr479L5ptP
XWeQZyX2SypN05Rjr05bjZh3j70ZUimiocfJzjibeoDCaQTz907yAg91WYuFOrQxb-5BaUoR7K-O7vxr2M-_
CQhoFA

```

### <a name="access-tokens"></a><span data-ttu-id="14867-140">Přístupové tokeny</span><span class="sxs-lookup"><span data-stu-id="14867-140">Access tokens</span></span>
<span data-ttu-id="14867-141">Přístupový token je také formulář tokenu zabezpečení, která vaše aplikace přijímá od hello Azure AD B2C `authorize` a `token` koncové body.</span><span class="sxs-lookup"><span data-stu-id="14867-141">An access token is also a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="14867-142">Přístupové tokeny, které jsou také reprezentované jako [Jwt](#types-of-tokens), a obsahují deklarace identity, které můžete použít tooidentify hello udělena oprávnění tooyour rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="14867-142">Access tokens are also represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify hello granted permissions tooyour APIs.</span></span> <span data-ttu-id="14867-143">Přístupové tokeny jsou podepsané, ale nejsou aktuálně zašifrovány.</span><span class="sxs-lookup"><span data-stu-id="14867-143">Access tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="14867-144">Přístupové tokeny by měl být použité tooprovide servery tooAPIs a prostředku přístup.</span><span class="sxs-lookup"><span data-stu-id="14867-144">Access tokens should be used tooprovide access tooAPIs and resource servers.</span></span> <span data-ttu-id="14867-145">Další informace o příliš[pomocí přístupových tokenů](active-directory-b2c-access-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="14867-145">Learn more about how too[use access tokens](active-directory-b2c-access-tokens.md).</span></span> 

<span data-ttu-id="14867-146">Rozhraní API obdrží token přístupu, musí [ověřit podpis hello](#token-validation) tooprove, který hello tokenu je platná.</span><span class="sxs-lookup"><span data-stu-id="14867-146">When your API receives an access token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="14867-147">Rozhraní API musíte také ověřit pár deklarací identity v tokenu tooprove hello je platná.</span><span class="sxs-lookup"><span data-stu-id="14867-147">Your API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="14867-148">V závislosti na požadavcích scénáře hello, se může lišit hello deklarace ověřené aplikací, ale aplikace musí provést některé [běžné ověření deklarace identity](#token-validation) v každý scénář.</span><span class="sxs-lookup"><span data-stu-id="14867-148">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

### <a name="claims-in-id-and-access-tokens"></a><span data-ttu-id="14867-149">Deklarace identity v ID a přístupové tokeny</span><span class="sxs-lookup"><span data-stu-id="14867-149">Claims in ID and access tokens</span></span>
<span data-ttu-id="14867-150">Pokud používáte Azure AD B2C, máte jemně odstupňovanou kontrolu nad hello obsah z vašich tokenů.</span><span class="sxs-lookup"><span data-stu-id="14867-150">When you use Azure AD B2C, you have fine-grained control over hello content of your tokens.</span></span> <span data-ttu-id="14867-151">Můžete nakonfigurovat [zásady](active-directory-b2c-reference-policies.md) toosend určité nastaví dat uživatele v deklaracích identity, které vaše aplikace vyžaduje pro její operace.</span><span class="sxs-lookup"><span data-stu-id="14867-151">You can configure [policies](active-directory-b2c-reference-policies.md) toosend certain sets of user data in claims that your app requires for its operations.</span></span> <span data-ttu-id="14867-152">Tyto deklarace identity můžou obsahovat standardní vlastnosti, například hello uživatele `displayName` a `emailAddress`.</span><span class="sxs-lookup"><span data-stu-id="14867-152">These claims can include standard properties such as hello user's `displayName` and `emailAddress`.</span></span> <span data-ttu-id="14867-153">Může také obsahovat [vlastní uživatelské atributy](active-directory-b2c-reference-custom-attr.md) definující ve svém adresáři B2C.</span><span class="sxs-lookup"><span data-stu-id="14867-153">They can also include [custom user attributes](active-directory-b2c-reference-custom-attr.md) that you can define in your B2C directory.</span></span> <span data-ttu-id="14867-154">Každý ID a přístup token, který se zobrazí obsahuje sadu deklarací identity související se zabezpečením.</span><span class="sxs-lookup"><span data-stu-id="14867-154">Every ID and access token that you receive contains a certain set of security-related claims.</span></span> <span data-ttu-id="14867-155">Aplikace můžete použít tyto deklarace toosecurely ověření uživatelů a požadavky.</span><span class="sxs-lookup"><span data-stu-id="14867-155">Your applications can use these claims toosecurely authenticate users and requests.</span></span>

<span data-ttu-id="14867-156">Všimněte si, že hello deklarací identity v tokenech ID nebudou zobrazeny v libovolném pořadí.</span><span class="sxs-lookup"><span data-stu-id="14867-156">Note that hello claims in ID tokens are not returned in any particular order.</span></span> <span data-ttu-id="14867-157">Kromě toho může být nových deklarací identity zavedená v tokeny typu ID kdykoli.</span><span class="sxs-lookup"><span data-stu-id="14867-157">In addition, new claims can be introduced in ID tokens at any time.</span></span> <span data-ttu-id="14867-158">Aplikace by neměl rozdělit zavedeném nových deklarací identity.</span><span class="sxs-lookup"><span data-stu-id="14867-158">Your app should not break as new claims are introduced.</span></span> <span data-ttu-id="14867-159">Tady jsou hello deklarací, které předpokládáte tooexist ID a přístupové tokeny vydané pomocí Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="14867-159">Here are hello claims that you expect tooexist in ID and access tokens issued by Azure AD B2C.</span></span> <span data-ttu-id="14867-160">Zásady jsou určeny žádné další deklarace identity.</span><span class="sxs-lookup"><span data-stu-id="14867-160">Any additional claims are determined by policies.</span></span> <span data-ttu-id="14867-161">Postup kontroly hello deklarací identity v hello ukázkový token pro ID vložením do vyzkoušejte [calebb.net](http://calebb.net).</span><span class="sxs-lookup"><span data-stu-id="14867-161">For practice, try inspecting hello claims in hello sample ID token by pasting it into [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="14867-162">Další podrobnosti naleznete v hello [OpenID Connect specifikace](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="14867-162">Further details can be found in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

| <span data-ttu-id="14867-163">Name (Název)</span><span class="sxs-lookup"><span data-stu-id="14867-163">Name</span></span> | <span data-ttu-id="14867-164">Deklarovat</span><span class="sxs-lookup"><span data-stu-id="14867-164">Claim</span></span> | <span data-ttu-id="14867-165">Příklad hodnoty</span><span class="sxs-lookup"><span data-stu-id="14867-165">Example value</span></span> | <span data-ttu-id="14867-166">Popis</span><span class="sxs-lookup"><span data-stu-id="14867-166">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="14867-167">Cílová skupina</span><span class="sxs-lookup"><span data-stu-id="14867-167">Audience</span></span> |`aud` |`90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6` |<span data-ttu-id="14867-168">Deklaraci identity cílovou skupinu identifikuje hello určené příjemce hello token.</span><span class="sxs-lookup"><span data-stu-id="14867-168">An audience claim identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="14867-169">Pro Azure AD B2C cílová skupina hello je ID aplikace vaší aplikace, jako přiřazené tooyour aplikace v portálu pro registraci aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="14867-169">For Azure AD B2C, hello audience is your app's application ID, as assigned tooyour app in hello app registration portal.</span></span> <span data-ttu-id="14867-170">Vaše aplikace by měl ověřit tuto hodnotu a odmítnout hello token, pokud neodpovídá.</span><span class="sxs-lookup"><span data-stu-id="14867-170">Your app should validate this value and reject hello token if it does not match.</span></span> |
| <span data-ttu-id="14867-171">Vystavitel</span><span class="sxs-lookup"><span data-stu-id="14867-171">Issuer</span></span> |`iss` |`https://login.microsoftonline.com/775527ff-9a37-4307-8b3d-cc311f58d925/v2.0/` |<span data-ttu-id="14867-172">Toto tvrzení identifikuje hello služby tokenů zabezpečení (STS), vytvoří a vrátí hello token.</span><span class="sxs-lookup"><span data-stu-id="14867-172">This claim identifies hello security token service (STS) that constructs and returns hello token.</span></span> <span data-ttu-id="14867-173">Také identifikuje hello adresář Azure AD ve které hello došlo k ověření uživatele.</span><span class="sxs-lookup"><span data-stu-id="14867-173">It also identifies hello Azure AD directory in which hello user was authenticated.</span></span> <span data-ttu-id="14867-174">Aplikace by měl ověřit hello vystavitele deklarace, že tooensure, který hello tokenu pochází koncového bodu v2.0 hello Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="14867-174">Your app should validate hello issuer claim tooensure that hello token came from hello Azure Active Directory v2.0 endpoint.</span></span> |
| <span data-ttu-id="14867-175">vydané v</span><span class="sxs-lookup"><span data-stu-id="14867-175">Issued at</span></span> |`iat` |`1438535543` |<span data-ttu-id="14867-176">Touto deklarací identity je hello čas, na které hello byl vydán token, v čase epoch.</span><span class="sxs-lookup"><span data-stu-id="14867-176">This claim is hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="14867-177">čas vypršení platnosti</span><span class="sxs-lookup"><span data-stu-id="14867-177">Expiration time</span></span> |`exp` |`1438539443` |<span data-ttu-id="14867-178">Hello deklarace čas vypršení platnosti je čas hello, na které hello token stane neplatný, reprezentována v čase epoch.</span><span class="sxs-lookup"><span data-stu-id="14867-178">hello expiration time claim is hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="14867-179">Aplikace by měla používat tato deklarace identity tooverify hello platnosti tokenu životnosti hello.</span><span class="sxs-lookup"><span data-stu-id="14867-179">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="14867-180">Neplatný před</span><span class="sxs-lookup"><span data-stu-id="14867-180">Not before</span></span> |`nbf` |`1438535543` |<span data-ttu-id="14867-181">Touto deklarací identity je hello čas, na které hello stane token platný, reprezentována v čase epoch.</span><span class="sxs-lookup"><span data-stu-id="14867-181">This claim is hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="14867-182">To je obvykle hello stejné jako hello čas hello token vydán.</span><span class="sxs-lookup"><span data-stu-id="14867-182">This is usually hello same as hello time hello token was issued.</span></span> <span data-ttu-id="14867-183">Aplikace by měla používat tato deklarace identity tooverify hello platnosti tokenu životnosti hello.</span><span class="sxs-lookup"><span data-stu-id="14867-183">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="14867-184">Verze</span><span class="sxs-lookup"><span data-stu-id="14867-184">Version</span></span> |`ver` |`1.0` |<span data-ttu-id="14867-185">Je to hello verze hello ID tokenu, jak je definované ve službě Azure AD.</span><span class="sxs-lookup"><span data-stu-id="14867-185">This is hello version of hello ID token, as defined by Azure AD.</span></span> |
| <span data-ttu-id="14867-186">Kód hash</span><span class="sxs-lookup"><span data-stu-id="14867-186">Code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="14867-187">Hodnota hash kódu je součástí ID token jenom v případě, že je hello token vydán společně s autorizační kód OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="14867-187">A code hash is included in an ID token only when hello token is issued together with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="14867-188">Kód hash se dá použít toovalidate hello pravost autorizační kód.</span><span class="sxs-lookup"><span data-stu-id="14867-188">A code hash can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="14867-189">Další podrobnosti o tom tooperform toto ověření najdete v části hello [OpenID Connect specifikace](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="14867-189">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>  |
| <span data-ttu-id="14867-190">Hodnota hash tokenu přístupu</span><span class="sxs-lookup"><span data-stu-id="14867-190">Access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="14867-191">Algoritmus hash tokenu přístupu je součástí ID token jenom v případě, že je hello token vydán společně s přístupový token OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="14867-191">An access token hash is included in an ID token only when hello token is issued together with an OAuth 2.0 access token.</span></span> <span data-ttu-id="14867-192">Algoritmus hash tokenu přístupu se dá použít toovalidate hello pravost přístupový token.</span><span class="sxs-lookup"><span data-stu-id="14867-192">An access token hash can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="14867-193">Další podrobnosti o tom tooperform toto ověření najdete v části hello [OpenID Connect specifikace](http://openid.net/specs/openid-connect-core-1_0.html)</span><span class="sxs-lookup"><span data-stu-id="14867-193">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html)</span></span>  |
| <span data-ttu-id="14867-194">hodnotu Nonce</span><span class="sxs-lookup"><span data-stu-id="14867-194">Nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="14867-195">Hodnotu nonce je že strategie používá toomitigate opětovného přehrání tokenu útoky.</span><span class="sxs-lookup"><span data-stu-id="14867-195">A nonce is a strategy used toomitigate token replay attacks.</span></span> <span data-ttu-id="14867-196">Vaše aplikace může určit hodnotu nonce v jednom požadavku autorizace pomocí hello `nonce` parametr dotazu.</span><span class="sxs-lookup"><span data-stu-id="14867-196">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="14867-197">Hodnota Hello zadáte v žádosti o hello bude vygenerované ponechat beze změny v hello `nonce` deklarací z tokenu ID.</span><span class="sxs-lookup"><span data-stu-id="14867-197">hello value you provide in hello request will be emitted unmodified in hello `nonce` claim of an ID token only.</span></span> <span data-ttu-id="14867-198">To umožňuje vaše aplikace tooverify hello hodnota proti hello hodnotu, kterou není zadán u hello požadavku, která přidruží dané ID token aplikace hello relace.</span><span class="sxs-lookup"><span data-stu-id="14867-198">This allows your app tooverify hello value against hello value it specified on hello request, which associates hello app's session with a given ID token.</span></span> <span data-ttu-id="14867-199">Aplikace by měla provést toto ověření během procesu ověření tokenu ID hello.</span><span class="sxs-lookup"><span data-stu-id="14867-199">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="14867-200">Předmět</span><span class="sxs-lookup"><span data-stu-id="14867-200">Subject</span></span> |`sub` |`884408e1-2918-4cz0-b12d-3aa027d7563b` |<span data-ttu-id="14867-201">Toto je hlavní hello, o které hello token vyhodnotí informace, například hello uživatele aplikace.</span><span class="sxs-lookup"><span data-stu-id="14867-201">This is hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="14867-202">Tato hodnota se nedá změnit a nemůže být přiřazeny nebo znovu použít.</span><span class="sxs-lookup"><span data-stu-id="14867-202">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="14867-203">Lze použít tooperform kontroly autorizace, bezpečně, například když hello token je použité tooaccess prostředku.</span><span class="sxs-lookup"><span data-stu-id="14867-203">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource.</span></span> <span data-ttu-id="14867-204">Deklarace identity subjektu hello se ve výchozím nastavení, zobrazí v ID objektu hello hello uživatele v adresáři hello.</span><span class="sxs-lookup"><span data-stu-id="14867-204">By default, hello subject claim is populated with hello object ID of hello user in hello directory.</span></span> <span data-ttu-id="14867-205">Další, najdete v části toolearn [Azure Active Directory B2C: Token, relace a konfigurace přihlášení](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="14867-205">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="14867-206">Informace o ověřování kontextu – třída</span><span class="sxs-lookup"><span data-stu-id="14867-206">Authentication context class reference</span></span> |`acr` |<span data-ttu-id="14867-207">Neuvedeno</span><span class="sxs-lookup"><span data-stu-id="14867-207">Not applicable</span></span> |<span data-ttu-id="14867-208">Není právě používána, s výjimkou v případě hello starší zásad.</span><span class="sxs-lookup"><span data-stu-id="14867-208">Not used currently, except in hello case of older policies.</span></span> <span data-ttu-id="14867-209">Další, najdete v části toolearn [Azure Active Directory B2C: Token, relace a konfigurace přihlášení](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="14867-209">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="14867-210">Framework zásady důvěryhodnosti</span><span class="sxs-lookup"><span data-stu-id="14867-210">Trust framework policy</span></span> |`tfp` |`b2c_1_sign_in` |<span data-ttu-id="14867-211">Toto je název hello hello zásady, které byly použité tooacquire hello ID token.</span><span class="sxs-lookup"><span data-stu-id="14867-211">This is hello name of hello policy that was used tooacquire hello ID token.</span></span> |
| <span data-ttu-id="14867-212">Doba ověřování</span><span class="sxs-lookup"><span data-stu-id="14867-212">Authentication time</span></span> |`auth_time` |`1438535543` |<span data-ttu-id="14867-213">Tento požadavek je hello čas, kdy uživatel poslední zadaná pověření v epoch čase.</span><span class="sxs-lookup"><span data-stu-id="14867-213">This claim is hello time at which a user last entered credentials, represented in epoch time.</span></span> |

### <a name="refresh-tokens"></a><span data-ttu-id="14867-214">Obnovovacích tokenů</span><span class="sxs-lookup"><span data-stu-id="14867-214">Refresh tokens</span></span>
<span data-ttu-id="14867-215">Aktualizujte tokeny jsou tokeny zabezpečení, aplikace můžete použít nové tokeny ID tooacquire a přístup tokeny v tok OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="14867-215">Refresh tokens are security tokens that your app can use tooacquire new ID tokens and access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="14867-216">Poskytují aplikace s dlouhodobé tooresources přístup jménem uživatelů bez nutnosti interakci s tyto uživatele.</span><span class="sxs-lookup"><span data-stu-id="14867-216">They provide your app with long-term access tooresources on behalf of users without requiring interaction with those users.</span></span>

<span data-ttu-id="14867-217">tooreceive obnovovací token v odpovědi tokenu aplikace musíte požádat o hello `offline_acesss` oboru.</span><span class="sxs-lookup"><span data-stu-id="14867-217">tooreceive a refresh token in a token response, your app must request hello `offline_acesss` scope.</span></span> <span data-ttu-id="14867-218">Další informace o hello toolearn `offline_access` obor, získáte toohello [referenční informace o Azure AD B2C protokolu](active-directory-b2c-reference-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="14867-218">toolearn more about hello `offline_access` scope, refer toohello [Azure AD B2C protocol reference](active-directory-b2c-reference-protocols.md).</span></span>

<span data-ttu-id="14867-219">Obnovovacích tokenů jsou a bude vždy, zcela neprůhledný tooyour aplikace.</span><span class="sxs-lookup"><span data-stu-id="14867-219">Refresh tokens are, and will always be, completely opaque tooyour app.</span></span> <span data-ttu-id="14867-220">Vydal Azure AD a mohou být prověřovány a interpretovat jenom služby Azure AD.</span><span class="sxs-lookup"><span data-stu-id="14867-220">They are issued by Azure AD and can be inspected and interpreted only by Azure AD.</span></span> <span data-ttu-id="14867-221">Jsou dlohotrvající, ale aplikace nemá zapisovat s hello očekávání, který bude poslední obnovovací token pro určité časové období.</span><span class="sxs-lookup"><span data-stu-id="14867-221">They are long-lived, but your app should not be written with hello expectation that a refresh token will last for a specific period of time.</span></span> <span data-ttu-id="14867-222">V každém okamžiku pro celou řadu důvodů může být zneplatněné obnovovacích tokenů.</span><span class="sxs-lookup"><span data-stu-id="14867-222">Refresh tokens can be invalidated at any moment for a variety of reasons.</span></span> <span data-ttu-id="14867-223">Hello tooattempt tooredeem je způsob, jak vaše aplikace tooknow pokud obnovovací token je platný pouze ji tak, že žádost o token tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="14867-223">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request tooAzure AD.</span></span>

<span data-ttu-id="14867-224">Pokud uplatníte obnovovací token pro nový token (a v případě, že aplikace byla udělena hello `offline_access` oboru), zobrazí se nové obnovovací token v odpovědi tokenu hello.</span><span class="sxs-lookup"><span data-stu-id="14867-224">When you redeem a refresh token for a new token (and if your app has been granted hello `offline_access` scope), you will receive a new refresh token in hello token response.</span></span> <span data-ttu-id="14867-225">Byste měli uložit hello nově vydané aktualizace tokenu.</span><span class="sxs-lookup"><span data-stu-id="14867-225">You should save hello newly issued refresh token.</span></span> <span data-ttu-id="14867-226">By mělo nahradit hello obnovovací token, který dřív používal v žádosti o hello.</span><span class="sxs-lookup"><span data-stu-id="14867-226">It should replace hello refresh token you previously used in hello request.</span></span> <span data-ttu-id="14867-227">To pomáhá zaručit, že jsou dál platné pro stejně dlouho obnovovacích tokenů.</span><span class="sxs-lookup"><span data-stu-id="14867-227">This helps guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="token-validation"></a><span data-ttu-id="14867-228">Ověření tokenu</span><span class="sxs-lookup"><span data-stu-id="14867-228">Token validation</span></span>
<span data-ttu-id="14867-229">toovalidate token aplikace měli zkontrolovat hello podpis i deklarace identity hello tokenu.</span><span class="sxs-lookup"><span data-stu-id="14867-229">toovalidate a token, your app should check both hello signature and claims of hello token.</span></span>

<span data-ttu-id="14867-230">Mnoho opensourcové knihovny jsou k dispozici pro ověření tokeny Jwt, v závislosti na vašem preferovaném jazyce.</span><span class="sxs-lookup"><span data-stu-id="14867-230">Many open source libraries are available for validating JWTs, depending on your preferred language.</span></span> <span data-ttu-id="14867-231">Doporučujeme místo před implementaci vlastní logiky ověřování prozkoumat tyto možnosti.</span><span class="sxs-lookup"><span data-stu-id="14867-231">We recommend that you explore those options rather than implement your own validation logic.</span></span> <span data-ttu-id="14867-232">Hello informací v tomto průvodci můžete zjistěte, jak tooproperly pomocí těchto knihoven.</span><span class="sxs-lookup"><span data-stu-id="14867-232">hello information in this guide can help you learn how tooproperly use those libraries.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="14867-233">Ověření podpisu hello</span><span class="sxs-lookup"><span data-stu-id="14867-233">Validate hello signature</span></span>
<span data-ttu-id="14867-234">Token JWT obsahuje tři segmenty, oddělených hello `.` znak.</span><span class="sxs-lookup"><span data-stu-id="14867-234">A JWT contains three segments, separated by hello `.` character.</span></span> <span data-ttu-id="14867-235">první segment Hello je hello *záhlaví*, hello druhou je hello *textu*, a třetí hello hello *podpis*.</span><span class="sxs-lookup"><span data-stu-id="14867-235">hello first segment is hello *header*, hello second is hello *body*, and hello third is hello *signature*.</span></span> <span data-ttu-id="14867-236">segment podpis Hello lze použít toovalidate hello pravosti tokenu hello tak, aby důvěryhodné aplikace.</span><span class="sxs-lookup"><span data-stu-id="14867-236">hello signature segment can be used toovalidate hello authenticity of hello token so that it can be trusted by your app.</span></span>

<span data-ttu-id="14867-237">Azure AD B2C tokeny jsou podepsány pomocí standardní asymetrických šifrovacích algoritmů, například RSA 256.</span><span class="sxs-lookup"><span data-stu-id="14867-237">Azure AD B2C tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="14867-238">Hlavička Hello hello tokenu obsahuje informace o klíči hello a metodu šifrování použít toosign hello token:</span><span class="sxs-lookup"><span data-stu-id="14867-238">hello header of hello token contains information about hello key and encryption method used toosign hello token:</span></span>

```
{
        "typ": "JWT",
        "alg": "RS256",
        "kid": "GvnPApfWMdLRi8PDmisFn7bprKg"
}
```

<span data-ttu-id="14867-239">Hello `alg` deklarace identity označuje hello algoritmus, který byl použité toosign hello token.</span><span class="sxs-lookup"><span data-stu-id="14867-239">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="14867-240">Hello `kid` deklarace identity označuje hello konkrétní veřejný klíč, který byl použité toosign hello token.</span><span class="sxs-lookup"><span data-stu-id="14867-240">hello `kid` claim indicates hello particular public key that was used toosign hello token.</span></span>

<span data-ttu-id="14867-241">V každém okamžiku může Azure AD přihlášení token pomocí jedné sady páry klíčů veřejný soukromý.</span><span class="sxs-lookup"><span data-stu-id="14867-241">At any given time, Azure AD can sign a token by using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="14867-242">Azure AD otočí hello možných sadu klíče pravidelně, tak vaše aplikace by měly být zapsány toohandle tyto klíče se automaticky změní.</span><span class="sxs-lookup"><span data-stu-id="14867-242">Azure AD rotates hello possible set of keys periodically, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="14867-243">Přiměřené frekvence toocheck pro aktualizace toohello veřejných klíčů používaných službou Azure AD je každých 24 hodin.</span><span class="sxs-lookup"><span data-stu-id="14867-243">A reasonable frequency toocheck for updates toohello public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="14867-244">Azure AD B2C má koncový bod metadat OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="14867-244">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="14867-245">To umožňuje aplikacím toofetch informace o Azure AD B2C za běhu.</span><span class="sxs-lookup"><span data-stu-id="14867-245">This allows apps toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="14867-246">Tyto informace zahrnují koncových bodů, obsah tokenu a token podpisových klíčů.</span><span class="sxs-lookup"><span data-stu-id="14867-246">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="14867-247">Dokument metadat JSON pro každou zásadu obsahuje adresáři B2C.</span><span class="sxs-lookup"><span data-stu-id="14867-247">Your B2C directory contains a JSON metadata document for each policy.</span></span> <span data-ttu-id="14867-248">Například dokumentu metadat hello hello `b2c_1_sign_in` zásad v `fabrikamb2c.onmicrosoft.com` se nachází na:</span><span class="sxs-lookup"><span data-stu-id="14867-248">For example, hello metadata document for hello `b2c_1_sign_in` policy in  `fabrikamb2c.onmicrosoft.com` is located at:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in
```

<span data-ttu-id="14867-249">`fabrikamb2c.onmicrosoft.com`adresář hello B2C používá tooauthenticate hello uživatele, a `b2c_1_sign_in` zásad hello používá tooacquire hello token.</span><span class="sxs-lookup"><span data-stu-id="14867-249">`fabrikamb2c.onmicrosoft.com` is hello B2C directory used tooauthenticate hello user, and `b2c_1_sign_in` is hello policy used tooacquire hello token.</span></span> <span data-ttu-id="14867-250">toodetermine zásadu, pomocí které byla použité toosign token (a kde toogo toofetch hello metadata), máte dvě možnosti.</span><span class="sxs-lookup"><span data-stu-id="14867-250">toodetermine which policy was used toosign a token (and where toogo toofetch hello metadata), you have two options.</span></span> <span data-ttu-id="14867-251">Nejprve je název zásady hello součástí hello `acr` deklarací identity v tokenu hello.</span><span class="sxs-lookup"><span data-stu-id="14867-251">First, hello policy name is included in hello `acr` claim in hello token.</span></span> <span data-ttu-id="14867-252">Můžete analyzovat deklarace identity z textu hello hello JWT podle textu hello dekódování kódování base-64 a deserializaci hello JSON řetězec této výsledky.</span><span class="sxs-lookup"><span data-stu-id="14867-252">You can parse claims out of hello body of hello JWT by base-64 decoding hello body and deserializing hello JSON string that results.</span></span> <span data-ttu-id="14867-253">Hello `acr` deklarací identity bude hello název hello zásady, které byly použité tooissue hello token.</span><span class="sxs-lookup"><span data-stu-id="14867-253">hello `acr` claim will be hello name of hello policy that was used tooissue hello token.</span></span>  <span data-ttu-id="14867-254">Jinak se zásady hello tooencode v hello hodnotu hello `state` parametr při vydání hello požadavku a pak dekódovat toodetermine zásadu, které byl použit.</span><span class="sxs-lookup"><span data-stu-id="14867-254">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request, and then decode it toodetermine which policy was used.</span></span> <span data-ttu-id="14867-255">Buď metoda je platná.</span><span class="sxs-lookup"><span data-stu-id="14867-255">Either method is valid.</span></span>

<span data-ttu-id="14867-256">Dokument metadat Hello je objekt JSON, který obsahuje několik užitečné informací.</span><span class="sxs-lookup"><span data-stu-id="14867-256">hello metadata document is a JSON object that contains several useful pieces of information.</span></span> <span data-ttu-id="14867-257">Mezi ně patří hello umístění hello koncových bodů vyžaduje tooperform ověřování OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="14867-257">These include hello location of hello endpoints required tooperform OpenID Connect authentication.</span></span> <span data-ttu-id="14867-258">Zahrnují taky, že `jwks_uri`, což dává hello umístění sady hello veřejné klíče, které jsou používané toosign tokeny.</span><span class="sxs-lookup"><span data-stu-id="14867-258">They also include `jwks_uri`, which gives hello location of hello set of public keys that are used toosign tokens.</span></span> <span data-ttu-id="14867-259">Toto umístění je k dispozici zde ale dynamicky je nejlepší umístění hello toofetch pomocí dokument metadat hello a analýze se `jwks_uri`:</span><span class="sxs-lookup"><span data-stu-id="14867-259">That location is provided here, but it is best toofetch hello location dynamically by using hello metadata document and parsing out `jwks_uri`:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in
```

<span data-ttu-id="14867-260">dokument JSON Hello umístěný na této adrese URL obsahuje všechny hello informací veřejného klíče používán v určitém okamžiku.</span><span class="sxs-lookup"><span data-stu-id="14867-260">hello JSON document located at this URL contains all hello public key information in use at a particular moment.</span></span> <span data-ttu-id="14867-261">Aplikace můžete použít hello `kid` deklarací identity v hello JWT záhlaví tooselect hello veřejný klíč v dokumentu JSON hello, který je použité toosign konkrétní token.</span><span class="sxs-lookup"><span data-stu-id="14867-261">Your app can use hello `kid` claim in hello JWT header tooselect hello public key in hello JSON document that is used toosign a particular token.</span></span> <span data-ttu-id="14867-262">Ověření podpisu je pak můžete provádět pomocí hello správný veřejný klíč a algoritmus uvedené hello.</span><span class="sxs-lookup"><span data-stu-id="14867-262">It can then perform signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="14867-263">Popis jak ověřit podpis tooperform je mimo rámec tohoto dokumentu hello.</span><span class="sxs-lookup"><span data-stu-id="14867-263">A description of how tooperform signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="14867-264">Mnoho opensourcové knihovny jsou k dispozici toohelp vám tato Pokud to potřebujete.</span><span class="sxs-lookup"><span data-stu-id="14867-264">Many open source libraries are available toohelp you with this if you need it.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="14867-265">Ověřit hello deklarace identity</span><span class="sxs-lookup"><span data-stu-id="14867-265">Validate hello claims</span></span>
<span data-ttu-id="14867-266">Když aplikaci nebo API obdrží ID token, má také provést několik kontrol před hello nároky v tokenu ID hello.</span><span class="sxs-lookup"><span data-stu-id="14867-266">When your app or API receives an ID token, it should also perform several checks against hello claims in hello ID token.</span></span> <span data-ttu-id="14867-267">Ty zahrnují, ale nejsou omezeny na:</span><span class="sxs-lookup"><span data-stu-id="14867-267">These include, but are not limited to:</span></span>

* <span data-ttu-id="14867-268">Hello **cílovou skupinu** deklarací identity: tím ověříte, že hello ID token byl určený toobe zadané tooyour aplikace.</span><span class="sxs-lookup"><span data-stu-id="14867-268">hello **audience** claim: This verifies that hello ID token was intended toobe given tooyour app.</span></span>
* <span data-ttu-id="14867-269">Hello **neplatný před** a **čas vypršení platnosti** deklarací identity: tyto ověřte, že nevypršela platnost tohoto tokenu ID hello.</span><span class="sxs-lookup"><span data-stu-id="14867-269">hello **not before** and **expiration time** claims: These verify that hello ID token has not expired.</span></span>
* <span data-ttu-id="14867-270">Hello **vystavitele** deklarací: Tato ověřuje, že hello token vydán tooyour aplikace Azure AD.</span><span class="sxs-lookup"><span data-stu-id="14867-270">hello **issuer** claim: This verifies that hello token was issued tooyour app by Azure AD.</span></span>
* <span data-ttu-id="14867-271">Hello **hodnotu nonce**: Toto je strategie pro snížení rizika útoku opětovného přehrání tokenu.</span><span class="sxs-lookup"><span data-stu-id="14867-271">hello **nonce**: This is a strategy for token replay attack mitigation.</span></span>

<span data-ttu-id="14867-272">Úplný seznam ověření proveďte vaší aplikace, najdete v části toohello [OpenID Connect specifikace](https://openid.net).</span><span class="sxs-lookup"><span data-stu-id="14867-272">For a full list of validations your app should perform, refer toohello [OpenID Connect specification](https://openid.net).</span></span> <span data-ttu-id="14867-273">Podrobnosti o hello očekávaných hodnot pro tyto deklarace identity jsou součástí hello předchozí [token části](#types-of-tokens).</span><span class="sxs-lookup"><span data-stu-id="14867-273">Details of hello expected values for these claims are included in hello preceding [token section](#types-of-tokens).</span></span>  

## <a name="token-lifetimes"></a><span data-ttu-id="14867-274">Token životnosti</span><span class="sxs-lookup"><span data-stu-id="14867-274">Token lifetimes</span></span>
<span data-ttu-id="14867-275">Následující token životnosti Hello jsou zadané toofurther vašeho vědomí.</span><span class="sxs-lookup"><span data-stu-id="14867-275">hello following token lifetimes are provided toofurther your knowledge.</span></span> <span data-ttu-id="14867-276">Můžou vám pomoct při vývoji a ladění aplikací.</span><span class="sxs-lookup"><span data-stu-id="14867-276">They can help you when you develop and debug apps.</span></span> <span data-ttu-id="14867-277">Všimněte si, že vaše aplikace by neměl být zapsána tooexpect některé z těchto životnosti tooremain konstanta.</span><span class="sxs-lookup"><span data-stu-id="14867-277">Note that your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="14867-278">Mohou a změní.</span><span class="sxs-lookup"><span data-stu-id="14867-278">They can and will change.</span></span> <span data-ttu-id="14867-279">Další informace o hello [přizpůsobení tokenu životnosti](active-directory-b2c-token-session-sso.md) v Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="14867-279">Read more about hello [customization of token lifetimes](active-directory-b2c-token-session-sso.md) in Azure AD B2C.</span></span>

| <span data-ttu-id="14867-280">Token</span><span class="sxs-lookup"><span data-stu-id="14867-280">Token</span></span> | <span data-ttu-id="14867-281">Doba platnosti</span><span class="sxs-lookup"><span data-stu-id="14867-281">Lifetime</span></span> | <span data-ttu-id="14867-282">Popis</span><span class="sxs-lookup"><span data-stu-id="14867-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="14867-283">ID tokeny</span><span class="sxs-lookup"><span data-stu-id="14867-283">ID tokens</span></span> |<span data-ttu-id="14867-284">Jedna hodina.</span><span class="sxs-lookup"><span data-stu-id="14867-284">One hour</span></span> |<span data-ttu-id="14867-285">ID tokeny jsou obvykle platný jednu hodinu.</span><span class="sxs-lookup"><span data-stu-id="14867-285">ID tokens are typically valid for an hour.</span></span> <span data-ttu-id="14867-286">Webové aplikace můžete použít tento životnost toomaintain vlastní relací uživatelů (doporučeno).</span><span class="sxs-lookup"><span data-stu-id="14867-286">Your web app can use this lifetime toomaintain its own sessions with users (recommended).</span></span> <span data-ttu-id="14867-287">Můžete také dobu platnosti jiné relace.</span><span class="sxs-lookup"><span data-stu-id="14867-287">You can also choose a different session lifetime.</span></span> <span data-ttu-id="14867-288">Pokud aplikace potřebuje tooget nový token ID, jednoduše musí toomake nové žádosti o přihlášení tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="14867-288">If your app needs tooget a new ID token, it simply needs toomake a new sign-in request tooAzure AD.</span></span> <span data-ttu-id="14867-289">Pokud má uživatel relace platná prohlížeče s Azure AD, tento uživatel nemusí být požadované tooenter přihlašovací údaje znovu.</span><span class="sxs-lookup"><span data-stu-id="14867-289">If a user has a valid browser session with Azure AD, that user might not be required tooenter credentials again.</span></span> |
| <span data-ttu-id="14867-290">Obnovovacích tokenů</span><span class="sxs-lookup"><span data-stu-id="14867-290">Refresh tokens</span></span> |<span data-ttu-id="14867-291">Až too14 dnů</span><span class="sxs-lookup"><span data-stu-id="14867-291">Up too14 days</span></span> |<span data-ttu-id="14867-292">Jeden obnovovací token je platný pro maximálně 14 dní.</span><span class="sxs-lookup"><span data-stu-id="14867-292">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="14867-293">Token obnovení však můžete stane neplatnou kdykoli z několika příčin.</span><span class="sxs-lookup"><span data-stu-id="14867-293">However, a refresh token can become invalid at any time for a number of reasons.</span></span> <span data-ttu-id="14867-294">Aplikace by měly pokračovat tootry toouse obnovovací token, dokud hello požadavek selže, nebo dokud aplikace nahradí nový token obnovení hello.</span><span class="sxs-lookup"><span data-stu-id="14867-294">Your app should continue tootry toouse a refresh token until hello request fails, or until your app replaces hello refresh token with a new one.</span></span> <span data-ttu-id="14867-295">Obnovovací token se může stát také neplatné, pokud od uživatelů hello naposledy zadali přihlašovací údaje, uplynulo 90 dní.</span><span class="sxs-lookup"><span data-stu-id="14867-295">A refresh token can also become invalid if 90 days have passed since hello user last entered credentials.</span></span> |
| <span data-ttu-id="14867-296">Autorizačních kódů</span><span class="sxs-lookup"><span data-stu-id="14867-296">Authorization codes</span></span> |<span data-ttu-id="14867-297">Pět minut</span><span class="sxs-lookup"><span data-stu-id="14867-297">Five minutes</span></span> |<span data-ttu-id="14867-298">Kódy ověřování jsou záměrně krátkodobou.</span><span class="sxs-lookup"><span data-stu-id="14867-298">Authorization codes are intentionally short-lived.</span></span> <span data-ttu-id="14867-299">Jejich by měl být uplatněn okamžitě přístupové tokeny, tokeny typu ID nebo tokeny obnovení při příjmu.</span><span class="sxs-lookup"><span data-stu-id="14867-299">They should be redeemed immediately for access tokens, ID tokens, or refresh tokens when they are received.</span></span> |

