---
title: "Azure Active Directory B2C: Protokoly pro ověřování | Microsoft Docs"
description: "Jak vytvářet aplikace přímo pomocí protokolů, které podporuje Azure Active Directory B2C"
services: active-directory-b2c
documentationcenter: 
author: dstrockis
manager: mtillman
editor: 
ms.assetid: 5e407d0a-73a2-4d74-ac81-3aa6c31ddcee
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.openlocfilehash: eb5d0da5b723c5fef81f7d74936ae30d4366385c
ms.sourcegitcommit: 694e40a193980dea1e2f945471071f11030d5641
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/29/2018
---
# <a name="azure-ad-b2c-authentication-protocols"></a><span data-ttu-id="6e264-103">Azure AD B2C: Protokoly pro ověřování</span><span class="sxs-lookup"><span data-stu-id="6e264-103">Azure AD B2C: Authentication protocols</span></span>
<span data-ttu-id="6e264-104">Azure Active Directory B2C (Azure AD B2C) poskytuje identitu jako služba pro aplikací díky podpoře dvou standardních protokolů: OpenID Connect a OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="6e264-104">Azure Active Directory B2C (Azure AD B2C) provides identity as a service for your apps by supporting two industry standard protocols: OpenID Connect and OAuth 2.0.</span></span> <span data-ttu-id="6e264-105">Služba je kompatibilní se standardy, ale žádné dvě implementace těchto protokolů můžete mít jemně lišit.</span><span class="sxs-lookup"><span data-stu-id="6e264-105">The service is standards-compliant, but any two implementations of these protocols can have subtle differences.</span></span> 

<span data-ttu-id="6e264-106">Informace v této příručce je užitečné, pokud napíšete kód přímo odeslání a zpracování žádostí HTTP, nikoli pomocí knihovny otevřeným zdrojem.</span><span class="sxs-lookup"><span data-stu-id="6e264-106">The information in this guide is useful if you write your code by directly sending and handling HTTP requests, rather than by using an open source library.</span></span> <span data-ttu-id="6e264-107">Doporučujeme, abyste si přečetli tuto stránku před podrobně podrobnosti o jednotlivých určitý protokol.</span><span class="sxs-lookup"><span data-stu-id="6e264-107">We recommend that you read this page before you dive into the details of each specific protocol.</span></span> <span data-ttu-id="6e264-108">Ale pokud jste již obeznámeni s Azure AD B2C, můžete přejít rovnou na [referenční příručky protokol](#protocols).</span><span class="sxs-lookup"><span data-stu-id="6e264-108">But if you're already familiar with Azure AD B2C, you can go straight to [the protocol reference guides](#protocols).</span></span>

<!-- TODO: Need link to libraries above -->

## <a name="the-basics"></a><span data-ttu-id="6e264-109">Základy</span><span class="sxs-lookup"><span data-stu-id="6e264-109">The basics</span></span>
<span data-ttu-id="6e264-110">Každá aplikace používající Azure AD B2C musí být zaregistrovaný ve svém adresáři B2C v [portál Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="6e264-110">Every app that uses Azure AD B2C needs to be registered in your B2C directory in the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="6e264-111">Proces registrace aplikace shromáždí a přiřadí vaší aplikaci několik hodnot:</span><span class="sxs-lookup"><span data-stu-id="6e264-111">The app registration process collects and assigns a few values to your app:</span></span>

* <span data-ttu-id="6e264-112">**ID aplikace**, které jednoznačně identifikuje vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="6e264-112">An **Application ID** that uniquely identifies your app.</span></span>
* <span data-ttu-id="6e264-113">A **identifikátor URI pro přesměrování** nebo **balíček identifikátor** který lze použít k cílení odpovědí zpět do vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="6e264-113">A **Redirect URI** or **package identifier** that can be used to direct responses back to your app.</span></span>
* <span data-ttu-id="6e264-114">Pár dalších hodnot konkrétní scénáře.</span><span class="sxs-lookup"><span data-stu-id="6e264-114">A few other scenario-specific values.</span></span> <span data-ttu-id="6e264-115">Další informace najdete další [postup registrace vaší aplikace](active-directory-b2c-app-registration.md).</span><span class="sxs-lookup"><span data-stu-id="6e264-115">For more information, learn [how to register your application](active-directory-b2c-app-registration.md).</span></span>

<span data-ttu-id="6e264-116">Po registraci aplikace komunikuje se službou Azure Active Directory (Azure AD) pomocí zasílání požadavků do koncového bodu:</span><span class="sxs-lookup"><span data-stu-id="6e264-116">After you register your app, it communicates with Azure Active Directory (Azure AD) by sending requests to the endpoint:</span></span>

```
https://login.microsoftonline.com/{tenant}/oauth2/v2.0/authorize
https://login.microsoftonline.com/{tenant}/oauth2/v2.0/token
```

<span data-ttu-id="6e264-117">Téměř všechny toky OAuth a OpenID Connect čtyři strany podílejí na exchange:</span><span class="sxs-lookup"><span data-stu-id="6e264-117">In nearly all OAuth and OpenID Connect flows, four parties are involved in the exchange:</span></span>

![Role OAuth 2.0](./media/active-directory-b2c-reference-protocols/protocols_roles.png)

* <span data-ttu-id="6e264-119">**Serveru ověřování** je koncový bod Azure AD.</span><span class="sxs-lookup"><span data-stu-id="6e264-119">The **authorization server** is the Azure AD endpoint.</span></span> <span data-ttu-id="6e264-120">Bezpečně zpracovává nic související s informace o uživateli a přístup.</span><span class="sxs-lookup"><span data-stu-id="6e264-120">It securely handles anything related to user information and access.</span></span> <span data-ttu-id="6e264-121">Také obstará vztahy důvěryhodnosti mezi stranami v toku.</span><span class="sxs-lookup"><span data-stu-id="6e264-121">It also handles the trust relationships between the parties in a flow.</span></span> <span data-ttu-id="6e264-122">Zodpovídá za ověření identity uživatele, udělení a odvolání přístupu k prostředkům a vystavování tokenů.</span><span class="sxs-lookup"><span data-stu-id="6e264-122">It is responsible for verifying the user's identity, granting and revoking access to resources, and issuing tokens.</span></span> <span data-ttu-id="6e264-123">Je také označované jako zprostředkovatele identity.</span><span class="sxs-lookup"><span data-stu-id="6e264-123">It is also known as the identity provider.</span></span>

* <span data-ttu-id="6e264-124">**Vlastník prostředku** je obvykle koncového uživatele.</span><span class="sxs-lookup"><span data-stu-id="6e264-124">The **resource owner** is typically the end user.</span></span> <span data-ttu-id="6e264-125">Je stranu, která je vlastníkem dat a má možnost povolit třetím stranám umožnit přístup k dané dat nebo prostředků.</span><span class="sxs-lookup"><span data-stu-id="6e264-125">It is the party that owns the data, and it has the power to allow third parties to access that data or resource.</span></span>

* <span data-ttu-id="6e264-126">**Klienta OAuth** je vaše aplikace.</span><span class="sxs-lookup"><span data-stu-id="6e264-126">The **OAuth client** is your app.</span></span> <span data-ttu-id="6e264-127">Je identifikována jeho ID aplikace.</span><span class="sxs-lookup"><span data-stu-id="6e264-127">It's identified by its Application ID.</span></span> <span data-ttu-id="6e264-128">Je obvykle stranu, která koncovým uživatelům interakci s.</span><span class="sxs-lookup"><span data-stu-id="6e264-128">It's usually the party that end users interact with.</span></span> <span data-ttu-id="6e264-129">Také vyžádá tokeny ze serveru ověřování.</span><span class="sxs-lookup"><span data-stu-id="6e264-129">It also requests tokens from the authorization server.</span></span> <span data-ttu-id="6e264-130">Vlastník prostředku musí udělit oprávnění k klienta pro přístup k prostředku.</span><span class="sxs-lookup"><span data-stu-id="6e264-130">The resource owner must grant the client permission to access the resource.</span></span>

* <span data-ttu-id="6e264-131">**Server prostředků** je, kde se nachází prostředků nebo data.</span><span class="sxs-lookup"><span data-stu-id="6e264-131">The **resource server** is where the resource or data resides.</span></span> <span data-ttu-id="6e264-132">Důvěřovat serveru ověřování k bezpečně ověřování a autorizaci klienta OAuth.</span><span class="sxs-lookup"><span data-stu-id="6e264-132">It trusts the authorization server to securely authenticate and authorize the OAuth client.</span></span> <span data-ttu-id="6e264-133">Používá také přístupových tokenů nosiče k zajištění, že lze udělit přístup k prostředku.</span><span class="sxs-lookup"><span data-stu-id="6e264-133">It also uses bearer access tokens to ensure that access to a resource can be granted.</span></span>

## <a name="policies"></a><span data-ttu-id="6e264-134">Zásady</span><span class="sxs-lookup"><span data-stu-id="6e264-134">Policies</span></span>
<span data-ttu-id="6e264-135">Pravděpodobně Azure AD B2C zásady jsou nejdůležitější funkce služby.</span><span class="sxs-lookup"><span data-stu-id="6e264-135">Arguably, Azure AD B2C policies are the most important features of the service.</span></span> <span data-ttu-id="6e264-136">Azure AD B2C rozšiřuje standardní protokoly OAuth 2.0 a OpenID Connect zavedením zásad.</span><span class="sxs-lookup"><span data-stu-id="6e264-136">Azure AD B2C extends the standard OAuth 2.0 and OpenID Connect protocols by introducing policies.</span></span> <span data-ttu-id="6e264-137">Tyto rutiny umožňují Azure AD B2C provést mnohem víc než jednoduché ověřování a autorizace.</span><span class="sxs-lookup"><span data-stu-id="6e264-137">These allow Azure AD B2C to perform much more than simple authentication and authorization.</span></span> 

<span data-ttu-id="6e264-138">Zásady plně popisují činnosti identity uživatelů, včetně registrace, přihlášení a úpravy profilu.</span><span class="sxs-lookup"><span data-stu-id="6e264-138">Policies fully describe consumer identity experiences, including sign-up, sign-in, and profile editing.</span></span> <span data-ttu-id="6e264-139">Zásady můžete být definován v správu uživatelského rozhraní.</span><span class="sxs-lookup"><span data-stu-id="6e264-139">Policies can be defined in an administrative UI.</span></span> <span data-ttu-id="6e264-140">Mohou být provedeny s použitím parametru speciální dotazu v žádosti o ověření protokolu HTTP.</span><span class="sxs-lookup"><span data-stu-id="6e264-140">They can be executed by using a special query parameter in HTTP authentication requests.</span></span> 

<span data-ttu-id="6e264-141">Zásady nejsou standardní funkce OAuth 2.0 a OpenID Connect, takže byste měli vzít je doba, která je pochopit.</span><span class="sxs-lookup"><span data-stu-id="6e264-141">Policies are not standard features of OAuth 2.0 and OpenID Connect, so you should take the time to understand them.</span></span> <span data-ttu-id="6e264-142">Další informace najdete v tématu [Azure AD B2C zásad referenční příručka](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="6e264-142">For more information, see the [Azure AD B2C policy reference guide](active-directory-b2c-reference-policies.md).</span></span>

## <a name="tokens"></a><span data-ttu-id="6e264-143">Tokeny</span><span class="sxs-lookup"><span data-stu-id="6e264-143">Tokens</span></span>
<span data-ttu-id="6e264-144">Azure AD B2C provádění OAuth 2.0 a OpenID Connect díky rozsáhlé používání tokenů nosiče, včetně nosné tokeny, které jsou reprezentovány jako webové tokeny JSON (Jwt).</span><span class="sxs-lookup"><span data-stu-id="6e264-144">The Azure AD B2C implementation of OAuth 2.0 and OpenID Connect makes extensive use of bearer tokens, including bearer tokens that are represented as JSON web tokens (JWTs).</span></span> <span data-ttu-id="6e264-145">Je token nosiče tokenu lightweight zabezpečení, který uděluje přístup "nosiče" k chráněnému prostředku.</span><span class="sxs-lookup"><span data-stu-id="6e264-145">A bearer token is a lightweight security token that grants the "bearer" access to a protected resource.</span></span>

<span data-ttu-id="6e264-146">Nosiče je jakékoli strany, který může být token.</span><span class="sxs-lookup"><span data-stu-id="6e264-146">The bearer is any party that can present the token.</span></span> <span data-ttu-id="6e264-147">Azure AD musí je nejdřív ověřit a stranou předtím, než mohl přijímat token nosiče.</span><span class="sxs-lookup"><span data-stu-id="6e264-147">Azure AD must first authenticate a party before it can receive a bearer token.</span></span> <span data-ttu-id="6e264-148">Ale požadované kroky nebudou přijata zabezpečit token v přenosu a úložiště, můžete zachytit a použít nezamýšleným strana.</span><span class="sxs-lookup"><span data-stu-id="6e264-148">But if the required steps are not taken to secure the token in transmission and storage, it can be intercepted and used by an unintended party.</span></span>

<span data-ttu-id="6e264-149">Některé tokeny zabezpečení mají integrovaný mechanismus, které brání neoprávněným stranám jejich používání, ale nosné tokeny nemají tento mechanismus.</span><span class="sxs-lookup"><span data-stu-id="6e264-149">Some security tokens have built-in mechanisms that prevent unauthorized parties from using them, but bearer tokens do not have this mechanism.</span></span> <span data-ttu-id="6e264-150">Musí být přenosu v zabezpečený kanál, jako je například transportní vrstvy zabezpečení (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="6e264-150">They must be transported in a secure channel, such as a transport layer security (HTTPS).</span></span> 

<span data-ttu-id="6e264-151">Pokud token nosiče je přenesen mimo zabezpečený kanál, škodlivý strany slouží útok man-in-the-middle k získání tokenu a použít ho k získání neoprávněného přístupu k chráněnému prostředku.</span><span class="sxs-lookup"><span data-stu-id="6e264-151">If a bearer token is transmitted outside a secure channel, a malicious party can use a man-in-the-middle attack to acquire the token and use it to gain unauthorized access to a protected resource.</span></span> <span data-ttu-id="6e264-152">Stejné zásady zabezpečení platí, když jsou nosné tokeny uložené nebo ukládání do mezipaměti pro pozdější použití.</span><span class="sxs-lookup"><span data-stu-id="6e264-152">The same security principles apply when bearer tokens are stored or cached for later use.</span></span> <span data-ttu-id="6e264-153">Vždy zajistěte, aby vaše aplikace odesílá a ukládá nosné tokeny zabezpečeným způsobem.</span><span class="sxs-lookup"><span data-stu-id="6e264-153">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span>

<span data-ttu-id="6e264-154">Důležité informace o dalších nosiče tokenu zabezpečení, najdete v části [RFC 6750 část 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="6e264-154">For additional bearer token security considerations, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="6e264-155">Další informace o různých typech tokenů, které se používají v Azure AD B2C jsou k dispozici v [odkaz tokenu Azure AD](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="6e264-155">More information about the different types of tokens that are used in Azure AD B2C are available in [the Azure AD token reference](active-directory-b2c-reference-tokens.md).</span></span>

## <a name="protocols"></a><span data-ttu-id="6e264-156">Protokoly</span><span class="sxs-lookup"><span data-stu-id="6e264-156">Protocols</span></span>
<span data-ttu-id="6e264-157">Až budete připraveni ke kontrole některých požadavků příklad, můžete spustit některý z následujících kurzů.</span><span class="sxs-lookup"><span data-stu-id="6e264-157">When you're ready to review some example requests, you can start with one of the following tutorials.</span></span> <span data-ttu-id="6e264-158">Každý scénář konkrétní ověřování odpovídá.</span><span class="sxs-lookup"><span data-stu-id="6e264-158">Each corresponds to a particular authentication scenario.</span></span> <span data-ttu-id="6e264-159">Pokud potřebujete pomoc při rozhodování, které tok je pro vás správný, podívejte se na [s typy aplikací můžete vytvořit pomocí Azure AD B2C](active-directory-b2c-apps.md).</span><span class="sxs-lookup"><span data-stu-id="6e264-159">If you need help determining which flow is right for you, check out [the types of apps you can build by using Azure AD B2C](active-directory-b2c-apps.md).</span></span>

* [<span data-ttu-id="6e264-160">Vytvářet aplikace, mobilní a nativní pomocí standardu OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="6e264-160">Build mobile and native applications by using OAuth 2.0</span></span>](active-directory-b2c-reference-oauth-code.md)
* [<span data-ttu-id="6e264-161">Vytvoření webové aplikace pomocí OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="6e264-161">Build web apps by using OpenID Connect</span></span>](active-directory-b2c-reference-oidc.md)
* [<span data-ttu-id="6e264-162">Vytvářet jednostránkové aplikace pomocí implicitního toku OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="6e264-162">Build single-page apps using the OAuth 2.0 implicit flow</span></span>](active-directory-b2c-reference-spa.md)

