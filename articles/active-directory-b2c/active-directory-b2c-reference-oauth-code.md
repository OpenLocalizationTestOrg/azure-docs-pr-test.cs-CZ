---
title: "Tok autorizačního kódu – Azure AD B2C | Microsoft Docs"
description: "Zjistěte, jak toobuild webové aplikace pomocí Azure AD B2C a OpenID Connect ověřovací protokol."
services: active-directory-b2c
documentationcenter: 
author: saeedakhter-msft
manager: krassk
editor: parakhj
ms.assetid: c371aaab-813a-4317-97df-b62e2f53d865
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/16/2017
ms.author: saeedakhter-msft
ms.openlocfilehash: 6bf9d37310bd45b39bda346441413556f9fd4fdc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-oauth-20-authorization-code-flow"></a><span data-ttu-id="f4abd-103">Azure Active Directory B2C: Toku kódu autorizace OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="f4abd-103">Azure Active Directory B2C: OAuth 2.0 authorization code flow</span></span>
<span data-ttu-id="f4abd-104">Udělení autorizačního kódu OAuth 2.0 hello můžete použít v aplikace nainstalované v zařízení toogain přístup tooprotected prostředky, například webových rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="f4abd-104">You can use hello OAuth 2.0 authorization code grant in apps installed on a device toogain access tooprotected resources, such as web APIs.</span></span> <span data-ttu-id="f4abd-105">Pomocí Azure Active Directory B2C hello (Azure AD B2C) provádění OAuth 2.0, můžete přidat registrace, přihlašování a jiných správu identity úloh tooyour mobilních a desktopových aplikací.</span><span class="sxs-lookup"><span data-stu-id="f4abd-105">By using hello Azure Active Directory B2C (Azure AD B2C) implementation of OAuth 2.0, you can add sign-up, sign-in, and other identity management tasks tooyour mobile and desktop apps.</span></span> <span data-ttu-id="f4abd-106">Tento článek je nezávislé na jazyku.</span><span class="sxs-lookup"><span data-stu-id="f4abd-106">This article is language-independent.</span></span> <span data-ttu-id="f4abd-107">V článku hello jsme popisují, jak toosend a přijímat zprávy HTTP bez použití žádné knihovny open-source.</span><span class="sxs-lookup"><span data-stu-id="f4abd-107">In hello article, we describe how toosend and receive HTTP messages without using any open-source libraries.</span></span>

<!-- TODO: Need link toolibraries -->

<span data-ttu-id="f4abd-108">Hello toku kódu autorizace OAuth 2.0 je popsaná v [části 4.1 hello OAuth 2.0 specifikace](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="f4abd-108">hello OAuth 2.0 authorization code flow is described in [section 4.1 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="f4abd-109">Můžete ji použít k ověřování a autorizaci většinu typů aplikací, včetně [webové aplikace](active-directory-b2c-apps.md#web-apps) a [nativně nainstalované aplikace](active-directory-b2c-apps.md#mobile-and-native-apps).</span><span class="sxs-lookup"><span data-stu-id="f4abd-109">You can use it for authentication and authorization in most app types, including [web apps](active-directory-b2c-apps.md#web-apps) and [natively installed apps](active-directory-b2c-apps.md#mobile-and-native-apps).</span></span> <span data-ttu-id="f4abd-110">Můžete použít hello získat toosecurely toku kódu autorizace OAuth 2.0 *přístup tokeny* pro vaše aplikace může být použité tooaccess prostředky, které jsou zabezpečeny [serveru ověřování](active-directory-b2c-reference-protocols.md#the-basics).</span><span class="sxs-lookup"><span data-stu-id="f4abd-110">You can use hello OAuth 2.0 authorization code flow toosecurely acquire *access tokens* for your apps, which can be used tooaccess resources that are secured by an [authorization server](active-directory-b2c-reference-protocols.md#the-basics).</span></span>

<span data-ttu-id="f4abd-111">Tento článek zaměřuje na hello **veřejné klienti** toku kódu autorizace OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f4abd-111">This article focuses on hello **public clients** OAuth 2.0 authorization code flow.</span></span> <span data-ttu-id="f4abd-112">Veřejné klienta je klientská aplikace, která nemůže být důvěryhodný toosecurely zachovat integritu hello tajný hesla.</span><span class="sxs-lookup"><span data-stu-id="f4abd-112">A public client is any client application that cannot be trusted toosecurely maintain hello integrity of a secret password.</span></span> <span data-ttu-id="f4abd-113">To zahrnuje mobilní aplikace, aplikace klasické pracovní plochy a v podstatě jakékoli aplikace, která běží na zařízení a je třeba tooget přístupových tokenů.</span><span class="sxs-lookup"><span data-stu-id="f4abd-113">This includes mobile apps, desktop apps, and essentially any application that runs on a device and needs tooget access tokens.</span></span> 

> [!NOTE]
> <span data-ttu-id="f4abd-114">tooadd identity management tooa webové aplikace pomocí Azure AD B2C, použijte [OpenID Connect](active-directory-b2c-reference-oidc.md) místo OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f4abd-114">tooadd identity management tooa web app by using Azure AD B2C, use [OpenID Connect](active-directory-b2c-reference-oidc.md) instead of OAuth 2.0.</span></span>

<span data-ttu-id="f4abd-115">Azure AD B2C rozšiřuje OAuth 2.0 toků standardního hello toodo víc než jednoduché ověřování a autorizace.</span><span class="sxs-lookup"><span data-stu-id="f4abd-115">Azure AD B2C extends hello standard OAuth 2.0 flows toodo more than simple authentication and authorization.</span></span> <span data-ttu-id="f4abd-116">Zavádí hello [zásad parametr](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="f4abd-116">It introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="f4abd-117">Předdefinované zásady, můžete využít OAuth 2.0 tooadd uživatele vyskytne tooyour aplikace, například registrace, přihlašování a správy profilů.</span><span class="sxs-lookup"><span data-stu-id="f4abd-117">With built-in policies, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="f4abd-118">V tomto článku jsme ukazují, jak toouse OAuth 2.0 a zásady tooimplement každá z těchto vyskytne v nativních aplikací.</span><span class="sxs-lookup"><span data-stu-id="f4abd-118">In this article, we show you how toouse OAuth 2.0 and policies tooimplement each of these experiences in your native applications.</span></span> <span data-ttu-id="f4abd-119">Můžeme také ukazují, jak tooget přístupových tokenů pro přístup k webovým rozhraním API.</span><span class="sxs-lookup"><span data-stu-id="f4abd-119">We also show you how tooget access tokens for accessing web APIs.</span></span>

<span data-ttu-id="f4abd-120">V příkladu HTTP požadavků hello v tomto článku, použijeme naše ukázka adresáře Azure AD B2C, **fabrikamb2c.onmicrosoft.com**. Používáme se naše ukázková aplikace a zásady.</span><span class="sxs-lookup"><span data-stu-id="f4abd-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our sample application and policies.</span></span> <span data-ttu-id="f4abd-121">Hello požadavků můžete také zkusit sami pomocí těchto hodnot, nebo je můžete nahradit vlastními hodnotami.</span><span class="sxs-lookup"><span data-stu-id="f4abd-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="f4abd-122">Zjistěte, jak příliš[získat vlastní adresář Azure AD B2C, aplikace a zásady](#use-your-own-azure-ad-b2c-directory).</span><span class="sxs-lookup"><span data-stu-id="f4abd-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-azure-ad-b2c-directory).</span></span>

## <a name="1-get-an-authorization-code"></a><span data-ttu-id="f4abd-123">1. Získat autorizační kód</span><span class="sxs-lookup"><span data-stu-id="f4abd-123">1. Get an authorization code</span></span>
<span data-ttu-id="f4abd-124">tok autorizačního kódu Hello začíná textem hello klienta odkazovat hello uživatele toohello `/authorize` koncový bod.</span><span class="sxs-lookup"><span data-stu-id="f4abd-124">hello authorization code flow begins with hello client directing hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="f4abd-125">Toto je část interaktivní hello hello toku, kde hello uživatel provede akci.</span><span class="sxs-lookup"><span data-stu-id="f4abd-125">This is hello interactive part of hello flow, where hello user takes action.</span></span> <span data-ttu-id="f4abd-126">V této žádosti o označuje hello klienta v hello `scope` parametr hello oprávnění, že tato služba vyžaduje tooacquire od uživatele hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-126">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="f4abd-127">V hello `p` parametr, znamená to tooexecute zásad hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-127">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="f4abd-128">Hello následující tři příklady (pomocí konců řádků čitelnější) každou pomocí různých zásad.</span><span class="sxs-lookup"><span data-stu-id="f4abd-128">hello following three examples (with line breaks for readability) each use a different policy.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="f4abd-129">Použít zásadu přihlášení</span><span class="sxs-lookup"><span data-stu-id="f4abd-129">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="f4abd-130">Použít zásadu registrace</span><span class="sxs-lookup"><span data-stu-id="f4abd-130">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="f4abd-131">Pomocí zásady úpravy profilu</span><span class="sxs-lookup"><span data-stu-id="f4abd-131">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_edit_profile
```

| <span data-ttu-id="f4abd-132">Parametr</span><span class="sxs-lookup"><span data-stu-id="f4abd-132">Parameter</span></span> | <span data-ttu-id="f4abd-133">Povinné?</span><span class="sxs-lookup"><span data-stu-id="f4abd-133">Required?</span></span> | <span data-ttu-id="f4abd-134">Popis</span><span class="sxs-lookup"><span data-stu-id="f4abd-134">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f4abd-135">client_id</span><span class="sxs-lookup"><span data-stu-id="f4abd-135">client_id</span></span> |<span data-ttu-id="f4abd-136">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-136">Required</span></span> |<span data-ttu-id="f4abd-137">ID aplikace Hello přiřazené tooyour aplikace v hello [portál Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f4abd-137">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="f4abd-138">response_type</span><span class="sxs-lookup"><span data-stu-id="f4abd-138">response_type</span></span> |<span data-ttu-id="f4abd-139">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-139">Required</span></span> |<span data-ttu-id="f4abd-140">Typ odpovědi Hello, která musí zahrnovat `code` pro tok autorizačního kódu hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-140">hello response type, which must include `code` for hello authorization code flow.</span></span> |
| <span data-ttu-id="f4abd-141">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="f4abd-141">redirect_uri</span></span> |<span data-ttu-id="f4abd-142">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-142">Required</span></span> |<span data-ttu-id="f4abd-143">Hello identifikátor URI přesměrování vaší aplikace, kde odesílání a přijímání aplikace odpovědi ověřování.</span><span class="sxs-lookup"><span data-stu-id="f4abd-143">hello redirect URI of your app, where authentication responses are sent and received by your app.</span></span> <span data-ttu-id="f4abd-144">Ho musí přesně shodovat s jedním z hello přesměrování identifikátory URI, který je zaregistrovaný hello portálu, s tím rozdílem, že musí být kódovaná adresou URL.</span><span class="sxs-lookup"><span data-stu-id="f4abd-144">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="f4abd-145">Obor</span><span class="sxs-lookup"><span data-stu-id="f4abd-145">scope</span></span> |<span data-ttu-id="f4abd-146">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-146">Required</span></span> |<span data-ttu-id="f4abd-147">Seznam obory oddělených mezerami.</span><span class="sxs-lookup"><span data-stu-id="f4abd-147">A space-separated list of scopes.</span></span> <span data-ttu-id="f4abd-148">Hodnota jeden obor označuje tooAzure služby Active Directory (Azure AD) i hello oprávnění, které jsou požadovány.</span><span class="sxs-lookup"><span data-stu-id="f4abd-148">A single scope value indicates tooAzure Active Directory (Azure AD) both of hello permissions that are being requested.</span></span> <span data-ttu-id="f4abd-149">Pomocí klienta hello ID jako obor hello ukazuje, že vaše aplikace vyžaduje přístupový token, který můžete použít u službou nebo webové rozhraní API, reprezentována hello stejné ID klienta.</span><span class="sxs-lookup"><span data-stu-id="f4abd-149">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="f4abd-150">Hello `offline_access` oboru ukazuje, že vaše aplikace vyžaduje obnovovací token pro tooresources dlohotrvající přístup.</span><span class="sxs-lookup"><span data-stu-id="f4abd-150">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span> <span data-ttu-id="f4abd-151">Můžete taky použít hello `openid` oboru toorequest token ID z Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f4abd-151">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="f4abd-152">response_mode</span><span class="sxs-lookup"><span data-stu-id="f4abd-152">response_mode</span></span> |<span data-ttu-id="f4abd-153">Doporučené</span><span class="sxs-lookup"><span data-stu-id="f4abd-153">Recommended</span></span> |<span data-ttu-id="f4abd-154">Metoda Hello použít toosend hello výsledné autorizační kód back tooyour aplikace.</span><span class="sxs-lookup"><span data-stu-id="f4abd-154">hello method that you use toosend hello resulting authorization code back tooyour app.</span></span> <span data-ttu-id="f4abd-155">Může být `query`, `form_post`, nebo `fragment`.</span><span class="sxs-lookup"><span data-stu-id="f4abd-155">It can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="f4abd-156">state</span><span class="sxs-lookup"><span data-stu-id="f4abd-156">state</span></span> |<span data-ttu-id="f4abd-157">Doporučené</span><span class="sxs-lookup"><span data-stu-id="f4abd-157">Recommended</span></span> |<span data-ttu-id="f4abd-158">Hodnota součástí hello požadavek, který je vrácený v odpovědi tokenu hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-158">A value included in hello request that is returned in hello token response.</span></span> <span data-ttu-id="f4abd-159">Může být řetězec o délce veškerý obsah, který má toouse.</span><span class="sxs-lookup"><span data-stu-id="f4abd-159">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="f4abd-160">Náhodně generované jedinečné hodnoty se obvykle používá, útoky padělání požadavku posílaného mezi weby tooprevent.</span><span class="sxs-lookup"><span data-stu-id="f4abd-160">Usually, a randomly generated unique value is  used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="f4abd-161">Stav Hello taky je použité tooencode informace o stavu hello uživatele v aplikaci hello před hello ověřování požadavku došlo k chybě.</span><span class="sxs-lookup"><span data-stu-id="f4abd-161">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="f4abd-162">Například hello stránku hello uživatele na nebo hello zásad, který byl vykonáván.</span><span class="sxs-lookup"><span data-stu-id="f4abd-162">For example, hello page hello user was on, or hello policy that was being executed.</span></span> |
| <span data-ttu-id="f4abd-163">P</span><span class="sxs-lookup"><span data-stu-id="f4abd-163">p</span></span> |<span data-ttu-id="f4abd-164">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-164">Required</span></span> |<span data-ttu-id="f4abd-165">Hello zásady, které se spustí.</span><span class="sxs-lookup"><span data-stu-id="f4abd-165">hello policy that is executed.</span></span> <span data-ttu-id="f4abd-166">Jeho hello název zásady, které se vytvoří ve vašem adresáři Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f4abd-166">It's hello name of a policy that is created in your Azure AD B2C directory.</span></span> <span data-ttu-id="f4abd-167">Hodnota názvu Hello zásad by měl začínat obráceným **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="f4abd-167">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="f4abd-168">toolearn Další informace o zásady, najdete v části [integrovaných zásad Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="f4abd-168">toolearn more about policies, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="f4abd-169">řádku</span><span class="sxs-lookup"><span data-stu-id="f4abd-169">prompt</span></span> |<span data-ttu-id="f4abd-170">Nepovinné</span><span class="sxs-lookup"><span data-stu-id="f4abd-170">Optional</span></span> |<span data-ttu-id="f4abd-171">Typ Hello interakce s uživatelem, který je vyžadován.</span><span class="sxs-lookup"><span data-stu-id="f4abd-171">hello type of user interaction that is required.</span></span> <span data-ttu-id="f4abd-172">V současné době hello jediná platná hodnota je `login`, které vynutí hello uživatele tooenter přihlašovacích údajů tohoto požadavku.</span><span class="sxs-lookup"><span data-stu-id="f4abd-172">Currently, hello only valid value is `login`, which forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="f4abd-173">Jednotné přihlašování se neprojeví.</span><span class="sxs-lookup"><span data-stu-id="f4abd-173">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="f4abd-174">V tomto okamžiku hello uživateli se zobrazí výzva pracovní postup pro zásady toocomplete hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-174">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="f4abd-175">To může zahrnovat uživatele hello zadáním uživatelského jména a hesla, přihlášení pomocí identitu sociálních registrací hello adresář, nebo jakékoli jiné číslo kroky.</span><span class="sxs-lookup"><span data-stu-id="f4abd-175">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="f4abd-176">Uživatel akce závisí na tom, jak je definována zásada hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-176">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="f4abd-177">Po dokončení hello zásad hello uživatele Azure AD vrátí tooyour aplikace na odpovědi na hodnotu hello jste použili pro `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="f4abd-177">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="f4abd-178">Používá hello metody popsané v hello `response_mode` parametr.</span><span class="sxs-lookup"><span data-stu-id="f4abd-178">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="f4abd-179">odpověď Hello je přesně hello stejné pro všechny hello akce scénáře uživatele, nezávisle na hello zásadu, která byla spuštěna.</span><span class="sxs-lookup"><span data-stu-id="f4abd-179">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

<span data-ttu-id="f4abd-180">Úspěšná odpověď, který používá `response_mode=query` vypadá podobně jako tento:</span><span class="sxs-lookup"><span data-stu-id="f4abd-180">A successful response that uses `response_mode=query` looks like this:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...        // hello authorization_code, truncated
&state=arbitrary_data_you_can_receive_in_the_response                // hello value provided in hello request
```

| <span data-ttu-id="f4abd-181">Parametr</span><span class="sxs-lookup"><span data-stu-id="f4abd-181">Parameter</span></span> | <span data-ttu-id="f4abd-182">Popis</span><span class="sxs-lookup"><span data-stu-id="f4abd-182">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f4abd-183">Kód</span><span class="sxs-lookup"><span data-stu-id="f4abd-183">code</span></span> |<span data-ttu-id="f4abd-184">autorizační kód Hello hello požadované aplikace.</span><span class="sxs-lookup"><span data-stu-id="f4abd-184">hello authorization code that hello app requested.</span></span> <span data-ttu-id="f4abd-185">pro cílový prostředek, můžete použít aplikaci Hello hello autorizační kód toorequest přístupový token.</span><span class="sxs-lookup"><span data-stu-id="f4abd-185">hello app can use hello authorization code toorequest an access token for a target resource.</span></span> <span data-ttu-id="f4abd-186">Kódy ověřování jsou velmi krátkodobou.</span><span class="sxs-lookup"><span data-stu-id="f4abd-186">Authorization codes are very short-lived.</span></span> <span data-ttu-id="f4abd-187">Obvykle se jejich platnost vyprší po přibližně 10 minut.</span><span class="sxs-lookup"><span data-stu-id="f4abd-187">Typically, they expire after about 10 minutes.</span></span> |
| <span data-ttu-id="f4abd-188">state</span><span class="sxs-lookup"><span data-stu-id="f4abd-188">state</span></span> |<span data-ttu-id="f4abd-189">Viz úplný popis hello v tabulce hello v předcházející části hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-189">See hello full description in hello table in hello preceding section.</span></span> <span data-ttu-id="f4abd-190">Pokud `state` parametr je zahrnuta v žádosti o hello hello stejnou hodnotu by se měla objevit v odpovědi hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-190">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="f4abd-191">Hello aplikace by měl ověřit, že hello `state` hodnoty v hello žádosti a odpovědi jsou identické.</span><span class="sxs-lookup"><span data-stu-id="f4abd-191">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

<span data-ttu-id="f4abd-192">Chybové odpovědi také odesláním identifikátor URI pro přesměrování toohello tak, aby hello aplikace dokáže zpracovat je odpovídajícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="f4abd-192">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
error=access_denied
&error_description=The+user+has+cancelled+entering+self-asserted+information
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="f4abd-193">Parametr</span><span class="sxs-lookup"><span data-stu-id="f4abd-193">Parameter</span></span> | <span data-ttu-id="f4abd-194">Popis</span><span class="sxs-lookup"><span data-stu-id="f4abd-194">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f4abd-195">error</span><span class="sxs-lookup"><span data-stu-id="f4abd-195">error</span></span> |<span data-ttu-id="f4abd-196">Řetězec kódu chyby, kterou můžete použít tooclassify hello typů chyb, ke kterým dochází.</span><span class="sxs-lookup"><span data-stu-id="f4abd-196">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="f4abd-197">Můžete taky použít tooerrors tooreact řetězec hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-197">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="f4abd-198">error_description</span><span class="sxs-lookup"><span data-stu-id="f4abd-198">error_description</span></span> |<span data-ttu-id="f4abd-199">Konkrétní chybová zpráva, která vám může pomoct identifikovat hello hlavní příčinu chyby ověřování.</span><span class="sxs-lookup"><span data-stu-id="f4abd-199">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="f4abd-200">state</span><span class="sxs-lookup"><span data-stu-id="f4abd-200">state</span></span> |<span data-ttu-id="f4abd-201">Viz úplný popis hello v předcházející tabulce hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-201">See hello full description in hello preceding table.</span></span> <span data-ttu-id="f4abd-202">Pokud `state` parametr je zahrnuta v žádosti o hello hello stejnou hodnotu by se měla objevit v odpovědi hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-202">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="f4abd-203">Hello aplikace by měl ověřit, že hello `state` hodnoty v hello žádosti a odpovědi jsou identické.</span><span class="sxs-lookup"><span data-stu-id="f4abd-203">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

## <a name="2-get-a-token"></a><span data-ttu-id="f4abd-204">2. Získání tokenu</span><span class="sxs-lookup"><span data-stu-id="f4abd-204">2. Get a token</span></span>
<span data-ttu-id="f4abd-205">Teď, když jste získali autorizační kód, lze uplatnit hello `code` pro token toohello určený prostředku odesíláním toohello požadavek POST `/token` koncový bod.</span><span class="sxs-lookup"><span data-stu-id="f4abd-205">Now that you've acquired an authorization code, you can redeem hello `code` for a token toohello intended resource by sending a POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="f4abd-206">V Azure AD B2C hello pouze prostředek, který můžete požádat o token pro je vaše aplikace vlastní back endové webové rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="f4abd-206">In Azure AD B2C, hello only resource that you can request a token for is your app's own back-end web API.</span></span> <span data-ttu-id="f4abd-207">Hello názvů, který se používá pro požadování tokenu tooyourself je toouse ID klienta aplikace jako obor hello:</span><span class="sxs-lookup"><span data-stu-id="f4abd-207">hello convention that's used for requesting a token tooyourself is toouse your app's client ID as hello scope:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob

```

| <span data-ttu-id="f4abd-208">Parametr</span><span class="sxs-lookup"><span data-stu-id="f4abd-208">Parameter</span></span> | <span data-ttu-id="f4abd-209">Povinné?</span><span class="sxs-lookup"><span data-stu-id="f4abd-209">Required?</span></span> | <span data-ttu-id="f4abd-210">Popis</span><span class="sxs-lookup"><span data-stu-id="f4abd-210">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f4abd-211">P</span><span class="sxs-lookup"><span data-stu-id="f4abd-211">p</span></span> |<span data-ttu-id="f4abd-212">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-212">Required</span></span> |<span data-ttu-id="f4abd-213">Hello zásady, které byly použité tooacquire hello autorizační kód.</span><span class="sxs-lookup"><span data-stu-id="f4abd-213">hello policy that was used tooacquire hello authorization code.</span></span> <span data-ttu-id="f4abd-214">V této žádosti nelze použít jinou zásadu.</span><span class="sxs-lookup"><span data-stu-id="f4abd-214">You cannot use a different policy in this request.</span></span> <span data-ttu-id="f4abd-215">Všimněte si, že přidáte tento parametr toohello *řetězec dotazu*, ne hello textu POST.</span><span class="sxs-lookup"><span data-stu-id="f4abd-215">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="f4abd-216">client_id</span><span class="sxs-lookup"><span data-stu-id="f4abd-216">client_id</span></span> |<span data-ttu-id="f4abd-217">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-217">Required</span></span> |<span data-ttu-id="f4abd-218">ID aplikace Hello přiřazené tooyour aplikace v hello [portál Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f4abd-218">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="f4abd-219">grant_type</span><span class="sxs-lookup"><span data-stu-id="f4abd-219">grant_type</span></span> |<span data-ttu-id="f4abd-220">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-220">Required</span></span> |<span data-ttu-id="f4abd-221">Hello typ udělení.</span><span class="sxs-lookup"><span data-stu-id="f4abd-221">hello type of grant.</span></span> <span data-ttu-id="f4abd-222">Hello tok autorizačního kódu, musí být typ udělení hello `authorization_code`.</span><span class="sxs-lookup"><span data-stu-id="f4abd-222">For hello authorization code flow, hello grant type must be `authorization_code`.</span></span> |
| <span data-ttu-id="f4abd-223">Obor</span><span class="sxs-lookup"><span data-stu-id="f4abd-223">scope</span></span> |<span data-ttu-id="f4abd-224">Doporučené</span><span class="sxs-lookup"><span data-stu-id="f4abd-224">Recommended</span></span> |<span data-ttu-id="f4abd-225">Seznam obory oddělených mezerami.</span><span class="sxs-lookup"><span data-stu-id="f4abd-225">A space-separated list of scopes.</span></span> <span data-ttu-id="f4abd-226">Hodnota jeden obor označuje tooAzure AD obou hello oprávnění, které jsou požadovány.</span><span class="sxs-lookup"><span data-stu-id="f4abd-226">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="f4abd-227">Pomocí klienta hello ID jako obor hello ukazuje, že vaše aplikace vyžaduje přístupový token, který můžete použít u službou nebo webové rozhraní API, reprezentována hello stejné ID klienta.</span><span class="sxs-lookup"><span data-stu-id="f4abd-227">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="f4abd-228">Hello `offline_access` oboru ukazuje, že vaše aplikace vyžaduje obnovovací token pro tooresources dlohotrvající přístup.</span><span class="sxs-lookup"><span data-stu-id="f4abd-228">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="f4abd-229">Můžete taky použít hello `openid` oboru toorequest token ID z Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f4abd-229">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="f4abd-230">Kód</span><span class="sxs-lookup"><span data-stu-id="f4abd-230">code</span></span> |<span data-ttu-id="f4abd-231">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-231">Required</span></span> |<span data-ttu-id="f4abd-232">Hello autorizační kód, který jste získali v prvním větev hello hello toku.</span><span class="sxs-lookup"><span data-stu-id="f4abd-232">hello authorization code that you acquired in hello first leg of hello flow.</span></span> |
| <span data-ttu-id="f4abd-233">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="f4abd-233">redirect_uri</span></span> |<span data-ttu-id="f4abd-234">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-234">Required</span></span> |<span data-ttu-id="f4abd-235">identifikátor URI hello aplikace, kterou jste dostali hello autorizační kód přesměrování Hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-235">hello redirect URI of hello application where you received hello authorization code.</span></span> |

<span data-ttu-id="f4abd-236">Úspěšné odpovědi tokenu vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="f4abd-236">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="f4abd-237">Parametr</span><span class="sxs-lookup"><span data-stu-id="f4abd-237">Parameter</span></span> | <span data-ttu-id="f4abd-238">Popis</span><span class="sxs-lookup"><span data-stu-id="f4abd-238">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f4abd-239">not_before</span><span class="sxs-lookup"><span data-stu-id="f4abd-239">not_before</span></span> |<span data-ttu-id="f4abd-240">Hello čas, na které hello token je považován za platný v čase epoch.</span><span class="sxs-lookup"><span data-stu-id="f4abd-240">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="f4abd-241">token_type</span><span class="sxs-lookup"><span data-stu-id="f4abd-241">token_type</span></span> |<span data-ttu-id="f4abd-242">Hodnota Hello typ tokenu.</span><span class="sxs-lookup"><span data-stu-id="f4abd-242">hello token type value.</span></span> <span data-ttu-id="f4abd-243">Hello pouze zadejte, že podporuje Azure AD je nosiče.</span><span class="sxs-lookup"><span data-stu-id="f4abd-243">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="f4abd-244">access_token</span><span class="sxs-lookup"><span data-stu-id="f4abd-244">access_token</span></span> |<span data-ttu-id="f4abd-245">Hello podepsané JSON Web Token (JWT) požadovaná.</span><span class="sxs-lookup"><span data-stu-id="f4abd-245">hello signed JSON Web Token (JWT) that you requested.</span></span> |
| <span data-ttu-id="f4abd-246">Obor</span><span class="sxs-lookup"><span data-stu-id="f4abd-246">scope</span></span> |<span data-ttu-id="f4abd-247">Hello obory, které hello token je platný pro.</span><span class="sxs-lookup"><span data-stu-id="f4abd-247">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="f4abd-248">Také můžete použít obory toocache tokeny pro pozdější použití.</span><span class="sxs-lookup"><span data-stu-id="f4abd-248">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="f4abd-249">expires_in</span><span class="sxs-lookup"><span data-stu-id="f4abd-249">expires_in</span></span> |<span data-ttu-id="f4abd-250">Délka Hello dobu, po kterou hello token je platný (v sekundách).</span><span class="sxs-lookup"><span data-stu-id="f4abd-250">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="f4abd-251">refresh_token</span><span class="sxs-lookup"><span data-stu-id="f4abd-251">refresh_token</span></span> |<span data-ttu-id="f4abd-252">Aktualizace tokenu OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f4abd-252">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="f4abd-253">Hello aplikace můžete použít tento token tooacquire další tokeny po vypršení platnosti tokenu aktuální hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-253">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="f4abd-254">Tokeny obnovení je dlouhodobé.</span><span class="sxs-lookup"><span data-stu-id="f4abd-254">Refresh tokens are long-lived.</span></span> <span data-ttu-id="f4abd-255">Můžete je tooresources tooretain přístup pro dlouhou dobu.</span><span class="sxs-lookup"><span data-stu-id="f4abd-255">You can use them tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="f4abd-256">Další informace najdete v tématu hello [odkaz tokenu Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="f4abd-256">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="f4abd-257">Chybové odpovědi bude vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="f4abd-257">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="f4abd-258">Parametr</span><span class="sxs-lookup"><span data-stu-id="f4abd-258">Parameter</span></span> | <span data-ttu-id="f4abd-259">Popis</span><span class="sxs-lookup"><span data-stu-id="f4abd-259">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f4abd-260">error</span><span class="sxs-lookup"><span data-stu-id="f4abd-260">error</span></span> |<span data-ttu-id="f4abd-261">Řetězec kódu chyby, kterou můžete použít tooclassify hello typů chyb, ke kterým dochází.</span><span class="sxs-lookup"><span data-stu-id="f4abd-261">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="f4abd-262">Můžete taky použít tooerrors tooreact řetězec hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-262">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="f4abd-263">error_description</span><span class="sxs-lookup"><span data-stu-id="f4abd-263">error_description</span></span> |<span data-ttu-id="f4abd-264">Konkrétní chybová zpráva, která vám může pomoct identifikovat hello hlavní příčinu chyby ověřování.</span><span class="sxs-lookup"><span data-stu-id="f4abd-264">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="3-use-hello-token"></a><span data-ttu-id="f4abd-265">3. Použití tokenu hello</span><span class="sxs-lookup"><span data-stu-id="f4abd-265">3. Use hello token</span></span>
<span data-ttu-id="f4abd-266">Teď, když jste úspěšně získat přístupový token, můžete použít hello token v žádosti o tooyour back endové webové rozhraní API včetně v hello `Authorization` hlavičky:</span><span class="sxs-lookup"><span data-stu-id="f4abd-266">Now that you've successfully acquired an access token, you can use hello token in requests tooyour back-end web APIs by including it in hello `Authorization` header:</span></span>

```
GET /tasks
Host: https://mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="4-refresh-hello-token"></a><span data-ttu-id="f4abd-267">4. Aktualizovat hello token</span><span class="sxs-lookup"><span data-stu-id="f4abd-267">4. Refresh hello token</span></span>
<span data-ttu-id="f4abd-268">Přístupové tokeny a ID tokeny jsou krátkodobou.</span><span class="sxs-lookup"><span data-stu-id="f4abd-268">Access tokens and ID tokens are short-lived.</span></span> <span data-ttu-id="f4abd-269">Po vypršení jejich platnosti, je nutné je aktualizovat toocontinue tooaccess prostředky.</span><span class="sxs-lookup"><span data-stu-id="f4abd-269">After they expire, you must refresh them toocontinue tooaccess resources.</span></span> <span data-ttu-id="f4abd-270">toodo toho odeslat další požadavek toohello POST `/token` koncový bod.</span><span class="sxs-lookup"><span data-stu-id="f4abd-270">toodo this, submit another POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="f4abd-271">Tuto chvíli zadejte hello `refresh_token` místo hello `code`:</span><span class="sxs-lookup"><span data-stu-id="f4abd-271">This time, provide hello `refresh_token` instead of hello `code`:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob
```

| <span data-ttu-id="f4abd-272">Parametr</span><span class="sxs-lookup"><span data-stu-id="f4abd-272">Parameter</span></span> | <span data-ttu-id="f4abd-273">Povinné?</span><span class="sxs-lookup"><span data-stu-id="f4abd-273">Required?</span></span> | <span data-ttu-id="f4abd-274">Popis</span><span class="sxs-lookup"><span data-stu-id="f4abd-274">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f4abd-275">P</span><span class="sxs-lookup"><span data-stu-id="f4abd-275">p</span></span> |<span data-ttu-id="f4abd-276">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-276">Required</span></span> |<span data-ttu-id="f4abd-277">Hello zásady, které byly použité tooacquire hello původní obnovovací token.</span><span class="sxs-lookup"><span data-stu-id="f4abd-277">hello policy that was used tooacquire hello original refresh token.</span></span> <span data-ttu-id="f4abd-278">V této žádosti nelze použít jinou zásadu.</span><span class="sxs-lookup"><span data-stu-id="f4abd-278">You cannot use a different policy in this request.</span></span> <span data-ttu-id="f4abd-279">Všimněte si, že přidáte tento parametr toohello *řetězec dotazu*, ne hello textu POST.</span><span class="sxs-lookup"><span data-stu-id="f4abd-279">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="f4abd-280">client_id</span><span class="sxs-lookup"><span data-stu-id="f4abd-280">client_id</span></span> |<span data-ttu-id="f4abd-281">Doporučené</span><span class="sxs-lookup"><span data-stu-id="f4abd-281">Recommended</span></span> |<span data-ttu-id="f4abd-282">ID aplikace Hello přiřazené tooyour aplikace v hello [portál Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="f4abd-282">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="f4abd-283">grant_type</span><span class="sxs-lookup"><span data-stu-id="f4abd-283">grant_type</span></span> |<span data-ttu-id="f4abd-284">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-284">Required</span></span> |<span data-ttu-id="f4abd-285">Hello typ udělení.</span><span class="sxs-lookup"><span data-stu-id="f4abd-285">hello type of grant.</span></span> <span data-ttu-id="f4abd-286">Pro tuto větev hello tok autorizačního kódu, musí být typ udělení hello `refresh_token`.</span><span class="sxs-lookup"><span data-stu-id="f4abd-286">For this leg of hello authorization code flow, hello grant type must be `refresh_token`.</span></span> |
| <span data-ttu-id="f4abd-287">Obor</span><span class="sxs-lookup"><span data-stu-id="f4abd-287">scope</span></span> |<span data-ttu-id="f4abd-288">Doporučené</span><span class="sxs-lookup"><span data-stu-id="f4abd-288">Recommended</span></span> |<span data-ttu-id="f4abd-289">Seznam obory oddělených mezerami.</span><span class="sxs-lookup"><span data-stu-id="f4abd-289">A space-separated list of scopes.</span></span> <span data-ttu-id="f4abd-290">Hodnota jeden obor označuje tooAzure AD obou hello oprávnění, které jsou požadovány.</span><span class="sxs-lookup"><span data-stu-id="f4abd-290">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="f4abd-291">Pomocí klienta hello ID jako obor hello ukazuje, že vaše aplikace vyžaduje přístupový token, který můžete použít u službou nebo webové rozhraní API, reprezentována hello stejné ID klienta.</span><span class="sxs-lookup"><span data-stu-id="f4abd-291">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="f4abd-292">Hello `offline_access` oboru označuje, že vaše aplikace budete potřebovat obnovovací token pro tooresources dlohotrvající přístup.</span><span class="sxs-lookup"><span data-stu-id="f4abd-292">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="f4abd-293">Můžete taky použít hello `openid` oboru toorequest token ID z Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="f4abd-293">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="f4abd-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="f4abd-294">redirect_uri</span></span> |<span data-ttu-id="f4abd-295">Nepovinné</span><span class="sxs-lookup"><span data-stu-id="f4abd-295">Optional</span></span> |<span data-ttu-id="f4abd-296">identifikátor URI hello aplikace, kterou jste dostali hello autorizační kód přesměrování Hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-296">hello redirect URI of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="f4abd-297">refresh_token</span><span class="sxs-lookup"><span data-stu-id="f4abd-297">refresh_token</span></span> |<span data-ttu-id="f4abd-298">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="f4abd-298">Required</span></span> |<span data-ttu-id="f4abd-299">Hello původní aktualizace token, který jste získali v druhé větev hello hello toku.</span><span class="sxs-lookup"><span data-stu-id="f4abd-299">hello original refresh token that you acquired in hello second leg of hello flow.</span></span> |

<span data-ttu-id="f4abd-300">Úspěšné odpovědi tokenu vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="f4abd-300">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="f4abd-301">Parametr</span><span class="sxs-lookup"><span data-stu-id="f4abd-301">Parameter</span></span> | <span data-ttu-id="f4abd-302">Popis</span><span class="sxs-lookup"><span data-stu-id="f4abd-302">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f4abd-303">not_before</span><span class="sxs-lookup"><span data-stu-id="f4abd-303">not_before</span></span> |<span data-ttu-id="f4abd-304">Hello čas, na které hello token je považován za platný v čase epoch.</span><span class="sxs-lookup"><span data-stu-id="f4abd-304">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="f4abd-305">token_type</span><span class="sxs-lookup"><span data-stu-id="f4abd-305">token_type</span></span> |<span data-ttu-id="f4abd-306">Hodnota Hello typ tokenu.</span><span class="sxs-lookup"><span data-stu-id="f4abd-306">hello token type value.</span></span> <span data-ttu-id="f4abd-307">Hello pouze zadejte, že podporuje Azure AD je nosiče.</span><span class="sxs-lookup"><span data-stu-id="f4abd-307">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="f4abd-308">access_token</span><span class="sxs-lookup"><span data-stu-id="f4abd-308">access_token</span></span> |<span data-ttu-id="f4abd-309">Hello podepsaný token JWT, které jste žádali.</span><span class="sxs-lookup"><span data-stu-id="f4abd-309">hello signed JWT that you requested.</span></span> |
| <span data-ttu-id="f4abd-310">Obor</span><span class="sxs-lookup"><span data-stu-id="f4abd-310">scope</span></span> |<span data-ttu-id="f4abd-311">Hello obory, které hello token je platný pro.</span><span class="sxs-lookup"><span data-stu-id="f4abd-311">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="f4abd-312">Také můžete použít hello obory toocache tokeny pro pozdější použití.</span><span class="sxs-lookup"><span data-stu-id="f4abd-312">You also can use hello scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="f4abd-313">expires_in</span><span class="sxs-lookup"><span data-stu-id="f4abd-313">expires_in</span></span> |<span data-ttu-id="f4abd-314">Délka Hello dobu, po kterou hello token je platný (v sekundách).</span><span class="sxs-lookup"><span data-stu-id="f4abd-314">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="f4abd-315">refresh_token</span><span class="sxs-lookup"><span data-stu-id="f4abd-315">refresh_token</span></span> |<span data-ttu-id="f4abd-316">Aktualizace tokenu OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="f4abd-316">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="f4abd-317">Hello aplikace můžete použít tento token tooacquire další tokeny po vypršení platnosti tokenu aktuální hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-317">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="f4abd-318">Aktualizujte tokeny je dlouhodobé a může být použité tooretain přístup tooresources pro dlouhou dobu.</span><span class="sxs-lookup"><span data-stu-id="f4abd-318">Refresh tokens are long-lived, and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="f4abd-319">Další informace najdete v tématu hello [odkaz tokenu Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="f4abd-319">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="f4abd-320">Chybové odpovědi bude vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="f4abd-320">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="f4abd-321">Parametr</span><span class="sxs-lookup"><span data-stu-id="f4abd-321">Parameter</span></span> | <span data-ttu-id="f4abd-322">Popis</span><span class="sxs-lookup"><span data-stu-id="f4abd-322">Description</span></span> |
| --- | --- |
| <span data-ttu-id="f4abd-323">error</span><span class="sxs-lookup"><span data-stu-id="f4abd-323">error</span></span> |<span data-ttu-id="f4abd-324">Řetězec kódu chyby, kterou můžete použít tooclassify typů chyb, ke kterým dochází.</span><span class="sxs-lookup"><span data-stu-id="f4abd-324">An error code string that you can use tooclassify types of errors that occur.</span></span> <span data-ttu-id="f4abd-325">Můžete taky použít tooerrors tooreact řetězec hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-325">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="f4abd-326">error_description</span><span class="sxs-lookup"><span data-stu-id="f4abd-326">error_description</span></span> |<span data-ttu-id="f4abd-327">Konkrétní chybová zpráva, která vám může pomoct identifikovat hello hlavní příčinu chyby ověřování.</span><span class="sxs-lookup"><span data-stu-id="f4abd-327">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="use-your-own-azure-ad-b2c-directory"></a><span data-ttu-id="f4abd-328">Použít vlastní adresáře Azure AD B2C</span><span class="sxs-lookup"><span data-stu-id="f4abd-328">Use your own Azure AD B2C directory</span></span>
<span data-ttu-id="f4abd-329">tootry tyto požadavky sami, dokončení hello následující kroky.</span><span class="sxs-lookup"><span data-stu-id="f4abd-329">tootry these requests yourself, complete hello following steps.</span></span> <span data-ttu-id="f4abd-330">Nahraďte hello ukázkové hodnoty, které jsme použili v tomto článku vlastními hodnotami.</span><span class="sxs-lookup"><span data-stu-id="f4abd-330">Replace hello example values we used in this article with your own values.</span></span>

1. <span data-ttu-id="f4abd-331">[Vytvořte adresář služby Azure AD B2C](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="f4abd-331">[Create an Azure AD B2C directory](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="f4abd-332">Použijte název hello adresáře v žádostech o hello.</span><span class="sxs-lookup"><span data-stu-id="f4abd-332">Use hello name of your directory in hello requests.</span></span>
2. <span data-ttu-id="f4abd-333">[Vytvoření aplikace](active-directory-b2c-app-registration.md) tooobtain ID aplikací a identifikátor URI pro přesměrování.</span><span class="sxs-lookup"><span data-stu-id="f4abd-333">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a redirect URI.</span></span> <span data-ttu-id="f4abd-334">Zahrňte nativního klienta ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="f4abd-334">Include a native client in your app.</span></span>
3. <span data-ttu-id="f4abd-335">[Vytvoření vlastních zásad](active-directory-b2c-reference-policies.md) tooobtain názvy zásad.</span><span class="sxs-lookup"><span data-stu-id="f4abd-335">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

