---
title: "Webové přihlášení s OpenID Connect - Azure AD B2C | Microsoft Docs"
description: "Vytváření webové aplikace pomocí Azure Active Directory hello implementace ověřovacího protokolu OpenID Connect hello"
services: active-directory-b2c
documentationcenter: 
author: saeedakhter-msft
manager: krassk
editor: parakhj
ms.assetid: 21d420c8-3c10-4319-b681-adf2e89e7ede
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/16/2017
ms.author: saeedakhter-msft
ms.openlocfilehash: 89e9cfa28e4e5c34304aea355cca2dd0c4b42abc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-web-sign-in-with-openid-connect"></a><span data-ttu-id="7929a-103">Azure Active Directory B2C: Přihlášení Web s OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="7929a-103">Azure Active Directory B2C: Web sign-in with OpenID Connect</span></span>
<span data-ttu-id="7929a-104">OpenID Connect je ověřovací protokol, nástavbou OAuth 2.0, které můžou být použité toosecurely přihlášení uživatelů tooweb aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-104">OpenID Connect is an authentication protocol, built on top of OAuth 2.0, that can be used toosecurely sign users in tooweb applications.</span></span> <span data-ttu-id="7929a-105">Pomocí Azure Active Directory B2C hello (Azure AD B2C) implementaci OpenID Connect, můžete externí registrace, přihlášení a prostředí pro další správu identit ve vaší webové aplikace tooAzure služby Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="7929a-105">By using hello Azure Active Directory B2C (Azure AD B2C) implementation of OpenID Connect, you can outsource sign-up, sign-in, and other identity management experiences in your web applications tooAzure Active Directory (Azure AD).</span></span> <span data-ttu-id="7929a-106">Tento průvodce vám ukáže, jak toodo Ano způsobem nezávislé na jazyku.</span><span class="sxs-lookup"><span data-stu-id="7929a-106">This guide shows you how toodo so in a language-independent manner.</span></span> <span data-ttu-id="7929a-107">Popisuje, jak toosend a přijímat zprávy HTTP bez použití některé z našich knihovny open-source.</span><span class="sxs-lookup"><span data-stu-id="7929a-107">It describes how toosend and receive HTTP messages without using any of our open-source libraries.</span></span>

<span data-ttu-id="7929a-108">[OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html) rozšiřuje hello OAuth 2.0 *autorizace* protokol pro použití jako *ověřování* protokolu.</span><span class="sxs-lookup"><span data-stu-id="7929a-108">[OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html) extends hello OAuth 2.0 *authorization* protocol for use as an *authentication* protocol.</span></span> <span data-ttu-id="7929a-109">To vám umožní tooperform jednotné přihlašování pomocí OAuth.</span><span class="sxs-lookup"><span data-stu-id="7929a-109">This allows you tooperform single sign-on by using OAuth.</span></span> <span data-ttu-id="7929a-110">Zavádí koncepci hello *ID token*, což je token zabezpečení, který umožňuje hello klienta tooverify hello identitu uživatele hello a získat základní profil informace o uživateli hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-110">It introduces hello concept of an *ID token*, which is a security token that allows hello client tooverify hello identity of hello user and obtain basic profile information about hello user.</span></span>

<span data-ttu-id="7929a-111">Vzhledem k tomu, že ji rozšiřuje OAuth 2.0, taky umožňuje získat toosecurely aplikace *přístup tokeny*.</span><span class="sxs-lookup"><span data-stu-id="7929a-111">Because it extends OAuth 2.0, it also enables apps toosecurely acquire *access tokens*.</span></span> <span data-ttu-id="7929a-112">Můžete použít access_tokens tooaccess prostředky, které jsou zabezpečeny [serveru ověřování](active-directory-b2c-reference-protocols.md#the-basics).</span><span class="sxs-lookup"><span data-stu-id="7929a-112">You can use access_tokens tooaccess resources that are secured by an [authorization server](active-directory-b2c-reference-protocols.md#the-basics).</span></span> <span data-ttu-id="7929a-113">Doporučujeme OpenID Connect, pokud vytváříte webovou aplikaci, která je hostovaná na serveru a přístupných prostřednictvím prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="7929a-113">We recommend OpenID Connect if you're building a web application that is hosted on a server and accessed through a browser.</span></span> <span data-ttu-id="7929a-114">Pokud chcete tooadd identity management tooyour mobilní nebo desktopové aplikace pomocí Azure AD B2C, měli byste použít [OAuth 2.0](active-directory-b2c-reference-oauth-code.md) místo OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="7929a-114">If you want tooadd identity management tooyour mobile or desktop applications by using Azure AD B2C, you should use [OAuth 2.0](active-directory-b2c-reference-oauth-code.md) rather than OpenID Connect.</span></span>

<span data-ttu-id="7929a-115">Azure AD B2C rozšiřuje hello standardní OpenID Connect toodo protokol více než jednoduché ověřování a autorizace.</span><span class="sxs-lookup"><span data-stu-id="7929a-115">Azure AD B2C extends hello standard OpenID Connect protocol toodo more than simple authentication and authorization.</span></span> <span data-ttu-id="7929a-116">Zavádí hello [zásad parametr](active-directory-b2c-reference-policies.md), což vám umožní toouse OpenID Connect tooadd uživatelského prostředí – například registrace, přihlašování a správy profilů – tooyour aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-116">It introduces hello [policy parameter](active-directory-b2c-reference-policies.md), which enables you toouse OpenID Connect tooadd user experiences--such as sign-up, sign-in, and profile management--tooyour app.</span></span> <span data-ttu-id="7929a-117">Zde jsme ukazují, jak toouse OpenID Connect a zásady tooimplement každá z těchto vyskytne v webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="7929a-117">Here, we show you how toouse OpenID Connect and policies tooimplement each of these experiences in your web applications.</span></span> <span data-ttu-id="7929a-118">Také ukážeme jak tooget přístupových tokenů pro přístup k webovým rozhraním API.</span><span class="sxs-lookup"><span data-stu-id="7929a-118">We'll also show you how tooget access tokens for accessing web APIs.</span></span>

<span data-ttu-id="7929a-119">Hello příklad HTTP požadavků v další části hello používat naše ukázka adresáři B2C, fabrikamb2c.onmicrosoft.com, a také naše ukázková aplikace, https://aadb2cplayground.azurewebsites.net a zásady.</span><span class="sxs-lookup"><span data-stu-id="7929a-119">hello example HTTP requests in hello next section use our sample B2C directory, fabrikamb2c.onmicrosoft.com, as well as our sample application, https://aadb2cplayground.azurewebsites.net, and policies.</span></span> <span data-ttu-id="7929a-120">Jste volné tootry out hello sami požadavky s využitím těchto hodnot, nebo je můžete nahradit vlastními.</span><span class="sxs-lookup"><span data-stu-id="7929a-120">You're free tootry out hello requests yourself by using these values, or you can replace them with your own.</span></span>
<span data-ttu-id="7929a-121">Zjistěte, jak příliš[získat klienta B2C, aplikace a zásady](#use-your-own-b2c-directory).</span><span class="sxs-lookup"><span data-stu-id="7929a-121">Learn how too[get your own B2C tenant, application, and policies](#use-your-own-b2c-directory).</span></span>

## <a name="send-authentication-requests"></a><span data-ttu-id="7929a-122">Odeslání žádosti o ověření</span><span class="sxs-lookup"><span data-stu-id="7929a-122">Send authentication requests</span></span>
<span data-ttu-id="7929a-123">Když webové aplikace musí tooauthenticate hello uživatele a spustit zásadu, se přímá hello uživatele toohello `/authorize` koncový bod.</span><span class="sxs-lookup"><span data-stu-id="7929a-123">When your web app needs tooauthenticate hello user and execute a policy, it can direct hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="7929a-124">Toto je část interaktivní hello hello toku, kde hello uživatel provede akci, v závislosti na zásadách hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-124">This is hello interactive portion of hello flow, where hello user takes action, depending on hello policy.</span></span>

<span data-ttu-id="7929a-125">V této žádosti o hello klient určuje hello oprávnění, že tato služba vyžaduje tooacquire od uživatele hello v hello `scope` parametr a hello tooexecute zásad v hello `p` parametr.</span><span class="sxs-lookup"><span data-stu-id="7929a-125">In this request, hello client indicates hello permissions that it needs tooacquire from hello user in hello `scope` parameter and hello policy tooexecute in hello `p` parameter.</span></span> <span data-ttu-id="7929a-126">Tři příklady jsou uvedeny v následující části (s zalomení řádků čitelnější), hello každý pomocí jiné zásady.</span><span class="sxs-lookup"><span data-stu-id="7929a-126">Three examples are provided in hello following sections (with line breaks for readability), each using a different policy.</span></span> <span data-ttu-id="7929a-127">tooget chování pro každou žádost o tom, jak funguje, zkuste žádost hello vkládání do prohlížeče a jejím spuštěním.</span><span class="sxs-lookup"><span data-stu-id="7929a-127">tooget a feel for how each request works, try pasting hello request into a browser and running it.</span></span>

#### <a name="use-a-sign-in-policy"></a><span data-ttu-id="7929a-128">Použít zásadu přihlášení</span><span class="sxs-lookup"><span data-stu-id="7929a-128">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

#### <a name="use-a-sign-up-policy"></a><span data-ttu-id="7929a-129">Použít zásadu registrace</span><span class="sxs-lookup"><span data-stu-id="7929a-129">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

#### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="7929a-130">Pomocí zásady úpravy profilu</span><span class="sxs-lookup"><span data-stu-id="7929a-130">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="7929a-131">Parametr</span><span class="sxs-lookup"><span data-stu-id="7929a-131">Parameter</span></span> | <span data-ttu-id="7929a-132">Povinné?</span><span class="sxs-lookup"><span data-stu-id="7929a-132">Required?</span></span> | <span data-ttu-id="7929a-133">Popis</span><span class="sxs-lookup"><span data-stu-id="7929a-133">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7929a-134">client_id</span><span class="sxs-lookup"><span data-stu-id="7929a-134">client_id</span></span> |<span data-ttu-id="7929a-135">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-135">Required</span></span> |<span data-ttu-id="7929a-136">Hello aplikace ID této hello [portál Azure](https://portal.azure.com/) přiřazené tooyour aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-136">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="7929a-137">response_type</span><span class="sxs-lookup"><span data-stu-id="7929a-137">response_type</span></span> |<span data-ttu-id="7929a-138">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-138">Required</span></span> |<span data-ttu-id="7929a-139">Typ odpovědi Hello, které musí obsahovat ID token pro OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="7929a-139">hello response type, which must include an ID token for OpenID Connect.</span></span> <span data-ttu-id="7929a-140">Pokud vaše webová aplikace také musí tokeny pro volání webového rozhraní API, můžete použít `code+id_token`, jak jsme jste na jednom místě.</span><span class="sxs-lookup"><span data-stu-id="7929a-140">If your web app also needs tokens for calling a web API, you can use `code+id_token`, as we've done here.</span></span> |
| <span data-ttu-id="7929a-141">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="7929a-141">redirect_uri</span></span> |<span data-ttu-id="7929a-142">Doporučené</span><span class="sxs-lookup"><span data-stu-id="7929a-142">Recommended</span></span> |<span data-ttu-id="7929a-143">Hello `redirect_uri` parametr vaší aplikace, kde můžete odesílat a přijímat aplikace odpovědi ověřování.</span><span class="sxs-lookup"><span data-stu-id="7929a-143">hello `redirect_uri` parameter of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="7929a-144">Se musí přesně shodovat s jedním z hello `redirect_uri` parametry, které jste zaregistrovali hello portálu, s tím rozdílem, že musí být kódovaná adresou URL.</span><span class="sxs-lookup"><span data-stu-id="7929a-144">It must exactly match one of hello `redirect_uri` parameters that you registered in hello portal, except that it must be URL encoded.</span></span> |
| <span data-ttu-id="7929a-145">Obor</span><span class="sxs-lookup"><span data-stu-id="7929a-145">scope</span></span> |<span data-ttu-id="7929a-146">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-146">Required</span></span> |<span data-ttu-id="7929a-147">Seznam obory oddělených mezerami.</span><span class="sxs-lookup"><span data-stu-id="7929a-147">A space-separated list of scopes.</span></span> <span data-ttu-id="7929a-148">Hodnota jeden obor označuje tooAzure AD obě oprávnění, které jsou požadovány.</span><span class="sxs-lookup"><span data-stu-id="7929a-148">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="7929a-149">Hello `openid` oboru označuje toosign oprávnění v hello uživatele a získání dat o hello uživatele v podobě hello ID tokenů (Další toocome na tomto dále v článku hello).</span><span class="sxs-lookup"><span data-stu-id="7929a-149">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens (more toocome on this later in hello article).</span></span> <span data-ttu-id="7929a-150">Hello `offline_access` obor je volitelné pro webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-150">hello `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="7929a-151">Označuje, že vaše aplikace bude potřebovat *obnovovací token* pro tooresources dlohotrvající přístup.</span><span class="sxs-lookup"><span data-stu-id="7929a-151">It indicates that your app will need a *refresh token* for long-lived access tooresources.</span></span> |
| <span data-ttu-id="7929a-152">response_mode</span><span class="sxs-lookup"><span data-stu-id="7929a-152">response_mode</span></span> |<span data-ttu-id="7929a-153">Doporučené</span><span class="sxs-lookup"><span data-stu-id="7929a-153">Recommended</span></span> |<span data-ttu-id="7929a-154">Hello metoda, která by měla být použité toosend hello výsledné autorizační kód back tooyour aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-154">hello method that should be used toosend hello resulting authorization code back tooyour app.</span></span> <span data-ttu-id="7929a-155">Může být buď `query`, `form_post`, nebo `fragment`.</span><span class="sxs-lookup"><span data-stu-id="7929a-155">It can be either `query`, `form_post`, or `fragment`.</span></span>  <span data-ttu-id="7929a-156">Hello `form_post` režim odpovědi se doporučuje pro zvýšení zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="7929a-156">hello `form_post` response mode is recommended for best security.</span></span> |
| <span data-ttu-id="7929a-157">state</span><span class="sxs-lookup"><span data-stu-id="7929a-157">state</span></span> |<span data-ttu-id="7929a-158">Doporučené</span><span class="sxs-lookup"><span data-stu-id="7929a-158">Recommended</span></span> |<span data-ttu-id="7929a-159">Hodnota součástí hello požadavek, který je také vrácený v odpovědi tokenu hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-159">A value included in hello request that is also returned in hello token response.</span></span> <span data-ttu-id="7929a-160">Může být řetězec o délce veškerý obsah, který chcete.</span><span class="sxs-lookup"><span data-stu-id="7929a-160">It can be a string of any content that you want.</span></span> <span data-ttu-id="7929a-161">Náhodně generované jedinečné hodnoty se obvykle používá pro prevence útoků padělání požadavku posílaného mezi weby.</span><span class="sxs-lookup"><span data-stu-id="7929a-161">A randomly generated unique value is typically used for preventing cross-site request forgery attacks.</span></span> <span data-ttu-id="7929a-162">Stav Hello je také použít tooencode informace o stavu hello uživatele v aplikaci hello předtím, než požadavek na ověření hello došlo k chybě, jako je například hello stránky, které byly na.</span><span class="sxs-lookup"><span data-stu-id="7929a-162">hello state is also used tooencode information about hello user's state in hello app before hello authentication request occurred, such as hello page they were on.</span></span> |
| <span data-ttu-id="7929a-163">hodnotu Nonce</span><span class="sxs-lookup"><span data-stu-id="7929a-163">nonce</span></span> |<span data-ttu-id="7929a-164">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-164">Required</span></span> |<span data-ttu-id="7929a-165">Hodnota, zahrnuté v požadavku hello (vygenerovaný hello aplikací), který bude zahrnut v hello výsledný token ID jako deklarace identity.</span><span class="sxs-lookup"><span data-stu-id="7929a-165">A value included in hello request (generated by hello app) that will be included in hello resulting ID token as a claim.</span></span> <span data-ttu-id="7929a-166">aplikace Hello můžete pak ověřte, že tato hodnota toomitigate opětovného přehrání tokenu útoků.</span><span class="sxs-lookup"><span data-stu-id="7929a-166">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="7929a-167">Hodnota Hello je obvykle náhodnou jedinečného řetězce, který lze použít tooidentify hello původ hello požadavku.</span><span class="sxs-lookup"><span data-stu-id="7929a-167">hello value is typically a randomized unique string that can be used tooidentify hello origin of hello request.</span></span> |
| <span data-ttu-id="7929a-168">P</span><span class="sxs-lookup"><span data-stu-id="7929a-168">p</span></span> |<span data-ttu-id="7929a-169">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-169">Required</span></span> |<span data-ttu-id="7929a-170">Hello zásady, které budou spuštěny.</span><span class="sxs-lookup"><span data-stu-id="7929a-170">hello policy that will be executed.</span></span> <span data-ttu-id="7929a-171">Je hello název zásady, který je vytvořen v svého klienta B2C.</span><span class="sxs-lookup"><span data-stu-id="7929a-171">It is hello name of a policy that is created in your B2C tenant.</span></span> <span data-ttu-id="7929a-172">Hodnota názvu Hello zásad by měl začínat obráceným `b2c\_1\_`.</span><span class="sxs-lookup"><span data-stu-id="7929a-172">hello policy name value should begin with `b2c\_1\_`.</span></span> <span data-ttu-id="7929a-173">Další informace o zásadách a hello [rozšiřitelném rozhraní zásad](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="7929a-173">Learn more about policies and hello [extensible policy framework](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="7929a-174">řádku</span><span class="sxs-lookup"><span data-stu-id="7929a-174">prompt</span></span> |<span data-ttu-id="7929a-175">Nepovinné</span><span class="sxs-lookup"><span data-stu-id="7929a-175">Optional</span></span> |<span data-ttu-id="7929a-176">Typ Hello interakce s uživatelem, který je vyžadován.</span><span class="sxs-lookup"><span data-stu-id="7929a-176">hello type of user interaction that is required.</span></span> <span data-ttu-id="7929a-177">Hello jediná platná hodnota v tuto chvíli je `login`, které vynutí hello uživatele tooenter přihlašovacích údajů tohoto požadavku.</span><span class="sxs-lookup"><span data-stu-id="7929a-177">hello only valid value at this time is `login`, which forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="7929a-178">Jednotné přihlašování se neprojeví.</span><span class="sxs-lookup"><span data-stu-id="7929a-178">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="7929a-179">V tomto okamžiku hello uživateli se zobrazí výzva pracovní postup pro zásady toocomplete hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-179">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="7929a-180">To může zahrnovat uživatele hello zadáním uživatelského jména a hesla, přihlášení pomocí identitu sociálních registrací hello adresář, nebo jakékoli jiné číslo kroků, v závislosti na tom, jak je definována zásada hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-180">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps, depending on how hello policy is defined.</span></span>

<span data-ttu-id="7929a-181">Po dokončení hello zásad hello uživatele Azure AD vrátí tooyour aplikace na odpovědi na hello uvedené `redirect_uri` parametr hello způsobem, který je uveden v hello `response_mode` parametr.</span><span class="sxs-lookup"><span data-stu-id="7929a-181">After hello user completes hello policy, Azure AD returns a response tooyour app at hello indicated `redirect_uri` parameter, by using hello method that is specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="7929a-182">pro každou z předchozích případech nezávislé hello zásad, která se provedla hello je hello stejné Hello odpovědi.</span><span class="sxs-lookup"><span data-stu-id="7929a-182">hello response is hello same for each of hello preceding cases, independent of hello policy that is executed.</span></span>

<span data-ttu-id="7929a-183">Úspěšná odpověď pomocí `response_mode=fragment` bude vypadat:</span><span class="sxs-lookup"><span data-stu-id="7929a-183">A successful response using `response_mode=fragment` would look like:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="7929a-184">Parametr</span><span class="sxs-lookup"><span data-stu-id="7929a-184">Parameter</span></span> | <span data-ttu-id="7929a-185">Popis</span><span class="sxs-lookup"><span data-stu-id="7929a-185">Description</span></span> |
| --- | --- |
| <span data-ttu-id="7929a-186">požadavku id_token</span><span class="sxs-lookup"><span data-stu-id="7929a-186">id_token</span></span> |<span data-ttu-id="7929a-187">Hello ID token, který hello požadované aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-187">hello ID token that hello app requested.</span></span> <span data-ttu-id="7929a-188">Můžete použít hello ID tokenu tooverify hello identitu uživatele a zahájit relaci s hello uživatele.</span><span class="sxs-lookup"><span data-stu-id="7929a-188">You can use hello ID token tooverify hello user's identity and begin a session with hello user.</span></span> <span data-ttu-id="7929a-189">Další informace o ID tokeny a jejich obsah jsou součástí hello [odkaz tokenu Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="7929a-189">More details on ID tokens and their contents are included in hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="7929a-190">Kód</span><span class="sxs-lookup"><span data-stu-id="7929a-190">code</span></span> |<span data-ttu-id="7929a-191">Hello autorizační kód hello aplikaci vyžaduje, pokud jste použili `response_type=code+id_token`.</span><span class="sxs-lookup"><span data-stu-id="7929a-191">hello authorization code that hello app requested, if you used `response_type=code+id_token`.</span></span> <span data-ttu-id="7929a-192">pro cílový prostředek, můžete použít aplikaci Hello hello autorizační kód toorequest přístupový token.</span><span class="sxs-lookup"><span data-stu-id="7929a-192">hello app can use hello authorization code toorequest an access token for a target resource.</span></span> <span data-ttu-id="7929a-193">Kódy ověřování jsou velmi krátkodobou.</span><span class="sxs-lookup"><span data-stu-id="7929a-193">Authorization codes are very short-lived.</span></span> <span data-ttu-id="7929a-194">Obvykle se jejich platnost vyprší po přibližně 10 minut.</span><span class="sxs-lookup"><span data-stu-id="7929a-194">Typically, they expire after about 10 minutes.</span></span> |
| <span data-ttu-id="7929a-195">state</span><span class="sxs-lookup"><span data-stu-id="7929a-195">state</span></span> |<span data-ttu-id="7929a-196">Pokud `state` parametr je zahrnuta v žádosti o hello hello stejnou hodnotu by se měla objevit v odpovědi hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-196">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="7929a-197">Hello aplikace by měl ověřit, že hello `state` hodnoty v hello žádosti a odpovědi jsou identické.</span><span class="sxs-lookup"><span data-stu-id="7929a-197">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

<span data-ttu-id="7929a-198">Chybové odpovědi lze je také odeslat toohello `redirect_uri` parametr tak, že aplikace hello můžete správně zpracovat:</span><span class="sxs-lookup"><span data-stu-id="7929a-198">Error responses can also be sent toohello `redirect_uri` parameter so that hello app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="7929a-199">Parametr</span><span class="sxs-lookup"><span data-stu-id="7929a-199">Parameter</span></span> | <span data-ttu-id="7929a-200">Popis</span><span class="sxs-lookup"><span data-stu-id="7929a-200">Description</span></span> |
| --- | --- |
| <span data-ttu-id="7929a-201">error</span><span class="sxs-lookup"><span data-stu-id="7929a-201">error</span></span> |<span data-ttu-id="7929a-202">Kód chyby řetězec, který lze použít tooclassify typů chyb, které nastat a který lze použít tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="7929a-202">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="7929a-203">error_description</span><span class="sxs-lookup"><span data-stu-id="7929a-203">error_description</span></span> |<span data-ttu-id="7929a-204">Konkrétní chybová zpráva, která může pomoci vývojář identifikovat hello hlavní příčinu chyby ověřování.</span><span class="sxs-lookup"><span data-stu-id="7929a-204">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="7929a-205">state</span><span class="sxs-lookup"><span data-stu-id="7929a-205">state</span></span> |<span data-ttu-id="7929a-206">Viz úplný popis hello v první tabulce hello v této části.</span><span class="sxs-lookup"><span data-stu-id="7929a-206">See hello full description in hello first table in this section.</span></span> <span data-ttu-id="7929a-207">Pokud `state` parametr je zahrnuta v žádosti o hello hello stejnou hodnotu by se měla objevit v odpovědi hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-207">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="7929a-208">Hello aplikace by měl ověřit, že hello `state` hodnoty v hello žádosti a odpovědi jsou identické.</span><span class="sxs-lookup"><span data-stu-id="7929a-208">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

## <a name="validate-hello-id-token"></a><span data-ttu-id="7929a-209">Ověřit hello ID token</span><span class="sxs-lookup"><span data-stu-id="7929a-209">Validate hello ID token</span></span>
<span data-ttu-id="7929a-210">Právě přijetí tokenu ID není dostatek tooauthenticate hello uživatele.</span><span class="sxs-lookup"><span data-stu-id="7929a-210">Just receiving an ID token is not enough tooauthenticate hello user.</span></span> <span data-ttu-id="7929a-211">Musíte ověřit podpis tokenu ID hello a ověřit hello deklarace identity ve hello tokenu podle požadavků vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-211">You must validate hello ID token's signature and verify hello claims in hello token per your app's requirements.</span></span> <span data-ttu-id="7929a-212">Používá Azure AD B2C [webové tokeny JSON (Jwt)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) a veřejný klíč kryptografie toosign tokeny a ověřte, zda je platný.</span><span class="sxs-lookup"><span data-stu-id="7929a-212">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography toosign tokens and verify that they are valid.</span></span>

<span data-ttu-id="7929a-213">Existuje mnoho knihovny open-source, které jsou k dispozici pro ověření tokeny Jwt, v závislosti na vaší jazykové předvolby.</span><span class="sxs-lookup"><span data-stu-id="7929a-213">There are many open-source libraries that are available for validating JWTs, depending on your language of preference.</span></span> <span data-ttu-id="7929a-214">Doporučujeme, abyste zkoumat těchto možností než implementace vlastní logiky ověřování.</span><span class="sxs-lookup"><span data-stu-id="7929a-214">We recommend exploring those options rather than implementing your own validation logic.</span></span> <span data-ttu-id="7929a-215">Zde Hello informace budou užitečné v nad tím, jak používat tooproperly tyto knihovny.</span><span class="sxs-lookup"><span data-stu-id="7929a-215">hello information here will be useful in figuring out how tooproperly use those libraries.</span></span>

<span data-ttu-id="7929a-216">Azure AD B2C má OpenID Connect metadata koncový bod, který umožňuje aplikaci toofetch informace o Azure AD B2C za běhu.</span><span class="sxs-lookup"><span data-stu-id="7929a-216">Azure AD B2C has an OpenID Connect metadata endpoint, which allows an app toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="7929a-217">Tyto informace zahrnují koncových bodů, obsah tokenu a token podpisových klíčů.</span><span class="sxs-lookup"><span data-stu-id="7929a-217">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="7929a-218">Je dokument metadat JSON pro každé zásady v svého klienta B2C.</span><span class="sxs-lookup"><span data-stu-id="7929a-218">There is a JSON metadata document for each policy in your B2C tenant.</span></span> <span data-ttu-id="7929a-219">Například dokumentu metadat hello hello `b2c_1_sign_in` zásad v `fabrikamb2c.onmicrosoft.com` se nachází na:</span><span class="sxs-lookup"><span data-stu-id="7929a-219">For example, hello metadata document for hello `b2c_1_sign_in` policy in `fabrikamb2c.onmicrosoft.com` is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="7929a-220">Jedna z vlastností hello tohoto dokumentu konfigurace je `jwks_uri`, jehož hodnota pro stejné zásady by hello:</span><span class="sxs-lookup"><span data-stu-id="7929a-220">One of hello properties of this configuration document is `jwks_uri`, whose value for hello same policy would be:</span></span>

<span data-ttu-id="7929a-221">`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`.</span><span class="sxs-lookup"><span data-stu-id="7929a-221">`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`.</span></span>

<span data-ttu-id="7929a-222">toodetermine zásadu, které byl použit v podpis tokenu ID (a z kde toofetch hello metadata), máte dvě možnosti.</span><span class="sxs-lookup"><span data-stu-id="7929a-222">toodetermine which policy was used in signing an ID token (and from where toofetch hello metadata), you have two options.</span></span> <span data-ttu-id="7929a-223">Nejprve je název zásady hello součástí hello `acr` deklarací identity v tokenu ID hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-223">First, hello policy name is included in hello `acr` claim in hello ID token.</span></span> <span data-ttu-id="7929a-224">Informace o tom, jak tooparse hello deklarací z tokenu ID najdete v tématu hello [odkaz tokenu Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="7929a-224">For information on how tooparse hello claims from an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="7929a-225">Jinak se zásady hello tooencode v hello hodnotu hello `state` parametr při vydání hello požadavku a pak dekódovat toodetermine zásadu, které byl použit.</span><span class="sxs-lookup"><span data-stu-id="7929a-225">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request, and then decode it toodetermine which policy was used.</span></span> <span data-ttu-id="7929a-226">Buď metoda je platná.</span><span class="sxs-lookup"><span data-stu-id="7929a-226">Either method is valid.</span></span>

<span data-ttu-id="7929a-227">Poté, co jste získali hello dokument metadat z hello OpenID Connect metadat koncového bodu, můžete použít hello RSA 256 veřejných klíčů (které jsou umístěné na tento koncový bod) toovalidate hello podpis tokenu ID hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-227">After you've acquired hello metadata document from hello OpenID Connect metadata endpoint, you can use hello RSA 256 public keys (which are located at this endpoint) toovalidate hello signature of hello ID token.</span></span> <span data-ttu-id="7929a-228">Může být více klíčů uvedený na tento koncový bod v libovolném bodě v čase, každý se identifikovanou pomocí `kid` deklarací identity.</span><span class="sxs-lookup"><span data-stu-id="7929a-228">There might be multiple keys listed at this endpoint at any given point in time, each identified by a `kid` claim.</span></span> <span data-ttu-id="7929a-229">Hello hlavička hello ID tokenu také obsahuje `kid` deklarace identity, která označuje, která z těchto klíčů byla použité toosign hello ID token.</span><span class="sxs-lookup"><span data-stu-id="7929a-229">hello header of hello ID token also contains a `kid` claim, which indicates which of these keys was used toosign hello ID token.</span></span> <span data-ttu-id="7929a-230">Další informace najdete v tématu hello [odkaz tokenu Azure AD B2C](active-directory-b2c-reference-tokens.md) (hello části na [ověřování tokenů](active-directory-b2c-reference-tokens.md#token-validation), zejména).</span><span class="sxs-lookup"><span data-stu-id="7929a-230">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md) (hello section on [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), in particular).</span></span>
<!--TODO: Improve hello information on this-->

<span data-ttu-id="7929a-231">Po jste ověření podpisu hello hello ID tokenu, existuje několik deklarace identity, je nutné, aby tooverify.</span><span class="sxs-lookup"><span data-stu-id="7929a-231">After you've validated hello signature of hello ID token, there are several claims that you need tooverify.</span></span> <span data-ttu-id="7929a-232">Například:</span><span class="sxs-lookup"><span data-stu-id="7929a-232">For instance:</span></span>

* <span data-ttu-id="7929a-233">Měli byste ověřit, hello `nonce` deklarace identity tooprevent opětovného přehrání tokenu útoky.</span><span class="sxs-lookup"><span data-stu-id="7929a-233">You should validate hello `nonce` claim tooprevent token replay attacks.</span></span> <span data-ttu-id="7929a-234">Její hodnota musí být zadaný v hello požádat o přihlášení.</span><span class="sxs-lookup"><span data-stu-id="7929a-234">Its value should be what you specified in hello sign-in request.</span></span>
* <span data-ttu-id="7929a-235">Měli byste ověřit, hello `aud` deklarace identity tooensure, který hello ID token byl vydán pro vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="7929a-235">You should validate hello `aud` claim tooensure that hello ID token was issued for your app.</span></span> <span data-ttu-id="7929a-236">Její hodnota musí být ID aplikace hello vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-236">Its value should be hello application ID of your app.</span></span>
* <span data-ttu-id="7929a-237">Měli byste ověřit, hello `iat` a `exp` nevypršela platnost tooensure, který hello ID tokenu deklarací identity.</span><span class="sxs-lookup"><span data-stu-id="7929a-237">You should validate hello `iat` and `exp` claims tooensure that hello ID token has not expired.</span></span>

<span data-ttu-id="7929a-238">Existují také několik další ověření, které byste měli provést.</span><span class="sxs-lookup"><span data-stu-id="7929a-238">There are also several more validations that you should perform.</span></span> <span data-ttu-id="7929a-239">Tyto jsou podrobně popsány v hello [OpenID Connect základní specifikace](http://openid.net/specs/openid-connect-core-1_0.html).  Můžete také toovalidate další deklarace identity, v závislosti na vašem scénáři.</span><span class="sxs-lookup"><span data-stu-id="7929a-239">These are described in detail in hello [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).  You might also want toovalidate additional claims, depending on your scenario.</span></span> <span data-ttu-id="7929a-240">Některé běžné ověření patří:</span><span class="sxs-lookup"><span data-stu-id="7929a-240">Some common validations include:</span></span>

* <span data-ttu-id="7929a-241">Zajištění, že který hello uživatele či organizace má zaregistrovali do aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-241">Ensuring that hello user/organization has signed up for hello app.</span></span>
* <span data-ttu-id="7929a-242">Zajištění hello má správná oprávnění autorizace.</span><span class="sxs-lookup"><span data-stu-id="7929a-242">Ensuring that hello user has proper authorization/privileges.</span></span>
* <span data-ttu-id="7929a-243">Zajištění, že došlo k sílu ověřování, jako je například ověřování Azure Multi-Factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="7929a-243">Ensuring that a certain strength of authentication has occurred, such as Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="7929a-244">Další informace o deklaracích identity hello v tokenu ID najdete v tématu hello [odkaz tokenu Azure AD B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="7929a-244">For more information on hello claims in an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="7929a-245">Po ověření tokenu ID hello můžete začít relaci s hello uživatelem.</span><span class="sxs-lookup"><span data-stu-id="7929a-245">After you have validated hello ID token, you can begin a session with hello user.</span></span> <span data-ttu-id="7929a-246">Hello deklarací identity můžete použít v hello ID tokenu tooobtain informace o uživateli hello ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="7929a-246">You can use hello claims in hello ID token tooobtain information about hello user in your app.</span></span> <span data-ttu-id="7929a-247">Používá tyto informace zahrnují zobrazení, záznamy a autorizace.</span><span class="sxs-lookup"><span data-stu-id="7929a-247">Uses for this information include display, records, and authorization.</span></span>

## <a name="get-a-token"></a><span data-ttu-id="7929a-248">Získání tokenu</span><span class="sxs-lookup"><span data-stu-id="7929a-248">Get a token</span></span>
<span data-ttu-id="7929a-249">Pokud je třeba vaší webové aplikace tooonly provést zásady, můžete přeskočit hello několik dalších částech.</span><span class="sxs-lookup"><span data-stu-id="7929a-249">If you need your web app tooonly execute policies, you can skip hello next few sections.</span></span> <span data-ttu-id="7929a-250">Tyto části jsou použít pouze tooweb aplikace, které potřebují toomake ověření volání tooa webového rozhraní API a také jsou chráněné službou Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="7929a-250">These sections are applicable only tooweb apps that need toomake authenticated calls tooa web API and are also protected by Azure AD B2C.</span></span>

<span data-ttu-id="7929a-251">Lze uplatnit hello autorizační kód, který jste získali (pomocí `response_type=code+id_token`) pro token toohello požadovaného prostředku odesíláním `POST` požadavku toohello `/token` koncový bod.</span><span class="sxs-lookup"><span data-stu-id="7929a-251">You can redeem hello authorization code that you acquired (by using `response_type=code+id_token`) for a token toohello desired resource by sending a `POST` request toohello `/token` endpoint.</span></span> <span data-ttu-id="7929a-252">V současné době hello pouze prostředek, který můžete požádat o token pro je vaše aplikace vlastní back endové webové rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="7929a-252">Currently, hello only resource that you can request a token for is your app's own back-end web API.</span></span> <span data-ttu-id="7929a-253">Hello konvence pro požadování tokenu tooyourself je toouse ID klienta aplikace jako obor hello:</span><span class="sxs-lookup"><span data-stu-id="7929a-253">hello convention for requesting a token tooyourself is toouse your app's client ID as hello scope:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob&client_secret=<your-application-secret>

```

| <span data-ttu-id="7929a-254">Parametr</span><span class="sxs-lookup"><span data-stu-id="7929a-254">Parameter</span></span> | <span data-ttu-id="7929a-255">Povinné?</span><span class="sxs-lookup"><span data-stu-id="7929a-255">Required?</span></span> | <span data-ttu-id="7929a-256">Popis</span><span class="sxs-lookup"><span data-stu-id="7929a-256">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7929a-257">P</span><span class="sxs-lookup"><span data-stu-id="7929a-257">p</span></span> |<span data-ttu-id="7929a-258">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-258">Required</span></span> |<span data-ttu-id="7929a-259">Hello zásady, které byly použité tooacquire hello autorizační kód.</span><span class="sxs-lookup"><span data-stu-id="7929a-259">hello policy that was used tooacquire hello authorization code.</span></span> <span data-ttu-id="7929a-260">V této žádosti nelze použít jinou zásadu.</span><span class="sxs-lookup"><span data-stu-id="7929a-260">You cannot use a different policy in this request.</span></span> <span data-ttu-id="7929a-261">Všimněte si, že přidáte tento parametr řetězce dotazu toohello, není toohello `POST` textu.</span><span class="sxs-lookup"><span data-stu-id="7929a-261">Note that you add this parameter toohello query string, not toohello `POST` body.</span></span> |
| <span data-ttu-id="7929a-262">client_id</span><span class="sxs-lookup"><span data-stu-id="7929a-262">client_id</span></span> |<span data-ttu-id="7929a-263">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-263">Required</span></span> |<span data-ttu-id="7929a-264">Hello aplikace ID této hello [portál Azure](https://portal.azure.com/) přiřazené tooyour aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-264">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="7929a-265">grant_type</span><span class="sxs-lookup"><span data-stu-id="7929a-265">grant_type</span></span> |<span data-ttu-id="7929a-266">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-266">Required</span></span> |<span data-ttu-id="7929a-267">Hello typ udělení, který musí být `authorization_code` pro tok autorizačního kódu hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-267">hello type of grant, which must be `authorization_code` for hello authorization code flow.</span></span> |
| <span data-ttu-id="7929a-268">Obor</span><span class="sxs-lookup"><span data-stu-id="7929a-268">scope</span></span> |<span data-ttu-id="7929a-269">Doporučené</span><span class="sxs-lookup"><span data-stu-id="7929a-269">Recommended</span></span> |<span data-ttu-id="7929a-270">Seznam obory oddělených mezerami.</span><span class="sxs-lookup"><span data-stu-id="7929a-270">A space-separated list of scopes.</span></span> <span data-ttu-id="7929a-271">Hodnota jeden obor označuje tooAzure AD obě oprávnění, které jsou požadovány.</span><span class="sxs-lookup"><span data-stu-id="7929a-271">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="7929a-272">Hello `openid` oboru označuje toosign oprávnění v hello uživatele a získání dat o hello uživatele v podobě hello požadavku id_token parametrů.</span><span class="sxs-lookup"><span data-stu-id="7929a-272">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of id_token parameters.</span></span> <span data-ttu-id="7929a-273">Dá se použít tooget tokeny tooyour aplikace vlastní back endové webové rozhraní API, která je reprezentována hello stejným ID aplikace jako klient hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-273">It can be used tooget tokens tooyour app's own back-end web API, which is represented by hello same application ID as hello client.</span></span> <span data-ttu-id="7929a-274">Hello `offline_access` oboru označuje, že vaše aplikace budete potřebovat obnovovací token pro tooresources dlohotrvající přístup.</span><span class="sxs-lookup"><span data-stu-id="7929a-274">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="7929a-275">Kód</span><span class="sxs-lookup"><span data-stu-id="7929a-275">code</span></span> |<span data-ttu-id="7929a-276">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-276">Required</span></span> |<span data-ttu-id="7929a-277">Hello autorizační kód, který jste získali v prvním větev hello hello toku.</span><span class="sxs-lookup"><span data-stu-id="7929a-277">hello authorization code that you acquired in hello first leg of hello flow.</span></span> |
| <span data-ttu-id="7929a-278">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="7929a-278">redirect_uri</span></span> |<span data-ttu-id="7929a-279">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-279">Required</span></span> |<span data-ttu-id="7929a-280">Hello `redirect_uri` parametr hello aplikace, kterou jste dostali hello autorizační kód.</span><span class="sxs-lookup"><span data-stu-id="7929a-280">hello `redirect_uri` parameter of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="7929a-281">tajný klíč client_secret</span><span class="sxs-lookup"><span data-stu-id="7929a-281">client_secret</span></span> |<span data-ttu-id="7929a-282">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-282">Required</span></span> |<span data-ttu-id="7929a-283">tajný klíč aplikace Hello, který jste vygenerovali v hello [portál Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="7929a-283">hello application secret that you generated in hello [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="7929a-284">Tento tajný klíč aplikace je důležité zabezpečení artefakt.</span><span class="sxs-lookup"><span data-stu-id="7929a-284">This application secret is an important security artifact.</span></span> <span data-ttu-id="7929a-285">Měli byste uložit ji bezpečně na vašem serveru.</span><span class="sxs-lookup"><span data-stu-id="7929a-285">You should store it securely on your server.</span></span> <span data-ttu-id="7929a-286">Musí také otočit tento tajný klíč klienta v pravidelných intervalech.</span><span class="sxs-lookup"><span data-stu-id="7929a-286">You should also rotate this client secret on a periodic basis.</span></span> |

<span data-ttu-id="7929a-287">Úspěšné odpovědi tokenu vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="7929a-287">A successful token response looks like:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="7929a-288">Parametr</span><span class="sxs-lookup"><span data-stu-id="7929a-288">Parameter</span></span> | <span data-ttu-id="7929a-289">Popis</span><span class="sxs-lookup"><span data-stu-id="7929a-289">Description</span></span> |
| --- | --- |
| <span data-ttu-id="7929a-290">not_before</span><span class="sxs-lookup"><span data-stu-id="7929a-290">not_before</span></span> |<span data-ttu-id="7929a-291">Hello čas, na které hello token je považován za platný v čase epoch.</span><span class="sxs-lookup"><span data-stu-id="7929a-291">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="7929a-292">token_type</span><span class="sxs-lookup"><span data-stu-id="7929a-292">token_type</span></span> |<span data-ttu-id="7929a-293">Hodnota Hello typ tokenu.</span><span class="sxs-lookup"><span data-stu-id="7929a-293">hello token type value.</span></span> <span data-ttu-id="7929a-294">Hello pouze typ, který podporuje Azure AD je `Bearer`.</span><span class="sxs-lookup"><span data-stu-id="7929a-294">hello only type that Azure AD supports is `Bearer`.</span></span> |
| <span data-ttu-id="7929a-295">access_token</span><span class="sxs-lookup"><span data-stu-id="7929a-295">access_token</span></span> |<span data-ttu-id="7929a-296">Hello podepsaný token JWT, které jste žádali.</span><span class="sxs-lookup"><span data-stu-id="7929a-296">hello signed JWT token that you requested.</span></span> |
| <span data-ttu-id="7929a-297">Obor</span><span class="sxs-lookup"><span data-stu-id="7929a-297">scope</span></span> |<span data-ttu-id="7929a-298">Hello oborů, pro které hello token je platný.</span><span class="sxs-lookup"><span data-stu-id="7929a-298">hello scopes for which hello token is valid.</span></span> <span data-ttu-id="7929a-299">Ty lze použít pro ukládání do mezipaměti tokeny pro pozdější použití.</span><span class="sxs-lookup"><span data-stu-id="7929a-299">These can be used for caching tokens for later use.</span></span> |
| <span data-ttu-id="7929a-300">expires_in</span><span class="sxs-lookup"><span data-stu-id="7929a-300">expires_in</span></span> |<span data-ttu-id="7929a-301">Délka Hello dobu, po kterou hello přístupový token je platný (v sekundách).</span><span class="sxs-lookup"><span data-stu-id="7929a-301">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="7929a-302">refresh_token</span><span class="sxs-lookup"><span data-stu-id="7929a-302">refresh_token</span></span> |<span data-ttu-id="7929a-303">Aktualizace tokenu OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="7929a-303">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="7929a-304">Hello aplikace můžete použít tento token tooacquire další tokeny po vypršení platnosti tokenu aktuální hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-304">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="7929a-305">Aktualizujte tokeny je dlouhodobé a může být použité tooretain přístup tooresources pro dlouhou dobu.</span><span class="sxs-lookup"><span data-stu-id="7929a-305">Refresh tokens are long-lived and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="7929a-306">Další podrobnosti najdete v části toohello [odkaz tokenu B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="7929a-306">For more details, refer toohello [B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="7929a-307">Všimněte si, co musí jste použili hello oboru `offline_access` v hello autorizace a token požadavků v pořadí tooreceive token obnovení.</span><span class="sxs-lookup"><span data-stu-id="7929a-307">Note that you must have used hello scope `offline_access` in both hello authorization and token requests in order tooreceive a refresh token.</span></span> |

<span data-ttu-id="7929a-308">Chybové odpovědi vypadat podobně jako:</span><span class="sxs-lookup"><span data-stu-id="7929a-308">Error responses look like:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="7929a-309">Parametr</span><span class="sxs-lookup"><span data-stu-id="7929a-309">Parameter</span></span> | <span data-ttu-id="7929a-310">Popis</span><span class="sxs-lookup"><span data-stu-id="7929a-310">Description</span></span> |
| --- | --- |
| <span data-ttu-id="7929a-311">error</span><span class="sxs-lookup"><span data-stu-id="7929a-311">error</span></span> |<span data-ttu-id="7929a-312">Kód chyby řetězec, který lze použít tooclassify typů chyb, které nastat a který lze použít tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="7929a-312">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="7929a-313">error_description</span><span class="sxs-lookup"><span data-stu-id="7929a-313">error_description</span></span> |<span data-ttu-id="7929a-314">Konkrétní chybová zpráva, která může pomoci vývojář identifikovat hello hlavní příčinu chyby ověřování.</span><span class="sxs-lookup"><span data-stu-id="7929a-314">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |

## <a name="use-hello-token"></a><span data-ttu-id="7929a-315">Použití tokenu hello</span><span class="sxs-lookup"><span data-stu-id="7929a-315">Use hello token</span></span>
<span data-ttu-id="7929a-316">Teď, když jste úspěšně získat přístupový token, můžete použít hello token v žádosti o tooyour back endové webové rozhraní API včetně v hello `Authorization` hlavičky:</span><span class="sxs-lookup"><span data-stu-id="7929a-316">Now that you've successfully acquired an access token, you can use hello token in requests tooyour back-end web APIs by including it in hello `Authorization` header:</span></span>

```
GET /tasks
Host: https://mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="refresh-hello-token"></a><span data-ttu-id="7929a-317">Aktualizovat hello token</span><span class="sxs-lookup"><span data-stu-id="7929a-317">Refresh hello token</span></span>
<span data-ttu-id="7929a-318">ID tokeny jsou krátkodobou.</span><span class="sxs-lookup"><span data-stu-id="7929a-318">ID tokens are short-lived.</span></span> <span data-ttu-id="7929a-319">Je nutné aktualizovat po vypršení jejich platnosti toocontinue je možné tooaccess prostředky.</span><span class="sxs-lookup"><span data-stu-id="7929a-319">You must refresh them after they expire toocontinue being able tooaccess resources.</span></span> <span data-ttu-id="7929a-320">Můžete to provést tak, že zadáte jiný `POST` požadavku toohello `/token` koncový bod.</span><span class="sxs-lookup"><span data-stu-id="7929a-320">You can do so by submitting another `POST` request toohello `/token` endpoint.</span></span> <span data-ttu-id="7929a-321">Tuto chvíli zadejte hello `refresh_token` parametr místo hello `code` parametr:</span><span class="sxs-lookup"><span data-stu-id="7929a-321">This time, provide hello `refresh_token` parameter instead of hello `code` parameter:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=openid offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob&client_secret=<your-application-secret>
```

| <span data-ttu-id="7929a-322">Parametr</span><span class="sxs-lookup"><span data-stu-id="7929a-322">Parameter</span></span> | <span data-ttu-id="7929a-323">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-323">Required</span></span> | <span data-ttu-id="7929a-324">Popis</span><span class="sxs-lookup"><span data-stu-id="7929a-324">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7929a-325">P</span><span class="sxs-lookup"><span data-stu-id="7929a-325">p</span></span> |<span data-ttu-id="7929a-326">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-326">Required</span></span> |<span data-ttu-id="7929a-327">Hello zásady, které byly použité tooacquire hello původní obnovovací token.</span><span class="sxs-lookup"><span data-stu-id="7929a-327">hello policy that was used tooacquire hello original refresh token.</span></span> <span data-ttu-id="7929a-328">V této žádosti nelze použít jinou zásadu.</span><span class="sxs-lookup"><span data-stu-id="7929a-328">You cannot use a different policy in this request.</span></span> <span data-ttu-id="7929a-329">Všimněte si, že přidáte tento parametr řetězce dotazu toohello, toohello textu POST.</span><span class="sxs-lookup"><span data-stu-id="7929a-329">Note that you add this parameter toohello query string, not toohello POST body.</span></span> |
| <span data-ttu-id="7929a-330">client_id</span><span class="sxs-lookup"><span data-stu-id="7929a-330">client_id</span></span> |<span data-ttu-id="7929a-331">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-331">Required</span></span> |<span data-ttu-id="7929a-332">Hello aplikace ID této hello [portál Azure](https://portal.azure.com/) přiřazené tooyour aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-332">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="7929a-333">grant_type</span><span class="sxs-lookup"><span data-stu-id="7929a-333">grant_type</span></span> |<span data-ttu-id="7929a-334">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-334">Required</span></span> |<span data-ttu-id="7929a-335">Hello typ udělení, který musí být token obnovení pro tuto větev toku kódu autorizace hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-335">hello type of grant, which must be a refresh token for this leg of hello authorization code flow.</span></span> |
| <span data-ttu-id="7929a-336">Obor</span><span class="sxs-lookup"><span data-stu-id="7929a-336">scope</span></span> |<span data-ttu-id="7929a-337">Doporučené</span><span class="sxs-lookup"><span data-stu-id="7929a-337">Recommended</span></span> |<span data-ttu-id="7929a-338">Seznam obory oddělených mezerami.</span><span class="sxs-lookup"><span data-stu-id="7929a-338">A space-separated list of scopes.</span></span> <span data-ttu-id="7929a-339">Hodnota jeden obor označuje tooAzure AD obě oprávnění, které jsou požadovány.</span><span class="sxs-lookup"><span data-stu-id="7929a-339">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="7929a-340">Hello `openid` oboru označuje toosign oprávnění v hello uživatele a získání dat o hello uživatele v podobě hello ID tokenů.</span><span class="sxs-lookup"><span data-stu-id="7929a-340">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens.</span></span> <span data-ttu-id="7929a-341">Dá se použít tooget tokeny tooyour aplikace vlastní back endové webové rozhraní API, která je reprezentována hello stejným ID aplikace jako klient hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-341">It can be used tooget tokens tooyour app's own back-end web API, which is represented by hello same application ID as hello client.</span></span> <span data-ttu-id="7929a-342">Hello `offline_access` oboru označuje, že vaše aplikace budete potřebovat obnovovací token pro tooresources dlohotrvající přístup.</span><span class="sxs-lookup"><span data-stu-id="7929a-342">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="7929a-343">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="7929a-343">redirect_uri</span></span> |<span data-ttu-id="7929a-344">Doporučené</span><span class="sxs-lookup"><span data-stu-id="7929a-344">Recommended</span></span> |<span data-ttu-id="7929a-345">Hello `redirect_uri` parametr hello aplikace, kterou jste dostali hello autorizační kód.</span><span class="sxs-lookup"><span data-stu-id="7929a-345">hello `redirect_uri` parameter of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="7929a-346">refresh_token</span><span class="sxs-lookup"><span data-stu-id="7929a-346">refresh_token</span></span> |<span data-ttu-id="7929a-347">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-347">Required</span></span> |<span data-ttu-id="7929a-348">Hello původní aktualizace token, který jste získali v druhé větev hello hello toku.</span><span class="sxs-lookup"><span data-stu-id="7929a-348">hello original refresh token that you acquired in hello second leg of hello flow.</span></span> <span data-ttu-id="7929a-349">Všimněte si, co musí jste použili hello oboru `offline_access` v hello autorizace a token požadavků v pořadí tooreceive token obnovení.</span><span class="sxs-lookup"><span data-stu-id="7929a-349">Note that you must have used hello scope `offline_access` in both hello authorization and token requests in order tooreceive a refresh token.</span></span> |
| <span data-ttu-id="7929a-350">tajný klíč client_secret</span><span class="sxs-lookup"><span data-stu-id="7929a-350">client_secret</span></span> |<span data-ttu-id="7929a-351">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-351">Required</span></span> |<span data-ttu-id="7929a-352">tajný klíč aplikace Hello, který jste vygenerovali v hello [portál Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="7929a-352">hello application secret that you generated in hello [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="7929a-353">Tento tajný klíč aplikace je důležité zabezpečení artefakt.</span><span class="sxs-lookup"><span data-stu-id="7929a-353">This application secret is an important security artifact.</span></span> <span data-ttu-id="7929a-354">Měli byste uložit ji bezpečně na vašem serveru.</span><span class="sxs-lookup"><span data-stu-id="7929a-354">You should store it securely on your server.</span></span> <span data-ttu-id="7929a-355">Musí také otočit tento tajný klíč klienta v pravidelných intervalech.</span><span class="sxs-lookup"><span data-stu-id="7929a-355">You should also rotate this client secret on a periodic basis.</span></span> |

<span data-ttu-id="7929a-356">Úspěšné odpovědi tokenu vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="7929a-356">A successful token response looks like:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="7929a-357">Parametr</span><span class="sxs-lookup"><span data-stu-id="7929a-357">Parameter</span></span> | <span data-ttu-id="7929a-358">Popis</span><span class="sxs-lookup"><span data-stu-id="7929a-358">Description</span></span> |
| --- | --- |
| <span data-ttu-id="7929a-359">not_before</span><span class="sxs-lookup"><span data-stu-id="7929a-359">not_before</span></span> |<span data-ttu-id="7929a-360">Hello čas, na které hello token je považován za platný v čase epoch.</span><span class="sxs-lookup"><span data-stu-id="7929a-360">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="7929a-361">token_type</span><span class="sxs-lookup"><span data-stu-id="7929a-361">token_type</span></span> |<span data-ttu-id="7929a-362">Hodnota Hello typ tokenu.</span><span class="sxs-lookup"><span data-stu-id="7929a-362">hello token type value.</span></span> <span data-ttu-id="7929a-363">Hello pouze typ, který podporuje Azure AD je `Bearer`.</span><span class="sxs-lookup"><span data-stu-id="7929a-363">hello only type that Azure AD supports is `Bearer`.</span></span> |
| <span data-ttu-id="7929a-364">access_token</span><span class="sxs-lookup"><span data-stu-id="7929a-364">access_token</span></span> |<span data-ttu-id="7929a-365">Hello podepsaný token JWT, které jste žádali.</span><span class="sxs-lookup"><span data-stu-id="7929a-365">hello signed JWT token that you requested.</span></span> |
| <span data-ttu-id="7929a-366">Obor</span><span class="sxs-lookup"><span data-stu-id="7929a-366">scope</span></span> |<span data-ttu-id="7929a-367">Hello obor, který hello token je platný, který může být použit pro ukládání do mezipaměti tokeny pro pozdější použití.</span><span class="sxs-lookup"><span data-stu-id="7929a-367">hello scope that hello token is valid for, which can be used for caching tokens for later use.</span></span> |
| <span data-ttu-id="7929a-368">expires_in</span><span class="sxs-lookup"><span data-stu-id="7929a-368">expires_in</span></span> |<span data-ttu-id="7929a-369">Délka Hello dobu, po kterou hello přístupový token je platný (v sekundách).</span><span class="sxs-lookup"><span data-stu-id="7929a-369">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="7929a-370">refresh_token</span><span class="sxs-lookup"><span data-stu-id="7929a-370">refresh_token</span></span> |<span data-ttu-id="7929a-371">Aktualizace tokenu OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="7929a-371">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="7929a-372">Hello aplikace můžete použít tento token tooacquire další tokeny po vypršení platnosti tokenu aktuální hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-372">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span>  <span data-ttu-id="7929a-373">Aktualizujte tokeny je dlouhodobé a může být použité tooretain přístup tooresources pro dlouhou dobu.</span><span class="sxs-lookup"><span data-stu-id="7929a-373">Refresh tokens are long-lived and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="7929a-374">Další podrobnosti najdete v části toohello [odkaz tokenu B2C](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="7929a-374">For more detail, refer toohello [B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="7929a-375">Chybové odpovědi vypadat podobně jako:</span><span class="sxs-lookup"><span data-stu-id="7929a-375">Error responses look like:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="7929a-376">Parametr</span><span class="sxs-lookup"><span data-stu-id="7929a-376">Parameter</span></span> | <span data-ttu-id="7929a-377">Popis</span><span class="sxs-lookup"><span data-stu-id="7929a-377">Description</span></span> |
| --- | --- |
| <span data-ttu-id="7929a-378">error</span><span class="sxs-lookup"><span data-stu-id="7929a-378">error</span></span> |<span data-ttu-id="7929a-379">Kód chyby řetězec, který lze použít tooclassify typů chyb, které nastat a který lze použít tooreact tooerrors.</span><span class="sxs-lookup"><span data-stu-id="7929a-379">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="7929a-380">error_description</span><span class="sxs-lookup"><span data-stu-id="7929a-380">error_description</span></span> |<span data-ttu-id="7929a-381">Konkrétní chybová zpráva, která může pomoci vývojář identifikovat hello hlavní příčinu chyby ověřování.</span><span class="sxs-lookup"><span data-stu-id="7929a-381">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |

## <a name="send-a-sign-out-request"></a><span data-ttu-id="7929a-382">Poslat žádost o odhlášení</span><span class="sxs-lookup"><span data-stu-id="7929a-382">Send a sign-out request</span></span>
<span data-ttu-id="7929a-383">Když chcete toosign hello uživatele mimo aplikaci hello, je nedostatek tooclear soubory cookie vaší aplikace nebo v opačném případě ukončení relace hello hello uživatele.</span><span class="sxs-lookup"><span data-stu-id="7929a-383">When you want toosign hello user out of hello app, it is not enough tooclear your app's cookies or otherwise end hello session with hello user.</span></span> <span data-ttu-id="7929a-384">Také je nutné přesměrovat hello uživatele tooAzure AD toosign out. Pokud jsou selhání toodo tak, hello uživatel může být schopný tooreauthenticate tooyour aplikace bez opětovného zadávání svých přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="7929a-384">You must also redirect hello user tooAzure AD toosign out. If you fail toodo so, hello user might be able tooreauthenticate tooyour app without entering their credentials again.</span></span> <span data-ttu-id="7929a-385">Je to proto, že budou mít platný jedné přihlášení relace s Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7929a-385">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="7929a-386">Jednoduše můžete přesměrovat uživatele toohello hello `end_session` koncový bod, který je uveden v dokumentu metadat OpenID Connect hello popsáno výše v hello "Ověřit hello ID token" části:</span><span class="sxs-lookup"><span data-stu-id="7929a-386">You can simply redirect hello user toohello `end_session` endpoint that is listed in hello OpenID Connect metadata document described earlier in hello "Validate hello ID token" section:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="7929a-387">Parametr</span><span class="sxs-lookup"><span data-stu-id="7929a-387">Parameter</span></span> | <span data-ttu-id="7929a-388">Povinné?</span><span class="sxs-lookup"><span data-stu-id="7929a-388">Required?</span></span> | <span data-ttu-id="7929a-389">Popis</span><span class="sxs-lookup"><span data-stu-id="7929a-389">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="7929a-390">P</span><span class="sxs-lookup"><span data-stu-id="7929a-390">p</span></span> |<span data-ttu-id="7929a-391">Požaduje se</span><span class="sxs-lookup"><span data-stu-id="7929a-391">Required</span></span> |<span data-ttu-id="7929a-392">zásady Hello chcete toouse toosign hello uživatele z vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-392">hello policy that you want toouse toosign hello user out of your application.</span></span> |
| <span data-ttu-id="7929a-393">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="7929a-393">post_logout_redirect_uri</span></span> |<span data-ttu-id="7929a-394">Doporučené</span><span class="sxs-lookup"><span data-stu-id="7929a-394">Recommended</span></span> |<span data-ttu-id="7929a-395">Hello tento uživatel hello adresa URL by měla být přesměrovaného tooafter úspěšné odhlášení. Pokud není součástí, Azure AD B2C zobrazí obecná zpráva hello uživatele.</span><span class="sxs-lookup"><span data-stu-id="7929a-395">hello URL that hello user should be redirected tooafter successful sign-out. If it is not included, Azure AD B2C shows hello user a generic message.</span></span> |

> [!NOTE]
> <span data-ttu-id="7929a-396">I když odkazovat hello uživatele toohello `end_session` koncový bod vymaže některé hello jeden přihlašování stavu uživatele v Azure AD B2C, nebude ho přihlaste hello uživatele mimo jejich relace sociálních identity zprostředkovatele (IDP).</span><span class="sxs-lookup"><span data-stu-id="7929a-396">Although directing hello user toohello `end_session` endpoint will clear some of hello user's single sign-on state with Azure AD B2C, it will not sign hello user out of their social identity provider (IDP) session.</span></span> <span data-ttu-id="7929a-397">Pokud hello uživatel vybere hello stejné IDP při následné přihlášení, že bude mít k novému ověření, bez zadávání přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="7929a-397">If hello user selects hello same IDP during a subsequent sign-in, they will be reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="7929a-398">Pokud chce uživatel toosign mimo aplikaci B2C, je však nemusí znamenat, že chtějí toosign mimo jejich účtu sítě Facebook.</span><span class="sxs-lookup"><span data-stu-id="7929a-398">If a user wants toosign out of your B2C application, it does not necessarily mean they want toosign out of their Facebook account.</span></span> <span data-ttu-id="7929a-399">Ale v případě hello místních účtů hello uživatelské relace bude ukončen správně.</span><span class="sxs-lookup"><span data-stu-id="7929a-399">However, in hello case of local accounts, hello user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-b2c-tenant"></a><span data-ttu-id="7929a-400">Použití vlastního klienta B2C</span><span class="sxs-lookup"><span data-stu-id="7929a-400">Use your own B2C tenant</span></span>
<span data-ttu-id="7929a-401">Pokud chcete použít tootry tyto požadavky pro sami, musíte nejprve provést tyto tři kroky a potom můžete nahradit hello ukázkové hodnoty vlastními popsané výše:</span><span class="sxs-lookup"><span data-stu-id="7929a-401">If you want tootry these requests for yourself, you must first perform these three steps, and then replace hello example values described earlier with your own:</span></span>

1. <span data-ttu-id="7929a-402">[Vytvoření klienta B2C](active-directory-b2c-get-started.md)a použijte hello název vašeho klienta v žádostech o hello.</span><span class="sxs-lookup"><span data-stu-id="7929a-402">[Create a B2C tenant](active-directory-b2c-get-started.md), and use hello name of your tenant in hello requests.</span></span>
2. <span data-ttu-id="7929a-403">[Vytvoření aplikace](active-directory-b2c-app-registration.md) tooobtain identifikátor aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-403">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID.</span></span> <span data-ttu-id="7929a-404">Zahrňte webové aplikace nebo webové rozhraní API ve vaší aplikaci.</span><span class="sxs-lookup"><span data-stu-id="7929a-404">Include a web app/web API in your app.</span></span> <span data-ttu-id="7929a-405">Volitelně můžete vytvořte tajný klíč aplikace.</span><span class="sxs-lookup"><span data-stu-id="7929a-405">Optionally, create an application secret.</span></span>
3. <span data-ttu-id="7929a-406">[Vytvoření vlastních zásad](active-directory-b2c-reference-policies.md) tooobtain názvy zásad.</span><span class="sxs-lookup"><span data-stu-id="7929a-406">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

