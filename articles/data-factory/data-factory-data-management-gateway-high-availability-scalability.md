---
title: "dostupnost aaaHigh s Brána pro správu dat v Azure Data Factory | Microsoft Docs"
description: "Tento článek vysvětluje, jak můžete škálovat Brána pro správu dat tak, že přidáte další uzly a škálování až zvýšením počtu souběžných úloh, které můžou běžet na uzlu."
services: data-factory
documentationcenter: 
author: nabhishek
manager: jhubbard
editor: 
ms.service: data-factory
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: abnarain
ms.openlocfilehash: 925f63728e23596bca2655636f6535b509fce0b1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="data-management-gateway---high-availability-and-scalability-preview"></a><span data-ttu-id="7726c-103">Brána pro správu dat – vysokou dostupnost a škálovatelnost (Preview)</span><span class="sxs-lookup"><span data-stu-id="7726c-103">Data Management Gateway - high availability and scalability (Preview)</span></span>
<span data-ttu-id="7726c-104">Tento článek vám pomůže nakonfigurovat vysokou dostupnost a škálovatelnost řešení s Brána pro správu dat.</span><span class="sxs-lookup"><span data-stu-id="7726c-104">This article helps you configure high availability and scalability solution with Data Management Gateway.</span></span>    

> [!NOTE]
> <span data-ttu-id="7726c-105">Tento článek předpokládá, že jste již obeznámeni s základy používání služby Brána pro správu dat.</span><span class="sxs-lookup"><span data-stu-id="7726c-105">This article assumes that you are already familiar with basics of Data Management Gateway.</span></span> <span data-ttu-id="7726c-106">Pokud si nejste, přečtěte si téma [Brána pro správu dat](data-factory-data-management-gateway.md).</span><span class="sxs-lookup"><span data-stu-id="7726c-106">If you are not, see [Data Management Gateway](data-factory-data-management-gateway.md).</span></span>

><span data-ttu-id="7726c-107">**Tato funkce preview je oficiálně podporované na 2.12.xxxx.x verze brány pro správu dat a vyšší**.</span><span class="sxs-lookup"><span data-stu-id="7726c-107">**This preview feature is officially supported on Data Management Gateway version 2.12.xxxx.x and above**.</span></span> <span data-ttu-id="7726c-108">Zkontrolujte, zda používáte verzi 2.12.xxxx.x nebo vyšší.</span><span class="sxs-lookup"><span data-stu-id="7726c-108">Please make sure you are using version 2.12.xxxx.x or above.</span></span> <span data-ttu-id="7726c-109">Stáhněte nejnovější verzi brány pro správu dat hello [zde](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="7726c-109">Download hello latest version of Data Management Gateway [here](https://www.microsoft.com/download/details.aspx?id=39717).</span></span>

## <a name="overview"></a><span data-ttu-id="7726c-110">Přehled</span><span class="sxs-lookup"><span data-stu-id="7726c-110">Overview</span></span>
<span data-ttu-id="7726c-111">Můžete přidružit brány správy dat, které jsou nainstalovány ve více počítačích na místě s jednou bránou logické z portálu hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-111">You can associate data management gateways that are installed on multiple on-premises machines with a single logical gateway from hello portal.</span></span> <span data-ttu-id="7726c-112">Tyto počítače se označují jako **uzly**.</span><span class="sxs-lookup"><span data-stu-id="7726c-112">These machines are called **nodes**.</span></span> <span data-ttu-id="7726c-113">Může mít příliš**čtyři uzly** přidružený logické brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-113">You can have up too**four nodes** associated with a logical gateway.</span></span> <span data-ttu-id="7726c-114">Hello s více uzly (místní počítače s nainstalovanou bránu) pro logické brány výhody:</span><span class="sxs-lookup"><span data-stu-id="7726c-114">hello benefits of having multiple nodes (on-premises machines with gateway installed) for a logical gateway are:</span></span>  

- <span data-ttu-id="7726c-115">Zlepšení výkonu přesun dat mezi místními a cloudovými datová úložiště.</span><span class="sxs-lookup"><span data-stu-id="7726c-115">Improve performance of data movement between on-premises and cloud data stores.</span></span>  
- <span data-ttu-id="7726c-116">Pokud jeden z uzlů hello ocitne mimo provoz z nějakého důvodu, jsou stále k dispozici pro přesun dat hello dalších uzlů.</span><span class="sxs-lookup"><span data-stu-id="7726c-116">If one of hello nodes goes down for some reason, other nodes are still available for moving hello data.</span></span> 
- <span data-ttu-id="7726c-117">Pokud jeden z uzlů hello potřebovat toobe do režimu offline kvůli údržbě, jsou stále k dispozici pro přesun dat hello dalších uzlů.</span><span class="sxs-lookup"><span data-stu-id="7726c-117">If one of hello nodes need toobe taken offline for maintenance, other nodes are still available for moving hello data.</span></span>

<span data-ttu-id="7726c-118">Můžete také nakonfigurovat hello počet **úlohy Přesun souběžných datového** , můžete spustit na uzlu tooscale až hello funkce přesouvání dat mezi místními a cloudovými datová úložiště.</span><span class="sxs-lookup"><span data-stu-id="7726c-118">You can also configure hello number of **concurrent data movement jobs** that can run on a node tooscale up hello capability of moving data between on-premises and cloud data stores.</span></span> 

<span data-ttu-id="7726c-119">Pomocí hello portálu Azure, můžete monitorovat stav hello tyto uzly, který vám pomůže zjistit, zda tooadd nebo odebrání uzlu z hello logické brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-119">Using hello Azure portal, you can monitor hello status of these nodes, which helps you decide whether tooadd or remove a node from hello logical gateway.</span></span> 

## <a name="architecture"></a><span data-ttu-id="7726c-120">Architektura</span><span class="sxs-lookup"><span data-stu-id="7726c-120">Architecture</span></span> 
<span data-ttu-id="7726c-121">Hello následující obrázek poskytuje přehled architektury hello škálovatelnosti a dostupnosti funkce hello Brána pro správu dat:</span><span class="sxs-lookup"><span data-stu-id="7726c-121">hello following diagram provides hello architecture overview of scalability and availability feature of hello Data Management Gateway:</span></span> 

![Brána pro správu dat – vysoké dostupnosti a škálovatelnosti](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-high-availability-and-scalability.png)

<span data-ttu-id="7726c-123">A **logické brány** je hello brány přidat objekt pro vytváření dat tooa v hello portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="7726c-123">A **logical gateway** is hello gateway you add tooa data factory in hello Azure portal.</span></span> <span data-ttu-id="7726c-124">Dříve může přidružíte jenom jeden počítač Windows místní brána pro správu dat nainstalované s logické brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-124">Earlier, you could associate only one on-premises Windows machine with Data Management Gateway installed with a logical gateway.</span></span> <span data-ttu-id="7726c-125">To místního počítače brány se nazývá uzel.</span><span class="sxs-lookup"><span data-stu-id="7726c-125">This on-premises gateway machine is called a node.</span></span> <span data-ttu-id="7726c-126">Nyní můžete přiřadit až příliš**čtyři fyzické uzly** s logické brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-126">Now, you can associate up too**four physical nodes** with a logical gateway.</span></span> <span data-ttu-id="7726c-127">Je volána logické brány s několika uzly **několika uzly brány**.</span><span class="sxs-lookup"><span data-stu-id="7726c-127">A logical gateway with multiple nodes is called a **multi-node gateway**.</span></span>  

<span data-ttu-id="7726c-128">Všechny tyto uzly jsou **active**.</span><span class="sxs-lookup"><span data-stu-id="7726c-128">All these nodes are **active**.</span></span> <span data-ttu-id="7726c-129">Všechny může zpracovat data toomove úloh přesun dat mezi místními a cloudovými datová úložiště.</span><span class="sxs-lookup"><span data-stu-id="7726c-129">They all can process data movement jobs toomove data between on-premises and cloud data stores.</span></span> <span data-ttu-id="7726c-130">Jeden z uzlů hello fungují jako dispečera a pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="7726c-130">One of hello nodes act as both dispatcher and worker.</span></span> <span data-ttu-id="7726c-131">Jiné uzly v hello skupiny jsou uzlů pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="7726c-131">Other nodes in hello groups are worker nodes.</span></span> <span data-ttu-id="7726c-132">A **dispečera** uzel vrátí data přesun úloh a úloh z hello cloudové služby a odešle je tooworker uzly (včetně samotného).</span><span class="sxs-lookup"><span data-stu-id="7726c-132">A **dispatcher** node pulls data movement tasks/jobs from hello cloud service and dispatches them tooworker nodes (including itself).</span></span> <span data-ttu-id="7726c-133">A **pracovní** uzlu provede data toomove úloh přesun dat mezi místními a cloudovými datová úložiště.</span><span class="sxs-lookup"><span data-stu-id="7726c-133">A **worker** node executes data movement jobs toomove data between on-premises and cloud data stores.</span></span> <span data-ttu-id="7726c-134">Jsou všechny uzly pracovních procesů.</span><span class="sxs-lookup"><span data-stu-id="7726c-134">All nodes are workers.</span></span> <span data-ttu-id="7726c-135">Jenom jeden uzel může být odesílání a pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="7726c-135">Only one node can be both dispatch and worker.</span></span>    

<span data-ttu-id="7726c-136">Obvykle můžete začít s jedním uzlem a **škálovat** tooadd další uzly jako hello existující uzly jsou zahlcen zatížení přesun dat hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-136">You may typically start with one node and **scale out** tooadd more nodes as hello existing node(s) are overwhelmed with hello data movement load.</span></span> <span data-ttu-id="7726c-137">Můžete také **škálovat** hello funkce přesun dat v uzlu brána zvýšením hello počet souběžných úloh, které jsou povoleny toorun na uzlu hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-137">You can also **scale up** hello data movement capability of a gateway node by increasing hello number of concurrent jobs that are allowed toorun on hello node.</span></span> <span data-ttu-id="7726c-138">Tato funkce je také dostupná s jedním uzlem bránou (i když není povolená funkce škálovatelnost a dostupnost hello).</span><span class="sxs-lookup"><span data-stu-id="7726c-138">This capability is also available with a single-node gateway (even when hello scalability and availability feature is not enabled).</span></span> 

<span data-ttu-id="7726c-139">Bránu s více uzly udržuje přihlašovací údaje k úložišti dat hello synchronizace pro všechny uzly.</span><span class="sxs-lookup"><span data-stu-id="7726c-139">A gateway with multiple nodes keeps hello data store credentials in sync across all nodes.</span></span> <span data-ttu-id="7726c-140">Pokud nastane problém s připojením mezi uzly, může být synchronizován hello přihlašovací údaje. Když nastavíte přihlašovací údaje pro úložiště dat místně, který používá bránu, uloží pověření na hello dispečera nebo pracovního uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-140">If there is a node-to-node connectivity issue, hello credentials may be out of sync. When you set credentials for an on-premises data store that uses a gateway, it saves credentials on hello dispatcher/worker node.</span></span> <span data-ttu-id="7726c-141">Hello dispečera uzlu synchronizace s ostatními uzly pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="7726c-141">hello dispatcher node syncs with other worker nodes.</span></span> <span data-ttu-id="7726c-142">Tento proces se označuje jako **pověření synchronizace**. může být hello komunikační kanál mezi uzly **šifrované** pomocí veřejného certifikátu SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="7726c-142">This process is known as **credentials sync**. hello communication channel between nodes can be **encrypted** by a public SSL/TLS certificate.</span></span> 

## <a name="set-up-a-multi-node-gateway"></a><span data-ttu-id="7726c-143">Nastaví bránu několika uzly</span><span class="sxs-lookup"><span data-stu-id="7726c-143">Set up a multi-node gateway</span></span>
<span data-ttu-id="7726c-144">V této části se předpokládá, že jste prošli hello následující dva články nebo neznáte koncepty v těchto článcích:</span><span class="sxs-lookup"><span data-stu-id="7726c-144">This section assumes that you have gone through hello following two articles or familiar with concepts in these articles:</span></span> 

- <span data-ttu-id="7726c-145">[Brána pro správu dat](data-factory-data-management-gateway.md) -poskytuje podrobný přehled o hello brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-145">[Data Management Gateway](data-factory-data-management-gateway.md) - provides a detailed overview of hello gateway.</span></span>
- <span data-ttu-id="7726c-146">[Přesun dat mezi místní a cloudové úložiště dat](data-factory-move-data-between-onprem-and-cloud.md) – obsahuje návod podrobné pokyny pro bránu pomocí jednoho uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-146">[Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) - contains a walkthrough with step-by-step instructions for using a gateway with a single node.</span></span>  

> [!NOTE]
> <span data-ttu-id="7726c-147">Před instalací Brána pro správu dat na systému Windows na místním počítači, najdete v části předpoklady uvedené v [hello hlavní článek](data-factory-data-management-gateway.md#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="7726c-147">Before you install a data management gateway on an on-premises Windows machine, see prerequisites listed in [hello main article](data-factory-data-management-gateway.md#prerequisites).</span></span>

1. <span data-ttu-id="7726c-148">V hello [návod](data-factory-move-data-between-onprem-and-cloud.md#create-gateway), při vytvoření logické brány, povolit hello **vysokou dostupnost a škálovatelnost** funkce.</span><span class="sxs-lookup"><span data-stu-id="7726c-148">In hello [walkthrough](data-factory-move-data-between-onprem-and-cloud.md#create-gateway), while creating a logical gateway, enable hello **High Availability & Scalability** feature.</span></span> 

    ![Brána pro správu dat - povolit vysokou dostupnost a škálovatelnost](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-enable-high-availability-scalability.png)
2. <span data-ttu-id="7726c-150">V hello **konfigurace** stránky, použijte buď **Expresní instalace** nebo **ruční instalace** odkaz tooinstall brány na prvním uzlu hello (se počítač Windows místní).</span><span class="sxs-lookup"><span data-stu-id="7726c-150">In hello **Configure** page, use either **Express Setup** or **Manual Setup** link tooinstall a gateway on hello first node (an on-premises Windows machine).</span></span>

    ![Brána pro správu dat – express nebo ruční instalace](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-express-manual-setup.png)

    > [!NOTE]
    > <span data-ttu-id="7726c-152">Pokud použijete možnost Expresní instalace hello, komunikace mezi uzly hello provádí bez šifrování.</span><span class="sxs-lookup"><span data-stu-id="7726c-152">If you use hello express setup option, hello node-to-node communication is done without encryption.</span></span> <span data-ttu-id="7726c-153">Název uzlu Hello je stejný jako název počítače hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-153">hello node name is same as hello machine name.</span></span> <span data-ttu-id="7726c-154">Pokud komunikaci mezi uzly hello musí toobe šifrovat nebo chcete toospecify název uzlu podle vaší volby, použijte ruční instalaci.</span><span class="sxs-lookup"><span data-stu-id="7726c-154">Use manual setup if hello node-node communication needs toobe encrypted or you want toospecify a node name of your choice.</span></span> <span data-ttu-id="7726c-155">Názvy nelze upravit později.</span><span class="sxs-lookup"><span data-stu-id="7726c-155">Node names cannot be edited later.</span></span>
3. <span data-ttu-id="7726c-156">Pokud se rozhodnete **Expresní instalace**</span><span class="sxs-lookup"><span data-stu-id="7726c-156">If you choose **express setup**</span></span>
    1. <span data-ttu-id="7726c-157">Zobrazí hello po úspěšné instalaci brány hello následující zprávou:</span><span class="sxs-lookup"><span data-stu-id="7726c-157">You see hello following message after hello gateway is successfully installed:</span></span>

        ![Brána pro správu dat – úspěch Expresní instalace](media/data-factory-data-management-gateway-high-availability-scalability/express-setup-success.png)
    2. <span data-ttu-id="7726c-159">Spusťte Správce konfigurace správy dat pro bránu hello podle [tyto pokyny](data-factory-data-management-gateway.md#configuration-manager).</span><span class="sxs-lookup"><span data-stu-id="7726c-159">Launch Data Management Configuration Manager for hello gateway by following [these instructions](data-factory-data-management-gateway.md#configuration-manager).</span></span> <span data-ttu-id="7726c-160">Zobrazí název hello brány, název uzlu, stav, atd.</span><span class="sxs-lookup"><span data-stu-id="7726c-160">You see hello gateway name, node name, status, etc.</span></span>

        ![Brána pro správu dat – instalace proběhla úspěšně.](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-installation-success.png)
4. <span data-ttu-id="7726c-162">Pokud se rozhodnete **ruční instalaci**:</span><span class="sxs-lookup"><span data-stu-id="7726c-162">If you choose **manual setup**:</span></span>
    1. <span data-ttu-id="7726c-163">Stažení instalačního balíčku hello z hello Microsoft Download Center, spusťte ho tooinstall brány na váš počítač.</span><span class="sxs-lookup"><span data-stu-id="7726c-163">Download hello installation package from hello Microsoft Download Center, run it tooinstall gateway on your machine.</span></span>
    2. <span data-ttu-id="7726c-164">Použití hello **ověřovací klíč** z hello **konfigurace** stránky tooregister hello brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-164">Use hello **authentication key** from hello **Configure** page tooregister hello gateway.</span></span>
    
        ![Brána pro správu dat – instalace proběhla úspěšně.](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-authentication-key.png)
    3. <span data-ttu-id="7726c-166">V hello **nový uzel brány** stránky, můžete zadat vlastní **název** toohello uzel brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-166">In hello **New gateway node** page, you can provide a custom **name** toohello gateway node.</span></span> <span data-ttu-id="7726c-167">Ve výchozím nastavení je stejný jako název počítače hello název uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-167">By default, node name is same as hello machine name.</span></span>    

        ![Brána pro správu dat – zadejte název](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-name.png)
    4. <span data-ttu-id="7726c-169">V další stránku hello, můžete zvolit, zda příliš**povolit šifrování pro komunikaci mezi uzly**.</span><span class="sxs-lookup"><span data-stu-id="7726c-169">In hello next page, you can choose whether too**enable encryption for node-to-node communication**.</span></span> <span data-ttu-id="7726c-170">Klikněte na tlačítko **přeskočit** toodisable šifrování (výchozí).</span><span class="sxs-lookup"><span data-stu-id="7726c-170">Click **Skip** toodisable encryption (default).</span></span>

        ![Brána pro správu dat - povolit šifrování](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-node-encryption.png)  
    
        > [!NOTE]
        > <span data-ttu-id="7726c-172">Změna režimu šifrování je podporována pouze když máte velké uzlu v hello logické brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-172">Changing of encryption mode is only supported when you have a single gateway node in hello logical gateway.</span></span> <span data-ttu-id="7726c-173">režim šifrování hello toochange, když brána používá více uzlů, hello následující kroky: Odstraňte všechny hello uzly s výjimkou jeden uzel, změňte režim šifrování hello a poté znovu přidejte hello uzly.</span><span class="sxs-lookup"><span data-stu-id="7726c-173">toochange hello encryption mode when a gateway has multiple nodes, do hello following steps: delete all hello nodes except one node, change hello encryption mode, and then add hello nodes again.</span></span>
        > 
        > <span data-ttu-id="7726c-174">V tématu [požadavky na certifikát protokolu TLS/SSL](#tlsssl-certificate-requirements) bodu seznam požadavků pro používání certifikát protokolu TLS/SSL.</span><span class="sxs-lookup"><span data-stu-id="7726c-174">See [TLS/SSL certificate requirements](#tlsssl-certificate-requirements) section for a list of requirements for using an TLS/SSL certificate.</span></span> 
    5. <span data-ttu-id="7726c-175">Po úspěšné instalaci hello brány, klikněte na tlačítko spustit nástroje Configuration Manager:</span><span class="sxs-lookup"><span data-stu-id="7726c-175">After hello gateway is successfully installed, click Launch Configuration Manager:</span></span>
    
        ![Ruční instalaci - spuštění nástroje configuration manager](media/data-factory-data-management-gateway-high-availability-scalability/manual-setup-launch-configuration-manager.png)   
    6. <span data-ttu-id="7726c-177">Správce konfigurace brány pro správu dat se zobrazí v uzlu hello (místní počítač Windows), který se zobrazuje stav připojení, **název brány**, a **název uzlu**.</span><span class="sxs-lookup"><span data-stu-id="7726c-177">you see Data Management Gateway Configuration Manager on hello node (on-premises Windows machine), which shows connectivity status, **gateway name**, and **node name**.</span></span>  

        ![Brána pro správu dat – instalace proběhla úspěšně.](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-installation-success.png)

        > [!NOTE]
        > <span data-ttu-id="7726c-179">Pokud zřizujete hello brány na virtuální počítač Azure, můžete použít [této šablony Azure Resource Manageru na Githubu](https://github.com/xiaoyingLJ/vms-with-multiple-data-management-gateway).</span><span class="sxs-lookup"><span data-stu-id="7726c-179">If you are provisioning hello gateway on an Azure VM, you can use [this Azure Resource Manager template on GitHub](https://github.com/xiaoyingLJ/vms-with-multiple-data-management-gateway).</span></span> <span data-ttu-id="7726c-180">Tento skript vytvoří logické brány, nastaví virtuální počítače s nainstalovaným softwarem Brána pro správu dat a jejich registruje hello logické brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-180">This script creates a logical gateway, sets up VMs with Data Management Gateway software installed, and registers them with hello logical gateway.</span></span> 
6. <span data-ttu-id="7726c-181">Na portálu Azure, spusťte hello **brány** stránky:</span><span class="sxs-lookup"><span data-stu-id="7726c-181">In Azure portal, launch hello **Gateway** page:</span></span> 
    1. <span data-ttu-id="7726c-182">Na hello data factory domovskou stránku hello portálu, klikněte na tlačítko **propojené služby**.</span><span class="sxs-lookup"><span data-stu-id="7726c-182">On hello data factory home page in hello portal, click **Linked Services**.</span></span>
    
        ![Domovská stránka objektu pro vytváření dat](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-home-page.png)
    2. <span data-ttu-id="7726c-184">Vyberte hello **brány** toosee hello **brány** stránky:</span><span class="sxs-lookup"><span data-stu-id="7726c-184">select hello **gateway** toosee hello **Gateway** page:</span></span>
    
        ![Domovská stránka objektu pro vytváření dat](media/data-factory-data-management-gateway-high-availability-scalability/linked-services-gateway.png)
    4. <span data-ttu-id="7726c-186">Zobrazí hello **brány** stránky:</span><span class="sxs-lookup"><span data-stu-id="7726c-186">You see hello **Gateway** page:</span></span>   

        ![Brána s jedním uzlem zobrazení](media/data-factory-data-management-gateway-high-availability-scalability/gateway-first-node-portal-view.png) 
7. <span data-ttu-id="7726c-188">Klikněte na tlačítko **přidat uzel** na hello nástrojů tooadd logické brány toohello uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-188">Click **Add Node** on hello toolbar tooadd a node toohello logical gateway.</span></span> <span data-ttu-id="7726c-189">Pokud plánujete toouse Expresní instalace, proveďte tento krok z hello na místním počítači, který bude přidán jako brána toohello uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-189">If you are planning toouse express setup, do this step from hello on-premises machine that will be added as a node toohello gateway.</span></span> 

    ![Brána pro správu dat – přidat uzel nabídky](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-add-node-menu.png)
8. <span data-ttu-id="7726c-191">Kroky jsou podobné toosetting až hello prvního uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-191">Steps are similar toosetting up hello first node.</span></span> <span data-ttu-id="7726c-192">Hello uživatelského rozhraní nástroje Configuration Manager umožňuje nastavit název uzlu hello, pokud si zvolíte možnost Ruční instalace hello:</span><span class="sxs-lookup"><span data-stu-id="7726c-192">hello Configuration Manager UI lets you set hello node name if you choose hello manual installation option:</span></span> 

    ![Configuration Manager – instalace druhé brány](media/data-factory-data-management-gateway-high-availability-scalability/install-second-gateway.png)
9. <span data-ttu-id="7726c-194">Po úspěšné instalaci hello brány v uzlu hello hello nástroje Configuration Manager zobrazí následující obrazovka hello:</span><span class="sxs-lookup"><span data-stu-id="7726c-194">After hello gateway is installed successfully on hello node, hello Configuration Manager tool displays hello following screen:</span></span>  

    ![Configuration Manager – úspěšné instalaci druhé brány](media/data-factory-data-management-gateway-high-availability-scalability/second-gateway-installation-successful.png)
10. <span data-ttu-id="7726c-196">Pokud otevřete hello **brány** stránku hello portálu byste nyní vidět dva uzly brány:</span><span class="sxs-lookup"><span data-stu-id="7726c-196">If you open hello **Gateway** page in hello portal, you see two gateway nodes now:</span></span> 

    ![Brána s dvěma uzly hello portálu](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring.png)
11. <span data-ttu-id="7726c-198">toodelete uzlu brány, klikněte na tlačítko **odstranit uzlu** na panelu nástrojů hello, vyberte uzel hello toodelete a pak klikněte na **odstranit** hello panelu nástrojů.</span><span class="sxs-lookup"><span data-stu-id="7726c-198">toodelete a gateway node, click **Delete Node** on hello toolbar, select hello node you want toodelete, and then click **Delete** from hello toolbar.</span></span> <span data-ttu-id="7726c-199">Tato akce odstraní vybraný uzel hello ze skupiny hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-199">This action deletes hello selected node from hello group.</span></span> <span data-ttu-id="7726c-200">Všimněte si, že tato akce neodinstaluje software brány správy dat hello z uzlu hello (místní počítač Windows).</span><span class="sxs-lookup"><span data-stu-id="7726c-200">Note that this action does not uninstall hello data management gateway software from hello node (on-premises Windows machine).</span></span> <span data-ttu-id="7726c-201">Použití **přidat nebo odebrat programy** v Ovládacích panelech na hello místní toouninstall hello brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-201">Use **Add or remove programs** in Control Panel on hello on-premises toouninstall hello gateway.</span></span> <span data-ttu-id="7726c-202">Když odinstalujete z hello uzlu brány, automaticky se odstraní hello portálu.</span><span class="sxs-lookup"><span data-stu-id="7726c-202">When you uninstall gateway from hello node, it's automatically deleted in hello portal.</span></span>   

## <a name="upgrade-an-existing-gateway"></a><span data-ttu-id="7726c-203">Upgrade existující bránu</span><span class="sxs-lookup"><span data-stu-id="7726c-203">Upgrade an existing gateway</span></span>
<span data-ttu-id="7726c-204">Můžete upgradovat existující brány toouse hello vysokou dostupnost a škálovatelnost funkce.</span><span class="sxs-lookup"><span data-stu-id="7726c-204">You can upgrade an existing gateway toouse hello high availability and scalability feature.</span></span> <span data-ttu-id="7726c-205">Tato funkce funguje jenom s uzly, které mají hello Brána pro správu dat. verze > = 2.12.xxxx.</span><span class="sxs-lookup"><span data-stu-id="7726c-205">This feature works only with nodes that have hello data management gateway of version >= 2.12.xxxx.</span></span> <span data-ttu-id="7726c-206">Uvidíte hello verze brány pro správu dat nainstalovány na počítači, v hello **pomoci** hello Správce konfigurace brány pro správu dat na kartě.</span><span class="sxs-lookup"><span data-stu-id="7726c-206">You can see hello version of data management gateway installed on a machine in hello **Help** tab of hello Data Management Gateway Configuration Manager.</span></span> 

1. <span data-ttu-id="7726c-207">Aktualizace brány hello hello místní počítač toohello nejnovější verzi pomocí následujících stahování a spuštěním instalačního balíčku MSI z hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span><span class="sxs-lookup"><span data-stu-id="7726c-207">Update hello gateway on hello on-premises machine toohello latest version by following by downloading and running an MSI setup package from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=39717).</span></span> <span data-ttu-id="7726c-208">V tématu [instalace](data-factory-data-management-gateway.md#installation) podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="7726c-208">See [installation](data-factory-data-management-gateway.md#installation) section for details.</span></span>  
2. <span data-ttu-id="7726c-209">Přejděte toohello portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="7726c-209">Navigate toohello Azure portal.</span></span> <span data-ttu-id="7726c-210">Spusťte hello **stránka objektu pro vytváření dat** data Factory.</span><span class="sxs-lookup"><span data-stu-id="7726c-210">Launch hello **Data Factory page** for your data factory.</span></span> <span data-ttu-id="7726c-211">Klikněte na tlačítko propojené služby dlaždice toolaunch hello **stránka propojené služby**.</span><span class="sxs-lookup"><span data-stu-id="7726c-211">Click Linked services tile toolaunch hello **linked services page**.</span></span> <span data-ttu-id="7726c-212">Vyberte hello brány toolaunch hello **brány stránky**.</span><span class="sxs-lookup"><span data-stu-id="7726c-212">Select hello gateway toolaunch hello **gateway page**.</span></span> <span data-ttu-id="7726c-213">Klikněte na možnost a povolte **funkce ve verzi Preview** jak ukazuje následující obrázek hello:</span><span class="sxs-lookup"><span data-stu-id="7726c-213">Click and enable **Preview Feature** as shown in hello following image:</span></span> 

    ![Brána pro správu dat - povolit funkce ve verzi preview](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-existing-gateway-enable-high-availability.png)   
2. <span data-ttu-id="7726c-215">Jakmile je funkce preview hello povolena hello portálu, zavřete všechny stránky.</span><span class="sxs-lookup"><span data-stu-id="7726c-215">Once hello preview feature is enabled in hello portal, close all pages.</span></span> <span data-ttu-id="7726c-216">Znovu otevřete hello **brány stránky** toosee hello nové preview uživatelské rozhraní (UI).</span><span class="sxs-lookup"><span data-stu-id="7726c-216">Reopen hello **gateway page** toosee hello new preview user interface (UI).</span></span>
 
    ![Brána pro správu dat – úspěch funkce verze preview povolit](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-preview-success.png)

    ![Brána pro správu dat – náhled uživatelského rozhraní](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-preview.png)

    > [!NOTE]
    > <span data-ttu-id="7726c-219">Během upgradu hello název prvního uzlu hello je hello název počítače hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-219">During hello upgrade, name of hello first node is hello name of hello machine.</span></span> 
3. <span data-ttu-id="7726c-220">Nyní přidejte do uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-220">Now, add a node.</span></span> <span data-ttu-id="7726c-221">V hello **brány** klikněte na tlačítko **přidat uzel**.</span><span class="sxs-lookup"><span data-stu-id="7726c-221">In hello **Gateway** page, click **Add Node**.</span></span>  

    ![Brána pro správu dat – přidat uzel nabídky](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-add-node-menu.png)

    <span data-ttu-id="7726c-223">Postupujte podle pokynů z hello předchozí část tooset až hello uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-223">Follow instructions from hello previous section tooset up hello node.</span></span> 

### <a name="installation-best-practices"></a><span data-ttu-id="7726c-224">Osvědčené postupy instalace</span><span class="sxs-lookup"><span data-stu-id="7726c-224">Installation best practices</span></span>

- <span data-ttu-id="7726c-225">Schéma napájení nakonfigurujte na hostitelském počítači hello hello brány, aby hello počítač nepřejde do režimu spánku.</span><span class="sxs-lookup"><span data-stu-id="7726c-225">Configure power plan on hello host machine for hello gateway so that hello machine does not hibernate.</span></span> <span data-ttu-id="7726c-226">Pokud hello hostitelský počítač přejde do režimu spánku, brána hello neodpoví toodata požadavky.</span><span class="sxs-lookup"><span data-stu-id="7726c-226">If hello host machine hibernates, hello gateway does not respond toodata requests.</span></span>
- <span data-ttu-id="7726c-227">Zálohujte hello certifikát přidružený k hello brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-227">Back up hello certificate associated with hello gateway.</span></span>
- <span data-ttu-id="7726c-228">Zkontrolujte, zda že jsou všechny uzly podobné konfigurace (doporučeno) ideální výkonu.</span><span class="sxs-lookup"><span data-stu-id="7726c-228">Ensure all nodes are of similar configuration (recommended) for ideal performance.</span></span> 
- <span data-ttu-id="7726c-229">Přidejte aspoň dva uzly tooensure vysokou dostupnost.</span><span class="sxs-lookup"><span data-stu-id="7726c-229">Add at least two nodes tooensure high availability.</span></span>  

### <a name="tlsssl-certificate-requirements"></a><span data-ttu-id="7726c-230">Požadavky na certifikát protokolu TLS/SSL</span><span class="sxs-lookup"><span data-stu-id="7726c-230">TLS/SSL certificate requirements</span></span>
<span data-ttu-id="7726c-231">Tady jsou požadavky hello hello certifikátu TLS/SSL, který se používá k zabezpečení komunikace mezi uzly brány:</span><span class="sxs-lookup"><span data-stu-id="7726c-231">Here are hello requirements for hello TLS/SSL certificate that is used for securing communications between gateway nodes:</span></span>

- <span data-ttu-id="7726c-232">Hello certifikát musí být veřejně důvěryhodné X509 v3 certifikátu.</span><span class="sxs-lookup"><span data-stu-id="7726c-232">hello certificate must be a publicly trusted X509 v3 certificate.</span></span>
- <span data-ttu-id="7726c-233">Všechny uzly brány musí důvěřovat tento certifikát.</span><span class="sxs-lookup"><span data-stu-id="7726c-233">All gateway nodes must trust this certificate.</span></span> 
- <span data-ttu-id="7726c-234">Doporučujeme vám, že používáte certifikáty vydané veřejnou (třetích stran) certifikační autoritou (CA).</span><span class="sxs-lookup"><span data-stu-id="7726c-234">We recommend that you use certificates that are issued by a public (third-party) certification authority (CA).</span></span>
- <span data-ttu-id="7726c-235">Podporuje všechny klíče velikost podporovaná technologií Windows Server 2012 R2 pro certifikáty SSL.</span><span class="sxs-lookup"><span data-stu-id="7726c-235">Supports any key size supported by Windows Server 2012 R2 for SSL certificates.</span></span>
- <span data-ttu-id="7726c-236">Nepodporuje certifikáty, které používají klíči CNG.</span><span class="sxs-lookup"><span data-stu-id="7726c-236">Does not support certificates that use CNG keys.</span></span>
- <span data-ttu-id="7726c-237">Zástupný znak-certifikáty jsou podporovány.</span><span class="sxs-lookup"><span data-stu-id="7726c-237">Wild-card certificates are supported.</span></span> 


## <a name="monitor-a-multi-node-gateway"></a><span data-ttu-id="7726c-238">Monitorování několika uzly brány</span><span class="sxs-lookup"><span data-stu-id="7726c-238">Monitor a multi-node gateway</span></span>
### <a name="multi-node-gateway-monitoring"></a><span data-ttu-id="7726c-239">Monitorování několika uzly brány</span><span class="sxs-lookup"><span data-stu-id="7726c-239">Multi-node gateway monitoring</span></span>
<span data-ttu-id="7726c-240">Hello portálu Azure uvidíte skoro v reálném čase snímek využití prostředků (procesoru, paměti, network(in/out) atd.) na každém uzlu společně s stavy uzlů brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-240">In hello Azure portal, you can view near-real time snapshot of resource utilization (CPU, memory, network(in/out), etc.) on each node along with statuses of gateway nodes.</span></span> 

![Brána pro správu dat – více monitorování uzlu](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring.png)

<span data-ttu-id="7726c-242">Můžete povolit **upřesňující nastavení** v hello **brány** stránka toosee advanced metriky jako **sítě**(vstup/výstup), **Role & pověření stav**, což je užitečné při ladění problémů s brány, a **souběžných úloh** (spuštění / omezit) který může být upravený / odpovídajícím způsobem změněné během optimalizace výkonu.</span><span class="sxs-lookup"><span data-stu-id="7726c-242">You can enable **Advanced Settings** in hello **Gateway** page toosee advanced metrics like **Network**(in/out), **Role & Credential Status**, which is helpful in debugging gateway issues, and **Concurrent Jobs** (Running/ Limit) which can be modified/ changed accordingly during performance tuning.</span></span> <span data-ttu-id="7726c-243">Hello následující tabulka obsahuje popis sloupců v hello **uzly brány** seznamu:</span><span class="sxs-lookup"><span data-stu-id="7726c-243">hello following table provides descriptions of columns in hello **Gateway Nodes** list:</span></span>  

<span data-ttu-id="7726c-244">Vlastnost monitorování</span><span class="sxs-lookup"><span data-stu-id="7726c-244">Monitoring Property</span></span> | <span data-ttu-id="7726c-245">Popis</span><span class="sxs-lookup"><span data-stu-id="7726c-245">Description</span></span>
:------------------ | :---------- 
<span data-ttu-id="7726c-246">Name (Název)</span><span class="sxs-lookup"><span data-stu-id="7726c-246">Name</span></span> | <span data-ttu-id="7726c-247">Název logické brány hello a uzly, které jsou přidružené k hello brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-247">Name of hello logical gateway and nodes associated with hello gateway.</span></span>  
<span data-ttu-id="7726c-248">Status</span><span class="sxs-lookup"><span data-stu-id="7726c-248">Status</span></span> | <span data-ttu-id="7726c-249">Stav hello logické brány a hello zprostředkovatelských uzlů zasílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="7726c-249">Status of hello logical gateway and hello gateway nodes.</span></span> <span data-ttu-id="7726c-250">Příklad: Online nebo Offline nebo Limited/atd. Informace o těchto stavů najdete v tématu [stav brány](#gateway-status) části.</span><span class="sxs-lookup"><span data-stu-id="7726c-250">Example: Online/Offline/Limited/etc. For information about these statuses, See [Gateway status](#gateway-status) section.</span></span> 
<span data-ttu-id="7726c-251">Verze</span><span class="sxs-lookup"><span data-stu-id="7726c-251">Version</span></span> | <span data-ttu-id="7726c-252">Zobrazuje verzi hello hello logické brány a každý uzel brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-252">Shows hello version of hello logical gateway and each gateway node.</span></span> <span data-ttu-id="7726c-253">Hello verzi hello logické brány je určen na základě verze Většina uzlů ve skupině hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-253">hello version of hello logical gateway is determined based on version of majority of nodes in hello group.</span></span> <span data-ttu-id="7726c-254">Pokud existují uzly s různými verzemi v instalačním programu hello logické brány, hello pouze hello uzlů se stejným číslem verze funkce hello logické brány správně.</span><span class="sxs-lookup"><span data-stu-id="7726c-254">If there are nodes with different versions in hello logical gateway setup, only hello nodes with hello same version number as hello logical gateway function properly.</span></span> <span data-ttu-id="7726c-255">Ostatní jsou v režimu omezené hello. je potřeba toobe ručně aktualizovat (pouze v případě automatické aktualizace nezdaří).</span><span class="sxs-lookup"><span data-stu-id="7726c-255">Others are in hello limited mode and need toobe manually updated (only in case auto-update fails).</span></span> 
<span data-ttu-id="7726c-256">Dostupná paměť</span><span class="sxs-lookup"><span data-stu-id="7726c-256">Available memory</span></span> | <span data-ttu-id="7726c-257">Dostupná paměť na uzel brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-257">Available memory on a gateway node.</span></span> <span data-ttu-id="7726c-258">Tato hodnota je snímku near v reálném čase.</span><span class="sxs-lookup"><span data-stu-id="7726c-258">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="7726c-259">Využití procesoru</span><span class="sxs-lookup"><span data-stu-id="7726c-259">CPU utilization</span></span> | <span data-ttu-id="7726c-260">Využití procesoru uzlu brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-260">CPU utilization of a gateway node.</span></span> <span data-ttu-id="7726c-261">Tato hodnota je snímku near v reálném čase.</span><span class="sxs-lookup"><span data-stu-id="7726c-261">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="7726c-262">Sítě (vstup/výstup)</span><span class="sxs-lookup"><span data-stu-id="7726c-262">Networking (In/Out)</span></span> | <span data-ttu-id="7726c-263">Využití uzlu brány sítě.</span><span class="sxs-lookup"><span data-stu-id="7726c-263">Network utilization of a gateway node.</span></span> <span data-ttu-id="7726c-264">Tato hodnota je snímku near v reálném čase.</span><span class="sxs-lookup"><span data-stu-id="7726c-264">This value is a near real-time snapshot.</span></span> 
<span data-ttu-id="7726c-265">Souběžné úlohy (spuštění / omezit)</span><span class="sxs-lookup"><span data-stu-id="7726c-265">Concurrent Jobs (Running/ Limit)</span></span> | <span data-ttu-id="7726c-266">Počet úlohy nebo úlohy na jednotlivých uzlech spuštěné.</span><span class="sxs-lookup"><span data-stu-id="7726c-266">Number of jobs or tasks running on each node.</span></span> <span data-ttu-id="7726c-267">Tato hodnota je snímku near v reálném čase.</span><span class="sxs-lookup"><span data-stu-id="7726c-267">This value is a near real-time snapshot.</span></span> <span data-ttu-id="7726c-268">Limit označuje hello maximální souběžných úloh pro každý uzel.</span><span class="sxs-lookup"><span data-stu-id="7726c-268">Limit signifies hello maximum concurrent jobs for each node.</span></span> <span data-ttu-id="7726c-269">Tato hodnota je definována v závislosti na velikosti počítače hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-269">This value is defined based on hello machine size.</span></span> <span data-ttu-id="7726c-270">Můžete zvýšit limit tooscale hello až provádění souběžné úlohy v pokročilých scénářích, kde procesoru nebo paměti / síť je v části využívat, ale aktivity jsou vypršení časového limitu. Tato funkce je také dostupná s jedním uzlem bránou (i když není povolená funkce škálovatelnost a dostupnost hello).</span><span class="sxs-lookup"><span data-stu-id="7726c-270">You can increase hello limit tooscale up concurrent job execution in advanced scenarios, where CPU/ memory/ network is under-utilized, but activities are timing out. This capability is also available with a single-node gateway (even when hello scalability and availability feature is not enabled).</span></span> <span data-ttu-id="7726c-271">Další informace najdete v tématu [škálování aspekty](#scale-considerations) části.</span><span class="sxs-lookup"><span data-stu-id="7726c-271">For more information, see [scale considerations](#scale-considerations) section.</span></span> 
<span data-ttu-id="7726c-272">Role</span><span class="sxs-lookup"><span data-stu-id="7726c-272">Role</span></span> | <span data-ttu-id="7726c-273">Existují dva typy rolí – dispečera a pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="7726c-273">There are two types of roles – Dispatcher and worker.</span></span> <span data-ttu-id="7726c-274">Všechny uzly jsou pracovníci, což znamená, že může být použité tooexecute úlohy.</span><span class="sxs-lookup"><span data-stu-id="7726c-274">All nodes are workers, which means they can all be used tooexecute jobs.</span></span> <span data-ttu-id="7726c-275">Je pouze jeden uzel dispečera, což je použité toopull úlohy nebo úlohy z cloudové služby a jejich odesílání toodifferent uzlů pracovního procesu (včetně samotného).</span><span class="sxs-lookup"><span data-stu-id="7726c-275">There is only one dispatcher node, which is used toopull tasks/jobs from cloud services and dispatch them toodifferent worker nodes (including itself).</span></span> 

![Brána pro správu dat – pokročilé monitorování více uzlu](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring-advanced.png)

### <a name="gateway-status"></a><span data-ttu-id="7726c-277">Stav brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-277">Gateway status</span></span>

<span data-ttu-id="7726c-278">Hello následující tabulka obsahuje možné stavy z **uzel brány**:</span><span class="sxs-lookup"><span data-stu-id="7726c-278">hello following table provides possible statuses of a **gateway node**:</span></span> 

<span data-ttu-id="7726c-279">Status</span><span class="sxs-lookup"><span data-stu-id="7726c-279">Status</span></span>  | <span data-ttu-id="7726c-280">Komentáře nebo scénáře</span><span class="sxs-lookup"><span data-stu-id="7726c-280">Comments/Scenarios</span></span>
:------- | :------------------
<span data-ttu-id="7726c-281">Online</span><span class="sxs-lookup"><span data-stu-id="7726c-281">Online</span></span> | <span data-ttu-id="7726c-282">Uzel připojen tooData objekt pro vytváření služby.</span><span class="sxs-lookup"><span data-stu-id="7726c-282">Node connected tooData Factory service.</span></span>
<span data-ttu-id="7726c-283">V režimu offline</span><span class="sxs-lookup"><span data-stu-id="7726c-283">Offline</span></span> | <span data-ttu-id="7726c-284">Uzel je offline.</span><span class="sxs-lookup"><span data-stu-id="7726c-284">Node is offline.</span></span>
<span data-ttu-id="7726c-285">Upgrade</span><span class="sxs-lookup"><span data-stu-id="7726c-285">Upgrading</span></span> | <span data-ttu-id="7726c-286">Hello uzlu, která má být automaticky aktualizován.</span><span class="sxs-lookup"><span data-stu-id="7726c-286">hello node is being auto-updated.</span></span>
<span data-ttu-id="7726c-287">Omezená</span><span class="sxs-lookup"><span data-stu-id="7726c-287">Limited</span></span> | <span data-ttu-id="7726c-288">Z důvodu tooConnectivity problém.</span><span class="sxs-lookup"><span data-stu-id="7726c-288">Due tooConnectivity issue.</span></span> <span data-ttu-id="7726c-289">Může být z důvodu tooHTTP port 8050 problém, problém s připojením služby sběrnice nebo problémům synchronizace přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="7726c-289">May be due tooHTTP port 8050 issue, service bus connectivity issue, or credential sync issue.</span></span> 
<span data-ttu-id="7726c-290">Neaktivní</span><span class="sxs-lookup"><span data-stu-id="7726c-290">Inactive</span></span> | <span data-ttu-id="7726c-291">Uzel je v konfiguraci se liší od konfigurace hello jiných Většina uzlů.</span><span class="sxs-lookup"><span data-stu-id="7726c-291">Node is in a configuration different from hello configuration of other majority nodes.</span></span><br/><br/> <span data-ttu-id="7726c-292">Uzlem může být neaktivní, když se nemůže připojit tooother uzlů.</span><span class="sxs-lookup"><span data-stu-id="7726c-292">A node can be inactive when it cannot connect tooother nodes.</span></span> 


<span data-ttu-id="7726c-293">Hello následující tabulka obsahuje možné stavy z **logické brány**.</span><span class="sxs-lookup"><span data-stu-id="7726c-293">hello following table provides possible statuses of a **logical gateway**.</span></span> <span data-ttu-id="7726c-294">Stav brány Hello závisí na stavy, které jsou uzlů brány hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-294">hello gateway status depends on statuses of hello gateway nodes.</span></span> 

<span data-ttu-id="7726c-295">Status</span><span class="sxs-lookup"><span data-stu-id="7726c-295">Status</span></span> | <span data-ttu-id="7726c-296">Komentáře</span><span class="sxs-lookup"><span data-stu-id="7726c-296">Comments</span></span>
:----- | :-------
<span data-ttu-id="7726c-297">Nutná registrace</span><span class="sxs-lookup"><span data-stu-id="7726c-297">Needs Registration</span></span> | <span data-ttu-id="7726c-298">Žádný uzel dosud registrovaných toothis logické brány</span><span class="sxs-lookup"><span data-stu-id="7726c-298">No node is yet registered toothis logical gateway</span></span>
<span data-ttu-id="7726c-299">Online</span><span class="sxs-lookup"><span data-stu-id="7726c-299">Online</span></span> | <span data-ttu-id="7726c-300">Brána uzly jsou online</span><span class="sxs-lookup"><span data-stu-id="7726c-300">Gateway Nodes are online</span></span>
<span data-ttu-id="7726c-301">V režimu offline</span><span class="sxs-lookup"><span data-stu-id="7726c-301">Offline</span></span> | <span data-ttu-id="7726c-302">Žádný uzel ve stavu online.</span><span class="sxs-lookup"><span data-stu-id="7726c-302">No node in online status.</span></span>
<span data-ttu-id="7726c-303">Omezená</span><span class="sxs-lookup"><span data-stu-id="7726c-303">Limited</span></span> | <span data-ttu-id="7726c-304">Ne všechny uzly v této brány jsou v dobrém stavu.</span><span class="sxs-lookup"><span data-stu-id="7726c-304">Not all nodes in this gateway are in healthy state.</span></span> <span data-ttu-id="7726c-305">Tento stav se upozornění, že některé uzel může být mimo provoz!</span><span class="sxs-lookup"><span data-stu-id="7726c-305">This status is a warning that some node might be down!</span></span> <br/><br/><span data-ttu-id="7726c-306">Může být kvůli problémům synchronizace toocredential na dispečera nebo pracovního uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-306">Could be due toocredential sync issue on dispatcher/worker node.</span></span> 

### <a name="pipeline-activities-monitoring"></a><span data-ttu-id="7726c-307">Kanál / monitorování aktivity</span><span class="sxs-lookup"><span data-stu-id="7726c-307">Pipeline/ activities monitoring</span></span>
<span data-ttu-id="7726c-308">Hello portál Azure poskytuje kanálu monitorování zkušenosti s granulární uzlu úrovně podrobností.</span><span class="sxs-lookup"><span data-stu-id="7726c-308">hello Azure portal provides a pipeline monitoring experience with granular node level details.</span></span> <span data-ttu-id="7726c-309">Například uvádí, které aktivity byl spuštěn na uzel.</span><span class="sxs-lookup"><span data-stu-id="7726c-309">For example, it shows which activities ran on which node.</span></span> <span data-ttu-id="7726c-310">Tato informace může být užitečné pro porozumění problémy s výkonem v konkrétním uzlu, například z důvodu omezení toonetwork.</span><span class="sxs-lookup"><span data-stu-id="7726c-310">This information can be helpful in understanding performance issues on a particular node, say due toonetwork throttling.</span></span> 

![Brána pro správu dat – sledování pro kanály více uzlů.](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-monitoring-pipelines.png)

![Brána pro správu dat – podrobnosti o kanálu](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-multi-node-pipeline-details.png)

## <a name="scale-considerations"></a><span data-ttu-id="7726c-313">Důležité informace o škálování</span><span class="sxs-lookup"><span data-stu-id="7726c-313">Scale considerations</span></span>

### <a name="scale-out"></a><span data-ttu-id="7726c-314">Horizontální navýšení kapacity</span><span class="sxs-lookup"><span data-stu-id="7726c-314">Scale out</span></span>
<span data-ttu-id="7726c-315">Když hello **zbývá málo dostupné paměti** a hello **využití procesoru je Vysoká**, přidání nového uzlu pomáhá s více instancemi hello zatížení mezi počítači.</span><span class="sxs-lookup"><span data-stu-id="7726c-315">When hello **available memory is low** and hello **CPU usage is high**, adding a new node helps scale out hello load across machines.</span></span> <span data-ttu-id="7726c-316">Pokud aktivity se nedaří kvůli uzlu se na více systémů tootime nebo brána je offline, je dobré-li přidat bránu toohello uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-316">If activities are failing due tootime-out or gateway node being offline, it helps if you add a node toohello gateway.</span></span>
 
### <a name="scale-up"></a><span data-ttu-id="7726c-317">Vertikální navýšení kapacity</span><span class="sxs-lookup"><span data-stu-id="7726c-317">Scale up</span></span>
<span data-ttu-id="7726c-318">Pokud nejsou dobře využité hello dostatek paměti a procesoru, ale nečinnosti kapacita hello je 0, by měl škálování až zvýšením hello počet souběžných úloh, které můžou běžet na uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-318">When hello available memory and CPU are not utilized well, but hello idle capacity is 0, you should scale up by increasing hello number of concurrent jobs that can run on a node.</span></span> <span data-ttu-id="7726c-319">Můžete také tooscale až když aktivity jsou vypršení časového limitu, protože je přetížena hello brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-319">You may also want tooscale up when activities are timing out because hello gateway is overloaded.</span></span> <span data-ttu-id="7726c-320">Jak ukazuje následující obrázek hello, můžete zvýšit maximální kapacita hello pro uzel.</span><span class="sxs-lookup"><span data-stu-id="7726c-320">As shown in hello following image, you can increase hello maximum capacity for a node.</span></span> <span data-ttu-id="7726c-321">Doporučujeme, čímž zdvojnásobí toostart s.</span><span class="sxs-lookup"><span data-stu-id="7726c-321">We suggest doubling it toostart with.</span></span>  

![Brána pro správu dat – aspekty škálování](media/data-factory-data-management-gateway-high-availability-scalability/data-factory-gateway-scale-considerations.png)


## <a name="known-issuesbreaking-changes"></a><span data-ttu-id="7726c-323">Známé problémy nebo nejnovější změny</span><span class="sxs-lookup"><span data-stu-id="7726c-323">Known issues/breaking changes</span></span>

- <span data-ttu-id="7726c-324">V současné době může mít až toofour fyzické zprostředkovatelských uzlů zasílání zpráv pro jednu logickou bránu.</span><span class="sxs-lookup"><span data-stu-id="7726c-324">Currently, you can have up toofour physical gateway nodes for a single logical gateway.</span></span> <span data-ttu-id="7726c-325">Pokud potřebujete více než čtyři uzly z důvodů výkonu, odešlete e-mail příliš[DMGHelp@microsoft.com](mailto:DMGHelp@microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="7726c-325">If you need more than four nodes for performance reasons, send an email too[DMGHelp@microsoft.com](mailto:DMGHelp@microsoft.com).</span></span>
- <span data-ttu-id="7726c-326">Nemůžete se znovu zaregistrovat uzel brány s hello ověřovací klíč z jiné logické brány tooswitch z aktuální logické brány hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-326">You cannot re-register a gateway node with hello authentication key from another logical gateway tooswitch from hello current logical gateway.</span></span> <span data-ttu-id="7726c-327">registrace toore hello bránu odinstalovat z uzlu hello, přeinstalujte hello brány a zaregistrovat ji pomocí hello ověřovací klíč pro hello jiné logické brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-327">toore-register, uninstall hello gateway from hello node, reinstall hello gateway, and register it with hello authentication key for hello other logical gateway.</span></span> 
- <span data-ttu-id="7726c-328">Pokud server proxy protokolu HTTP je potřeba pro všechny uzly brány, hello proxy v diahost.exe.config a diawp.exe.config a zda mají všechny uzly hello stejné diahost.exe.config a diawip.exe.config toomake hello server manager. V tématu [konfigurace nastavení proxy serveru](data-factory-data-management-gateway.md#configure-proxy-server-settings) podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="7726c-328">If HTTP proxy is required for all your gateway nodes, set hello proxy in diahost.exe.config and diawp.exe.config, and use hello server manager toomake sure all nodes have hello same diahost.exe.config and diawip.exe.config. See [configure proxy settings](data-factory-data-management-gateway.md#configure-proxy-server-settings) section for details.</span></span> 
- <span data-ttu-id="7726c-329">režim toochange šifrování pro komunikaci mezi uzly ve Správci konfigurace brány odstranit všechny uzly hello portálu hello kromě jednoho.</span><span class="sxs-lookup"><span data-stu-id="7726c-329">toochange encryption mode for node-to-node communication in Gateway Configuration Manager, delete all hello nodes in hello portal except one.</span></span> <span data-ttu-id="7726c-330">Pak přidáte uzly zpět po změně režimu šifrování hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-330">Then, add nodes back after changing hello encryption mode.</span></span>
- <span data-ttu-id="7726c-331">Použijte oficiální certifikátu protokolu SSL, pokud se rozhodnete tooencrypt hello – uzly komunikační kanál.</span><span class="sxs-lookup"><span data-stu-id="7726c-331">Use an official SSL certificate if you choose tooencrypt hello node-to-node communication channel.</span></span> <span data-ttu-id="7726c-332">Certifikát podepsaný svým držitelem může způsobit problémy s připojením k jako hello, které nemusí být stejný certifikát důvěryhodný v seznamu certifikační autority na jiné počítače.</span><span class="sxs-lookup"><span data-stu-id="7726c-332">Self-signed certificate may cause connectivity issues as hello same certificate may not be trusted in certifying authority list on other machines.</span></span> 
- <span data-ttu-id="7726c-333">Nelze zaregistrovat logické brány tooa uzlu brány, při hello uzlu verze je nižší než verze hello logické brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-333">You cannot register a gateway node tooa logical gateway when hello node version is lower than hello logical gateway version.</span></span> <span data-ttu-id="7726c-334">Odstranit všechny uzly hello logické brány z portálu, tak, aby se můžete zaregistrovat nižší verze node(downgrade) ho.</span><span class="sxs-lookup"><span data-stu-id="7726c-334">Delete all nodes of hello logical gateway from portal so that you can register a lower version node(downgrade) it.</span></span> <span data-ttu-id="7726c-335">Pokud odstraníte všechny uzly logické brány, ručně nainstalujte a zaregistrujte nové uzly toothat logické brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-335">If you delete all nodes of a logical gateway, manually install and register new nodes toothat logical gateway.</span></span> <span data-ttu-id="7726c-336">Expresní instalace není v tomto případě nepodporuje.</span><span class="sxs-lookup"><span data-stu-id="7726c-336">Express setup is not supported in this case.</span></span>
- <span data-ttu-id="7726c-337">Expresní instalace tooinstall uzly tooan stávající logické brána, která je stále pomocí pověření cloudu se nedá použít.</span><span class="sxs-lookup"><span data-stu-id="7726c-337">You cannot use express setup tooinstall nodes tooan existing logical gateway, which is still using cloud credentials.</span></span> <span data-ttu-id="7726c-338">Můžete zkontrolovat, kde jsou uložené přihlašovací údaje hello z hello Správce konfigurace brány na kartě nastavení hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-338">You can check where hello credentials are stored from hello Gateway Configuration Manager on hello Settings tab.</span></span>
- <span data-ttu-id="7726c-339">Nelze použít Expresní instalace tooinstall uzly tooan existující logické brány, který má povolené šifrování mezi uzly.</span><span class="sxs-lookup"><span data-stu-id="7726c-339">You cannot use express setup tooinstall nodes tooan existing logical gateway, which has node-to-node encryption enabled.</span></span> <span data-ttu-id="7726c-340">Nastavení hello šifrování režim vyžaduje ruční přidání certifikáty, je Expresní instalace žádné další možnost.</span><span class="sxs-lookup"><span data-stu-id="7726c-340">As setting hello encryption mode involves manually adding certificates, express install is no more an option.</span></span> 
- <span data-ttu-id="7726c-341">Pro kopírování souborů z místního prostředí, neměli byste používat \\localhost nebo C:\files už od localhost nebo místní jednotku možná není přístupný prostřednictvím všech uzlů.</span><span class="sxs-lookup"><span data-stu-id="7726c-341">For a file copy from on-premises environment, you should not use \\localhost or C:\files anymore since localhost or local drive might not be accessible via all nodes.</span></span> <span data-ttu-id="7726c-342">Místo toho použijte \\ServerName\files toospecify soubory umístění.</span><span class="sxs-lookup"><span data-stu-id="7726c-342">Instead, use \\ServerName\files toospecify files’ location.</span></span>


## <a name="rolling-back-from-hello-preview"></a><span data-ttu-id="7726c-343">Vrácení zpět z verze preview hello</span><span class="sxs-lookup"><span data-stu-id="7726c-343">Rolling back from hello preview</span></span> 
<span data-ttu-id="7726c-344">tooroll zpět z verze preview hello, odstraňte všechny uzly, ale jeden uzel.</span><span class="sxs-lookup"><span data-stu-id="7726c-344">tooroll back from hello preview, delete all nodes but one node.</span></span> <span data-ttu-id="7726c-345">Nezávisle na tom, které uzly odstranit, ale ujistěte se, že máte nejméně jeden uzel v hello logické brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-345">It doesn’t matter which nodes you delete, but ensure you have at least one node in hello logical gateway.</span></span> <span data-ttu-id="7726c-346">Odinstalovává se brána na počítači hello nebo pomocí hello portálu Azure, můžete odstranit uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-346">You can delete a node either by uninstalling gateway on hello machine or by using hello Azure portal.</span></span> <span data-ttu-id="7726c-347">V portálu Azure, v hello hello **Data Factory** klikněte na tlačítko propojené služby toolaunch hello **propojené služby** stránky.</span><span class="sxs-lookup"><span data-stu-id="7726c-347">In hello Azure portal, in hello **Data Factory** page, click Linked services toolaunch hello **Linked services** page.</span></span> <span data-ttu-id="7726c-348">Vyberte hello brány toolaunch hello **brány** stránky.</span><span class="sxs-lookup"><span data-stu-id="7726c-348">Select hello gateway toolaunch hello **Gateway** page.</span></span> <span data-ttu-id="7726c-349">Na stránce hello brány najdete v hello uzly přidružené brány hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-349">In hello Gateway page, you can see hello nodes associated with hello gateway.</span></span> <span data-ttu-id="7726c-350">Hello stránce můžete odstranit uzel z hello brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-350">hello page lets you delete a node from hello gateway.</span></span>
 
<span data-ttu-id="7726c-351">Po odstranění, klikněte na tlačítko **funkce verze preview** v hello stejné stránky portálu Azure a zakázat funkce ve verzi preview hello.</span><span class="sxs-lookup"><span data-stu-id="7726c-351">After deleting, click **preview features** in hello same Azure portal page, and disable hello preview feature.</span></span> <span data-ttu-id="7726c-352">Resetujete bránu brány tooone uzlu GA (Obecné dostupnosti).</span><span class="sxs-lookup"><span data-stu-id="7726c-352">You have reset your gateway tooone node GA (general availability) gateway.</span></span>


## <a name="next-steps"></a><span data-ttu-id="7726c-353">Další kroky</span><span class="sxs-lookup"><span data-stu-id="7726c-353">Next steps</span></span>
<span data-ttu-id="7726c-354">Projděte si hello následující články:</span><span class="sxs-lookup"><span data-stu-id="7726c-354">Review hello following articles:</span></span>
- <span data-ttu-id="7726c-355">[Brána pro správu dat](data-factory-data-management-gateway.md) -poskytuje podrobný přehled o hello brány.</span><span class="sxs-lookup"><span data-stu-id="7726c-355">[Data Management Gateway](data-factory-data-management-gateway.md) - provides a detailed overview of hello gateway.</span></span>
- <span data-ttu-id="7726c-356">[Přesun dat mezi místní a cloudové úložiště dat](data-factory-move-data-between-onprem-and-cloud.md) – obsahuje návod podrobné pokyny pro bránu pomocí jednoho uzlu.</span><span class="sxs-lookup"><span data-stu-id="7726c-356">[Move data between on-premises and cloud data stores](data-factory-move-data-between-onprem-and-cloud.md) - contains a walkthrough with step-by-step instructions for using a gateway with a single node.</span></span> 
