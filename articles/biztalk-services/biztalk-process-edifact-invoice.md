---
title: "Kurz: Zpracovat EDIFACT faktury pomocí služby Azure BizTalk Services | Microsoft Docs"
description: "Jak toocreate a nakonfigurovat konektor pole nebo rozhraní API aplikace hello a použít ho v aplikaci logiky ve službě Azure App Service"
services: biztalk-services
documentationcenter: .net,nodejs,java
author: msftman
manager: erikre
editor: 
ms.assetid: 7e0b93fa-3e2b-4a9c-89ef-abf1d3aa8fa9
ms.service: biztalk-services
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.date: 05/31/2016
ms.author: deonhe
ms.openlocfilehash: 4ca021c9084b9b6540c93ef15fc3d44be0966970
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="tutorial-process-edifact-invoices-using-azure-biztalk-services"></a><span data-ttu-id="9d340-103">Kurz: Proces EDIFACT faktury pomocí služby Azure BizTalk Services</span><span class="sxs-lookup"><span data-stu-id="9d340-103">Tutorial: Process EDIFACT invoices using Azure BizTalk Services</span></span>

> [!INCLUDE [BizTalk Services is being retired, and replaced with Azure Logic Apps](../../includes/biztalk-services-retirement.md)]

<span data-ttu-id="9d340-104">Můžete použít hello portál služeb BizTalk tooconfigure a nasadit X12 a EDIFACT smlouvy.</span><span class="sxs-lookup"><span data-stu-id="9d340-104">You can use hello BizTalk Services Portal tooconfigure and deploy X12 and EDIFACT agreements.</span></span> <span data-ttu-id="9d340-105">V tomto kurzu podíváme na tom, jak toocreate smlouvy EDIFACT pro výměnu faktury mezi obchodními partnery.</span><span class="sxs-lookup"><span data-stu-id="9d340-105">In this tutorial, we look at how toocreate an EDIFACT agreement for exchanging invoices between trading partners.</span></span> <span data-ttu-id="9d340-106">Tento kurz je napsán kolem začátku do konce obchodní řešení zahrnující dva obchodní partneři Northwind a Contoso, které exchange EDIFACT zprávy.</span><span class="sxs-lookup"><span data-stu-id="9d340-106">This tutorial is written around an end-to-end business solution involving two trading partners, Northwind and Contoso that exchange EDIFACT messages.</span></span>  

## <a name="sample-based-on-this-tutorial"></a><span data-ttu-id="9d340-107">Ukázka podle tohoto kurzu</span><span class="sxs-lookup"><span data-stu-id="9d340-107">Sample based on this tutorial</span></span>
<span data-ttu-id="9d340-108">Tento kurz je napsán kolem ukázku, **odesílání EDIFACT faktury pomocí BizTalk Services**, která je k dispozici toodownload z hello [galerie kódů MSDN](http://go.microsoft.com/fwlink/?LinkId=401005).</span><span class="sxs-lookup"><span data-stu-id="9d340-108">This tutorial is written around a sample, **Sending EDIFACT Invoices Using BizTalk Services**, which is available toodownload from hello [MSDN Code Gallery](http://go.microsoft.com/fwlink/?LinkId=401005).</span></span> <span data-ttu-id="9d340-109">Můžete použít ukázkové hello a projít tento kurz toounderstand, jak byl sestaven ukázka hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-109">You could use hello sample and go through this tutorial toounderstand how hello sample was built.</span></span> <span data-ttu-id="9d340-110">Nebo můžete použít tento kurz toocreate základů vlastní řešení.</span><span class="sxs-lookup"><span data-stu-id="9d340-110">Or, you could use this tutorial toocreate your own solution ground-up.</span></span> <span data-ttu-id="9d340-111">V tomto kurzu je zaměřeno hello druhý přístup tak, aby vám pochopit, jak byl sestaven toto řešení.</span><span class="sxs-lookup"><span data-stu-id="9d340-111">This tutorial is targeted towards hello second approach so that you understand how this solution was built.</span></span> <span data-ttu-id="9d340-112">Také co nejvíce hello kurzu je konzistentní s ukázkou hello a používá hello stejné názvy artefakty (například schémat, transformací) jako použité v ukázce hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-112">Also, as much as possible, hello tutorial is consistent with hello sample and uses hello same names for artifacts (for example, schemas, transforms) as used in hello sample.</span></span>  

> [!NOTE]
> <span data-ttu-id="9d340-113">Protože toto řešení zahrnuje odesílání zprávy ze EAI most tooan EDI mostu, se znovu použije hello [most služby BizTalk řetězení ukázka](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) ukázka.</span><span class="sxs-lookup"><span data-stu-id="9d340-113">Because this solution involves sending a message from an EAI bridge tooan EDI bridge, it reuses hello [BizTalk Services Bridge chaining sample](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) sample.</span></span>  
> 
> 

## <a name="what-does-hello-solution-do"></a><span data-ttu-id="9d340-114">Jakým způsobem hello řešení?</span><span class="sxs-lookup"><span data-stu-id="9d340-114">What does hello solution do?</span></span>
<span data-ttu-id="9d340-115">V tomto řešení Northwind obdrží EDIFACT faktury ze společnosti Contoso.</span><span class="sxs-lookup"><span data-stu-id="9d340-115">In this solution, Northwind receives EDIFACT invoices from Contoso.</span></span> <span data-ttu-id="9d340-116">Tyto faktury nejsou ve standardním formátu EDI.</span><span class="sxs-lookup"><span data-stu-id="9d340-116">These invoices are not in a standard EDI format.</span></span> <span data-ttu-id="9d340-117">Ano před odesláním tooNorthwind hello faktury, musí být transformovaných tooan EDIFACT faktura (také nazývané INVOIC) dokumentu.</span><span class="sxs-lookup"><span data-stu-id="9d340-117">So, before sending hello invoice tooNorthwind, it must be transformed tooan EDIFACT invoice (also called INVOIC) document.</span></span> <span data-ttu-id="9d340-118">Na přijetí musíte Northwind zpracovat hello EDIFACT faktury a vrátí tooContoso řízení zpráv (také nazývané CONTRL).</span><span class="sxs-lookup"><span data-stu-id="9d340-118">On receipt, Northwind must process hello EDIFACT invoice, and return a control message (also called CONTRL) tooContoso.</span></span>

![][1]  

<span data-ttu-id="9d340-119">tooachieve v tomto scénáři obchodní Contoso používá hello funkce poskytované službou Microsoft Azure BizTalk Services.</span><span class="sxs-lookup"><span data-stu-id="9d340-119">tooachieve this business scenario, Contoso uses hello features provided with Microsoft Azure BizTalk Services.</span></span>

* <span data-ttu-id="9d340-120">Společnost Contoso využívá EAI mostů tootransform hello původní faktury tooEDIFACT INVOIC.</span><span class="sxs-lookup"><span data-stu-id="9d340-120">Contoso uses EAI bridges tootransform hello original invoice tooEDIFACT INVOIC.</span></span>
* <span data-ttu-id="9d340-121">Most EAI Hello pak odešle tooan zpráva hello EDI odeslat most? víc informací, které jsou nasazeny jako součást smlouvu nakonfigurované v hello portál služby BizTalk.</span><span class="sxs-lookup"><span data-stu-id="9d340-121">hello EAI bridge then sends hello message tooan EDI send bridge deployed as part of an agreement configured in hello BizTalk Services Portal.</span></span>
* <span data-ttu-id="9d340-122">Hello EDI odesílání most zpracovává hello EDIFACT INVOIC a nasměruje ho tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-122">hello EDI send bridge processes hello EDIFACT INVOIC and routes it tooNorthwind.</span></span>
* <span data-ttu-id="9d340-123">Po přijetí hello faktury, vrátí Northwind toohello zprávy CONTRL EDI přijímat most? víc informací, které jsou nasazeny jako součást hello smlouvy.</span><span class="sxs-lookup"><span data-stu-id="9d340-123">After receiving hello invoice, Northwind returns a CONTRL message toohello EDI receive bridge deployed as part of hello agreement.</span></span>  

> [!NOTE]
> <span data-ttu-id="9d340-124">Volitelně můžete toto řešení také ukazuje, jak toouse dávkování toosend hello faktury v dávkách, místo abyste odesílali každé faktury samostatně.</span><span class="sxs-lookup"><span data-stu-id="9d340-124">Optionally, this solution also demonstrates how toouse batching toosend hello invoices in batches, instead of sending each invoice separately.</span></span>  
> 
> 

<span data-ttu-id="9d340-125">toocomplete hello scénáři jsme používat fronty Service Bus toosend faktura z Contoso tooNorthwind nebo dostávat Northwind potvrzení.</span><span class="sxs-lookup"><span data-stu-id="9d340-125">toocomplete hello scenario, we use Service Bus queues toosend invoice from Contoso tooNorthwind or receive acknowledgement from Northwind.</span></span> <span data-ttu-id="9d340-126">Tyto fronty si můžete vytvořit pomocí klientské aplikace, která je k dispozici ke stažení a je součástí balíčku hello ukázka, která je k dispozici v rámci tohoto kurzu.</span><span class="sxs-lookup"><span data-stu-id="9d340-126">These queues can be created using a client application, which is available as a download and is included in hello sample package that is available as part of this tutorial.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="9d340-127">Požadavky</span><span class="sxs-lookup"><span data-stu-id="9d340-127">Prerequisites</span></span>
* <span data-ttu-id="9d340-128">Musí mít obor názvů sběrnice.</span><span class="sxs-lookup"><span data-stu-id="9d340-128">You must have a Service Bus namespace.</span></span> <span data-ttu-id="9d340-129">Pokyny pro vytvoření oboru názvů, naleznete v části [postupy: vytvoření nebo úprava Namespace služby Service Bus](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span><span class="sxs-lookup"><span data-stu-id="9d340-129">For instructions on creating a namespace, see [How To: Create or Modify a Service Bus Service Namespace](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span></span> <span data-ttu-id="9d340-130">Předpokládejme, že už máte obor názvů sběrnice zřízený, nazývá **edifactbts**.</span><span class="sxs-lookup"><span data-stu-id="9d340-130">Let us assume that you already have a Service Bus namespace provisioned, called **edifactbts**.</span></span>
* <span data-ttu-id="9d340-131">Musíte mít předplatné služby BizTalk Services.</span><span class="sxs-lookup"><span data-stu-id="9d340-131">You must have a BizTalk Services subscription.</span></span> <span data-ttu-id="9d340-132">Pokyny najdete v tématu [vytvoření služby BizTalk pomocí portálu Azure classic](http://go.microsoft.com/fwlink/?LinkID=302280).</span><span class="sxs-lookup"><span data-stu-id="9d340-132">For instructions, see [Create a BizTalk Service using Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=302280).</span></span> <span data-ttu-id="9d340-133">V tomto kurzu, dejte nám předpokládá, že máte předplatné služby BizTalk, názvem **contosowabs**.</span><span class="sxs-lookup"><span data-stu-id="9d340-133">For this tutorial, let us assume you have a BizTalk Services subscription, called **contosowabs**.</span></span>
* <span data-ttu-id="9d340-134">Zaregistrujte své předplatné služby BizTalk Services na hello portál služby BizTalk.</span><span class="sxs-lookup"><span data-stu-id="9d340-134">Register your BizTalk Services subscription on hello BizTalk Services Portal.</span></span> <span data-ttu-id="9d340-135">Pokyny najdete v tématu [registrace nasazení služby BizTalk v hello portál služby BizTalk](https://msdn.microsoft.com/library/hh689837.aspx)</span><span class="sxs-lookup"><span data-stu-id="9d340-135">For instructions, see [Registering a BizTalk Service Deployment on hello BizTalk Services Portal](https://msdn.microsoft.com/library/hh689837.aspx)</span></span>
* <span data-ttu-id="9d340-136">Musíte mít nainstalovanou sadu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9d340-136">You must have Visual Studio installed.</span></span>
* <span data-ttu-id="9d340-137">Musíte mít nainstalované sady SDK služby BizTalk.</span><span class="sxs-lookup"><span data-stu-id="9d340-137">You must have BizTalk Services SDK installed.</span></span> <span data-ttu-id="9d340-138">Můžete si stáhnout hello SDK z [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span><span class="sxs-lookup"><span data-stu-id="9d340-138">You can download hello SDK from [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span></span>  

## <a name="step-1-create-hello-service-bus-queues"></a><span data-ttu-id="9d340-139">Krok 1: Vytvoření hello fronty Service Bus</span><span class="sxs-lookup"><span data-stu-id="9d340-139">Step 1: Create hello Service Bus queues</span></span>
<span data-ttu-id="9d340-140">Toto řešení používá zprávy tooexchange fronty Service Bus mezi obchodními partnery.</span><span class="sxs-lookup"><span data-stu-id="9d340-140">This solution uses Service Bus queues tooexchange messages between trading partners.</span></span> <span data-ttu-id="9d340-141">Contoso a Northwind odesílat zprávy fronty toohello z kde mosty EAI a EDI hello je můžou využívat.</span><span class="sxs-lookup"><span data-stu-id="9d340-141">Contoso and Northwind send messages toohello queues from where hello EAI and/or EDI bridges consume them.</span></span> <span data-ttu-id="9d340-142">Pro toto řešení je třeba tři fronty Service Bus:</span><span class="sxs-lookup"><span data-stu-id="9d340-142">For this solution, you need three Service Bus queues:</span></span>

* <span data-ttu-id="9d340-143">**northwindreceive** – Northwind přijme hello faktury z Contoso přes tuto frontu.</span><span class="sxs-lookup"><span data-stu-id="9d340-143">**northwindreceive** – Northwind receives hello invoice from Contoso over this queue.</span></span>
* <span data-ttu-id="9d340-144">**contosoreceive** – Contoso přijme hello potvrzení z Northwind přes tuto frontu.</span><span class="sxs-lookup"><span data-stu-id="9d340-144">**contosoreceive** – Contoso receives hello acknowledgement from Northwind over this queue.</span></span>
* <span data-ttu-id="9d340-145">**pozastaveno** – všechny pozastavené zprávy jsou směrované toothis fronty.</span><span class="sxs-lookup"><span data-stu-id="9d340-145">**suspended** – All suspended messages are routed toothis queue.</span></span> <span data-ttu-id="9d340-146">Zprávy jsou pozastavené, pokud se nepodaří během zpracování.</span><span class="sxs-lookup"><span data-stu-id="9d340-146">Messages are suspended if they fail during processing.</span></span>

<span data-ttu-id="9d340-147">Tyto fronty Service Bus můžete vytvořit pomocí klientské aplikace součástí balíčku ukázka hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-147">You can create these Service Bus queues by using a client application included in hello sample package.</span></span>  

1. <span data-ttu-id="9d340-148">Hello umístění, kam jste stáhli ukázkový text hello, otevřete **kurzu odesílání faktury pomocí BizTalk Services EDI Bridges.sln**.</span><span class="sxs-lookup"><span data-stu-id="9d340-148">From hello location where you downloaded hello sample, open **Tutorial Sending Invoices Using BizTalk Services EDI Bridges.sln**.</span></span>
2. <span data-ttu-id="9d340-149">Stiskněte klávesu **F5** toobuild a spusťte hello **kurzu klienta** aplikace.</span><span class="sxs-lookup"><span data-stu-id="9d340-149">Press **F5** toobuild and start hello **Tutorial Client** application.</span></span>
3. <span data-ttu-id="9d340-150">Úvodní obrazovka zadejte obor názvů Service Bus ACS hello, název vystavitele a klíč vystavitele.</span><span class="sxs-lookup"><span data-stu-id="9d340-150">In hello screen, enter hello Service Bus ACS namespace, issuer name, and issuer key.</span></span>
   
   ![][2]  
4. <span data-ttu-id="9d340-151">Okno se zprávou vyzve, aby tři fronty budou vytvořeny v oboru názvů sběrnice.</span><span class="sxs-lookup"><span data-stu-id="9d340-151">A message box prompts that three queues will be created in your Service Bus namespace.</span></span> <span data-ttu-id="9d340-152">Klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="9d340-152">Click **OK**.</span></span>
5. <span data-ttu-id="9d340-153">Ponechejte hello kurzu klienta spuštěna.</span><span class="sxs-lookup"><span data-stu-id="9d340-153">Leave hello Tutorial Client running.</span></span> <span data-ttu-id="9d340-154">Otevřete hello, klikněte na **Service Bus** > ***vašeho oboru názvů Service Bus*** > **fronty**a ověřte, že jsou vytvořeny hello tři fronty.</span><span class="sxs-lookup"><span data-stu-id="9d340-154">Open hello , click **Service Bus** > ***your Service Bus namespace*** > **Queues**, and verify that hello three queues are created.</span></span>  

## <a name="step-2-create-and-deploy-trading-partner-agreement"></a><span data-ttu-id="9d340-155">Krok 2: Vytvoření a nasazení smlouvy obchodním partnerem</span><span class="sxs-lookup"><span data-stu-id="9d340-155">Step 2: Create and deploy trading partner agreement</span></span>
<span data-ttu-id="9d340-156">Vytvoření smlouvy s obchodním partnerem mezi Contoso a Northwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-156">Create a trading partner agreement between Contoso and Northwind.</span></span> <span data-ttu-id="9d340-157">Smlouvy s obchodním partnerem definuje kontrakt obchodu mezi obchodními partnery hello dva, například které toouse schématu zprávy, které zasílání zpráv protokolu toouse atd. Smlouvy s obchodním partnerem obsahuje dva mosty EDI, jeden toosend zprávy tootrading partnery (volat hello **EDI odeslat most**) a zprávy tooreceive jeden z obchodních partnerů (názvem hello **EDI přijímat most**).</span><span class="sxs-lookup"><span data-stu-id="9d340-157">A trading partner agreement defines a trade contract between hello two business partners, such as which message schema toouse, which messaging protocol toouse, etc. A trading partner agreement includes two EDI bridges, one toosend messages tootrading partners (called hello **EDI Send bridge**) and one tooreceive messages from trading partners (called hello **EDI Receive bridge**).</span></span>

<span data-ttu-id="9d340-158">V kontextu hello tohoto řešení hello EDI odesílání most odpovídá straně odeslání toohello hello smlouvy a je použité toosend hello EDIFACT faktury z Contoso tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-158">In hello context of this solution, hello EDI send bridge corresponds toohello send-side of hello agreement and is used toosend hello EDIFACT invoice from Contoso tooNorthwind.</span></span> <span data-ttu-id="9d340-159">Podobně hello EDI zobrazí most odpovídá toohello škálování na straně hello smlouvy a je použité tooreceive potvrzení z Northwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-159">Similarly, hello EDI receive bridge corresponds toohello receive-side of hello agreement and is used tooreceive acknowledgements from Northwind.</span></span>  

### <a name="create-hello-trading-partners"></a><span data-ttu-id="9d340-160">Vytvoření hello obchodních partnerů</span><span class="sxs-lookup"><span data-stu-id="9d340-160">Create hello trading partners</span></span>
<span data-ttu-id="9d340-161">toostart, vytvořit obchodní partneři společnosti Contoso a Northwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-161">toostart with, create trading partners for Contoso and Northwind.</span></span>  

1. <span data-ttu-id="9d340-162">V hello portál služby BizTalk, na hello **partnery** , klikněte na **přidat**.</span><span class="sxs-lookup"><span data-stu-id="9d340-162">In hello BizTalk Services Portal, on hello **Partners** tab, click **Add**.</span></span>
2. <span data-ttu-id="9d340-163">V hello nová stránka partnera, zadejte **Contoso** jako název partnera a pak klikněte na tlačítko **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="9d340-163">In hello New partner page, enter **Contoso** as a partner name, and then click **Save**.</span></span>
3. <span data-ttu-id="9d340-164">Opakování hello krok toocreate hello druhý partner **Northwind**.</span><span class="sxs-lookup"><span data-stu-id="9d340-164">Repeat hello step toocreate hello second partner, **Northwind**.</span></span>  

### <a name="create-hello-agreement"></a><span data-ttu-id="9d340-165">Vytvoření smlouvy hello</span><span class="sxs-lookup"><span data-stu-id="9d340-165">Create hello agreement</span></span>
<span data-ttu-id="9d340-166">Smluv s obchodními partnery se vytvoří mezi profily obchodní obchodních partnerů.</span><span class="sxs-lookup"><span data-stu-id="9d340-166">Trading partner agreements are created between business profiles of trading partners.</span></span> <span data-ttu-id="9d340-167">Toto řešení používá hello výchozí partnera profily, které se automaticky vytvoří, když jsme vytvořili hello partnery.</span><span class="sxs-lookup"><span data-stu-id="9d340-167">This solution uses hello default partner profiles that are automatically created when we created hello partners.</span></span>  

1. <span data-ttu-id="9d340-168">V hello portál služby BizTalk, klikněte na **smlouvy** > **přidat**.</span><span class="sxs-lookup"><span data-stu-id="9d340-168">In hello BizTalk Services Portal, click **Agreements** > **Add**.</span></span>
2. <span data-ttu-id="9d340-169">Hello nové smlouvy **obecné nastavení** stránky, zadejte hodnoty hello, jak ukazuje následující obrázek hello a pak klikněte na tlačítko **pokračovat**.</span><span class="sxs-lookup"><span data-stu-id="9d340-169">In hello new agreement’s **General Settings** page, specify hello values as shown in hello image below, and then click **Continue**.</span></span>
   
   ![][3]  
   
   <span data-ttu-id="9d340-170">Po kliknutí na tlačítko **pokračovat**, dvě karty **přijímat nastavení** a **odeslat nastavení** k dispozici.</span><span class="sxs-lookup"><span data-stu-id="9d340-170">After you click **Continue**, two tabs, **Receive Settings** and **Send Settings** become available.</span></span>
3. <span data-ttu-id="9d340-171">Vytvořte hello odesílání smlouvu mezi společností Contoso a Northwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-171">Create hello send agreement between Contoso and Northwind.</span></span> <span data-ttu-id="9d340-172">Tato smlouva řídí, jak Contoso odešle tooNorthwind faktury EDIFACT hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-172">This agreement governs how Contoso sends hello EDIFACT invoice tooNorthwind.</span></span>
   
   1. <span data-ttu-id="9d340-173">Klikněte na tlačítko **odeslat nastavení**.</span><span class="sxs-lookup"><span data-stu-id="9d340-173">Click **Send Settings**.</span></span>
   2. <span data-ttu-id="9d340-174">Zachovat hello výchozí hodnoty na hello **příchozí adresy URL**, **transformace**, a **Batching** karty.</span><span class="sxs-lookup"><span data-stu-id="9d340-174">Retain hello default values on hello **Inbound URL**, **Transform**, and **Batching** tabs.</span></span>
   3. <span data-ttu-id="9d340-175">Na hello **protokol** karta, v části hello **schémata** části tím, že nahrajete hello **EFACT_D93A_INVOIC.xsd** schématu.</span><span class="sxs-lookup"><span data-stu-id="9d340-175">On hello **Protocol** tab, under hello **Schemas** section, upload hello **EFACT_D93A_INVOIC.xsd** schema.</span></span> <span data-ttu-id="9d340-176">Toto schéma je k dispozici s balíčkem ukázka hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-176">This schema is available with hello sample package.</span></span>
      
      ![][4]  
   4. <span data-ttu-id="9d340-177">Na hello **přenosu** kartě, zadejte podrobnosti hello hello front služby Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d340-177">On hello **Transport** tab, specify hello details for hello Service Bus queues.</span></span> <span data-ttu-id="9d340-178">Pro hello straně odesílání smlouvu, používáme hello **northwindreceive** fronty toosend hello EDIFACT faktury tooNorthwind a hello **pozastaveno** všechny zprávy, které nesplní během zpracování a jsou ve frontě tooroute pozastaveno.</span><span class="sxs-lookup"><span data-stu-id="9d340-178">For hello send-side agreement, we use hello **northwindreceive** queue toosend hello EDIFACT invoice tooNorthwind, and hello **suspended** queue tooroute any messages that fail during processing and are suspended.</span></span> <span data-ttu-id="9d340-179">Můžete vytvořit tyto fronty v **krok 1: vytvoření fronty Service Bus hello** (v tomto tématu).</span><span class="sxs-lookup"><span data-stu-id="9d340-179">You created these queues in **Step 1: Create hello Service Bus queues** (in this topic).</span></span>
      
      ![][5]  
      
      <span data-ttu-id="9d340-180">V části **přenosu nastavení > typ přenosu** a **nastavení pozastavení zpráv > typ přenosu**vyberte Azure Service Bus a zadejte hodnoty hello, jak je znázorněno v bitové kopii hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-180">Under **Transport Settings > Transport type** and **Message Suspension Settings > Transport type**, select Azure Service Bus and provide hello values as shown in hello image.</span></span>
4. <span data-ttu-id="9d340-181">Vytvoření hello přijímat smlouvu mezi společností Contoso a Northwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-181">Create hello receive agreement between Contoso and Northwind.</span></span> <span data-ttu-id="9d340-182">Tato smlouva řídí, jak Contoso přijímá hello potvrzení z Northwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-182">This agreement governs how Contoso receives hello acknowledgement from Northwind.</span></span>
   
   1. <span data-ttu-id="9d340-183">Klikněte na tlačítko **obdrží nastavení**.</span><span class="sxs-lookup"><span data-stu-id="9d340-183">Click **Receive Settings**.</span></span>
   2. <span data-ttu-id="9d340-184">Zachovat hello výchozí hodnoty na hello **přenosu** a **transformace** karty.</span><span class="sxs-lookup"><span data-stu-id="9d340-184">Retain hello default values on hello **Transport** and **Transform** tabs.</span></span>
   3. <span data-ttu-id="9d340-185">Na hello **protokol** karta, v části hello **schémata** části tím, že nahrajete hello **EFACT_4.1_CONTRL.xsd** schématu.</span><span class="sxs-lookup"><span data-stu-id="9d340-185">On hello **Protocol** tab, under hello **Schemas** section, upload hello **EFACT_4.1_CONTRL.xsd** schema.</span></span> <span data-ttu-id="9d340-186">Toto schéma je k dispozici s balíčkem ukázka hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-186">This schema is available with hello sample package.</span></span>
   4. <span data-ttu-id="9d340-187">Na hello **trasy** kartě, vytvořte tooensure filtr, který potvrzení z Northwind jsou směrované tooContoso pouze.</span><span class="sxs-lookup"><span data-stu-id="9d340-187">On hello **Route** tab, create a filter tooensure that only acknowledgements from Northwind are routed tooContoso.</span></span> <span data-ttu-id="9d340-188">V části **trasy nastavení**, klikněte na tlačítko **přidat** toocreate hello směrování filtru.</span><span class="sxs-lookup"><span data-stu-id="9d340-188">Under **Route Settings**, click **Add** toocreate hello routing filter.</span></span>
      
      ![][6]  
      
      1. <span data-ttu-id="9d340-189">Zadejte hodnoty pro **název pravidla**, **trasy pravidlo**, a **trasy cílové** viz obrázek hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-189">Provide values for **Rule Name**, **Route rule**, and **Route destination** as shown in hello image.</span></span>
      2. <span data-ttu-id="9d340-190">Klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="9d340-190">Click **Save**.</span></span>
   5. <span data-ttu-id="9d340-191">Na hello **trasy** kartě znovu, zadejte, kde jsou směrovány pozastavenou potvrzení (potvrzení, které nesplní během zpracování).</span><span class="sxs-lookup"><span data-stu-id="9d340-191">On hello **Route** tab again, specify where suspended acknowledgements (acknowledgements that fail during processing) are routed to.</span></span> <span data-ttu-id="9d340-192">Nastavit hello přenosu typu tooAzure Service Bus, směrovat cílový typ příliš**fronty**, ověřování, zadejte příliš**sdíleného přístupového podpisu** (SAS), zadejte hello SAS připojovací řetězec pro hello Service Bus obor názvů a pak zadejte název fronty hello jako **pozastaveno**.</span><span class="sxs-lookup"><span data-stu-id="9d340-192">Set hello transport type tooAzure Service Bus, route destination type too**Queue**, authentication type too**Shared Access Signature** (SAS), provide hello SAS connection string for hello Service Bus namespace, and then enter hello queue name as **suspended**.</span></span>
5. <span data-ttu-id="9d340-193">Nakonec klikněte na **nasadit** toodeploy hello smlouvy.</span><span class="sxs-lookup"><span data-stu-id="9d340-193">Finally, click **Deploy** toodeploy hello agreement.</span></span> <span data-ttu-id="9d340-194">Poznámka: hello koncových bodů, kde hello odesílat a přijímat smlouvy nasadí.</span><span class="sxs-lookup"><span data-stu-id="9d340-194">Note hello endpoints where hello send and receive agreements get deployed.</span></span>
   
   * <span data-ttu-id="9d340-195">Na hello **odeslat nastavení** v části **příchozí adresy URL**, Všimněte si hello koncový bod.</span><span class="sxs-lookup"><span data-stu-id="9d340-195">On hello **Send Settings** tab, under **Inbound URL**, note hello endpoint.</span></span> <span data-ttu-id="9d340-196">toosend zprávu od společnosti Contoso tooNorthwind pomocí hello EDI odeslat most, je nutné odeslat toothis koncový bod zprávy.</span><span class="sxs-lookup"><span data-stu-id="9d340-196">toosend a message from Contoso tooNorthwind using hello EDI send bridge, you must send a message toothis endpoint.</span></span>
   * <span data-ttu-id="9d340-197">Na hello **přijímat nastavení** v části **přenosu**, Všimněte si hello koncový bod.</span><span class="sxs-lookup"><span data-stu-id="9d340-197">On hello **Receive Settings** tab, under **Transport**, note hello endpoint.</span></span> <span data-ttu-id="9d340-198">toosend zprávu od Northwind tooContoso pomocí hello EDI přijímat most, je nutné odeslat toothis koncový bod zprávy.</span><span class="sxs-lookup"><span data-stu-id="9d340-198">toosend a message from Northwind tooContoso using hello EDI receive bridge, you must send a message toothis endpoint.</span></span>  

## <a name="step-3-create-and-deploy-hello-biztalk-services-project"></a><span data-ttu-id="9d340-199">Krok 3: Vytvoření a nasazení projektu služby BizTalk Services hello</span><span class="sxs-lookup"><span data-stu-id="9d340-199">Step 3: Create and deploy hello BizTalk Services project</span></span>
<span data-ttu-id="9d340-200">V předchozím kroku hello jste nasadili hello EDI odeslání a přijetí smlouvy tooprocess EDIFACT faktury a potvrzení.</span><span class="sxs-lookup"><span data-stu-id="9d340-200">In hello previous step, you deployed hello EDI send and receive agreements tooprocess EDIFACT invoices and acknowledgements.</span></span> <span data-ttu-id="9d340-201">Tyto smlouvy můžou jenom zpracování zpráv odpovídajících směrnicím toohello standardní EDIFACT zpráva schématu.</span><span class="sxs-lookup"><span data-stu-id="9d340-201">These agreements can only process messages that conform toohello standard EDIFACT message schema.</span></span> <span data-ttu-id="9d340-202">Však za hello scénář pro toto řešení, odešle společnosti Contoso tooNorthwind faktury ve schématu vlastní interní.</span><span class="sxs-lookup"><span data-stu-id="9d340-202">However, per hello scenario for this solution, Contoso sends an invoice tooNorthwind in an in-house proprietary schema.</span></span> <span data-ttu-id="9d340-203">Ano před toohello EDI odeslat most je odeslána zpráva hello, se musí transformaci od hello interní schématu toohello standardní EDIFACT faktury schématu.</span><span class="sxs-lookup"><span data-stu-id="9d340-203">So, before hello message is sent toohello EDI send bridge, it must be transformed from hello in-house schema toohello standard EDIFACT invoice schema.</span></span> <span data-ttu-id="9d340-204">BizTalk Services EAI projektu Hello nemá který.</span><span class="sxs-lookup"><span data-stu-id="9d340-204">hello BizTalk Services EAI project does that.</span></span>

<span data-ttu-id="9d340-205">projektu služby BizTalk Services Hello **InvoiceProcessingBridge**, že transformací hello zprávy je také součástí hello ukázka jste si stáhli.</span><span class="sxs-lookup"><span data-stu-id="9d340-205">hello BizTalk Services project, **InvoiceProcessingBridge**, that transforms hello message is also included as part of hello sample you downloaded.</span></span> <span data-ttu-id="9d340-206">projekt Hello zahrnuje následující artefakty hello:</span><span class="sxs-lookup"><span data-stu-id="9d340-206">hello project includes hello following artifacts:</span></span>

* <span data-ttu-id="9d340-207">**INHOUSEINVOICE. XSD** – schéma hello interní faktury, která je odeslána tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-207">**INHOUSEINVOICE.XSD** – Schema of hello in-house invoice that is sent tooNorthwind.</span></span>
* <span data-ttu-id="9d340-208">**EFACT_D93A_INVOIC. XSD** – schéma hello standardní EDIFACT faktury.</span><span class="sxs-lookup"><span data-stu-id="9d340-208">**EFACT_D93A_INVOIC.XSD** – Schema of hello standard EDIFACT invoice.</span></span>
* <span data-ttu-id="9d340-209">**EFACT_4.1_CONTRL. XSD** – schéma hello EDIFACT potvrzení, že odešle Northwind tooContoso.</span><span class="sxs-lookup"><span data-stu-id="9d340-209">**EFACT_4.1_CONTRL.XSD** – Schema of hello EDIFACT acknowledgement that Northwind sends tooContoso.</span></span>
* <span data-ttu-id="9d340-210">**INHOUSEINVOICE_to_D93AINVOIC. TRFM** – hello transformace, která mapuje hello interní faktury schématu toohello standardní EDIFACT faktury schématu.</span><span class="sxs-lookup"><span data-stu-id="9d340-210">**INHOUSEINVOICE_to_D93AINVOIC.TRFM** – hello transform that maps hello in-house invoice schema toohello standard EDIFACT invoice schema.</span></span>  

### <a name="create-hello-biztalk-services-project"></a><span data-ttu-id="9d340-211">Vytvoření projektu služby BizTalk Services hello</span><span class="sxs-lookup"><span data-stu-id="9d340-211">Create hello BizTalk Services project</span></span>
1. <span data-ttu-id="9d340-212">V hello řešení sady Visual Studio, rozbalte hello InvoiceProcessingBridge projektu a pak otevřete hello **MessageFlowItinerary.bcs** souboru.</span><span class="sxs-lookup"><span data-stu-id="9d340-212">In hello Visual Studio solution, expand hello InvoiceProcessingBridge project, and then open hello **MessageFlowItinerary.bcs** file.</span></span>
2. <span data-ttu-id="9d340-213">Klikněte kamkoli na plátně hello a nastavte hello **adresy URL služby BizTalk** hello vlastnost pole toospecify předplatné název vaší služby BizTalk Services.</span><span class="sxs-lookup"><span data-stu-id="9d340-213">Click anywhere on hello canvas and set hello **BizTalk Service URL** in hello property box toospecify your BizTalk Services subscription name.</span></span> <span data-ttu-id="9d340-214">Například, `https://contosowabs.biztalk.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="9d340-214">For example, `https://contosowabs.biztalk.windows.net`.</span></span>
   
   ![][7]  
3. <span data-ttu-id="9d340-215">Z nástrojů hello přetáhněte **Xml One-Way most** toohello plátno.</span><span class="sxs-lookup"><span data-stu-id="9d340-215">From hello toolbox, drag an **Xml One-Way Bridge** toohello canvas.</span></span> <span data-ttu-id="9d340-216">Sada hello **název Entity** a **relativní adresu** vlastnosti hello přemostění příliš**ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="9d340-216">Set hello **Entity Name** and **Relative Address** properties of hello bridge too**ProcessInvoiceBridge**.</span></span> <span data-ttu-id="9d340-217">Klikněte dvakrát na **ProcessInvoiceBridge** tooopen hello most konfigurace prostor.</span><span class="sxs-lookup"><span data-stu-id="9d340-217">Double-click **ProcessInvoiceBridge** tooopen hello bridge configuration surface.</span></span>
4. <span data-ttu-id="9d340-218">V rámci hello **typy zpráv** pole, klikněte na tlačítko hello plus (**+**) tlačítko toospecify hello schéma hello příchozí zprávy.</span><span class="sxs-lookup"><span data-stu-id="9d340-218">Within hello **Message Types** box, click hello plus (**+**) button toospecify hello schema of hello incoming message.</span></span> <span data-ttu-id="9d340-219">Protože hello příchozí zprávy pro hello EAI most jsou vždycky hello interní faktury, nastavte příliš**INHOUSEINVOICE**.</span><span class="sxs-lookup"><span data-stu-id="9d340-219">Because hello incoming message for hello EAI bridge is always hello in-house invoice, set this too**INHOUSEINVOICE**.</span></span>
   
   ![][8]  
5. <span data-ttu-id="9d340-220">Klikněte na tlačítko hello **transformace Xml** tvaru a v hello vlastnosti pro hello **mapy** vlastnosti, klikněte na tlačítko se třemi tečkami hello (**...** ) tlačítko.</span><span class="sxs-lookup"><span data-stu-id="9d340-220">Click hello **Xml Transform** shape, and in hello property box, for hello **Maps** property, click hello ellipsis (**...**) button.</span></span> <span data-ttu-id="9d340-221">V hello **mapy výběr** dialogové okno, vyberte hello **INHOUSEINVOICE_to_D93AINVOIC** transformační soubor a potom klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="9d340-221">In hello **Maps Selection** dialog box, select hello **INHOUSEINVOICE_to_D93AINVOIC** transform file, and then click **OK**.</span></span>
   
   ![][9]  
6. <span data-ttu-id="9d340-222">Přejděte zpět příliš**MessageFlowItinerary.bcs**a z nástrojů hello přetáhněte **obousměrný externí koncový bod služby** toohello napravo od hello **ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="9d340-222">Go back too**MessageFlowItinerary.bcs**, and from hello toolbox, drag a **Two-Way External Service Endpoint** toohello right of hello **ProcessInvoiceBridge**.</span></span> <span data-ttu-id="9d340-223">Nastavte její **název Entity** vlastnost příliš**EDIBridge**.</span><span class="sxs-lookup"><span data-stu-id="9d340-223">Set its **Entity Name** property too**EDIBridge**.</span></span>
7. <span data-ttu-id="9d340-224">V Průzkumníku řešení hello, rozbalte položku hello **MessageFlowItinerary.bcs** a dvakrát klikněte na hello **EDIBridge.config** souboru.</span><span class="sxs-lookup"><span data-stu-id="9d340-224">In hello Solution Explorer, expand hello **MessageFlowItinerary.bcs** and double-click hello **EDIBridge.config** file.</span></span> <span data-ttu-id="9d340-225">Nahraďte obsah hello hello **EDIBridge.config** s následující hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-225">Replace hello content of hello **EDIBridge.config** with hello following.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="9d340-226">Proč musím souboru .config hello tooedit? koncový bod Hello externí služby, jsme přidali plátna návrháře toohello most představuje mostů hello EDI, které jsme dříve nasadili.</span><span class="sxs-lookup"><span data-stu-id="9d340-226">Why do I need tooedit hello .config file? hello external service endpoint that we added toohello bridge designer canvas represents hello EDI bridges that we deployed earlier.</span></span> <span data-ttu-id="9d340-227">EDI mostů jsou obousměrný mostů s odesílání a na straně příjmu.</span><span class="sxs-lookup"><span data-stu-id="9d340-227">EDI bridges are two-way bridges, with a send and receive side.</span></span> <span data-ttu-id="9d340-228">Hello most EAI, že jsme přidali toohello most designer je však jednosměrný most.</span><span class="sxs-lookup"><span data-stu-id="9d340-228">However, hello EAI bridge that we added toohello bridge designer is a one-way bridge.</span></span> <span data-ttu-id="9d340-229">Ano toohandle hello jiná zpráva exchange vzorce dva mosty hello, používáme vlastní most chování včetně jeho konfiguraci v souboru .config hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-229">So, toohandle hello different message exchange patterns of hello two bridges, we use a custom bridge behavior by including its configuration in hello .config file.</span></span> <span data-ttu-id="9d340-230">Kromě toho vlastní chování hello také obstará hello toohello EDI odesílání most koncový bod ověřování. Toto vlastní chování je k dispozici jako samostatné ukázka v [most služby BizTalk řetězení ukázka - EAI tooEDI](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span><span class="sxs-lookup"><span data-stu-id="9d340-230">Additionally, hello custom behavior also handles hello authentication toohello EDI send bridge endpoint.This custom behavior is available as a separate sample at [BizTalk Services Bridge chaining sample - EAI tooEDI](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span></span> <span data-ttu-id="9d340-231">Toto řešení opětovně používá ukázka hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-231">This solution reuses hello sample.</span></span>  
   > 
   > 
   
   ```
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <system.serviceModel>
       <extensions>
         <behaviorExtensions>
           <add name="BridgeAuthentication" 
                 type="Microsoft.BizTalk.Bridge.Behaviour.BridgeBehaviorElement, Microsoft.BizTalk.Bridge.Behaviour, Version=1.0.0.0, Culture=neutral, PublicKeyToken=ae58f69b69495c05" />
         </behaviorExtensions>
       </extensions>
       <behaviors>
         <endpointBehaviors>
           <behavior name="BridgeAuthenticationConfiguration">
             <!-- Enter hello ACS namespace, issuer name and issuer secret of hello BizTalk Services deployment -->
             <BridgeAuthentication acsnamespace="[YOUR ACS NAMESPACE]" 
                                   issuername="owner" 
                                   issuersecret="[YOUR ACS SECRET]" />
             <webHttp />
           </behavior>
         </endpointBehaviors>
       </behaviors>
       <bindings>
         <webHttpBinding>
           <binding name="BridgeBindingConfiguration">
             <security mode="Transport" />
           </binding>
         </webHttpBinding>
       </bindings>
       <client>
         <clear />
         <!--
           Go BizTalk Portal > Agreement > Send Settings > Inbound URL
           Copy hello Endpoint URL and paste it in hello below address field
         -->
         <endpoint name="TwoWayExternalServiceEndpointReference1" 
                   address="[YOUR EDI BRIDGE SEND URI]" 
                   behaviorConfiguration="BridgeAuthenticationConfiguration" 
                   binding="webHttpBinding" 
                   bindingConfiguration="BridgeBindingConfiguration" 
                   contract="System.ServiceModel.Routing.IRequestReplyRouter" />
       </client>
     </system.serviceModel>
   </configuration>
   
   ```
8. <span data-ttu-id="9d340-232">Aktualizovat podrobnosti konfigurace tooinclude souboru EDIBridge.config hello</span><span class="sxs-lookup"><span data-stu-id="9d340-232">Update hello EDIBridge.config file tooinclude configuration details</span></span>
   
   * <span data-ttu-id="9d340-233">V části  *<behaviors>* , poskytovat hello oboru názvů služby ACS a klíč přidružený hello předplatného služby BizTalk Services.</span><span class="sxs-lookup"><span data-stu-id="9d340-233">Under *<behaviors>*, provide hello ACS namespace and key associated with hello BizTalk Services subscription.</span></span>
   * <span data-ttu-id="9d340-234">V části  *<client>* , poskytovat hello koncový bod, kde je nasazená hello EDI odeslání smlouvy.</span><span class="sxs-lookup"><span data-stu-id="9d340-234">Under *<client>*, provide hello endpoint where hello EDI send agreement is deployed.</span></span>
   
   <span data-ttu-id="9d340-235">Uložte změny a zavřete hello konfigurační soubor.</span><span class="sxs-lookup"><span data-stu-id="9d340-235">Save changes and close hello configuration file.</span></span>
9. <span data-ttu-id="9d340-236">Z hello sada nástrojů, klikněte na tlačítko hello **konektor** a připojení k hello **ProcessInvoiceBridge** a **EDIBridge** součásti.</span><span class="sxs-lookup"><span data-stu-id="9d340-236">From hello Toolbox, click hello **Connector** and join hello **ProcessInvoiceBridge** and **EDIBridge** components.</span></span> <span data-ttu-id="9d340-237">Vyberte konektor hello a v poli vlastnosti, nastavte **podmínku filtrování** příliš**všechny shody**.</span><span class="sxs-lookup"><span data-stu-id="9d340-237">Select hello connector, and in Properties box, set **Filter Condition** too**Match All**.</span></span> <span data-ttu-id="9d340-238">To zajistí, že všechny zprávy, které jsou zpracovávány hello EAI most směrují toohello EDI most.</span><span class="sxs-lookup"><span data-stu-id="9d340-238">This ensures that all messages processed by hello EAI bridge are routed toohello EDI bridge.</span></span>
   
   ![][10]  
10. <span data-ttu-id="9d340-239">Uložte změny toohello řešení.</span><span class="sxs-lookup"><span data-stu-id="9d340-239">Save changes toohello solution.</span></span>  

### <a name="deploy-hello-project"></a><span data-ttu-id="9d340-240">Nasazení projektu hello</span><span class="sxs-lookup"><span data-stu-id="9d340-240">Deploy hello project</span></span>
1. <span data-ttu-id="9d340-241">Na počítači hello, kde jste vytvořili projektu služby BizTalk Services hello stáhněte a nainstalujte certifikát SSL hello pro vaše předplatné služby BizTalk Services.</span><span class="sxs-lookup"><span data-stu-id="9d340-241">On hello computer where you created hello BizTalk Services project, download and install hello SSL certificate for your BizTalk Services subscription.</span></span> <span data-ttu-id="9d340-242">Klikněte v části služby BizTalk Services na **řídicí panel**a potom klikněte na **stáhnout certifikát SSL**.</span><span class="sxs-lookup"><span data-stu-id="9d340-242">From , under BizTalk Services, click **Dashboard**, and then click **Download SSL Certificate**.</span></span> <span data-ttu-id="9d340-243">Dvakrát klikněte na certifikát hello a postupujte podle hello výzva toocomplete hello instalace.</span><span class="sxs-lookup"><span data-stu-id="9d340-243">Double-click hello certificate and follow hello prompt toocomplete hello installation.</span></span> <span data-ttu-id="9d340-244">Zajistěte, aby certifikát hello instalujete **důvěryhodné kořenové certifikační autority** úložiště certifikátů.</span><span class="sxs-lookup"><span data-stu-id="9d340-244">Make sure you install hello certificate under **Trusted Root Certification Authorities** certificate store.</span></span>
2. <span data-ttu-id="9d340-245">V Průzkumníku řešení Visual Studio, klikněte pravým tlačítkem na hello **InvoiceProcessingBridge** projektu a pak klikněte na **nasadit**.</span><span class="sxs-lookup"><span data-stu-id="9d340-245">In Visual Studio Solution Explorer, right-click hello **InvoiceProcessingBridge** project, and then click **Deploy**.</span></span>
3. <span data-ttu-id="9d340-246">Zadejte hodnoty hello, jak je znázorněno v hello image a pak klikněte na **nasadit**.</span><span class="sxs-lookup"><span data-stu-id="9d340-246">Provide hello values as shown in hello image, and then click **Deploy**.</span></span> <span data-ttu-id="9d340-247">Kliknutím můžete získat přihlašovací údaje hello ACS služby BizTalk Services **informace o připojení** z řídicího panelu služby BizTalk Services hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-247">You can get hello ACS credentials for BizTalk Services by clicking **Connection Information** from hello BizTalk Services dashboard.</span></span>
   
   ![][11]  
   
   <span data-ttu-id="9d340-248">V podokně výstup hello, zkopírujte hello koncový bod, kde hello EAI most je nasazen, například `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span><span class="sxs-lookup"><span data-stu-id="9d340-248">From hello output pane, copy hello endpoint where hello EAI bridge is deployed, for example, `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span></span> <span data-ttu-id="9d340-249">Tato adresa URL koncového bodu budete potřebovat později.</span><span class="sxs-lookup"><span data-stu-id="9d340-249">You will need this endpoint URL later.</span></span>  

## <a name="step-4-test-hello-solution"></a><span data-ttu-id="9d340-250">Krok 4: Test hello řešení</span><span class="sxs-lookup"><span data-stu-id="9d340-250">Step 4: Test hello solution</span></span>
<span data-ttu-id="9d340-251">V tomto tématu se podíváme na tom, jak tootest hello řešení pomocí hello **kurzu klienta** zadaný jako součást hello ukázkové aplikace.</span><span class="sxs-lookup"><span data-stu-id="9d340-251">In this topic, we look at how tootest hello solution by using hello **Tutorial Client** application provided as part of hello sample.</span></span>  

1. <span data-ttu-id="9d340-252">V sadě Visual Studio, stiskněte klávesu F5 toostart hello **kurzu klienta**.</span><span class="sxs-lookup"><span data-stu-id="9d340-252">In Visual Studio, press F5 toostart hello **Tutorial Client**.</span></span>
2. <span data-ttu-id="9d340-253">úvodní obrazovka musí mít hodnoty hello naplněnými z kroku hello, které jsme vytvořili hello fronty Service Bus.</span><span class="sxs-lookup"><span data-stu-id="9d340-253">hello screen must have hello values prepopulated from hello step where we created hello Service Bus queues.</span></span> <span data-ttu-id="9d340-254">Klikněte na **Další**.</span><span class="sxs-lookup"><span data-stu-id="9d340-254">Click **Next**.</span></span>
3. <span data-ttu-id="9d340-255">V dalším intervalu hello, zadejte přihlašovací údaje služby ACS pro předplatné služby BizTalk Services a hello koncové body kde EAI a EDI (přijímat) jsou nasazeny mostů.</span><span class="sxs-lookup"><span data-stu-id="9d340-255">In hello next window, provide ACS credentials for BizTalk Services subscription, and hello endpoints where EAI and EDI (receive) bridges are deployed.</span></span>
   
   <span data-ttu-id="9d340-256">Hello EAI most endpoint měl zkopírovali v předchozím kroku hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-256">You had copied hello EAI bridge endpoint in hello previous step.</span></span> <span data-ttu-id="9d340-257">Pro EDI neobdrží most endpoint hello portál služby BizTalk, přejděte toohello smlouvy > přijímat Nastavení > přenosu > koncový bod.</span><span class="sxs-lookup"><span data-stu-id="9d340-257">For EDI receive bridge endpoint, in hello BizTalk Services Portal, go toohello agreement > Receive Settings > Transport > Endpoint.</span></span>
   
   ![][12]  
4. <span data-ttu-id="9d340-258">V dalším okně hello pod Contoso, klikněte na hello **odeslat interní faktury** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="9d340-258">In hello next window, under Contoso, click hello **Send In-house Invoice** button.</span></span> <span data-ttu-id="9d340-259">V hello soubor otevřete dialogové okno, otevřete soubor INHOUSEINVOICE.txt hello.</span><span class="sxs-lookup"><span data-stu-id="9d340-259">In hello File open dialog box, open hello INHOUSEINVOICE.txt file.</span></span> <span data-ttu-id="9d340-260">Zkontrolujte obsah hello hello souboru a pak klikněte na tlačítko **OK** toosend hello faktury.</span><span class="sxs-lookup"><span data-stu-id="9d340-260">Examine hello content of hello file and then click **OK** toosend hello invoice.</span></span>
   
   ![][13]  
5. <span data-ttu-id="9d340-261">V pár sekund hello faktury přijme Northwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-261">In a few seconds hello invoice is received at Northwind.</span></span> <span data-ttu-id="9d340-262">Klikněte na tlačítko hello **zobrazení zpráv** odkaz toosee hello faktury přijatých Northwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-262">Click hello **View Message** link toosee hello invoice received by Northwind.</span></span> <span data-ttu-id="9d340-263">Všimněte si, jak je hello faktury přijatých Northwind ve standardní schématu EDIFACT při hello jeden poslal společnosti Contoso se interní schématu.</span><span class="sxs-lookup"><span data-stu-id="9d340-263">Notice how hello invoice received by Northwind is in standard EDIFACT schema while hello one sent by Contoso was an in-house schema.</span></span>
   
   ![][14]  
6. <span data-ttu-id="9d340-264">Vyberte hello faktury a pak klikněte na tlačítko **odeslat potvrzení**.</span><span class="sxs-lookup"><span data-stu-id="9d340-264">Select hello invoice and then click **Send Acknowledgement**.</span></span> <span data-ttu-id="9d340-265">V poli hello dialogové okno, která se objeví Všimněte si, že hello výměnu ID je stejný v potvrzení pro faktury a hello přijaté hello je odesílána.</span><span class="sxs-lookup"><span data-stu-id="9d340-265">In hello dialog box that pops up, notice that hello interchange ID is same in hello received invoice and hello acknowledgement being sent.</span></span> <span data-ttu-id="9d340-266">Klikněte na tlačítko OK v hello **odeslat potvrzení** dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="9d340-266">Click OK in hello **Send Acknowledgement** dialog box.</span></span>
   
   ![][15]  
7. <span data-ttu-id="9d340-267">Během pár sekund je úspěšně přijato potvrzení hello společnosti Contoso.</span><span class="sxs-lookup"><span data-stu-id="9d340-267">In a few seconds, hello acknowledgement is successfully received at Contoso.</span></span>
   
   ![][16]  

## <a name="step-5-optional-send-edifact-invoice-in-batches"></a><span data-ttu-id="9d340-268">Krok 5 (volitelné): faktury odeslat EDIFACT v dávkách</span><span class="sxs-lookup"><span data-stu-id="9d340-268">Step 5 (optional): Send EDIFACT invoice in batches</span></span>
<span data-ttu-id="9d340-269">BizTalk Services EDI mostů podporuje také dávkování odchozích zpráv.</span><span class="sxs-lookup"><span data-stu-id="9d340-269">BizTalk Services EDI bridges also supports batching of outgoing messages.</span></span> <span data-ttu-id="9d340-270">Tato funkce je užitečná pro příjem partnery, které dávají přednost tooreceive dávku zpráv (splňující určité kritérium) namísto jednotlivé zprávy.</span><span class="sxs-lookup"><span data-stu-id="9d340-270">This feature is useful for receiving partners that prefer tooreceive a batch of messages (meeting certain criterion) instead of individual messages.</span></span>

<span data-ttu-id="9d340-271">Nejdůležitější aspekt Hello při práci s dávky je hello skutečné verzi hello batch, označované taky jako hello verze kritéria.</span><span class="sxs-lookup"><span data-stu-id="9d340-271">hello most important aspect when working with batches is hello actual release of hello batch, also called hello release criteria.</span></span> <span data-ttu-id="9d340-272">kritéria verze Hello může být založen na jak hello přijímající partner chce tooreceive zprávy.</span><span class="sxs-lookup"><span data-stu-id="9d340-272">hello release criteria can be based on how hello receiving partner wants tooreceive messages.</span></span> <span data-ttu-id="9d340-273">Pokud je povoleno dávkování, hello EDI most neodešle hello odchozí zprávy toohello přijetí partnera, dokud hello verze je splněna kritéria.</span><span class="sxs-lookup"><span data-stu-id="9d340-273">If batching is enabled, hello EDI bridge does not send hello outgoing message toohello receiving partner until hello release criteria is fulfilled.</span></span> <span data-ttu-id="9d340-274">Například dávkování kritéria na základě odešle zprávu velikost dávky pouze tehdy, když n zprávy jsou zpracovat v dávce.</span><span class="sxs-lookup"><span data-stu-id="9d340-274">For example, a batching criteria based on message size dispatches a batch only when ‘n’ messages are batched.</span></span> <span data-ttu-id="9d340-275">Kritéria batch může být také založené na čase, tak, aby dávky je odeslána v pevný čas každý den.</span><span class="sxs-lookup"><span data-stu-id="9d340-275">A batch criteria can also be time-based, such that a batch is sent at a fixed time every day.</span></span> <span data-ttu-id="9d340-276">V tomto řešení jsme zkuste hello velikost zprávy na základě kritérií.</span><span class="sxs-lookup"><span data-stu-id="9d340-276">In this solution, we try hello message-size based criteria.</span></span>

1. <span data-ttu-id="9d340-277">V hello portál služby BizTalk klikněte na tlačítko hello smlouvy, kterou jste vytvořili dříve.</span><span class="sxs-lookup"><span data-stu-id="9d340-277">In hello BizTalk Services Portal, click hello agreement you created earlier.</span></span> <span data-ttu-id="9d340-278">Klikněte na tlačítko Nastavení odesílání > dávkování > Přidat Batch.</span><span class="sxs-lookup"><span data-stu-id="9d340-278">Click Send Settings > Batching > Add Batch.</span></span>
2. <span data-ttu-id="9d340-279">Název listu, zadejte **InvoiceBatch**, zadejte popis a pak klikněte na tlačítko **Další**.</span><span class="sxs-lookup"><span data-stu-id="9d340-279">For batch name, enter **InvoiceBatch**, provide a description, and then click **Next**.</span></span>
3. <span data-ttu-id="9d340-280">Zadejte kritéria, dávky, která definuje, které zprávy musí být zpracovat v dávce.</span><span class="sxs-lookup"><span data-stu-id="9d340-280">Specify a batch criteria, that defines which messages must be batched.</span></span> <span data-ttu-id="9d340-281">V tomto řešení jsme dávky všechny zprávy.</span><span class="sxs-lookup"><span data-stu-id="9d340-281">In this solution, we batch all messages.</span></span> <span data-ttu-id="9d340-282">Ano, vyberte hello použití rozšířené definice možnost a zadejte **1 = 1**.</span><span class="sxs-lookup"><span data-stu-id="9d340-282">So, select hello Use advanced definitions option, and enter **1 = 1**.</span></span> <span data-ttu-id="9d340-283">Toto je stav, který bude mít vždy hodnotu true, a proto všechny zprávy se zpracovat v dávce.</span><span class="sxs-lookup"><span data-stu-id="9d340-283">This is a condition which will always be true, and hence all messages will be batched.</span></span> <span data-ttu-id="9d340-284">Klikněte na **Další**.</span><span class="sxs-lookup"><span data-stu-id="9d340-284">Click **Next**.</span></span>
   
   ![][17]  
4. <span data-ttu-id="9d340-285">Zadejte kritéria, verze batch.</span><span class="sxs-lookup"><span data-stu-id="9d340-285">Specify a batch release criteria.</span></span> <span data-ttu-id="9d340-286">Hello rozevíracím, vyberte **MessageCountBased**a pro **počet**, zadejte **3**.</span><span class="sxs-lookup"><span data-stu-id="9d340-286">From hello drop-box, select **MessageCountBased**, and for **Count**, specify **3**.</span></span> <span data-ttu-id="9d340-287">To znamená, že dávku zpráv tři odešle tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-287">This means that a batch of three messages will be sent tooNorthwind.</span></span> <span data-ttu-id="9d340-288">Klikněte na **Další**.</span><span class="sxs-lookup"><span data-stu-id="9d340-288">Click **Next**.</span></span>
   
   ![][18]  
5. <span data-ttu-id="9d340-289">Zkontrolujte souhrn hello a pak klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="9d340-289">Review hello summary and then click **Save**.</span></span> <span data-ttu-id="9d340-290">Klikněte na tlačítko **nasadit** tooredeploy hello smlouvy.</span><span class="sxs-lookup"><span data-stu-id="9d340-290">Click **Deploy** tooredeploy hello agreement.</span></span>
6. <span data-ttu-id="9d340-291">Přejděte zpět toohello **kurzu klienta**, klikněte na tlačítko **odeslat interní faktury**a postupujte podle pokynů hello výzvy toosend hello faktury.</span><span class="sxs-lookup"><span data-stu-id="9d340-291">Go back toohello **Tutorial Client**, click **Send In-house Invoice**, and follow hello prompts toosend hello invoice.</span></span> <span data-ttu-id="9d340-292">Si všimnete, že žádné faktury je obdrželi v Northwind, protože velikost dávky hello není splněná.</span><span class="sxs-lookup"><span data-stu-id="9d340-292">You will notice that no invoice is received at Northwind because hello batch size is not met.</span></span> <span data-ttu-id="9d340-293">Tento krok opakujte dvakrát, takže budete mít tři faktury zprávy odeslané tooNorthwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-293">Repeat this step two more times, so that you have three invoice messages sent tooNorthwind.</span></span> <span data-ttu-id="9d340-294">To splňuje hello batch kritéria verze 3 zprávy a měli byste vidět faktury v Northwind.</span><span class="sxs-lookup"><span data-stu-id="9d340-294">This satisfies hello batch release criteria of 3 messages and you should now see an invoice at Northwind.</span></span>

<!--Image references-->
[1]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-1.PNG  
[2]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-2.PNG  
[3]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-3.PNG
[4]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-4.PNG  
[5]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-5.PNG  
[6]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-6.PNG  
[7]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-7.PNG  
[8]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-8.PNG
[9]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-9.PNG  
[10]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-10.PNG  
[11]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-11.PNG  
[12]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-12.PNG  
[13]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-13.PNG
[14]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-14.PNG  
[15]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-15.PNG  
[16]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-16.PNG  
[17]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-17.PNG  
[18]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-18.PNG

