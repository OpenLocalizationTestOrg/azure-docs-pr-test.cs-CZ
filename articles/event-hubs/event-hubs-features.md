---
title: "Přehled funkce aaaAzure Event Hubs | Microsoft Docs"
description: "Přehled a podrobnosti o funkcích Azure Event Hubs"
services: event-hubs
documentationcenter: .net
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: event-hubs
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/17/2017
ms.author: sethm
ms.openlocfilehash: 8094e48abc8455ed725d4d5d3f9895f431441e2b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="event-hubs-features-overview"></a><span data-ttu-id="accfa-103">Přehled funkcí služby Event Hubs</span><span class="sxs-lookup"><span data-stu-id="accfa-103">Event Hubs features overview</span></span>

<span data-ttu-id="accfa-104">Azure Event Hubs je škálovatelnou událostí zpracování služba, která ingestuje a zpracovává velké objemy události a data, s nízkou latencí a vysokou spolehlivostí.</span><span class="sxs-lookup"><span data-stu-id="accfa-104">Azure Event Hubs is a scalable event processing service that ingests and processes large volumes of events and data, with low latency and high reliability.</span></span> <span data-ttu-id="accfa-105">V tématu [co je Služba Event Hubs?](event-hubs-what-is-event-hubs.md) souhrnné informace služby hello.</span><span class="sxs-lookup"><span data-stu-id="accfa-105">See [What is Event Hubs?](event-hubs-what-is-event-hubs.md) for a high-level overview of hello service.</span></span>

<span data-ttu-id="accfa-106">Tento článek vychází hello informace v hello [přehled](event-hubs-what-is-event-hubs.md)a poskytuje implementace a technické podrobnosti o Event Hubs komponenty a funkce.</span><span class="sxs-lookup"><span data-stu-id="accfa-106">This article builds on hello information in hello [overview](event-hubs-what-is-event-hubs.md), and provides technical and implementation details about Event Hubs components and features.</span></span>

## <a name="event-publishers"></a><span data-ttu-id="accfa-107">Zdroje událostí</span><span class="sxs-lookup"><span data-stu-id="accfa-107">Event publishers</span></span>

<span data-ttu-id="accfa-108">Každá entita, která odešle centra událostí tooan dat je producent událostí nebo *vydavatel události*.</span><span class="sxs-lookup"><span data-stu-id="accfa-108">Any entity that sends data tooan event hub is an event producer, or *event publisher*.</span></span> <span data-ttu-id="accfa-109">Zdroje událostí mohou publikovat události pomocí protokolu HTTPS nebo AMQP 1.0.</span><span class="sxs-lookup"><span data-stu-id="accfa-109">Event publishers can publish events using HTTPS or AMQP 1.0.</span></span> <span data-ttu-id="accfa-110">Zdroje událostí použít tooidentify tokenu sdíleného přístupového podpisu (SAS) sami tooan Centrum událostí a může mít jedinečnou identitu nebo používat společný token SAS.</span><span class="sxs-lookup"><span data-stu-id="accfa-110">Event publishers use a Shared Access Signature (SAS) token tooidentify themselves tooan event hub, and can have a unique identity, or use a common SAS token.</span></span>

### <a name="publishing-an-event"></a><span data-ttu-id="accfa-111">Publikování události</span><span class="sxs-lookup"><span data-stu-id="accfa-111">Publishing an event</span></span>

<span data-ttu-id="accfa-112">Událost můžete publikovat prostřednictvím protokolu AMQP 1.0 nebo HTTPS.</span><span class="sxs-lookup"><span data-stu-id="accfa-112">You can publish an event via AMQP 1.0 or HTTPS.</span></span> <span data-ttu-id="accfa-113">Event Hubs poskytuje [knihovny klienta a třídy](event-hubs-dotnet-framework-api-overview.md) pro publikování události tooan Centrum událostí z klientů .NET.</span><span class="sxs-lookup"><span data-stu-id="accfa-113">Event Hubs provides [client libraries and classes](event-hubs-dotnet-framework-api-overview.md) for publishing events tooan event hub from .NET clients.</span></span> <span data-ttu-id="accfa-114">Pro jiné moduly runtime a platformy můžete použít libovolného klienta protokolu AMQP 1.0, například [Apache Qpid](http://qpid.apache.org/).</span><span class="sxs-lookup"><span data-stu-id="accfa-114">For other runtimes and platforms, you can use any AMQP 1.0 client, such as [Apache Qpid](http://qpid.apache.org/).</span></span> <span data-ttu-id="accfa-115">Události můžete publikovat samostatně nebo v dávce.</span><span class="sxs-lookup"><span data-stu-id="accfa-115">You can publish events individually, or batched.</span></span> <span data-ttu-id="accfa-116">Jedna publikace (instance dat události) je omezena limitem 256 KB – bez ohledu na to, jestli se jedná o jedinou událost nebo dávku (batch).</span><span class="sxs-lookup"><span data-stu-id="accfa-116">A single publication (event data instance) has a limit of 256 KB, regardless of whether it is a single event or a batch.</span></span> <span data-ttu-id="accfa-117">Publikování události větší než tato prahová hodnota dojde k chybě.</span><span class="sxs-lookup"><span data-stu-id="accfa-117">Publishing events larger than this threshold results in an error.</span></span> <span data-ttu-id="accfa-118">Je vhodné, ne o oddíly v Centru událostí hello vydavatelů toobe a zadejte tooonly *klíč oddílu* (dostupné v další části hello), nebo svoji identitu prostřednictvím tokenu SAS.</span><span class="sxs-lookup"><span data-stu-id="accfa-118">It is a best practice for publishers toobe unaware of partitions within hello event hub and tooonly specify a *partition key* (introduced in hello next section), or their identity via their SAS token.</span></span>

<span data-ttu-id="accfa-119">Hello volba toouse AMQP nebo HTTPS, je konkrétní toohello scénáři použití.</span><span class="sxs-lookup"><span data-stu-id="accfa-119">hello choice toouse AMQP or HTTPS is specific toohello usage scenario.</span></span> <span data-ttu-id="accfa-120">Protokol AMQP vyžaduje hello zřízení vytvoření trvalého obousměrného soketu v přidání tootransport zabezpečení na úrovni (TLS) nebo SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="accfa-120">AMQP requires hello establishment of a persistent bidirectional socket in addition tootransport level security (TLS) or SSL/TLS.</span></span> <span data-ttu-id="accfa-121">AMQP má vyšší náklady na síť při inicializaci hello relace, ale HTTPS vyžaduje další SSL režie pro každý požadavek.</span><span class="sxs-lookup"><span data-stu-id="accfa-121">AMQP has higher network costs when initializing hello session, however HTTPS requires additional SSL overhead for every request.</span></span> <span data-ttu-id="accfa-122">AMQP má pro často používané zdroje vyšší výkon.</span><span class="sxs-lookup"><span data-stu-id="accfa-122">AMQP has higher performance for frequent publishers.</span></span>

![Event Hubs](./media/event-hubs-features/partition_keys.png)

<span data-ttu-id="accfa-124">Služba Event Hubs zajišťuje, že všechny události, které sdílejí hodnotu klíče oddílu se dodávají v pořadí a toohello stejné oddílu.</span><span class="sxs-lookup"><span data-stu-id="accfa-124">Event Hubs ensures that all events sharing a partition key value are delivered in order, and toohello same partition.</span></span> <span data-ttu-id="accfa-125">Pokud se klíče oddílů používají společně se zásadami zdroje, pak hello identity vydavatele hello a hello hodnotu klíče oddílu hello se musí shodovat.</span><span class="sxs-lookup"><span data-stu-id="accfa-125">If partition keys are used with publisher policies, then hello identity of hello publisher and hello value of hello partition key must match.</span></span> <span data-ttu-id="accfa-126">V opačném případě dojde k chybě.</span><span class="sxs-lookup"><span data-stu-id="accfa-126">Otherwise, an error occurs.</span></span>

### <a name="publisher-policy"></a><span data-ttu-id="accfa-127">Zásady zdroje</span><span class="sxs-lookup"><span data-stu-id="accfa-127">Publisher policy</span></span>

<span data-ttu-id="accfa-128">Služba Event Hubs umožňuje podrobnou kontrolu nad zdroji událostí prostřednictvím *zásad zdroje*.</span><span class="sxs-lookup"><span data-stu-id="accfa-128">Event Hubs enables granular control over event publishers through *publisher policies*.</span></span> <span data-ttu-id="accfa-129">Spuštění funkcí navržených toofacilitate velkého počtu zdroje nezávislé událostí jsou zásady vydavatele.</span><span class="sxs-lookup"><span data-stu-id="accfa-129">Publisher policies are run-time features designed toofacilitate large numbers of independent event publishers.</span></span> <span data-ttu-id="accfa-130">Společně se zásadami zdroje každý vydavatel používá svůj vlastní jedinečný identifikátor při publikování události tooan se v Centru událostí pomocí hello následující mechanismus:</span><span class="sxs-lookup"><span data-stu-id="accfa-130">With publisher policies, each publisher uses its own unique identifier when publishing events tooan event hub, using hello following mechanism:</span></span>

```
//[my namespace].servicebus.windows.net/[event hub name]/publishers/[my publisher name]
```

<span data-ttu-id="accfa-131">Nemáte názvy vydavatelů toocreate dopředu, ale musí odpovídat tokenu SAS hello používá při publikování události, v pořadí tooensure nezávislé vydavatele identity.</span><span class="sxs-lookup"><span data-stu-id="accfa-131">You don't have toocreate publisher names ahead of time, but they must match hello SAS token used when publishing an event, in order tooensure independent publisher identities.</span></span> <span data-ttu-id="accfa-132">Při použití zásad zdroje, hello **PartitionKey** toohello název vydavatele je nastavena hodnota.</span><span class="sxs-lookup"><span data-stu-id="accfa-132">When using publisher policies, hello **PartitionKey** value is set toohello publisher name.</span></span> <span data-ttu-id="accfa-133">toowork správně, musí tyto hodnoty odpovídat.</span><span class="sxs-lookup"><span data-stu-id="accfa-133">toowork properly, these values must match.</span></span>

## <a name="capture"></a><span data-ttu-id="accfa-134">Zachycování</span><span class="sxs-lookup"><span data-stu-id="accfa-134">Capture</span></span>

<span data-ttu-id="accfa-135">[Zaznamenat centra událostí](event-hubs-capture-overview.md) vám umožní hello zachycení tooautomatically streamování dat ve službě Event Hubs a uložte ho tooyour výběru účtu úložiště Blob nebo účet služby Azure Data Lake.</span><span class="sxs-lookup"><span data-stu-id="accfa-135">[Event Hubs Capture](event-hubs-capture-overview.md) enables you tooautomatically capture hello streaming data in Event Hubs and save it tooyour choice of either a Blob storage account, or an Azure Data Lake Service account.</span></span> <span data-ttu-id="accfa-136">Můžete povolit sběr dat ze hello portál Azure a zadat minimální velikost a časové okno tooperform hello zachycení.</span><span class="sxs-lookup"><span data-stu-id="accfa-136">You can enable Capture from hello Azure portal, and specify a minimum size and time window tooperform hello capture.</span></span> <span data-ttu-id="accfa-137">Použití funkce Capture centra událostí, zadáte vlastní účet Azure Blob Storage a kontejner, nebo účet služby Azure Data Lake, což je použité toostore hello zachycená data.</span><span class="sxs-lookup"><span data-stu-id="accfa-137">Using Event Hubs Capture, you specify your own Azure Blob Storage account and container, or Azure Data Lake Service account, which is used toostore hello captured data.</span></span> <span data-ttu-id="accfa-138">Zachycená data jsou zapsána ve formátu Apache Avro hello.</span><span class="sxs-lookup"><span data-stu-id="accfa-138">Captured data is written in hello Apache Avro format.</span></span>

## <a name="partitions"></a><span data-ttu-id="accfa-139">Oddíly</span><span class="sxs-lookup"><span data-stu-id="accfa-139">Partitions</span></span>

<span data-ttu-id="accfa-140">Event Hubs poskytuje datový proud prostřednictvím schéma oddílů ve kterém každý příjemce četl pouze konkrétní podmnožinu nebo oddíl datového proudu zpráv hello zpráv.</span><span class="sxs-lookup"><span data-stu-id="accfa-140">Event Hubs provides message streaming through a partitioned consumer pattern in which each consumer only reads a specific subset, or partition, of hello message stream.</span></span> <span data-ttu-id="accfa-141">Toto schéma umožňuje vodorovné škálování zpracování událostí a poskytuje další funkce zaměřené na datový proud, které nejsou ve frontách a tématech k dispozici.</span><span class="sxs-lookup"><span data-stu-id="accfa-141">This pattern enables horizontal scale for event processing and provides other stream-focused features that are unavailable in queues and topics.</span></span>

<span data-ttu-id="accfa-142">Oddíl je seřazená posloupnost událostí, která se nachází v centru událostí.</span><span class="sxs-lookup"><span data-stu-id="accfa-142">A partition is an ordered sequence of events that is held in an event hub.</span></span> <span data-ttu-id="accfa-143">Jako novější události dorazí, budou přidány toohello konec této posloupnosti.</span><span class="sxs-lookup"><span data-stu-id="accfa-143">As newer events arrive, they are added toohello end of this sequence.</span></span> <span data-ttu-id="accfa-144">Oddíl si lze představit jako „protokol transakcí“.</span><span class="sxs-lookup"><span data-stu-id="accfa-144">A partition can be thought of as a "commit log."</span></span>

![Event Hubs](./media/event-hubs-features/partition.png)

<span data-ttu-id="accfa-146">Služba Event Hubs uchovává data pro dobu nakonfigurované uchování, která platí pro všechny oddíly v Centru událostí hello.</span><span class="sxs-lookup"><span data-stu-id="accfa-146">Event Hubs retains data for a configured retention time that applies across all partitions in hello event hub.</span></span> <span data-ttu-id="accfa-147">Události mizí na základě času, nemůžete je explicitně odstranit.</span><span class="sxs-lookup"><span data-stu-id="accfa-147">Events expire on a time basis; you cannot explicitly delete them.</span></span> <span data-ttu-id="accfa-148">Vzhledem k tomu, že oddíly jsou nezávislé a obsahují vlastní posloupnost dat, často se jejich velikost mění různým tempem.</span><span class="sxs-lookup"><span data-stu-id="accfa-148">Because partitions are independent and contain their own sequence of data, they often grow at different rates.</span></span>

![Event Hubs](./media/event-hubs-features/multiple_partitions.png)

<span data-ttu-id="accfa-150">Hello počet oddílů je zadána při vytváření a musí být mezi 2 a 32.</span><span class="sxs-lookup"><span data-stu-id="accfa-150">hello number of partitions is specified at creation and must be between 2 and 32.</span></span> <span data-ttu-id="accfa-151">počet oddílů Hello není změnit, takže byste měli zvážit dlouhodobé škálování při nastavování počet oddílů.</span><span class="sxs-lookup"><span data-stu-id="accfa-151">hello partition count is not changeable, so you should consider long-term scale when setting partition count.</span></span> <span data-ttu-id="accfa-152">Oddíly jsou data organizace mechanismus, který má vztah toohello podřízené paralelismus vyžadují přijímací aplikace.</span><span class="sxs-lookup"><span data-stu-id="accfa-152">Partitions are a data organization mechanism that relates toohello downstream parallelism required in consuming applications.</span></span> <span data-ttu-id="accfa-153">Hello počet oddílů v Centru událostí přímo souvisí toohello počet souběžných čtenářů očekáváte, že toohave.</span><span class="sxs-lookup"><span data-stu-id="accfa-153">hello number of partitions in an event hub directly relates toohello number of concurrent readers you expect toohave.</span></span> <span data-ttu-id="accfa-154">Kontaktujte tým služby Event Hubs hello můžete zvýšit hello počet oddílů nad rámec 32.</span><span class="sxs-lookup"><span data-stu-id="accfa-154">You can increase hello number of partitions beyond 32 by contacting hello Event Hubs team.</span></span>

<span data-ttu-id="accfa-155">Při oddíly identifikovat a mohou být odesílány toodirectly, odesílání přímo tooa oddílu se nedoporučuje.</span><span class="sxs-lookup"><span data-stu-id="accfa-155">While partitions are identifiable and can be sent toodirectly, sending directly tooa partition is not recommended.</span></span> <span data-ttu-id="accfa-156">Místo toho můžete použít konstrukce vyšší úrovně počínaje hello [vydavatel události](#event-publishers) a [kapacity](#capacity) oddíly.</span><span class="sxs-lookup"><span data-stu-id="accfa-156">Instead, you can use higher level constructs introduced in hello [Event publisher](#event-publishers) and [Capacity](#capacity) sections.</span></span> 

<span data-ttu-id="accfa-157">Oddíly jsou vyplněny posloupností dat událostí, která obsahuje hello textu hello události, uživatelem definované vlastnosti kontejneru objektů a dat a metadata, jako je například její posun v oddílu hello a pořadí v posloupnosti datového proudu hello.</span><span class="sxs-lookup"><span data-stu-id="accfa-157">Partitions are filled with a sequence of event data which contains hello body of hello event, a user-defined property bag, and metadata such as its offset in hello partition and its number in hello stream sequence.</span></span>

<span data-ttu-id="accfa-158">Další informace o oddílech a hello kompromis mezi dostupnost a spolehlivost najdete v tématu hello [Průvodce programováním pro službu Event Hubs](event-hubs-programming-guide.md#partition-key) a hello [dostupnosti a konzistence v Event Hubs](event-hubs-availability-and-consistency.md) článku .</span><span class="sxs-lookup"><span data-stu-id="accfa-158">For more information about partitions and hello trade-off between availability and reliability, see hello [Event Hubs programming guide](event-hubs-programming-guide.md#partition-key) and hello [Availability and consistency in Event Hubs](event-hubs-availability-and-consistency.md) article.</span></span>

### <a name="partition-key"></a><span data-ttu-id="accfa-159">Klíč oddílu</span><span class="sxs-lookup"><span data-stu-id="accfa-159">Partition key</span></span>

<span data-ttu-id="accfa-160">Můžete použít [klíč oddílu](event-hubs-programming-guide.md#partition-key) toomap příchozích dat událostí do konkrétních oddílů pro účel hello dat organizace.</span><span class="sxs-lookup"><span data-stu-id="accfa-160">You can use a [partition key](event-hubs-programming-guide.md#partition-key) toomap incoming event data into specific partitions for hello purpose of data organization.</span></span> <span data-ttu-id="accfa-161">Hello klíč oddílu je hodnota zadaná odesílatelem předaná do centra událostí.</span><span class="sxs-lookup"><span data-stu-id="accfa-161">hello partition key is a sender-supplied value passed into an event hub.</span></span> <span data-ttu-id="accfa-162">Zpracovává se pomocí statické hašovací funkce, které vytvoří přiřazení k oddílu hello.</span><span class="sxs-lookup"><span data-stu-id="accfa-162">It is processed through a static hashing function, which creates hello partition assignment.</span></span> <span data-ttu-id="accfa-163">Pokud při publikování události nezadáte klíč oddílu, použije se přiřazení metodou kruhového dotazování.</span><span class="sxs-lookup"><span data-stu-id="accfa-163">If you don't specify a partition key when publishing an event, a round-robin assignment is used.</span></span>

<span data-ttu-id="accfa-164">Vydavatel události Hello známa pouze svůj klíč oddílu není hello oddílu toowhich hello události publikují.</span><span class="sxs-lookup"><span data-stu-id="accfa-164">hello event publisher is only aware of its partition key, not hello partition toowhich hello events are published.</span></span> <span data-ttu-id="accfa-165">Díky tomuto oddělení klíče a oddílu insulates hello odesílatele z nutnosti tooknow příliš mnoho o zpracování příjmu dat hello.</span><span class="sxs-lookup"><span data-stu-id="accfa-165">This decoupling of key and partition insulates hello sender from needing tooknow too much about hello downstream processing.</span></span> <span data-ttu-id="accfa-166">Na zařízení nebo uživatel jedinečné identity díky vhodným klíčem oddílu, ale další atributy, například geography může být také použít toogroup souvisejících událostí do jednoho oddílu.</span><span class="sxs-lookup"><span data-stu-id="accfa-166">A per-device or user unique identity makes a good partition key, but other attributes such as geography can also be used toogroup related events into a single partition.</span></span>

## <a name="sas-tokens"></a><span data-ttu-id="accfa-167">Tokeny SAS</span><span class="sxs-lookup"><span data-stu-id="accfa-167">SAS tokens</span></span>

<span data-ttu-id="accfa-168">Služba Event Hubs využívá *sdílené přístupové podpisy*, které jsou k dispozici na úrovni hello obor názvů a události rozbočovače.</span><span class="sxs-lookup"><span data-stu-id="accfa-168">Event Hubs uses *Shared Access Signatures*, which are available at hello namespace and event hub level.</span></span> <span data-ttu-id="accfa-169">Token SAS, který se generuje z klíče SAS, je adresa URL, která je zašifrovaná pomocí hašovacího algoritmu SHA a zakódovaná ve specifickém formátu.</span><span class="sxs-lookup"><span data-stu-id="accfa-169">A SAS token is generated from a SAS key and is an SHA hash of a URL, encoded in a specific format.</span></span> <span data-ttu-id="accfa-170">Pomocí názvu hello hello klíče (zásady) a hello token, Event Hubs znovu vygenerovat hello hash a umožnit jejich ověřování hello odesílatele.</span><span class="sxs-lookup"><span data-stu-id="accfa-170">Using hello name of hello key (policy) and hello token, Event Hubs can regenerate hello hash and thus authenticate hello sender.</span></span> <span data-ttu-id="accfa-171">Za normálních okolností se tokeny SAS pro zdroje událostí vytváří jen s oprávněními pro **odesílání** na konkrétní centrum událostí.</span><span class="sxs-lookup"><span data-stu-id="accfa-171">Normally, SAS tokens for event publishers are created with only **send** privileges on a specific event hub.</span></span> <span data-ttu-id="accfa-172">Tento mechanismus SAS token adresa URL je hello základ pro identifikaci zdroje byla zavedená v zásadách zdroje hello.</span><span class="sxs-lookup"><span data-stu-id="accfa-172">This SAS token URL mechanism is hello basis for publisher identification introduced in hello publisher policy.</span></span> <span data-ttu-id="accfa-173">Další informace o práci s tokenem SAS naleznete v tématu o [ověřování u služby Service Bus pomocí sdíleného přístupového podpisu](../service-bus-messaging/service-bus-sas.md).</span><span class="sxs-lookup"><span data-stu-id="accfa-173">For more information about working with SAS, see [Shared Access Signature Authentication with Service Bus](../service-bus-messaging/service-bus-sas.md).</span></span>

## <a name="event-consumers"></a><span data-ttu-id="accfa-174">Příjemci událostí</span><span class="sxs-lookup"><span data-stu-id="accfa-174">Event consumers</span></span>

<span data-ttu-id="accfa-175">*Příjemcem událostí* je každá entita, která čte data událostí z centra událostí.</span><span class="sxs-lookup"><span data-stu-id="accfa-175">Any entity that reads event data from an event hub is an *event consumer*.</span></span> <span data-ttu-id="accfa-176">Všichni příjemci Event Hubs připojení prostřednictvím relace protokolu AMQP 1.0 hello a události se doručují prostřednictvím hello relace, jakmile budou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="accfa-176">All Event Hubs consumers connect via hello AMQP 1.0 session and events are delivered through hello session as they become available.</span></span> <span data-ttu-id="accfa-177">dostupnost dat nemusí Hello klienta toopoll.</span><span class="sxs-lookup"><span data-stu-id="accfa-177">hello client does not need toopoll for data availability.</span></span>

### <a name="consumer-groups"></a><span data-ttu-id="accfa-178">Skupiny příjemců</span><span class="sxs-lookup"><span data-stu-id="accfa-178">Consumer groups</span></span>

<span data-ttu-id="accfa-179">Hello mechanismus publikování/přihlášení k odběru služby Event Hubs je povolená díky *skupiny příjemců*.</span><span class="sxs-lookup"><span data-stu-id="accfa-179">hello publish/subscribe mechanism of Event Hubs is enabled through *consumer groups*.</span></span> <span data-ttu-id="accfa-180">Skupina příjemců je zobrazení (stavu, pozice nebo posunu) celého centra událostí.</span><span class="sxs-lookup"><span data-stu-id="accfa-180">A consumer group is a view (state, position, or offset) of an entire event hub.</span></span> <span data-ttu-id="accfa-181">Skupiny příjemců povolit různým přijímajícím aplikacím tooeach oddělená zobrazení datového proudu událostí hello a datový proud hello tooread nezávisle vlastním tempem a s vlastními posun.</span><span class="sxs-lookup"><span data-stu-id="accfa-181">Consumer groups enable multiple consuming applications tooeach have a separate view of hello event stream, and tooread hello stream independently at their own pace and with their own offsets.</span></span>

<span data-ttu-id="accfa-182">V architektuře zpracování datového proudu každý aplikace pro příjem dat znamená zároveň tooa skupiny příjemců.</span><span class="sxs-lookup"><span data-stu-id="accfa-182">In a stream processing architecture, each downstream application equates tooa consumer group.</span></span> <span data-ttu-id="accfa-183">Pokud chcete toowrite událostí data toolong termín úložiště, aplikace zapisovače úložiště je skupiny příjemců.</span><span class="sxs-lookup"><span data-stu-id="accfa-183">If you want toowrite event data toolong-term storage, then that storage writer application is a consumer group.</span></span> <span data-ttu-id="accfa-184">Komplexní zpracování událostí zase může provádět jiná, samostatná skupina příjemců.</span><span class="sxs-lookup"><span data-stu-id="accfa-184">Complex event processing can then be performed by another, separate consumer group.</span></span> <span data-ttu-id="accfa-185">K oddílům můžete přistupovat pouze prostřednictvím skupiny příjemců.</span><span class="sxs-lookup"><span data-stu-id="accfa-185">You can only access partitions through a consumer group.</span></span> <span data-ttu-id="accfa-186">Může být maximálně 5 souběžných čtenářů na oddíl na skupinu uživatelů; ale **se doporučuje, zda je na oddíl na skupinu spotřebitelů pouze jeden aktivní příjemce**.</span><span class="sxs-lookup"><span data-stu-id="accfa-186">There can be at most 5 concurrent readers on a partition per consumer group; however **it is recommended that there is only one active receiver on a partition per consumer group**.</span></span> <span data-ttu-id="accfa-187">V Centru událostí je vždy jedna výchozí skupina příjemců a můžete vytvořit skupiny příjemců too20 pro centra událostí úrovně Standard.</span><span class="sxs-lookup"><span data-stu-id="accfa-187">There is always a default consumer group in an event hub, and you can create up too20 consumer groups for a Standard tier event hub.</span></span>

<span data-ttu-id="accfa-188">Hello Následují příklady zápisu identifikátoru URI skupiny příjemců hello:</span><span class="sxs-lookup"><span data-stu-id="accfa-188">hello following are examples of hello consumer group URI convention:</span></span>

```http
//[my namespace].servicebus.windows.net/[event hub name]/[Consumer Group #1]
//[my namespace].servicebus.windows.net/[event hub name]/[Consumer Group #2]
```

<span data-ttu-id="accfa-189">Hello následující obrázek znázorňuje architekturu zpracování datového proudu Event Hubs hello:</span><span class="sxs-lookup"><span data-stu-id="accfa-189">hello following figure shows hello Event Hubs stream processing architecture:</span></span>

![Event Hubs](./media/event-hubs-features/event_hubs_architecture.png)

### <a name="stream-offsets"></a><span data-ttu-id="accfa-191">Posuny datového proudu</span><span class="sxs-lookup"><span data-stu-id="accfa-191">Stream offsets</span></span>

<span data-ttu-id="accfa-192">*Posun* je hello pozice události v rámci oddílu.</span><span class="sxs-lookup"><span data-stu-id="accfa-192">An *offset* is hello position of an event within a partition.</span></span> <span data-ttu-id="accfa-193">Posun si můžete představit jako kurzor na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="accfa-193">You can think of an offset as a client-side cursor.</span></span> <span data-ttu-id="accfa-194">Hello posun je bajt číslování hello události.</span><span class="sxs-lookup"><span data-stu-id="accfa-194">hello offset is a byte numbering of hello event.</span></span> <span data-ttu-id="accfa-195">Tento posun umožňuje toospecify příjemce (čtenáři) události bod v proudu událostí hello, ze kterého chtějí toobegin čtení událostí.</span><span class="sxs-lookup"><span data-stu-id="accfa-195">This offset enables an event consumer (reader) toospecify a point in hello event stream from which they want toobegin reading events.</span></span> <span data-ttu-id="accfa-196">Můžete zadat posun hello podobě časového razítka nebo hodnoty posunu.</span><span class="sxs-lookup"><span data-stu-id="accfa-196">You can specify hello offset as a timestamp or as an offset value.</span></span> <span data-ttu-id="accfa-197">Příjemci knihovny zodpovídají za uložení svých hodnot posunu mimo hello služby Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="accfa-197">Consumers are responsible for storing their own offset values outside of hello Event Hubs service.</span></span> <span data-ttu-id="accfa-198">Každá událost v rámci oddílu zahrnuje posun.</span><span class="sxs-lookup"><span data-stu-id="accfa-198">Within a partition, each event includes an offset.</span></span>

![Event Hubs](./media/event-hubs-features/partition_offset.png)

### <a name="checkpointing"></a><span data-ttu-id="accfa-200">Vytváření kontrolních bodů</span><span class="sxs-lookup"><span data-stu-id="accfa-200">Checkpointing</span></span>

<span data-ttu-id="accfa-201">*Vytváření kontrolních bodů* je proces, pomocí kterého čtenáři označují nebo potvrzují svou pozici v rámci posloupnosti událostí v oddílu.</span><span class="sxs-lookup"><span data-stu-id="accfa-201">*Checkpointing* is a process by which readers mark or commit their position within a partition event sequence.</span></span> <span data-ttu-id="accfa-202">Vytváření kontrolních bodů je zodpovědností hello hello příjemce a probíhá na bázi oddílů v rámci skupiny příjemců.</span><span class="sxs-lookup"><span data-stu-id="accfa-202">Checkpointing is hello responsibility of hello consumer and occurs on a per-partition basis within a consumer group.</span></span> <span data-ttu-id="accfa-203">Tato odpovědnost znamená, že pro každé skupině příjemců každý Čtenář oddílu musí udržovat přehled o své aktuální pozici v datovém proudu událostí hello a může informovat službu hello, když bude považovat datový proud hello dokončení.</span><span class="sxs-lookup"><span data-stu-id="accfa-203">This responsibility means that for each consumer group, each partition reader must keep track of its current position in hello event stream, and can inform hello service when it considers hello data stream complete.</span></span>

<span data-ttu-id="accfa-204">Pokud čtečka z oddílu odpojí, při opětovném připojení začne číst od kontrolního bodu hello, který dříve zaslal hello poslední Čtenář daného oddílu z této skupiny příjemců.</span><span class="sxs-lookup"><span data-stu-id="accfa-204">If a reader disconnects from a partition, when it reconnects it begins reading at hello checkpoint that was previously submitted by hello last reader of that partition in that consumer group.</span></span> <span data-ttu-id="accfa-205">Když hello Čtenář připojí, předá tento posunutí toohello události rozbočovače toospecify hello umístění na které toostart čtení.</span><span class="sxs-lookup"><span data-stu-id="accfa-205">When hello reader connects, it passes this offset toohello event hub toospecify hello location at which toostart reading.</span></span> <span data-ttu-id="accfa-206">Tímto způsobem můžete vytváření kontrolních bodů tooboth označování událostí jako "dokončeno" aplikací pro příjem dat a dojde k tooprovide odolnosti pokud převzetí služeb při selhání čtenářů spuštěných na různé počítače.</span><span class="sxs-lookup"><span data-stu-id="accfa-206">In this way, you can use checkpointing tooboth mark events as "complete" by downstream applications, and tooprovide resiliency if a failover between readers running on different machines occurs.</span></span> <span data-ttu-id="accfa-207">Je možné tooreturn tooolder dat tak, že určíte nižší posun od kontrolního bodu.</span><span class="sxs-lookup"><span data-stu-id="accfa-207">It is possible tooreturn tooolder data by specifying a lower offset from this checkpointing process.</span></span> <span data-ttu-id="accfa-208">Díky tomuto mechanismu umožňuje vytváření kontrolních bodů nejen obnovu při selhání, ale i opakované přehrání datového proudu.</span><span class="sxs-lookup"><span data-stu-id="accfa-208">Through this mechanism, checkpointing enables both failover resiliency and event stream replay.</span></span>

### <a name="common-consumer-tasks"></a><span data-ttu-id="accfa-209">Běžné úlohy příjemce</span><span class="sxs-lookup"><span data-stu-id="accfa-209">Common consumer tasks</span></span>

<span data-ttu-id="accfa-210">Všichni příjemci Event Hubs připojení přes relaci protokolu AMQP 1.0, stav obousměrný komunikační kanál.</span><span class="sxs-lookup"><span data-stu-id="accfa-210">All Event Hubs consumers connect via an AMQP 1.0 session, a state-aware bidirectional communication channel.</span></span> <span data-ttu-id="accfa-211">Každý oddíl má relaci protokolu AMQP 1.0, která usnadňuje transport událostí oddělených oddílem hello.</span><span class="sxs-lookup"><span data-stu-id="accfa-211">Each partition has an AMQP 1.0 session that facilitates hello transport of events segregated by partition.</span></span>

#### <a name="connect-tooa-partition"></a><span data-ttu-id="accfa-212">Připojit tooa oddílu</span><span class="sxs-lookup"><span data-stu-id="accfa-212">Connect tooa partition</span></span>

<span data-ttu-id="accfa-213">Při připojování toopartitions, je běžný postup toouse leasing mechanismus toocoordinate čtečky připojení toospecific oddíly.</span><span class="sxs-lookup"><span data-stu-id="accfa-213">When connecting toopartitions, it is common practice toouse a leasing mechanism toocoordinate reader connections toospecific partitions.</span></span> <span data-ttu-id="accfa-214">Tímto způsobem je možné u každého oddílu ve příjemce skupiny toohave pouze jednoho aktivního čtenáře.</span><span class="sxs-lookup"><span data-stu-id="accfa-214">This way, it is possible for every partition in a consumer group toohave only one active reader.</span></span> <span data-ttu-id="accfa-215">Vytváření kontrolních bodů, leasing a správu čtečky jednodušší pomocí hello [EventProcessorHost](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost) třída pro klienty .NET.</span><span class="sxs-lookup"><span data-stu-id="accfa-215">Checkpointing, leasing, and managing readers are simplified by using hello [EventProcessorHost](/dotnet/api/microsoft.servicebus.messaging.eventprocessorhost) class for .NET clients.</span></span> <span data-ttu-id="accfa-216">Hello Event Processor Host je inteligentní agent příjemce.</span><span class="sxs-lookup"><span data-stu-id="accfa-216">hello Event Processor Host is an intelligent consumer agent.</span></span>

#### <a name="read-events"></a><span data-ttu-id="accfa-217">Čtení událostí</span><span class="sxs-lookup"><span data-stu-id="accfa-217">Read events</span></span>

<span data-ttu-id="accfa-218">Po otevření odkaz a relace AMQP 1.0 u konkrétního oddílu se události doručují toohello protokolu AMQP 1.0 klienta podle hello služby Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="accfa-218">After an AMQP 1.0 session and link is opened for a specific partition, events are delivered toohello AMQP 1.0 client by hello Event Hubs service.</span></span> <span data-ttu-id="accfa-219">Tento mechanismus doručení umožňuje vyšší propustnost a nižší latenci než mechanismy založené na operaci Pull, jako je například metoda GET protokolu HTTP.</span><span class="sxs-lookup"><span data-stu-id="accfa-219">This delivery mechanism enables higher throughput and lower latency than pull-based mechanisms such as HTTP GET.</span></span> <span data-ttu-id="accfa-220">Události se posílají toohello klienta, každá instance dat události obsahuje důležitá metadata, jako hello posun a číslo posloupnosti, které jsou používané toofacilitate vytváření kontrolních bodů v posloupnosti událostí hello.</span><span class="sxs-lookup"><span data-stu-id="accfa-220">As events are sent toohello client, each event data instance contains important metadata such as hello offset and sequence number that are used toofacilitate checkpointing on hello event sequence.</span></span>

<span data-ttu-id="accfa-221">Data události:</span><span class="sxs-lookup"><span data-stu-id="accfa-221">Event data:</span></span>
* <span data-ttu-id="accfa-222">Posun</span><span class="sxs-lookup"><span data-stu-id="accfa-222">Offset</span></span>
* <span data-ttu-id="accfa-223">Pořadové číslo</span><span class="sxs-lookup"><span data-stu-id="accfa-223">Sequence number</span></span>
* <span data-ttu-id="accfa-224">Tělo</span><span class="sxs-lookup"><span data-stu-id="accfa-224">Body</span></span>
* <span data-ttu-id="accfa-225">Uživatelské vlastnosti</span><span class="sxs-lookup"><span data-stu-id="accfa-225">User properties</span></span>
* <span data-ttu-id="accfa-226">Systémové vlastnosti</span><span class="sxs-lookup"><span data-stu-id="accfa-226">System properties</span></span>

<span data-ttu-id="accfa-227">Je vaše odpovědnosti toomanage hello posun.</span><span class="sxs-lookup"><span data-stu-id="accfa-227">It is your responsibility toomanage hello offset.</span></span>

## <a name="capacity"></a><span data-ttu-id="accfa-228">Kapacita</span><span class="sxs-lookup"><span data-stu-id="accfa-228">Capacity</span></span>

<span data-ttu-id="accfa-229">Služba Event Hubs je vysoce škálovatelná paralelní architektura a nejsou tooconsider několik klíčových faktorů při dimenzování a škálování.</span><span class="sxs-lookup"><span data-stu-id="accfa-229">Event Hubs has a highly scalable parallel architecture and there are several key factors tooconsider when sizing and scaling.</span></span>

### <a name="throughput-units"></a><span data-ttu-id="accfa-230">Jednotky propustnosti</span><span class="sxs-lookup"><span data-stu-id="accfa-230">Throughput units</span></span>

<span data-ttu-id="accfa-231">kapacita propustnosti Hello Event Hubs řídí *jednotky propustnosti*.</span><span class="sxs-lookup"><span data-stu-id="accfa-231">hello throughput capacity of Event Hubs is controlled by *throughput units*.</span></span> <span data-ttu-id="accfa-232">Jednotky propustnosti jsou předem zakoupené jednotky kapacity.</span><span class="sxs-lookup"><span data-stu-id="accfa-232">Throughput units are pre-purchased units of capacity.</span></span> <span data-ttu-id="accfa-233">Jedna jednotka propustnosti zahrnuje následující kapacitu hello:</span><span class="sxs-lookup"><span data-stu-id="accfa-233">A single throughput unit includes hello following capacity:</span></span>

* <span data-ttu-id="accfa-234">Příchozí data: až too1 MB za sekundu nebo 1000 událostí za sekundu (nastane dříve)</span><span class="sxs-lookup"><span data-stu-id="accfa-234">Ingress: Up too1 MB per second or 1000 events per second (whichever comes first)</span></span>
* <span data-ttu-id="accfa-235">Odchozí data: až too2 MB za sekundu</span><span class="sxs-lookup"><span data-stu-id="accfa-235">Egress: Up too2 MB per second</span></span>

<span data-ttu-id="accfa-236">Nad rámec hello kapacitu hello zakoupené jednotky propustnosti, je omezen příjem příchozích dat a [ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) je vrácen.</span><span class="sxs-lookup"><span data-stu-id="accfa-236">Beyond hello capacity of hello purchased throughput units, ingress is throttled and a [ServerBusyException](/dotnet/api/microsoft.servicebus.messaging.serverbusyexception) is returned.</span></span> <span data-ttu-id="accfa-237">Odchozí nevytváří takové výjimky, ale je stále omezené toohello kapacita hello zakoupené jednotky propustnosti.</span><span class="sxs-lookup"><span data-stu-id="accfa-237">Egress does not produce throttling exceptions, but is still limited toohello capacity of hello purchased throughput units.</span></span> <span data-ttu-id="accfa-238">Je-li přijímat publikování výjimky související s frekvencí nebo budoucnu očekáváte větší objem odchozích dat toosee, být toocheck se, kolik jednotek propustnosti jste zakoupili pro obor názvů hello.</span><span class="sxs-lookup"><span data-stu-id="accfa-238">If you receive publishing rate exceptions or are expecting toosee higher egress, be sure toocheck how many throughput units you have purchased for hello namespace.</span></span> <span data-ttu-id="accfa-239">Můžete spravovat jednotky propustnosti na hello **škálování** okno hello obory názvů v hello [portál Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="accfa-239">You can manage throughput units on hello **Scale** blade of hello namespaces in hello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="accfa-240">Můžete také spravovat jednotky propustnosti programově pomocí hello [rozhraní API centra událostí](event-hubs-api-overview.md).</span><span class="sxs-lookup"><span data-stu-id="accfa-240">You can also manage throughput units programmatically using hello [Event Hubs APIs](event-hubs-api-overview.md).</span></span>

<span data-ttu-id="accfa-241">Jednotky propustnosti se kupují předem a účtují se po hodinách.</span><span class="sxs-lookup"><span data-stu-id="accfa-241">Throughput units are billed per hour and are pre-purchased.</span></span> <span data-ttu-id="accfa-242">Zakoupené jednotky propustnosti se účtují minimálně za jednu hodinu.</span><span class="sxs-lookup"><span data-stu-id="accfa-242">Once purchased, throughput units are billed for a minimum of one hour.</span></span> <span data-ttu-id="accfa-243">Jednotky propustnosti too20 můžete zakoupili pro obor názvů Event Hubs a jsou sdíleny ve všech centrech událostí v oboru názvů hello.</span><span class="sxs-lookup"><span data-stu-id="accfa-243">Up too20 throughput units can be purchased for an Event Hubs namespace and are shared across all Event Hubs in hello namespace.</span></span>

<span data-ttu-id="accfa-244">Další jednotky propustnosti lze zakoupit v blocích po 20 too100 jednotky propustnosti, že se obrátíte na podporu Azure.</span><span class="sxs-lookup"><span data-stu-id="accfa-244">More throughput units can be purchased in blocks of 20, up too100 throughput units, by contacting Azure support.</span></span> <span data-ttu-id="accfa-245">Navíc si můžete taky zakoupit bloky, které obsahují sto jednotek propustnosti.</span><span class="sxs-lookup"><span data-stu-id="accfa-245">Beyond that, you can also purchase blocks of 100 throughput units.</span></span>

<span data-ttu-id="accfa-246">Doporučujeme vám, že můžete vyrovnávat propustnost jednotky a oddíly, které tooachieve optimálního škálování.</span><span class="sxs-lookup"><span data-stu-id="accfa-246">We recommend that you balance throughput units and partitions tooachieve optimal scale.</span></span> <span data-ttu-id="accfa-247">Škálování jednoho oddílu dovoluje maximálně jednu jednotku propustnosti.</span><span class="sxs-lookup"><span data-stu-id="accfa-247">A single partition has a maximum scale of one throughput unit.</span></span> <span data-ttu-id="accfa-248">Hello počet jednotek propustnosti by měl být menší než nebo rovna toohello počet oddílů v Centru událostí.</span><span class="sxs-lookup"><span data-stu-id="accfa-248">hello number of throughput units should be less than or equal toohello number of partitions in an event hub.</span></span>

<span data-ttu-id="accfa-249">Informace o cenách podrobné Event Hubs, najdete v části [cenách služby Event Hubs](https://azure.microsoft.com/pricing/details/event-hubs/).</span><span class="sxs-lookup"><span data-stu-id="accfa-249">For detailed Event Hubs pricing information, see [Event Hubs pricing](https://azure.microsoft.com/pricing/details/event-hubs/).</span></span>

## <a name="next-steps"></a><span data-ttu-id="accfa-250">Další kroky</span><span class="sxs-lookup"><span data-stu-id="accfa-250">Next steps</span></span>

<span data-ttu-id="accfa-251">Další informace o službě Event Hubs najdete na adrese hello následující odkazy:</span><span class="sxs-lookup"><span data-stu-id="accfa-251">For more information about Event Hubs, visit hello following links:</span></span>

* <span data-ttu-id="accfa-252">Úvodní [kurz služby Event Hubs][Event Hubs tutorial]</span><span class="sxs-lookup"><span data-stu-id="accfa-252">Get started with an [Event Hubs tutorial][Event Hubs tutorial]</span></span>
* [<span data-ttu-id="accfa-253">Průvodce programováním pro službu Event Hubs</span><span class="sxs-lookup"><span data-stu-id="accfa-253">Event Hubs programming guide</span></span>](event-hubs-programming-guide.md)
* [<span data-ttu-id="accfa-254">Dostupnost a konzistence ve službě Event Hubs</span><span class="sxs-lookup"><span data-stu-id="accfa-254">Availability and consistency in Event Hubs</span></span>](event-hubs-availability-and-consistency.md)
* [<span data-ttu-id="accfa-255">Nejčastější dotazy k Event Hubs</span><span class="sxs-lookup"><span data-stu-id="accfa-255">Event Hubs FAQ</span></span>](event-hubs-faq.md)
* <span data-ttu-id="accfa-256">[Ukázky centra událostí][]</span><span class="sxs-lookup"><span data-stu-id="accfa-256">[Event Hubs samples][]</span></span>

[Event Hubs tutorial]: event-hubs-dotnet-standard-getstarted-send.md
[Ukázky centra událostí]: https://github.com/Azure/azure-event-hubs/tree/master/samples
