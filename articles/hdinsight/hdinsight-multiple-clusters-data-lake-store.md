---
title: "Použití více clusterů HDInsight pomocí účtu Azure Data Lake Store - Azure | Microsoft Docs"
description: "Naučte se používat více než jeden cluster HDInsight poskytují jeden účet Data Lake Store"
keywords: "úložiště hdinsight, hdfs, strukturovaných dat, nestrukturovaných dat, data lake store"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 043141e8496a947f54564d29a1d7fb724fac5cda
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="affc5-104">Použití více clusterů HDInsight pomocí účtu Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="affc5-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="affc5-105">Počínaje HDInsight verze 3.5, můžete vytvořit clustery HDInsight pomocí účtů Azure Data Lake Store jako výchozí systém souborů.</span><span class="sxs-lookup"><span data-stu-id="affc5-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as the default filesystem.</span></span>
<span data-ttu-id="affc5-106">Data Lake Store podporuje neomezené úložiště, která usnadňuje ideální nejen pro hostování velké objemy dat; Můžete ale také pro hostování clusterů HDInsight více tuto sdílenou složku jeden účet Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="affc5-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="affc5-107">Instructionson způsobu vytvoření clusteru HDInsight s Data Lake uložit jako úložiště, najdete v [Tvorba clusterů HDInsight s Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="affc5-107">For instructionson how to create an HDInsight cluster with Data Lake Store as the storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="affc5-108">Tento článek obsahuje doporučení pro Data Lake Správce úložiště pro nastavení jednoho a sdílené Data Lake ukládání účet, který lze použít v rámci více **active** clusterů HDInsight.</span><span class="sxs-lookup"><span data-stu-id="affc5-108">This article provides recommendations to the Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="affc5-109">Tato doporučení se vztahují k hostování více clusterů systému Hadoop zabezpečené a také nezabezpečené na sdíleného účtu Data Lake store.</span><span class="sxs-lookup"><span data-stu-id="affc5-109">These recommendations apply to hosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="affc5-110">Data Lake Store souborů a složek úroveň seznamy ACL</span><span class="sxs-lookup"><span data-stu-id="affc5-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="affc5-111">Zbývající část tohoto článku předpokládá, že máte dobrou znalost souborů a složek úroveň seznamy ACL v Azure Data Lake Store, který je popsán v podrobností v [řízení přístupu v Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="affc5-111">The rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="affc5-112">Data Lake Store nastavení pro více clusterů HDInsight</span><span class="sxs-lookup"><span data-stu-id="affc5-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="affc5-113">Dejte nám trvat složky dvojúrovňové hierarchii vysvětlení doporučení pro více clusterů HDInsight pomocí účtu Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="affc5-113">Let us take a two-level folder hierarchy to explain the recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="affc5-114">Vezměte v úvahu máte účet Data Lake Store s struktura složek **nebo clustery, finance**.</span><span class="sxs-lookup"><span data-stu-id="affc5-114">Consider you have a Data Lake Store account with the folder structure **/clusters/finance**.</span></span> <span data-ttu-id="affc5-115">Tato struktura všechny clustery finanční organizace vyžaduje pomocí /clusters/finance jako umístění úložiště.</span><span class="sxs-lookup"><span data-stu-id="affc5-115">With this structure, all the clusters required by the Finance organization can use /clusters/finance as the storage location.</span></span> <span data-ttu-id="affc5-116">V budoucnu, pokud jiné organizaci vyslovení marketingu, chce vytvořit HDInsight clustery pomocí stejného účtu Data Lake Store, uživatel může vytvořit/clustery/marketing.</span><span class="sxs-lookup"><span data-stu-id="affc5-116">In the future, if another organization, say Marketing, wants to create HDInsight clusters using the same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="affc5-117">Prozatím se právě použijeme **nebo clustery, finance**.</span><span class="sxs-lookup"><span data-stu-id="affc5-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="affc5-118">Chcete-li povolit tuto strukturu složek pro efektivně používat clusterů HDInsight, Data Lake Store musí správce příslušná oprávnění, jak je popsáno v tabulce.</span><span class="sxs-lookup"><span data-stu-id="affc5-118">To enable this folder structure to be effectively used by HDInsight clusters, the Data Lake Store administrator must assign appropriate permissions, as described in the table.</span></span> <span data-ttu-id="affc5-119">Oprávnění uvedené v tabulce odpovídají přístup seznamy řízení přístupu a výchozí-ACL.</span><span class="sxs-lookup"><span data-stu-id="affc5-119">The permissions shown in the table correspond to Access-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="affc5-120">Složka</span><span class="sxs-lookup"><span data-stu-id="affc5-120">Folder</span></span>  |<span data-ttu-id="affc5-121">Oprávnění</span><span class="sxs-lookup"><span data-stu-id="affc5-121">Permissions</span></span>  |<span data-ttu-id="affc5-122">Vlastnící uživatel</span><span class="sxs-lookup"><span data-stu-id="affc5-122">Owning user</span></span>  |<span data-ttu-id="affc5-123">Vlastnící skupina</span><span class="sxs-lookup"><span data-stu-id="affc5-123">Owning group</span></span>  | <span data-ttu-id="affc5-124">Jmenovaný uživatel</span><span class="sxs-lookup"><span data-stu-id="affc5-124">Named user</span></span> | <span data-ttu-id="affc5-125">Jmenovaný uživatel oprávnění</span><span class="sxs-lookup"><span data-stu-id="affc5-125">Named user permissions</span></span> | <span data-ttu-id="affc5-126">S názvem skupiny</span><span class="sxs-lookup"><span data-stu-id="affc5-126">Named group</span></span> | <span data-ttu-id="affc5-127">Oprávnění skupiny s názvem</span><span class="sxs-lookup"><span data-stu-id="affc5-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="affc5-128">rwxr-x – x</span><span class="sxs-lookup"><span data-stu-id="affc5-128">rwxr-x--x</span></span>  |<span data-ttu-id="affc5-129">Správce</span><span class="sxs-lookup"><span data-stu-id="affc5-129">admin</span></span> |<span data-ttu-id="affc5-130">Správce</span><span class="sxs-lookup"><span data-stu-id="affc5-130">admin</span></span>  |<span data-ttu-id="affc5-131">Instanční objekt</span><span class="sxs-lookup"><span data-stu-id="affc5-131">Service principal</span></span> |<span data-ttu-id="affc5-132">– x</span><span class="sxs-lookup"><span data-stu-id="affc5-132">--x</span></span>  |<span data-ttu-id="affc5-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="affc5-133">FINGRP</span></span>   |<span data-ttu-id="affc5-134">r – x</span><span class="sxs-lookup"><span data-stu-id="affc5-134">r-x</span></span>         |
|<span data-ttu-id="affc5-135">/Clusters</span><span class="sxs-lookup"><span data-stu-id="affc5-135">/clusters</span></span> | <span data-ttu-id="affc5-136">rwxr-x – x</span><span class="sxs-lookup"><span data-stu-id="affc5-136">rwxr-x--x</span></span> |<span data-ttu-id="affc5-137">Správce</span><span class="sxs-lookup"><span data-stu-id="affc5-137">admin</span></span> |<span data-ttu-id="affc5-138">Správce</span><span class="sxs-lookup"><span data-stu-id="affc5-138">admin</span></span> |<span data-ttu-id="affc5-139">Instanční objekt</span><span class="sxs-lookup"><span data-stu-id="affc5-139">Service principal</span></span> |<span data-ttu-id="affc5-140">– x</span><span class="sxs-lookup"><span data-stu-id="affc5-140">--x</span></span>  |<span data-ttu-id="affc5-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="affc5-141">FINGRP</span></span> |<span data-ttu-id="affc5-142">r – x</span><span class="sxs-lookup"><span data-stu-id="affc5-142">r-x</span></span>         |
|<span data-ttu-id="affc5-143">nebo clustery, finance</span><span class="sxs-lookup"><span data-stu-id="affc5-143">/clusters/finance</span></span> | <span data-ttu-id="affc5-144">rwxr-x – t</span><span class="sxs-lookup"><span data-stu-id="affc5-144">rwxr-x--t</span></span> |<span data-ttu-id="affc5-145">Správce</span><span class="sxs-lookup"><span data-stu-id="affc5-145">admin</span></span> |<span data-ttu-id="affc5-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="affc5-146">FINGRP</span></span>  |<span data-ttu-id="affc5-147">Instanční objekt</span><span class="sxs-lookup"><span data-stu-id="affc5-147">Service principal</span></span> |<span data-ttu-id="affc5-148">rwx</span><span class="sxs-lookup"><span data-stu-id="affc5-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="affc5-149">V tabulce</span><span class="sxs-lookup"><span data-stu-id="affc5-149">In the table,</span></span>

- <span data-ttu-id="affc5-150">**správce** creator a správce účtu Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="affc5-150">**admin** is the creator and administrator of the Data Lake Store account.</span></span>
- <span data-ttu-id="affc5-151">**Instanční objekt** je objekt služby Azure Active Directory (AAD), který je přidružený k účtu.</span><span class="sxs-lookup"><span data-stu-id="affc5-151">**Service principal** is the Azure Active Directory (AAD) service principal associated with the account.</span></span>
- <span data-ttu-id="affc5-152">**FINGRP** je skupina uživatelů vytvořené v AAD, která obsahuje uživatele z finančního organizace.</span><span class="sxs-lookup"><span data-stu-id="affc5-152">**FINGRP** is a user group created in AAD that contains users from the Finance organization.</span></span>

<span data-ttu-id="affc5-153">Pokyny o tom, jak vytvořit aplikaci AAD (která také vytvoří objekt služby), najdete v tématu [vytvořit aplikaci AAD](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="affc5-153">For instructions on how to create an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="affc5-154">Pokyny o tom, jak vytvořit skupiny uživatelů v AAD najdete v tématu [Správa skupin v Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="affc5-154">For instructions on how to create a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="affc5-155">Některé klíčové body vzít v úvahu.</span><span class="sxs-lookup"><span data-stu-id="affc5-155">Some key points to consider.</span></span>

- <span data-ttu-id="affc5-156">Dvě úrovně struktura složek (**/clusterů nebo finanční nebo**) musí být vytvořen a vytváří správce Data Lake Store s příslušnými oprávněními **před** pomocí účtu úložiště pro clustery.</span><span class="sxs-lookup"><span data-stu-id="affc5-156">The two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by the Data Lake Store admin **before** using the storage account for clusters.</span></span> <span data-ttu-id="affc5-157">Tato struktura není vytvořena automaticky při vytváření clusterů.</span><span class="sxs-lookup"><span data-stu-id="affc5-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="affc5-158">V předchozím příkladu doporučuje nastavení vlastnícím skupiny **nebo clustery, finance** jako **FINGRP** a jejímu **r-x** přístup k FINGRP do hierarchie celou složku od kořene.</span><span class="sxs-lookup"><span data-stu-id="affc5-158">The example above recommends setting the owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access to FINGRP to the entire folder hierarchy starting from the root.</span></span> <span data-ttu-id="affc5-159">Tím se zajistí, že členové FINGRP můžete přejít od kořenové struktura složek.</span><span class="sxs-lookup"><span data-stu-id="affc5-159">This ensures that the members of FINGRP can navigate the folder structure starting from root.</span></span>
- <span data-ttu-id="affc5-160">V případě, že pokud různé objekty služby AAD můžete vytvořit clustery v **nebo clustery, finance**, trvalé bit (Pokud nastavíte na **finanční** složky) zajišťuje, že podle jednoho instančního objektu vytvořeny složky nelze odstranit, jinými.</span><span class="sxs-lookup"><span data-stu-id="affc5-160">In the case when different AAD Service Principals can create clusters under **/clusters/finance**, the sticky-bit (when set on the **finance** folder) ensures that folders created by one Service Principal cannot be deleted by the other.</span></span>
- <span data-ttu-id="affc5-161">Jakmile struktury složek a oprávnění jsou na místě, procesu vytváření clusteru HDInsight vytvoří místo specifických pro cluster úložiště v rámci **/clusterů nebo finanční nebo**.</span><span class="sxs-lookup"><span data-stu-id="affc5-161">Once the folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="affc5-162">Například může být úložiště pro cluster s názvem fincluster01 **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="affc5-162">For example, the storage for a cluster with the name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="affc5-163">Vlastnictví a oprávnění pro složky vytvořené clusteru HDInsight se zobrazují v tabulce sem.</span><span class="sxs-lookup"><span data-stu-id="affc5-163">The ownership and permissions for the folders created by HDInsight cluster is shown in the table here.</span></span>

    |<span data-ttu-id="affc5-164">Složka</span><span class="sxs-lookup"><span data-stu-id="affc5-164">Folder</span></span>  |<span data-ttu-id="affc5-165">Oprávnění</span><span class="sxs-lookup"><span data-stu-id="affc5-165">Permissions</span></span>  |<span data-ttu-id="affc5-166">Vlastnící uživatel</span><span class="sxs-lookup"><span data-stu-id="affc5-166">Owning user</span></span>  |<span data-ttu-id="affc5-167">Vlastnící skupina</span><span class="sxs-lookup"><span data-stu-id="affc5-167">Owning group</span></span>  | <span data-ttu-id="affc5-168">Jmenovaný uživatel</span><span class="sxs-lookup"><span data-stu-id="affc5-168">Named user</span></span> | <span data-ttu-id="affc5-169">Jmenovaný uživatel oprávnění</span><span class="sxs-lookup"><span data-stu-id="affc5-169">Named user permissions</span></span> | <span data-ttu-id="affc5-170">S názvem skupiny</span><span class="sxs-lookup"><span data-stu-id="affc5-170">Named group</span></span> | <span data-ttu-id="affc5-171">Oprávnění skupiny s názvem</span><span class="sxs-lookup"><span data-stu-id="affc5-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="affc5-172">/Clusters/finanace/fincluster01</span><span class="sxs-lookup"><span data-stu-id="affc5-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="affc5-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="affc5-173">rwxr-x---</span></span>  |<span data-ttu-id="affc5-174">Instanční objekt</span><span class="sxs-lookup"><span data-stu-id="affc5-174">Service Principal</span></span> |<span data-ttu-id="affc5-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="affc5-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="affc5-176">Doporučení pro úlohy vstupní a výstupní data</span><span class="sxs-lookup"><span data-stu-id="affc5-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="affc5-177">Doporučujeme vám, že vstupní data na úlohy a výstupy z úlohy být uložena ve složce mimo **/clusterů**.</span><span class="sxs-lookup"><span data-stu-id="affc5-177">We recommend that input data to a job, and the outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="affc5-178">Tím se zajistí, že i v případě uvolnění některé prostor úložiště se odstranit složku na specifických pro cluster, úlohy vstupy a výstupy stále k dispozici pro budoucí použití.</span><span class="sxs-lookup"><span data-stu-id="affc5-178">This ensures that even if the cluster-specific folder is deleted to reclaim some storage space,the job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="affc5-179">V takovém případě zajistěte, aby hierarchie složky pro uložení úlohy vstupy a výstupy povolovalo odpovídající úroveň přístupu pro objekt služby.</span><span class="sxs-lookup"><span data-stu-id="affc5-179">In such a case, ensure that the folder hierarchy for storing the job inputs and outputs allows appropriate level of access for the Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="affc5-180">Omezit na clusterech sdílení účet jednoho úložiště</span><span class="sxs-lookup"><span data-stu-id="affc5-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="affc5-181">Limit počtu clusterů, které můžete sdílet jeden účet Data Lake Store, které závisí na úlohy spouštěné v těchto clusterů.</span><span class="sxs-lookup"><span data-stu-id="affc5-181">The limit on the number of clusters that can share a single Data Lake Store account depends on the workload being run on those clusters.</span></span> <span data-ttu-id="affc5-182">Má příliš mnoho velmi náročných úloh nebo clusterů v clusterech, které sdílejí účet úložiště může způsobit, že úložiště účet vstupní/výstupní k získání omezeny.</span><span class="sxs-lookup"><span data-stu-id="affc5-182">Having too many clusters or very heavy workloads on the clusters that share a storage account might cause the storage account ingress/egress to get throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="affc5-183">Podpora pro výchozí seznamy řízení přístupu</span><span class="sxs-lookup"><span data-stu-id="affc5-183">Support for Default-ACLs</span></span>

<span data-ttu-id="affc5-184">Při vytváření objektu služby pomocí přístupu s názvem uživatele (jak je uvedené v předchozí tabulce), doporučujeme **není** přidání s názvem uživatele s seznamu ACL výchozí.</span><span class="sxs-lookup"><span data-stu-id="affc5-184">When creating a Service Principal with named-user access (as shown in the table above), we recommend **not** adding the named-user with a default-ACL.</span></span> <span data-ttu-id="affc5-185">Zřizování přístupu s názvem uživatele pomocí výchozí ACL výsledky v přiřazení 770 oprávnění pro vlastnícího uživatele, který je vlastníkem skupiny a dalších.</span><span class="sxs-lookup"><span data-stu-id="affc5-185">Provisioning named-user access using default-ACLs results in the assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="affc5-186">Při této výchozí hodnotu 770 rychle nevyžaduje oprávnění z vlastnícího uživatele (7) nebo vlastnící group (7), trvá rychle všechna oprávnění pro ostatní (0).</span><span class="sxs-lookup"><span data-stu-id="affc5-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="affc5-187">Výsledkem je známý problém s jeden konkrétní případ použití popsaný v části [známé problémy a řešení](#known-issues-and-workarounds) části.</span><span class="sxs-lookup"><span data-stu-id="affc5-187">This results in a known issue with one particular use-case that is discussed in detail in the [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="affc5-188">Známé problémy a řešení</span><span class="sxs-lookup"><span data-stu-id="affc5-188">Known issues and workarounds</span></span>

<span data-ttu-id="affc5-189">V této části jsou uvedené známé problémy pro použití HDInsight s Data Lake Store a jejich řešení.</span><span class="sxs-lookup"><span data-stu-id="affc5-189">This section lists the known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="affc5-190">Veřejně viditelný lokalizované prostředky YARN</span><span class="sxs-lookup"><span data-stu-id="affc5-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="affc5-191">Když je vytvořen nový účet Azure Data Lake store, je kořenový adresář automaticky zřízena sadu 770 bitů oprávnění přístupu ACL.</span><span class="sxs-lookup"><span data-stu-id="affc5-191">When a new Azure Data Lake store account is created, the root directory is automatically provisioned with Access-ACL permission bits set to 770.</span></span> <span data-ttu-id="affc5-192">Uživatel je nastaven na uživatele, který vytvořili účet (Data Lake Store správce) a skupině vlastnícím nastavena na primární skupiny uživatele, který vytvořili účet, který vlastní kořenové složce.</span><span class="sxs-lookup"><span data-stu-id="affc5-192">The root folder’s owning user is set to the user that created the account (the Data Lake Store admin) and the owning group is set to the primary group of the user that created the account.</span></span> <span data-ttu-id="affc5-193">Žádný přístup se poskytuje "ostatní".</span><span class="sxs-lookup"><span data-stu-id="affc5-193">No access is provided for "others".</span></span>

<span data-ttu-id="affc5-194">Tato nastavení se ví, vliv na jeden konkrétní HDInsight případ použití zaznamenané v [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="affc5-194">These settings are known to affect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="affc5-195">Odesílání úlohy může selhat s chybovou zprávou, která je podobná této:</span><span class="sxs-lookup"><span data-stu-id="affc5-195">Job submissions could fail with an error message similar to this:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of the public cache.

<span data-ttu-id="affc5-196">Jak je uvedeno v JIRA YARN propojené dříve, při lokalizace veřejných prostředků, lokalizátora ověří, zda jsou všechny požadované prostředky skutečně veřejné kontrolou svá oprávnění na vzdálený systém souborů.</span><span class="sxs-lookup"><span data-stu-id="affc5-196">As stated in the YARN JIRA linked earlier, while localizing public resources, the localizer validates that all the requested resources are indeed public by checking their permissions on the remote file-system.</span></span> <span data-ttu-id="affc5-197">Všechny LocalResource, který se nevejde této podmínky je odmítnutých pro lokalizaci.</span><span class="sxs-lookup"><span data-stu-id="affc5-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="affc5-198">Kontrola oprávnění, zahrnuje přístup pro čtení k souboru pro "ostatní".</span><span class="sxs-lookup"><span data-stu-id="affc5-198">The check for permissions, includes read-access to the file for "others".</span></span> <span data-ttu-id="affc5-199">Tento scénář nefunguje se na pole při hostování clusterů HDInsight v Azure Data Lake, protože Azure Data Lake odmítne všechny přístup na "ostatní" na kořenové úrovni složky.</span><span class="sxs-lookup"><span data-stu-id="affc5-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access to "others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="affc5-200">Alternativní řešení</span><span class="sxs-lookup"><span data-stu-id="affc5-200">Workaround</span></span>
<span data-ttu-id="affc5-201">Sada pro čtení-oprávnění ke spouštění pro **ostatní** prostřednictvím hierarchie, například na  **/** , **/clusterů** a **nebo clustery, finance** jak je znázorněno v předchozí tabulce.</span><span class="sxs-lookup"><span data-stu-id="affc5-201">Set read-execute permissions for **others** through the hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in the table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="affc5-202">Viz také</span><span class="sxs-lookup"><span data-stu-id="affc5-202">See also</span></span>

* [<span data-ttu-id="affc5-203">Vytvoření clusteru HDInsight s Data Lake Store jako úložiště</span><span class="sxs-lookup"><span data-stu-id="affc5-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


