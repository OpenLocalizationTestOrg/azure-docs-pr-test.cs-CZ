---
title: "aaaUse clusterů více HDInsight pomocí účtu Azure Data Lake Store - Azure | Microsoft Docs"
description: "Zjistěte, jak toouse více než jeden HDInsight clusteru pomocí jednoho účtu Data Lake Store"
keywords: "úložiště hdinsight, hdfs, strukturovaných dat, nestrukturovaných dat, data lake store"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 3a125b91fcc1e436270a1bd349f7a2d8f27e06fb
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="1dabd-104">Použití více clusterů HDInsight pomocí účtu Azure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="1dabd-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="1dabd-105">Počínaje HDInsight verze 3.5, můžete vytvořit clustery HDInsight pomocí účtů Azure Data Lake Store jako hello výchozí systém souborů.</span><span class="sxs-lookup"><span data-stu-id="1dabd-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as hello default filesystem.</span></span>
<span data-ttu-id="1dabd-106">Data Lake Store podporuje neomezené úložiště, která usnadňuje ideální nejen pro hostování velké objemy dat; Můžete ale také pro hostování clusterů HDInsight více tuto sdílenou složku jeden účet Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="1dabd-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="1dabd-107">Instructionson jak clusteru toocreate HDInsight s Data Lake Store jako hello úložiště, najdete v části [Tvorba clusterů HDInsight s Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="1dabd-107">For instructionson how toocreate an HDInsight cluster with Data Lake Store as hello storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="1dabd-108">Tento článek obsahuje doporučení toohello Data Lake store správce pro nastavení jednoho a sdílené Data Lake ukládání účet, který lze použít v rámci více **active** clusterů HDInsight.</span><span class="sxs-lookup"><span data-stu-id="1dabd-108">This article provides recommendations toohello Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="1dabd-109">Tato doporučení se týkají toohosting více zabezpečené a také nezabezpečené Hadoop clusterů v sdíleného účtu Data Lake store.</span><span class="sxs-lookup"><span data-stu-id="1dabd-109">These recommendations apply toohosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="1dabd-110">Data Lake Store souborů a složek úroveň seznamy ACL</span><span class="sxs-lookup"><span data-stu-id="1dabd-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="1dabd-111">Hello zbývající části tohoto článku předpokládá, že máte dobrou znalost souborů a složek úroveň seznamy ACL v Azure Data Lake Store, který je popsán v podrobností v [řízení přístupu v Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="1dabd-111">hello rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="1dabd-112">Data Lake Store nastavení pro více clusterů HDInsight</span><span class="sxs-lookup"><span data-stu-id="1dabd-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="1dabd-113">Dejte nám trvat složky dvojúrovňové hierarchii tooexplain hello doporučení pro používání více clusterů HDInsight pomocí účtu Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="1dabd-113">Let us take a two-level folder hierarchy tooexplain hello recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="1dabd-114">Vezměte v úvahu máte účet Data Lake Store s struktura složek hello **nebo clustery, finance**.</span><span class="sxs-lookup"><span data-stu-id="1dabd-114">Consider you have a Data Lake Store account with hello folder structure **/clusters/finance**.</span></span> <span data-ttu-id="1dabd-115">Tato struktura všechny clustery hello hello finanční organizace vyžaduje pomocí /clusters/finance jako umístění úložiště hello.</span><span class="sxs-lookup"><span data-stu-id="1dabd-115">With this structure, all hello clusters required by hello Finance organization can use /clusters/finance as hello storage location.</span></span> <span data-ttu-id="1dabd-116">V budoucnu, pokud jiné organizaci, Marketing, že chce hello toocreate clusterů HDInsight pomocí stejného účtu Data Lake Store, uživatel může vytvořit /clusters/marketing hello.</span><span class="sxs-lookup"><span data-stu-id="1dabd-116">In hello future, if another organization, say Marketing, wants toocreate HDInsight clusters using hello same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="1dabd-117">Prozatím se právě použijeme **nebo clustery, finance**.</span><span class="sxs-lookup"><span data-stu-id="1dabd-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="1dabd-118">tooenable této složky struktura toobe efektivně používané clustery HDInsight, hello Data Lake Store musí správce příslušná oprávnění, jak je popsáno v tabulce hello.</span><span class="sxs-lookup"><span data-stu-id="1dabd-118">tooenable this folder structure toobe effectively used by HDInsight clusters, hello Data Lake Store administrator must assign appropriate permissions, as described in hello table.</span></span> <span data-ttu-id="1dabd-119">oprávnění Hello uvedené v tabulce hello odpovídají tooAccess seznamy řízení přístupu a výchozí-ACL.</span><span class="sxs-lookup"><span data-stu-id="1dabd-119">hello permissions shown in hello table correspond tooAccess-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="1dabd-120">Složka</span><span class="sxs-lookup"><span data-stu-id="1dabd-120">Folder</span></span>  |<span data-ttu-id="1dabd-121">Oprávnění</span><span class="sxs-lookup"><span data-stu-id="1dabd-121">Permissions</span></span>  |<span data-ttu-id="1dabd-122">Vlastnící uživatel</span><span class="sxs-lookup"><span data-stu-id="1dabd-122">Owning user</span></span>  |<span data-ttu-id="1dabd-123">Vlastnící skupina</span><span class="sxs-lookup"><span data-stu-id="1dabd-123">Owning group</span></span>  | <span data-ttu-id="1dabd-124">Jmenovaný uživatel</span><span class="sxs-lookup"><span data-stu-id="1dabd-124">Named user</span></span> | <span data-ttu-id="1dabd-125">Jmenovaný uživatel oprávnění</span><span class="sxs-lookup"><span data-stu-id="1dabd-125">Named user permissions</span></span> | <span data-ttu-id="1dabd-126">S názvem skupiny</span><span class="sxs-lookup"><span data-stu-id="1dabd-126">Named group</span></span> | <span data-ttu-id="1dabd-127">Oprávnění skupiny s názvem</span><span class="sxs-lookup"><span data-stu-id="1dabd-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="1dabd-128">rwxr-x – x</span><span class="sxs-lookup"><span data-stu-id="1dabd-128">rwxr-x--x</span></span>  |<span data-ttu-id="1dabd-129">Správce</span><span class="sxs-lookup"><span data-stu-id="1dabd-129">admin</span></span> |<span data-ttu-id="1dabd-130">Správce</span><span class="sxs-lookup"><span data-stu-id="1dabd-130">admin</span></span>  |<span data-ttu-id="1dabd-131">Instanční objekt</span><span class="sxs-lookup"><span data-stu-id="1dabd-131">Service principal</span></span> |<span data-ttu-id="1dabd-132">– x</span><span class="sxs-lookup"><span data-stu-id="1dabd-132">--x</span></span>  |<span data-ttu-id="1dabd-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="1dabd-133">FINGRP</span></span>   |<span data-ttu-id="1dabd-134">r – x</span><span class="sxs-lookup"><span data-stu-id="1dabd-134">r-x</span></span>         |
|<span data-ttu-id="1dabd-135">/Clusters</span><span class="sxs-lookup"><span data-stu-id="1dabd-135">/clusters</span></span> | <span data-ttu-id="1dabd-136">rwxr-x – x</span><span class="sxs-lookup"><span data-stu-id="1dabd-136">rwxr-x--x</span></span> |<span data-ttu-id="1dabd-137">Správce</span><span class="sxs-lookup"><span data-stu-id="1dabd-137">admin</span></span> |<span data-ttu-id="1dabd-138">Správce</span><span class="sxs-lookup"><span data-stu-id="1dabd-138">admin</span></span> |<span data-ttu-id="1dabd-139">Instanční objekt</span><span class="sxs-lookup"><span data-stu-id="1dabd-139">Service principal</span></span> |<span data-ttu-id="1dabd-140">– x</span><span class="sxs-lookup"><span data-stu-id="1dabd-140">--x</span></span>  |<span data-ttu-id="1dabd-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="1dabd-141">FINGRP</span></span> |<span data-ttu-id="1dabd-142">r – x</span><span class="sxs-lookup"><span data-stu-id="1dabd-142">r-x</span></span>         |
|<span data-ttu-id="1dabd-143">nebo clustery, finance</span><span class="sxs-lookup"><span data-stu-id="1dabd-143">/clusters/finance</span></span> | <span data-ttu-id="1dabd-144">rwxr-x – t</span><span class="sxs-lookup"><span data-stu-id="1dabd-144">rwxr-x--t</span></span> |<span data-ttu-id="1dabd-145">Správce</span><span class="sxs-lookup"><span data-stu-id="1dabd-145">admin</span></span> |<span data-ttu-id="1dabd-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="1dabd-146">FINGRP</span></span>  |<span data-ttu-id="1dabd-147">Instanční objekt</span><span class="sxs-lookup"><span data-stu-id="1dabd-147">Service principal</span></span> |<span data-ttu-id="1dabd-148">rwx</span><span class="sxs-lookup"><span data-stu-id="1dabd-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="1dabd-149">V tabulce hello</span><span class="sxs-lookup"><span data-stu-id="1dabd-149">In hello table,</span></span>

- <span data-ttu-id="1dabd-150">**správce** hello creator a správce hello účtu Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="1dabd-150">**admin** is hello creator and administrator of hello Data Lake Store account.</span></span>
- <span data-ttu-id="1dabd-151">**Instanční objekt** je hello Azure Active Directory (AAD) instanční objekt spojené s účtem hello.</span><span class="sxs-lookup"><span data-stu-id="1dabd-151">**Service principal** is hello Azure Active Directory (AAD) service principal associated with hello account.</span></span>
- <span data-ttu-id="1dabd-152">**FINGRP** je skupina uživatelů vytvořené v AAD, která obsahuje uživatele z hello finanční organizace.</span><span class="sxs-lookup"><span data-stu-id="1dabd-152">**FINGRP** is a user group created in AAD that contains users from hello Finance organization.</span></span>

<span data-ttu-id="1dabd-153">Pokyny, jak zjistit, toocreate AAD aplikace, (která také vytvoří objekt služby), [vytvořit aplikaci AAD](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="1dabd-153">For instructions on how toocreate an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="1dabd-154">Pokyny, jak toocreate skupinu uživatelů v AAD, najdete v části [Správa skupin v Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="1dabd-154">For instructions on how toocreate a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="1dabd-155">Některé klíčové body tooconsider.</span><span class="sxs-lookup"><span data-stu-id="1dabd-155">Some key points tooconsider.</span></span>

- <span data-ttu-id="1dabd-156">Struktura Hello dvě úrovně složek (**/clusterů nebo finanční nebo**) musí být vytvořen a vytváří Data Lake Store Dobrý den, správce s příslušnými oprávněními **před** účtem úložiště pro clustery hello.</span><span class="sxs-lookup"><span data-stu-id="1dabd-156">hello two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by hello Data Lake Store admin **before** using hello storage account for clusters.</span></span> <span data-ttu-id="1dabd-157">Tato struktura není vytvořena automaticky při vytváření clusterů.</span><span class="sxs-lookup"><span data-stu-id="1dabd-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="1dabd-158">výše uvedený příklad Hello doporučuje nastavení hello vlastnící skupinu **nebo clustery, finance** jako **FINGRP** a jejímu **r-x** přístup tooFINGRP toohello celou složku hierarchie spouštění z kořenového hello.</span><span class="sxs-lookup"><span data-stu-id="1dabd-158">hello example above recommends setting hello owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access tooFINGRP toohello entire folder hierarchy starting from hello root.</span></span> <span data-ttu-id="1dabd-159">Tím se zajistí, že hello členy FINGRP můžete přejít od kořenové struktura složek hello.</span><span class="sxs-lookup"><span data-stu-id="1dabd-159">This ensures that hello members of FINGRP can navigate hello folder structure starting from root.</span></span>
- <span data-ttu-id="1dabd-160">V případě hello při různé objekty služby AAD můžete vytvořit clustery v **nebo clustery, finance**, hello trvalé bit (Pokud nastavíte na hello **finanční** složky) zajišťuje, že složek vytvořených službou jeden Objekt nelze odstranit, hello jiné.</span><span class="sxs-lookup"><span data-stu-id="1dabd-160">In hello case when different AAD Service Principals can create clusters under **/clusters/finance**, hello sticky-bit (when set on hello **finance** folder) ensures that folders created by one Service Principal cannot be deleted by hello other.</span></span>
- <span data-ttu-id="1dabd-161">Jakmile hello struktury složek a oprávnění jsou na místě, procesu vytváření clusteru HDInsight vytvoří místo specifických pro cluster úložiště v rámci **/clusterů nebo finanční nebo**.</span><span class="sxs-lookup"><span data-stu-id="1dabd-161">Once hello folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="1dabd-162">Například může být hello úložiště pro cluster s názvem fincluster01 hello **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="1dabd-162">For example, hello storage for a cluster with hello name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="1dabd-163">Hello vlastnictví a oprávnění ke složkám hello vytvořené clusteru HDInsight se zobrazí v tabulce hello sem.</span><span class="sxs-lookup"><span data-stu-id="1dabd-163">hello ownership and permissions for hello folders created by HDInsight cluster is shown in hello table here.</span></span>

    |<span data-ttu-id="1dabd-164">Složka</span><span class="sxs-lookup"><span data-stu-id="1dabd-164">Folder</span></span>  |<span data-ttu-id="1dabd-165">Oprávnění</span><span class="sxs-lookup"><span data-stu-id="1dabd-165">Permissions</span></span>  |<span data-ttu-id="1dabd-166">Vlastnící uživatel</span><span class="sxs-lookup"><span data-stu-id="1dabd-166">Owning user</span></span>  |<span data-ttu-id="1dabd-167">Vlastnící skupina</span><span class="sxs-lookup"><span data-stu-id="1dabd-167">Owning group</span></span>  | <span data-ttu-id="1dabd-168">Jmenovaný uživatel</span><span class="sxs-lookup"><span data-stu-id="1dabd-168">Named user</span></span> | <span data-ttu-id="1dabd-169">Jmenovaný uživatel oprávnění</span><span class="sxs-lookup"><span data-stu-id="1dabd-169">Named user permissions</span></span> | <span data-ttu-id="1dabd-170">S názvem skupiny</span><span class="sxs-lookup"><span data-stu-id="1dabd-170">Named group</span></span> | <span data-ttu-id="1dabd-171">Oprávnění skupiny s názvem</span><span class="sxs-lookup"><span data-stu-id="1dabd-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="1dabd-172">/Clusters/finanace/fincluster01</span><span class="sxs-lookup"><span data-stu-id="1dabd-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="1dabd-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="1dabd-173">rwxr-x---</span></span>  |<span data-ttu-id="1dabd-174">Instanční objekt</span><span class="sxs-lookup"><span data-stu-id="1dabd-174">Service Principal</span></span> |<span data-ttu-id="1dabd-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="1dabd-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="1dabd-176">Doporučení pro úlohy vstupní a výstupní data</span><span class="sxs-lookup"><span data-stu-id="1dabd-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="1dabd-177">Jsme doporučujeme vstupní data tooa úlohy a hello výstupy z úlohy být uložena ve složce mimo **/clusterů**.</span><span class="sxs-lookup"><span data-stu-id="1dabd-177">We recommend that input data tooa job, and hello outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="1dabd-178">Tím se zajistí i v případě, že složka specifických pro cluster hello je odstraněný tooreclaim některé prostor úložiště, hello úlohy vstupy a výstupy stále k dispozici pro budoucí použití.</span><span class="sxs-lookup"><span data-stu-id="1dabd-178">This ensures that even if hello cluster-specific folder is deleted tooreclaim some storage space,hello job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="1dabd-179">V takovém případě zajistěte, aby hierarchie hello složku pro ukládání hello úlohy vstupy a výstupy povolovalo odpovídající úroveň přístupu pro hello instanční objekt.</span><span class="sxs-lookup"><span data-stu-id="1dabd-179">In such a case, ensure that hello folder hierarchy for storing hello job inputs and outputs allows appropriate level of access for hello Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="1dabd-180">Omezit na clusterech sdílení účet jednoho úložiště</span><span class="sxs-lookup"><span data-stu-id="1dabd-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="1dabd-181">limit Hello hello počtu clusterů, které můžete sdílet jeden účet Data Lake Store, které závisí na pracovním vytížení hello spuštěn na těchto clusterů.</span><span class="sxs-lookup"><span data-stu-id="1dabd-181">hello limit on hello number of clusters that can share a single Data Lake Store account depends on hello workload being run on those clusters.</span></span> <span data-ttu-id="1dabd-182">S příliš mnoha clustery nebo velmi náročných úloh na hello clustery, které sdílejí účet úložiště může způsobit hello úložiště účet vstupní/výstupní tooget omezeny.</span><span class="sxs-lookup"><span data-stu-id="1dabd-182">Having too many clusters or very heavy workloads on hello clusters that share a storage account might cause hello storage account ingress/egress tooget throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="1dabd-183">Podpora pro výchozí seznamy řízení přístupu</span><span class="sxs-lookup"><span data-stu-id="1dabd-183">Support for Default-ACLs</span></span>

<span data-ttu-id="1dabd-184">Při vytváření objektu služby pomocí přístupu s názvem uživatele (jak je uvedené v předchozí tabulce hello), doporučujeme **není** přidání hello s názvem uživatelem s seznamu ACL výchozí.</span><span class="sxs-lookup"><span data-stu-id="1dabd-184">When creating a Service Principal with named-user access (as shown in hello table above), we recommend **not** adding hello named-user with a default-ACL.</span></span> <span data-ttu-id="1dabd-185">Zřizování přístupu s názvem uživatele pomocí výchozí ACL výsledky v přiřazení hello 770 oprávnění pro vlastnícího uživatele, který je vlastníkem skupiny a dalších.</span><span class="sxs-lookup"><span data-stu-id="1dabd-185">Provisioning named-user access using default-ACLs results in hello assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="1dabd-186">Při této výchozí hodnotu 770 rychle nevyžaduje oprávnění z vlastnícího uživatele (7) nebo vlastnící group (7), trvá rychle všechna oprávnění pro ostatní (0).</span><span class="sxs-lookup"><span data-stu-id="1dabd-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="1dabd-187">Výsledkem je známý problém s jeden konkrétní případ použití, je podrobněji v hello [známé problémy a řešení](#known-issues-and-workarounds) části.</span><span class="sxs-lookup"><span data-stu-id="1dabd-187">This results in a known issue with one particular use-case that is discussed in detail in hello [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="1dabd-188">Známé problémy a řešení</span><span class="sxs-lookup"><span data-stu-id="1dabd-188">Known issues and workarounds</span></span>

<span data-ttu-id="1dabd-189">Tato část uvádí hello známé problémy při použití HDInsight s Data Lake Store a jejich řešení.</span><span class="sxs-lookup"><span data-stu-id="1dabd-189">This section lists hello known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="1dabd-190">Veřejně viditelný lokalizované prostředky YARN</span><span class="sxs-lookup"><span data-stu-id="1dabd-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="1dabd-191">Když je vytvořen nový účet Azure Data Lake store, hello kořenový adresář automaticky zřízena too770 sadu bitů oprávnění přístupu ACL.</span><span class="sxs-lookup"><span data-stu-id="1dabd-191">When a new Azure Data Lake store account is created, hello root directory is automatically provisioned with Access-ACL permission bits set too770.</span></span> <span data-ttu-id="1dabd-192">Hello kořenové složky vlastnícího uživatele je sada toohello uživatel, který vytvořil účet hello (Data Lake Store Dobrý den, správce) a skupiny vlastnícím hello je nastavena toohello primární skupiny uživatele hello, který vytvořili účet hello.</span><span class="sxs-lookup"><span data-stu-id="1dabd-192">hello root folder’s owning user is set toohello user that created hello account (hello Data Lake Store admin) and hello owning group is set toohello primary group of hello user that created hello account.</span></span> <span data-ttu-id="1dabd-193">Žádný přístup se poskytuje "ostatní".</span><span class="sxs-lookup"><span data-stu-id="1dabd-193">No access is provided for "others".</span></span>

<span data-ttu-id="1dabd-194">Tato nastavení se ví, že tooaffect jeden konkrétní HDInsight případ použití zaznamenané v [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="1dabd-194">These settings are known tooaffect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="1dabd-195">Odesílání úloh může selhat s podobné toothis k chybě zpráva:</span><span class="sxs-lookup"><span data-stu-id="1dabd-195">Job submissions could fail with an error message similar toothis:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of hello public cache.

<span data-ttu-id="1dabd-196">Jak je uvedeno v hello YARN JIRA spojena dříve, při lokalizace veřejných prostředků hello, že lokalizátora ověří, že všechny hello požadované prostředky jsou skutečně veřejné kontrolou jejich oprávnění v systému vzdáleného souborů hello.</span><span class="sxs-lookup"><span data-stu-id="1dabd-196">As stated in hello YARN JIRA linked earlier, while localizing public resources, hello localizer validates that all hello requested resources are indeed public by checking their permissions on hello remote file-system.</span></span> <span data-ttu-id="1dabd-197">Všechny LocalResource, který se nevejde této podmínky je odmítnutých pro lokalizaci.</span><span class="sxs-lookup"><span data-stu-id="1dabd-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="1dabd-198">Zkontrolujte oprávnění Dobrý den, zahrnuje toohello přístup pro čtení souboru pro "ostatní".</span><span class="sxs-lookup"><span data-stu-id="1dabd-198">hello check for permissions, includes read-access toohello file for "others".</span></span> <span data-ttu-id="1dabd-199">Tento scénář při hostování clusterů HDInsight v Azure Data Lake, protože Azure Data Lake odepře přístup všem příliš nefunguje se na pole "ostatní" na kořenové úrovni složky.</span><span class="sxs-lookup"><span data-stu-id="1dabd-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access too"others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="1dabd-200">Alternativní řešení</span><span class="sxs-lookup"><span data-stu-id="1dabd-200">Workaround</span></span>
<span data-ttu-id="1dabd-201">Sada čtení-oprávnění ke spouštění pro **ostatní** prostřednictvím hello hierarchie, například na  **/** , **/clusterů** a **nebo clustery, finance**  jak je uvedeno v předchozí tabulce hello.</span><span class="sxs-lookup"><span data-stu-id="1dabd-201">Set read-execute permissions for **others** through hello hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in hello table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="1dabd-202">Viz také</span><span class="sxs-lookup"><span data-stu-id="1dabd-202">See also</span></span>

* [<span data-ttu-id="1dabd-203">Vytvoření clusteru HDInsight s Data Lake Store jako úložiště</span><span class="sxs-lookup"><span data-stu-id="1dabd-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


