---
title: "clusteru aaaManage prostředky pro Apache Spark v Azure HDInsight | Microsoft Docs"
description: "Zjistěte, jak toouse spravovat prostředky pro clustery Spark v Azure HDInsight pro dosažení vyššího výkonu."
services: hdinsight
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 9da7d4e3-458e-4296-a628-77b14643f7e4
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/21/2017
ms.author: nitinme
ms.openlocfilehash: e18682a24f77494db884105f9db03c0a350ddad6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="manage-resources-for-apache-spark-cluster-on-azure-hdinsight"></a><span data-ttu-id="6d963-103">Správa prostředků v clusteru Apache Spark v Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="6d963-103">Manage resources for Apache Spark cluster on Azure HDInsight</span></span> 

<span data-ttu-id="6d963-104">V tomto článku se dozvíte, jak rozhraní hello tooaccess jako uživatelské rozhraní Ambari, uživatelském rozhraní YARN a hello Spark historie serveru přidruženého k vašemu clusteru Spark.</span><span class="sxs-lookup"><span data-stu-id="6d963-104">In this article you will learn how tooaccess hello interfaces like Ambari UI, YARN UI, and hello Spark History Server associated with your Spark cluster.</span></span> <span data-ttu-id="6d963-105">Naučíte se také o tom, jak tootune hello konfigurace clusteru pro optimální výkon.</span><span class="sxs-lookup"><span data-stu-id="6d963-105">You will also learn about how tootune hello cluster configuration for optimal performance.</span></span>

<span data-ttu-id="6d963-106">**Požadavky:**</span><span class="sxs-lookup"><span data-stu-id="6d963-106">**Prerequisites:**</span></span>

<span data-ttu-id="6d963-107">Musíte mít následující hello:</span><span class="sxs-lookup"><span data-stu-id="6d963-107">You must have hello following:</span></span>

* <span data-ttu-id="6d963-108">Předplatné Azure.</span><span class="sxs-lookup"><span data-stu-id="6d963-108">An Azure subscription.</span></span> <span data-ttu-id="6d963-109">Viz [Získání bezplatné zkušební verze Azure](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).</span><span class="sxs-lookup"><span data-stu-id="6d963-109">See [Get Azure free trial](https://azure.microsoft.com/documentation/videos/get-azure-free-trial-for-testing-hadoop-in-hdinsight/).</span></span>
* <span data-ttu-id="6d963-110">Cluster Apache Spark v HDInsight.</span><span class="sxs-lookup"><span data-stu-id="6d963-110">An Apache Spark cluster on HDInsight.</span></span> <span data-ttu-id="6d963-111">Pokyny najdete v tématu [clusterů vytvořit Apache Spark v Azure HDInsight](hdinsight-apache-spark-jupyter-spark-sql.md).</span><span class="sxs-lookup"><span data-stu-id="6d963-111">For instructions, see [Create Apache Spark clusters in Azure HDInsight](hdinsight-apache-spark-jupyter-spark-sql.md).</span></span>

## <a name="how-do-i-launch-hello-ambari-web-ui"></a><span data-ttu-id="6d963-112">Jak mohu spustit hello webové uživatelské rozhraní Ambari?</span><span class="sxs-lookup"><span data-stu-id="6d963-112">How do I launch hello Ambari Web UI?</span></span>
1. <span data-ttu-id="6d963-113">Z hello [portálu Azure](https://portal.azure.com/), z úvodního panelu hello klikněte hello dlaždici pro váš cluster Spark (Pokud je připnutý toohello úvodní panel).</span><span class="sxs-lookup"><span data-stu-id="6d963-113">From hello [Azure Portal](https://portal.azure.com/), from hello startboard, click hello tile for your Spark cluster (if you pinned it toohello startboard).</span></span> <span data-ttu-id="6d963-114">Můžete také přejít tooyour clusteru pod **Procházet vše** > **clustery HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="6d963-114">You can also navigate tooyour cluster under **Browse All** > **HDInsight Clusters**.</span></span>
2. <span data-ttu-id="6d963-115">Z okna clusteru Spark hello, klikněte na tlačítko **řídicí panel**.</span><span class="sxs-lookup"><span data-stu-id="6d963-115">From hello Spark cluster blade, click **Dashboard**.</span></span> <span data-ttu-id="6d963-116">Po zobrazení výzvy zadejte přihlašovací údaje správce hello clusteru Spark hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-116">When prompted, enter hello admin credentials for hello Spark cluster.</span></span>

    <span data-ttu-id="6d963-117">![Spusťte Ambari](./media/hdinsight-apache-spark-resource-manager/hdinsight-launch-cluster-dashboard.png "spuštění Správce prostředků")</span><span class="sxs-lookup"><span data-stu-id="6d963-117">![Launch Ambari](./media/hdinsight-apache-spark-resource-manager/hdinsight-launch-cluster-dashboard.png "Start Resource Manager")</span></span>
3. <span data-ttu-id="6d963-118">Mělo by se zobrazit hello webové uživatelské rozhraní Ambari, jak je uvedeno níže.</span><span class="sxs-lookup"><span data-stu-id="6d963-118">This should launch hello Ambari Web UI, as shown below.</span></span>

    <span data-ttu-id="6d963-119">![Webovému uživatelskému rozhraní Ambari](./media/hdinsight-apache-spark-resource-manager/ambari-web-ui.png "webovému uživatelskému rozhraní Ambari")</span><span class="sxs-lookup"><span data-stu-id="6d963-119">![Ambari Web UI](./media/hdinsight-apache-spark-resource-manager/ambari-web-ui.png "Ambari Web UI")</span></span>   

## <a name="how-do-i-launch-hello-spark-history-server"></a><span data-ttu-id="6d963-120">Jak spuštění hello Spark historie serveru?</span><span class="sxs-lookup"><span data-stu-id="6d963-120">How do I launch hello Spark History Server?</span></span>
1. <span data-ttu-id="6d963-121">Z hello [portálu Azure](https://portal.azure.com/), z úvodního panelu hello klikněte hello dlaždici pro váš cluster Spark (Pokud je připnutý toohello úvodní panel).</span><span class="sxs-lookup"><span data-stu-id="6d963-121">From hello [Azure Portal](https://portal.azure.com/), from hello startboard, click hello tile for your Spark cluster (if you pinned it toohello startboard).</span></span>
2. <span data-ttu-id="6d963-122">Z hello clusteru okno, v části **rychlé odkazy**, klikněte na tlačítko **řídicí panel clusteru**.</span><span class="sxs-lookup"><span data-stu-id="6d963-122">From hello cluster blade, under **Quick Links**, click **Cluster Dashboard**.</span></span> <span data-ttu-id="6d963-123">V hello **řídicí panel clusteru** okně klikněte na tlačítko **Spark historie serveru**.</span><span class="sxs-lookup"><span data-stu-id="6d963-123">In hello **Cluster Dashboard** blade, click **Spark History Server**.</span></span>

    <span data-ttu-id="6d963-124">![Spark historie serveru](./media/hdinsight-apache-spark-resource-manager/launch-history-server.png "Spark historie serveru")</span><span class="sxs-lookup"><span data-stu-id="6d963-124">![Spark History Server](./media/hdinsight-apache-spark-resource-manager/launch-history-server.png "Spark History Server")</span></span>

    <span data-ttu-id="6d963-125">Po zobrazení výzvy zadejte přihlašovací údaje správce hello clusteru Spark hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-125">When prompted, enter hello admin credentials for hello Spark cluster.</span></span>

## <a name="how-do-i-launch-hello-yarn-ui"></a><span data-ttu-id="6d963-126">Jak mohu spustit hello uživatelském rozhraní Yarn?</span><span class="sxs-lookup"><span data-stu-id="6d963-126">How do I launch hello Yarn UI?</span></span>
<span data-ttu-id="6d963-127">Můžete použít hello uživatelském rozhraní YARN toomonitor aplikace, které jsou aktuálně spuštěné na clusteru Spark hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-127">You can use hello YARN UI toomonitor applications that are currently running on hello Spark cluster.</span></span>

1. <span data-ttu-id="6d963-128">V okně hello clusteru, klikněte na tlačítko **řídicí panel clusteru**a potom klikněte na **YARN**.</span><span class="sxs-lookup"><span data-stu-id="6d963-128">From hello cluster blade, click **Cluster Dashboard**, and then click **YARN**.</span></span>

    ![Spustit uživatelské rozhraní YARN](./media/hdinsight-apache-spark-resource-manager/launch-yarn-ui.png)

   > [!TIP]
   > <span data-ttu-id="6d963-130">Alternativně můžete také spustit hello uživatelském rozhraní YARN z hello uživatelského rozhraní Ambari.</span><span class="sxs-lookup"><span data-stu-id="6d963-130">Alternatively, you can also launch hello YARN UI from hello Ambari UI.</span></span> <span data-ttu-id="6d963-131">Klikněte na tlačítko toolaunch hello uživatelského rozhraní Ambari, v okně clusteru hello, **řídicí panel clusteru**a potom klikněte na **řídicí panel clusteru HDInsight**.</span><span class="sxs-lookup"><span data-stu-id="6d963-131">toolaunch hello Ambari UI, from hello cluster blade, click **Cluster Dashboard**, and then click **HDInsight Cluster Dashboard**.</span></span> <span data-ttu-id="6d963-132">Z hello uživatelského rozhraní Ambari, klikněte na tlačítko **YARN**, klikněte na tlačítko **rychlé odkazy**, klikněte na tlačítko hello active resource Manageru a pak klikněte na **uživatelského rozhraní ResourceManager**.</span><span class="sxs-lookup"><span data-stu-id="6d963-132">From hello Ambari UI, click **YARN**, click **Quick Links**, click hello active resource manager, and then click **ResourceManager UI**.</span></span>
   >
   >

## <a name="what-is-hello-optimum-cluster-configuration-toorun-spark-applications"></a><span data-ttu-id="6d963-133">Co je hello optimální clusteru konfigurace toorun Spark aplikace?</span><span class="sxs-lookup"><span data-stu-id="6d963-133">What is hello optimum cluster configuration toorun Spark applications?</span></span>
<span data-ttu-id="6d963-134">Hello tři klíčové parametry, které lze použít pro konfigurace Spark v závislosti na požadavcích aplikace jsou `spark.executor.instances`, `spark.executor.cores`, a `spark.executor.memory`.</span><span class="sxs-lookup"><span data-stu-id="6d963-134">hello three key parameters that can be used for Spark configuration depending on application requirements are `spark.executor.instances`, `spark.executor.cores`, and `spark.executor.memory`.</span></span> <span data-ttu-id="6d963-135">Vykonavatele je proces spuštění pro aplikaci Spark.</span><span class="sxs-lookup"><span data-stu-id="6d963-135">An Executor is a process launched for a Spark application.</span></span> <span data-ttu-id="6d963-136">Tato běží na hello pracovního uzlu a je zodpovědná toocarry hello úloh aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-136">It runs on hello worker node and is responsible toocarry out hello tasks for hello application.</span></span> <span data-ttu-id="6d963-137">Hello výchozí počet velikost hello vykonavatele pro každý cluster a vykonavatelů je vypočítáváno na hello počet uzlů pracovního procesu a velikost uzlu hello pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="6d963-137">hello default number of executors and hello executor sizes for each cluster is calculated based on hello number of worker nodes and hello worker node size.</span></span> <span data-ttu-id="6d963-138">Tyto jsou uložené v `spark-defaults.conf` na hlavních uzlech clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-138">These are stored in `spark-defaults.conf` on hello cluster head nodes.</span></span>

<span data-ttu-id="6d963-139">tři parametry konfigurace Hello lze nastavit na úrovni clusteru hello (pro všechny aplikace, které běží na clusteru hello) nebo lze zadat pro každou jednotlivých aplikací.</span><span class="sxs-lookup"><span data-stu-id="6d963-139">hello three configuration parameters can be configured at hello cluster level (for all applications that run on hello cluster) or can be specified for each individual application as well.</span></span>

### <a name="change-hello-parameters-using-ambari-ui"></a><span data-ttu-id="6d963-140">Změňte parametry hello pomocí uživatelského rozhraní Ambari</span><span class="sxs-lookup"><span data-stu-id="6d963-140">Change hello parameters using Ambari UI</span></span>
1. <span data-ttu-id="6d963-141">Z uživatelského rozhraní Ambari hello klikněte na tlačítko **Spark**, klikněte na tlačítko **konfigurací**a potom rozbalte **vlastní spark – výchozí**.</span><span class="sxs-lookup"><span data-stu-id="6d963-141">From hello Ambari UI click **Spark**, click **Configs**, and then expand **Custom spark-defaults**.</span></span>

    ![Nastavení parametrů pomocí nástroje Ambari](./media/hdinsight-apache-spark-resource-manager/set-parameters-using-ambari.png)
2. <span data-ttu-id="6d963-143">Hello výchozí hodnoty jsou dobrou toohave 4 aplikací Spark v hello clusteru současně spustit.</span><span class="sxs-lookup"><span data-stu-id="6d963-143">hello default values are good toohave 4 Spark applications run concurrently on hello cluster.</span></span> <span data-ttu-id="6d963-144">Můžete změny tyto hodnoty z hello uživatelské rozhraní, jak je uvedeno níže.</span><span class="sxs-lookup"><span data-stu-id="6d963-144">You can changes these values from hello user interface, as shown below.</span></span>

    ![Nastavení parametrů pomocí nástroje Ambari](./media/hdinsight-apache-spark-resource-manager/set-executor-parameters.png)
3. <span data-ttu-id="6d963-146">Klikněte na tlačítko **Uložit** změny konfigurace toosave hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-146">Click **Save** toosave hello configuration changes.</span></span> <span data-ttu-id="6d963-147">V horní části hello hello stránky, zobrazí se výzva toorestart hello všechny ovlivněné služby.</span><span class="sxs-lookup"><span data-stu-id="6d963-147">At hello top of hello page, you will be prompted toorestart all hello affected services.</span></span> <span data-ttu-id="6d963-148">Klikněte na tlačítko **restartujte**.</span><span class="sxs-lookup"><span data-stu-id="6d963-148">Click **Restart**.</span></span>

    ![Restartujte služby](./media/hdinsight-apache-spark-resource-manager/restart-services.png)

### <a name="change-hello-parameters-for-an-application-running-in-jupyter-notebook"></a><span data-ttu-id="6d963-150">Změňte parametry hello pro aplikace běžící v poznámkového bloku Jupyter</span><span class="sxs-lookup"><span data-stu-id="6d963-150">Change hello parameters for an application running in Jupyter notebook</span></span>
<span data-ttu-id="6d963-151">Pro aplikace běžící v hello Poznámkový blok Jupyter, můžete použít hello `%%configure` kouzelná změny konfigurace toomake hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-151">For applications running in hello Jupyter notebook, you can use hello `%%configure` magic toomake hello configuration changes.</span></span> <span data-ttu-id="6d963-152">V ideálním případě je nutné provést tyto změny od začátku hello hello aplikace před spuštěním vaše první buňky kódu.</span><span class="sxs-lookup"><span data-stu-id="6d963-152">Ideally, you must make such changes at hello beginning of hello application, before you run your first code cell.</span></span> <span data-ttu-id="6d963-153">To zajistí, že konfigurace hello je použité toohello Livy relace, když se vytvoří.</span><span class="sxs-lookup"><span data-stu-id="6d963-153">This ensures that hello configuration is applied toohello Livy session, when it gets created.</span></span> <span data-ttu-id="6d963-154">Pokud chcete konfiguraci hello toochange v pozdější fázi v hello aplikaci, musíte použít hello `-f` parametr.</span><span class="sxs-lookup"><span data-stu-id="6d963-154">If you want toochange hello configuration at a later stage in hello application, you must use hello `-f` parameter.</span></span> <span data-ttu-id="6d963-155">Ale pomocí tohoto postupu, takže všechny průběhu v hello aplikace se ztratí.</span><span class="sxs-lookup"><span data-stu-id="6d963-155">However, by doing so all progress in hello application will be lost.</span></span>

<span data-ttu-id="6d963-156">Následující fragment Hello ukazuje, jak toochange hello konfigurace pro aplikace běžící v Jupyter.</span><span class="sxs-lookup"><span data-stu-id="6d963-156">hello snippet below shows how toochange hello configuration for an application running in Jupyter.</span></span>

    %%configure
    {"executorMemory": "3072M", "executorCores": 4, "numExecutors":10}

<span data-ttu-id="6d963-157">Parametry konfigurace musí být předán jako řetězec formátu JSON a musí být na další řádek hello po hello magic, jak je znázorněno v příkladu sloupec hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-157">Configuration parameters must be passed in as a JSON string and must be on hello next line after hello magic, as shown in hello example column.</span></span>

### <a name="change-hello-parameters-for-an-application-submitted-using-spark-submit"></a><span data-ttu-id="6d963-158">Změna hello parametry pro aplikaci odesílat pomocí spark odeslání</span><span class="sxs-lookup"><span data-stu-id="6d963-158">Change hello parameters for an application submitted using spark-submit</span></span>
<span data-ttu-id="6d963-159">Následující příkaz je příkladem jak toochange hello parametry konfigurace pro aplikaci batch, které je odeslána pomocí `spark-submit`.</span><span class="sxs-lookup"><span data-stu-id="6d963-159">Following command is an example of how toochange hello configuration parameters for a batch application that is submitted using `spark-submit`.</span></span>

    spark-submit --class <hello application class tooexecute> --executor-memory 3072M --executor-cores 4 –-num-executors 10 <location of application jar file> <application parameters>

### <a name="change-hello-parameters-for-an-application-submitted-using-curl"></a><span data-ttu-id="6d963-160">Změňte parametry hello pro aplikaci odesílat pomocí cURL</span><span class="sxs-lookup"><span data-stu-id="6d963-160">Change hello parameters for an application submitted using cURL</span></span>
<span data-ttu-id="6d963-161">Následující příkaz je příkladem jak toochange hello parametry konfigurace pro aplikaci batch, které je odeslána pomocí pomocí cURL.</span><span class="sxs-lookup"><span data-stu-id="6d963-161">Following command is an example of how toochange hello configuration parameters for a batch application that is submitted using using cURL.</span></span>

    curl -k -v -H 'Content-Type: application/json' -X POST -d '{"file":"<location of application jar file>", "className":"<hello application class tooexecute>", "args":[<application parameters>], "numExecutors":10, "executorMemory":"2G", "executorCores":5' localhost:8998/batches

### <a name="how-do-i-change-these-parameters-on-a-spark-thrift-server"></a><span data-ttu-id="6d963-162">Změna těchto parametrů na serveru Spark Thrift</span><span class="sxs-lookup"><span data-stu-id="6d963-162">How do I change these parameters on a Spark Thrift Server?</span></span>
<span data-ttu-id="6d963-163">Spark Thrift Server poskytuje clusteru Spark tooa přístupu JDBC nebo ODBC a je použité tooservice dotazů Spark SQL.</span><span class="sxs-lookup"><span data-stu-id="6d963-163">Spark Thrift Server provides JDBC/ODBC access tooa Spark cluster and is used tooservice Spark SQL queries.</span></span> <span data-ttu-id="6d963-164">Nástroje, jako Power BI, Tableau atd.</span><span class="sxs-lookup"><span data-stu-id="6d963-164">Tools like Power BI, Tableau etc.</span></span> <span data-ttu-id="6d963-165">použijte protokol toocommunicate ODBC s dotazů Spark SQL serveru Spark Thrift tooexecute jako aplikace Spark.</span><span class="sxs-lookup"><span data-stu-id="6d963-165">use ODBC protocol toocommunicate with Spark Thrift Server tooexecute Spark SQL queries as a Spark Application.</span></span> <span data-ttu-id="6d963-166">Při vytvoření clusteru Spark, dvě instance hello spuštění serveru Spark Thrift, jednu na každý hlavního uzlu.</span><span class="sxs-lookup"><span data-stu-id="6d963-166">When a Spark cluster is created, two instances of hello Spark Thrift Server are started, one on each head node.</span></span> <span data-ttu-id="6d963-167">Každý Server Spark Thrift se zobrazí jako aplikace Spark v uživatelském rozhraní YARN hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-167">Each Spark Thrift Server is visible as a Spark application in hello YARN UI.</span></span>

<span data-ttu-id="6d963-168">Použití serveru Spark Thrift Spark přidělení dynamické vykonavatele a proto hello `spark.executor.instances` nepoužívá.</span><span class="sxs-lookup"><span data-stu-id="6d963-168">Spark Thrift Server uses Spark dynamic executor allocation and hence hello `spark.executor.instances` is not used.</span></span> <span data-ttu-id="6d963-169">Místo toho používá serveru Spark Thrift `spark.dynamicAllocation.minExecutors` a `spark.dynamicAllocation.maxExecutors` toospecify hello vykonavatele count.</span><span class="sxs-lookup"><span data-stu-id="6d963-169">Instead, Spark Thrift Server uses `spark.dynamicAllocation.minExecutors` and `spark.dynamicAllocation.maxExecutors` toospecify hello executor count.</span></span> <span data-ttu-id="6d963-170">Hello parametry konfigurace `spark.executor.cores` a `spark.executor.memory` je použít toomodify hello vykonavatele velikost.</span><span class="sxs-lookup"><span data-stu-id="6d963-170">hello configuration parameters `spark.executor.cores` and `spark.executor.memory` is used toomodify hello executor size.</span></span> <span data-ttu-id="6d963-171">Tyto parametry můžete změnit, jak je uvedeno níže.</span><span class="sxs-lookup"><span data-stu-id="6d963-171">You can change these parameters as shown below.</span></span>

* <span data-ttu-id="6d963-172">Rozbalte hello **Advanced spark thrift-sparkconf** kategorie tooupdate hello parametry `spark.dynamicAllocation.minExecutors`, `spark.dynamicAllocation.maxExecutors`, a `spark.executor.memory`.</span><span class="sxs-lookup"><span data-stu-id="6d963-172">Expand hello **Advanced spark-thrift-sparkconf** category tooupdate hello parameters `spark.dynamicAllocation.minExecutors`, `spark.dynamicAllocation.maxExecutors`, and `spark.executor.memory`.</span></span>

    ![Konfigurace serveru Spark thrift](./media/hdinsight-apache-spark-resource-manager/spark-thrift-server-1.png)    
* <span data-ttu-id="6d963-174">Rozbalte hello **vlastní spark-thrift-sparkconf** kategorie tooupdate hello parametr `spark.executor.cores`.</span><span class="sxs-lookup"><span data-stu-id="6d963-174">Expand hello **Custom spark-thrift-sparkconf** category tooupdate hello parameter `spark.executor.cores`.</span></span>

    ![Konfigurace serveru Spark thrift](./media/hdinsight-apache-spark-resource-manager/spark-thrift-server-2.png)

### <a name="how-do-i-change-hello-driver-memory-of-hello-spark-thrift-server"></a><span data-ttu-id="6d963-176">Změna hello ovladač paměti hello serveru Spark Thrift</span><span class="sxs-lookup"><span data-stu-id="6d963-176">How do I change hello driver memory of hello Spark Thrift Server?</span></span>
<span data-ttu-id="6d963-177">Serveru Spark Thrift ovladač paměť je % nakonfigurované too25 velikosti paměti RAM hlavního uzlu hello, pokud celková velikost paměti RAM hello hlavního uzlu hello vyšší než 14GB.</span><span class="sxs-lookup"><span data-stu-id="6d963-177">Spark Thrift Server driver memory is configured too25% of hello head node RAM size, provided hello total RAM size of hello head node is greater than 14GB.</span></span> <span data-ttu-id="6d963-178">Můžete hello konfigurace uživatelského rozhraní Ambari toochange hello ovladač paměti, jak je uvedeno níže.</span><span class="sxs-lookup"><span data-stu-id="6d963-178">You can use hello Ambari UI toochange hello driver memory configuration, as shown below.</span></span>

* <span data-ttu-id="6d963-179">Z hello uživatelského rozhraní Ambari klikněte na tlačítko **Spark**, klikněte na tlačítko **konfigurací**, rozbalte položku **Advanced spark env**a pak zadejte hodnotu hello **spark_thrift_cmd_opts**.</span><span class="sxs-lookup"><span data-stu-id="6d963-179">From hello Ambari UI click **Spark**, click **Configs**, expand **Advanced spark-env**, and then provide hello value for **spark_thrift_cmd_opts**.</span></span>

    ![Konfigurace serveru Spark thrift paměti RAM](./media/hdinsight-apache-spark-resource-manager/spark-thrift-server-ram.png)

## <a name="i-do-not-use-bi-with-spark-cluster-how-do-i-take-hello-resources-back"></a><span data-ttu-id="6d963-181">S clusterem Spark nepoužívám BI.</span><span class="sxs-lookup"><span data-stu-id="6d963-181">I do not use BI with Spark cluster.</span></span> <span data-ttu-id="6d963-182">Jak můžu zpět trvat hello prostředky?</span><span class="sxs-lookup"><span data-stu-id="6d963-182">How do I take hello resources back?</span></span>
<span data-ttu-id="6d963-183">Vzhledem k tomu, že používáme dynamické přidělování Spark, hello jenom prostředky, které se spotřebovávají thrift serveru jsou hello prostředky pro dva vzory aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-183">Since we use Spark dynamic allocation, hello only resources that are consumed by thrift server are hello resources for hello two application masters.</span></span> <span data-ttu-id="6d963-184">tooreclaim tyto prostředky, je nutné zastavit hello Thrift Server běžící v clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-184">tooreclaim these resources you must stop hello Thrift Server services running on hello cluster.</span></span>

1. <span data-ttu-id="6d963-185">Z hello uživatelského rozhraní Ambari, hello levém podokně klikněte na tlačítko **Spark**.</span><span class="sxs-lookup"><span data-stu-id="6d963-185">From hello Ambari UI, from hello left pane, click **Spark**.</span></span>
2. <span data-ttu-id="6d963-186">Na další stránku hello, klikněte na **Spark Thrift servery**.</span><span class="sxs-lookup"><span data-stu-id="6d963-186">In hello next page, click **Spark Thrift Servers**.</span></span>

    ![Restartujte thrift server](./media/hdinsight-apache-spark-resource-manager/restart-thrift-server-1.png)
3. <span data-ttu-id="6d963-188">Měli byste vidět dvě headnodes hello, na které hello Spark Thrift serveru běží.</span><span class="sxs-lookup"><span data-stu-id="6d963-188">You should see hello two headnodes on which hello Spark Thrift Server is running.</span></span> <span data-ttu-id="6d963-189">Klikněte na jednu z hello headnodes.</span><span class="sxs-lookup"><span data-stu-id="6d963-189">Click one of hello headnodes.</span></span>

    ![Restartujte thrift server](./media/hdinsight-apache-spark-resource-manager/restart-thrift-server-2.png)
4. <span data-ttu-id="6d963-191">Další stránku Hello uvádí všechny hello služeb spuštěných na tomto headnode.</span><span class="sxs-lookup"><span data-stu-id="6d963-191">hello next page lists all hello services running on that headnode.</span></span> <span data-ttu-id="6d963-192">Hello seznamu klikněte na tlačítko Další tooSpark rozevírací tlačítko hello Thrift serveru a pak klikněte na tlačítko **Zastavit**.</span><span class="sxs-lookup"><span data-stu-id="6d963-192">From hello list click hello drop-down button next tooSpark Thrift Server, and then click **Stop**.</span></span>

    ![Restartujte thrift server](./media/hdinsight-apache-spark-resource-manager/restart-thrift-server-3.png)
5. <span data-ttu-id="6d963-194">Opakujte tyto kroky na hello také jiné headnode.</span><span class="sxs-lookup"><span data-stu-id="6d963-194">Repeat these steps on hello other headnode as well.</span></span>

## <a name="my-jupyter-notebooks-are-not-running-as-expected-how-can-i-restart-hello-service"></a><span data-ttu-id="6d963-195">Moje poznámkové bloky Jupyter neběží podle očekávání.</span><span class="sxs-lookup"><span data-stu-id="6d963-195">My Jupyter notebooks are not running as expected.</span></span> <span data-ttu-id="6d963-196">Jak můžete hello službu restartovat?</span><span class="sxs-lookup"><span data-stu-id="6d963-196">How can I restart hello service?</span></span>
<span data-ttu-id="6d963-197">Spusťte hello webové uživatelské rozhraní Ambari, jak je uvedeno výše.</span><span class="sxs-lookup"><span data-stu-id="6d963-197">Launch hello Ambari Web UI as shown above.</span></span> <span data-ttu-id="6d963-198">V levém navigačním podokně hello, klikněte na **Jupyter**, klikněte na tlačítko **služby akce**a potom klikněte na **restartujte všechny**.</span><span class="sxs-lookup"><span data-stu-id="6d963-198">From hello left navigation pane, click **Jupyter**, click **Service Actions**, and then click **Restart All**.</span></span> <span data-ttu-id="6d963-199">Tím se spustí služba Jupyter hello na všechny headnodes hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-199">This will start hello Jupyter service on all hello headnodes.</span></span>

    ![Restart Jupyter](./media/hdinsight-apache-spark-resource-manager/restart-jupyter.png "Restart Jupyter")

## <a name="how-do-i-know-if-i-am-running-out-of-resources"></a><span data-ttu-id="6d963-200">Jak poznám, že pokud používám mimo prostředky?</span><span class="sxs-lookup"><span data-stu-id="6d963-200">How do I know if I am running out of resources?</span></span>
<span data-ttu-id="6d963-201">Spusťte hello uživatelském rozhraní Yarn, jak je uvedeno výše.</span><span class="sxs-lookup"><span data-stu-id="6d963-201">Launch hello Yarn UI as shown above.</span></span> <span data-ttu-id="6d963-202">V tabulce clusteru metriky nad úvodní obrazovka, zkontrolujte hodnoty **paměti používá** a **celkové paměti** sloupce.</span><span class="sxs-lookup"><span data-stu-id="6d963-202">In Cluster Metrics table on top of hello screen, check values of **Memory Used** and **Memory Total** columns.</span></span> <span data-ttu-id="6d963-203">Pokud jsou hodnoty hello 2 velmi zavřít, nemusí být další aplikace dostatek prostředků toostart hello.</span><span class="sxs-lookup"><span data-stu-id="6d963-203">If hello 2 values are very close, there might not be enough resources toostart hello next application.</span></span> <span data-ttu-id="6d963-204">Hello totéž platí i toohello **VCores používá** a **VCores celkem** sloupce.</span><span class="sxs-lookup"><span data-stu-id="6d963-204">hello same applies toohello **VCores Used** and **VCores Total** columns.</span></span> <span data-ttu-id="6d963-205">Také v hlavní zobrazení hello, pokud je aplikace zůstanou ve **platných** stavu a není přechod do **systémem** ani **se nezdařilo** stavu, může se také jednat jako ukazatel toho to není získávání toostart dostatek prostředků.</span><span class="sxs-lookup"><span data-stu-id="6d963-205">Also, in hello main view, if there is an application stayed in **ACCEPTED** state and not transitioning into **RUNNING** nor **FAILED** state, this could also be an indication that it is not getting enough resources toostart.</span></span>

    ![Resource Limit](./media/hdinsight-apache-spark-resource-manager/resource-limit.png "Resource Limit")

## <a name="how-do-i-kill-a-running-application-toofree-up-resource"></a><span data-ttu-id="6d963-206">Jak ukončení spuštění aplikace toofree až prostředků?</span><span class="sxs-lookup"><span data-stu-id="6d963-206">How do I kill a running application toofree up resource?</span></span>
1. <span data-ttu-id="6d963-207">V uživatelském rozhraní Yarn hello z hello levém panelu, klikněte na **systémem**.</span><span class="sxs-lookup"><span data-stu-id="6d963-207">In hello Yarn UI, from hello left panel, click **Running**.</span></span> <span data-ttu-id="6d963-208">Hello seznamu spuštěných aplikací, určit toobe aplikace hello ukončeny a klikněte na hello **ID**.</span><span class="sxs-lookup"><span data-stu-id="6d963-208">From hello list of running applications, determine hello application toobe killed and click on hello **ID**.</span></span>

    <span data-ttu-id="6d963-209">![Příkaz kill App1](./media/hdinsight-apache-spark-resource-manager/kill-app1.png "Kill App1")</span><span class="sxs-lookup"><span data-stu-id="6d963-209">![Kill App1](./media/hdinsight-apache-spark-resource-manager/kill-app1.png "Kill App1")</span></span>

2. <span data-ttu-id="6d963-210">Klikněte na tlačítko **ukončení aplikace** na hello pravém horním rohu klikněte **OK**.</span><span class="sxs-lookup"><span data-stu-id="6d963-210">Click **Kill Application** on hello top right corner, then click **OK**.</span></span>

    <span data-ttu-id="6d963-211">![Příkaz kill počítači App2](./media/hdinsight-apache-spark-resource-manager/kill-app2.png "Kill počítači App2")</span><span class="sxs-lookup"><span data-stu-id="6d963-211">![Kill App2](./media/hdinsight-apache-spark-resource-manager/kill-app2.png "Kill App2")</span></span>

## <a name="see-also"></a><span data-ttu-id="6d963-212">Viz také</span><span class="sxs-lookup"><span data-stu-id="6d963-212">See also</span></span>
* [<span data-ttu-id="6d963-213">Sledování a ladění úloh spuštěných v clusteru Apache Spark v HDInsight</span><span class="sxs-lookup"><span data-stu-id="6d963-213">Track and debug jobs running on an Apache Spark cluster in HDInsight</span></span>](hdinsight-apache-spark-job-debugging.md)

### <a name="for-data-analysts"></a><span data-ttu-id="6d963-214">Pro analytiky dat</span><span class="sxs-lookup"><span data-stu-id="6d963-214">For data analysts</span></span>

* [<span data-ttu-id="6d963-215">Spark s Machine Learning: Používejte Spark v HDInsight pro analýzu teploty v budově pomocí dat HVAC</span><span class="sxs-lookup"><span data-stu-id="6d963-215">Spark with Machine Learning: Use Spark in HDInsight for analyzing building temperature using HVAC data</span></span>](hdinsight-apache-spark-ipython-notebook-machine-learning.md)
* [<span data-ttu-id="6d963-216">Spark s Machine Learning: používejte Spark v výsledků kontroly potravin toopredict HDInsight</span><span class="sxs-lookup"><span data-stu-id="6d963-216">Spark with Machine Learning: Use Spark in HDInsight toopredict food inspection results</span></span>](hdinsight-apache-spark-machine-learning-mllib-ipython.md)
* [<span data-ttu-id="6d963-217">Analýza protokolu webu pomocí Sparku v HDInsight</span><span class="sxs-lookup"><span data-stu-id="6d963-217">Website log analysis using Spark in HDInsight</span></span>](hdinsight-apache-spark-custom-library-website-log-analysis.md)
* [<span data-ttu-id="6d963-218">Analýza dat telemetrie Application Insights pomocí Sparku v HDInsight</span><span class="sxs-lookup"><span data-stu-id="6d963-218">Application Insight telemetry data analysis using Spark in HDInsight</span></span>](hdinsight-spark-analyze-application-insight-logs.md)
* [<span data-ttu-id="6d963-219">Použití Caffe v Azure HDInsight Spark pro distribuované hloubkové learning</span><span class="sxs-lookup"><span data-stu-id="6d963-219">Use Caffe on Azure HDInsight Spark for distributed deep learning</span></span>](hdinsight-deep-learning-caffe-spark.md)

### <a name="for-spark-developers"></a><span data-ttu-id="6d963-220">Pro vývojáře, Spark</span><span class="sxs-lookup"><span data-stu-id="6d963-220">For Spark developers</span></span>

* [<span data-ttu-id="6d963-221">Vytvoření samostatné aplikace pomocí Scala</span><span class="sxs-lookup"><span data-stu-id="6d963-221">Create a standalone application using Scala</span></span>](hdinsight-apache-spark-create-standalone-application.md)
* [<span data-ttu-id="6d963-222">Vzdálené spouštění úloh na clusteru Sparku pomocí Livy</span><span class="sxs-lookup"><span data-stu-id="6d963-222">Run jobs remotely on a Spark cluster using Livy</span></span>](hdinsight-apache-spark-livy-rest-interface.md)
* [<span data-ttu-id="6d963-223">Pomocí modulu plug-in nástroje HDInsight pro IntelliJ IDEA toocreate a odesílání aplikací Spark Scala</span><span class="sxs-lookup"><span data-stu-id="6d963-223">Use HDInsight Tools Plugin for IntelliJ IDEA toocreate and submit Spark Scala applications</span></span>](hdinsight-apache-spark-intellij-tool-plugin.md)
* [<span data-ttu-id="6d963-224">Datové proudy Spark: Používejte Spark v HDInsight pro sestavení aplikací datových proudů v reálném čase</span><span class="sxs-lookup"><span data-stu-id="6d963-224">Spark Streaming: Use Spark in HDInsight for building real-time streaming applications</span></span>](hdinsight-apache-spark-eventhub-streaming.md)
* [<span data-ttu-id="6d963-225">Vzdáleně pomocí modulu plug-in nástroje HDInsight pro IntelliJ IDEA toodebug Spark aplikace</span><span class="sxs-lookup"><span data-stu-id="6d963-225">Use HDInsight Tools Plugin for IntelliJ IDEA toodebug Spark applications remotely</span></span>](hdinsight-apache-spark-intellij-tool-plugin-debug-jobs-remotely.md)
* [<span data-ttu-id="6d963-226">Použití poznámkových bloků Zeppelin s clusterem Sparku v HDInsight</span><span class="sxs-lookup"><span data-stu-id="6d963-226">Use Zeppelin notebooks with a Spark cluster on HDInsight</span></span>](hdinsight-apache-spark-zeppelin-notebook.md)
* [<span data-ttu-id="6d963-227">Jádra dostupná pro poznámkový blok Jupyter v clusteru Sparku pro HDInsight</span><span class="sxs-lookup"><span data-stu-id="6d963-227">Kernels available for Jupyter notebook in Spark cluster for HDInsight</span></span>](hdinsight-apache-spark-jupyter-notebook-kernels.md)
* [<span data-ttu-id="6d963-228">Použití externích balíčků s poznámkovými bloky Jupyter</span><span class="sxs-lookup"><span data-stu-id="6d963-228">Use external packages with Jupyter notebooks</span></span>](hdinsight-apache-spark-jupyter-notebook-use-external-packages.md)
* [<span data-ttu-id="6d963-229">Do počítače nainstalovat Jupyter a připojte tooan clusteru HDInsight Spark</span><span class="sxs-lookup"><span data-stu-id="6d963-229">Install Jupyter on your computer and connect tooan HDInsight Spark cluster</span></span>](hdinsight-apache-spark-jupyter-notebook-install-locally.md)
