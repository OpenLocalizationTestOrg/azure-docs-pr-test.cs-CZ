---
title: "aaaAccess aplikací Hadoop YARN protokoly prostřednictvím kódu programu - Azure | Microsoft Docs"
description: "Přístup k aplikaci prostřednictvím kódu programu přihlásí clusteru Hadoop v HDInsight."
services: hdinsight
documentationcenter: 
tags: azure-portal
author: mumian
manager: jhubbard
editor: cgronlun
ms.assetid: 0198d6c9-7767-4682-bd34-42838cf48fc5
ms.service: hdinsight
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/25/2017
ms.author: jgao
ROBOTS: NOINDEX
ms.openlocfilehash: 064efee1ea6a864c29ab897692ead0152c926c0b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="access-yarn-application-logs-on-windows-based-hdinsight"></a><span data-ttu-id="06726-103">Protokoly YARN aplikace přístup na HDInsight se systémem Windows</span><span class="sxs-lookup"><span data-stu-id="06726-103">Access YARN application logs on Windows-based HDInsight</span></span>
<span data-ttu-id="06726-104">Toto téma vysvětluje, jak tooaccess hello protokoly YARN (ještě jiný prostředek Vyjednavač) aplikace, které dokončily na cluster Hadoop založených na systému Windows v Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="06726-104">This topic explains how tooaccess hello logs for YARN (Yet Another Resource Negotiator) applications that have finished on a Windows-based Hadoop cluster in Azure HDInsight</span></span>

> [!IMPORTANT]
> <span data-ttu-id="06726-105">Hello informace v tomto dokumentu se vztahuje pouze na základě tooWindows clusterů HDInsight.</span><span class="sxs-lookup"><span data-stu-id="06726-105">hello information in this document applies only tooWindows-based HDInsight clusters.</span></span> <span data-ttu-id="06726-106">Linux je hello pouze operační systém používaný v HDInsight verze 3.4 nebo novější.</span><span class="sxs-lookup"><span data-stu-id="06726-106">Linux is hello only operating system used on HDInsight version 3.4 or greater.</span></span> <span data-ttu-id="06726-107">Další informace najdete v tématu [Vyřazení prostředí HDInsight ve Windows](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span><span class="sxs-lookup"><span data-stu-id="06726-107">For more information, see [HDInsight retirement on Windows](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span></span> <span data-ttu-id="06726-108">Informace o přístupu k YARN přihlásí clustery HDInsight se systémem Linux, najdete v části [YARN přístupu aplikace přihlásí systémem Linux Hadoop v HDInsight](hdinsight-hadoop-access-yarn-app-logs-linux.md)</span><span class="sxs-lookup"><span data-stu-id="06726-108">For information on accessing YARN logs on Linux-based HDInsight clusters, see [Access YARN application logs on Linux-based Hadoop on HDInsight](hdinsight-hadoop-access-yarn-app-logs-linux.md)</span></span>
>


### <a name="prerequisites"></a><span data-ttu-id="06726-109">Požadavky</span><span class="sxs-lookup"><span data-stu-id="06726-109">Prerequisites</span></span>
* <span data-ttu-id="06726-110">Cluster HDInsight se systémem Windows.</span><span class="sxs-lookup"><span data-stu-id="06726-110">A Windows-based HDInsight cluster.</span></span>  <span data-ttu-id="06726-111">V tématu [založené na Windows vytvoření Hadoop clusterů v HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="06726-111">See [Create Windows-based Hadoop clusters in HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span></span>

## <a name="yarn-timeline-server"></a><span data-ttu-id="06726-112">YARN časová osa serveru</span><span class="sxs-lookup"><span data-stu-id="06726-112">YARN Timeline Server</span></span>
<span data-ttu-id="06726-113">Hello <a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">YARN časová osa serveru</a> poskytuje obecné informace o dokončené aplikace také jako framework informace specifické pro aplikaci prostřednictvím dvou různých rozhraní.</span><span class="sxs-lookup"><span data-stu-id="06726-113">hello <a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">YARN Timeline Server</a> provides generic information on completed applications as well as framework-specific application information through two different interfaces.</span></span> <span data-ttu-id="06726-114">Zejména:</span><span class="sxs-lookup"><span data-stu-id="06726-114">Specifically:</span></span>

* <span data-ttu-id="06726-115">Ukládání a načítání informací o obecná aplikace v clusterech prostředí HDInsight byl povolený s verzí 3.1.1.374 nebo vyšší.</span><span class="sxs-lookup"><span data-stu-id="06726-115">Storage and retrieval of generic application information on HDInsight clusters has been enabled with version 3.1.1.374 or higher.</span></span>
* <span data-ttu-id="06726-116">komponenta informace o konkrétní rozhraní aplikace Hello hello časová osa Server není aktuálně k dispozici v clusterech prostředí HDInsight.</span><span class="sxs-lookup"><span data-stu-id="06726-116">hello framework-specific application information component of hello Timeline Server is not currently available on HDInsight clusters.</span></span>

<span data-ttu-id="06726-117">Obecné informace o aplikacích v zahrnuje hello následující řazení dat:</span><span class="sxs-lookup"><span data-stu-id="06726-117">Generic information on applications includes hello following sorts of data:</span></span>

* <span data-ttu-id="06726-118">ID aplikace Hello, jedinečný identifikátor aplikace</span><span class="sxs-lookup"><span data-stu-id="06726-118">hello application ID, a unique identifier of an application</span></span>
* <span data-ttu-id="06726-119">Hello uživatele, který spustil aplikace hello</span><span class="sxs-lookup"><span data-stu-id="06726-119">hello user who started hello application</span></span>
* <span data-ttu-id="06726-120">Informace o pokusy provedené toocomplete hello aplikace</span><span class="sxs-lookup"><span data-stu-id="06726-120">Information on attempts made toocomplete hello application</span></span>
* <span data-ttu-id="06726-121">kontejnery Hello používá jakýkoliv pokus o dané aplikaci</span><span class="sxs-lookup"><span data-stu-id="06726-121">hello containers used by any given application attempt</span></span>

<span data-ttu-id="06726-122">V clusterech služby HDInsight se uloží tyto informace pomocí Azure Resource Manager tooa historie úložiště v hello výchozí kontejner výchozí účet úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06726-122">On your HDInsight clusters, this information will be stored by Azure Resource Manager tooa history store in hello default container of your default Azure Storage account.</span></span> <span data-ttu-id="06726-123">Tato obecná data na dokončené aplikace se dají získat pomocí rozhraní REST API:</span><span class="sxs-lookup"><span data-stu-id="06726-123">This generic data on completed applications can be retrieved through a REST API:</span></span>

    GET on https://<cluster-dns-name>.azurehdinsight.net/ws/v1/applicationhistory/apps


## <a name="yarn-applications-and-logs"></a><span data-ttu-id="06726-124">Protokoly YARN aplikací a</span><span class="sxs-lookup"><span data-stu-id="06726-124">YARN applications and logs</span></span>
<span data-ttu-id="06726-125">YARN podporuje více programovacích modelů (MapReduce právě jeden z nich) tím, že odpojí Správa prostředků z plánování/monitorování aplikací.</span><span class="sxs-lookup"><span data-stu-id="06726-125">YARN supports multiple programming models (MapReduce being one of them) by decoupling resource management from application scheduling/monitoring.</span></span> <span data-ttu-id="06726-126">To se provádí prostřednictvím globální konfiguraci *ResourceManager* (RM) uzlu na pracovním *NodeManagers* (NMs) a každou aplikaci *ApplicationMasters* (AMs).</span><span class="sxs-lookup"><span data-stu-id="06726-126">This is done through a global *ResourceManager* (RM), per-worker-node *NodeManagers* (NMs), and per-application *ApplicationMasters* (AMs).</span></span> <span data-ttu-id="06726-127">Hello každou aplikaci AM vyjedná prostředků (procesoru, paměti, disku, sítě) pro spuštění aplikace s hello RM.</span><span class="sxs-lookup"><span data-stu-id="06726-127">hello per-application AM negotiates resources (CPU, memory, disk, network) for running your application with hello RM.</span></span> <span data-ttu-id="06726-128">Hello RM funguje s NMs toogrant těchto prostředků, které jsou poskytovány jako *kontejnery*.</span><span class="sxs-lookup"><span data-stu-id="06726-128">hello RM works with NMs toogrant these resources, which are granted as *containers*.</span></span> <span data-ttu-id="06726-129">Hello AM zodpovídá za trasování hello průběh tooit hello kontejnery, které jsou přiřazené podle hello RM.</span><span class="sxs-lookup"><span data-stu-id="06726-129">hello AM is responsible for tracking hello progress of hello containers assigned tooit by hello RM.</span></span> <span data-ttu-id="06726-130">Aplikace může vyžadovat mnoho kontejnerů v závislosti na povaze hello aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="06726-130">An application may require many containers depending on hello nature of hello application.</span></span>

<span data-ttu-id="06726-131">Kromě toho každá aplikace může obsahovat více *pokusy o aplikace* v pořadí toofinish v přítomnosti hello havárií nebo z důvodu ztráty toohello komunikace mezi AM a RM.</span><span class="sxs-lookup"><span data-stu-id="06726-131">Furthermore, each application may consist of multiple *application attempts* in order toofinish in hello presence of crashes or due toohello loss of communication between an AM and an RM.</span></span> <span data-ttu-id="06726-132">Proto jsou kontejnery udělena tooa konkrétní pokus aplikace.</span><span class="sxs-lookup"><span data-stu-id="06726-132">Hence, containers are granted tooa specific attempt of an application.</span></span> <span data-ttu-id="06726-133">V tom smyslu kontejner zajišťuje hello kontext pro základní jednotkou úlohy prováděné YARN aplikace a všechny práci, kterou se provádí v kontextu hello kontejneru se provádí na hello jednoho pracovního uzlu, na které hello byl přidělen kontejneru.</span><span class="sxs-lookup"><span data-stu-id="06726-133">In a sense, a container provides hello context for basic unit of work performed by a YARN application, and all work that is done within hello context of a container is performed on hello single worker node on which hello container was allocated.</span></span> <span data-ttu-id="06726-134">V tématu [YARN koncepty] [ YARN-concepts] pro odkaz na další.</span><span class="sxs-lookup"><span data-stu-id="06726-134">See [YARN Concepts][YARN-concepts] for further reference.</span></span>

<span data-ttu-id="06726-135">Logs (protokoly aplikací a hello přidružené kontejneru) jsou kritické v ladění problematické aplikací Hadoop.</span><span class="sxs-lookup"><span data-stu-id="06726-135">Application logs (and hello associated container logs) are critical in debugging problematic Hadoop applications.</span></span> <span data-ttu-id="06726-136">YARN poskytuje dobrý rozhraní pro shromažďování, agregace a ukládání protokoly aplikací s hello [protokolu agregace] [ log-aggregation] funkce.</span><span class="sxs-lookup"><span data-stu-id="06726-136">YARN provides a nice framework for collecting, aggregating, and storing application logs with hello [Log Aggregation][log-aggregation] feature.</span></span> <span data-ttu-id="06726-137">Hello protokolu agregace díky funkci přístupem protokoly aplikací determinističtější, jak slučuje protokolů v rámci všech kontejnerů v pracovním uzlu a ukládá je jako jeden agregované soubor protokolu pro pracovního uzlu na výchozí systém souborů hello po dokončení aplikace.</span><span class="sxs-lookup"><span data-stu-id="06726-137">hello Log Aggregation feature makes accessing application logs more deterministic, as it aggregates logs across all containers on a worker node and stores them as one aggregated log file per worker node on hello default file system after an application finishes.</span></span> <span data-ttu-id="06726-138">Vaše aplikace může používat stovkami nebo tisíci kontejnery, ale protokoly pro všechny kontejnery spustit na jednom pracovního uzlu bude vždy agregované tooa jedním souborem, výsledkem je jeden soubor protokolu pro pracovního uzlu používá vaše aplikace.</span><span class="sxs-lookup"><span data-stu-id="06726-138">Your application may use hundreds or thousands of containers, but logs for all containers run on a single worker node will always be aggregated tooa single file, resulting in one log file per worker node used by your application.</span></span> <span data-ttu-id="06726-139">Agregace protokolu je ve výchozím nastavení v clusterech HDInsight povolené (verze 3.0 a novější), a agregované protokoly lze najít v kontejneru výchozí hello clusteru na hello následující umístění:</span><span class="sxs-lookup"><span data-stu-id="06726-139">Log Aggregation is enabled by default on HDInsight clusters (version 3.0 and above), and aggregated logs can be found in hello default container of your cluster at hello following location:</span></span>

    wasb:///app-logs/<user>/logs/<applicationId>

<span data-ttu-id="06726-140">V tomto umístění *uživatele* je název hello hello uživatele, který spustil hello aplikace a *applicationId* je jedinečný identifikátor hello aplikace přiřazené službou hello YARN RM.</span><span class="sxs-lookup"><span data-stu-id="06726-140">In that location, *user* is hello name of hello user who started hello application, and *applicationId* is hello unique identifier of an application as assigned by hello YARN RM.</span></span>

<span data-ttu-id="06726-141">Hello agregované protokoly nejsou přímo čitelný, jako jsou zapsány [TFile][T-file], [binární formát] [ binary-format] indexovat pomocí kontejneru.</span><span class="sxs-lookup"><span data-stu-id="06726-141">hello aggregated logs are not directly readable, as they are written in a [TFile][T-file], [binary format][binary-format] indexed by container.</span></span> <span data-ttu-id="06726-142">YARN poskytuje rozhraní příkazového řádku nástroje toodump tyto protokoly jako prostý text, pro aplikace nebo kontejnerů, které vás zajímají.</span><span class="sxs-lookup"><span data-stu-id="06726-142">YARN provides CLI tools toodump these logs as plain text for applications or containers of interest.</span></span> <span data-ttu-id="06726-143">Tyto protokoly můžete zobrazit jako prostý text spuštěním jednoho z následujících příkazů YARN přímo na uzlech clusteru hello (po tooit připojují pomocí protokolu RDP) hello:</span><span class="sxs-lookup"><span data-stu-id="06726-143">You can view these logs as plain text by running one of hello following YARN commands directly on hello cluster nodes (after connecting tooit through RDP):</span></span>

    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application>
    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application> -containerId <containerId> -nodeAddress <worker-node-address>


## <a name="yarn-resourcemanager-ui"></a><span data-ttu-id="06726-144">YARN ResourceManager uživatelského rozhraní</span><span class="sxs-lookup"><span data-stu-id="06726-144">YARN ResourceManager UI</span></span>
<span data-ttu-id="06726-145">Hello uživatelském rozhraní YARN ResourceManager běží na clusteru headnode hello a je přístupný prostřednictvím hello řídicí panel portálu Azure:</span><span class="sxs-lookup"><span data-stu-id="06726-145">hello YARN ResourceManager UI runs on hello cluster headnode, and can be accessed through hello Azure portal dashboard:</span></span>

1. <span data-ttu-id="06726-146">Přihlaste se příliš[portál Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="06726-146">Sign in too[Azure portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="06726-147">V levé nabídce hello, klikněte na tlačítko **Procházet**, klikněte na tlačítko **clustery HDInsight**, klikněte na cluster systému Windows, které chcete tooaccess hello protokoly YARN aplikací.</span><span class="sxs-lookup"><span data-stu-id="06726-147">On hello left menu, click **Browse**, click **HDInsight Clusters**, click a Windows-based cluster that you want tooaccess hello YARN application logs.</span></span>
3. <span data-ttu-id="06726-148">V horní nabídce hello, klikněte na tlačítko **řídicí panel**.</span><span class="sxs-lookup"><span data-stu-id="06726-148">On hello top menu, click **Dashboard**.</span></span> <span data-ttu-id="06726-149">Zobrazí se stránka, na nové prohlížeči otevřít kartu názvem **HDInsight dotazu konzoly**.</span><span class="sxs-lookup"><span data-stu-id="06726-149">You will see a page opened on a new browser tab called **HDInsight Query Console**.</span></span>
4. <span data-ttu-id="06726-150">Z **HDInsight dotazu konzoly**, klikněte na tlačítko **uživatelském rozhraní Yarn**.</span><span class="sxs-lookup"><span data-stu-id="06726-150">From **HDInsight Query Console**, click **Yarn UI**.</span></span>

[YARN-timeline-server]:http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html
[log-aggregation]:http://hortonworks.com/blog/simplifying-user-logs-management-and-access-in-yarn/
[T-file]:https://issues.apache.org/jira/secure/attachment/12396286/TFile%20Specification%2020081217.pdf
[binary-format]:https://issues.apache.org/jira/browse/HADOOP-3315
[YARN-concepts]:http://hortonworks.com/blog/apache-hadoop-yarn-concepts-and-applications/
