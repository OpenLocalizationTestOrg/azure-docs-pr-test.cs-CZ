---
title: "Zabezpečení Hadoop – clustery HDInsight připojené k doméně – Azure | Dokumentace Microsoftu"
description: "Zjistěte..."
services: hdinsight
documentationcenter: 
author: saurinsh
manager: jhubbard
editor: cgronlun
tags: azure-portal
ms.assetid: 7dc6847d-10d4-4b5c-9c83-cc513cf91965
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 10/31/2016
ms.author: saurinsh
ms.openlocfilehash: 303be1d303df8074283cb1d37c74923cca80ae59
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="an-introduction-to-hadoop-security-with-domain-joined-hdinsight-clusters-preview"></a><span data-ttu-id="575c4-103">Úvod do zabezpečení Hadoop s clustery HDInsight připojenými k doméně (Preview)</span><span class="sxs-lookup"><span data-stu-id="575c4-103">An introduction to Hadoop security with domain-joined HDInsight clusters (Preview)</span></span>

<span data-ttu-id="575c4-104">Služba Azure HDInsight až doteď podporovala jako místního správce pouze jednoho uživatele. To dobře fungovalo pro menší aplikace, týmy nebo oddělení.</span><span class="sxs-lookup"><span data-stu-id="575c4-104">Azure HDInsight until today supported only a single user local admin. This worked great for smaller application teams or departments.</span></span> <span data-ttu-id="575c4-105">S tím, jak se úlohy založené na systému Hadoop stávaly oblíbenějšími v podnikovém sektoru, zvyšovala se i potřeba schopností na podnikové úrovni, jako například ověřování ve službě Active Directory, podpora více uživatelů a řízení přístupu na základě rolí.</span><span class="sxs-lookup"><span data-stu-id="575c4-105">As Hadoop based workloads gained more popularity in the enterprise sector, the need for enterprise grade capabilities like active directory based authentication, multi-user support, and role based access control became increasingly important.</span></span> <span data-ttu-id="575c4-106">Pomocí clusterů HDInsight připojených k doméně můžete vytvořit cluster HDInsight připojený k doméně služby Active Directory a nakonfigurovat seznam zaměstnanců podniku, kteří se pro přihlášení ke clusteru mohou ověřovat prostřednictvím služby Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="575c4-106">Using Domain-joined HDInsight clusters, you can create an HDInsight cluster joined to an Active Directory domain, configure a list of employees from the enterprise who can authenticate through Azure Active Directory to log on to HDInsight cluster.</span></span> <span data-ttu-id="575c4-107">Nikdo jiný mimo podnik se ke clusteru HDInsight nemůže přihlásit ani připojit.</span><span class="sxs-lookup"><span data-stu-id="575c4-107">Anyone outside the enterprise cannot log on or access the HDInsight cluster.</span></span> <span data-ttu-id="575c4-108">Podnikový správce může za účelem zabezpečení Hivu nakonfigurovat řízení přístupu založené na rolích pomocí [Apache Ranger](http://hortonworks.com/apache/ranger/) a tím omezit přístup k datům na nutné minimum.</span><span class="sxs-lookup"><span data-stu-id="575c4-108">The enterprise admin can configure role based access control for Hive security using [Apache Ranger](http://hortonworks.com/apache/ranger/), thus restricting access to data to only as much as needed.</span></span> <span data-ttu-id="575c4-109">Kromě toho může správce také provádět audit přistupování k datům zaměstnanci a jakýchkoli změn provedených v zásadách řízení přístupu. Tím dosáhne vysokého stupně dohledu nad firemními prostředky.</span><span class="sxs-lookup"><span data-stu-id="575c4-109">Finally, the admin can audit the data access by employees, and any changes done to access control policies, thus achieving a high degree of governance of their corporate resources.</span></span>

> [!NOTE]
> <span data-ttu-id="575c4-110">Nové funkce popsané v této verzi Preview jsou dostupné jenom na clusterech HDInsight založených na Linuxu pro úlohy Hivu.</span><span class="sxs-lookup"><span data-stu-id="575c4-110">The new features described in this preview are available only on Linux-based HDInsight clusters for Hive workload.</span></span> <span data-ttu-id="575c4-111">Další úlohy, jako například HBase, Spark, Storm a Kafka, budou povoleny v budoucích verzích.</span><span class="sxs-lookup"><span data-stu-id="575c4-111">The other workloads, such as HBase, Spark, Storm and Kafka, will be enabled in future releases.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="575c4-112">Oozie není povoleno v doméně HDInsight.</span><span class="sxs-lookup"><span data-stu-id="575c4-112">Oozie is not enabled on domain-joined HDInsight.</span></span>

## <a name="benefits"></a><span data-ttu-id="575c4-113">Výhody</span><span class="sxs-lookup"><span data-stu-id="575c4-113">Benefits</span></span>
<span data-ttu-id="575c4-114">Zabezpečení podniku se skládá ze čtyř hlavních pilířů – Zabezpečení perimetru, Ověřování, Autorizace a Šifrování.</span><span class="sxs-lookup"><span data-stu-id="575c4-114">Enterprise Security contains four big pillars – Perimeter Security, Authentication, Authorization, and Encryption.</span></span>

![Pilíře výhod clusterů HDInsight připojených k doméně](./media/hdinsight-domain-joined-introduction/hdinsight-domain-joined-four-pillars.png)<span data-ttu-id="575c4-116">.</span><span class="sxs-lookup"><span data-stu-id="575c4-116">.</span></span>

### <a name="perimeter-security"></a><span data-ttu-id="575c4-117">Zabezpečení perimetru</span><span class="sxs-lookup"><span data-stu-id="575c4-117">Perimeter Security</span></span>
<span data-ttu-id="575c4-118">Služba HDInsight zajišťuje zabezpečení perimetru pomocí virtuálních sítí a služby Gateway.</span><span class="sxs-lookup"><span data-stu-id="575c4-118">Perimeter security in HDInsight is achieved using virtual networks and Gateway service.</span></span> <span data-ttu-id="575c4-119">Dnes může podnikový správce vytvořit cluster HDInsight uvnitř virtuální sítě a pomocí skupin zabezpečení sítě (příchozí nebo odchozí pravidla brány firewall) omezit přístup k této virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="575c4-119">Today, an enterprise admin can create an HDInsight cluster inside a virtual network and use Network Security Groups (inbound or outbound firewall rules) to restrict access to the virtual network.</span></span> <span data-ttu-id="575c4-120">Pouze IP adresy definované v příchozích pravidlech brány firewall budou moci komunikovat s clusterem HDInsight a tak je zajištěno zabezpečení perimetru.</span><span class="sxs-lookup"><span data-stu-id="575c4-120">Only the IP addresses defined in the inbound firewall rules will be able to communicate with the HDInsight cluster, thus providing perimeter security.</span></span> <span data-ttu-id="575c4-121">Další vrstvu zabezpečení perimetru zajišťuje služba Gateway.</span><span class="sxs-lookup"><span data-stu-id="575c4-121">Another layer of perimeter security is achieved using Gateway service.</span></span> <span data-ttu-id="575c4-122">Gateway je služba, která slouží jako první linie obrany pro veškeré příchozí požadavky do clusteru HDInsight.</span><span class="sxs-lookup"><span data-stu-id="575c4-122">The Gateway is the service which acts as first line of defense for any incoming request to the HDInsight cluster.</span></span> <span data-ttu-id="575c4-123">Tato služba požadavek přijme, ověří jej a teprve pak mu umožní průchod do dalších uzlů v clusteru. Tím zajišťuje zabezpečení ostatních jmenných a datových uzlů v clusteru.</span><span class="sxs-lookup"><span data-stu-id="575c4-123">It accepts the request, validates it and only then allows the request to pass to the other nodes in cluster, thus providing perimeter security to other name and data nodes in the cluster.</span></span>

### <a name="authentication"></a><span data-ttu-id="575c4-124">Authentication</span><span class="sxs-lookup"><span data-stu-id="575c4-124">Authentication</span></span>
<span data-ttu-id="575c4-125">V této verzi Public Preview může podnikový správce zřídit cluster HDInsight připojený k doméně ve [virtuální síti](https://azure.microsoft.com/services/virtual-network/).</span><span class="sxs-lookup"><span data-stu-id="575c4-125">With this public preview, an enterprise admin can provision a Domain-joined HDInsight cluster, in a [virtual network](https://azure.microsoft.com/services/virtual-network/).</span></span> <span data-ttu-id="575c4-126">Uzly clusteru HDInsight budou připojeny k doméně spravované podnikem.</span><span class="sxs-lookup"><span data-stu-id="575c4-126">The nodes of the HDInsight cluster will be joined to the domain managed by the enterprise.</span></span> <span data-ttu-id="575c4-127">Toho můžete dosáhnout s použitím služby [Azure Active Directory Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="575c4-127">This is achieved through use of [Azure Active Directory Domain Services](../active-directory-domain-services/active-directory-ds-overview.md).</span></span> <span data-ttu-id="575c4-128">Všechny uzly v clusteru jsou připojeny k doméně spravované podnikem.</span><span class="sxs-lookup"><span data-stu-id="575c4-128">All the nodes in the cluster are joined to a domain that the enterprise manages.</span></span> <span data-ttu-id="575c4-129">S tímto nastavením se mohou zaměstnanci podniku přihlašovat ke clusteru pomocí svých přihlašovacích údajů domény.</span><span class="sxs-lookup"><span data-stu-id="575c4-129">With this setup, the enterprise employees can log on to the cluster nodes using their domain credentials.</span></span> <span data-ttu-id="575c4-130">Přihlašovací údaje domény mohou použít také k ověřování v dalších schválených koncových bodech, jako jsou Hue, Ambari Views, rozhraní ODBC, JDBC, PowerShell a rozhraní REST API, a pracovat tak s clusterem.</span><span class="sxs-lookup"><span data-stu-id="575c4-130">They can also use their domain credentials to authenticate with other approved endpoints like Hue, Ambari Views, ODBC, JDBC, PowerShell and REST APIs to interact with the cluster.</span></span> <span data-ttu-id="575c4-131">Správce má úplnou kontrolu nad omezením počtu uživatelů pracujících s clusterem přes tyto koncové body.</span><span class="sxs-lookup"><span data-stu-id="575c4-131">The admin has full control over limiting the number of users interacting with the cluster via these endpoints.</span></span>

### <a name="authorization"></a><span data-ttu-id="575c4-132">Autorizace</span><span class="sxs-lookup"><span data-stu-id="575c4-132">Authorization</span></span>
<span data-ttu-id="575c4-133">Osvědčeným postupem, který dodržuje většina podniků, je, že ne každý zaměstnanec má přístup ke všem podnikovým prostředkům.</span><span class="sxs-lookup"><span data-stu-id="575c4-133">A best practice followed by most enterprises is that not every employee has access to all enterprise resources.</span></span> <span data-ttu-id="575c4-134">Stejně tak v této verzi může správce pro prostředky clusteru definovat zásady řízení přístupu na základě rolí.</span><span class="sxs-lookup"><span data-stu-id="575c4-134">Likewise, with this release, the admin can define role based access control policies for the cluster resources.</span></span> <span data-ttu-id="575c4-135">Správce může například nakonfigurovat [Apache Ranger](http://hortonworks.com/apache/ranger/), aby nastavil zásady řízení přístupu pro Hive.</span><span class="sxs-lookup"><span data-stu-id="575c4-135">For example, the admin can configure [Apache Ranger](http://hortonworks.com/apache/ranger/) to set access control policies for Hive.</span></span> <span data-ttu-id="575c4-136">Tato funkce zajišťuje, že uživatelů budou mít přístup pouze k nezbytnému množství dat, která potřebují k úspěšné práci.</span><span class="sxs-lookup"><span data-stu-id="575c4-136">This functionality ensures that employees will be able to access only as much data as they need to be successful in their jobs.</span></span> <span data-ttu-id="575c4-137">Přístup ke clusteru přes SSH je také omezen pouze pro správce.</span><span class="sxs-lookup"><span data-stu-id="575c4-137">SSH access to the cluster is also restricted only to the administrator.</span></span>

### <a name="auditing"></a><span data-ttu-id="575c4-138">Auditování</span><span class="sxs-lookup"><span data-stu-id="575c4-138">Auditing</span></span>
<span data-ttu-id="575c4-139">Kromě ochrany prostředků clusteru HDInsight před neautorizovanými uživateli a zabezpečení dat je nezbytné provádění auditu veškerých přístupů k prostředkům a datům clusteru za účelem sledování neautorizovaného nebo nechtěného přístupu k prostředkům.</span><span class="sxs-lookup"><span data-stu-id="575c4-139">Along with protecting the HDInsight cluster resources from unauthorized users, and securing the data, auditing of all access to the cluster resources, and the data is necessary to track unauthorized or unintentional access of the resources.</span></span> <span data-ttu-id="575c4-140">V této verzi Preview může správce zobrazit a vytvářet sestavy o všech přístupech k prostředkům a datům clusteru HDInsight.</span><span class="sxs-lookup"><span data-stu-id="575c4-140">With this preview, the admin can view and report all access to the HDInsight cluster resources and data.</span></span> <span data-ttu-id="575c4-141">Správce může také zobrazit a vytvářet sestavy o všech změnách v zásadách řízení přístupu provedených v koncových bodech podporovaných v Apache Ranger.</span><span class="sxs-lookup"><span data-stu-id="575c4-141">The admin can also view and report all changes to the access control policies done in Apache Ranger supported endpoints.</span></span> <span data-ttu-id="575c4-142">Cluster HDInsight připojený k doméně používá k prohledávání protokolů auditu známé uživatelské rozhraní Apache Ranger.</span><span class="sxs-lookup"><span data-stu-id="575c4-142">A Domain-joined HDInsight cluster uses the familiar Apache Ranger UI to search audit logs.</span></span> <span data-ttu-id="575c4-143">Na back-endu používá Ranger k ukládání a prohledávání protokolů [Apache Solr](http://hortonworks.com/apache/solr/).</span><span class="sxs-lookup"><span data-stu-id="575c4-143">On the backend, Ranger uses [Apache Solr](http://hortonworks.com/apache/solr/) for storing and searching the logs.</span></span>

### <a name="encryption"></a><span data-ttu-id="575c4-144">Šifrování</span><span class="sxs-lookup"><span data-stu-id="575c4-144">Encryption</span></span>
<span data-ttu-id="575c4-145">Ochrana dat je důležitá pro splnění požadavků na zabezpečení organizace a dodržování předpisů. Kromě omezení přístupu k datům neautorizovanými uživateli by data měla být zabezpečena také šifrováním.</span><span class="sxs-lookup"><span data-stu-id="575c4-145">Protecting data is important for meeting organizational security and compliance requirements, and along with restricting access to data from unauthorized employees, it should also be secured by encrypting it.</span></span> <span data-ttu-id="575c4-146">Obě úložiště dat pro clustery HDInsight (Azure Storage Blob a úložiště Azure Data Lake) podporují transparentní [šifrování neaktivních uložených dat](../storage/common/storage-service-encryption.md) na straně serveru.</span><span class="sxs-lookup"><span data-stu-id="575c4-146">Both the data stores for HDInsight clusters, Azure Storage Blob, and Azure Data Lake Storage support transparent server-side [encryption of data](../storage/common/storage-service-encryption.md) at rest.</span></span> <span data-ttu-id="575c4-147">Zabezpečené clustery HDInsight budou bez problému fungovat s touto schopností šifrování neaktivních uložených dat na straně serveru.</span><span class="sxs-lookup"><span data-stu-id="575c4-147">Secure HDInsight clusters will seamlessly work with this server side encryption of data at rest capability.</span></span>

## <a name="next-steps"></a><span data-ttu-id="575c4-148">Další kroky</span><span class="sxs-lookup"><span data-stu-id="575c4-148">Next steps</span></span>
* <span data-ttu-id="575c4-149">Pokud chcete konfigurovat cluster HDInsight připojený k doméně, přečtěte si téma [Konfigurace clusterů HDInsight připojených k doméně](hdinsight-domain-joined-configure.md).</span><span class="sxs-lookup"><span data-stu-id="575c4-149">For configuring a Domain-joined HDInsight cluster, see [Configure Domain-joined HDInsight clusters](hdinsight-domain-joined-configure.md).</span></span>
* <span data-ttu-id="575c4-150">Pokud chcete spravovat clustery HDInsight připojené k doméně, přečtěte si téma [Správa clusterů HDInsight připojených k doméně](hdinsight-domain-joined-manage.md).</span><span class="sxs-lookup"><span data-stu-id="575c4-150">For managing a Domain-joined HDInsight clusters, see [Manage Domain-joined HDInsight clusters](hdinsight-domain-joined-manage.md).</span></span>
* <span data-ttu-id="575c4-151">Pokud chcete konfigurovat zásady Hivu a spouštět dotazy Hivu, přečtěte si téma [Konfigurace zásad Hivu pro clustery HDInsight připojené k doméně](hdinsight-domain-joined-run-hive.md).</span><span class="sxs-lookup"><span data-stu-id="575c4-151">For configuring Hive policies and run Hive queries, see [Configure Hive policies for Domain-joined HDInsight clusters](hdinsight-domain-joined-run-hive.md).</span></span>
* <span data-ttu-id="575c4-152">Spuštění dotazů Hive pomocí protokolu SSH v clusterech HDInsight připojený k doméně, najdete v části [použití SSH s HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span><span class="sxs-lookup"><span data-stu-id="575c4-152">For running Hive queries using SSH on Domain-joined HDInsight clusters, see [Use SSH with HDInsight](hdinsight-hadoop-linux-use-ssh-unix.md#domainjoined).</span></span>
