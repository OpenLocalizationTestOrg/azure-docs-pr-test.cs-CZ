---
title: "aaaGuide toohello Net # Neuronové sítě Specification Language | Microsoft Docs"
description: "Syntaxe pro hello Net # neuronové sítě specifikace jazyka, společně s příklady jak toocreate vlastní neuronové sítě modelu v Microsoft Azure ML pomocí Net #"
services: machine-learning
documentationcenter: 
author: jeannt
manager: jhubbard
editor: cgronlun
ms.assetid: cfd1454b-47df-4745-b064-ce5f9b3be303
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/31/2017
ms.author: jeannt
ms.openlocfilehash: 3493247ecc39ca3a1382510ad520d7017159ff62
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="guide-toonet-neural-network-specification-language-for-azure-machine-learning"></a><span data-ttu-id="5ed17-103">Průvodce jazyk specifikace neuronové sítě tooNet # pro Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="5ed17-103">Guide tooNet# neural network specification language for Azure Machine Learning</span></span>
## <a name="overview"></a><span data-ttu-id="5ed17-104">Přehled</span><span class="sxs-lookup"><span data-stu-id="5ed17-104">Overview</span></span>
<span data-ttu-id="5ed17-105">NET # je jazyk vyvinuté společností Microsoft, který je použité toodefine neuronové sítě architektury.</span><span class="sxs-lookup"><span data-stu-id="5ed17-105">Net# is a language developed by Microsoft that is used toodefine neural network architectures.</span></span> <span data-ttu-id="5ed17-106">Můžete použít Net # v modulech neuronové sítě v Microsoft Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="5ed17-106">You can use Net# in neural network modules in Microsoft Azure Machine Learning.</span></span>

<!-- This function doesn't currentlyappear in hello MicrosoftML documentation. If it is added in a future update, we can uncomment this text.

, or in hello `rxNeuralNetwork()` function in [MicrosoftML](https://msdn.microsoft.com/microsoft-r/microsoftml/microsoftml). 

-->

<span data-ttu-id="5ed17-107">V tomto článku se dozvíte, že základní koncepty toodevelop vlastní neuronové sítě:</span><span class="sxs-lookup"><span data-stu-id="5ed17-107">In this article, you will learn basic concepts needed toodevelop a custom neural network:</span></span> 

* <span data-ttu-id="5ed17-108">Požadavky na neuronové sítě a jak toodefine hello primární součásti</span><span class="sxs-lookup"><span data-stu-id="5ed17-108">Neural network requirements and how toodefine hello primary components</span></span>
* <span data-ttu-id="5ed17-109">Syntaxe Hello a klíčová slova z hello Net # specifikace jazyka</span><span class="sxs-lookup"><span data-stu-id="5ed17-109">hello syntax and keywords of hello Net# specification language</span></span>
* <span data-ttu-id="5ed17-110">Příklady vlastních neuronové sítě vytvořené pomocí Net #</span><span class="sxs-lookup"><span data-stu-id="5ed17-110">Examples of custom neural networks created using Net#</span></span> 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="neural-network-basics"></a><span data-ttu-id="5ed17-111">Základy neuronové sítě</span><span class="sxs-lookup"><span data-stu-id="5ed17-111">Neural network basics</span></span>
<span data-ttu-id="5ed17-112">Struktura neuronové sítě se skládá z ***uzly*** , jsou uspořádány do ***vrstvy***a vyvážené ***připojení*** (nebo ***okraje***) mezi Hello uzly.</span><span class="sxs-lookup"><span data-stu-id="5ed17-112">A neural network structure consists of ***nodes*** that are organized in ***layers***, and weighted ***connections*** (or ***edges***) between hello nodes.</span></span> <span data-ttu-id="5ed17-113">směrovou Hello připojení a má každé připojení ***zdroj*** uzlu a ***cílové*** uzlu.</span><span class="sxs-lookup"><span data-stu-id="5ed17-113">hello connections are directional, and each connection has a ***source*** node and a ***destination*** node.</span></span>  

<span data-ttu-id="5ed17-114">Každý ***trainable vrstvy*** (skrytý nebo vrstvu výstup) má jednu nebo více ***sady připojení***.</span><span class="sxs-lookup"><span data-stu-id="5ed17-114">Each ***trainable layer*** (a hidden or an output layer) has one or more ***connection bundles***.</span></span> <span data-ttu-id="5ed17-115">Sady připojení se skládá z vrstvy zdroje a specifikaci hello připojení z této zdrojové vrstvy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-115">A connection bundle consists of a source layer and a specification of hello connections from that source layer.</span></span> <span data-ttu-id="5ed17-116">Všechna připojení hello ve sdílené složce dané sady hello stejné ***zdrojové vrstvy*** a hello stejné ***cílové vrstvě***.</span><span class="sxs-lookup"><span data-stu-id="5ed17-116">All hello connections in a given bundle share hello same ***source layer*** and hello same ***destination layer***.</span></span> <span data-ttu-id="5ed17-117">V Net # považuje připojení sady jako vrstva cílové sady toohello patřící.</span><span class="sxs-lookup"><span data-stu-id="5ed17-117">In Net#, a connection bundle is considered as belonging toohello bundle's destination layer.</span></span>  

<span data-ttu-id="5ed17-118">NET # podporuje různé druhy sad připojení, která vám umožňuje přizpůsobit způsob hello vstupy jsou namapované toohidden vrstvy a namapované toohello výstupy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-118">Net# supports various kinds of connection bundles, which lets you customize hello way inputs are mapped toohidden layers and mapped toohello outputs.</span></span>   

<span data-ttu-id="5ed17-119">Výchozí Hello nebo standardní sady **úplné sady**, v každý uzel v hello zdrojové vrstvy je uzel připojených tooevery ve vrstvě cílové hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-119">hello default or standard bundle is a **full bundle**, in which each node in hello source layer is connected tooevery node in hello destination layer.</span></span>  

<span data-ttu-id="5ed17-120">Kromě toho Net # podporuje hello následující čtyři typy sad typ připojení:</span><span class="sxs-lookup"><span data-stu-id="5ed17-120">Additionally, Net# supports hello following four kinds of advanced connection bundles:</span></span>  

* <span data-ttu-id="5ed17-121">**Filtrované sady**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-121">**Filtered bundles**.</span></span> <span data-ttu-id="5ed17-122">Hello uživatele můžete definovat predikát pomocí hello umístění hello zdrojový vrstvy uzel a hello cílový vrstvy uzel.</span><span class="sxs-lookup"><span data-stu-id="5ed17-122">hello user can define a predicate by using hello locations of hello source layer node and hello destination layer node.</span></span> <span data-ttu-id="5ed17-123">Uzly jsou připojené vždy, když hello predikát má hodnotu True.</span><span class="sxs-lookup"><span data-stu-id="5ed17-123">Nodes are connected whenever hello predicate is True.</span></span>
* <span data-ttu-id="5ed17-124">**Convolutional sady**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-124">**Convolutional bundles**.</span></span> <span data-ttu-id="5ed17-125">Hello uživatel může definovat malé sousedství uzlů ve vrstvě zdroj hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-125">hello user can define small neighborhoods of nodes in hello source layer.</span></span> <span data-ttu-id="5ed17-126">Každý uzel ve vrstvě cílové hello je okolí připojených tooone uzlů ve vrstvě zdroj hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-126">Each node in hello destination layer is connected tooone neighborhood of nodes in hello source layer.</span></span>
* <span data-ttu-id="5ed17-127">**Sdružování sady** a **odpovědi normalizaci sady**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-127">**Pooling bundles** and **Response normalization bundles**.</span></span> <span data-ttu-id="5ed17-128">Jedná se o podobnou tooconvolutional sady v této hello uživatele definuje malé sousedství uzlů ve vrstvě zdroj hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-128">These are similar tooconvolutional bundles in that hello user defines small neighborhoods of nodes in hello source layer.</span></span> <span data-ttu-id="5ed17-129">Hello rozdílem je, že nejsou trainable hello váhu hello okraje v těchto sad.</span><span class="sxs-lookup"><span data-stu-id="5ed17-129">hello difference is that hello weights of hello edges in these bundles are not trainable.</span></span> <span data-ttu-id="5ed17-130">Místo toho použita předdefinované funkce toohello zdrojový uzel hodnoty toodetermine hello cílový uzel hodnotu.</span><span class="sxs-lookup"><span data-stu-id="5ed17-130">Instead, a predefined function is applied toohello source node values toodetermine hello destination node value.</span></span>  

<span data-ttu-id="5ed17-131">Pomocí Net # toodefine hello struktura neuronové sítě je možné toodefine komplexní struktury například hluboké neuronové sítě nebo convolutions libovolný dimenzí, které jsou známé tooimprove programování pro data, jako jsou bitové kopie, zvuk a video.</span><span class="sxs-lookup"><span data-stu-id="5ed17-131">Using Net# toodefine hello structure of a neural network makes it possible toodefine complex structures such as deep neural networks or convolutions of arbitrary dimensions, which are known tooimprove learning on data such as image, audio, or video.</span></span>  

## <a name="supported-customizations"></a><span data-ttu-id="5ed17-132">Podporované vlastní nastavení</span><span class="sxs-lookup"><span data-stu-id="5ed17-132">Supported customizations</span></span>
<span data-ttu-id="5ed17-133">Architektura Hello modelů neuronové sítě, které vytvoříte v Azure Machine Learning lze hojně přizpůsobit pomocí Net #.</span><span class="sxs-lookup"><span data-stu-id="5ed17-133">hello architecture of neural network models that you create in Azure Machine Learning can be extensively customized by using Net#.</span></span> <span data-ttu-id="5ed17-134">Můžete:</span><span class="sxs-lookup"><span data-stu-id="5ed17-134">You can:</span></span>  

* <span data-ttu-id="5ed17-135">Vytvořte skryté vrstvy a řízení hello počet uzlů v každé vrstvě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-135">Create hidden layers and control hello number of nodes in each layer.</span></span>
* <span data-ttu-id="5ed17-136">Zadejte, jak jsou toobe připojené tooeach další vrstvy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-136">Specify how layers are toobe connected tooeach other.</span></span>
* <span data-ttu-id="5ed17-137">Definujte struktury speciální připojení, jako je například convolutions a váhy sdílení sady.</span><span class="sxs-lookup"><span data-stu-id="5ed17-137">Define special connectivity structures, such as convolutions and weight sharing bundles.</span></span>
* <span data-ttu-id="5ed17-138">Zadejte jiný aktivace funkce.</span><span class="sxs-lookup"><span data-stu-id="5ed17-138">Specify different activation functions.</span></span>  

<span data-ttu-id="5ed17-139">Podrobné informace o syntaxi jazyka hello specifikace, najdete v části [struktura specifikace](#Structure-specifications).</span><span class="sxs-lookup"><span data-stu-id="5ed17-139">For details of hello specification language syntax, see [Structure Specification](#Structure-specifications).</span></span>  

<span data-ttu-id="5ed17-140">Příklady definice neuronové sítě pro některé běžné strojového učení úlohy z nezpracovávají toocomplex, najdete v části [příklady](#Examples-of-Net#-usage).</span><span class="sxs-lookup"><span data-stu-id="5ed17-140">For examples of defining neural networks for some common machine learning tasks, from simplex toocomplex, see [Examples](#Examples-of-Net#-usage).</span></span>  

## <a name="general-requirements"></a><span data-ttu-id="5ed17-141">Obecné požadavky</span><span class="sxs-lookup"><span data-stu-id="5ed17-141">General requirements</span></span>
* <span data-ttu-id="5ed17-142">Musí být přesně jeden výstup vrstvě, alespoň jeden vstupní a v počtu nula či více skryté vrstvy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-142">There must be exactly one output layer, at least one input layer, and zero or more hidden layers.</span></span> 
* <span data-ttu-id="5ed17-143">Jednotlivé úrovně má pevný počet uzlů, koncepčně uspořádané obdélníková pole libovolný dimenzí.</span><span class="sxs-lookup"><span data-stu-id="5ed17-143">Each layer has a fixed number of nodes, conceptually arranged in a rectangular array of arbitrary dimensions.</span></span> 
* <span data-ttu-id="5ed17-144">Vstupní vrstvy mít žádné přidružené vyškolení parametry a představují hello místa, kde instance data do sítě hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-144">Input layers have no associated trained parameters and represent hello point where instance data enters hello network.</span></span> 
* <span data-ttu-id="5ed17-145">Trainable vrstvy (hello skryté a výstupní vrstvy) mají přiřazeny vyškolení parametry, označuje jako váhu a tendence z.</span><span class="sxs-lookup"><span data-stu-id="5ed17-145">Trainable layers (hello hidden and output layers) have associated trained parameters, known as weights and biases.</span></span> 
* <span data-ttu-id="5ed17-146">zdrojové a cílové uzly Hello musí být v samostatné vrstvy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-146">hello source and destination nodes must be in separate layers.</span></span> 
* <span data-ttu-id="5ed17-147">Připojení musí být Acyklické; jinými slovy nemůže být řetězec připojení úvodní back toohello počáteční zdrojový uzel.</span><span class="sxs-lookup"><span data-stu-id="5ed17-147">Connections must be acyclic; in other words, there cannot be a chain of connections leading back toohello initial source node.</span></span>
* <span data-ttu-id="5ed17-148">vrstva výstup Hello nesmí být zdroje vrstvu sady připojení.</span><span class="sxs-lookup"><span data-stu-id="5ed17-148">hello output layer cannot be a source layer of a connection bundle.</span></span>  

## <a name="structure-specifications"></a><span data-ttu-id="5ed17-149">Struktura specifikace</span><span class="sxs-lookup"><span data-stu-id="5ed17-149">Structure specifications</span></span>
<span data-ttu-id="5ed17-150">Struktura specifikaci neuronové sítě se skládá ze tří částí: hello **deklarace konstanty**, hello **layer prohlášení**, hello **připojení deklarace**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-150">A neural network structure specification is composed of three sections: hello **constant declaration**, hello **layer declaration**, hello **connection declaration**.</span></span> <span data-ttu-id="5ed17-151">K dispozici je také volitelný **sdílet deklarace** části.</span><span class="sxs-lookup"><span data-stu-id="5ed17-151">There is also an optional **share declaration** section.</span></span> <span data-ttu-id="5ed17-152">Hello oddílů lze zadat v libovolném pořadí.</span><span class="sxs-lookup"><span data-stu-id="5ed17-152">hello sections can be specified in any order.</span></span>  

## <a name="constant-declaration"></a><span data-ttu-id="5ed17-153">Deklarace konstant</span><span class="sxs-lookup"><span data-stu-id="5ed17-153">Constant declaration</span></span>
<span data-ttu-id="5ed17-154">Deklarace konstanty je volitelný.</span><span class="sxs-lookup"><span data-stu-id="5ed17-154">A constant declaration is optional.</span></span> <span data-ttu-id="5ed17-155">Poskytuje znamená toodefine hodnoty používané jinde v definici hello neuronové sítě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-155">It provides a means toodefine values used elsewhere in hello neural network definition.</span></span> <span data-ttu-id="5ed17-156">příkaz deklarace Hello se skládá z identifikátor následuje znak rovná a výraz hodnotu.</span><span class="sxs-lookup"><span data-stu-id="5ed17-156">hello declaration statement consists of an identifier followed by an equal sign and a value expression.</span></span>   

<span data-ttu-id="5ed17-157">Například následující příkaz hello definuje konstanta **x**:</span><span class="sxs-lookup"><span data-stu-id="5ed17-157">For example, hello following statement defines a constant **x**:</span></span>  

    Const X = 28;  

<span data-ttu-id="5ed17-158">toodefine dvou nebo více konstant současně, uzavřete hello identifikátor názvy a hodnoty do složených závorek a oddělte je středníky.</span><span class="sxs-lookup"><span data-stu-id="5ed17-158">toodefine two or more constants simultaneously, enclose hello identifier names and values in braces, and separate them by using semicolons.</span></span> <span data-ttu-id="5ed17-159">Například:</span><span class="sxs-lookup"><span data-stu-id="5ed17-159">For example:</span></span>  

    Const { X = 28; Y = 4; }  

<span data-ttu-id="5ed17-160">pravé straně Hello každé přiřazení výrazu může být celé číslo, reálné číslo, logickou hodnotu (True nebo False) nebo matematickém výrazu.</span><span class="sxs-lookup"><span data-stu-id="5ed17-160">hello right-hand side of each assignment expression can be an integer, a real number, a Boolean value (True or False), or a mathematical expression.</span></span> <span data-ttu-id="5ed17-161">Například:</span><span class="sxs-lookup"><span data-stu-id="5ed17-161">For example:</span></span>  

    Const { X = 17 * 2; Y = true; }  

## <a name="layer-declaration"></a><span data-ttu-id="5ed17-162">Deklarace vrstvy</span><span class="sxs-lookup"><span data-stu-id="5ed17-162">Layer declaration</span></span>
<span data-ttu-id="5ed17-163">vyžaduje se Hello layer prohlášení.</span><span class="sxs-lookup"><span data-stu-id="5ed17-163">hello layer declaration is required.</span></span> <span data-ttu-id="5ed17-164">Určuje velikost hello a zdroj hello vrstvy, včetně sady připojení a atributy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-164">It defines hello size and source of hello layer, including its connection bundles and attributes.</span></span> <span data-ttu-id="5ed17-165">Dobrý den deklarace příkaz začíná hello název vrstvy hello (vstup, skrytá nebo výstupní), za nímž následuje hello dimenze hello vrstvy (řazená kolekce členů kladná celá čísla).</span><span class="sxs-lookup"><span data-stu-id="5ed17-165">hello declaration statement starts with hello name of hello layer (input, hidden, or output), followed by hello dimensions of hello layer (a tuple of positive integers).</span></span> <span data-ttu-id="5ed17-166">Například:</span><span class="sxs-lookup"><span data-stu-id="5ed17-166">For example:</span></span>  

    input Data auto;
    hidden Hidden[5,20] from Data all;
    output Result[2] from Hidden all;  

* <span data-ttu-id="5ed17-167">produkt Hello hello dimenzí je hello počet uzlů ve vrstvě hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-167">hello product of hello dimensions is hello number of nodes in hello layer.</span></span> <span data-ttu-id="5ed17-168">V tomto příkladu se dvěma rozměry [5,20], což znamená, že se 100 uzly ve vrstvě hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-168">In this example, there are two dimensions [5,20], which means there are  100 nodes in hello layer.</span></span>
* <span data-ttu-id="5ed17-169">Hello vrstvy lze deklarovat v libovolném pořadí, s jednou výjimkou: Pokud je definován více než jeden vstupní vrstvy, hello pořadí, ve které jsou deklarovány musí odpovídat pořadí hello funkcí ve vstupní data hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-169">hello layers can be declared in any order, with one exception: If more than one input layer is defined, hello order in which they are declared must match hello order of features in hello input data.</span></span>  

<span data-ttu-id="5ed17-170">toospecify, které bude hello počet uzlů ve vrstvě určen automaticky, použijte hello **automaticky** – klíčové slovo.</span><span class="sxs-lookup"><span data-stu-id="5ed17-170">toospecify that hello number of nodes in a layer be determined automatically, use hello **auto** keyword.</span></span> <span data-ttu-id="5ed17-171">Hello **automaticky** – klíčové slovo má jiný důsledky, v závislosti na hello vrstvy:</span><span class="sxs-lookup"><span data-stu-id="5ed17-171">hello **auto** keyword has different effects, depending on hello layer:</span></span>  

* <span data-ttu-id="5ed17-172">V deklaraci vstupní vrstvy hello počet uzlů je hello řadu funkcí v hello vstupní data.</span><span class="sxs-lookup"><span data-stu-id="5ed17-172">In an input layer declaration, hello number of nodes is hello number of features in hello input data.</span></span>
* <span data-ttu-id="5ed17-173">V deklaraci skryté vrstvě hello počet uzlů je hello čísla, která je zadána hodnota parametru hello pro **počet skryté uzly**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-173">In a hidden layer declaration, hello number of nodes is hello number that is specified by hello parameter value for **Number of hidden nodes**.</span></span> 
* <span data-ttu-id="5ed17-174">V deklaraci vrstvy výstup hello počet uzlů je 2 pro dvě třídy klasifikaci, 1 pro regresní a rovna toohello počet výstupních uzlů pro více třídami klasifikaci.</span><span class="sxs-lookup"><span data-stu-id="5ed17-174">In an output layer declaration, hello number of nodes is 2 for two-class classification, 1 for regression, and equal toohello number of output nodes for multiclass classification.</span></span>   

<span data-ttu-id="5ed17-175">Například hello následující definice sítě umožňuje hello velikost všech vrstev toobe automaticky určit:</span><span class="sxs-lookup"><span data-stu-id="5ed17-175">For example, hello following network definition allows hello size of all layers toobe automatically determined:</span></span>  

    input Data auto;
    hidden Hidden auto from Data all;
    output Result auto from Hidden all;  


<span data-ttu-id="5ed17-176">Layer prohlášení pro trainable vrstvu (hello skrytý nebo výstupní vrstev) může volitelně obsahovat hello výstup funkce (také nazývané aktivace funkce), výchozí nastavení je příliš**sigmoid** klasifikační modely a **lineární** pro regresní modely.</span><span class="sxs-lookup"><span data-stu-id="5ed17-176">A layer declaration for a trainable layer (hello hidden or output layers) can optionally include hello output function (also called an activation function), which defaults too**sigmoid** for classification models, and **linear** for regression models.</span></span> <span data-ttu-id="5ed17-177">(I když používáte výchozí hello, vám může explicitně stavu hello aktivace funkce, v případě potřeby pro přehlednost.)</span><span class="sxs-lookup"><span data-stu-id="5ed17-177">(Even if you use hello default, you can explicitly state hello activation function, if desired for clarity.)</span></span>

<span data-ttu-id="5ed17-178">Hello výstup podporuje následující funkce:</span><span class="sxs-lookup"><span data-stu-id="5ed17-178">hello following output functions are supported:</span></span>  

* <span data-ttu-id="5ed17-179">sigmoid</span><span class="sxs-lookup"><span data-stu-id="5ed17-179">sigmoid</span></span>
* <span data-ttu-id="5ed17-180">lineární</span><span class="sxs-lookup"><span data-stu-id="5ed17-180">linear</span></span>
* <span data-ttu-id="5ed17-181">softmax</span><span class="sxs-lookup"><span data-stu-id="5ed17-181">softmax</span></span>
* <span data-ttu-id="5ed17-182">rlinear</span><span class="sxs-lookup"><span data-stu-id="5ed17-182">rlinear</span></span>
* <span data-ttu-id="5ed17-183">hranaté</span><span class="sxs-lookup"><span data-stu-id="5ed17-183">square</span></span>
* <span data-ttu-id="5ed17-184">Sqrt</span><span class="sxs-lookup"><span data-stu-id="5ed17-184">sqrt</span></span>
* <span data-ttu-id="5ed17-185">srlinear</span><span class="sxs-lookup"><span data-stu-id="5ed17-185">srlinear</span></span>
* <span data-ttu-id="5ed17-186">Abs</span><span class="sxs-lookup"><span data-stu-id="5ed17-186">abs</span></span>
* <span data-ttu-id="5ed17-187">TANH</span><span class="sxs-lookup"><span data-stu-id="5ed17-187">tanh</span></span> 
* <span data-ttu-id="5ed17-188">brlinear</span><span class="sxs-lookup"><span data-stu-id="5ed17-188">brlinear</span></span>  

<span data-ttu-id="5ed17-189">Například následující deklarace hello používá hello **softmax** funkce:</span><span class="sxs-lookup"><span data-stu-id="5ed17-189">For example, hello following declaration uses hello **softmax** function:</span></span>  

    output Result [100] softmax from Hidden all;  

## <a name="connection-declaration"></a><span data-ttu-id="5ed17-190">Deklarace připojení</span><span class="sxs-lookup"><span data-stu-id="5ed17-190">Connection declaration</span></span>
<span data-ttu-id="5ed17-191">Okamžitě po definování hello trainable vrstvu, je potřeba deklarovat připojení mezi hello vrstvy, které jste definovali.</span><span class="sxs-lookup"><span data-stu-id="5ed17-191">Immediately after defining hello trainable layer, you must declare connections among hello layers you have defined.</span></span> <span data-ttu-id="5ed17-192">Deklarace sady připojení Hello začíná textem hello – klíčové slovo **z**, za nímž následují hello název zdroje sady hello vrstvu a hello typ toocreate sady připojení.</span><span class="sxs-lookup"><span data-stu-id="5ed17-192">hello connection bundle declaration starts with hello keyword **from**, followed by hello name of hello bundle's source layer and hello kind of connection bundle toocreate.</span></span>   

<span data-ttu-id="5ed17-193">V současné době jsou podporovány pět druhy sad připojení:</span><span class="sxs-lookup"><span data-stu-id="5ed17-193">Currently, five kinds of connection bundles are supported:</span></span>  

* <span data-ttu-id="5ed17-194">**Úplné** sad, indikován hello – klíčové slovo **všechny**</span><span class="sxs-lookup"><span data-stu-id="5ed17-194">**Full** bundles, indicated by hello keyword **all**</span></span>
* <span data-ttu-id="5ed17-195">**Filtrované** sad, indikován hello – klíčové slovo **kde**, za nímž následují výraz predikátu</span><span class="sxs-lookup"><span data-stu-id="5ed17-195">**Filtered** bundles, indicated by hello keyword **where**, followed by a predicate expression</span></span>
* <span data-ttu-id="5ed17-196">**Convolutional** sad, indikován hello – klíčové slovo **convolve**, za nímž následují hello konvoluce atributy</span><span class="sxs-lookup"><span data-stu-id="5ed17-196">**Convolutional** bundles, indicated by hello keyword **convolve**, followed by hello convolution attributes</span></span>
* <span data-ttu-id="5ed17-197">**Sdružování** sad, indikován klíčová slova hello **maximálního počtu fondu** nebo **znamenat fondu**</span><span class="sxs-lookup"><span data-stu-id="5ed17-197">**Pooling** bundles, indicated by hello keywords **max pool** or **mean pool**</span></span>
* <span data-ttu-id="5ed17-198">**Odpověď normalizaci** sad, indikován hello – klíčové slovo **norm odpovědi**</span><span class="sxs-lookup"><span data-stu-id="5ed17-198">**Response normalization** bundles, indicated by hello keyword **response norm**</span></span>      

## <a name="full-bundles"></a><span data-ttu-id="5ed17-199">Úplné sady</span><span class="sxs-lookup"><span data-stu-id="5ed17-199">Full bundles</span></span>
<span data-ttu-id="5ed17-200">Sady úplný připojovací zahrnuje připojení z každého uzlu v hello zdrojový vrstvy tooeach uzel ve vrstvě cílové hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-200">A full connection bundle includes a connection from each node in hello source layer tooeach node in hello destination layer.</span></span> <span data-ttu-id="5ed17-201">Toto je hello výchozí typ připojení.</span><span class="sxs-lookup"><span data-stu-id="5ed17-201">This is hello default network connection type.</span></span>  

## <a name="filtered-bundles"></a><span data-ttu-id="5ed17-202">Filtrované sady</span><span class="sxs-lookup"><span data-stu-id="5ed17-202">Filtered bundles</span></span>
<span data-ttu-id="5ed17-203">Specifikaci sady filtrovaném připojení zahrnuje predikátu, vyjádřené syntakticky, velmi podobně jako výrazu lambda C#.</span><span class="sxs-lookup"><span data-stu-id="5ed17-203">A filtered connection bundle specification includes a predicate, expressed syntactically, much like a C# lambda expression.</span></span> <span data-ttu-id="5ed17-204">Hello následující příklad definuje dvě filtrované sady:</span><span class="sxs-lookup"><span data-stu-id="5ed17-204">hello following example defines two filtered bundles:</span></span>  

    input Pixels [10, 20];
    hidden ByRow[10, 12] from Pixels where (s,d) => s[0] == d[0];
    hidden ByCol[5, 20] from Pixels where (s,d) => abs(s[1] - d[1]) <= 1;  

* <span data-ttu-id="5ed17-205">V hello predikát pro *ByRow*, **s** je parametr představující index do pole obdélníková hello uzlů hello vstupní vrstvy, *pixelů*, a **d**  je parametr představující index do pole hello uzlů ve skryté vrstvě hello, *ByRow*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-205">In hello predicate for *ByRow*, **s** is a parameter representing an index into hello rectangular array of nodes of hello input layer, *Pixels*, and **d** is a parameter representing an index into hello array of nodes of hello hidden layer, *ByRow*.</span></span> <span data-ttu-id="5ed17-206">Hello typ i **s** a **d** je celých čísel délky dvě řazené kolekce členů.</span><span class="sxs-lookup"><span data-stu-id="5ed17-206">hello type of both **s** and **d** is a tuple of integers of length two.</span></span> <span data-ttu-id="5ed17-207">Koncepčně **s** rozsahy přes všechny páry celých čísel s *0 < = [0] s < 10* a *0 < = s[1] < 20*, a **d**  rozsahy přes všechny páry celých čísel, s *0 < = [0] d < 10* a *0 < = d[1] < 12*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-207">Conceptually, **s** ranges over all pairs of integers with *0 <= s[0] < 10* and *0 <= s[1] < 20*, and **d** ranges over all pairs of integers, with *0 <= d[0] < 10* and *0 <= d[1] < 12*.</span></span> 
* <span data-ttu-id="5ed17-208">Na pravé straně hello predikátem výrazu hello je podmínku.</span><span class="sxs-lookup"><span data-stu-id="5ed17-208">On hello right-hand side of hello predicate expression, there is a condition.</span></span> <span data-ttu-id="5ed17-209">V tomto příkladu se pro každou hodnotu **s** a **d** tak, aby hello podmínka vyhodnocena jako True, je okraj z hello zdroj vrstvy uzlu toohello cílové vrstvy uzlu.</span><span class="sxs-lookup"><span data-stu-id="5ed17-209">In this example, for every value of **s** and **d** such that hello condition is True, there is an edge from hello source layer node toohello destination layer node.</span></span> <span data-ttu-id="5ed17-210">Proto tento výraz filtru značí této sady hello obsahuje připojení z uzlu hello definované **s** toohello uzlu definované **d** ve všech případech, kde s [0] je rovna tood [0].</span><span class="sxs-lookup"><span data-stu-id="5ed17-210">Thus, this filter expression indicates that hello bundle includes a connection from hello node defined by **s** toohello node defined by **d** in all cases where s[0] is equal tood[0].</span></span>  

<span data-ttu-id="5ed17-211">Volitelně můžete zadat sadu váhu pro filtrovanou sadu.</span><span class="sxs-lookup"><span data-stu-id="5ed17-211">Optionally, you can specify a set of weights for a filtered bundle.</span></span> <span data-ttu-id="5ed17-212">hodnota pro hello Hello **váhu** atribut musí být číslo s plovoucí čárkou hodnoty bodu s délkou, která odpovídá hello počet připojení definované sady hello řazená kolekce členů.</span><span class="sxs-lookup"><span data-stu-id="5ed17-212">hello value for hello **Weights** attribute must be a tuple of floating point values with a length that matches hello number of connections defined by hello bundle.</span></span> <span data-ttu-id="5ed17-213">Ve výchozím nastavení jsou váhu náhodně vygenerované.</span><span class="sxs-lookup"><span data-stu-id="5ed17-213">By default, weights are randomly generated.</span></span>  

<span data-ttu-id="5ed17-214">Hodnoty váhy jsou seskupené podle hello cílový uzel indexu.</span><span class="sxs-lookup"><span data-stu-id="5ed17-214">Weight values are grouped by hello destination node index.</span></span> <span data-ttu-id="5ed17-215">To znamená, pokud je připojený hello první cílový uzel trvalo zdroj uzly hello nejprve *tisíc* elementy hello **váhu** hello váhu pro hello první cílový uzel, v pořadí zdrojů indexu jsou řazené kolekce členů.</span><span class="sxs-lookup"><span data-stu-id="5ed17-215">That is, if hello first destination node is connected tooK source nodes, hello first *K* elements of hello **Weights** tuple are hello weights for hello first destination node, in source index order.</span></span> <span data-ttu-id="5ed17-216">Hello totéž platí i pro zbývající uzly cílové hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-216">hello same applies for hello remaining destination nodes.</span></span>  

<span data-ttu-id="5ed17-217">Je možné toospecify váhu přímo jako konstantní hodnoty.</span><span class="sxs-lookup"><span data-stu-id="5ed17-217">It's possible toospecify weights directly as constant values.</span></span> <span data-ttu-id="5ed17-218">Například pokud jste se naučili dříve hello váhu, můžete je zadat jako konstanty pomocí této syntaxe:</span><span class="sxs-lookup"><span data-stu-id="5ed17-218">For example, if you learned hello weights previously, you can specify them as constants using this syntax:</span></span>

    const Weights_1 = [0.0188045055, 0.130500451, ...]


## <a name="convolutional-bundles"></a><span data-ttu-id="5ed17-219">Convolutional sady</span><span class="sxs-lookup"><span data-stu-id="5ed17-219">Convolutional bundles</span></span>
<span data-ttu-id="5ed17-220">Pokud hello Cvičná data homogenní struktura, convolutional připojení jsou běžně používané toolearn nejdůležitější funkce hello data.</span><span class="sxs-lookup"><span data-stu-id="5ed17-220">When hello training data has a homogeneous structure, convolutional connections are commonly used toolearn high-level features of hello data.</span></span> <span data-ttu-id="5ed17-221">Například v bitové kopii, data zvuku a videa, prostorových nebo dočasné dimenzionalitu může být poměrně uniform.</span><span class="sxs-lookup"><span data-stu-id="5ed17-221">For example, in image, audio, or video data, spatial or temporal dimensionality can be fairly uniform.</span></span>  

<span data-ttu-id="5ed17-222">Convolutional sady využívají obdélníková **jádra** , se posouvá prostřednictvím hello dimenzí.</span><span class="sxs-lookup"><span data-stu-id="5ed17-222">Convolutional bundles employ rectangular **kernels** that are slid through hello dimensions.</span></span> <span data-ttu-id="5ed17-223">V podstatě každý jádra definuje sadu váhu použijí v místní sousedství, označují tooas **aplikací jádra**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-223">Essentially, each kernel defines a set of weights applied in local neighborhoods, referred tooas **kernel applications**.</span></span> <span data-ttu-id="5ed17-224">Každá aplikace jádra odpovídá tooa uzlu ve vrstvě hello zdroje, které se označují tooas hello **centrálního uzlu**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-224">Each kernel application corresponds tooa node in hello source layer, which is referred tooas hello **central node**.</span></span> <span data-ttu-id="5ed17-225">Hello váhu jádro jsou sdílena mezi mnoha připojení.</span><span class="sxs-lookup"><span data-stu-id="5ed17-225">hello weights of a kernel are shared among many connections.</span></span> <span data-ttu-id="5ed17-226">V sady convolutional je obdélníková každý jádra a všechny aplikace jádra jsou hello stejná velikost.</span><span class="sxs-lookup"><span data-stu-id="5ed17-226">In a convolutional bundle, each kernel is rectangular and all kernel applications are hello same size.</span></span>  

<span data-ttu-id="5ed17-227">Convolutional sady podporují hello následující atributy:</span><span class="sxs-lookup"><span data-stu-id="5ed17-227">Convolutional bundles support hello following attributes:</span></span>

<span data-ttu-id="5ed17-228">**InputShape** definuje hello dimenzionalitu hello vrstvy zdroj pro účely hello tento convolutional sady.</span><span class="sxs-lookup"><span data-stu-id="5ed17-228">**InputShape** defines hello dimensionality of hello source layer for hello purposes of this convolutional bundle.</span></span> <span data-ttu-id="5ed17-229">Hello hodnota musí být kladná celá čísla řazená kolekce členů.</span><span class="sxs-lookup"><span data-stu-id="5ed17-229">hello value must be a tuple of positive integers.</span></span> <span data-ttu-id="5ed17-230">Hello produktu celých čísel hello se musí rovnat hodnotě hello počet uzlů v hello zdrojové vrstvy, ale jinak, nemusí dimenzionalitu hello toomatch deklarovat pro hello zdrojové vrstvy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-230">hello product of hello integers must equal hello number of nodes in hello source layer, but otherwise, it does not need toomatch hello dimensionality declared for hello source layer.</span></span> <span data-ttu-id="5ed17-231">Délka Hello tento řazené kolekce členů stane hello **Arita** hodnotu convolutional sadě hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-231">hello length of this tuple becomes hello **arity** value for hello convolutional bundle.</span></span> <span data-ttu-id="5ed17-232">(Obvykle Arita odkazuje toohello počet argumentů nebo operandy, které může provádět funkce.)</span><span class="sxs-lookup"><span data-stu-id="5ed17-232">(Typically arity refers toohello number of arguments or operands that a function can take.)</span></span>  

<span data-ttu-id="5ed17-233">toodefine hello tvar a umístění hello jádra, použít atributy hello **KernelShape**, **Stride**, **odsazení**, **LowerPad**, a **UpperPad**:</span><span class="sxs-lookup"><span data-stu-id="5ed17-233">toodefine hello shape and locations of hello kernels, use hello attributes **KernelShape**, **Stride**, **Padding**, **LowerPad**, and **UpperPad**:</span></span>   

* <span data-ttu-id="5ed17-234">**KernelShape**: (povinné) dimenzionalitě hello definuje každý jádra convolutional sadě hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-234">**KernelShape**: (required) Defines hello dimensionality of each kernel for hello convolutional bundle.</span></span> <span data-ttu-id="5ed17-235">Hello hodnota musí být kladná celá čísla o délce, který se rovná hello Arita sady hello řazená kolekce členů.</span><span class="sxs-lookup"><span data-stu-id="5ed17-235">hello value must be a tuple of positive integers with a length that equals hello arity of hello bundle.</span></span> <span data-ttu-id="5ed17-236">Jednotlivé komponenty této řazené kolekce členů musí být větší než odpovídající komponenta hello **InputShape**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-236">Each component of this tuple must be no greater than hello corresponding component of **InputShape**.</span></span> 
* <span data-ttu-id="5ed17-237">**STRIDE**: (volitelné) definuje hello klouzavé krok velikosti hello konvoluce (jeden krok velikost každé dimenze), který je hello vzdálenost mezi uzly centrální hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-237">**Stride**: (optional) Defines hello sliding step sizes of hello convolution (one step size for each dimension), that is hello distance between hello central nodes.</span></span> <span data-ttu-id="5ed17-238">Hello hodnota musí být kladná celá čísla o délce, který je hello Arita sady hello řazená kolekce členů.</span><span class="sxs-lookup"><span data-stu-id="5ed17-238">hello value must be a tuple of positive integers with a length that is hello arity of hello bundle.</span></span> <span data-ttu-id="5ed17-239">Jednotlivé komponenty této řazené kolekce členů musí být větší než odpovídající komponenta hello **KernelShape**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-239">Each component of this tuple must be no greater than hello corresponding component of **KernelShape**.</span></span> <span data-ttu-id="5ed17-240">Hello výchozí hodnota je řazené kolekce členů s všechny součásti rovna tooone.</span><span class="sxs-lookup"><span data-stu-id="5ed17-240">hello default value is a tuple with all components equal tooone.</span></span> 
* <span data-ttu-id="5ed17-241">**Sdílení**: (volitelné) definuje hello váhy sdílení Každá dimenze konvoluce hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-241">**Sharing**: (optional) Defines hello weight sharing for each dimension of hello convolution.</span></span> <span data-ttu-id="5ed17-242">Hello hodnota může být jedna logická hodnota nebo řazená kolekce členů s délku, která je hello Arita sady hello logické hodnoty.</span><span class="sxs-lookup"><span data-stu-id="5ed17-242">hello value can be a single Boolean value or a tuple of Boolean values with a length that is hello arity of hello bundle.</span></span> <span data-ttu-id="5ed17-243">Jednu logickou hodnotu je rozšířené toobe řazená kolekce členů správnou délku hello se všemi součástmi toohello rovna zadané hodnotě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-243">A single Boolean value is extended toobe a tuple of hello correct length with all components equal toohello specified value.</span></span> <span data-ttu-id="5ed17-244">Hello výchozí hodnota je řazené kolekce členů, která se skládá z všechny hodnoty True.</span><span class="sxs-lookup"><span data-stu-id="5ed17-244">hello default value is a tuple that consists of all True values.</span></span> 
* <span data-ttu-id="5ed17-245">**MapCount**: (volitelné) definuje hello počet funkce mapuje convolutional sadě hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-245">**MapCount**: (optional) Defines hello number of feature maps for hello convolutional bundle.</span></span> <span data-ttu-id="5ed17-246">Hello hodnota může být jeden kladné celé číslo nebo kladných celých čísel s délku, která je hello aritu hello sady řazené kolekce členů.</span><span class="sxs-lookup"><span data-stu-id="5ed17-246">hello value can be a single positive integer or a tuple of positive integers with a length that is hello arity of hello bundle.</span></span> <span data-ttu-id="5ed17-247">Jeden celočíselná hodnota je rozšířeno toobe řazená kolekce členů hello správnou délku s hello první součástí stejné toohello zadaná hodnota a všechny zbývající součásti rovna tooone hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-247">A single integer value is extended toobe a tuple of hello correct length with hello first components equal toohello specified value and all hello remaining components equal tooone.</span></span> <span data-ttu-id="5ed17-248">Hello výchozí hodnota je 1.</span><span class="sxs-lookup"><span data-stu-id="5ed17-248">hello default value is one.</span></span> <span data-ttu-id="5ed17-249">Celkový počet funkce mapy Hello je produkt hello součástí hello hello řazené kolekce členů.</span><span class="sxs-lookup"><span data-stu-id="5ed17-249">hello total number of feature maps is hello product of hello components of hello tuple.</span></span> <span data-ttu-id="5ed17-250">Hello řešení z celkový počet mezi komponentami hello určuje způsob seskupení hello funkce mapy hodnoty hello cílové uzly.</span><span class="sxs-lookup"><span data-stu-id="5ed17-250">hello factoring of this total number across hello components determines how hello feature map values are grouped in hello destination nodes.</span></span> 
* <span data-ttu-id="5ed17-251">**Váhu**: (volitelné) definuje hello počáteční váhu sadě hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-251">**Weights**: (optional) Defines hello initial weights for hello bundle.</span></span> <span data-ttu-id="5ed17-252">Hello hodnota musí být číslo s plovoucí čárkou bodu hodnoty o délce, která je hello počet jader časy hello váhu za jádra, jak jsou definovány dále v tomto článku řazená kolekce členů.</span><span class="sxs-lookup"><span data-stu-id="5ed17-252">hello value must be a tuple of floating point values with a length that is hello number of kernels times hello number of weights per kernel, as defined later in this article.</span></span> <span data-ttu-id="5ed17-253">výchozí váhu Hello se náhodně vygenerované.</span><span class="sxs-lookup"><span data-stu-id="5ed17-253">hello default weights are randomly generated.</span></span>  

<span data-ttu-id="5ed17-254">Existují dvě sady vlastností, které řídí odsazení, vlastnosti hello se vzájemně vylučují:</span><span class="sxs-lookup"><span data-stu-id="5ed17-254">There are two sets of properties that control padding, hello properties being mutually exclusive:</span></span>

* <span data-ttu-id="5ed17-255">**Odsazení**: (volitelné) určuje, zda text hello vstupní vyplní pomocí **výchozí schéma odsazení**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-255">**Padding**: (optional) Determines whether hello input should be padded by using a **default padding scheme**.</span></span> <span data-ttu-id="5ed17-256">Hello hodnota může být jednu logickou hodnotu, nebo může být logická hodnota hodnot s délku, která je hello aritu hello sady řazené kolekce členů.</span><span class="sxs-lookup"><span data-stu-id="5ed17-256">hello value can be a single Boolean value, or it can be a tuple of Boolean values with a length that is hello arity of hello bundle.</span></span> <span data-ttu-id="5ed17-257">Jednu logickou hodnotu je rozšířené toobe řazená kolekce členů správnou délku hello se všemi součástmi toohello rovna zadané hodnotě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-257">A single Boolean value is extended toobe a tuple of hello correct length with all components equal toohello specified value.</span></span> <span data-ttu-id="5ed17-258">Pokud hello dimenze hodnotu True, zdroj hello logicky doplněno v této dimenzi s aplikacemi další jádra toosupport buňky s hodnotou nula, tak, aby hello centrální uzly hello první a poslední jádra v této dimenzi jsou hello první a poslední uzly v této dimenzi ve vrstvě zdroj hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-258">If hello value for a dimension is True, hello source is logically padded in that dimension with zero-valued cells toosupport additional kernel applications, such that hello central nodes of hello first and last kernels in that dimension are hello first and last nodes in that dimension in hello source layer.</span></span> <span data-ttu-id="5ed17-259">Proto hello počet "fiktivní" uzlů v Každá dimenze je přesně určit toofit automaticky, *(InputShape [d] - 1) / Stride [d] + 1* jádra do vrstvy hello vyplní zdroje.</span><span class="sxs-lookup"><span data-stu-id="5ed17-259">Thus, hello number of "dummy" nodes in each dimension is determined automatically, toofit exactly *(InputShape[d] - 1) / Stride[d] + 1* kernels into hello padded source layer.</span></span> <span data-ttu-id="5ed17-260">Pokud je hodnota hello dimenze hodnotu False, hello jádra jsou definovány tak, aby hello počet uzlů na každé straně, které jsou ponechány na stejné hello (až tooa rozdíl 1).</span><span class="sxs-lookup"><span data-stu-id="5ed17-260">If hello value for a dimension is False, hello kernels are defined so that hello number of nodes on each side that are left out is hello same (up tooa difference of 1).</span></span> <span data-ttu-id="5ed17-261">Hello výchozí hodnota tohoto atributu je řazené kolekce členů s všechny součásti rovna tooFalse.</span><span class="sxs-lookup"><span data-stu-id="5ed17-261">hello default value of this attribute is a tuple with all components equal tooFalse.</span></span>
* <span data-ttu-id="5ed17-262">**UpperPad** a **LowerPad**: (volitelné) zadejte větší kontrolu nad hello množství toouse odsazení.</span><span class="sxs-lookup"><span data-stu-id="5ed17-262">**UpperPad** and **LowerPad**: (optional) Provide greater control over hello amount of padding toouse.</span></span> <span data-ttu-id="5ed17-263">**Důležité:** tyto atributy lze definovat, pokud a pouze v případě hello **odsazení** vlastnost výše je ***není*** definované.</span><span class="sxs-lookup"><span data-stu-id="5ed17-263">**Important:** These attributes can be defined if and only if hello **Padding** property above is ***not*** defined.</span></span> <span data-ttu-id="5ed17-264">Hello hodnoty musí být celé číslo s hodnotou řazené kolekce členů s délky, které jsou hello Arita sady hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-264">hello values should be integer-valued tuples with lengths that are hello arity of hello bundle.</span></span> <span data-ttu-id="5ed17-265">Jsou-li tyto atributy, "fiktivní" uzly se přidají toohello nižší a horní konec Každá dimenze hello vstup vrstvě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-265">When these attributes are specified, "dummy" nodes are added toohello lower and upper ends of each dimension of hello input layer.</span></span> <span data-ttu-id="5ed17-266">Hello počet uzlů přidány toohello nižší a horní končí v Každá dimenze je dáno **LowerPad**[i] a **UpperPad**[i] v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="5ed17-266">hello number of nodes added toohello lower and upper ends in each dimension is determined by **LowerPad**[i] and **UpperPad**[i] respectively.</span></span> <span data-ttu-id="5ed17-267">musí být splněné tooensure zda jádra odpovídají pouze příliš "Skutečná" uzly a není příliš "fiktivní" uzly hello následující podmínky:</span><span class="sxs-lookup"><span data-stu-id="5ed17-267">tooensure that kernels correspond only too"real" nodes and not too"dummy" nodes, hello following conditions must be met:</span></span>
  * <span data-ttu-id="5ed17-268">Jednotlivé komponenty **LowerPad** musí být striktně menší než KernelShape [d] / 2.</span><span class="sxs-lookup"><span data-stu-id="5ed17-268">Each component of **LowerPad** must be strictly less than KernelShape[d]/2.</span></span> 
  * <span data-ttu-id="5ed17-269">Jednotlivé komponenty **UpperPad** musí být větší než KernelShape [d] / 2.</span><span class="sxs-lookup"><span data-stu-id="5ed17-269">Each component of **UpperPad** must be no greater than KernelShape[d]/2.</span></span> 
  * <span data-ttu-id="5ed17-270">Výchozí hodnota Hello těchto atributů je řazené kolekce členů s všechny součásti rovna too0.</span><span class="sxs-lookup"><span data-stu-id="5ed17-270">hello default value of these attributes is a tuple with all components equal too0.</span></span> 

<span data-ttu-id="5ed17-271">nastavení Hello **odsazení** = true umožňuje podle potřeby mnohem odsazení, jako je tookeep hello "center" hello jádra uvnitř hello "skutečných" vstup.</span><span class="sxs-lookup"><span data-stu-id="5ed17-271">hello setting **Padding** = true allows as much padding as is needed tookeep hello "center" of hello kernel inside hello "real" input.</span></span> <span data-ttu-id="5ed17-272">Tato operace změní hello matematické trochu pro výpočty velikost výstup hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-272">This changes hello math a bit for computing hello output size.</span></span> <span data-ttu-id="5ed17-273">Obecně platí, výstup hello velikost *D* se vypočítá jako *D = (I - tisíc) nebo S + 1*, kde *I* je vstupní velikost hello, *tisíc* je velikost hello jádra, *S* je hello stride a  */*  je dělení celého čísla (zaokrouhlí směrem k nule).</span><span class="sxs-lookup"><span data-stu-id="5ed17-273">Generally, hello output size *D* is computed as *D = (I - K) / S + 1*, where *I* is hello input size, *K* is hello kernel size, *S* is hello stride, and */* is integer division (round toward zero).</span></span> <span data-ttu-id="5ed17-274">Pokud nastavíte UpperPad = [1, 1], vstupní hello velikost *I* je efektivně 29 a proto *D = (29-5) nebo 2 + 1 = 13*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-274">If you set UpperPad = [1, 1], hello input size *I* is effectively 29, and thus *D = (29 - 5) / 2 + 1 = 13*.</span></span> <span data-ttu-id="5ed17-275">Ale když **odsazení** = true, v podstatě *I* získá bumped podle *K - 1*; proto *D = ((28 + 4) – 5) nebo 2 + 1 = 27 / 2 + 1 = 13 + 1 = 14*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-275">However, when **Padding** = true, essentially *I* gets bumped up by *K - 1*; hence *D = ((28 + 4) - 5) / 2 + 1 = 27 / 2 + 1 = 13 + 1 = 14*.</span></span> <span data-ttu-id="5ed17-276">Zadáním hodnoty pro **UpperPad** a **LowerPad** získat lepší kontrolu nad hello odsazení než pokud jste právě nastavili **odsazení** = true.</span><span class="sxs-lookup"><span data-stu-id="5ed17-276">By specifying values for **UpperPad** and **LowerPad** you get much more control over hello padding than if you just set **Padding** = true.</span></span>

<span data-ttu-id="5ed17-277">Další informace o convolutional sítě a jejich využití naleznete v článcích:</span><span class="sxs-lookup"><span data-stu-id="5ed17-277">For more information about convolutional networks and their applications, see these articles:</span></span>  

* [<span data-ttu-id="5ed17-278">http://deeplearning.NET/Tutorial/lenet.HTML</span><span class="sxs-lookup"><span data-stu-id="5ed17-278">http://deeplearning.net/tutorial/lenet.html </span></span>](http://deeplearning.net/tutorial/lenet.html)
* [<span data-ttu-id="5ed17-279">http://Research.microsoft.com/pubs/68920/icdar03.PDF</span><span class="sxs-lookup"><span data-stu-id="5ed17-279">http://research.microsoft.com/pubs/68920/icdar03.pdf</span></span>](http://research.microsoft.com/pubs/68920/icdar03.pdf) 
* [<span data-ttu-id="5ed17-280">http://People.csail.MIT.edu/jvb/papers/cnn_tutorial.PDF</span><span class="sxs-lookup"><span data-stu-id="5ed17-280">http://people.csail.mit.edu/jvb/papers/cnn_tutorial.pdf</span></span>](http://people.csail.mit.edu/jvb/papers/cnn_tutorial.pdf)  

## <a name="pooling-bundles"></a><span data-ttu-id="5ed17-281">Sdružování sady</span><span class="sxs-lookup"><span data-stu-id="5ed17-281">Pooling bundles</span></span>
<span data-ttu-id="5ed17-282">A **sdružování sady** platí geometrie podobné tooconvolutional připojení, ale používá předdefinované funkce toosource uzlu hodnoty tooderive hello cílový uzel hodnotu.</span><span class="sxs-lookup"><span data-stu-id="5ed17-282">A **pooling bundle** applies geometry similar tooconvolutional connectivity, but it uses predefined functions toosource node values tooderive hello destination node value.</span></span> <span data-ttu-id="5ed17-283">Sdružování sady proto mít žádný trainable stav (váhu nebo tendence z).</span><span class="sxs-lookup"><span data-stu-id="5ed17-283">Hence, pooling bundles have no trainable state (weights or biases).</span></span> <span data-ttu-id="5ed17-284">Sdružování sady podporu všech hello convolutional atributy s výjimkou **sdílení**, **MapCount**, a **váhu**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-284">Pooling bundles support all hello convolutional attributes except **Sharing**, **MapCount**, and **Weights**.</span></span>  

<span data-ttu-id="5ed17-285">Obvykle se nepřekrývají hello jádra souhrnu přiléhající sdružování jednotkami.</span><span class="sxs-lookup"><span data-stu-id="5ed17-285">Typically, hello kernels summarized by adjacent pooling units do not overlap.</span></span> <span data-ttu-id="5ed17-286">Pokud Stride [d] je rovna tooKernelShape [d] v každé dimenzi, je vrstva hello získat hello tradiční místní sdružování vrstvu, která se běžně používané v convolutional neuronové sítě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-286">If Stride[d] is equal tooKernelShape[d] in each dimension, hello layer obtained is hello traditional local pooling layer, which is commonly employed in convolutional neural networks.</span></span> <span data-ttu-id="5ed17-287">Každý cílový uzel vypočítá hello maximální nebo hello střední hello činnosti jeho jádra ve vrstvě zdroj hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-287">Each destination node computes hello maximum or hello mean of hello activities of its kernel in hello source layer.</span></span>  

<span data-ttu-id="5ed17-288">Hello následující příklad znázorňuje sdružování sady:</span><span class="sxs-lookup"><span data-stu-id="5ed17-288">hello following example illustrates a pooling bundle:</span></span> 

    hidden P1 [5, 12, 12]
      from C1 max pool {
        InputShape  = [ 5, 24, 24];
        KernelShape = [ 1,  2,  2];
        Stride      = [ 1,  2,  2];
      }  

* <span data-ttu-id="5ed17-289">Hello Arita sady hello je 3 (hello délka řazené kolekce členů hello **InputShape**, **KernelShape**, a **Stride**).</span><span class="sxs-lookup"><span data-stu-id="5ed17-289">hello arity of hello bundle is 3 (hello length of hello tuples **InputShape**, **KernelShape**, and **Stride**).</span></span> 
* <span data-ttu-id="5ed17-290">Hello počet uzlů ve vrstvě zdroj hello je *5 * 24 * 24 = 2880*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-290">hello number of nodes in hello source layer is *5 * 24 * 24 = 2880*.</span></span> 
* <span data-ttu-id="5ed17-291">Toto je tradiční místní sdružování vrstvu, protože **KernelShape** a **Stride** jsou stejné.</span><span class="sxs-lookup"><span data-stu-id="5ed17-291">This is a traditional local pooling layer because **KernelShape** and **Stride** are equal.</span></span> 
* <span data-ttu-id="5ed17-292">Hello počet uzlů ve vrstvě cílové hello je *5 * 12 * 12 = 1440*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-292">hello number of nodes in hello destination layer is *5 * 12 * 12 = 1440*.</span></span>  

<span data-ttu-id="5ed17-293">Další informace o sdružování vrstev najdete v těchto článcích:</span><span class="sxs-lookup"><span data-stu-id="5ed17-293">For more information about pooling layers, see these articles:</span></span>  

* <span data-ttu-id="5ed17-294">[http://www.cs.Toronto.edu/~hinton/absps/imagenet.PDF](http://www.cs.toronto.edu/~hinton/absps/imagenet.pdf) (část 3.4)</span><span class="sxs-lookup"><span data-stu-id="5ed17-294">[http://www.cs.toronto.edu/~hinton/absps/imagenet.pdf](http://www.cs.toronto.edu/~hinton/absps/imagenet.pdf) (Section 3.4)</span></span>
* [<span data-ttu-id="5ed17-295">http://cs.Nyu.edu/~koray/publis/lecun-iscas-10.PDF</span><span class="sxs-lookup"><span data-stu-id="5ed17-295">http://cs.nyu.edu/~koray/publis/lecun-iscas-10.pdf</span></span>](http://cs.nyu.edu/~koray/publis/lecun-iscas-10.pdf) 
* [<span data-ttu-id="5ed17-296">http://cs.Nyu.edu/~koray/publis/jarrett-iccv-09.PDF</span><span class="sxs-lookup"><span data-stu-id="5ed17-296">http://cs.nyu.edu/~koray/publis/jarrett-iccv-09.pdf</span></span>](http://cs.nyu.edu/~koray/publis/jarrett-iccv-09.pdf)

## <a name="response-normalization-bundles"></a><span data-ttu-id="5ed17-297">Odpověď normalizaci sady</span><span class="sxs-lookup"><span data-stu-id="5ed17-297">Response normalization bundles</span></span>
<span data-ttu-id="5ed17-298">**Odpověď normalizaci** je místní normalizaci schéma, které bylo poprvé dostupné ve Geoffrey Hinton, a další v dokumentu hello [ImageNet Classiﬁcation s hluboké Neuronové sítě Convolutional](http://www.cs.toronto.edu/~hinton/absps/imagenet.pdf).</span><span class="sxs-lookup"><span data-stu-id="5ed17-298">**Response normalization** is a local normalization scheme that was first introduced by Geoffrey Hinton, et al, in hello paper [ImageNet Classiﬁcation with Deep Convolutional Neural Networks](http://www.cs.toronto.edu/~hinton/absps/imagenet.pdf).</span></span> <span data-ttu-id="5ed17-299">Odpověď normalizace je použité tooaid Generalizace v neuronové sítě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-299">Response normalization is used tooaid generalization in neural nets.</span></span> <span data-ttu-id="5ed17-300">Když jeden neuron se aktivuje na velmi vysokou aktivace úrovni, potlačí vrstva normalizaci místní odpovědi hello aktivace úroveň hello kolem neurons.</span><span class="sxs-lookup"><span data-stu-id="5ed17-300">When one neuron is firing at a very high activation level, a local response normalization layer suppresses hello activation level of hello surrounding neurons.</span></span> <span data-ttu-id="5ed17-301">To se provádí pomocí tří parametry (***α***, ***β***, a ***tisíc***) a convolutional struktury (nebo tvar Okolní počítače).</span><span class="sxs-lookup"><span data-stu-id="5ed17-301">This is done by using three parameters (***α***, ***β***, and ***k***) and a convolutional structure (or neighborhood shape).</span></span> <span data-ttu-id="5ed17-302">Každý neuron ve vrstvě cílové hello ***y*** odpovídá tooa neuron ***x*** ve vrstvě zdroj hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-302">Every neuron in hello destination layer ***y*** corresponds tooa neuron ***x*** in hello source layer.</span></span> <span data-ttu-id="5ed17-303">Hello aktivace úroveň ***y*** je dán hello následující vzorec, kde ***f*** je hello neuron, aktivace a ***Nx*** jádra hello (nebo hello sadu, která obsahuje hello neurons v okolí hello z ***x***), jak je definované hello convolutional strukturu:</span><span class="sxs-lookup"><span data-stu-id="5ed17-303">hello activation level of ***y*** is given by hello following formula, where ***f*** is hello activation level of a neuron, and ***Nx*** is hello kernel (or hello set that contains hello neurons in hello neighborhood of ***x***), as defined by hello following convolutional structure:</span></span>  

![][1]  

<span data-ttu-id="5ed17-304">Odpověď sady normalizaci podporují všechny atributy convolutional hello s výjimkou **sdílení**, **MapCount**, a **váhu**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-304">Response normalization bundles support all hello convolutional attributes except **Sharing**, **MapCount**, and **Weights**.</span></span>  

* <span data-ttu-id="5ed17-305">Pokud hello jádra obsahuje neurons v hello mapovat stejné jako ***x***, schéma normalizaci hello je odkazované tooas **stejné mapování normalizaci**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-305">If hello kernel contains neurons in hello same map as ***x***, hello normalization scheme is referred tooas **same map normalization**.</span></span> <span data-ttu-id="5ed17-306">toodefine stejné mapování normalizaci hello první souřadnice v **InputShape** musí mít hello hodnotu 1.</span><span class="sxs-lookup"><span data-stu-id="5ed17-306">toodefine same map normalization, hello first coordinate in **InputShape** must have hello value 1.</span></span>
* <span data-ttu-id="5ed17-307">Pokud hello jádra obsahuje neurons v hello prostorových stejně jako při ***x***, ale hello neurons jsou v další mapy, se nazývá hello normalizaci schéma **napříč mapuje normalizaci**.</span><span class="sxs-lookup"><span data-stu-id="5ed17-307">If hello kernel contains neurons in hello same spatial position as ***x***, but hello neurons are in other maps, hello normalization scheme is called **across maps normalization**.</span></span> <span data-ttu-id="5ed17-308">Tento typ odpovědi normalizaci implementuje formu laterální zabránění vycházející hello v nalezen typ skutečné neurons vytváření soutěž o úrovně big aktivace mezi výstupy neuron počítaný na různých mapy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-308">This type of response normalization implements a form of lateral inhibition inspired by hello type found in real neurons, creating competition for big activation levels amongst neuron outputs computed on different maps.</span></span> <span data-ttu-id="5ed17-309">toodefine napříč mapuje normalizaci, první souřadnice hello musí být celé číslo větší než 1 a větší než počet hello mapy a hello zbytek hello souřadnice musí mít hello hodnotu 1.</span><span class="sxs-lookup"><span data-stu-id="5ed17-309">toodefine across maps normalization, hello first coordinate must be an integer greater than one and no greater than hello number of maps, and hello rest of hello coordinates must have hello value 1.</span></span>  

<span data-ttu-id="5ed17-310">Protože odpovědi normalizaci sady použít hodnotu předdefinované funkce toosource uzlu hodnoty toodetermine hello cílový uzel, nemají žádný trainable stav (váhu nebo tendence z).</span><span class="sxs-lookup"><span data-stu-id="5ed17-310">Because response normalization bundles apply a predefined function toosource node values toodetermine hello destination node value, they have no trainable state (weights or biases).</span></span>   

<span data-ttu-id="5ed17-311">**Výstrahy**: hello uzlů ve vrstvě cílové hello odpovídají tooneurons, které jsou centrální uzly hello hello jádra.</span><span class="sxs-lookup"><span data-stu-id="5ed17-311">**Alert**: hello nodes in hello destination layer correspond tooneurons that are hello central nodes of hello kernels.</span></span> <span data-ttu-id="5ed17-312">Například pokud KernelShape [d] je liché, pak *KernelShape [d] / 2* odpovídá toohello centrální jádra uzlu.</span><span class="sxs-lookup"><span data-stu-id="5ed17-312">For example, if KernelShape[d] is odd, then *KernelShape[d]/2* corresponds toohello central kernel node.</span></span> <span data-ttu-id="5ed17-313">Pokud *KernelShape [d]* je i, hello centrálního uzlu se na *KernelShape [d] / 2-1*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-313">If *KernelShape[d]* is even, hello central node is at *KernelShape[d]/2 - 1*.</span></span> <span data-ttu-id="5ed17-314">Proto pokud **odsazení**[d] skončí s výsledkem False, hello první a poslední hello *KernelShape [d] / 2* uzly nemají odpovídající uzly ve vrstvě cílové hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-314">Therefore, if **Padding**[d] is False, hello first and hello last *KernelShape[d]/2* nodes do not have corresponding nodes in hello destination layer.</span></span> <span data-ttu-id="5ed17-315">tooavoid této situaci definovat **odsazení** jako [true nastavena hodnota true, true...,].</span><span class="sxs-lookup"><span data-stu-id="5ed17-315">tooavoid this situation, define **Padding** as [true, true, …, true].</span></span>  

<span data-ttu-id="5ed17-316">Kromě toho toohello čtyři atributy dříve popisované, odpověď normalizaci sady také podpora hello následující atributy:</span><span class="sxs-lookup"><span data-stu-id="5ed17-316">In addition toohello four attributes described earlier, response normalization bundles also support hello following attributes:</span></span>  

* <span data-ttu-id="5ed17-317">**Alpha**: (povinné) určuje hodnota s plovoucí desetinnou čárkou, která odpovídá příliš***α*** ve vzorci předchozí hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-317">**Alpha**: (required) Specifies a floating-point value that corresponds too***α*** in hello previous formula.</span></span> 
* <span data-ttu-id="5ed17-318">**Beta**: (povinné) určuje hodnota s plovoucí desetinnou čárkou, která odpovídá příliš***β*** ve vzorci předchozí hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-318">**Beta**: (required) Specifies a floating-point value that corresponds too***β*** in hello previous formula.</span></span> 
* <span data-ttu-id="5ed17-319">**Posun**: (volitelné) určuje hodnota s plovoucí desetinnou čárkou, která odpovídá příliš***tisíc*** ve vzorci předchozí hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-319">**Offset**: (optional) Specifies a floating-point value that corresponds too***k*** in hello previous formula.</span></span> <span data-ttu-id="5ed17-320">Výchozí hodnota too1.</span><span class="sxs-lookup"><span data-stu-id="5ed17-320">It defaults too1.</span></span>  

<span data-ttu-id="5ed17-321">Hello následující příklad definuje sady normalizaci odpovědi pomocí tyto atributy:</span><span class="sxs-lookup"><span data-stu-id="5ed17-321">hello following example defines a response normalization bundle using these attributes:</span></span>  

    hidden RN1 [5, 10, 10]
      from P1 response norm {
        InputShape  = [ 5, 12, 12];
        KernelShape = [ 1,  3,  3];
        Alpha = 0.001;
        Beta = 0.75;
      }  

* <span data-ttu-id="5ed17-322">Hello zdroj vrstva obsahuje pět maps, každý s dimenzí aof 12 x 12, ale v uzlech 1440.</span><span class="sxs-lookup"><span data-stu-id="5ed17-322">hello source layer includes five maps, each with aof dimension of 12x12, totaling in 1440 nodes.</span></span> 
* <span data-ttu-id="5ed17-323">Hello hodnotu **KernelShape** označuje, že se jedná o stejnou vrstvu normalizaci mapy, kde hello servery jsou obdélníku 3 x 3.</span><span class="sxs-lookup"><span data-stu-id="5ed17-323">hello value of **KernelShape** indicates that this is a same map normalization layer, where hello neighborhood is a 3x3 rectangle.</span></span> 
* <span data-ttu-id="5ed17-324">Hello výchozí hodnotu **odsazení** hodnotu False, proto hello cílové vrstvě má jenom 10 uzly v Každá dimenze.</span><span class="sxs-lookup"><span data-stu-id="5ed17-324">hello default value of **Padding** is False, thus hello destination layer has only 10 nodes in each dimension.</span></span> <span data-ttu-id="5ed17-325">tooinclude jeden uzel v hello cílové vrstva, která odpovídá tooevery uzlu ve vrstvě hello zdroje, přidejte odsazení = [hodnotu true, true, true]; a změňte velikost hello RN1 příliš [5, 12, 12].</span><span class="sxs-lookup"><span data-stu-id="5ed17-325">tooinclude one node in hello destination layer that corresponds tooevery node in hello source layer, add Padding = [true, true, true]; and change hello size of RN1 too[5, 12, 12].</span></span>  

## <a name="share-declaration"></a><span data-ttu-id="5ed17-326">Deklarace sdílené složky</span><span class="sxs-lookup"><span data-stu-id="5ed17-326">Share declaration</span></span>
<span data-ttu-id="5ed17-327">NET # volitelně podporuje definování víc sad s sdílené váhou.</span><span class="sxs-lookup"><span data-stu-id="5ed17-327">Net# optionally supports defining multiple bundles with shared weights.</span></span> <span data-ttu-id="5ed17-328">Hello váhu jakékoli dvě sady lze sdílet v případě, že jejich struktury jsou hello stejné.</span><span class="sxs-lookup"><span data-stu-id="5ed17-328">hello weights of any two bundles can be shared if their structures are hello same.</span></span> <span data-ttu-id="5ed17-329">Hello se syntaxí definuje sady s váhou sdílené:</span><span class="sxs-lookup"><span data-stu-id="5ed17-329">hello following syntax defines bundles with shared weights:</span></span>  

    share-declaration:
        share    {    layer-list    }
        share    {    bundle-list    }
       share    {    bias-list    }

    layer-list:
        layer-name    ,    layer-name
        layer-list    ,    layer-name

    bundle-list:
       bundle-spec    ,    bundle-spec
        bundle-list    ,    bundle-spec

    bundle-spec:
       layer-name    =>     layer-name

    bias-list:
        bias-spec    ,    bias-spec
        bias-list    ,    bias-spec

    bias-spec:
        1    =>    layer-name

    layer-name:
        identifier  

<span data-ttu-id="5ed17-330">Například hello následující prohlášení sdílené složky určuje názvy hello vrstev, která udává, že by měla být sdílena váhu i tendence z:</span><span class="sxs-lookup"><span data-stu-id="5ed17-330">For example, hello following share-declaration specifies hello layer names, indicating that both weights and biases should be shared:</span></span>  

    Const {
      InputSize = 37;
      HiddenSize = 50;
    }
    input {
      Data1 [InputSize];
      Data2 [InputSize];
    }
    hidden {
      H1 [HiddenSize] from Data1 all;
      H2 [HiddenSize] from Data2 all;
    }
    output Result [2] {
      from H1 all;
      from H2 all;
    }
    share { H1, H2 } // share both weights and biases  

* <span data-ttu-id="5ed17-331">vstupní Funkce Hello jsou rozděleny do dvou rovna velikosti vstupní vrstev.</span><span class="sxs-lookup"><span data-stu-id="5ed17-331">hello input features are partitioned into two equal sized input layers.</span></span> 
* <span data-ttu-id="5ed17-332">Hello skryté vrstvy pak výpočetní vyšší úrovně funkcí na dvou vstupních vrstev hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-332">hello hidden layers then compute higher level features on hello two input layers.</span></span> 
* <span data-ttu-id="5ed17-333">Hello sdílenou složku – deklarace Určuje, že *H1* a *H2* musí být vypočteny v hello stejným způsobem jako z jejich odpovídajících vstupy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-333">hello share-declaration specifies that *H1* and *H2* must be computed in hello same way from their respective inputs.</span></span>  

<span data-ttu-id="5ed17-334">Alternativně to může být určen pomocí dvou samostatných deklarace sdílené složky následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="5ed17-334">Alternatively, this could be specified with two separate share-declarations as follows:</span></span>  

    share { Data1 => H1, Data2 => H2 } // share weights  

<!-- -->

    share { 1 => H1, 1 => H2 } // share biases  

<span data-ttu-id="5ed17-335">Hello krátkých úseků můžete použít pouze v případě, že vrstvy hello obsahují v jedné sadě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-335">You can use hello short form only when hello layers contain a single bundle.</span></span> <span data-ttu-id="5ed17-336">Obecně platí sdílení je možné, pouze pokud je relevantní struktura hello identické, což znamená, že mají hello stejná velikost stejné convolutional geometry a tak dále.</span><span class="sxs-lookup"><span data-stu-id="5ed17-336">In general, sharing is possible only when hello relevant structure is identical, meaning that they have hello same size, same convolutional geometry, and so forth.</span></span>  

## <a name="examples-of-net-usage"></a><span data-ttu-id="5ed17-337">Příklady Net # využití</span><span class="sxs-lookup"><span data-stu-id="5ed17-337">Examples of Net# usage</span></span>
<span data-ttu-id="5ed17-338">Tato část obsahuje příklady použití Net # tooadd skryté vrstvy, definovat hello způsobu, jakým komunikovat s jinými vrstvami skryté vrstvy a sestavení convolutional sítě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-338">This section provides some examples of how you can use Net# tooadd hidden layers, define hello way that hidden layers interact with other layers, and build convolutional networks.</span></span>   

### <a name="define-a-simple-custom-neural-network-hello-world-example"></a><span data-ttu-id="5ed17-339">Definovat jednoduchý vlastní neuronové sítě: příkladu "Hello World"</span><span class="sxs-lookup"><span data-stu-id="5ed17-339">Define a simple custom neural network: "Hello World" example</span></span>
<span data-ttu-id="5ed17-340">Jednoduchý příklad ukazuje, jak toocreate a neuronové sítě model, který má jeden skryté vrstvě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-340">This simple example demonstrates how toocreate a neural network model that has a single hidden layer.</span></span>  

    input Data auto;
    hidden H [200] from Data all;
    output Out [10] sigmoid from H all;  

<span data-ttu-id="5ed17-341">Hello příklad ukazuje některé základní příkazy následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="5ed17-341">hello example illustrates some basic commands as follows:</span></span>  

* <span data-ttu-id="5ed17-342">Hello první řádek definuje vstupní vrstvy hello (s názvem *Data*).</span><span class="sxs-lookup"><span data-stu-id="5ed17-342">hello first line defines hello input layer (named *Data*).</span></span> <span data-ttu-id="5ed17-343">Při použití hello **automaticky** – klíčové slovo, hello neuronové sítě automaticky obsahuje všechny funkce sloupce vstupní příklady hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-343">When you use hello  **auto** keyword, hello neural network automatically includes all feature columns in hello input examples.</span></span> 
* <span data-ttu-id="5ed17-344">Hello druhý řádek vytvoří hello skryté vrstvě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-344">hello second line creates hello hidden layer.</span></span> <span data-ttu-id="5ed17-345">Název Hello *H* je přiřazen skryté vrstvě toohello, který má 200 uzly.</span><span class="sxs-lookup"><span data-stu-id="5ed17-345">hello name *H* is assigned toohello hidden layer, which has 200 nodes.</span></span> <span data-ttu-id="5ed17-346">Tuto vrstvu je plně připojené toohello vstupní vrstvy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-346">This layer is fully connected toohello input layer.</span></span>
* <span data-ttu-id="5ed17-347">třetí řádek Hello definuje vrstvy výstup hello (s názvem *O*), který obsahuje 10 výstupních uzlů.</span><span class="sxs-lookup"><span data-stu-id="5ed17-347">hello third line defines hello output layer (named *O*), which contains 10 output nodes.</span></span> <span data-ttu-id="5ed17-348">Pokud hello neuronové sítě se používá pro klasifikaci, je jeden uzel výstup na třídu.</span><span class="sxs-lookup"><span data-stu-id="5ed17-348">If hello neural network is used for classification, there is one output node per class.</span></span> <span data-ttu-id="5ed17-349">Hello – klíčové slovo **sigmoid** označuje, že funkce výstup hello je použité toohello výstup vrstvy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-349">hello keyword **sigmoid** indicates that hello output function is applied toohello output layer.</span></span>   

### <a name="define-multiple-hidden-layers-computer-vision-example"></a><span data-ttu-id="5ed17-350">Definovat více skryté vrstvy: Příklad vize počítače</span><span class="sxs-lookup"><span data-stu-id="5ed17-350">Define multiple hidden layers: computer vision example</span></span>
<span data-ttu-id="5ed17-351">Hello následující příklad ukazuje, jak toodefine trochu složitější neuronové sítě s více vlastní skryté vrstvy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-351">hello following example demonstrates how toodefine a slightly more complex neural network, with multiple custom hidden layers.</span></span>  

    // Define hello input layers 
    input Pixels [10, 20];
    input MetaData [7];

    // Define hello first two hidden layers, using data only from hello Pixels input
    hidden ByRow [10, 12] from Pixels where (s,d) => s[0] == d[0];
    hidden ByCol [5, 20] from Pixels where (s,d) => abs(s[1] - d[1]) <= 1;

    // Define hello third hidden layer, which uses as source hello hidden layers ByRow and ByCol
    hidden Gather [100] 
    {
      from ByRow all;
      from ByCol all;
    }

    // Define hello output layer and its sources
    output Result [10]  
    {
      from Gather all;
      from MetaData all;
    }  

<span data-ttu-id="5ed17-352">Tento příklad znázorňuje několik funkcí specifikace jazyka hello neuronové sítě:</span><span class="sxs-lookup"><span data-stu-id="5ed17-352">This example illustrates several features of hello neural networks specification language:</span></span>  

* <span data-ttu-id="5ed17-353">Struktura Hello má dva vstupní vrstev, *pixelů* a *MetaData*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-353">hello structure has two input layers, *Pixels* and *MetaData*.</span></span>
* <span data-ttu-id="5ed17-354">Hello *pixelů* vrstvy je vrstva zdroje pro dvě sady připojení, s vrstvami cílové *ByRow* a *ByCol*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-354">hello *Pixels* layer is a source layer for two connection bundles, with destination layers, *ByRow* and *ByCol*.</span></span>
* <span data-ttu-id="5ed17-355">Hello vrstvy *shromažďovat* a *výsledek* jsou cílové vrstvy do více svazků připojení.</span><span class="sxs-lookup"><span data-stu-id="5ed17-355">hello layers *Gather* and *Result* are destination layers in multiple connection bundles.</span></span>
* <span data-ttu-id="5ed17-356">vrstvy výstup Hello *výsledek*, je vrstva cílové vede ke dvěma připojení sady; jedna s hello druhé úrovně skrytá (shromáždění) jako vrstva cílové a hello další vrstva vstupní hello (MetaData) jako cílové vrstvě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-356">hello output layer, *Result*, is a destination layer in two connection bundles; one with hello second level hidden (Gather) as a destination layer, and hello other with hello input layer (MetaData) as a destination layer.</span></span>
* <span data-ttu-id="5ed17-357">Hello skryté vrstvy *ByRow* a *ByCol*, zadejte filtrované připojení pomocí predikátu výrazy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-357">hello hidden layers, *ByRow* and *ByCol*, specify filtered connectivity by using predicate expressions.</span></span> <span data-ttu-id="5ed17-358">Přesněji řečeno, hello uzlu v *ByRow* v [x, y] je připojených toohello uzlů v *pixelů* mají první souřadnic, x hello první index souřadnic rovna toohello uzlu.</span><span class="sxs-lookup"><span data-stu-id="5ed17-358">More precisely, hello node in *ByRow* at [x, y] is connected toohello nodes in *Pixels* that have hello first index coordinate equal toohello node's first coordinate, x.</span></span> <span data-ttu-id="5ed17-359">Podobně hello uzlu v *ByCol v [x, y] je připojených toohello uzlů v _Pixels* mají hello druhý souřadnice index v rámci jednoho uzlu hello druhý souřadnice, y.</span><span class="sxs-lookup"><span data-stu-id="5ed17-359">Similarly, hello node in *ByCol at [x, y] is connected toohello nodes in _Pixels* that have hello second index coordinate within one of hello node's second coordinate, y.</span></span>  

### <a name="define-a-convolutional-network-for-multiclass-classification-digit-recognition-example"></a><span data-ttu-id="5ed17-360">Zadejte síť convolutional pro více třídami klasifikace: Příklad rozpoznávání číslice</span><span class="sxs-lookup"><span data-stu-id="5ed17-360">Define a convolutional network for multiclass classification: digit recognition example</span></span>
<span data-ttu-id="5ed17-361">definice Hello hello následující sítě je navrženou toorecognize čísla a ilustruje některé pokročilé techniky pro přizpůsobení neuronové sítě.</span><span class="sxs-lookup"><span data-stu-id="5ed17-361">hello definition of hello following network is designed toorecognize numbers, and it illustrates some advanced techniques for customizing a neural network.</span></span>  

    input Image [29, 29];
    hidden Conv1 [5, 13, 13] from Image convolve 
    {
       InputShape  = [29, 29];
       KernelShape = [ 5,  5];
       Stride      = [ 2,  2];
       MapCount    = 5;
    }
    hidden Conv2 [50, 5, 5]
    from Conv1 convolve 
    {
       InputShape  = [ 5, 13, 13];
       KernelShape = [ 1,  5,  5];
       Stride      = [ 1,  2,  2];
       Sharing     = [false, true, true];
       MapCount    = 10;
    }
    hidden Hid3 [100] from Conv2 all;
    output Digit [10] from Hid3 all;  


* <span data-ttu-id="5ed17-362">Struktura Hello má jeden vstupní vrstvu, *Image*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-362">hello structure has a single input layer, *Image*.</span></span>
* <span data-ttu-id="5ed17-363">Hello – klíčové slovo **convolve** označuje, že hello vrstev s názvem *Conv1* a *Conv2* jsou convolutional vrstvy.</span><span class="sxs-lookup"><span data-stu-id="5ed17-363">hello keyword **convolve** indicates that hello layers named *Conv1* and *Conv2* are convolutional layers.</span></span> <span data-ttu-id="5ed17-364">Každý z těchto layer prohlášení je následovaný seznamem atributů konvoluce hello.</span><span class="sxs-lookup"><span data-stu-id="5ed17-364">Each of these layer declarations is followed by a list of hello convolution attributes.</span></span>
* <span data-ttu-id="5ed17-365">Hello net má třetí skryté vrstvy *Hid3*, která je plně připojené toohello druhý skryté vrstvě, *Conv2*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-365">hello net has a third hidden layer, *Hid3*, which is fully connected toohello second hidden layer, *Conv2*.</span></span>
* <span data-ttu-id="5ed17-366">vrstvy výstup Hello *číslice*, je připojený jenom toohello třetí skryté vrstvě, *Hid3*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-366">hello output layer, *Digit*, is connected only toohello third hidden layer, *Hid3*.</span></span> <span data-ttu-id="5ed17-367">Hello – klíčové slovo **všechny** označuje, že vrstvy výstup hello plně připojeno příliš*Hid3*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-367">hello keyword **all** indicates that hello output layer is fully connected too*Hid3*.</span></span>
* <span data-ttu-id="5ed17-368">Hello aritu konvoluce hello je tři (hello délka řazené kolekce členů hello **InputShape**, **KernelShape**, **Stride**, a **sdílení**).</span><span class="sxs-lookup"><span data-stu-id="5ed17-368">hello arity of hello convolution is three (hello length of hello tuples **InputShape**, **KernelShape**, **Stride**, and **Sharing**).</span></span> 
* <span data-ttu-id="5ed17-369">Hello počet váhu za jádra je *1 + **KernelShape**\[0] * **KernelShape**\[1] * **KernelShape** \[2] = 1 + 1 * 5 * 5 = 26. Nebo 26 * 50 = 1300*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-369">hello number of weights per kernel is *1 + **KernelShape**\[0] * **KernelShape**\[1] * **KernelShape**\[2] = 1 + 1 * 5 * 5 = 26. Or 26 * 50 = 1300*.</span></span>
* <span data-ttu-id="5ed17-370">Hello uzly v každé skryté vrstvě můžete vypočítat následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="5ed17-370">You can calculate hello nodes in each hidden layer as follows:</span></span>
  * <span data-ttu-id="5ed17-371">**NodeCount**\[0] = (5 - 1) nebo 1 + 1 = 5.</span><span class="sxs-lookup"><span data-stu-id="5ed17-371">**NodeCount**\[0] = (5 - 1) / 1 + 1 = 5.</span></span>
  * <span data-ttu-id="5ed17-372">**NodeCount**\[1] = (13-5) nebo 2 + 1 = 5.</span><span class="sxs-lookup"><span data-stu-id="5ed17-372">**NodeCount**\[1] = (13 - 5) / 2 + 1 = 5.</span></span> 
  * <span data-ttu-id="5ed17-373">**NodeCount**\[2] = (13-5) nebo 2 + 1 = 5.</span><span class="sxs-lookup"><span data-stu-id="5ed17-373">**NodeCount**\[2] = (13 - 5) / 2 + 1 = 5.</span></span> 
* <span data-ttu-id="5ed17-374">Hello celkový počet uzlů, lze vypočítat pomocí hello deklarovaný dimenzionalitu hello vrstvy, [50, 5, 5], následujícím způsobem:  ***MapCount** * **NodeCount** \[ 0] * **NodeCount**\[1] * **NodeCount**\[10 * 5 * 5 * 5 = 2]*</span><span class="sxs-lookup"><span data-stu-id="5ed17-374">hello total number of nodes can be calculated by using hello declared dimensionality of hello layer, [50, 5, 5], as follows: ***MapCount** * **NodeCount**\[0] * **NodeCount**\[1] * **NodeCount**\[2] = 10 * 5 * 5 * 5*</span></span>
* <span data-ttu-id="5ed17-375">Protože **sdílení**[d] skončí s výsledkem False pouze pro *d == 0*, hello počet jader je  ***MapCount** * **NodeCount** \[0] = 10 * 5 = 50*.</span><span class="sxs-lookup"><span data-stu-id="5ed17-375">Because **Sharing**[d] is False only for *d == 0*, hello number of kernels is ***MapCount** * **NodeCount**\[0] = 10 * 5 = 50*.</span></span> 

## <a name="acknowledgements"></a><span data-ttu-id="5ed17-376">Potvrzení</span><span class="sxs-lookup"><span data-stu-id="5ed17-376">Acknowledgements</span></span>
<span data-ttu-id="5ed17-377">Hello jazyk Net # pro přizpůsobení hello architektura neuronové sítě byla vyvinuta v Microsoftu Shon Katzenberger (Architekti, Machine Learning) a Alexey Kamenev (pracovník softwaru, Microsoft Research).</span><span class="sxs-lookup"><span data-stu-id="5ed17-377">hello Net# language for customizing hello architecture of neural networks was developed at Microsoft by Shon Katzenberger (Architect, Machine Learning) and Alexey Kamenev (Software Engineer, Microsoft Research).</span></span> <span data-ttu-id="5ed17-378">Se používá interně pro strojové učení, projekty a aplikace od analýzy tootext detekce bitové kopie.</span><span class="sxs-lookup"><span data-stu-id="5ed17-378">It is used internally for machine learning projects and applications ranging from image detection tootext analytics.</span></span> <span data-ttu-id="5ed17-379">Další informace najdete v tématu [Neuronové sítě v Azure ML – Úvod tooNet #](http://blogs.technet.com/b/machinelearning/archive/2015/02/16/neural-nets-in-azure-ml-introduction-to-net.aspx)</span><span class="sxs-lookup"><span data-stu-id="5ed17-379">For more information, see [Neural Nets in Azure ML - Introduction tooNet#](http://blogs.technet.com/b/machinelearning/archive/2015/02/16/neural-nets-in-azure-ml-introduction-to-net.aspx)</span></span>

[1]:./media/machine-learning-azure-ml-netsharp-reference-guide/formula_large.gif

