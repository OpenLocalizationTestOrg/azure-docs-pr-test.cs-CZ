---
title: "Pomocí lineární regrese v Machine Learning | Microsoft Docs"
description: "Porovnání modelů lineární regrese v aplikaci Excel a v nástroji Azure Machine Learning Studio"
metakeywords: 
services: machine-learning
documentationcenter: 
author: garyericson
manager: jhubbard
editor: cgronlun
ms.assetid: 417ae6ab-de4f-4bdd-957a-d96133234656
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/20/2017
ms.author: kbaroni;garye
ms.openlocfilehash: 7feb5d62415850e66f8eb7e22b9ada0d25a7058e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="using-linear-regression-in-azure-machine-learning"></a><span data-ttu-id="91e00-103">Používání lineární regrese ve službě Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="91e00-103">Using linear regression in Azure Machine Learning</span></span>
> <span data-ttu-id="91e00-104">*Kate Baroni* a *Ben Boatman* jsou podnikové řešení architekty ve společnosti Microsoft Data Statistika špičkové Center.</span><span class="sxs-lookup"><span data-stu-id="91e00-104">*Kate Baroni* and *Ben Boatman* are enterprise solution architects in Microsoft’s Data Insights Center of Excellence.</span></span> <span data-ttu-id="91e00-105">V tomto článku popisují jejich prostředí migrace sady analysis existující regrese na cloudové řešení pomocí Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="91e00-105">In this article, they describe their experience migrating an existing regression analysis suite to a cloud-based solution using Azure Machine Learning.</span></span> 
> 
> 

&nbsp; 

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

## <a name="goal"></a><span data-ttu-id="91e00-106">Cílem</span><span class="sxs-lookup"><span data-stu-id="91e00-106">Goal</span></span>
<span data-ttu-id="91e00-107">Naše projektu začít s dva cíle v paměti:</span><span class="sxs-lookup"><span data-stu-id="91e00-107">Our project started with two goals in mind:</span></span> 

1. <span data-ttu-id="91e00-108">Použijte k zajištění přesnosti naší organizace měsíční výnosy projekce prediktivní analýzy</span><span class="sxs-lookup"><span data-stu-id="91e00-108">Use predictive analytics to improve the accuracy of our organization’s monthly revenue projections</span></span> 
2. <span data-ttu-id="91e00-109">Pomocí Azure Machine Learning k potvrzení, optimalizace, zvýšení rychlosti a škálování naše výsledků.</span><span class="sxs-lookup"><span data-stu-id="91e00-109">Use Azure Machine Learning to confirm, optimize, increase velocity, and scale of our results.</span></span> 

<span data-ttu-id="91e00-110">Například mnoho firem naší organizace projde měsíční výnosy prognózy procesu.</span><span class="sxs-lookup"><span data-stu-id="91e00-110">Like many businesses, our organization goes through a monthly revenue forecasting process.</span></span> <span data-ttu-id="91e00-111">Úkolem naší malý tým obchodní analytici bylo pomocí Azure Machine Learning podporují procesu a zvyšte tak přesnost předpovědi.</span><span class="sxs-lookup"><span data-stu-id="91e00-111">Our small team of business analysts was tasked with using Azure Machine Learning to support the process and improve forecast accuracy.</span></span> <span data-ttu-id="91e00-112">Tým stráví několik měsíců, shromažďování dat z více zdrojů a spouštění atributy datového prostřednictvím statistické analýzy, identifikace klíčových atributů, které jsou relevantní pro prognózy prodeje služby.</span><span class="sxs-lookup"><span data-stu-id="91e00-112">The team spent several months collecting data from multiple sources and running the data attributes through statistical analysis identifying key attributes relevant to services sales forecasting.</span></span> <span data-ttu-id="91e00-113">Dalším krokem se zahájíte vytváření prototypů statistické regrese modely na data v aplikaci Excel.</span><span class="sxs-lookup"><span data-stu-id="91e00-113">The next step was to begin prototyping statistical regression models on the data in Excel.</span></span> <span data-ttu-id="91e00-114">Během pár týdnů jsme měli regresní model aplikace Excel, který byl outperforming aktuální pole a finanční prognózy procesy.</span><span class="sxs-lookup"><span data-stu-id="91e00-114">Within a few weeks, we had an Excel regression model that was outperforming the current field and finance forecasting processes.</span></span> <span data-ttu-id="91e00-115">To se stala výsledek předpovědi směrného plánu.</span><span class="sxs-lookup"><span data-stu-id="91e00-115">This became the baseline prediction result.</span></span> 

<span data-ttu-id="91e00-116">Potom vzali jsme dalším krokem při přechodu naše prediktivní analýzy na Azure Machine Learning a zjistěte, jak může vylepšit Machine Learning na prediktivní výkon.</span><span class="sxs-lookup"><span data-stu-id="91e00-116">We then took the next step to moving our predictive analytics over to Azure Machine Learning to find out how Machine Learning could improve on predictive performance.</span></span>

## <a name="achieving-predictive-performance-parity"></a><span data-ttu-id="91e00-117">Dosažení paritní prediktivní výkonu</span><span class="sxs-lookup"><span data-stu-id="91e00-117">Achieving predictive performance parity</span></span>
<span data-ttu-id="91e00-118">Naše nejvyšší prioritu bylo dosáhnout rozdíly mezi regrese modely Machine Learning a Excel.</span><span class="sxs-lookup"><span data-stu-id="91e00-118">Our first priority was to achieve parity between Machine Learning and Excel regression models.</span></span> <span data-ttu-id="91e00-119">Zadána stejná data a stejné rozdělení pro trénování a testování dat, jsme chtěli dosáhnout prediktivní výkonu rozdíly mezi aplikace Excel a Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="91e00-119">Given the same data, and the same split for training and testing data, we wanted to achieve predictive performance parity between Excel and Machine Learning.</span></span> <span data-ttu-id="91e00-120">Původně se nepovedlo.</span><span class="sxs-lookup"><span data-stu-id="91e00-120">Initially we failed.</span></span> <span data-ttu-id="91e00-121">Model aplikace Excel outperformed model Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="91e00-121">The Excel model outperformed the Machine Learning model.</span></span> <span data-ttu-id="91e00-122">K selhání došlo z důvodu chybějících Principy nastavení základní nástroj v Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="91e00-122">The failure was due to a lack of understanding of the base tool setting in Machine Learning.</span></span> <span data-ttu-id="91e00-123">Po synchronizaci s produktový tým Machine Learning jsme získávají lépe porozumět základní nastavení požadovaná pro naše sady dat a dosáhnout rozdíly mezi dva modely.</span><span class="sxs-lookup"><span data-stu-id="91e00-123">After a sync with the Machine Learning product team, we gained a better understanding of the base setting required for our data sets, and achieved parity between the two models.</span></span> 

### <a name="create-regression-model-in-excel"></a><span data-ttu-id="91e00-124">Vytvořit regresní model v aplikaci Excel</span><span class="sxs-lookup"><span data-stu-id="91e00-124">Create regression model in Excel</span></span>
<span data-ttu-id="91e00-125">Naše aplikace Excel Regrese používá model standardní lineární regrese v aplikaci Excel analytické nalezen.</span><span class="sxs-lookup"><span data-stu-id="91e00-125">Our Excel Regression used the standard linear regression model found in the Excel Analysis ToolPak.</span></span> 

<span data-ttu-id="91e00-126">Jsme vypočítat *% střední absolutní chyba* a použít jako měření výkonu pro model.</span><span class="sxs-lookup"><span data-stu-id="91e00-126">We calculated *Mean Absolute % Error* and used it as the performance measure for the model.</span></span> <span data-ttu-id="91e00-127">Trvalo 3 měsíce přijaty ve model pracovní pomocí aplikace Excel.</span><span class="sxs-lookup"><span data-stu-id="91e00-127">It took 3 months to arrive at a working model using Excel.</span></span> <span data-ttu-id="91e00-128">Můžeme uvést do režimu většinu learning do experimentu Machine Learning Studio, která byla nakonec výhodné v Principy požadavků.</span><span class="sxs-lookup"><span data-stu-id="91e00-128">We brought much of the learning into the Machine Learning Studio experiment which ultimately was beneficial in understanding requirements.</span></span>

### <a name="create-comparable-experiment-in-azure-machine-learning"></a><span data-ttu-id="91e00-129">Vytvoření porovnatelný z hlediska experimentu v nástroji Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="91e00-129">Create comparable experiment in Azure Machine Learning</span></span>
<span data-ttu-id="91e00-130">Jsme postupovali podle těchto kroků můžete vytvořit naše experimentu v nástroji Machine Learning Studio:</span><span class="sxs-lookup"><span data-stu-id="91e00-130">We followed these steps to create our experiment in Machine Learning Studio:</span></span> 

1. <span data-ttu-id="91e00-131">Odesílané datovou sadu jako soubor csv do nástroje Machine Learning Studio (velmi malý soubor)</span><span class="sxs-lookup"><span data-stu-id="91e00-131">Uploaded the dataset as a csv file to Machine Learning Studio (very small file)</span></span>
2. <span data-ttu-id="91e00-132">Vytvoří nový experiment a použít [výběr sloupců v datové sadě] [ select-columns] modulu vyberte stejné funkce dat použít v aplikaci Excel</span><span class="sxs-lookup"><span data-stu-id="91e00-132">Created a new experiment and used the [Select Columns in Dataset][select-columns] module to select the same data features used in Excel</span></span> 
3. <span data-ttu-id="91e00-133">Použít [rozdělení dat] [ split] modulu (s *relativní výraz* režim) k rozdělení dat do stejné datové sady školení, jak bylo v aplikaci Excel</span><span class="sxs-lookup"><span data-stu-id="91e00-133">Used the [Split Data][split] module (with *Relative Expression* mode) to divide the data into the same training datasets as had been done in Excel</span></span> 
4. <span data-ttu-id="91e00-134">Experimented s [lineární regrese] [ linear-regression] modulu (výchozí možnosti pouze), zdokumentované a porovnání výsledky do našich regresní model aplikace Excel</span><span class="sxs-lookup"><span data-stu-id="91e00-134">Experimented with the [Linear Regression][linear-regression] module (default options only), documented, and compared the results to our Excel regression model</span></span>

### <a name="review-initial-results"></a><span data-ttu-id="91e00-135">Zkontrolujte počáteční výsledky</span><span class="sxs-lookup"><span data-stu-id="91e00-135">Review initial results</span></span>
<span data-ttu-id="91e00-136">Na první pohled model aplikace Excel jasně outperformed model Machine Learning Studio:</span><span class="sxs-lookup"><span data-stu-id="91e00-136">At first, the Excel model clearly outperformed the Machine Learning Studio model:</span></span> 

|  | <span data-ttu-id="91e00-137">Excel</span><span class="sxs-lookup"><span data-stu-id="91e00-137">Excel</span></span> | <span data-ttu-id="91e00-138">Studio</span><span class="sxs-lookup"><span data-stu-id="91e00-138">Studio</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="91e00-139">Výkon</span><span class="sxs-lookup"><span data-stu-id="91e00-139">Performance</span></span> | | |
| <ul style="list-style-type: none;"><li><span data-ttu-id="91e00-140">Upraví hranaté R</span><span class="sxs-lookup"><span data-stu-id="91e00-140">Adjusted R Square</span></span></li></ul> |<span data-ttu-id="91e00-141">0.96</span><span class="sxs-lookup"><span data-stu-id="91e00-141">0.96</span></span> |<span data-ttu-id="91e00-142">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="91e00-142">N/A</span></span> |
| <ul style="list-style-type: none;"><li><span data-ttu-id="91e00-143">Koeficient</span><span class="sxs-lookup"><span data-stu-id="91e00-143">Coefficient of</span></span> <br /><span data-ttu-id="91e00-144">Rozhodnutí</span><span class="sxs-lookup"><span data-stu-id="91e00-144">Determination</span></span></li></ul> |<span data-ttu-id="91e00-145">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="91e00-145">N/A</span></span> |<span data-ttu-id="91e00-146">0.78</span><span class="sxs-lookup"><span data-stu-id="91e00-146">0.78</span></span><br /><span data-ttu-id="91e00-147">(nízkou přesnost)</span><span class="sxs-lookup"><span data-stu-id="91e00-147">(low accuracy)</span></span> |
| <span data-ttu-id="91e00-148">Střední absolutní chyba</span><span class="sxs-lookup"><span data-stu-id="91e00-148">Mean Absolute Error</span></span> |<span data-ttu-id="91e00-149">$9. 5M</span><span class="sxs-lookup"><span data-stu-id="91e00-149">$9.5M</span></span> |<span data-ttu-id="91e00-150">$ 19.4 M</span><span class="sxs-lookup"><span data-stu-id="91e00-150">$ 19.4M</span></span> |
| <span data-ttu-id="91e00-151">Střední absolutní chyba (%)</span><span class="sxs-lookup"><span data-stu-id="91e00-151">Mean Absolute Error (%)</span></span> |<span data-ttu-id="91e00-152">6.03%</span><span class="sxs-lookup"><span data-stu-id="91e00-152">6.03%</span></span> |<span data-ttu-id="91e00-153">12.2%</span><span class="sxs-lookup"><span data-stu-id="91e00-153">12.2%</span></span> |

<span data-ttu-id="91e00-154">Když jsme narazili naše proces a výsledky datových vědců a vývojářů na tým Machine Learning, poskytnou rychle některé užitečné tipy.</span><span class="sxs-lookup"><span data-stu-id="91e00-154">When we ran our process and results by the developers and data scientists on the Machine Learning team, they quickly provided some useful tips.</span></span> 

* <span data-ttu-id="91e00-155">Při použití [lineární regrese] [ linear-regression] modulu v nástroji Machine Learning Studio, jsou k dispozici dvě metody:</span><span class="sxs-lookup"><span data-stu-id="91e00-155">When you use the [Linear Regression][linear-regression] module in Machine Learning Studio, two methods are provided:</span></span>
  * <span data-ttu-id="91e00-156">Online klesání přechodu: Může být vhodnější pro problémy s větším měřítku</span><span class="sxs-lookup"><span data-stu-id="91e00-156">Online Gradient Descent: May be more suitable for larger-scale problems</span></span>
  * <span data-ttu-id="91e00-157">Obyčejnou nejmenší čtverce: Toto je metoda, kterou většina lidí zamyslet nad při zazní lineární regrese.</span><span class="sxs-lookup"><span data-stu-id="91e00-157">Ordinary Least Squares: This is the method most people think of when they hear linear regression.</span></span> <span data-ttu-id="91e00-158">Pro malé datové sady může být obyčejnou čtverce nejmenší více optimální volbou.</span><span class="sxs-lookup"><span data-stu-id="91e00-158">For small datasets, Ordinary Least Squares can be a more optimal choice.</span></span>
* <span data-ttu-id="91e00-159">Zvažte, postupně je upravujte parametr L2 regulaci váhy ke zlepšení výkonu.</span><span class="sxs-lookup"><span data-stu-id="91e00-159">Consider tweaking the L2 Regularization Weight parameter to improve performance.</span></span> <span data-ttu-id="91e00-160">Je ve výchozím nastavení má 0,001, ale pro naše malé datové sady jsme ji nastavit na 0,005 ke zlepšení výkonu.</span><span class="sxs-lookup"><span data-stu-id="91e00-160">It is set to 0.001 by default, but for our small data set we set it to 0.005 to improve performance.</span></span> 

### <a name="mystery-solved"></a><span data-ttu-id="91e00-161">Mystery vyřeší!</span><span class="sxs-lookup"><span data-stu-id="91e00-161">Mystery solved!</span></span>
<span data-ttu-id="91e00-162">Když jsme použili doporučení, jsme dosáhli stejné základní úroveň výkonu v nástroji Machine Learning Studio jako v aplikaci Excel:</span><span class="sxs-lookup"><span data-stu-id="91e00-162">When we applied the recommendations, we achieved the same baseline performance in Machine Learning Studio as with Excel:</span></span> 

|  | <span data-ttu-id="91e00-163">Excel</span><span class="sxs-lookup"><span data-stu-id="91e00-163">Excel</span></span> | <span data-ttu-id="91e00-164">Studio (výchozí)</span><span class="sxs-lookup"><span data-stu-id="91e00-164">Studio (Initial)</span></span> | <span data-ttu-id="91e00-165">Studio s nejmenší čtverce</span><span class="sxs-lookup"><span data-stu-id="91e00-165">Studio w/ Least Squares</span></span> |
| --- |:---:|:---:|:---:|
| <span data-ttu-id="91e00-166">Hodnota s popiskem</span><span class="sxs-lookup"><span data-stu-id="91e00-166">Labeled value</span></span> |<span data-ttu-id="91e00-167">Skutečné hodnoty (číslice)</span><span class="sxs-lookup"><span data-stu-id="91e00-167">Actuals (numeric)</span></span> |<span data-ttu-id="91e00-168">stejné</span><span class="sxs-lookup"><span data-stu-id="91e00-168">same</span></span> |<span data-ttu-id="91e00-169">stejné</span><span class="sxs-lookup"><span data-stu-id="91e00-169">same</span></span> |
| <span data-ttu-id="91e00-170">Student</span><span class="sxs-lookup"><span data-stu-id="91e00-170">Learner</span></span> |<span data-ttu-id="91e00-171">Excel -> datové analýzy -> regrese</span><span class="sxs-lookup"><span data-stu-id="91e00-171">Excel -> Data Analysis -> Regression</span></span> |<span data-ttu-id="91e00-172">Lineární regrese.</span><span class="sxs-lookup"><span data-stu-id="91e00-172">Linear Regression.</span></span> |<span data-ttu-id="91e00-173">Lineární regrese</span><span class="sxs-lookup"><span data-stu-id="91e00-173">Linear Regression</span></span> |
| <span data-ttu-id="91e00-174">Možnosti student</span><span class="sxs-lookup"><span data-stu-id="91e00-174">Learner options</span></span> |<span data-ttu-id="91e00-175">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="91e00-175">N/A</span></span> |<span data-ttu-id="91e00-176">Výchozí hodnoty</span><span class="sxs-lookup"><span data-stu-id="91e00-176">Defaults</span></span> |<span data-ttu-id="91e00-177">obyčejnou nejmenší čtverce</span><span class="sxs-lookup"><span data-stu-id="91e00-177">ordinary least squares</span></span><br /><span data-ttu-id="91e00-178">L2 = 0,005</span><span class="sxs-lookup"><span data-stu-id="91e00-178">L2 = 0.005</span></span> |
| <span data-ttu-id="91e00-179">Datové sady</span><span class="sxs-lookup"><span data-stu-id="91e00-179">Data Set</span></span> |<span data-ttu-id="91e00-180">26 řádky, funkce 3, 1 popisek.</span><span class="sxs-lookup"><span data-stu-id="91e00-180">26 rows, 3 features, 1 label.</span></span> <span data-ttu-id="91e00-181">Všechny číselný.</span><span class="sxs-lookup"><span data-stu-id="91e00-181">All numeric.</span></span> |<span data-ttu-id="91e00-182">stejné</span><span class="sxs-lookup"><span data-stu-id="91e00-182">same</span></span> |<span data-ttu-id="91e00-183">stejné</span><span class="sxs-lookup"><span data-stu-id="91e00-183">same</span></span> |
| <span data-ttu-id="91e00-184">Rozdělení: Train</span><span class="sxs-lookup"><span data-stu-id="91e00-184">Split: Train</span></span> |<span data-ttu-id="91e00-185">Excel trénink na první 18 řádky, otestovali na poslední 8 řádky.</span><span class="sxs-lookup"><span data-stu-id="91e00-185">Excel trained on the first 18 rows, tested on the last 8 rows.</span></span> |<span data-ttu-id="91e00-186">stejné</span><span class="sxs-lookup"><span data-stu-id="91e00-186">same</span></span> |<span data-ttu-id="91e00-187">stejné</span><span class="sxs-lookup"><span data-stu-id="91e00-187">same</span></span> |
| <span data-ttu-id="91e00-188">Rozdělení: Test</span><span class="sxs-lookup"><span data-stu-id="91e00-188">Split: Test</span></span> |<span data-ttu-id="91e00-189">Vzorec regrese použitý pro poslední 8 řádky v aplikaci Excel</span><span class="sxs-lookup"><span data-stu-id="91e00-189">Excel regression formula applied to the last 8 rows</span></span> |<span data-ttu-id="91e00-190">stejné</span><span class="sxs-lookup"><span data-stu-id="91e00-190">same</span></span> |<span data-ttu-id="91e00-191">stejné</span><span class="sxs-lookup"><span data-stu-id="91e00-191">same</span></span> |
| <span data-ttu-id="91e00-192">**Výkon**</span><span class="sxs-lookup"><span data-stu-id="91e00-192">**Performance**</span></span> | | | |
| <span data-ttu-id="91e00-193">Upraví hranaté R</span><span class="sxs-lookup"><span data-stu-id="91e00-193">Adjusted R Square</span></span> |<span data-ttu-id="91e00-194">0.96</span><span class="sxs-lookup"><span data-stu-id="91e00-194">0.96</span></span> |<span data-ttu-id="91e00-195">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="91e00-195">N/A</span></span> | |
| <span data-ttu-id="91e00-196">Koeficient spolehlivosti</span><span class="sxs-lookup"><span data-stu-id="91e00-196">Coefficient of Determination</span></span> |<span data-ttu-id="91e00-197">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="91e00-197">N/A</span></span> |<span data-ttu-id="91e00-198">0.78</span><span class="sxs-lookup"><span data-stu-id="91e00-198">0.78</span></span> |<span data-ttu-id="91e00-199">0.952049</span><span class="sxs-lookup"><span data-stu-id="91e00-199">0.952049</span></span> |
| <span data-ttu-id="91e00-200">Střední absolutní chyba</span><span class="sxs-lookup"><span data-stu-id="91e00-200">Mean Absolute Error</span></span> |<span data-ttu-id="91e00-201">$9. 5M</span><span class="sxs-lookup"><span data-stu-id="91e00-201">$9.5M</span></span> |<span data-ttu-id="91e00-202">$ 19.4 M</span><span class="sxs-lookup"><span data-stu-id="91e00-202">$ 19.4M</span></span> |<span data-ttu-id="91e00-203">$9. 5M</span><span class="sxs-lookup"><span data-stu-id="91e00-203">$9.5M</span></span> |
| <span data-ttu-id="91e00-204">Střední absolutní chyba (%)</span><span class="sxs-lookup"><span data-stu-id="91e00-204">Mean Absolute Error (%)</span></span> |<span data-ttu-id="91e00-205"><span style="background-color: 00FF00;"> 6.03%</span></span><span class="sxs-lookup"><span data-stu-id="91e00-205"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |<span data-ttu-id="91e00-206">12.2%</span><span class="sxs-lookup"><span data-stu-id="91e00-206">12.2%</span></span> |<span data-ttu-id="91e00-207"><span style="background-color: 00FF00;"> 6.03%</span></span><span class="sxs-lookup"><span data-stu-id="91e00-207"><span style="background-color: 00FF00;"> 6.03%</span></span></span> |

<span data-ttu-id="91e00-208">Kromě toho koeficienty aplikace Excel porovnání dobře s váhou funkce v Azure trénovaného modelu:</span><span class="sxs-lookup"><span data-stu-id="91e00-208">In addition, the Excel coefficients compared well to the feature weights in the Azure trained model:</span></span>

|  | <span data-ttu-id="91e00-209">Koeficienty aplikace Excel</span><span class="sxs-lookup"><span data-stu-id="91e00-209">Excel Coefficients</span></span> | <span data-ttu-id="91e00-210">Váhu funkcí služby Azure</span><span class="sxs-lookup"><span data-stu-id="91e00-210">Azure Feature Weights</span></span> |
| --- |:---:|:---:|
| <span data-ttu-id="91e00-211">Krádež nebo odchylka</span><span class="sxs-lookup"><span data-stu-id="91e00-211">Intercept/Bias</span></span> |<span data-ttu-id="91e00-212">19470209.88</span><span class="sxs-lookup"><span data-stu-id="91e00-212">19470209.88</span></span> |<span data-ttu-id="91e00-213">19328500</span><span class="sxs-lookup"><span data-stu-id="91e00-213">19328500</span></span> |
| <span data-ttu-id="91e00-214">Funkce A</span><span class="sxs-lookup"><span data-stu-id="91e00-214">Feature A</span></span> |<span data-ttu-id="91e00-215">0.832653063</span><span class="sxs-lookup"><span data-stu-id="91e00-215">0.832653063</span></span> |<span data-ttu-id="91e00-216">0.834156</span><span class="sxs-lookup"><span data-stu-id="91e00-216">0.834156</span></span> |
| <span data-ttu-id="91e00-217">Součást B</span><span class="sxs-lookup"><span data-stu-id="91e00-217">Feature B</span></span> |<span data-ttu-id="91e00-218">11071967.08</span><span class="sxs-lookup"><span data-stu-id="91e00-218">11071967.08</span></span> |<span data-ttu-id="91e00-219">11007300</span><span class="sxs-lookup"><span data-stu-id="91e00-219">11007300</span></span> |
| <span data-ttu-id="91e00-220">Funkce C</span><span class="sxs-lookup"><span data-stu-id="91e00-220">Feature C</span></span> |<span data-ttu-id="91e00-221">25383318.09</span><span class="sxs-lookup"><span data-stu-id="91e00-221">25383318.09</span></span> |<span data-ttu-id="91e00-222">25140800</span><span class="sxs-lookup"><span data-stu-id="91e00-222">25140800</span></span> |

## <a name="next-steps"></a><span data-ttu-id="91e00-223">Další kroky</span><span class="sxs-lookup"><span data-stu-id="91e00-223">Next Steps</span></span>
<span data-ttu-id="91e00-224">Jsme chtěli využívat webové službě Machine Learning v aplikaci Excel.</span><span class="sxs-lookup"><span data-stu-id="91e00-224">We wanted to consume the Machine Learning web service within Excel.</span></span> <span data-ttu-id="91e00-225">Naše obchodní analytici závisí na aplikaci Excel a potřebujeme způsob, jak volání webové služby Machine Learning s řádek dat v aplikaci Excel a mějte ho vrátit předpovězené hodnoty do aplikace Excel.</span><span class="sxs-lookup"><span data-stu-id="91e00-225">Our business analysts rely on Excel and we needed a way to call the Machine Learning web service with a row of Excel data and have it return the predicted value to Excel.</span></span> 

<span data-ttu-id="91e00-226">Také chtěli jsme optimalizovat našeho modelu pomocí možnosti a algoritmy, které jsou k dispozici v nástroji Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="91e00-226">We also wanted to optimize our model, using the options and algorithms available in Machine Learning Studio.</span></span>

### <a name="integration-with-excel"></a><span data-ttu-id="91e00-227">Integrace s aplikace Excel</span><span class="sxs-lookup"><span data-stu-id="91e00-227">Integration with Excel</span></span>
<span data-ttu-id="91e00-228">Naše řešení bylo zprovoznit naše regresní model Machine Learning vytvořením webové služby ze naučeného modelu.</span><span class="sxs-lookup"><span data-stu-id="91e00-228">Our solution was to operationalize our Machine Learning regression model by creating a web service from the trained model.</span></span> <span data-ttu-id="91e00-229">Během několika minut webové služby byl vytvořen a jsme může volat přímo z aplikace Excel k vrácení hodnoty předpovězené výnosy.</span><span class="sxs-lookup"><span data-stu-id="91e00-229">Within a few minutes, the web service was created and we could call it directly from Excel to return a predicted revenue value.</span></span> 

<span data-ttu-id="91e00-230">*Řídicího panelu webové služby* část obsahuje ke stažení sešitu aplikace Excel.</span><span class="sxs-lookup"><span data-stu-id="91e00-230">The *Web Services Dashboard* section includes a downloadable Excel workbook.</span></span> <span data-ttu-id="91e00-231">Sešit obsahuje předem formátovaný webové rozhraní API a schémat informace o služby vložených.</span><span class="sxs-lookup"><span data-stu-id="91e00-231">The workbook comes pre-formatted with the web service API and schema information embedded.</span></span> <span data-ttu-id="91e00-232">Když kliknete na tlačítko *stáhnout sešitu aplikace Excel*, otevře se sešit a můžete ho uložit do místního počítače.</span><span class="sxs-lookup"><span data-stu-id="91e00-232">When you click *Download Excel Workbook*, the workbook opens and you can save it to your local computer.</span></span> 

![][1]

<span data-ttu-id="91e00-233">S sešit otevřít zkopírujte předdefinované parametry do části blue parametr, jak je uvedeno níže.</span><span class="sxs-lookup"><span data-stu-id="91e00-233">With the workbook open, copy your predefined parameters into the blue Parameter section as shown below.</span></span> <span data-ttu-id="91e00-234">Po zadání parametrů Excel volá k webové službě Machine Learning a předpokládaných scored popisky se zobrazí v části zelená předpovězené hodnoty.</span><span class="sxs-lookup"><span data-stu-id="91e00-234">Once the parameters are entered, Excel calls out to the Machine Learning web service and the predicted scored labels will display in the green Predicted Values section.</span></span> <span data-ttu-id="91e00-235">Sešit nadále vytvořit předpovědi parametrů na základě modelu vyškolení pro všechny položky řádku zadaný v poli parametrů.</span><span class="sxs-lookup"><span data-stu-id="91e00-235">The workbook will continue to create predictions for parameters based on your trained model for all row items entered under Parameters.</span></span> <span data-ttu-id="91e00-236">Další informace o tom, jak tuto funkci použít, najdete v části [využívají webové služby Azure Machine Learning z Excelu](machine-learning-consuming-from-excel.md).</span><span class="sxs-lookup"><span data-stu-id="91e00-236">For more information on how to use this feature, see [Consuming an Azure Machine Learning Web Service from Excel](machine-learning-consuming-from-excel.md).</span></span> 

![][2]

### <a name="optimization-and-further-experiments"></a><span data-ttu-id="91e00-237">Optimalizace a další pokusy.</span><span class="sxs-lookup"><span data-stu-id="91e00-237">Optimization and further experiments</span></span>
<span data-ttu-id="91e00-238">Teď, když jsme měli směrný plán s modelem naše aplikace Excel, můžeme přesunout článek k optimalizaci naše Model strojového učení lineární regrese.</span><span class="sxs-lookup"><span data-stu-id="91e00-238">Now that we had a baseline with our Excel model, we moved ahead to optimize our Machine Learning Linear Regression Model.</span></span> <span data-ttu-id="91e00-239">Použili jsme modul [na základě filtru výběr funkce] [ filter-based-feature-selection] ke zlepšení našeho výběru počáteční data elementy a pomohl nám dosáhnout zlepšení výkonu % 4.6 znamenat absolutní chyba.</span><span class="sxs-lookup"><span data-stu-id="91e00-239">We used the module [Filter-Based Feature Selection][filter-based-feature-selection] to improve on our selection of initial data elements and it helped us achieve a performance improvement of 4.6% Mean Absolute Error.</span></span> <span data-ttu-id="91e00-240">Pro budoucí projekty budeme používat tuto funkci, která může uložit nám týdny iterace v rámci atributy datového najít správnou sadu funkce, které chcete použít pro modelování.</span><span class="sxs-lookup"><span data-stu-id="91e00-240">For future projects we will use this feature which could save us weeks in iterating through data attributes to find the right set of features to use for modelling.</span></span> 

<span data-ttu-id="91e00-241">Dalším plánujeme zahrnout další algoritmy jako [Bayesova] [ bayesian-linear-regression] nebo [Boosted Decision Trees] [ boosted-decision-tree-regression] v našem experimentu k porovnání výkonu.</span><span class="sxs-lookup"><span data-stu-id="91e00-241">Next we plan to include additional algorithms like [Bayesian][bayesian-linear-regression] or [Boosted Decision Trees][boosted-decision-tree-regression] in our experiment to compare performance.</span></span> 

<span data-ttu-id="91e00-242">Pokud chcete experimentovat s regrese, je dobré datové sady a zkuste to ukázkovou datovou sadu energie efektivitu regrese, který má spoustu číselné atributy.</span><span class="sxs-lookup"><span data-stu-id="91e00-242">If you want to experiment with regression, a good dataset to try is the Energy Efficiency Regression sample dataset, which has lots of numerical attributes.</span></span> <span data-ttu-id="91e00-243">Datová sada je dodáván jako součást ukázkových datových sad v nástroji Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="91e00-243">The dataset is provided as part of the sample datasets in Machine Learning Studio.</span></span> <span data-ttu-id="91e00-244">Celou řadu učení moduly můžete použít k předpovědi vytápění zatížení nebo chlazení zatížení.</span><span class="sxs-lookup"><span data-stu-id="91e00-244">You can use a variety of learning modules to predict either Heating Load or Cooling Load.</span></span> <span data-ttu-id="91e00-245">Následující graf je že výkon porovnání různých regrese zjišťuje pro predikci energetické úspornosti datovou sadu pro Cílová proměnná chlazení zatížení:</span><span class="sxs-lookup"><span data-stu-id="91e00-245">The chart below is a performance comparison of different regression learns against the Energy Efficiency dataset predicting for the target variable Cooling Load:</span></span> 

| <span data-ttu-id="91e00-246">Model</span><span class="sxs-lookup"><span data-stu-id="91e00-246">Model</span></span> | <span data-ttu-id="91e00-247">Střední absolutní chyba</span><span class="sxs-lookup"><span data-stu-id="91e00-247">Mean Absolute Error</span></span> | <span data-ttu-id="91e00-248">Střední kořenové spolehlivosti chyby</span><span class="sxs-lookup"><span data-stu-id="91e00-248">Root Mean Squared Error</span></span> | <span data-ttu-id="91e00-249">Relativní absolutní chyba</span><span class="sxs-lookup"><span data-stu-id="91e00-249">Relative Absolute Error</span></span> | <span data-ttu-id="91e00-250">Relativní spolehlivosti chyby</span><span class="sxs-lookup"><span data-stu-id="91e00-250">Relative Squared Error</span></span> | <span data-ttu-id="91e00-251">Koeficient spolehlivosti</span><span class="sxs-lookup"><span data-stu-id="91e00-251">Coefficient of Determination</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="91e00-252">Vylepšené rozhodovací strom</span><span class="sxs-lookup"><span data-stu-id="91e00-252">Boosted Decision Tree</span></span> |<span data-ttu-id="91e00-253">0.930113</span><span class="sxs-lookup"><span data-stu-id="91e00-253">0.930113</span></span> |<span data-ttu-id="91e00-254">1.4239</span><span class="sxs-lookup"><span data-stu-id="91e00-254">1.4239</span></span> |<span data-ttu-id="91e00-255">0.106647</span><span class="sxs-lookup"><span data-stu-id="91e00-255">0.106647</span></span> |<span data-ttu-id="91e00-256">0.021662</span><span class="sxs-lookup"><span data-stu-id="91e00-256">0.021662</span></span> |<span data-ttu-id="91e00-257">0.978338</span><span class="sxs-lookup"><span data-stu-id="91e00-257">0.978338</span></span> |
| <span data-ttu-id="91e00-258">Lineární regrese (přechodu klesání)</span><span class="sxs-lookup"><span data-stu-id="91e00-258">Linear Regression (Gradient Descent)</span></span> |<span data-ttu-id="91e00-259">2.035693</span><span class="sxs-lookup"><span data-stu-id="91e00-259">2.035693</span></span> |<span data-ttu-id="91e00-260">2.98006</span><span class="sxs-lookup"><span data-stu-id="91e00-260">2.98006</span></span> |<span data-ttu-id="91e00-261">0.233414</span><span class="sxs-lookup"><span data-stu-id="91e00-261">0.233414</span></span> |<span data-ttu-id="91e00-262">0.094881</span><span class="sxs-lookup"><span data-stu-id="91e00-262">0.094881</span></span> |<span data-ttu-id="91e00-263">0.905119</span><span class="sxs-lookup"><span data-stu-id="91e00-263">0.905119</span></span> |
| <span data-ttu-id="91e00-264">Regrese neuronové sítě</span><span class="sxs-lookup"><span data-stu-id="91e00-264">Neural Network Regression</span></span> |<span data-ttu-id="91e00-265">1.548195</span><span class="sxs-lookup"><span data-stu-id="91e00-265">1.548195</span></span> |<span data-ttu-id="91e00-266">2.114617</span><span class="sxs-lookup"><span data-stu-id="91e00-266">2.114617</span></span> |<span data-ttu-id="91e00-267">0.177517</span><span class="sxs-lookup"><span data-stu-id="91e00-267">0.177517</span></span> |<span data-ttu-id="91e00-268">0.047774</span><span class="sxs-lookup"><span data-stu-id="91e00-268">0.047774</span></span> |<span data-ttu-id="91e00-269">0.952226</span><span class="sxs-lookup"><span data-stu-id="91e00-269">0.952226</span></span> |
| <span data-ttu-id="91e00-270">Lineární regrese (obyčejnou nejmenší čtverce)</span><span class="sxs-lookup"><span data-stu-id="91e00-270">Linear Regression (Ordinary Least Squares)</span></span> |<span data-ttu-id="91e00-271">1.428273</span><span class="sxs-lookup"><span data-stu-id="91e00-271">1.428273</span></span> |<span data-ttu-id="91e00-272">1.984461</span><span class="sxs-lookup"><span data-stu-id="91e00-272">1.984461</span></span> |<span data-ttu-id="91e00-273">0.163767</span><span class="sxs-lookup"><span data-stu-id="91e00-273">0.163767</span></span> |<span data-ttu-id="91e00-274">0.042074</span><span class="sxs-lookup"><span data-stu-id="91e00-274">0.042074</span></span> |<span data-ttu-id="91e00-275">0.957926</span><span class="sxs-lookup"><span data-stu-id="91e00-275">0.957926</span></span> |

## <a name="key-takeaways"></a><span data-ttu-id="91e00-276">Klíče Takeaways</span><span class="sxs-lookup"><span data-stu-id="91e00-276">Key Takeaways</span></span>
<span data-ttu-id="91e00-277">Jsme se naučili mnoho z regrese spuštěné aplikace Excel a experimenty Azure Machine Learning paralelně.</span><span class="sxs-lookup"><span data-stu-id="91e00-277">We learned a lot by from running Excel regression and Azure Machine Learning experiments in parallel.</span></span> <span data-ttu-id="91e00-278">Vytvoření standardních hodnot modelu v aplikaci Excel a porovná je s modely pomocí Machine Learning [lineární regrese] [ linear-regression] pomohl nám další Azure Machine Learning a jsme zjištěné příležitosti pro zlepšení výkonu dat výběr a modelu.</span><span class="sxs-lookup"><span data-stu-id="91e00-278">Creating the baseline model in Excel and comparing it to models using Machine Learning [Linear Regression][linear-regression] helped us learn Azure Machine Learning, and we discovered opportunities to improve data selection and model performance.</span></span> 

<span data-ttu-id="91e00-279">Můžeme také zjistil, že je vhodné používat [na základě filtru výběr funkce] [ filter-based-feature-selection] k urychlení projekty budoucí předpovědi.</span><span class="sxs-lookup"><span data-stu-id="91e00-279">We also found that it is advisable to use [Filter-Based Feature Selection][filter-based-feature-selection] to accelerate future prediction projects.</span></span> <span data-ttu-id="91e00-280">Použitím výběr funkce pro vaše data, můžete vytvořit model vylepšené v Machine Learning s lepší celkový výkon.</span><span class="sxs-lookup"><span data-stu-id="91e00-280">By applying feature selection to your data, you can create an improved model in Machine Learning with better overall performance.</span></span> 

<span data-ttu-id="91e00-281">Umožňuje přenos, prediktivní analýzy prognózy ze strojového učení do aplikace Excel systemically umožňuje významné zvýšení v úspěšně poskytovat výsledky pro cílovou skupinu široký obchodní uživatele.</span><span class="sxs-lookup"><span data-stu-id="91e00-281">The ability to transfer the predictive analytic forecasting from Machine Learning to Excel systemically allows a significant increase in the ability to successfully provide results to a broad business user audience.</span></span> 

## <a name="resources"></a><span data-ttu-id="91e00-282">Zdroje</span><span class="sxs-lookup"><span data-stu-id="91e00-282">Resources</span></span>
<span data-ttu-id="91e00-283">Zde jsou některé prostředky pro umožňují pracovat s regrese:</span><span class="sxs-lookup"><span data-stu-id="91e00-283">Here are some resources for helping you work with regression:</span></span> 

* <span data-ttu-id="91e00-284">Regrese v aplikaci Excel.</span><span class="sxs-lookup"><span data-stu-id="91e00-284">Regression in Excel.</span></span> <span data-ttu-id="91e00-285">Pokud jste se nikdy zkusili Regrese v aplikaci Excel, v tomto kurzu lze snadno: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span><span class="sxs-lookup"><span data-stu-id="91e00-285">If you’ve never tried regression in Excel, this tutorial makes it easy: [http://www.excel-easy.com/examples/regression.html](http://www.excel-easy.com/examples/regression.html)</span></span>
* <span data-ttu-id="91e00-286">Regrese vs prognózy.</span><span class="sxs-lookup"><span data-stu-id="91e00-286">Regression vs forecasting.</span></span> <span data-ttu-id="91e00-287">Tyler Chessman napsali článek blogu, která vysvětluje, jak časové řady prognózy v aplikaci Excel, který obsahuje popis dobrý začátečníka lineární regrese.</span><span class="sxs-lookup"><span data-stu-id="91e00-287">Tyler Chessman wrote a blog article explaining how to do time series forecasting in Excel, which contains a good beginner’s description of linear regression.</span></span> [<span data-ttu-id="91e00-288">http://sqlmag.com/SQL-Server-Analysis-Services/Understanding-Time-Series-forecasting-Concepts</span><span class="sxs-lookup"><span data-stu-id="91e00-288">http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts</span></span>](http://sqlmag.com/sql-server-analysis-services/understanding-time-series-forecasting-concepts) 
* <span data-ttu-id="91e00-289">Obyčejnou čtverce nejmenší lineární regrese: Nedostatky, problémy a nástrahy.</span><span class="sxs-lookup"><span data-stu-id="91e00-289">Ordinary Least Squares Linear Regression: Flaws, Problems and Pitfalls.</span></span> <span data-ttu-id="91e00-290">Úvod a diskuzi o regrese: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span><span class="sxs-lookup"><span data-stu-id="91e00-290">For an introduction and discussion of Regression: [http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/ ](http://www.clockbackward.com/2009/06/18/ordinary-least-squares-linear-regression-flaws-problems-and-pitfalls/)</span></span>

[1]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-1.png
[2]: ./media/machine-learning-linear-regression-in-azure/machine-learning-linear-regression-in-azure-2.png


<!-- Module References -->
[bayesian-linear-regression]: https://msdn.microsoft.com/library/azure/ee12de50-2b34-4145-aec0-23e0485da308/
[boosted-decision-tree-regression]: https://msdn.microsoft.com/library/azure/0207d252-6c41-4c77-84c3-73bdf1ac5960/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[linear-regression]: https://msdn.microsoft.com/library/azure/31960a6f-789b-4cf7-88d6-2e1152c0bd1a/
[select-columns]: https://msdn.microsoft.com/library/azure/1ec722fa-b623-4e26-a44e-a50c6d726223/
[split]: https://msdn.microsoft.com/library/azure/70530644-c97a-4ab6-85f7-88bf30a8be5f/

