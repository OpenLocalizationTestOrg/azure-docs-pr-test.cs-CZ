---
title: "Funkce inženýrství a výběr v Azure Machine Learning | Microsoft Docs"
description: "Popisuje účely funkce Výběr a konstruování funkce a obsahuje příklady jejich role v rozšíření dat proces strojové učení."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 9ceb524d-842e-4f77-9eae-a18e599442d6
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/18/2017
ms.author: zhangya;bradsev
ROBOTS: NOINDEX
redirect_url: machine-learning-data-science-create-features
redirect_document_id: TRUE
ms.openlocfilehash: 51a5d8fed492cb9301e048c2b6a721e4573a47d9
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="feature-engineering-and-selection-in-azure-machine-learning"></a><span data-ttu-id="ff5a0-103">Konstrukce a výběr funkcí ve službě Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="ff5a0-103">Feature engineering and selection in Azure Machine Learning</span></span>
<span data-ttu-id="ff5a0-104">Toto téma vysvětluje účely funkce inženýrství a výběr funkce v rozšíření dat procesu strojové učení.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-104">This topic explains the purposes of feature engineering and feature selection in the data-enhancement process of machine learning.</span></span> <span data-ttu-id="ff5a0-105">Ukazuje, co tyto procesy zahrnovat pomocí příklady poskytované Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-105">It illustrates what these processes involve by using examples provided by Azure Machine Learning Studio.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="ff5a0-106">Jsou Cvičná data používané pro strojové učení se dá vylepšit často výběr nebo extrakce funkcí z nezpracovaná data shromážděná.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-106">The training data used in machine learning can often be enhanced by the selection or extraction of features from the raw data collected.</span></span> <span data-ttu-id="ff5a0-107">Příklad inženýrství funkce v kontextu naučit, jak klasifikovat bitové kopie ručně psané znaky je bit hustotu mapu vytvářejí na základě data distribuce nezpracovaná bit.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-107">An example of an engineered feature in the context of learning how to classify the images of handwritten characters is a bit-density map constructed from the raw bit distribution data.</span></span> <span data-ttu-id="ff5a0-108">Tato mapa může pomoci najít okrajů znaky efektivnější než nezpracovaná rozdělení.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-108">This map can help locate the edges of the characters more efficiently than the raw distribution.</span></span>

<span data-ttu-id="ff5a0-109">Funkce inženýrství a vybrané zvýšit efektivitu proces školení, která se pokusí o extrahování klíčových informací obsažených v datech.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-109">Engineered and selected features increase the efficiency of the training process, which attempts to extract the key information contained in the data.</span></span> <span data-ttu-id="ff5a0-110">Také zvyšují výkon těchto modelů přesně klasifikovat vstupních dat a k předvídání více robustní výsledky, které vás zajímají.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-110">They also improve the power of these models to classify the input data accurately and to predict outcomes of interest more robustly.</span></span> <span data-ttu-id="ff5a0-111">Funkce inženýrství a výběr můžete také kombinovat aby výukové výpočetně tractable.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-111">Feature engineering and selection can also combine to make the learning more computationally tractable.</span></span> <span data-ttu-id="ff5a0-112">Dělá to tak rozšíření a pak snižuje počet funkcí, které jsou potřeba k nakalibrovat nebo cvičení modelu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-112">It does so by enhancing and then reducing the number of features needed to calibrate or train a model.</span></span> <span data-ttu-id="ff5a0-113">Funkce vybrané pro trénování modelu matematicky platí, že jsou minimální sadu nezávislých proměnných, které popisují vzorů v datech a pak úspěšně předpovědi výstupy.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-113">Mathematically speaking, the features selected to train the model are a minimal set of independent variables that explain the patterns in the data and then predict outcomes successfully.</span></span>

<span data-ttu-id="ff5a0-114">Technici a výběr funkcí je jednou ze součástí větší procesu, který se obvykle skládá z čtyři kroky:</span><span class="sxs-lookup"><span data-stu-id="ff5a0-114">The engineering and selection of features is one part of a larger process, which typically consists of four steps:</span></span>

* <span data-ttu-id="ff5a0-115">Shromažďování dat</span><span class="sxs-lookup"><span data-stu-id="ff5a0-115">Data collection</span></span>
* <span data-ttu-id="ff5a0-116">Rozšíření dat</span><span class="sxs-lookup"><span data-stu-id="ff5a0-116">Data enhancement</span></span>
* <span data-ttu-id="ff5a0-117">Konstrukce modelu</span><span class="sxs-lookup"><span data-stu-id="ff5a0-117">Model construction</span></span>
* <span data-ttu-id="ff5a0-118">Po zpracování.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-118">Post-processing</span></span>

<span data-ttu-id="ff5a0-119">Technici a výběr tvoří krok vylepšení dat machine learning.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-119">Engineering and selection make up the data enhancement step of machine learning.</span></span> <span data-ttu-id="ff5a0-120">Tři aspekty tohoto procesu může být rozlišující pro naše účely:</span><span class="sxs-lookup"><span data-stu-id="ff5a0-120">Three aspects of this process may be distinguished for our purposes:</span></span>

* <span data-ttu-id="ff5a0-121">**Předběžné zpracování dat**: Tento proces se pokusí zajistěte, aby byl na shromážděná data vyčištění a konzistentní.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-121">**Data pre-processing**: This process tries to ensure that the collected data is clean and consistent.</span></span> <span data-ttu-id="ff5a0-122">Obsahuje úlohy, jako je integrace více datových sad, zpracování chybějící data, zpracování nekonzistentní data a převádění datových typů.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-122">It includes tasks such as integrating multiple data sets, handling missing data, handling inconsistent data, and converting data types.</span></span>
* <span data-ttu-id="ff5a0-123">**Konstruování**: Tento proces se pokusí vytvořit další relevantní funkce z existující nezpracovaná funkce v datech a ke zvýšení výkonu prediktivní k algoritmus učení.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-123">**Feature engineering**: This process attempts to create additional relevant features from the existing raw features in the data and to increase predictive power to the learning algorithm.</span></span>
* <span data-ttu-id="ff5a0-124">**Funkce Výběr**: Tento proces vybere klíče podmnožinu funkcí původní data ke snížení dimenzionalitu problému školení.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-124">**Feature selection**: This process selects the key subset of original data features to reduce the dimensionality of the training problem.</span></span>

<span data-ttu-id="ff5a0-125">Toto téma popisuje pouze inženýrství funkce a funkce Výběr aspektů proces vylepšení data.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-125">This topic only covers the feature engineering and feature selection aspects of the data enhancement process.</span></span> <span data-ttu-id="ff5a0-126">Další informace o kroku předběžného zpracování dat najdete v tématu [předběžné zpracování dat v Azure Machine Learning Studio](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/).</span><span class="sxs-lookup"><span data-stu-id="ff5a0-126">For more information on the data pre-processing step, see [Pre-processing data in Azure Machine Learning Studio](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/).</span></span>

## <a name="creating-features-from-your-data--feature-engineering"></a><span data-ttu-id="ff5a0-127">Vytváření funkcí z vašich dat – konstruování</span><span class="sxs-lookup"><span data-stu-id="ff5a0-127">Creating features from your data--feature engineering</span></span>
<span data-ttu-id="ff5a0-128">Jsou Cvičná data se skládá z matice tvořený příklady (záznamy nebo připomínky, které jsou uložené v řádcích), z nichž každý má sadu funkcí (proměnné nebo pole, které jsou uloženy ve sloupcích).</span><span class="sxs-lookup"><span data-stu-id="ff5a0-128">The training data consists of a matrix composed of examples (records or observations stored in rows), each of which has a set of features (variables or fields stored in columns).</span></span> <span data-ttu-id="ff5a0-129">Očekává se, že funkce zadané v experimentální návrhu charakterizovat vzorů v datech.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-129">The features specified in the experimental design are expected to characterize the patterns in the data.</span></span> <span data-ttu-id="ff5a0-130">I když mnoho polí nezpracovaná data mohou být přímo součástí sadu vybranou funkci použity při cvičení modelu, další inženýrství funkce často potřebují zkonstruovat z funkcí v nezpracovaná data pro generování rozšířené trénovací datové sady.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-130">Although many of the raw data fields can be directly included in the selected feature set used to train a model, additional engineered features often need to be constructed from the features in the raw data to generate an enhanced training data set.</span></span>

<span data-ttu-id="ff5a0-131">Jaký druh funkce by měl být vytvořen k vylepšení v datové sadě při tréninku modelu?</span><span class="sxs-lookup"><span data-stu-id="ff5a0-131">What kind of features should be created to enhance the data set when training a model?</span></span> <span data-ttu-id="ff5a0-132">Inženýrství funkce, které zlepšují školení poskytují informace, které lépe odlišuje vzorů v datech.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-132">Engineered features that enhance the training provide information that better differentiates the patterns in the data.</span></span> <span data-ttu-id="ff5a0-133">Očekáváte, že nové funkce, které chcete poskytnout další informace, které není zaznamenaná jasně nebo snadno zřejmá v sadě původního nebo existující funkce, ale tento proces je něco obrázky.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-133">You expect the new features to provide additional information that is not clearly captured or easily apparent in the original or existing feature set, but this process is something of an art.</span></span> <span data-ttu-id="ff5a0-134">Rozhodnutí o zvukové a produktivitu často vyžadují znalosti některé domény.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-134">Sound and productive decisions often require some domain expertise.</span></span>

<span data-ttu-id="ff5a0-135">Při spouštění pomocí Azure Machine Learning, je to nejjednodušší provádět uchopit tento proces namítají pomocí ukázky v Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-135">When starting with Azure Machine Learning, it is easiest to grasp this process concretely by using samples provided in Machine Learning Studio.</span></span> <span data-ttu-id="ff5a0-136">Zde jsou uvedeny dva příklady:</span><span class="sxs-lookup"><span data-stu-id="ff5a0-136">Two examples are presented here:</span></span>

* <span data-ttu-id="ff5a0-137">Příklad regrese ([předpovědi počet kolo pronájem](http://gallery.cortanaintelligence.com/Experiment/Regression-Demand-estimation-4)) v pod dohledem experimentu, kde jsou známé cílové hodnoty</span><span class="sxs-lookup"><span data-stu-id="ff5a0-137">A regression example ([Prediction of the number of bike rentals](http://gallery.cortanaintelligence.com/Experiment/Regression-Demand-estimation-4)) in a supervised experiment where the target values are known</span></span>
* <span data-ttu-id="ff5a0-138">Pomocí příklad text dolování klasifikace [Hashování][feature-hashing]</span><span class="sxs-lookup"><span data-stu-id="ff5a0-138">A text-mining classification example using [Feature Hashing][feature-hashing]</span></span>

### <a name="example-1-adding-temporal-features-for-a-regression-model"></a><span data-ttu-id="ff5a0-139">Příklad 1: Přidání dočasné funkce pro regresní model</span><span class="sxs-lookup"><span data-stu-id="ff5a0-139">Example 1: Adding temporal features for a regression model</span></span>
<span data-ttu-id="ff5a0-140">K ukazují, jak analyzovat funkce pro úlohu regrese, použijeme experimentu "vyžádání prognózy z kol" v nástroji Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-140">To demonstrate how to engineer features for a regression task, let's use the experiment "Demand forecasting of bikes" in Azure Machine Learning Studio.</span></span> <span data-ttu-id="ff5a0-141">Cílem tohoto experimentu je k předvídání požadavků na kol, který je počet kolo pronájem v rámci konkrétní měsíc, den nebo hodinu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-141">The objective of this experiment is to predict the demand for the bikes, that is, the number of bike rentals within a specific month, day, or hour.</span></span> <span data-ttu-id="ff5a0-142">V datové sadě **kolo pronájem UCI datové sady** slouží jako nezpracovaná vstupní data.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-142">The data set **Bike Rental UCI data set** is used as the raw input data.</span></span>

<span data-ttu-id="ff5a0-143">Tato datová sada je založena na skutečná data od společnosti Bikeshare velké, která udržuje síť kolo pronájem v Washington DC ve Spojených státech amerických.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-143">This data set is based on real data from the Capital Bikeshare company that maintains a bike rental network in Washington DC in the United States.</span></span> <span data-ttu-id="ff5a0-144">Sada dat představuje počet kolo pronájem v rámci konkrétní hodinu dne, 2011 2012, která obsahuje 17379 řádků a sloupců 17.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-144">The data set represents the number of bike rentals within a specific hour of a day, from 2011 to 2012, and it contains 17379 rows and 17 columns.</span></span> <span data-ttu-id="ff5a0-145">Nezpracovaná funkce sada obsahuje počasí (teploty, vlhkosti, rychlosti větru) a typ den (svátek nebo den v týdnu).</span><span class="sxs-lookup"><span data-stu-id="ff5a0-145">The raw feature set contains weather conditions (temperature, humidity, wind speed) and the type of the day (holiday or weekday).</span></span> <span data-ttu-id="ff5a0-146">Pole k předpovědi je **cnt**, počet představující pronájem kolo v rámci konkrétní hodinu a který pohybuje od 1 do 977.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-146">The field to predict is **cnt**, a count that represents the bike rentals within a specific hour and that ranges from 1 to 977.</span></span>

<span data-ttu-id="ff5a0-147">Vytvořit efektivní funkce jsou Cvičná data, jsou čtyři modely regrese vytvořené pomocí stejného algoritmu, ale s čtyř různých školení datových sad.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-147">To construct effective features in the training data, four regression models are built by using the same algorithm, but with four different training data sets.</span></span> <span data-ttu-id="ff5a0-148">Čtyři datové sady představují stejnou nezpracovaná vstupní data, ale se zvyšující číslo funkce nastavit.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-148">The four data sets represent the same raw input data, but with an increasing number of features set.</span></span> <span data-ttu-id="ff5a0-149">Tyto funkce jsou rozděleny do čtyř kategorií:</span><span class="sxs-lookup"><span data-stu-id="ff5a0-149">These features are grouped into four categories:</span></span>

1. <span data-ttu-id="ff5a0-150">A = počasí + svátek + den v týdnu + předpokládaných den víkendu funkce</span><span class="sxs-lookup"><span data-stu-id="ff5a0-150">A = weather + holiday + weekday + weekend features for the predicted day</span></span>
2. <span data-ttu-id="ff5a0-151">B = počet kol, které byly pronajaté v každé z předchozích 12 hodin</span><span class="sxs-lookup"><span data-stu-id="ff5a0-151">B = number of bikes that were rented in each of the previous 12 hours</span></span>
3. <span data-ttu-id="ff5a0-152">C = počet kol, které byly pronajaté v každé z předchozích 12 dnů v tutéž hodinu</span><span class="sxs-lookup"><span data-stu-id="ff5a0-152">C = number of bikes that were rented in each of the previous 12 days at the same hour</span></span>
4. <span data-ttu-id="ff5a0-153">D = počet kol, které byly pronajaté v každé z předchozí 12 týdnů v tutéž hodinu a den</span><span class="sxs-lookup"><span data-stu-id="ff5a0-153">D = number of bikes that were rented in each of the previous 12 weeks at the same hour and the same day</span></span>

<span data-ttu-id="ff5a0-154">Kromě toho sada A funkce, která již existuje v původní nezpracovaná data, další tři sady funkcí se vytvoří pomocí funkce technici procesu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-154">Besides feature set A, which already exists in the original raw data, the other three sets of features are created through the feature engineering process.</span></span> <span data-ttu-id="ff5a0-155">Funkci nastavit B zachycení poslední poptávka po kol.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-155">Feature set B captures the recent demand for the bikes.</span></span> <span data-ttu-id="ff5a0-156">Funkci nastavit C zachycení vyžádání kol v konkrétní hodinu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-156">Feature set C captures the demand for bikes at a particular hour.</span></span> <span data-ttu-id="ff5a0-157">Funkci nastavit D zachycení vyžádání kol na konkrétní hodiny a určitý den v týdnu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-157">Feature set D captures demand for bikes at particular hour and particular day of the week.</span></span> <span data-ttu-id="ff5a0-158">Všechny čtyři datových sad školení zahrnuje sady funkcí A, A + B, A + B + C a A + B + C + D, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-158">Each of the four training data sets includes feature sets A, A+B, A+B+C, and A+B+C+D, respectively.</span></span>

<span data-ttu-id="ff5a0-159">V rámci experimentu Azure Machine Learning jsou tyto čtyři sady dat školení formátu prostřednictvím čtyři větve v předem zpracovaných vstupní datové sadě.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-159">In the Azure Machine Learning experiment, these four training data sets are formed via four branches from the pre-processed input data set.</span></span> <span data-ttu-id="ff5a0-160">S výjimkou krajní levé větve, každý z těchto větve obsahuje [spustit skript jazyka R] [ execute-r-script] modul, ve kterém sada odvozené funkcí (funkce nastaví B, C a D) v uvedeném pořadí sestavený a připojeno k importované datové sady.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-160">Except for the leftmost branch, each of these branches contains an [Execute R Script][execute-r-script] module in which a set of derived features (feature sets B, C, and D) is respectively constructed and appended to the imported data set.</span></span> <span data-ttu-id="ff5a0-161">Následující obrázek ukazuje skriptu jazyka R použít k vytvoření sada funkcí B v druhé levém větve.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-161">The following figure demonstrates the R script used to create feature set B in the second left branch.</span></span>

![Vytvořit sadu funkcí](./media/machine-learning-feature-selection-and-engineering/addFeature-Rscripts.png)

<span data-ttu-id="ff5a0-163">Následující tabulka shrnuje porovnání výsledků výkonu čtyři modely.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-163">The following table summarizes the comparison of the performance results of the four models.</span></span> <span data-ttu-id="ff5a0-164">K dosažení nejlepších výsledků se zobrazí funkce A + B + C.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-164">The best results are shown by features A+B+C.</span></span> <span data-ttu-id="ff5a0-165">Všimněte si, že snižuje míra chyb při zahrnuje další funkce sady jsou Cvičná data.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-165">Note that the error rate decreases when additional feature sets are included in the training data.</span></span> <span data-ttu-id="ff5a0-166">Ověříte naše předpoklad, že sady funkcí B a C poskytovat další relevantní informace pro regresní úlohu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-166">This verifies our presumption that the feature sets B and C provide additional relevant information for the regression task.</span></span> <span data-ttu-id="ff5a0-167">Přidání sadu funkcí D zřejmě není zadejte jakékoli další snížení míra chyb.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-167">Adding the D feature set does not seem to provide any additional reduction in the error rate.</span></span>

![Porovnejte výsledky výkonu](./media/machine-learning-feature-selection-and-engineering/result1.png)

### <span data-ttu-id="ff5a0-169"><a name="example2"></a>Příklad 2: Vytvoření funkce v textu dolování</span><span class="sxs-lookup"><span data-stu-id="ff5a0-169"><a name="example2"></a> Example 2: Creating features in text mining</span></span>
<span data-ttu-id="ff5a0-170">Funkce inženýrství je široce použity v úlohy související s dolování text, například klasifikace a postojích analýzy dokumentu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-170">Feature engineering is widely applied in tasks related to text mining, such as document classification and sentiment analysis.</span></span> <span data-ttu-id="ff5a0-171">Například pokud chcete klasifikovat dokumenty do několika kategorií, typické předpokladem je, že slova nebo fráze zahrnuté v jedné kategorii dokumentu jsou méně pravděpodobné, ke kterým došlo v jiné kategorii dokumentu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-171">For example, when you want to classify documents into several categories, a typical assumption is that the words or phrases included in one document category are less likely to occur in another document category.</span></span> <span data-ttu-id="ff5a0-172">Jinými slovy frekvence slovo nebo frázi rozdělení se moci charakterizovat dokumentu různých kategorií.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-172">In other words, the frequency of the word or phrase distribution is able to characterize different document categories.</span></span> <span data-ttu-id="ff5a0-173">V aplikacích dolování text je nutné vytvořit funkcí zahrnující frekvencí slovo nebo frázi, protože jednotlivé obsah textu obvykle slouží jako vstupní data funkce technici procesu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-173">In text mining applications, the feature engineering process is needed to create the features involving word or phrase frequencies because individual pieces of text-contents usually serve as the input data.</span></span>

<span data-ttu-id="ff5a0-174">K dosažení této úlohy, o techniku názvem *hashování* se použije pro efektivní zapnout funkce libovolný text do indexů.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-174">To achieve this task, a technique called *feature hashing* is applied to efficiently turn arbitrary text features into indices.</span></span> <span data-ttu-id="ff5a0-175">Místo na konkrétní index, tato metoda funkce použitím funkce hash na funkce a jejich hodnoty hash jako indexy, které přímo pomocí přidružení každou funkci text (slova nebo fráze).</span><span class="sxs-lookup"><span data-stu-id="ff5a0-175">Instead of associating each text feature (words or phrases) to a particular index, this method functions by applying a hash function to the features and by using their hash values as indices directly.</span></span>

<span data-ttu-id="ff5a0-176">V Azure Machine Learning je [Hashování] [ feature-hashing] modul, který vytvoří tyto funkce slovo nebo frázi.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-176">In Azure Machine Learning, there is a [Feature Hashing][feature-hashing] module that creates these word or phrase features.</span></span> <span data-ttu-id="ff5a0-177">Následující obrázek znázorňuje příklad použití tohoto modulu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-177">The following figure shows an example of using this module.</span></span> <span data-ttu-id="ff5a0-178">Vstupní datová sada obsahuje dva sloupce: hodnocení adresáře v rozsahu od 1 do 5 a skutečnou zkontrolovat obsah.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-178">The input data set contains two columns: the book rating ranging from 1 to 5 and the actual review content.</span></span> <span data-ttu-id="ff5a0-179">Cílem tohoto [Hashování] [ feature-hashing] modul je načíst nové funkce, které se zobrazí četnost výskytu odpovídající slova nebo fráze v rámci konkrétního seznamu zkontrolujte.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-179">The goal of this [Feature Hashing][feature-hashing] module is to retrieve new features that show the occurrence frequency of the corresponding words or phrases within the particular book review.</span></span> <span data-ttu-id="ff5a0-180">Chcete-li použít tento modul, proveďte následující kroky:</span><span class="sxs-lookup"><span data-stu-id="ff5a0-180">To use this module, you need to complete the following steps:</span></span>

1. <span data-ttu-id="ff5a0-181">Vyberte sloupec, který obsahuje vstupní text (**Col2** v tomto příkladu).</span><span class="sxs-lookup"><span data-stu-id="ff5a0-181">Select the column that contains the input text (**Col2** in this example).</span></span>
2. <span data-ttu-id="ff5a0-182">Nastavit *algoritmu hash bitsize* na 8, což znamená, 2 ^ 8 = 256 funkcí se vytvoří.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-182">Set *Hashing bitsize* to 8, which means 2^8=256 features are created.</span></span> <span data-ttu-id="ff5a0-183">Slovo nebo frázi v textu se pak rozdělí 256 indexy.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-183">The word or phrase in the text is then hashed to 256 indices.</span></span> <span data-ttu-id="ff5a0-184">Parametr *algoritmu hash bitsize* rozmezí od 1 do 31.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-184">The parameter *Hashing bitsize* ranges from 1 to 31.</span></span> <span data-ttu-id="ff5a0-185">Pokud parametr je nastaven na větší číslo, jsou méně pravděpodobné, že se rozdělily do stejné indexu hesla či fráze.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-185">If the parameter is set to a larger number, the words or phrases are less likely to be hashed into the same index.</span></span>
3. <span data-ttu-id="ff5a0-186">Nastavte parametr *N-gram* 2.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-186">Set the parameter *N-grams* to 2.</span></span> <span data-ttu-id="ff5a0-187">Tato četnost výskytu unigrams (funkce pro každý jednoslovné) a bigrams (funkce pro každý pár slov sousední) načte ze vstupního textu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-187">This retrieves the occurrence frequency of unigrams (a feature for every single word) and bigrams (a feature for every pair of adjacent words) from the input text.</span></span> <span data-ttu-id="ff5a0-188">Parametr *N-gram* rozmezí od 0 do 10, která určuje maximální počet po sobě jdoucích slova mají být zahrnuty do funkce.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-188">The parameter *N-grams* ranges from 0 to 10, which indicates the maximum number of sequential words to be included in a feature.</span></span>  

![Funkce hash modulu](./media/machine-learning-feature-selection-and-engineering/feature-Hashing1.png)

<span data-ttu-id="ff5a0-190">Následující obrázek ukazuje, jak vypadají tyto nové funkce.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-190">The following figure shows what these new features look like.</span></span>

![Příklad funkce hash](./media/machine-learning-feature-selection-and-engineering/feature-Hashing2.png)

## <a name="filtering-features-from-your-data--feature-selection"></a><span data-ttu-id="ff5a0-192">Filtrování funkce z vašich dat – Výběr funkce</span><span class="sxs-lookup"><span data-stu-id="ff5a0-192">Filtering features from your data--feature selection</span></span>
<span data-ttu-id="ff5a0-193">*Funkce Výběr* je proces, který se běžně použije ke konstrukci školení datové sady pro prediktivní modelování úlohy, například klasifikační nebo regresní úlohy.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-193">*Feature selection* is a process that is commonly applied to the construction of training data sets for predictive modeling tasks such as classification or regression tasks.</span></span> <span data-ttu-id="ff5a0-194">Cílem je vybrat podmnožinu funkcí z původní sady dat, která omezuje jeho dimenze pomocí minimální sadu funkcí, představují maximální množství odchylky v datech.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-194">The goal is to select a subset of the features from the original data set that reduces its dimensions by using a minimal set of features to represent the maximum amount of variance in the data.</span></span> <span data-ttu-id="ff5a0-195">Tuto podmnožinu funkcí, obsahuje pouze funkce, které chcete zahrnout pro trénování modelu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-195">This subset of features contains the only features to be included to train the model.</span></span> <span data-ttu-id="ff5a0-196">Výběr funkce má dva hlavní účely:</span><span class="sxs-lookup"><span data-stu-id="ff5a0-196">Feature selection serves two main purposes:</span></span>

* <span data-ttu-id="ff5a0-197">Výběr funkce často zvyšuje přesnost klasifikace odstraněním důležité, redundantní nebo vysoce korelují funkce.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-197">Feature selection often increases classification accuracy by eliminating irrelevant, redundant, or highly correlated features.</span></span>
* <span data-ttu-id="ff5a0-198">Výběr funkce snižuje počet funkcí, který umožňuje zefektivnit proces školení modelu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-198">Feature selection decreases the number of features, which makes the model training process more efficient.</span></span> <span data-ttu-id="ff5a0-199">To je obzvláště důležité pro inteligentních algoritmů, které jsou nákladné ke cvičení například support vector počítače.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-199">This is particularly important for learners that are expensive to train such as support vector machines.</span></span>

<span data-ttu-id="ff5a0-200">I když bude hledat výběr funkce. omezte počet funkcí v sadě dat, které jsou použity při cvičení modelu, ho není odkazuje obvykle termín *snížení dimenzionalitu.*</span><span class="sxs-lookup"><span data-stu-id="ff5a0-200">Although feature selection seeks to reduce the number of features in the data set used to train the model, it is not usually referred to by the term *dimensionality reduction.*</span></span> <span data-ttu-id="ff5a0-201">Metody výběru funkce extrahujte podmnožinu původní funkcí v datech bez jejich změny.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-201">Feature selection methods extract a subset of original features in the data without changing them.</span></span>  <span data-ttu-id="ff5a0-202">Metody snížení dimenzionalitu využívají inženýrství funkce, které můžete transformace původní funkcí a proto je upravit.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-202">Dimensionality reduction methods employ engineered features that can transform the original features and thus modify them.</span></span> <span data-ttu-id="ff5a0-203">Příklady dimenzionalitu snížení metody: Analýza hlavní komponenty, kanonický korelace analýzu a rozložením singulární hodnotu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-203">Examples of dimensionality reduction methods include principal component analysis, canonical correlation analysis, and singular value decomposition.</span></span>

<span data-ttu-id="ff5a0-204">Jednu kategorii široce použité metody výběru funkcí v pod dohledem kontextu je výběr funkce na základě filtru.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-204">One widely applied category of feature selection methods in a supervised context is filter-based feature selection.</span></span> <span data-ttu-id="ff5a0-205">Vyhodnocením korelace mezi jednotlivé funkce a atribut target použít tyto metody statistické míru přiřadit skóre pro každou funkci.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-205">By evaluating the correlation between each feature and the target attribute, these methods apply a statistical measure to assign a score to each feature.</span></span> <span data-ttu-id="ff5a0-206">Funkce, pak jsou seřazeny podle skóre, který můžete použít k nastavení prahové hodnoty pro zachování nebo odstranění konkrétní funkci.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-206">The features are then ranked by the score, which you can use to set the threshold for keeping or eliminating a specific feature.</span></span> <span data-ttu-id="ff5a0-207">Příklady statistické míry použít v těchto metod: Pearson korelace, vzájemné informace a test chí-kvadrát.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-207">Examples of the statistical measures used in these methods include Pearson Correlation, mutual information, and the Chi-squared test.</span></span>

<span data-ttu-id="ff5a0-208">Azure Machine Learning Studio poskytuje moduly pro výběr funkce.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-208">Azure Machine Learning Studio provides modules for feature selection.</span></span> <span data-ttu-id="ff5a0-209">Jak je znázorněno na následujícím obrázku, patří tyto moduly [na základě filtru výběr funkce] [ filter-based-feature-selection] a [Fisherovy lineární analýza Discriminant][fisher-linear-discriminant-analysis].</span><span class="sxs-lookup"><span data-stu-id="ff5a0-209">As shown in the following figure, these modules include [Filter-Based Feature Selection][filter-based-feature-selection] and [Fisher Linear Discriminant Analysis][fisher-linear-discriminant-analysis].</span></span>

![Příklad výběru funkce](./media/machine-learning-feature-selection-and-engineering/feature-Selection.png)

<span data-ttu-id="ff5a0-211">Například použít [na základě filtru výběr funkce] [ filter-based-feature-selection] modul s textovém příkladu dolování popsané dříve.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-211">For example, use the [Filter-Based Feature Selection][filter-based-feature-selection] module with the text mining example outlined previously.</span></span> <span data-ttu-id="ff5a0-212">Předpokládejme, že budete chtít vytvořit regresní model po vytvoření sadu funkcí, 256 prostřednictvím [Hashování] [ feature-hashing] modulu a že je proměnná odpovědi **Sloupec1** a představuje kniha zkontrolujte hodnocení od 1 do 5.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-212">Assume that you want to build a regression model after a set of 256 features is created through the [Feature Hashing][feature-hashing] module, and that the response variable is **Col1** and represents a book review rating ranging from 1 to 5.</span></span> <span data-ttu-id="ff5a0-213">Nastavit **funkci vyhodnocování metoda** k **Pearson korelace**, **cílový sloupec** k **Sloupec1**, a **počet požadované funkce** k **50**.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-213">Set **Feature scoring method** to **Pearson Correlation**, **Target column** to **Col1**, and **Number of desired features** to **50**.</span></span> <span data-ttu-id="ff5a0-214">Modul [na základě filtru výběr funkce] [ filter-based-feature-selection] pak vytvoří sadu dat obsahující 50 funkcí společně s atribut target **Sloupec1**.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-214">The module [Filter-Based Feature Selection][filter-based-feature-selection] then produces a data set containing 50 features together with the target attribute **Col1**.</span></span> <span data-ttu-id="ff5a0-215">Následující obrázek znázorňuje tok tohoto experimentu a vstupní parametry.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-215">The following figure shows the flow of this experiment and the input parameters.</span></span>

![Příklad výběru funkce](./media/machine-learning-feature-selection-and-engineering/feature-Selection1.png)

<span data-ttu-id="ff5a0-217">Následující obrázek znázorňuje výsledné datových sad.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-217">The following figure shows the resulting data sets.</span></span> <span data-ttu-id="ff5a0-218">Jednotlivé funkce skóre pro magnitudu na základě na Pearson korelace mezi samostatně a atribut target **Sloupec1**.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-218">Each feature is scored based on the Pearson Correlation between itself and the target attribute **Col1**.</span></span> <span data-ttu-id="ff5a0-219">Funkce s nejvyšší skóre jsou zachovány.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-219">The features with top scores are kept.</span></span>

![Funkci na základě filtru výběr datových sad](./media/machine-learning-feature-selection-and-engineering/feature-Selection2.png)

<span data-ttu-id="ff5a0-221">Následující obrázek znázorňuje odpovídající skóre vybraných funkcí.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-221">The following figure shows the corresponding scores of the selected features.</span></span>

![Vybrané funkce skóre](./media/machine-learning-feature-selection-and-engineering/feature-Selection3.png)

<span data-ttu-id="ff5a0-223">Použitím to [na základě filtru výběr funkce] [ filter-based-feature-selection] modulu, 50 mimo 256 funkce jsou vybrané, protože mají nejvíc funkcí korelační s cílovou proměnnou **Sloupec1** založené na metodě vyhodnocování **Pearson korelace**.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-223">By applying this [Filter-Based Feature Selection][filter-based-feature-selection] module, 50 out of 256 features are selected because they have the most features correlated with the target variable **Col1** based on the scoring method **Pearson Correlation**.</span></span>

## <a name="conclusion"></a><span data-ttu-id="ff5a0-224">Závěr</span><span class="sxs-lookup"><span data-stu-id="ff5a0-224">Conclusion</span></span>
<span data-ttu-id="ff5a0-225">Funkce inženýrství a výběr funkce jsou dva kroky, které se běžně provádějí při sestavování model machine learning Příprava Cvičná data.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-225">Feature engineering and feature selection are two steps commonly performed to prepare the training data when building a machine learning model.</span></span> <span data-ttu-id="ff5a0-226">Za normálních okolností funkce inženýrství se použije první ke generování další funkce, a pak se provádí v kroku výběr funkce eliminovat důležité, redundantní nebo vysoce korelační funkce.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-226">Normally, feature engineering is applied first to generate additional features, and then the feature selection step is performed to eliminate irrelevant, redundant, or highly correlated features.</span></span>

<span data-ttu-id="ff5a0-227">Není vždy nutně provést výběr funkce inženýrství nebo funkce.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-227">It is not always necessarily to perform feature engineering or feature selection.</span></span> <span data-ttu-id="ff5a0-228">Jestli je potřeba závisí na mít nebo shromažďovat data, na algoritmus, který vyberete a cíl experimentu.</span><span class="sxs-lookup"><span data-stu-id="ff5a0-228">Whether it is needed depends on the data you have or collect, the algorithm you pick, and the objective of the experiment.</span></span>

<!-- Module References -->
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
[feature-hashing]: https://msdn.microsoft.com/library/azure/c9a82660-2d9c-411d-8122-4d9e0b3ce92a/
[filter-based-feature-selection]: https://msdn.microsoft.com/library/azure/918b356b-045c-412b-aa12-94a1d2dad90f/
[fisher-linear-discriminant-analysis]: https://msdn.microsoft.com/library/azure/dcaab0b2-59ca-4bec-bb66-79fd23540080/
