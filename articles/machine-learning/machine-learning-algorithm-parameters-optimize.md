---
title: aaaOptimize algoritmy v Azure Machine Learning | Microsoft Docs
description: "Vysvětluje, jak nastavit toochoose hello optimální parametr algoritmu v Azure Machine Learning."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 6717e30e-b8d8-4cc1-ad0b-1d4727928d32
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: fbf2f71abdbce19483fb048d67a39cbb368a928e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="choose-parameters-toooptimize-your-algorithms-in-azure-machine-learning"></a><span data-ttu-id="0f2a2-103">Vyberte parametry toooptimize algoritmy v Azure Machine Learning</span><span class="sxs-lookup"><span data-stu-id="0f2a2-103">Choose parameters toooptimize your algorithms in Azure Machine Learning</span></span>
<span data-ttu-id="0f2a2-104">Toto téma popisuje, jak nastavit správné hyperparameter toochoose hello algoritmu v Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-104">This topic describes how toochoose hello right hyperparameter set for an algorithm in Azure Machine Learning.</span></span> <span data-ttu-id="0f2a2-105">Většina algoritmy strojového učení mít tooset parametry.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-105">Most machine learning algorithms have parameters tooset.</span></span> <span data-ttu-id="0f2a2-106">Pokud jste trénování modelu, je potřeba tooprovide hodnoty pro tyto parametry.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-106">When you train a model, you need tooprovide values for those parameters.</span></span> <span data-ttu-id="0f2a2-107">Hello účinnosti hello trained model, závisí na hello modelu parametry, které zvolíte.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-107">hello efficacy of hello trained model depends on hello model parameters that you choose.</span></span> <span data-ttu-id="0f2a2-108">Hello hledání hello optimální sadu parametrů, proces se označuje jako *modelu výběr*.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-108">hello process of finding hello optimal set of parameters is known as *model selection*.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="0f2a2-109">Existují různé způsoby toodo modelu výběr.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-109">There are various ways toodo model selection.</span></span> <span data-ttu-id="0f2a2-110">Ve strojovém učení se křížového ověření je jednou z nejčastěji používá hello metody pro výběr modelu a je hello výchozí model výběr mechanismus v Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-110">In machine learning, cross-validation is one of hello most widely used methods for model selection, and it is hello default model selection mechanism in Azure Machine Learning.</span></span> <span data-ttu-id="0f2a2-111">Protože Azure Machine Learning podporuje R a Python, můžete implementovat vlastní mechanismy Výběr modelu vždy pomocí R nebo Python.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-111">Because Azure Machine Learning supports both R and Python, you can always implement their own model selection mechanisms by using either R or Python.</span></span>

<span data-ttu-id="0f2a2-112">V procesu hello nalezení hello nejlepší sada parametrů je čtyři kroky:</span><span class="sxs-lookup"><span data-stu-id="0f2a2-112">There are four steps in hello process of finding hello best parameter set:</span></span>

1. <span data-ttu-id="0f2a2-113">**Definování hello parametr místo**: pro algoritmus hello nejdřív rozhodněte hello přesný parametr hodnoty, které mají tooconsider.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-113">**Define hello parameter space**: For hello algorithm, first decide hello exact parameter values you want tooconsider.</span></span>
2. <span data-ttu-id="0f2a2-114">**Zadejte nastavení křížové ověření hello**: Rozhodněte, jak křížové ověření toochoose složení pro datovou sadu hello.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-114">**Define hello cross-validation settings**: Decide how toochoose cross-validation folds for hello dataset.</span></span>
3. <span data-ttu-id="0f2a2-115">**Zadejte metriku hello**: Rozhodněte, jaké metriky toouse pro určení nejlepší sadu parametrů, třeba přesnost hello, střední kořenové spolehlivosti chybu, přesnost, odvolání nebo f – score.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-115">**Define hello metric**: Decide what metric toouse for determining hello best set of parameters, such as accuracy, root mean squared error, precision, recall, or f-score.</span></span>
4. <span data-ttu-id="0f2a2-116">**Cvičení, hodnocení a porovnání**: pro každou jedinečnou kombinaci hodnot parametrů hello křížového ověřování prováděné a podle metrika chyba hello definujete.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-116">**Train, evaluate, and compare**: For each unique combination of hello parameter values, cross-validation is carried out by and based on hello error metric you define.</span></span> <span data-ttu-id="0f2a2-117">Po vyhodnocení a porovnání můžete vybrat nejlepší provádění modelu hello.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-117">After evaluation and comparison, you can choose hello best-performing model.</span></span>

<span data-ttu-id="0f2a2-118">Hello následující obrázek znázorňuje ukazuje, jak toho lze dosáhnout v Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-118">hello following image illustrates shows how this can be achieved in Azure Machine Learning.</span></span>

![Najít hello nejlepší sadu parametrů](./media/machine-learning-algorithm-parameters-optimize/fig1.png)

## <a name="define-hello-parameter-space"></a><span data-ttu-id="0f2a2-120">Zadejte parametr místo hello</span><span class="sxs-lookup"><span data-stu-id="0f2a2-120">Define hello parameter space</span></span>
<span data-ttu-id="0f2a2-121">Můžete definovat hello parametr nastavit na hello modelu inicializačnímu kroku.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-121">You can define hello parameter set at hello model initialization step.</span></span> <span data-ttu-id="0f2a2-122">Hello parametr podokně všechny algoritmy strojového učení má dva režimy trainer: *jeden parametr* a *parametr rozsahu*.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-122">hello parameter pane of all machine learning algorithms has two trainer modes: *Single Parameter* and *Parameter Range*.</span></span> <span data-ttu-id="0f2a2-123">Zvolte režim parametr rozsahu.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-123">Choose Parameter Range mode.</span></span> <span data-ttu-id="0f2a2-124">V režimu parametr rozsahu můžete zadat více hodnot pro jednotlivé parametry.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-124">In Parameter Range mode, you can enter multiple values for each parameter.</span></span> <span data-ttu-id="0f2a2-125">Do textového pole hello můžete zadat hodnot oddělených čárkami.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-125">You can enter comma-separated values in hello text box.</span></span>

![Two-class boosted rozhodovací strom, jeden parametr](./media/machine-learning-algorithm-parameters-optimize/fig2.png)

 <span data-ttu-id="0f2a2-127">Alternativně můžete definovat maximální a minimální body hello hello mřížky a celkový počet bodů toobe vygeneroval s hello **Tvůrce rozsahu použití**.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-127">Alternately, you can define hello maximum and minimum points of hello grid and hello total number of points toobe generated with **Use Range Builder**.</span></span> <span data-ttu-id="0f2a2-128">Ve výchozím nastavení se hodnoty parametrů hello generují u lineární stupnice.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-128">By default, hello parameter values are generated on a linear scale.</span></span> <span data-ttu-id="0f2a2-129">Avšak v tom případě **škálování protokolu** je zaškrtnuto, hello hodnoty jsou generovány v hello protokolu škálování (hello poměr sousedících bodů hello je konstantní místo jejich rozdíl).</span><span class="sxs-lookup"><span data-stu-id="0f2a2-129">But if **Log Scale** is checked, hello values are generated in hello log scale (that is, hello ratio of hello adjacent points is constant instead of their difference).</span></span> <span data-ttu-id="0f2a2-130">Pro parametry celé číslo můžete definovat rozsah použitím spojovníku.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-130">For integer parameters, you can define a range by using a hyphen.</span></span> <span data-ttu-id="0f2a2-131">Například "1-10" znamená, že všechny celá čísla od 1 do 10 (včetně) formuláře hello sadu parametrů.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-131">For example, “1-10” means that all integers between 1 and 10 (both inclusive) form hello parameter set.</span></span> <span data-ttu-id="0f2a2-132">Ve smíšeném režimu je také podporována.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-132">A mixed mode is also supported.</span></span> <span data-ttu-id="0f2a2-133">Například hello sadu parametrů "1 – 10, 20, 50" by mělo zahrnovat celá čísla 1 až 10, 20 až 50.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-133">For example, hello parameter set “1-10, 20, 50” would include integers 1-10, 20, and 50.</span></span>

![Two-class boosted rozhodovací strom, parametr rozsahu](./media/machine-learning-algorithm-parameters-optimize/fig3.png)

## <a name="define-cross-validation-folds"></a><span data-ttu-id="0f2a2-135">Definování křížové ověření složení</span><span class="sxs-lookup"><span data-stu-id="0f2a2-135">Define cross-validation folds</span></span>
<span data-ttu-id="0f2a2-136">Hello [rozdělení a vzorky] [ partition-and-sample] modulu je možné je použít toorandomly přiřazení složení toohello data.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-136">hello [Partition and Sample][partition-and-sample] module can be used toorandomly assign folds toohello data.</span></span> <span data-ttu-id="0f2a2-137">V následující ukázková konfigurace pro modul hello hello jsme definujte pět složení a náhodně přiřadit násobek číslo toohello ukázka instancí.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-137">In hello following sample configuration for hello module, we define five folds and randomly assign a fold number toohello sample instances.</span></span>

![Rozdělení a vzorky](./media/machine-learning-algorithm-parameters-optimize/fig4.png)

## <a name="define-hello-metric"></a><span data-ttu-id="0f2a2-139">Zadejte metriku hello</span><span class="sxs-lookup"><span data-stu-id="0f2a2-139">Define hello metric</span></span>
<span data-ttu-id="0f2a2-140">Hello [Tune Model Hyperparameters] [ tune-model-hyperparameters] modulu poskytuje podporu pro empirically výběr hello nejlepší sadu parametrů pro danou algoritmus a datové sady.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-140">hello [Tune Model Hyperparameters][tune-model-hyperparameters] module provides support for empirically choosing hello best set of parameters for a given algorithm and dataset.</span></span> <span data-ttu-id="0f2a2-141">Kromě toho tooother informace o školení hello model hello **vlastnosti** podokně tohoto modulu zahrnuje hello Metrika pro určení nejlepší sadu parametrů hello.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-141">In addition tooother information regarding training hello model, hello **Properties** pane of this module includes hello metric for determining hello best parameter set.</span></span> <span data-ttu-id="0f2a2-142">Má dva různé rozevírací seznamy pro klasifikaci a regrese algoritmy, v uvedeném pořadí.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-142">It has two different drop-down list boxes for classification and regression algorithms, respectively.</span></span> <span data-ttu-id="0f2a2-143">Pokud algoritmus hello v úvahu je klasifikační algoritmus, hello regrese metrika je ignorován a naopak.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-143">If hello algorithm under consideration is a classification algorithm, hello regression metric is ignored and vice versa.</span></span> <span data-ttu-id="0f2a2-144">V tomto konkrétním příkladu hello metrika je **přesnost**.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-144">In this specific example, hello metric is **Accuracy**.</span></span>   

![Parametry oblouku](./media/machine-learning-algorithm-parameters-optimize/fig5.png)

## <a name="train-evaluate-and-compare"></a><span data-ttu-id="0f2a2-146">Cvičení, hodnocení a porovnání</span><span class="sxs-lookup"><span data-stu-id="0f2a2-146">Train, evaluate, and compare</span></span>
<span data-ttu-id="0f2a2-147">Hello stejné [Tune Model Hyperparameters] [ tune-model-hyperparameters] modulu soupravy všechny modely hello, které odpovídají toohello sadu parametrů, vyhodnotí různé metriky a potom vytvoří přizpůsobené trained model hello podle hello metriku, které zvolíte.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-147">hello same [Tune Model Hyperparameters][tune-model-hyperparameters] module trains all hello models that correspond toohello parameter set, evaluates various metrics, and then creates hello best-trained model based on hello metric you choose.</span></span> <span data-ttu-id="0f2a2-148">Tento modul má dvě povinné zadání:</span><span class="sxs-lookup"><span data-stu-id="0f2a2-148">This module has two mandatory inputs:</span></span>

* <span data-ttu-id="0f2a2-149">Nezkušený student Hello</span><span class="sxs-lookup"><span data-stu-id="0f2a2-149">hello untrained learner</span></span>
* <span data-ttu-id="0f2a2-150">Datová sada Hello</span><span class="sxs-lookup"><span data-stu-id="0f2a2-150">hello dataset</span></span>

<span data-ttu-id="0f2a2-151">modul Hello má také volitelné datové sadě služby vstup.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-151">hello module also has an optional dataset input.</span></span> <span data-ttu-id="0f2a2-152">Připojte hello datovou sadu s násobek informace toohello povinná datová sada vstupem.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-152">Connect hello dataset with fold information toohello mandatory dataset input.</span></span> <span data-ttu-id="0f2a2-153">Je-li datovou sadu hello nemá přiřazeny žádné informace o násobek, 10-fold křížové ověření je provedeno automaticky ve ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-153">If hello dataset is not assigned any fold information, then a 10-fold cross-validation is automatically executed by default.</span></span> <span data-ttu-id="0f2a2-154">Pokud není provádí hello násobek přiřazení a ověření datové sady je k dispozici na portu hello volitelné datovou sadu, je zvolen režim train-test a první datovou sadu hello je použité tootrain hello model pro každou kombinaci parametrů.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-154">If hello fold assignment is not done and a validation dataset is provided at hello optional dataset port, then a train-test mode is chosen and hello first dataset is used tootrain hello model for each parameter combination.</span></span>

![Vylepšené rozhodovací strom třídění](./media/machine-learning-algorithm-parameters-optimize/fig6a.png)

<span data-ttu-id="0f2a2-156">Hello model je následně vyhodnocovaná u hello ověření datové sady.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-156">hello model is then evaluated on hello validation dataset.</span></span> <span data-ttu-id="0f2a2-157">Hello vlevo výstupní port modulu ukazuje hello jiné metriky jako funkce hodnot parametrů.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-157">hello left output port of hello module shows different metrics as functions of parameter values.</span></span> <span data-ttu-id="0f2a2-158">Hello správné výstupní port dává hello trained model, který odpovídá toohello přizpůsobené provádění modelu podle zvolené metrika toohello (**přesnost** v tomto případě).</span><span class="sxs-lookup"><span data-stu-id="0f2a2-158">hello right output port gives hello trained model that corresponds toohello best-performing model according toohello chosen metric (**Accuracy** in this case).</span></span>  

![Ověření datové sady](./media/machine-learning-algorithm-parameters-optimize/fig6b.png)

<span data-ttu-id="0f2a2-160">Můžete zobrazit přesný parametry hello vybrali vizualizací hello správné výstupní port.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-160">You can see hello exact parameters chosen by visualizing hello right output port.</span></span> <span data-ttu-id="0f2a2-161">Tento model lze použít v vyhodnocování testovací sada nebo v operationalized webové služby po uložení jako modulu trained model.</span><span class="sxs-lookup"><span data-stu-id="0f2a2-161">This model can be used in scoring a test set or in an operationalized web service after saving as a trained model.</span></span>

<!-- Module References -->
[partition-and-sample]: https://msdn.microsoft.com/library/azure/a8726e34-1b3e-4515-b59a-3e4a475654b8/
[tune-model-hyperparameters]: https://msdn.microsoft.com/library/azure/038d91b6-c2f2-42a1-9215-1f2c20ed1b40/
