---
title: "Předávání Azure Automation DSC data pro vytváření sestav k analýze protokolů OMS | Microsoft Docs"
description: "Tento článek ukazuje, jak odeslat požadovaného stavu konfigurace (DSC) data pro vytváření sestav a správy Microsoft Operations Management Suite Log Analytics k poskytování další aspekty."
services: automation
documentationcenter: 
author: eslesar
manager: carmonm
editor: tysonn
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/24/2017
ms.author: eslesar
ms.openlocfilehash: 316031c5297a0201c8db4a9e177298c78962c673
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="forward-azure-automation-dsc-reporting-data-to-oms-log-analytics"></a><span data-ttu-id="734f8-103">Předávání Azure Automation DSC data pro vytváření sestav k analýze protokolů OMS</span><span class="sxs-lookup"><span data-stu-id="734f8-103">Forward Azure Automation DSC reporting data to OMS Log Analytics</span></span>

<span data-ttu-id="734f8-104">Automatizace může odesílat data stavu uzlu DSC do pracovního prostoru analýzy protokolů Microsoft Operations Management Suite (OMS).</span><span class="sxs-lookup"><span data-stu-id="734f8-104">Automation can send DSC node status data to your Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  
<span data-ttu-id="734f8-105">Stav dodržování předpisů se zobrazí na portálu Azure nebo v prostředí PowerShell pro uzly a pro jednotlivé prostředky DSC v konfigurace uzlu.</span><span class="sxs-lookup"><span data-stu-id="734f8-105">Compliance status is visible in the Azure portal, or with PowerShell, for nodes and for individual DSC resources in node configurations.</span></span> <span data-ttu-id="734f8-106">Pomocí analýzy protokolů můžete:</span><span class="sxs-lookup"><span data-stu-id="734f8-106">With Log Analytics you can:</span></span>

* <span data-ttu-id="734f8-107">Získat informace o dodržování předpisů pro spravované uzly a jednotlivé prostředky</span><span class="sxs-lookup"><span data-stu-id="734f8-107">Get compliance information for managed nodes and individual resources</span></span>
* <span data-ttu-id="734f8-108">Aktivovat e-mail nebo upozornění na základě stavu dodržování předpisů</span><span class="sxs-lookup"><span data-stu-id="734f8-108">Trigger an email or alert based on compliance status</span></span>
* <span data-ttu-id="734f8-109">Zápis pokročilými dotazy napříč spravované uzly</span><span class="sxs-lookup"><span data-stu-id="734f8-109">Write advanced queries across your managed nodes</span></span>
* <span data-ttu-id="734f8-110">Vazbu mezi stav dodržování předpisů v účtech Automation</span><span class="sxs-lookup"><span data-stu-id="734f8-110">Correlate compliance status across Automation accounts</span></span>
* <span data-ttu-id="734f8-111">Vizualizace historii uzlu dodržování předpisů v čase</span><span class="sxs-lookup"><span data-stu-id="734f8-111">Visualize your node compliance history over time</span></span>

## <a name="prerequisites"></a><span data-ttu-id="734f8-112">Požadavky</span><span class="sxs-lookup"><span data-stu-id="734f8-112">Prerequisites</span></span>

<span data-ttu-id="734f8-113">Chcete-li zahájit odesílání sestav Automation DSC k analýze protokolů, je třeba:</span><span class="sxs-lookup"><span data-stu-id="734f8-113">To start sending your Automation DSC reports to Log Analytics, you need:</span></span>

* <span data-ttu-id="734f8-114">Listopadu 2016 nebo novější vydání [prostředí Azure PowerShell](/powershell/azure/overview) (v2.3.0).</span><span class="sxs-lookup"><span data-stu-id="734f8-114">The November 2016 or later release of [Azure PowerShell](/powershell/azure/overview) (v2.3.0).</span></span>
* <span data-ttu-id="734f8-115">Účet Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="734f8-115">An Azure Automation account.</span></span> <span data-ttu-id="734f8-116">Další informace najdete v tématu [Začínáme s Azure Automation.](automation-offering-get-started.md)</span><span class="sxs-lookup"><span data-stu-id="734f8-116">For more information, see [Getting Started with Azure Automation](automation-offering-get-started.md)</span></span>
* <span data-ttu-id="734f8-117">Pracovní prostor analýzy protokolů se **automatizace a řízení** nabídky služeb.</span><span class="sxs-lookup"><span data-stu-id="734f8-117">A Log Analytics workspace with an **Automation & Control** service offering.</span></span> <span data-ttu-id="734f8-118">Další informace najdete v tématu [začít pracovat s analýzy protokolů](../log-analytics/log-analytics-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="734f8-118">For more information, see [Get started with Log Analytics](../log-analytics/log-analytics-get-started.md).</span></span>
* <span data-ttu-id="734f8-119">Nejméně jeden uzel Azure Automation DSC.</span><span class="sxs-lookup"><span data-stu-id="734f8-119">At least one Azure Automation DSC node.</span></span> <span data-ttu-id="734f8-120">Další informace najdete v tématu [registrace počítačů pro správu Azure Automation DSC.](automation-dsc-onboarding.md)</span><span class="sxs-lookup"><span data-stu-id="734f8-120">For more information, see [Onboarding machines for management by Azure Automation DSC](automation-dsc-onboarding.md)</span></span> 

## <a name="set-up-integration-with-log-analytics"></a><span data-ttu-id="734f8-121">Nastavení integrace s analýzy protokolů</span><span class="sxs-lookup"><span data-stu-id="734f8-121">Set up integration with Log Analytics</span></span>

<span data-ttu-id="734f8-122">Pokud chcete začít, importování dat z Azure Automation DSC do analýzy protokolů, proveďte následující kroky:</span><span class="sxs-lookup"><span data-stu-id="734f8-122">To begin importing data from Azure Automation DSC into Log Analytics, complete the following steps:</span></span>

1. <span data-ttu-id="734f8-123">Přihlaste se k účtu Azure v prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="734f8-123">Log in to your Azure account in PowerShell.</span></span> <span data-ttu-id="734f8-124">V tématu [přihlásit pomocí prostředí Azure PowerShell](https://docs.microsoft.com/en-us/powershell/azure/authenticate-azureps?view=azurermps-4.0.0)</span><span class="sxs-lookup"><span data-stu-id="734f8-124">See [Log in with Azure PowerShell](https://docs.microsoft.com/en-us/powershell/azure/authenticate-azureps?view=azurermps-4.0.0)</span></span>
1. <span data-ttu-id="734f8-125">Získat _ResourceId_ účtu automation spuštěním následujícího příkazu Powershellu: (Pokud máte více než jeden účet automation, zvolte _ResourceID_ pro účet, který chcete nakonfigurovat).</span><span class="sxs-lookup"><span data-stu-id="734f8-125">Get the _ResourceId_ of your automation account by running the following PowerShell command: (if you have more than one automation account, choose the _ResourceID_ for the account you want to configure).</span></span>

  ```powershell
  # Find the ResourceId for the Automation Account
  Find-AzureRmResource -ResourceType "Microsoft.Automation/automationAccounts"
  ```
1. <span data-ttu-id="734f8-126">Získat _ResourceId_ pracovního prostoru analýzy protokolů spuštěním následujícího příkazu Powershellu: (Pokud máte více než jednoho pracovního prostoru, vyberte _ResourceID_ pro pracovní prostor, kterou chcete konfigurovat).</span><span class="sxs-lookup"><span data-stu-id="734f8-126">Get the _ResourceId_ of your Log Analytics workspace by running the following PowerShell command: (if you have more than one workspace, choose the _ResourceID_ for the workspace you want to configure).</span></span>

  ```powershell
  # Find the ResourceId for the Log Analytics workspace
  Find-AzureRmResource -ResourceType "Microsoft.OperationalInsights/workspaces"
  ```
1. <span data-ttu-id="734f8-127">Spusťte následující příkaz prostředí PowerShell, nahraďte `<AutomationResourceId>` a `<WorkspaceResourceId>` s _ResourceId_ hodnoty ze všech předchozích kroků:</span><span class="sxs-lookup"><span data-stu-id="734f8-127">Run the following PowerShell command, replacing `<AutomationResourceId>` and `<WorkspaceResourceId>` with the _ResourceId_ values from each of the previous steps:</span></span>

  ```powershell
  Set-AzureRmDiagnosticSetting -ResourceId <AutomationResourceId> -WorkspaceId <WorkspaceResourceId> -Enabled $true -Categories "DscNodeStatus"
  ```

<span data-ttu-id="734f8-128">Pokud chcete zastavit import dat z Azure Automation DSC do analýzy protokolů, spusťte následující příkaz prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="734f8-128">If you want to stop importing data from Azure Automation DSC into Log Analytics, run the following PowerShell command.</span></span>

```powershell
Set-AzureRmDiagnosticSetting -ResourceId <AutomationResourceId> -WorkspaceId <WorkspaceResourceId> -Enabled $false -Categories "DscNodeStatus"
```

## <a name="view-the-dsc-logs"></a><span data-ttu-id="734f8-129">Zobrazit protokoly DSC</span><span class="sxs-lookup"><span data-stu-id="734f8-129">View the DSC logs</span></span>

<span data-ttu-id="734f8-130">Po nastavení integrace s analýzy protokolů pro data Automation DSC, **hledání protokolů** tlačítko se zobrazí na **uzly DSC** okno účtu automation.</span><span class="sxs-lookup"><span data-stu-id="734f8-130">After you set up integration with Log Analytics for your Automation DSC data, a **Log search** button will appear on the **DSC Nodes** blade of your automation account.</span></span> <span data-ttu-id="734f8-131">Klikněte **hledání protokolů** tlačítko Zobrazit protokoly pro data uzlu DSC.</span><span class="sxs-lookup"><span data-stu-id="734f8-131">Click the **Log Search** button to view the logs for DSC node data.</span></span>

![Tlačítko vyhledat protokolu](media/automation-dsc-diagnostics/log-search-button.png)

<span data-ttu-id="734f8-133">**Hledání protokolů** otevře se okno a zobrazí **DscNodeStatusData** operaci pro každý uzel DSC a **DscResourceStatusData** operace pro každou [prostředek DSC](https://msdn.microsoft.com/powershell/dsc/resources) volat v konfiguraci uzlu použitý pro tento uzel.</span><span class="sxs-lookup"><span data-stu-id="734f8-133">The **Log Search** blade opens, and you see a **DscNodeStatusData** operation for each DSC node, and a **DscResourceStatusData** operation for each [DSC resource](https://msdn.microsoft.com/powershell/dsc/resources) called in the Node configuration applied to that node.</span></span>

<span data-ttu-id="734f8-134">**DscResourceStatusData** operace obsahuje informace o chybě pro veškeré prostředky DSC, které se nezdařilo.</span><span class="sxs-lookup"><span data-stu-id="734f8-134">The **DscResourceStatusData** operation contains error information for any DSC resources that failed.</span></span>

<span data-ttu-id="734f8-135">Klikněte na každou operaci v seznamu se zobrazí data pro tuto operaci.</span><span class="sxs-lookup"><span data-stu-id="734f8-135">Click each operation in the list to see the data for that operation.</span></span>

<span data-ttu-id="734f8-136">Můžete také zobrazit protokoly [hledání v analýzy protokolů.</span><span class="sxs-lookup"><span data-stu-id="734f8-136">You can also view the logs by [searching in Log Analytics.</span></span> <span data-ttu-id="734f8-137">V tématu [najít data pomocí protokolu hledání](../log-analytics/log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="734f8-137">See [Find data using log searches](../log-analytics/log-analytics-log-searches.md).</span></span>
<span data-ttu-id="734f8-138">Zadejte následující dotaz k vyhledání protokolů DSC:`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus"`</span><span class="sxs-lookup"><span data-stu-id="734f8-138">Type the following query to find your DSC logs: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus"`</span></span>

<span data-ttu-id="734f8-139">Také můžete zúžit dotaz podle názvu operaci.</span><span class="sxs-lookup"><span data-stu-id="734f8-139">You can also narrow the query by the operation name.</span></span> <span data-ttu-id="734f8-140">Například: ' typ = AzureDiagnostics ResourceProvider = "MICROSOFT. Kategorie AUTOMATIZACE"="DscNodeStatus"OperationName ="DscNodeStatusData"</span><span class="sxs-lookup"><span data-stu-id="734f8-140">For example: \`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus" OperationName = "DscNodeStatusData"</span></span>

### <a name="send-an-email-when-a-dsc-compliance-check-fails"></a><span data-ttu-id="734f8-141">Odeslat e-mail, když se nezdaří kontrola dodržování předpisů DSC</span><span class="sxs-lookup"><span data-stu-id="734f8-141">Send an email when a DSC compliance check fails</span></span>

<span data-ttu-id="734f8-142">Jednou z našich žádostem nejvyšší zákazníků je pro možnost odesílat e-mailem nebo jako text v případě problémů s konfigurací DSC.</span><span class="sxs-lookup"><span data-stu-id="734f8-142">One of our top customer requests is for the ability to send an email or a text when something goes wrong with a DSC configuration.</span></span>   

<span data-ttu-id="734f8-143">Pokud chcete vytvořit pravidlo výstrahy, začněte vytvořením hledání protokolů pro záznamy sestavy DSC, které by měla vyvolat výstrahu.</span><span class="sxs-lookup"><span data-stu-id="734f8-143">To create an alert rule, you start by creating a log search for the DSC report records that should invoke the alert.</span></span>  <span data-ttu-id="734f8-144">Klikněte **výstraha** tlačítko Vytvořit a nakonfigurovat pravidlo výstrahy.</span><span class="sxs-lookup"><span data-stu-id="734f8-144">Click the **Alert** button to create and configure the alert rule.</span></span>

1. <span data-ttu-id="734f8-145">Na stránce Přehled protokolu Analytics klikněte na tlačítko **hledání protokolů**.</span><span class="sxs-lookup"><span data-stu-id="734f8-145">From the Log Analytics Overview page, click **Log Search**.</span></span>
1. <span data-ttu-id="734f8-146">Vytvoření vyhledávací dotaz protokolu pro upozornění zadáním následujících hledání do pole dotazu:`Type=AzureDiagnostics Category=DscNodeStatus NodeName_s=DSCTEST1 OperationName=DscNodeStatusData ResultType=Failed`</span><span class="sxs-lookup"><span data-stu-id="734f8-146">Create a log search query for your alert by typing the following search into the query field:  `Type=AzureDiagnostics Category=DscNodeStatus NodeName_s=DSCTEST1 OperationName=DscNodeStatusData ResultType=Failed`</span></span>

  <span data-ttu-id="734f8-147">Pokud jste nastavili protokolů z více než jeden účet Automation nebo odběr do pracovního prostoru, můžete je seskupovat vaše předplatné a účet Automation.</span><span class="sxs-lookup"><span data-stu-id="734f8-147">If you have set up logs from more than one Automation account or subscription to your workspace, you can group your alerts by subscription and Automation account.</span></span>  
  <span data-ttu-id="734f8-148">Název účtu Automation může být odvozen z pole prostředků do vyhledávání DscNodeStatusData.</span><span class="sxs-lookup"><span data-stu-id="734f8-148">Automation account name can be derived from the Resource field in the search of DscNodeStatusData.</span></span>  
1. <span data-ttu-id="734f8-149">Chcete-li otevřít **přidat pravidlo výstrahy** obrazovky, klikněte na tlačítko **výstrah** v horní části stránky.</span><span class="sxs-lookup"><span data-stu-id="734f8-149">To open the **Add Alert Rule** screen, click **Alert** at the top of the page.</span></span> <span data-ttu-id="734f8-150">Další informace o možnostech konfigurace upozornění najdete v tématu [výstrahy v analýzy protokolů](../log-analytics/log-analytics-alerts.md#alert-rules).</span><span class="sxs-lookup"><span data-stu-id="734f8-150">For more information on the options to configure the alert, see [Alerts in Log Analytics](../log-analytics/log-analytics-alerts.md#alert-rules).</span></span>

### <a name="find-failed-dsc-resources-across-all-nodes"></a><span data-ttu-id="734f8-151">Vyhledání chybných prostředky DSC pro všechny uzly</span><span class="sxs-lookup"><span data-stu-id="734f8-151">Find failed DSC resources across all nodes</span></span>

<span data-ttu-id="734f8-152">Jednou z výhod použití analýzy protokolů je, že můžete vyhledat selhání kontroly mezi uzly.</span><span class="sxs-lookup"><span data-stu-id="734f8-152">One advantage of using Log Analytics is that you can search for failed checks across nodes.</span></span>
<span data-ttu-id="734f8-153">Vyhledejte všechny instance prostředků DSC, které se nezdařilo.</span><span class="sxs-lookup"><span data-stu-id="734f8-153">To find all instances of DSC resources that failed.</span></span>

1. <span data-ttu-id="734f8-154">Na stránce Přehled protokolu Analytics klikněte na tlačítko **hledání protokolů**.</span><span class="sxs-lookup"><span data-stu-id="734f8-154">From the Log Analytics Overview page, click **Log Search**.</span></span>
1. <span data-ttu-id="734f8-155">Vytvoření vyhledávací dotaz protokolu pro upozornění zadáním následujících hledání do pole dotazu:`Type=AzureDiagnostics Category=DscNodeStatus OperationName=DscResourceStatusData ResultType=Failed`</span><span class="sxs-lookup"><span data-stu-id="734f8-155">Create a log search query for your alert by typing the following search into the query field:  `Type=AzureDiagnostics Category=DscNodeStatus OperationName=DscResourceStatusData ResultType=Failed`</span></span>

### <a name="view-historical-dsc-node-status"></a><span data-ttu-id="734f8-156">Zobrazit historická DSC uzlu stav</span><span class="sxs-lookup"><span data-stu-id="734f8-156">View historical DSC node status</span></span>

<span data-ttu-id="734f8-157">Nakonec můžete vizualizovat váš historie stavu uzlu DSC v čase.</span><span class="sxs-lookup"><span data-stu-id="734f8-157">Finally, you may want to visualize your DSC node status history over time.</span></span>  
<span data-ttu-id="734f8-158">Tento dotaz můžete použít k vyhledání stav váš stav uzlu DSC v čase.</span><span class="sxs-lookup"><span data-stu-id="734f8-158">You can use this query to search for the status of your DSC node status over time.</span></span>

`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=DscNodeStatus NOT(ResultType="started") | measure Count() by ResultType interval 1hour`  

<span data-ttu-id="734f8-159">Tato akce zobrazí graf stavu uzlu v čase.</span><span class="sxs-lookup"><span data-stu-id="734f8-159">This will display a chart of the node status over time.</span></span>

## <a name="log-analytics-records"></a><span data-ttu-id="734f8-160">Záznamy služby Log Analytics</span><span class="sxs-lookup"><span data-stu-id="734f8-160">Log Analytics records</span></span>

<span data-ttu-id="734f8-161">Diagnostika z Azure Automation vytvoří dvě kategorie záznamů v analýzy protokolů.</span><span class="sxs-lookup"><span data-stu-id="734f8-161">Diagnostics from Azure Automation creates two categories of records in Log Analytics.</span></span>

### <a name="dscnodestatusdata"></a><span data-ttu-id="734f8-162">DscNodeStatusData</span><span class="sxs-lookup"><span data-stu-id="734f8-162">DscNodeStatusData</span></span>

| <span data-ttu-id="734f8-163">Vlastnost</span><span class="sxs-lookup"><span data-stu-id="734f8-163">Property</span></span> | <span data-ttu-id="734f8-164">Popis</span><span class="sxs-lookup"><span data-stu-id="734f8-164">Description</span></span> |
| --- | --- |
| <span data-ttu-id="734f8-165">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="734f8-165">TimeGenerated</span></span> |<span data-ttu-id="734f8-166">Datum a čas, kdy byla spuštěna kontrola dodržování zásad.</span><span class="sxs-lookup"><span data-stu-id="734f8-166">Date and time when the compliance check ran.</span></span> |
| <span data-ttu-id="734f8-167">OperationName</span><span class="sxs-lookup"><span data-stu-id="734f8-167">OperationName</span></span> |<span data-ttu-id="734f8-168">DscNodeStatusData</span><span class="sxs-lookup"><span data-stu-id="734f8-168">DscNodeStatusData</span></span> |
| <span data-ttu-id="734f8-169">ResultType</span><span class="sxs-lookup"><span data-stu-id="734f8-169">ResultType</span></span> |<span data-ttu-id="734f8-170">Zda je uzel kompatibilní.</span><span class="sxs-lookup"><span data-stu-id="734f8-170">Whether the node is compliant.</span></span> |
| <span data-ttu-id="734f8-171">NodeName_s</span><span class="sxs-lookup"><span data-stu-id="734f8-171">NodeName_s</span></span> |<span data-ttu-id="734f8-172">Název uzlu spravované.</span><span class="sxs-lookup"><span data-stu-id="734f8-172">The name of the managed node.</span></span> |
| <span data-ttu-id="734f8-173">NodeComplianceStatus_s</span><span class="sxs-lookup"><span data-stu-id="734f8-173">NodeComplianceStatus_s</span></span> |<span data-ttu-id="734f8-174">Zda je uzel kompatibilní.</span><span class="sxs-lookup"><span data-stu-id="734f8-174">Whether the node is compliant.</span></span> |
| <span data-ttu-id="734f8-175">DscReportStatus</span><span class="sxs-lookup"><span data-stu-id="734f8-175">DscReportStatus</span></span> |<span data-ttu-id="734f8-176">Kontrola dodržování zásad jestli proběhla úspěšně.</span><span class="sxs-lookup"><span data-stu-id="734f8-176">Whether the compliance check ran successfully.</span></span> |
| <span data-ttu-id="734f8-177">ConfigurationMode</span><span class="sxs-lookup"><span data-stu-id="734f8-177">ConfigurationMode</span></span> | <span data-ttu-id="734f8-178">Jak se konfigurace použije k uzlu.</span><span class="sxs-lookup"><span data-stu-id="734f8-178">How the configuration is applied to the node.</span></span> <span data-ttu-id="734f8-179">Možné hodnoty jsou __"ApplyOnly"__,__"ApplyandMonitior"__, a __"ApplyandAutoCorrect"__.</span><span class="sxs-lookup"><span data-stu-id="734f8-179">Possible values are __"ApplyOnly"__,__"ApplyandMonitior"__, and __"ApplyandAutoCorrect"__.</span></span> <ul><li><span data-ttu-id="734f8-180">__ApplyOnly__: DSC aplikuje konfiguraci a další nic neprovádí, pokud je novou konfiguraci instaluje na cílovém uzlu, nebo když je novou konfiguraci vyžádat ze serveru.</span><span class="sxs-lookup"><span data-stu-id="734f8-180">__ApplyOnly__: DSC applies the configuration and does nothing further unless a new configuration is pushed to the target node or when a new configuration is pulled from a server.</span></span> <span data-ttu-id="734f8-181">Po počáteční aplikaci novou konfiguraci DSC nekontroluje odlišily z dříve nakonfigurované stavu.</span><span class="sxs-lookup"><span data-stu-id="734f8-181">After initial application of a new configuration, DSC does not check for drift from a previously configured state.</span></span> <span data-ttu-id="734f8-182">DSC se pokusí použít konfiguraci, dokud nebude úspěšná, až poté __ApplyOnly__ projeví.</span><span class="sxs-lookup"><span data-stu-id="734f8-182">DSC attempts to apply the configuration until it is successful before __ApplyOnly__ takes effect.</span></span> </li><li> <span data-ttu-id="734f8-183">__ApplyAndMonitor__: Toto je výchozí hodnota.</span><span class="sxs-lookup"><span data-stu-id="734f8-183">__ApplyAndMonitor__: This is the default value.</span></span> <span data-ttu-id="734f8-184">Všechny nové konfigurace se vztahuje LCM.</span><span class="sxs-lookup"><span data-stu-id="734f8-184">The LCM applies any new configurations.</span></span> <span data-ttu-id="734f8-185">Po počáteční aplikaci novou konfiguraci Pokud cílový uzel drifts z požadovaný stav sestavy DSC nesoulad mezi databází v protokolech.</span><span class="sxs-lookup"><span data-stu-id="734f8-185">After initial application of a new configuration, if the target node drifts from the desired state, DSC reports the discrepancy in logs.</span></span> <span data-ttu-id="734f8-186">DSC se pokusí použít konfiguraci, dokud nebude úspěšná, až poté __ApplyAndMonitor__ projeví.</span><span class="sxs-lookup"><span data-stu-id="734f8-186">DSC attempts to apply the configuration until it is successful before __ApplyAndMonitor__ takes effect.</span></span></li><li><span data-ttu-id="734f8-187">__ApplyAndAutoCorrect__: platí všechny nové konfigurace DSC.</span><span class="sxs-lookup"><span data-stu-id="734f8-187">__ApplyAndAutoCorrect__: DSC applies any new configurations.</span></span> <span data-ttu-id="734f8-188">Po počáteční aplikaci novou konfiguraci Pokud cílový uzel drifts z požadovaný stav DSC sestavy nesoulad mezi databází v protokolech a pak znovu použije aktuální konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="734f8-188">After initial application of a new configuration, if the target node drifts from the desired state, DSC reports the discrepancy in logs, and then reapplies the current configuration.</span></span></li></ul> |
| <span data-ttu-id="734f8-189">HostName_s</span><span class="sxs-lookup"><span data-stu-id="734f8-189">HostName_s</span></span> | <span data-ttu-id="734f8-190">Název uzlu spravované.</span><span class="sxs-lookup"><span data-stu-id="734f8-190">The name of the managed node.</span></span> |
| <span data-ttu-id="734f8-191">IP adresa</span><span class="sxs-lookup"><span data-stu-id="734f8-191">IPAddress</span></span> | <span data-ttu-id="734f8-192">Adresa IPv4 spravovaný uzel.</span><span class="sxs-lookup"><span data-stu-id="734f8-192">The IPv4 address of the managed node.</span></span> |
| <span data-ttu-id="734f8-193">Kategorie</span><span class="sxs-lookup"><span data-stu-id="734f8-193">Category</span></span> | <span data-ttu-id="734f8-194">DscNodeStatus</span><span class="sxs-lookup"><span data-stu-id="734f8-194">DscNodeStatus</span></span> |
| <span data-ttu-id="734f8-195">Prostředek</span><span class="sxs-lookup"><span data-stu-id="734f8-195">Resource</span></span> | <span data-ttu-id="734f8-196">Název účtu služby Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="734f8-196">The name of the Azure Automation account.</span></span> |
| <span data-ttu-id="734f8-197">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="734f8-197">Tenant_g</span></span> | <span data-ttu-id="734f8-198">Identifikátor GUID, který identifikuje klienta pro volajícího.</span><span class="sxs-lookup"><span data-stu-id="734f8-198">GUID that identifies the tenant for the Caller.</span></span> |
| <span data-ttu-id="734f8-199">NodeId_g</span><span class="sxs-lookup"><span data-stu-id="734f8-199">NodeId_g</span></span> |<span data-ttu-id="734f8-200">Identifikátor GUID, který identifikuje spravovaný uzel.</span><span class="sxs-lookup"><span data-stu-id="734f8-200">GUID that identifies the managed node.</span></span> |
| <span data-ttu-id="734f8-201">DscReportId_g</span><span class="sxs-lookup"><span data-stu-id="734f8-201">DscReportId_g</span></span> |<span data-ttu-id="734f8-202">Identifikátor GUID, který identifikuje sestavy.</span><span class="sxs-lookup"><span data-stu-id="734f8-202">GUID that identifies the report.</span></span> |
| <span data-ttu-id="734f8-203">LastSeenTime_t</span><span class="sxs-lookup"><span data-stu-id="734f8-203">LastSeenTime_t</span></span> |<span data-ttu-id="734f8-204">Datum a čas, kdy byla sestava posledního zobrazení.</span><span class="sxs-lookup"><span data-stu-id="734f8-204">Date and time when the report was last viewed.</span></span> |
| <span data-ttu-id="734f8-205">ReportStartTime_t</span><span class="sxs-lookup"><span data-stu-id="734f8-205">ReportStartTime_t</span></span> |<span data-ttu-id="734f8-206">Datum a čas spuštění sestavy.</span><span class="sxs-lookup"><span data-stu-id="734f8-206">Date and time when the report was started.</span></span> |
| <span data-ttu-id="734f8-207">ReportEndTime_t</span><span class="sxs-lookup"><span data-stu-id="734f8-207">ReportEndTime_t</span></span> |<span data-ttu-id="734f8-208">Datum a čas dokončení sestavy.</span><span class="sxs-lookup"><span data-stu-id="734f8-208">Date and time when the report completed.</span></span> |
| <span data-ttu-id="734f8-209">NumberOfResources_d</span><span class="sxs-lookup"><span data-stu-id="734f8-209">NumberOfResources_d</span></span> |<span data-ttu-id="734f8-210">Počet prostředků DSC volat v konfiguraci použít k uzlu.</span><span class="sxs-lookup"><span data-stu-id="734f8-210">The number of DSC resources called in the configuration applied to the node.</span></span> |
| <span data-ttu-id="734f8-211">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="734f8-211">SourceSystem</span></span> | <span data-ttu-id="734f8-212">Jak analýzy protokolů shromáždit data.</span><span class="sxs-lookup"><span data-stu-id="734f8-212">How Log Analytics collected the data.</span></span> <span data-ttu-id="734f8-213">Vždy *Azure* Azure Diagnostics.</span><span class="sxs-lookup"><span data-stu-id="734f8-213">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="734f8-214">ID prostředku</span><span class="sxs-lookup"><span data-stu-id="734f8-214">ResourceId</span></span> |<span data-ttu-id="734f8-215">Určuje účet Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="734f8-215">Specifies the Azure Automation account.</span></span> |
| <span data-ttu-id="734f8-216">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="734f8-216">ResultDescription</span></span> | <span data-ttu-id="734f8-217">Popis pro tuto operaci.</span><span class="sxs-lookup"><span data-stu-id="734f8-217">The description for this operation.</span></span> |
| <span data-ttu-id="734f8-218">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="734f8-218">SubscriptionId</span></span> | <span data-ttu-id="734f8-219">Předplatné Azure Id (GUID) pro účet služby Automation.</span><span class="sxs-lookup"><span data-stu-id="734f8-219">The Azure subscription Id (GUID) for the Automation account.</span></span> |
| <span data-ttu-id="734f8-220">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="734f8-220">ResourceGroup</span></span> | <span data-ttu-id="734f8-221">Název skupiny prostředků pro účet služby Automation.</span><span class="sxs-lookup"><span data-stu-id="734f8-221">Name of the resource group for the Automation account.</span></span> |
| <span data-ttu-id="734f8-222">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="734f8-222">ResourceProvider</span></span> | <span data-ttu-id="734f8-223">SPOLEČNOSTI MICROSOFT. AUTOMATIZACE</span><span class="sxs-lookup"><span data-stu-id="734f8-223">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="734f8-224">ResourceType</span><span class="sxs-lookup"><span data-stu-id="734f8-224">ResourceType</span></span> | <span data-ttu-id="734f8-225">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="734f8-225">AUTOMATIONACCOUNTS</span></span> |
| <span data-ttu-id="734f8-226">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="734f8-226">CorrelationId</span></span> |<span data-ttu-id="734f8-227">Identifikátor GUID, který se o Id korelace sestavy dodržování předpisů.</span><span class="sxs-lookup"><span data-stu-id="734f8-227">GUID that is the Correlation Id of the compliance report.</span></span> |

### <a name="dscresourcestatusdata"></a><span data-ttu-id="734f8-228">DscResourceStatusData</span><span class="sxs-lookup"><span data-stu-id="734f8-228">DscResourceStatusData</span></span>

| <span data-ttu-id="734f8-229">Vlastnost</span><span class="sxs-lookup"><span data-stu-id="734f8-229">Property</span></span> | <span data-ttu-id="734f8-230">Popis</span><span class="sxs-lookup"><span data-stu-id="734f8-230">Description</span></span> |
| --- | --- |
| <span data-ttu-id="734f8-231">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="734f8-231">TimeGenerated</span></span> |<span data-ttu-id="734f8-232">Datum a čas, kdy byla spuštěna kontrola dodržování zásad.</span><span class="sxs-lookup"><span data-stu-id="734f8-232">Date and time when the compliance check ran.</span></span> |
| <span data-ttu-id="734f8-233">OperationName</span><span class="sxs-lookup"><span data-stu-id="734f8-233">OperationName</span></span> |<span data-ttu-id="734f8-234">DscResourceStatusData</span><span class="sxs-lookup"><span data-stu-id="734f8-234">DscResourceStatusData</span></span>|
| <span data-ttu-id="734f8-235">ResultType</span><span class="sxs-lookup"><span data-stu-id="734f8-235">ResultType</span></span> |<span data-ttu-id="734f8-236">Zda je prostředek kompatibilní.</span><span class="sxs-lookup"><span data-stu-id="734f8-236">Whether the resource is compliant.</span></span> |
| <span data-ttu-id="734f8-237">NodeName_s</span><span class="sxs-lookup"><span data-stu-id="734f8-237">NodeName_s</span></span> |<span data-ttu-id="734f8-238">Název uzlu spravované.</span><span class="sxs-lookup"><span data-stu-id="734f8-238">The name of the managed node.</span></span> |
| <span data-ttu-id="734f8-239">Kategorie</span><span class="sxs-lookup"><span data-stu-id="734f8-239">Category</span></span> | <span data-ttu-id="734f8-240">DscNodeStatus</span><span class="sxs-lookup"><span data-stu-id="734f8-240">DscNodeStatus</span></span> |
| <span data-ttu-id="734f8-241">Prostředek</span><span class="sxs-lookup"><span data-stu-id="734f8-241">Resource</span></span> | <span data-ttu-id="734f8-242">Název účtu služby Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="734f8-242">The name of the Azure Automation account.</span></span> |
| <span data-ttu-id="734f8-243">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="734f8-243">Tenant_g</span></span> | <span data-ttu-id="734f8-244">Identifikátor GUID, který identifikuje klienta pro volajícího.</span><span class="sxs-lookup"><span data-stu-id="734f8-244">GUID that identifies the tenant for the Caller.</span></span> |
| <span data-ttu-id="734f8-245">NodeId_g</span><span class="sxs-lookup"><span data-stu-id="734f8-245">NodeId_g</span></span> |<span data-ttu-id="734f8-246">Identifikátor GUID, který identifikuje spravovaný uzel.</span><span class="sxs-lookup"><span data-stu-id="734f8-246">GUID that identifies the managed node.</span></span> |
| <span data-ttu-id="734f8-247">DscReportId_g</span><span class="sxs-lookup"><span data-stu-id="734f8-247">DscReportId_g</span></span> |<span data-ttu-id="734f8-248">Identifikátor GUID, který identifikuje sestavy.</span><span class="sxs-lookup"><span data-stu-id="734f8-248">GUID that identifies the report.</span></span> |
| <span data-ttu-id="734f8-249">DscResourceId_s</span><span class="sxs-lookup"><span data-stu-id="734f8-249">DscResourceId_s</span></span> |<span data-ttu-id="734f8-250">Název instance prostředků DSC.</span><span class="sxs-lookup"><span data-stu-id="734f8-250">The name of the DSC resource instance.</span></span> |
| <span data-ttu-id="734f8-251">DscResourceName_s</span><span class="sxs-lookup"><span data-stu-id="734f8-251">DscResourceName_s</span></span> |<span data-ttu-id="734f8-252">Název prostředku DSC.</span><span class="sxs-lookup"><span data-stu-id="734f8-252">The name of the DSC resource.</span></span> |
| <span data-ttu-id="734f8-253">DscResourceStatus_s</span><span class="sxs-lookup"><span data-stu-id="734f8-253">DscResourceStatus_s</span></span> |<span data-ttu-id="734f8-254">Zda je prostředek DSC v dodržování předpisů.</span><span class="sxs-lookup"><span data-stu-id="734f8-254">Whether the DSC resource is in compliance.</span></span> |
| <span data-ttu-id="734f8-255">DscModuleName_s</span><span class="sxs-lookup"><span data-stu-id="734f8-255">DscModuleName_s</span></span> |<span data-ttu-id="734f8-256">Název modulu prostředí PowerShell, který obsahuje prostředek DSC.</span><span class="sxs-lookup"><span data-stu-id="734f8-256">The name of the PowerShell module that contains the DSC resource.</span></span> |
| <span data-ttu-id="734f8-257">DscModuleVersion_s</span><span class="sxs-lookup"><span data-stu-id="734f8-257">DscModuleVersion_s</span></span> |<span data-ttu-id="734f8-258">Verze modulu PowerShell, který obsahuje prostředek DSC.</span><span class="sxs-lookup"><span data-stu-id="734f8-258">The version of the PowerShell module that contains the DSC resource.</span></span> |
| <span data-ttu-id="734f8-259">DscConfigurationName_s</span><span class="sxs-lookup"><span data-stu-id="734f8-259">DscConfigurationName_s</span></span> |<span data-ttu-id="734f8-260">Název konfigurace použít k uzlu.</span><span class="sxs-lookup"><span data-stu-id="734f8-260">The name of the configuration applied to the node.</span></span> |
| <span data-ttu-id="734f8-261">ErrorCode_s</span><span class="sxs-lookup"><span data-stu-id="734f8-261">ErrorCode_s</span></span> | <span data-ttu-id="734f8-262">Kód chyby, pokud prostředek se nezdařilo.</span><span class="sxs-lookup"><span data-stu-id="734f8-262">The error code if the resource failed.</span></span> |
| <span data-ttu-id="734f8-263">ErrorMessage_s</span><span class="sxs-lookup"><span data-stu-id="734f8-263">ErrorMessage_s</span></span> |<span data-ttu-id="734f8-264">Chybová zpráva, pokud prostředek se nezdařilo.</span><span class="sxs-lookup"><span data-stu-id="734f8-264">The error message if the resource failed.</span></span> |
| <span data-ttu-id="734f8-265">DscResourceDuration_d</span><span class="sxs-lookup"><span data-stu-id="734f8-265">DscResourceDuration_d</span></span> |<span data-ttu-id="734f8-266">Doba v sekundách, které byly spuštěny prostředek DSC.</span><span class="sxs-lookup"><span data-stu-id="734f8-266">The time, in seconds, that the DSC resource ran.</span></span> |
| <span data-ttu-id="734f8-267">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="734f8-267">SourceSystem</span></span> | <span data-ttu-id="734f8-268">Jak analýzy protokolů shromáždit data.</span><span class="sxs-lookup"><span data-stu-id="734f8-268">How Log Analytics collected the data.</span></span> <span data-ttu-id="734f8-269">Vždy *Azure* Azure Diagnostics.</span><span class="sxs-lookup"><span data-stu-id="734f8-269">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="734f8-270">ID prostředku</span><span class="sxs-lookup"><span data-stu-id="734f8-270">ResourceId</span></span> |<span data-ttu-id="734f8-271">Určuje účet Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="734f8-271">Specifies the Azure Automation account.</span></span> |
| <span data-ttu-id="734f8-272">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="734f8-272">ResultDescription</span></span> | <span data-ttu-id="734f8-273">Popis pro tuto operaci.</span><span class="sxs-lookup"><span data-stu-id="734f8-273">The description for this operation.</span></span> |
| <span data-ttu-id="734f8-274">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="734f8-274">SubscriptionId</span></span> | <span data-ttu-id="734f8-275">Předplatné Azure Id (GUID) pro účet služby Automation.</span><span class="sxs-lookup"><span data-stu-id="734f8-275">The Azure subscription Id (GUID) for the Automation account.</span></span> |
| <span data-ttu-id="734f8-276">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="734f8-276">ResourceGroup</span></span> | <span data-ttu-id="734f8-277">Název skupiny prostředků pro účet služby Automation.</span><span class="sxs-lookup"><span data-stu-id="734f8-277">Name of the resource group for the Automation account.</span></span> |
| <span data-ttu-id="734f8-278">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="734f8-278">ResourceProvider</span></span> | <span data-ttu-id="734f8-279">SPOLEČNOSTI MICROSOFT. AUTOMATIZACE</span><span class="sxs-lookup"><span data-stu-id="734f8-279">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="734f8-280">ResourceType</span><span class="sxs-lookup"><span data-stu-id="734f8-280">ResourceType</span></span> | <span data-ttu-id="734f8-281">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="734f8-281">AUTOMATIONACCOUNTS</span></span> |
| <span data-ttu-id="734f8-282">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="734f8-282">CorrelationId</span></span> |<span data-ttu-id="734f8-283">Identifikátor GUID, který se o Id korelace sestavy dodržování předpisů.</span><span class="sxs-lookup"><span data-stu-id="734f8-283">GUID that is the Correlation Id of the compliance report.</span></span> |

## <a name="summary"></a><span data-ttu-id="734f8-284">Souhrn</span><span class="sxs-lookup"><span data-stu-id="734f8-284">Summary</span></span>

<span data-ttu-id="734f8-285">Odeslání dat Automation DSC k analýze protokolů, lze získat lepší přehled o stavu uzly Automation DSC podle:</span><span class="sxs-lookup"><span data-stu-id="734f8-285">By sending your Automation DSC data to Log Analytics, you can get better insight into the status of your Automation DSC nodes by:</span></span>

* <span data-ttu-id="734f8-286">Nastavení výstrah upozornění v případě, že se vyskytl problém</span><span class="sxs-lookup"><span data-stu-id="734f8-286">Setting up alerts to notify you when there is an issue</span></span>
* <span data-ttu-id="734f8-287">Pomocí vlastních zobrazení a vyhledávací dotazy k vizualizaci výsledky sady runbook, stav úlohy sady runbook a další související klíčové ukazatele nebo metriky.</span><span class="sxs-lookup"><span data-stu-id="734f8-287">Using custom views and search queries to visualize your runbook results, runbook job status, and other related key indicators or metrics.</span></span>  

<span data-ttu-id="734f8-288">Log Analytics poskytuje lepší viditelnost provozní data Automation DSC a může pomoct adresu incidenty rychleji.</span><span class="sxs-lookup"><span data-stu-id="734f8-288">Log Analytics provides greater operational visibility to your Automation DSC data and can help address incidents more quickly.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="734f8-289">Další kroky</span><span class="sxs-lookup"><span data-stu-id="734f8-289">Next steps</span></span>

* <span data-ttu-id="734f8-290">Další informace o tom, jak vytvořit různé vyhledávací dotazy a kontrolujte protokoly Automation DSC s analýzy protokolů najdete v tématu [hledání přihlásit analýzy protokolů](../log-analytics/log-analytics-log-searches.md)</span><span class="sxs-lookup"><span data-stu-id="734f8-290">To learn more about how to construct different search queries and review the Automation DSC logs with Log Analytics, see [Log searches in Log Analytics](../log-analytics/log-analytics-log-searches.md)</span></span>
* <span data-ttu-id="734f8-291">Další informace o používání Azure Automation DSC, najdete v části [Začínáme s Azure Automation DSC.](automation-dsc-getting-started.md)</span><span class="sxs-lookup"><span data-stu-id="734f8-291">To learn more about using Azure Automation DSC, see [Getting started with Azure Automation DSC](automation-dsc-getting-started.md)</span></span>
* <span data-ttu-id="734f8-292">Další informace o službě Log Analytics v OMS a o zdrojích pro shromažďování dat najdete v článku [Přehled shromažďování dat úložiště Azure ve službě Log Analytics](../log-analytics/log-analytics-azure-storage.md).</span><span class="sxs-lookup"><span data-stu-id="734f8-292">To learn more about OMS Log Analytics and data collection sources, see [Collecting Azure storage data in Log Analytics overview](../log-analytics/log-analytics-azure-storage.md)</span></span>

