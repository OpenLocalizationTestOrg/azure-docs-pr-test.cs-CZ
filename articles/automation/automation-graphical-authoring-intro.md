---
title: "Vytváření grafického obsahu v Azure Automation | Microsoft Docs"
description: "Vytváření grafického obsahu umožňuje vytváření runbooků pro automatizaci Azure bez práce s kódem. Tento článek obsahuje úvod do vytváření grafického obsahu a všechny podrobnosti, které jsou potřebné k zahájení vytváření grafický runbook."
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 4b6f840c-e941-4293-a728-b33407317943
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/14/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 417fceb0961165d96ece000f95c8a3f973f4f75b
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="graphical-authoring-in-azure-automation"></a><span data-ttu-id="92950-104">Grafické vytváření obsahu v Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="92950-104">Graphical authoring in Azure Automation</span></span>
## <a name="introduction"></a><span data-ttu-id="92950-105">Úvod</span><span class="sxs-lookup"><span data-stu-id="92950-105">Introduction</span></span>
<span data-ttu-id="92950-106">Vytváření grafického obsahu umožňuje vytváření runbooků bez složitosti kód základní prostředí Windows PowerShell nebo pracovní postup prostředí PowerShell pro Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="92950-106">Graphical Authoring allows you to create runbooks for Azure Automation without the complexities of the underlying Windows PowerShell or PowerShell Workflow code.</span></span> <span data-ttu-id="92950-107">Přidání aktivit do plátna z knihovny rutin a sady runbook, odkaz je společně a konfiguraci k vytvoření pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="92950-107">You add activities to the canvas from a library of cmdlets and runbooks, link them together and configure to form a workflow.</span></span>  <span data-ttu-id="92950-108">Pokud jste již někdy se System Center Orchestrator nebo Service Management Automation (SMA), pak to by měla vypadat povědomě pro vás.</span><span class="sxs-lookup"><span data-stu-id="92950-108">If you have ever worked with System Center Orchestrator or Service Management Automation (SMA), then this should look familiar to you.</span></span>   

<span data-ttu-id="92950-109">Tento článek obsahuje úvod do vytváření grafického obsahu a koncepty, že potřebujete začít vytváření grafický runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-109">This article provides an introduction to graphical authoring and the concepts you need to get started in creating a graphical runbook.</span></span>

## <a name="graphical-runbooks"></a><span data-ttu-id="92950-110">Grafické runbooky</span><span class="sxs-lookup"><span data-stu-id="92950-110">Graphical runbooks</span></span>
<span data-ttu-id="92950-111">Všechny runbooky ve službě Azure Automation jsou pracovní postupy prostředí Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="92950-111">All runbooks in Azure Automation are Windows PowerShell Workflows.</span></span>  <span data-ttu-id="92950-112">Grafické pracovní postup prostředí PowerShell a grafický runbook generování kódu prostředí PowerShell, který se spouští zaměstnanci automatizace, ale nemůžete zobrazit nebo přímo upravovat.</span><span class="sxs-lookup"><span data-stu-id="92950-112">Graphical and Graphical PowerShell Workflow runbooks generate PowerShell code that is run by the Automation workers, but you are not able to view it or directly modify it.</span></span>  <span data-ttu-id="92950-113">Grafický runbook lze převést na runbook pracovního postupu grafické prostředí PowerShell a naopak, ale je nelze převést na textový.</span><span class="sxs-lookup"><span data-stu-id="92950-113">A Graphical runbook can be converted to a Graphical PowerShell Workflow runbook and vice-versa, but they cannot be converted to a textual runbook.</span></span> <span data-ttu-id="92950-114">Existující textovou sadu runbook nelze importovat do grafický editor.</span><span class="sxs-lookup"><span data-stu-id="92950-114">An existing textual runbook cannot be imported into the graphical editor.</span></span>  

## <a name="overview-of-graphical-editor"></a><span data-ttu-id="92950-115">Přehled grafického editoru</span><span class="sxs-lookup"><span data-stu-id="92950-115">Overview of graphical editor</span></span>
<span data-ttu-id="92950-116">Na portálu Azure můžete otevřete grafický editor vytvořením nebo úpravou grafický runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-116">You can open the graphical editor in the Azure portal by creating or editing a graphical runbook.</span></span>

![Grafické prostoru](media/automation-graphical-authoring-intro/runbook-graphical-editor.png)

<span data-ttu-id="92950-118">Následující části popisují ovládací prvky v grafickém editoru.</span><span class="sxs-lookup"><span data-stu-id="92950-118">The following sections describe the controls in the graphical editor.</span></span>

### <a name="canvas"></a><span data-ttu-id="92950-119">Plátno</span><span class="sxs-lookup"><span data-stu-id="92950-119">Canvas</span></span>
<span data-ttu-id="92950-120">Na plátno je, kde můžete navrhnout vaše sada runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-120">The Canvas is where you design your runbook.</span></span>  <span data-ttu-id="92950-121">Přidání aktivity do sady runbook z uzlů v ovládacím prvku knihovna a připojte je s odkazy na definovat logiky sady runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-121">You add activities from the nodes in the Library control to the runbook and connect them with links to define the logic of the runbook.</span></span>

<span data-ttu-id="92950-122">Pomocí ovládacích prvků v dolní části plátna přiblížení a oddálení.</span><span class="sxs-lookup"><span data-stu-id="92950-122">You can use the controls at the bottom of the canvas to zoom in and out.</span></span>

![Grafické prostoru](media/automation-graphical-authoring-intro/runbook-canvas-controls.png)

### <a name="library-control"></a><span data-ttu-id="92950-124">Knihovna řízení</span><span class="sxs-lookup"><span data-stu-id="92950-124">Library control</span></span>
<span data-ttu-id="92950-125">Ovládacím prvku knihovna slouží k výběru [aktivity](#activities) přidat do runbooku.</span><span class="sxs-lookup"><span data-stu-id="92950-125">The Library control is where you select [activities](#activities) to add to your runbook.</span></span>  <span data-ttu-id="92950-126">Je je přidat na plátno, kde je připojit k jiné aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-126">You add them to the canvas where you connect them to other activities.</span></span>  <span data-ttu-id="92950-127">Obsahuje čtyři oddíly, které jsou popsané v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="92950-127">It includes four sections described in the following table.</span></span>

| <span data-ttu-id="92950-128">Část</span><span class="sxs-lookup"><span data-stu-id="92950-128">Section</span></span> | <span data-ttu-id="92950-129">Popis</span><span class="sxs-lookup"><span data-stu-id="92950-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="92950-130">Rutiny</span><span class="sxs-lookup"><span data-stu-id="92950-130">Cmdlets</span></span> |<span data-ttu-id="92950-131">Zahrnuje všechny rutiny, které lze použít v sadě runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-131">Includes all the cmdlets that can be used in your runbook.</span></span>  <span data-ttu-id="92950-132">Rutiny jsou uspořádané podle modulu.</span><span class="sxs-lookup"><span data-stu-id="92950-132">Cmdlets are organized by module.</span></span>  <span data-ttu-id="92950-133">Všechny moduly, které jste nainstalovali v účtu automation bude k dispozici.</span><span class="sxs-lookup"><span data-stu-id="92950-133">All of the modules that you have installed in your automation account will be available.</span></span> |
| <span data-ttu-id="92950-134">Runbooky</span><span class="sxs-lookup"><span data-stu-id="92950-134">Runbooks</span></span> |<span data-ttu-id="92950-135">Obsahuje sady runbook ve vašem účtu automation.</span><span class="sxs-lookup"><span data-stu-id="92950-135">Includes the runbooks in your automation account.</span></span> <span data-ttu-id="92950-136">Tyto sady runbook lze přidat na plátno, který se má použít jako podřízené sady runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-136">These runbooks can be added to the canvas to be used as child runbooks.</span></span> <span data-ttu-id="92950-137">Jenom runbooky stejného typu jádro jako runbook upravovaný jsou uvedeny; pro grafický jsou zobrazeny pouze pomocí prostředí PowerShell runbooky sady runbook, zatímco pro runbooky pracovních postupů grafické prostředí PowerShell jsou zobrazeny pouze PowerShell založené na pracovním postupu sady runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-137">Only runbooks of the same core type as the runbook being edited are shown; for Graphical runbooks only PowerShell-based runbooks are shown, while for Graphical PowerShell Workflow runbooks only PowerShell-Workflow-based runbooks are shown.</span></span> |
| <span data-ttu-id="92950-138">Prostředky</span><span class="sxs-lookup"><span data-stu-id="92950-138">Assets</span></span> |<span data-ttu-id="92950-139">Zahrnuje [prostředky automation](http://msdn.microsoft.com/library/dn939988.aspx) ve vašem účtu automation, který lze použít v sadě runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-139">Includes the [automation assets](http://msdn.microsoft.com/library/dn939988.aspx) in your automation account that can be used in your runbook.</span></span>  <span data-ttu-id="92950-140">Když přidáte prostředek k sadě runbook, přidá aktivitu pracovního postupu, který získá vybrané asset.</span><span class="sxs-lookup"><span data-stu-id="92950-140">When you add an asset to a runbook, it will add a workflow activity that gets the selected asset.</span></span>  <span data-ttu-id="92950-141">V případě proměnné prostředků můžete vybrat, jestli chcete přidat aktivitu získat proměnnou nebo nastavit proměnnou.</span><span class="sxs-lookup"><span data-stu-id="92950-141">In the case of variable assets, you can select whether to add an activity to get the variable or set the variable.</span></span> |
| <span data-ttu-id="92950-142">Řízení sady Runbook</span><span class="sxs-lookup"><span data-stu-id="92950-142">Runbook Control</span></span> |<span data-ttu-id="92950-143">Zahrnuje řízení aktivity sady runbook, které lze použít v aktuální sadě runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-143">Includes runbook control activities that can be used in your current runbook.</span></span> <span data-ttu-id="92950-144">A *spojení* trvá více vstupů a čeká na všechny dokončili před pokračováním pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="92950-144">A *Junction* takes multiple inputs and waits until all have completed before continuing the workflow.</span></span> <span data-ttu-id="92950-145">A *kód* aktivita běží jeden nebo více řádků kódu prostředí PowerShell nebo pracovního postupu Powershellu v závislosti na typ grafický runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-145">A *Code* activity runs one or more lines of PowerShell or PowerShell Workflow code depending on the graphical runbook type.</span></span>  <span data-ttu-id="92950-146">Tuto aktivitu můžete použít pro vlastní kód nebo pro funkce, které je obtížné dosáhnout s ostatními aktivitami.</span><span class="sxs-lookup"><span data-stu-id="92950-146">You can use this activity for custom code or for functionality that is difficult to achieve with other activities.</span></span> |

### <a name="configuration-control"></a><span data-ttu-id="92950-147">Řízení konfigurace</span><span class="sxs-lookup"><span data-stu-id="92950-147">Configuration control</span></span>
<span data-ttu-id="92950-148">Řízení konfigurace je, kde zadáte podrobnosti pro objekt vybrané na plátně.</span><span class="sxs-lookup"><span data-stu-id="92950-148">The Configuration control is where you provide details for an object selected on the canvas.</span></span> <span data-ttu-id="92950-149">Vlastnosti dostupné u tohoto ovládacího prvku bude záviset na typu vybraného objektu.</span><span class="sxs-lookup"><span data-stu-id="92950-149">The properties available in this control will depend on the type of object selected.</span></span>  <span data-ttu-id="92950-150">Když vyberete možnost v ovládacím prvku konfigurace, chcete-li poskytovat další informace o otevírání dalších oknech.</span><span class="sxs-lookup"><span data-stu-id="92950-150">When you select an option in the Configuration control, it will open additional blades in order to provide additional information.</span></span>

### <a name="test-control"></a><span data-ttu-id="92950-151">Testování ovládacího prvku</span><span class="sxs-lookup"><span data-stu-id="92950-151">Test control</span></span>
<span data-ttu-id="92950-152">Ovládací prvek testu se nezobrazí při prvním spuštění grafický editor.</span><span class="sxs-lookup"><span data-stu-id="92950-152">The Test control is not displayed when the graphical editor is first started.</span></span> <span data-ttu-id="92950-153">Když je otevřen můžete interaktivně [testování grafický runbook](#graphical-runbook-procedures).</span><span class="sxs-lookup"><span data-stu-id="92950-153">It is opened when you interactively [test a graphical runbook](#graphical-runbook-procedures).</span></span>  

## <a name="graphical-runbook-procedures"></a><span data-ttu-id="92950-154">Postupy grafický runbook</span><span class="sxs-lookup"><span data-stu-id="92950-154">Graphical runbook procedures</span></span>
### <a name="exporting-and-importing-a-graphical-runbook"></a><span data-ttu-id="92950-155">Export a import grafický runbook</span><span class="sxs-lookup"><span data-stu-id="92950-155">Exporting and importing a graphical runbook</span></span>
<span data-ttu-id="92950-156">Exportovat lze pouze publikované verze grafický runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-156">You can only export the published version of a graphical runbook.</span></span>  <span data-ttu-id="92950-157">Pokud sada runbook ještě nebyla publikována, pak se **Export publikovaná** tlačítko bude zakázán.</span><span class="sxs-lookup"><span data-stu-id="92950-157">If the runbook has not yet been published, then the **Export published** button will be disabled.</span></span>  <span data-ttu-id="92950-158">Když kliknete **Export publikovaná** tlačítko runbook se stáhne do místního počítače.</span><span class="sxs-lookup"><span data-stu-id="92950-158">When you click the **Export published** button, the runbook is downloaded to your local computer.</span></span>  <span data-ttu-id="92950-159">Název souboru odpovídá názvu sady runbook s *graphrunbook* rozšíření.</span><span class="sxs-lookup"><span data-stu-id="92950-159">The name of the file matches the name of the runbook with a *graphrunbook* extension.</span></span>

![Export publikované](media/automation-graphical-authoring-intro/runbook-export.png)

<span data-ttu-id="92950-161">Soubor sady runbook grafický nebo grafické prostředí PowerShell pracovního postupu můžete importovat tak, že vyberete **importovat** možnost při přidávání sady runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-161">You can import a Graphical or Graphical PowerShell Workflow runbook file by selecting the **Import** option when adding a runbook.</span></span>   <span data-ttu-id="92950-162">Když vyberete soubor k importu, můžete zachovat stejné **název** nebo zadejte nový.</span><span class="sxs-lookup"><span data-stu-id="92950-162">When you select the file to import, you can keep the same **Name** or provide a new one.</span></span>  <span data-ttu-id="92950-163">V poli Typ Runbooku se zobrazí typ runbooku, až se vyhodnocuje vybraný soubor a pokud se pokusíte vyberte jiný typ, který není správný, zpráva zobrazí poznamenat existují potenciální konflikty a při převodu, může být syntaxe došlo k chybám.</span><span class="sxs-lookup"><span data-stu-id="92950-163">The Runbook Type field will display the type of runbook after it assesses the file selected and if you attempt to select a different type that is not correct, a message will be presented noting there are potential conflicts and during conversion, there could be syntax errors.</span></span>  

![Import sady runbook](media/automation-graphical-authoring-intro/runbook-import-revised20165.png)

### <a name="testing-a-graphical-runbook"></a><span data-ttu-id="92950-165">Testování grafický runbook</span><span class="sxs-lookup"><span data-stu-id="92950-165">Testing a graphical runbook</span></span>
<span data-ttu-id="92950-166">Při publikované verze sady runbook ponechána beze změny, nebo můžete otestovat nové sady runbook před publikování můžete otestovat verzi konceptu sady runbook na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="92950-166">You can test the Draft version of a runbook in the Azure portal while leaving the published version of the runbook unchanged, or you can test a new runbook before it has been published.</span></span> <span data-ttu-id="92950-167">To umožňuje ověřit, že runbook správně funguje, před nahrazením publikované verze.</span><span class="sxs-lookup"><span data-stu-id="92950-167">This allows you to verify that the runbook is working correctly before replacing the published version.</span></span> <span data-ttu-id="92950-168">Při testování runbooku koncept runbooku se spustí a všechny akce, které provádí se dokončí.</span><span class="sxs-lookup"><span data-stu-id="92950-168">When you test a runbook, the Draft runbook is executed and any actions that it performs are completed.</span></span> <span data-ttu-id="92950-169">Historie úlohy je vytvořen, avšak výstupu se zobrazí v podokně výstup testu.</span><span class="sxs-lookup"><span data-stu-id="92950-169">No job history is created, but output is displayed in the Test Output Pane.</span></span> 

<span data-ttu-id="92950-170">Otevřete ovládací prvek testů pro sadu runbook tak, že otevřete sadu runbook pro úpravy a potom klikněte na **testovací podokno** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="92950-170">Open the Test control for a runbook by opening the runbook for edit and then click on the **Test pane** button.</span></span>

![Tlačítko testovací podokno](media/automation-graphical-authoring-intro/runbook-edit-test-pane.png)

<span data-ttu-id="92950-172">Ovládací prvek testovací zobrazí výzvu pro všechny vstupní parametry runbooku můžete spustit kliknutím na **spustit** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="92950-172">The Test control will prompt for any input parameters, and you can start the runbook by clicking on the **Start** button.</span></span>

![Test ovládací tlačítka](media/automation-graphical-authoring-intro/runbook-test-start.png)

### <a name="publishing-a-graphical-runbook"></a><span data-ttu-id="92950-174">Publikování grafický runbook</span><span class="sxs-lookup"><span data-stu-id="92950-174">Publishing a graphical runbook</span></span>
<span data-ttu-id="92950-175">Každá sada runbook ve službě Azure Automation má koncept a publikovanou verzi.</span><span class="sxs-lookup"><span data-stu-id="92950-175">Each runbook in Azure Automation has a Draft and a Published version.</span></span> <span data-ttu-id="92950-176">Je možné spustit jenom publikovaná verze a lze upravovat pouze verzi konceptu.</span><span class="sxs-lookup"><span data-stu-id="92950-176">Only the Published version is available to be run, and only the Draft version can be edited.</span></span> <span data-ttu-id="92950-177">Publikovaná verze neovlivní změny na verzi konceptu.</span><span class="sxs-lookup"><span data-stu-id="92950-177">The Published version is unaffected by any changes to the Draft version.</span></span> <span data-ttu-id="92950-178">Když koncept je připraven k dispozici, pak ji publikujete publikovaná verze přepíše konceptem.</span><span class="sxs-lookup"><span data-stu-id="92950-178">When the Draft version is ready to be available, then you publish it which overwrites the Published version with the Draft version.</span></span>

<span data-ttu-id="92950-179">Můžete publikovat grafický runbook tak, že otevřete sadu runbook pro úpravy a potom kliknutím na **publikovat** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="92950-179">You can publish a graphical runbook by opening the runbook for editing and then clicking on the **Publish** button.</span></span>

![Tlačítko Publikovat](media/automation-graphical-authoring-intro/runbook-edit-publish.png)

<span data-ttu-id="92950-181">Když runbook ještě nebyla publikována, má stav **nový**.</span><span class="sxs-lookup"><span data-stu-id="92950-181">When a runbook has not yet been published, it has a status of **New**.</span></span>  <span data-ttu-id="92950-182">Při publikování, má stav **publikováno**.</span><span class="sxs-lookup"><span data-stu-id="92950-182">When it is published, it has a status of **Published**.</span></span>  <span data-ttu-id="92950-183">Pokud chcete upravit sadu runbook po publikování a koncept a publikovaný verze se liší, sada runbook je ve stavu **v upravit**.</span><span class="sxs-lookup"><span data-stu-id="92950-183">If you edit the runbook after it has been published, and the Draft and Published versions are different, the runbook has a status of **In edit**.</span></span>

![Stavy, které jsou sady Runbook](media/automation-graphical-authoring-intro/runbook-statuses-revised20165.png) 

<span data-ttu-id="92950-185">Máte také možnost vrátit na publikovanou verzi runbooku.</span><span class="sxs-lookup"><span data-stu-id="92950-185">You also have the option to revert to the Published version of a runbook.</span></span>  <span data-ttu-id="92950-186">Vyvolá rychle všechny změny, protože sadu runbook naposledy publikován a nahradí koncept runbooku na publikovanou verzi.</span><span class="sxs-lookup"><span data-stu-id="92950-186">This throws away any changes made since the runbook was last published and replaces the Draft version of the runbook with the Published version.</span></span>

![Vrátit se do publikované tlačítko](media/automation-graphical-authoring-intro/runbook-edit-revert-published.png)

## <a name="activities"></a><span data-ttu-id="92950-188">Aktivity</span><span class="sxs-lookup"><span data-stu-id="92950-188">Activities</span></span>
<span data-ttu-id="92950-189">Aktivity jsou stavební kameny sad runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-189">Activities are the building blocks of a runbook.</span></span>  <span data-ttu-id="92950-190">Aktivita může být rutiny prostředí PowerShell, podřízené sady runbook nebo aktivit pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="92950-190">An activity can be a PowerShell cmdlet, a child runbook, or a workflow activity.</span></span>  <span data-ttu-id="92950-191">Přidání aktivity do sady runbook pravým tlačítkem v ovládacím prvku knihovna a výběrem **přidat na plátno**.</span><span class="sxs-lookup"><span data-stu-id="92950-191">You add an activity to the runbook by right clicking it in the Library control and selecting **Add to canvas**.</span></span>  <span data-ttu-id="92950-192">Můžete pak klikněte na tlačítko a přetáhněte ji na aktivitu, abyste umístit kamkoli na plátně, který chcete.</span><span class="sxs-lookup"><span data-stu-id="92950-192">You can then click and drag the activity to place it anywhere on the canvas that you like.</span></span>  <span data-ttu-id="92950-193">Umístění aktivity na plátně neovlivňuje operace sady runbook žádným způsobem.</span><span class="sxs-lookup"><span data-stu-id="92950-193">The location of the of the activity on the canvas does not effect the operation of the runbook in any way.</span></span>  <span data-ttu-id="92950-194">Můžete rozložení runbookem ale pro vás nejvhodnější k vizualizaci své činnosti.</span><span class="sxs-lookup"><span data-stu-id="92950-194">You can layout your runbook however you find it most suitable to visualize its operation.</span></span> 

![Přidat na plátno](media/automation-graphical-authoring-intro/add-to-canvas-revised20165.png)

<span data-ttu-id="92950-196">Vyberte aktivitu na plátno konfigurovat její vlastnosti a parametry v okně konfigurace.</span><span class="sxs-lookup"><span data-stu-id="92950-196">Select the activity on the canvas to configure its properties and parameters in the Configuration blade.</span></span>  <span data-ttu-id="92950-197">Můžete změnit **popisek** aktivity na jinou hodnotu, která je pro vás popisný.</span><span class="sxs-lookup"><span data-stu-id="92950-197">You can change the **Label** of the activity to something that is descriptive to you.</span></span>  <span data-ttu-id="92950-198">Původní rutiny je stále spuštěn, jednoduše měníte jeho zobrazovaný název, který se použije v grafickém editoru.</span><span class="sxs-lookup"><span data-stu-id="92950-198">The original cmdlet is still being run, you are simply changing its display name that will be used in the graphical editor.</span></span>  <span data-ttu-id="92950-199">Popisek musí být jedinečný v rámci sady runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-199">The label must be unique within the runbook.</span></span> 

### <a name="parameter-sets"></a><span data-ttu-id="92950-200">Sady parametrů</span><span class="sxs-lookup"><span data-stu-id="92950-200">Parameter sets</span></span>
<span data-ttu-id="92950-201">Definuje sadu parametrů povinné a nepovinné parametry, které bude přijímat hodnoty pro konkrétní rutiny.</span><span class="sxs-lookup"><span data-stu-id="92950-201">A parameter set defines the mandatory and optional parameters that will accept values for a particular cmdlet.</span></span>  <span data-ttu-id="92950-202">Všechny rutiny mít minimálně jeden parametr nastavit a některé mají více.</span><span class="sxs-lookup"><span data-stu-id="92950-202">All cmdlets have at least one parameter set, and some have multiple.</span></span>  <span data-ttu-id="92950-203">Pokud rutina obsahuje několik sad parametrů, je třeba které z nich použijete před konfigurací parametry vybrat.</span><span class="sxs-lookup"><span data-stu-id="92950-203">If a cmdlet has multiple parameter sets, then you must select which one you will use before you can configure parameters.</span></span>  <span data-ttu-id="92950-204">Parametry, které můžete nakonfigurovat bude záviset na sadu parametrů, který zvolíte.</span><span class="sxs-lookup"><span data-stu-id="92950-204">The parameters that you can configure will depend on the parameter set that you choose.</span></span>  <span data-ttu-id="92950-205">Zadaná sada parametrů používaná aktivitou tak, že vyberete, můžete změnit **nastavený parametr** a vyberte jinou sadu.</span><span class="sxs-lookup"><span data-stu-id="92950-205">You can change the parameter set used by an activity by selecting **Parameter Set** and selecting another set.</span></span>  <span data-ttu-id="92950-206">V takovém případě budou ztraceny všechny hodnoty parametrů, které jste nakonfigurovali.</span><span class="sxs-lookup"><span data-stu-id="92950-206">In this case, any parameter values that you configured are lost.</span></span>

<span data-ttu-id="92950-207">V následujícím příkladu má rutinu Get-AzureRmVM tři sady parametrů.</span><span class="sxs-lookup"><span data-stu-id="92950-207">In the following example, the Get-AzureRmVM cmdlet has three parameter sets.</span></span>  <span data-ttu-id="92950-208">Hodnoty parametru nelze nakonfigurovat, dokud vyberete jednu z sady parametrů.</span><span class="sxs-lookup"><span data-stu-id="92950-208">You cannot configure parameter values until you select one of the parameter sets.</span></span>  <span data-ttu-id="92950-209">Zadaná sada parametrů ListVirtualMachineInResourceGroupParamSet je pro návrat všechny virtuální počítače ve skupině prostředků a má jeden volitelný parametr.</span><span class="sxs-lookup"><span data-stu-id="92950-209">The ListVirtualMachineInResourceGroupParamSet parameter set is for returning all virtual machines in a resource group and has a single optional parameter.</span></span>  <span data-ttu-id="92950-210">GetVirtualMachineInResourceGroupParamSet je pro zadání virtuálního počítače chcete vrátit a má dva povinné a jeden volitelný parametr.</span><span class="sxs-lookup"><span data-stu-id="92950-210">The GetVirtualMachineInResourceGroupParamSet is for specifying the virtual machine you want to return and has two mandatory and one optional parameter.</span></span>

![Sada parametrů](media/automation-graphical-authoring-intro/get-azurermvm-parameter-sets.png)

#### <a name="parameter-values"></a><span data-ttu-id="92950-212">Hodnoty parametru</span><span class="sxs-lookup"><span data-stu-id="92950-212">Parameter values</span></span>
<span data-ttu-id="92950-213">Pokud zadáte hodnotu pro parametr, můžete vybrat zdroj dat k určení, jak bude zadána hodnota.</span><span class="sxs-lookup"><span data-stu-id="92950-213">When you specify a value for a parameter, you select a data source to determine how the value will be specified.</span></span>  <span data-ttu-id="92950-214">Zdroje dat, které jsou k dispozici pro konkrétní parametr bude záviset na platné hodnoty pro tento parametr.</span><span class="sxs-lookup"><span data-stu-id="92950-214">The data sources that are available for a particular parameter will depend on the valid values for that parameter.</span></span>  <span data-ttu-id="92950-215">Například Null nebude k dispozici možnost pro parametr, který nepovoluje hodnoty null.</span><span class="sxs-lookup"><span data-stu-id="92950-215">For example, Null will not be an available option for a parameter that does not allow null values.</span></span>

| <span data-ttu-id="92950-216">Zdroj dat</span><span class="sxs-lookup"><span data-stu-id="92950-216">Data Source</span></span> | <span data-ttu-id="92950-217">Popis</span><span class="sxs-lookup"><span data-stu-id="92950-217">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="92950-218">Konstantní hodnota</span><span class="sxs-lookup"><span data-stu-id="92950-218">Constant Value</span></span> |<span data-ttu-id="92950-219">Zadejte hodnotu pro parametr.</span><span class="sxs-lookup"><span data-stu-id="92950-219">Type in a value for the parameter.</span></span>  <span data-ttu-id="92950-220">To je dostupná jenom pro následující typy dat: Int32, Int64, řetězec, logická hodnota, datum a čas, přepínač.</span><span class="sxs-lookup"><span data-stu-id="92950-220">This is only available for the following data types: Int32,Int64,String,Boolean,DateTime,Switch.</span></span> |
| <span data-ttu-id="92950-221">Výstup aktivity</span><span class="sxs-lookup"><span data-stu-id="92950-221">Activity Output</span></span> |<span data-ttu-id="92950-222">Výstup z aktivity, která předchází aktuální aktivity v pracovním postupu.</span><span class="sxs-lookup"><span data-stu-id="92950-222">Output from an activity that precedes the current activity in the workflow.</span></span>  <span data-ttu-id="92950-223">Objeví se všechny platné aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-223">All valid activities will be listed.</span></span>  <span data-ttu-id="92950-224">Vyberte aktivitu používat jeho výstup pro hodnotu parametru.</span><span class="sxs-lookup"><span data-stu-id="92950-224">Select just the activity to use its output for the parameter value.</span></span>  <span data-ttu-id="92950-225">Pokud aktivita výstupy objekt s více vlastností, potom můžete zadat název vlastnosti po výběru aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-225">If the activity outputs an object with multiple properties, then you can type in the name of the property after selecting the activity.</span></span> |
| <span data-ttu-id="92950-226">Vstup z Runbooku</span><span class="sxs-lookup"><span data-stu-id="92950-226">Runbook Input</span></span> |<span data-ttu-id="92950-227">Vyberte vstupní parametr runbooku jako vstup pro parametr aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-227">Select a runbook input parameter as input to the activity parameter.</span></span> |
| <span data-ttu-id="92950-228">Variabilní prostředek</span><span class="sxs-lookup"><span data-stu-id="92950-228">Variable Asset</span></span> |<span data-ttu-id="92950-229">Vyberte proměnné Automation jako vstup.</span><span class="sxs-lookup"><span data-stu-id="92950-229">Select an Automation Variable as input.</span></span> |
| <span data-ttu-id="92950-230">Asset přihlašovacích údajů</span><span class="sxs-lookup"><span data-stu-id="92950-230">Credential Asset</span></span> |<span data-ttu-id="92950-231">Vyberte pověření Automation jako vstup.</span><span class="sxs-lookup"><span data-stu-id="92950-231">Select an Automation Credential as input.</span></span> |
| <span data-ttu-id="92950-232">Asset certifikátu</span><span class="sxs-lookup"><span data-stu-id="92950-232">Certificate Asset</span></span> |<span data-ttu-id="92950-233">Vyberte certifikát Automation jako vstup.</span><span class="sxs-lookup"><span data-stu-id="92950-233">Select an Automation Certificate as input.</span></span> |
| <span data-ttu-id="92950-234">Asset připojení</span><span class="sxs-lookup"><span data-stu-id="92950-234">Connection Asset</span></span> |<span data-ttu-id="92950-235">Vyberte připojení Automation jako vstup.</span><span class="sxs-lookup"><span data-stu-id="92950-235">Select an Automation Connection as input.</span></span> |
| <span data-ttu-id="92950-236">Powershellový výraz</span><span class="sxs-lookup"><span data-stu-id="92950-236">PowerShell Expression</span></span> |<span data-ttu-id="92950-237">Zadat jednoduchý [Powershellový výraz](#powershell-expressions).</span><span class="sxs-lookup"><span data-stu-id="92950-237">Specify simple [PowerShell expression](#powershell-expressions).</span></span>  <span data-ttu-id="92950-238">Tento výraz bude před aktivity a výsledek použít pro hodnotu parametru vyhodnocen.</span><span class="sxs-lookup"><span data-stu-id="92950-238">The expression will be evaluated before the activity and the result used for the parameter value.</span></span>  <span data-ttu-id="92950-239">Proměnné můžete použít k odkazování na výstup aktivity nebo vstupní parametr runbooku.</span><span class="sxs-lookup"><span data-stu-id="92950-239">You can use variables to refer to the output of an activity or a runbook input parameter.</span></span> |
| <span data-ttu-id="92950-240">Není nakonfigurováno</span><span class="sxs-lookup"><span data-stu-id="92950-240">Not configured</span></span> |<span data-ttu-id="92950-241">Vymaže hodnotu, která byla nastavena.</span><span class="sxs-lookup"><span data-stu-id="92950-241">Clears any value that was previously configured.</span></span> |

#### <a name="optional-additional-parameters"></a><span data-ttu-id="92950-242">Další volitelné parametry</span><span class="sxs-lookup"><span data-stu-id="92950-242">Optional additional parameters</span></span>
<span data-ttu-id="92950-243">Všechny rutiny bude mít možnost zadat další parametry.</span><span class="sxs-lookup"><span data-stu-id="92950-243">All cmdlets will have the option to provide additional parameters.</span></span>  <span data-ttu-id="92950-244">Jedná se o běžné parametry Powershellu nebo jiné vlastní parametry.</span><span class="sxs-lookup"><span data-stu-id="92950-244">These are PowerShell common parameters or other custom parameters.</span></span>  <span data-ttu-id="92950-245">Se zobrazí v textovém poli, ve kterém můžete zadat parametry pomocí syntaxe Powershellu.</span><span class="sxs-lookup"><span data-stu-id="92950-245">You are presented with a text box where you can provide parameters using PowerShell syntax.</span></span>  <span data-ttu-id="92950-246">Chcete-li například použít **podrobné** společný parametr, zadali byste **"-Verbose: $True"**.</span><span class="sxs-lookup"><span data-stu-id="92950-246">For example, to use the **Verbose** common parameter, you would specify **"-Verbose:$True"**.</span></span>

### <a name="retry-activity"></a><span data-ttu-id="92950-247">Opakujte aktivity</span><span class="sxs-lookup"><span data-stu-id="92950-247">Retry activity</span></span>
<span data-ttu-id="92950-248">**Postup opakování** umožňuje aktivity ke spuštění více než jednou. dokud nebude splněna určitá podmínka, podobně jako smyčku.</span><span class="sxs-lookup"><span data-stu-id="92950-248">**Retry Behavior** allows an activity to be run multiple times until a particular condition is met, much like a loop.</span></span>  <span data-ttu-id="92950-249">Tuto funkci můžete použít pro aktivity, které musí spustit vícekrát, jsou chyby náchylné k chybám a může potřebovat více než jeden pokus pro úspěch, nebo testovat ve výstupních informacích aktivity platná data.</span><span class="sxs-lookup"><span data-stu-id="92950-249">You can use this feature for activities that should run multiple times, are error prone and may need more than one attempt for success, or test the output information of the activity for valid data.</span></span>    

<span data-ttu-id="92950-250">Když povolíte opakování pro aktivitu, můžete nastavit zpoždění a podmínku.</span><span class="sxs-lookup"><span data-stu-id="92950-250">When you enable retry for an activity, you can set a delay and a condition.</span></span>  <span data-ttu-id="92950-251">Zpoždění je čas (měřeno v několika sekund nebo minut), aby sada runbook bude čekat před jeho spuštěním aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-251">The delay is the time (measured in seconds or minutes) that the runbook will wait before it runs the activity again.</span></span>  <span data-ttu-id="92950-252">Pokud žádné zpoždění není zadaný, pak aktivita se spustí znovu ihned po jeho dokončení.</span><span class="sxs-lookup"><span data-stu-id="92950-252">If no delay is specified, then the activity will run again immediately after it completes.</span></span> 

![Zpoždění při opakování aktivity](media/automation-graphical-authoring-intro/retry-delay.png)

<span data-ttu-id="92950-254">Podmínka opakování je Powershellový výraz, který se vyhodnotí po každém spuštění aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-254">The retry condition is a PowerShell expression that is evaluated after each time the activity runs.</span></span>  <span data-ttu-id="92950-255">Pokud výraz přeloží na hodnotu True, pak aktivity spouští znovu.</span><span class="sxs-lookup"><span data-stu-id="92950-255">If the expression resolves to True, then the activity runs again.</span></span>  <span data-ttu-id="92950-256">Pokud výraz přeloží na hodnotu False, pak aktivity nejde spustit znovu a runbook přesune další aktivitu.</span><span class="sxs-lookup"><span data-stu-id="92950-256">If the expression resolves to False then the activity does not run again, and the runbook moves on to the next activity.</span></span> 

![Zpoždění při opakování aktivity](media/automation-graphical-authoring-intro/retry-condition.png)

<span data-ttu-id="92950-258">Opakování podmínku můžete použít proměnné s názvem $RetryData poskytující přístup k informacím o opakování aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-258">The retry condition can use a variable called $RetryData that provides access to information about the activity retries.</span></span>  <span data-ttu-id="92950-259">Tato proměnná má vlastnosti v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="92950-259">This variable has the properties in the following table.</span></span>

| <span data-ttu-id="92950-260">Vlastnost</span><span class="sxs-lookup"><span data-stu-id="92950-260">Property</span></span> | <span data-ttu-id="92950-261">Popis</span><span class="sxs-lookup"><span data-stu-id="92950-261">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="92950-262">NumberOfAttempts</span><span class="sxs-lookup"><span data-stu-id="92950-262">NumberOfAttempts</span></span> |<span data-ttu-id="92950-263">Počet pokusů, které aktivity byl spuštěn.</span><span class="sxs-lookup"><span data-stu-id="92950-263">Number of times that the activity has been run.</span></span> |
| <span data-ttu-id="92950-264">Výstup</span><span class="sxs-lookup"><span data-stu-id="92950-264">Output</span></span> |<span data-ttu-id="92950-265">Výstup z posledního spuštění aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-265">Output from the last run of the activity.</span></span> |
| <span data-ttu-id="92950-266">Agent</span><span class="sxs-lookup"><span data-stu-id="92950-266">TotalDuration</span></span> |<span data-ttu-id="92950-267">Vypršel časový limit aktivity od spuštění poprvé.</span><span class="sxs-lookup"><span data-stu-id="92950-267">Timed elapsed since the activity was started the first time.</span></span> |
| <span data-ttu-id="92950-268">StartedAt</span><span class="sxs-lookup"><span data-stu-id="92950-268">StartedAt</span></span> |<span data-ttu-id="92950-269">Čas ve formátu UTC aktivity byl prvním spuštění.</span><span class="sxs-lookup"><span data-stu-id="92950-269">Time in UTC format the activity was first started.</span></span> |

<span data-ttu-id="92950-270">Následují příklady aktivity opakování podmínky.</span><span class="sxs-lookup"><span data-stu-id="92950-270">Following are examples of activity retry conditions.</span></span>

    # Run the activity exactly 10 times.
    $RetryData.NumberOfAttempts -ge 10 

    # Run the activity repeatedly until it produces any output.
    $RetryData.Output.Count -ge 1 

    # Run the activity repeatedly until 2 minutes has elapsed. 
    $RetryData.TotalDuration.TotalMinutes -ge 2

<span data-ttu-id="92950-271">Po dokončení konfigurace podmínku opakování pro aktivitu, aktivity obsahuje dva vizuální upozornění s upozorněním.</span><span class="sxs-lookup"><span data-stu-id="92950-271">After you configure a retry condition for an activity, the activity includes two visual cues to remind you.</span></span>  <span data-ttu-id="92950-272">Jeden se zobrazí v rámci aktivity a druhá je při kontrole konfigurace aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-272">One is presented in the activity and the other is when you review the configuration of the activity.</span></span>

![Indikátory Visual opakování aktivity](media/automation-graphical-authoring-intro/runbook-activity-retry-visual-cue.png)

### <a name="workflow-script-control"></a><span data-ttu-id="92950-274">Řízení pracovního postupu skriptu</span><span class="sxs-lookup"><span data-stu-id="92950-274">Workflow Script control</span></span>
<span data-ttu-id="92950-275">Ovládací prvek kód je speciální aktivitě, který přijímá skript prostředí PowerShell nebo pracovního postupu Powershellu v závislosti na typ grafický runbook právě vytvořené za účelem poskytování funkcí, které nemusí být jinak k dispozici.</span><span class="sxs-lookup"><span data-stu-id="92950-275">A Code control is a special activity that accepts PowerShell or PowerShell Workflow script depending on the type of graphical runbook being authored in order to provide functionality that may otherwise not be available.</span></span>  <span data-ttu-id="92950-276">Nemůže přijmout parametry, ale může použít proměnné pro aktivitu výstup a runbook vstupní parametry.</span><span class="sxs-lookup"><span data-stu-id="92950-276">It cannot accept parameters, but it can use variables for activity output and runbook input parameters.</span></span>  <span data-ttu-id="92950-277">Žádný výstup aktivity se přidá do datové sběrnice, pouze pokud má žádná odchozí propojení v takovém případě je přidán do výstupní sady runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-277">Any output of the activity is added to the databus unless it has no outgoing link in which case it is added to the output of the runbook.</span></span>

<span data-ttu-id="92950-278">Například následující kód provede výpočty data pomocí sady runbook vstupní proměnné názvem $NumberOfDays.</span><span class="sxs-lookup"><span data-stu-id="92950-278">For example the following code performs date calculations using a runbook input variable called $NumberOfDays.</span></span>  <span data-ttu-id="92950-279">Pak odešle počítané datum čas jako výstup má být používána následné aktivity v sadě runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-279">It then sends a calculated date time as output to be used by subsequent activities in the runbook.</span></span>

    $DateTimeNow = (Get-Date).ToUniversalTime()
    $DateTimeStart = ($DateTimeNow).AddDays(-$NumberOfDays)}
    $DateTimeStart


## <a name="links-and-workflow"></a><span data-ttu-id="92950-280">Odkazy a pracovní postup</span><span class="sxs-lookup"><span data-stu-id="92950-280">Links and workflow</span></span>
<span data-ttu-id="92950-281">A **odkaz** v grafický runbook připojení dvě aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-281">A **link** in a graphical runbook connects two activities.</span></span>  <span data-ttu-id="92950-282">Na plátně se zobrazí jako šipka ze zdrojové aktivity k cílové aktivitě.</span><span class="sxs-lookup"><span data-stu-id="92950-282">It is displayed on the canvas as an arrow pointing from the source activity to the destination activity.</span></span>  <span data-ttu-id="92950-283">Aktivity spustit ve směru šipku s cílová aktivita spouští po dokončení zdrojové aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-283">The activities run in the direction of the arrow with the destination activity starting after the source activity completes.</span></span>  

### <a name="create-a-link"></a><span data-ttu-id="92950-284">Vytvoření odkazu</span><span class="sxs-lookup"><span data-stu-id="92950-284">Create a link</span></span>
<span data-ttu-id="92950-285">Vytvořte propojení mezi dvěma aktivitami výběrem zdrojové aktivity a kliknutím na kruh v dolní části obrazce.</span><span class="sxs-lookup"><span data-stu-id="92950-285">Create a link between two activities by selecting the source activity and clicking the circle at the bottom of the shape.</span></span>  <span data-ttu-id="92950-286">Přetáhněte šipku na cílová aktivita a verzi.</span><span class="sxs-lookup"><span data-stu-id="92950-286">Drag the arrow to the destination activity and release.</span></span>

![Vytvoření odkazu](media/automation-graphical-authoring-intro/create-link-revised20165.png)

<span data-ttu-id="92950-288">Vyberte propojení na nakonfigurujte její vlastnosti v okně konfigurace.</span><span class="sxs-lookup"><span data-stu-id="92950-288">Select the link to configure its properties in the Configuration blade.</span></span>  <span data-ttu-id="92950-289">To bude zahrnovat typu odkaz, který je popsaný v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="92950-289">This will include the link type which is described in the following table.</span></span>

| <span data-ttu-id="92950-290">Typ propojení</span><span class="sxs-lookup"><span data-stu-id="92950-290">Link Type</span></span> | <span data-ttu-id="92950-291">Popis</span><span class="sxs-lookup"><span data-stu-id="92950-291">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="92950-292">Kanál</span><span class="sxs-lookup"><span data-stu-id="92950-292">Pipeline</span></span> |<span data-ttu-id="92950-293">Cílová aktivita se spustit jednou pro každý objekt výstup ze zdrojové aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-293">The destination activity is run once for each object output from the source activity.</span></span>  <span data-ttu-id="92950-294">Cílová aktivita se nespustí, pokud zdrojové aktivity, které jsou výsledkem žádný výstup.</span><span class="sxs-lookup"><span data-stu-id="92950-294">The destination activity does not run if the source activity results in no output.</span></span>  <span data-ttu-id="92950-295">Výstup ze zdrojové aktivity k dispozici jako objekt.</span><span class="sxs-lookup"><span data-stu-id="92950-295">Output from the source activity is available as an object.</span></span> |
| <span data-ttu-id="92950-296">Pořadí</span><span class="sxs-lookup"><span data-stu-id="92950-296">Sequence</span></span> |<span data-ttu-id="92950-297">Cílová aktivita se spustí jenom jednou.</span><span class="sxs-lookup"><span data-stu-id="92950-297">The destination activity runs only once.</span></span>  <span data-ttu-id="92950-298">Obdrží pole objektů ze zdrojové aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-298">It receives an array of objects from the source activity.</span></span>  <span data-ttu-id="92950-299">Výstup ze zdrojové aktivity k dispozici jako pole objektů.</span><span class="sxs-lookup"><span data-stu-id="92950-299">Output from the source activity is available as an array of objects.</span></span> |

### <a name="starting-activity"></a><span data-ttu-id="92950-300">Spuštění aktivity</span><span class="sxs-lookup"><span data-stu-id="92950-300">Starting activity</span></span>
<span data-ttu-id="92950-301">Grafický runbook se spustí se veškeré aktivity, které nemají příchozí propojení.</span><span class="sxs-lookup"><span data-stu-id="92950-301">A graphical runbook will start with any activities that do not have an incoming link.</span></span>  <span data-ttu-id="92950-302">Často se bude jenom jedna aktivita, která bude fungovat jako počáteční aktivita sady runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-302">This will often be only one activity which would act as the starting activity for the runbook.</span></span>  <span data-ttu-id="92950-303">Pokud více aktivit nemají příchozí propojení, sada runbook spustí spuštěním paralelně.</span><span class="sxs-lookup"><span data-stu-id="92950-303">If multiple activities do not have an incoming link, then the runbook will start by running them in parallel.</span></span>  <span data-ttu-id="92950-304">Pak ji bude na následujících odkazech spustit další aktivity, protože každý dokončení.</span><span class="sxs-lookup"><span data-stu-id="92950-304">It will then follow the links to run other activities as each completes.</span></span>

### <a name="conditions"></a><span data-ttu-id="92950-305">Podmínky</span><span class="sxs-lookup"><span data-stu-id="92950-305">Conditions</span></span>
<span data-ttu-id="92950-306">Když zadáte podmínku na propojení, cílová aktivita se spustí jenom v případě, kdy bude podmínka přeložená na hodnotu true.</span><span class="sxs-lookup"><span data-stu-id="92950-306">When you specify a condition on a link, the destination activity is only run if the condition resolves to true.</span></span>  <span data-ttu-id="92950-307">Obvykle použijete proměnnou $ActivityOutput v podmínce načíst výstup ze zdrojové aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-307">You will typically use an $ActivityOutput variable in a condition to retrieve the output from the source activity.</span></span>  

<span data-ttu-id="92950-308">Pro kanál odkaz zadejte podmínku pro jediný objekt a je podmínka vyhodnocena pro každý objekt výstup zdrojové aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-308">For a pipeline link, you specify a condition for a single object, and the condition is evaluated for each object output by the source activity.</span></span>  <span data-ttu-id="92950-309">Cílová aktivita se pak spusťte pro každý objekt, který splňuje podmínku.</span><span class="sxs-lookup"><span data-stu-id="92950-309">The destination activity is then run for each object that satisfies the condition.</span></span>  <span data-ttu-id="92950-310">Například s aktivitou zdroj Get-AzureRmVm syntaxi může použít pro kanál podmíněného propojení k načtení jenom virtuální počítače ve skupině prostředků s názvem *Group1*.</span><span class="sxs-lookup"><span data-stu-id="92950-310">For example, with a source activity of Get-AzureRmVm, the following syntax could be used for a conditional pipeline link to retrieve only virtual machines in the resource group named *Group1*.</span></span>  

    $ActivityOutput['Get Azure VMs'].Name -match "Group1"

<span data-ttu-id="92950-311">Pro odkaz pořadí podmínka je Vyhodnocená jenom jednou vzhledem k tomu, že do jednoho pole se vrátí, obsahuje všechny objekty výstup ze zdrojové aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-311">For a sequence link, the condition is only evaluated once since a single array is returned containing all objects output from the source activity.</span></span>  <span data-ttu-id="92950-312">Z toho důvodu pořadí odkaz nelze použít pro filtrování jako propojení kanálu, ale jednoduše určí, zda je další aktivita běžet.</span><span class="sxs-lookup"><span data-stu-id="92950-312">Because of this, a sequence link cannot be used for filtering like a pipeline link but will simply determine whether or not the next activity is run.</span></span> <span data-ttu-id="92950-313">Proveďte například následující sadu aktivit v náš runbook spustit virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="92950-313">Take for example the following set of activities in our Start VM runbook.</span></span><br> <span data-ttu-id="92950-314">![Podmíněného propojení s pořadí](media/automation-graphical-authoring-intro/runbook-conditional-links-sequence.png)</span><span class="sxs-lookup"><span data-stu-id="92950-314">![Conditional Link with Sequences](media/automation-graphical-authoring-intro/runbook-conditional-links-sequence.png)</span></span><br>
<span data-ttu-id="92950-315">Existují tři různé pořadí propojení, které jsou ověření hodnoty byly poskytnuty dva vstupní parametry runbooku představující název virtuálního počítače a název skupiny prostředků, aby bylo možné určit, což je příslušné akce provést - spustit jeden virtuální počítač, spuštění všech virtuálních počítačů v odstraňovaného prostředku. Skupina, nebo všechny virtuální počítače v předplatném.</span><span class="sxs-lookup"><span data-stu-id="92950-315">There are three different sequence links that are verifying values were provided to two runbook input parameters representing VM name and Resource Group name in order to determine which is the appropriate action to take - start a single VM, start all VMs in the resouce group, or all VMs in a subscription.</span></span>  <span data-ttu-id="92950-316">Pořadí propojení mezi připojit k Azure a jeden virtuální počítač Get zde je logice podmínku:</span><span class="sxs-lookup"><span data-stu-id="92950-316">For the sequence link between Connect to Azure and Get single VM, here is the condition logic:</span></span>

    <# 
    Both VMName and ResourceGroupName runbook input parameters have values 
    #>
    (
    (($VMName -ne $null) -and ($VMName.Length -gt 0))
    ) -and (
    (($ResourceGroupName -ne $null) -and ($ResourceGroupName.Length -gt 0))
    )

<span data-ttu-id="92950-317">Při použití podmíněného propojení dat ze zdrojové aktivity k dispozici pro ostatní aktivity uvedené pobočky bude filtrováno podmínka.</span><span class="sxs-lookup"><span data-stu-id="92950-317">When you use a conditional link, the data available from the source activity to other activities in that branch will be filtered by the condition.</span></span>  <span data-ttu-id="92950-318">Pokud aktivita zdroj k více odkazů, data, která je k dispozici pro aktivity v každé větve bude záviset na stav v odkazu propojíte uvedené pobočky.</span><span class="sxs-lookup"><span data-stu-id="92950-318">If an activity is the source to multiple links, then the data available to activities in each branch will depend on the condition in the link connecting to that branch.</span></span>

<span data-ttu-id="92950-319">Například **Start-AzureRmVm** aktivity v sadě runbook níže spustí všechny virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="92950-319">For example, the **Start-AzureRmVm** activity in the runbook below starts all virtual machines.</span></span>  <span data-ttu-id="92950-320">Má dva podmíněných propojení.</span><span class="sxs-lookup"><span data-stu-id="92950-320">It has two conditional links.</span></span>  <span data-ttu-id="92950-321">První podmíněného propojení používá výraz *$ActivityOutput ['Start-AzureRmVM']. IsSuccessStatusCode - eq $true* k filtrování, pokud aktivitu Start-AzureRmVm úspěšně dokončit.</span><span class="sxs-lookup"><span data-stu-id="92950-321">The first conditional link uses the expression *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true* to filter if the Start-AzureRmVm activity completed successfully.</span></span>  <span data-ttu-id="92950-322">Druhá používá výraz *$ActivityOutput ['Start-AzureRmVM']. IsSuccessStatusCode - ne $true* k filtrování, pokud aktivita Start-AzureRmVm spuštění virtuálního počítače se nezdařilo.</span><span class="sxs-lookup"><span data-stu-id="92950-322">The second uses the expression *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true* to filter if the Start-AzureRmVm activity failed to start the virtual machine.</span></span>  

![Příklad podmíněného propojení](media/automation-graphical-authoring-intro/runbook-conditional-links.png)

<span data-ttu-id="92950-324">Všechny aktivity, které následuje první odkaz a používá výstup aktivity z Get-AzureVM získají pouze virtuální počítače, které byly spuštěny v době, Get-AzureVM byla spuštěna.</span><span class="sxs-lookup"><span data-stu-id="92950-324">Any activity that follows the first link and uses the activity output from Get-AzureVM will only get the virtual machines that were started at the time that Get-AzureVM was run.</span></span>  <span data-ttu-id="92950-325">Pouze získají žádnou aktivitu, která následuje na druhý odkaz virtuální počítače, které jste zastavili v době, Get-AzureVM byla spuštěna.</span><span class="sxs-lookup"><span data-stu-id="92950-325">Any activity that follows the second link will only get the the virtual machines that were stopped at the time that Get-AzureVM was run.</span></span>  <span data-ttu-id="92950-326">Všechny aktivity následující odkaz třetí se všechny virtuální počítače bez ohledu na jejich stavu spuštěno.</span><span class="sxs-lookup"><span data-stu-id="92950-326">Any activity following the third link will get all virtual machines regardless of their running state.</span></span>

### <a name="junctions"></a><span data-ttu-id="92950-327">Spojovacích bodech</span><span class="sxs-lookup"><span data-stu-id="92950-327">Junctions</span></span>
<span data-ttu-id="92950-328">Spojení je speciální aktivitě počká, byly dokončeny všechny příchozí větve.</span><span class="sxs-lookup"><span data-stu-id="92950-328">A junction is a special activity that will wait until all incoming branches have completed.</span></span>  <span data-ttu-id="92950-329">To umožňuje souběžně více aktivit a ujistěte se, že všechny dokončili než budete pokračovat.</span><span class="sxs-lookup"><span data-stu-id="92950-329">This allows you to run multiple activities in parallel and ensure that all have completed before moving on.</span></span>

<span data-ttu-id="92950-330">Když spojení, může mít neomezený počet příchozí odkazy, více než jeden z těchto odkazů může být kanálu.</span><span class="sxs-lookup"><span data-stu-id="92950-330">While a junction can have an unlimited number of incoming links, not more than one of those links can be a pipeline.</span></span>  <span data-ttu-id="92950-331">Počet příchozích odkazů na pořadí není omezené.</span><span class="sxs-lookup"><span data-stu-id="92950-331">The number of incoming sequence links is not constrained.</span></span>  <span data-ttu-id="92950-332">Bude možné vytvořit spojení s více příchozí propojení kanálu a uložit sady runbook, ale dojde při spuštění.</span><span class="sxs-lookup"><span data-stu-id="92950-332">You will be allowed to create the junction with multiple incoming pipeline links and save the runbook, but it will fail when it is run.</span></span>

<span data-ttu-id="92950-333">Následující příklad je součástí sady runbook, která se spouští sada virtuálních počítačů při stahování současně opravy, které má být použita pro tyto počítače.</span><span class="sxs-lookup"><span data-stu-id="92950-333">The example below is part of a runbook that starts a set of virtual machines while simultaneously downloading patches to be applied to those machines.</span></span>  <span data-ttu-id="92950-334">Spojení slouží k zajištění, že oba tyto procesy jsou dokončeny před runbook pokračuje.</span><span class="sxs-lookup"><span data-stu-id="92950-334">A junction is used to ensure that both processes are completed before the runbook continues.</span></span>

![Spojení](media/automation-graphical-authoring-intro/runbook-junction.png)

### <a name="cycles"></a><span data-ttu-id="92950-336">Cykly</span><span class="sxs-lookup"><span data-stu-id="92950-336">Cycles</span></span>
<span data-ttu-id="92950-337">Cyklus je, když aktivita odkazy cílové, zpět do jeho zdrojové aktivity nebo pro jinou aktivitu, který nakonec odkazy Zpět na její zdroj.</span><span class="sxs-lookup"><span data-stu-id="92950-337">A cycle is when a destination activity links back to its source activity or to another activity that eventually links back to its source.</span></span>  <span data-ttu-id="92950-338">Cykly nejsou aktuálně povolená ve vytváření grafického obsahu.</span><span class="sxs-lookup"><span data-stu-id="92950-338">Cycles are currently not allowed in graphical authoring.</span></span>  <span data-ttu-id="92950-339">Pokud vaše sada runbook má cyklus, uloží správně, ale dojde k chybě při spuštění.</span><span class="sxs-lookup"><span data-stu-id="92950-339">If your runbook has a cycle, it will save properly but will receive an error when it runs.</span></span>

![Cyklus](media/automation-graphical-authoring-intro/runbook-cycle.png)

### <a name="sharing-data-between-activities"></a><span data-ttu-id="92950-341">Sdílení dat mezi aktivitami</span><span class="sxs-lookup"><span data-stu-id="92950-341">Sharing data between activities</span></span>
<span data-ttu-id="92950-342">Všechna data, která je výstupní aktivitou s odchozí propojení je zapsána do *datové sběrnice* pro sadu runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-342">Any data that is output by an activity with an outgoing link is written to the *databus* for the runbook.</span></span>  <span data-ttu-id="92950-343">Všechny aktivity v sadě runbook data můžete použít na datové sběrnice k naplnění hodnoty parametru nebo zahrnout kód skriptu.</span><span class="sxs-lookup"><span data-stu-id="92950-343">Any activity in the runbook can use data on the databus to populate parameter values or include in script code.</span></span>  <span data-ttu-id="92950-344">Aktivity mají přístup k výstupu všechny předchozí aktivity v pracovním postupu.</span><span class="sxs-lookup"><span data-stu-id="92950-344">An activity can access the output of any previous activity in the workflow.</span></span>     

<span data-ttu-id="92950-345">Jak budou data zapsána do datové sběrnice závisí na typu odkazu na aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-345">How the data is written to the databus depends on the type of link on the activity.</span></span>  <span data-ttu-id="92950-346">Pro **kanálu**, data je výstup jako objekty násobky.</span><span class="sxs-lookup"><span data-stu-id="92950-346">For a **pipeline**, the data is output as multiples objects.</span></span>  <span data-ttu-id="92950-347">Pro **pořadí** odkaz, data je výstup jako pole.</span><span class="sxs-lookup"><span data-stu-id="92950-347">For a **sequence** link, the data is output as an array.</span></span>  <span data-ttu-id="92950-348">Pokud existuje pouze jedna hodnota, bude výstup jako pole jediným elementem.</span><span class="sxs-lookup"><span data-stu-id="92950-348">If there is only one value, it will be output as a single element array.</span></span>

<span data-ttu-id="92950-349">Můžete přistupovat k datům v datové sběrnice pomocí jedné ze dvou způsobů.</span><span class="sxs-lookup"><span data-stu-id="92950-349">You can access data on the databus using one of two methods.</span></span>  <span data-ttu-id="92950-350">Nejprve používá **výstup aktivity** zdroj dat k naplnění parametr jiné aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-350">First is using an **Activity Output** data source to populate a parameter of another activity.</span></span>  <span data-ttu-id="92950-351">Je-li výstup objekt, můžete zadat vlastnosti jediné.</span><span class="sxs-lookup"><span data-stu-id="92950-351">If the output is an object, you can specify a single property.</span></span>

![Výstup aktivity](media/automation-graphical-authoring-intro/activity-output-datasource-revised20165.png)

<span data-ttu-id="92950-353">Můžete také načíst výstup aktivity v **Powershellový výraz** zdroj dat nebo z **Workflow je skript** aktivitu se proměnná ActivityOutput.</span><span class="sxs-lookup"><span data-stu-id="92950-353">You can also retrieve the output of an activity in a **PowerShell Expression** data source or from a **Workflow Script** activity with an ActivityOutput variable.</span></span>  <span data-ttu-id="92950-354">Je-li výstup objekt, můžete zadat vlastnosti jediné.</span><span class="sxs-lookup"><span data-stu-id="92950-354">If the output is an object, you can specify a single property.</span></span>  <span data-ttu-id="92950-355">Proměnné ActivityOutput použijte následující syntaxi.</span><span class="sxs-lookup"><span data-stu-id="92950-355">ActivityOutput variables use the following syntax.</span></span>

    $ActivityOutput['Activity Label']
    $ActivityOutput['Activity Label'].PropertyName 

### <a name="checkpoints"></a><span data-ttu-id="92950-356">Kontrolní body</span><span class="sxs-lookup"><span data-stu-id="92950-356">Checkpoints</span></span>
<span data-ttu-id="92950-357">Můžete nastavit [kontrolní body](automation-powershell-workflow.md#checkpoints) v sadě runbook pracovního postupu grafické prostředí PowerShell tak, že vyberete *kontrolního bodu runbook* na žádnou aktivitu.</span><span class="sxs-lookup"><span data-stu-id="92950-357">You can set [checkpoints](automation-powershell-workflow.md#checkpoints) in a Graphical PowerShell Workflow runbook by selecting *Checkpoint runbook* on any activity.</span></span>  <span data-ttu-id="92950-358">To způsobí, že vytvoření kontrolního bodu nastavit po spuštění aktivity.</span><span class="sxs-lookup"><span data-stu-id="92950-358">This causes a checkpoint to be set after the activity runs.</span></span>

![Kontrolní bod](media/automation-graphical-authoring-intro/set-checkpoint.png)

<span data-ttu-id="92950-360">Kontrolní body jsou povoleny pouze v runboocích pracovního postupu grafické prostředí PowerShell, není k dispozici v grafické runbooky.</span><span class="sxs-lookup"><span data-stu-id="92950-360">Checkpoints are only enabled in Graphical PowerShell Workflow runbooks, it is not available in Graphical runbooks.</span></span>  <span data-ttu-id="92950-361">Pokud sada runbook používá rutiny Azure, postupujte podle žádnou aktivitu kontrolní bod s Add-AzureRMAccount v případě, že sada runbook je pozastavené a restartuje z této kontrolního bodu na jiný pracovní.</span><span class="sxs-lookup"><span data-stu-id="92950-361">If the runbook uses Azure cmdlets, you should follow any checkpointed activity with an Add-AzureRMAccount in case the runbook is suspended and restarts from this checkpoint on a different worker.</span></span> 

## <a name="authenticating-to-azure-resources"></a><span data-ttu-id="92950-362">Ověřované pro prostředky Azure</span><span class="sxs-lookup"><span data-stu-id="92950-362">Authenticating to Azure resources</span></span>
<span data-ttu-id="92950-363">Sady Runbook ve službě Azure Automation, které spravovat prostředky Azure bude vyžadovat ověření do Azure.</span><span class="sxs-lookup"><span data-stu-id="92950-363">Runbooks in Azure Automation that manage Azure resources will require authentication to Azure.</span></span>  <span data-ttu-id="92950-364">[Účet Spustit jako](automation-offering-get-started.md#creating-an-automation-account) (také označované jako objekt služby) je výchozí metodou pro přístup k prostředkům Azure Resource Manager ve vašem předplatném pomocí runbooků Automation.</span><span class="sxs-lookup"><span data-stu-id="92950-364">The [Run As account](automation-offering-get-started.md#creating-an-automation-account) (also referred to as a service principal) is the default method to access Azure Resource Manager resources in your subscription with Automation runbooks.</span></span>  <span data-ttu-id="92950-365">Tuto funkci můžete přidat do grafický runbook tak, že přidáte **AzureRunAsConnection** asset připojení, která je pomocí prostředí PowerShell [Get-AutomationConnection](https://technet.microsoft.com/library/dn919922%28v=sc.16%29.aspx) rutiny a [ Přidat-AzureRmAccount](https://msdn.microsoft.com/library/mt619267.aspx) rutiny na plátno.</span><span class="sxs-lookup"><span data-stu-id="92950-365">You can add this functionality to a graphical runbook by adding the **AzureRunAsConnection** Connection asset, which is using the PowerShell [Get-AutomationConnection](https://technet.microsoft.com/library/dn919922%28v=sc.16%29.aspx) cmdlet, and [Add-AzureRmAccount](https://msdn.microsoft.com/library/mt619267.aspx) cmdlet to the canvas.</span></span> <span data-ttu-id="92950-366">To je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="92950-366">This is illustrated in the following example.</span></span><br><span data-ttu-id="92950-367">![Spustit jako ověřování aktivity](media/automation-graphical-authoring-intro/authenticate-run-as-account.png)</span><span class="sxs-lookup"><span data-stu-id="92950-367">![Run As Authentication Activities](media/automation-graphical-authoring-intro/authenticate-run-as-account.png)</span></span><br>
<span data-ttu-id="92950-368">Aktivity získat připojení spustit jako (tj. Get-AutomationConnection), je nakonfigurovaný s konstantní hodnotou zdroj dat s názvem AzureRunAsConnection.</span><span class="sxs-lookup"><span data-stu-id="92950-368">The Get Run As Connection activity (i.e. Get-AutomationConnection), is configured with a constant value data source named AzureRunAsConnection.</span></span><br><span data-ttu-id="92950-369">![Konfigurace připojení spustit jako](media/automation-graphical-authoring-intro/authenticate-runas-parameterset.png)</span><span class="sxs-lookup"><span data-stu-id="92950-369">![Run As Connection Configuration](media/automation-graphical-authoring-intro/authenticate-runas-parameterset.png)</span></span><br>
<span data-ttu-id="92950-370">Na další aktivitu, Add-AzureRmAccount, přidá k ověření účtu spustit jako pro použití v sadě runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-370">The next activity, Add-AzureRmAccount, adds the authenticated Run As account for use in the runbook.</span></span><br><span data-ttu-id="92950-371">
![Sada parametrů přidat AzureRmAccount](media/automation-graphical-authoring-intro/authenticate-conn-to-azure-parameter-set.png)</span><span class="sxs-lookup"><span data-stu-id="92950-371">
![Add-AzureRmAccount Parameter Set](media/automation-graphical-authoring-intro/authenticate-conn-to-azure-parameter-set.png)</span></span><br>
<span data-ttu-id="92950-372">Pro parametry **APPLICATIONID**, **CERTIFICATETHUMBPRINT**, a **TENANTID** budete muset zadat název vlastnosti pro cestu pole, protože aktivity výstupy objekt s více vlastnostmi.</span><span class="sxs-lookup"><span data-stu-id="92950-372">For the parameters **APPLICATIONID**, **CERTIFICATETHUMBPRINT**, and **TENANTID** you will need to specify the name of the property for the Field path because the activity outputs an object with multiple properties.</span></span>  <span data-ttu-id="92950-373">V opačném případě při spuštění sady runbook selže pokusu o ověření.</span><span class="sxs-lookup"><span data-stu-id="92950-373">Otherwise when you execute the runbook, it will fail attempting to authenticate.</span></span>  <span data-ttu-id="92950-374">Je to, co je potřeba minimálně ověření runbooku pomocí účtu spustit jako.</span><span class="sxs-lookup"><span data-stu-id="92950-374">This is what you need at a minimum to authenticate your runbook with the Run As account.</span></span>

<span data-ttu-id="92950-375">Pro zachování zpětné kompatibility pro odběratele, kteří vytvořili účet Automation pomocí [účtu uživatele Azure AD](automation-create-aduser-account.md) ke správě nasazení Azure classic nebo pro prostředky Azure Resource Manager metodu k ověření Přidat-AzureAccount rutiny s [asset přihlašovacích údajů](automation-credentials.md) představující uživatele služby Active Directory s přístupem k účtu Azure.</span><span class="sxs-lookup"><span data-stu-id="92950-375">To maintain backwards compatibility for subscribers who have created an Automation account using an [Azure AD User account](automation-create-aduser-account.md) to manage Azure classic deployment or for Azure Resource Manager resources, the method to authenticate is the Add-AzureAccount cmdlet with a [credential asset](automation-credentials.md) that represents an Active Directory user with access to the Azure account.</span></span>

<span data-ttu-id="92950-376">Tuto funkci můžete přidat do grafický runbook přidáním asset přihlašovacích údajů na plátno, za nímž následuje Add-AzureAccount aktivitu.</span><span class="sxs-lookup"><span data-stu-id="92950-376">You can add this functionality to a graphical runbook by adding a credential asset to the canvas followed by an Add-AzureAccount activity.</span></span>  <span data-ttu-id="92950-377">Přidat-AzureAccount používá aktivitu přihlašovacích údajů pro vstupní.</span><span class="sxs-lookup"><span data-stu-id="92950-377">Add-AzureAccount uses the credential activity for its input.</span></span>  <span data-ttu-id="92950-378">To je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="92950-378">This is illustrated in the following example.</span></span>

![Ověřování aktivity](media/automation-graphical-authoring-intro/authentication-activities.png)

<span data-ttu-id="92950-380">Budete muset ověřit při spuštění sady runbook a po každém kontrolního bodu.</span><span class="sxs-lookup"><span data-stu-id="92950-380">You have to authenticate at the start of the runbook and after each checkpoint.</span></span>  <span data-ttu-id="92950-381">To znamená, přidání aktivity přidání Add-AzureAccount po žádnou aktivitu Checkpoint-Workflow.</span><span class="sxs-lookup"><span data-stu-id="92950-381">This means adding an addition Add-AzureAccount activity after any Checkpoint-Workflow activity.</span></span> <span data-ttu-id="92950-382">Vzhledem k tomu, že můžete použít stejné nepotřebujete aktivitu přidání přihlašovacích údajů</span><span class="sxs-lookup"><span data-stu-id="92950-382">You do not need an addition credential activity since you can use the same</span></span> 

![Výstup aktivity](media/automation-graphical-authoring-intro/authentication-activity-output.png)

## <a name="runbook-input-and-output"></a><span data-ttu-id="92950-384">Runbook vstup a výstup</span><span class="sxs-lookup"><span data-stu-id="92950-384">Runbook input and output</span></span>
### <a name="runbook-input"></a><span data-ttu-id="92950-385">Vstup z Runbooku</span><span class="sxs-lookup"><span data-stu-id="92950-385">Runbook input</span></span>
<span data-ttu-id="92950-386">Sada runbook může vyžadovat vstup od uživatele při spuštění runbooku prostřednictvím portálu Azure nebo z jiného runbooku, pokud aktuální slouží jako podřízený.</span><span class="sxs-lookup"><span data-stu-id="92950-386">A runbook may require input either from a user when they start the runbook through the Azure portal or from another runbook if the current one is used as a child.</span></span>
<span data-ttu-id="92950-387">Například pokud máte sadu runbook, která vytvoří virtuální počítač, můžete zadat informace, jako je název virtuálního počítače a další vlastnosti pokaždé, když, že spuštění runbooku.</span><span class="sxs-lookup"><span data-stu-id="92950-387">For example, if you have a runbook that creates a virtual machine, you may need to provide information such as the name of the virtual machine and other properties each time you start the runbook.</span></span>  

<span data-ttu-id="92950-388">Přijmout vstup pro sadu runbook tak, že definujete jeden nebo více vstupních parametrů.</span><span class="sxs-lookup"><span data-stu-id="92950-388">You accept input for a runbook by defining one or more input parameters.</span></span>  <span data-ttu-id="92950-389">Zadejte hodnoty pro tyto parametry při každém spuštění runbooku.</span><span class="sxs-lookup"><span data-stu-id="92950-389">You provide values for these parameters each time the runbook is started.</span></span>  <span data-ttu-id="92950-390">Při spuštění sady runbook pomocí portálu Azure, zobrazí výzvu k zadání hodnot pro každý vstupní parametry runbooku.</span><span class="sxs-lookup"><span data-stu-id="92950-390">When you start a runbook with the Azure portal, it will prompt you to provide values for the each of the runbook's input parameters.</span></span>

<span data-ttu-id="92950-391">Vstupní parametry pro sady runbook můžete přístup kliknutím **vstup a výstup** tlačítka na panelu nástrojů runbook.</span><span class="sxs-lookup"><span data-stu-id="92950-391">You can access input parameters for a runbook by clicking the **Input and output** button on the runbook toolbar.</span></span>  

![Vstup z Runbooku výstup](media/automation-graphical-authoring-intro/runbook-edit-input-output.png) 

<span data-ttu-id="92950-393">Tím se otevře **vstup a výstup** řízení, kde můžete upravit existující vstupní parametr nebo vytvořte novou kliknutím **přidat vstup**.</span><span class="sxs-lookup"><span data-stu-id="92950-393">This opens the **Input and Output** control where you can edit an existing input parameter or create a new one by clicking **Add input**.</span></span> 

![Přidat vstup](media/automation-graphical-authoring-intro/runbook-edit-add-input.png)

<span data-ttu-id="92950-395">Každý vstupní parametr je definován vlastností v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="92950-395">Each input parameter is defined by the properties in the following table.</span></span>

| <span data-ttu-id="92950-396">Vlastnost</span><span class="sxs-lookup"><span data-stu-id="92950-396">Property</span></span> | <span data-ttu-id="92950-397">Popis</span><span class="sxs-lookup"><span data-stu-id="92950-397">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="92950-398">Name (Název)</span><span class="sxs-lookup"><span data-stu-id="92950-398">Name</span></span> |<span data-ttu-id="92950-399">Jedinečný název parametru.</span><span class="sxs-lookup"><span data-stu-id="92950-399">The unique name of the parameter.</span></span>  <span data-ttu-id="92950-400">To může obsahovat pouze alfanumerické znaky a nesmí obsahovat mezery.</span><span class="sxs-lookup"><span data-stu-id="92950-400">This can only contain alpha numeric characters and cannot contain a space.</span></span> |
| <span data-ttu-id="92950-401">Popis</span><span class="sxs-lookup"><span data-stu-id="92950-401">Description</span></span> |<span data-ttu-id="92950-402">Volitelný popis pro vstupní parametr.</span><span class="sxs-lookup"><span data-stu-id="92950-402">An optional description for the input parameter.</span></span> |
| <span data-ttu-id="92950-403">Typ</span><span class="sxs-lookup"><span data-stu-id="92950-403">Type</span></span> |<span data-ttu-id="92950-404">Datový typ pro hodnotu parametru.</span><span class="sxs-lookup"><span data-stu-id="92950-404">Data type expected for the parameter value.</span></span>  <span data-ttu-id="92950-405">Portál Azure poskytne vhodný ovládací prvek pro datový typ pro každý parametr při zobrazení výzvy ke vstupu.</span><span class="sxs-lookup"><span data-stu-id="92950-405">The Azure portal will provide an appropriate control for the data type for each parameter when prompting for input.</span></span> |
| <span data-ttu-id="92950-406">Povinné</span><span class="sxs-lookup"><span data-stu-id="92950-406">Mandatory</span></span> |<span data-ttu-id="92950-407">Určuje, zda musí být zadána hodnota pro parametr.</span><span class="sxs-lookup"><span data-stu-id="92950-407">Specifies whether a value must be provided for the parameter.</span></span>  <span data-ttu-id="92950-408">Runbook nejde spustit, pokud nezadáte hodnotu pro každý povinný parametr, který nemá výchozí hodnotu definovanou.</span><span class="sxs-lookup"><span data-stu-id="92950-408">The runbook cannot be started if you do not provide a value for each mandatory parameter that does not have a default value defined.</span></span> |
| <span data-ttu-id="92950-409">Výchozí hodnota</span><span class="sxs-lookup"><span data-stu-id="92950-409">Default Value</span></span> |<span data-ttu-id="92950-410">Určuje, jaká hodnota se používá pro parametr, pokud není zadáno.</span><span class="sxs-lookup"><span data-stu-id="92950-410">Specifies what value is used for the parameter if one is not provided.</span></span>  <span data-ttu-id="92950-411">To může být buď hodnotu Null nebo konkrétní hodnotu.</span><span class="sxs-lookup"><span data-stu-id="92950-411">This can either be Null or a specific value.</span></span> |

### <a name="runbook-output"></a><span data-ttu-id="92950-412">Výstup runbooku</span><span class="sxs-lookup"><span data-stu-id="92950-412">Runbook output</span></span>
<span data-ttu-id="92950-413">Data vytvořená aktivitou, která nemá odchozí odkaz bude přidán do [výstup runbooku](http://msdn.microsoft.com/library/azure/dn879148.aspx).</span><span class="sxs-lookup"><span data-stu-id="92950-413">Data created by any activity that does not have an outgoing link will be added to the [output of the runbook](http://msdn.microsoft.com/library/azure/dn879148.aspx).</span></span>  <span data-ttu-id="92950-414">Výstup bude uložen s úloha sady runbook a je k dispozici pro nadřazený runbook, když runbook slouží jako podřízený.</span><span class="sxs-lookup"><span data-stu-id="92950-414">The output is saved with the runbook job and is available to a parent runbook when the runbook is used as a child.</span></span>  

## <a name="powershell-expressions"></a><span data-ttu-id="92950-415">Výrazy prostředí PowerShell</span><span class="sxs-lookup"><span data-stu-id="92950-415">PowerShell expressions</span></span>
<span data-ttu-id="92950-416">Jednou z výhod vytváření grafického obsahu vám poskytuje možnost vytvoření sady runbook s minimálními znalostmi prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="92950-416">One of the advantages of graphical authoring is providing you with the ability to build a runbook with minimal knowledge of PowerShell.</span></span>  <span data-ttu-id="92950-417">V současné době potřebujete vědět, když pro sestavování určité verze prostředí PowerShell [hodnoty parametrů](#activities) a pro nastavení [odkaz podmínky](#links-and-workflow).</span><span class="sxs-lookup"><span data-stu-id="92950-417">Currently, you do need to know a bit of PowerShell though for populating certain [parameter values](#activities) and for setting [link conditions](#links-and-workflow).</span></span>  <span data-ttu-id="92950-418">Tato část obsahuje rychlý úvod do prostředí PowerShell výrazy pro uživatele, kteří nemusí být obeznámeni s ním.</span><span class="sxs-lookup"><span data-stu-id="92950-418">This section provides a quick introduction to PowerShell expressions for those users who may not be familiar with it.</span></span>  <span data-ttu-id="92950-419">Podrobnosti o prostředí PowerShell jsou k dispozici na [skriptování v prostředí Windows PowerShell](http://technet.microsoft.com/library/bb978526.aspx).</span><span class="sxs-lookup"><span data-stu-id="92950-419">Full details of PowerShell are available at [Scripting with Windows PowerShell](http://technet.microsoft.com/library/bb978526.aspx).</span></span> 

### <a name="powershell-expression-data-source"></a><span data-ttu-id="92950-420">Zdroj dat výraz prostředí PowerShell</span><span class="sxs-lookup"><span data-stu-id="92950-420">PowerShell expression data source</span></span>
<span data-ttu-id="92950-421">Výraz prostředí PowerShell můžete použít jako zdroj dat k naplnění hodnotu [parametr aktivity](#activities) s výsledky nějaký kód prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="92950-421">You can use a PowerShell expression as a data source to populate the value of an [activity parameter](#activities) with the results of some PowerShell code.</span></span>  <span data-ttu-id="92950-422">To může být jediný řádek kódu, který provádí některé jednoduché funkce nebo více řádků, které provádějí některé komplexní logiku.</span><span class="sxs-lookup"><span data-stu-id="92950-422">This could be a single line of code that performs some simple function or multiple lines that perform some complex logic.</span></span>  <span data-ttu-id="92950-423">Všechny výstupy z příkaz, který není přiřazený k proměnné je výstup do hodnotu parametru.</span><span class="sxs-lookup"><span data-stu-id="92950-423">Any output from a command that is not assigned to a variable is output to the parameter value.</span></span> 

<span data-ttu-id="92950-424">Například následující příkaz by výstup aktuální datum.</span><span class="sxs-lookup"><span data-stu-id="92950-424">For example, the following command would output the current date.</span></span> 

    Get-Date

<span data-ttu-id="92950-425">Následující příkazy vytvoření řetězce z aktuální datum a přiřaďte ho k proměnné.</span><span class="sxs-lookup"><span data-stu-id="92950-425">The following commands build a string from the current date and assign it to a variable.</span></span>  <span data-ttu-id="92950-426">Obsah proměnné pak posílají se na výstup</span><span class="sxs-lookup"><span data-stu-id="92950-426">The contents of the variable are then sent to the output</span></span> 

    $string = "The current date is " + (Get-Date)
    $string

<span data-ttu-id="92950-427">Následující příkazy vyhodnotit aktuální datum a vrátí řetězec určující, zda je aktuální den víkendu nebo den v týdnu.</span><span class="sxs-lookup"><span data-stu-id="92950-427">The following commands evaluate the current date and return a string indicating whether the current day is a weekend or weekday.</span></span> 

    $date = Get-Date
    if (($date.DayOfWeek = "Saturday") -or ($date.DayOfWeek = "Sunday")) { "Weekend" }
    else { "Weekday" }


### <a name="activity-output"></a><span data-ttu-id="92950-428">Výstup aktivity</span><span class="sxs-lookup"><span data-stu-id="92950-428">Activity output</span></span>
<span data-ttu-id="92950-429">Chcete-li použít výstup z předchozí aktivity v sadě runbook, použijte proměnnou $ActivityOutput s následující syntaxí.</span><span class="sxs-lookup"><span data-stu-id="92950-429">To use the output from a previous activity in the runbook, use the $ActivityOutput variable with the following syntax.</span></span>

    $ActivityOutput['Activity Label'].PropertyName

<span data-ttu-id="92950-430">Například může mít aktivita, jejíž vlastnosti, která vyžaduje název virtuálního počítače v takovém případě můžete použít následující výraz.</span><span class="sxs-lookup"><span data-stu-id="92950-430">For example, you may have an activity with a property that requires the name of a virtual machine in which case you could use the following expression.</span></span>

    $ActivityOutput['Get-AzureVm'].Name

<span data-ttu-id="92950-431">Pokud vlastnost, která vyžaduje virtuální počítač objekt místo pouze vlastnosti, by vrátit celý objekt pomocí následující syntaxe.</span><span class="sxs-lookup"><span data-stu-id="92950-431">If the property that required the virtual machine object instead of just a property, then you would return the entire object using the following syntax.</span></span>

    $ActivityOutput['Get-AzureVm']

<span data-ttu-id="92950-432">Také můžete použít výstup aktivity ve složitější výrazu například tato zřetězí text, který má název virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="92950-432">You can also use the output of an activity in a more complex expression such as the following that concatenates text to the virtual machine name.</span></span>

    "The computer name is " + $ActivityOutput['Get-AzureVm'].Name


### <a name="conditions"></a><span data-ttu-id="92950-433">Podmínky</span><span class="sxs-lookup"><span data-stu-id="92950-433">Conditions</span></span>
<span data-ttu-id="92950-434">Použití [operátory porovnání](https://technet.microsoft.com/library/hh847759.aspx) porovnat hodnoty nebo zjistit, jestli hodnota odpovídá zadanému vzoru.</span><span class="sxs-lookup"><span data-stu-id="92950-434">Use [comparison operators](https://technet.microsoft.com/library/hh847759.aspx) to compare values or determine if a value matches a specified pattern.</span></span>  <span data-ttu-id="92950-435">Porovnání vrací hodnotu $true nebo $false.</span><span class="sxs-lookup"><span data-stu-id="92950-435">A comparison returns a value of either $true or $false.</span></span>

<span data-ttu-id="92950-436">Například následující podmínka Určuje, zda virtuální počítač z aktivity s názvem *Get-AzureVM* právě *zastavena*.</span><span class="sxs-lookup"><span data-stu-id="92950-436">For example, the following condition determines whether the virtual machine from an activity named *Get-AzureVM* is currently *stopped*.</span></span> 

    $ActivityOutput["Get-AzureVM"].PowerState –eq "Stopped"

<span data-ttu-id="92950-437">Následující podmínky kontroly, zda na stejný virtuální počítač je v libovolném stavu jiné než *zastavena*.</span><span class="sxs-lookup"><span data-stu-id="92950-437">The following condition checks whether the same virtual machine is in any state other than *stopped*.</span></span>

    $ActivityOutput["Get-AzureVM"].PowerState –ne "Stopped"

<span data-ttu-id="92950-438">Toho se můžete zapojit více podmínek použití [logický operátor](https://technet.microsoft.com/library/hh847789.aspx) , jako **- a** nebo **- nebo**.</span><span class="sxs-lookup"><span data-stu-id="92950-438">You can join multiple conditions using a [logical operator](https://technet.microsoft.com/library/hh847789.aspx) such as **-and** or **-or**.</span></span>  <span data-ttu-id="92950-439">Například následující podmínky kontroly, zda na stejný virtuální počítač v předchozím příkladu je ve stavu *zastavena* nebo *zastavení*.</span><span class="sxs-lookup"><span data-stu-id="92950-439">For example, the following condition checks whether the same virtual machine in the previous example is in a state of *stopped* or *stopping*.</span></span>

    ($ActivityOutput["Get-AzureVM"].PowerState –eq "Stopped") -or ($ActivityOutput["Get-AzureVM"].PowerState –eq "Stopping") 


### <a name="hashtables"></a><span data-ttu-id="92950-440">Zatřiďovacích tabulkách</span><span class="sxs-lookup"><span data-stu-id="92950-440">Hashtables</span></span>
<span data-ttu-id="92950-441">[Zatřiďovacích tabulkách](http://technet.microsoft.com/library/hh847780.aspx) jsou páry název/hodnota, které jsou užitečné pro vrácení sadu hodnot.</span><span class="sxs-lookup"><span data-stu-id="92950-441">[Hashtables](http://technet.microsoft.com/library/hh847780.aspx) are name/value pairs that are useful for returning a set of values.</span></span>  <span data-ttu-id="92950-442">Vlastnosti pro určité aktivity se očekává, že zatřiďovací tabulku namísto jednoduché hodnoty.</span><span class="sxs-lookup"><span data-stu-id="92950-442">Properties for certain activities may expect a hashtable instead of a simple value.</span></span>  <span data-ttu-id="92950-443">Může se také zobrazit jako zatřiďovací tabulky uvedené jako slovník.</span><span class="sxs-lookup"><span data-stu-id="92950-443">You may also see as hashtable referred to as a dictionary.</span></span> 

<span data-ttu-id="92950-444">Vytvořit tabulku hash pomocí následující syntaxe.</span><span class="sxs-lookup"><span data-stu-id="92950-444">You create a hashtable with the following syntax.</span></span>  <span data-ttu-id="92950-445">Zatřiďovací tabulky může obsahovat libovolný počet položek, ale každý je definována podle názvu a hodnoty.</span><span class="sxs-lookup"><span data-stu-id="92950-445">A hashtable can contain any number of entries but each is defined by a name and value.</span></span>

    @{ <name> = <value>; [<name> = <value> ] ...}

<span data-ttu-id="92950-446">Například následující výraz vytvoří tabulku hash pro použije ve zdroji dat pro parametr aktivity, který očekává zatřiďovací tabulku s hodnotami pro hledání v Internetu.</span><span class="sxs-lookup"><span data-stu-id="92950-446">For example, the following expression creates a hashtable to be used in the data source for an activity parameter that expected a hashtable with values for an internet search.</span></span>

    $query = "Azure Automation"
    $count = 10
    $h = @{'q'=$query; 'lr'='lang_ja';  'count'=$Count}
    $h

<span data-ttu-id="92950-447">Následující příklad používá výstupem z aktivity volá *získat připojení služby Twitter* k naplnění zatřiďovací tabulku.</span><span class="sxs-lookup"><span data-stu-id="92950-447">The following example uses output from an activity called *Get Twitter Connection* to populate a hashtable.</span></span>

    @{'ApiKey'=$ActivityOutput['Get Twitter Connection'].ConsumerAPIKey;
      'ApiSecret'=$ActivityOutput['Get Twitter Connection'].ConsumerAPISecret;
      'AccessToken'=$ActivityOutput['Get Twitter Connection'].AccessToken;
      'AccessTokenSecret'=$ActivityOutput['Get Twitter Connection'].AccessTokenSecret}



## <a name="next-steps"></a><span data-ttu-id="92950-448">Další kroky</span><span class="sxs-lookup"><span data-stu-id="92950-448">Next Steps</span></span>
* <span data-ttu-id="92950-449">První kroky s runbooky pracovních postupů PowerShellu najdete v článku [Můj první runbook pracovního postupu PowerShellu](automation-first-runbook-textual.md).</span><span class="sxs-lookup"><span data-stu-id="92950-449">To get started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span> 
* <span data-ttu-id="92950-450">První kroky s grafickými runbooky najdete v článku [Můj první grafický runbook](automation-first-runbook-graphical.md).</span><span class="sxs-lookup"><span data-stu-id="92950-450">To get started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="92950-451">Další informace o typech runbooků, jejich výhodách a omezeních najdete v článku [Typy runbooků ve službě Azure Automation](automation-runbook-types.md).</span><span class="sxs-lookup"><span data-stu-id="92950-451">To know more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
* <span data-ttu-id="92950-452">Chcete-li pochopit, jak ověřit pomocí účtu Automation spustit jako, přečtěte si téma [konfigurace Azure účet Spustit jako](automation-sec-configure-azure-runas-account.md)</span><span class="sxs-lookup"><span data-stu-id="92950-452">To understand how to authenticate using the Automation Run As account, see [Configure Azure Run As Account](automation-sec-configure-azure-runas-account.md)</span></span>

