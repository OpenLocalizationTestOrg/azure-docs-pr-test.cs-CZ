---
title: "Řešení běžných potíží Azure Automation | Microsoft Docs"
description: "Tento článek obsahuje informace o řešení potíží a opravte běžné chyby Azure Automation."
services: automation
documentationcenter: 
author: mgoedtel
manager: stevenka
editor: tysonn
tags: top-support-issue
keywords: "Chyba automatizace, řešení potíží problém"
ms.assetid: 5f3cfe61-70b0-4e9c-b892-d02daaeee07d
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 06/26/2017
ms.author: sngun; v-reagie
ms.openlocfilehash: 64548d91e98754210cc5185d9d759141cc0621d3
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="troubleshooting-common-issues-in-azure-automation"></a><span data-ttu-id="b3357-104">Odstraňování běžných problémů ve službě Azure Automation</span><span class="sxs-lookup"><span data-stu-id="b3357-104">Troubleshooting common issues in Azure Automation</span></span> 
<span data-ttu-id="b3357-105">Tento článek obsahuje nápovědu k odstraňování běžných chyb, může docházet v Azure Automation a navrhne možná řešení jejich řešení potíží.</span><span class="sxs-lookup"><span data-stu-id="b3357-105">This article provides help troubleshooting common errors you might experience in Azure Automation and suggests possible solutions to resolve them.</span></span>

## <a name="authentication-errors-when-working-with-azure-automation-runbooks"></a><span data-ttu-id="b3357-106">Chyby ověřování při práci se sadami runbook automatizace Azure.</span><span class="sxs-lookup"><span data-stu-id="b3357-106">Authentication errors when working with Azure Automation runbooks</span></span>
### <a name="scenario-sign-in-to-azure-account-failed"></a><span data-ttu-id="b3357-107">Scénář: Přihlaste se k účtu Azure se nezdařilo</span><span class="sxs-lookup"><span data-stu-id="b3357-107">Scenario: Sign in to Azure Account failed</span></span>
<span data-ttu-id="b3357-108">**Chyba:** při práci s rutiny Add-AzureAccount nebo Login-AzureRmAccount se zobrazí chyba "Unknown_user_type: Neznámý typ uživatele".</span><span class="sxs-lookup"><span data-stu-id="b3357-108">**Error:** You receive the error "Unknown_user_type: Unknown User Type" when working with the Add-AzureAccount or Login-AzureRmAccount cmdlets.</span></span>

<span data-ttu-id="b3357-109">**Důvod chyby:** k této chybě dojde, pokud název asset přihlašovacích údajů není platný nebo pokud uživatelské jméno a heslo, které jste použili k nastavení asset přihlašovacích údajů automatizace nejsou platné.</span><span class="sxs-lookup"><span data-stu-id="b3357-109">**Reason for the error:** This error occurs if the credential asset name is not valid or if the username and password that you used to setup the Automation credential asset are not valid.</span></span>

<span data-ttu-id="b3357-110">**Tipy pro odstraňování potíží:** Chcete-li určit příčinu chyby, proveďte následující kroky:</span><span class="sxs-lookup"><span data-stu-id="b3357-110">**Troubleshooting tips:** In order to determine what's wrong, take the following steps:</span></span>  

1. <span data-ttu-id="b3357-111">Ujistěte se, že nemáte žádné speciální znaky, včetně  **@**  znak v názvu asset přihlašovacích údajů automatizace, kterou používáte pro připojení k Azure.</span><span class="sxs-lookup"><span data-stu-id="b3357-111">Make sure that you don’t have any special characters, including the **@** character in the Automation credential asset name that you are using to connect to Azure.</span></span>  
2. <span data-ttu-id="b3357-112">Zkontrolujte, můžete použít uživatelské jméno a heslo, které jsou uložené v Azure Automation přihlašovací údaje ve svém místním prostředí PowerShell ISE editoru.</span><span class="sxs-lookup"><span data-stu-id="b3357-112">Check that you can use the username and password that are stored in the Azure Automation credential in your local PowerShell ISE editor.</span></span> <span data-ttu-id="b3357-113">Můžete provést spuštěním následující rutiny v integrovaném Skriptovacím prostředí PowerShell:</span><span class="sxs-lookup"><span data-stu-id="b3357-113">You can do this by running the following cmdlets in the PowerShell ISE:</span></span>  

        $Cred = Get-Credential  
        #Using Azure Service Management   
        Add-AzureAccount –Credential $Cred  
        #Using Azure Resource Manager  
        Login-AzureRmAccount –Credential $Cred
3. <span data-ttu-id="b3357-114">Pokud ověření selže místně, znamená to, zda nebyly správně nastavená přihlašovacích údajů Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b3357-114">If your authentication fails locally, this means that you haven’t set up your Azure Active Directory credentials properly.</span></span> <span data-ttu-id="b3357-115">Odkazovat na [ověřování na Azure pomocí Azure Active Directory](https://azure.microsoft.com/blog/azure-automation-authenticating-to-azure-using-azure-active-directory/) příspěvku na blogu získat správně nastaven účet služby Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b3357-115">Refer to [Authenticating to Azure using Azure Active Directory](https://azure.microsoft.com/blog/azure-automation-authenticating-to-azure-using-azure-active-directory/) blog post to get the Azure Active Directory account set up correctly.</span></span>  

### <a name="scenario-unable-to-find-the-azure-subscription"></a><span data-ttu-id="b3357-116">Scénář: Nelze najít předplatné Azure</span><span class="sxs-lookup"><span data-stu-id="b3357-116">Scenario: Unable to find the Azure subscription</span></span>
<span data-ttu-id="b3357-117">**Chyba:** se zobrazí chyba "odběr s názvem ``<subscription name>`` nebyl nalezen" při práci s rutiny Select-AzureSubscription nebo Select-AzureRmSubscription.</span><span class="sxs-lookup"><span data-stu-id="b3357-117">**Error:** You receive the error "The subscription named ``<subscription name>`` cannot be found" when working with the Select-AzureSubscription or Select-AzureRmSubscription cmdlets.</span></span>

<span data-ttu-id="b3357-118">**Důvod chyby:** k této chybě dojde, pokud není platný název odběru, nebo pokud uživatele Azure Active Directory, který se pokouší získat podrobnosti o předplatném není nakonfigurován jako správce předplatného.</span><span class="sxs-lookup"><span data-stu-id="b3357-118">**Reason for the error:** This error occurs if the subscription name is not valid or if the Azure Active Directory user who is trying to get the subscription details is not configured as an admin of the subscription.</span></span>

<span data-ttu-id="b3357-119">**Tipy pro odstraňování potíží:** Chcete-li zjistit, zda jste správně ověřené Azure a mají přístup k předplatnému chcete vybrat, proveďte následující kroky:</span><span class="sxs-lookup"><span data-stu-id="b3357-119">**Troubleshooting tips:** In order to determine if you have properly authenticated to Azure and have access to the subscription you are trying to select, take the following steps:</span></span>  

1. <span data-ttu-id="b3357-120">Ujistěte se, že spustíte **Add-AzureAccount** dřív, než spustíte **Select-AzureSubscription** rutiny.</span><span class="sxs-lookup"><span data-stu-id="b3357-120">Make sure that you run the **Add-AzureAccount** before running the **Select-AzureSubscription** cmdlet.</span></span>  
2. <span data-ttu-id="b3357-121">Pokud se pořád zobrazí tato chybová zpráva, upravit kód tak, že přidáte **Get-AzureSubscription** následující rutina **Add-AzureAccount** rutiny a potom spusťte kód.</span><span class="sxs-lookup"><span data-stu-id="b3357-121">If you still see this error message, modify your code by adding the **Get-AzureSubscription** cmdlet following the **Add-AzureAccount** cmdlet and then execute the code.</span></span>  <span data-ttu-id="b3357-122">Nyní ověřte, zda výstup Get-AzureSubscription obsahuje podrobnosti o vašem předplatném.</span><span class="sxs-lookup"><span data-stu-id="b3357-122">Now verify if the output of Get-AzureSubscription contains your subscription details.</span></span>  

   * <span data-ttu-id="b3357-123">Pokud nevidíte všechny podrobnosti o předplatném ve výstupu, znamená to, že odběr není inicializován ještě.</span><span class="sxs-lookup"><span data-stu-id="b3357-123">If you don't see any subscription details in the output, this means that the subscription isn’t initialized yet.</span></span>  
   * <span data-ttu-id="b3357-124">Pokud se zobrazí podrobnosti o předplatném ve výstupu, potvrďte, že používáte správné předplatné název nebo ID s **Select-AzureSubscription** rutiny.</span><span class="sxs-lookup"><span data-stu-id="b3357-124">If you do see the subscription details in the output, confirm that you are using the correct subscription name or ID with the **Select-AzureSubscription** cmdlet.</span></span>   

### <a name="scenario-authentication-to-azure-failed-because-multi-factor-authentication-is-enabled"></a><span data-ttu-id="b3357-125">Scénář: Ověřování na Azure se nezdařila, protože je povolené vícefaktorového ověřování</span><span class="sxs-lookup"><span data-stu-id="b3357-125">Scenario: Authentication to Azure failed because multi-factor authentication is enabled</span></span>
<span data-ttu-id="b3357-126">**Chyba:** se zobrazí chyba "Add-AzureAccount: AADSTS50079: registrace silného ověřování (výš) se vyžaduje" při ověřování do Azure s Azure uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="b3357-126">**Error:** You receive the error “Add-AzureAccount: AADSTS50079: Strong authentication enrollment (proof-up) is required” when authenticating to Azure with your Azure username and password.</span></span>

<span data-ttu-id="b3357-127">**Důvod chyby:** Pokud máte služby Multi-Factor authentication na vašem účtu Azure, nemůžete použít uživatele služby Azure Active Directory k ověření do Azure.</span><span class="sxs-lookup"><span data-stu-id="b3357-127">**Reason for the error:** If you have multi-factor authentication on your Azure account, you can't use an Azure Active Directory user to authenticate to Azure.</span></span>  <span data-ttu-id="b3357-128">Místo toho musíte použít certifikát nebo objekt služby pro ověřování v Azure.</span><span class="sxs-lookup"><span data-stu-id="b3357-128">Instead, you need to use a certificate or a service principal to authenticate to Azure.</span></span>

<span data-ttu-id="b3357-129">**Tipy pro odstraňování potíží:** používat certifikát s rutinami pro správu služby Azure, najdete v tématu [vytváření a přidání certifikátu pro správu služby Azure.](http://blogs.technet.com/b/orchestrator/archive/2014/04/11/managing-azure-services-with-the-microsoft-azure-automation-preview-service.aspx)</span><span class="sxs-lookup"><span data-stu-id="b3357-129">**Troubleshooting tips:** To use a certificate with the Azure Service Management cmdlets, refer to [creating and adding a certificate to manage Azure services.](http://blogs.technet.com/b/orchestrator/archive/2014/04/11/managing-azure-services-with-the-microsoft-azure-automation-preview-service.aspx)</span></span> <span data-ttu-id="b3357-130">Hlavní název služby pomocí rutiny Azure Resource Manager, najdete v tématu [vytváření služby objektu zabezpečení pomocí portálu Azure](../azure-resource-manager/resource-group-create-service-principal-portal.md) a [ověřování hlavní název služby pomocí Azure Resource Manageru.](../azure-resource-manager/resource-group-authenticate-service-principal.md)</span><span class="sxs-lookup"><span data-stu-id="b3357-130">To use a service principal with Azure Resource Manager cmdlets, refer to [creating service principal using Azure portal](../azure-resource-manager/resource-group-create-service-principal-portal.md) and [authenticating a service principal with Azure Resource Manager.](../azure-resource-manager/resource-group-authenticate-service-principal.md)</span></span>

## <a name="common-errors-when-working-with-runbooks"></a><span data-ttu-id="b3357-131">Běžné chyby při práci se sadami runbook</span><span class="sxs-lookup"><span data-stu-id="b3357-131">Common errors when working with runbooks</span></span>
### <a name="scenario-the-runbook-job-start-was-attempted-three-times-but-it-failed-to-start-each-time"></a><span data-ttu-id="b3357-132">Scénář: Spuštění úlohy sady runbook došlo k pokusu o třikrát, ale její spuštění pokaždé, když se nezdařilo</span><span class="sxs-lookup"><span data-stu-id="b3357-132">Scenario: The runbook job start was attempted three times, but it failed to start each time</span></span>
<span data-ttu-id="b3357-133">**Chyba:** runbook selže s chybou "" Úloha byla pokusů tři ale se nezdařilo."</span><span class="sxs-lookup"><span data-stu-id="b3357-133">**Error:** Your runbook fails with the error "“The job was tried three times but it failed."</span></span>

<span data-ttu-id="b3357-134">**Důvod chyby:** tato chyba může být způsobeno z následujících důvodů:</span><span class="sxs-lookup"><span data-stu-id="b3357-134">**Reason for the error:** This error can be caused by the following reasons:</span></span>  

1. <span data-ttu-id="b3357-135">Limit paměti.</span><span class="sxs-lookup"><span data-stu-id="b3357-135">Memory Limit.</span></span>  <span data-ttu-id="b3357-136">Budeme mít zdokumentovaný omezení množství paměti přidělené izolovaném prostoru [omezení služby Automation](../azure-subscription-service-limits.md#automation-limits) , úloha může selhat ho pokud používá více než 400 MB paměti.</span><span class="sxs-lookup"><span data-stu-id="b3357-136">We have documented limits on how much memory allocated to a Sandbox  [Automation service limits](../azure-subscription-service-limits.md#automation-limits) so a job may fail it if is using more than 400 MB of memory.</span></span> 

2. <span data-ttu-id="b3357-137">Modul není kompatibilní.</span><span class="sxs-lookup"><span data-stu-id="b3357-137">Module Incompatible.</span></span>  <span data-ttu-id="b3357-138">Tato situace může nastat, pokud modul závislosti nejsou správné, a pokud tomu tak není, vaše sada runbook obvykle vrací "Příkaz nebyl nalezen" nebo "Nelze vytvořit vazbu parametru" zprávy.</span><span class="sxs-lookup"><span data-stu-id="b3357-138">This can occur if module dependencies are not correct and if they are not, your runbook will typically return a “Command not found” or "Cannot bind parameter" message.</span></span> 

<span data-ttu-id="b3357-139">**Tipy pro odstraňování potíží:** některý z následujících řešení problém opravíme:</span><span class="sxs-lookup"><span data-stu-id="b3357-139">**Troubleshooting tips:** Any of the following solutions will fix the problem:</span></span>  

* <span data-ttu-id="b3357-140">Navrhované metody pro práci v rámci limit paměti mají rozdělit zatížení mezi několika runbooky, není zpracovat tolik data v paměti, není k zápisu výstupu nepotřebné z vaší sady runbook nebo zvažte kolik kontrolní body zápisu do vašeho pracovního postupu Powershellu sady runbook.</span><span class="sxs-lookup"><span data-stu-id="b3357-140">Suggested methods to work within the memory limit are to split the workload between multiple runbooks, not process as much data in memory, not to write unnecessary output from your runbooks, or consider how many checkpoints you write into your PowerShell workflow runbooks.</span></span>  

* <span data-ttu-id="b3357-141">Je potřeba aktualizovat moduly Azure podle pokynů [aktualizaci modulů prostředí Azure PowerShell ve službě Azure Automation](automation-update-azure-modules.md).</span><span class="sxs-lookup"><span data-stu-id="b3357-141">You need to update your Azure modules by following the steps [How to update Azure PowerShell modules in Azure Automation](automation-update-azure-modules.md).</span></span>  


### <a name="scenario-runbook-fails-because-of-deserialized-object"></a><span data-ttu-id="b3357-142">Scénář: Runbook nezdaří z důvodu deserializovaný objekt</span><span class="sxs-lookup"><span data-stu-id="b3357-142">Scenario: Runbook fails because of deserialized object</span></span>
<span data-ttu-id="b3357-143">**Chyba:** runbook selže s chybou "nelze vytvořit vazbu parametru ``<ParameterName>``.</span><span class="sxs-lookup"><span data-stu-id="b3357-143">**Error:** Your runbook fails with the error "Cannot bind parameter ``<ParameterName>``.</span></span> <span data-ttu-id="b3357-144">Nelze převést ``<ParameterType>`` hodnotu typu Deserialized ``<ParameterType>`` na typ ``<ParameterType>``".</span><span class="sxs-lookup"><span data-stu-id="b3357-144">Cannot convert the ``<ParameterType>`` value of type Deserialized ``<ParameterType>`` to type ``<ParameterType>``".</span></span>

<span data-ttu-id="b3357-145">**Důvod chyby:** Pokud vaše sada runbook v pracovním postupu Powershellu, je uložený na komplexní objekty v deserializovaný formát s cílem zachovat vašemu stavu sady runbook, pokud je pozastavená pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="b3357-145">**Reason for the error:** If your runbook is a PowerShell Workflow, it stores complex objects in a deserialized format in order to persist your runbook state if the workflow is suspended.</span></span>  

<span data-ttu-id="b3357-146">**Tipy k řešení potíží:**</span><span class="sxs-lookup"><span data-stu-id="b3357-146">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="b3357-147">Některé z následujících tří řešení bude řešení tohoto problému:</span><span class="sxs-lookup"><span data-stu-id="b3357-147">Any of the following three solutions will fix this problem:</span></span>

1. <span data-ttu-id="b3357-148">Pokud jsou potrubí komplexní objekty z jedné rutiny do druhého, zalomení tyto rutiny v InlineScript.</span><span class="sxs-lookup"><span data-stu-id="b3357-148">If you are piping complex objects from one cmdlet to another, wrap these cmdlets in an InlineScript.</span></span>  
2. <span data-ttu-id="b3357-149">Název nebo hodnotu, která je třeba předejte z komplexní objekt neprochází celý objekt.</span><span class="sxs-lookup"><span data-stu-id="b3357-149">Pass the name or value that you need from the complex object instead of passing the entire object.</span></span>  
3. <span data-ttu-id="b3357-150">Použijte Powershellový runbook místo runbook pracovního postupu Powershellu.</span><span class="sxs-lookup"><span data-stu-id="b3357-150">Use a PowerShell runbook instead of a PowerShell Workflow runbook.</span></span>  

### <a name="scenario-runbook-job-failed-because-the-allocated-quota-exceeded"></a><span data-ttu-id="b3357-151">Scénář: Runbook úloha se nezdařila, protože překročil přidělenou kvótu</span><span class="sxs-lookup"><span data-stu-id="b3357-151">Scenario: Runbook job failed because the allocated quota exceeded</span></span>
<span data-ttu-id="b3357-152">**Chyba:** úlohu runbook selže s chybou "se kvóty pro měsíční celkový čas běhu úloh bylo dosaženo pro toto předplatné".</span><span class="sxs-lookup"><span data-stu-id="b3357-152">**Error:** Your runbook job fails with the error "The quota for the monthly total job run time has been reached for this subscription".</span></span>

<span data-ttu-id="b3357-153">**Důvod chyby:** k této chybě dojde, pokud provádění úlohy překročí kvótu volné 500 minutu pro váš účet.</span><span class="sxs-lookup"><span data-stu-id="b3357-153">**Reason for the error:** This error occurs when the job execution exceeds the 500-minute free quota for your account.</span></span> <span data-ttu-id="b3357-154">Tato kvóta se vztahuje na všechny typy spuštění úlohy například testování úlohu, spouštění úlohy z portálu, provádění úlohy pomocí webhooků a plánování úlohu provést pomocí portálu Azure nebo ve vašem datovém centru.</span><span class="sxs-lookup"><span data-stu-id="b3357-154">This quota applies to all types of job execution tasks such as testing a job, starting a job from the portal, executing a job by using webhooks and scheduling a job to execute by using either the Azure portal or in your datacenter.</span></span> <span data-ttu-id="b3357-155">Další informace o cenách najdete v tématu automatizace [ceny automatizace](https://azure.microsoft.com/pricing/details/automation/).</span><span class="sxs-lookup"><span data-stu-id="b3357-155">To learn more about pricing for Automation see [Automation pricing](https://azure.microsoft.com/pricing/details/automation/).</span></span>

<span data-ttu-id="b3357-156">**Tipy pro odstraňování potíží:** Pokud chcete použít více než 500 minut zpracování měsíčně budete muset změnit své předplatné z volné úroveň na úroveň Basic.</span><span class="sxs-lookup"><span data-stu-id="b3357-156">**Troubleshooting tips:** If you want to use more than 500 minutes of processing per month you will need to change your subscription from the Free tier to the Basic tier.</span></span> <span data-ttu-id="b3357-157">Můžete upgradovat na úroveň Basic provedením následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="b3357-157">You can upgrade to the Basic tier by taking the following steps:</span></span>  

1. <span data-ttu-id="b3357-158">Přihlaste se ke svému předplatnému Azure.</span><span class="sxs-lookup"><span data-stu-id="b3357-158">Sign in to your Azure subscription</span></span>  
2. <span data-ttu-id="b3357-159">Vyberte účet Automation, který chcete upgradovat.</span><span class="sxs-lookup"><span data-stu-id="b3357-159">Select the Automation account you wish to upgrade</span></span>  
3. <span data-ttu-id="b3357-160">Klikněte na **nastavení** > **cenová úroveň a využití** > **cenová úroveň**</span><span class="sxs-lookup"><span data-stu-id="b3357-160">Click on **Settings** > **Pricing tier and Usage** > **Pricing tier**</span></span>  
4. <span data-ttu-id="b3357-161">Na **zvolte cenovou úroveň** vyberte **základní**</span><span class="sxs-lookup"><span data-stu-id="b3357-161">On the **Choose your pricing tier** blade, select **Basic**</span></span>    

### <a name="scenario-cmdlet-not-recognized-when-executing-a-runbook"></a><span data-ttu-id="b3357-162">Scénář: Rutiny nebyl rozpoznán při provádění sady runbook</span><span class="sxs-lookup"><span data-stu-id="b3357-162">Scenario: Cmdlet not recognized when executing a runbook</span></span>
<span data-ttu-id="b3357-163">**Chyba:** úlohu runbook selže s chybou "``<cmdlet name>``: termín ``<cmdlet name>`` nebyl rozpoznán jako název rutiny, funkce, soubor skriptu nebo spustitelného programu."</span><span class="sxs-lookup"><span data-stu-id="b3357-163">**Error:** Your runbook job fails with the error "``<cmdlet name>``: The term ``<cmdlet name>`` is not recognized as the name of a cmdlet, function, script file, or operable program."</span></span>

<span data-ttu-id="b3357-164">**Důvod chyby:** této chybě dojde, pokud modul prostředí PowerShell nebyl nalezen rutinu používáte ve vaší sadě runbook.</span><span class="sxs-lookup"><span data-stu-id="b3357-164">**Reason for the error:** This error is caused when the PowerShell engine cannot find the cmdlet you are using in your runbook.</span></span>  <span data-ttu-id="b3357-165">To může být způsobeno modul, který obsahuje rutinu chybí z účtu, dojde ke konfliktu názvů s název runbooku, nebo rutinu také existuje v jiném modulu a automatizace nelze přeložit název.</span><span class="sxs-lookup"><span data-stu-id="b3357-165">This could be because the module containing the cmdlet is missing from the account, there is a name conflict with a runbook name, or the cmdlet also exists in another module and Automation cannot resolve the name.</span></span>

<span data-ttu-id="b3357-166">**Tipy pro odstraňování potíží:** některý z následujících řešení problém opravíme:</span><span class="sxs-lookup"><span data-stu-id="b3357-166">**Troubleshooting tips:** Any of the following solutions will fix the problem:</span></span>  

* <span data-ttu-id="b3357-167">Zkontrolujte, zda jste správně zadali název rutiny.</span><span class="sxs-lookup"><span data-stu-id="b3357-167">Check that you have entered the cmdlet name correctly.</span></span>  
* <span data-ttu-id="b3357-168">Zajistěte, aby rutiny v účtu Automation existuje a že nedošlo ke konfliktům.</span><span class="sxs-lookup"><span data-stu-id="b3357-168">Make sure the cmdlet exists in your Automation account and that there are no conflicts.</span></span> <span data-ttu-id="b3357-169">Pokud chcete ověřit, zda je přítomen rutinu, otevřete sadu runbook v režimu úprav a hledání rutiny, které chcete najít do knihovny nebo spustit **Get-Command ``<CommandName>``** .</span><span class="sxs-lookup"><span data-stu-id="b3357-169">To verify if the cmdlet is present, open a runbook in edit mode and search for the cmdlet you want to find in the library or run **Get-Command ``<CommandName>``**.</span></span>  <span data-ttu-id="b3357-170">Po ověření které rutiny jsou k dispozici k účtu, a že neexistují žádné název je v konfliktu s jinými rutinami nebo sady runbook, přidat na plátno a ujistěte se, že používáte platný parametr nastavit v sadě runbook.</span><span class="sxs-lookup"><span data-stu-id="b3357-170">Once you have validated that the cmdlet is available to the account, and that there are no name conflicts with other cmdlets or runbooks, add it to the canvas and ensure that you are using a valid parameter set in your runbook.</span></span>  
* <span data-ttu-id="b3357-171">Pokud máte ke konfliktu názvů, a rutina je k dispozici ve dvou různých modulů, můžete to vyřešit pomocí plně kvalifikovaný název rutiny.</span><span class="sxs-lookup"><span data-stu-id="b3357-171">If you do have a name conflict and the cmdlet is available in two different modules, you can resolve this by using the fully qualified name for the cmdlet.</span></span> <span data-ttu-id="b3357-172">Například můžete použít **ModuleName\CmdletName**.</span><span class="sxs-lookup"><span data-stu-id="b3357-172">For example, you can use **ModuleName\CmdletName**.</span></span>  
* <span data-ttu-id="b3357-173">Pokud jsou prováděny runbook na místě v skupinu hybridních pracovních procesů, ujistěte se, že rutinu modulu nebo je nainstalován na počítači, který je hostitelem hybridní pracovní proces.</span><span class="sxs-lookup"><span data-stu-id="b3357-173">If you are executing the runbook on-premises in a hybrid worker group, then make sure that the module/cmdlet is installed on the machine that hosts the hybrid worker.</span></span>

### <a name="scenario-a-long-running-runbook-consistently-fails-with-the-exception-the-job-cannot-continue-running-because-it-was-repeatedly-evicted-from-the-same-checkpoint"></a><span data-ttu-id="b3357-174">Scénář: Dlouho spuštěná sada runbook konzistentně selže s výjimkou: "Úloha nemůže dále běžet protože opakovaně bylo vyloučeno ze stejné kontrolní bod".</span><span class="sxs-lookup"><span data-stu-id="b3357-174">Scenario: A long running runbook consistently fails with the exception: "The job cannot continue running because it was repeatedly evicted from the same checkpoint".</span></span>
<span data-ttu-id="b3357-175">**Důvod chyby:** jedná se o chování návrhu kvůli sledování "Úloha dostatečný podíl" procesů v rámci Azure Automation, která automaticky pozastaví runbook, pokud se provede déle než 3 hodiny.</span><span class="sxs-lookup"><span data-stu-id="b3357-175">**Reason for the error:** This is by design behavior due to the "Fair Share" monitoring of processes within Azure Automation, which automatically suspends a runbook if it executes longer than 3 hours.</span></span> <span data-ttu-id="b3357-176">Chybovou zprávu vrácenou však neposkytuje "jaké další" možnosti.</span><span class="sxs-lookup"><span data-stu-id="b3357-176">However, the error message returned does not provide "what next" options.</span></span> <span data-ttu-id="b3357-177">Sady runbook můžete pozastavit několik důvodů.</span><span class="sxs-lookup"><span data-stu-id="b3357-177">A runbook can be suspended for a number of reasons.</span></span> <span data-ttu-id="b3357-178">Pozastaví dojít většinou z důvodu chyb.</span><span class="sxs-lookup"><span data-stu-id="b3357-178">Suspends happen mostly due to errors.</span></span> <span data-ttu-id="b3357-179">Například nezachycenou výjimku v runbooku, selhání sítě nebo havárie na Runbook Worker spuštění sady runbook, všechny způsobí, že sada runbook pozastaví a začněte od svého posledního kontrolního bodu při obnovení.</span><span class="sxs-lookup"><span data-stu-id="b3357-179">For example, an uncaught exception in a runbook, a network failure, or a crash on the Runbook Worker running the runbook, will all cause the runbook to be suspended and start from its last checkpoint when resumed.</span></span>

<span data-ttu-id="b3357-180">**Tipy pro odstraňování potíží:** zdokumentovaných řešení k tomuto problému vyhnout, je použít kontrolní body v pracovním postupu.</span><span class="sxs-lookup"><span data-stu-id="b3357-180">**Troubleshooting tips:** The documented solution to avoid this issue is to use Checkpoints in a workflow.</span></span>  <span data-ttu-id="b3357-181">Další informace najdete v tématu [pracovních postupů PowerShell Learning](automation-powershell-workflow.md#checkpoints).</span><span class="sxs-lookup"><span data-stu-id="b3357-181">To learn more refer to [Learning PowerShell Workflows](automation-powershell-workflow.md#checkpoints).</span></span>  <span data-ttu-id="b3357-182">Podrobnější vysvětlení "Úloha dostatečný podíl" a kontrolního bodu najdete v tomto článku blog [pomocí kontrolních bodů v sadách Runbook](https://azure.microsoft.com/en-us/blog/azure-automation-reliable-fault-tolerant-runbook-execution-using-checkpoints/).</span><span class="sxs-lookup"><span data-stu-id="b3357-182">A more thorough explanation of "Fair Share" and Checkpoint can be found in this blog article [Using Checkpoints in Runbooks](https://azure.microsoft.com/en-us/blog/azure-automation-reliable-fault-tolerant-runbook-execution-using-checkpoints/).</span></span>

## <a name="common-errors-when-importing-modules"></a><span data-ttu-id="b3357-183">Běžné chyby při importu modulů</span><span class="sxs-lookup"><span data-stu-id="b3357-183">Common errors when importing modules</span></span>
### <a name="scenario-module-fails-to-import-or-cmdlets-cant-be-executed-after-importing"></a><span data-ttu-id="b3357-184">Scénář: Chyby při importu modulu nebo rutin nelze provést po importu</span><span class="sxs-lookup"><span data-stu-id="b3357-184">Scenario: Module fails to import or cmdlets can't be executed after importing</span></span>
<span data-ttu-id="b3357-185">**Chyba:** modul se import nezdaří nebo importuje úspěšně, ale žádné rutiny se extrahují.</span><span class="sxs-lookup"><span data-stu-id="b3357-185">**Error:** A module fails to import or imports successfully, but no cmdlets are extracted.</span></span>

<span data-ttu-id="b3357-186">**Důvod chyby:** jsou některé běžné příčiny, které modul nemusí úspěšně importovat do Azure Automation:</span><span class="sxs-lookup"><span data-stu-id="b3357-186">**Reason for the error:** Some common reasons that a module might not successfully import to Azure Automation are:</span></span>  

* <span data-ttu-id="b3357-187">Struktura neodpovídá strukturu, která Automation potřebuje, aby byla v.</span><span class="sxs-lookup"><span data-stu-id="b3357-187">The structure does not match the structure that Automation needs it to be in.</span></span>  
* <span data-ttu-id="b3357-188">Modul je závislá na jiný modul, která nebyla zavedena ke svému účtu Automation.</span><span class="sxs-lookup"><span data-stu-id="b3357-188">The module is dependent on another module that has not been deployed to your Automation account.</span></span>  
* <span data-ttu-id="b3357-189">Modul chybí jeho závislosti ve složce.</span><span class="sxs-lookup"><span data-stu-id="b3357-189">The module is missing its dependencies in the folder.</span></span>  
* <span data-ttu-id="b3357-190">**New-AzureRmAutomationModule** rutina se používá k nahrání modul a nedali úložiště úplnou cestu nebo nebyly načteny modulu pomocí adresy URL veřejně přístupná.</span><span class="sxs-lookup"><span data-stu-id="b3357-190">The **New-AzureRmAutomationModule** cmdlet is being used to upload the module, and you have not given the full storage path or have not loaded the module by using a publicly accessible URL.</span></span>  

<span data-ttu-id="b3357-191">**Tipy k řešení potíží:**</span><span class="sxs-lookup"><span data-stu-id="b3357-191">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="b3357-192">Problém se vyřeší všechny z následujících řešení:</span><span class="sxs-lookup"><span data-stu-id="b3357-192">Any of the following solutions will fix the problem:</span></span>  

* <span data-ttu-id="b3357-193">Ujistěte se, že modul dodržuje následující formát:</span><span class="sxs-lookup"><span data-stu-id="b3357-193">Make sure that the module follows the following format:</span></span>  
  <span data-ttu-id="b3357-194">ModuleName.Zip  **->**  ModuleName nebo číslo verze  **->**  (ModuleName.psm1, ModuleName.psd1)</span><span class="sxs-lookup"><span data-stu-id="b3357-194">ModuleName.Zip **->** ModuleName or Version Number **->** (ModuleName.psm1, ModuleName.psd1)</span></span>
* <span data-ttu-id="b3357-195">Otevřete soubor .psd1 a zjistěte, zda modul všechny závislosti.</span><span class="sxs-lookup"><span data-stu-id="b3357-195">Open the .psd1 file and see if the module has any dependencies.</span></span>  <span data-ttu-id="b3357-196">Pokud ano, nahrajte do účtu Automation tyto moduly.</span><span class="sxs-lookup"><span data-stu-id="b3357-196">If it does, upload these modules to the Automation account.</span></span>  
* <span data-ttu-id="b3357-197">Ujistěte se, že jsou všechny odkazované knihoven DLL umístěny ve složce modulu.</span><span class="sxs-lookup"><span data-stu-id="b3357-197">Make sure that any referenced .dlls are present in the module folder.</span></span>  

## <a name="common-errors-when-working-with-desired-state-configuration-dsc"></a><span data-ttu-id="b3357-198">Běžné chyby při práci s potřeby konfigurace stavu (DSC)</span><span class="sxs-lookup"><span data-stu-id="b3357-198">Common errors when working with Desired State Configuration (DSC)</span></span>
### <a name="scenario-node-is-in-failed-status-with-a-not-found-error"></a><span data-ttu-id="b3357-199">Scénář: Uzel je ve stavu selhání s chybou "Nebyl nalezen."</span><span class="sxs-lookup"><span data-stu-id="b3357-199">Scenario: Node is in failed status with a “Not found” error</span></span>
<span data-ttu-id="b3357-200">**Chyba:** uzlu obsahuje sestavu s **se nezdařilo** stavu a který obsahuje chybu "pokus o získání akce ze serveru https://``<url>``//accounts/ ``<account-id>`` /Nodes(AgentId=``<agent-id>``) / GetDscAction se nezdařila, protože platnou konfigurací ``<guid>`` nebyl nalezen. "</span><span class="sxs-lookup"><span data-stu-id="b3357-200">**Error:** The node has a report with **Failed** status and containing the error "The attempt to get the action from server https://``<url>``//accounts/``<account-id>``/Nodes(AgentId=``<agent-id>``)/GetDscAction failed because a valid configuration ``<guid>`` cannot be found.”</span></span>

<span data-ttu-id="b3357-201">**Důvod chyby:** této chybě obvykle dochází při uzlu je přiřazen název konfigurace (například ABC) namísto název konfigurace uzlu (například ABC. Webový server).</span><span class="sxs-lookup"><span data-stu-id="b3357-201">**Reason for the error:** This error typically occurs when the node is assigned to a configuration name (e.g. ABC) instead of a node configuration name (e.g. ABC.WebServer).</span></span>  

<span data-ttu-id="b3357-202">**Tipy k řešení potíží:**</span><span class="sxs-lookup"><span data-stu-id="b3357-202">**Troubleshooting tips:**</span></span>  

* <span data-ttu-id="b3357-203">Ujistěte se, že přiřazujete uzlu se "název konfigurace uzlu" a ne "konfigurace název".</span><span class="sxs-lookup"><span data-stu-id="b3357-203">Make sure that you are assigning the node with "node configuration name" and not the "configuration name".</span></span>  
* <span data-ttu-id="b3357-204">Konfigurace uzlu můžete přiřadit k uzlu, pomocí portálu Azure nebo pomocí rutiny prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b3357-204">You can assign a node configuration to a node using Azure portal or with a PowerShell cmdlet.</span></span>

  * <span data-ttu-id="b3357-205">Aby bylo možné přiřadit konfigurace uzlu do uzlu pomocí portálu Azure, otevřete **uzly DSC** okno, pak vyberte uzel a klikněte na **konfigurace uzlu přiřazení** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="b3357-205">In order to assign a node configuration to a node using Azure portal, open the **DSC Nodes** blade, then select a node and click on **Assign node configuration** button.</span></span>  
  * <span data-ttu-id="b3357-206">Aby bylo možné přiřadit konfigurace uzlu do uzlu pomocí rutiny prostředí PowerShell, použijte **Set-AzureRmAutomationDscNode** rutiny</span><span class="sxs-lookup"><span data-stu-id="b3357-206">In order to assign a node configuration to a node using PowerShell cmdlet, use **Set-AzureRmAutomationDscNode** cmdlet</span></span>

### <a name="scenario--no-node-configurations-mof-files-were-produced-when-a-configuration-is-compiled"></a><span data-ttu-id="b3357-207">Scénář: Žádná konfigurace uzlu (soubory MOF) byly vytvořeny při kompilaci konfigurace</span><span class="sxs-lookup"><span data-stu-id="b3357-207">Scenario:  No node configurations (MOF files) were produced when a configuration is compiled</span></span>
<span data-ttu-id="b3357-208">**Chyba:** pozastaví úlohu kompilace DSC s chybou: "kompilace byl úspěšně dokončen, ale byly vygenerovány žádné .mofs konfigurace uzlu".</span><span class="sxs-lookup"><span data-stu-id="b3357-208">**Error:** Your DSC compilation job suspends with the error: “Compilation completed successfully, but no node configuration .mofs were generated”.</span></span>

<span data-ttu-id="b3357-209">**Důvod chyby:** při následující výraz **uzlu** – klíčové slovo v konfigurace DSC se vyhodnocuje $null pak budou vytvořeny žádné konfigurace uzlů.</span><span class="sxs-lookup"><span data-stu-id="b3357-209">**Reason for the error:** When the expression following the **Node** keyword in the DSC configuration evaluates to $null then no node configurations will be produced.</span></span>    

<span data-ttu-id="b3357-210">**Tipy k řešení potíží:**</span><span class="sxs-lookup"><span data-stu-id="b3357-210">**Troubleshooting tips:**</span></span>  
<span data-ttu-id="b3357-211">Problém se vyřeší všechny z následujících řešení:</span><span class="sxs-lookup"><span data-stu-id="b3357-211">Any of the following solutions will fix the problem:</span></span>  

* <span data-ttu-id="b3357-212">Ujistěte se, že výraz vedle **uzlu** – klíčové slovo v definici konfigurace není vyhodnocení na $null.</span><span class="sxs-lookup"><span data-stu-id="b3357-212">Make sure that the expression next to the **Node** keyword in the configuration definition is not evaluating to $null.</span></span>  
* <span data-ttu-id="b3357-213">Pokud předáváte ConfigurationData při kompilaci konfigurace, ujistěte se, že předáváte očekávaných hodnot, které konfigurace vyžaduje, aby [ConfigurationData](automation-dsc-compile.md#configurationdata).</span><span class="sxs-lookup"><span data-stu-id="b3357-213">If you are passing ConfigurationData when compiling the configuration, make sure that you are passing the expected values that the configuration requires from [ConfigurationData](automation-dsc-compile.md#configurationdata).</span></span>

### <a name="scenario--the-dsc-node-report-becomes-stuck-in-progress-state"></a><span data-ttu-id="b3357-214">Scénář: Sestavy uzlu DSC stane zablokované stav "v průběhu"</span><span class="sxs-lookup"><span data-stu-id="b3357-214">Scenario:  The DSC node report becomes stuck “in progress” state</span></span>
<span data-ttu-id="b3357-215">**Chyba:** DSC agenta výstupy "Nalezena žádná instance s danými hodnotami vlastností."</span><span class="sxs-lookup"><span data-stu-id="b3357-215">**Error:** DSC Agent outputs “No instance found with given property values.”</span></span>

<span data-ttu-id="b3357-216">**Důvod chyby:** upgradu vaší verzi WMF a mají poškozen rozhraní WMI.</span><span class="sxs-lookup"><span data-stu-id="b3357-216">**Reason for the error:** You have upgraded your WMF version and have corrupted WMI.</span></span>  

<span data-ttu-id="b3357-217">**Tipy pro odstraňování potíží:** postupujte podle pokynů [DSC známé problémy a omezení](https://msdn.microsoft.com/powershell/wmf/5.0/limitation_dsc) vyřešit problém.</span><span class="sxs-lookup"><span data-stu-id="b3357-217">**Troubleshooting tips:** Follow the instructions in the [DSC known issues and limitations](https://msdn.microsoft.com/powershell/wmf/5.0/limitation_dsc) to fix the issue.</span></span>

### <a name="scenario--unable-to-use-a-credential-in-a-dsc-configuration"></a><span data-ttu-id="b3357-218">Scénář: Nelze použít pověření v konfigurace DSC</span><span class="sxs-lookup"><span data-stu-id="b3357-218">Scenario:  Unable to use a credential in a DSC configuration</span></span>
<span data-ttu-id="b3357-219">**Chyba:** úlohu kompilace DSC byla pozastavena s chybou: "System.InvalidOperationException Chyba při zpracování vlastnost pověření typu ``<some resource name>``: převádění a uložení zašifrované heslo jako prostý text je povoleno pouze v případě PSDscAllowPlainTextPassword je nastaven na hodnotu true ".</span><span class="sxs-lookup"><span data-stu-id="b3357-219">**Error:** Your DSC compilation job was suspended with the error: “System.InvalidOperationException error processing property 'Credential' of type ``<some resource name>``: Converting and storing an encrypted password as plaintext is allowed only if PSDscAllowPlainTextPassword is set to true”.</span></span>

<span data-ttu-id="b3357-220">**Důvod chyby:** jste použili pověření v konfiguraci, ale neposkytli správné **ConfigurationData** nastavit **PSDscAllowPlainTextPassword** na hodnotu true pro každý uzel konfigurace.</span><span class="sxs-lookup"><span data-stu-id="b3357-220">**Reason for the error:** You have used a credential in a configuration but didn’t provide proper **ConfigurationData** to set **PSDscAllowPlainTextPassword** to true for each node configuration.</span></span>  

<span data-ttu-id="b3357-221">**Tipy k řešení potíží:**</span><span class="sxs-lookup"><span data-stu-id="b3357-221">**Troubleshooting tips:**</span></span>  

* <span data-ttu-id="b3357-222">Ujistěte se, zda jste předat správnou **ConfigurationData** nastavit **PSDscAllowPlainTextPassword** na hodnotu true pro každý uzel, konfigurace uvedené v konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="b3357-222">Make sure to pass in the proper **ConfigurationData** to set **PSDscAllowPlainTextPassword** to true for each node configuration mentioned in the configuration.</span></span> <span data-ttu-id="b3357-223">Další informace najdete v části [prostředky v Azure Automation DSC](automation-dsc-compile.md#assets).</span><span class="sxs-lookup"><span data-stu-id="b3357-223">For more information, refer to [assets in Azure Automation DSC](automation-dsc-compile.md#assets).</span></span>

## <a name="next-steps"></a><span data-ttu-id="b3357-224">Další kroky</span><span class="sxs-lookup"><span data-stu-id="b3357-224">Next steps</span></span>
<span data-ttu-id="b3357-225">Pokud jste postupovali podle výše uvedených kroků pro řešení potíží a nelze najít odpověď, můžete zkontrolovat další možnosti podpory níže.</span><span class="sxs-lookup"><span data-stu-id="b3357-225">If you have followed the troubleshooting steps above and can't find the answer, you can review the additional support options below.</span></span>

* <span data-ttu-id="b3357-226">Získáte pomoc od odborníků na Azure.</span><span class="sxs-lookup"><span data-stu-id="b3357-226">Get help from Azure experts.</span></span> <span data-ttu-id="b3357-227">Odeslat váš problém [fórech MSDN Azure nebo Stack Overflow.](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="b3357-227">Submit your issue to the [MSDN Azure or Stack Overflow forums.](https://azure.microsoft.com/support/forums/).</span></span>
* <span data-ttu-id="b3357-228">Soubor incidentu podpory Azure.</span><span class="sxs-lookup"><span data-stu-id="b3357-228">File an Azure support incident.</span></span> <span data-ttu-id="b3357-229">Přejděte na [podporu Azure lokality](https://azure.microsoft.com/support/options/) a klikněte na tlačítko **získat podporu** pod **a technické podpory fakturace**.</span><span class="sxs-lookup"><span data-stu-id="b3357-229">Go to the [Azure Support site](https://azure.microsoft.com/support/options/) and click **Get support** under **Technical and billing support**.</span></span>
* <span data-ttu-id="b3357-230">Zveřejnit skriptů požadavek na [centra skriptů](https://azure.microsoft.com/documentation/scripts/) Pokud hledáte řešení runbooku s Azure Automation nebo modul integrace.</span><span class="sxs-lookup"><span data-stu-id="b3357-230">Post a Script Request on [Script Center](https://azure.microsoft.com/documentation/scripts/) if you are looking for an Azure Automation runbook solution or an integration module.</span></span>
* <span data-ttu-id="b3357-231">Zveřejnit připomínkám nebo funkcím požadavky pro Azure Automation na [User Voice](https://feedback.azure.com/forums/34192--general-feedback).</span><span class="sxs-lookup"><span data-stu-id="b3357-231">Post feedback or feature requests for Azure Automation on [User Voice](https://feedback.azure.com/forums/34192--general-feedback).</span></span>
