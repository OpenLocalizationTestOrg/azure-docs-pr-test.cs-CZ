---
title: "Runbook výstup a zprávy v Azure Automation | Microsoft Docs"
description: "Popisuje postup vytvoření a načtení výstupní zařízení a chybové zprávy ze sady runbook ve službě Azure Automation."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: 13a414f5-0e2c-4be2-9558-a3e3ec84b6b2
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 11/11/2016
ms.author: magoedte;bwren
ms.openlocfilehash: 6f01f97e38aa271034741c8a5e2f8057ab61fcd7
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="runbook-output-and-messages-in-azure-automation"></a><span data-ttu-id="9dc53-103">Výstup a zprávy ve službě Azure Automation Runbooku</span><span class="sxs-lookup"><span data-stu-id="9dc53-103">Runbook output and messages in Azure Automation</span></span>
<span data-ttu-id="9dc53-104">Většina runbooků služeb automatizace Azure budou mít určitou formu výstupu, jako je chybová zpráva pro uživatele nebo složitý objekt určené pro jiný pracovní postup.</span><span class="sxs-lookup"><span data-stu-id="9dc53-104">Most Azure Automation runbooks will have some form of output such as an error message to the user or a complex object intended to be consumed by another workflow.</span></span> <span data-ttu-id="9dc53-105">Prostředí Windows PowerShell poskytuje [víc datových proudů](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) pro odeslání výstupu z skript nebo pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-105">Windows PowerShell provides [multiple streams](http://blogs.technet.com/heyscriptingguy/archive/2014/03/30/understanding-streams-redirection-and-write-host-in-powershell.aspx) to send output from a script or workflow.</span></span> <span data-ttu-id="9dc53-106">Služby Azure Automation funguje s každou z těchto datových proudů jinak a postupujte podle osvědčené postupy pro jejich používání při vytváření sady runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-106">Azure Automation works with each of these streams differently, and you should follow best practices for how to use each when you are creating a runbook.</span></span>

<span data-ttu-id="9dc53-107">Následující tabulka obsahuje stručný popis jednotlivých datových proudů a jejich chování v portálu pro správu Azure, jak při spuštění publikovaného runbooku a při [testování runbooku](automation-testing-runbook.md).</span><span class="sxs-lookup"><span data-stu-id="9dc53-107">The following table provides a brief description of each of the streams and their behavior in the Azure Management Portal both when running a published runbook and when [testing a runbook](automation-testing-runbook.md).</span></span> <span data-ttu-id="9dc53-108">Další podrobnosti o jednotlivých datových proudech jsou uvedeny v následujících částech.</span><span class="sxs-lookup"><span data-stu-id="9dc53-108">Further details on each stream are provided in subsequent sections.</span></span>

| <span data-ttu-id="9dc53-109">Datový proud</span><span class="sxs-lookup"><span data-stu-id="9dc53-109">Stream</span></span> | <span data-ttu-id="9dc53-110">Popis</span><span class="sxs-lookup"><span data-stu-id="9dc53-110">Description</span></span> | <span data-ttu-id="9dc53-111">Publikováno</span><span class="sxs-lookup"><span data-stu-id="9dc53-111">Published</span></span> | <span data-ttu-id="9dc53-112">Test</span><span class="sxs-lookup"><span data-stu-id="9dc53-112">Test</span></span> |
|:--- |:--- |:--- |:--- |
| <span data-ttu-id="9dc53-113">Výstup</span><span class="sxs-lookup"><span data-stu-id="9dc53-113">Output</span></span> |<span data-ttu-id="9dc53-114">Objekty, které mají zpracovávat jiné runbooky.</span><span class="sxs-lookup"><span data-stu-id="9dc53-114">Objects intended to be consumed by other runbooks.</span></span> |<span data-ttu-id="9dc53-115">Zapíšou se do historie úlohy.</span><span class="sxs-lookup"><span data-stu-id="9dc53-115">Written to the job history.</span></span> |<span data-ttu-id="9dc53-116">Zobrazí v podokně výstup testu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-116">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="9dc53-117">Upozornění</span><span class="sxs-lookup"><span data-stu-id="9dc53-117">Warning</span></span> |<span data-ttu-id="9dc53-118">Upozornění určené pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="9dc53-118">Warning message intended for the user.</span></span> |<span data-ttu-id="9dc53-119">Zapíšou se do historie úlohy.</span><span class="sxs-lookup"><span data-stu-id="9dc53-119">Written to the job history.</span></span> |<span data-ttu-id="9dc53-120">Zobrazí v podokně výstup testu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-120">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="9dc53-121">Chyba</span><span class="sxs-lookup"><span data-stu-id="9dc53-121">Error</span></span> |<span data-ttu-id="9dc53-122">Chybová zpráva určená pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="9dc53-122">Error message intended for the user.</span></span> <span data-ttu-id="9dc53-123">Na rozdíl od výjimky runbook pokračuje po chybovou zprávu ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="9dc53-123">Unlike an exception, the runbook continues after an error message by default.</span></span> |<span data-ttu-id="9dc53-124">Zapíšou se do historie úlohy.</span><span class="sxs-lookup"><span data-stu-id="9dc53-124">Written to the job history.</span></span> |<span data-ttu-id="9dc53-125">Zobrazí v podokně výstup testu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-125">Displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="9dc53-126">Verbose</span><span class="sxs-lookup"><span data-stu-id="9dc53-126">Verbose</span></span> |<span data-ttu-id="9dc53-127">Zprávy, které poskytují informace o obecných nebo ladění.</span><span class="sxs-lookup"><span data-stu-id="9dc53-127">Messages providing general or debugging information.</span></span> |<span data-ttu-id="9dc53-128">Zapíšou se do historie úlohy, jenom v případě, že je pro runbook vypnuté podrobné protokolování.</span><span class="sxs-lookup"><span data-stu-id="9dc53-128">Written to job history only if verbose logging is turned on for the runbook.</span></span> |<span data-ttu-id="9dc53-129">Zobrazí v podokně výstup testu, jen pokud $VerbosePreference je nastavena na pokračovat v sadě runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-129">Displayed in the Test Output pane only if $VerbosePreference is set to Continue in the runbook.</span></span> |
| <span data-ttu-id="9dc53-130">Průběh</span><span class="sxs-lookup"><span data-stu-id="9dc53-130">Progress</span></span> |<span data-ttu-id="9dc53-131">Záznamy automaticky generované před a po každé aktivitě v sadě runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-131">Records automatically generated before and after each activity in the runbook.</span></span> <span data-ttu-id="9dc53-132">Runbook se neměli pokoušet vytvořit vlastní záznamy průběhu, protože ty jsou určené pro interaktivního uživatele.</span><span class="sxs-lookup"><span data-stu-id="9dc53-132">The runbook should not attempt to create its own progress records since they are intended for an interactive user.</span></span> |<span data-ttu-id="9dc53-133">Zapíšou se do historie úlohy, jenom v případě, že je pro runbook vypnuté protokolování průběhu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-133">Written to job history only if progress logging is turned on for the runbook.</span></span> |<span data-ttu-id="9dc53-134">Nezobrazuje se v podokně výstup testu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-134">Not displayed in the Test Output Pane.</span></span> |
| <span data-ttu-id="9dc53-135">Ladění</span><span class="sxs-lookup"><span data-stu-id="9dc53-135">Debug</span></span> |<span data-ttu-id="9dc53-136">Zprávy určené pro interaktivního uživatele.</span><span class="sxs-lookup"><span data-stu-id="9dc53-136">Messages intended for an interactive user.</span></span> <span data-ttu-id="9dc53-137">Nesmí se používat v runboocích.</span><span class="sxs-lookup"><span data-stu-id="9dc53-137">Should not be used in runbooks.</span></span> |<span data-ttu-id="9dc53-138">Nezapíše se do historie úlohy.</span><span class="sxs-lookup"><span data-stu-id="9dc53-138">Not written to job history.</span></span> |<span data-ttu-id="9dc53-139">Nezapíše se do podokna výstup testu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-139">Not written to Test Output Pane.</span></span> |

## <a name="output-stream"></a><span data-ttu-id="9dc53-140">Výstupní datový proud</span><span class="sxs-lookup"><span data-stu-id="9dc53-140">Output stream</span></span>
<span data-ttu-id="9dc53-141">Výstupní datový proud je určený pro výstup objektů vytvořených skript nebo pracovního postupu při správném spuštění.</span><span class="sxs-lookup"><span data-stu-id="9dc53-141">The Output stream is intended for output of objects created by a script or workflow when it runs correctly.</span></span> <span data-ttu-id="9dc53-142">Ve službě Azure Automation, tento datový proud používá primárně u objektů, které mají být využívány službou [nadřazené sady runbook, které volají aktuální runbook](automation-child-runbooks.md).</span><span class="sxs-lookup"><span data-stu-id="9dc53-142">In Azure Automation, this stream is primarily used for objects intended to be consumed by [parent runbooks that call the current runbook](automation-child-runbooks.md).</span></span> <span data-ttu-id="9dc53-143">Pokud jste [voláte přiřazený runbook](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) z nadřízeného runbooku, vrátí data z výstupního datového proudu do nadřazené.</span><span class="sxs-lookup"><span data-stu-id="9dc53-143">When you [call a runbook inline](automation-child-runbooks.md#invoking-a-child-runbook-using-inline-execution) from a parent runbook, it returns data from the output stream to the parent.</span></span> <span data-ttu-id="9dc53-144">Výstupní datový proud byste měli používat jenom ke sdělování informací uživateli, pokud víte, že runbook nebude nikdy volat žádný jiný runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-144">You should only use the output stream to communicate general information back to the user if you know the runbook will never be called by another runbook.</span></span> <span data-ttu-id="9dc53-145">Jako osvědčený postup, ale by měl obvykle použijete [podrobný datový proud](#Verbose) ke sdělování informací uživateli.</span><span class="sxs-lookup"><span data-stu-id="9dc53-145">As a best practice, however, you should typically use the [Verbose Stream](#Verbose) to communicate general information to the user.</span></span>

<span data-ttu-id="9dc53-146">Můžete zapsat data do výstupního datového proudu pomocí [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) nebo vložením objektu na vlastním řádku v sadě runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-146">You can write data to the output stream using [Write-Output](http://technet.microsoft.com/library/hh849921.aspx) or by putting the object on its own line in the runbook.</span></span>

    #The following lines both write an object to the output stream.
    Write-Output –InputObject $object
    $object

### <a name="output-from-a-function"></a><span data-ttu-id="9dc53-147">Výstup z funkce</span><span class="sxs-lookup"><span data-stu-id="9dc53-147">Output from a function</span></span>
<span data-ttu-id="9dc53-148">Při zápisu do výstupního datového proudu ve funkci, která je zahrnutá ve vašem runbooku, výstup se předá zpět do runbooku.</span><span class="sxs-lookup"><span data-stu-id="9dc53-148">When you write to the output stream in a function that is included in your runbook, the output is passed back to the runbook.</span></span> <span data-ttu-id="9dc53-149">Pokud runbook přidá tento výstup do proměnné, nezapíše se do výstupního datového proudu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-149">If the runbook assigns that output to a variable, then it is not written to the output stream.</span></span> <span data-ttu-id="9dc53-150">Zápis do jiných datových proudů z této funkci bude zapisovat do odpovídajícího datového proudu pro runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-150">Writing to any other streams from within the function will write to the corresponding stream for the runbook.</span></span>

<span data-ttu-id="9dc53-151">Vezměte v úvahu následující vzorový runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-151">Consider the following sample runbook.</span></span>

    Workflow Test-Runbook
    {
        Write-Verbose "Verbose outside of function" -Verbose
        Write-Output "Output outside of function"
        $functionOutput = Test-Function
        $functionOutput

    Function Test-Function
     {
        Write-Verbose "Verbose inside of function" -Verbose
        Write-Output "Output inside of function"
      }
    }


<span data-ttu-id="9dc53-152">Výstupní datový proud pro runbook by byl:</span><span class="sxs-lookup"><span data-stu-id="9dc53-152">The output stream for the runbook job would be:</span></span>

    Output inside of function
    Output outside of function

<span data-ttu-id="9dc53-153">Podrobný datový proud pro runbook by byl:</span><span class="sxs-lookup"><span data-stu-id="9dc53-153">The verbose stream for the runbook job would be:</span></span>

    Verbose outside of function
    Verbose inside of function

<span data-ttu-id="9dc53-154">Po publikování sady runbook a než ho začnete, je nutné také zapnout podrobné protokolování v nastavení sady runbook, aby bylo možné získat výstup podrobný datový proud.</span><span class="sxs-lookup"><span data-stu-id="9dc53-154">Once you have published the runbook and before you start it, you must also turn on Verbose logging in the runbook settings in order to get the Verbose stream output.</span></span>

### <a name="declaring-output-data-type"></a><span data-ttu-id="9dc53-155">Deklarující výstupní datový typ</span><span class="sxs-lookup"><span data-stu-id="9dc53-155">Declaring output data type</span></span>
<span data-ttu-id="9dc53-156">Pracovní postup může určovat datový typ svého výstupu pomocí [atributu OutputType](http://technet.microsoft.com/library/hh847785.aspx).</span><span class="sxs-lookup"><span data-stu-id="9dc53-156">A workflow can specify the data type of its output using the [OutputType attribute](http://technet.microsoft.com/library/hh847785.aspx).</span></span> <span data-ttu-id="9dc53-157">Tento atribut nemá žádný vliv za běhu, ale indikuje autorovi runbooku v době návrhu očekávaný výstup runbooku.</span><span class="sxs-lookup"><span data-stu-id="9dc53-157">This attribute has no effect during runtime, but it provides an indication to the runbook author at design time of the expected output of the runbook.</span></span> <span data-ttu-id="9dc53-158">Jak je sada nástrojů pro runbooky stále vyvíjí, zvýší se význam deklarování výstupních datových typů v době návrhu se.</span><span class="sxs-lookup"><span data-stu-id="9dc53-158">As the toolset for runbooks continues to evolve, the importance of declaring output data types at design time will increase in importance.</span></span> <span data-ttu-id="9dc53-159">V důsledku toho je nejlepší zahrnout tuto deklaraci v jakékoli sady runbook, který vytvoříte.</span><span class="sxs-lookup"><span data-stu-id="9dc53-159">As a result, it is a best practice to include this declaration in any runbooks that you create.</span></span>

<span data-ttu-id="9dc53-160">Tady je seznam příklad výstupu typy:</span><span class="sxs-lookup"><span data-stu-id="9dc53-160">Here is a list of example output types:</span></span>

* <span data-ttu-id="9dc53-161">System.String</span><span class="sxs-lookup"><span data-stu-id="9dc53-161">System.String</span></span>
* <span data-ttu-id="9dc53-162">System.Int32</span><span class="sxs-lookup"><span data-stu-id="9dc53-162">System.Int32</span></span>
* <span data-ttu-id="9dc53-163">System.Collections.Hashtable</span><span class="sxs-lookup"><span data-stu-id="9dc53-163">System.Collections.Hashtable</span></span>
* <span data-ttu-id="9dc53-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span><span class="sxs-lookup"><span data-stu-id="9dc53-164">Microsoft.Azure.Commands.Compute.Models.PSVirtualMachine</span></span>

<span data-ttu-id="9dc53-165">Následující vzorový runbook výstup objektu řetězce a zahrnuje deklaraci jeho typu výstupu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-165">The following sample runbook outputs a string object and includes a declaration of its output type.</span></span> <span data-ttu-id="9dc53-166">Pokud runbook jako výstup pole určitého typu, byste měli stále zadat typ a pole typu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-166">If your runbook outputs an array of a certain type, then you should still specify the type as opposed to an array of the type.</span></span>

    Workflow Test-Runbook
    {
       [OutputType([string])]

       $output = "This is some string output."
       Write-Output $output
    }

<span data-ttu-id="9dc53-167">Chcete-li deklarovat výstupní typ v sadách runbook Grapical nebo pracovního postupu grafické prostředí PowerShell, můžete vybrat **vstup a výstup** nabídky možnost a zadejte název typu výstupu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-167">To declare an output type in Grapical or Graphical PowerShell Workflow runbooks, you can select the **Input and Output** menu option and type in the name of the output type.</span></span>  <span data-ttu-id="9dc53-168">Doporučujeme, že aby bylo snadno identifikovat při odkazování z nadřízeného runbooku používáte úplný název třídy rozhraní .NET.</span><span class="sxs-lookup"><span data-stu-id="9dc53-168">We recommend you use the full .NET class name to make it easily identifiable when referencing it from a parent runbook.</span></span>  <span data-ttu-id="9dc53-169">Tím se zpřístupní všechny vlastnosti třídy do datové sběrnice v sadě runbook a poskytuje značnou flexibilitu při jejich používání pro podmíněnou logiku, protokolování a odkazování na jako hodnoty pro další aktivity v sadě runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-169">This exposes all the properties of that class to the data bus in the runbook and provides a lot of flexibility when using them for conditional logic, logging, and referencing as values for other activities in the runbook.</span></span><br> <span data-ttu-id="9dc53-170">![Možnost Runbook vstup a výstup](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span><span class="sxs-lookup"><span data-stu-id="9dc53-170">![Runbook Input and Output option](media/automation-runbook-output-and-messages/runbook-menu-input-and-output-option.png)</span></span>

<span data-ttu-id="9dc53-171">V následujícím příkladu máme dvě grafické runbooky k předvedení tuto funkci.</span><span class="sxs-lookup"><span data-stu-id="9dc53-171">In the following example, we have two graphical runbooks to demonstrate this feature.</span></span>  <span data-ttu-id="9dc53-172">Pokud jsme použít model návrhu modulární runbook, máme jedné sady runbook, která slouží jako *šablony sad Runbook ověřování* správu ověřování s Azure pomocí účtu spustit jako.</span><span class="sxs-lookup"><span data-stu-id="9dc53-172">If we apply the modular runbook design model, we have one runbook which serves as the *Authentication Runbook template* managing authentication with Azure using the Run As account.</span></span>  <span data-ttu-id="9dc53-173">Druhý runbook, která by za normálních okolností provést základní logika pro automatizaci v daném scénáři, v takovém případě se bude spuštěn *šablony sad Runbook ověřování* a zobrazit výsledky do vaší **Test** podokno výstup.</span><span class="sxs-lookup"><span data-stu-id="9dc53-173">Our second runbook, which would normally perform the core logic to automate a given scenario, in this case is going to execute the *Authentication Runbook template* and display the results to your **Test** output pane.</span></span>  <span data-ttu-id="9dc53-174">Za normálních okolností se nám tuto sadu runbook dělat něco proti prostředek využití výstup podřízeného runbooku.</span><span class="sxs-lookup"><span data-stu-id="9dc53-174">Under normal circumstances, we would have this runbook do something against a resource leveraging the output from the child runbook.</span></span>    

<span data-ttu-id="9dc53-175">Tady je základní logiku **AuthenticateTo Azure** sady runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-175">Here is the basic logic of the **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="9dc53-176">![Ověření šablony sad Runbook příklad](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span><span class="sxs-lookup"><span data-stu-id="9dc53-176">![Authenticate Runbook Template Example](media/automation-runbook-output-and-messages/runbook-authentication-template.png).</span></span>  

<span data-ttu-id="9dc53-177">Obsahuje výstupní typ *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*, který vrátí ověřování vlastnosti profilu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-177">It includes the output type *Microsoft.Azure.Commands.Profile.Models.PSAzureContext*, which will return the authentication profile properties.</span></span><br> <span data-ttu-id="9dc53-178">![Příklad výstupu Runbook typu](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span><span class="sxs-lookup"><span data-stu-id="9dc53-178">![Runbook Output Type Example](media/automation-runbook-output-and-messages/runbook-input-and-output-add-blade.png)</span></span> 

<span data-ttu-id="9dc53-179">Tato sada runbook je velmi přímým způsobem, není zde vyvolávající jednu položku konfigurace.</span><span class="sxs-lookup"><span data-stu-id="9dc53-179">While this runbook is very straight forward, there is one configuration item to call out here.</span></span>  <span data-ttu-id="9dc53-180">Poslední aktivita spouští **Write-Output** rutiny a zapisuje data profilu $_ proměnné pomocí prostředí PowerShell výrazu pro **Inputobject** parametr, který je vyžadován pro tuto rutinu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-180">The last activity is executing the **Write-Output** cmdlet and writes the profile data to a $_ variable using a PowerShell expression for the **Inputobject** parameter, which is required for that cmdlet.</span></span>  

<span data-ttu-id="9dc53-181">Druhý sady runbook v tomto příkladu, s názvem *Test ChildOutputType*, jednoduše máme dvě aktivity.</span><span class="sxs-lookup"><span data-stu-id="9dc53-181">For the second runbook in this example, named *Test-ChildOutputType*, we simply have two activities.</span></span><br> <span data-ttu-id="9dc53-182">![Příklad podřízených výstupní typ Runbooku](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span><span class="sxs-lookup"><span data-stu-id="9dc53-182">![Example Child Output Type Runbook](media/automation-runbook-output-and-messages/runbook-display-authentication-results-example.png)</span></span> 

<span data-ttu-id="9dc53-183">První volání aktivity **AuthenticateTo Azure** runbook a druhá aktivita běží **Write-Verbose** rutiny s **zdroj dat** z **výstup aktivity** a hodnota **cesta pole** je **Context.Subscription.SubscriptionName**, což je určení kontextu výstup z **AuthenticateTo Azure** sady runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-183">The first activity calls the **AuthenticateTo-Azure** runbook and the second activity is running the **Write-Verbose** cmdlet with the **Data source** of **Activity output** and the value for **Field path** is **Context.Subscription.SubscriptionName**, which is specifying the context output from the **AuthenticateTo-Azure** runbook.</span></span><br> <span data-ttu-id="9dc53-184">![Rutiny Write-Verbose parametr zdroje dat](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span><span class="sxs-lookup"><span data-stu-id="9dc53-184">![Write-Verbose cmdlet Parameter Data Source](media/automation-runbook-output-and-messages/runbook-write-verbose-parameters-config.png)</span></span>    

<span data-ttu-id="9dc53-185">Výsledný výstup je název odběru.</span><span class="sxs-lookup"><span data-stu-id="9dc53-185">The resulting output is the name of the subscription.</span></span><br> ![Výsledky testu ChildOutputType sady Runbook](media/automation-runbook-output-and-messages/runbook-test-childoutputtype-results.png)

<span data-ttu-id="9dc53-187">Jeden Poznámka o chování ovládacího prvku typu výstupu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-187">One note about the behavior of the Output Type control.</span></span>  <span data-ttu-id="9dc53-188">Když zadáte hodnotu v poli typu výstupu v okně vlastností vstup a výstup, budete muset klikněte na tlačítko mimo ovládací prvek po, zadejte v pořadí pro zadání rozpoznala ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="9dc53-188">When you type a value in the Output Type field on the Input and Output properties blade, you have to click outside of the control  after you type it, in order for your entry to be recognized by the control.</span></span>  

## <a name="message-streams"></a><span data-ttu-id="9dc53-189">Datové proudy zprávy</span><span class="sxs-lookup"><span data-stu-id="9dc53-189">Message streams</span></span>
<span data-ttu-id="9dc53-190">Na rozdíl od do výstupního datového proudu jsou datové proudy zprávy určené ke sdělování informací uživateli.</span><span class="sxs-lookup"><span data-stu-id="9dc53-190">Unlike the output stream, message streams are intended to communicate information to the user.</span></span> <span data-ttu-id="9dc53-191">Existují různé datové proudy zpráv pro různé typy informací a každý jinak zpracovávaných Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="9dc53-191">There are multiple message streams for different kinds of information, and each is handled differently by Azure Automation.</span></span>

### <a name="warning-and-error-streams"></a><span data-ttu-id="9dc53-192">Datové proudy upozornění a chyb</span><span class="sxs-lookup"><span data-stu-id="9dc53-192">Warning and error streams</span></span>
<span data-ttu-id="9dc53-193">Datové proudy upozornění a chyb jsou určené k protokolování problémů, ke kterým došlo v sadě runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-193">The Warning and Error streams are intended to log problems that occur in a runbook.</span></span> <span data-ttu-id="9dc53-194">Když runbook se spustí a jsou zahrnuty v podokně výstup testu na portálu správy Azure při testování sady runbook jsou zapsané do historie úlohy.</span><span class="sxs-lookup"><span data-stu-id="9dc53-194">They are written to the job history when a runbook is executed, and are included in the Test Output Pane in the Azure Management Portal when a runbook is tested.</span></span> <span data-ttu-id="9dc53-195">Ve výchozím nastavení bude sada runbook pokračovat v provádění po upozornění a chyby.</span><span class="sxs-lookup"><span data-stu-id="9dc53-195">By default, the runbook will continue executing after a warning or error.</span></span> <span data-ttu-id="9dc53-196">Můžete určit, že sada runbook by měla být pozastavena na upozornění nebo chyby [preferenční proměnné](#PreferenceVariables) v runbooku před vytvořením zprávy.</span><span class="sxs-lookup"><span data-stu-id="9dc53-196">You can specify that the runbook should be suspended on a warning or error by setting a [preference variable](#PreferenceVariables) in the runbook before creating the message.</span></span> <span data-ttu-id="9dc53-197">Například, aby se runbook pozastavil při chybě stejně jako v výjimku, nastavte **$ErrorActionPreference** k zastavení.</span><span class="sxs-lookup"><span data-stu-id="9dc53-197">For example, to cause a runbook to suspend on an error as it would an exception, set **$ErrorActionPreference** to Stop.</span></span>

<span data-ttu-id="9dc53-198">Vytvořte upozornění nebo chybovou zprávu pomocí [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) nebo [Write-Error](http://technet.microsoft.com/library/hh849962.aspx) rutiny.</span><span class="sxs-lookup"><span data-stu-id="9dc53-198">Create a warning or error message using the [Write-Warning](https://technet.microsoft.com/library/hh849931.aspx) or [Write-Error](http://technet.microsoft.com/library/hh849962.aspx) cmdlet.</span></span> <span data-ttu-id="9dc53-199">Do těchto datových proudů můžou zapisovat taky aktivity.</span><span class="sxs-lookup"><span data-stu-id="9dc53-199">Activities may also write to these streams.</span></span>

    #The following lines create a warning message and then an error message that will suspend the runbook.

    $ErrorActionPreference = "Stop"
    Write-Warning –Message "This is a warning message."
    Write-Error –Message "This is an error message that will stop the runbook because of the preference variable."

### <a name="verbose-stream"></a><span data-ttu-id="9dc53-200">Podrobný datový proud</span><span class="sxs-lookup"><span data-stu-id="9dc53-200">Verbose stream</span></span>
<span data-ttu-id="9dc53-201">Datový proud podrobnou zprávu je obecné informace o činnosti runbooku.</span><span class="sxs-lookup"><span data-stu-id="9dc53-201">The Verbose message stream is for general information about the runbook operation.</span></span> <span data-ttu-id="9dc53-202">Vzhledem k tomu [datový proud ladění](#Debug) není k dispozici v sadě runbook, podrobné zprávy se mají použít pro informace o ladění.</span><span class="sxs-lookup"><span data-stu-id="9dc53-202">Since the [Debug Stream](#Debug) is not available in a runbook, verbose messages should be used for debug information.</span></span> <span data-ttu-id="9dc53-203">Ve výchozím nastavení, podrobné zprávy z publikovaných runbooků se neuloží do historie úlohy.</span><span class="sxs-lookup"><span data-stu-id="9dc53-203">By default, verbose messages from published runbooks will not be stored in the job history.</span></span> <span data-ttu-id="9dc53-204">Pokud chcete tyto zprávy uložit, nakonfigurujte publikované runbooky na protokolovat podrobné záznamy na kartě Konfigurace sady runbook na portálu správy Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc53-204">To store verbose messages, configure published runbooks to Log Verbose Records on the Configure tab of the runbook in the Azure Management Portal.</span></span> <span data-ttu-id="9dc53-205">Ve většině případů byste měli mít ve výchozím nastavení není protokolování podrobných záznamů pro runbook z důvodů výkonu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-205">In most cases, you should keep the default setting of not logging verbose records for a runbook for performance reasons.</span></span> <span data-ttu-id="9dc53-206">Zapněte tato možnost jenom pro vyřešení problémů nebo ladění runbooku.</span><span class="sxs-lookup"><span data-stu-id="9dc53-206">Turn on this option only to troubleshoot or debug a runbook.</span></span>

<span data-ttu-id="9dc53-207">Když [testování runbooku](automation-testing-runbook.md), podrobné zprávy nezobrazují, i když je runbook nakonfigurovaný na protokolování podrobných záznamů.</span><span class="sxs-lookup"><span data-stu-id="9dc53-207">When [testing a runbook](automation-testing-runbook.md), verbose messages are not displayed even if the runbook is configured to log verbose records.</span></span> <span data-ttu-id="9dc53-208">Chcete-li zobrazit podrobné zprávy při [testování runbooku](automation-testing-runbook.md), je nutné nastavit proměnnou $VerbosePreference na pokračovat.</span><span class="sxs-lookup"><span data-stu-id="9dc53-208">To display verbose messages while [testing a runbook](automation-testing-runbook.md), you must set the $VerbosePreference variable to Continue.</span></span> <span data-ttu-id="9dc53-209">Pomocí tohoto nastavení proměnné podrobné zprávy zobrazí v podokně výstup testu na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="9dc53-209">With that variable set, verbose messages will be displayed in the Test Output Pane of the Azure portal.</span></span>

<span data-ttu-id="9dc53-210">Vytvoření podrobné zprávy použijte [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) rutiny.</span><span class="sxs-lookup"><span data-stu-id="9dc53-210">Create a verbose message using the [Write-Verbose](http://technet.microsoft.com/library/hh849951.aspx) cmdlet.</span></span>

    #The following line creates a verbose message.

    Write-Verbose –Message "This is a verbose message."

### <a name="debug-stream"></a><span data-ttu-id="9dc53-211">Datový proud ladění</span><span class="sxs-lookup"><span data-stu-id="9dc53-211">Debug stream</span></span>
<span data-ttu-id="9dc53-212">Datový proud ladění je určený pro použití s interaktivním uživatelem a nesmí se používat v runboocích.</span><span class="sxs-lookup"><span data-stu-id="9dc53-212">The Debug stream is intended for use with an interactive user and should not be used in runbooks.</span></span>

## <a name="progress-records"></a><span data-ttu-id="9dc53-213">Záznamů o průběhu</span><span class="sxs-lookup"><span data-stu-id="9dc53-213">Progress records</span></span>
<span data-ttu-id="9dc53-214">Pokud nakonfigurujete sady runbook do protokolu průběh zaznamenává (na kartě Konfigurace sady runbook na portálu Azure) a záznam budou zapisovat do historie úlohy před a po spuštění každé aktivity.</span><span class="sxs-lookup"><span data-stu-id="9dc53-214">If you configure a runbook to log progress records (on the Configure tab of the runbook in the Azure portal), then a record will be written to the job history before and after each activity is run.</span></span> <span data-ttu-id="9dc53-215">Ve většině případů byste měli mít ve výchozím nastavení není protokolování záznamů o průběhu pro sady runbook, aby maximalizovat výkon.</span><span class="sxs-lookup"><span data-stu-id="9dc53-215">In most cases, you should keep the default setting of not logging progress records for a runbook in order to maximize performance.</span></span> <span data-ttu-id="9dc53-216">Zapněte tato možnost jenom pro vyřešení problémů nebo ladění runbooku.</span><span class="sxs-lookup"><span data-stu-id="9dc53-216">Turn on this option only to troubleshoot or debug a runbook.</span></span> <span data-ttu-id="9dc53-217">Při testování runbooku se zprávy o průběhu nezobrazují, i když je runbook nakonfigurovaný na protokolování záznamů o průběhu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-217">When testing a runbook, progress messages are not displayed even if the runbook is configured to log progress records.</span></span>

<span data-ttu-id="9dc53-218">[Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) rutiny není platný v sadě runbook, protože je určená pro použití s interaktivním uživatelem.</span><span class="sxs-lookup"><span data-stu-id="9dc53-218">The [Write-Progress](http://technet.microsoft.com/library/hh849902.aspx) cmdlet is not valid in a runbook, since this is intended for use with an interactive user.</span></span>

## <a name="preference-variables"></a><span data-ttu-id="9dc53-219">Proměnné předvoleb</span><span class="sxs-lookup"><span data-stu-id="9dc53-219">Preference variables</span></span>
<span data-ttu-id="9dc53-220">Prostředí Windows PowerShell používá [proměnné předvoleb](http://technet.microsoft.com/library/hh847796.aspx) určit, jak reagovat na data odeslaná do různých výstupních datových proudů.</span><span class="sxs-lookup"><span data-stu-id="9dc53-220">Windows PowerShell uses [preference variables](http://technet.microsoft.com/library/hh847796.aspx) to determine how to respond to data sent to different output streams.</span></span> <span data-ttu-id="9dc53-221">Tyto proměnné můžete nastavit v sadě runbook řídit, jak bude reagovat na data zasílaná do různých datových proudů.</span><span class="sxs-lookup"><span data-stu-id="9dc53-221">You can set these variables in a runbook to control how it will respond to data sent into different streams.</span></span>

<span data-ttu-id="9dc53-222">Následující tabulka obsahuje seznam proměnných předvoleb, které mohou být používány sady runbook s platnými a výchozími hodnotami.</span><span class="sxs-lookup"><span data-stu-id="9dc53-222">The following table lists the preference variables that can be used in runbooks with their valid and default values.</span></span> <span data-ttu-id="9dc53-223">Všimněte si, že tato tabulka obsahuje jenom hodnoty, které jsou platné v runbooku.</span><span class="sxs-lookup"><span data-stu-id="9dc53-223">Note that this table only includes the values that are valid in a runbook.</span></span> <span data-ttu-id="9dc53-224">Další hodnoty jsou platné pro proměnné předvoleb při použití v prostředí Windows PowerShell mimo Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="9dc53-224">Additional values are valid for the preference variables when used in Windows PowerShell outside of Azure Automation.</span></span>

| <span data-ttu-id="9dc53-225">Proměnná</span><span class="sxs-lookup"><span data-stu-id="9dc53-225">Variable</span></span> | <span data-ttu-id="9dc53-226">Výchozí hodnota</span><span class="sxs-lookup"><span data-stu-id="9dc53-226">Default Value</span></span> | <span data-ttu-id="9dc53-227">Platné hodnoty</span><span class="sxs-lookup"><span data-stu-id="9dc53-227">Valid Values</span></span> |
|:--- |:--- |:--- |
| <span data-ttu-id="9dc53-228">WarningPreference</span><span class="sxs-lookup"><span data-stu-id="9dc53-228">WarningPreference</span></span> |<span data-ttu-id="9dc53-229">Pokračovat</span><span class="sxs-lookup"><span data-stu-id="9dc53-229">Continue</span></span> |<span data-ttu-id="9dc53-230">Zastavit</span><span class="sxs-lookup"><span data-stu-id="9dc53-230">Stop</span></span><br><span data-ttu-id="9dc53-231">Pokračovat</span><span class="sxs-lookup"><span data-stu-id="9dc53-231">Continue</span></span><br><span data-ttu-id="9dc53-232">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="9dc53-232">SilentlyContinue</span></span> |
| <span data-ttu-id="9dc53-233">ErrorActionPreference</span><span class="sxs-lookup"><span data-stu-id="9dc53-233">ErrorActionPreference</span></span> |<span data-ttu-id="9dc53-234">Pokračovat</span><span class="sxs-lookup"><span data-stu-id="9dc53-234">Continue</span></span> |<span data-ttu-id="9dc53-235">Zastavit</span><span class="sxs-lookup"><span data-stu-id="9dc53-235">Stop</span></span><br><span data-ttu-id="9dc53-236">Pokračovat</span><span class="sxs-lookup"><span data-stu-id="9dc53-236">Continue</span></span><br><span data-ttu-id="9dc53-237">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="9dc53-237">SilentlyContinue</span></span> |
| <span data-ttu-id="9dc53-238">VerbosePreference</span><span class="sxs-lookup"><span data-stu-id="9dc53-238">VerbosePreference</span></span> |<span data-ttu-id="9dc53-239">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="9dc53-239">SilentlyContinue</span></span> |<span data-ttu-id="9dc53-240">Zastavit</span><span class="sxs-lookup"><span data-stu-id="9dc53-240">Stop</span></span><br><span data-ttu-id="9dc53-241">Pokračovat</span><span class="sxs-lookup"><span data-stu-id="9dc53-241">Continue</span></span><br><span data-ttu-id="9dc53-242">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="9dc53-242">SilentlyContinue</span></span> |

<span data-ttu-id="9dc53-243">Následující tabulka uvádí chování pro hodnoty proměnných předvoleb, které jsou platné v sadách runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-243">The following table lists the behavior for the preference variable values that are valid in runbooks.</span></span>

| <span data-ttu-id="9dc53-244">Hodnota</span><span class="sxs-lookup"><span data-stu-id="9dc53-244">Value</span></span> | <span data-ttu-id="9dc53-245">Chování</span><span class="sxs-lookup"><span data-stu-id="9dc53-245">Behavior</span></span> |
|:--- |:--- |
| <span data-ttu-id="9dc53-246">Pokračovat</span><span class="sxs-lookup"><span data-stu-id="9dc53-246">Continue</span></span> |<span data-ttu-id="9dc53-247">Zaprotokoluje zprávu a pokračuje v provádění runbooku.</span><span class="sxs-lookup"><span data-stu-id="9dc53-247">Logs the message and continues executing the runbook.</span></span> |
| <span data-ttu-id="9dc53-248">SilentlyContinue</span><span class="sxs-lookup"><span data-stu-id="9dc53-248">SilentlyContinue</span></span> |<span data-ttu-id="9dc53-249">Pokračuje v provádění runbooku bez protokolování zprávy.</span><span class="sxs-lookup"><span data-stu-id="9dc53-249">Continues executing the runbook without logging the message.</span></span> <span data-ttu-id="9dc53-250">Výsledkem je ignorování zprávy.</span><span class="sxs-lookup"><span data-stu-id="9dc53-250">This has the effect of ignoring the message.</span></span> |
| <span data-ttu-id="9dc53-251">Zastavit</span><span class="sxs-lookup"><span data-stu-id="9dc53-251">Stop</span></span> |<span data-ttu-id="9dc53-252">Zaprotokoluje zprávu a pozastaví runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-252">Logs the message and suspends the runbook.</span></span> |

## <a name="retrieving-runbook-output-and-messages"></a><span data-ttu-id="9dc53-253">Načítání výstup a zprávy runbooku</span><span class="sxs-lookup"><span data-stu-id="9dc53-253">Retrieving runbook output and messages</span></span>
### <a name="azure-portal"></a><span data-ttu-id="9dc53-254">portál Azure</span><span class="sxs-lookup"><span data-stu-id="9dc53-254">Azure portal</span></span>
<span data-ttu-id="9dc53-255">Podrobnosti úlohy runbooku můžete zobrazit na webu Azure portal na kartě úlohy sady runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-255">You can view the details of a runbook job in the Azure portal from the Jobs tab of a runbook.</span></span> <span data-ttu-id="9dc53-256">Souhrn úlohy budou zobrazovat vstupní parametry a [výstupního datového proudu](#Output) kromě obecné informace o úloze a případných výjimkách k nim došlo.</span><span class="sxs-lookup"><span data-stu-id="9dc53-256">The Summary of the job will display the input parameters and the [Output Stream](#Output) in addition to general information about the job and any exceptions if they occurred.</span></span> <span data-ttu-id="9dc53-257">Historie bude obsahovat zprávy z [výstupního datového proudu](#Output) a [upozornění a chyby datové proudy](#WarningError) kromě [podrobný datový proud](#Verbose) a [záznamů o průběhu](#Progress) Pokud je runbook nakonfigurovaný na protokolování podrobných záznamů a záznamů o průběhu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-257">The History will include messages from the [Output Stream](#Output) and [Warning and Error Streams](#WarningError) in addition to the [Verbose Stream](#Verbose) and [Progress Records](#Progress) if the runbook is configured to log verbose and progress records.</span></span>

### <a name="windows-powershell"></a><span data-ttu-id="9dc53-258">Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="9dc53-258">Windows PowerShell</span></span>
<span data-ttu-id="9dc53-259">V prostředí Windows PowerShell můžete načítat výstup a zprávy z runbooku pomocí [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) rutiny.</span><span class="sxs-lookup"><span data-stu-id="9dc53-259">In Windows PowerShell, you can retrieve output and messages from a runbook using the [Get-AzureAutomationJobOutput](https://msdn.microsoft.com/library/mt603476.aspx) cmdlet.</span></span> <span data-ttu-id="9dc53-260">Tato rutina vyžaduje ID úlohy a má parametr nazvaný datového proudu, kde můžete určit, který datový proud se vrátit.</span><span class="sxs-lookup"><span data-stu-id="9dc53-260">This cmdlet requires the ID of the job and has a parameter called Stream where you specify which stream to return.</span></span> <span data-ttu-id="9dc53-261">Můžete zadat jakýkoli vrátit všechny datové proudy úlohy.</span><span class="sxs-lookup"><span data-stu-id="9dc53-261">You can specify Any to return all streams for the job.</span></span>

<span data-ttu-id="9dc53-262">Následující příklad spouští vzorový runbook a potom počká, než na její dokončení.</span><span class="sxs-lookup"><span data-stu-id="9dc53-262">The following example starts a sample runbook and then waits for it to complete.</span></span> <span data-ttu-id="9dc53-263">Po dokončení je jeho výstupní datový proud shromáždí z úlohy.</span><span class="sxs-lookup"><span data-stu-id="9dc53-263">Once completed, its output stream is collected from the job.</span></span>

    $job = Start-AzureRmAutomationRunbook -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" –Name "Test-Runbook"

    $doLoop = $true
    While ($doLoop) {
       $job = Get-AzureRmAutomationJob -ResourceGroupName "ResourceGroup01" `
       –AutomationAccountName "MyAutomationAccount" -Id $job.JobId
       $status = $job.Status
       $doLoop = (($status -ne "Completed") -and ($status -ne "Failed") -and ($status -ne "Suspended") -and ($status -ne "Stopped")
    }

    Get-AzureRmAutomationJobOutput -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAccount" -Id $job.JobId –Stream Output

### <a name="graphical-authoring"></a><span data-ttu-id="9dc53-264">Vytváření grafického obsahu</span><span class="sxs-lookup"><span data-stu-id="9dc53-264">Graphical Authoring</span></span>
<span data-ttu-id="9dc53-265">Pro grafické runbooky velmi protokolování je k dispozici ve formě trasování na úrovni aktivity.</span><span class="sxs-lookup"><span data-stu-id="9dc53-265">For graphical runbooks, extra logging is available in the form of activity-level tracing.</span></span>  <span data-ttu-id="9dc53-266">Existují dvě úrovně trasování: Basic a podrobné.</span><span class="sxs-lookup"><span data-stu-id="9dc53-266">There are two levels of tracing: Basic and Detailed.</span></span>  <span data-ttu-id="9dc53-267">V základní trasování, uvidíte spuštění a čas ukončení každé aktivity v runbooku a informace týkající se žádné opakování aktivity, jako je počet pokusů o zadání a počáteční čas aktivity.</span><span class="sxs-lookup"><span data-stu-id="9dc53-267">In Basic tracing, you can see the start and end time of each activity in the runbook plus information related to any activity retries, such as number of attempts and start time of the activity.</span></span>  <span data-ttu-id="9dc53-268">V podrobného trasování získat plus základní trasování vstupní a výstupní data pro každou aktivitu.</span><span class="sxs-lookup"><span data-stu-id="9dc53-268">In Detailed tracing, you get Basic tracing plus input and output data for each activity.</span></span>  <span data-ttu-id="9dc53-269">Všimněte si, že aktuálně záznamy trasování jsou zapsány pomocí podrobný datový proud, je nutné povolit podrobné protokolování, pokud povolíte trasování.</span><span class="sxs-lookup"><span data-stu-id="9dc53-269">Note that currently the trace records are written using the verbose stream, so you must enable Verbose logging when you enable tracing.</span></span>  <span data-ttu-id="9dc53-270">Pro grafické runbooky s povolené trasování je potřeba protokolování záznamů o průběhu, protože základní trasování slouží ke stejnému účelu a je informativnější.</span><span class="sxs-lookup"><span data-stu-id="9dc53-270">For graphical runbooks with tracing enabled there is no need to log progress records, because the Basic tracing serves the same purpose and is more informative.</span></span>

![Grafické vytváření úlohy datové proudy zobrazení](media/automation-runbook-output-and-messages/job-streams-view-blade.png)

<span data-ttu-id="9dc53-272">Je vidět na výše uvedený snímek obrazovky, když povolíte podrobné protokolování a trasování pro grafické runbooky, mnohem víc informace jsou k dispozici v produkčním prostředí zobrazení datové proudy úlohy.</span><span class="sxs-lookup"><span data-stu-id="9dc53-272">You can see from the above screenshot that when you enable Verbose logging and tracing for Graphical runbooks, much more information is available in the production Job Streams view.</span></span>  <span data-ttu-id="9dc53-273">Tyto doplňující informace může být nezbytné pro řešení potíží s provozním problémům s sady runbook, a proto byste měli povolit pouze ho k tomuto účelu a ne jako obecně.</span><span class="sxs-lookup"><span data-stu-id="9dc53-273">This extra information can be essential for troubleshooting production problems with a runbook, and therefore you should only enable it for that purpose and not as a general practice.</span></span>    
<span data-ttu-id="9dc53-274">Záznamy trasování může být obzvláště množství.</span><span class="sxs-lookup"><span data-stu-id="9dc53-274">The Trace records can be especially numerous.</span></span>  <span data-ttu-id="9dc53-275">S grafický runbook trasování je můžete získat dva až čtyři záznamy na aktivitu v závislosti na tom, jestli jste nakonfigurovali základním nebo podrobném trasování.</span><span class="sxs-lookup"><span data-stu-id="9dc53-275">With Graphical runbook tracing you can get two to four records per activity depending on whether you have configured Basic or Detailed tracing.</span></span>  <span data-ttu-id="9dc53-276">Pokud budete potřebovat tyto informace, které chcete sledovat průběh sady runbook pro řešení potíží, můžete chtít zachovat trasování vypnutý.</span><span class="sxs-lookup"><span data-stu-id="9dc53-276">Unless you need this information to track the progress of a runbook for troubleshooting, you might want to keep Tracing turned off.</span></span>

<span data-ttu-id="9dc53-277">**Pokud chcete povolit trasování na úrovni aktivity, proveďte následující kroky.**</span><span class="sxs-lookup"><span data-stu-id="9dc53-277">**To enable activity-level tracing, perform the following steps.**</span></span>

1. <span data-ttu-id="9dc53-278">Na portálu Azure otevřete účet Automation.</span><span class="sxs-lookup"><span data-stu-id="9dc53-278">In the Azure Portal, open your Automation account.</span></span>
2. <span data-ttu-id="9dc53-279">Kliknutím na dlaždici **Runbooky** otevřete seznam runbooků.</span><span class="sxs-lookup"><span data-stu-id="9dc53-279">Click on the **Runbooks** tile to open the list of runbooks.</span></span>
3. <span data-ttu-id="9dc53-280">V okně sady Runbook klikněte na vybrat grafický runbook v seznamu sad runbook.</span><span class="sxs-lookup"><span data-stu-id="9dc53-280">On the Runbooks blade, click to select a graphical runbook from your list of runbooks.</span></span>
4. <span data-ttu-id="9dc53-281">V okně nastavení pro vybranou sadu runbook, klikněte na **protokolování a trasování**.</span><span class="sxs-lookup"><span data-stu-id="9dc53-281">On the Settings blade for the selected runbook, click **Logging and Tracing**.</span></span>
5. <span data-ttu-id="9dc53-282">V protokolování a trasování okno, v části protokolovat podrobné záznamy, klikněte na tlačítko **na** povolit podrobné protokolování a trasování udner úrovni aktivity, změňte úroveň trasování pro **základní** nebo **podrobné** založená na úrovni trasování požadavku.</span><span class="sxs-lookup"><span data-stu-id="9dc53-282">On the Logging and Tracing blade, under Log verbose records, click **On** to enable verbose logging and udner Activity-level tracing, change the trace level to **Basic** or **Detailed** based on the level of tracing you require.</span></span><br>
   
   ![Grafické vytváření protokolování a trasování okno](media/automation-runbook-output-and-messages/logging-and-tracing-settings-blade.png)

### <a name="microsoft-operations-management-suite-oms-log-analytics"></a><span data-ttu-id="9dc53-284">Microsoft Operations Management Suite (OMS) Log Analytics</span><span class="sxs-lookup"><span data-stu-id="9dc53-284">Microsoft Operations Management Suite (OMS) Log Analytics</span></span>
<span data-ttu-id="9dc53-285">Automatizace můžete odeslat runbook datové proudy úlohy stavu a úlohu do pracovního prostoru analýzy protokolů Microsoft Operations Management Suite (OMS).</span><span class="sxs-lookup"><span data-stu-id="9dc53-285">Automation can send runbook job status and job streams to your Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  <span data-ttu-id="9dc53-286">Pomocí analýzy protokolů je možné,</span><span class="sxs-lookup"><span data-stu-id="9dc53-286">With Log Analytics you can,</span></span>

* <span data-ttu-id="9dc53-287">Pohled na vaše úlohy automatizace</span><span class="sxs-lookup"><span data-stu-id="9dc53-287">Get insight on your Automation jobs</span></span> 
* <span data-ttu-id="9dc53-288">Aktivační událost e-mailem nebo výstrahy podle runbook stav úlohy (např. chybných nebo pozastavených)</span><span class="sxs-lookup"><span data-stu-id="9dc53-288">Trigger an email or alert based on your runbook job status (e.g. failed or suspended)</span></span> 
* <span data-ttu-id="9dc53-289">Zápis pokročilými dotazy napříč vaše datové proudy úlohy</span><span class="sxs-lookup"><span data-stu-id="9dc53-289">Write advanced queries across your job streams</span></span> 
* <span data-ttu-id="9dc53-290">Vazbu mezi úlohy v účtech Automation</span><span class="sxs-lookup"><span data-stu-id="9dc53-290">Correlate jobs across Automation accounts</span></span> 
* <span data-ttu-id="9dc53-291">Vizualizace historii úlohy v čase</span><span class="sxs-lookup"><span data-stu-id="9dc53-291">Visualize your job history over time</span></span>    

<span data-ttu-id="9dc53-292">Další informace o tom, jak nakonfigurovat integraci s analýzy protokolů ke shromažďování, korelaci a fungovat na data úlohy najdete v tématu [předávání zpráv o stavu úlohy a datové proudy úlohy z Automatizace analýzy protokolů (OMS)](automation-manage-send-joblogs-log-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="9dc53-292">For more information on how to configure integration with Log Analytics to collect, correlate and act on job data, see [Forward job status and job streams from Automation to Log Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="9dc53-293">Další kroky</span><span class="sxs-lookup"><span data-stu-id="9dc53-293">Next steps</span></span>
* <span data-ttu-id="9dc53-294">Další informace o spouštění runbooků, postupy při monitorování úloh runbooků a další technické podrobnosti najdete v článku [Sledování úlohy runbooku](automation-runbook-execution.md).</span><span class="sxs-lookup"><span data-stu-id="9dc53-294">To learn more about runbook execution, how to monitor runbook jobs, and other technical details, see [Track a runbook job](automation-runbook-execution.md)</span></span>
* <span data-ttu-id="9dc53-295">Chcete-li pochopit, jak k vytváření a používání podřízené runbooky, přečtěte si téma [podřízené runbooky ve službě Azure Automation](automation-child-runbooks.md)</span><span class="sxs-lookup"><span data-stu-id="9dc53-295">To understand how to design and use child runbooks, see [Child runbooks in Azure Automation](automation-child-runbooks.md)</span></span>

