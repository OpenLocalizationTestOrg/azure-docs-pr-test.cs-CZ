---
title: "provádění aaaRunbook ve službě Azure Automation | Microsoft Docs"
description: "Popisuje hello podrobnosti o způsobu zpracování sady runbook ve službě Azure Automation."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: d10c8ce2-2c0b-4ea7-ba3c-d20e09b2c9ca
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/17/2017
ms.author: bwren
ms.openlocfilehash: bdb535675443353d44640bc7773de3f9dac5e42c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="runbook-execution-in-azure-automation"></a><span data-ttu-id="7ccd1-103">Spuštění sady Runbook ve službě Azure Automation</span><span class="sxs-lookup"><span data-stu-id="7ccd1-103">Runbook execution in Azure Automation</span></span>
<span data-ttu-id="7ccd1-104">Při spuštění sady runbook ve službě Azure Automation se vytvoří úloha.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-104">When you start a runbook in Azure Automation, a job is created.</span></span> <span data-ttu-id="7ccd1-105">Úloha je instance jednoho spuštění sady runbook.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-105">A job is a single execution instance of a runbook.</span></span> <span data-ttu-id="7ccd1-106">Azure Automation pracovního procesu je přiřazen toorun Každá úloha.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-106">An Azure Automation worker is assigned toorun each job.</span></span> <span data-ttu-id="7ccd1-107">Když zaměstnanci jsou sdíleny více účtů Azure, úlohy z různých účtů Automation jsou izolované od sebe navzájem.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-107">While workers are shared by multiple Azure accounts, jobs from different Automation accounts are isolated from one another.</span></span> <span data-ttu-id="7ccd1-108">Nemáte kontrolu nad které žádost hello služby pracovního procesu pro úlohu.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-108">You do not have control over which worker services hello request for your job.</span></span>  <span data-ttu-id="7ccd1-109">Jedné sady runbook může mít několik úloh spuštěných současně.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-109">A single runbook can have multiple jobs running at one time.</span></span> <span data-ttu-id="7ccd1-110">Při zobrazení seznamu hello sad runbook hello portálu Azure, zobrazí se seznam hello stav všech úloh, které byly zahájeny pro každou sadu runbook.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-110">When you view hello list of runbooks in hello Azure portal, it lists hello status of all jobs that were started for each runbook.</span></span> <span data-ttu-id="7ccd1-111">Hello seznam úloh pro každou sadu runbook můžete zobrazit v pořadí tootrack hello stav každého z nich.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-111">You can view hello list of jobs for each runbook in order tootrack hello status of each.</span></span> <span data-ttu-id="7ccd1-112">Popis stavy hello různé úlohy najdete v tématu [stavy úlohy](#job-statuses).</span><span class="sxs-lookup"><span data-stu-id="7ccd1-112">For a description of hello different job statuses, see [Job Statuses](#job-statuses).</span></span>

<span data-ttu-id="7ccd1-113">Hello následující diagram znázorňuje hello životní cyklus úlohy sady runbook pro [grafické runbooky](automation-runbook-types.md#graphical-runbooks) a [runbooky pracovních postupů Powershellu](automation-runbook-types.md#powershell-workflow-runbooks).</span><span class="sxs-lookup"><span data-stu-id="7ccd1-113">hello following diagram shows hello lifecycle of a runbook job for [Graphical runbooks](automation-runbook-types.md#graphical-runbooks) and [PowerShell Workflow runbooks](automation-runbook-types.md#powershell-workflow-runbooks).</span></span>

![Stavy úlohy – pracovní postup prostředí PowerShell](./media/automation-runbook-execution/job-statuses.png)

<span data-ttu-id="7ccd1-115">Hello následující diagram znázorňuje hello životní cyklus úlohy sady runbook pro [Powershellové runbooky](automation-runbook-types.md#powershell-runbooks).</span><span class="sxs-lookup"><span data-stu-id="7ccd1-115">hello following diagram shows hello lifecycle of a runbook job for [PowerShell runbooks](automation-runbook-types.md#powershell-runbooks).</span></span>

![Stavy úlohy - skript prostředí PowerShell](./media/automation-runbook-execution/job-statuses-script.png)

<span data-ttu-id="7ccd1-117">Vaše úlohy mají přístup tooyour Azure prostředky tím, že připojení tooyour předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-117">Your jobs have access tooyour Azure resources by making a connection tooyour Azure subscription.</span></span> <span data-ttu-id="7ccd1-118">Mají pouze přístup tooresources ve vašem datovém centru Pokud tyto prostředky jsou přístupné z veřejného cloudu hello.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-118">They only have access tooresources in your data center if those resources are accessible from hello public cloud.</span></span>

## <a name="job-statuses"></a><span data-ttu-id="7ccd1-119">Stavy úlohy</span><span class="sxs-lookup"><span data-stu-id="7ccd1-119">Job statuses</span></span>
<span data-ttu-id="7ccd1-120">Hello následující tabulka popisuje hello různé stavy, které jsou u úlohy nastat.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-120">hello following table describes hello different statuses that are possible for a job.</span></span>

| <span data-ttu-id="7ccd1-121">Status</span><span class="sxs-lookup"><span data-stu-id="7ccd1-121">Status</span></span> | <span data-ttu-id="7ccd1-122">Popis</span><span class="sxs-lookup"><span data-stu-id="7ccd1-122">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="7ccd1-123">byla dokončena</span><span class="sxs-lookup"><span data-stu-id="7ccd1-123">Completed</span></span> |<span data-ttu-id="7ccd1-124">Hello úloha byla úspěšně dokončena.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-124">hello job completed successfully.</span></span> |
| <span data-ttu-id="7ccd1-125">Se nezdařilo</span><span class="sxs-lookup"><span data-stu-id="7ccd1-125">Failed</span></span> |<span data-ttu-id="7ccd1-126">Pro [pracovní postup prostředí PowerShell a grafický runbook](automation-runbook-types.md), sada runbook hello selhala toocompile.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-126">For [Graphical and PowerShell Workflow runbooks](automation-runbook-types.md), hello runbook failed toocompile.</span></span>  <span data-ttu-id="7ccd1-127">Pro [skript prostředí PowerShell runbooky](automation-runbook-types.md), sada runbook hello selhala toostart nebo hello úlohy došlo k výjimce.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-127">For [PowerShell Script runbooks](automation-runbook-types.md), hello runbook failed toostart or hello job encountered an exception.</span></span> |
| <span data-ttu-id="7ccd1-128">Chyba, čekání na prostředky</span><span class="sxs-lookup"><span data-stu-id="7ccd1-128">Failed, waiting for resources</span></span> |<span data-ttu-id="7ccd1-129">Hello úloha se nezdařila, protože bylo dosaženo hello [úloha dostatečný podíl](#fairshare) omezit třikrát a spustit z hello stejné kontrolního bodu nebo z hello spuštění sady runbook hello pokaždé, když.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-129">hello job failed because it reached hello [fair share](#fairshare) limit three times and started from hello same checkpoint or from hello start of hello runbook each time.</span></span> |
| <span data-ttu-id="7ccd1-130">Ve frontě</span><span class="sxs-lookup"><span data-stu-id="7ccd1-130">Queued</span></span> |<span data-ttu-id="7ccd1-131">Hello úloha nečeká na prostředky na k dispozici automatizaci pracovního procesu toocome tak, aby jeho spuštění.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-131">hello job is waiting for resources on an Automation worker toocome available so that it can be started.</span></span> |
| <span data-ttu-id="7ccd1-132">Spouštění</span><span class="sxs-lookup"><span data-stu-id="7ccd1-132">Starting</span></span> |<span data-ttu-id="7ccd1-133">Hello úloha byla přiřazena tooa pracovního procesu, a systém hello v hello proces jeho spuštění.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-133">hello job has been assigned tooa worker, and hello system is in hello process of starting it.</span></span> |
| <span data-ttu-id="7ccd1-134">Obnovení</span><span class="sxs-lookup"><span data-stu-id="7ccd1-134">Resuming</span></span> |<span data-ttu-id="7ccd1-135">systém Hello je v hello proces obnovení hello úlohy po bylo pozastaveno.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-135">hello system is in hello process of resuming hello job after it was suspended.</span></span> |
| <span data-ttu-id="7ccd1-136">Běžící (Spuštěno)</span><span class="sxs-lookup"><span data-stu-id="7ccd1-136">Running</span></span> |<span data-ttu-id="7ccd1-137">Úloha Hello je spuštěná.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-137">hello job is running.</span></span> |
| <span data-ttu-id="7ccd1-138">Spuštění, čekání na prostředky</span><span class="sxs-lookup"><span data-stu-id="7ccd1-138">Running, waiting for resources</span></span> |<span data-ttu-id="7ccd1-139">Hello úlohy byl odpojen protože bylo dosaženo hello [úloha dostatečný podíl](#fairshare) limit.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-139">hello job has been unloaded because it reached hello [fair share](#fairshare) limit.</span></span> <span data-ttu-id="7ccd1-140">Obnoví krátce od svého posledního kontrolního bodu.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-140">It resumes shortly from its last checkpoint.</span></span> |
| <span data-ttu-id="7ccd1-141">Zastaveno</span><span class="sxs-lookup"><span data-stu-id="7ccd1-141">Stopped</span></span> |<span data-ttu-id="7ccd1-142">Hello úloha byla zastavena uživatelem hello před dokončením.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-142">hello job was stopped by hello user before it was completed.</span></span> |
| <span data-ttu-id="7ccd1-143">Zastavování</span><span class="sxs-lookup"><span data-stu-id="7ccd1-143">Stopping</span></span> |<span data-ttu-id="7ccd1-144">systém Hello je v hello proces zastavit úlohu hello.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-144">hello system is in hello process of stopping hello job.</span></span> |
| <span data-ttu-id="7ccd1-145">pozastaveno</span><span class="sxs-lookup"><span data-stu-id="7ccd1-145">Suspended</span></span> |<span data-ttu-id="7ccd1-146">Hello úlohu pozastavil uživatel hello, hello systém nebo příkaz v runbooku hello.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-146">hello job was suspended by hello user, by hello system, or by a command in hello runbook.</span></span> <span data-ttu-id="7ccd1-147">Úlohu, která je pozastaven, můžete spustit znovu a poté obnovte od svého posledního kontrolního bodu nebo od začátku hello hello sady runbook, pokud nemá kontrolní body.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-147">A job that is suspended can be started again and resume from its last checkpoint or from hello beginning of hello runbook if it doesn't have checkpoints.</span></span> <span data-ttu-id="7ccd1-148">Hello runbook bude pouze pozastaveno systémem hello, když dojde k výjimce.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-148">hello runbook will only be suspended by hello system when an exception occurs.</span></span> <span data-ttu-id="7ccd1-149">Ve výchozím nastavení, je příliš hodnotu ErrorActionPreference**pokračovat**, což znamená tuto úlohu hello neustále běží na chybu.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-149">By default, ErrorActionPreference is set too**Continue**, meaning that hello job keeps running on an error.</span></span> <span data-ttu-id="7ccd1-150">Pokud je tato předvolba proměnné nastavená příliš**Zastavit**, pak pozastaví úlohu hello na chybu.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-150">If this preference variable is set too**Stop**, then hello job suspends on an error.</span></span>  <span data-ttu-id="7ccd1-151">Platí příliš[pracovní postup prostředí PowerShell a grafický runbook](automation-runbook-types.md) pouze.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-151">Applies too[Graphical and PowerShell Workflow runbooks](automation-runbook-types.md) only.</span></span> |
| <span data-ttu-id="7ccd1-152">Přechodem do režimu spánku</span><span class="sxs-lookup"><span data-stu-id="7ccd1-152">Suspending</span></span> |<span data-ttu-id="7ccd1-153">Hello systém se pokouší toosuspend hello úlohu na žádost hello hello uživatele.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-153">hello system is attempting toosuspend hello job at hello request of hello user.</span></span> <span data-ttu-id="7ccd1-154">Hello runbook dosažení následujícího kontrolního bodu předtím, než se může pozastavit.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-154">hello runbook must reach its next checkpoint before it can be suspended.</span></span> <span data-ttu-id="7ccd1-155">Pokud již uplynul svého posledního kontrolního bodu, pak dokončí předtím, než se může pozastavit.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-155">If it already passed its last checkpoint, then it completes before it can be suspended.</span></span>  <span data-ttu-id="7ccd1-156">Platí příliš[pracovní postup prostředí PowerShell a grafický runbook](automation-runbook-types.md) pouze.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-156">Applies too[Graphical and PowerShell Workflow runbooks](automation-runbook-types.md) only.</span></span> |

## <a name="viewing-job-status-from-hello-azure-portal"></a><span data-ttu-id="7ccd1-157">Zobrazení stavu úlohy z hello portálu Azure</span><span class="sxs-lookup"><span data-stu-id="7ccd1-157">Viewing job status from hello Azure portal</span></span>
<span data-ttu-id="7ccd1-158">Můžete zobrazit souhrnnou stav všechny úlohy sady runbook nebo podrobnostem úlohu konkrétní sady runbook v hello portál Azure nebo konfigurace integrace stav úlohy sady runbook tooforward pracovního prostoru analýzy protokolů Microsoft Operations Management Suite (OMS) a datové proudy úlohy.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-158">You can view a summarized status of all runbook jobs or drill into details of a specific runbook job in hello Azure portal or by configuring integration with your Microsoft Operations Management Suite (OMS) Log Analytics workspace tooforward runbook job status and job streams.</span></span>  <span data-ttu-id="7ccd1-159">Další informace o integraci do OMS analýzy protokolů najdete v tématu [předávání zpráv o stavu úlohy a datové proudy úlohy z automatizace tooLog Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="7ccd1-159">For more information about integrating with OMS Log Analytics, see [Forward job status and job streams from Automation tooLog Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span></span>  

### <a name="automation-runbook-jobs-summary"></a><span data-ttu-id="7ccd1-160">Souhrn úlohy sady runbook automatizace</span><span class="sxs-lookup"><span data-stu-id="7ccd1-160">Automation runbook jobs summary</span></span>
<span data-ttu-id="7ccd1-161">Na hello napravo od účtu Automation vybrané, se zobrazí shrnutí všech hello úlohy sady runbook pro vybraný účet automatizace v rámci **Statistika projektu** dlaždici.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-161">On hello right of your selected Automation account, you can see a summary of all of hello runbook jobs for a selected Automation account under **Job Statistics** tile.</span></span><br><br> <span data-ttu-id="7ccd1-162">![Dlaždice úlohy statistiky](./media/automation-runbook-execution/automation-account-job-status-summary.png).</span><span class="sxs-lookup"><span data-stu-id="7ccd1-162">![Job Statistics tile](./media/automation-runbook-execution/automation-account-job-status-summary.png).</span></span><br> <span data-ttu-id="7ccd1-163">Tuto dlaždici zobrazí počet a grafické znázornění hello stav úlohy pro všechny úlohy provést.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-163">This tile displays a count and graphical representation of hello job status for all jobs executed.</span></span>  

<span data-ttu-id="7ccd1-164">Kliknutím na dlaždici hello uvede hello **úlohy** okno, které obsahuje souhrnný seznam všech úloh provést, se stavem, provádění úlohy a spuštění a dokončení.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-164">Clicking on hello tile presents hello **Jobs** blade, which includes a summarized list of all jobs executed, with status, job execution, and start and completion times.</span></span><br><br> <span data-ttu-id="7ccd1-165">![Okno úlohy účet Automation.](./media/automation-runbook-execution/automation-account-jobs-status-blade.png)</span><span class="sxs-lookup"><span data-stu-id="7ccd1-165">![Automation account Jobs blade](./media/automation-runbook-execution/automation-account-jobs-status-blade.png)</span></span><br><br>  <span data-ttu-id="7ccd1-166">Můžete filtrovat hello seznam úloh tak, že vyberete **filtrujte úlohy** a filtrovat na konkrétní sadu runbook, stav úlohy, nebo z rozevíracího seznamu hello hello toosearch rozsah datum a čas v rámci.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-166">You can filter hello list of jobs by selecting **Filter jobs**  and filter on a specific runbook, job status, or from hello drop-down list, hello date/time range toosearch within.</span></span><br><br> <span data-ttu-id="7ccd1-167">![Stav úlohy filtru](./media/automation-runbook-execution/automation-account-jobs-filter.png)</span><span class="sxs-lookup"><span data-stu-id="7ccd1-167">![Filter Job status](./media/automation-runbook-execution/automation-account-jobs-filter.png)</span></span>

<span data-ttu-id="7ccd1-168">Alternativně můžete zobrazit podrobnosti souhrnu úlohy pro konkrétní sadu runbook tak, že vyberete dané sady runbook z hello **Runbooky** okno v účtu Automation a pak vyberte hello **úlohy** dlaždici.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-168">Alternatively, you can view job summary details for a specific runbook by selecting that runbook from hello **Runbooks** blade in your Automation account, and then select hello **Jobs** tile.</span></span>  <span data-ttu-id="7ccd1-169">To představuje hello **úlohy** okně a z ní můžete kliknutím na tooview záznamů úlohy hello podrobnosti a výstup.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-169">This presents hello **Jobs** blade, and from there you can click on hello job record tooview its detail and output.</span></span><br><br> <span data-ttu-id="7ccd1-170">![Okno úlohy účet Automation.](./media/automation-runbook-execution/automation-runbook-job-summary-blade.png)</span><span class="sxs-lookup"><span data-stu-id="7ccd1-170">![Automation account Jobs blade](./media/automation-runbook-execution/automation-runbook-job-summary-blade.png)</span></span><br> 

### <a name="job-summary"></a><span data-ttu-id="7ccd1-171">Souhrn úlohy</span><span class="sxs-lookup"><span data-stu-id="7ccd1-171">Job Summary</span></span>
<span data-ttu-id="7ccd1-172">Můžete zobrazit seznam všech hello úloh, které byly vytvořeny pro konkrétní runbook a jejich aktuální stav.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-172">You can view a list of all of hello jobs that have been created for a particular runbook and their most recent status.</span></span> <span data-ttu-id="7ccd1-173">Tento seznam můžete filtrovat podle stavu úlohy a hello rozsah dat pro hello poslední změna toohello úlohy.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-173">You can filter this list by job status and hello range of dates for hello last change toohello job.</span></span> <span data-ttu-id="7ccd1-174">tooview jeho podrobné informace a výstup, klikněte na název hello úlohy.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-174">tooview its detailed information and output, click on hello name of a job.</span></span> <span data-ttu-id="7ccd1-175">Hello podrobné zobrazení úlohy hello zahrnuje hello hodnoty pro parametry runbooku hello, které byly poskytnuty toothat úlohy.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-175">hello detailed view of hello job includes hello values for hello runbook parameters that were provided toothat job.</span></span>

<span data-ttu-id="7ccd1-176">Můžete použít následující kroky tooview hello úlohy runbooku hello.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-176">You can use hello following steps tooview hello jobs for a runbook.</span></span>

1. <span data-ttu-id="7ccd1-177">V hello portálu Azure, vyberte **automatizace** a pak vyberte název hello účet Automation.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-177">In hello Azure portal, select **Automation** and then select hello name of an Automation account.</span></span>
2. <span data-ttu-id="7ccd1-178">Z centra hello vyberte **sady Runbook** a pak na hello **sady Runbook** okno hello seznamu vyberte sadu runbook.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-178">From hello hub, select **Runbooks** and then on hello **Runbooks** blade select a runbook from hello list.</span></span>
3. <span data-ttu-id="7ccd1-179">V okně hello hello vybrané sady runbook, klikněte na tlačítko hello **úlohy** dlaždici.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-179">On hello blade for hello selected runbook, click hello **Jobs** tile.</span></span>
4. <span data-ttu-id="7ccd1-180">Klikněte na jednu z úloh hello v seznamu hello a na okno Podrobnosti úlohy sady runbook hello můžete zobrazit podrobnosti a výstup.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-180">Click on one of hello jobs in hello list and on hello runbook job details blade you can view its detail and output.</span></span>

## <a name="retrieving-job-status-using-windows-powershell"></a><span data-ttu-id="7ccd1-181">Načtení stavu úlohy pomocí prostředí Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="7ccd1-181">Retrieving job status using Windows PowerShell</span></span>
<span data-ttu-id="7ccd1-182">Můžete použít hello [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx) tooretrieve hello úlohy vytvořené pro runbook a hello podrobnosti konkrétní úlohy.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-182">You can use hello [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx) tooretrieve hello jobs created for a runbook and hello details of a particular job.</span></span> <span data-ttu-id="7ccd1-183">Pokud runbook spustíte pomocí prostředí Windows PowerShell [Start-AzureRmAutomationRunbook](https://msdn.microsoft.com/library/mt603661.aspx), pak vrátí hello výsledná úloha.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-183">If you start a runbook with Windows PowerShell using [Start-AzureRmAutomationRunbook](https://msdn.microsoft.com/library/mt603661.aspx), then it returns hello resulting job.</span></span> <span data-ttu-id="7ccd1-184">Použití [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx)tooget výstup výstupu úlohy.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-184">Use [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx)Output tooget a job’s output.</span></span>

<span data-ttu-id="7ccd1-185">Hello následující vzorové příkazy načíst hello poslední úlohu ukázkového runbooku a zobrazí její stav, hello hodnot pro parametry runbooku hello a hello výstup z úlohy hello.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-185">hello following sample commands retrieve hello last job for a sample runbook and displays its status, hello values provided for hello runbook parameters, and hello output from hello job.</span></span>

    $job = (Get-AzureRmAutomationJob –AutomationAccountName "MyAutomationAccount" `
    –RunbookName "Test-Runbook" -ResourceGroupName "ResourceGroup01" | sort LastModifiedDate –desc)[0]
    $job.Status
    $job.JobParameters
    Get-AzureRmAutomationJobOutput -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAcct" -Id $job.JobId –Stream Output

## <a name="fair-share"></a><span data-ttu-id="7ccd1-186">Úloha dostatečný podíl</span><span class="sxs-lookup"><span data-stu-id="7ccd1-186">Fair share</span></span>
<span data-ttu-id="7ccd1-187">V pořadí zdrojů tooshare mezi všechny sady runbook v cloudu hello bude Azure Automation dočasně uvolnit všechny úlohy, až po spuštění tři hodiny.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-187">In order tooshare resources among all runbooks in hello cloud, Azure Automation will temporarily unload any job after it has been running for three hours.</span></span>  <span data-ttu-id="7ccd1-188">Během této doby úlohy pro [sady runbook pomocí prostředí PowerShell](automation-runbook-types.md#powershell-runbooks) se zastaví a nebude ji restartovat.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-188">During this time, jobs for [PowerShell-based runbooks](automation-runbook-types.md#powershell-runbooks) are stopped and will not be restarted.</span></span>  <span data-ttu-id="7ccd1-189">Dobrý den zobrazí stav úlohy **Zastaveno**.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-189">hello job status shows **Stopped**.</span></span>  <span data-ttu-id="7ccd1-190">Tento typ runbooku je vždy restartován od začátku hello nepodporují kontrolní body.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-190">This type of runbook is always restarted from hello beginning since they don't support checkpoints.</span></span>  

<span data-ttu-id="7ccd1-191">[Založené na prostředí PowerShell pracovního postupu sady runbook](automation-runbook-types.md#powershell-workflow-runbooks) bude pokračovat znovu od jejich poslední [kontrolního bodu](https://docs.microsoft.com/system-center/sma/overview-powershell-workflows#bk_Checkpoints).</span><span class="sxs-lookup"><span data-stu-id="7ccd1-191">[PowerShell-Workflow-based runbooks](automation-runbook-types.md#powershell-workflow-runbooks) will be resumed from their last [checkpoint](https://docs.microsoft.com/system-center/sma/overview-powershell-workflows#bk_Checkpoints).</span></span>  <span data-ttu-id="7ccd1-192">Po spuštění tři hodiny, bude úloha sady runbook hello pozastaví hello service a její stav se zobrazuje **spuštěna, čekání na prostředky**.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-192">After running three hours, hello runbook job will be suspended by hello service and its status shows **Running, waiting for resources**.</span></span>  <span data-ttu-id="7ccd1-193">Jakmile izolovaném prostoru k dispozici, hello runbook automaticky restartuje služba Automation hello a obnoví z posledního kontrolního bodu hello.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-193">When a sandbox becomes available, hello runbook will be automatically restarted by hello Automation service and resumes from hello last checkpoint.</span></span>  <span data-ttu-id="7ccd1-194">To je normální chování pracovního postupu Powershellu pozastavit nebo restartovat.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-194">This is normal PowerShell-Workflow behavior for suspend/restart.</span></span>  <span data-ttu-id="7ccd1-195">Překročí-li hello runbook znovu tři hodiny modulu runtime, hello postup se opakuje, až toothree časy.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-195">If hello runbook again exceeds three hours of runtime, hello process repeats, up toothree times.</span></span>  <span data-ttu-id="7ccd1-196">Po třetím restartování hello, pokud hello runbook ještě nebyla dokončena v tři hodiny, pak hello úloha sady runbook se nezdařilo a ukazuje stav úlohy hello **se nezdařilo, čekání na prostředky**.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-196">After hello third restart, if hello runbook still has not completed in three hours, then hello runbook job is failed, and hello job status shows **Failed, waiting for resources**.</span></span>  <span data-ttu-id="7ccd1-197">V takovém případě se zobrazí následující výjimka hello selhání hello.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-197">In this case, you receive hello following exception with hello failure.</span></span>

<span data-ttu-id="7ccd1-198">*Úloha Hello nemůže pokračovat, systémem, protože bylo opakovaně vyloučeno z hello stejné kontrolního bodu. Zkontrolujte prosím, že vaše sada Runbook neprovádí bez zachování stavu náročná operace.*</span><span class="sxs-lookup"><span data-stu-id="7ccd1-198">*hello job cannot continue running because it was repeatedly evicted from hello same checkpoint. Please make sure your Runbook does not perform lengthy operations without persisting its state.*</span></span>

<span data-ttu-id="7ccd1-199">Toto je tooprotect hello service ze sady runbook běží hodně dlouho bez dokončení, protože nejsou možné toomake ho následujícího kontrolního bodu toohello bez odpojení znovu.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-199">This is tooprotect hello service from runbooks running indefinitely without completing, as they are not able toomake it toohello next checkpoint without being unloaded again.</span></span>

<span data-ttu-id="7ccd1-200">Pokud hello runbook nemá žádné kontrolní body nebo hello úlohy nedosáhla hello první kontrolní bod před odpojení, pak znovu od začátku hello.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-200">If hello runbook has no checkpoints or hello job had not reached hello first checkpoint before being unloaded, then it restarts from hello beginning.</span></span>  

<span data-ttu-id="7ccd1-201">Při vytváření sady runbook, ujistěte se, že toorun čas hello žádné aktivity mezi dvěma kontrolních bodů není delší než 3 hodiny.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-201">When you create a runbook, you should ensure that hello time toorun any activities between two checkpoints does not exceed three hours.</span></span> <span data-ttu-id="7ccd1-202">Může být nutné tooadd kontrolní body tooyour runbook tooensure, nemá dosažení maximálního počtu tři hodiny nebo rozdělit dlouho spuštěná operace.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-202">You may need tooadd checkpoints tooyour runbook tooensure that it does not reach this three hour limit or break up long running operations.</span></span> <span data-ttu-id="7ccd1-203">Vaše sada runbook může například provádět nové indexování velké databáze SQL.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-203">For example, your runbook might perform a reindex on a large SQL database.</span></span> <span data-ttu-id="7ccd1-204">Pokud tato jedné operace neskončí v rámci hello správného uvolněna limit sdílené složky a potom hello úlohy a spuštěno znovu od začátku hello.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-204">If this single operation does not complete within hello fair share limit, then hello job are unloaded and restarted from hello beginning.</span></span> <span data-ttu-id="7ccd1-205">V takovém případě by měl rozdělit hello nové indexování operace do více kroků, například novou indexaci jedna tabulka současně a vložit kontrolní bod po každé operaci, aby hello úlohy mohly pokračovat po poslední operaci toocomplete hello.</span><span class="sxs-lookup"><span data-stu-id="7ccd1-205">In this case, you should break up hello reindex operation into multiple steps, such as reindexing one table at a time, and then insert a checkpoint after each operation so that hello job could resume after hello last operation toocomplete.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7ccd1-206">Další kroky</span><span class="sxs-lookup"><span data-stu-id="7ccd1-206">Next steps</span></span>
* <span data-ttu-id="7ccd1-207">toolearn Další informace o hello různé metody, které se dají použít toostart sady runbook ve službě Azure Automation najdete v části [spuštění sady runbook ve službě Azure Automation](automation-starting-a-runbook.md)</span><span class="sxs-lookup"><span data-stu-id="7ccd1-207">toolearn more about hello different methods that can be used toostart a runbook in Azure Automation, see [Starting a runbook in Azure Automation](automation-starting-a-runbook.md)</span></span>

