---
title: "Assety přihlašovacích údajů ve službě Azure Automation | Microsoft Docs"
description: "Prostředků přihlašovacích údajů ve službě Azure Automation obsahovat zabezpečovací pověření, která můžete použít k ověřování k prostředkům přístup sada runbook nebo konfigurace DSC. Tento článek popisuje, jak vytvořit prostředků přihlašovacích údajů a použít je v sady runbook nebo konfigurace DSC."
services: automation
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 3209bf73-c208-425e-82b6-df49860546dd
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/14/2017
ms.author: bwren
ms.openlocfilehash: e2857515f3842a875ef7b5a9327392818931168f
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="credential-assets-in-azure-automation"></a><span data-ttu-id="17d56-104">Prostředků přihlašovacích údajů ve službě Azure Automation</span><span class="sxs-lookup"><span data-stu-id="17d56-104">Credential assets in Azure Automation</span></span>
<span data-ttu-id="17d56-105">Obsahuje prostředek přihlašovacích údajů automatizace [PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) objekt, který obsahuje zabezpečovací přihlašovací údaje, jako je například uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="17d56-105">An Automation credential asset holds a [PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential)  object which contains security credentials such as a username and password.</span></span> <span data-ttu-id="17d56-106">Konfigurace Runbooků a DSC může použít rutiny přijmout objekt PSCredential pro ověřování, nebo se může extrahuje uživatelské jméno a heslo objektu PSCredential zajistit některé aplikace nebo služby, které vyžadují ověřování.</span><span class="sxs-lookup"><span data-stu-id="17d56-106">Runbooks and DSC configurations may use cmdlets that accept a PSCredential object for authentication, or they may extract the username and password of the PSCredential object to provide to some application or service requiring authentication.</span></span> <span data-ttu-id="17d56-107">Vlastnosti přihlašovacích údajů jsou bezpečně uloženy ve službě Azure Automation a je přístupný v sada runbook nebo konfigurace DSC s [Get-AutomationPSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) aktivity.</span><span class="sxs-lookup"><span data-stu-id="17d56-107">The properties for a credential are stored securely in Azure Automation and can be accessed in the runbook or DSC configuration with the [Get-AutomationPSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) activity.</span></span>

> [!NOTE]
> <span data-ttu-id="17d56-108">Zabezpečené prostředky ve službě Azure Automation zahrnovat přihlašovací údaje, připojení, certifikátů a zašifrované proměnné.</span><span class="sxs-lookup"><span data-stu-id="17d56-108">Secure assets in Azure Automation include credentials, certificates, connections, and encrypted variables.</span></span> <span data-ttu-id="17d56-109">Tyto prostředky jsou zašifrovány a uložené ve službě Azure Automation pomocí jedinečný klíč, který se vygeneruje pro každý účet automation.</span><span class="sxs-lookup"><span data-stu-id="17d56-109">These assets are encrypted and stored in the Azure Automation using a unique key that is generated for each automation account.</span></span> <span data-ttu-id="17d56-110">Tento klíč se šifruje pomocí hlavního certifikátu a uloží ve službě Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="17d56-110">This key is encrypted by a master certificate and stored in Azure Automation.</span></span> <span data-ttu-id="17d56-111">Před ukládání o zabezpečený prostředek, klíč pro účet služby automation jsou dešifrována pomocí hlavního certifikátu a pak se použije k zašifrování asset.</span><span class="sxs-lookup"><span data-stu-id="17d56-111">Before storing a secure asset, the key for the automation account is decrypted using the master certificate and then used to encrypt the asset.</span></span>  

## <a name="windows-powershell-cmdlets"></a><span data-ttu-id="17d56-112">Rutiny prostředí Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="17d56-112">Windows PowerShell cmdlets</span></span>
<span data-ttu-id="17d56-113">Rutiny v následující tabulce se používají k vytváření a správě prostředků přihlašovacích údajů automatizace v prostředí Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="17d56-113">The cmdlets in the following table are used to create and manage automation credential assets with Windows PowerShell.</span></span>  <span data-ttu-id="17d56-114">Se dodávají jako součást [modul Azure PowerShell](/powershell/azure/overview) která je k dispozici pro použití v runbooků služeb automatizace a konfigurace DSC.</span><span class="sxs-lookup"><span data-stu-id="17d56-114">They ship as part of the [Azure PowerShell module](/powershell/azure/overview) which is available for use in Automation runbooks and DSC configurations.</span></span>

| <span data-ttu-id="17d56-115">Rutiny</span><span class="sxs-lookup"><span data-stu-id="17d56-115">Cmdlets</span></span> | <span data-ttu-id="17d56-116">Popis</span><span class="sxs-lookup"><span data-stu-id="17d56-116">Description</span></span> |
|:--- |:--- |
| [<span data-ttu-id="17d56-117">Get-AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="17d56-117">Get-AzureAutomationCredential</span></span>](/powershell/module/azure/get-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="17d56-118">Načte informace o asset přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="17d56-118">Retrieves information about a credential asset.</span></span> <span data-ttu-id="17d56-119">Pouze můžete načíst přihlašovací údaje sám sebe z **Get-AutomationPSCredential** aktivity.</span><span class="sxs-lookup"><span data-stu-id="17d56-119">You can only retrieve the credential itself from **Get-AutomationPSCredential** activity.</span></span> |
| [<span data-ttu-id="17d56-120">Nové AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="17d56-120">New-AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="17d56-121">Vytvoří nových přihlašovacích údajů automatizace.</span><span class="sxs-lookup"><span data-stu-id="17d56-121">Creates a new Automation credential.</span></span> |
| [<span data-ttu-id="17d56-122">Remove - AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="17d56-122">Remove- AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="17d56-123">Odebere pověření automatizace.</span><span class="sxs-lookup"><span data-stu-id="17d56-123">Removes an Automation credential.</span></span> |
| [<span data-ttu-id="17d56-124">Set - AzureAutomationCredential</span><span class="sxs-lookup"><span data-stu-id="17d56-124">Set- AzureAutomationCredential</span></span>](/powershell/module/azure/new-azureautomationcredential?view=azuresmps-3.7.0) |<span data-ttu-id="17d56-125">Nastaví vlastnosti pro existující automatizace pověření.</span><span class="sxs-lookup"><span data-stu-id="17d56-125">Sets the properties for an existing Automation credential.</span></span> |

## <a name="runbook-activities"></a><span data-ttu-id="17d56-126">Aktivity sady Runbook</span><span class="sxs-lookup"><span data-stu-id="17d56-126">Runbook activities</span></span>
<span data-ttu-id="17d56-127">Aktivity v následující tabulce se používají pro přístup k přihlašovací údaje v runbooku a konfigurace DSC.</span><span class="sxs-lookup"><span data-stu-id="17d56-127">The activities in the following table are used to access credentials in a runbook and DSC configurations.</span></span>

| <span data-ttu-id="17d56-128">Aktivity</span><span class="sxs-lookup"><span data-stu-id="17d56-128">Activities</span></span> | <span data-ttu-id="17d56-129">Popis</span><span class="sxs-lookup"><span data-stu-id="17d56-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="17d56-130">Get-AutomationPSCredential</span><span class="sxs-lookup"><span data-stu-id="17d56-130">Get-AutomationPSCredential</span></span> |<span data-ttu-id="17d56-131">Získá pověření pro použití v runbooku nebo konfigurace DSC.</span><span class="sxs-lookup"><span data-stu-id="17d56-131">Gets a credential to use in a runbook or DSC configuration.</span></span> <span data-ttu-id="17d56-132">Vrátí [System.Management.Automation.PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) objektu.</span><span class="sxs-lookup"><span data-stu-id="17d56-132">Returns a [System.Management.Automation.PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential) object.</span></span> |

> [!NOTE]
> <span data-ttu-id="17d56-133">Byste neměli používat proměnné v parametru – Name Get-AutomationPSCredential, protože to může zkomplikovat zjišťování závislostí mezi runbooky a konfigurace DSC a assety přihlašovacích údajů v době návrhu.</span><span class="sxs-lookup"><span data-stu-id="17d56-133">You should avoid using variables in the –Name parameter of Get-AutomationPSCredential since this can complicate discovering dependencies between runbooks or DSC configurations, and credential assets at design time.</span></span>
> 
> 

## <a name="creating-a-new-credential-asset"></a><span data-ttu-id="17d56-134">Vytvoření nového prostředku přihlašovacích údajů</span><span class="sxs-lookup"><span data-stu-id="17d56-134">Creating a new credential asset</span></span>

### <a name="to-create-a-new-credential-asset-with-the-azure-portal"></a><span data-ttu-id="17d56-135">Chcete-li vytvořit nový prostředek přihlašovacích údajů pomocí portálu Azure</span><span class="sxs-lookup"><span data-stu-id="17d56-135">To create a new credential asset with the Azure portal</span></span>
1. <span data-ttu-id="17d56-136">Z vašeho účtu automation, klikněte na tlačítko **prostředky** část otevřete **prostředky** okno.</span><span class="sxs-lookup"><span data-stu-id="17d56-136">From your automation account, click the **Assets** part to open the **Assets** blade.</span></span>
2. <span data-ttu-id="17d56-137">Klikněte na tlačítko **pověření** část otevřete **pověření** okno.</span><span class="sxs-lookup"><span data-stu-id="17d56-137">Click the **Credentials** part to open the **Credentials** blade.</span></span>
3. <span data-ttu-id="17d56-138">Klikněte na tlačítko **přidat pověření** v horní části okna.</span><span class="sxs-lookup"><span data-stu-id="17d56-138">Click **Add a credential** at the top of the blade.</span></span>
4. <span data-ttu-id="17d56-139">Vyplňte formulář a klikněte na tlačítko **vytvořit** pro uložení nových přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="17d56-139">Complete the form and click **Create** to save the new credential.</span></span>

### <a name="to-create-a-new-credential-asset-with-windows-powershell"></a><span data-ttu-id="17d56-140">Chcete-li vytvořit nový prostředek přihlašovacích údajů v prostředí Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="17d56-140">To create a new credential asset with Windows PowerShell</span></span>
<span data-ttu-id="17d56-141">Následující vzorové příkazy znázorňují postup vytvoření nových přihlašovacích údajů automatizace.</span><span class="sxs-lookup"><span data-stu-id="17d56-141">The following sample commands show how to create a new automation credential.</span></span> <span data-ttu-id="17d56-142">Objekt PSCredential, je prvním vytvoření jméno a heslo a pak použít k vytvoření asset přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="17d56-142">A PSCredential object is first created with the name and password and then used to create the credential asset.</span></span> <span data-ttu-id="17d56-143">Alternativně můžete použít **Get-Credential** rutiny se výzva k zadání jména a hesla.</span><span class="sxs-lookup"><span data-stu-id="17d56-143">Alternatively, you could use the **Get-Credential** cmdlet to be prompted to type in a name and password.</span></span>

    $user = "MyDomain\MyUser"
    $pw = ConvertTo-SecureString "PassWord!" -AsPlainText -Force
    $cred = New-Object –TypeName System.Management.Automation.PSCredential –ArgumentList $user, $pw
    New-AzureAutomationCredential -AutomationAccountName "MyAutomationAccount" -Name "MyCredential" -Value $cred

### <a name="to-create-a-new-credential-asset-with-the-azure-classic-portal"></a><span data-ttu-id="17d56-144">Chcete-li vytvořit nový prostředek přihlašovacích údajů pomocí portálu Azure classic</span><span class="sxs-lookup"><span data-stu-id="17d56-144">To create a new credential asset with the Azure classic portal</span></span>
1. <span data-ttu-id="17d56-145">Z vašeho účtu automation, klikněte na tlačítko **prostředky** v horní části okna.</span><span class="sxs-lookup"><span data-stu-id="17d56-145">From your automation account, click **Assets** at the top of the window.</span></span>
2. <span data-ttu-id="17d56-146">V dolní části okna klikněte na tlačítko **přidat nastavení**.</span><span class="sxs-lookup"><span data-stu-id="17d56-146">At the bottom of the window, click **Add Setting**.</span></span>
3. <span data-ttu-id="17d56-147">Klikněte na tlačítko **přidat přihlašovací údaje**.</span><span class="sxs-lookup"><span data-stu-id="17d56-147">Click **Add Credential**.</span></span>
4. <span data-ttu-id="17d56-148">V **typ přihlašovacích údajů** rozevíracího seznamu vyberte **přihlašovacích údajů prostředí PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="17d56-148">In the **Credential Type** dropdown, select **PowerShell Credential**.</span></span>
5. <span data-ttu-id="17d56-149">Dokončete průvodce a klikněte na zaškrtávací políčko pro uložení nových přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="17d56-149">Complete the wizard and click the checkbox to save the new credential.</span></span>

## <a name="using-a-powershell-credential"></a><span data-ttu-id="17d56-150">Pomocí přihlašovacích údajů prostředí PowerShell</span><span class="sxs-lookup"><span data-stu-id="17d56-150">Using a PowerShell credential</span></span>
<span data-ttu-id="17d56-151">Získat prostředek přihlašovacích údajů v runbooku nebo konfigurace DSC s **Get-AutomationPSCredential** aktivity.</span><span class="sxs-lookup"><span data-stu-id="17d56-151">You retrieve a credential asset in a runbook or DSC configuration with the **Get-AutomationPSCredential** activity.</span></span> <span data-ttu-id="17d56-152">Tento příkaz vrátí [objektu PSCredential](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) , můžete použít s aktivitu nebo rutinu, která vyžaduje parametr PSCredential.</span><span class="sxs-lookup"><span data-stu-id="17d56-152">This returns a [PSCredential object](http://msdn.microsoft.com/library/system.management.automation.pscredential.aspx) that you can use with an activity or cmdlet that requires a PSCredential parameter.</span></span> <span data-ttu-id="17d56-153">Můžete také načíst vlastnosti objekt přihlašovacích údajů, který chcete použít jednotlivě.</span><span class="sxs-lookup"><span data-stu-id="17d56-153">You can also retrieve the properties of the credential object to use individually.</span></span> <span data-ttu-id="17d56-154">Objekt nemá vlastnost pro uživatelské jméno a heslo zabezpečené, nebo můžete použít **GetNetworkCredential** metoda vrátí [NetworkCredential](http://msdn.microsoft.com/library/system.net.networkcredential.aspx) objekt, který bude poskytovat zabezpečená verzi heslo.</span><span class="sxs-lookup"><span data-stu-id="17d56-154">The object has a property for the username and the secure password, or you can use the **GetNetworkCredential** method to return a [NetworkCredential](http://msdn.microsoft.com/library/system.net.networkcredential.aspx) object that will provide an unsecured version of the password.</span></span>

### <a name="textual-runbook-sample"></a><span data-ttu-id="17d56-155">Ukázkový textový</span><span class="sxs-lookup"><span data-stu-id="17d56-155">Textual runbook sample</span></span>
<span data-ttu-id="17d56-156">Následující vzorové příkazy znázorňují postup použití přihlašovacích údajů prostředí PowerShell v runbooku.</span><span class="sxs-lookup"><span data-stu-id="17d56-156">The following sample commands show how to use a PowerShell credential in a runbook.</span></span> <span data-ttu-id="17d56-157">V tomto příkladu se načte přihlašovací údaje a jeho uživatelské jméno a heslo přiřazené k proměnné.</span><span class="sxs-lookup"><span data-stu-id="17d56-157">In this example, the credential is retrieved and its username and password assigned to variables.</span></span>

    $myCredential = Get-AutomationPSCredential -Name 'MyCredential'
    $userName = $myCredential.UserName
    $securePassword = $myCredential.Password
    $password = $myCredential.GetNetworkCredential().Password


### <a name="graphical-runbook-sample"></a><span data-ttu-id="17d56-158">Ukázka grafický runbook</span><span class="sxs-lookup"><span data-stu-id="17d56-158">Graphical runbook sample</span></span>
<span data-ttu-id="17d56-159">Přidání **Get-AutomationPSCredential** aktivitu grafický runbook pravým tlačítkem myši na přihlašovací údaje v podokně knihovna grafického editoru a výběrem **přidat na plátno**.</span><span class="sxs-lookup"><span data-stu-id="17d56-159">You add a **Get-AutomationPSCredential** activity to a graphical runbook by right-clicking on the credential in the Library pane of the graphical editor and selecting **Add to canvas**.</span></span>

![Přidat přihlašovací údaje na plátno](media/automation-credentials/credential-add-canvas.png)

<span data-ttu-id="17d56-161">Následující obrázek ukazuje příklad použití pověření v grafický runbook.</span><span class="sxs-lookup"><span data-stu-id="17d56-161">The following image shows an example of using a credential in a graphical runbook.</span></span>  <span data-ttu-id="17d56-162">V takovém případě se používá k ověření pro sady runbook a prostředky Azure, jak je popsáno v [ověření Runbooků pomocí účtu uživatele Azure AD](automation-create-aduser-account.md).</span><span class="sxs-lookup"><span data-stu-id="17d56-162">In this case, it is being used to provide authentication for a runbook to Azure resources as described in [Authenticate Runbooks with Azure AD User account](automation-create-aduser-account.md).</span></span>  <span data-ttu-id="17d56-163">První aktivitu načte přihlašovacích údajů, který má přístup k předplatnému Azure.</span><span class="sxs-lookup"><span data-stu-id="17d56-163">The first activity retrieves the credential that has access to the Azure subscription.</span></span>  <span data-ttu-id="17d56-164">**Add-AzureAccount** aktivita pak používá toto pověření k ověřování pro všechny aktivity, které následují po.</span><span class="sxs-lookup"><span data-stu-id="17d56-164">The **Add-AzureAccount** activity then uses this credential to provide authentication for any activities that come after it.</span></span>  <span data-ttu-id="17d56-165">A [propojení kanálu](automation-graphical-authoring-intro.md#links-and-workflow) se zde od **Get-AutomationPSCredential** je očekáván jeden objekt.</span><span class="sxs-lookup"><span data-stu-id="17d56-165">A [pipeline link](automation-graphical-authoring-intro.md#links-and-workflow) is here since **Get-AutomationPSCredential** is expecting a single object.</span></span>  

![Přidat přihlašovací údaje na plátno](media/automation-credentials/get-credential.png)

## <a name="using-a-powershell-credential-in-dsc"></a><span data-ttu-id="17d56-167">Pomocí přihlašovacích údajů prostředí PowerShell v DSC</span><span class="sxs-lookup"><span data-stu-id="17d56-167">Using a PowerShell credential in DSC</span></span>
<span data-ttu-id="17d56-168">Během konfigurace DSC ve službě Azure Automation, můžete odkazovat pomocí prostředků přihlašovacích údajů **Get-AutomationPSCredential**, prostředků přihlašovacích údajů můžete také být předán prostřednictvím parametrů, v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="17d56-168">While DSC configurations in Azure Automation can reference credential assets using **Get-AutomationPSCredential**, credential assets can also be passed in via parameters, if desired.</span></span> <span data-ttu-id="17d56-169">Další informace najdete v tématu [kompilování konfigurace v Azure Automation DSC](automation-dsc-compile.md#credential-assets).</span><span class="sxs-lookup"><span data-stu-id="17d56-169">For more information, see [Compiling configurations in Azure Automation DSC](automation-dsc-compile.md#credential-assets).</span></span>

## <a name="next-steps"></a><span data-ttu-id="17d56-170">Další kroky</span><span class="sxs-lookup"><span data-stu-id="17d56-170">Next Steps</span></span>
* <span data-ttu-id="17d56-171">Další informace o propojení v vytváření grafického obsahu najdete v tématu [odkazy v vytváření grafického obsahu](automation-graphical-authoring-intro.md#links-and-workflow)</span><span class="sxs-lookup"><span data-stu-id="17d56-171">To learn more about links in graphical authoring, see [Links in graphical authoring](automation-graphical-authoring-intro.md#links-and-workflow)</span></span>
* <span data-ttu-id="17d56-172">Chcete-li pochopit různé metody ověřování pomocí automatizace, přečtěte si téma [zabezpečení automatizace Azure](automation-security-overview.md)</span><span class="sxs-lookup"><span data-stu-id="17d56-172">To understand the different authentication methods with Automation, see [Azure Automation Security](automation-security-overview.md)</span></span>
* <span data-ttu-id="17d56-173">První kroky s grafickými runbooky najdete v článku [Můj první grafický runbook](automation-first-runbook-graphical.md).</span><span class="sxs-lookup"><span data-stu-id="17d56-173">To get started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="17d56-174">První kroky s runbooky pracovních postupů PowerShellu najdete v článku [Můj první runbook pracovního postupu PowerShellu](automation-first-runbook-textual.md).</span><span class="sxs-lookup"><span data-stu-id="17d56-174">To get started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span> 

