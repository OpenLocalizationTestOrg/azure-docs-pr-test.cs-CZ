---
title: "Integrace ovládacích prvků zdrojového služby Azure Automation s Enterprise Githubu | Microsoft Docs"
description: "Popisuje postup konfigurace integrace s GitHub Enterprise pro zdrojového kódu runbooků služeb automatizace podrobnosti."
services: automation
documentationCenter: 
authors: mgoedtel
manager: jwhit
editor: 
ms.assetid: e01d817c-7d38-421c-adf5-647a4b526eb4
ms.service: automation
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: magoedte
ms.openlocfilehash: 62793dcdbbf4c83161e95d1c165d5c231245f7c6
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/03/2017
---
# <a name="azure-automation-scenario---automation-source-control-integration-with-github-enterprise"></a><span data-ttu-id="b33e4-103">Azure Automation scénář – integrace ovládacích prvků zdrojového automatizace s Enterprise Githubu</span><span class="sxs-lookup"><span data-stu-id="b33e4-103">Azure Automation scenario - Automation source control integration with GitHub Enterprise</span></span>

<span data-ttu-id="b33e4-104">Automatizace aktuálně podporuje integrace ovládacích prvků zdrojového, což vám umožní přidružit sady runbook ve vašem účtu Automation se úložištěm řízení zdrojů Githubu.</span><span class="sxs-lookup"><span data-stu-id="b33e4-104">Automation currently supports source control integration, which allows you to associate runbooks in your Automation account to a GitHub source control repository.</span></span>  <span data-ttu-id="b33e4-105">Ale zákazníkům, kteří mají nasazenou [Githubu Enterprise](https://enterprise.github.com/home) pro podporu postupy jejich DevOps, také chtít použít ho ke správě životního cyklu sad runbook, která jsou vytvořena, aby automatizovat firemní procesy a služby management operations.</span><span class="sxs-lookup"><span data-stu-id="b33e4-105">However, customers who have deployed [GitHub Enterprise](https://enterprise.github.com/home) to support their DevOps practices, also want to use it to manage the lifecycle of runbooks that are developed to automate business processes and service management operations.</span></span>  

<span data-ttu-id="b33e4-106">V tomto scénáři máte počítač se systémem Windows ve vašem datovém centru, který je nakonfigurovaný jako hybridní pracovní proces Runbooku s moduly Azure Resource Manageru a nainstalované nástroje Git.</span><span class="sxs-lookup"><span data-stu-id="b33e4-106">In this scenario, you have a Windows computer in your data center configured as a Hybrid Runbook Worker with the Azure Resource Manager modules and Git tools installed.</span></span>  <span data-ttu-id="b33e4-107">Tento počítač hybridní pracovní má klon místní úložiště Git.</span><span class="sxs-lookup"><span data-stu-id="b33e4-107">The Hybrid worker machine has a clone of the local Git repository.</span></span>  <span data-ttu-id="b33e4-108">Při spuštění sady runbook na hybridní pracovní proces se synchronizuje adresář Git a obsah souboru sady runbook se importují do účtu Automation.</span><span class="sxs-lookup"><span data-stu-id="b33e4-108">When the runbook is run on the hybrid worker, the Git directory is synchronized and the runbook file contents are imported into the Automation account.</span></span>

<span data-ttu-id="b33e4-109">Tento článek popisuje postup nastavení této konfigurace ve vašem prostředí Azure Automation.</span><span class="sxs-lookup"><span data-stu-id="b33e4-109">This article describes how to set up this configuration in your Azure Automation environment.</span></span> <span data-ttu-id="b33e4-110">Začneme nakonfigurováním automatizace s zabezpečovací přihlašovací údaje, sady runbook, které jsou potřeba pro podporu tohoto scénáře a nasazení hybridní pracovní proces Runbooku ve vašem datovém centru pro spuštění sady runbook a přístupu k úložiště GitHub Enterprise k synchronizaci sady runbook s vaším účtem Automation.</span><span class="sxs-lookup"><span data-stu-id="b33e4-110">We start by configuring Automation with the security credentials, runbooks required to support this scenario, and deployment of a Hybrid Runbook Worker in your data center to run the runbooks and access your GitHub Enterprise repository to synchronize runbooks with your Automation account.</span></span>  


## <a name="getting-the-scenario"></a><span data-ttu-id="b33e4-111">Získání scénáře</span><span class="sxs-lookup"><span data-stu-id="b33e4-111">Getting the scenario</span></span>

<span data-ttu-id="b33e4-112">Tento scénář se skládá ze dvou Powershellové runbooky, které můžete importovat přímo z [Galerie Runbooků](automation-runbook-gallery.md) v portálu Azure nebo stažení [Galerie prostředí PowerShell](https://www.powershellgallery.com).</span><span class="sxs-lookup"><span data-stu-id="b33e4-112">This scenario consists of two PowerShell runbooks that you can import directly from the [Runbook Gallery](automation-runbook-gallery.md) in the Azure portal or download from the [PowerShell Gallery](https://www.powershellgallery.com).</span></span>

### <a name="runbooks"></a><span data-ttu-id="b33e4-113">Runbooky</span><span class="sxs-lookup"><span data-stu-id="b33e4-113">Runbooks</span></span>

<span data-ttu-id="b33e4-114">Runbook</span><span class="sxs-lookup"><span data-stu-id="b33e4-114">Runbook</span></span> | <span data-ttu-id="b33e4-115">Popis</span><span class="sxs-lookup"><span data-stu-id="b33e4-115">Description</span></span>| 
--------|------------|
<span data-ttu-id="b33e4-116">Export-RunAsCertificateToHybridWorker</span><span class="sxs-lookup"><span data-stu-id="b33e4-116">Export-RunAsCertificateToHybridWorker</span></span> | <span data-ttu-id="b33e4-117">Runbook Exportuje certifikát RunAs z účtu Automation do hybridního pracovního procesu tak, aby sady runbook v pracovním procesu můžete ověřit pomocí Azure, aby bylo možné naimportovat sady runbook do účtu Automation.</span><span class="sxs-lookup"><span data-stu-id="b33e4-117">Runbook exports a RunAs certificate from an Automation account to a hybrid worker so that runbooks on the worker can authenticate with Azure in order to import runbooks into the Automation account.</span></span>| 
<span data-ttu-id="b33e4-118">Synchronizace LocalGitFolderToAutomationAccount</span><span class="sxs-lookup"><span data-stu-id="b33e4-118">Sync-LocalGitFolderToAutomationAccount</span></span> | <span data-ttu-id="b33e4-119">Runbook synchronizuje místní složce na počítači hybridní Git a následnému importování souborů služby runbook (*.ps1) do účtu Automation.</span><span class="sxs-lookup"><span data-stu-id="b33e4-119">Runbook syncs the local Git folder on the hybrid machine and then import the runbook files (*.ps1) into the Automation account.</span></span>|

### <a name="credentials"></a><span data-ttu-id="b33e4-120">Přihlašovací údaje</span><span class="sxs-lookup"><span data-stu-id="b33e4-120">Credentials</span></span>

<span data-ttu-id="b33e4-121">Přihlašovací údaj</span><span class="sxs-lookup"><span data-stu-id="b33e4-121">Credential</span></span> | <span data-ttu-id="b33e4-122">Popis</span><span class="sxs-lookup"><span data-stu-id="b33e4-122">Description</span></span>|
-----------|------------|
<span data-ttu-id="b33e4-123">GitHRWCredential</span><span class="sxs-lookup"><span data-stu-id="b33e4-123">GitHRWCredential</span></span> | <span data-ttu-id="b33e4-124">Asset přihlašovacích údajů, můžete vytvořit tak, aby obsahovala uživatelské jméno a heslo pro uživatele s oprávněními k hybridní pracovní proces.</span><span class="sxs-lookup"><span data-stu-id="b33e4-124">Credential asset you create to contain the username and password for a user with permissions to the hybrid worker.</span></span>|

## <a name="installing-and-configuring-this-scenario"></a><span data-ttu-id="b33e4-125">Instalace a konfigurace tohoto scénáře</span><span class="sxs-lookup"><span data-stu-id="b33e4-125">Installing and configuring this scenario</span></span>

### <a name="prerequisites"></a><span data-ttu-id="b33e4-126">Požadavky</span><span class="sxs-lookup"><span data-stu-id="b33e4-126">Prerequisites</span></span>

1. <span data-ttu-id="b33e4-127">Sada runbook LocalGitFolderToAutomationAccount synchronizace se ověří pomocí [účet spustit v Azure jako](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="b33e4-127">The Sync-LocalGitFolderToAutomationAccount runbook authenticates using the [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span> 

2. <span data-ttu-id="b33e4-128">Microsoft Operations Management Suite (OMS) prostoru s řešení služby Azure Automation povolené a nakonfigurované je také nutný.</span><span class="sxs-lookup"><span data-stu-id="b33e4-128">A Microsoft Operations Management Suite (OMS) workspace with the Azure Automation solution enabled and configured is also required.</span></span>  <span data-ttu-id="b33e4-129">Pokud nemáte jednu, která souvisí s automatizace účet použitý k instalaci a konfiguraci tohoto scénáře, se vytvoří a konfigurace. při spuštění **New-OnPremiseHybridWorker.ps1** skript z hybridní pracovní proces runbooku.</span><span class="sxs-lookup"><span data-stu-id="b33e4-129">If you do not have one that is associated with the Automation account used to install and configure this scenario, it is created and configured for you when you execute the **New-OnPremiseHybridWorker.ps1** script from the hybrid runbook worker.</span></span>        

    > [!NOTE]
    > <span data-ttu-id="b33e4-130">Aktuálně následující oblasti podporují pouze automatizace integrace s OMS - **Austrálie – jihovýchod**, **východní USA 2**, **jihovýchodní Asie**, a **západní Evropa**.</span><span class="sxs-lookup"><span data-stu-id="b33e4-130">Currently the following regions only support Automation integration with OMS - **Australia Southeast**, **East US 2**, **Southeast Asia**, and **West Europe**.</span></span> 

3. <span data-ttu-id="b33e4-131">Počítač, který může sloužit jako vyhrazené Hybrid Runbook Worker, bude také hostitelem softwaru Githubu a udržovat souborů služby runbook (*runbook*.ps1) v zdrojový adresář v systému souborů k synchronizaci mezi Githubu a váš účet Automation.</span><span class="sxs-lookup"><span data-stu-id="b33e4-131">A computer that can serve as a dedicated Hybrid Runbook Worker that will also host the GitHub software and maintain the runbook files (*runbook*.ps1) in a source directory on the file system to synchronize between GitHub and your Automation account.</span></span>

### <a name="import-and-publish-the-runbooks"></a><span data-ttu-id="b33e4-132">Import a publikovat sady runbook</span><span class="sxs-lookup"><span data-stu-id="b33e4-132">Import and publish the runbooks</span></span>

<span data-ttu-id="b33e4-133">K importu *Export RunAsCertificateToHybridWorker* a *synchronizace LocalGitFolderToAutomationAccount* sady runbook z Galerie sady Runbook z vašeho účtu Automation na portálu Azure, postupujte podle pokynů v [importovat Runbook z Galerie Runbooků](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span><span class="sxs-lookup"><span data-stu-id="b33e4-133">To import the *Export-RunAsCertificateToHybridWorker* and *Sync-LocalGitFolderToAutomationAccount* runbooks from the Runbook Gallery from your Automation account in the Azure portal, follow the procedures in [Import Runbook from the Runbook Gallery](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span></span> <span data-ttu-id="b33e4-134">Publikování sady runbook poté, co byly úspěšně importovány do vašeho účtu Automation.</span><span class="sxs-lookup"><span data-stu-id="b33e4-134">Publish the runbooks after they have been successfully imported into your Automation account.</span></span>

### <a name="deploy-and-configure-hybrid-runbook-worker"></a><span data-ttu-id="b33e4-135">Nasaďte a nakonfigurujte hybridní pracovní proces Runbooku</span><span class="sxs-lookup"><span data-stu-id="b33e4-135">Deploy and Configure Hybrid Runbook Worker</span></span>

<span data-ttu-id="b33e4-136">Pokud nemáte Hybrid Runbook Worker už nasazená ve vašem datovém centru, zkontrolujte požadavky a postupujte podle kroků automatická instalace pomocí postupu v [Azure automatizace procesů Hybrid Runbook Worker - automatizaci instalace a konfigurace](automation-hybrid-runbook-worker.md#automated-deployment).</span><span class="sxs-lookup"><span data-stu-id="b33e4-136">If you do not have a Hybrid Runbook Worker already deployed in your data center, you should review the requirements and follow the automated installation steps using the procedure in [Azure Automation Hybrid Runbook Workers - Automate Install and Configuration](automation-hybrid-runbook-worker.md#automated-deployment).</span></span>  <span data-ttu-id="b33e4-137">Úspěšně jste nainstalovali hybridní pracovní proces na počítači, proveďte následující kroky k dokončení její konfigurace pro podporu tohoto scénáře.</span><span class="sxs-lookup"><span data-stu-id="b33e4-137">Once you have successfully installed the hybrid worker on a computer, perform the following steps to complete its configuration to support this scenario.</span></span>

1. <span data-ttu-id="b33e4-138">Přihlaste se k počítači, který hostuje roli hybridní pracovní proces Runbooku pomocí účtu, který má práva místního správce a vytvořte adresář k uložení souborů služby runbook Git.</span><span class="sxs-lookup"><span data-stu-id="b33e4-138">Sign on to the computer hosting the Hybrid Runbook Worker role with an account that has local administrative rights and create a directory to hold the Git runbook files.</span></span>  <span data-ttu-id="b33e4-139">Klonování interní úložiště Git do adresáře.</span><span class="sxs-lookup"><span data-stu-id="b33e4-139">Clone  the internal Git repository to the directory.</span></span>
2. <span data-ttu-id="b33e4-140">Pokud již jste vytvořili účet RunAs, nebo chcete vytvořit novou jeden vyhrazený pro tento účel, z portálu Azure přejděte do účty Automation, vyberte svůj účet Automation a vytvořte [asset přihlašovacích údajů](automation-credentials.md) obsahující uživatelské jméno a heslo pro uživatele s oprávněními k hybridní pracovní proces.</span><span class="sxs-lookup"><span data-stu-id="b33e4-140">If you do not already have a RunAs account created or you want to create a new one dedicated for this purpose, from the Azure portal navigate to Automation accounts, select your Automation account and create a [credential asset](automation-credentials.md) that contains the username and password for a user with permissions to the hybrid worker.</span></span>  
3. <span data-ttu-id="b33e4-141">Z vašeho účtu Automation [upravit runbook](automation-edit-textual-runbook.md)**Export RunAsCertificateToHybridWorker** a změňte hodnotu proměnné *$Password* silným heslem.</span><span class="sxs-lookup"><span data-stu-id="b33e4-141">From your Automation account, [edit the runbook](automation-edit-textual-runbook.md)  **Export-RunAsCertificateToHybridWorker** and modify the value for the variable *$Password* with a strong password.</span></span>  <span data-ttu-id="b33e4-142">Po úpravě hodnota, klikněte na tlačítko **publikovat** má verzi konceptu sady runbook publikovat.</span><span class="sxs-lookup"><span data-stu-id="b33e4-142">After you modify the value, click **Publish** to have the draft version of the runbook published.</span></span> 
5. <span data-ttu-id="b33e4-143">Spuštění runbooku **Export RunAsCertificateToHybridWorker**a v **spuštění Runbooku** okno, v části možnost **spustit nastavení** vyberte možnost **hybridní pracovní proces** a v rozevíracím seznamu vyberte skupinu hybridních pracovních procesů jste vytvořili dříve v tomto scénáři.</span><span class="sxs-lookup"><span data-stu-id="b33e4-143">Start the runbook **Export-RunAsCertificateToHybridWorker**, and in the **Start Runbook** blade, under the option **Run settings** select the option **Hybrid Worker** and in the drop-down list select the Hybrid worker group you created earlier for this scenario.</span></span>  

    <span data-ttu-id="b33e4-144">To, aby se runbook na pracovní může ověřit s Azure pomocí připojení spustit jako, abyste mohli spravovat prostředky Azure (zejména v tomto scénáři – import sady runbook k účtu Automation) Exportuje certifikát do hybridní pracovní proces.</span><span class="sxs-lookup"><span data-stu-id="b33e4-144">This exports a certificate to the hybrid worker so that runbooks on the worker can authenticate with Azure using the Run As connection in order to manage Azure resources (in particular for this scenario - import runbooks to the Automation account).</span></span>

4. <span data-ttu-id="b33e4-145">Z vašeho účtu Automation, vyberte skupinu hybridních pracovních procesů, které je vytvořený a [zadejte účet Spustit jako](automation-hrw-run-runbooks.md#runas-account) pro skupinu hybridních pracovních procesů a vyberte právě nebo již jste vytvořili asset přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="b33e4-145">From your Automation account, select the Hybrid worker group created earlier and [specify a RunAs account](automation-hrw-run-runbooks.md#runas-account) for the Hybrid worker group, and chose the credential asset you just or already have created.</span></span>  <span data-ttu-id="b33e4-146">To zaručuje, že sada runbook synchronizaci můžete spustit příkazy Gitu.</span><span class="sxs-lookup"><span data-stu-id="b33e4-146">This assures that the Sync runbook can run Git commands.</span></span> 
5. <span data-ttu-id="b33e4-147">Spuštění runbooku **synchronizace LocalGitFolderToAutomationAccount**, zadejte požadované hodnoty vstupní parametr a v **spuštění Runbooku** okno, v části možnost **spustit nastavení** vyberte možnost **hybridní pracovní proces** a v rozevíracím seznamu vyberte skupinu hybridních pracovních procesů jste vytvořili dříve v tomto scénáři:</span><span class="sxs-lookup"><span data-stu-id="b33e4-147">Start the runbook **Sync-LocalGitFolderToAutomationAccount**, provide the following required input parameter values and in the **Start Runbook** blade, under the option **Run settings** select the option **Hybrid Worker** and in the drop-down list select the Hybrid worker group you created earlier for this scenario:</span></span>
    * <span data-ttu-id="b33e4-148">*ResourceGroup* -název vaší skupiny prostředků spojené s vaším účtem Automation.</span><span class="sxs-lookup"><span data-stu-id="b33e4-148">*ResourceGroup* - the name of your resource group associated with your Automation account</span></span>
    * <span data-ttu-id="b33e4-149">*AutomationAccountName* – název účtu Automation</span><span class="sxs-lookup"><span data-stu-id="b33e4-149">*AutomationAccountName* - the name of your Automation account</span></span>
    * <span data-ttu-id="b33e4-150">*GitPath* -místní složku nebo soubor na hybridní pracovní proces Runbooku kterém Git nastavit vyžádání nejnovější změny</span><span class="sxs-lookup"><span data-stu-id="b33e4-150">*GitPath* - The local folder or file on the Hybrid Runbook Worker where Git is set up to pull latest changes into</span></span>

    <span data-ttu-id="b33e4-151">To bude synchronizovat místní složky Git v hybridní pracovní počítače a potom importovat soubory .ps1 ze zdrojového adresáře na účet Automation.</span><span class="sxs-lookup"><span data-stu-id="b33e4-151">This will sync the local Git folder on the hybrid worker computer and then import the .ps1 files from the source directory to the Automation account.</span></span>

    ![Spuštění synchronizace LocalGitFolderToAutomationAccount Runbook](media/automation-scenario-source-control-integration-with-github-ent/start-runbook-synclocalgitfoldertoautoacct.png)<br>

7. <span data-ttu-id="b33e4-153">Zobrazit podrobnosti úlohy souhrnu pro sadu runbook tak, že vyberete z **Runbooky** okno v účtu Automation a potom vyberte **úlohy** dlaždici.</span><span class="sxs-lookup"><span data-stu-id="b33e4-153">View job summary details for the runbook by selecting it from the **Runbooks** blade in your Automation account, and then select the **Jobs** tile.</span></span>  <span data-ttu-id="b33e4-154">Potvrďte byla úspěšně dokončena výběrem **všechny protokoly** dlaždice a kontrola datový proud podrobné protokolu.</span><span class="sxs-lookup"><span data-stu-id="b33e4-154">Confirm it completed successfully by selecting the **All logs** tile and reviewing the detailed log stream.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="b33e4-155">Další kroky</span><span class="sxs-lookup"><span data-stu-id="b33e4-155">Next steps</span></span>

-  <span data-ttu-id="b33e4-156">Další informace o typech runbooků, jejich výhodách a omezeních najdete v článku [Typy runbooků ve službě Azure Automation](automation-runbook-types.md).</span><span class="sxs-lookup"><span data-stu-id="b33e4-156">To know more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
-  <span data-ttu-id="b33e4-157">Další informace o funkci podpory powershellových skriptů najdete v článku [Nativní podpora powershellových skriptů ve službě Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span><span class="sxs-lookup"><span data-stu-id="b33e4-157">For more information on PowerShell script support feature, see [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span></span>
