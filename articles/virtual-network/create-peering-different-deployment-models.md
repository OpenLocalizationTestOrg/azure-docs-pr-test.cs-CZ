---
title: "Vytvoření virtuální síti Azure partnerského vztahu - různé modely nasazení - stejného předplatného. | Microsoft Docs"
description: "Naučte se vytvořit virtuální síť partnerský vztah mezi virtuální sítě vytvořené pomocí modelech nasazení různých Azure, které existují ve stejném předplatném Azure."
services: virtual-network
documentationcenter: 
author: jimdial
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/17/2017
ms.author: jdial;narayan;annahar
ms.openlocfilehash: 7d75d85863ce4b06ef1f552e0d583dec302f7ace
ms.sourcegitcommit: 422efcbac5b6b68295064bd545132fcc98349d01
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/29/2017
---
# <a name="create-a-virtual-network-peering---different-deployment-models-same-subscription"></a><span data-ttu-id="29d0a-103">Vytvořit virtuální síť partnerský vztah - různé modely nasazení, stejného předplatného.</span><span class="sxs-lookup"><span data-stu-id="29d0a-103">Create a virtual network peering - different deployment models, same subscription</span></span> 

<span data-ttu-id="29d0a-104">V tomto kurzu zjistíte vytvořit virtuální síť partnerský vztah mezi virtuální sítě vytvořené pomocí různé modely nasazení.</span><span class="sxs-lookup"><span data-stu-id="29d0a-104">In this tutorial, you learn to create a virtual network peering between virtual networks created through different deployment models.</span></span> <span data-ttu-id="29d0a-105">Obě virtuální sítě existovat ve stejném předplatném.</span><span class="sxs-lookup"><span data-stu-id="29d0a-105">Both virtual networks exist in the same subscription.</span></span> <span data-ttu-id="29d0a-106">Partnerský vztah dva prostředky umožňuje virtuální sítě v různých virtuálních sítích ke komunikaci mezi sebou stejným šířky pásma a latence, jako by byl prostředky ve stejné virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="29d0a-106">Peering two virtual networks enables resources in different virtual networks to communicate with each other with the same bandwidth and latency as though the resources were in the same virtual network.</span></span> <span data-ttu-id="29d0a-107">Další informace o [partnerský vztah virtuální sítě](virtual-network-peering-overview.md).</span><span class="sxs-lookup"><span data-stu-id="29d0a-107">Learn more about [Virtual network peering](virtual-network-peering-overview.md).</span></span> 

<span data-ttu-id="29d0a-108">Postup vytvoření virtuální sítě partnerského vztahu se liší v závislosti na tom, jestli virtuální sítě jsou ve stejné nebo jiné, odběry a které [modelu nasazení Azure](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) virtuální sítě se vytvářejí pomocí.</span><span class="sxs-lookup"><span data-stu-id="29d0a-108">The steps to create a virtual network peering are different, depending on whether the virtual networks are in the same, or different, subscriptions, and which [Azure deployment model](../azure-resource-manager/resource-manager-deployment-model.md?toc=%2fazure%2fvirtual-network%2ftoc.json) the virtual networks are created through.</span></span> <span data-ttu-id="29d0a-109">Naučte se vytvořit virtuální síť partnerský vztah v jiných scénářích kliknutím na scénář z v následující tabulce:</span><span class="sxs-lookup"><span data-stu-id="29d0a-109">Learn how to create a virtual network peering in other scenarios by clicking the scenario from the following table:</span></span>

|<span data-ttu-id="29d0a-110">Model nasazení Azure</span><span class="sxs-lookup"><span data-stu-id="29d0a-110">Azure deployment model</span></span>  | <span data-ttu-id="29d0a-111">Předplatné Azure</span><span class="sxs-lookup"><span data-stu-id="29d0a-111">Azure subscription</span></span>  |
|--------- |---------|
|[<span data-ttu-id="29d0a-112">I Resource Manager</span><span class="sxs-lookup"><span data-stu-id="29d0a-112">Both Resource Manager</span></span>](virtual-network-create-peering.md) |<span data-ttu-id="29d0a-113">stejné</span><span class="sxs-lookup"><span data-stu-id="29d0a-113">Same</span></span>|
|[<span data-ttu-id="29d0a-114">I Resource Manager</span><span class="sxs-lookup"><span data-stu-id="29d0a-114">Both Resource Manager</span></span>](create-peering-different-subscriptions.md) |<span data-ttu-id="29d0a-115">Různé</span><span class="sxs-lookup"><span data-stu-id="29d0a-115">Different</span></span>|
|[<span data-ttu-id="29d0a-116">Jeden Resource Manager, jeden classic</span><span class="sxs-lookup"><span data-stu-id="29d0a-116">One Resource Manager, one classic</span></span>](create-peering-different-deployment-models-subscriptions.md) |<span data-ttu-id="29d0a-117">Různé</span><span class="sxs-lookup"><span data-stu-id="29d0a-117">Different</span></span>|

<span data-ttu-id="29d0a-118">Virtuální síť partnerský vztah nelze vytvořit mezi dvěma virtuálními sítěmi nasazené prostřednictvím modelu nasazení classic.</span><span class="sxs-lookup"><span data-stu-id="29d0a-118">A virtual network peering cannot be created between two virtual networks deployed through the classic deployment model.</span></span> <span data-ttu-id="29d0a-119">Partnerský vztah virtuální síť lze vytvořit pouze mezi dvěma virtuálními sítěmi, které existují ve stejné oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="29d0a-119">A virtual network peering can only be created between two virtual networks that exist in the same Azure region.</span></span> <span data-ttu-id="29d0a-120">Pokud potřebujete připojit virtuální sítě, které byly obě vytvořené pomocí modelu nasazení classic nebo které existovat v různých oblastech Azure, můžete použít Azure [brány VPN](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) připojení virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="29d0a-120">If you need to connect virtual networks that were both created through the classic deployment model, or that exist in different Azure regions, you can use an Azure [VPN Gateway](../vpn-gateway/vpn-gateway-howto-site-to-site-resource-manager-portal.md?toc=%2fazure%2fvirtual-network%2ftoc.json) to connect the virtual networks.</span></span> 

<span data-ttu-id="29d0a-121">Můžete použít [portál Azure](#portal), Azure [rozhraní příkazového řádku](#cli) (CLI), nebo Azure [prostředí PowerShell](#powershell) vytvoření virtuální sítě partnerského vztahu.</span><span class="sxs-lookup"><span data-stu-id="29d0a-121">You can use the [Azure portal](#portal), the Azure [command-line interface](#cli) (CLI), or Azure [PowerShell](#powershell) to create a virtual network peering.</span></span> <span data-ttu-id="29d0a-122">Klikněte na libovolný předchozí odkaz nástroj přejít přímo na kroky pro vytvoření virtuální sítě partnerský vztah nástroji vašeho výběru.</span><span class="sxs-lookup"><span data-stu-id="29d0a-122">Click any of the previous tool links to go directly to the steps for creating a virtual network peering using your tool of choice.</span></span>

## <span data-ttu-id="29d0a-123"><a name="cli"></a>Vytvoření partnerského vztahu - portálu</span><span class="sxs-lookup"><span data-stu-id="29d0a-123"><a name="cli"></a>Create peering - Portal</span></span>

1. <span data-ttu-id="29d0a-124">Přihlaste se k portálu [Azure Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="29d0a-124">Log in to the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="29d0a-125">Účet, ke kterému se přihlásíte, musí mít potřebná oprávnění k vytvoření virtuální sítě partnerského vztahu.</span><span class="sxs-lookup"><span data-stu-id="29d0a-125">The account you log in with must have the necessary permissions to create a virtual network peering.</span></span> <span data-ttu-id="29d0a-126">Najdete v článku [oprávnění](#permissions) tohoto článku podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="29d0a-126">See the [Permissions](#permissions) section of this article for details.</span></span>
2. <span data-ttu-id="29d0a-127">Klikněte na tlačítko **+ nový**, klikněte na tlačítko **sítě**, pak klikněte na tlačítko **virtuální síť**.</span><span class="sxs-lookup"><span data-stu-id="29d0a-127">Click **+ New**, click **Networking**, then click **Virtual network**.</span></span>
3. <span data-ttu-id="29d0a-128">V **vytvořit virtuální síť** okno, zadejte, nebo vyberte hodnoty pro následující nastavení a potom klikněte na tlačítko **vytvořit**:</span><span class="sxs-lookup"><span data-stu-id="29d0a-128">In the **Create virtual network** blade, enter, or select values for the following settings, then click **Create**:</span></span>
    - <span data-ttu-id="29d0a-129">**Název**: *myVnet1*</span><span class="sxs-lookup"><span data-stu-id="29d0a-129">**Name**: *myVnet1*</span></span>
    - <span data-ttu-id="29d0a-130">**Adresní prostor**: *10.0.0.0/16*</span><span class="sxs-lookup"><span data-stu-id="29d0a-130">**Address space**: *10.0.0.0/16*</span></span>
    - <span data-ttu-id="29d0a-131">**Název podsítě**: *výchozí*</span><span class="sxs-lookup"><span data-stu-id="29d0a-131">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="29d0a-132">**Rozsah adres podsítě**: *10.0.0.0/24*</span><span class="sxs-lookup"><span data-stu-id="29d0a-132">**Subnet address range**: *10.0.0.0/24*</span></span>
    - <span data-ttu-id="29d0a-133">**Předplatné**: Vyberte předplatné</span><span class="sxs-lookup"><span data-stu-id="29d0a-133">**Subscription**: Select your subscription</span></span>
    - <span data-ttu-id="29d0a-134">**Skupina prostředků**: vyberte **vytvořit nový** a zadejte *myResourceGroup*</span><span class="sxs-lookup"><span data-stu-id="29d0a-134">**Resource group**: Select **Create new** and enter *myResourceGroup*</span></span>
    - <span data-ttu-id="29d0a-135">**Umístění**: *východní USA*</span><span class="sxs-lookup"><span data-stu-id="29d0a-135">**Location**: *East US*</span></span>
4. <span data-ttu-id="29d0a-136">Klikněte na tlačítko **+ nový**.</span><span class="sxs-lookup"><span data-stu-id="29d0a-136">Click **+ New**.</span></span> <span data-ttu-id="29d0a-137">V **vyhledávání na webu Marketplace** zadejte *virtuální síť*.</span><span class="sxs-lookup"><span data-stu-id="29d0a-137">In the **Search the Marketplace** box, type *Virtual network*.</span></span> <span data-ttu-id="29d0a-138">Klikněte na tlačítko **virtuální síť** při zobrazí ve výsledcích hledání.</span><span class="sxs-lookup"><span data-stu-id="29d0a-138">Click **Virtual network** when it appears in the search results.</span></span> 
5. <span data-ttu-id="29d0a-139">V **virtuální síť** vyberte **Classic** v **vybrat model nasazení** pole a pak klikněte na **vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="29d0a-139">In the **Virtual network** blade, select **Classic** in the **Select a deployment model** box, and then click **Create**.</span></span>
6. <span data-ttu-id="29d0a-140">V **vytvořit virtuální síť** okno, zadejte, nebo vyberte hodnoty pro následující nastavení a potom klikněte na tlačítko **vytvořit**:</span><span class="sxs-lookup"><span data-stu-id="29d0a-140">In the **Create virtual network** blade, enter, or select values for the following settings, then click **Create**:</span></span>
    - <span data-ttu-id="29d0a-141">**Název**: *myVnet2*</span><span class="sxs-lookup"><span data-stu-id="29d0a-141">**Name**: *myVnet2*</span></span>
    - <span data-ttu-id="29d0a-142">**Adresní prostor**: *10.1.0.0/16*</span><span class="sxs-lookup"><span data-stu-id="29d0a-142">**Address space**: *10.1.0.0/16*</span></span>
    - <span data-ttu-id="29d0a-143">**Název podsítě**: *výchozí*</span><span class="sxs-lookup"><span data-stu-id="29d0a-143">**Subnet name**: *default*</span></span>
    - <span data-ttu-id="29d0a-144">**Rozsah adres podsítě**: *10.1.0.0/24*</span><span class="sxs-lookup"><span data-stu-id="29d0a-144">**Subnet address range**: *10.1.0.0/24*</span></span>
    - <span data-ttu-id="29d0a-145">**Předplatné**: Vyberte předplatné</span><span class="sxs-lookup"><span data-stu-id="29d0a-145">**Subscription**: Select your subscription</span></span>
    - <span data-ttu-id="29d0a-146">**Skupina prostředků**: vyberte **použít existující** a vyberte *myResourceGroup*</span><span class="sxs-lookup"><span data-stu-id="29d0a-146">**Resource group**: Select **Use existing** and select *myResourceGroup*</span></span>
    - <span data-ttu-id="29d0a-147">**Umístění**: *východní USA*</span><span class="sxs-lookup"><span data-stu-id="29d0a-147">**Location**: *East US*</span></span>
7. <span data-ttu-id="29d0a-148">V **vyhledávání prostředků** pole v horní části portálu, typ *myResourceGroup*.</span><span class="sxs-lookup"><span data-stu-id="29d0a-148">In the **Search resources** box at the top of the portal, type *myResourceGroup*.</span></span> <span data-ttu-id="29d0a-149">Klikněte na tlačítko **myResourceGroup** při zobrazí ve výsledcích hledání.</span><span class="sxs-lookup"><span data-stu-id="29d0a-149">Click **myResourceGroup** when it appears in the search results.</span></span> <span data-ttu-id="29d0a-150">Zobrazí okno **myresourcegroup** skupinu prostředků.</span><span class="sxs-lookup"><span data-stu-id="29d0a-150">A blade appears for the **myresourcegroup** resource group.</span></span> <span data-ttu-id="29d0a-151">Skupina prostředků obsahuje dvě virtuální sítě vytvořené v předchozích krocích.</span><span class="sxs-lookup"><span data-stu-id="29d0a-151">The resource group contains the two virtual networks created in previous steps.</span></span>
8. <span data-ttu-id="29d0a-152">Klikněte na tlačítko **myVNet1**.</span><span class="sxs-lookup"><span data-stu-id="29d0a-152">Click **myVNet1**.</span></span>
9. <span data-ttu-id="29d0a-153">V **myVnet1** okno, které se zobrazí, klikněte na tlačítko **partnerských vztahů** ze seznamu svislé možností na levé straně okna.</span><span class="sxs-lookup"><span data-stu-id="29d0a-153">In the **myVnet1** blade that appears, click **Peerings** from the vertical list of options on the left side of the blade.</span></span>
10. <span data-ttu-id="29d0a-154">V **myVnet1 - partnerských vztahů** okno, které se zobrazily, klikněte na tlačítko **+ přidat**</span><span class="sxs-lookup"><span data-stu-id="29d0a-154">In the **myVnet1 - Peerings** blade that appeared, click **+ Add**</span></span>
11. <span data-ttu-id="29d0a-155">V **partnerský vztah přidat** okno, které se zobrazí, zadejte, nebo vyberte následující možnosti a potom klikněte na tlačítko **OK**:</span><span class="sxs-lookup"><span data-stu-id="29d0a-155">In the **Add peering** blade that appears, enter, or select the following options, then click **OK**:</span></span>
     - <span data-ttu-id="29d0a-156">**Název**: *myVnet1ToMyVnet2*</span><span class="sxs-lookup"><span data-stu-id="29d0a-156">**Name**: *myVnet1ToMyVnet2*</span></span>
     - <span data-ttu-id="29d0a-157">**Virtuální síť modelu nasazení**: vyberte **Classic**.</span><span class="sxs-lookup"><span data-stu-id="29d0a-157">**Virtual network deployment model**:  Select **Classic**.</span></span> 
     - <span data-ttu-id="29d0a-158">**Předplatné**: Vyberte předplatné</span><span class="sxs-lookup"><span data-stu-id="29d0a-158">**Subscription**: Select your subscription</span></span>
     - <span data-ttu-id="29d0a-159">**Virtuální síť**: klikněte na tlačítko **vyberte virtuální síť**, pak klikněte na tlačítko **myVnet2**.</span><span class="sxs-lookup"><span data-stu-id="29d0a-159">**Virtual network**:  Click **Choose a virtual network**, then click **myVnet2**.</span></span>
     - <span data-ttu-id="29d0a-160">**Povolit přístup k virtuální síti:** Ujistěte se, že **povoleno** je vybrána.</span><span class="sxs-lookup"><span data-stu-id="29d0a-160">**Allow virtual network access:** Ensure that **Enabled** is selected.</span></span>
    <span data-ttu-id="29d0a-161">Žádné další nastavení použitá v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="29d0a-161">No other settings are used in this tutorial.</span></span> <span data-ttu-id="29d0a-162">Další informace o všech nastaveních partnerského vztahu, přečtěte si [spravovat virtuální sítě partnerských vztahů](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="29d0a-162">To learn about all peering settings, read [Manage virtual network peerings](virtual-network-manage-peering.md#create-a-peering).</span></span>
12. <span data-ttu-id="29d0a-163">Po kliknutí na **OK** v předchozím kroku, **partnerský vztah přidat** okno se zavře a zobrazí **myVnet1 - partnerských vztahů** okno znovu.</span><span class="sxs-lookup"><span data-stu-id="29d0a-163">After clicking **OK** in the previous step, the **Add peering** blade closes and you see the **myVnet1 - Peerings** blade again.</span></span> <span data-ttu-id="29d0a-164">Za několik sekund partnerského vztahu, kterou jste vytvořili se zobrazí v okně.</span><span class="sxs-lookup"><span data-stu-id="29d0a-164">After a few seconds, the peering you created appears in the blade.</span></span> <span data-ttu-id="29d0a-165">**Připojení** , je uvedena ve **stav partnerského vztahu** sloupec pro **myVnet1ToMyVnet2** partnerského vztahu, můžete vytvořit.</span><span class="sxs-lookup"><span data-stu-id="29d0a-165">**Connected** is listed in the **PEERING STATUS** column for the **myVnet1ToMyVnet2** peering you created.</span></span>

    <span data-ttu-id="29d0a-166">Partnerského vztahu je nyní vytvořeno.</span><span class="sxs-lookup"><span data-stu-id="29d0a-166">The peering is now established.</span></span> <span data-ttu-id="29d0a-167">Veškeré prostředky Azure, kterou vytvoříte na buď virtuální sítě je nyní možné vzájemně komunikovat prostřednictvím jejich IP adresy.</span><span class="sxs-lookup"><span data-stu-id="29d0a-167">Any Azure resources you create in either virtual network are now able to communicate with each other through their IP addresses.</span></span> <span data-ttu-id="29d0a-168">Pokud používáte překlad výchozí Azure pro virtuální sítě, nejsou prostředky ve virtuálních sítích překládat názvy virtuálních sítí.</span><span class="sxs-lookup"><span data-stu-id="29d0a-168">If you're using default Azure name resolution for the virtual networks, the resources in the virtual networks are not able to resolve names across the virtual networks.</span></span> <span data-ttu-id="29d0a-169">Pokud chcete překládat názvy virtuálních sítí v partnerský vztah, musíte vytvořit vlastní server DNS.</span><span class="sxs-lookup"><span data-stu-id="29d0a-169">If you want to resolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="29d0a-170">Zjistěte, jak nastavit [překladu IP adresy serveru DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="29d0a-170">Learn how to set up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>
13. <span data-ttu-id="29d0a-171">**Volitelné**: když vytváření virtuálních počítačů není zahrnutý v tomto kurzu, můžete vytvořit virtuální počítač v každé virtuální sítě a připojení z jednoho virtuálního počítače na druhý k ověření připojení.</span><span class="sxs-lookup"><span data-stu-id="29d0a-171">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine to the other, to validate connectivity.</span></span>
14. <span data-ttu-id="29d0a-172">**Volitelné**: Pokud chcete odstranit prostředky, které vytvoříte v tomto kurzu, proveďte kroky v [odstranit prostředky](#delete-portal) tohoto článku.</span><span class="sxs-lookup"><span data-stu-id="29d0a-172">**Optional**: To delete the resources that you create in this tutorial, complete the steps in the [Delete resources](#delete-portal) section of this article.</span></span>

## <span data-ttu-id="29d0a-173"><a name="cli"></a>Vytvoření partnerského vztahu - rozhraní příkazového řádku Azure</span><span class="sxs-lookup"><span data-stu-id="29d0a-173"><a name="cli"></a>Create peering - Azure CLI</span></span>

1. <span data-ttu-id="29d0a-174">[Nainstalujte](../cli-install-nodejs.md?toc=%2fazure%2fvirtual-network%2ftoc.json) 1.0 rozhraní příkazového řádku Azure k vytvoření virtuální sítě (klasické).</span><span class="sxs-lookup"><span data-stu-id="29d0a-174">[Install](../cli-install-nodejs.md?toc=%2fazure%2fvirtual-network%2ftoc.json) the Azure CLI 1.0 to create the virtual network (classic).</span></span>
2. <span data-ttu-id="29d0a-175">Otevřete relaci příkazového řádku a přihlaste se k Azure pomocí `azure login` příkaz.</span><span class="sxs-lookup"><span data-stu-id="29d0a-175">Open a command session and log in to Azure using the `azure login` command.</span></span>
3. <span data-ttu-id="29d0a-176">Spuštění rozhraní příkazového řádku v režimu správy služby tak, že zadáte `azure config mode asm` příkaz.</span><span class="sxs-lookup"><span data-stu-id="29d0a-176">Run the CLI in Service Management mode by entering the `azure config mode asm` command.</span></span>
4. <span data-ttu-id="29d0a-177">Zadejte následující příkaz pro vytvoření virtuální sítě (klasické):</span><span class="sxs-lookup"><span data-stu-id="29d0a-177">Enter the following command to create the virtual network (classic):</span></span>
 
    ```azurecli
    azure network vnet create --vnet myVnet2 --address-space 10.1.0.0 --cidr 16 --location "East US"
    ```

5. <span data-ttu-id="29d0a-178">Vytvořte skupinu prostředků a virtuální síť (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="29d0a-178">Create a resource group and a virtual network (Resource Manager).</span></span> <span data-ttu-id="29d0a-179">Můžete použít rozhraní příkazového řádku 1.0 nebo 2.0 ([nainstalovat](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json)).</span><span class="sxs-lookup"><span data-stu-id="29d0a-179">You can use either the CLI 1.0 or 2.0 ([install](/cli/azure/install-azure-cli?toc=%2fazure%2fvirtual-network%2ftoc.json)).</span></span> <span data-ttu-id="29d0a-180">V tomto kurzu se používá 2.0 rozhraní příkazového řádku k vytvoření virtuální sítě (Resource Manager), protože 2.0 je možné použít k vytvoření partnerského vztahu.</span><span class="sxs-lookup"><span data-stu-id="29d0a-180">In this tutorial, the CLI 2.0 is used to create the virtual network (Resource Manager), since 2.0 must be used to create the peering.</span></span> <span data-ttu-id="29d0a-181">Provést následující bash rozhraní příkazového řádku skript z místního počítače pomocí rozhraní příkazového řádku verze 2.0.4 nainstalovaný nebo novější.</span><span class="sxs-lookup"><span data-stu-id="29d0a-181">Execute the following bash CLI script from your local machine with the CLI 2.0.4 or later installed.</span></span> <span data-ttu-id="29d0a-182">Možnosti na spuštění bash skripty rozhraní příkazového řádku na klientovi Windows, najdete v části [běžící ve Windows Azure CLI](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="29d0a-182">For options on running bash CLI scripts on Windows client, see [Running the Azure CLI in Windows](../virtual-machines/windows/cli-options.md?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span> <span data-ttu-id="29d0a-183">Můžete také spustit skript prostředí cloudu Azure.</span><span class="sxs-lookup"><span data-stu-id="29d0a-183">You can also run the script using the Azure Cloud Shell.</span></span> <span data-ttu-id="29d0a-184">Služba Azure Cloud Shell je volně dostupné prostředí Bash, které můžete spustit přímo z portálu Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="29d0a-184">The Azure Cloud Shell is a free Bash shell that you can run directly within the Azure portal.</span></span> <span data-ttu-id="29d0a-185">Má předinstalované rozhraní Azure CLI, které je nakonfigurované pro použití s vaším účtem.</span><span class="sxs-lookup"><span data-stu-id="29d0a-185">It has the Azure CLI preinstalled and configured to use with your account.</span></span> <span data-ttu-id="29d0a-186">Klikněte **vyzkoušet** tlačítko ve skriptu, který způsobem, které vyvolá prostředí cloudu, který vám umožní přihlásit se k účtu Azure s.</span><span class="sxs-lookup"><span data-stu-id="29d0a-186">Click the **Try it** button in the script that follows, which invokes a Cloud Shell that logs you can log in to your Azure account with.</span></span> <span data-ttu-id="29d0a-187">Chcete-li spustit skript, klikněte na tlačítko **kopie** tlačítko a vložení, její obsah do své cloudové prostředí, stiskněte `Enter`.</span><span class="sxs-lookup"><span data-stu-id="29d0a-187">To execute the script, click the **Copy** button and paste, the contents into your Cloud Shell, then press `Enter`.</span></span>

    ```azurecli-interactive
    #!/bin/bash

    # Create a resource group.
    az group create \
      --name myResourceGroup \
      --location eastus

    # Create the virtual network (Resource Manager).
    az network vnet create \
      --name myVnet1 \
      --resource-group myResourceGroup \
      --location eastus \
      --address-prefix 10.0.0.0/16
    ```

6. <span data-ttu-id="29d0a-188">Vytvoření virtuální sítě partnerský vztah mezi dvě virtuální sítě vytvořené pomocí různé modely nasazení.</span><span class="sxs-lookup"><span data-stu-id="29d0a-188">Create a virtual network peering between the two virtual networks created through the different deployment models.</span></span> <span data-ttu-id="29d0a-189">Zkopírujte následující skript do textového editoru ve vašem počítači.</span><span class="sxs-lookup"><span data-stu-id="29d0a-189">Copy the following script to a text editor on your PC.</span></span> <span data-ttu-id="29d0a-190">Nahraďte `<subscription id>` s ID vašeho předplatného.</span><span class="sxs-lookup"><span data-stu-id="29d0a-190">Replace `<subscription id>` with your subscription Id.</span></span> <span data-ttu-id="29d0a-191">Pokud si nejste jisti Id předplatného, zadejte `az account show` příkaz.</span><span class="sxs-lookup"><span data-stu-id="29d0a-191">If you don't know your subscription Id, enter the `az account show` command.</span></span> <span data-ttu-id="29d0a-192">Hodnota **id** ve výstupu je ID vašeho předplatného.</span><span class="sxs-lookup"><span data-stu-id="29d0a-192">The value for **id** in the output is your subscription Id.</span></span> <span data-ttu-id="29d0a-193">Vložte upravené skriptu v relaci příkazového řádku a stiskněte klávesu `Enter`.</span><span class="sxs-lookup"><span data-stu-id="29d0a-193">Paste the modified script in to your CLI session, and then press `Enter`.</span></span>

    ```azurecli-interactive
    # Get the id for VNet1.
    vnet1Id=$(az network vnet show \
      --resource-group myResourceGroup \
      --name myVnet1 \
      --query id --out tsv)

    # Peer VNet1 to VNet2.
    az network vnet peering create \
      --name myVnet1ToMyVnet2 \
      --resource-group myResourceGroup \
      --vnet-name myVnet1 \
      --remote-vnet-id /subscriptions/<subscription id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnet2 \
      --allow-vnet-access
    ```
7. <span data-ttu-id="29d0a-194">Po spuštění skriptu, zkontrolujte partnerský vztah pro virtuální síť (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="29d0a-194">After the script executes, review the peering for the virtual network (Resource Manager).</span></span> <span data-ttu-id="29d0a-195">Zkopírujte následující příkaz, vložte jej v relaci příkazového řádku a stiskněte klávesu `Enter`:</span><span class="sxs-lookup"><span data-stu-id="29d0a-195">Copy the following command, paste it in your CLI session, and then press `Enter`:</span></span>

    ```azurecli-interactive
    az network vnet peering list \
      --resource-group myResourceGroup \
      --vnet-name myVnet1 \
      --output table
    ```
    
    <span data-ttu-id="29d0a-196">Výstup ukazuje **připojeno** v **PeeringState** sloupce.</span><span class="sxs-lookup"><span data-stu-id="29d0a-196">The output shows **Connected** in the **PeeringState** column.</span></span> 

    <span data-ttu-id="29d0a-197">Veškeré prostředky Azure, kterou vytvoříte na buď virtuální sítě je nyní možné vzájemně komunikovat prostřednictvím jejich IP adresy.</span><span class="sxs-lookup"><span data-stu-id="29d0a-197">Any Azure resources you create in either virtual network are now able to communicate with each other through their IP addresses.</span></span> <span data-ttu-id="29d0a-198">Pokud používáte překlad výchozí Azure pro virtuální sítě, nejsou prostředky ve virtuálních sítích překládat názvy virtuálních sítí.</span><span class="sxs-lookup"><span data-stu-id="29d0a-198">If you're using default Azure name resolution for the virtual networks, the resources in the virtual networks are not able to resolve names across the virtual networks.</span></span> <span data-ttu-id="29d0a-199">Pokud chcete překládat názvy virtuálních sítí v partnerský vztah, musíte vytvořit vlastní server DNS.</span><span class="sxs-lookup"><span data-stu-id="29d0a-199">If you want to resolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="29d0a-200">Zjistěte, jak nastavit [překladu IP adresy serveru DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="29d0a-200">Learn how to set up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>
8. <span data-ttu-id="29d0a-201">**Volitelné**: když vytváření virtuálních počítačů není zahrnutý v tomto kurzu, můžete vytvořit virtuální počítač v každé virtuální sítě a připojení z jednoho virtuálního počítače na druhý k ověření připojení.</span><span class="sxs-lookup"><span data-stu-id="29d0a-201">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine to the other, to validate connectivity.</span></span>
9. <span data-ttu-id="29d0a-202">**Volitelné**: Pokud chcete odstranit prostředky, které vytvoříte v tomto kurzu, proveďte kroky v [odstranit prostředky](#delete-cli) v tomto článku.</span><span class="sxs-lookup"><span data-stu-id="29d0a-202">**Optional**: To delete the resources that you create in this tutorial, complete the steps in [Delete resources](#delete-cli) in this article.</span></span>

## <span data-ttu-id="29d0a-203"><a name="powershell"></a>Vytvoření partnerského vztahu – prostředí PowerShell</span><span class="sxs-lookup"><span data-stu-id="29d0a-203"><a name="powershell"></a>Create peering - PowerShell</span></span>

1. <span data-ttu-id="29d0a-204">Nainstalujte nejnovější verzi prostředí PowerShell [Azure](https://www.powershellgallery.com/packages/Azure) a [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) moduly.</span><span class="sxs-lookup"><span data-stu-id="29d0a-204">Install the latest version of the PowerShell [Azure](https://www.powershellgallery.com/packages/Azure) and [AzureRm](https://www.powershellgallery.com/packages/AzureRM/) modules.</span></span> <span data-ttu-id="29d0a-205">Pokud s Azure PowerShellem začínáte, podívejte se na [Přehled Azure PowerShellu](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="29d0a-205">If you're new to Azure PowerShell, see [Azure PowerShell overview](/powershell/azure/overview?toc=%2fazure%2fvirtual-network%2ftoc.json).</span></span>
2. <span data-ttu-id="29d0a-206">Spusťte relaci prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="29d0a-206">Start a PowerShell session.</span></span>
3. <span data-ttu-id="29d0a-207">V PowerShellu se přihlaste k Azure zadáním příkazu `Add-AzureAccount`.</span><span class="sxs-lookup"><span data-stu-id="29d0a-207">In PowerShell, log in to Azure by entering the `Add-AzureAccount` command.</span></span>
4. <span data-ttu-id="29d0a-208">Vytvoření virtuální sítě (klasické) pomocí prostředí PowerShell, musíte vytvořit novou nebo upravit existující, konfigurační soubor sítě.</span><span class="sxs-lookup"><span data-stu-id="29d0a-208">To create a virtual network (classic) with PowerShell, you must create a new, or modify an existing, network configuration file.</span></span> <span data-ttu-id="29d0a-209">Zjistěte, jak [exportovat, aktualizovat a import konfiguračních souborů síť](virtual-networks-using-network-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="29d0a-209">Learn how to [export, update, and import network configuration files](virtual-networks-using-network-configuration-file.md).</span></span> <span data-ttu-id="29d0a-210">Soubor musí zahrnovat následující **VirtualNetworkSite** element pro virtuální síť použít v tomto kurzu:</span><span class="sxs-lookup"><span data-stu-id="29d0a-210">The file should include the following **VirtualNetworkSite** element for the virtual network used in this tutorial:</span></span>

    ```xml
    <VirtualNetworkSite name="myVnet2" Location="East US">
      <AddressSpace>
        <AddressPrefix>10.1.0.0/16</AddressPrefix>
      </AddressSpace>
      <Subnets>
        <Subnet name="default">
          <AddressPrefix>10.1.0.0/24</AddressPrefix>
        </Subnet>
      </Subnets>
    </VirtualNetworkSite>
    ```

    > [!WARNING]
    > <span data-ttu-id="29d0a-211">Import konfiguračního souboru změněné sítě může způsobit změny existující virtuální sítě (klasické) v rámci vašeho předplatného.</span><span class="sxs-lookup"><span data-stu-id="29d0a-211">Importing a changed network configuration file can cause changes to existing virtual networks (classic) in your subscription.</span></span> <span data-ttu-id="29d0a-212">Ujistěte se, můžete přidat pouze předchozí virtuální sítě a změníte nebo odeberte všechny existující virtuální sítě ze svého předplatného.</span><span class="sxs-lookup"><span data-stu-id="29d0a-212">Ensure you only add the previous virtual network and that you don't change or remove any existing virtual networks from your subscription.</span></span> 
5. <span data-ttu-id="29d0a-213">Přihlaste se k Azure a vytvoření virtuální sítě (Resource Manager) tak, že zadáte `login-azurermaccount` příkaz.</span><span class="sxs-lookup"><span data-stu-id="29d0a-213">Log in to Azure to create the virtual network (Resource Manager) by entering the `login-azurermaccount` command.</span></span> <span data-ttu-id="29d0a-214">Účet, ke kterému se přihlásíte, musí mít potřebná oprávnění k vytvoření virtuální sítě partnerského vztahu.</span><span class="sxs-lookup"><span data-stu-id="29d0a-214">The account you log in with must have the necessary permissions to create a virtual network peering.</span></span> <span data-ttu-id="29d0a-215">Najdete v článku [oprávnění](#permissions) tohoto článku podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="29d0a-215">See the [Permissions](#permissions) section of this article for details.</span></span>
6. <span data-ttu-id="29d0a-216">Vytvořte skupinu prostředků a virtuální síť (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="29d0a-216">Create a resource group and a virtual network (Resource Manager).</span></span> <span data-ttu-id="29d0a-217">Zkopírujte skript, vložte jej do prostředí PowerShell a potom stiskněte klávesu `Enter`.</span><span class="sxs-lookup"><span data-stu-id="29d0a-217">Copy the script, paste it into PowerShell, and then press `Enter`.</span></span>

    ```powershell
    # Create a resource group.
      New-AzureRmResourceGroup -Name myResourceGroup -Location eastus

    # Create the virtual network (Resource Manager).
      $vnet1 = New-AzureRmVirtualNetwork `
      -ResourceGroupName myResourceGroup `
      -Name 'myVnet1' `
      -AddressPrefix '10.0.0.0/16' `
      -Location eastus
    ```

7. <span data-ttu-id="29d0a-218">Vytvoření virtuální sítě partnerský vztah mezi dvě virtuální sítě vytvořené pomocí různé modely nasazení.</span><span class="sxs-lookup"><span data-stu-id="29d0a-218">Create a virtual network peering between the two virtual networks created through the different deployment models.</span></span> <span data-ttu-id="29d0a-219">Zkopírujte následující skript do textového editoru ve vašem počítači.</span><span class="sxs-lookup"><span data-stu-id="29d0a-219">Copy the following script to a text editor on your PC.</span></span> <span data-ttu-id="29d0a-220">Nahraďte `<subscription id>` s ID vašeho předplatného.</span><span class="sxs-lookup"><span data-stu-id="29d0a-220">Replace `<subscription id>` with your subscription Id.</span></span> <span data-ttu-id="29d0a-221">Pokud si nejste jisti Id předplatného, zadejte `Get-AzureRmSubscription` příkaz k jeho zobrazení.</span><span class="sxs-lookup"><span data-stu-id="29d0a-221">If you don't know your subscription Id, enter the `Get-AzureRmSubscription` command to view it.</span></span> <span data-ttu-id="29d0a-222">Hodnota **Id** ve vrácené výstupu je ID vašeho předplatného.</span><span class="sxs-lookup"><span data-stu-id="29d0a-222">The value for **Id** in the returned output is your subscription ID.</span></span> <span data-ttu-id="29d0a-223">Spustit skript, zkopírujte upravené skript z textového editoru a pak klikněte pravým tlačítkem v relaci prostředí PowerShell a potom stiskněte klávesu `Enter`.</span><span class="sxs-lookup"><span data-stu-id="29d0a-223">To execute the script, copy the modified script from your text editor, then right-click in your PowerShell session, and then press `Enter`.</span></span>

    ```powershell
    # Peer VNet1 to VNet2.
    Add-AzureRmVirtualNetworkPeering `
      -Name myVnet1ToMyVnet2 `
      -VirtualNetwork $vnet1 `
      -RemoteVirtualNetworkId /subscriptions/<subscription Id>/resourceGroups/Default-Networking/providers/Microsoft.ClassicNetwork/virtualNetworks/myVnet2
    ```

8. <span data-ttu-id="29d0a-224">Po spuštění skriptu, zkontrolujte partnerský vztah pro virtuální síť (Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="29d0a-224">After the script executes, review the peering for the virtual network (Resource Manager).</span></span> <span data-ttu-id="29d0a-225">Zkopírujte následující příkaz, vložte ho do relace prostředí PowerShell a potom stiskněte klávesu `Enter`:</span><span class="sxs-lookup"><span data-stu-id="29d0a-225">Copy the following command, paste it in your PowerShell session, and then press `Enter`:</span></span>

    ```powershell
    Get-AzureRmVirtualNetworkPeering `
      -ResourceGroupName myResourceGroup `
      -VirtualNetworkName myVnet1 `
      | Format-Table VirtualNetworkName, PeeringState
    ```

    <span data-ttu-id="29d0a-226">Výstup ukazuje **připojeno** v **PeeringState** sloupce.</span><span class="sxs-lookup"><span data-stu-id="29d0a-226">The output shows **Connected** in the **PeeringState** column.</span></span>

    <span data-ttu-id="29d0a-227">Veškeré prostředky Azure, kterou vytvoříte na buď virtuální sítě je nyní možné vzájemně komunikovat prostřednictvím jejich IP adresy.</span><span class="sxs-lookup"><span data-stu-id="29d0a-227">Any Azure resources you create in either virtual network are now able to communicate with each other through their IP addresses.</span></span> <span data-ttu-id="29d0a-228">Pokud používáte překlad výchozí Azure pro virtuální sítě, nejsou prostředky ve virtuálních sítích překládat názvy virtuálních sítí.</span><span class="sxs-lookup"><span data-stu-id="29d0a-228">If you're using default Azure name resolution for the virtual networks, the resources in the virtual networks are not able to resolve names across the virtual networks.</span></span> <span data-ttu-id="29d0a-229">Pokud chcete překládat názvy virtuálních sítí v partnerský vztah, musíte vytvořit vlastní server DNS.</span><span class="sxs-lookup"><span data-stu-id="29d0a-229">If you want to resolve names across virtual networks in a peering, you must create your own DNS server.</span></span> <span data-ttu-id="29d0a-230">Zjistěte, jak nastavit [překladu IP adresy serveru DNS](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span><span class="sxs-lookup"><span data-stu-id="29d0a-230">Learn how to set up [Name resolution using your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md#name-resolution-using-your-own-dns-server).</span></span>

9. <span data-ttu-id="29d0a-231">**Volitelné**: když vytváření virtuálních počítačů není zahrnutý v tomto kurzu, můžete vytvořit virtuální počítač v každé virtuální sítě a připojení z jednoho virtuálního počítače na druhý k ověření připojení.</span><span class="sxs-lookup"><span data-stu-id="29d0a-231">**Optional**: Though creating virtual machines is not covered in this tutorial, you can create a virtual machine in each virtual network and connect from one virtual machine to the other, to validate connectivity.</span></span>
10. <span data-ttu-id="29d0a-232">**Volitelné**: Pokud chcete odstranit prostředky, které vytvoříte v tomto kurzu, proveďte kroky v [odstranit prostředky](#delete-powershell) v tomto článku.</span><span class="sxs-lookup"><span data-stu-id="29d0a-232">**Optional**: To delete the resources that you create in this tutorial, complete the steps in [Delete resources](#delete-powershell) in this article.</span></span>
 
## <span data-ttu-id="29d0a-233"><a name="permissions"></a>Oprávnění</span><span class="sxs-lookup"><span data-stu-id="29d0a-233"><a name="permissions"></a>Permissions</span></span>

<span data-ttu-id="29d0a-234">Účty, které použijete k vytvoření virtuální sítě partnerského vztahu musí mít potřebné role nebo oprávnění.</span><span class="sxs-lookup"><span data-stu-id="29d0a-234">The accounts you use to create a virtual network peering must have the necessary role or permissions.</span></span> <span data-ttu-id="29d0a-235">Například pokud dvě virtuální sítě s názvem myVnet1 a myVnet2 byly partnerský vztah, musí váš účet se přiřazenou následující minimální role nebo oprávnění pro každou virtuální síť:</span><span class="sxs-lookup"><span data-stu-id="29d0a-235">For example, if you were peering two virtual networks named myVnet1 and myVnet2, your account must be assigned the following minimum role or permissions for each virtual network:</span></span>
    
|<span data-ttu-id="29d0a-236">Virtuální síť</span><span class="sxs-lookup"><span data-stu-id="29d0a-236">Virtual network</span></span>|<span data-ttu-id="29d0a-237">Model nasazení</span><span class="sxs-lookup"><span data-stu-id="29d0a-237">Deployment model</span></span>|<span data-ttu-id="29d0a-238">Role</span><span class="sxs-lookup"><span data-stu-id="29d0a-238">Role</span></span>|<span data-ttu-id="29d0a-239">Oprávnění</span><span class="sxs-lookup"><span data-stu-id="29d0a-239">Permissions</span></span>|
|---|---|---|---|
|<span data-ttu-id="29d0a-240">myVnet1</span><span class="sxs-lookup"><span data-stu-id="29d0a-240">myVnet1</span></span>|<span data-ttu-id="29d0a-241">Resource Manager</span><span class="sxs-lookup"><span data-stu-id="29d0a-241">Resource Manager</span></span>|[<span data-ttu-id="29d0a-242">Přispěvatel sítě</span><span class="sxs-lookup"><span data-stu-id="29d0a-242">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="29d0a-243">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span><span class="sxs-lookup"><span data-stu-id="29d0a-243">Microsoft.Network/virtualNetworks/virtualNetworkPeerings/write</span></span>|
| |<span data-ttu-id="29d0a-244">Classic</span><span class="sxs-lookup"><span data-stu-id="29d0a-244">Classic</span></span>|[<span data-ttu-id="29d0a-245">Přispěvatel klasických sítí</span><span class="sxs-lookup"><span data-stu-id="29d0a-245">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="29d0a-246">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="29d0a-246">N/A</span></span>|
|<span data-ttu-id="29d0a-247">myVnet2</span><span class="sxs-lookup"><span data-stu-id="29d0a-247">myVnet2</span></span>|<span data-ttu-id="29d0a-248">Resource Manager</span><span class="sxs-lookup"><span data-stu-id="29d0a-248">Resource Manager</span></span>|[<span data-ttu-id="29d0a-249">Přispěvatel sítě</span><span class="sxs-lookup"><span data-stu-id="29d0a-249">Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor)|<span data-ttu-id="29d0a-250">Microsoft.Network/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="29d0a-250">Microsoft.Network/virtualNetworks/peer</span></span>|
||<span data-ttu-id="29d0a-251">Classic</span><span class="sxs-lookup"><span data-stu-id="29d0a-251">Classic</span></span>|[<span data-ttu-id="29d0a-252">Přispěvatel klasických sítí</span><span class="sxs-lookup"><span data-stu-id="29d0a-252">Classic Network Contributor</span></span>](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#classic-network-contributor)|<span data-ttu-id="29d0a-253">Microsoft.ClassicNetwork/virtualNetworks/peer</span><span class="sxs-lookup"><span data-stu-id="29d0a-253">Microsoft.ClassicNetwork/virtualNetworks/peer</span></span>|

<span data-ttu-id="29d0a-254">Další informace o [předdefinované role](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) a přiřazení specifické oprávnění pro [vlastní role](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (pouze Resource Manager).</span><span class="sxs-lookup"><span data-stu-id="29d0a-254">Learn more about [built-in roles](../active-directory/role-based-access-built-in-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json#network-contributor) and assigning specific permissions to [custom roles](../active-directory/role-based-access-control-custom-roles.md?toc=%2fazure%2fvirtual-network%2ftoc.json) (Resource Manager only).</span></span>

## <span data-ttu-id="29d0a-255"><a name="delete"></a>Odstraňte prostředky</span><span class="sxs-lookup"><span data-stu-id="29d0a-255"><a name="delete"></a>Delete resources</span></span>
<span data-ttu-id="29d0a-256">Po dokončení tohoto kurzu, můžete chtít odstranit z prostředků, které jste vytvořili v tomto kurzu, aby vám zbytečně nenabíhaly poplatky za používání.</span><span class="sxs-lookup"><span data-stu-id="29d0a-256">When you've finished this tutorial, you might want to delete the resources you created in the tutorial, so you don't incur usage charges.</span></span> <span data-ttu-id="29d0a-257">Odstranění skupiny prostředků se také odstraní všechny prostředky, které jsou ve skupině prostředků.</span><span class="sxs-lookup"><span data-stu-id="29d0a-257">Deleting a resource group also deletes all resources that are in the resource group.</span></span>

### <span data-ttu-id="29d0a-258"><a name="delete-portal"></a>Portál Azure</span><span class="sxs-lookup"><span data-stu-id="29d0a-258"><a name="delete-portal"></a>Azure portal</span></span>

1. <span data-ttu-id="29d0a-259">V dialogovém okně hledání portálu zadejte **myResourceGroup**.</span><span class="sxs-lookup"><span data-stu-id="29d0a-259">In the portal search box, enter **myResourceGroup**.</span></span> <span data-ttu-id="29d0a-260">Ve výsledcích hledání klikněte na tlačítko **myResourceGroup**.</span><span class="sxs-lookup"><span data-stu-id="29d0a-260">In the search results, click **myResourceGroup**.</span></span>
2. <span data-ttu-id="29d0a-261">Na **myResourceGroup** okně klikněte **odstranit** ikonu.</span><span class="sxs-lookup"><span data-stu-id="29d0a-261">On the **myResourceGroup** blade, click the **Delete** icon.</span></span>
3. <span data-ttu-id="29d0a-262">Potvrďte odstranění, v **název skupiny prostředků typu** zadejte **myResourceGroup**a potom klikněte na **odstranit**.</span><span class="sxs-lookup"><span data-stu-id="29d0a-262">To confirm the deletion, in the **TYPE THE RESOURCE GROUP NAME** box, enter **myResourceGroup**, and then click **Delete**.</span></span>

### <span data-ttu-id="29d0a-263"><a name="delete-cli"></a>Rozhraní příkazového řádku Azure</span><span class="sxs-lookup"><span data-stu-id="29d0a-263"><a name="delete-cli"></a>Azure CLI</span></span>

1. <span data-ttu-id="29d0a-264">Pomocí Azure CLI 2.0 odstranit virtuální síť (Resource Manager) pomocí následujícího příkazu:</span><span class="sxs-lookup"><span data-stu-id="29d0a-264">Use the Azure CLI 2.0 to delete the virtual network (Resource Manager) with the following command:</span></span>

    ```azurecli-interactive
    az group delete --name myResourceGroup --yes
    ```

2. <span data-ttu-id="29d0a-265">Pomocí Azure CLI 1.0 odstranit virtuální síť (klasická) pomocí následujících příkazů:</span><span class="sxs-lookup"><span data-stu-id="29d0a-265">Use the Azure CLI 1.0 to delete the virtual network (classic) with the following commands:</span></span>

    ```azurecli
    azure config mode asm

    azure network vnet delete --vnet myVnet2 --quiet
    ```

### <span data-ttu-id="29d0a-266"><a name="delete-powershell"></a>Prostředí PowerShell</span><span class="sxs-lookup"><span data-stu-id="29d0a-266"><a name="delete-powershell"></a>PowerShell</span></span>

1. <span data-ttu-id="29d0a-267">Zadejte následující příkaz k odstranění virtuální sítě (Resource Manager):</span><span class="sxs-lookup"><span data-stu-id="29d0a-267">Enter the following command to delete the virtual network (Resource Manager):</span></span>

    ```powershell
    Remove-AzureRmResourceGroup -Name myResourceGroup -Force
    ```

2. <span data-ttu-id="29d0a-268">Pokud chcete odstranit virtuální sítě (klasické) v prostředí PowerShell, je třeba upravit existující konfigurační soubor sítě.</span><span class="sxs-lookup"><span data-stu-id="29d0a-268">To delete the virtual network (classic) with PowerShell, you must modify an existing network configuration file.</span></span> <span data-ttu-id="29d0a-269">Zjistěte, jak [exportovat, aktualizovat a import konfiguračních souborů síť](virtual-networks-using-network-configuration-file.md).</span><span class="sxs-lookup"><span data-stu-id="29d0a-269">Learn how to [export, update, and import network configuration files](virtual-networks-using-network-configuration-file.md).</span></span> <span data-ttu-id="29d0a-270">Odeberte následující element VirtualNetworkSite virtuální sítě používá v tomto kurzu:</span><span class="sxs-lookup"><span data-stu-id="29d0a-270">Remove the following VirtualNetworkSite element for the virtual network used in this tutorial:</span></span>

    ```xml
    <VirtualNetworkSite name="myVnet2" Location="East US">
      <AddressSpace>
        <AddressPrefix>10.1.0.0/16</AddressPrefix>
      </AddressSpace>
      <Subnets>
        <Subnet name="default">
          <AddressPrefix>10.1.0.0/24</AddressPrefix>
        </Subnet>
      </Subnets>
    </VirtualNetworkSite>
    ```

    > [!WARNING]
    > <span data-ttu-id="29d0a-271">Import konfiguračního souboru změněné sítě může způsobit změny existující virtuální sítě (klasické) v rámci vašeho předplatného.</span><span class="sxs-lookup"><span data-stu-id="29d0a-271">Importing a changed network configuration file can cause changes to existing virtual networks (classic) in your subscription.</span></span> <span data-ttu-id="29d0a-272">Ujistěte se, jenom odebrat předchozí virtuální sítě a změníte nebo odeberte ostatní existující virtuální sítě ze svého předplatného.</span><span class="sxs-lookup"><span data-stu-id="29d0a-272">Ensure you only remove the previous virtual network and that you don't change or remove any other existing virtual networks from your subscription.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="29d0a-273">Další kroky</span><span class="sxs-lookup"><span data-stu-id="29d0a-273">Next steps</span></span>

- <span data-ttu-id="29d0a-274">Důkladně Seznamte se s důležité [partnerského vztahu omezení virtuální sítě a chování](virtual-network-manage-peering.md#requirements-and-constraints) před vytvořením virtuální sítě partnerský vztah pro produkční použití.</span><span class="sxs-lookup"><span data-stu-id="29d0a-274">Thoroughly familiarize yourself with important [virtual network peering constraints and behaviors](virtual-network-manage-peering.md#requirements-and-constraints) before creating a virtual network peering for production use.</span></span>
- <span data-ttu-id="29d0a-275">Další informace o všech [partnerského vztahu nastavení virtuální sítě](virtual-network-manage-peering.md#create-a-peering).</span><span class="sxs-lookup"><span data-stu-id="29d0a-275">Learn about all [virtual network peering settings](virtual-network-manage-peering.md#create-a-peering).</span></span>
- <span data-ttu-id="29d0a-276">Zjistěte, jak [vytvořit rozbočovače a příčkou topologie sítě](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) s partnerský vztah virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="29d0a-276">Learn how to [create a hub and spoke network topology](/azure/architecture/reference-architectures/hybrid-networking/hub-spoke?toc=%2fazure%2fvirtual-network%2ftoc.json#vnet-peering) with virtual network peering.</span></span>
