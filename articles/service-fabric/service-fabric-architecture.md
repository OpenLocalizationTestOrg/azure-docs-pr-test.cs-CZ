---
title: aaaArchitecture Azure Service Fabric | Microsoft Docs
description: "Service Fabric je že platforma distribuovaných systémů použít toobuild spolehlivé, škálovatelné a snadno spravovat aplikace pro hello cloud. Tento článek popisuje architekturu hello Service Fabric."
services: service-fabric
documentationcenter: .net
author: rishirsinha
manager: timlt
editor: rishirsinha
ms.assetid: 6b554243-70cb-4c22-9b28-1a8b4703f45e
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/19/2017
ms.author: rsinha
ms.openlocfilehash: 0268578094ad1a0010ef44ed940f828b985f6c40
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-architecture"></a><span data-ttu-id="24fda-104">Architektura Service Fabric</span><span class="sxs-lookup"><span data-stu-id="24fda-104">Service Fabric architecture</span></span>
<span data-ttu-id="24fda-105">Service Fabric je vytvořené s vrstvami subsystémy.</span><span class="sxs-lookup"><span data-stu-id="24fda-105">Service Fabric is built with layered subsystems.</span></span> <span data-ttu-id="24fda-106">Tyto subsystémy povolit toowrite aplikace, které jsou:</span><span class="sxs-lookup"><span data-stu-id="24fda-106">These subsystems enable you toowrite applications that are:</span></span>

* <span data-ttu-id="24fda-107">Vysoce dostupný</span><span class="sxs-lookup"><span data-stu-id="24fda-107">Highly available</span></span>
* <span data-ttu-id="24fda-108">Škálovatelné</span><span class="sxs-lookup"><span data-stu-id="24fda-108">Scalable</span></span>
* <span data-ttu-id="24fda-109">Spravovat</span><span class="sxs-lookup"><span data-stu-id="24fda-109">Manageable</span></span>
* <span data-ttu-id="24fda-110">Možností intenzivního testování</span><span class="sxs-lookup"><span data-stu-id="24fda-110">Testable</span></span>

<span data-ttu-id="24fda-111">Hello následující diagram znázorňuje hlavní subsystémy hello služby prostředků infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="24fda-111">hello following diagram shows hello major subsystems of Service Fabric.</span></span>

![Diagram architektury Service Fabric](media/service-fabric-architecture/service-fabric-architecture.png)

<span data-ttu-id="24fda-113">V rámci distribuované systému hello možnost toosecurely komunikaci mezi uzly v clusteru je zásadní.</span><span class="sxs-lookup"><span data-stu-id="24fda-113">In a distributed system, hello ability toosecurely communicate between nodes in a cluster is crucial.</span></span> <span data-ttu-id="24fda-114">V hello je základem hello zásobníku subsystému hello přenos, který poskytuje zabezpečenou komunikaci mezi uzly.</span><span class="sxs-lookup"><span data-stu-id="24fda-114">At hello base of hello stack is hello transport subsystem, which provides secure communication between nodes.</span></span> <span data-ttu-id="24fda-115">Výše hello přenosu je subsystému hello federační subsystému, které clustery hello různých uzlech do jedné entity (s názvem clustery), aby mohli Service Fabric rozpoznala chyby, proveďte vedoucí volba a poskytují konzistentní směrování.</span><span class="sxs-lookup"><span data-stu-id="24fda-115">Above hello transport subsystem lies hello federation subsystem, which clusters hello different nodes into a single entity (named clusters) so that Service Fabric can detect failures, perform leader election, and provide consistent routing.</span></span> <span data-ttu-id="24fda-116">subsystém Hello spolehlivost, jako vrstva nad hello federační subsystému, zodpovídá za hello spolehlivost Service Fabric služeb prostřednictvím mechanismy, jako je replikace, správy prostředků a převzetí služeb při selhání.</span><span class="sxs-lookup"><span data-stu-id="24fda-116">hello reliability subsystem, layered on top of hello federation subsystem, is responsible for hello reliability of Service Fabric services through mechanisms such as replication, resource management, and failover.</span></span> <span data-ttu-id="24fda-117">subsystém federační Hello také základem hostování a aktivaci hello subsystému, který spravuje životní cyklus hello aplikace v jednom uzlu.</span><span class="sxs-lookup"><span data-stu-id="24fda-117">hello federation subsystem also underlies hello hosting and activation subsystem, which manages hello lifecycle of an application on a single node.</span></span> <span data-ttu-id="24fda-118">subsystém správu Hello spravuje hello životního cyklu aplikací a služeb.</span><span class="sxs-lookup"><span data-stu-id="24fda-118">hello management subsystem manages hello lifecycle of applications and services.</span></span> <span data-ttu-id="24fda-119">subsystém testovatelnosti Hello pomáhá vývojářům aplikací testování jejich služeb prostřednictvím simulované chyb před a po nasazení aplikací a služeb tooproduction prostředí.</span><span class="sxs-lookup"><span data-stu-id="24fda-119">hello testability subsystem helps application developers test their services through simulated faults before and after deploying applications and services tooproduction environments.</span></span> <span data-ttu-id="24fda-120">Service Fabric nabízí možnost hello tooresolve umístění služeb pomocí jeho komunikačního subsystému.</span><span class="sxs-lookup"><span data-stu-id="24fda-120">Service Fabric provides hello ability tooresolve service locations through its communication subsystem.</span></span> <span data-ttu-id="24fda-121">programovací modely aplikace jsou zveřejněné toodevelopers vrstva nad tyto subsystémy společně s nástroji tooenable modelu aplikace hello Hello.</span><span class="sxs-lookup"><span data-stu-id="24fda-121">hello application programming models exposed toodevelopers are layered on top of these subsystems along with hello application model tooenable tooling.</span></span>

## <a name="transport-subsystem"></a><span data-ttu-id="24fda-122">Subsystém přenosu</span><span class="sxs-lookup"><span data-stu-id="24fda-122">Transport subsystem</span></span>
<span data-ttu-id="24fda-123">subsystém přenosu Hello implementuje point-to-point datagram komunikační kanál.</span><span class="sxs-lookup"><span data-stu-id="24fda-123">hello transport subsystem implements a point-to-point datagram communication channel.</span></span> <span data-ttu-id="24fda-124">Tento kanál se používá pro komunikaci v rámci clusterů service fabric a komunikaci mezi hello service fabric cluster a klienty.</span><span class="sxs-lookup"><span data-stu-id="24fda-124">This channel is used for communication within service fabric clusters and communication between hello service fabric cluster and clients.</span></span> <span data-ttu-id="24fda-125">Podporuje jednosměrné a schémata komunikace požadavku a odpovědi, které poskytuje hello základ pro implementaci všesměrového a vícesměrového vysílání v hello federační vrstvy.</span><span class="sxs-lookup"><span data-stu-id="24fda-125">It supports one-way and request-reply communication patterns, which provides hello basis for implementing broadcast and multicast in hello Federation layer.</span></span> <span data-ttu-id="24fda-126">subsystém přenosu Hello zabezpečuje komunikaci pomocí X509 certifikáty nebo zabezpečení systému Windows.</span><span class="sxs-lookup"><span data-stu-id="24fda-126">hello transport subsystem secures communication by using X509 certificates or Windows security.</span></span> <span data-ttu-id="24fda-127">Tento subsystém používá se interně pomocí Service Fabric a není přímo přístupný toodevelopers pro programování aplikací.</span><span class="sxs-lookup"><span data-stu-id="24fda-127">This subsystem is used internally by Service Fabric and is not directly accessible toodevelopers for application programming.</span></span>

## <a name="federation-subsystem"></a><span data-ttu-id="24fda-128">Subsystém Federation</span><span class="sxs-lookup"><span data-stu-id="24fda-128">Federation subsystem</span></span>
<span data-ttu-id="24fda-129">Pořadí tooreason o sada uzlů v distribuované systému je nutné toohave konzistentní zobrazení hello systému.</span><span class="sxs-lookup"><span data-stu-id="24fda-129">In order tooreason about a set of nodes in a distributed system, you need toohave a consistent view of hello system.</span></span> <span data-ttu-id="24fda-130">subsystém federační Hello používá primitiv komunikace hello poskytované hello přenosu subsystému a oky hello různé uzly do jediného jednotná clusteru, který můžete důvodu o.</span><span class="sxs-lookup"><span data-stu-id="24fda-130">hello federation subsystem uses hello communication primitives provided by hello transport subsystem and stitches hello various nodes into a single unified cluster that it can reason about.</span></span> <span data-ttu-id="24fda-131">Poskytuje hello distribuovaných systémů primitiv potřeby podle hello jiné subsystémy - detekce chyb, vedoucí volba a konzistentní směrování.</span><span class="sxs-lookup"><span data-stu-id="24fda-131">It provides hello distributed systems primitives needed by hello other subsystems - failure detection, leader election, and consistent routing.</span></span> <span data-ttu-id="24fda-132">subsystém federační Hello je postavená na distribuované zatřiďovacích tabulkách tokenu mezerami 128-bit.</span><span class="sxs-lookup"><span data-stu-id="24fda-132">hello federation subsystem is built on top of distributed hash tables with a 128-bit token space.</span></span> <span data-ttu-id="24fda-133">subsystém Hello vytvoří kruhová topologie přes hello uzly se každý uzel v hello prstenec přidělenou podmnožinu hello tokenu místa pro vlastnictví.</span><span class="sxs-lookup"><span data-stu-id="24fda-133">hello subsystem creates a ring topology over hello nodes, with each node in hello ring being allocated a subset of hello token space for ownership.</span></span> <span data-ttu-id="24fda-134">Pro zjišťování selhání vrstvy hello používá mechanismus "pronájmu" na základě prezenční signálu a arbitrážního.</span><span class="sxs-lookup"><span data-stu-id="24fda-134">For failure detection, hello layer uses a leasing mechanism based on heart beating and arbitration.</span></span> <span data-ttu-id="24fda-135">subsystém federační Hello také zaručuje prostřednictvím komplikované spojení a odeslání protokolů, které existuje jenom jeden vlastník token kdykoli.</span><span class="sxs-lookup"><span data-stu-id="24fda-135">hello federation subsystem also guarantees through intricate join and departure protocols that only a single owner of a token exists at any time.</span></span> <span data-ttu-id="24fda-136">To poskytuje vedoucí volba a konzistentní směrování záruky.</span><span class="sxs-lookup"><span data-stu-id="24fda-136">This provides leader election and consistent routing guarantees.</span></span>

## <a name="reliability-subsystem"></a><span data-ttu-id="24fda-137">Spolehlivost subsystému</span><span class="sxs-lookup"><span data-stu-id="24fda-137">Reliability subsystem</span></span>
<span data-ttu-id="24fda-138">Hello spolehlivost subsystému poskytuje hello mechanismus toomake hello stavu služby Service Fabric vysoce dostupný prostřednictvím použití hello hello *Replikátor*, *Failover Manager*, a  *Nástroje pro vyrovnávání prostředků*.</span><span class="sxs-lookup"><span data-stu-id="24fda-138">hello reliability subsystem provides hello mechanism toomake hello state of a Service Fabric service highly available through hello use of hello *Replicator*, *Failover Manager*, and *Resource Balancer*.</span></span>

* <span data-ttu-id="24fda-139">Hello Replikátor zajistí, že změny stavu v replice hello primární služba bude automaticky replikované toosecondary repliky, zachování konzistence mezi hello primární a sekundární repliky v sadě replik služby.</span><span class="sxs-lookup"><span data-stu-id="24fda-139">hello Replicator ensures that state changes in hello primary service replica will automatically be replicated toosecondary replicas, maintaining consistency between hello primary and secondary replicas in a service replica set.</span></span> <span data-ttu-id="24fda-140">Replikátor Hello je odpovědná za správu kvora mezi hello replik v hello sady replik.</span><span class="sxs-lookup"><span data-stu-id="24fda-140">hello replicator is responsible for quorum management among hello replicas in hello replica set.</span></span> <span data-ttu-id="24fda-141">Komunikuje se službou hello převzetí služeb při selhání jednotky tooget hello seznam operací tooreplicate a poskytne mu agent Rekonfigurace hello hello konfiguraci sady replik hello.</span><span class="sxs-lookup"><span data-stu-id="24fda-141">It interacts with hello failover unit tooget hello list of operations tooreplicate, and hello reconfiguration agent provides it with hello configuration of hello replica set.</span></span> <span data-ttu-id="24fda-142">Tato konfigurace označuje, které operace hello repliky potřebovat toobe replikovat.</span><span class="sxs-lookup"><span data-stu-id="24fda-142">That configuration indicates which replicas hello operations need toobe replicated.</span></span> <span data-ttu-id="24fda-143">Service Fabric nabízí výchozí Replikátor, názvem Replikátor Fabric, která mohou být využívána hello programovací model rozhraní API toomake hello stav služby vysoce dostupné a spolehlivé.</span><span class="sxs-lookup"><span data-stu-id="24fda-143">Service Fabric provides a default replicator called Fabric Replicator, which can be used by hello programming model API toomake hello service state highly available and reliable.</span></span>
* <span data-ttu-id="24fda-144">Hello Správce převzetí služeb při selhání zajistí, že při přidávání tooor odebrat z clusteru hello uzlů, hello zatížení automaticky rozloží mezi uzly hello k dispozici.</span><span class="sxs-lookup"><span data-stu-id="24fda-144">hello Failover Manager ensures that when nodes are added tooor removed from hello cluster, hello load is automatically redistributed across hello available nodes.</span></span> <span data-ttu-id="24fda-145">V případě selhání uzlu v clusteru hello hello clusteru automaticky rekonfigurují dostupnost toomaintain repliky služby hello.</span><span class="sxs-lookup"><span data-stu-id="24fda-145">If a node in hello cluster fails, hello cluster will automatically reconfigure hello service replicas toomaintain availability.</span></span>
* <span data-ttu-id="24fda-146">Hello Resource Manager umístí repliky služby napříč domény selhání v clusteru hello a zajišťuje, aby všechny jednotky převzetí služeb při selhání provozu.</span><span class="sxs-lookup"><span data-stu-id="24fda-146">hello Resource Manager places service replicas across failure domain in hello cluster and ensures that all failover units are operational.</span></span> <span data-ttu-id="24fda-147">Hello Resource Manager také vyrovnává prostředky služby napříč hello základní sdílený fond rozdělení optimální uniform zatížení tooachieve uzly clusteru.</span><span class="sxs-lookup"><span data-stu-id="24fda-147">hello Resource Manager also balances service resources across hello underlying shared pool of cluster nodes tooachieve optimal uniform load distribution.</span></span>

## <a name="management-subsystem"></a><span data-ttu-id="24fda-148">Subsystém správy</span><span class="sxs-lookup"><span data-stu-id="24fda-148">Management subsystem</span></span>
<span data-ttu-id="24fda-149">subsystém Hello správu poskytuje služby začátku do konce a správa životního cyklu aplikací.</span><span class="sxs-lookup"><span data-stu-id="24fda-149">hello management subsystem provides end-to-end service and application lifecycle management.</span></span> <span data-ttu-id="24fda-150">Rutiny prostředí PowerShell a rozhraní API pro správu umožňují tooprovision, nasazení, opravy, upgradu a poté zřizování aplikace bez ztráty dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="24fda-150">PowerShell cmdlets and administrative APIs enable you tooprovision, deploy, patch, upgrade, and de-provision applications without loss of availability.</span></span> <span data-ttu-id="24fda-151">subsystém správu Hello to provede prostřednictvím hello následující služby.</span><span class="sxs-lookup"><span data-stu-id="24fda-151">hello management subsystem performs this through hello following services.</span></span>

* <span data-ttu-id="24fda-152">**Správce clusteru**: Toto je hello primární služba, která interaguje s hello Správce převzetí služeb při selhání z spolehlivost tooplace hello aplikací na uzlech hello podle omezení umístění služby hello.</span><span class="sxs-lookup"><span data-stu-id="24fda-152">**Cluster Manager**: This is hello primary service that interacts with hello Failover Manager from reliability tooplace hello applications on hello nodes based on hello service placement constraints.</span></span> <span data-ttu-id="24fda-153">Hello Resource Manager v subsystému převzetí služeb při selhání zajistí hello omezení nikdy přerušená.</span><span class="sxs-lookup"><span data-stu-id="24fda-153">hello Resource Manager in failover subsystem ensures that hello constraints are never broken.</span></span> <span data-ttu-id="24fda-154">Správce clusteru Hello spravuje hello životního cyklu aplikací hello z zřídit toode-provision.</span><span class="sxs-lookup"><span data-stu-id="24fda-154">hello cluster manager manages hello lifecycle of hello applications from provision toode-provision.</span></span> <span data-ttu-id="24fda-155">Integruje se s hello health manager tooensure že dostupnosti aplikace není během upgradu ke ztrátě z hlediska sémantického stavu.</span><span class="sxs-lookup"><span data-stu-id="24fda-155">It integrates with hello health manager tooensure that application availability is not lost from a semantic health perspective during upgrades.</span></span>
* <span data-ttu-id="24fda-156">**Správce stavu**: Tato služba umožňuje sledování stavu aplikací, služeb a entity clusteru.</span><span class="sxs-lookup"><span data-stu-id="24fda-156">**Health Manager**: This service enables health monitoring of applications, services, and cluster entities.</span></span> <span data-ttu-id="24fda-157">Informace o stavu, který je pak agregovat do úložiště centralizované stavu hello mohou zasílat zprávy o entitami clusteru (jako je například uzlů, oddílů služby a repliky).</span><span class="sxs-lookup"><span data-stu-id="24fda-157">Cluster entities (such as nodes, service partitions, and replicas) can report health information, which is then aggregated into hello centralized health store.</span></span> <span data-ttu-id="24fda-158">Tato informace o stavu poskytuje snímek stavu celkové v daném okamžiku hello služby a distribuované ve více uzlech v clusteru hello, takže se budete tootake uzly všechny potřebné opravné akce.</span><span class="sxs-lookup"><span data-stu-id="24fda-158">This health information provides an overall point-in-time health snapshot of hello services and nodes distributed across multiple nodes in hello cluster, enabling you tootake any needed corrective actions.</span></span> <span data-ttu-id="24fda-159">Dotaz stavu, že rozhraní API umožňují události stavu hello tooquery hlášené toohello stavu subsystému.</span><span class="sxs-lookup"><span data-stu-id="24fda-159">Health query APIs enable you tooquery hello health events reported toohello health subsystem.</span></span> <span data-ttu-id="24fda-160">Hello stavu dotaz rozhraní API vrátit hello stavu nezpracovaná data uložená v hello stavu ukládání nebo hello agregován, interpretovat data o stavu pro určitý cluster entitu.</span><span class="sxs-lookup"><span data-stu-id="24fda-160">hello health query APIs return hello raw health data stored in hello health store or hello aggregated, interpreted health data for a specific cluster entity.</span></span>
* <span data-ttu-id="24fda-161">**Úložiště bitových kopií**: Tato služba poskytuje úložiště a distribuci hello binární soubory aplikace.</span><span class="sxs-lookup"><span data-stu-id="24fda-161">**Image Store**: This service provides storage and distribution of hello application binaries.</span></span> <span data-ttu-id="24fda-162">Tato služba poskytuje jednoduché souborů DFS úložiště, kde aplikace hello jsou nahrané tooand stáhnout z.</span><span class="sxs-lookup"><span data-stu-id="24fda-162">This service provides a simple distributed file store where hello applications are uploaded tooand downloaded from.</span></span>

## <a name="hosting-subsystem"></a><span data-ttu-id="24fda-163">Hostování subsystému</span><span class="sxs-lookup"><span data-stu-id="24fda-163">Hosting subsystem</span></span>
<span data-ttu-id="24fda-164">Správce clusteru Hello informuje, že hello hostování subsystému (spuštěná v každém uzlu), který ji obsluhuje požadavkům toomanage konkrétním uzlu.</span><span class="sxs-lookup"><span data-stu-id="24fda-164">hello cluster manager informs hello hosting subsystem (running on each node) which services it needs toomanage for a particular node.</span></span> <span data-ttu-id="24fda-165">Hello hostování subsystému potom spravuje životní cyklus hello hello aplikace v tomto uzlu.</span><span class="sxs-lookup"><span data-stu-id="24fda-165">hello hosting subsystem then manages hello lifecycle of hello application on that node.</span></span> <span data-ttu-id="24fda-166">Komunikuje se službou hello spolehlivost a stavu součásti tooensure že hello repliky umístěny správně a jsou v pořádku.</span><span class="sxs-lookup"><span data-stu-id="24fda-166">It interacts with hello reliability and health components tooensure that hello replicas are properly placed and are healthy.</span></span>

## <a name="communication-subsystem"></a><span data-ttu-id="24fda-167">Komunikačního subsystému</span><span class="sxs-lookup"><span data-stu-id="24fda-167">Communication subsystem</span></span>
<span data-ttu-id="24fda-168">Tento subsystém poskytuje spolehlivé zasílání zpráv v rámci zjišťování hello clusteru a služby pomocí služby pojmenování hello.</span><span class="sxs-lookup"><span data-stu-id="24fda-168">This subsystem provides reliable messaging within hello cluster and service discovery through hello Naming service.</span></span> <span data-ttu-id="24fda-169">Hello Naming service řeší služba názvy tooa umístění v clusteru hello a umožňuje uživatelům toomanage služby názvy a vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="24fda-169">hello Naming service resolves service names tooa location in hello cluster and enables users toomanage service names and properties.</span></span> <span data-ttu-id="24fda-170">Pomocí služby pojmenování hello, klienti mohou bezpečně komunikovat s jakéhokoli uzlu v clusteru tooresolve hello název služby a načíst metadata služby.</span><span class="sxs-lookup"><span data-stu-id="24fda-170">Using hello Naming service, clients can securely communicate with any node in hello cluster tooresolve a service name and retrieve service metadata.</span></span> <span data-ttu-id="24fda-171">Pomocí jednoduchého pojmenování klientského rozhraní API, můžete vyvíjet uživatelé Service Fabric, služeb a klientů podporujících řešení hello aktuální umístění v síti i přes uzel náskok nebo hello Změna velikosti znovu hello clusteru.</span><span class="sxs-lookup"><span data-stu-id="24fda-171">Using a simple Naming client API, users of Service Fabric can develop services and clients capable of resolving hello current network location despite node dynamism or hello re-sizing of hello cluster.</span></span>

## <a name="testability-subsystem"></a><span data-ttu-id="24fda-172">Testovatelnosti subsystému</span><span class="sxs-lookup"><span data-stu-id="24fda-172">Testability subsystem</span></span>
<span data-ttu-id="24fda-173">Testovatelnosti je sada nástrojů, které jsou vytvořené speciálně pro testování služby založený na Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="24fda-173">Testability is a suite of tools specifically designed for testing services built on Service Fabric.</span></span> <span data-ttu-id="24fda-174">Hello nástroje umožňují vývojář snadno vyvolat smysluplný chyb a spuštění testu tooexercise scénáře a ověření hello množství stavy a přechody, které služba bude na základě zkušeností uživatelů v průběhu své životnosti, všechny řízené a bezpečným způsobem.</span><span class="sxs-lookup"><span data-stu-id="24fda-174">hello tools let a developer easily induce meaningful faults and run test scenarios tooexercise and validate hello numerous states and transitions that a service will experience throughout its lifetime, all in a controlled and safe manner.</span></span> <span data-ttu-id="24fda-175">Testovatelnosti také poskytuje mechanismus toorun delší testy, které můžete iteraci v rámci různých možných selhání bez ztráty dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="24fda-175">Testability also provides a mechanism toorun longer tests that can iterate through various possible failures without losing availability.</span></span> <span data-ttu-id="24fda-176">To poskytuje test v provozním prostředí.</span><span class="sxs-lookup"><span data-stu-id="24fda-176">This provides you with a test-in-production environment.</span></span>

