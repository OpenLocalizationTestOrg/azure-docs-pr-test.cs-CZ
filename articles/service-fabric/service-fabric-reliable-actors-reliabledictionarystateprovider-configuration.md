---
title: "Změna nastavení ReliableDictionaryActorStateProvider v Azure mikroslužeb | Microsoft Docs"
description: "Další informace o konfiguraci Azure Service Fabric stavová aktéři typu ReliableDictionaryActorStateProvider."
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: 79b48ffa-2474-4f1c-a857-3471f9590ded
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: 2b5359412ebb4ea42f3e9c22db944aea9a666bb1
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="configuring-reliable-actors--reliabledictionaryactorstateprovider"></a><span data-ttu-id="7f730-103">Konfigurace Reliable Actors – ReliableDictionaryActorStateProvider</span><span class="sxs-lookup"><span data-stu-id="7f730-103">Configuring Reliable Actors--ReliableDictionaryActorStateProvider</span></span>
<span data-ttu-id="7f730-104">Výchozí konfigurace ReliableDictionaryActorStateProvider můžete upravit změnou souboru souborech settings.xml vygenerované zadaného objektu actor v kořenu balíčku sady Visual Studio ve složce Konfigurace.</span><span class="sxs-lookup"><span data-stu-id="7f730-104">You can modify the default configuration of ReliableDictionaryActorStateProvider by changing the settings.xml file generated in the Visual Studio package root under the Config folder for the specified actor.</span></span>

<span data-ttu-id="7f730-105">Modul runtime Azure Service Fabric předdefinované části z názvů v souboru souborech settings.xml a odebírá hodnoty konfigurace při vytvoření základní komponenty modulu runtime.</span><span class="sxs-lookup"><span data-stu-id="7f730-105">The Azure Service Fabric runtime looks for predefined section names in the settings.xml file and consumes the configuration values while creating the underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="7f730-106">Proveďte **není** odstranit nebo změnit názvy části následující konfigurace v souborech settings.xml soubor, který se generuje ve řešení sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="7f730-106">Do **not** delete or modify the section names of the following configurations in the settings.xml file that is generated in the Visual Studio solution.</span></span>
> 
> 

<span data-ttu-id="7f730-107">Existují také globální nastavení, které ovlivňují konfiguraci ReliableDictionaryActorStateProvider.</span><span class="sxs-lookup"><span data-stu-id="7f730-107">There are also global settings that affect the configuration of ReliableDictionaryActorStateProvider.</span></span>

## <a name="global-configuration"></a><span data-ttu-id="7f730-108">Globální konfigurace</span><span class="sxs-lookup"><span data-stu-id="7f730-108">Global Configuration</span></span>
<span data-ttu-id="7f730-109">Globální konfiguraci je zadáno v manifestu clusteru pro cluster části KtlLogger.</span><span class="sxs-lookup"><span data-stu-id="7f730-109">The global configuration is specified in the cluster manifest for the cluster under the KtlLogger section.</span></span> <span data-ttu-id="7f730-110">Umožňuje konfiguraci protokolu sdílené umístění a velikost a limity globální paměti používané protokolovacího nástroje.</span><span class="sxs-lookup"><span data-stu-id="7f730-110">It allows configuration of the shared log location and size plus the global memory limits used by the logger.</span></span> <span data-ttu-id="7f730-111">Všimněte si, že změny v manifestu clusteru vliv na všechny služby, které používají ReliableDictionaryActorStateProvider a spolehlivé stavové služby.</span><span class="sxs-lookup"><span data-stu-id="7f730-111">Note that changes in the cluster manifest affect all services that use ReliableDictionaryActorStateProvider and reliable stateful services.</span></span>

<span data-ttu-id="7f730-112">V manifestu clusteru je jednoho souboru XML, který obsahuje nastavení a konfigurace, které platí pro všechny uzly a služby v clusteru.</span><span class="sxs-lookup"><span data-stu-id="7f730-112">The cluster manifest is a single XML file that holds settings and configurations that apply to all nodes and services in the cluster.</span></span> <span data-ttu-id="7f730-113">Soubor se obvykle nazývá ClusterManifest.xml.</span><span class="sxs-lookup"><span data-stu-id="7f730-113">The file is typically called ClusterManifest.xml.</span></span> <span data-ttu-id="7f730-114">Můžete zobrazit clusteru manifestu clusteru pomocí příkazu Get-ServiceFabricClusterManifest prostředí powershell.</span><span class="sxs-lookup"><span data-stu-id="7f730-114">You can see the cluster manifest for your cluster using the Get-ServiceFabricClusterManifest powershell command.</span></span>

### <a name="configuration-names"></a><span data-ttu-id="7f730-115">Názvy konfigurace</span><span class="sxs-lookup"><span data-stu-id="7f730-115">Configuration names</span></span>
| <span data-ttu-id="7f730-116">Name (Název)</span><span class="sxs-lookup"><span data-stu-id="7f730-116">Name</span></span> | <span data-ttu-id="7f730-117">Jednotka</span><span class="sxs-lookup"><span data-stu-id="7f730-117">Unit</span></span> | <span data-ttu-id="7f730-118">Výchozí hodnota</span><span class="sxs-lookup"><span data-stu-id="7f730-118">Default value</span></span> | <span data-ttu-id="7f730-119">Poznámky</span><span class="sxs-lookup"><span data-stu-id="7f730-119">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7f730-120">WriteBufferMemoryPoolMinimumInKB</span><span class="sxs-lookup"><span data-stu-id="7f730-120">WriteBufferMemoryPoolMinimumInKB</span></span> |<span data-ttu-id="7f730-121">Kilobajtů</span><span class="sxs-lookup"><span data-stu-id="7f730-121">Kilobytes</span></span> |<span data-ttu-id="7f730-122">8388608</span><span class="sxs-lookup"><span data-stu-id="7f730-122">8388608</span></span> |<span data-ttu-id="7f730-123">Minimální počet KB přidělit v režimu jádra pro fond vyrovnávací paměti zápisu protokolovacího nástroje.</span><span class="sxs-lookup"><span data-stu-id="7f730-123">Minimum number of KB to allocate in kernel mode for the logger write buffer memory pool.</span></span> <span data-ttu-id="7f730-124">Tento fond paměti se používá pro ukládání do mezipaměti informace o stavu před zápis na disk.</span><span class="sxs-lookup"><span data-stu-id="7f730-124">This memory pool is used for caching state information before writing to disk.</span></span> |
| <span data-ttu-id="7f730-125">WriteBufferMemoryPoolMaximumInKB</span><span class="sxs-lookup"><span data-stu-id="7f730-125">WriteBufferMemoryPoolMaximumInKB</span></span> |<span data-ttu-id="7f730-126">Kilobajtů</span><span class="sxs-lookup"><span data-stu-id="7f730-126">Kilobytes</span></span> |<span data-ttu-id="7f730-127">Bez omezení</span><span class="sxs-lookup"><span data-stu-id="7f730-127">No Limit</span></span> |<span data-ttu-id="7f730-128">Maximální velikost, do které protokolovacího nástroje zápis fondu vyrovnávací paměti můžou růst.</span><span class="sxs-lookup"><span data-stu-id="7f730-128">Maximum size to which the logger write buffer memory pool can grow.</span></span> |
| <span data-ttu-id="7f730-129">SharedLogId</span><span class="sxs-lookup"><span data-stu-id="7f730-129">SharedLogId</span></span> |<span data-ttu-id="7f730-130">IDENTIFIKÁTOR GUID</span><span class="sxs-lookup"><span data-stu-id="7f730-130">GUID</span></span> |<span data-ttu-id="7f730-131">""</span><span class="sxs-lookup"><span data-stu-id="7f730-131">""</span></span> |<span data-ttu-id="7f730-132">Určuje jedinečný identifikátor GUID pro identifikaci výchozí sdíleného souboru protokolu v případě všech spolehlivé služeb ve všech uzlech v clusteru, které neurčují SharedLogId v jejich konkrétní konfiguraci služby.</span><span class="sxs-lookup"><span data-stu-id="7f730-132">Specifies a unique GUID to use for identifying the default shared log file used by all reliable services on all nodes in the cluster that do not specify the SharedLogId in their service specific configuration.</span></span> <span data-ttu-id="7f730-133">Pokud je zadán SharedLogId, musíte zadat také tento SharedLogPath.</span><span class="sxs-lookup"><span data-stu-id="7f730-133">If SharedLogId is specified, then SharedLogPath must also be specified.</span></span> |
| <span data-ttu-id="7f730-134">SharedLogPath</span><span class="sxs-lookup"><span data-stu-id="7f730-134">SharedLogPath</span></span> |<span data-ttu-id="7f730-135">Plně kvalifikovaný název cesty</span><span class="sxs-lookup"><span data-stu-id="7f730-135">Fully qualified path name</span></span> |<span data-ttu-id="7f730-136">""</span><span class="sxs-lookup"><span data-stu-id="7f730-136">""</span></span> |<span data-ttu-id="7f730-137">Určuje plně kvalifikovanou cestu, kde soubor sdílený protokolu používané všechny spolehlivé služby ve všech uzlech v clusteru, které neurčují SharedLogPath v jejich konkrétní konfiguraci služby.</span><span class="sxs-lookup"><span data-stu-id="7f730-137">Specifies the fully qualified path where the shared log file used by all reliable services on all nodes in the cluster that do not specify the SharedLogPath in their service specific configuration.</span></span> <span data-ttu-id="7f730-138">Ale pokud je zadán SharedLogPath, pak SharedLogId musí také uvést.</span><span class="sxs-lookup"><span data-stu-id="7f730-138">However, if SharedLogPath is specified, then SharedLogId must also be specified.</span></span> |
| <span data-ttu-id="7f730-139">SharedLogSizeInMB</span><span class="sxs-lookup"><span data-stu-id="7f730-139">SharedLogSizeInMB</span></span> |<span data-ttu-id="7f730-140">V megabajtech</span><span class="sxs-lookup"><span data-stu-id="7f730-140">Megabytes</span></span> |<span data-ttu-id="7f730-141">8192</span><span class="sxs-lookup"><span data-stu-id="7f730-141">8192</span></span> |<span data-ttu-id="7f730-142">Určuje počet MB místa na disku staticky přidělení pro sdílené protokolu.</span><span class="sxs-lookup"><span data-stu-id="7f730-142">Specifies the number of MB of disk space to statically allocate for the shared log.</span></span> <span data-ttu-id="7f730-143">Hodnota musí být 2 048 nebo větší.</span><span class="sxs-lookup"><span data-stu-id="7f730-143">The value must be 2048 or larger.</span></span> |

### <a name="sample-cluster-manifest-section"></a><span data-ttu-id="7f730-144">Ukázka oddílu manifestu clusteru</span><span class="sxs-lookup"><span data-stu-id="7f730-144">Sample cluster manifest section</span></span>
```xml
   <Section Name="KtlLogger">
     <Parameter Name="WriteBufferMemoryPoolMinimumInKB" Value="8192" />
     <Parameter Name="WriteBufferMemoryPoolMaximumInKB" Value="8192" />
     <Parameter Name="SharedLogId" Value="{7668BB54-FE9C-48ed-81AC-FF89E60ED2EF}"/>
     <Parameter Name="SharedLogPath" Value="f:\SharedLog.Log"/>
     <Parameter Name="SharedLogSizeInMB" Value="16383"/>
   </Section>
```

### <a name="remarks"></a><span data-ttu-id="7f730-145">Poznámky</span><span class="sxs-lookup"><span data-stu-id="7f730-145">Remarks</span></span>
<span data-ttu-id="7f730-146">Protokolovač má globálního fondu paměti přidělené z paměti nestránkovaného jádra, která je k dispozici pro všechny spolehlivé služby v uzlu pro ukládání do mezipaměti data o stavu, než se zapíšou do protokolu vyhrazené související s replikou spolehlivé služby.</span><span class="sxs-lookup"><span data-stu-id="7f730-146">The logger has a global pool of memory allocated from non paged kernel memory that is available to all reliable services on a node for caching state data before being written to the dedicated log associated with the reliable service replica.</span></span> <span data-ttu-id="7f730-147">Velikost fondu je řízena nastavením WriteBufferMemoryPoolMinimumInKB a WriteBufferMemoryPoolMaximumInKB.</span><span class="sxs-lookup"><span data-stu-id="7f730-147">The pool size is controlled by the WriteBufferMemoryPoolMinimumInKB and WriteBufferMemoryPoolMaximumInKB settings.</span></span> <span data-ttu-id="7f730-148">WriteBufferMemoryPoolMinimumInKB Určuje počáteční velikost tohoto fondu paměti a velikost nejnižší, ke kterému může zmenšit se využívá fondem paměti.</span><span class="sxs-lookup"><span data-stu-id="7f730-148">WriteBufferMemoryPoolMinimumInKB specifies both the initial size of this memory pool and the lowest size to which the memory pool may shrink.</span></span> <span data-ttu-id="7f730-149">WriteBufferMemoryPoolMaximumInKB je nejvyšší velikost, která může dosáhnout se využívá fondem paměti.</span><span class="sxs-lookup"><span data-stu-id="7f730-149">WriteBufferMemoryPoolMaximumInKB is the highest size to which the memory pool may grow.</span></span> <span data-ttu-id="7f730-150">Každou repliku spolehlivá služba, který se otevírá může zvýšit velikost fondu paměti systému určit velikost až WriteBufferMemoryPoolMaximumInKB.</span><span class="sxs-lookup"><span data-stu-id="7f730-150">Each reliable service replica that is opened may increase the size of the memory pool by a system determined amount up to WriteBufferMemoryPoolMaximumInKB.</span></span> <span data-ttu-id="7f730-151">Pokud existuje více požadavků na paměť z fondu paměti, než je k dispozici, požadavky na paměť se odloží až do paměti je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="7f730-151">If there is more demand for memory from the memory pool than is available, requests for memory will be delayed until memory is available.</span></span> <span data-ttu-id="7f730-152">Proto pokud fondu zápis vyrovnávací paměť je příliš malá pro konkrétní konfigurací pak výkonu může dojít ke snížení.</span><span class="sxs-lookup"><span data-stu-id="7f730-152">Therefore if the write buffer memory pool is too small for a particular configuration then performance may suffer.</span></span>

<span data-ttu-id="7f730-153">Nastavení SharedLogId a SharedLogPath se vždy používají společně zadat identifikátor GUID a umístění sdílené protokolu výchozí pro všechny uzly v clusteru.</span><span class="sxs-lookup"><span data-stu-id="7f730-153">The SharedLogId and SharedLogPath settings are always used together to define the GUID and location for the default shared log for all nodes in the cluster.</span></span> <span data-ttu-id="7f730-154">Protokol sdílené výchozí se používá pro všechny spolehlivé služby, které neurčují nastavení v souborech settings.xml pro konkrétní službu.</span><span class="sxs-lookup"><span data-stu-id="7f730-154">The default shared log is used for all reliable services that do not specify the settings in the settings.xml for the specific service.</span></span> <span data-ttu-id="7f730-155">Pro nejlepší výkon musí být sdílené soubory protokolu umístěny na disky, které se používají výhradně pro soubor sdílený protokolu ke snížení kolizí.</span><span class="sxs-lookup"><span data-stu-id="7f730-155">For best performance, shared log files should be placed on disks that are used solely for the shared log file to reduce contention.</span></span>

<span data-ttu-id="7f730-156">SharedLogSizeInMB určuje množství místa na disku pro předběžné přidělení pro protokol výchozí sdílené na všech uzlech.</span><span class="sxs-lookup"><span data-stu-id="7f730-156">SharedLogSizeInMB specifies the amount of disk space to preallocate for the default shared log on all nodes.</span></span>  <span data-ttu-id="7f730-157">SharedLogId a SharedLogPath není potřeba zadat v pořadí pro SharedLogSizeInMB zadat.</span><span class="sxs-lookup"><span data-stu-id="7f730-157">SharedLogId and SharedLogPath do not need to be specified in order for SharedLogSizeInMB to be specified.</span></span>

## <a name="replicator-security-configuration"></a><span data-ttu-id="7f730-158">Konfigurace zabezpečení replikátoru</span><span class="sxs-lookup"><span data-stu-id="7f730-158">Replicator security configuration</span></span>
<span data-ttu-id="7f730-159">Konfigurace zabezpečení Replikátor slouží k zabezpečení komunikačního kanálu, který se používá během replikace.</span><span class="sxs-lookup"><span data-stu-id="7f730-159">Replicator security configurations are used to secure the communication channel that is used during replication.</span></span> <span data-ttu-id="7f730-160">To znamená, že služby nelze vzájemně provoz replikace, zajištění, že data, která je vysoké dostupnosti je také zabezpečené.</span><span class="sxs-lookup"><span data-stu-id="7f730-160">This means that services cannot see each other's replication traffic, ensuring the data that is made highly available is also secure.</span></span>
<span data-ttu-id="7f730-161">Ve výchozím nastavení zabraňuje konfigurační oddíl prázdný zabezpečení zabezpečení replikace.</span><span class="sxs-lookup"><span data-stu-id="7f730-161">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="7f730-162">Název oddílu</span><span class="sxs-lookup"><span data-stu-id="7f730-162">Section name</span></span>
<span data-ttu-id="7f730-163">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="7f730-163">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="7f730-164">Replikátor konfigurace</span><span class="sxs-lookup"><span data-stu-id="7f730-164">Replicator configuration</span></span>
<span data-ttu-id="7f730-165">Replikátor konfigurace se používají ke konfiguraci Replikátor, která je odpovědná za vytváření vysoce spolehlivé zprostředkovatele stavu objektu Actor stavu replikace a zachování stavu místně.</span><span class="sxs-lookup"><span data-stu-id="7f730-165">Replicator configurations are used to configure the replicator that is responsible for making the Actor State Provider state highly reliable by replicating and persisting the state locally.</span></span>
<span data-ttu-id="7f730-166">Výchozí konfigurace je generován šablony sady Visual Studio a měla by stačit.</span><span class="sxs-lookup"><span data-stu-id="7f730-166">The default configuration is generated by the Visual Studio template and should suffice.</span></span> <span data-ttu-id="7f730-167">Tato část pojednává o další konfigurace, které jsou k dispozici pro optimalizaci replikátor.</span><span class="sxs-lookup"><span data-stu-id="7f730-167">This section talks about additional configurations that are available to tune the replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="7f730-168">Název oddílu</span><span class="sxs-lookup"><span data-stu-id="7f730-168">Section name</span></span>
<span data-ttu-id="7f730-169">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="7f730-169">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="7f730-170">Názvy konfigurace</span><span class="sxs-lookup"><span data-stu-id="7f730-170">Configuration names</span></span>
| <span data-ttu-id="7f730-171">Name (Název)</span><span class="sxs-lookup"><span data-stu-id="7f730-171">Name</span></span> | <span data-ttu-id="7f730-172">Jednotka</span><span class="sxs-lookup"><span data-stu-id="7f730-172">Unit</span></span> | <span data-ttu-id="7f730-173">Výchozí hodnota</span><span class="sxs-lookup"><span data-stu-id="7f730-173">Default value</span></span> | <span data-ttu-id="7f730-174">Poznámky</span><span class="sxs-lookup"><span data-stu-id="7f730-174">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="7f730-175">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="7f730-175">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="7f730-176">Sekundy</span><span class="sxs-lookup"><span data-stu-id="7f730-176">Seconds</span></span> |<span data-ttu-id="7f730-177">0.015</span><span class="sxs-lookup"><span data-stu-id="7f730-177">0.015</span></span> |<span data-ttu-id="7f730-178">Časové období, pro které Replikátor na sekundární počká po přijetí operace před odesláním zpět na primární potvrzení.</span><span class="sxs-lookup"><span data-stu-id="7f730-178">Time period for which the replicator at the secondary waits after receiving an operation before sending back an acknowledgement to the primary.</span></span> <span data-ttu-id="7f730-179">Další potvrzení k odeslání pro operace zpracování v rámci tohoto intervalu se odesílají jako jedna odpověď.</span><span class="sxs-lookup"><span data-stu-id="7f730-179">Any other acknowledgements to be sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="7f730-180">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="7f730-180">ReplicatorEndpoint</span></span> |<span data-ttu-id="7f730-181">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="7f730-181">N/A</span></span> |<span data-ttu-id="7f730-182">Žádná výchozí hodnota – povinný parametr</span><span class="sxs-lookup"><span data-stu-id="7f730-182">No default--required parameter</span></span> |<span data-ttu-id="7f730-183">IP adresa a port, který Replikátor primární a sekundární bude používat pro komunikaci s další replikátory na replice nastavit.</span><span class="sxs-lookup"><span data-stu-id="7f730-183">IP address and port that the primary/secondary replicator will use to communicate with other replicators in the replica set.</span></span> <span data-ttu-id="7f730-184">To by měl odkazovat koncový bod TCP prostředků v service manifest.</span><span class="sxs-lookup"><span data-stu-id="7f730-184">This should reference a TCP resource endpoint in the service manifest.</span></span> <span data-ttu-id="7f730-185">Odkazovat na [manifestu prostředky služby](service-fabric-service-manifest-resources.md) Další informace o definování koncový bod prostředků v service manifest.</span><span class="sxs-lookup"><span data-stu-id="7f730-185">Refer to [Service manifest resources](service-fabric-service-manifest-resources.md) to read more about defining endpoint resources in service manifest.</span></span> |
| <span data-ttu-id="7f730-186">Maxreplicationmessagesize.</span><span class="sxs-lookup"><span data-stu-id="7f730-186">MaxReplicationMessageSize</span></span> |<span data-ttu-id="7f730-187">Bajty</span><span class="sxs-lookup"><span data-stu-id="7f730-187">Bytes</span></span> |<span data-ttu-id="7f730-188">50 MB</span><span class="sxs-lookup"><span data-stu-id="7f730-188">50 MB</span></span> |<span data-ttu-id="7f730-189">Maximální velikost data replikace, která mohou být přenesena do jedné zprávy.</span><span class="sxs-lookup"><span data-stu-id="7f730-189">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="7f730-190">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="7f730-190">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="7f730-191">Počet operací</span><span class="sxs-lookup"><span data-stu-id="7f730-191">Number of operations</span></span> |<span data-ttu-id="7f730-192">8192</span><span class="sxs-lookup"><span data-stu-id="7f730-192">8192</span></span> |<span data-ttu-id="7f730-193">Maximální počet operací ve frontě primární.</span><span class="sxs-lookup"><span data-stu-id="7f730-193">Maximum number of operations in the primary queue.</span></span> <span data-ttu-id="7f730-194">Operace uvolněno po primární Replikátor obdrží potvrzení ze sekundární replikátory.</span><span class="sxs-lookup"><span data-stu-id="7f730-194">An operation is freed up after the primary replicator receives an acknowledgement from all the secondary replicators.</span></span> <span data-ttu-id="7f730-195">Tato hodnota musí být větší než 64 a druhou mocninou 2.</span><span class="sxs-lookup"><span data-stu-id="7f730-195">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="7f730-196">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="7f730-196">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="7f730-197">Počet operací</span><span class="sxs-lookup"><span data-stu-id="7f730-197">Number of operations</span></span> |<span data-ttu-id="7f730-198">16384</span><span class="sxs-lookup"><span data-stu-id="7f730-198">16384</span></span> |<span data-ttu-id="7f730-199">Maximální počet operací v sekundární fronty.</span><span class="sxs-lookup"><span data-stu-id="7f730-199">Maximum number of operations in the secondary queue.</span></span> <span data-ttu-id="7f730-200">Operace uvolněno po provedení vysoce dostupný prostřednictvím trvalost stavu.</span><span class="sxs-lookup"><span data-stu-id="7f730-200">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="7f730-201">Tato hodnota musí být větší než 64 a druhou mocninou 2.</span><span class="sxs-lookup"><span data-stu-id="7f730-201">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="7f730-202">CheckpointThresholdInMB</span><span class="sxs-lookup"><span data-stu-id="7f730-202">CheckpointThresholdInMB</span></span> |<span data-ttu-id="7f730-203">MB</span><span class="sxs-lookup"><span data-stu-id="7f730-203">MB</span></span> |<span data-ttu-id="7f730-204">200</span><span class="sxs-lookup"><span data-stu-id="7f730-204">200</span></span> |<span data-ttu-id="7f730-205">Množství místa souboru protokolu, po jejímž uplynutí je kontrolován stav.</span><span class="sxs-lookup"><span data-stu-id="7f730-205">Amount of log file space after which the state is checkpointed.</span></span> |
| <span data-ttu-id="7f730-206">MaxRecordSizeInKB</span><span class="sxs-lookup"><span data-stu-id="7f730-206">MaxRecordSizeInKB</span></span> |<span data-ttu-id="7f730-207">kB</span><span class="sxs-lookup"><span data-stu-id="7f730-207">KB</span></span> |<span data-ttu-id="7f730-208">1024</span><span class="sxs-lookup"><span data-stu-id="7f730-208">1024</span></span> |<span data-ttu-id="7f730-209">Maximální velikost záznam, který Replikátor může zapisovat do protokolu.</span><span class="sxs-lookup"><span data-stu-id="7f730-209">Largest record size that the replicator may write in the log.</span></span> <span data-ttu-id="7f730-210">Tato hodnota musí být násobkem 4 a je větší než 16.</span><span class="sxs-lookup"><span data-stu-id="7f730-210">This value must be a multiple of 4 and greater than 16.</span></span> |
| <span data-ttu-id="7f730-211">OptimizeLogForLowerDiskUsage</span><span class="sxs-lookup"><span data-stu-id="7f730-211">OptimizeLogForLowerDiskUsage</span></span> |<span data-ttu-id="7f730-212">Logická hodnota</span><span class="sxs-lookup"><span data-stu-id="7f730-212">Boolean</span></span> |<span data-ttu-id="7f730-213">Hodnota TRUE</span><span class="sxs-lookup"><span data-stu-id="7f730-213">true</span></span> |<span data-ttu-id="7f730-214">V případě hodnoty true je u protokolu nakonfigurována tak, aby repliky vyhrazené soubor protokolu se vytvoří pomocí systému souborů NTFS zhuštěného souboru.</span><span class="sxs-lookup"><span data-stu-id="7f730-214">When true, the log is configured so that the replica's dedicated log file is created by using an NTFS sparse file.</span></span> <span data-ttu-id="7f730-215">To snižuje využití místa skutečné disku pro soubor.</span><span class="sxs-lookup"><span data-stu-id="7f730-215">This lowers the actual disk space usage for the file.</span></span> <span data-ttu-id="7f730-216">Pokud má hodnotu NEPRAVDA, se vytvoří soubor s pevnou přidělení, které poskytují nejlepší zápisu výkonu.</span><span class="sxs-lookup"><span data-stu-id="7f730-216">When false, the file is created with fixed allocations, which provide the best write performance.</span></span> |
| <span data-ttu-id="7f730-217">SharedLogId</span><span class="sxs-lookup"><span data-stu-id="7f730-217">SharedLogId</span></span> |<span data-ttu-id="7f730-218">Identifikátor GUID</span><span class="sxs-lookup"><span data-stu-id="7f730-218">guid</span></span> |<span data-ttu-id="7f730-219">""</span><span class="sxs-lookup"><span data-stu-id="7f730-219">""</span></span> |<span data-ttu-id="7f730-220">Určuje jedinečný identifikátor guid pro identifikaci soubor sdílený protokolu použít s této repliky.</span><span class="sxs-lookup"><span data-stu-id="7f730-220">Specifies a unique guid to use for identifying the shared log file used with this replica.</span></span> <span data-ttu-id="7f730-221">Služby obvykle neměli používat toto nastavení.</span><span class="sxs-lookup"><span data-stu-id="7f730-221">Typically, services should not use this setting.</span></span> <span data-ttu-id="7f730-222">Ale pokud je zadán SharedLogId, pak SharedLogPath musí také uvést.</span><span class="sxs-lookup"><span data-stu-id="7f730-222">However, if SharedLogId is specified, then SharedLogPath must also be specified.</span></span> |
| <span data-ttu-id="7f730-223">SharedLogPath</span><span class="sxs-lookup"><span data-stu-id="7f730-223">SharedLogPath</span></span> |<span data-ttu-id="7f730-224">Plně kvalifikovaný název cesty</span><span class="sxs-lookup"><span data-stu-id="7f730-224">Fully qualified path name</span></span> |<span data-ttu-id="7f730-225">""</span><span class="sxs-lookup"><span data-stu-id="7f730-225">""</span></span> |<span data-ttu-id="7f730-226">Určuje plně kvalifikovanou cestu, kde bude vytvořen soubor sdílený protokolu pro tuto repliku.</span><span class="sxs-lookup"><span data-stu-id="7f730-226">Specifies the fully qualified path where the shared log file for this replica will be created.</span></span> <span data-ttu-id="7f730-227">Služby obvykle neměli používat toto nastavení.</span><span class="sxs-lookup"><span data-stu-id="7f730-227">Typically, services should not use this setting.</span></span> <span data-ttu-id="7f730-228">Ale pokud je zadán SharedLogPath, pak SharedLogId musí také uvést.</span><span class="sxs-lookup"><span data-stu-id="7f730-228">However, if SharedLogPath is specified, then SharedLogId must also be specified.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="7f730-229">Vzorový konfigurační soubor</span><span class="sxs-lookup"><span data-stu-id="7f730-229">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
      <Parameter Name="CheckpointThresholdInMB" Value="180" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```

## <a name="remarks"></a><span data-ttu-id="7f730-230">Poznámky</span><span class="sxs-lookup"><span data-stu-id="7f730-230">Remarks</span></span>
<span data-ttu-id="7f730-231">Parametr BatchAcknowledgementInterval řídí latenci replikace.</span><span class="sxs-lookup"><span data-stu-id="7f730-231">The BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="7f730-232">Hodnota '0' výsledkem nejnižší možnou latenci, za cenu propustnost (jako další potvrzení zprávy musí být odeslána a zpracování jednotlivých obsahující méně potvrzení).</span><span class="sxs-lookup"><span data-stu-id="7f730-232">A value of '0' results in the lowest possible latency, at the cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="7f730-233">Čím větší hodnotu BatchAcknowledgementInterval, tím vyšší celkový replikace propustnost, za cenu vyšší latence operace.</span><span class="sxs-lookup"><span data-stu-id="7f730-233">The larger the value for BatchAcknowledgementInterval, the higher the overall replication throughput, at the cost of higher operation latency.</span></span> <span data-ttu-id="7f730-234">Výsledkem je přímo na latenci potvrzení transakcí.</span><span class="sxs-lookup"><span data-stu-id="7f730-234">This directly translates to the latency of transaction commits.</span></span>

<span data-ttu-id="7f730-235">Parametr CheckpointThresholdInMB řídí množství místa na disku, které Replikátor můžete použít k ukládání stavových informací v souboru protokolu vyhrazené repliky.</span><span class="sxs-lookup"><span data-stu-id="7f730-235">The CheckpointThresholdInMB parameter controls the amount of disk space that the replicator can use to store state information in the replica's dedicated log file.</span></span> <span data-ttu-id="7f730-236">To zvyšuje na vyšší hodnotu než výchozí může mít za následek Rekonfigurace rychlejší, když je přidat novou repliku do sady.</span><span class="sxs-lookup"><span data-stu-id="7f730-236">Increasing this to a higher value than the default could result in faster reconfiguration times when a new replica is added to the set.</span></span> <span data-ttu-id="7f730-237">Toto je z důvodu přenosu částečné stavu, která se provádí z důvodu dostupnost další historie operací v protokolu.</span><span class="sxs-lookup"><span data-stu-id="7f730-237">This is due to the partial state transfer that takes place due to the availability of more history of operations in the log.</span></span> <span data-ttu-id="7f730-238">Po chybě potenciálně může prodloužit dobu obnovení repliky.</span><span class="sxs-lookup"><span data-stu-id="7f730-238">This can potentially increase the recovery time of a replica after a crash.</span></span>

<span data-ttu-id="7f730-239">Pokud OptimizeForLowerDiskUsage nastavíte na hodnotu true, bude místo souboru protokolu neoprávněně zřízené tak, aby aktivní repliky můžete ukládat další informace o stavu v souborech protokolu i neaktivních replik se bude používat méně místa na disku.</span><span class="sxs-lookup"><span data-stu-id="7f730-239">If you set OptimizeForLowerDiskUsage to true, log file space will be over-provisioned so that active replicas can store more state information in their log files, while inactive replicas will use less disk space.</span></span> <span data-ttu-id="7f730-240">Díky tomu je možné k hostování víc replik na uzlu.</span><span class="sxs-lookup"><span data-stu-id="7f730-240">This makes it possible to host more replicas on a node.</span></span> <span data-ttu-id="7f730-241">Pokud jste nastavili OptimizeForLowerDiskUsage na hodnotu false, informace o stavu je rychleji zapisovat do souborů protokolu.</span><span class="sxs-lookup"><span data-stu-id="7f730-241">If you set OptimizeForLowerDiskUsage to false, the state information is written to the log files more quickly.</span></span>

<span data-ttu-id="7f730-242">Nastavení MaxRecordSizeInKB definuje maximální velikost záznam, který lze zapisovat, které Replikátor do souboru protokolu.</span><span class="sxs-lookup"><span data-stu-id="7f730-242">The MaxRecordSizeInKB setting defines the maximum size of a record that can be written by the replicator into the log file.</span></span> <span data-ttu-id="7f730-243">Ve většině případů je optimální výchozí velikost 1024 KB záznamu.</span><span class="sxs-lookup"><span data-stu-id="7f730-243">In most cases, the default 1024-KB record size is optimal.</span></span> <span data-ttu-id="7f730-244">Ale pokud služba způsobuje větší datové položky se jednat o část informace o stavu, pak tato hodnota možná muset zvýšit.</span><span class="sxs-lookup"><span data-stu-id="7f730-244">However, if the service is causing larger data items to be part of the state information, then this value might need to be increased.</span></span> <span data-ttu-id="7f730-245">Výhoda je malá při vytvoření MaxRecordSizeInKB menší než 1024, jako menší záznamů použijte pouze prostor potřebný pro menší záznamu.</span><span class="sxs-lookup"><span data-stu-id="7f730-245">There is little benefit in making MaxRecordSizeInKB smaller than 1024, as smaller records use only the space needed for the smaller record.</span></span> <span data-ttu-id="7f730-246">Očekáváme, že tato hodnota by bylo potřeba změnit pouze ve výjimečných případech.</span><span class="sxs-lookup"><span data-stu-id="7f730-246">We expect that this value would need to be changed only in rare cases.</span></span>

<span data-ttu-id="7f730-247">Nastavení SharedLogId a SharedLogPath jsou vždy společně použít k nastavení služby použití samostatných sdílených protokolu z protokolu sdílené výchozí pro uzel.</span><span class="sxs-lookup"><span data-stu-id="7f730-247">The SharedLogId and SharedLogPath settings are always used together to make a service use a separate shared log from the default shared log for the node.</span></span> <span data-ttu-id="7f730-248">Pro nejlepšího výkonu by měl tolik služby nejdříve zadejte stejné sdílené protokolu.</span><span class="sxs-lookup"><span data-stu-id="7f730-248">For best efficiency, as many services as possible should specify the same shared log.</span></span> <span data-ttu-id="7f730-249">Sdílené soubory protokolu musí být umístěny na disky, které se používají výhradně pro soubor sdílený protokolu ke snížení head přesun kolizí.</span><span class="sxs-lookup"><span data-stu-id="7f730-249">Shared log files should be placed on disks that are used solely for the shared log file, to reduce head movement contention.</span></span> <span data-ttu-id="7f730-250">Očekáváme, že tyto hodnoty by bylo potřeba změnit pouze ve výjimečných případech.</span><span class="sxs-lookup"><span data-stu-id="7f730-250">We expect that these values would need to be changed only in rare cases.</span></span>

