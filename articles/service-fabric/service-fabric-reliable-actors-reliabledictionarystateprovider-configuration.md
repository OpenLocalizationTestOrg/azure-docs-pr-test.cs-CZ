---
title: "nastavení ReliableDictionaryActorStateProvider aaaChange v Azure mikroslužeb | Microsoft Docs"
description: "Další informace o konfiguraci Azure Service Fabric stavová aktéři typu ReliableDictionaryActorStateProvider."
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: 79b48ffa-2474-4f1c-a857-3471f9590ded
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: 44c85a41c90a17669ba874401d7921c94e7be9ec
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-reliable-actors--reliabledictionaryactorstateprovider"></a><span data-ttu-id="e6de2-103">Konfigurace Reliable Actors – ReliableDictionaryActorStateProvider</span><span class="sxs-lookup"><span data-stu-id="e6de2-103">Configuring Reliable Actors--ReliableDictionaryActorStateProvider</span></span>
<span data-ttu-id="e6de2-104">Výchozí konfigurace hello ReliableDictionaryActorStateProvider můžete upravit změnou souboru souborech settings.xml hello vygenerovaných kořenového adresáře balíčku sady Visual Studio hello složce hello konfigurace pro zadaný objektu actor hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-104">You can modify hello default configuration of ReliableDictionaryActorStateProvider by changing hello settings.xml file generated in hello Visual Studio package root under hello Config folder for hello specified actor.</span></span>

<span data-ttu-id="e6de2-105">modulu runtime Azure Service Fabric Hello předdefinované části z názvů v souboru hello souborech settings.xml a odebírá hello konfigurační hodnoty při vytváření hello základní komponenty modulu runtime.</span><span class="sxs-lookup"><span data-stu-id="e6de2-105">hello Azure Service Fabric runtime looks for predefined section names in hello settings.xml file and consumes hello configuration values while creating hello underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="e6de2-106">Proveďte **není** odstranit nebo změnit názvy části hello hello následující konfigurace v souborech settings.xml souboru hello, který je generován ve hello řešení sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e6de2-106">Do **not** delete or modify hello section names of hello following configurations in hello settings.xml file that is generated in hello Visual Studio solution.</span></span>
> 
> 

<span data-ttu-id="e6de2-107">Existují také globální nastavení, které ovlivňují konfiguraci hello ReliableDictionaryActorStateProvider.</span><span class="sxs-lookup"><span data-stu-id="e6de2-107">There are also global settings that affect hello configuration of ReliableDictionaryActorStateProvider.</span></span>

## <a name="global-configuration"></a><span data-ttu-id="e6de2-108">Globální konfigurace</span><span class="sxs-lookup"><span data-stu-id="e6de2-108">Global Configuration</span></span>
<span data-ttu-id="e6de2-109">globální konfiguraci Hello je zadáno v manifestu clusteru hello hello clusteru pod hello KtlLogger části.</span><span class="sxs-lookup"><span data-stu-id="e6de2-109">hello global configuration is specified in hello cluster manifest for hello cluster under hello KtlLogger section.</span></span> <span data-ttu-id="e6de2-110">Umožňuje konfiguraci hello sdílené protokolu umístění a velikost a hello globální paměť omezení používané hello protokolovacího nástroje.</span><span class="sxs-lookup"><span data-stu-id="e6de2-110">It allows configuration of hello shared log location and size plus hello global memory limits used by hello logger.</span></span> <span data-ttu-id="e6de2-111">Všimněte si, že změny v manifestu clusteru hello vliv na všechny služby, které používají ReliableDictionaryActorStateProvider a spolehlivé stavové služby.</span><span class="sxs-lookup"><span data-stu-id="e6de2-111">Note that changes in hello cluster manifest affect all services that use ReliableDictionaryActorStateProvider and reliable stateful services.</span></span>

<span data-ttu-id="e6de2-112">manifest clusteru Hello je jednoho souboru XML, který obsahuje nastavení a konfigurace, které se vztahují tooall uzly a služby v clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-112">hello cluster manifest is a single XML file that holds settings and configurations that apply tooall nodes and services in hello cluster.</span></span> <span data-ttu-id="e6de2-113">soubor Hello se obvykle nazývá ClusterManifest.xml.</span><span class="sxs-lookup"><span data-stu-id="e6de2-113">hello file is typically called ClusterManifest.xml.</span></span> <span data-ttu-id="e6de2-114">Můžete zobrazit hello manifestu clusteru pro váš cluster pomocí příkazu prostředí powershell Get-ServiceFabricClusterManifest hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-114">You can see hello cluster manifest for your cluster using hello Get-ServiceFabricClusterManifest powershell command.</span></span>

### <a name="configuration-names"></a><span data-ttu-id="e6de2-115">Názvy konfigurace</span><span class="sxs-lookup"><span data-stu-id="e6de2-115">Configuration names</span></span>
| <span data-ttu-id="e6de2-116">Name (Název)</span><span class="sxs-lookup"><span data-stu-id="e6de2-116">Name</span></span> | <span data-ttu-id="e6de2-117">Jednotka</span><span class="sxs-lookup"><span data-stu-id="e6de2-117">Unit</span></span> | <span data-ttu-id="e6de2-118">Výchozí hodnota</span><span class="sxs-lookup"><span data-stu-id="e6de2-118">Default value</span></span> | <span data-ttu-id="e6de2-119">Poznámky</span><span class="sxs-lookup"><span data-stu-id="e6de2-119">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e6de2-120">WriteBufferMemoryPoolMinimumInKB</span><span class="sxs-lookup"><span data-stu-id="e6de2-120">WriteBufferMemoryPoolMinimumInKB</span></span> |<span data-ttu-id="e6de2-121">Kilobajtů</span><span class="sxs-lookup"><span data-stu-id="e6de2-121">Kilobytes</span></span> |<span data-ttu-id="e6de2-122">8388608</span><span class="sxs-lookup"><span data-stu-id="e6de2-122">8388608</span></span> |<span data-ttu-id="e6de2-123">Minimální počet tooallocate KB v režimu jádra pro hello protokolovač zápis fondu vyrovnávací paměti.</span><span class="sxs-lookup"><span data-stu-id="e6de2-123">Minimum number of KB tooallocate in kernel mode for hello logger write buffer memory pool.</span></span> <span data-ttu-id="e6de2-124">Tento fond paměti se používá pro ukládání do mezipaměti informace o stavu před zápisem toodisk.</span><span class="sxs-lookup"><span data-stu-id="e6de2-124">This memory pool is used for caching state information before writing toodisk.</span></span> |
| <span data-ttu-id="e6de2-125">WriteBufferMemoryPoolMaximumInKB</span><span class="sxs-lookup"><span data-stu-id="e6de2-125">WriteBufferMemoryPoolMaximumInKB</span></span> |<span data-ttu-id="e6de2-126">Kilobajtů</span><span class="sxs-lookup"><span data-stu-id="e6de2-126">Kilobytes</span></span> |<span data-ttu-id="e6de2-127">Bez omezení</span><span class="sxs-lookup"><span data-stu-id="e6de2-127">No Limit</span></span> |<span data-ttu-id="e6de2-128">Maximální velikost toowhich hello protokolovacího nástroje zápis vyrovnávací paměti fondu paměti můžou růst.</span><span class="sxs-lookup"><span data-stu-id="e6de2-128">Maximum size toowhich hello logger write buffer memory pool can grow.</span></span> |
| <span data-ttu-id="e6de2-129">SharedLogId</span><span class="sxs-lookup"><span data-stu-id="e6de2-129">SharedLogId</span></span> |<span data-ttu-id="e6de2-130">IDENTIFIKÁTOR GUID</span><span class="sxs-lookup"><span data-stu-id="e6de2-130">GUID</span></span> |<span data-ttu-id="e6de2-131">""</span><span class="sxs-lookup"><span data-stu-id="e6de2-131">""</span></span> |<span data-ttu-id="e6de2-132">Určuje jedinečný toouse identifikátor GUID pro identifikaci hello výchozí sdíleného souboru protokolu v všechny spolehlivé služeb ve všech uzlech v clusteru hello, které neurčují hello SharedLogId v jejich konkrétní konfiguraci služby.</span><span class="sxs-lookup"><span data-stu-id="e6de2-132">Specifies a unique GUID toouse for identifying hello default shared log file used by all reliable services on all nodes in hello cluster that do not specify hello SharedLogId in their service specific configuration.</span></span> <span data-ttu-id="e6de2-133">Pokud je zadán SharedLogId, musíte zadat také tento SharedLogPath.</span><span class="sxs-lookup"><span data-stu-id="e6de2-133">If SharedLogId is specified, then SharedLogPath must also be specified.</span></span> |
| <span data-ttu-id="e6de2-134">SharedLogPath</span><span class="sxs-lookup"><span data-stu-id="e6de2-134">SharedLogPath</span></span> |<span data-ttu-id="e6de2-135">Plně kvalifikovaný název cesty</span><span class="sxs-lookup"><span data-stu-id="e6de2-135">Fully qualified path name</span></span> |<span data-ttu-id="e6de2-136">""</span><span class="sxs-lookup"><span data-stu-id="e6de2-136">""</span></span> |<span data-ttu-id="e6de2-137">Určuje plně kvalifikovanou cestu hello kde hello sdíleného souboru protokolu v případě všech spolehlivé služeb ve všech uzlech v clusteru hello, které neurčují hello SharedLogPath v jejich konkrétní konfiguraci služby.</span><span class="sxs-lookup"><span data-stu-id="e6de2-137">Specifies hello fully qualified path where hello shared log file used by all reliable services on all nodes in hello cluster that do not specify hello SharedLogPath in their service specific configuration.</span></span> <span data-ttu-id="e6de2-138">Ale pokud je zadán SharedLogPath, pak SharedLogId musí také uvést.</span><span class="sxs-lookup"><span data-stu-id="e6de2-138">However, if SharedLogPath is specified, then SharedLogId must also be specified.</span></span> |
| <span data-ttu-id="e6de2-139">SharedLogSizeInMB</span><span class="sxs-lookup"><span data-stu-id="e6de2-139">SharedLogSizeInMB</span></span> |<span data-ttu-id="e6de2-140">V megabajtech</span><span class="sxs-lookup"><span data-stu-id="e6de2-140">Megabytes</span></span> |<span data-ttu-id="e6de2-141">8192</span><span class="sxs-lookup"><span data-stu-id="e6de2-141">8192</span></span> |<span data-ttu-id="e6de2-142">Určuje počet hello MB místa na disku přidělit toostatically pro sdílené protokolu hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-142">Specifies hello number of MB of disk space toostatically allocate for hello shared log.</span></span> <span data-ttu-id="e6de2-143">Hello hodnota musí být 2 048 nebo větší.</span><span class="sxs-lookup"><span data-stu-id="e6de2-143">hello value must be 2048 or larger.</span></span> |

### <a name="sample-cluster-manifest-section"></a><span data-ttu-id="e6de2-144">Ukázka oddílu manifestu clusteru</span><span class="sxs-lookup"><span data-stu-id="e6de2-144">Sample cluster manifest section</span></span>
```xml
   <Section Name="KtlLogger">
     <Parameter Name="WriteBufferMemoryPoolMinimumInKB" Value="8192" />
     <Parameter Name="WriteBufferMemoryPoolMaximumInKB" Value="8192" />
     <Parameter Name="SharedLogId" Value="{7668BB54-FE9C-48ed-81AC-FF89E60ED2EF}"/>
     <Parameter Name="SharedLogPath" Value="f:\SharedLog.Log"/>
     <Parameter Name="SharedLogSizeInMB" Value="16383"/>
   </Section>
```

### <a name="remarks"></a><span data-ttu-id="e6de2-145">Poznámky</span><span class="sxs-lookup"><span data-stu-id="e6de2-145">Remarks</span></span>
<span data-ttu-id="e6de2-146">protokolovač Hello se globální fond paměti přidělené z paměti nestránkovaného jádra, která je k dispozici tooall spolehlivé služby v uzlu pro ukládání do mezipaměti data o stavu před zápisem toohello vyhrazené protokolu přidružené hello spolehlivá služba repliky.</span><span class="sxs-lookup"><span data-stu-id="e6de2-146">hello logger has a global pool of memory allocated from non paged kernel memory that is available tooall reliable services on a node for caching state data before being written toohello dedicated log associated with hello reliable service replica.</span></span> <span data-ttu-id="e6de2-147">velikost fondu Hello se řídí hello WriteBufferMemoryPoolMinimumInKB a WriteBufferMemoryPoolMaximumInKB nastavení.</span><span class="sxs-lookup"><span data-stu-id="e6de2-147">hello pool size is controlled by hello WriteBufferMemoryPoolMinimumInKB and WriteBufferMemoryPoolMaximumInKB settings.</span></span> <span data-ttu-id="e6de2-148">WriteBufferMemoryPoolMinimumInKB určuje obě hello počáteční velikost tohoto fondu paměti a může zmenšit hello nejnižší velikost toowhich hello fondem paměti.</span><span class="sxs-lookup"><span data-stu-id="e6de2-148">WriteBufferMemoryPoolMinimumInKB specifies both hello initial size of this memory pool and hello lowest size toowhich hello memory pool may shrink.</span></span> <span data-ttu-id="e6de2-149">WriteBufferMemoryPoolMaximumInKB je, že může růst hello nejvyšší velikost toowhich hello fondem paměti.</span><span class="sxs-lookup"><span data-stu-id="e6de2-149">WriteBufferMemoryPoolMaximumInKB is hello highest size toowhich hello memory pool may grow.</span></span> <span data-ttu-id="e6de2-150">Každou repliku spolehlivá služba, který se otevírá může zvýšit hello velikost fondu paměti hello systému určit velikost až tooWriteBufferMemoryPoolMaximumInKB.</span><span class="sxs-lookup"><span data-stu-id="e6de2-150">Each reliable service replica that is opened may increase hello size of hello memory pool by a system determined amount up tooWriteBufferMemoryPoolMaximumInKB.</span></span> <span data-ttu-id="e6de2-151">Pokud existuje více požadavků na paměť z hello fondu paměti, než je k dispozici, požadavky na paměť se odloží až do paměti je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="e6de2-151">If there is more demand for memory from hello memory pool than is available, requests for memory will be delayed until memory is available.</span></span> <span data-ttu-id="e6de2-152">Proto pokud fondu hello zápis vyrovnávací paměti je příliš malá pro konkrétní konfigurací pak výkonu může dojít ke snížení.</span><span class="sxs-lookup"><span data-stu-id="e6de2-152">Therefore if hello write buffer memory pool is too small for a particular configuration then performance may suffer.</span></span>

<span data-ttu-id="e6de2-153">nastavení SharedLogId a SharedLogPath Hello jsou vždy použít společně toodefine hello GUID a protokolu pro všechny uzly v clusteru hello sdíleného umístění pro výchozí hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-153">hello SharedLogId and SharedLogPath settings are always used together toodefine hello GUID and location for hello default shared log for all nodes in hello cluster.</span></span> <span data-ttu-id="e6de2-154">sdílené protokol Hello výchozí se používá pro všechny spolehlivé služby, které neurčují hello nastavení v souborech settings.xml hello pro konkrétní službu hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-154">hello default shared log is used for all reliable services that do not specify hello settings in hello settings.xml for hello specific service.</span></span> <span data-ttu-id="e6de2-155">Pro nejlepší výkon musí být sdílené soubory protokolu umístěny na disky, které se používají výhradně pro kolizí tooreduce souboru protokolu hello sdílené.</span><span class="sxs-lookup"><span data-stu-id="e6de2-155">For best performance, shared log files should be placed on disks that are used solely for hello shared log file tooreduce contention.</span></span>

<span data-ttu-id="e6de2-156">SharedLogSizeInMB určuje hello množství toopreallocate místa na disku pro protokol sdílené výchozí hello na všech uzlech.</span><span class="sxs-lookup"><span data-stu-id="e6de2-156">SharedLogSizeInMB specifies hello amount of disk space toopreallocate for hello default shared log on all nodes.</span></span>  <span data-ttu-id="e6de2-157">SharedLogId a SharedLogPath nemusí toobe zadaný v pořadí pro SharedLogSizeInMB toobe zadán.</span><span class="sxs-lookup"><span data-stu-id="e6de2-157">SharedLogId and SharedLogPath do not need toobe specified in order for SharedLogSizeInMB toobe specified.</span></span>

## <a name="replicator-security-configuration"></a><span data-ttu-id="e6de2-158">Konfigurace zabezpečení replikátoru</span><span class="sxs-lookup"><span data-stu-id="e6de2-158">Replicator security configuration</span></span>
<span data-ttu-id="e6de2-159">Konfigurace zabezpečení Replikátor jsou použité toosecure hello komunikační kanál, který se používá během replikace.</span><span class="sxs-lookup"><span data-stu-id="e6de2-159">Replicator security configurations are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="e6de2-160">To znamená, že služby neuvidí vzájemně provoz replikace, zajistit vysokou dostupnost dat hello je bezpečnější.</span><span class="sxs-lookup"><span data-stu-id="e6de2-160">This means that services cannot see each other's replication traffic, ensuring hello data that is made highly available is also secure.</span></span>
<span data-ttu-id="e6de2-161">Ve výchozím nastavení zabraňuje konfigurační oddíl prázdný zabezpečení zabezpečení replikace.</span><span class="sxs-lookup"><span data-stu-id="e6de2-161">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="e6de2-162">Název oddílu</span><span class="sxs-lookup"><span data-stu-id="e6de2-162">Section name</span></span>
<span data-ttu-id="e6de2-163">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="e6de2-163">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="e6de2-164">Replikátor konfigurace</span><span class="sxs-lookup"><span data-stu-id="e6de2-164">Replicator configuration</span></span>
<span data-ttu-id="e6de2-165">Replikátor konfigurace jsou použité tooconfigure hello Replikátor, která je odpovědná za vytváření vysoce spolehlivé hello zprostředkovatele stavu objektu Actor stavu replikace a zachování stavu hello místně.</span><span class="sxs-lookup"><span data-stu-id="e6de2-165">Replicator configurations are used tooconfigure hello replicator that is responsible for making hello Actor State Provider state highly reliable by replicating and persisting hello state locally.</span></span>
<span data-ttu-id="e6de2-166">Hello výchozí konfigurace je generován hello šablony sady Visual Studio a měla by stačit.</span><span class="sxs-lookup"><span data-stu-id="e6de2-166">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="e6de2-167">Tato část pojednává o další konfigurace, které jsou k dispozici tootune Replikátor hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-167">This section talks about additional configurations that are available tootune hello replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="e6de2-168">Název oddílu</span><span class="sxs-lookup"><span data-stu-id="e6de2-168">Section name</span></span>
<span data-ttu-id="e6de2-169">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="e6de2-169">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="e6de2-170">Názvy konfigurace</span><span class="sxs-lookup"><span data-stu-id="e6de2-170">Configuration names</span></span>
| <span data-ttu-id="e6de2-171">Name (Název)</span><span class="sxs-lookup"><span data-stu-id="e6de2-171">Name</span></span> | <span data-ttu-id="e6de2-172">Jednotka</span><span class="sxs-lookup"><span data-stu-id="e6de2-172">Unit</span></span> | <span data-ttu-id="e6de2-173">Výchozí hodnota</span><span class="sxs-lookup"><span data-stu-id="e6de2-173">Default value</span></span> | <span data-ttu-id="e6de2-174">Poznámky</span><span class="sxs-lookup"><span data-stu-id="e6de2-174">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e6de2-175">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="e6de2-175">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="e6de2-176">Sekundy</span><span class="sxs-lookup"><span data-stu-id="e6de2-176">Seconds</span></span> |<span data-ttu-id="e6de2-177">0.015</span><span class="sxs-lookup"><span data-stu-id="e6de2-177">0.015</span></span> |<span data-ttu-id="e6de2-178">Časové období, pro které Replikátor hello na sekundární počká hello po přijetí operace před odesláním zpět potvrzení toohello primární.</span><span class="sxs-lookup"><span data-stu-id="e6de2-178">Time period for which hello replicator at hello secondary waits after receiving an operation before sending back an acknowledgement toohello primary.</span></span> <span data-ttu-id="e6de2-179">Další potvrzení toobe odeslané pro operace zpracování v rámci tohoto intervalu se odesílají jako jedna odpověď.</span><span class="sxs-lookup"><span data-stu-id="e6de2-179">Any other acknowledgements toobe sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="e6de2-180">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="e6de2-180">ReplicatorEndpoint</span></span> |<span data-ttu-id="e6de2-181">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="e6de2-181">N/A</span></span> |<span data-ttu-id="e6de2-182">Žádná výchozí hodnota – povinný parametr</span><span class="sxs-lookup"><span data-stu-id="e6de2-182">No default--required parameter</span></span> |<span data-ttu-id="e6de2-183">IP adresa a port, který hello primární a sekundární Replikátor použije toocommunicate jiných replikátory hello sady replik.</span><span class="sxs-lookup"><span data-stu-id="e6de2-183">IP address and port that hello primary/secondary replicator will use toocommunicate with other replicators in hello replica set.</span></span> <span data-ttu-id="e6de2-184">To by měl odkazovat koncový bod TCP prostředků v hello service manifest.</span><span class="sxs-lookup"><span data-stu-id="e6de2-184">This should reference a TCP resource endpoint in hello service manifest.</span></span> <span data-ttu-id="e6de2-185">Odkazovat příliš[manifestu prostředky služby](service-fabric-service-manifest-resources.md) tooread informace o definování koncový bod prostředků v service manifest.</span><span class="sxs-lookup"><span data-stu-id="e6de2-185">Refer too[Service manifest resources](service-fabric-service-manifest-resources.md) tooread more about defining endpoint resources in service manifest.</span></span> |
| <span data-ttu-id="e6de2-186">Maxreplicationmessagesize.</span><span class="sxs-lookup"><span data-stu-id="e6de2-186">MaxReplicationMessageSize</span></span> |<span data-ttu-id="e6de2-187">Bajty</span><span class="sxs-lookup"><span data-stu-id="e6de2-187">Bytes</span></span> |<span data-ttu-id="e6de2-188">50 MB</span><span class="sxs-lookup"><span data-stu-id="e6de2-188">50 MB</span></span> |<span data-ttu-id="e6de2-189">Maximální velikost data replikace, která mohou být přenesena do jedné zprávy.</span><span class="sxs-lookup"><span data-stu-id="e6de2-189">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="e6de2-190">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="e6de2-190">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="e6de2-191">Počet operací</span><span class="sxs-lookup"><span data-stu-id="e6de2-191">Number of operations</span></span> |<span data-ttu-id="e6de2-192">8192</span><span class="sxs-lookup"><span data-stu-id="e6de2-192">8192</span></span> |<span data-ttu-id="e6de2-193">Maximální počet operací ve frontě primární hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-193">Maximum number of operations in hello primary queue.</span></span> <span data-ttu-id="e6de2-194">Operace uvolněno po primární Replikátor hello přijímá potvrzení z všechny sekundární replikátory hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-194">An operation is freed up after hello primary replicator receives an acknowledgement from all hello secondary replicators.</span></span> <span data-ttu-id="e6de2-195">Tato hodnota musí být větší než 64 a druhou mocninou 2.</span><span class="sxs-lookup"><span data-stu-id="e6de2-195">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="e6de2-196">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="e6de2-196">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="e6de2-197">Počet operací</span><span class="sxs-lookup"><span data-stu-id="e6de2-197">Number of operations</span></span> |<span data-ttu-id="e6de2-198">16384</span><span class="sxs-lookup"><span data-stu-id="e6de2-198">16384</span></span> |<span data-ttu-id="e6de2-199">Maximální počet operací ve frontě sekundární hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-199">Maximum number of operations in hello secondary queue.</span></span> <span data-ttu-id="e6de2-200">Operace uvolněno po provedení vysoce dostupný prostřednictvím trvalost stavu.</span><span class="sxs-lookup"><span data-stu-id="e6de2-200">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="e6de2-201">Tato hodnota musí být větší než 64 a druhou mocninou 2.</span><span class="sxs-lookup"><span data-stu-id="e6de2-201">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="e6de2-202">CheckpointThresholdInMB</span><span class="sxs-lookup"><span data-stu-id="e6de2-202">CheckpointThresholdInMB</span></span> |<span data-ttu-id="e6de2-203">MB</span><span class="sxs-lookup"><span data-stu-id="e6de2-203">MB</span></span> |<span data-ttu-id="e6de2-204">200</span><span class="sxs-lookup"><span data-stu-id="e6de2-204">200</span></span> |<span data-ttu-id="e6de2-205">Množství místa souboru protokolu, po jejímž uplynutí je kontrolován hello stavu.</span><span class="sxs-lookup"><span data-stu-id="e6de2-205">Amount of log file space after which hello state is checkpointed.</span></span> |
| <span data-ttu-id="e6de2-206">MaxRecordSizeInKB</span><span class="sxs-lookup"><span data-stu-id="e6de2-206">MaxRecordSizeInKB</span></span> |<span data-ttu-id="e6de2-207">kB</span><span class="sxs-lookup"><span data-stu-id="e6de2-207">KB</span></span> |<span data-ttu-id="e6de2-208">1024</span><span class="sxs-lookup"><span data-stu-id="e6de2-208">1024</span></span> |<span data-ttu-id="e6de2-209">Maximální velikost záznamů, které Replikátor hello můžou zapisovat do protokolu hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-209">Largest record size that hello replicator may write in hello log.</span></span> <span data-ttu-id="e6de2-210">Tato hodnota musí být násobkem 4 a je větší než 16.</span><span class="sxs-lookup"><span data-stu-id="e6de2-210">This value must be a multiple of 4 and greater than 16.</span></span> |
| <span data-ttu-id="e6de2-211">OptimizeLogForLowerDiskUsage</span><span class="sxs-lookup"><span data-stu-id="e6de2-211">OptimizeLogForLowerDiskUsage</span></span> |<span data-ttu-id="e6de2-212">Logická hodnota</span><span class="sxs-lookup"><span data-stu-id="e6de2-212">Boolean</span></span> |<span data-ttu-id="e6de2-213">Hodnota TRUE</span><span class="sxs-lookup"><span data-stu-id="e6de2-213">true</span></span> |<span data-ttu-id="e6de2-214">V případě hodnoty true hello protokolu je nakonfigurován tak, aby hello repliky vyhrazené soubor protokolu se vytvoří pomocí systému souborů NTFS zhuštěného souboru.</span><span class="sxs-lookup"><span data-stu-id="e6de2-214">When true, hello log is configured so that hello replica's dedicated log file is created by using an NTFS sparse file.</span></span> <span data-ttu-id="e6de2-215">To snižuje hello skutečné místo na disku pro soubor hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-215">This lowers hello actual disk space usage for hello file.</span></span> <span data-ttu-id="e6de2-216">Pokud má hodnotu NEPRAVDA, je vytvořen hello soubor s pevnou přidělení, které poskytují nejlepší výkon zápisu hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-216">When false, hello file is created with fixed allocations, which provide hello best write performance.</span></span> |
| <span data-ttu-id="e6de2-217">SharedLogId</span><span class="sxs-lookup"><span data-stu-id="e6de2-217">SharedLogId</span></span> |<span data-ttu-id="e6de2-218">Identifikátor GUID</span><span class="sxs-lookup"><span data-stu-id="e6de2-218">guid</span></span> |<span data-ttu-id="e6de2-219">""</span><span class="sxs-lookup"><span data-stu-id="e6de2-219">""</span></span> |<span data-ttu-id="e6de2-220">Určuje toouse jedinečný identifikátor guid pro identifikaci sdílený soubor protokolu hello použít s této repliky.</span><span class="sxs-lookup"><span data-stu-id="e6de2-220">Specifies a unique guid toouse for identifying hello shared log file used with this replica.</span></span> <span data-ttu-id="e6de2-221">Služby obvykle neměli používat toto nastavení.</span><span class="sxs-lookup"><span data-stu-id="e6de2-221">Typically, services should not use this setting.</span></span> <span data-ttu-id="e6de2-222">Ale pokud je zadán SharedLogId, pak SharedLogPath musí také uvést.</span><span class="sxs-lookup"><span data-stu-id="e6de2-222">However, if SharedLogId is specified, then SharedLogPath must also be specified.</span></span> |
| <span data-ttu-id="e6de2-223">SharedLogPath</span><span class="sxs-lookup"><span data-stu-id="e6de2-223">SharedLogPath</span></span> |<span data-ttu-id="e6de2-224">Plně kvalifikovaný název cesty</span><span class="sxs-lookup"><span data-stu-id="e6de2-224">Fully qualified path name</span></span> |<span data-ttu-id="e6de2-225">""</span><span class="sxs-lookup"><span data-stu-id="e6de2-225">""</span></span> |<span data-ttu-id="e6de2-226">Určuje hello plně kvalifikovanou cestu, kde bude vytvořen hello sdílený soubor protokolu pro tuto repliku.</span><span class="sxs-lookup"><span data-stu-id="e6de2-226">Specifies hello fully qualified path where hello shared log file for this replica will be created.</span></span> <span data-ttu-id="e6de2-227">Služby obvykle neměli používat toto nastavení.</span><span class="sxs-lookup"><span data-stu-id="e6de2-227">Typically, services should not use this setting.</span></span> <span data-ttu-id="e6de2-228">Ale pokud je zadán SharedLogPath, pak SharedLogId musí také uvést.</span><span class="sxs-lookup"><span data-stu-id="e6de2-228">However, if SharedLogPath is specified, then SharedLogId must also be specified.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="e6de2-229">Vzorový konfigurační soubor</span><span class="sxs-lookup"><span data-stu-id="e6de2-229">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
      <Parameter Name="CheckpointThresholdInMB" Value="180" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```

## <a name="remarks"></a><span data-ttu-id="e6de2-230">Poznámky</span><span class="sxs-lookup"><span data-stu-id="e6de2-230">Remarks</span></span>
<span data-ttu-id="e6de2-231">Parametr BatchAcknowledgementInterval Hello řídí latenci replikace.</span><span class="sxs-lookup"><span data-stu-id="e6de2-231">hello BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="e6de2-232">Hodnota '0' výsledkem hello nejnižší možnou latenci, náklady na hello propustnosti (jako další potvrzení zprávy musí být odeslána a zpracování jednotlivých obsahující méně potvrzení).</span><span class="sxs-lookup"><span data-stu-id="e6de2-232">A value of '0' results in hello lowest possible latency, at hello cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="e6de2-233">Hello větší hodnotu hello BatchAcknowledgementInterval, hello vyšší hello celková propustnost replikace hello náklady na vyšší latence operace.</span><span class="sxs-lookup"><span data-stu-id="e6de2-233">hello larger hello value for BatchAcknowledgementInterval, hello higher hello overall replication throughput, at hello cost of higher operation latency.</span></span> <span data-ttu-id="e6de2-234">Výsledkem je přímo toohello latenci potvrzení transakcí.</span><span class="sxs-lookup"><span data-stu-id="e6de2-234">This directly translates toohello latency of transaction commits.</span></span>

<span data-ttu-id="e6de2-235">Hello CheckpointThresholdInMB parametr ovládací prvky hello množství místa na disku, který hello Replikátor můžete použít informace o stavu toostore v souboru protokolu vyhrazené hello repliky.</span><span class="sxs-lookup"><span data-stu-id="e6de2-235">hello CheckpointThresholdInMB parameter controls hello amount of disk space that hello replicator can use toostore state information in hello replica's dedicated log file.</span></span> <span data-ttu-id="e6de2-236">Zvýšení tuto tooa vyšší hodnotu než výchozí hello může mít za následek Rekonfigurace rychlejší, když novou repliku je přidána toohello sady.</span><span class="sxs-lookup"><span data-stu-id="e6de2-236">Increasing this tooa higher value than hello default could result in faster reconfiguration times when a new replica is added toohello set.</span></span> <span data-ttu-id="e6de2-237">Toto je z důvodu přenosu toohello částečné stavu, který probíhá kvůli toohello dostupnost další historie operací v protokolu hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-237">This is due toohello partial state transfer that takes place due toohello availability of more history of operations in hello log.</span></span> <span data-ttu-id="e6de2-238">Potenciálně může prodloužit dobu obnovení hello repliky po chybě.</span><span class="sxs-lookup"><span data-stu-id="e6de2-238">This can potentially increase hello recovery time of a replica after a crash.</span></span>

<span data-ttu-id="e6de2-239">Pokud nastavíte OptimizeForLowerDiskUsage tootrue, bude místo souboru protokolu neoprávněně zřízené tak, aby aktivní repliky můžete ukládat další informace o stavu v souborech protokolu i neaktivních replik se bude používat méně místa na disku.</span><span class="sxs-lookup"><span data-stu-id="e6de2-239">If you set OptimizeForLowerDiskUsage tootrue, log file space will be over-provisioned so that active replicas can store more state information in their log files, while inactive replicas will use less disk space.</span></span> <span data-ttu-id="e6de2-240">Díky tomu je možné toohost další repliky na uzlu.</span><span class="sxs-lookup"><span data-stu-id="e6de2-240">This makes it possible toohost more replicas on a node.</span></span> <span data-ttu-id="e6de2-241">Pokud jste nastavili OptimizeForLowerDiskUsage toofalse, informace o stavu hello se zapíše soubory protokolu toohello rychleji.</span><span class="sxs-lookup"><span data-stu-id="e6de2-241">If you set OptimizeForLowerDiskUsage toofalse, hello state information is written toohello log files more quickly.</span></span>

<span data-ttu-id="e6de2-242">nastavení MaxRecordSizeInKB Hello definuje maximální velikost hello záznam, který je možné zapsat hello Replikátor do souboru protokolu hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-242">hello MaxRecordSizeInKB setting defines hello maximum size of a record that can be written by hello replicator into hello log file.</span></span> <span data-ttu-id="e6de2-243">Ve většině případů hello výchozí záznam 1024 KB velikost je optimální.</span><span class="sxs-lookup"><span data-stu-id="e6de2-243">In most cases, hello default 1024-KB record size is optimal.</span></span> <span data-ttu-id="e6de2-244">Pokud však hello služba způsobuje položky dat větší toobe část informace o stavu hello, pak tato hodnota může být nutné toobe vyšší.</span><span class="sxs-lookup"><span data-stu-id="e6de2-244">However, if hello service is causing larger data items toobe part of hello state information, then this value might need toobe increased.</span></span> <span data-ttu-id="e6de2-245">Výhoda je malá při vytvoření MaxRecordSizeInKB menší než 1024, jako menší záznamů použijte pouze hello prostor potřebný pro menší záznam hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-245">There is little benefit in making MaxRecordSizeInKB smaller than 1024, as smaller records use only hello space needed for hello smaller record.</span></span> <span data-ttu-id="e6de2-246">Očekáváme, že tato hodnota by nutné toobe změnit pouze ve výjimečných případech.</span><span class="sxs-lookup"><span data-stu-id="e6de2-246">We expect that this value would need toobe changed only in rare cases.</span></span>

<span data-ttu-id="e6de2-247">nastavení SharedLogId a SharedLogPath Hello jsou vždy použít společně toomake služby použití samostatných sdílených protokolu z hello výchozí sdílené protokolu pro uzel hello.</span><span class="sxs-lookup"><span data-stu-id="e6de2-247">hello SharedLogId and SharedLogPath settings are always used together toomake a service use a separate shared log from hello default shared log for hello node.</span></span> <span data-ttu-id="e6de2-248">Pro nejlepšího výkonu by měl určovat tolik služby jako možné hello stejné sdílené protokolu.</span><span class="sxs-lookup"><span data-stu-id="e6de2-248">For best efficiency, as many services as possible should specify hello same shared log.</span></span> <span data-ttu-id="e6de2-249">Sdílené soubory protokolu musí být umístěny na disky, které se používají výhradně pro hello sdíleného souboru protokolu, tooreduce head přesun kolizí.</span><span class="sxs-lookup"><span data-stu-id="e6de2-249">Shared log files should be placed on disks that are used solely for hello shared log file, tooreduce head movement contention.</span></span> <span data-ttu-id="e6de2-250">Očekáváme, že tyto hodnoty by nutné toobe změnit pouze ve výjimečných případech.</span><span class="sxs-lookup"><span data-stu-id="e6de2-250">We expect that these values would need toobe changed only in rare cases.</span></span>

