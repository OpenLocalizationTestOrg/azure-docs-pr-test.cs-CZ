---
title: "aaaSet až nepřetržité integrace pro Azure mikroslužeb | Microsoft Docs"
description: "Získat přehled o tooset průběžnou integraci a nasazení pro aplikace Service Fabric pomocí Visual Studio Team Services (VSTS)."
services: service-fabric
documentationcenter: na
author: mthalman-msft
manager: timlt
editor: 
ms.assetid: 3e8c2290-9e7a-456a-9b2c-db44d1b3988d
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 12/06/2016
ms.author: mthalman;mikhegn
ms.openlocfilehash: 041e081f4a42f379394f2d21f07db4f6de045b24
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="set-up-service-fabric-continuous-integration-and-deployment-with-visual-studio-team-services"></a><span data-ttu-id="3f3bf-103">Nastavit Service Fabric průběžnou integraci a nasazení s Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="3f3bf-103">Set up Service Fabric continuous integration and deployment with Visual Studio Team Services</span></span>
<span data-ttu-id="3f3bf-104">Tento článek popisuje kroky tooset hello průběžnou integraci a nasazení pro aplikaci Azure Service Fabric pomocí Visual Studio Team Services (VSTS).</span><span class="sxs-lookup"><span data-stu-id="3f3bf-104">This article describes hello steps tooset up continuous integration and deployment for an Azure Service Fabric application by using Visual Studio Team Services (VSTS).</span></span>

<span data-ttu-id="3f3bf-105">Tento dokument odráží aktuální procedury hello a je očekávané toochange v čase.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-105">This document reflects hello current procedure and is expected toochange over time.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="3f3bf-106">Požadavky</span><span class="sxs-lookup"><span data-stu-id="3f3bf-106">Prerequisites</span></span>
<span data-ttu-id="3f3bf-107">tooget spustili, postupujte takto:</span><span class="sxs-lookup"><span data-stu-id="3f3bf-107">tooget started, follow these steps:</span></span>

1. <span data-ttu-id="3f3bf-108">Zajistěte, abyste měli přístup k účtu Team Services tooa nebo [vytvořit](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) sami.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-108">Ensure that you have access tooa Team Services account or [create one](https://www.visualstudio.com/docs/setup-admin/team-services/sign-up-for-visual-studio-team-services) yourself.</span></span>
2. <span data-ttu-id="3f3bf-109">Zajistěte, abyste měli přístup tooa Team Services týmového projektu nebo [vytvořit](https://www.visualstudio.com/docs/setup-admin/create-team-project) sami.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-109">Ensure that you have access tooa Team Services team project or [create one](https://www.visualstudio.com/docs/setup-admin/create-team-project) yourself.</span></span>
3. <span data-ttu-id="3f3bf-110">Ujistěte se, že máte cluster toowhich Service Fabric, můžete nasadit aplikace nebo vytvořit pomocí hello [portál Azure](service-fabric-cluster-creation-via-portal.md), [šablony Azure Resource Manageru](service-fabric-cluster-creation-via-arm.md), nebo [Visual Studio ](service-fabric-cluster-creation-via-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="3f3bf-110">Ensure that you have a Service Fabric cluster toowhich you can deploy your application or create one using hello [Azure portal](service-fabric-cluster-creation-via-portal.md), an [Azure Resource Manager template](service-fabric-cluster-creation-via-arm.md), or [Visual Studio](service-fabric-cluster-creation-via-visual-studio.md).</span></span>
4. <span data-ttu-id="3f3bf-111">Ujistěte se, že jste již vytvořili projekt aplikace Service Fabric (.sfproj).</span><span class="sxs-lookup"><span data-stu-id="3f3bf-111">Ensure that you have already created a Service Fabric Application (.sfproj) project.</span></span> <span data-ttu-id="3f3bf-112">Projekt, který byl vytvořen nebo upgradovat s Service Fabric SDK 2.1 nebo vyšší musí mít (hello .sfproj soubor by měl obsahovat hodnotu vlastnosti ProjectVersion 1.1 nebo vyšší).</span><span class="sxs-lookup"><span data-stu-id="3f3bf-112">You must have a project that was created or upgraded with Service Fabric SDK 2.1 or higher (hello .sfproj file should contain a ProjectVersion property value of 1.1 or higher).</span></span>

> [!NOTE]
> <span data-ttu-id="3f3bf-113">Vlastní sestavovací agentů se už nevyžadují.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-113">Custom build agents are no longer required.</span></span> <span data-ttu-id="3f3bf-114">Týmové služby hostované agentů je dodávána předinstalované software pro správu clusteru Service Fabric, povolení pro nasazení aplikací přímo z těchto agentů.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-114">Team Services hosted agents now come pre-installed with Service Fabric cluster management software, allowing for deployment of your applications directly from those agents.</span></span>
> 
> 

## <a name="configure-and-share-your-source-files"></a><span data-ttu-id="3f3bf-115">Konfigurace a sdílet zdrojové soubory</span><span class="sxs-lookup"><span data-stu-id="3f3bf-115">Configure and share your source files</span></span>
<span data-ttu-id="3f3bf-116">Hello první věcí, kterou chcete toodo je připravit profil publikování pro použití hello procesu nasazení, který spouští v rámci Team Services.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-116">hello first thing you want toodo is prepare a publish profile for use by hello deployment process that executes within Team Services.</span></span>  <span data-ttu-id="3f3bf-117">profil publikování se Hello by měl být nakonfigurovaný tootarget hello clusteru, který jste připravili dříve:</span><span class="sxs-lookup"><span data-stu-id="3f3bf-117">hello publish profile should be configured tootarget hello cluster that you've previously prepared:</span></span>

1. <span data-ttu-id="3f3bf-118">Vyberte profil publikování v rámci projektu aplikace, že chcete toouse pro pracovní postup průběžnou integraci.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-118">Choose a publish profile within your Application project that you want toouse for your continuous integration workflow.</span></span> <span data-ttu-id="3f3bf-119">Postupujte podle hello [publikovat pokyny](service-fabric-publish-app-remote-cluster.md) o toopublish vzdáleného clusteru služby aplikace tooa.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-119">Follow hello [publish instructions](service-fabric-publish-app-remote-cluster.md) on how toopublish an application tooa remote cluster.</span></span> <span data-ttu-id="3f3bf-120">Nepotřebujete ve skutečnosti toopublish aplikace ale.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-120">You don't actually need toopublish your application though.</span></span> <span data-ttu-id="3f3bf-121">Můžete kliknout na hello **Uložit** hypertextový odkaz v hello dialogového okna publikování, když jste správně nakonfigurovali věcí.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-121">You can click hello **Save** hyperlink in hello publish dialog once you have configured things appropriately.</span></span>
2. <span data-ttu-id="3f3bf-122">Pokud chcete, aby vaše aplikace toobe upgradovat pro každé nasazení, který se vyskytuje v Team Services, budete chtít tooconfigure hello Publikovat profil tooenable upgradu.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-122">If you want your application toobe upgraded for each deployment that occurs within Team Services, you want tooconfigure hello publish profile tooenable upgrade.</span></span> <span data-ttu-id="3f3bf-123">V hello dialogového okna použít stejné publikování v kroku 1, ujistěte se, že hello **upgradu hello aplikace** je zaškrtnuté políčko.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-123">In hello same publish dialog used in step 1, ensure that hello **Upgrade hello Application** checkbox is checked.</span></span>  <span data-ttu-id="3f3bf-124">Další informace o [konfigurace dalších nastavení upgradu](service-fabric-visualstudio-configure-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="3f3bf-124">Learn more about [configuring additional upgrade settings](service-fabric-visualstudio-configure-upgrade.md).</span></span> <span data-ttu-id="3f3bf-125">Klikněte na tlačítko hello **Uložit** hypertextový odkaz toosave hello nastavení toohello profilu publikování.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-125">Click hello **Save** hyperlink toosave hello settings toohello publish profile.</span></span>
3. <span data-ttu-id="3f3bf-126">Zkontrolujte, zda jste uložili změny toohello Publikovat profil a zrušit hello dialogového okna publikování.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-126">Ensure that you've saved your changes toohello publish profile and cancel hello publish dialog.</span></span>
4. <span data-ttu-id="3f3bf-127">Nyní je čas příliš[sdílet zdrojové soubory vašeho projektu aplikace](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) s Team Services.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-127">Now it's time too[share your Application project source files](https://www.visualstudio.com/docs/setup-admin/team-services/connect-to-visual-studio-team-services#vs) with Team Services.</span></span> <span data-ttu-id="3f3bf-128">Jakmile zdrojové soubory jsou přístupné v Team Services, nyní se můžete přesunout na další krok toohello generování sestavení.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-128">Once your source files are accessible in Team Services, you can now move on toohello next step of generating builds.</span></span> 

## <a name="create-a-build-definition"></a><span data-ttu-id="3f3bf-129">Vytvořit definici sestavení</span><span class="sxs-lookup"><span data-stu-id="3f3bf-129">Create a build definition</span></span>
<span data-ttu-id="3f3bf-130">Definice sestavení Team Services popisuje pracovní postup, který se skládá ze sady kroky sestavení, které jsou prováděny postupně.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-130">A Team Services build definition describes a workflow that is composed of a set of build steps that are executed sequentially.</span></span> <span data-ttu-id="3f3bf-131">cílem Hello hello definice sestavení, který vytváříte je tooproduce k balíčku aplikace Service Fabric a artefaktů, které se dají použít toodeploy hello aplikace.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-131">hello goal of hello build definition that you are creating is tooproduce a Service Fabric application package, and other artifacts, that can be used toodeploy hello application.</span></span> <span data-ttu-id="3f3bf-132">Další informace o Team Services [sestavení definice](https://www.visualstudio.com/docs/build/define/create).</span><span class="sxs-lookup"><span data-stu-id="3f3bf-132">Learn more about Team Services [build definitions](https://www.visualstudio.com/docs/build/define/create).</span></span>

### <a name="create-a-definition-from-hello-build-template"></a><span data-ttu-id="3f3bf-133">Vytvoření definice z šablony sestavení hello</span><span class="sxs-lookup"><span data-stu-id="3f3bf-133">Create a definition from hello build template</span></span>
1. <span data-ttu-id="3f3bf-134">Otevřete váš týmový projekt v sadě Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-134">Open your team project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="3f3bf-135">Vyberte hello **sestavení** kartě.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-135">Select hello **Build** tab.</span></span>
3. <span data-ttu-id="3f3bf-136">Vyberte hello zelená  **+**  přihlásit toocreate nové definice buildu.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-136">Select hello green **+** sign toocreate a new build definition.</span></span>
4. <span data-ttu-id="3f3bf-137">V dialogovém okně hello, které se otevře, vyberte **aplikace Azure Service Fabric** v rámci hello **sestavení** kategorie šablony.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-137">In hello dialog that opens, select **Azure Service Fabric Application** within hello **Build** template category.</span></span>
5. <span data-ttu-id="3f3bf-138">Vyberte **Další**.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-138">Select **Next**.</span></span>
6. <span data-ttu-id="3f3bf-139">Vyberte úložiště hello a větve přidružená aplikace Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-139">Select hello repository and branch associated with your Service Fabric application.</span></span>
7. <span data-ttu-id="3f3bf-140">Vyberte fronty agenta hello chcete toouse.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-140">Select hello agent queue you wish toouse.</span></span> <span data-ttu-id="3f3bf-141">Hostovaní agenti jsou podporovány.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-141">Hosted agents are supported.</span></span>
8. <span data-ttu-id="3f3bf-142">Vyberte **Vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-142">Select **Create**.</span></span>
9. <span data-ttu-id="3f3bf-143">Uložit definici sestavení hello a zadejte název.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-143">Save hello build definition and provide a name.</span></span>
10. <span data-ttu-id="3f3bf-144">Hello následující odstavce je uveden popis kroků sestavení hello generované hello šablony:</span><span class="sxs-lookup"><span data-stu-id="3f3bf-144">hello following paragraph is a description of hello build steps generated by hello template:</span></span>

| <span data-ttu-id="3f3bf-145">Krok sestavení</span><span class="sxs-lookup"><span data-stu-id="3f3bf-145">Build step</span></span> | <span data-ttu-id="3f3bf-146">Popis</span><span class="sxs-lookup"><span data-stu-id="3f3bf-146">Description</span></span> |
| --- | --- |
| <span data-ttu-id="3f3bf-147">Obnovení NuGet</span><span class="sxs-lookup"><span data-stu-id="3f3bf-147">NuGet restore</span></span> |<span data-ttu-id="3f3bf-148">Obnoví hello balíčků NuGet pro řešení hello.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-148">Restores hello NuGet packages for hello solution.</span></span> |
| <span data-ttu-id="3f3bf-149">Vytvoření řešení \*.sln</span><span class="sxs-lookup"><span data-stu-id="3f3bf-149">Build solution \*.sln</span></span> |<span data-ttu-id="3f3bf-150">Sestaví hello celé řešení.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-150">Builds hello entire solution.</span></span> |
| <span data-ttu-id="3f3bf-151">Vytvoření řešení \*.sfproj</span><span class="sxs-lookup"><span data-stu-id="3f3bf-151">Build solution \*.sfproj</span></span> |<span data-ttu-id="3f3bf-152">Generuje hello balíček aplikace Service Fabric, který je použité toodeploy hello aplikace.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-152">Generates hello Service Fabric application package that is used toodeploy hello application.</span></span> <span data-ttu-id="3f3bf-153">umístění balíčku aplikace Hello je zadaný toobe v adresáři artefaktů sestavení hello.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-153">hello application package location is specified toobe within hello build's artifact directory.</span></span> |
| <span data-ttu-id="3f3bf-154">Aktualizace verze aplikace Service Fabric</span><span class="sxs-lookup"><span data-stu-id="3f3bf-154">Update Service Fabric App Versions</span></span> |<span data-ttu-id="3f3bf-155">Aktualizace hodnoty verze hello obsažené v balíčku aplikace hello souborů manifestu tooallow podpora upgradu.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-155">Updates hello version values contained in hello application package's manifest files tooallow for upgrade support.</span></span> <span data-ttu-id="3f3bf-156">V tématu hello [stránky dokumentace, která úloha](https://go.microsoft.com/fwlink/?LinkId=820529) Další informace.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-156">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> |
| <span data-ttu-id="3f3bf-157">Kopírování souborů</span><span class="sxs-lookup"><span data-stu-id="3f3bf-157">Copy Files</span></span> |<span data-ttu-id="3f3bf-158">Kopie hello Publikovat profil a aplikace parametry soubory toohello sestavení na artefakty toobe využité pro nasazení.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-158">Copies hello publish profile and application parameters files toohello build's artifacts toobe consumed for deployment.</span></span> |
| <span data-ttu-id="3f3bf-159">Publikování artefaktů</span><span class="sxs-lookup"><span data-stu-id="3f3bf-159">Publish Artifact</span></span> |<span data-ttu-id="3f3bf-160">Publikuje hello sestavení artefaktů.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-160">Publishes hello build's artifacts.</span></span> <span data-ttu-id="3f3bf-161">Umožňuje definici verze sestavení hello tooconsume artefakty.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-161">Allows a release definition tooconsume hello build's artifacts.</span></span> |

### <a name="verify-hello-default-set-of-tasks"></a><span data-ttu-id="3f3bf-162">Ověřte hello výchozí sadu úloh</span><span class="sxs-lookup"><span data-stu-id="3f3bf-162">Verify hello default set of tasks</span></span>
1. <span data-ttu-id="3f3bf-163">Ověřte hello **řešení** vstupní pole pro hello **obnovení NuGet** a **sestavení řešení** kroky sestavení.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-163">Verify hello **Solution** input field for hello **NuGet restore** and **Build solution** build steps.</span></span>  <span data-ttu-id="3f3bf-164">Ve výchozím nastavení, tyto kroky sestavení spuštění na všechny soubory řešení, které jsou obsaženy v úložišti hello přidružené.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-164">By default, these build steps execute upon all solution files that are contained in hello associated repository.</span></span>  <span data-ttu-id="3f3bf-165">Pokud chcete pouze toooperate definice sestavení hello na jednom z těchto souborů řešení, budete potřebovat tooexplicitly aktualizace hello cesta toothat soubor.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-165">If you only want hello build definition toooperate on one of those solution files, you need tooexplicitly update hello path toothat file.</span></span>
2. <span data-ttu-id="3f3bf-166">Ověřte hello **řešení** vstupní pole pro hello **balíčku aplikace** kroku sestavení.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-166">Verify hello **Solution** input field for hello **Package application** build step.</span></span>  <span data-ttu-id="3f3bf-167">Ve výchozím nastavení tento krok sestavení předpokládá, že existuje jenom jedna aplikace Service Fabric projektu (.sfproj) v úložišti hello.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-167">By default, this build step assumes only one Service Fabric Application project (.sfproj) exists in hello repository.</span></span>  <span data-ttu-id="3f3bf-168">Pokud máte více tyto soubory do úložiště a chcete tootarget, pouze jedna je pro tuto definici sestavení, budete potřebovat tooexplicitly aktualizace hello cesta toothat soubor.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-168">If you have multiple such files in your repository and want tootarget only one of them for this build definition, you need tooexplicitly update hello path toothat file.</span></span>  <span data-ttu-id="3f3bf-169">Pokud chcete ve svém úložišti toopackage projekty více aplikací, je nutné toocreate Další **Visual Studio sestavení** kroky v definici sestavení Dobrý den, každý cílí projekt aplikace.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-169">If you want toopackage multiple Application projects in your repository, you need toocreate additional **Visual Studio Build** steps in hello build definition that each target an Application project.</span></span>  <span data-ttu-id="3f3bf-170">Pak také potřebujete tooupdate hello **argumenty MSBuild** pole pro každý z nich kroky sestavení tak, aby hello umístění balíčku je jedinečný pro každý z nich.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-170">You would then also need tooupdate hello **MSBuild Arguments** field for each of those build steps so that hello package location is unique for each of them.</span></span>
3. <span data-ttu-id="3f3bf-171">Ověřte hello Správa verzí chování definované v hello **verze aktualizace Service Fabric aplikace** kroku sestavení.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-171">Verify hello versioning behavior defined in hello **Update Service Fabric App Versions** build step.</span></span>  <span data-ttu-id="3f3bf-172">Ve výchozím nastavení tento krok sestavení připojí hello sestavení číslo tooall hodnoty verze v balíčku aplikace hello souborů manifestu.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-172">By default, this build step appends hello build number tooall version values in hello application package's manifest files.</span></span> <span data-ttu-id="3f3bf-173">V tématu hello [stránky dokumentace, která úloha](https://go.microsoft.com/fwlink/?LinkId=820529) Další informace.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-173">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820529) for more information.</span></span> <span data-ttu-id="3f3bf-174">To je užitečné pro podporu upgradu vaší aplikace, vzhledem k tomu, že každé nasazení upgradu vyžaduje jinou verzi hodnoty z předchozích nasazení hello.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-174">This is useful for supporting upgrade of your application since each upgrade deployment requires different version values from hello previous deployment.</span></span> <span data-ttu-id="3f3bf-175">Pokud ve svém pracovním postupu nejsou záměrné upgradu aplikace toouse, zvažte zákaz tento krok sestavení.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-175">If you're not intending toouse application upgrade in your workflow, you may consider disabling this build step.</span></span> <span data-ttu-id="3f3bf-176">Musí být zakázáno, má-li tooproduce sestavení, které můžou být použité toooverwrite stávající aplikace Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-176">It must be disabled if your intention is tooproduce a build that can be used toooverwrite an existing Service Fabric application.</span></span> <span data-ttu-id="3f3bf-177">Hello nasazení selže, pokud hello verze aplikace hello vyprodukované hello sestavení neodpovídá verzi hello hello aplikace v clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-177">hello deployment fails if hello version of hello application produced by hello build does not match hello version of hello application in hello cluster.</span></span>
4. <span data-ttu-id="3f3bf-178">Pokud vaše řešení obsahuje projektu .NET Core, je nutné zajistit, že vaše definice sestavení obsahuje krok sestavení, která obnoví hello závislosti:</span><span class="sxs-lookup"><span data-stu-id="3f3bf-178">If your solution contains a .NET Core project, you must ensure that your build definition contains a build step that restores hello dependencies:</span></span>
   1. <span data-ttu-id="3f3bf-179">Vyberte **krok sestavení přidat...** .</span><span class="sxs-lookup"><span data-stu-id="3f3bf-179">Select **Add build step...**.</span></span>
   2. <span data-ttu-id="3f3bf-180">Vyhledejte hello **příkazového řádku** v rámci kartu nástroj hello a klikněte na jeho tlačítko Přidat.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-180">Locate hello **Command-Line** task within hello Utility tab and click its Add button.</span></span>
   3. <span data-ttu-id="3f3bf-181">Pro úlohu hello vstupní pole, použijte hello následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="3f3bf-181">For hello task's input fields, use hello following values:</span></span>
   4. <span data-ttu-id="3f3bf-182">Nástroj: dotnet.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-182">Tool: dotnet</span></span>
   5. <span data-ttu-id="3f3bf-183">Argumenty: obnovení</span><span class="sxs-lookup"><span data-stu-id="3f3bf-183">Arguments: restore</span></span>
   6. <span data-ttu-id="3f3bf-184">Přetáhněte hello úloh tak, aby se okamžitě po hello **obnovení NuGet** krok.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-184">Drag hello task so that it is immediately after hello **NuGet restore** step.</span></span>
5. <span data-ttu-id="3f3bf-185">Uložte změny, které jste udělali toohello definici sestavení.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-185">Save any changes you've made toohello build definition.</span></span>

### <a name="try-it"></a><span data-ttu-id="3f3bf-186">Vyzkoušet</span><span class="sxs-lookup"><span data-stu-id="3f3bf-186">Try it</span></span>
<span data-ttu-id="3f3bf-187">Vyberte **fronty sestavení** toomanually spuštění sestavení.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-187">Select **Queue Build** toomanually start a build.</span></span> <span data-ttu-id="3f3bf-188">Vytvoří také aktivační události nabízené nebo vrácení se změnami.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-188">Builds also triggers upon push or check-in.</span></span> <span data-ttu-id="3f3bf-189">Jakmile se ujistíte, že sestavení hello úspěšně spouští, nyní se můžete přesunout na toodefining definici verze, která nasadí cluster tooa aplikace.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-189">Once you've verified that hello build is executing successfully, you can now move on toodefining a release definition that deploys your application tooa cluster.</span></span>

## <a name="create-a-release-definition"></a><span data-ttu-id="3f3bf-190">Vytvoření definice verze</span><span class="sxs-lookup"><span data-stu-id="3f3bf-190">Create a release definition</span></span>
<span data-ttu-id="3f3bf-191">Verze definice Team Services popisuje pracovní postup, který se skládá z sadu úloh, které jsou prováděny postupně.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-191">A Team Services release definition describes a workflow that is composed of a set of tasks that are executed sequentially.</span></span> <span data-ttu-id="3f3bf-192">cílem Hello hello verze definice, které vytváříte je tootake balíček aplikace a nasaďte ji tooa clusteru.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-192">hello goal of hello release definition that you are creating is tootake an application package and deploy it tooa cluster.</span></span> <span data-ttu-id="3f3bf-193">Při použití společně, hello sestavení definice a definice verzi můžete provést celý pracovní postup hello z počínaje tooending zdrojové soubory s běžící aplikací v clusteru.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-193">When used together, hello build definition and release definition can execute hello entire workflow from starting with source files tooending with a running application in your cluster.</span></span> <span data-ttu-id="3f3bf-194">Další informace o Team Services [verze definice](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span><span class="sxs-lookup"><span data-stu-id="3f3bf-194">Learn more about Team Services [release definitions](https://www.visualstudio.com/docs/release/author-release-definition/more-release-definition).</span></span>

### <a name="create-a-definition-from-hello-release-template"></a><span data-ttu-id="3f3bf-195">Vytvoření definice z šablony verze hello</span><span class="sxs-lookup"><span data-stu-id="3f3bf-195">Create a definition from hello release template</span></span>
1. <span data-ttu-id="3f3bf-196">Otevřete projekt v sadě Visual Studio Team Services.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-196">Open your project in Visual Studio Team Services.</span></span>
2. <span data-ttu-id="3f3bf-197">Vyberte hello **verze** kartě.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-197">Select hello **Release** tab.</span></span>
3. <span data-ttu-id="3f3bf-198">Vyberte hello zelená  **+**  přihlásit toocreate novou definici verzí a vybrat **vytvořit verze definice** v nabídce hello.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-198">Select hello green **+** sign toocreate a new release definition and select **Create release definition** in hello menu.</span></span>
4. <span data-ttu-id="3f3bf-199">V dialogovém okně hello, které se otevře, vyberte **Azure Service Fabric nasazení** v rámci hello **nasazení** kategorie šablony.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-199">In hello dialog that opens, select **Azure Service Fabric Deployment** within hello **Deployment** template category.</span></span>
5. <span data-ttu-id="3f3bf-200">Vyberte **Další**.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-200">Select **Next**.</span></span>
6. <span data-ttu-id="3f3bf-201">Vyberte definici sestavení hello toouse chcete jako zdroj hello této verze definice.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-201">Select hello build definition you want toouse as hello source of this release definition.</span></span>  <span data-ttu-id="3f3bf-202">Hello verze definice odkazy hello artefakty vydaných společností hello vybrané sestavení definice.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-202">hello release definition references hello artifacts that were produced by hello selected build definition.</span></span>
7. <span data-ttu-id="3f3bf-203">Zkontrolujte hello **průběžné nasazování** zaškrtávací políčko, pokud chcete toohave Team Services automaticky vytvořit novou verzi a nasadit aplikace Service Fabric hello vždy, když sestavení se dokončí.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-203">Check hello **Continuous deployment** check box if you wish toohave Team Services automatically create a new release and deploy hello Service Fabric application whenever a build completes.</span></span>
8. <span data-ttu-id="3f3bf-204">Vyberte fronty agenta hello chcete toouse.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-204">Select hello agent queue you wish toouse.</span></span> <span data-ttu-id="3f3bf-205">Hostovaní agenti jsou podporovány.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-205">Hosted agents are supported.</span></span>
9. <span data-ttu-id="3f3bf-206">Vyberte **Vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-206">Select **Create**.</span></span>
10. <span data-ttu-id="3f3bf-207">Název definice hello upravte kliknutím na ikonu tužky hello hello horní části stránky hello.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-207">Edit hello definition name by clicking hello pencil icon at hello top of hello page.</span></span>
11. <span data-ttu-id="3f3bf-208">Vyberte toowhich hello clusteru musí být nasazené aplikace hello **připojení clusteru** vstupní pole hello úlohy.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-208">Select hello cluster toowhich your application should be deployed from hello **Cluster Connection** input field of hello task.</span></span> <span data-ttu-id="3f3bf-209">připojení clusteru Hello poskytuje hello potřebné informace, které umožňuje hello nasazení úloh tooconnect toohello clusteru.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-209">hello cluster connection provides hello necessary information that allows hello deployment task tooconnect toohello cluster.</span></span> <span data-ttu-id="3f3bf-210">Pokud ještě nemáte připojení clusteru pro cluster, vyberte hello **spravovat** hyperlink další toohello pole tooadd jeden.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-210">If you do not yet have a cluster connection for your cluster, select hello **Manage** hyperlink next toohello field tooadd one.</span></span> <span data-ttu-id="3f3bf-211">Na stránce hello, které se otevře proveďte následující kroky hello:</span><span class="sxs-lookup"><span data-stu-id="3f3bf-211">On hello page that opens, perform hello following steps:</span></span>
    1. <span data-ttu-id="3f3bf-212">Vyberte **nový koncový bod služby** a pak vyberte **Azure Service Fabric** nabídce hello.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-212">Select **New Service Endpoint** and then select **Azure Service Fabric** from hello menu.</span></span>
    2. <span data-ttu-id="3f3bf-213">Vyberte typ ověřování používá cílem tento koncový bod clusteru hello hello.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-213">Select hello type of authentication being used by hello cluster targeted by this endpoint.</span></span>
    3. <span data-ttu-id="3f3bf-214">Definujte název připojení v hello **název připojení** pole.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-214">Define a name for your connection in hello **Connection Name** field.</span></span>  <span data-ttu-id="3f3bf-215">Obvykle byste použili hello názvem vašeho clusteru.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-215">Typically, you would use hello name of your cluster.</span></span>
    4. <span data-ttu-id="3f3bf-216">Definování hello adresu URL koncového bodu připojení klienta v hello **koncový bod clusteru** pole.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-216">Define hello client connection endpoint URL in hello **Cluster Endpoint** field.</span></span>  <span data-ttu-id="3f3bf-217">Příklad: tcp://contoso.westus.cloudapp.azure.com:19000.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-217">Example: tcp://contoso.westus.cloudapp.azure.com:19000.</span></span>
    5. <span data-ttu-id="3f3bf-218">U přihlašovacích údajů Azure Active Directory, definovat hello pověření, které chcete cluster toohello tooconnect toouse v hello **uživatelské jméno** a **heslo** pole.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-218">For Azure Active Directory credentials, define hello credentials you want toouse tooconnect toohello cluster in hello **Username** and **Password** fields.</span></span>
    6. <span data-ttu-id="3f3bf-219">Pro ověřování pomocí certifikátu, zadejte hello Base64 kódování souboru certifikátu klienta hello v hello **klientský certifikát** pole.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-219">For Certificate Based authentication, define hello Base64 encoding of hello client certificate file in hello **Client Certificate** field.</span></span>  <span data-ttu-id="3f3bf-220">Zobrazit automaticky otevírané okno nápovědy hello na informace o tom, že pole tooget, která hodnota.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-220">See hello help pop-up on that field for info on how tooget that value.</span></span>  <span data-ttu-id="3f3bf-221">Pokud váš certifikát je chráněný heslem, zadejte heslo hello v hello **heslo** pole.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-221">If your certificate is password-protected, define hello password in hello **Password** field.</span></span>
    7. <span data-ttu-id="3f3bf-222">Potvrďte změny kliknutím **OK**.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-222">Confirm your changes by clicking **OK**.</span></span> <span data-ttu-id="3f3bf-223">Po přechodu pozadí tooyour verze definice, klikněte na ikonu aktualizace hello na hello **připojení clusteru** pole toosee hello koncový bod jste právě přidali.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-223">After navigating back tooyour release definition, click hello refresh icon on hello **Cluster Connection** field toosee hello endpoint you just added.</span></span>
12. <span data-ttu-id="3f3bf-224">Uložte definici verze hello.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-224">Save hello release definition.</span></span>

> [!NOTE]
> <span data-ttu-id="3f3bf-225">Accounts Microsoft (například @hotmail.com nebo @outlook.com) nejsou podporovány pomocí ověřování Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-225">Microsoft Accounts (for example, @hotmail.com or @outlook.com) are not supported with Azure Active Directory authentication.</span></span>
> 
> 

<span data-ttu-id="3f3bf-226">definice Hello, který se vytvoří se skládá z úloh typu **nasazení aplikace Service Fabric**.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-226">hello definition that is created consists of one task of type **Service Fabric Application Deployment**.</span></span> <span data-ttu-id="3f3bf-227">V tématu hello [stránky dokumentace, která úloha](https://go.microsoft.com/fwlink/?LinkId=820528) Další informace o této úloze.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-227">See hello [task documentation page](https://go.microsoft.com/fwlink/?LinkId=820528) for more information about this task.</span></span>

### <a name="verify-hello-template-defaults"></a><span data-ttu-id="3f3bf-228">Zkontrolujte výchozí nastavení šablony hello</span><span class="sxs-lookup"><span data-stu-id="3f3bf-228">Verify hello template defaults</span></span>
1. <span data-ttu-id="3f3bf-229">Ověřte hello **profil publikování** vstupní pole pro hello **nasazení aplikace Service Fabric** úloh.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-229">Verify hello **Publish Profile** input field for hello **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="3f3bf-230">Ve výchozím nastavení odkazuje na toto pole s názvem Cloud.xml obsažené v hello sestavení artefaktů profil publikování.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-230">By default, this field references a publish profile named Cloud.xml contained in hello build's artifacts.</span></span> <span data-ttu-id="3f3bf-231">Pokud chcete, aby tooreference profil různých publikování nebo hello sestavení obsahuje několik balíčků aplikace v některé jeho artefakty, tooupdate hello cestu je třeba správně.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-231">If you want tooreference a different publish profile or if hello build contains multiple application packages in its artifacts, you need tooupdate hello path appropriately.</span></span>
2. <span data-ttu-id="3f3bf-232">Ověřte hello **balíčku aplikace** vstupní pole pro hello **nasazení aplikace Service Fabric** úloh.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-232">Verify hello **Application Package** input field for hello **Deploy Service Fabric Application** task.</span></span> <span data-ttu-id="3f3bf-233">Ve výchozím nastavení v tomto poli odkazuje hello výchozí aplikace balíčku cestu použitou v šablony definice sestavení hello.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-233">By default, this field references hello default application package path used in hello build definition template.</span></span>  <span data-ttu-id="3f3bf-234">Pokud jste změnili hello výchozí cesta balíčku aplikace v hello sestavení definici, musíte tooupdate hello cesta správně zde také.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-234">If you've modified hello default application package path in hello build definition, you need tooupdate hello path appropriately here as well.</span></span>

### <a name="try-it"></a><span data-ttu-id="3f3bf-235">Vyzkoušet</span><span class="sxs-lookup"><span data-stu-id="3f3bf-235">Try it</span></span>
<span data-ttu-id="3f3bf-236">Vyberte **vytvořit verzi** z hello **verze** tlačítko nabídky toomanually vytvořit verzi.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-236">Select **Create Release** from hello **Release** button menu toomanually create a release.</span></span> <span data-ttu-id="3f3bf-237">V dialogovém okně hello, které se otevře, vyberte hello build, který chcete toobase hello verze na a pak klikněte na tlačítko **vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-237">In hello dialog that opens, select hello build that you want toobase hello release on and then click **Create**.</span></span> <span data-ttu-id="3f3bf-238">Pokud jste povolili průběžné nasazování, verze vytvoří automaticky po dokončení definice sestavení hello přidružené sestavení.</span><span class="sxs-lookup"><span data-stu-id="3f3bf-238">If you enabled continuous deployment, releases will be created automatically when hello associated build definition completes a build.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3f3bf-239">Další kroky</span><span class="sxs-lookup"><span data-stu-id="3f3bf-239">Next steps</span></span>
<span data-ttu-id="3f3bf-240">Další informace o průběžnou integraci s aplikací Service Fabric, přečtěte si následující články hello toolearn:</span><span class="sxs-lookup"><span data-stu-id="3f3bf-240">toolearn more about continuous integration with Service Fabric applications, read hello following articles:</span></span>

* [<span data-ttu-id="3f3bf-241">Dokumentace služby Team domácí</span><span class="sxs-lookup"><span data-stu-id="3f3bf-241">Team Services documentation home</span></span>](https://www.visualstudio.com/docs/overview)
* [<span data-ttu-id="3f3bf-242">Sestavení správy v nástroji Team Services</span><span class="sxs-lookup"><span data-stu-id="3f3bf-242">Build management in Team Services</span></span>](https://www.visualstudio.com/docs/build/overview)
* [<span data-ttu-id="3f3bf-243">Správy verzí v Team Services</span><span class="sxs-lookup"><span data-stu-id="3f3bf-243">Release management in Team Services</span></span>](https://www.visualstudio.com/docs/release/overview)

