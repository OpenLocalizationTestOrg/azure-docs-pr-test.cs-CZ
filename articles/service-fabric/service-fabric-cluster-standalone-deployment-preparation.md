---
title: "aaaAzure přípravy nasazení služby prostředků infrastruktury samostatné clusteru | Microsoft Docs"
description: "Dokumentace související s toopreparing hello prostředí a vytváření hello konfiguraci clusteru, toobe považována za předchozí toodeploying určená pro zpracování produkční zatížení clusteru."
services: service-fabric
documentationcenter: .net
author: maburlik
manager: timlt
editor: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 1/17/2017
ms.author: maburlik;chackdan
ms.openlocfilehash: e503c61a64b408af3f22bd75ab02f1c34ac9f380
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
<a id="preparemachines"></a>

## <a name="plan-and-prepare-your-service-fabric-standalone-cluster-deployment"></a><span data-ttu-id="bcf18-103">Plánování a příprava nasazení samostatný cluster Service Fabric</span><span class="sxs-lookup"><span data-stu-id="bcf18-103">Plan and prepare your Service Fabric standalone cluster deployment</span></span>
<span data-ttu-id="bcf18-104">Proveďte následující kroky předtím, než vytvoříte cluster hello.</span><span class="sxs-lookup"><span data-stu-id="bcf18-104">Perform hello following steps before you create your cluster.</span></span>

### <a name="step-1-plan-your-cluster-infrastructure"></a><span data-ttu-id="bcf18-105">Krok 1: Plánování infrastruktury clusteru</span><span class="sxs-lookup"><span data-stu-id="bcf18-105">Step 1: Plan your cluster infrastructure</span></span>
<span data-ttu-id="bcf18-106">Chystáte se toocreate cluster Service Fabric na počítačích, které vlastníte, abyste se mohli rozhodnout, jaké druhy chyb, které chcete hello toosurvive clusteru.</span><span class="sxs-lookup"><span data-stu-id="bcf18-106">You are about toocreate a Service Fabric cluster on machines you own, so you can decide what kinds of failures you want hello cluster toosurvive.</span></span> <span data-ttu-id="bcf18-107">Například musíte samostatné power řádky nebo připojení k Internetu zadaný toothese počítače?</span><span class="sxs-lookup"><span data-stu-id="bcf18-107">For example, do you need separate power lines or Internet connections supplied toothese machines?</span></span> <span data-ttu-id="bcf18-108">Kromě toho zvažte hello fyzického zabezpečení těchto počítačů.</span><span class="sxs-lookup"><span data-stu-id="bcf18-108">In addition, consider hello physical security of these machines.</span></span> <span data-ttu-id="bcf18-109">Umístění hello počítače, a který potřebuje přístup toothem?</span><span class="sxs-lookup"><span data-stu-id="bcf18-109">Where are hello machines located and who needs access toothem?</span></span> <span data-ttu-id="bcf18-110">Když provedete tato rozhodnutí, můžete počítače toohello hello logicky namapovat různých domén selhání (viz krok 4).</span><span class="sxs-lookup"><span data-stu-id="bcf18-110">After you make these decisions, you can logically map hello machines toohello various fault domains (see Step 4).</span></span> <span data-ttu-id="bcf18-111">plánování pro produkční clustery infrastruktury Hello je složitější než pro testovacích clusterů.</span><span class="sxs-lookup"><span data-stu-id="bcf18-111">hello infrastructure planning for production clusters is more involved than for test clusters.</span></span>

### <a name="step-2-prepare-hello-machines-toomeet-hello-prerequisites"></a><span data-ttu-id="bcf18-112">Krok 2: Příprava počítače toomeet hello hello požadavky</span><span class="sxs-lookup"><span data-stu-id="bcf18-112">Step 2: Prepare hello machines toomeet hello prerequisites</span></span>
<span data-ttu-id="bcf18-113">Předpoklady pro každý počítač, které chcete tooadd toohello clusteru:</span><span class="sxs-lookup"><span data-stu-id="bcf18-113">Prerequisites for each machine that you want tooadd toohello cluster:</span></span>

* <span data-ttu-id="bcf18-114">Doporučuje se minimálně 16 GB paměti RAM.</span><span class="sxs-lookup"><span data-stu-id="bcf18-114">A minimum of 16 GB of RAM is recommended.</span></span>
* <span data-ttu-id="bcf18-115">Doporučuje se minimálně 40 GB volného místa na disku.</span><span class="sxs-lookup"><span data-stu-id="bcf18-115">A minimum of 40 of GB available disk space is recommended.</span></span>
* <span data-ttu-id="bcf18-116">Doporučuje se 4 jádra nebo větší využití procesoru.</span><span class="sxs-lookup"><span data-stu-id="bcf18-116">A 4 core or greater CPU is recommended.</span></span>
* <span data-ttu-id="bcf18-117">Zabezpečené sítě tooa připojení nebo sítě pro všechny počítače.</span><span class="sxs-lookup"><span data-stu-id="bcf18-117">Connectivity tooa secure network or networks for all machines.</span></span>
* <span data-ttu-id="bcf18-118">Windows Server 2012 R2 nebo Windows Server 2016.</span><span class="sxs-lookup"><span data-stu-id="bcf18-118">Windows Server 2012 R2 or Windows Server 2016.</span></span> 
* <span data-ttu-id="bcf18-119">[Rozhraní .NET framework 4.5.1 nebo novější](https://www.microsoft.com/download/details.aspx?id=40773), úplné instalace.</span><span class="sxs-lookup"><span data-stu-id="bcf18-119">[.NET Framework 4.5.1 or higher](https://www.microsoft.com/download/details.aspx?id=40773), full install.</span></span>
* <span data-ttu-id="bcf18-120">[Prostředí Windows PowerShell 3.0](https://msdn.microsoft.com/powershell/scripting/setup/installing-windows-powershell).</span><span class="sxs-lookup"><span data-stu-id="bcf18-120">[Windows PowerShell 3.0](https://msdn.microsoft.com/powershell/scripting/setup/installing-windows-powershell).</span></span>
* <span data-ttu-id="bcf18-121">Hello [RemoteRegistry služby](https://technet.microsoft.com/library/cc754820) by však být spuštěna ve všech počítačích hello.</span><span class="sxs-lookup"><span data-stu-id="bcf18-121">hello [RemoteRegistry service](https://technet.microsoft.com/library/cc754820) should be running on all hello machines.</span></span>

<span data-ttu-id="bcf18-122">Hello Správce clusteru, nasazení a konfigurace clusteru hello musí mít [oprávnění správce](https://social.technet.microsoft.com/wiki/contents/articles/13436.windows-server-2012-how-to-add-an-account-to-a-local-administrator-group.aspx) na všech počítačích hello.</span><span class="sxs-lookup"><span data-stu-id="bcf18-122">hello cluster administrator deploying and configuring hello cluster must have [administrator privileges](https://social.technet.microsoft.com/wiki/contents/articles/13436.windows-server-2012-how-to-add-an-account-to-a-local-administrator-group.aspx) on each of hello machines.</span></span> <span data-ttu-id="bcf18-123">Service Fabric nelze nainstalovat na řadič domény.</span><span class="sxs-lookup"><span data-stu-id="bcf18-123">You cannot install Service Fabric on a domain controller.</span></span>

### <a name="step-3-determine-hello-initial-cluster-size"></a><span data-ttu-id="bcf18-124">Krok 3: Určení velikosti počáteční clusteru hello</span><span class="sxs-lookup"><span data-stu-id="bcf18-124">Step 3: Determine hello initial cluster size</span></span>
<span data-ttu-id="bcf18-125">Každý uzel v clusteru Service Fabric samostatné má hello Service Fabric runtime nasadit a je členem clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="bcf18-125">Each node in a standalone Service Fabric cluster has hello Service Fabric runtime deployed and is a member of hello cluster.</span></span> <span data-ttu-id="bcf18-126">V typické provozní nasazení je jeden uzel jednu instanci OS (fyzické nebo virtuální).</span><span class="sxs-lookup"><span data-stu-id="bcf18-126">In a typical production deployment, there is one node per OS instance (physical or virtual).</span></span> <span data-ttu-id="bcf18-127">velikost clusteru Hello je určen podle obchodních potřeb.</span><span class="sxs-lookup"><span data-stu-id="bcf18-127">hello cluster size is determined by your business needs.</span></span> <span data-ttu-id="bcf18-128">Ale musí mít velikost minimální clusteru tři uzly (počítačů nebo virtuálních počítačů).</span><span class="sxs-lookup"><span data-stu-id="bcf18-128">However, you must have a minimum cluster size of three nodes (machines or virtual machines).</span></span>
<span data-ttu-id="bcf18-129">Pro účely vývoje může mít více než jeden uzel v daném počítači.</span><span class="sxs-lookup"><span data-stu-id="bcf18-129">For development purposes, you can have more than one node on a given machine.</span></span> <span data-ttu-id="bcf18-130">V produkčním prostředí Service Fabric podporuje jenom jeden uzel na fyzický nebo virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="bcf18-130">In a production environment, Service Fabric supports only one node per physical or virtual machine.</span></span>

### <a name="step-4-determine-hello-number-of-fault-domains-and-upgrade-domains"></a><span data-ttu-id="bcf18-131">Krok 4: Určení hello počet domén selhání a upgradu domény</span><span class="sxs-lookup"><span data-stu-id="bcf18-131">Step 4: Determine hello number of fault domains and upgrade domains</span></span>
<span data-ttu-id="bcf18-132">A *doména selhání* (FD) je fyzická jednotka selhání a je přímo související toohello fyzické infrastruktury v datacentrech hello.</span><span class="sxs-lookup"><span data-stu-id="bcf18-132">A *fault domain* (FD) is a physical unit of failure and is directly related toohello physical infrastructure in hello data centers.</span></span> <span data-ttu-id="bcf18-133">Domény selhání se skládá z hardwarové součásti (počítače, přepínače, sítí a více), které sdílejí jediný bod selhání.</span><span class="sxs-lookup"><span data-stu-id="bcf18-133">A fault domain consists of hardware components (computers, switches, networks, and more) that share a single point of failure.</span></span> <span data-ttu-id="bcf18-134">I když neexistuje mapování 1:1 mezi domén selhání a stojany, volně platí, že každý rack lze považovat za domény selhání.</span><span class="sxs-lookup"><span data-stu-id="bcf18-134">Although there is no 1:1 mapping between fault domains and racks, loosely speaking, each rack can be considered a fault domain.</span></span> <span data-ttu-id="bcf18-135">Při určování hello uzlů v clusteru, důrazně doporučujeme, aby uzly hello distribuovat mezi aspoň tři domény selhání.</span><span class="sxs-lookup"><span data-stu-id="bcf18-135">When considering hello nodes in your cluster, we strongly recommend that hello nodes be distributed among at least three fault domains.</span></span>

<span data-ttu-id="bcf18-136">Když zadáte FDs v souboru ClusterConfig.json, můžete název každé FD hello.</span><span class="sxs-lookup"><span data-stu-id="bcf18-136">When you specify FDs in ClusterConfig.json, you can choose hello name for each FD.</span></span> <span data-ttu-id="bcf18-137">Service Fabric podporuje hierarchické FDs, takže můžete zrcadlit topologie infrastruktury v nich.</span><span class="sxs-lookup"><span data-stu-id="bcf18-137">Service Fabric supports hierarchical FDs, so you can reflect your infrastructure topology in them.</span></span>  <span data-ttu-id="bcf18-138">Platné jsou například hello FDs následující:</span><span class="sxs-lookup"><span data-stu-id="bcf18-138">For example, hello following FDs are valid:</span></span>

* <span data-ttu-id="bcf18-139">"faultDomain": "fd: / Room1/Rack1/Počítač1"</span><span class="sxs-lookup"><span data-stu-id="bcf18-139">"faultDomain": "fd:/Room1/Rack1/Machine1"</span></span>
* <span data-ttu-id="bcf18-140">"faultDomain": "fd: / FD1"</span><span class="sxs-lookup"><span data-stu-id="bcf18-140">"faultDomain": "fd:/FD1"</span></span>
* <span data-ttu-id="bcf18-141">"faultDomain": "fd: / Room1/Rack1/PDU1/M1"</span><span class="sxs-lookup"><span data-stu-id="bcf18-141">"faultDomain": "fd:/Room1/Rack1/PDU1/M1"</span></span>

<span data-ttu-id="bcf18-142">*Upgradovací doméně* (UD) je logickou jednotku uzlů.</span><span class="sxs-lookup"><span data-stu-id="bcf18-142">An *upgrade domain* (UD) is a logical unit of nodes.</span></span> <span data-ttu-id="bcf18-143">Během Service Fabric orchestrovat upgradů (upgrade aplikace nebo upgrade clusteru) jsou všechny uzly v UD ukončena tooperform hello upgrade dobu, uzly v jiných UDs jsou k dispozici tooserve požadavky.</span><span class="sxs-lookup"><span data-stu-id="bcf18-143">During Service Fabric orchestrated upgrades (either an application upgrade or a cluster upgrade), all nodes in a UD are taken down tooperform hello upgrade while nodes in other UDs remain available tooserve requests.</span></span> <span data-ttu-id="bcf18-144">Hello upgrady firmwaru provést na vašich počítačích nerespektují UDs, takže je nutné je provést některou počítače najednou.</span><span class="sxs-lookup"><span data-stu-id="bcf18-144">hello firmware upgrades you perform on your machines do not honor UDs, so you must do them one machine at a time.</span></span>

<span data-ttu-id="bcf18-145">Hello nejjednodušší způsob, jak toothink o těchto postupech je tooconsider FDs jako jednotku hello neplánovaném selhání a UDs jako hello jednotku plánované údržby.</span><span class="sxs-lookup"><span data-stu-id="bcf18-145">hello simplest way toothink about these concepts is tooconsider FDs as hello unit of unplanned failure and UDs as hello unit of planned maintenance.</span></span>

<span data-ttu-id="bcf18-146">Když zadáte UDs v souboru ClusterConfig.json, můžete název každé UD hello.</span><span class="sxs-lookup"><span data-stu-id="bcf18-146">When you specify UDs in ClusterConfig.json, you can choose hello name for each UD.</span></span> <span data-ttu-id="bcf18-147">Platné jsou například hello následující názvy:</span><span class="sxs-lookup"><span data-stu-id="bcf18-147">For example, hello following names are valid:</span></span>

* <span data-ttu-id="bcf18-148">"upgradeDomain": "UD0"</span><span class="sxs-lookup"><span data-stu-id="bcf18-148">"upgradeDomain": "UD0"</span></span>
* <span data-ttu-id="bcf18-149">"upgradeDomain": "UD1A"</span><span class="sxs-lookup"><span data-stu-id="bcf18-149">"upgradeDomain": "UD1A"</span></span>
* <span data-ttu-id="bcf18-150">"upgradeDomain": "DomainRed"</span><span class="sxs-lookup"><span data-stu-id="bcf18-150">"upgradeDomain": "DomainRed"</span></span>
* <span data-ttu-id="bcf18-151">"upgradeDomain": "Blue"</span><span class="sxs-lookup"><span data-stu-id="bcf18-151">"upgradeDomain": "Blue"</span></span>

<span data-ttu-id="bcf18-152">Podrobné informace o upgradovacích domén a domén selhání, najdete v části [popisující cluster Service Fabric](service-fabric-cluster-resource-manager-cluster-description.md).</span><span class="sxs-lookup"><span data-stu-id="bcf18-152">For more detailed information on upgrade domains and fault domains, see [Describing a Service Fabric cluster](service-fabric-cluster-resource-manager-cluster-description.md).</span></span>

### <a name="step-5-download-hello-service-fabric-standalone-package-for-windows-server"></a><span data-ttu-id="bcf18-153">Krok 5: Stáhněte si hello Service Fabric samostatný balíček pro systém Windows Server</span><span class="sxs-lookup"><span data-stu-id="bcf18-153">Step 5: Download hello Service Fabric standalone package for Windows Server</span></span>
<span data-ttu-id="bcf18-154">[Stáhněte si odkaz – samostatný balíček prostředků infrastruktury služby - Windows Server](http://go.microsoft.com/fwlink/?LinkId=730690) a rozbalte balíček hello, buď tooa nasazení počítače tedy není součástí clusteru hello nebo tooone hello počítačů, které budou součástí clusteru.</span><span class="sxs-lookup"><span data-stu-id="bcf18-154">[Download Link - Service Fabric Standalone Package - Windows Server](http://go.microsoft.com/fwlink/?LinkId=730690) and unzip hello package, either tooa deployment machine that is not part of hello cluster, or tooone of hello machines that will be a part of your cluster.</span></span>

### <a name="step-6-modify-cluster-configuration"></a><span data-ttu-id="bcf18-155">Krok 6: Úprava konfigurace clusteru</span><span class="sxs-lookup"><span data-stu-id="bcf18-155">Step 6: Modify cluster configuration</span></span>
<span data-ttu-id="bcf18-156">toocreate samostatný cluster s podporou máte toocreate samostatné clusteru konfigurace souboru ClusterConfig.json soubor, který popisuje hello specifikace hello clusteru.</span><span class="sxs-lookup"><span data-stu-id="bcf18-156">toocreate a standalone cluster you have toocreate a standalone cluster configuration ClusterConfig.json file, which describes hello specification of hello cluster.</span></span> <span data-ttu-id="bcf18-157">Můžete základní hello konfigurační soubor pro šablony hello nalezený na hello následujícím odkazu.</span><span class="sxs-lookup"><span data-stu-id="bcf18-157">You can base hello configuration file on hello templates found at hello below link.</span></span> <br><span data-ttu-id="bcf18-158">
[Konfigurace clusteru samostatné](https://github.com/Azure-Samples/service-fabric-dotnet-standalone-cluster-configuration/tree/master/Samples)</span><span class="sxs-lookup"><span data-stu-id="bcf18-158">
[Standalone Cluster Configurations](https://github.com/Azure-Samples/service-fabric-dotnet-standalone-cluster-configuration/tree/master/Samples)</span></span>

<span data-ttu-id="bcf18-159">Podrobnosti o hello části v tomto souboru, najdete v části [nastavení konfigurace pro samostatný cluster Windows](service-fabric-cluster-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="bcf18-159">For details on hello sections in this file, see [Configuration settings for standalone Windows cluster](service-fabric-cluster-manifest.md).</span></span>

<span data-ttu-id="bcf18-160">Otevřete ho hello souboru ClusterConfig.json soubory z balíčku hello, kterou jste stáhli a upravte hello následující nastavení:</span><span class="sxs-lookup"><span data-stu-id="bcf18-160">Open one of hello ClusterConfig.json files from hello package you downloaded and modify hello following settings:</span></span>
| <span data-ttu-id="bcf18-161">**Nastavení konfigurace**</span><span class="sxs-lookup"><span data-stu-id="bcf18-161">**Configuration Setting**</span></span> | <span data-ttu-id="bcf18-162">**Popis**</span><span class="sxs-lookup"><span data-stu-id="bcf18-162">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="bcf18-163">**NodeTypes**</span><span class="sxs-lookup"><span data-stu-id="bcf18-163">**NodeTypes**</span></span> |<span data-ttu-id="bcf18-164">Typy uzlů umožňují tooseparate uzly clusteru do různých skupin.</span><span class="sxs-lookup"><span data-stu-id="bcf18-164">Node types allow you tooseparate your cluster nodes into various groups.</span></span> <span data-ttu-id="bcf18-165">Cluster musí mít alespoň jeden typ uzlu.</span><span class="sxs-lookup"><span data-stu-id="bcf18-165">A cluster must have at least one NodeType.</span></span> <span data-ttu-id="bcf18-166">Všechny uzly ve skupině mají hello následující běžné vlastnosti:</span><span class="sxs-lookup"><span data-stu-id="bcf18-166">All nodes in a group have hello following common characteristics:</span></span> <br> <span data-ttu-id="bcf18-167">**Název** -Toto je název typu uzlu hello.</span><span class="sxs-lookup"><span data-stu-id="bcf18-167">**Name** - This is hello node type name.</span></span> <br><span data-ttu-id="bcf18-168">**Porty koncových bodů** – tyto mají různé název koncového bodu (porty), které jsou spojeny s tímto typem uzlu.</span><span class="sxs-lookup"><span data-stu-id="bcf18-168">**Endpoint Ports** - These are various named end points (ports) that are associated with this node type.</span></span> <span data-ttu-id="bcf18-169">Můžete použít libovolné číslo portu, který chcete, tak dlouho, dokud nedošlo ke konfliktu s nic jiného v této manifest a nejsou již používá jiná aplikace, systémem hello počítače nebo virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="bcf18-169">You can use any port number that you wish, as long as they do not conflict with anything else in this manifest and are not already in use by any other application running on hello machine/VM.</span></span> <br> <span data-ttu-id="bcf18-170">**Vlastnosti umístění** -tyto popisují vlastnosti pro tento typ uzlu, který používáte jako omezení umístění pro služby systému hello nebo vaše služby.</span><span class="sxs-lookup"><span data-stu-id="bcf18-170">**Placement Properties** - These describe properties for this node type that you use as placement constraints for hello system services or your services.</span></span> <span data-ttu-id="bcf18-171">Tyto vlastnosti jsou páry klíč – hodnota definovaný uživatelem, které poskytují další metadata pro daný uzel.</span><span class="sxs-lookup"><span data-stu-id="bcf18-171">These properties are user-defined key/value pairs that provide extra meta data for a given node.</span></span> <span data-ttu-id="bcf18-172">Příklady vlastnosti uzlu by, jestli má uzel hello pevný disk nebo grafickou kartu, hello počet diskových jednotek v jeho pevný disk, jader a další fyzické vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="bcf18-172">Examples of node properties would be whether hello node has a hard drive or graphics card, hello number of spindles in its hard drive, cores, and other physical properties.</span></span> <br> <span data-ttu-id="bcf18-173">**Kapacity** -uzlu kapacity definovat název hello a množství určitý prostředek, má k dispozici pro využívání konkrétní uzel.</span><span class="sxs-lookup"><span data-stu-id="bcf18-173">**Capacities** - Node capacities define hello name and amount of a particular resource that a particular node has available for consumption.</span></span> <span data-ttu-id="bcf18-174">Uzlem může můžete například definovat, že má kapacitu pro metriku názvem "MemoryInMb" a že má 2 048 MB k dispozici ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="bcf18-174">For example, a node may define that it has capacity for a metric called “MemoryInMb” and that it has 2048 MB available by default.</span></span> <span data-ttu-id="bcf18-175">V modulu runtime tooensure, služby, které vyžadují určité množství prostředků jsou umístěny na uzlech hello, že mají tyto prostředky, které jsou k dispozici v hello požadovaná objemy používá tyto kapacity.</span><span class="sxs-lookup"><span data-stu-id="bcf18-175">These capacities are used at runtime tooensure that services that require particular amounts of resources are placed on hello nodes that have those resources available in hello required amounts.</span></span><br><span data-ttu-id="bcf18-176">**IsPrimary** – Pokud máte více než jeden typ uzlu definována zkontrolujte, že pouze jedna je nastavená tooprimary s hodnotou hello *true*, což je, kde systém hello služeb spustit.</span><span class="sxs-lookup"><span data-stu-id="bcf18-176">**IsPrimary** - If you have more than one NodeType defined ensure that only one is set tooprimary with hello value *true*, which is where hello system services run.</span></span> <span data-ttu-id="bcf18-177">Všechny ostatní typy uzlu musí být nastavená hodnota toohello *false*</span><span class="sxs-lookup"><span data-stu-id="bcf18-177">All other node types should be set toohello value *false*</span></span> |
| <span data-ttu-id="bcf18-178">**Uzly**</span><span class="sxs-lookup"><span data-stu-id="bcf18-178">**Nodes**</span></span> |<span data-ttu-id="bcf18-179">Toto jsou hello podrobnosti pro jednotlivé hello uzlů, které jsou součástí clusteru hello (typ uzlu, název uzlu, IP adresa, doména selhání a upgradu domény uzlu hello).</span><span class="sxs-lookup"><span data-stu-id="bcf18-179">These are hello details for each of hello nodes that are part of hello cluster (node type, node name, IP address, fault domain, and upgrade domain of hello node).</span></span> <span data-ttu-id="bcf18-180">Hello počítače chcete toobe hello clusteru vytvořen na toobe nutné uvedené spolu s jejich IP adresy.</span><span class="sxs-lookup"><span data-stu-id="bcf18-180">hello machines you want hello cluster toobe created on need toobe listed here with their IP addresses.</span></span> <br> <span data-ttu-id="bcf18-181">Pokud používáte hello je vytvořena stejnou IP adresu pro všechny uzly hello a potom políčko jeden cluster, který můžete použít pro účely testování.</span><span class="sxs-lookup"><span data-stu-id="bcf18-181">If you use hello same IP address for all hello nodes, then a one-box cluster is created, which you can use for testing purposes.</span></span> <span data-ttu-id="bcf18-182">Nepoužívejte jeden pole clustery pro nasazení v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="bcf18-182">Do not use One-box clusters for deploying production workloads.</span></span> |

<span data-ttu-id="bcf18-183">Po konfiguraci clusteru hello zaznamenala prostředí toohello všechna nastavení, může být porovnávaný prostředí clusteru hello (krok 7).</span><span class="sxs-lookup"><span data-stu-id="bcf18-183">After hello cluster configuration has had all settings configured toohello environment, it can be tested against hello cluster environment (step 7).</span></span>

<a id="environmentsetup"></a>

### <a name="step-7-environment-setup"></a><span data-ttu-id="bcf18-184">Krok 7.</span><span class="sxs-lookup"><span data-stu-id="bcf18-184">Step 7.</span></span> <span data-ttu-id="bcf18-185">Nastavení prostředí</span><span class="sxs-lookup"><span data-stu-id="bcf18-185">Environment setup</span></span>

<span data-ttu-id="bcf18-186">Pokud správce clusteru konfiguruje samostatný cluster Service Fabric, je hello prostředí vyžaduje toobe nastavit hello následující kritéria:</span><span class="sxs-lookup"><span data-stu-id="bcf18-186">When a cluster administrator configures a Service Fabric standalone cluster, hello environment is needs toobe set up with hello following criteria:</span></span> <br>
1. <span data-ttu-id="bcf18-187">zabezpečení na úrovni správce oprávnění tooall počítače, které jsou označeny jako uzly v souboru konfigurace clusteru hello by měl mít Hello uživatel vytvoření clusteru s podporou hello.</span><span class="sxs-lookup"><span data-stu-id="bcf18-187">hello user creating hello cluster should have administrator-level security privileges tooall machines that are listed as nodes in hello cluster configuration file.</span></span>
2. <span data-ttu-id="bcf18-188">Počítač, ze které hello je vytvořen cluster, jakož i každého počítače uzlu clusteru musí být:</span><span class="sxs-lookup"><span data-stu-id="bcf18-188">Machine from which hello cluster is created, as well as each cluster node machine must:</span></span>
* <span data-ttu-id="bcf18-189">Odinstalovali Service Fabric SDK</span><span class="sxs-lookup"><span data-stu-id="bcf18-189">Have Service Fabric SDK uninstalled</span></span>
* <span data-ttu-id="bcf18-190">Mít odinstalaci modulu runtime Service Fabric</span><span class="sxs-lookup"><span data-stu-id="bcf18-190">Have Service Fabric runtime uninstalled</span></span> 
* <span data-ttu-id="bcf18-191">Hello služby brány Windows Firewall (mpssvc) povolili</span><span class="sxs-lookup"><span data-stu-id="bcf18-191">Have hello Windows Firewall service (mpssvc) enabled</span></span>
* <span data-ttu-id="bcf18-192">Povolili hello služba Remote Registry Service (remoteregistry)</span><span class="sxs-lookup"><span data-stu-id="bcf18-192">Have hello Remote Registry Service (remoteregistry) enabled</span></span>
* <span data-ttu-id="bcf18-193">Soubor povoleno sdílení (SMB)</span><span class="sxs-lookup"><span data-stu-id="bcf18-193">Have file sharing (SMB) enabled</span></span>
* <span data-ttu-id="bcf18-194">Máte nezbytné porty otevřít, založené na porty konfigurace clusteru</span><span class="sxs-lookup"><span data-stu-id="bcf18-194">Have necessary ports opened, based on cluster configuration ports</span></span>
* <span data-ttu-id="bcf18-195">Mít nezbytné porty otevřené pro službu Windows SMB a Remote Registry: 135, 137, 138, 139 a 445</span><span class="sxs-lookup"><span data-stu-id="bcf18-195">Have necessary ports opened for Windows SMB and Remote Registry service: 135, 137, 138, 139, and 445</span></span>
* <span data-ttu-id="bcf18-196">Mít síťové připojení tooone jiný</span><span class="sxs-lookup"><span data-stu-id="bcf18-196">Have network connectivity tooone another</span></span>
3. <span data-ttu-id="bcf18-197">Žádné počítače uzlu clusteru hello by měl být řadič domény.</span><span class="sxs-lookup"><span data-stu-id="bcf18-197">None of hello cluster node machines should be a Domain Controller.</span></span>
4. <span data-ttu-id="bcf18-198">Pokud toobe clusteru hello nasazení clusteru s podporou zabezpečení, ověřte hello potřeby zabezpečení, které jsou požadavky umístěte a jsou správně nakonfigurované proti hello konfigurace.</span><span class="sxs-lookup"><span data-stu-id="bcf18-198">If hello cluster toobe deployed is a secure cluster, validate hello necessary security prerequisites are in place, and are configured correctly against hello configuration.</span></span>
5. <span data-ttu-id="bcf18-199">Pokud počítače clusteru hello nejsou přístupné z Internetu, následující sadu hello hello konfigurace clusteru:</span><span class="sxs-lookup"><span data-stu-id="bcf18-199">If hello cluster machines are not internet-accessible, set hello following in hello cluster configuration:</span></span>
* <span data-ttu-id="bcf18-200">Zakázat telemetrická data: v části *vlastnosti* nastavit *"enableTelemetry": false*</span><span class="sxs-lookup"><span data-stu-id="bcf18-200">Disable telemetry:   Under *properties* set   *"enableTelemetry": false*</span></span>
* <span data-ttu-id="bcf18-201">Zakázat automatické stahování verze Fabric & oznámení, že hello clusteru verzí se blíží konec podpory: v části *vlastnosti* nastavit *"fabricClusterAutoupgradeEnabled": false*</span><span class="sxs-lookup"><span data-stu-id="bcf18-201">Disable automatic Fabric version downloading & notifications that hello current cluster version is nearing end of support:   Under *properties* set   *"fabricClusterAutoupgradeEnabled": false*</span></span>
* <span data-ttu-id="bcf18-202">Případně pokud přístup k síti internet je omezená uvedené toowhite domén, hello domén níže jsou požadovány pro automatický upgrade: go.microsoft.com download.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="bcf18-202">Alternatively if network internet access is limited toowhite-listed domains, hello domains below are required for automatic upgrade:   go.microsoft.com   download.microsoft.com</span></span>

6. <span data-ttu-id="bcf18-203">Nastavte příslušné Service Fabric antivirový vyloučení:</span><span class="sxs-lookup"><span data-stu-id="bcf18-203">Set appropriate Service Fabric antivirus exclusions:</span></span>

| <span data-ttu-id="bcf18-204">**Antivirový Vyloučené adresáře**</span><span class="sxs-lookup"><span data-stu-id="bcf18-204">**Antivirus Excluded directories**</span></span> |
| --- |
| <span data-ttu-id="bcf18-205">Program Files\Microsoft Service Fabric</span><span class="sxs-lookup"><span data-stu-id="bcf18-205">Program Files\Microsoft Service Fabric</span></span> |
| <span data-ttu-id="bcf18-206">Proměnná FabricDataRoot (z konfigurace clusteru)</span><span class="sxs-lookup"><span data-stu-id="bcf18-206">FabricDataRoot (from cluster configuration)</span></span> |
| <span data-ttu-id="bcf18-207">Adresáři FabricLogRoot (z konfigurace clusteru)</span><span class="sxs-lookup"><span data-stu-id="bcf18-207">FabricLogRoot (from cluster configuration)</span></span> |

| <span data-ttu-id="bcf18-208">**Antivirový vyloučené procesy**</span><span class="sxs-lookup"><span data-stu-id="bcf18-208">**Antivirus Excluded processes**</span></span> |
| --- |
| <span data-ttu-id="bcf18-209">Fabric.exe</span><span class="sxs-lookup"><span data-stu-id="bcf18-209">Fabric.exe</span></span> |
| <span data-ttu-id="bcf18-210">FabricHost.exe</span><span class="sxs-lookup"><span data-stu-id="bcf18-210">FabricHost.exe</span></span> |
| <span data-ttu-id="bcf18-211">FabricInstallerService.exe</span><span class="sxs-lookup"><span data-stu-id="bcf18-211">FabricInstallerService.exe</span></span> |
| <span data-ttu-id="bcf18-212">FabricSetup.exe</span><span class="sxs-lookup"><span data-stu-id="bcf18-212">FabricSetup.exe</span></span> |
| <span data-ttu-id="bcf18-213">FabricDeployer.exe</span><span class="sxs-lookup"><span data-stu-id="bcf18-213">FabricDeployer.exe</span></span> |
| <span data-ttu-id="bcf18-214">ImageBuilder.exe</span><span class="sxs-lookup"><span data-stu-id="bcf18-214">ImageBuilder.exe</span></span> |
| <span data-ttu-id="bcf18-215">FabricGateway.exe</span><span class="sxs-lookup"><span data-stu-id="bcf18-215">FabricGateway.exe</span></span> |
| <span data-ttu-id="bcf18-216">FabricDCA.exe</span><span class="sxs-lookup"><span data-stu-id="bcf18-216">FabricDCA.exe</span></span> |
| <span data-ttu-id="bcf18-217">FabricFAS.exe</span><span class="sxs-lookup"><span data-stu-id="bcf18-217">FabricFAS.exe</span></span> |
| <span data-ttu-id="bcf18-218">FabricUOS.exe</span><span class="sxs-lookup"><span data-stu-id="bcf18-218">FabricUOS.exe</span></span> |
| <span data-ttu-id="bcf18-219">FabricRM.exe</span><span class="sxs-lookup"><span data-stu-id="bcf18-219">FabricRM.exe</span></span> |
| <span data-ttu-id="bcf18-220">FileStoreService.exe</span><span class="sxs-lookup"><span data-stu-id="bcf18-220">FileStoreService.exe</span></span> |

### <a name="step-8-validate-environment-using-testconfiguration-script"></a><span data-ttu-id="bcf18-221">Krok 8.</span><span class="sxs-lookup"><span data-stu-id="bcf18-221">Step 8.</span></span> <span data-ttu-id="bcf18-222">Ověření pomocí skriptu TestConfiguration prostředí</span><span class="sxs-lookup"><span data-stu-id="bcf18-222">Validate environment using TestConfiguration script</span></span>
<span data-ttu-id="bcf18-223">Hello TestConfiguration.ps1 skriptu najdete v hello samostatný balíček.</span><span class="sxs-lookup"><span data-stu-id="bcf18-223">hello TestConfiguration.ps1 script can be found in hello standalone package.</span></span> <span data-ttu-id="bcf18-224">Je použít jako Analyzátor osvědčených postupů toovalidate některé z výše uvedená kritéria hello a má být použit jako toovalidate správností zkontrolujte, zda clusteru můžou být nasazené na dané prostředí.</span><span class="sxs-lookup"><span data-stu-id="bcf18-224">It is used as a Best Practices Analyzer toovalidate some of hello criteria above and should be used as a sanity check toovalidate whether a cluster can be deployed on a given environment.</span></span> <span data-ttu-id="bcf18-225">Pokud je jakákoli chyba, najdete v seznamu toohello v části [nastavení prostředí](service-fabric-cluster-standalone-deployment-preparation.md) pro řešení potíží.</span><span class="sxs-lookup"><span data-stu-id="bcf18-225">If there is any failure, refer toohello list under [Environment Setup](service-fabric-cluster-standalone-deployment-preparation.md) for troubleshooting.</span></span> 

<span data-ttu-id="bcf18-226">Tento skript můžete spustit na jakýkoli počítač, který má správce přístup tooall hello počítače, které jsou označeny jako uzly v souboru konfigurace clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="bcf18-226">This script can be run on any machine that has administrator access tooall hello machines that are listed as nodes in hello cluster configuration file.</span></span> <span data-ttu-id="bcf18-227">Hello počítač, který tento skript se spouští na nemá toobe součástí clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="bcf18-227">hello machine that this script is run on does not have toobe part of hello cluster.</span></span>

```powershell
PS C:\temp\Microsoft.Azure.ServiceFabric.WindowsServer> .\TestConfiguration.ps1 -ClusterConfigFilePath .\ClusterConfig.Unsecure.DevCluster.json
Trace folder already exists. Traces will be written tooexisting trace folder: C:\temp\Microsoft.Azure.ServiceFabric.WindowsServer\DeploymentTraces
Running Best Practices Analyzer...
Best Practices Analyzer completed successfully.


LocalAdminPrivilege        : True
IsJsonValid                : True
IsCabValid                 : True
RequiredPortsOpen          : True
RemoteRegistryAvailable    : True
FirewallAvailable          : True
RpcCheckPassed             : True
NoConflictingInstallations : True
FabricInstallable          : True
Passed                     : True
```

<span data-ttu-id="bcf18-228">Tento modul testování konfigurace aktuálně neověřuje hello konfigurace zabezpečení, tak to má toobe provádí nezávisle.</span><span class="sxs-lookup"><span data-stu-id="bcf18-228">Currently this configuration testing module does not validate hello security configuration so this has toobe done independently.</span></span>  

> [!NOTE]
> <span data-ttu-id="bcf18-229">Průběžně vydáváme zlepšení toomake tento modul robustnější, takže pokud je vadný nebo chybějící písma a to budete mít dojem, není aktuálně zachytila TestConfiguration, dejte nám vědět prostřednictvím našich [podporují kanály](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-support).</span><span class="sxs-lookup"><span data-stu-id="bcf18-229">We are continually making improvements toomake this module more robust, so if there is a faulty or missing case which you believe isn't currently caught by TestConfiguration, please let us know through our [support channels](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-support).</span></span>   
> 
> 

## <a name="next-steps"></a><span data-ttu-id="bcf18-230">Další kroky</span><span class="sxs-lookup"><span data-stu-id="bcf18-230">Next steps</span></span>
* [<span data-ttu-id="bcf18-231">Vytvoření clusteru s podporou samostatné systémem Windows Server</span><span class="sxs-lookup"><span data-stu-id="bcf18-231">Create a standalone cluster running on Windows Server</span></span>](service-fabric-cluster-creation-for-windows-server.md)
