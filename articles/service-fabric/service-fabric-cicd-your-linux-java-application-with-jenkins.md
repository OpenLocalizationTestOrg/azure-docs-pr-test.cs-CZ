---
title: "Průběžné sestavování a integrace linuxových aplikací Azure Service Fabric v Javě pomocí Jenkinse | Dokumentace Microsoftu"
description: "Průběžné sestavování a integrace linuxových aplikací v Javě pomocí Jenkinse"
services: service-fabric
documentationcenter: java
author: sayantancs
manager: timlt
editor: 
ms.assetid: 02b51f11-5d78-4c54-bb68-8e128677783e
ms.service: service-fabric
ms.devlang: java
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/23/2017
ms.author: saysa
ms.openlocfilehash: d9372407540d903acca5b1639a2d9ceb0bf3c571
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="use-jenkins-to-build-and-deploy-your-linux-java-application"></a><span data-ttu-id="58396-103">Sestavování a nasazování linuxových aplikací v Javě pomocí Jenkinse</span><span class="sxs-lookup"><span data-stu-id="58396-103">Use Jenkins to build and deploy your Linux Java application</span></span>
<span data-ttu-id="58396-104">Jenkins je oblíbený nástroj pro průběžnou integraci a nasazování aplikací.</span><span class="sxs-lookup"><span data-stu-id="58396-104">Jenkins is a popular tool for continuous integration and deployment of your apps.</span></span> <span data-ttu-id="58396-105">Tady je postup, kterým můžete sestavit a nasadit aplikaci Azure Service Fabric s využitím Jenkinse.</span><span class="sxs-lookup"><span data-stu-id="58396-105">Here's how to build and deploy your Azure Service Fabric application by using Jenkins.</span></span>

## <a name="general-prerequisites"></a><span data-ttu-id="58396-106">Obecné požadavky</span><span class="sxs-lookup"><span data-stu-id="58396-106">General prerequisites</span></span>
- <span data-ttu-id="58396-107">Máte lokálně nainstalovaný Git.</span><span class="sxs-lookup"><span data-stu-id="58396-107">Have Git installed locally.</span></span> <span data-ttu-id="58396-108">Odpovídající verzi Gitu (v závislosti na operačním systému) můžete nainstalovat ze [stránky pro stažení Gitu](https://git-scm.com/downloads).</span><span class="sxs-lookup"><span data-stu-id="58396-108">You can install the appropriate Git version from [the Git downloads page](https://git-scm.com/downloads), based on your operating system.</span></span> <span data-ttu-id="58396-109">Pokud jste ještě Git nepoužívali, další informace najdete v [dokumentaci ke Gitu](https://git-scm.com/docs).</span><span class="sxs-lookup"><span data-stu-id="58396-109">If you are new to Git, learn more about it from the [Git documentation](https://git-scm.com/docs).</span></span>
- <span data-ttu-id="58396-110">Máte po ruce modul plug-in Jenkinse pro Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="58396-110">Have the Service Fabric Jenkins plug-in handy.</span></span> <span data-ttu-id="58396-111">Můžete ho stáhnout ze stránky pro [stažení Service Fabric](https://servicefabricdownloads.blob.core.windows.net/jenkins/serviceFabric.hpi).</span><span class="sxs-lookup"><span data-stu-id="58396-111">You can download it from [Service Fabric downloads](https://servicefabricdownloads.blob.core.windows.net/jenkins/serviceFabric.hpi).</span></span>

## <a name="set-up-jenkins-inside-a-service-fabric-cluster"></a><span data-ttu-id="58396-112">Nastavení Jenkinse uvnitř clusteru Service Fabric</span><span class="sxs-lookup"><span data-stu-id="58396-112">Set up Jenkins inside a Service Fabric cluster</span></span>

<span data-ttu-id="58396-113">Jenkinse můžete nastavit uvnitř clusteru Service Fabric nebo mimo něj.</span><span class="sxs-lookup"><span data-stu-id="58396-113">You can set up Jenkins either inside or outside a Service Fabric cluster.</span></span> <span data-ttu-id="58396-114">Následující části vysvětlují, jak nastavit je uvnitř clusteru při použití účtu úložiště Azure pro uložení stavu instance kontejneru.</span><span class="sxs-lookup"><span data-stu-id="58396-114">The following sections show how to set it up inside a cluster while using an Azure storage account to save the state of the container instance.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="58396-115">Požadavky</span><span class="sxs-lookup"><span data-stu-id="58396-115">Prerequisites</span></span>
1. <span data-ttu-id="58396-116">Máte připravený cluster Service Fabric s Linuxem.</span><span class="sxs-lookup"><span data-stu-id="58396-116">Have a Service Fabric Linux cluster ready.</span></span> <span data-ttu-id="58396-117">Na clusteru Service Fabric vytvořeném z webu Azure Portal je už nainstalovaný Docker.</span><span class="sxs-lookup"><span data-stu-id="58396-117">A Service Fabric cluster created from the Azure portal already has Docker installed.</span></span> <span data-ttu-id="58396-118">Pokud cluster spouštíte místně, můžete ke kontrole, jestli je Docker nainstalovaný, použít příkaz ``docker info``.</span><span class="sxs-lookup"><span data-stu-id="58396-118">If you are running the cluster locally, check if Docker is installed by using the command ``docker info``.</span></span> <span data-ttu-id="58396-119">Pokud není nainstalovaný, nainstalujte ho pomocí následujících příkazů:</span><span class="sxs-lookup"><span data-stu-id="58396-119">If it is not installed, install it accordingly by using the following commands:</span></span>

  ```sh
  sudo apt-get install wget
  wget -qO- https://get.docker.io/ | sh
  ```
2. <span data-ttu-id="58396-120">Máte nasazenou aplikaci Service Fabric typu kontejner v clusteru pomocí následujícího postupu:</span><span class="sxs-lookup"><span data-stu-id="58396-120">Have the Service Fabric container application deployed on the cluster, by using the following steps:</span></span>

  ```sh
git clone https://github.com/Azure-Samples/service-fabric-java-getting-started.git
cd service-fabric-java-getting-started/Services/JenkinsDocker/
```

3. <span data-ttu-id="58396-121">Je nutné připojit podrobnosti možnost Azure – sdílená složka úložiště, ve které chcete zachovat stav instance volaných kontejneru.</span><span class="sxs-lookup"><span data-stu-id="58396-121">You need the connect option details of the Azure storage file-share, where you want to persist the state of the Jenkins container instance.</span></span> <span data-ttu-id="58396-122">Pokud používáte portál Microsoft Azure pro stejné, prosím postupujte podle kroků – vytvoření účtu úložiště Azure, například ``sfjenkinsstorage1``.</span><span class="sxs-lookup"><span data-stu-id="58396-122">If you are using the Microsoft Azure portal for the same, please follow the steps - Create an Azure storage account, say ``sfjenkinsstorage1``.</span></span> <span data-ttu-id="58396-123">Vytvoření **sdílené složky** pod tímto účtem úložiště vyslovení ``sfjenkins``.</span><span class="sxs-lookup"><span data-stu-id="58396-123">Create a **File Share** under that storage account, say ``sfjenkins``.</span></span> <span data-ttu-id="58396-124">Klikněte na **připojit** pro sdílené složky a Poznámka hodnoty zobrazuje v části **připojení z Linux**, například to může vypadat třeba takto -</span><span class="sxs-lookup"><span data-stu-id="58396-124">Click on **Connect** for the file-share and note the values it displays under **Connecting from Linux**, say this would look like as follows -</span></span>
```sh
sudo mount -t cifs //sfjenkinsstorage1.file.core.windows.net/sfjenkins [mount point] -o vers=3.0,username=sfjenkinsstorage1,password=<storage_key>,dir_mode=0777,file_mode=0777
```

4. <span data-ttu-id="58396-125">Aktualizujte zástupný symbol hodnoty v ```setupentrypoint.sh``` skriptu s podrobnostmi o odpovídající úložiště azure.</span><span class="sxs-lookup"><span data-stu-id="58396-125">Update the placeholder values in the ```setupentrypoint.sh``` script with corresponding azure-storage details.</span></span>
```sh
vi JenkinsSF/JenkinsOnSF/Code/setupentrypoint.sh
```
<span data-ttu-id="58396-126">Nahraďte ``[REMOTE_FILE_SHARE_LOCATION]`` s hodnotou ``//sfjenkinsstorage1.file.core.windows.net/sfjenkins`` z výstupu connect v bodě 3 výše.</span><span class="sxs-lookup"><span data-stu-id="58396-126">Replace ``[REMOTE_FILE_SHARE_LOCATION]`` with the value ``//sfjenkinsstorage1.file.core.windows.net/sfjenkins`` from the output of the connect in point 3 above.</span></span>
<span data-ttu-id="58396-127">Nahraďte ``[FILE_SHARE_CONNECT_OPTIONS_STRING]`` s hodnotou ``vers=3.0,username=sfjenkinsstorage1,password=GB2NPUCQY9LDGeG9Bci5dJV91T6SrA7OxrYBUsFHyueR62viMrC6NIzyQLCKNz0o7pepGfGY+vTa9gxzEtfZHw==,dir_mode=0777,file_mode=0777`` z bodu 3 výše.</span><span class="sxs-lookup"><span data-stu-id="58396-127">Replace ``[FILE_SHARE_CONNECT_OPTIONS_STRING]`` with the value ``vers=3.0,username=sfjenkinsstorage1,password=GB2NPUCQY9LDGeG9Bci5dJV91T6SrA7OxrYBUsFHyueR62viMrC6NIzyQLCKNz0o7pepGfGY+vTa9gxzEtfZHw==,dir_mode=0777,file_mode=0777`` from point 3 above.</span></span>

5. <span data-ttu-id="58396-128">Připojte se ke clusteru a nainstalujte aplikaci kontejneru.</span><span class="sxs-lookup"><span data-stu-id="58396-128">Connect to the cluster and install the container application.</span></span>
```azurecli
sfctl cluster select --endpoint http://PublicIPorFQDN:19080   # cluster connect command
bash Scripts/install.sh
```
<span data-ttu-id="58396-129">Tím se do clusteru nainstaluje kontejner s Jenkinsem, který můžete monitorovat pomocí Service Fabric Exploreru.</span><span class="sxs-lookup"><span data-stu-id="58396-129">This installs a Jenkins container on the cluster, and can be monitored by using the Service Fabric Explorer.</span></span>

### <a name="steps"></a><span data-ttu-id="58396-130">Kroky</span><span class="sxs-lookup"><span data-stu-id="58396-130">Steps</span></span>
1. <span data-ttu-id="58396-131">V prohlížeči přejděte na ``http://PublicIPorFQDN:8081``.</span><span class="sxs-lookup"><span data-stu-id="58396-131">From your browser, go to ``http://PublicIPorFQDN:8081``.</span></span> <span data-ttu-id="58396-132">Najdete tam cestu k počátečnímu heslu správce vyžadovanému k přihlášení.</span><span class="sxs-lookup"><span data-stu-id="58396-132">It provides the path of the initial admin password required to sign in.</span></span> <span data-ttu-id="58396-133">Můžete Jenkinse dál používat jako uživatel s oprávněními správce.</span><span class="sxs-lookup"><span data-stu-id="58396-133">You can continue to use Jenkins as an admin user.</span></span> <span data-ttu-id="58396-134">Nebo můžete po přihlášení pomocí počátečního účtu správce vytvořit a změnit uživatele.</span><span class="sxs-lookup"><span data-stu-id="58396-134">Or you can create and change the user, after you sign in with the initial admin account.</span></span>

   > [!NOTE]
   > <span data-ttu-id="58396-135">Zajistěte, aby během vytváření clusteru byl jako koncový bod aplikace zadaný port 8081.</span><span class="sxs-lookup"><span data-stu-id="58396-135">Ensure that the 8081 port is specified as the application endpoint port while you are creating the cluster.</span></span>
   >

2. <span data-ttu-id="58396-136">Získejte ID instance kontejneru pomocí příkazu ``docker ps -a``.</span><span class="sxs-lookup"><span data-stu-id="58396-136">Get the container instance ID by using ``docker ps -a``.</span></span>
3. <span data-ttu-id="58396-137">Přihlaste se přes SSH (Secure Shell) ke kontejneru a vložte cestu, která se zobrazila na portálu Jenkinse.</span><span class="sxs-lookup"><span data-stu-id="58396-137">Secure Shell (SSH) sign in to the container, and paste the path you were shown on the Jenkins portal.</span></span> <span data-ttu-id="58396-138">Pokud se na portálu zobrazila například cesta `PATH_TO_INITIAL_ADMIN_PASSWORD`, spusťte:</span><span class="sxs-lookup"><span data-stu-id="58396-138">For example, if in the portal it shows the path `PATH_TO_INITIAL_ADMIN_PASSWORD`, run the following:</span></span>

  ```sh
  docker exec -t -i [first-four-digits-of-container-ID] /bin/bash   # This takes you inside Docker shell
  cat PATH_TO_INITIAL_ADMIN_PASSWORD
  ```

4. <span data-ttu-id="58396-139">Nastavte GitHub pro práci s Jenkinsem, a to pomocí kroků uvedených v tématu věnovaném [vygenerování nového klíče SSH a jeho přidání k agentovi SSH](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span><span class="sxs-lookup"><span data-stu-id="58396-139">Set up GitHub to work with Jenkins, by using the steps mentioned in [Generating a new SSH key and adding it to the SSH agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span></span>
    * <span data-ttu-id="58396-140">Pomocí pokynů z GitHubu vygenerujte klíč SSH a přidejte ho do účtu GitHubu, který je hostitelem vašeho úložiště.</span><span class="sxs-lookup"><span data-stu-id="58396-140">Use the instructions provided by GitHub to generate the SSH key, and to add the SSH key to the GitHub account that is hosting your repository.</span></span>
    * <span data-ttu-id="58396-141">Příkazy popsané u předchozího odkazu spusťte v prostředí Jenkins Dockeru (ne na hostiteli).</span><span class="sxs-lookup"><span data-stu-id="58396-141">Run the commands mentioned in the preceding link in the Jenkins Docker shell (and not on your host).</span></span>
    * <span data-ttu-id="58396-142">Pokud se chcete k prostředí Jenkinse přihlásit z hostitele, použijte následující příkaz:</span><span class="sxs-lookup"><span data-stu-id="58396-142">To sign in to the Jenkins shell from your host, use the following command:</span></span>

  ```sh
  docker exec -t -i [first-four-digits-of-container-ID] /bin/bash
  ```

## <a name="set-up-jenkins-outside-a-service-fabric-cluster"></a><span data-ttu-id="58396-143">Nastavení Jenkinse mimo cluster Service Fabric</span><span class="sxs-lookup"><span data-stu-id="58396-143">Set up Jenkins outside a Service Fabric cluster</span></span>

<span data-ttu-id="58396-144">Jenkinse můžete nastavit uvnitř clusteru Service Fabric nebo mimo něj.</span><span class="sxs-lookup"><span data-stu-id="58396-144">You can set up Jenkins either inside or outside of a Service Fabric cluster.</span></span> <span data-ttu-id="58396-145">Následující části vysvětlují, jak ho nastavit mimo cluster.</span><span class="sxs-lookup"><span data-stu-id="58396-145">The following sections show how to set it up outside a cluster.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="58396-146">Požadavky</span><span class="sxs-lookup"><span data-stu-id="58396-146">Prerequisites</span></span>
<span data-ttu-id="58396-147">Potřebujete mít nainstalovaný Docker.</span><span class="sxs-lookup"><span data-stu-id="58396-147">You need to have Docker installed.</span></span> <span data-ttu-id="58396-148">Pomocí následujících příkazů můžete Docker nainstalovat z terminálu:</span><span class="sxs-lookup"><span data-stu-id="58396-148">The following commands can be used to install Docker from the terminal:</span></span>

  ```sh
  sudo apt-get install wget
  wget -qO- https://get.docker.io/ | sh
  ```

<span data-ttu-id="58396-149">Když teď v terminálu spustíte příkaz ``docker info``, na výstupu by se mělo zobrazit, že je spuštěná služba Docker.</span><span class="sxs-lookup"><span data-stu-id="58396-149">Now when you run ``docker info`` in the terminal, you should see in the output that the Docker service is running.</span></span>

### <a name="steps"></a><span data-ttu-id="58396-150">Kroky</span><span class="sxs-lookup"><span data-stu-id="58396-150">Steps</span></span>
  1. <span data-ttu-id="58396-151">Stáhněte si image kontejneru s Jenkinsem pro Service Fabric: ``docker pull raunakpandya/jenkins:v1``</span><span class="sxs-lookup"><span data-stu-id="58396-151">Pull the Service Fabric Jenkins container image: ``docker pull raunakpandya/jenkins:v1``</span></span>
  2. <span data-ttu-id="58396-152">Spusťte image kontejneru: ``docker run -itd -p 8080:8080 raunakpandya/jenkins:v1``</span><span class="sxs-lookup"><span data-stu-id="58396-152">Run the container image: ``docker run -itd -p 8080:8080 raunakpandya/jenkins:v1``</span></span>
  3. <span data-ttu-id="58396-153">Získejte ID instance image kontejneru.</span><span class="sxs-lookup"><span data-stu-id="58396-153">Get the ID of the container image instance.</span></span> <span data-ttu-id="58396-154">Pomocí příkazu ``docker ps –a`` můžete vypsat všechny kontejnery Dockeru.</span><span class="sxs-lookup"><span data-stu-id="58396-154">You can list all the Docker containers with the command ``docker ps –a``</span></span>
  4. <span data-ttu-id="58396-155">Přihlaste se k portálu Jenkinse pomocí následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="58396-155">Sign in to the Jenkins portal by using the following steps:</span></span>

    * ```sh
    docker exec [first-four-digits-of-container-ID] cat /var/jenkins_home/secrets/initialAdminPassword
    ```
    <span data-ttu-id="58396-156">Pokud ID kontejneru je 2d24a73b5964, použijte 2d24.</span><span class="sxs-lookup"><span data-stu-id="58396-156">If container ID is 2d24a73b5964, use 2d24.</span></span>
    * <span data-ttu-id="58396-157">Toto heslo se vyžaduje pro přihlášení k řídicímu panelu Jenkinse z portálu, což je ``http://<HOST-IP>:8080``.</span><span class="sxs-lookup"><span data-stu-id="58396-157">This password is required for signing in to the Jenkins dashboard from portal, which is ``http://<HOST-IP>:8080``</span></span>
    * <span data-ttu-id="58396-158">Jakmile se poprvé přihlásíte, můžete si vytvořit vlastní uživatelský účet, který budete používat pro další účely, nebo můžete dál používat účet uživatele s právy pro správu.</span><span class="sxs-lookup"><span data-stu-id="58396-158">After you sign in for the first time, you can create your own user account and use that for future purposes, or you can continue to use the administrator account.</span></span> <span data-ttu-id="58396-159">Když vytvoříte uživatele, budete s ním muset pokračovat.</span><span class="sxs-lookup"><span data-stu-id="58396-159">After you create a user, you need to continue with that.</span></span>
  5. <span data-ttu-id="58396-160">Nastavte GitHub pro práci s Jenkinsem, a to pomocí kroků uvedených v tématu věnovaném [vygenerování nového klíče SSH a jeho přidání k agentovi SSH](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span><span class="sxs-lookup"><span data-stu-id="58396-160">Set up GitHub to work with Jenkins, by using the steps mentioned in [Generating a new SSH key and adding it to the SSH agent](https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/).</span></span>
        * <span data-ttu-id="58396-161">Pomocí pokynů z GitHubu vygenerujte klíč SSH a přidejte ho do účtu GitHubu, který je hostitelem úložiště.</span><span class="sxs-lookup"><span data-stu-id="58396-161">Use the instructions provided by GitHub to generate the SSH key, and to add the SSH key to the GitHub account that is hosting the repository.</span></span>
        * <span data-ttu-id="58396-162">Příkazy popsané u předchozího odkazu spusťte v prostředí Jenkins Dockeru (ne na hostiteli).</span><span class="sxs-lookup"><span data-stu-id="58396-162">Run the commands mentioned in the preceding link in the Jenkins Docker shell (and not on your host).</span></span>
      * <span data-ttu-id="58396-163">Pokud se chcete k prostředí Jenkinse přihlásit z hostitele, použijte následující příkazy:</span><span class="sxs-lookup"><span data-stu-id="58396-163">To sign in to the Jenkins shell from your host, use the following commands:</span></span>

      ```sh
      docker exec -t -i [first-four-digits-of-container-ID] /bin/bash
      ```

<span data-ttu-id="58396-164">Zkontrolujte, že cluster nebo počítač, ve kterém se hostuje image kontejneru Jenkinse, má veřejnou IP adresu.</span><span class="sxs-lookup"><span data-stu-id="58396-164">Ensure that the cluster or machine where the Jenkins container image is hosted has a public-facing IP.</span></span> <span data-ttu-id="58396-165">To umožňuje, aby instance Jenkinse dostávala oznámení z GitHubu.</span><span class="sxs-lookup"><span data-stu-id="58396-165">This enables the Jenkins instance to receive notifications from GitHub.</span></span>

## <a name="install-the-service-fabric-jenkins-plug-in-from-the-portal"></a><span data-ttu-id="58396-166">Instalace modulu plug-in Jenkinse pro Service Fabric z portálu</span><span class="sxs-lookup"><span data-stu-id="58396-166">Install the Service Fabric Jenkins plug-in from the portal</span></span>

1. <span data-ttu-id="58396-167">Přejděte na ``http://PublicIPorFQDN:8081``.</span><span class="sxs-lookup"><span data-stu-id="58396-167">Go to ``http://PublicIPorFQDN:8081``</span></span>
2. <span data-ttu-id="58396-168">Na řídicím panelu vyberte **Manage Jenkins** (Správa Jenkinse) > **Manage Plugins** (Správa modulů plug-in) > **Advanced** (Rozšířené).</span><span class="sxs-lookup"><span data-stu-id="58396-168">From the Jenkins dashboard, select **Manage Jenkins** > **Manage Plugins** > **Advanced**.</span></span>
<span data-ttu-id="58396-169">Tady můžete nahrát modul plug-in.</span><span class="sxs-lookup"><span data-stu-id="58396-169">Here, you can upload a plug-in.</span></span> <span data-ttu-id="58396-170">Vyberte **Choose file** (Zvolit soubor) a potom vyberte soubor **serviceFabric.hpi**, který jste si stáhli v části Požadavky.</span><span class="sxs-lookup"><span data-stu-id="58396-170">Select **Choose file**, and then select the **serviceFabric.hpi** file, which you downloaded under prerequisites.</span></span> <span data-ttu-id="58396-171">Jakmile vyberete **Upload** (Nahrát), Jenkins modul plug-in automaticky nainstaluje.</span><span class="sxs-lookup"><span data-stu-id="58396-171">When you select **Upload**, Jenkins automatically installs the plug-in.</span></span> <span data-ttu-id="58396-172">Pokud je vyžadováno restartování, povolte ho.</span><span class="sxs-lookup"><span data-stu-id="58396-172">Allow a restart if requested.</span></span>

## <a name="create-and-configure-a-jenkins-job"></a><span data-ttu-id="58396-173">Vytvoření a konfigurace úlohy Jenkinse</span><span class="sxs-lookup"><span data-stu-id="58396-173">Create and configure a Jenkins job</span></span>

1. <span data-ttu-id="58396-174">Na řídicím panelu vytvořte **novou položku**.</span><span class="sxs-lookup"><span data-stu-id="58396-174">Create a **new item** from dashboard.</span></span>
2. <span data-ttu-id="58396-175">Zadejte název položky (třeba **MyJob**).</span><span class="sxs-lookup"><span data-stu-id="58396-175">Enter an item name (for example, **MyJob**).</span></span> <span data-ttu-id="58396-176">Vyberte **free-style project** (volný styl projektu) a klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="58396-176">Select **free-style project**, and click **OK**.</span></span>
3. <span data-ttu-id="58396-177">Přejděte na stránku úlohy a klikněte na **Configure** (Konfigurovat).</span><span class="sxs-lookup"><span data-stu-id="58396-177">Go the job page, and click **Configure**.</span></span>

   <span data-ttu-id="58396-178">a.</span><span class="sxs-lookup"><span data-stu-id="58396-178">a.</span></span> <span data-ttu-id="58396-179">V sekci obecných informací v části **GitHub project** (Projekt GitHub) zadejte adresu URL projektu.</span><span class="sxs-lookup"><span data-stu-id="58396-179">In the general section, under **GitHub project**, specify your GitHub project URL.</span></span> <span data-ttu-id="58396-180">Tato adresa je hostitelem aplikace Service Fabric v Javě, kterou chcete integrovat s postupy průběžného nasazování a integrace (CI/CD) Jenkinse (např. ``https://github.com/sayantancs/SFJenkins``).</span><span class="sxs-lookup"><span data-stu-id="58396-180">This URL hosts the Service Fabric Java application that you want to integrate with the Jenkins continuous integration, continuous deployment (CI/CD) flow (for example, ``https://github.com/sayantancs/SFJenkins``).</span></span>

   <span data-ttu-id="58396-181">b.</span><span class="sxs-lookup"><span data-stu-id="58396-181">b.</span></span> <span data-ttu-id="58396-182">V části **Source Code Management** (Správa zdrojového kódu) vyberte **Git**.</span><span class="sxs-lookup"><span data-stu-id="58396-182">Under the **Source Code Management** section, select **Git**.</span></span> <span data-ttu-id="58396-183">Zadejte adresu URL úložiště, které je hostitelem aplikace Service Fabric v Javě, kterou chcete integrovat s postupy CI/CD Jenkinse (např. ``https://github.com/sayantancs/SFJenkins.git``).</span><span class="sxs-lookup"><span data-stu-id="58396-183">Specify the repository URL that hosts the Service Fabric Java application that you want to integrate with the Jenkins CI/CD flow (for example, ``https://github.com/sayantancs/SFJenkins.git``).</span></span> <span data-ttu-id="58396-184">V této části můžete také zadat, jaká větev se má sestavit (například **/master**).</span><span class="sxs-lookup"><span data-stu-id="58396-184">Also, you can specify here which branch to build (for example, **/master**).</span></span>
4. <span data-ttu-id="58396-185">Nakonfigurujte *GitHub* (který je hostitelem úložiště) tak, aby mohl komunikovat s Jenkinsem.</span><span class="sxs-lookup"><span data-stu-id="58396-185">Configure your *GitHub* (which is hosting the repository) so that it is able to talk to Jenkins.</span></span> <span data-ttu-id="58396-186">Použijte k tomu následující postup:</span><span class="sxs-lookup"><span data-stu-id="58396-186">Use the following steps:</span></span>

   <span data-ttu-id="58396-187">a.</span><span class="sxs-lookup"><span data-stu-id="58396-187">a.</span></span> <span data-ttu-id="58396-188">Přejděte na stránku vašeho úložiště Github.</span><span class="sxs-lookup"><span data-stu-id="58396-188">Go to your GitHub repository page.</span></span> <span data-ttu-id="58396-189">Přejděte do části **Settings** (Nastavení) > **Integrations and Services** (Integrace a služby).</span><span class="sxs-lookup"><span data-stu-id="58396-189">Go to **Settings** > **Integrations and Services**.</span></span>

   <span data-ttu-id="58396-190">b.</span><span class="sxs-lookup"><span data-stu-id="58396-190">b.</span></span> <span data-ttu-id="58396-191">Vyberte **Add Service** (Přidat službu), zadejte **Jenkins** a vyberte **Jenkins-Github plugin** (Modul plug-in Jenkins-Github).</span><span class="sxs-lookup"><span data-stu-id="58396-191">Select **Add Service**, type **Jenkins**, and select the **Jenkins-GitHub plugin**.</span></span>

   <span data-ttu-id="58396-192">c.</span><span class="sxs-lookup"><span data-stu-id="58396-192">c.</span></span> <span data-ttu-id="58396-193">Zadejte adresu URL webhooku Jenkinse (ve výchozím nastavení by měla být ``http://<PublicIPorFQDN>:8081/github-webhook/``).</span><span class="sxs-lookup"><span data-stu-id="58396-193">Enter your Jenkins webhook URL (by default, it should be ``http://<PublicIPorFQDN>:8081/github-webhook/``).</span></span> <span data-ttu-id="58396-194">Klikněte na **add/update service** (Přidat/aktualizovat službu).</span><span class="sxs-lookup"><span data-stu-id="58396-194">Click **add/update service**.</span></span>

   <span data-ttu-id="58396-195">d.</span><span class="sxs-lookup"><span data-stu-id="58396-195">d.</span></span> <span data-ttu-id="58396-196">Do instance Jenkinse se odešle testovací událost.</span><span class="sxs-lookup"><span data-stu-id="58396-196">A test event is sent to your Jenkins instance.</span></span> <span data-ttu-id="58396-197">V GitHubu by se měla vedle webhooku zobrazit zelená značka zaškrtnutí a váš projekt se sestaví.</span><span class="sxs-lookup"><span data-stu-id="58396-197">You should see a green check by the webhook in GitHub, and your project will build.</span></span>

   <span data-ttu-id="58396-198">e.</span><span class="sxs-lookup"><span data-stu-id="58396-198">e.</span></span> <span data-ttu-id="58396-199">V části **Build Triggers** (Triggery sestavení) vyberte požadovanou možnost sestavení.</span><span class="sxs-lookup"><span data-stu-id="58396-199">Under the **Build Triggers** section, select which build option you want.</span></span> <span data-ttu-id="58396-200">V tomto příkladě použití chcete aktivovat sestavení při každém vložení metodou Push do úložiště.</span><span class="sxs-lookup"><span data-stu-id="58396-200">For this example, you want to trigger a build whenever some push to the repository happens.</span></span> <span data-ttu-id="58396-201">Proto vyberete **GitHub hook trigger for GITScm polling** (Trigger webhooku GitHubu pro cyklické dotazování GitHubu).</span><span class="sxs-lookup"><span data-stu-id="58396-201">So you select **GitHub hook trigger for GITScm polling**.</span></span> <span data-ttu-id="58396-202">(Dřív se tato možnost nazývala **Build when a change is pushed to GitHub** (Sestavit při vložení změny metodou Push do GitHubu).</span><span class="sxs-lookup"><span data-stu-id="58396-202">(Previously, this option was called **Build when a change is pushed to GitHub**.)</span></span>

   <span data-ttu-id="58396-203">f.</span><span class="sxs-lookup"><span data-stu-id="58396-203">f.</span></span> <span data-ttu-id="58396-204">V části **Build** (Sestavení) z rozevírací nabídky **Add build step** (Přidat krok sestavení) vyberte možnost **Invoke Gradle Script** (Vyvolání skriptu Gradle).</span><span class="sxs-lookup"><span data-stu-id="58396-204">Under the **Build section**, from the drop-down **Add build step**, select the option **Invoke Gradle Script**.</span></span> <span data-ttu-id="58396-205">Ve widgetu, který se zobrazí, zadejte do pole **Root build script** (Kořenový skript sestavení) cestu ke kořenovému skriptu sestavení pro vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="58396-205">In the widget that comes, specify the path to **Root build script** for your application.</span></span> <span data-ttu-id="58396-206">Sestavení si ze zadané cesty vezme soubor build.gradle a bude pracovat odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="58396-206">It picks up build.gradle from the path specified, and works accordingly.</span></span> <span data-ttu-id="58396-207">Pokud vytvoříte projekt ``MyActor`` (pomocí modulu plug-in Eclipse nebo generátoru Yeoman), pole pro kořenový skript sestavení by mělo obsahovat ``${WORKSPACE}/MyActor``.</span><span class="sxs-lookup"><span data-stu-id="58396-207">If you create a project named ``MyActor`` (using the Eclipse plug-in or Yeoman generator), the root build script should contain ``${WORKSPACE}/MyActor``.</span></span> <span data-ttu-id="58396-208">Příklad toho, jak by to mělo vypadat, najdete na následujícím snímku:</span><span class="sxs-lookup"><span data-stu-id="58396-208">See the following screenshot for an example of what this looks like:</span></span>

    ![Akce sestavení v Jenkinsu pro Service Fabric][build-step]

   <span data-ttu-id="58396-210">g.</span><span class="sxs-lookup"><span data-stu-id="58396-210">g.</span></span> <span data-ttu-id="58396-211">V rozevírací nabídce **Post-Build Actions** (Akce po sestavení) vyberte **Deploy Service Fabric Project** (Nasazení projektu Service Fabric).</span><span class="sxs-lookup"><span data-stu-id="58396-211">From the **Post-Build Actions** drop-down, select **Deploy Service Fabric Project**.</span></span> <span data-ttu-id="58396-212">V této části je potřeba zadat podrobnosti o clusteru, ve kterém se bude nasazovat aplikace Service Fabric zkompilovaná Jenkinsem.</span><span class="sxs-lookup"><span data-stu-id="58396-212">Here you need to provide cluster details where the Jenkins compiled Service Fabric application would be deployed.</span></span> <span data-ttu-id="58396-213">Můžete také zadat další podrobnosti o aplikaci, které se používají k jejímu nasazení.</span><span class="sxs-lookup"><span data-stu-id="58396-213">You can also provide additional application details used to deploy the application.</span></span> <span data-ttu-id="58396-214">Příklad toho, jak by to mělo vypadat, najdete na následujícím snímku:</span><span class="sxs-lookup"><span data-stu-id="58396-214">See the following screenshot for an example of what this looks like:</span></span>

    ![Akce sestavení v Jenkinsu pro Service Fabric][post-build-step]

   > [!NOTE]
   > <span data-ttu-id="58396-216">Zde uvedený cluster může být stejný jako cluster, který hostuje aplikaci Jenkins typu kontejner, pokud k nasazení image kontejneru Jenkins používáte Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="58396-216">The cluster here could be same as the one hosting the Jenkins container application, in case you are using Service Fabric to deploy the Jenkins container image.</span></span>
   >

## <a name="next-steps"></a><span data-ttu-id="58396-217">Další kroky</span><span class="sxs-lookup"><span data-stu-id="58396-217">Next steps</span></span>
<span data-ttu-id="58396-218">GitHub a Jenkins jsou teď nakonfigurované.</span><span class="sxs-lookup"><span data-stu-id="58396-218">GitHub and Jenkins are now configured.</span></span> <span data-ttu-id="58396-219">Můžete provést nějaké ukázkové změny v projektu například v úložišti ``MyActor``https://github.com/sayantancs/SFJenkins.</span><span class="sxs-lookup"><span data-stu-id="58396-219">Consider making some sample change in your ``MyActor`` project in the repository example, https://github.com/sayantancs/SFJenkins.</span></span> <span data-ttu-id="58396-220">Metodou Push změny vložte do vzdálené větve ``master`` (nebo jakékoli jiné větve, kterou jste si pro práci nakonfigurovali).</span><span class="sxs-lookup"><span data-stu-id="58396-220">Push your changes to a remote ``master`` branch (or any branch that you have configured to work with).</span></span> <span data-ttu-id="58396-221">Tím se aktivuje nakonfigurovaná úloha Jenkinse ``MyJob``.</span><span class="sxs-lookup"><span data-stu-id="58396-221">This triggers the Jenkins job, ``MyJob``, that you configured.</span></span> <span data-ttu-id="58396-222">Tato úloha načte změny z GitHubu a použije je k sestavení aplikace, kterou nasadí do koncového bodu clusteru, který jste zadali v akcích po sestavení.</span><span class="sxs-lookup"><span data-stu-id="58396-222">It fetches the changes from GitHub, builds them, and deploys the application to the cluster endpoint you specified in post-build actions.</span></span>  

  <!-- Images -->
  [build-step]: ./media/service-fabric-cicd-your-linux-java-application-with-jenkins/build-step.png
  [post-build-step]: ./media/service-fabric-cicd-your-linux-java-application-with-jenkins/post-build-step.png
