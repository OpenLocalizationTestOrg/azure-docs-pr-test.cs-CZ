---
title: "Plánování kapacity clusteru Service Fabric | Microsoft Docs"
description: "Informace o plánování kapacity clusteru Service Fabric. Nodetypes, odolnost a spolehlivost vrstev"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: 4c584f4a-cb1f-400c-b61f-1f797f11c982
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/24/2017
ms.author: chackdan
ms.openlocfilehash: 36b96360fabdcc64ffd2356540c580594637d48e
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="service-fabric-cluster-capacity-planning-considerations"></a><span data-ttu-id="63f04-104">Aspekty plánování kapacity služby cluster Service Fabric</span><span class="sxs-lookup"><span data-stu-id="63f04-104">Service Fabric cluster capacity planning considerations</span></span>
<span data-ttu-id="63f04-105">Pro všechna produkční nasazení plánování kapacity je důležitý krok.</span><span class="sxs-lookup"><span data-stu-id="63f04-105">For any production deployment, capacity planning is an important step.</span></span> <span data-ttu-id="63f04-106">Zde jsou některé položky, které je nutné zvážit jako součást tohoto procesu.</span><span class="sxs-lookup"><span data-stu-id="63f04-106">Here are some of the items that you have to consider as a part of that process.</span></span>

* <span data-ttu-id="63f04-107">Počet typů uzlů, které cluster potřebuje začít s</span><span class="sxs-lookup"><span data-stu-id="63f04-107">The number of node types your cluster needs to start out with</span></span>
* <span data-ttu-id="63f04-108">Vlastnosti každého typu uzlu (velikost, primární, internetový bod, počet virtuálních počítačů, atd.)</span><span class="sxs-lookup"><span data-stu-id="63f04-108">The properties of each of node type (size, primary, internet facing, number of VMs, etc.)</span></span>
* <span data-ttu-id="63f04-109">Spolehlivost a odolnost vlastnosti clusteru</span><span class="sxs-lookup"><span data-stu-id="63f04-109">The reliability and durability characteristics of the cluster</span></span>

<span data-ttu-id="63f04-110">Stručně dejte nám zkontrolujte, každá z těchto položek.</span><span class="sxs-lookup"><span data-stu-id="63f04-110">Let us briefly review each of these items.</span></span>

## <a name="the-number-of-node-types-your-cluster-needs-to-start-out-with"></a><span data-ttu-id="63f04-111">Počet typů uzlů, které cluster potřebuje začít s</span><span class="sxs-lookup"><span data-stu-id="63f04-111">The number of node types your cluster needs to start out with</span></span>
<span data-ttu-id="63f04-112">Je třeba nejprve, zjistěte, co se děje clusteru, který vytváříte má být použit pro a toho, jaké typy aplikací se chystáte nasadit do tohoto clusteru.</span><span class="sxs-lookup"><span data-stu-id="63f04-112">First, you need to figure out what the cluster you are creating is going to be used for and what kinds of applications you are planning to deploy into this cluster.</span></span> <span data-ttu-id="63f04-113">Pokud si nejste vymazat na účel clusteru, se pravděpodobně ještě připravené k zadání proces plánování kapacity.</span><span class="sxs-lookup"><span data-stu-id="63f04-113">If you are not clear on the purpose of the cluster, you are most likely not yet ready to enter the capacity planning process.</span></span>

<span data-ttu-id="63f04-114">Určete počet typy uzlů, které cluster potřebuje začít s.</span><span class="sxs-lookup"><span data-stu-id="63f04-114">Establish the number of node types your cluster needs to start out with.</span></span>  <span data-ttu-id="63f04-115">Každý typ uzlu je namapována na sadu škálování virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="63f04-115">Each node type is mapped to a Virtual Machine Scale Set.</span></span> <span data-ttu-id="63f04-116">Každý typ uzlu je možné škálovat pak nebo dolů nezávisle, mají různé sady otevřené porty a může mít různé kapacity metriky.</span><span class="sxs-lookup"><span data-stu-id="63f04-116">Each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="63f04-117">Proto rozhodnutí počtu typy uzlů v podstatě dodává na následující aspekty:</span><span class="sxs-lookup"><span data-stu-id="63f04-117">So the decision of the number of node types essentially comes down to the following considerations:</span></span>

* <span data-ttu-id="63f04-118">Má vaše aplikace více služeb, a některý z nich musí být veřejné nebo internetové?</span><span class="sxs-lookup"><span data-stu-id="63f04-118">Does your application have multiple services, and do any of them need to be public or internet facing?</span></span> <span data-ttu-id="63f04-119">Typická aplikace obsahují služby front-endu brány, která přijímá vstup z klienta a jeden nebo více back-end služby, které komunikují s front-endové služby.</span><span class="sxs-lookup"><span data-stu-id="63f04-119">Typical applications contain a front-end gateway service that receives input from a client, and one or more back-end services that communicate with the front-end services.</span></span> <span data-ttu-id="63f04-120">Proto v tomto případě se vám stát tím, že mají alespoň dva typy uzlů.</span><span class="sxs-lookup"><span data-stu-id="63f04-120">So in this case, you end up having at least two node types.</span></span>
* <span data-ttu-id="63f04-121">Mají vašim službám (které tvoří vaši aplikaci) musí jiné infrastruktuře například větší paměti RAM nebo vyšší cyklů procesoru?</span><span class="sxs-lookup"><span data-stu-id="63f04-121">Do your services (that make up your application) have different infrastructure needs such as greater RAM or higher CPU cycles?</span></span> <span data-ttu-id="63f04-122">Předpokládejme třeba, dejte nám, obsahuje aplikaci, kterou chcete nasadit služby front-end a back endové službě.</span><span class="sxs-lookup"><span data-stu-id="63f04-122">For example, let us assume that the application that you want to deploy contains a front-end service and a back-end service.</span></span> <span data-ttu-id="63f04-123">Front-endu služba může běžet na menší virtuálních (velikosti virtuálních počítačů jako D2), které mají porty, otevřete k Internetu.</span><span class="sxs-lookup"><span data-stu-id="63f04-123">The front-end service can run on smaller VMs (VM sizes like D2) that have ports open to the internet.</span></span>  <span data-ttu-id="63f04-124">Back endové služby, ale je náročné na výpočetní prostředky a je spustit na větší VMs (s velikostí virtuálního počítače jako D4 D6, D15), které nejsou internet setkávají.</span><span class="sxs-lookup"><span data-stu-id="63f04-124">The back-end service, however, is computation intensive and needs to run on larger VMs (with VM sizes like D4, D6, D15) that are not internet facing.</span></span>
  
  <span data-ttu-id="63f04-125">V tomto příkladu i když se rozhodnete umístí všechny služby typu jeden uzel, doporučujeme umístit je v clusteru se dvěma typy uzlů.</span><span class="sxs-lookup"><span data-stu-id="63f04-125">In this example, although you can decide to put all the services on one node type, we recommended that you place them in a cluster with two node types.</span></span>  <span data-ttu-id="63f04-126">To umožňuje pro každý typ uzlu tak, aby měl jedinečné vlastnosti, například připojení k Internetu nebo velikost virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="63f04-126">This allows for each node type to have distinct properties such as internet connectivity or VM size.</span></span> <span data-ttu-id="63f04-127">Počet virtuálních počítačů je možné rozšířit nezávisle, stejně.</span><span class="sxs-lookup"><span data-stu-id="63f04-127">The number of VMs can be scaled independently, as well.</span></span>  
* <span data-ttu-id="63f04-128">Vzhledem k tomu, že nelze předpovídat budoucí, pomocí faktů, které znáte z a rozhodnout, počet typy uzlů, které vaše aplikace musí začínat.</span><span class="sxs-lookup"><span data-stu-id="63f04-128">Since you cannot predict the future, go with facts you know of and decide on the number of node types that your applications need to start with.</span></span> <span data-ttu-id="63f04-129">Vždy můžete přidat nebo odebrat typy uzlů později.</span><span class="sxs-lookup"><span data-stu-id="63f04-129">You can always add or remove node types later.</span></span> <span data-ttu-id="63f04-130">Cluster Service Fabric musí mít alespoň jeden uzel typu.</span><span class="sxs-lookup"><span data-stu-id="63f04-130">A Service Fabric cluster must have at least one node type.</span></span>

## <a name="the-properties-of-each-node-type"></a><span data-ttu-id="63f04-131">Vlastnosti každého typu uzlu</span><span class="sxs-lookup"><span data-stu-id="63f04-131">The properties of each node type</span></span>
<span data-ttu-id="63f04-132">**Typ uzlu** se dají považovat za ekvivalent rolí v cloudových služeb.</span><span class="sxs-lookup"><span data-stu-id="63f04-132">The **node type** can be seen as equivalent to roles in Cloud Services.</span></span> <span data-ttu-id="63f04-133">Typy uzlů definovat velikosti virtuálních počítačů, počet virtuálních počítačů a jejich vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="63f04-133">Node types define the VM sizes, the number of VMs, and their properties.</span></span> <span data-ttu-id="63f04-134">Každý typ uzlu, který je definován v clusteru Service Fabric je nastavený jako sada škálování samostatný virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="63f04-134">Every node type that is defined in a Service Fabric cluster is set up as a separate virtual machine scale set.</span></span> <span data-ttu-id="63f04-135">Škálovací sadu virtuálních počítačů je prostředek výpočtů Azure, které můžete použít k nasazení a správě kolekci jako sada virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="63f04-135">Virtual machine scale set is an Azure compute resource you can use to deploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="63f04-136">Definovaný jako škálovací sadu virtuálních počítačů distinct, každý typ uzlu je možné škálovat pak nebo dolů nezávisle, mají různé sady otevřené porty a může mít různé kapacity metriky.</span><span class="sxs-lookup"><span data-stu-id="63f04-136">Being defined as distinct virtual machine scale set, each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span>

<span data-ttu-id="63f04-137">Čtení [tento dokument](service-fabric-cluster-nodetypes.md) další podrobnosti o vztah Nodetypes k škálovací sadu virtuálních počítačů, jak pro připojení RDP jedna z instancí, otevřete nové porty atd.</span><span class="sxs-lookup"><span data-stu-id="63f04-137">Read [this document](service-fabric-cluster-nodetypes.md) for more details on the relationship of Nodetypes to virtual machine scale set, how to RDP into one of the instances, open new ports etc.</span></span>

<span data-ttu-id="63f04-138">Cluster může mít více než jeden typ uzlu, ale tento typ primárního uzlu (první, kterou definujete na portálu) musí mít aspoň pět virtuálních počítačů pro clustery používat pro produkční zatížení (nebo minimálně tři virtuální počítače pro test clustery).</span><span class="sxs-lookup"><span data-stu-id="63f04-138">Your cluster can have more than one node type, but the primary node type (the first one that you define on the portal) must have at least five VMs for clusters used for production workloads (or at least three VMs for test clusters).</span></span> <span data-ttu-id="63f04-139">Pokud chcete vytvořit cluster pomocí šablony Resource Manageru, pak Hledat **je primární** atribut v definici typu uzlu.</span><span class="sxs-lookup"><span data-stu-id="63f04-139">If you are creating the cluster using a Resource Manager template, then look for **is Primary** attribute under the node type definition.</span></span> <span data-ttu-id="63f04-140">Typ primárního uzlu je typ uzlu, kde jsou umístěny Service Fabric systémových služeb.</span><span class="sxs-lookup"><span data-stu-id="63f04-140">The primary node type is the node type where Service Fabric system services are placed.</span></span>  

### <a name="primary-node-type"></a><span data-ttu-id="63f04-141">Typ primárního uzlu</span><span class="sxs-lookup"><span data-stu-id="63f04-141">Primary node type</span></span>
<span data-ttu-id="63f04-142">Pro cluster s několika typy uzlů budete muset zvolit jeden z nich jako primární.</span><span class="sxs-lookup"><span data-stu-id="63f04-142">For a cluster with multiple node types, you need to choose one of them to be primary.</span></span> <span data-ttu-id="63f04-143">Zde jsou vlastnosti typu primárního uzlu:</span><span class="sxs-lookup"><span data-stu-id="63f04-143">Here are the characteristics of a primary node type:</span></span>

* <span data-ttu-id="63f04-144">**Minimální velikosti virtuálních počítačů** pro primární uzel je dáno typ **odolnost vrstvy** zvolíte.</span><span class="sxs-lookup"><span data-stu-id="63f04-144">The **minimum size of VMs** for the primary node type is determined by the **durability tier** you choose.</span></span> <span data-ttu-id="63f04-145">Výchozí hodnota pro úroveň odolnosti je Bronzová.</span><span class="sxs-lookup"><span data-stu-id="63f04-145">The default for the durability tier is Bronze.</span></span> <span data-ttu-id="63f04-146">Posuňte se dolů podrobné informace o novinky vrstvě odolnost a hodnoty, které může trvat.</span><span class="sxs-lookup"><span data-stu-id="63f04-146">Scroll down for details on what the durability tier is and the values it can take.</span></span>  
* <span data-ttu-id="63f04-147">**Minimální počet virtuálních počítačů** pro primární uzel je dáno typ **úroveň spolehlivosti** zvolíte.</span><span class="sxs-lookup"><span data-stu-id="63f04-147">The **minimum number of VMs** for the primary node type is determined by the **reliability tier** you choose.</span></span> <span data-ttu-id="63f04-148">Výchozí hodnota pro úroveň spolehlivosti je Silver.</span><span class="sxs-lookup"><span data-stu-id="63f04-148">The default for the reliability tier is Silver.</span></span> <span data-ttu-id="63f04-149">Posuňte se dolů podrobné informace o novinky úroveň spolehlivosti a hodnoty, které může trvat.</span><span class="sxs-lookup"><span data-stu-id="63f04-149">Scroll down for details on what the reliability tier is and the values it can take.</span></span> 


* <span data-ttu-id="63f04-150">Systémové služby Service Fabric (například Správce clusteru služby nebo služby úložiště Image Store) jsou umístěny na primárním uzlu typu a, spolehlivost a odolnost clusteru je dáno vrstvy hodnotu a odolnost úroveň spolehlivosti hodnotou, kterou jste Vyberte pro typ primárního uzlu.</span><span class="sxs-lookup"><span data-stu-id="63f04-150">The Service Fabric system services (for example, the Cluster Manager service or Image Store service) are placed on the primary node type and so the reliability and durability of the cluster is determined by the reliability tier value and durability tier value you select for the primary node type.</span></span>

![<span data-ttu-id="63f04-151">Snímek obrazovky, který má dva typy uzlů clusteru</span><span class="sxs-lookup"><span data-stu-id="63f04-151">Screen shot of a cluster that has two Node Types</span></span> ][SystemServices]

### <a name="non-primary-node-type"></a><span data-ttu-id="63f04-152">Typ uzlu není primární</span><span class="sxs-lookup"><span data-stu-id="63f04-152">Non-primary node type</span></span>
<span data-ttu-id="63f04-153">Pro cluster s několika typy uzlů je jeden typ primárního uzlu a zbývající z nich jsou není primární.</span><span class="sxs-lookup"><span data-stu-id="63f04-153">For a cluster with multiple node types, there is one primary node type and the rest of them are non-primary.</span></span> <span data-ttu-id="63f04-154">Zde jsou vlastnosti uzlu není primární typu:</span><span class="sxs-lookup"><span data-stu-id="63f04-154">Here are the characteristics of a non-primary node type:</span></span>

* <span data-ttu-id="63f04-155">Minimální velikost virtuálních počítačů pro tento typ uzlu je určen podle odolnost vrstvy, které zvolíte.</span><span class="sxs-lookup"><span data-stu-id="63f04-155">The minimum size of VMs for this node type is determined by the durability tier you choose.</span></span> <span data-ttu-id="63f04-156">Výchozí hodnota pro úroveň odolnosti je Bronzová.</span><span class="sxs-lookup"><span data-stu-id="63f04-156">The default for the durability tier is Bronze.</span></span> <span data-ttu-id="63f04-157">Posuňte se dolů podrobné informace o novinky vrstvě odolnost a hodnoty, které může trvat.</span><span class="sxs-lookup"><span data-stu-id="63f04-157">Scroll down for details on what the durability tier is and the values it can take.</span></span>  
* <span data-ttu-id="63f04-158">Minimální počet virtuálních počítačů pro tento typ uzlu může být jedna.</span><span class="sxs-lookup"><span data-stu-id="63f04-158">The minimum number of VMs for this node type can be one.</span></span> <span data-ttu-id="63f04-159">Měli byste ale vybrat toto číslo na základě počtu replik aplikace nebo služby, které chcete spustit v tomto typu uzlu.</span><span class="sxs-lookup"><span data-stu-id="63f04-159">However you should choose this number based on the number of replicas of the application/services that you would like to run in this node type.</span></span> <span data-ttu-id="63f04-160">Po nasazení clusteru je možné zvýšit počet virtuálních počítačů v uzlu typu.</span><span class="sxs-lookup"><span data-stu-id="63f04-160">The number of VMs in a node type can be increased after you have deployed the cluster.</span></span>

## <a name="the-durability-characteristics-of-the-cluster"></a><span data-ttu-id="63f04-161">Charakteristiky odolnost clusteru</span><span class="sxs-lookup"><span data-stu-id="63f04-161">The durability characteristics of the cluster</span></span>
<span data-ttu-id="63f04-162">Úroveň odolnosti je slouží k určení systému oprávnění, které mají virtuální počítače se základní infrastruktura Azure.</span><span class="sxs-lookup"><span data-stu-id="63f04-162">The durability tier is used to indicate to the system the privileges that your VMs have with the underlying Azure infrastructure.</span></span> <span data-ttu-id="63f04-163">V primárním uzlu, který typ toto oprávnění umožňuje Service Fabric se pozastavit žádosti úrovni infrastruktury virtuálního počítače (například restartování virtuálního počítače, obnovení z Image virtuálního počítače nebo migrace virtuálních počítačů), vliv na požadavky kvora pro systémové služby a vaše stavové služby.</span><span class="sxs-lookup"><span data-stu-id="63f04-163">In the primary node type, this privilege allows Service Fabric to pause any VM level infrastructure request (such as a VM reboot, VM reimage, or VM migration) that impact the quorum requirements for the system services and your stateful services.</span></span> <span data-ttu-id="63f04-164">V uzlu neprimární typy toto oprávnění umožňuje Service Fabric se pozastavit všechny virtuální počítač úrovně infrastruktury žádosti restartování virtuálního počítače, obnovení z Image virtuálních počítačů, virtuálních počítačů migrace atd., které mají vliv požadavky kvora pro váš stavové služby spuštěné v ní.</span><span class="sxs-lookup"><span data-stu-id="63f04-164">In the non-primary node types, this privilege allows Service Fabric to pause any VM level infrastructure requests like VM reboot, VM reimage, VM migration etc., that impact the quorum requirements for your stateful services running in it.</span></span>

<span data-ttu-id="63f04-165">Toto oprávnění je vyjádřena v následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="63f04-165">This privilege is expressed in the following values:</span></span>

* <span data-ttu-id="63f04-166">Pozastavit lze po dobu dvou hodin za UD zlatý - infrastruktury úloh.</span><span class="sxs-lookup"><span data-stu-id="63f04-166">Gold - The infrastructure Jobs can be paused for a duration of two hours per UD.</span></span> <span data-ttu-id="63f04-167">Gold odolnost můžete povolit jenom pro SKU úplné uzlu virtuálního počítače jako D15_V2 G5 atd.</span><span class="sxs-lookup"><span data-stu-id="63f04-167">Gold durability can be enabled only on full node VM skus like D15_V2, G5 etc.</span></span>
* <span data-ttu-id="63f04-168">Stříbrná - úloh infrastruktury můžete pozastaven po dobu 10 minut na jednu UD a je k dispozici na všechny standardní virtuální počítače z jediného jádra a vyšší.</span><span class="sxs-lookup"><span data-stu-id="63f04-168">Silver - The infrastructure Jobs can be paused for a duration of 10 minutes per UD and is available on all standard VMs of single core and above.</span></span>
* <span data-ttu-id="63f04-169">Bronzová - žádná oprávnění.</span><span class="sxs-lookup"><span data-stu-id="63f04-169">Bronze - No privileges.</span></span> <span data-ttu-id="63f04-170">Toto je výchozí hodnota.</span><span class="sxs-lookup"><span data-stu-id="63f04-170">This is the default.</span></span> <span data-ttu-id="63f04-171">Tato úroveň odolnosti používat jenom pro typy uzlů, které používají _pouze_ Bezstavová zatížení.</span><span class="sxs-lookup"><span data-stu-id="63f04-171">Only use this durability level for Node Types that run _only_ stateless workloads.</span></span> 

> [!WARNING]
> <span data-ttu-id="63f04-172">NodeTypes s bronzová odolnost získat _žádné oprávnění_.</span><span class="sxs-lookup"><span data-stu-id="63f04-172">NodeTypes running with Bronze durability obtain _no privileges_.</span></span> <span data-ttu-id="63f04-173">To znamená, že nebude infrastruktury úlohy, které mají vliv Bezstavová zatížení zastavit nebo zpoždění.</span><span class="sxs-lookup"><span data-stu-id="63f04-173">This means that infrastructure jobs that impact your stateless workloads will not be stopped or delayed.</span></span> <span data-ttu-id="63f04-174">Je možné tyto úlohy může ovlivnit stále úlohy, způsobuje výpadek nebo jiných problémů.</span><span class="sxs-lookup"><span data-stu-id="63f04-174">It is possible that such jobs can still impact your workloads, causing downtime or other issues.</span></span> <span data-ttu-id="63f04-175">Pro všechny řazení produkční úlohy běží s aspoň se doporučuje Silver.</span><span class="sxs-lookup"><span data-stu-id="63f04-175">For any sort of production workload, running with at least Silver is recommended.</span></span> 
> 

<span data-ttu-id="63f04-176">Získáte zvolte si úroveň odolnost pro každou z vaší typy uzlů. Můžete zvolit jeden typ uzlu tak, aby měl odolnost úrovně Gold nebo stříbrný a dalších mají bronzová ve stejném clusteru. **Musí zachovat minimální počet uzlů 5 pro jakýkoli uzel typ, který má odolnost zlatý nebo silver**.</span><span class="sxs-lookup"><span data-stu-id="63f04-176">You get to choose durability level for each of your node-types.You can choose one node-type to have a durability level of Gold or silver and the other have Bronze in the same cluster.**You must maintain a minimum count of 5 nodes for any node-type that has a durability of Gold or silver**.</span></span> 

<span data-ttu-id="63f04-177">**Výhody používání úrovně Silver nebo zlatý odolnost**</span><span class="sxs-lookup"><span data-stu-id="63f04-177">**Advantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="63f04-178">Snižuje počet požadovaných kroků v rámci škálování operace (to znamená, deaktivace uzlu a odebrat ServiceFabricNodeState se nazývá automaticky)</span><span class="sxs-lookup"><span data-stu-id="63f04-178">Reduces the number of required steps in a scale-in operation (that is, node deactivation and Remove-ServiceFabricNodeState is called automatically)</span></span>
2. <span data-ttu-id="63f04-179">Snižuje riziko ztráty dat z důvodu operaci změnit spouštěná zákazníka SKU virtuálních počítačů v místní nebo provozu infrastruktury Azure.</span><span class="sxs-lookup"><span data-stu-id="63f04-179">Reduces the risk of data loss due to a customer-initiated in-place VM SKU change operation or Azure infrastructure operations.</span></span>
     
<span data-ttu-id="63f04-180">**Nevýhody použití úrovně Silver nebo zlatý odolnost**</span><span class="sxs-lookup"><span data-stu-id="63f04-180">**Disadvantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="63f04-181">Nasazení pro sadu škálování virtuálního počítače a dalších souvisejících prostředků Azure) může být zpoždění, můžete vypršení časového limitu nebo může být blokovány zcela problémy v clusteru nebo na úrovni infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="63f04-181">Deployments to your Virtual Machine Scale Set and other related Azure resources) can be delayed, can time out, or can be blocked entirely by problems in your cluster or at the infrastructure level.</span></span> 
2. <span data-ttu-id="63f04-182">Zvyšuje počet [události životního cyklu repliky](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (například primární záměna) z důvodu automatizované deaktivací uzlu během operací infrastruktury Azure.</span><span class="sxs-lookup"><span data-stu-id="63f04-182">Increases the number of [replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (for example, primary swaps) due to automated node deactivations during Azure infrastructure operations.</span></span>

### <a name="recommendations-on-when-to-use-silver-or-gold-durability-levels"></a><span data-ttu-id="63f04-183">Doporučení týkající se použití úrovně Silver nebo zlatý odolnost</span><span class="sxs-lookup"><span data-stu-id="63f04-183">Recommendations on when to use Silver or Gold durability levels</span></span>

<span data-ttu-id="63f04-184">Použít Silver nebo zlatý odolnost pro všechny typy uzlů, které jsou hostiteli stavové služby, které byste měli škálování v (snížit počet instancí virtuálního počítače) často, a si přejete, operace nasazení se odloží považuje zjednodušit tyto operace škálování v.</span><span class="sxs-lookup"><span data-stu-id="63f04-184">Use Silver or Gold durability for all node types that host stateful services you expect to scale-in (reduce VM instance count) frequently, and you would prefer that deployment operations be delayed in favor of simplifying these scale-in operations.</span></span> <span data-ttu-id="63f04-185">Scénáře Škálováním na více systémů (Přidání instance virtuálních počítačů) do zvoleného vrstvy odolnost nejsou dostupné, jenom škálování v nepodporuje.</span><span class="sxs-lookup"><span data-stu-id="63f04-185">The scale-out scenarios (adding VMs instances) do not play into your choice of the durability tier, only scale-in does.</span></span>

### <a name="operational-recommendations-for-the-node-type-that-you-have-set-to-silver-or-gold-durability-level"></a><span data-ttu-id="63f04-186">Provozní doporučení pro uzel zadejte, že jste nastavili stříbrným nebo gold odolnost úrovně.</span><span class="sxs-lookup"><span data-stu-id="63f04-186">Operational Recommendations for the node type that you have set to silver or gold durability level.</span></span>

1. <span data-ttu-id="63f04-187">Zachovat cluster a aplikace v pořádku po celou dobu a ujistěte se, že aplikace reagovat na všechny [služby události životního cyklu repliky](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (jako jsou repliky v sestavení zasekl) včas.</span><span class="sxs-lookup"><span data-stu-id="63f04-187">Keep your cluster and applications healthy at all times, and make sure that applications respond to all [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion.</span></span>
2. <span data-ttu-id="63f04-188">Přijmout bezpečnější způsoby, jak udělat změnu SKU virtuálních počítačů (škálování nahoru/dolů): Změna SKU virtuálních počítačů sady škálování virtuálního počítače je ze své podstaty nezabezpečené operace a proto je nutno Pokud je to možné.</span><span class="sxs-lookup"><span data-stu-id="63f04-188">Adopt safer ways to make a VM SKU change (Scale up/down): Changing the VM SKU of a Virtual Machine Scale Set is inherently an unsafe operation and so should be avoided if possible.</span></span> <span data-ttu-id="63f04-189">Tady je proces postupovat, aby se zabránilo běžné problémy.</span><span class="sxs-lookup"><span data-stu-id="63f04-189">Here is the process you can follow to avoid common issues.</span></span>
    - <span data-ttu-id="63f04-190">**Pro neprimární nodetypes:** se doporučuje vytvořit novou sadu škálování virtuálního počítače, je třeba změnit omezení umístění služby, které zahrnují nový typ sady škálování virtuálních počítačů nebo uzel a potom snížit na původní instanci sadu škálování virtuálního počítače počet na hodnotu 0, jeden uzel v čase (to je zajistit, že odebrání uzlů nemají vliv spolehlivost clusteru).</span><span class="sxs-lookup"><span data-stu-id="63f04-190">**For non-primary nodetypes:** It is recommended that you create new Virtual Machine Scale Set, modify the service placement constraint to include the new Virtual Machine Scale Set/node type and then reduce the old Virtual Machine Scale Set instance count to 0, one node at a time (this is to make sure that removal of the nodes do not impact the reliability of the cluster).</span></span>
    - <span data-ttu-id="63f04-191">**Primární NodeType:** doporučujeme neměnit SKU virtuálních počítačů typu primárního uzlu.</span><span class="sxs-lookup"><span data-stu-id="63f04-191">**For the primary nodetype:** Our recommendation is that you do not change VM SKU of the primary node type.</span></span> <span data-ttu-id="63f04-192">Pokud z důvodu pro nové SKU kapacity, doporučujeme přidávání více instancí nebo pokud je to možné, vytvořte nový cluster.</span><span class="sxs-lookup"><span data-stu-id="63f04-192">If the reason for the new SKU is capacity, we recommend adding more instances or if possible, create a new cluster.</span></span> <span data-ttu-id="63f04-193">Pokud máte žádný výběr, proveďte úpravy definici modelu nastavit škálování virtuálního počítače, aby odpovídala nové verze SKU.</span><span class="sxs-lookup"><span data-stu-id="63f04-193">If you have no choice, then make modifications to the Virtual Machine Scale Set Model definition to reflect the new SKU.</span></span> <span data-ttu-id="63f04-194">Pokud cluster obsahuje pouze jeden typ uzlu, ujistěte se, že všechny stavové aplikace reagovat na všechny [služby události životního cyklu repliky](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (jako je zablokované repliky v sestavení) v a včasné a které vaše služba repliky sestavit Doba trvání je méně než pět minut (úroveň stříbrným odolnost).</span><span class="sxs-lookup"><span data-stu-id="63f04-194">If your cluster has only one nodetype, then make sure that all your stateful applications respond to all [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion and that your service replica rebuild duration is less than five minutes (for Silver durability level).</span></span> 


> [!WARNING]
> <span data-ttu-id="63f04-195">Změna velikosti virtuálního počítače SKU pro škálovatelné sady virtuálních počítačů není spuštěna alespoň stříbrným odolnost není doporučeno.</span><span class="sxs-lookup"><span data-stu-id="63f04-195">Changing the VM SKU Size for VM Scale Sets not running at least Silver durability is not recommened.</span></span> <span data-ttu-id="63f04-196">Změna velikosti virtuálních počítačů SKU je operace destruktivní dat místní infrastrukturu.</span><span class="sxs-lookup"><span data-stu-id="63f04-196">Changing VM SKU Size is a data-destructive in-place infrastructure operation.</span></span> <span data-ttu-id="63f04-197">Bez alespoň některé možnost zpoždění nebo sledovat tuto změnu je možné, že operaci může způsobit dataloss pro stavové služby nebo jiných nepředvídaných provozní problémy, i Bezstavová zatížení.</span><span class="sxs-lookup"><span data-stu-id="63f04-197">Without at least some ability to delay or monitor this change, it is possible that the operation can cause dataloss for stateful services or cause other unforseen operational issues, even for stateless workloads.</span></span> 
> 
    
3. <span data-ttu-id="63f04-198">Udržovat minimální počet pět uzlů pro všechny sadu škálování virtuálního počítače s MR povoleno</span><span class="sxs-lookup"><span data-stu-id="63f04-198">Maintain a minimum count of five nodes for any Virtual Machine Scale Set that has MR enabled</span></span>
4. <span data-ttu-id="63f04-199">Není odstranit náhodných instance virtuálních počítačů, vždy použijte sadu škálování virtuálního počítače vertikálně funkce.</span><span class="sxs-lookup"><span data-stu-id="63f04-199">Do not delete random VM instances, always use Virtual Machine Scale Set scale down feature.</span></span> <span data-ttu-id="63f04-200">Odstranění náhodných instance virtuálních počítačů má potenciál vytváření nevyváženosti v instanci virtuálního počítače, které jsou rozloženy UD a FD.</span><span class="sxs-lookup"><span data-stu-id="63f04-200">The deletion of random VM instances has a potential of creating imbalances in the VM instance spread across UD and FD.</span></span> <span data-ttu-id="63f04-201">Tato nevyváženosti může nepříznivě ovlivnit systémy schopnost správně vyrovnávat mezi instancí a službám replik služby zatížení.</span><span class="sxs-lookup"><span data-stu-id="63f04-201">This imbalance could adversely affect the systems ability to properly load balance amongst the service instances/Service replicas.</span></span>
6. <span data-ttu-id="63f04-202">Pokud používáte škálování, nastavte pravidla, tak, aby měřítka ve (odebrání instancí virtuálního počítače) se provádějí pouze jeden uzel v čase.</span><span class="sxs-lookup"><span data-stu-id="63f04-202">If using Autoscale, then set the rules such that scale in (removing of VM instances) are done only one node at a time.</span></span> <span data-ttu-id="63f04-203">Škálování dolů více než jednu instanci v čase není bezpečná.</span><span class="sxs-lookup"><span data-stu-id="63f04-203">Scaling down more than one instance at a time is not safe.</span></span>
7. <span data-ttu-id="63f04-204">Pokud škálování dolů typu primárního uzlu, je by nikdy škálovat dolů více než jakou úroveň spolehlivosti umožňuje.</span><span class="sxs-lookup"><span data-stu-id="63f04-204">If Scaling down a primary node type, you should never scale it down more than what the reliability tier allows.</span></span>


## <a name="the-reliability-characteristics-of-the-cluster"></a><span data-ttu-id="63f04-205">Spolehlivost charakteristiky clusteru</span><span class="sxs-lookup"><span data-stu-id="63f04-205">The reliability characteristics of the cluster</span></span>
<span data-ttu-id="63f04-206">Úroveň spolehlivosti se používá k nastavení počtu repliky systémových služeb, které chcete spustit v tomto clusteru na primárním uzlu typu.</span><span class="sxs-lookup"><span data-stu-id="63f04-206">The reliability tier is used to set the number of replicas of the system services that you want to run in this cluster on the primary node type.</span></span> <span data-ttu-id="63f04-207">Další počet replik, větší spolehlivost systémové služby byly v clusteru.</span><span class="sxs-lookup"><span data-stu-id="63f04-207">The more the number of replicas, the more reliable the system services are in your cluster.</span></span>  

<span data-ttu-id="63f04-208">Úroveň spolehlivosti provést následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="63f04-208">The reliability tier can take the following values:</span></span>

* <span data-ttu-id="63f04-209">Platinové - spouštění služeb systému s cílem sady replik počet 9</span><span class="sxs-lookup"><span data-stu-id="63f04-209">Platinum - Run the System services with a target replica set count of 9</span></span>
* <span data-ttu-id="63f04-210">Zlatý - spouštění služeb systému s cílem sady replik počet 7</span><span class="sxs-lookup"><span data-stu-id="63f04-210">Gold - Run the System services with a target replica set count of 7</span></span>
* <span data-ttu-id="63f04-211">Stříbrná - spouštění služeb systému s cílem sady replik počet 5</span><span class="sxs-lookup"><span data-stu-id="63f04-211">Silver - Run the System services with a target replica set count of 5</span></span> 
* <span data-ttu-id="63f04-212">Bronzová - spouštění služeb systému s cílem sady replik počet 3</span><span class="sxs-lookup"><span data-stu-id="63f04-212">Bronze - Run the System services with a target replica set count of 3</span></span>

> [!NOTE]
> <span data-ttu-id="63f04-213">Úroveň spolehlivosti, vybraných Určuje minimální počet uzlů, které musí mít typ vašeho primárního uzlu.</span><span class="sxs-lookup"><span data-stu-id="63f04-213">The reliability tier you choose determines the minimum number of nodes your primary node type must have.</span></span> 
> 
> 


### <a name="recommendations-for-the-reliability-tier"></a><span data-ttu-id="63f04-214">Doporučení pro úroveň spolehlivosti.</span><span class="sxs-lookup"><span data-stu-id="63f04-214">Recommendations for the reliability tier.</span></span>

 <span data-ttu-id="63f04-215">Když zvětšit nebo zmenšit velikost clusteru (sum instance virtuálních počítačů v všechny typy uzlů), musíte aktualizovat spolehlivost clusteru z jedné vrstvy do druhé.</span><span class="sxs-lookup"><span data-stu-id="63f04-215">When you increase or decrease the size of your cluster (the sum of VM instances in all node types), you must update the reliability of your cluster from one tier to another.</span></span> <span data-ttu-id="63f04-216">Díky tomuto aktivuje upgrady clusteru potřeba změnit repliky služby systému nastavit počet.</span><span class="sxs-lookup"><span data-stu-id="63f04-216">Doing this triggers the cluster upgrades needed to change the system services replica set count.</span></span> <span data-ttu-id="63f04-217">Počkejte, probíhá dokončit před prováděním jiné změny do clusteru, jako je přidání uzlů upgrade.</span><span class="sxs-lookup"><span data-stu-id="63f04-217">Wait for the upgrade in progress to complete before making any other changes to the cluster, like adding nodes.</span></span>  <span data-ttu-id="63f04-218">Můžete sledovat průběh upgradu v Service Fabric Explorer nebo spuštěním [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span><span class="sxs-lookup"><span data-stu-id="63f04-218">You can monitor the progress of the upgrade on Service Fabric Explorer or by running [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span></span>

<span data-ttu-id="63f04-219">Zde je doporučení na výběr úroveň spolehlivosti.</span><span class="sxs-lookup"><span data-stu-id="63f04-219">Here is the recommendation on choosing the reliability tier.</span></span>

| <span data-ttu-id="63f04-220">**Velikost clusteru**</span><span class="sxs-lookup"><span data-stu-id="63f04-220">**Cluster Size**</span></span> | <span data-ttu-id="63f04-221">**Úroveň spolehlivosti**</span><span class="sxs-lookup"><span data-stu-id="63f04-221">**Reliability Tier**</span></span> |
| --- | --- |
| <span data-ttu-id="63f04-222">1</span><span class="sxs-lookup"><span data-stu-id="63f04-222">1</span></span> |<span data-ttu-id="63f04-223">Nezadávejte parametr úroveň spolehlivosti, systém je vypočte</span><span class="sxs-lookup"><span data-stu-id="63f04-223">Do not specify the Reliability Tier parameter, the system calculates it</span></span> |
| <span data-ttu-id="63f04-224">3</span><span class="sxs-lookup"><span data-stu-id="63f04-224">3</span></span> |<span data-ttu-id="63f04-225">Bronzová</span><span class="sxs-lookup"><span data-stu-id="63f04-225">Bronze</span></span> |
| <span data-ttu-id="63f04-226">5 nebo 6</span><span class="sxs-lookup"><span data-stu-id="63f04-226">5 or 6</span></span>|<span data-ttu-id="63f04-227">Stříbrná</span><span class="sxs-lookup"><span data-stu-id="63f04-227">Silver</span></span> |
| <span data-ttu-id="63f04-228">7 nebo 8</span><span class="sxs-lookup"><span data-stu-id="63f04-228">7 or 8</span></span> |<span data-ttu-id="63f04-229">Zlatý</span><span class="sxs-lookup"><span data-stu-id="63f04-229">Gold</span></span> |
| <span data-ttu-id="63f04-230">9 a vyšší</span><span class="sxs-lookup"><span data-stu-id="63f04-230">9 and up</span></span> |<span data-ttu-id="63f04-231">Platinové</span><span class="sxs-lookup"><span data-stu-id="63f04-231">Platinum</span></span> |




## <a name="primary-node-type---capacity-guidance"></a><span data-ttu-id="63f04-232">Typ primárního uzlu – pokyny kapacity</span><span class="sxs-lookup"><span data-stu-id="63f04-232">Primary node type - Capacity Guidance</span></span>

<span data-ttu-id="63f04-233">Tady najdete pokyny pro plánování kapacity typ primárního uzlu</span><span class="sxs-lookup"><span data-stu-id="63f04-233">Here is the guidance for planning the primary node type capacity</span></span>

1. <span data-ttu-id="63f04-234">**Počet instancí virtuálního počítače na spuštění žádné produkční úlohy v Azure:** musíte zadat minimální velikost písma primárního uzlu 5.</span><span class="sxs-lookup"><span data-stu-id="63f04-234">**Number of VM instances to run any production workload in Azure:** You must specify a minimum Primary Node type size of 5.</span></span> 
2. <span data-ttu-id="63f04-235">**Počet instancí virtuálního počítače ke spouštění testovací úlohy v Azure** můžete zadat velikost písma minimální primárního uzlu 1 nebo 3.</span><span class="sxs-lookup"><span data-stu-id="63f04-235">**Number of VM instances to run test workloads in Azure** You can specify a minimum primary node type size of 1 or 3.</span></span> <span data-ttu-id="63f04-236">Jeden uzel clusteru, spustí se zvláštní konfiguraci a tak, škálování mimo tento cluster nepodporuje.</span><span class="sxs-lookup"><span data-stu-id="63f04-236">The one node cluster, runs with a special configuration and so, scale out of that cluster is not supported.</span></span> <span data-ttu-id="63f04-237">Jeden uzel clusteru, nemá žádné spolehlivost a proto v šabloně Resource Manager, budete muset odebrat nebo nebyla určit tato konfigurace (není nastavení hodnota konfigurace není dost).</span><span class="sxs-lookup"><span data-stu-id="63f04-237">The one node cluster, has no reliability and so in your Resource Manager template, you have to remove/not specify that configuration (not setting the configuration value is not enough).</span></span> <span data-ttu-id="63f04-238">Pokud jste nastavili nastavit prostřednictvím portálu jeden uzel clusteru, pak konfigurace se automaticky stará.</span><span class="sxs-lookup"><span data-stu-id="63f04-238">If you set up the one node cluster set up via portal, then the configuration is automatically taken care of.</span></span> <span data-ttu-id="63f04-239">clustery s uzly 1 a 3 nejsou podporovány pro spuštění úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="63f04-239">1 and 3 node clusters are not supported for running production workloads.</span></span> 
3. <span data-ttu-id="63f04-240">**Virtuální počítač SKU:** typ primárního uzlu je kde spouštění systémových služeb, takže SKU virtuálních počítačů zvolíte, musí vzít v úvahu celkové ve špičce zatížení můžete naplánovat umístit do clusteru.</span><span class="sxs-lookup"><span data-stu-id="63f04-240">**VM SKU:** Primary node type is where the system services run, so the VM SKU you choose for it, must take into account the overall peak load you plan to place into the cluster.</span></span> <span data-ttu-id="63f04-241">Tady je analogie ilustrují I znamenat zde-myslíte typu primárního uzlu jako vaše "plíce", je co nabízí kyslíku k práci, a proto pokud mozku nedostane dostatek kyslíku, vaše textu vyskytne.</span><span class="sxs-lookup"><span data-stu-id="63f04-241">Here is an analogy to illustrate what I mean here - Think of the primary node type as your "Lungs", it is what provides oxygen to your brain, and so if the brain does not get enough oxygen, your body suffers.</span></span> 

<span data-ttu-id="63f04-242">Vzhledem k tomu, že požadavků na kapacitu clusteru je určen podle zatížení, které chcete spustit v clusteru, jsme nelze zadat, že vám kvalitativní pokyny pro konkrétní úlohy, ale tady najdete obecné pokyny vám pomohou začít</span><span class="sxs-lookup"><span data-stu-id="63f04-242">Since the capacity needs of a cluster is determined by workload you plan to run in the cluster, we cannot provide you with qualitative guidance for your specific workload, however here is the broad guidance to help you get started</span></span>

<span data-ttu-id="63f04-243">Pro produkční zatížení</span><span class="sxs-lookup"><span data-stu-id="63f04-243">For production workloads</span></span> 


- <span data-ttu-id="63f04-244">Doporučené SKU virtuálního počítače je standardní D3 nebo standardní D3_V2 nebo ekvivalentní minimálně 14 GB místní SSD.</span><span class="sxs-lookup"><span data-stu-id="63f04-244">The recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="63f04-245">Minimální podporované použití virtuálních počítačů SKU je standardní D1 nebo standardní D1_V2 nebo ekvivalentní minimálně 14 GB místní SSD.</span><span class="sxs-lookup"><span data-stu-id="63f04-245">The minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="63f04-246">Částečné základní SKU virtuálního počítače jako standardní A0 nejsou podporovány pro úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="63f04-246">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="63f04-247">Standardní SKU A1 není podporována pro produkční zatížení z důvodů výkonu.</span><span class="sxs-lookup"><span data-stu-id="63f04-247">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateful-workloads"></a><span data-ttu-id="63f04-248">Typ uzlu není primární - kapacity pokyny pro stavová zatížení</span><span class="sxs-lookup"><span data-stu-id="63f04-248">Non-Primary node type - Capacity Guidance for stateful workloads</span></span>

<span data-ttu-id="63f04-249">Tento průvodce je určený pro stavová zatížení pomocí Service fabric [spolehlivé kolekce nebo reliable Actors](service-fabric-choose-framework.md) , kterou používáte v typ uzlu není primární.</span><span class="sxs-lookup"><span data-stu-id="63f04-249">This guidance is for stateful Workloads using Service fabric [reliable collections or reliable Actors](service-fabric-choose-framework.md) that you are running in the non-primary node type.</span></span>


<span data-ttu-id="63f04-250">**Počet instancí virtuálního počítače:** pro produkční zatížení, které jsou stavové, doporučujeme je spustit s minimální a cílové repliky počtu 5.</span><span class="sxs-lookup"><span data-stu-id="63f04-250">**Number of VM instances:** For production workloads that are stateful, it is recommended that you run them with a minimum and target replica count of 5.</span></span> <span data-ttu-id="63f04-251">To znamená, že v stabilního stavu skončili s replikou (ze sady replik) v každé doméně selhání a upgradu domény.</span><span class="sxs-lookup"><span data-stu-id="63f04-251">This means that in steady state you end up with a replica (from a replica set) in each fault domain and upgrade domain.</span></span> <span data-ttu-id="63f04-252">Koncept vrstvy celou spolehlivost pro typ primárního uzlu je způsob, jak toto nastavení pro systémových služeb.</span><span class="sxs-lookup"><span data-stu-id="63f04-252">The whole reliability tier concept for the primary node type is a way to specify this setting for system services.</span></span> <span data-ttu-id="63f04-253">Proto stejné částky platí pro vaše stavové služby.</span><span class="sxs-lookup"><span data-stu-id="63f04-253">So the same consideration applies to your stateful services as well.</span></span>

<span data-ttu-id="63f04-254">Proto pro úlohy v produkčním prostředí minimální doporučené jiný primární uzlem typu velikost je 5, pokud je v něm spuštěná stavová zatížení.</span><span class="sxs-lookup"><span data-stu-id="63f04-254">So for production workloads, the minimum recommended non-Primary Node type size is 5, if you are running stateful workloads in it.</span></span>


<span data-ttu-id="63f04-255">**Virtuální počítač SKU:** Toto je typ uzlu spuštěným aplikační služby, takže SKU virtuálního počítače jste vybrali pro, musí vzít v úvahu zátěž ve špičce plánujete umístit do každého uzlu.</span><span class="sxs-lookup"><span data-stu-id="63f04-255">**VM SKU:** This is the node type where your application services are running, so the VM SKU you choose for it, must take into account the peak load you plan to place into each Node.</span></span> <span data-ttu-id="63f04-256">Kapacita potřebám nodetype, je dáno zatížení, které chcete spustit v clusteru, takže jsme nemůže poskytovat vám kvalitativní pokyny pro konkrétní úlohy, ale tady najdete obecné pokyny vám pomohou začít</span><span class="sxs-lookup"><span data-stu-id="63f04-256">The capacity needs of the nodetype, is determined by workload you plan to run in the cluster, so we cannot provide you with qualitative guidance for your specific workload, however here is the broad guidance to help you get started</span></span>

<span data-ttu-id="63f04-257">Pro produkční zatížení</span><span class="sxs-lookup"><span data-stu-id="63f04-257">For production workloads</span></span> 

- <span data-ttu-id="63f04-258">Doporučené SKU virtuálního počítače je standardní D3 nebo standardní D3_V2 nebo ekvivalentní minimálně 14 GB místní SSD.</span><span class="sxs-lookup"><span data-stu-id="63f04-258">The recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="63f04-259">Minimální podporované použití virtuálních počítačů SKU je standardní D1 nebo standardní D1_V2 nebo ekvivalentní minimálně 14 GB místní SSD.</span><span class="sxs-lookup"><span data-stu-id="63f04-259">The minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="63f04-260">Částečné základní SKU virtuálního počítače jako standardní A0 nejsou podporovány pro úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="63f04-260">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="63f04-261">Standardní SKU A1 konkrétně není podporován pro produkční zatížení z důvodů výkonu.</span><span class="sxs-lookup"><span data-stu-id="63f04-261">Standard A1 SKU is specifically not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateless-workloads"></a><span data-ttu-id="63f04-262">Typ uzlu není primární - pokyny Bezstavová zatížení, kapacity</span><span class="sxs-lookup"><span data-stu-id="63f04-262">Non-Primary node type - Capacity Guidance for stateless workloads</span></span>

<span data-ttu-id="63f04-263">V tomto návodu bezstavových úloh, které běží na neprimární nodetype.</span><span class="sxs-lookup"><span data-stu-id="63f04-263">This guidance of stateless Workloads that you are running on the non-primary nodetype.</span></span>

<span data-ttu-id="63f04-264">**Počet instancí virtuálního počítače:** pro produkční zatížení, které jsou bezstavové, je velikost písma minimální podporované jiný primární uzlem 2.</span><span class="sxs-lookup"><span data-stu-id="63f04-264">**Number of VM instances:** For production workloads that are stateless, the minimum supported non-Primary Node type size is 2.</span></span> <span data-ttu-id="63f04-265">Umožňuje vám spustit dvě instance bezstavové aplikace a povolení služby zůstanou platné i po ztrátě instance virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="63f04-265">This allows you to run you two stateless instances of your application and allowing your service to survive the loss of a VM instance.</span></span> 

> [!NOTE]
> <span data-ttu-id="63f04-266">Pokud váš cluster běží v service fabric starší verze než 5.6, z důvodu vadu v modulu runtime (Tento problém vyřešen v 5.6), škálování dolů typu uzlu neprimární na méně než 5, výsledkem stavu clusteru vypnutí není v pořádku, dokud zavoláte [ Odebrat ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) s názvem příslušné uzlu.</span><span class="sxs-lookup"><span data-stu-id="63f04-266">If your cluster is running on a service fabric version less than 5.6, due to a defect in the runtime (this issue is fixed in 5.6), scaling down a non-primary node type to less than 5, results in cluster health turning unhealthy, till you call [Remove-ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) with the appropriate node name.</span></span> <span data-ttu-id="63f04-267">Čtení [provést cluster Service Fabric příchozí nebo odchozí](service-fabric-cluster-scale-up-down.md) další podrobnosti</span><span class="sxs-lookup"><span data-stu-id="63f04-267">Read [perform Service Fabric cluster in or out](service-fabric-cluster-scale-up-down.md) for more details</span></span>
> 
>

<span data-ttu-id="63f04-268">**Virtuální počítač SKU:** Toto je typ uzlu spuštěným aplikační služby, takže SKU virtuálního počítače jste vybrali pro, musí vzít v úvahu zátěž ve špičce plánujete umístit do každého uzlu.</span><span class="sxs-lookup"><span data-stu-id="63f04-268">**VM SKU:** This is the node type where your application services are running, so the VM SKU you choose for it, must take into account the peak load you plan to place into each Node.</span></span> <span data-ttu-id="63f04-269">Kapacita potřebám nodetype, je dáno zatížení, které chcete spustit v clusteru, takže jsme nemůže poskytovat vám kvalitativní pokyny pro konkrétní úlohy, ale tady najdete obecné pokyny vám pomohou začít</span><span class="sxs-lookup"><span data-stu-id="63f04-269">The capacity needs of the nodetype, is determined by workload you plan to run in the cluster, So we cannot provide you with qualitative guidance for your specific workload, however here is the broad guidance to help you get started</span></span>

<span data-ttu-id="63f04-270">Pro produkční zatížení</span><span class="sxs-lookup"><span data-stu-id="63f04-270">For production workloads</span></span> 


- <span data-ttu-id="63f04-271">Doporučené SKU virtuálního počítače je standardní D3 nebo standardní D3_V2 nebo ekvivalentní.</span><span class="sxs-lookup"><span data-stu-id="63f04-271">The recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent.</span></span> 
- <span data-ttu-id="63f04-272">Minimální podporované použití virtuálních počítačů SKU je standardní D1 nebo standardní D1_V2 nebo ekvivalentní.</span><span class="sxs-lookup"><span data-stu-id="63f04-272">The minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent.</span></span> 
- <span data-ttu-id="63f04-273">Částečné základní SKU virtuálního počítače jako standardní A0 nejsou podporovány pro úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="63f04-273">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="63f04-274">Standardní SKU A1 není podporována pro produkční zatížení z důvodů výkonu.</span><span class="sxs-lookup"><span data-stu-id="63f04-274">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>

<!--Every topic should have next steps and links to the next logical set of content to keep the customer engaged-->

## <a name="next-steps"></a><span data-ttu-id="63f04-275">Další kroky</span><span class="sxs-lookup"><span data-stu-id="63f04-275">Next steps</span></span>
<span data-ttu-id="63f04-276">Po dokončení plánování kapacity a nastavení clusteru, přečtěte si následující:</span><span class="sxs-lookup"><span data-stu-id="63f04-276">Once you finish your capacity planning and set up a cluster, read the following:</span></span>

* [<span data-ttu-id="63f04-277">Zabezpečení clusteru Service Fabric</span><span class="sxs-lookup"><span data-stu-id="63f04-277">Service Fabric cluster security</span></span>](service-fabric-cluster-security.md)
* [<span data-ttu-id="63f04-278">Úvod modelu stavu Service Fabric</span><span class="sxs-lookup"><span data-stu-id="63f04-278">Service Fabric health model introduction</span></span>](service-fabric-health-introduction.md)
* [<span data-ttu-id="63f04-279">Nastavit vztah Nodetypes škálování virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="63f04-279">Relationship of Nodetypes to Virtual machine scale set</span></span>](service-fabric-cluster-nodetypes.md)

<!--Image references-->
[SystemServices]: ./media/service-fabric-cluster-capacity/SystemServices.png
