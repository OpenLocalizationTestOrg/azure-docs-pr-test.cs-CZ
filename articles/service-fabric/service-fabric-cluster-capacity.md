---
title: aaaPlanning hello kapacity clusteru Service Fabric | Microsoft Docs
description: "Informace o plánování kapacity clusteru Service Fabric. Nodetypes, odolnost a spolehlivost vrstev"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: 4c584f4a-cb1f-400c-b61f-1f797f11c982
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/24/2017
ms.author: chackdan
ms.openlocfilehash: 83272ce7fefe698eef755cf66493c2874cc3b120
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-cluster-capacity-planning-considerations"></a><span data-ttu-id="527f6-104">Aspekty plánování kapacity služby cluster Service Fabric</span><span class="sxs-lookup"><span data-stu-id="527f6-104">Service Fabric cluster capacity planning considerations</span></span>
<span data-ttu-id="527f6-105">Pro všechna produkční nasazení plánování kapacity je důležitý krok.</span><span class="sxs-lookup"><span data-stu-id="527f6-105">For any production deployment, capacity planning is an important step.</span></span> <span data-ttu-id="527f6-106">Tady jsou některé z položek hello mít tooconsider jako součást tohoto procesu.</span><span class="sxs-lookup"><span data-stu-id="527f6-106">Here are some of hello items that you have tooconsider as a part of that process.</span></span>

* <span data-ttu-id="527f6-107">toostart vašeho clusteru musí se s typy Hello počet uzlu</span><span class="sxs-lookup"><span data-stu-id="527f6-107">hello number of node types your cluster needs toostart out with</span></span>
* <span data-ttu-id="527f6-108">Hello vlastnosti každého typu uzlu (velikost, primární, internetový bod, počet virtuálních počítačů, atd.)</span><span class="sxs-lookup"><span data-stu-id="527f6-108">hello properties of each of node type (size, primary, internet facing, number of VMs, etc.)</span></span>
* <span data-ttu-id="527f6-109">Hello spolehlivost a odolnost vlastnosti clusteru hello</span><span class="sxs-lookup"><span data-stu-id="527f6-109">hello reliability and durability characteristics of hello cluster</span></span>

<span data-ttu-id="527f6-110">Stručně dejte nám zkontrolujte, každá z těchto položek.</span><span class="sxs-lookup"><span data-stu-id="527f6-110">Let us briefly review each of these items.</span></span>

## <a name="hello-number-of-node-types-your-cluster-needs-toostart-out-with"></a><span data-ttu-id="527f6-111">toostart vašeho clusteru musí se s typy Hello počet uzlu</span><span class="sxs-lookup"><span data-stu-id="527f6-111">hello number of node types your cluster needs toostart out with</span></span>
<span data-ttu-id="527f6-112">Nejprve je třeba toofigure jaké hello clusteru, kterou vytváříte, bude toobe používá pro a plánování toho, jaké typy aplikací toodeploy do tohoto clusteru.</span><span class="sxs-lookup"><span data-stu-id="527f6-112">First, you need toofigure out what hello cluster you are creating is going toobe used for and what kinds of applications you are planning toodeploy into this cluster.</span></span> <span data-ttu-id="527f6-113">Pokud si nejste zrušte cíleně hello hello clusteru, se pravděpodobně ještě připraveni kapacity hello tooenter procesu plánování.</span><span class="sxs-lookup"><span data-stu-id="527f6-113">If you are not clear on hello purpose of hello cluster, you are most likely not yet ready tooenter hello capacity planning process.</span></span>

<span data-ttu-id="527f6-114">Vytvořte hello počet typy uzlů, které cluster potřebuje toostart se s.</span><span class="sxs-lookup"><span data-stu-id="527f6-114">Establish hello number of node types your cluster needs toostart out with.</span></span>  <span data-ttu-id="527f6-115">Každý typ uzlu je namapované tooa sadu škálování virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="527f6-115">Each node type is mapped tooa Virtual Machine Scale Set.</span></span> <span data-ttu-id="527f6-116">Každý typ uzlu je možné škálovat pak nebo dolů nezávisle, mají různé sady otevřené porty a může mít různé kapacity metriky.</span><span class="sxs-lookup"><span data-stu-id="527f6-116">Each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="527f6-117">Proto rozhodnutí hello hello počtu typy uzlů v podstatě dodává dolů toohello následující aspekty:</span><span class="sxs-lookup"><span data-stu-id="527f6-117">So hello decision of hello number of node types essentially comes down toohello following considerations:</span></span>

* <span data-ttu-id="527f6-118">Má vaše aplikace více služeb a některý z nich potřebovat toobe veřejné nebo internetové?</span><span class="sxs-lookup"><span data-stu-id="527f6-118">Does your application have multiple services, and do any of them need toobe public or internet facing?</span></span> <span data-ttu-id="527f6-119">Typická aplikace obsahují služby front-endu brány, která přijímá vstup z klienta a jeden nebo více back endové služby, které komunikují s hello front-endové služby.</span><span class="sxs-lookup"><span data-stu-id="527f6-119">Typical applications contain a front-end gateway service that receives input from a client, and one or more back-end services that communicate with hello front-end services.</span></span> <span data-ttu-id="527f6-120">Proto v tomto případě se vám stát tím, že mají alespoň dva typy uzlů.</span><span class="sxs-lookup"><span data-stu-id="527f6-120">So in this case, you end up having at least two node types.</span></span>
* <span data-ttu-id="527f6-121">Mají vašim službám (které tvoří vaši aplikaci) musí jiné infrastruktuře například větší paměti RAM nebo vyšší cyklů procesoru?</span><span class="sxs-lookup"><span data-stu-id="527f6-121">Do your services (that make up your application) have different infrastructure needs such as greater RAM or higher CPU cycles?</span></span> <span data-ttu-id="527f6-122">Dejte nám Předpokládejme třeba, že budete chtít toodeploy obsahuje front-endová služba a služba back-end aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="527f6-122">For example, let us assume that hello application that you want toodeploy contains a front-end service and a back-end service.</span></span> <span data-ttu-id="527f6-123">Hello front-endovou službu můžete spustit na menší VMs (velikosti virtuálních počítačů jako D2), které mají toohello otevřené porty Internetu.</span><span class="sxs-lookup"><span data-stu-id="527f6-123">hello front-end service can run on smaller VMs (VM sizes like D2) that have ports open toohello internet.</span></span>  <span data-ttu-id="527f6-124">Hello back endové služby, ale výpočet náročné na prostředky a potřebuje toorun na větší VMs (s velikostí virtuálního počítače jako D4 D6, D15), které nejsou internet směrem k.</span><span class="sxs-lookup"><span data-stu-id="527f6-124">hello back-end service, however, is computation intensive and needs toorun on larger VMs (with VM sizes like D4, D6, D15) that are not internet facing.</span></span>
  
  <span data-ttu-id="527f6-125">V tomto příkladu i když se rozhodnete tooput všechny hello služby na jeden uzel typu, doporučujeme umístit je v clusteru se dvěma typy uzlů.</span><span class="sxs-lookup"><span data-stu-id="527f6-125">In this example, although you can decide tooput all hello services on one node type, we recommended that you place them in a cluster with two node types.</span></span>  <span data-ttu-id="527f6-126">To umožňuje pro každý typ toohave jedinečné vlastnosti uzlu například připojení k Internetu nebo velikost virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="527f6-126">This allows for each node type toohave distinct properties such as internet connectivity or VM size.</span></span> <span data-ttu-id="527f6-127">Hello počet virtuálních počítačů je možné rozšířit nezávisle, stejně.</span><span class="sxs-lookup"><span data-stu-id="527f6-127">hello number of VMs can be scaled independently, as well.</span></span>  
* <span data-ttu-id="527f6-128">Vzhledem k tomu, že nelze předpovídat budoucí hello, pomocí faktů, které znáte z a rozhodněte o hello počet typy uzlů, které vaše aplikace potřebují toostart s.</span><span class="sxs-lookup"><span data-stu-id="527f6-128">Since you cannot predict hello future, go with facts you know of and decide on hello number of node types that your applications need toostart with.</span></span> <span data-ttu-id="527f6-129">Vždy můžete přidat nebo odebrat typy uzlů později.</span><span class="sxs-lookup"><span data-stu-id="527f6-129">You can always add or remove node types later.</span></span> <span data-ttu-id="527f6-130">Cluster Service Fabric musí mít alespoň jeden uzel typu.</span><span class="sxs-lookup"><span data-stu-id="527f6-130">A Service Fabric cluster must have at least one node type.</span></span>

## <a name="hello-properties-of-each-node-type"></a><span data-ttu-id="527f6-131">Hello vlastnosti každého typu uzlu</span><span class="sxs-lookup"><span data-stu-id="527f6-131">hello properties of each node type</span></span>
<span data-ttu-id="527f6-132">Hello **typ uzlu** se dají považovat za ekvivalentní tooroles v cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="527f6-132">hello **node type** can be seen as equivalent tooroles in Cloud Services.</span></span> <span data-ttu-id="527f6-133">Typy uzlů definovat velikosti virtuálních počítačů hello hello počet virtuálních počítačů a jejich vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="527f6-133">Node types define hello VM sizes, hello number of VMs, and their properties.</span></span> <span data-ttu-id="527f6-134">Každý typ uzlu, který je definován v clusteru Service Fabric je nastavený jako sada škálování samostatný virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="527f6-134">Every node type that is defined in a Service Fabric cluster is set up as a separate virtual machine scale set.</span></span> <span data-ttu-id="527f6-135">Škálovací sadu virtuálních počítačů je prostředek výpočtů Azure můžete použít toodeploy a spravovat kolekci virtuálních počítačů jako sada.</span><span class="sxs-lookup"><span data-stu-id="527f6-135">Virtual machine scale set is an Azure compute resource you can use toodeploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="527f6-136">Definovaný jako škálovací sadu virtuálních počítačů distinct, každý typ uzlu je možné škálovat pak nebo dolů nezávisle, mají různé sady otevřené porty a může mít různé kapacity metriky.</span><span class="sxs-lookup"><span data-stu-id="527f6-136">Being defined as distinct virtual machine scale set, each node type can then be scaled up or down independently, have different sets of ports open, and can have different capacity metrics.</span></span>

<span data-ttu-id="527f6-137">Čtení [tento dokument](service-fabric-cluster-nodetypes.md) Další informace o vztahu hello Nodetypes toovirtual škálovací sady počítačů, jak tooRDP do jedné instance hello otevřít nové porty atd.</span><span class="sxs-lookup"><span data-stu-id="527f6-137">Read [this document](service-fabric-cluster-nodetypes.md) for more details on hello relationship of Nodetypes toovirtual machine scale set, how tooRDP into one of hello instances, open new ports etc.</span></span>

<span data-ttu-id="527f6-138">Cluster může mít více než jeden typ uzlu, ale typ primárního uzlu hello (hello první, kterou definujete na portálu hello) musí mít aspoň pět virtuálních počítačů pro clustery používat pro produkční zatížení (nebo minimálně tři virtuální počítače pro testovacích clusterů).</span><span class="sxs-lookup"><span data-stu-id="527f6-138">Your cluster can have more than one node type, but hello primary node type (hello first one that you define on hello portal) must have at least five VMs for clusters used for production workloads (or at least three VMs for test clusters).</span></span> <span data-ttu-id="527f6-139">Při vytváření clusteru hello pomocí šablony Resource Manageru, poté vyhledejte **je primární** atribut v definici typu uzlu hello.</span><span class="sxs-lookup"><span data-stu-id="527f6-139">If you are creating hello cluster using a Resource Manager template, then look for **is Primary** attribute under hello node type definition.</span></span> <span data-ttu-id="527f6-140">Hello primárního uzlu typ je typ uzlu hello, kde jsou umístěny Service Fabric systémových služeb.</span><span class="sxs-lookup"><span data-stu-id="527f6-140">hello primary node type is hello node type where Service Fabric system services are placed.</span></span>  

### <a name="primary-node-type"></a><span data-ttu-id="527f6-141">Typ primárního uzlu</span><span class="sxs-lookup"><span data-stu-id="527f6-141">Primary node type</span></span>
<span data-ttu-id="527f6-142">Pro cluster s několika typy uzlů budete potřebovat toochoose jeden z nich toobe primární.</span><span class="sxs-lookup"><span data-stu-id="527f6-142">For a cluster with multiple node types, you need toochoose one of them toobe primary.</span></span> <span data-ttu-id="527f6-143">Zde jsou hello vlastnosti typu primárního uzlu:</span><span class="sxs-lookup"><span data-stu-id="527f6-143">Here are hello characteristics of a primary node type:</span></span>

* <span data-ttu-id="527f6-144">Hello **minimální velikosti virtuálních počítačů** pro typ hello primárním uzlu, který je určen podle hello **odolnost vrstvy** zvolíte.</span><span class="sxs-lookup"><span data-stu-id="527f6-144">hello **minimum size of VMs** for hello primary node type is determined by hello **durability tier** you choose.</span></span> <span data-ttu-id="527f6-145">Výchozí hodnota Hello pro vrstvu odolnost hello je Bronzová.</span><span class="sxs-lookup"><span data-stu-id="527f6-145">hello default for hello durability tier is Bronze.</span></span> <span data-ttu-id="527f6-146">Posuňte se dolů podrobné informace o jaké úroveň odolnosti hello je a hello hodnoty, které může trvat.</span><span class="sxs-lookup"><span data-stu-id="527f6-146">Scroll down for details on what hello durability tier is and hello values it can take.</span></span>  
* <span data-ttu-id="527f6-147">Hello **minimální počet virtuálních počítačů** pro typ hello primárním uzlu, který je určen podle hello **úroveň spolehlivosti** zvolíte.</span><span class="sxs-lookup"><span data-stu-id="527f6-147">hello **minimum number of VMs** for hello primary node type is determined by hello **reliability tier** you choose.</span></span> <span data-ttu-id="527f6-148">Výchozí hodnota Hello pro úroveň spolehlivosti hello je Silver.</span><span class="sxs-lookup"><span data-stu-id="527f6-148">hello default for hello reliability tier is Silver.</span></span> <span data-ttu-id="527f6-149">Posuňte se dolů podrobné informace o jaké úroveň spolehlivosti hello je a hello hodnoty, které může trvat.</span><span class="sxs-lookup"><span data-stu-id="527f6-149">Scroll down for details on what hello reliability tier is and hello values it can take.</span></span> 


* <span data-ttu-id="527f6-150">Hello Service Fabric systémových služeb (například hello Správce clusteru služby nebo služby úložiště Image Store) jsou umístěny na primárním uzlu, který typ hello a Ano hello spolehlivost a odolnost hello clusteru je dáno hello spolehlivost vrstvy hodnota a odolnost vrstvy hodnota, kterou jste vybrali pro typ hello primárního uzlu.</span><span class="sxs-lookup"><span data-stu-id="527f6-150">hello Service Fabric system services (for example, hello Cluster Manager service or Image Store service) are placed on hello primary node type and so hello reliability and durability of hello cluster is determined by hello reliability tier value and durability tier value you select for hello primary node type.</span></span>

![<span data-ttu-id="527f6-151">Snímek obrazovky, který má dva typy uzlů clusteru</span><span class="sxs-lookup"><span data-stu-id="527f6-151">Screen shot of a cluster that has two Node Types</span></span> ][SystemServices]

### <a name="non-primary-node-type"></a><span data-ttu-id="527f6-152">Typ uzlu není primární</span><span class="sxs-lookup"><span data-stu-id="527f6-152">Non-primary node type</span></span>
<span data-ttu-id="527f6-153">Pro cluster s několika typy uzlů je jeden typ primárního uzlu a rest hello z nich jsou není primární.</span><span class="sxs-lookup"><span data-stu-id="527f6-153">For a cluster with multiple node types, there is one primary node type and hello rest of them are non-primary.</span></span> <span data-ttu-id="527f6-154">Zde jsou hello vlastnosti uzlu není primární typu:</span><span class="sxs-lookup"><span data-stu-id="527f6-154">Here are hello characteristics of a non-primary node type:</span></span>

* <span data-ttu-id="527f6-155">minimální velikost Hello virtuálních počítačů pro tento typ uzlu je určen podle hello odolnost vrstvy, které zvolíte.</span><span class="sxs-lookup"><span data-stu-id="527f6-155">hello minimum size of VMs for this node type is determined by hello durability tier you choose.</span></span> <span data-ttu-id="527f6-156">Výchozí hodnota Hello pro vrstvu odolnost hello je Bronzová.</span><span class="sxs-lookup"><span data-stu-id="527f6-156">hello default for hello durability tier is Bronze.</span></span> <span data-ttu-id="527f6-157">Posuňte se dolů podrobné informace o jaké úroveň odolnosti hello je a hello hodnoty, které může trvat.</span><span class="sxs-lookup"><span data-stu-id="527f6-157">Scroll down for details on what hello durability tier is and hello values it can take.</span></span>  
* <span data-ttu-id="527f6-158">Hello minimální počet virtuálních počítačů pro tento typ uzlu může být jedna.</span><span class="sxs-lookup"><span data-stu-id="527f6-158">hello minimum number of VMs for this node type can be one.</span></span> <span data-ttu-id="527f6-159">Měli byste ale vybrat toto číslo na základě počtu hello repliky hello aplikací nebo služeb, které chcete toorun v tomto typu uzlu.</span><span class="sxs-lookup"><span data-stu-id="527f6-159">However you should choose this number based on hello number of replicas of hello application/services that you would like toorun in this node type.</span></span> <span data-ttu-id="527f6-160">Po nasazení hello clusteru může být zvýšena Hello počet virtuálních počítačů v uzlu typu.</span><span class="sxs-lookup"><span data-stu-id="527f6-160">hello number of VMs in a node type can be increased after you have deployed hello cluster.</span></span>

## <a name="hello-durability-characteristics-of-hello-cluster"></a><span data-ttu-id="527f6-161">Vlastnosti odolnost Hello hello clusteru</span><span class="sxs-lookup"><span data-stu-id="527f6-161">hello durability characteristics of hello cluster</span></span>
<span data-ttu-id="527f6-162">úroveň odolnosti Hello je použité tooindicate toohello systému hello pověření, která mají virtuální počítače se základní infrastrukturu Azure hello.</span><span class="sxs-lookup"><span data-stu-id="527f6-162">hello durability tier is used tooindicate toohello system hello privileges that your VMs have with hello underlying Azure infrastructure.</span></span> <span data-ttu-id="527f6-163">V primárním uzlu, který typ hello toto oprávnění umožňuje Service Fabric toopause žádosti úrovni infrastruktury virtuálních počítačů (například restartování virtuálního počítače, obnovení z Image virtuálního počítače nebo migrace virtuálních počítačů), vliv hello požadavky kvora pro hello systémových služeb a vaše stavové služby.</span><span class="sxs-lookup"><span data-stu-id="527f6-163">In hello primary node type, this privilege allows Service Fabric toopause any VM level infrastructure request (such as a VM reboot, VM reimage, or VM migration) that impact hello quorum requirements for hello system services and your stateful services.</span></span> <span data-ttu-id="527f6-164">V hello typy uzel není primární toto oprávnění umožňuje Service Fabric toopause všechny virtuální počítač úrovně infrastruktury žádosti restartování virtuálního počítače, obnovení z Image virtuálních počítačů, virtuálních počítačů migrace atd., které mají vliv hello požadavky kvora pro váš stavové služby spuštěné v ní.</span><span class="sxs-lookup"><span data-stu-id="527f6-164">In hello non-primary node types, this privilege allows Service Fabric toopause any VM level infrastructure requests like VM reboot, VM reimage, VM migration etc., that impact hello quorum requirements for your stateful services running in it.</span></span>

<span data-ttu-id="527f6-165">Toto oprávnění je vyjádřena v hello následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="527f6-165">This privilege is expressed in hello following values:</span></span>

* <span data-ttu-id="527f6-166">Zlatý - hello infrastruktury, které úlohy můžete pozastavit po dobu dvou hodin za UD.</span><span class="sxs-lookup"><span data-stu-id="527f6-166">Gold - hello infrastructure Jobs can be paused for a duration of two hours per UD.</span></span> <span data-ttu-id="527f6-167">Gold odolnost můžete povolit jenom pro SKU úplné uzlu virtuálního počítače jako D15_V2 G5 atd.</span><span class="sxs-lookup"><span data-stu-id="527f6-167">Gold durability can be enabled only on full node VM skus like D15_V2, G5 etc.</span></span>
* <span data-ttu-id="527f6-168">Stříbrná - hello infrastruktury úlohy můžete pozastavit po dobu 10 minut na jednu UD a je k dispozici na všechny standardní virtuální počítače z jediného jádra a vyšší.</span><span class="sxs-lookup"><span data-stu-id="527f6-168">Silver - hello infrastructure Jobs can be paused for a duration of 10 minutes per UD and is available on all standard VMs of single core and above.</span></span>
* <span data-ttu-id="527f6-169">Bronzová - žádná oprávnění.</span><span class="sxs-lookup"><span data-stu-id="527f6-169">Bronze - No privileges.</span></span> <span data-ttu-id="527f6-170">Toto je výchozí hello.</span><span class="sxs-lookup"><span data-stu-id="527f6-170">This is hello default.</span></span> <span data-ttu-id="527f6-171">Tato úroveň odolnosti používat jenom pro typy uzlů, které používají _pouze_ Bezstavová zatížení.</span><span class="sxs-lookup"><span data-stu-id="527f6-171">Only use this durability level for Node Types that run _only_ stateless workloads.</span></span> 

> [!WARNING]
> <span data-ttu-id="527f6-172">NodeTypes s bronzová odolnost získat _žádné oprávnění_.</span><span class="sxs-lookup"><span data-stu-id="527f6-172">NodeTypes running with Bronze durability obtain _no privileges_.</span></span> <span data-ttu-id="527f6-173">To znamená, že nebude infrastruktury úlohy, které mají vliv Bezstavová zatížení zastavit nebo zpoždění.</span><span class="sxs-lookup"><span data-stu-id="527f6-173">This means that infrastructure jobs that impact your stateless workloads will not be stopped or delayed.</span></span> <span data-ttu-id="527f6-174">Je možné tyto úlohy může ovlivnit stále úlohy, způsobuje výpadek nebo jiných problémů.</span><span class="sxs-lookup"><span data-stu-id="527f6-174">It is possible that such jobs can still impact your workloads, causing downtime or other issues.</span></span> <span data-ttu-id="527f6-175">Pro všechny řazení produkční úlohy běží s aspoň se doporučuje Silver.</span><span class="sxs-lookup"><span data-stu-id="527f6-175">For any sort of production workload, running with at least Silver is recommended.</span></span> 
> 

<span data-ttu-id="527f6-176">Získáte úroveň toochoose odolnost pro každou z vaší typy uzlů. Můžete zvolit jeden typ uzlu toohave odolnost úrovně Gold nebo stříbrný a hello jiné mají bronzová ve hello stejného clusteru. **Musí zachovat minimální počet uzlů 5 pro jakýkoli uzel typ, který má odolnost zlatý nebo silver**.</span><span class="sxs-lookup"><span data-stu-id="527f6-176">You get toochoose durability level for each of your node-types.You can choose one node-type toohave a durability level of Gold or silver and hello other have Bronze in hello same cluster.**You must maintain a minimum count of 5 nodes for any node-type that has a durability of Gold or silver**.</span></span> 

<span data-ttu-id="527f6-177">**Výhody používání úrovně Silver nebo zlatý odolnost**</span><span class="sxs-lookup"><span data-stu-id="527f6-177">**Advantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="527f6-178">Snižuje hello počet požadovaných kroků v rámci škálování operace (to znamená, deaktivace uzlu a odebrat ServiceFabricNodeState se nazývá automaticky)</span><span class="sxs-lookup"><span data-stu-id="527f6-178">Reduces hello number of required steps in a scale-in operation (that is, node deactivation and Remove-ServiceFabricNodeState is called automatically)</span></span>
2. <span data-ttu-id="527f6-179">Snižuje riziko hello ztráty dat z důvodu tooa spouštěná zákazníka na místě virtuálních počítačů SKU změnu operací, o infrastrukturu Azure.</span><span class="sxs-lookup"><span data-stu-id="527f6-179">Reduces hello risk of data loss due tooa customer-initiated in-place VM SKU change operation or Azure infrastructure operations.</span></span>
     
<span data-ttu-id="527f6-180">**Nevýhody použití úrovně Silver nebo zlatý odolnost**</span><span class="sxs-lookup"><span data-stu-id="527f6-180">**Disadvantages of using Silver or Gold durability levels**</span></span>
 
1. <span data-ttu-id="527f6-181">Nasazení tooyour sadu škálování virtuálního počítače a dalších souvisejících prostředků Azure) může být zpoždění, můžete vypršení časového limitu nebo může být blokovány zcela problémy v clusteru nebo na úrovni infrastruktury hello.</span><span class="sxs-lookup"><span data-stu-id="527f6-181">Deployments tooyour Virtual Machine Scale Set and other related Azure resources) can be delayed, can time out, or can be blocked entirely by problems in your cluster or at hello infrastructure level.</span></span> 
2. <span data-ttu-id="527f6-182">Zvyšuje hello počet [události životního cyklu repliky](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (například primární záměna) z důvodu tooautomated uzlu deaktivací během operací infrastruktury Azure.</span><span class="sxs-lookup"><span data-stu-id="527f6-182">Increases hello number of [replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle ) (for example, primary swaps) due tooautomated node deactivations during Azure infrastructure operations.</span></span>

### <a name="recommendations-on-when-toouse-silver-or-gold-durability-levels"></a><span data-ttu-id="527f6-183">Doporučení když odolnost úrovně Silver nebo zlatý toouse</span><span class="sxs-lookup"><span data-stu-id="527f6-183">Recommendations on when toouse Silver or Gold durability levels</span></span>

<span data-ttu-id="527f6-184">Použití Silver nebo zlatý odolnost pro všechny uzly typy stateful tohoto hostitele služby můžete očekávat při tooscale (snížit počet instancí virtuálního počítače) často, a si přejete, operace nasazení se odloží považuje zjednodušit tyto operace škálování v.</span><span class="sxs-lookup"><span data-stu-id="527f6-184">Use Silver or Gold durability for all node types that host stateful services you expect tooscale-in (reduce VM instance count) frequently, and you would prefer that deployment operations be delayed in favor of simplifying these scale-in operations.</span></span> <span data-ttu-id="527f6-185">scénáře Hello Škálováním na více systémů (Přidání instance virtuálních počítačů) do zvoleného hello odolnost vrstvy nejsou dostupné, jenom škálování v nepodporuje.</span><span class="sxs-lookup"><span data-stu-id="527f6-185">hello scale-out scenarios (adding VMs instances) do not play into your choice of hello durability tier, only scale-in does.</span></span>

### <a name="operational-recommendations-for-hello-node-type-that-you-have-set-toosilver-or-gold-durability-level"></a><span data-ttu-id="527f6-186">Provozní doporučení pro uzel hello zadejte, že jste si nastavili toosilver nebo zlatý odolnost úrovně.</span><span class="sxs-lookup"><span data-stu-id="527f6-186">Operational Recommendations for hello node type that you have set toosilver or gold durability level.</span></span>

1. <span data-ttu-id="527f6-187">Zachovat cluster a aplikace v pořádku po celou dobu a ujistěte se, že aplikace reagovat tooall [služby události životního cyklu repliky](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (jako jsou repliky v sestavení zasekl) včas.</span><span class="sxs-lookup"><span data-stu-id="527f6-187">Keep your cluster and applications healthy at all times, and make sure that applications respond tooall [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion.</span></span>
2. <span data-ttu-id="527f6-188">Přijmout bezpečnější způsoby toomake změnu SKU virtuálních počítačů (škálování nahoru/dolů): Změna hello skladová položka virtuálních počítačů sady škálování virtuálního počítače je ze své podstaty nezabezpečené operace a tak je nutno Pokud je to možné.</span><span class="sxs-lookup"><span data-stu-id="527f6-188">Adopt safer ways toomake a VM SKU change (Scale up/down): Changing hello VM SKU of a Virtual Machine Scale Set is inherently an unsafe operation and so should be avoided if possible.</span></span> <span data-ttu-id="527f6-189">Tady je proces hello provedením tooavoid běžné problémy.</span><span class="sxs-lookup"><span data-stu-id="527f6-189">Here is hello process you can follow tooavoid common issues.</span></span>
    - <span data-ttu-id="527f6-190">**Pro neprimární nodetypes:** se doporučuje vytvořit novou sadu škálování virtuálního počítače, úpravě hello umístění omezení tooinclude hello nové sady škálování virtuálních počítačů nebo uzel typ služby a potom snížit hello původní sadu škálování virtuálního počítače instance počet too0, jeden uzel v čase (to je toomake jistotu, že odebrání uzlů hello nemají vliv hello spolehlivost hello clusteru).</span><span class="sxs-lookup"><span data-stu-id="527f6-190">**For non-primary nodetypes:** It is recommended that you create new Virtual Machine Scale Set, modify hello service placement constraint tooinclude hello new Virtual Machine Scale Set/node type and then reduce hello old Virtual Machine Scale Set instance count too0, one node at a time (this is toomake sure that removal of hello nodes do not impact hello reliability of hello cluster).</span></span>
    - <span data-ttu-id="527f6-191">**Primární NodeType hello:** doporučujeme neměnit SKU virtuálních počítačů typu hello primárního uzlu.</span><span class="sxs-lookup"><span data-stu-id="527f6-191">**For hello primary nodetype:** Our recommendation is that you do not change VM SKU of hello primary node type.</span></span> <span data-ttu-id="527f6-192">Pokud hello důvodu hello nové SKU je kapacity, doporučujeme přidávání více instancí nebo pokud je to možné, vytvořte nový cluster.</span><span class="sxs-lookup"><span data-stu-id="527f6-192">If hello reason for hello new SKU is capacity, we recommend adding more instances or if possible, create a new cluster.</span></span> <span data-ttu-id="527f6-193">Pokud máte žádný výběr, proveďte úpravy toohello modelu nastavit škálování virtuálního počítače definice tooreflect hello nové SKU.</span><span class="sxs-lookup"><span data-stu-id="527f6-193">If you have no choice, then make modifications toohello Virtual Machine Scale Set Model definition tooreflect hello new SKU.</span></span> <span data-ttu-id="527f6-194">Pokud cluster obsahuje pouze jeden typ uzlu, ujistěte se, že všechny stavové aplikace reagovat tooall [služby události životního cyklu repliky](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (jako je zablokované repliky v sestavení) v a včasné a které vaše služba repliky sestavit Doba trvání je méně než pět minut (úroveň stříbrným odolnost).</span><span class="sxs-lookup"><span data-stu-id="527f6-194">If your cluster has only one nodetype, then make sure that all your stateful applications respond tooall [Service replica lifecycle events](service-fabric-reliable-services-advanced-usage.md#stateful-service-replica-lifecycle) (like replica in build is stuck) in a timely fashion and that your service replica rebuild duration is less than five minutes (for Silver durability level).</span></span> 


> [!WARNING]
> <span data-ttu-id="527f6-195">Změna hello velikost virtuálního počítače SKU pro Škálovací sady virtuálních počítačů není spuštěna alespoň stříbrným odolnost není doporučeno.</span><span class="sxs-lookup"><span data-stu-id="527f6-195">Changing hello VM SKU Size for VM Scale Sets not running at least Silver durability is not recommened.</span></span> <span data-ttu-id="527f6-196">Změna velikosti virtuálních počítačů SKU je operace destruktivní dat místní infrastrukturu.</span><span class="sxs-lookup"><span data-stu-id="527f6-196">Changing VM SKU Size is a data-destructive in-place infrastructure operation.</span></span> <span data-ttu-id="527f6-197">Bez alespoň některé toodelay možnost nebo sledování tuto změnu, je možné, že hello operaci může způsobit, že dataloss pro stavové služby nebo způsobit další provozní problémy nepředvídaných, i pro Bezstavová zatížení.</span><span class="sxs-lookup"><span data-stu-id="527f6-197">Without at least some ability toodelay or monitor this change, it is possible that hello operation can cause dataloss for stateful services or cause other unforseen operational issues, even for stateless workloads.</span></span> 
> 
    
3. <span data-ttu-id="527f6-198">Udržovat minimální počet pět uzlů pro všechny sadu škálování virtuálního počítače s MR povoleno</span><span class="sxs-lookup"><span data-stu-id="527f6-198">Maintain a minimum count of five nodes for any Virtual Machine Scale Set that has MR enabled</span></span>
4. <span data-ttu-id="527f6-199">Není odstranit náhodných instance virtuálních počítačů, vždy použijte sadu škálování virtuálního počítače vertikálně funkce.</span><span class="sxs-lookup"><span data-stu-id="527f6-199">Do not delete random VM instances, always use Virtual Machine Scale Set scale down feature.</span></span> <span data-ttu-id="527f6-200">odstranění Hello náhodných instancí virtuálních počítačů má potenciál vytváření nevyváženosti v instanci virtuálního počítače hello rozloženy UD a FD.</span><span class="sxs-lookup"><span data-stu-id="527f6-200">hello deletion of random VM instances has a potential of creating imbalances in hello VM instance spread across UD and FD.</span></span> <span data-ttu-id="527f6-201">Tato nevyváženosti může nepříznivě ovlivnit hello systémy možnost tooproperly nástroj pro vyrovnávání zatížení mezi hello služby instancí a službám repliky.</span><span class="sxs-lookup"><span data-stu-id="527f6-201">This imbalance could adversely affect hello systems ability tooproperly load balance amongst hello service instances/Service replicas.</span></span>
6. <span data-ttu-id="527f6-202">Pokud používáte škálování, potom nastavte pravidla hello tak, aby měřítka ve (odebrání instancí virtuálního počítače) se provádějí pouze jeden uzel v čase.</span><span class="sxs-lookup"><span data-stu-id="527f6-202">If using Autoscale, then set hello rules such that scale in (removing of VM instances) are done only one node at a time.</span></span> <span data-ttu-id="527f6-203">Škálování dolů více než jednu instanci v čase není bezpečná.</span><span class="sxs-lookup"><span data-stu-id="527f6-203">Scaling down more than one instance at a time is not safe.</span></span>
7. <span data-ttu-id="527f6-204">Pokud škálování dolů typu primárního uzlu, je by nikdy škálovat dolů více než jakou úroveň spolehlivosti hello umožňuje.</span><span class="sxs-lookup"><span data-stu-id="527f6-204">If Scaling down a primary node type, you should never scale it down more than what hello reliability tier allows.</span></span>


## <a name="hello-reliability-characteristics-of-hello-cluster"></a><span data-ttu-id="527f6-205">Vlastnosti spolehlivost Hello hello clusteru</span><span class="sxs-lookup"><span data-stu-id="527f6-205">hello reliability characteristics of hello cluster</span></span>
<span data-ttu-id="527f6-206">Hello úroveň spolehlivosti se používá tooset hello počet replik, které chcete toorun v tomto clusteru na primárním uzlu, který typ hello hello systémových služeb.</span><span class="sxs-lookup"><span data-stu-id="527f6-206">hello reliability tier is used tooset hello number of replicas of hello system services that you want toorun in this cluster on hello primary node type.</span></span> <span data-ttu-id="527f6-207">Dobrý den další hello počet replik, hello spolehlivější hello systémové služby byly v clusteru.</span><span class="sxs-lookup"><span data-stu-id="527f6-207">hello more hello number of replicas, hello more reliable hello system services are in your cluster.</span></span>  

<span data-ttu-id="527f6-208">úroveň spolehlivosti Hello může trvat hello následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="527f6-208">hello reliability tier can take hello following values:</span></span>

* <span data-ttu-id="527f6-209">Platinové - spustit hello systémových služeb s replikou cíl nastavit počet 9</span><span class="sxs-lookup"><span data-stu-id="527f6-209">Platinum - Run hello System services with a target replica set count of 9</span></span>
* <span data-ttu-id="527f6-210">Zlatý - spustit hello systémových služeb s replikou cíl nastavit počet 7</span><span class="sxs-lookup"><span data-stu-id="527f6-210">Gold - Run hello System services with a target replica set count of 7</span></span>
* <span data-ttu-id="527f6-211">Stříbrná - spustit hello systémových služeb s počtem sady replik cíl 5</span><span class="sxs-lookup"><span data-stu-id="527f6-211">Silver - Run hello System services with a target replica set count of 5</span></span> 
* <span data-ttu-id="527f6-212">Bronzová - spustit hello systémových služeb s počtem sady replik cíl 3</span><span class="sxs-lookup"><span data-stu-id="527f6-212">Bronze - Run hello System services with a target replica set count of 3</span></span>

> [!NOTE]
> <span data-ttu-id="527f6-213">úroveň spolehlivosti Hello, vybraných určuje hello minimální počet uzlů, které musí mít typ vašeho primárního uzlu.</span><span class="sxs-lookup"><span data-stu-id="527f6-213">hello reliability tier you choose determines hello minimum number of nodes your primary node type must have.</span></span> 
> 
> 


### <a name="recommendations-for-hello-reliability-tier"></a><span data-ttu-id="527f6-214">Doporučení pro úroveň spolehlivosti hello.</span><span class="sxs-lookup"><span data-stu-id="527f6-214">Recommendations for hello reliability tier.</span></span>

 <span data-ttu-id="527f6-215">Když zvětšit nebo zmenšit velikost hello clusteru (hello součet instance virtuálních počítačů v všechny typy uzlů), musíte aktualizovat hello spolehlivost clusteru z jedné vrstvy tooanother.</span><span class="sxs-lookup"><span data-stu-id="527f6-215">When you increase or decrease hello size of your cluster (hello sum of VM instances in all node types), you must update hello reliability of your cluster from one tier tooanother.</span></span> <span data-ttu-id="527f6-216">Tato funkce se aktivuje hello upgrady potřebné toochange hello systému služby repliky sadu počtu clusterů.</span><span class="sxs-lookup"><span data-stu-id="527f6-216">Doing this triggers hello cluster upgrades needed toochange hello system services replica set count.</span></span> <span data-ttu-id="527f6-217">Počkejte hello upgrade v průběhu toocomplete před provedením jakékoli jiné změny toohello clusteru, jako je přidání uzlů.</span><span class="sxs-lookup"><span data-stu-id="527f6-217">Wait for hello upgrade in progress toocomplete before making any other changes toohello cluster, like adding nodes.</span></span>  <span data-ttu-id="527f6-218">Můžete sledovat průběh hello hello upgrade na Service Fabric Explorer nebo spuštěním [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span><span class="sxs-lookup"><span data-stu-id="527f6-218">You can monitor hello progress of hello upgrade on Service Fabric Explorer or by running [Get-ServiceFabricClusterUpgrade](/powershell/module/servicefabric/get-servicefabricclusterupgrade?view=azureservicefabricps)</span></span>

<span data-ttu-id="527f6-219">Zde je hello doporučení na Volba úrovně spolehlivost hello.</span><span class="sxs-lookup"><span data-stu-id="527f6-219">Here is hello recommendation on choosing hello reliability tier.</span></span>

| <span data-ttu-id="527f6-220">**Velikost clusteru**</span><span class="sxs-lookup"><span data-stu-id="527f6-220">**Cluster Size**</span></span> | <span data-ttu-id="527f6-221">**Úroveň spolehlivosti**</span><span class="sxs-lookup"><span data-stu-id="527f6-221">**Reliability Tier**</span></span> |
| --- | --- |
| <span data-ttu-id="527f6-222">1</span><span class="sxs-lookup"><span data-stu-id="527f6-222">1</span></span> |<span data-ttu-id="527f6-223">Nezadávejte hello parametr úroveň spolehlivosti, systém hello je vypočte</span><span class="sxs-lookup"><span data-stu-id="527f6-223">Do not specify hello Reliability Tier parameter, hello system calculates it</span></span> |
| <span data-ttu-id="527f6-224">3</span><span class="sxs-lookup"><span data-stu-id="527f6-224">3</span></span> |<span data-ttu-id="527f6-225">Bronzová</span><span class="sxs-lookup"><span data-stu-id="527f6-225">Bronze</span></span> |
| <span data-ttu-id="527f6-226">5 nebo 6</span><span class="sxs-lookup"><span data-stu-id="527f6-226">5 or 6</span></span>|<span data-ttu-id="527f6-227">Stříbrná</span><span class="sxs-lookup"><span data-stu-id="527f6-227">Silver</span></span> |
| <span data-ttu-id="527f6-228">7 nebo 8</span><span class="sxs-lookup"><span data-stu-id="527f6-228">7 or 8</span></span> |<span data-ttu-id="527f6-229">Zlatý</span><span class="sxs-lookup"><span data-stu-id="527f6-229">Gold</span></span> |
| <span data-ttu-id="527f6-230">9 a vyšší</span><span class="sxs-lookup"><span data-stu-id="527f6-230">9 and up</span></span> |<span data-ttu-id="527f6-231">Platinové</span><span class="sxs-lookup"><span data-stu-id="527f6-231">Platinum</span></span> |




## <a name="primary-node-type---capacity-guidance"></a><span data-ttu-id="527f6-232">Typ primárního uzlu – pokyny kapacity</span><span class="sxs-lookup"><span data-stu-id="527f6-232">Primary node type - Capacity Guidance</span></span>

<span data-ttu-id="527f6-233">Tady je hello pokyny pro plánování kapacity typ primárního uzlu hello</span><span class="sxs-lookup"><span data-stu-id="527f6-233">Here is hello guidance for planning hello primary node type capacity</span></span>

1. <span data-ttu-id="527f6-234">**Počet virtuálních počítačů instancí toorun žádné produkční úlohy v Azure:** musíte zadat minimální velikost písma primárního uzlu 5.</span><span class="sxs-lookup"><span data-stu-id="527f6-234">**Number of VM instances toorun any production workload in Azure:** You must specify a minimum Primary Node type size of 5.</span></span> 
2. <span data-ttu-id="527f6-235">**Počet virtuálních počítačů instancí toorun testovací úlohy v Azure** můžete zadat velikost písma minimální primárního uzlu 1 nebo 3.</span><span class="sxs-lookup"><span data-stu-id="527f6-235">**Number of VM instances toorun test workloads in Azure** You can specify a minimum primary node type size of 1 or 3.</span></span> <span data-ttu-id="527f6-236">Dobrý den jednoho uzlu clusteru, spustí se zvláštní konfiguraci a tak, škálování mimo tento cluster nepodporuje.</span><span class="sxs-lookup"><span data-stu-id="527f6-236">hello one node cluster, runs with a special configuration and so, scale out of that cluster is not supported.</span></span> <span data-ttu-id="527f6-237">Hello jednoho uzlu clusteru, nemá žádné spolehlivost a proto v šabloně Resource Manager, máte tooremove nebo Ne, zadejte pro tuto konfiguraci (není nastavení hodnota konfigurace hello není dost).</span><span class="sxs-lookup"><span data-stu-id="527f6-237">hello one node cluster, has no reliability and so in your Resource Manager template, you have tooremove/not specify that configuration (not setting hello configuration value is not enough).</span></span> <span data-ttu-id="527f6-238">Pokud jste nastavili hello jeden uzel clusteru nastavit prostřednictvím portálu a potom hello konfigurace se automaticky stará.</span><span class="sxs-lookup"><span data-stu-id="527f6-238">If you set up hello one node cluster set up via portal, then hello configuration is automatically taken care of.</span></span> <span data-ttu-id="527f6-239">clustery s uzly 1 a 3 nejsou podporovány pro spuštění úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="527f6-239">1 and 3 node clusters are not supported for running production workloads.</span></span> 
3. <span data-ttu-id="527f6-240">**Virtuální počítač SKU:** typ primárního uzlu je, kde spustit hello systémových služeb, tak hello SKU virtuálních počítačů, které zvolíte, musí provést do účtu hello celkové špičkovým zatížení můžete naplánovat tooplace do clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="527f6-240">**VM SKU:** Primary node type is where hello system services run, so hello VM SKU you choose for it, must take into account hello overall peak load you plan tooplace into hello cluster.</span></span> <span data-ttu-id="527f6-241">Tady je analogie tooillustrate co I zde - znamenat myslíte hello primárního uzlu typu jako vaše "plíce", je co nabízí kyslíku tooyour mozku, a proto pokud hello mozku nedostane dostatek kyslíku, vaše textu vyskytne.</span><span class="sxs-lookup"><span data-stu-id="527f6-241">Here is an analogy tooillustrate what I mean here - Think of hello primary node type as your "Lungs", it is what provides oxygen tooyour brain, and so if hello brain does not get enough oxygen, your body suffers.</span></span> 

<span data-ttu-id="527f6-242">Vzhledem k tomu, že požadavků na kapacitu hello clusteru je určen podle zatížení plánování toorun v clusteru hello, nemůžeme vám poskytovat s kvalitativní pokyny pro konkrétní úlohu, ale tady je toohelp hello obecné pokyny, které začít pracovat</span><span class="sxs-lookup"><span data-stu-id="527f6-242">Since hello capacity needs of a cluster is determined by workload you plan toorun in hello cluster, we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="527f6-243">Pro produkční zatížení</span><span class="sxs-lookup"><span data-stu-id="527f6-243">For production workloads</span></span> 


- <span data-ttu-id="527f6-244">Hello doporučuje SKU virtuálního počítače je standardní D3 nebo standardní D3_V2 nebo ekvivalentní minimálně 14 GB místní SSD.</span><span class="sxs-lookup"><span data-stu-id="527f6-244">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="527f6-245">použití Hello minimální podporované SKU virtuálního počítače je standardní D1 nebo standardní D1_V2 nebo ekvivalentní minimálně 14 GB místní SSD.</span><span class="sxs-lookup"><span data-stu-id="527f6-245">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="527f6-246">Částečné základní SKU virtuálního počítače jako standardní A0 nejsou podporovány pro úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="527f6-246">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="527f6-247">Standardní SKU A1 není podporována pro produkční zatížení z důvodů výkonu.</span><span class="sxs-lookup"><span data-stu-id="527f6-247">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateful-workloads"></a><span data-ttu-id="527f6-248">Typ uzlu není primární - kapacity pokyny pro stavová zatížení</span><span class="sxs-lookup"><span data-stu-id="527f6-248">Non-Primary node type - Capacity Guidance for stateful workloads</span></span>

<span data-ttu-id="527f6-249">Tento průvodce je určený pro stavová zatížení pomocí Service fabric [spolehlivé kolekce nebo reliable Actors](service-fabric-choose-framework.md) , kterou používáte v hello typ uzlu není primární.</span><span class="sxs-lookup"><span data-stu-id="527f6-249">This guidance is for stateful Workloads using Service fabric [reliable collections or reliable Actors](service-fabric-choose-framework.md) that you are running in hello non-primary node type.</span></span>


<span data-ttu-id="527f6-250">**Počet instancí virtuálního počítače:** pro produkční zatížení, které jsou stavové, doporučujeme je spustit s minimální a cílové repliky počtu 5.</span><span class="sxs-lookup"><span data-stu-id="527f6-250">**Number of VM instances:** For production workloads that are stateful, it is recommended that you run them with a minimum and target replica count of 5.</span></span> <span data-ttu-id="527f6-251">To znamená, že v stabilního stavu skončili s replikou (ze sady replik) v každé doméně selhání a upgradu domény.</span><span class="sxs-lookup"><span data-stu-id="527f6-251">This means that in steady state you end up with a replica (from a replica set) in each fault domain and upgrade domain.</span></span> <span data-ttu-id="527f6-252">Koncept vrstvy Hello celou spolehlivost pro typ primárního uzlu hello je toospecify způsob, jak toto nastavení pro systémových služeb.</span><span class="sxs-lookup"><span data-stu-id="527f6-252">hello whole reliability tier concept for hello primary node type is a way toospecify this setting for system services.</span></span> <span data-ttu-id="527f6-253">Proto hello stejný problém platí tooyour stavové služby.</span><span class="sxs-lookup"><span data-stu-id="527f6-253">So hello same consideration applies tooyour stateful services as well.</span></span>

<span data-ttu-id="527f6-254">Proto pro úlohy v produkčním prostředí hello minimální doporučené jiný primární uzlem typu velikost je 5, pokud používáte stavová zatížení v ní.</span><span class="sxs-lookup"><span data-stu-id="527f6-254">So for production workloads, hello minimum recommended non-Primary Node type size is 5, if you are running stateful workloads in it.</span></span>


<span data-ttu-id="527f6-255">**Virtuální počítač SKU:** Toto je typ uzlu hello spuštěným aplikační služby, takže hello SKU virtuálního počítače jste vybrali pro, je třeba vzít v zátěž ve špičce hello účet můžete naplánovat tooplace do každého uzlu.</span><span class="sxs-lookup"><span data-stu-id="527f6-255">**VM SKU:** This is hello node type where your application services are running, so hello VM SKU you choose for it, must take into account hello peak load you plan tooplace into each Node.</span></span> <span data-ttu-id="527f6-256">Dobrý den požadavků na kapacitu hello nodetype, je dáno pracovního vytížení, že máte v plánu toorun v clusteru hello, takže jsme nelze poskytují kvalitativní pokyny pro konkrétní úlohy, ale tady je toohelp hello obecné pokyny, které začít pracovat</span><span class="sxs-lookup"><span data-stu-id="527f6-256">hello capacity needs of hello nodetype, is determined by workload you plan toorun in hello cluster, so we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="527f6-257">Pro produkční zatížení</span><span class="sxs-lookup"><span data-stu-id="527f6-257">For production workloads</span></span> 

- <span data-ttu-id="527f6-258">Hello doporučuje SKU virtuálního počítače je standardní D3 nebo standardní D3_V2 nebo ekvivalentní minimálně 14 GB místní SSD.</span><span class="sxs-lookup"><span data-stu-id="527f6-258">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span>
- <span data-ttu-id="527f6-259">použití Hello minimální podporované SKU virtuálního počítače je standardní D1 nebo standardní D1_V2 nebo ekvivalentní minimálně 14 GB místní SSD.</span><span class="sxs-lookup"><span data-stu-id="527f6-259">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent with a minimum of 14 GB of local SSD.</span></span> 
- <span data-ttu-id="527f6-260">Částečné základní SKU virtuálního počítače jako standardní A0 nejsou podporovány pro úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="527f6-260">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="527f6-261">Standardní SKU A1 konkrétně není podporován pro produkční zatížení z důvodů výkonu.</span><span class="sxs-lookup"><span data-stu-id="527f6-261">Standard A1 SKU is specifically not supported for production workloads for performance reasons.</span></span>


## <a name="non-primary-node-type---capacity-guidance-for-stateless-workloads"></a><span data-ttu-id="527f6-262">Typ uzlu není primární - pokyny Bezstavová zatížení, kapacity</span><span class="sxs-lookup"><span data-stu-id="527f6-262">Non-Primary node type - Capacity Guidance for stateless workloads</span></span>

<span data-ttu-id="527f6-263">V tomto návodu bezstavových úloh, které běží na neprimární nodetype hello.</span><span class="sxs-lookup"><span data-stu-id="527f6-263">This guidance of stateless Workloads that you are running on hello non-primary nodetype.</span></span>

<span data-ttu-id="527f6-264">**Počet instancí virtuálního počítače:** pro produkční zatížení, které jsou bezstavové, velikost písma jiný - primárního uzlu hello minimální podporované je 2.</span><span class="sxs-lookup"><span data-stu-id="527f6-264">**Number of VM instances:** For production workloads that are stateless, hello minimum supported non-Primary Node type size is 2.</span></span> <span data-ttu-id="527f6-265">To vám umožní toorun můžete dvě bezstavové instance aplikace, a umožňuje vaší služby toosurvive hello ztrátě instance virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="527f6-265">This allows you toorun you two stateless instances of your application and allowing your service toosurvive hello loss of a VM instance.</span></span> 

> [!NOTE]
> <span data-ttu-id="527f6-266">Pokud váš cluster běží v service fabric starší verze než 5.6, z důvodu tooa značit potíže v hello runtime (Tento problém vyřešen v 5.6), škálování směrem dolů neprimární uzel typu tooless než 5, výsledkem stavu clusteru vypnutí není v pořádku, dokud zavoláte [ Odebrat ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) s názvem příslušný uzel hello.</span><span class="sxs-lookup"><span data-stu-id="527f6-266">If your cluster is running on a service fabric version less than 5.6, due tooa defect in hello runtime (this issue is fixed in 5.6), scaling down a non-primary node type tooless than 5, results in cluster health turning unhealthy, till you call [Remove-ServiceFabricNodeState cmd](https://docs.microsoft.com/powershell/servicefabric/vlatest/Remove-ServiceFabricNodeState) with hello appropriate node name.</span></span> <span data-ttu-id="527f6-267">Čtení [provést cluster Service Fabric příchozí nebo odchozí](service-fabric-cluster-scale-up-down.md) další podrobnosti</span><span class="sxs-lookup"><span data-stu-id="527f6-267">Read [perform Service Fabric cluster in or out](service-fabric-cluster-scale-up-down.md) for more details</span></span>
> 
>

<span data-ttu-id="527f6-268">**Virtuální počítač SKU:** Toto je typ uzlu hello spuštěným aplikační služby, takže hello SKU virtuálního počítače jste vybrali pro, je třeba vzít v zátěž ve špičce hello účet můžete naplánovat tooplace do každého uzlu.</span><span class="sxs-lookup"><span data-stu-id="527f6-268">**VM SKU:** This is hello node type where your application services are running, so hello VM SKU you choose for it, must take into account hello peak load you plan tooplace into each Node.</span></span> <span data-ttu-id="527f6-269">Dobrý den požadavků na kapacitu hello nodetype, je dáno pracovního vytížení, že máte v plánu toorun v clusteru hello, takže jsme nelze poskytují kvalitativní pokyny pro konkrétní úlohy, ale tady je toohelp hello obecné pokyny, které začít pracovat</span><span class="sxs-lookup"><span data-stu-id="527f6-269">hello capacity needs of hello nodetype, is determined by workload you plan toorun in hello cluster, So we cannot provide you with qualitative guidance for your specific workload, however here is hello broad guidance toohelp you get started</span></span>

<span data-ttu-id="527f6-270">Pro produkční zatížení</span><span class="sxs-lookup"><span data-stu-id="527f6-270">For production workloads</span></span> 


- <span data-ttu-id="527f6-271">Hello doporučuje SKU virtuálního počítače je standardní D3 nebo standardní D3_V2 nebo ekvivalentní.</span><span class="sxs-lookup"><span data-stu-id="527f6-271">hello recommended VM SKU is Standard D3 or Standard D3_V2 or equivalent.</span></span> 
- <span data-ttu-id="527f6-272">použití Hello minimální podporované SKU virtuálního počítače je standardní D1 nebo standardní D1_V2 nebo ekvivalentní.</span><span class="sxs-lookup"><span data-stu-id="527f6-272">hello minimum supported use VM SKU is Standard D1 or Standard D1_V2 or equivalent.</span></span> 
- <span data-ttu-id="527f6-273">Částečné základní SKU virtuálního počítače jako standardní A0 nejsou podporovány pro úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="527f6-273">Partial core VM SKUs like Standard A0 are not supported for production workloads.</span></span>
- <span data-ttu-id="527f6-274">Standardní SKU A1 není podporována pro produkční zatížení z důvodů výkonu.</span><span class="sxs-lookup"><span data-stu-id="527f6-274">Standard A1 SKU is not supported for production workloads for performance reasons.</span></span>

<!--Every topic should have next steps and links toohello next logical set of content tookeep hello customer engaged-->

## <a name="next-steps"></a><span data-ttu-id="527f6-275">Další kroky</span><span class="sxs-lookup"><span data-stu-id="527f6-275">Next steps</span></span>
<span data-ttu-id="527f6-276">Po dokončení plánování kapacity a nastavení clusteru, přečtěte si následující hello:</span><span class="sxs-lookup"><span data-stu-id="527f6-276">Once you finish your capacity planning and set up a cluster, read hello following:</span></span>

* [<span data-ttu-id="527f6-277">Zabezpečení clusteru Service Fabric</span><span class="sxs-lookup"><span data-stu-id="527f6-277">Service Fabric cluster security</span></span>](service-fabric-cluster-security.md)
* [<span data-ttu-id="527f6-278">Úvod modelu stavu Service Fabric</span><span class="sxs-lookup"><span data-stu-id="527f6-278">Service Fabric health model introduction</span></span>](service-fabric-health-introduction.md)
* [<span data-ttu-id="527f6-279">Nastavit vztah Nodetypes tooVirtual počítač měřítka</span><span class="sxs-lookup"><span data-stu-id="527f6-279">Relationship of Nodetypes tooVirtual machine scale set</span></span>](service-fabric-cluster-nodetypes.md)

<!--Image references-->
[SystemServices]: ./media/service-fabric-cluster-capacity/SystemServices.png
