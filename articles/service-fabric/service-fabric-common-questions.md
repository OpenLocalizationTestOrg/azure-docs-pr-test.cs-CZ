---
title: "aaaCommon dotazy týkající se služby Microsoft Azure Service Fabric | Microsoft Docs"
description: "Nejčastější dotazy ohledně Service Fabric a jejich odpovědi"
services: service-fabric
documentationcenter: .net
author: chackdan
manager: timlt
editor: 
ms.assetid: 5a179703-ff0c-4b8e-98cd-377253295d12
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/18/2017
ms.author: chackdan
ms.openlocfilehash: 4cbe92d2a03f7a1ea5d077807fdc982288220a7e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="commonly-asked-service-fabric-questions"></a><span data-ttu-id="e1350-103">Často kladené otázky Service Fabric</span><span class="sxs-lookup"><span data-stu-id="e1350-103">Commonly asked Service Fabric questions</span></span>

<span data-ttu-id="e1350-104">Existuje mnoho nejčastější dotazy týkající se co můžete udělat Service Fabric a jak se má použít.</span><span class="sxs-lookup"><span data-stu-id="e1350-104">There are many commonly asked questions about what Service Fabric can do and how it should be used.</span></span> <span data-ttu-id="e1350-105">Tento dokument popisuje mnoho z těchto běžné otázky a odpovědi.</span><span class="sxs-lookup"><span data-stu-id="e1350-105">This document covers many of those common questions and their answers.</span></span>

## <a name="cluster-setup-and-management"></a><span data-ttu-id="e1350-106">Instalace a správy</span><span class="sxs-lookup"><span data-stu-id="e1350-106">Cluster setup and management</span></span>

### <a name="can-i-create-a-cluster-that-spans-multiple-azure-regions-or-my-own-datacenters"></a><span data-ttu-id="e1350-107">Můžete vytvořit cluster, který zahrnuje několik oblastí Azure nebo vlastní datových centrech?</span><span class="sxs-lookup"><span data-stu-id="e1350-107">Can I create a cluster that spans multiple Azure regions or my own datacenters?</span></span>

<span data-ttu-id="e1350-108">Ano.</span><span class="sxs-lookup"><span data-stu-id="e1350-108">Yes.</span></span> 

<span data-ttu-id="e1350-109">Hello základní technologie clusteringu Service Fabric lze použít toocombine počítačů spuštěných kdekoli v hello, world, tak dlouho, dokud budou mít síťové připojení tooeach jiné.</span><span class="sxs-lookup"><span data-stu-id="e1350-109">hello core Service Fabric clustering technology can be used toocombine machines running anywhere in hello world, so long as they have network connectivity tooeach other.</span></span> <span data-ttu-id="e1350-110">Však vytváření a spouštění takového clusteru může být složité.</span><span class="sxs-lookup"><span data-stu-id="e1350-110">However, building and running such a cluster can be complicated.</span></span>

<span data-ttu-id="e1350-111">Pokud vás zajímá v tomto scénáři, doporučujeme tooget v kontaktu buď prostřednictvím hello [Service Fabric Githubu problémy seznamu](https://github.com/azure/service-fabric-issues) nebo vaším zástupcem podpory v pořadí tooobtain další pokyny.</span><span class="sxs-lookup"><span data-stu-id="e1350-111">If you are interested in this scenario, we encourage you tooget in contact either through hello [Service Fabric Github Issues List](https://github.com/azure/service-fabric-issues) or through your support representative in order tooobtain additional guidance.</span></span> <span data-ttu-id="e1350-112">Hello Service Fabric tým pracuje další přehlednost tooprovide, pokyny a doporučení pro tento scénář.</span><span class="sxs-lookup"><span data-stu-id="e1350-112">hello Service Fabric team is working tooprovide additional clarity, guidance, and recommendations for this scenario.</span></span> 

<span data-ttu-id="e1350-113">Tooconsider některé věci:</span><span class="sxs-lookup"><span data-stu-id="e1350-113">Some things tooconsider:</span></span> 

1. <span data-ttu-id="e1350-114">Hello prostředku clusteru Service Fabric v Azure je regionální dnes, jako jsou sady škálování virtuálních počítačů hello hello clusteru je založený na.</span><span class="sxs-lookup"><span data-stu-id="e1350-114">hello Service Fabric cluster resource in Azure is regional today, as are hello virtual machine scale sets that hello cluster is built on.</span></span> <span data-ttu-id="e1350-115">To znamená, že v případě hello místní selhání může ztratíte hello možnost toomanage hello clusteru přes hello Azure Resource Manager nebo hello portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="e1350-115">This means that in hello event of a regional failure you may lose hello ability toomanage hello cluster via hello Azure Resource Manager or hello Azure Portal.</span></span> <span data-ttu-id="e1350-116">To může dojít, i když hello clusteru zůstane spuštěný a bude moct toointeract s ním přímo.</span><span class="sxs-lookup"><span data-stu-id="e1350-116">This can happen even though hello cluster remains running and you'd be able toointeract with it directly.</span></span> <span data-ttu-id="e1350-117">Kromě toho Azure ještě dnes nenabízí možnost toohave hello jedné virtuální sítě, které lze použít v oblastech.</span><span class="sxs-lookup"><span data-stu-id="e1350-117">In addition, Azure today does not offer hello ability toohave a single virtual network that is usable across regions.</span></span> <span data-ttu-id="e1350-118">To znamená, že cluster více oblasti v Azure vyžaduje buď [veřejné IP adresy pro každý virtuální počítač v hello škálovatelné sady virtuálních počítačů](../virtual-machine-scale-sets/virtual-machine-scale-sets-networking.md#public-ipv4-per-virtual-machine) nebo [Azure VPN Gateway](../vpn-gateway/vpn-gateway-about-vpngateways.md).</span><span class="sxs-lookup"><span data-stu-id="e1350-118">This means that a multi-region cluster in Azure requires either [Public IP Addresses for each VM in hello VM Scale Sets](../virtual-machine-scale-sets/virtual-machine-scale-sets-networking.md#public-ipv4-per-virtual-machine) or [Azure VPN Gateways](../vpn-gateway/vpn-gateway-about-vpngateways.md).</span></span> <span data-ttu-id="e1350-119">Tyto možnosti sítě mají různé dopady na náklady, výkonu a toosome stupeň návrh aplikace, takže pozor, analýze a plánování je vyžadována před stojící až takovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="e1350-119">These networking choices have different impacts on costs, performance, and toosome degree application design, so careful analysis and planning is required before standing up such an environment.</span></span>
2. <span data-ttu-id="e1350-120">Hello údržby, Správa a monitorování těchto počítačů se může stát složitá, zejména v případě, že rozloženy _typy_ prostředí, například mezi zprostředkovatelé jiný cloud, nebo mezi místními prostředky a Azure .</span><span class="sxs-lookup"><span data-stu-id="e1350-120">hello maintenance, management, and monitoring of these machines can become complicated, especially when spanned across _types_ of environments, such as between different cloud providers or between on-premises resources and Azure.</span></span> <span data-ttu-id="e1350-121">Musí dát pozor, tooensure, který upgraduje, monitorování, Správa a Diagnostika jsou pochopeny hello clusteru a hello aplikace před spuštěním úlohy v produkčním prostředí v takovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="e1350-121">Care must be taken tooensure that upgrades, monitoring, management, and diagnostics are understood for both hello cluster and hello applications before running production workloads in such an environment.</span></span> <span data-ttu-id="e1350-122">Pokud již máte spoustu prostředí řešení těchto problémů v Azure nebo v rámci vlastní datových center, je pravděpodobné, že tyto stejné řešení může být použitá při vytváření nebo spuštění clusteru Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="e1350-122">If you already have lots of experience solving these problems in Azure or within your own datacenters, then it is likely that those same solutions can be applied when building out or running your Service Fabric cluster.</span></span> 

### <a name="do-service-fabric-nodes-automatically-receive-os-updates"></a><span data-ttu-id="e1350-123">Service Fabric uzly automaticky přijímat aktualizace operačního systému?</span><span class="sxs-lookup"><span data-stu-id="e1350-123">Do Service Fabric nodes automatically receive OS updates?</span></span>

<span data-ttu-id="e1350-124">Není v současné době ale toto je také žádost běžné, že Azure má v úmyslu toodeliver.</span><span class="sxs-lookup"><span data-stu-id="e1350-124">Not today, but this is also a common request that Azure intends toodeliver.</span></span>

<span data-ttu-id="e1350-125">V dočasné hello, máme [zadané aplikace](service-fabric-patch-orchestration-application.md) že hello operační systémy pod uzly Service Fabric zůstat opravený a až toodate.</span><span class="sxs-lookup"><span data-stu-id="e1350-125">In hello interim, we have [provided an application](service-fabric-patch-orchestration-application.md) that hello operating systems underneath your Service Fabric nodes stay patched and up toodate.</span></span>

<span data-ttu-id="e1350-126">Hello výzvy s aktualizacemi operačního systému je, že obvykle vyžadují restart počítače hello, což vede k dočasné dostupnosti ztráty.</span><span class="sxs-lookup"><span data-stu-id="e1350-126">hello challenge with OS updates is that they typically require a reboot of hello machine, which results in temporary availability loss.</span></span> <span data-ttu-id="e1350-127">Samostatně, který se nejedná o problém, protože Service Fabric se automaticky přesměrování provozu pro tyto uzly tooother služby.</span><span class="sxs-lookup"><span data-stu-id="e1350-127">By itself, that is not a problem, since Service Fabric will automatically redirect traffic for those services tooother nodes.</span></span> <span data-ttu-id="e1350-128">Pokud v clusteru hello nejsou koordinované aktualizacím operačního systému, je však hello potenciální, který mnoho uzly přejděte dolů najednou.</span><span class="sxs-lookup"><span data-stu-id="e1350-128">However, if OS updates are not coordinated across hello cluster, there is hello potential that many nodes go down at once.</span></span> <span data-ttu-id="e1350-129">Takové souběžných restartování může způsobit ztrátu dokončení dostupnosti pro službu nebo v minimálně u konkrétního oddílu (pro stavové služby).</span><span class="sxs-lookup"><span data-stu-id="e1350-129">Such simultaneous reboots can cause complete availability loss for a service, or at least for a specific partition (for a stateful service).</span></span>

<span data-ttu-id="e1350-130">V budoucích hello plánujeme zásady aktualizace toosupport operační systém, které je plně automatizované a koordinované napříč doménami aktualizace, zajistíte, že se zachová dostupnosti, i když restartování počítače a jiné neočekávané chyby.</span><span class="sxs-lookup"><span data-stu-id="e1350-130">In hello future, we plan toosupport an OS update policy that is fully automated and coordinated across update domains, ensuring that availability is maintained despite reboots and other unexpected failures.</span></span>

### <a name="can-i-use-large-virtual-machine-scale-sets-in-my-sf-cluster"></a><span data-ttu-id="e1350-131">Můžete použít velké sady škálování virtuálního počítače v clusteru Moje SF?</span><span class="sxs-lookup"><span data-stu-id="e1350-131">Can I use Large Virtual Machine Scale Sets in my SF cluster?</span></span> 

<span data-ttu-id="e1350-132">**Krátkodobých odpovědí** – ne.</span><span class="sxs-lookup"><span data-stu-id="e1350-132">**Short answer** - No.</span></span> 

<span data-ttu-id="e1350-133">**Dlouho zodpovědět** – i když hello velké sady škálování virtuálního počítače umožňují tooscale sady škálování virtuálního počítače maximálně 1000 instance virtuálních počítačů, učiní tak pomocí hello umístění skupin (PGs).</span><span class="sxs-lookup"><span data-stu-id="e1350-133">**Long Answer** - Although hello Large Virtual Machine Scale Sets allow you tooscale a virtual machine scale set upto 1000 VM instances, it does so by hello use of Placement Groups (PGs).</span></span> <span data-ttu-id="e1350-134">Domén selhání (FDs) a aktualizace domény (UDs) jsou jenom konzistentní v rámci umístění skupiny Service fabric používá FDs a UDs rozhodnutí umístění toomake instancí služby repliky nebo služby.</span><span class="sxs-lookup"><span data-stu-id="e1350-134">Fault domains (FDs) and upgrade domains (UDs) are only consistent within a placement group Service fabric uses FDs and UDs toomake placement decisions of your service replicas/Service instances.</span></span> <span data-ttu-id="e1350-135">Vzhledem k tomu, že jsou porovnatelný z hlediska hello FDs a UDs pouze v rámci skupiny umístění SF nemůžete ji použít.</span><span class="sxs-lookup"><span data-stu-id="e1350-135">Since hello FDs  and UDs are comparable only within a placement group SF cannot use it.</span></span> <span data-ttu-id="e1350-136">Například pokud má VM1 v so1 topologii FD = 0 a VM9 v SO2 má topologii FD = 4, neznamená, že VM1 virtuálního počítače 2 je na dvou různých stojany hardwaru a proto nelze použít hodnoty hello FD v toto rozhodnutí o umístění případu toomake SF.</span><span class="sxs-lookup"><span data-stu-id="e1350-136">For example, If VM1 in PG1 has a topology of FD=0 and VM9 in PG2 has a topology of FD=4 , it does not mean that VM1 and VM2 are on two different Hardware Racks, hence SF cannot use hello FD values in this case toomake placement decisions.</span></span>

<span data-ttu-id="e1350-137">Jako hello nedostatečná úroveň 4 načíst vyrovnávání podporu existují další problémy s sady škálování velký virtuální počítač v současné době.</span><span class="sxs-lookup"><span data-stu-id="e1350-137">There are other issues with Large virtual machine scale sets currently, like hello lack of level-4 Load balancing support.</span></span> <span data-ttu-id="e1350-138">Odkazovat toofor [podrobnosti o velké škálování sady](../virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups.md)</span><span class="sxs-lookup"><span data-stu-id="e1350-138">Refer toofor [details on Large scale sets](../virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups.md)</span></span>



### <a name="what-is-hello-minimum-size-of-a-service-fabric-cluster-why-cant-it-be-smaller"></a><span data-ttu-id="e1350-139">Jaká je minimální velikost hello clusteru Service Fabric?</span><span class="sxs-lookup"><span data-stu-id="e1350-139">What is hello minimum size of a Service Fabric cluster?</span></span> <span data-ttu-id="e1350-140">Proč nemůže být menší?</span><span class="sxs-lookup"><span data-stu-id="e1350-140">Why can't it be smaller?</span></span>

<span data-ttu-id="e1350-141">Hello minimální podporovaná velikost clusteru Service Fabric spuštění úlohy v produkčním prostředí je pět uzlů.</span><span class="sxs-lookup"><span data-stu-id="e1350-141">hello minimum supported size for a Service Fabric cluster running production workloads is five nodes.</span></span> <span data-ttu-id="e1350-142">Pro scénáře vývoje/testování podporujeme clustery tři uzly.</span><span class="sxs-lookup"><span data-stu-id="e1350-142">For dev/test scenarios, we support three node clusters.</span></span>

<span data-ttu-id="e1350-143">Tyto minimálních neexistuje, protože cluster Service Fabric hello spouští sadu stavová systémových služeb, včetně služby pojmenování hello a manager hello převzetí služeb při selhání.</span><span class="sxs-lookup"><span data-stu-id="e1350-143">These minimums exist because hello Service Fabric cluster runs a set of stateful system services, including hello naming service and hello failover manager.</span></span> <span data-ttu-id="e1350-144">Tyto služby, které sledují, co byly služby nasadit toohello clusteru a kde se aktuálně hostuje, závisí na silnou konzistenci.</span><span class="sxs-lookup"><span data-stu-id="e1350-144">These services, which track what services have been deployed toohello cluster and where they're currently hosted, depend on strong consistency.</span></span> <span data-ttu-id="e1350-145">Tento silnou konzistenci zase, závisí na hello možnost tooacquire *kvora* jakékoli dané aktualizace stavu toohello těchto služeb, kde kvorum představuje striktní většinou hello repliky (N/2 + 1) pro danou službu.</span><span class="sxs-lookup"><span data-stu-id="e1350-145">That strong consistency, in turn, depends on hello ability tooacquire a *quorum* for any given update toohello state of those services, where a quorum represents a strict majority of hello replicas (N/2 +1) for a given service.</span></span>

<span data-ttu-id="e1350-146">S na pozadí Podívejme se na některé konfigurace možné clusteru:</span><span class="sxs-lookup"><span data-stu-id="e1350-146">With that background, let's examine some possible cluster configurations:</span></span>

<span data-ttu-id="e1350-147">**Jeden uzel**: Tato možnost nebude poskytovat vysokou dostupnost, protože hello ztráta hello jednoho uzlu z jakéhokoli důvodu znamená hello ztrátě hello celý cluster.</span><span class="sxs-lookup"><span data-stu-id="e1350-147">**One node**: this option does not provide high availability since hello loss of hello single node for any reason means hello loss of hello entire cluster.</span></span>

<span data-ttu-id="e1350-148">**Dva uzly**: kvora pro službu nasadit mezi dva uzly (N = 2) je 2 (2/2 + 1 = 2).</span><span class="sxs-lookup"><span data-stu-id="e1350-148">**Two nodes**: a quorum for a service deployed across two nodes (N = 2) is 2 (2/2 + 1 = 2).</span></span> <span data-ttu-id="e1350-149">Při ztrátě jednu repliku je možné toocreate kvora.</span><span class="sxs-lookup"><span data-stu-id="e1350-149">When a single replica is lost, it is impossible toocreate a quorum.</span></span> <span data-ttu-id="e1350-150">Vzhledem k tomu, že provádění aktualizace služby vyžaduje dočasně trvá dolů repliku, nejedná užitečné konfigurace.</span><span class="sxs-lookup"><span data-stu-id="e1350-150">Since performing a service upgrade requires temporarily taking down a replica, this is not a useful configuration.</span></span>

<span data-ttu-id="e1350-151">**Tři uzly**: tři uzly (N = 3), hello požadavek toocreate kvora je stále dva uzly (3/2 + 1 = 2).</span><span class="sxs-lookup"><span data-stu-id="e1350-151">**Three nodes**: with three nodes (N=3), hello requirement toocreate a quorum is still two nodes (3/2 + 1 = 2).</span></span> <span data-ttu-id="e1350-152">To znamená, že můžete ztratit jednotlivých uzlu a udržení kvora.</span><span class="sxs-lookup"><span data-stu-id="e1350-152">This means that you can lose an individual node and still maintain quorum.</span></span>

<span data-ttu-id="e1350-153">Hello tři konfigurace uzlu clusteru je podporována pro vývojové a testovací vzhledem k tomu, že můžete provádět upgrade a zůstanou platné i po selhání jednotlivých uzlů, dokud není nastat současně.</span><span class="sxs-lookup"><span data-stu-id="e1350-153">hello three node cluster configuration is supported for dev/test because you can safely perform upgrades and survive individual node failures, as long as they don't happen simultaneously.</span></span> <span data-ttu-id="e1350-154">Pro úlohy v produkčním prostředí musí být odolné toosuch současné selhání, takže potřebujete pět uzlů.</span><span class="sxs-lookup"><span data-stu-id="e1350-154">For production workloads, you must be resilient toosuch a simultaneous failure, so five nodes are required.</span></span>

### <a name="can-i-turn-off-my-cluster-at-nightweekends-toosave-costs"></a><span data-ttu-id="e1350-155">Můžete vypnout Moje clusteru v noci nebo víkendů toosave náklady?</span><span class="sxs-lookup"><span data-stu-id="e1350-155">Can I turn off my cluster at night/weekends toosave costs?</span></span>

<span data-ttu-id="e1350-156">Obecně to možné není.</span><span class="sxs-lookup"><span data-stu-id="e1350-156">In general, no.</span></span> <span data-ttu-id="e1350-157">Service Fabric ukládá stav na místní dočasné disků, což znamená, že pokud je virtuální počítač hello přesunutý tooa jiného hostitele, hello data nepřesouvá s ním.</span><span class="sxs-lookup"><span data-stu-id="e1350-157">Service Fabric stores state on local, ephemeral disks, meaning that if hello virtual machine is moved tooa different host, hello data does not move with it.</span></span> <span data-ttu-id="e1350-158">V běžném provozu, který není problém jako nový uzel hello zapínají toodate jinými uzly.</span><span class="sxs-lookup"><span data-stu-id="e1350-158">In normal operation, that is not a problem as hello new node is brought up toodate by other nodes.</span></span> <span data-ttu-id="e1350-159">Pokud zastavíte všechny uzly a je restartovat později, existuje však významné možnost, že většina uzlů hello spustit na nové hostitele a nelze toorecover hello systému.</span><span class="sxs-lookup"><span data-stu-id="e1350-159">However, if you stop all nodes and restart them later, there is a significant possibility that most of hello nodes start on new hosts and make hello system unable toorecover.</span></span>

<span data-ttu-id="e1350-160">Pokud chcete toocreate clustery pro testování vašich aplikací před nasazením, doporučujeme dynamicky vytvořte tyto clustery jako součást vaší [nepřetržité integrace/průběžné kanálu nasazení](service-fabric-set-up-continuous-integration.md).</span><span class="sxs-lookup"><span data-stu-id="e1350-160">If you would like toocreate clusters for testing your application before it is deployed, we recommend that you dynamically create those clusters as part of your [continuous integration/continuous deployment pipeline](service-fabric-set-up-continuous-integration.md).</span></span>


### <a name="how-do-i-upgrade-my-operating-system-for-example-from-windows-server-2012-toowindows-server-2016"></a><span data-ttu-id="e1350-161">Jak mohu provést upgrade operačního systému (například ze systému Windows Server 2012 tooWindows Server 2016)?</span><span class="sxs-lookup"><span data-stu-id="e1350-161">How do I upgrade my Operating System (for example from Windows Server 2012 tooWindows Server 2016)?</span></span>

<span data-ttu-id="e1350-162">Při pracujeme na vylepšené uživatelské prostředí, v současné době jste zodpovědní za hello upgradu.</span><span class="sxs-lookup"><span data-stu-id="e1350-162">While we're working on an improved experience, today, you are responsible for hello upgrade.</span></span> <span data-ttu-id="e1350-163">Je nutné upgradovat image hello operačního systému na hello virtuální počítače hello clusteru jeden virtuální počítač najednou.</span><span class="sxs-lookup"><span data-stu-id="e1350-163">You must upgrade hello OS image on hello virtual machines of hello cluster one VM at a time.</span></span> 

## <a name="container-support"></a><span data-ttu-id="e1350-164">Podpora kontejnerů</span><span class="sxs-lookup"><span data-stu-id="e1350-164">Container Support</span></span>

### <a name="why-are-my-containers-that-are-deployed-toosf-unable-tooresolve-dns-addresses"></a><span data-ttu-id="e1350-165">Proč se Moje kontejnery, které jsou nasazené tooSF nelze tooresolve DNS adresy?</span><span class="sxs-lookup"><span data-stu-id="e1350-165">Why are my containers that are deployed tooSF unable tooresolve DNS addresses?</span></span>

<span data-ttu-id="e1350-166">Potíže hlášené v clusterech, které jsou na 5.6.204.9494 verze</span><span class="sxs-lookup"><span data-stu-id="e1350-166">This issue has been reported on clusters that are on 5.6.204.9494 version</span></span> 

<span data-ttu-id="e1350-167">**Zmírnění dopadů** : postupujte podle [tento dokument](service-fabric-dnsservice.md) tooenable hello DNS služby service fabric v clusteru.</span><span class="sxs-lookup"><span data-stu-id="e1350-167">**Mitigation** :  Follow [this document](service-fabric-dnsservice.md) tooenable hello DNS service fabric service in your cluster.</span></span>

<span data-ttu-id="e1350-168">**Opravte** : upgradu tooa podporované verze clusteru, které je vyšší než 5.6.204.9494, jakmile bude k dispozici.</span><span class="sxs-lookup"><span data-stu-id="e1350-168">**Fix** :  Upgrade tooa supported cluster version that is higher than 5.6.204.9494, when it is available.</span></span> <span data-ttu-id="e1350-169">Pokud je váš cluster nastavená tooautomatic upgrady, pak v clusteru hello automaticky upgradovat toohello verzi, která má potíže pevné.</span><span class="sxs-lookup"><span data-stu-id="e1350-169">If your cluster is set tooautomatic upgrades, then hello cluster will automatically upgrade toohello version that has this issue fixed.</span></span>

  
## <a name="application-design"></a><span data-ttu-id="e1350-170">Návrh aplikace</span><span class="sxs-lookup"><span data-stu-id="e1350-170">Application Design</span></span>

### <a name="whats-hello-best-way-tooquery-data-across-partitions-of-a-reliable-collection"></a><span data-ttu-id="e1350-171">Co je hello nejlepší způsob, jak tooquery dat napříč oddíly spolehlivé kolekce?</span><span class="sxs-lookup"><span data-stu-id="e1350-171">What's hello best way tooquery data across partitions of a Reliable Collection?</span></span>

<span data-ttu-id="e1350-172">Spolehlivé kolekce jsou obvykle [oddílů](service-fabric-concepts-partitioning.md) tooenable škálování pro zvýšení výkonu a propustnosti.</span><span class="sxs-lookup"><span data-stu-id="e1350-172">Reliable collections are typically [partitioned](service-fabric-concepts-partitioning.md) tooenable scale out for greater performance and throughput.</span></span> <span data-ttu-id="e1350-173">To znamená, že může být hello stavu pro danou službu rozloženy 10s nebo 100s počítačů.</span><span class="sxs-lookup"><span data-stu-id="e1350-173">That means that hello state for a given service may be spread across 10s or 100s of machines.</span></span> <span data-ttu-id="e1350-174">operace tooperform přes tento úplné datové sady, máte několik možností:</span><span class="sxs-lookup"><span data-stu-id="e1350-174">tooperform operations over that full data set, you have a few options:</span></span>

- <span data-ttu-id="e1350-175">Vytvoření služby, který se dotazuje všechny oddíly z jiné služby toopull v datech hello vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="e1350-175">Create a service that queries all partitions of another service toopull in hello required data.</span></span>
- <span data-ttu-id="e1350-176">Vytvoření služby, který může přijímat data z všechny oddíly z jiné služby.</span><span class="sxs-lookup"><span data-stu-id="e1350-176">Create a service that can receive data from all partitions of another service.</span></span>
- <span data-ttu-id="e1350-177">Pravidelně nabízet data z jednotlivých obchodů externí tooan služby.</span><span class="sxs-lookup"><span data-stu-id="e1350-177">Periodically push data from each service tooan external store.</span></span> <span data-ttu-id="e1350-178">Tento přístup je jenom vhodné v případě hello dotazy, které provádíte nejsou součástí základní obchodní logiky.</span><span class="sxs-lookup"><span data-stu-id="e1350-178">This approach is only appropriate if hello queries you're performing are not part of your core business logic.</span></span>


### <a name="whats-hello-best-way-tooquery-data-across-my-actors"></a><span data-ttu-id="e1350-179">Co je hello nejlepší způsob, jak tooquery dat napříč Moje aktéři?</span><span class="sxs-lookup"><span data-stu-id="e1350-179">What's hello best way tooquery data across my actors?</span></span>

<span data-ttu-id="e1350-180">Aktéři jsou nezávislé jednotky navrženou toobe stavu a výpočty, takže není doporučeno tooperform široký dotazy stavu objektu actor za běhu.</span><span class="sxs-lookup"><span data-stu-id="e1350-180">Actors are designed toobe independent units of state and compute, so it is not recommended tooperform broad queries of actor state at runtime.</span></span> <span data-ttu-id="e1350-181">Pokud máte třeba tooquery napříč hello úplnou sadu stavu objektu actor, je třeba zvážit buď:</span><span class="sxs-lookup"><span data-stu-id="e1350-181">If you have a need tooquery across hello full set of actor state, you should consider either:</span></span>

- <span data-ttu-id="e1350-182">Nahraďte vaše služby objektu actor stavová spolehlivé služby tak, aby hello počet síťových požadavků toogather všechna data z hello počet aktéři toohello počet oddílů ve službě.</span><span class="sxs-lookup"><span data-stu-id="e1350-182">Replacing your actor services with stateful reliable services, such that hello number of network requests toogather all data from hello number of actors toohello number of partitions in your service.</span></span>
- <span data-ttu-id="e1350-183">Navrhování vaší nabízené tooperiodically aktéři jejich stavu tooan externí úložiště pro snazší dotazování.</span><span class="sxs-lookup"><span data-stu-id="e1350-183">Designing your actors tooperiodically push their state tooan external store for easier querying.</span></span> <span data-ttu-id="e1350-184">Jako výše, tento přístup je pouze navíc nefungovalo, pokud nejsou potřeba pro vaše modul runtime chování hello dotazy, které provádíte.</span><span class="sxs-lookup"><span data-stu-id="e1350-184">As above, this approach is only viable if hello queries you're performing are not required for your runtime behavior.</span></span>

### <a name="how-much-data-can-i-store-in-a-reliable-collection"></a><span data-ttu-id="e1350-185">Kolik dat můžete ukládat v kolekci spolehlivé?</span><span class="sxs-lookup"><span data-stu-id="e1350-185">How much data can I store in a Reliable Collection?</span></span>

<span data-ttu-id="e1350-186">Spolehlivé služby jsou obvykle rozdělena na oddíly, takže hello částku, kterou můžete ukládat je omezena pouze hello počtu počítačů, které máte v clusteru hello a hello množství paměti k dispozici v těchto počítačích.</span><span class="sxs-lookup"><span data-stu-id="e1350-186">Reliable services are typically partitioned, so hello amount you can store is only limited by hello number of machines you have in hello cluster, and hello amount of memory available on those machines.</span></span>

<span data-ttu-id="e1350-187">Jako příklad předpokládejme, že máme spolehlivé kolekce ve službě se 100 oddíly a 3 repliky, ukládání objektů, které Průměrná velikost 1kb.</span><span class="sxs-lookup"><span data-stu-id="e1350-187">As an example, suppose that you have a reliable collection in a service with 100 partitions and 3 replicas, storing objects that average 1kb in size.</span></span> <span data-ttu-id="e1350-188">Nyní předpokládejme, že máte cluster 10 počítače s 16gb paměti na jeden počítač.</span><span class="sxs-lookup"><span data-stu-id="e1350-188">Now suppose that you have a 10 machine cluster with 16gb of memory per machine.</span></span> <span data-ttu-id="e1350-189">Pro jednoduchost a toobe velmi konzervativní předpokládá, že hello operačního systému a systémových služeb, modulu runtime Service Fabric hello a vašim službám využívat 6gb paměti, pak 10gb, které jsou k dispozici na počítač, nebo 100gb pro hello cluster.</span><span class="sxs-lookup"><span data-stu-id="e1350-189">For simplicity and toobe very conservative, assume that hello operating system and system services, hello Service Fabric runtime, and your services consume 6gb of that, leaving 10gb available per machine, or 100gb for hello cluster.</span></span>

<span data-ttu-id="e1350-190">Pamatujte, že každý objekt musí být uložené tři časy (primární a dvě repliky), byste měli dostatek paměti pro přibližně 35 miliónů objektů v kolekci, při fungování v celém rozsahu.</span><span class="sxs-lookup"><span data-stu-id="e1350-190">Keeping in mind that each object must be stored three times (one primary and two replicas), you would have sufficient memory for approximately 35 million objects in your collection when operating at full capacity.</span></span> <span data-ttu-id="e1350-191">Doporučujeme však probíhá odolné toohello souběžných ztrátě domény selhání a upgradovací doméně, která představuje asi 1/3 kapacitu a by snížení hello číslo tooroughly milionů 23.</span><span class="sxs-lookup"><span data-stu-id="e1350-191">However, we recommend being resilient toohello simultaneous loss of a failure domain and an upgrade domain, which represents about 1/3 of capacity, and would reduce hello number tooroughly 23 million.</span></span>

<span data-ttu-id="e1350-192">Všimněte si, že tento výpočet také předpokládá:</span><span class="sxs-lookup"><span data-stu-id="e1350-192">Note that this calculation also assumes:</span></span>

- <span data-ttu-id="e1350-193">Distribuce hello dat mezi oddílů hello je přibližně uniform nebo zda jste generování sestav toohello metriky zatížení clusteru Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="e1350-193">That hello distribution of data across hello partitions is roughly uniform or that you're reporting load metrics toohello Cluster Resource Manager.</span></span> <span data-ttu-id="e1350-194">Ve výchozím nastavení bude vyrovnávat na základě počtu repliky zatížení Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="e1350-194">By default, Service Fabric will load balance based on replica count.</span></span> <span data-ttu-id="e1350-195">V našem příkladu výše, která by v každém uzlu v clusteru hello uveďte 10 primární repliky a 20 sekundární repliky.</span><span class="sxs-lookup"><span data-stu-id="e1350-195">In our example above, that would put 10 primary replicas and 20 secondary replicas on each node in hello cluster.</span></span> <span data-ttu-id="e1350-196">Že to funguje dobře pro zatížení, která je rovnoměrně rozdělené mezi oddílů hello.</span><span class="sxs-lookup"><span data-stu-id="e1350-196">That works well for load that is evenly distributed across hello partitions.</span></span> <span data-ttu-id="e1350-197">Pokud není zatížení i, je nutné, aby hello Resource Manager můžete společně pack menší repliky a povolit více paměti větší tooconsume repliky na jednotlivých uzlech hlásit zatížení.</span><span class="sxs-lookup"><span data-stu-id="e1350-197">If load is not even, you must report load so that hello Resource Manager can pack smaller replicas together and allow larger replicas tooconsume more memory on an individual node.</span></span>

- <span data-ttu-id="e1350-198">Zda je hello spolehlivá služba dotyčném hello pouze jeden ukládání stavu v clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="e1350-198">That hello reliable service in question is hello only one storing state in hello cluster.</span></span> <span data-ttu-id="e1350-199">Vzhledem k tomu, že bude možné nasadit více služeb tooa clusteru, je nutné toobe s vědomím hello prostředky každý potřebovat toorun a spravovat stav.</span><span class="sxs-lookup"><span data-stu-id="e1350-199">Since you can deploy multiple services tooa cluster, you need toobe mindful of hello resources that each will need toorun and manage its state.</span></span>

- <span data-ttu-id="e1350-200">Tento samotného clusteru hello není rostoucí nebo zmenšení.</span><span class="sxs-lookup"><span data-stu-id="e1350-200">That hello cluster itself is not growing or shrinking.</span></span> <span data-ttu-id="e1350-201">Pokud přidáte více počítačů, Service Fabric se znovu vyvážit dodatečnou kapacitu vaší repliky tooleverage hello, dokud hello počet počítačů převyšuje hello počet oddílů ve vaší služby, protože některé replice nemůžou zahrnovat počítače.</span><span class="sxs-lookup"><span data-stu-id="e1350-201">If you add more machines, Service Fabric will rebalance your replicas tooleverage hello additional capacity until hello number of machines surpasses hello number of partitions in your service, since an individual replica cannot span machines.</span></span> <span data-ttu-id="e1350-202">Naopak jestli můžete snížit velikost hello hello clusteru odebráním počítače, bude balí více úzce repliky a mít menší celkové kapacity.</span><span class="sxs-lookup"><span data-stu-id="e1350-202">By contrast, if you reduce hello size of hello cluster by removing machines, your replicas will be packed more tightly and have less overall capacity.</span></span>

### <a name="how-much-data-can-i-store-in-an-actor"></a><span data-ttu-id="e1350-203">Kolik dat můžete ukládat do objektu actor?</span><span class="sxs-lookup"><span data-stu-id="e1350-203">How much data can I store in an actor?</span></span>

<span data-ttu-id="e1350-204">Stejně jako u spolehlivé služby hello množství dat, které můžete ukládat do služby objektu actor je omezen pouze hello celkového místa na disku a dostupné paměti mezi hello uzly v clusteru.</span><span class="sxs-lookup"><span data-stu-id="e1350-204">As with reliable services, hello amount of data that you can store in an actor service is only limited by hello total disk space and memory available across hello nodes in your cluster.</span></span> <span data-ttu-id="e1350-205">Jednotlivé aktéři jsou však co nejúčinnější, když jsou použité tooencapsulate malé množství stavu a přidružených obchodní logiku.</span><span class="sxs-lookup"><span data-stu-id="e1350-205">However, individual actors are most effective when they are used tooencapsulate a small amount of state and associated business logic.</span></span> <span data-ttu-id="e1350-206">Obecně platí musí mít jednotlivé objektu actor stavu, který se měří v kilobajtech.</span><span class="sxs-lookup"><span data-stu-id="e1350-206">As a general rule, an individual actor should have state that is measured in kilobytes.</span></span>

## <a name="other-questions"></a><span data-ttu-id="e1350-207">Další otázky</span><span class="sxs-lookup"><span data-stu-id="e1350-207">Other questions</span></span>

### <a name="how-does-service-fabric-relate-toocontainers"></a><span data-ttu-id="e1350-208">Jak Service Fabric souvisí toocontainers?</span><span class="sxs-lookup"><span data-stu-id="e1350-208">How does Service Fabric relate toocontainers?</span></span>

<span data-ttu-id="e1350-209">Kontejnery nabízejí jednoduchý způsob toopackage služeb a jejich závislosti tak, aby se spustit konzistentně ve všech prostředích a mohou pracovat izolovaným způsobem na jednom počítači.</span><span class="sxs-lookup"><span data-stu-id="e1350-209">Containers offer a simple way toopackage services and their dependencies such that they run consistently in all environments and can operate in an isolated fashion on a single machine.</span></span> <span data-ttu-id="e1350-210">Service Fabric nabízí způsob toodeploy a spravovat služby, včetně [služby, které byly zabaleny v kontejneru](service-fabric-containers-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e1350-210">Service Fabric offers a way toodeploy and manage services, including [services that have been packaged in a container](service-fabric-containers-overview.md).</span></span>

### <a name="are-you-planning-tooopen-source-service-fabric"></a><span data-ttu-id="e1350-211">Pokud plánujete tooopen zdroj Service Fabric?</span><span class="sxs-lookup"><span data-stu-id="e1350-211">Are you planning tooopen source Service Fabric?</span></span>

<span data-ttu-id="e1350-212">Jsme chcete tooopen zdroj hello reliable services a spolehlivé aktéři rozhraní Githubu a bude přijímat projekty toothose příspěvky ze strany komunity.</span><span class="sxs-lookup"><span data-stu-id="e1350-212">We intend tooopen source hello reliable services and reliable actors frameworks on GitHub and will accept community contributions toothose projects.</span></span> <span data-ttu-id="e1350-213">Postupujte podle hello [Service Fabric blog](https://blogs.msdn.microsoft.com/azureservicefabric/) další podrobnosti, jak se budou oznámeny.</span><span class="sxs-lookup"><span data-stu-id="e1350-213">Please follow hello [Service Fabric blog](https://blogs.msdn.microsoft.com/azureservicefabric/) for more details as they're announced.</span></span>

<span data-ttu-id="e1350-214">Hello aktuálně nejsou žádné plány tooopen zdroj hello modulu runtime Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="e1350-214">hello are currently no plans tooopen source hello Service Fabric runtime.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e1350-215">Další kroky</span><span class="sxs-lookup"><span data-stu-id="e1350-215">Next steps</span></span>

- [<span data-ttu-id="e1350-216">Další informace o klíčových konceptech Service Fabric a osvědčené postupy</span><span class="sxs-lookup"><span data-stu-id="e1350-216">Learn about core Service Fabric concepts and best practices</span></span>](https://mva.microsoft.com/en-us/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=tbuZM46yC_5206218965)
