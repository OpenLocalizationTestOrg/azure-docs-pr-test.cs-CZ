---
title: "Azure ServiceFabric diagnostics a monitorování | Microsoft Docs"
description: "Tento článek popisuje funkce monitorování výkonu v modulu runtime Service Fabric spolehlivé ServiceRemoting jako vygenerované tímto čítače výkonu."
services: service-fabric
documentationcenter: .net
author: suchiagicha
manager: timlt
editor: suchiagicha
ms.assetid: 1c229923-670a-4634-ad59-468ff781ad18
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/29/2017
ms.author: suchiagicha
ms.openlocfilehash: f54e157654fb15d2f7ff48ddc666c6c8803c75a2
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/03/2017
---
# <a name="diagnostics-and-performance-monitoring-for-reliable-service-remoting"></a><span data-ttu-id="1ada5-103">Diagnostika a sledování výkonu pro vzdálenou komunikaci spolehlivé služby</span><span class="sxs-lookup"><span data-stu-id="1ada5-103">Diagnostics and performance monitoring for Reliable Service Remoting</span></span>
<span data-ttu-id="1ada5-104">Modul runtime spolehlivé ServiceRemoting vysílá [čítače výkonu](https://msdn.microsoft.com/library/system.diagnostics.performancecounter.aspx).</span><span class="sxs-lookup"><span data-stu-id="1ada5-104">The Reliable ServiceRemoting runtime emits  [performance counters](https://msdn.microsoft.com/library/system.diagnostics.performancecounter.aspx).</span></span> <span data-ttu-id="1ada5-105">Tyto poskytují přehled o tom, jak pracuje ServiceRemoting a pomoci při řešení potíží a monitorování výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-105">These provide insights into how the ServiceRemoting is operating and help with troubleshooting and performance monitoring.</span></span>


## <a name="performance-counters"></a><span data-ttu-id="1ada5-106">Čítače výkonu</span><span class="sxs-lookup"><span data-stu-id="1ada5-106">Performance counters</span></span>
<span data-ttu-id="1ada5-107">Modul runtime spolehlivé ServiceRemoting definuje následující kategorie čítače výkonu:</span><span class="sxs-lookup"><span data-stu-id="1ada5-107">The Reliable ServiceRemoting runtime defines the following performance counter categories:</span></span>

| <span data-ttu-id="1ada5-108">Kategorie</span><span class="sxs-lookup"><span data-stu-id="1ada5-108">Category</span></span> | <span data-ttu-id="1ada5-109">Popis</span><span class="sxs-lookup"><span data-stu-id="1ada5-109">Description</span></span> |
| --- | --- |
| <span data-ttu-id="1ada5-110">Služba Fabric</span><span class="sxs-lookup"><span data-stu-id="1ada5-110">Service Fabric Service</span></span> |<span data-ttu-id="1ada5-111">Čítače specifické pro Azure Service Fabric služby vzdálené komunikace, například průměrná doba zpracování požadavku</span><span class="sxs-lookup"><span data-stu-id="1ada5-111">Counters specific to Azure Service Fabric Service Remoting , for example, average time taken to process request</span></span> |
| <span data-ttu-id="1ada5-112">Metoda služby Service Fabric</span><span class="sxs-lookup"><span data-stu-id="1ada5-112">Service Fabric Service Method</span></span> |<span data-ttu-id="1ada5-113">Čítače specifické pro metody implementované Fabric vzdálené komunikace služby, například jak často je volána metoda služby</span><span class="sxs-lookup"><span data-stu-id="1ada5-113">Counters specific to methods implemented by Service Fabric Remoting Service, for example, how often a service method is invoked</span></span> |

<span data-ttu-id="1ada5-114">Každá z výše uvedených skupin má jeden nebo více čítačů.</span><span class="sxs-lookup"><span data-stu-id="1ada5-114">Each of the preceding categories has one or more counters.</span></span>

<span data-ttu-id="1ada5-115">[Sledování výkonu systému Windows](https://technet.microsoft.com/library/cc749249.aspx) aplikace, která je k dispozici v operačním systému Windows ve výchozím nastavení lze shromažďovat a zobrazovat data čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-115">The [Windows Performance Monitor](https://technet.microsoft.com/library/cc749249.aspx) application that is available by default in the Windows operating system can be used to collect and view performance counter data.</span></span> <span data-ttu-id="1ada5-116">[Azure Diagnostics](../cloud-services/cloud-services-dotnet-diagnostics.md) je další možností pro shromažďování dat čítačů výkonu a pak ho nahrát do tabulek Azure.</span><span class="sxs-lookup"><span data-stu-id="1ada5-116">[Azure Diagnostics](../cloud-services/cloud-services-dotnet-diagnostics.md) is another option for collecting performance counter data and uploading it to Azure tables.</span></span>

### <a name="performance-counter-instance-names"></a><span data-ttu-id="1ada5-117">Názvy instancí čítače výkonu</span><span class="sxs-lookup"><span data-stu-id="1ada5-117">Performance counter instance names</span></span>
<span data-ttu-id="1ada5-118">Cluster, který má velký počet ServiceRemoting služby nebo oddíly mít velký počet instancí čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-118">A cluster that has a large number of  ServiceRemoting services or partitions have a large number of  performance counter instances.</span></span> <span data-ttu-id="1ada5-119">Názvy instancí čítače výkonu může pomoci při identifikaci konkrétní oddíl a metoda služby (pokud existuje), je spojen instance čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-119">The performance counter instance names can help in identifying the specific partition and Service method (if applicable) that the performance counter instance is associated with.</span></span>

#### <a name="service-fabric-service-category"></a><span data-ttu-id="1ada5-120">Kategorie Service Fabric Service</span><span class="sxs-lookup"><span data-stu-id="1ada5-120">Service Fabric Service category</span></span>
<span data-ttu-id="1ada5-121">Pro kategorii `Service Fabric Service`, názvy instancí čítače jsou v následujícím formátu:</span><span class="sxs-lookup"><span data-stu-id="1ada5-121">For the category `Service Fabric Service`, the counter instance names are in the following format:</span></span>

`ServiceFabricPartitionID_ServiceReplicaOrInstanceId_ServiceRuntimeInternalID`

<span data-ttu-id="1ada5-122">*ServiceFabricPartitionID* je řetězcová reprezentace Service Fabric ID oddílu, který je přidružen instance čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-122">*ServiceFabricPartitionID* is the string representation of the Service Fabric partition ID that the performance counter instance is associated with.</span></span> <span data-ttu-id="1ada5-123">ID oddílu je identifikátor GUID a jeho řetězcovou reprezentaci vygeneruje prostřednictvím [ `Guid.ToString` ](https://msdn.microsoft.com/library/97af8hh4.aspx) metoda s specifikátor formátu "D".</span><span class="sxs-lookup"><span data-stu-id="1ada5-123">The partition ID is a GUID, and its string representation is generated through the [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) method with format specifier "D".</span></span>

<span data-ttu-id="1ada5-124">*ServiceReplicaOrInstanceId* je řetězcová reprezentace ID repliky nebo instanci služby prostředků infrastruktury, které je přidružené instance čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-124">*ServiceReplicaOrInstanceId* is the string representation of the Service Fabric Replica/Instance ID that the performance counter instance is associated with.</span></span>

<span data-ttu-id="1ada5-125">*ServiceRuntimeInternalID* je řetězcová reprezentace 64bitové celé číslo, které se generují ve službě technologie Fabric runtime pro interní použití.</span><span class="sxs-lookup"><span data-stu-id="1ada5-125">*ServiceRuntimeInternalID* is the string representation of a 64-bit integer that is generated by the Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="1ada5-126">To je součástí název instance čítače výkonu k zajištění jeho jedinečnosti a aby nedošlo ke konfliktu s další názvy instancí čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-126">This is included in the performance counter instance name to ensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="1ada5-127">Uživatelé by se neměl pokoušet interpretovat tuto část název instance čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-127">Users should not try to interpret this portion of the performance counter instance name.</span></span>

<span data-ttu-id="1ada5-128">Následuje příklad názvu instance čítače čítače, které patří `Service Fabric Service` kategorie:</span><span class="sxs-lookup"><span data-stu-id="1ada5-128">The following is an example of a counter instance name for a counter that belongs to the `Service Fabric Service` category:</span></span>

`2740af29-78aa-44bc-a20b-7e60fb783264_635650083799324046_5008379932`

<span data-ttu-id="1ada5-129">V předchozím příkladu `2740af29-78aa-44bc-a20b-7e60fb783264` je řetězcová reprezentace ID oddílu Service Fabric, `635650083799324046` je řetězcová reprezentace repliky nebo InstanceId a `5008379932` je 64-bit ID, které se generuje pro modul runtime interní použití.</span><span class="sxs-lookup"><span data-stu-id="1ada5-129">In the preceding example, `2740af29-78aa-44bc-a20b-7e60fb783264` is the string representation of the Service Fabric partition ID, `635650083799324046` is string representation of Replica/InstanceId and `5008379932` is the 64-bit ID that is generated for the runtime's internal use.</span></span>

#### <a name="service-fabric-service-method-category"></a><span data-ttu-id="1ada5-130">Kategorie metody služby Service Fabric</span><span class="sxs-lookup"><span data-stu-id="1ada5-130">Service Fabric Service Method category</span></span>
<span data-ttu-id="1ada5-131">Pro kategorii `Service Fabric Service Method`, názvy instancí čítače jsou v následujícím formátu:</span><span class="sxs-lookup"><span data-stu-id="1ada5-131">For the category `Service Fabric Service Method`, the counter instance names are in the following format:</span></span>

`MethodName_ServiceRuntimeMethodId_ServiceFabricPartitionID_ServiceReplicaOrInstanceId_ServiceRuntimeInternalID`

<span data-ttu-id="1ada5-132">*MethodName* je název služby metody, které je přidružené instance čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-132">*MethodName* is the name of the service method that the performance counter instance is associated with.</span></span> <span data-ttu-id="1ada5-133">Formát název metody je určen na základě některé postupu v modulu runtime Fabric Service, který vyrovnává čitelnost názvu s omezeními na maximální délku názvy instancí čítače výkonu v systému Windows.</span><span class="sxs-lookup"><span data-stu-id="1ada5-133">The format of the method name is determined based on some logic in the Fabric Service runtime that balances the readability of the name with constraints on the maximum length of the performance counter instance names on Windows.</span></span>

<span data-ttu-id="1ada5-134">*ServiceRuntimeMethodId* je řetězcová reprezentace 32bitové celé číslo, které se generují ve službě technologie Fabric runtime pro interní použití.</span><span class="sxs-lookup"><span data-stu-id="1ada5-134">*ServiceRuntimeMethodId* is the string representation of a 32-bit integer that is generated by the Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="1ada5-135">To je součástí název instance čítače výkonu k zajištění jeho jedinečnosti a aby nedošlo ke konfliktu s další názvy instancí čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-135">This is included in the performance counter instance name to ensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="1ada5-136">Uživatelé by se neměl pokoušet interpretovat tuto část název instance čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-136">Users should not try to interpret this portion of the performance counter instance name.</span></span>

<span data-ttu-id="1ada5-137">*ServiceFabricPartitionID* je řetězcová reprezentace Service Fabric ID oddílu, který je přidružen instance čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-137">*ServiceFabricPartitionID* is the string representation of the Service Fabric partition ID that the performance counter instance is associated with.</span></span> <span data-ttu-id="1ada5-138">ID oddílu je identifikátor GUID a jeho řetězcovou reprezentaci vygeneruje prostřednictvím [ `Guid.ToString` ](https://msdn.microsoft.com/library/97af8hh4.aspx) metoda s specifikátor formátu "D".</span><span class="sxs-lookup"><span data-stu-id="1ada5-138">The partition ID is a GUID, and its string representation is generated through the [`Guid.ToString`](https://msdn.microsoft.com/library/97af8hh4.aspx) method with format specifier "D".</span></span>

<span data-ttu-id="1ada5-139">*ServiceReplicaOrInstanceId* je řetězcová reprezentace ID repliky nebo instanci služby prostředků infrastruktury, které je přidružené instance čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-139">*ServiceReplicaOrInstanceId* is the string representation of the Service Fabric Replica/Instance ID that the performance counter instance is associated with.</span></span>

<span data-ttu-id="1ada5-140">*ServiceRuntimeInternalID* je řetězcová reprezentace 64bitové celé číslo, které se generují ve službě technologie Fabric runtime pro interní použití.</span><span class="sxs-lookup"><span data-stu-id="1ada5-140">*ServiceRuntimeInternalID* is the string representation of a 64-bit integer that is generated by the Fabric Service runtime for its internal use.</span></span> <span data-ttu-id="1ada5-141">To je součástí název instance čítače výkonu k zajištění jeho jedinečnosti a aby nedošlo ke konfliktu s další názvy instancí čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-141">This is included in the performance counter instance name to ensure its uniqueness and avoid conflict with other performance counter instance names.</span></span> <span data-ttu-id="1ada5-142">Uživatelé by se neměl pokoušet interpretovat tuto část název instance čítače výkonu.</span><span class="sxs-lookup"><span data-stu-id="1ada5-142">Users should not try to interpret this portion of the performance counter instance name.</span></span>

<span data-ttu-id="1ada5-143">Následuje příklad názvu instance čítače čítače, které patří `Service Fabric Service Method` kategorie:</span><span class="sxs-lookup"><span data-stu-id="1ada5-143">The following is an example of a counter instance name for a counter that belongs to the `Service Fabric Service Method` category:</span></span>

`ivoicemailboxservice.leavemessageasync_2_89383d32-e57e-4a9b-a6ad-57c6792aa521_635650083804480486_5008380`

<span data-ttu-id="1ada5-144">V předchozím příkladu `ivoicemailboxservice.leavemessageasync` je název metody `2` je 32bitové ID generovaná pro interní použití modulu runtime, `89383d32-e57e-4a9b-a6ad-57c6792aa521` je řetězcová reprezentace ID oddílu Service Fabric,`635650083804480486` je řetězcová reprezentace ID repliky nebo instanci služby prostředků infrastruktury a `5008380` je ID 64-bit, vygeneruje pro modul runtime interní používat.</span><span class="sxs-lookup"><span data-stu-id="1ada5-144">In the preceding example, `ivoicemailboxservice.leavemessageasync` is the method name, `2` is the 32-bit ID generated for the runtime's internal use, `89383d32-e57e-4a9b-a6ad-57c6792aa521` is the string representation of the Service Fabric partition ID,`635650083804480486` is the string representation of the Service Fabric Replica/Instance ID and `5008380` is the 64-bit ID generated for the runtime's internal use.</span></span>

## <a name="list-of-performance-counters"></a><span data-ttu-id="1ada5-145">Seznam čítačů výkonu</span><span class="sxs-lookup"><span data-stu-id="1ada5-145">List of Performance counters</span></span>
### <a name="service-method-performance-counters"></a><span data-ttu-id="1ada5-146">Čítače výkonu služby – metoda</span><span class="sxs-lookup"><span data-stu-id="1ada5-146">Service method performance counters</span></span>

<span data-ttu-id="1ada5-147">Spolehlivé služby modulu runtime publikuje následující čítače výkonu týkající se spouštění služby metody.</span><span class="sxs-lookup"><span data-stu-id="1ada5-147">The Reliable Service runtime publishes the following performance counters related to the execution of service methods.</span></span>

| <span data-ttu-id="1ada5-148">Název kategorie</span><span class="sxs-lookup"><span data-stu-id="1ada5-148">Category name</span></span> | <span data-ttu-id="1ada5-149">Název čítače</span><span class="sxs-lookup"><span data-stu-id="1ada5-149">Counter name</span></span> | <span data-ttu-id="1ada5-150">Popis</span><span class="sxs-lookup"><span data-stu-id="1ada5-150">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1ada5-151">Metoda služby Service Fabric</span><span class="sxs-lookup"><span data-stu-id="1ada5-151">Service Fabric Service Method</span></span> |<span data-ttu-id="1ada5-152">Volání za sekundu</span><span class="sxs-lookup"><span data-stu-id="1ada5-152">Invocations/Sec</span></span> |<span data-ttu-id="1ada5-153">Kolikrát za sekundu je vyvolána metoda služby</span><span class="sxs-lookup"><span data-stu-id="1ada5-153">Number of times that the  service method is invoked per second</span></span> |
| <span data-ttu-id="1ada5-154">Metoda služby Service Fabric</span><span class="sxs-lookup"><span data-stu-id="1ada5-154">Service Fabric Service Method</span></span> |<span data-ttu-id="1ada5-155">Průměrný počet milisekund na vyvolání</span><span class="sxs-lookup"><span data-stu-id="1ada5-155">Average milliseconds per invocation</span></span> |<span data-ttu-id="1ada5-156">Doba k provedení metody služby v milisekundách</span><span class="sxs-lookup"><span data-stu-id="1ada5-156">Time taken to execute the service method in milliseconds</span></span> |
| <span data-ttu-id="1ada5-157">Metoda služby Service Fabric</span><span class="sxs-lookup"><span data-stu-id="1ada5-157">Service Fabric Service Method</span></span> |<span data-ttu-id="1ada5-158">Výjimek vyvolaných za sekundu</span><span class="sxs-lookup"><span data-stu-id="1ada5-158">Exceptions thrown/Sec</span></span> |<span data-ttu-id="1ada5-159">Počet, metoda služby došlo k výjimce za sekundu</span><span class="sxs-lookup"><span data-stu-id="1ada5-159">Number of times that the service method threw an exception per second</span></span> |

### <a name="service-request-processing-performance-counters"></a><span data-ttu-id="1ada5-160">Čítače výkonu zpracování žádosti o služby</span><span class="sxs-lookup"><span data-stu-id="1ada5-160">Service request processing performance counters</span></span>
<span data-ttu-id="1ada5-161">Když klient vyvolá metodu prostřednictvím objekt proxy služby, výsledkem zprávu požadavku odesílány přes síť ke službě vzdálené komunikace.</span><span class="sxs-lookup"><span data-stu-id="1ada5-161">When a client invokes a method via a service proxy object, it results in a request message being sent over the network to the remoting service.</span></span> <span data-ttu-id="1ada5-162">Služba zpracovává zprávu požadavku a odešle odpověď zpět klientovi.</span><span class="sxs-lookup"><span data-stu-id="1ada5-162">The service processes the request message and sends a response back to the client.</span></span> <span data-ttu-id="1ada5-163">Modul runtime spolehlivé ServiceRemoting publikuje následující čítače výkonu související s zpracování žádosti o služby.</span><span class="sxs-lookup"><span data-stu-id="1ada5-163">The Reliable ServiceRemoting runtime publishes the following performance counters related to service request processing.</span></span>

| <span data-ttu-id="1ada5-164">Název kategorie</span><span class="sxs-lookup"><span data-stu-id="1ada5-164">Category name</span></span> | <span data-ttu-id="1ada5-165">Název čítače</span><span class="sxs-lookup"><span data-stu-id="1ada5-165">Counter name</span></span> | <span data-ttu-id="1ada5-166">Popis</span><span class="sxs-lookup"><span data-stu-id="1ada5-166">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1ada5-167">Služba Fabric</span><span class="sxs-lookup"><span data-stu-id="1ada5-167">Service Fabric Service</span></span> |<span data-ttu-id="1ada5-168">Počet zbývajících požadavků</span><span class="sxs-lookup"><span data-stu-id="1ada5-168"># of outstanding requests</span></span> |<span data-ttu-id="1ada5-169">Počet požadavků zpracovaných ve službě</span><span class="sxs-lookup"><span data-stu-id="1ada5-169">Number of requests being processed in the service</span></span> |
| <span data-ttu-id="1ada5-170">Služba Fabric</span><span class="sxs-lookup"><span data-stu-id="1ada5-170">Service Fabric Service</span></span> |<span data-ttu-id="1ada5-171">Průměrný počet milisekund na žádost</span><span class="sxs-lookup"><span data-stu-id="1ada5-171">Average milliseconds per request</span></span> |<span data-ttu-id="1ada5-172">Doba trvání (v milisekundách) pomocí služby zpracovat požadavek</span><span class="sxs-lookup"><span data-stu-id="1ada5-172">Time taken (in milliseconds) by the service to process a request</span></span> |
| <span data-ttu-id="1ada5-173">Služba Fabric</span><span class="sxs-lookup"><span data-stu-id="1ada5-173">Service Fabric Service</span></span> |<span data-ttu-id="1ada5-174">Průměrný počet milisekund deserializace požadavků</span><span class="sxs-lookup"><span data-stu-id="1ada5-174">Average milliseconds for request deserialization</span></span> |<span data-ttu-id="1ada5-175">Doba (v milisekundách) k deserializaci zprávu požadavku služby, když je obdržena na službu</span><span class="sxs-lookup"><span data-stu-id="1ada5-175">Time taken (in milliseconds) to deserialize service request message when it is received at the service</span></span> |
| <span data-ttu-id="1ada5-176">Služba Fabric</span><span class="sxs-lookup"><span data-stu-id="1ada5-176">Service Fabric Service</span></span> |<span data-ttu-id="1ada5-177">Průměrný počet milisekund serializace odpovědí</span><span class="sxs-lookup"><span data-stu-id="1ada5-177">Average milliseconds for response serialization</span></span> |<span data-ttu-id="1ada5-178">Doba (v milisekundách) k serializaci služby zprávu odpovědi na službu předtím, než odešle odpověď klienta</span><span class="sxs-lookup"><span data-stu-id="1ada5-178">Time taken (in milliseconds) to serialize the service response message at the service before the response is sent to the client</span></span> |

## <a name="next-steps"></a><span data-ttu-id="1ada5-179">Další kroky</span><span class="sxs-lookup"><span data-stu-id="1ada5-179">Next steps</span></span>
* [<span data-ttu-id="1ada5-180">Ukázka kódu</span><span class="sxs-lookup"><span data-stu-id="1ada5-180">Sample code</span></span>](https://github.com/Azure/servicefabric-samples)
* [<span data-ttu-id="1ada5-181">Zprostředkovatelé EventSource v nástroje PerfView</span><span class="sxs-lookup"><span data-stu-id="1ada5-181">EventSource providers in PerfView</span></span>](https://blogs.msdn.microsoft.com/vancem/2012/07/09/introduction-tutorial-logging-etw-events-in-c-system-diagnostics-tracing-eventsource/)
