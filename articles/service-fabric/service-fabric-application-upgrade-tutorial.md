---
title: "aaaService prostředků infrastruktury aplikace upgradu kurzu | Microsoft Docs"
description: "Tento článek vás provede hello činnost nasazení aplikace Service Fabric, změna hello kódu a zavádění upgrade pomocí sady Visual Studio."
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: timlt
editor: 
ms.assetid: a3181a7a-9ab1-4216-b07a-05b79bd826a4
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: d069ff0b291018dbac846e65cddff1e9d73d156c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-application-upgrade-tutorial-using-visual-studio"></a><span data-ttu-id="3ad86-103">Kurz upgradu Service Fabric aplikace pomocí sady Visual Studio</span><span class="sxs-lookup"><span data-stu-id="3ad86-103">Service Fabric application upgrade tutorial using Visual Studio</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="3ad86-104">PowerShell</span><span class="sxs-lookup"><span data-stu-id="3ad86-104">PowerShell</span></span>](service-fabric-application-upgrade-tutorial-powershell.md)
> * [<span data-ttu-id="3ad86-105">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="3ad86-105">Visual Studio</span></span>](service-fabric-application-upgrade-tutorial.md)
> 
> 

<br/>

<span data-ttu-id="3ad86-106">Azure Service Fabric zjednodušuje proces hello upgrade cloudovým aplikacím tím, že zajistí, že budou upgradovány pouze změněné služby a zda je monitorovaný stavu aplikací v rámci procesu upgradu hello.</span><span class="sxs-lookup"><span data-stu-id="3ad86-106">Azure Service Fabric simplifies hello process of upgrading cloud applications by ensuring that only changed services are upgraded, and that application health is monitored throughout hello upgrade process.</span></span> <span data-ttu-id="3ad86-107">Je také automaticky vrátí zpět předchozí verze toohello hello aplikace při zjištění problémy.</span><span class="sxs-lookup"><span data-stu-id="3ad86-107">It also automatically rolls back hello application toohello previous version upon encountering issues.</span></span> <span data-ttu-id="3ad86-108">Upgrade aplikace Service Fabric je *nula. výpadků*, protože můžete provést upgrade aplikace hello bez výpadků.</span><span class="sxs-lookup"><span data-stu-id="3ad86-108">Service Fabric application upgrades are *Zero Downtime*, since hello application can be upgraded with no downtime.</span></span> <span data-ttu-id="3ad86-109">Tento kurz se zaměřuje na tom, jak toocomplete postupného upgradu ze sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3ad86-109">This tutorial covers how toocomplete a rolling upgrade from Visual Studio.</span></span>

## <a name="step-1-build-and-publish-hello-visual-objects-sample"></a><span data-ttu-id="3ad86-110">Krok 1: Vytvoření a publikování ukázkové vizuální objekty hello</span><span class="sxs-lookup"><span data-stu-id="3ad86-110">Step 1: Build and publish hello Visual Objects sample</span></span>
<span data-ttu-id="3ad86-111">Nejprve stáhnout hello [vizuální objekty](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started/tree/classic/Actors/VisualObjects) aplikace z webu GitHub.</span><span class="sxs-lookup"><span data-stu-id="3ad86-111">First, download hello [Visual Objects](https://github.com/Azure-Samples/service-fabric-dotnet-getting-started/tree/classic/Actors/VisualObjects) application from GitHub.</span></span> <span data-ttu-id="3ad86-112">Potom sestavení a publikování aplikace hello kliknutím pravým tlačítkem na projekt aplikace hello, **VisualObjects**a výběr hello **publikovat** v položku nabídky hello Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="3ad86-112">Then, build and publish hello application by right-clicking on hello application project, **VisualObjects**, and selecting hello **Publish** command in hello Service Fabric menu item.</span></span>

![Kontextové nabídky pro aplikace Service Fabric][image1]

<span data-ttu-id="3ad86-114">Výběr **publikovat** otevře místní okno, a můžete nastavit hello **cíle profil** příliš**PublishProfiles\Local.xml**.</span><span class="sxs-lookup"><span data-stu-id="3ad86-114">Selecting **Publish** brings up a popup, and you can set hello **Target profile** too**PublishProfiles\Local.xml**.</span></span> <span data-ttu-id="3ad86-115">Hello okno by měl vypadat jako následující hello před kliknutím na **publikovat**.</span><span class="sxs-lookup"><span data-stu-id="3ad86-115">hello window should look like hello following before you click **Publish**.</span></span>

![Publikování aplikace Service Fabric][image2]

<span data-ttu-id="3ad86-117">Teď můžete kliknout na **publikovat** v dialogovém okně hello.</span><span class="sxs-lookup"><span data-stu-id="3ad86-117">Now you can click **Publish** in hello dialog box.</span></span> <span data-ttu-id="3ad86-118">Můžete použít [aplikace Service Fabric Explorer tooview hello clusteru a hello](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="3ad86-118">You can use [Service Fabric Explorer tooview hello cluster and hello application](service-fabric-visualizing-your-cluster.md).</span></span> <span data-ttu-id="3ad86-119">Hello vizuální objekty aplikace má webové služby, můžete přejít zadáním tooby [http://localhost:8081/visualobjects/](http://localhost:8081/visualobjects/) hello adresního řádku prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="3ad86-119">hello Visual Objects application has a web service that you can go tooby typing [http://localhost:8081/visualobjects/](http://localhost:8081/visualobjects/) in hello address bar of your browser.</span></span>  <span data-ttu-id="3ad86-120">Měli byste vidět 10 plovoucí vizuální objekty pohyb na úvodní obrazovka.</span><span class="sxs-lookup"><span data-stu-id="3ad86-120">You should see 10 floating visual objects moving around on hello screen.</span></span>

<span data-ttu-id="3ad86-121">**Poznámka:** Pokud nasazení příliš`Cloud.xml` profilu (Azure Service Fabric), aplikace hello potom by mělo být k dispozici na **http://{ServiceFabricName}. { Region}.cloudapp.Azure.com:8081/visualobjects/**.</span><span class="sxs-lookup"><span data-stu-id="3ad86-121">**NOTE:** If deploying too`Cloud.xml` profile (Azure Service Fabric), hello application should then be available at **http://{ServiceFabricName}.{Region}.cloudapp.azure.com:8081/visualobjects/**.</span></span> <span data-ttu-id="3ad86-122">Zajistěte, aby byla `8081/TCP` nakonfigurované v hello nástroj pro vyrovnávání zatížení (najde hello nástroj pro vyrovnávání zatížení v hello stejné skupině prostředků jako hello Service Fabric instance).</span><span class="sxs-lookup"><span data-stu-id="3ad86-122">Make sure you do have `8081/TCP` configured in hello Load Balancer (find hello Load Balancer in hello same resource group as hello Service Fabric instance).</span></span>

## <a name="step-2-update-hello-visual-objects-sample"></a><span data-ttu-id="3ad86-123">Krok 2: Aktualizace Ukázka vizuální objekty hello</span><span class="sxs-lookup"><span data-stu-id="3ad86-123">Step 2: Update hello Visual Objects sample</span></span>
<span data-ttu-id="3ad86-124">Můžete si všimnout, že s verzí hello, který byl nasazen v kroku 1, není otočit hello vizuální objekty.</span><span class="sxs-lookup"><span data-stu-id="3ad86-124">You might notice that with hello version that was deployed in step 1, hello visual objects do not rotate.</span></span> <span data-ttu-id="3ad86-125">Umožňuje upgradovat tento tooone aplikace, kde také otočit hello vizuální objekty.</span><span class="sxs-lookup"><span data-stu-id="3ad86-125">Let's upgrade this application tooone where hello visual objects also rotate.</span></span>

<span data-ttu-id="3ad86-126">Vyberte projekt VisualObjects.ActorService hello v rámci hello VisualObjects řešení a otevřete hello **VisualObjectActor.cs** souboru.</span><span class="sxs-lookup"><span data-stu-id="3ad86-126">Select hello VisualObjects.ActorService project within hello VisualObjects solution, and open hello **VisualObjectActor.cs** file.</span></span> <span data-ttu-id="3ad86-127">V rámci tohoto souboru, přejděte metoda toohello `MoveObject`, komentář `visualObject.Move(false)`a zrušte komentář u `visualObject.Move(true)`.</span><span class="sxs-lookup"><span data-stu-id="3ad86-127">Within that file, go toohello method `MoveObject`, comment out `visualObject.Move(false)`, and uncomment `visualObject.Move(true)`.</span></span> <span data-ttu-id="3ad86-128">Tato změna kódu otočí hello objekty po upgradu služby hello.</span><span class="sxs-lookup"><span data-stu-id="3ad86-128">This code change rotates hello objects after hello service is upgraded.</span></span>  <span data-ttu-id="3ad86-129">**Nyní můžete vytvořit (ne opětovné sestavení) hello řešení**, která sestavení hello upravit projekty.</span><span class="sxs-lookup"><span data-stu-id="3ad86-129">**Now you can build (not rebuild) hello solution**, which builds hello modified projects.</span></span> <span data-ttu-id="3ad86-130">Pokud vyberete *znovu vytvořit všechny*, máte tooupdate hello verze pro všechny hello projekty.</span><span class="sxs-lookup"><span data-stu-id="3ad86-130">If you select *Rebuild all*, you have tooupdate hello versions for all hello projects.</span></span>

<span data-ttu-id="3ad86-131">Také potřebujeme tooversion naší aplikace.</span><span class="sxs-lookup"><span data-stu-id="3ad86-131">We also need tooversion our application.</span></span> <span data-ttu-id="3ad86-132">verze hello toomake změny po kliknutí pravým tlačítkem na hello **VisualObjects** projektu, můžete použít hello Visual Studio **upravit verze manifestu** možnost.</span><span class="sxs-lookup"><span data-stu-id="3ad86-132">toomake hello version changes after you right-click on hello **VisualObjects** project, you can use hello Visual Studio **Edit Manifest Versions** option.</span></span> <span data-ttu-id="3ad86-133">Tato možnost zobrazí hello dialogové okno pro edition verze následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="3ad86-133">Selecting this option brings up hello dialog box for edition versions as follows:</span></span>

![Dialogové okno Správa verzí][image3]

<span data-ttu-id="3ad86-135">Projekty a jejich kód balíčky, společně s tooversion aplikace hello 2.0.0 upravil hello verze aktualizací pro hello</span><span class="sxs-lookup"><span data-stu-id="3ad86-135">Update hello versions for hello modified projects and their code packages, along with hello application tooversion 2.0.0.</span></span> <span data-ttu-id="3ad86-136">Po provedení změn hello, hello manifest by měl vypadat jako následující hello (tučné části zobrazit změny hello):</span><span class="sxs-lookup"><span data-stu-id="3ad86-136">After hello changes are made, hello manifest should look like hello following (bold portions show hello changes):</span></span>

![Aktualizace verze][image4]

<span data-ttu-id="3ad86-138">Nástroje sady Visual Studio Hello můžete provést automatické kumulativní verzí při výběru **automatické aktualizaci aplikace a verze aktualizace service**.</span><span class="sxs-lookup"><span data-stu-id="3ad86-138">hello Visual Studio tools can do automatic rollups of versions upon selecting **Automatically update application and service versions**.</span></span> <span data-ttu-id="3ad86-139">Pokud používáte [SemVer](http://www.semver.org), je nutné tooupdate hello kódu a/nebo konfigurace balíčku verze samostatně, pokud tuto možnost.</span><span class="sxs-lookup"><span data-stu-id="3ad86-139">If you use [SemVer](http://www.semver.org), you need tooupdate hello code and/or configuration package version alone if that option is selected.</span></span>

<span data-ttu-id="3ad86-140">Uložte změny hello a nyní zkontrolujte hello **upgradu hello aplikace** pole.</span><span class="sxs-lookup"><span data-stu-id="3ad86-140">Save hello changes, and now check hello **Upgrade hello Application** box.</span></span>

## <a name="step-3--upgrade-your-application"></a><span data-ttu-id="3ad86-141">Krok 3: Upgradu vaší aplikace</span><span class="sxs-lookup"><span data-stu-id="3ad86-141">Step 3:  Upgrade your application</span></span>
<span data-ttu-id="3ad86-142">Seznamte se s hello [parametry upgradu aplikace](service-fabric-application-upgrade-parameters.md) a hello [procesu upgradu](service-fabric-application-upgrade.md) tooget dobrou znalost jazyka hello různé parametry, vypršení časových limitů a stavu kritérium, které můžete upgradovat použít.</span><span class="sxs-lookup"><span data-stu-id="3ad86-142">Familiarize yourself with hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and hello [upgrade process](service-fabric-application-upgrade.md) tooget a good understanding of hello various upgrade parameters, time-outs, and health criterion that can be applied.</span></span> <span data-ttu-id="3ad86-143">V tomto návodu je nastavit kritéria hodnocení stavu služby hello toohello výchozí (sledována režim).</span><span class="sxs-lookup"><span data-stu-id="3ad86-143">For this walkthrough, hello service health evaluation criterion is set toohello default (unmonitored mode).</span></span> <span data-ttu-id="3ad86-144">Tato nastavení můžete nakonfigurovat tak, že vyberete **nakonfigurovat nastavení upgradu** a poté upravíte parametry hello podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="3ad86-144">You can configure these settings by selecting **Configure Upgrade Settings** and then modifying hello parameters as desired.</span></span>

<span data-ttu-id="3ad86-145">Teď nemůžeme se všechny aplikace hello toostart sadu upgradu výběrem **publikovat**.</span><span class="sxs-lookup"><span data-stu-id="3ad86-145">Now we are all set toostart hello application upgrade by selecting **Publish**.</span></span> <span data-ttu-id="3ad86-146">Tato možnost provede upgrade vaší aplikace tooversion 2.0.0, ve kterém otočit hello objekty.</span><span class="sxs-lookup"><span data-stu-id="3ad86-146">This option upgrades your application tooversion 2.0.0, in which hello objects rotate.</span></span> <span data-ttu-id="3ad86-147">Service Fabric upgraduje jednu aktualizační doménu najednou (některé objekty se aktualizují jako první, za nímž následuje jiné) a služby hello zůstávají dostupné během upgradu hello.</span><span class="sxs-lookup"><span data-stu-id="3ad86-147">Service Fabric upgrades one update domain at a time (some objects are updated first, followed by others), and hello service remains accessible during hello upgrade.</span></span> <span data-ttu-id="3ad86-148">Služba toohello Access lze zkontrolovat prostřednictvím vašeho klienta (prohlížeč).</span><span class="sxs-lookup"><span data-stu-id="3ad86-148">Access toohello service can be checked through your client (browser).</span></span>  

<span data-ttu-id="3ad86-149">Nyní, jako hello aplikace upgradu bude pokračovat, je možné jej monitorovat pomocí Service Fabric Exploreru pomocí hello **upgrady v průběhu** na kartě aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="3ad86-149">Now, as hello application upgrade proceeds, you can monitor it with Service Fabric Explorer, by using hello **Upgrades in Progress** tab under hello applications.</span></span>

<span data-ttu-id="3ad86-150">Za několik minut všechny domény aktualizace je potřeba upgradovat (Dokončit), a okno výstup sady Visual Studio hello by také stavu že dokončení upgradu této hello.</span><span class="sxs-lookup"><span data-stu-id="3ad86-150">In a few minutes, all update domains should be upgraded (completed), and hello Visual Studio output window should also state that hello upgrade is completed.</span></span> <span data-ttu-id="3ad86-151">A by měl zjistit, který *všechny* hello vizuální objekty v okně prohlížeče jsou nyní otáčení!</span><span class="sxs-lookup"><span data-stu-id="3ad86-151">And you should find that *all* hello visual objects in your browser window are now rotating!</span></span>

<span data-ttu-id="3ad86-152">Můžete má tootry změna hello verze a přesouvání z verze 2.0.0 tooversion 3.0.0 jako cvičení, nebo dokonce z verze 2.0.0 zpět tooversion 1.0.0.</span><span class="sxs-lookup"><span data-stu-id="3ad86-152">You may want tootry changing hello versions, and moving from version 2.0.0 tooversion 3.0.0 as an exercise, or even from version 2.0.0 back tooversion 1.0.0.</span></span> <span data-ttu-id="3ad86-153">Přehrání s vypršení časových limitů a toomake zásady stavu sami obeznámeni s nimi.</span><span class="sxs-lookup"><span data-stu-id="3ad86-153">Play with time-outs and health policies toomake yourself familiar with them.</span></span> <span data-ttu-id="3ad86-154">Po nasazení clusteru Azure jako tooan byl proti tooa místní cluster, může být použité parametry hello toodiffer.</span><span class="sxs-lookup"><span data-stu-id="3ad86-154">When deploying tooan Azure cluster as opposed tooa local cluster, hello parameters used may have toodiffer.</span></span> <span data-ttu-id="3ad86-155">Doporučujeme vám, můžete nastavit hello vypršení časových limitů.</span><span class="sxs-lookup"><span data-stu-id="3ad86-155">We recommend that you set hello time-outs conservatively.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3ad86-156">Další kroky</span><span class="sxs-lookup"><span data-stu-id="3ad86-156">Next steps</span></span>
<span data-ttu-id="3ad86-157">[Upgrade vaší aplikace pomocí prostředí PowerShell](service-fabric-application-upgrade-tutorial-powershell.md) vás provede upgrade aplikace pomocí prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="3ad86-157">[Upgrading your application using PowerShell](service-fabric-application-upgrade-tutorial-powershell.md) walks you through an application upgrade using PowerShell.</span></span>

<span data-ttu-id="3ad86-158">Řídí, jak je upgrade vaší aplikace pomocí [upgrade parametry](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="3ad86-158">Control how your application is upgraded by using [upgrade parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="3ad86-159">Aby aplikace upgradů kompatibilní metodou učení jak toouse [serializace dat](service-fabric-application-upgrade-data-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="3ad86-159">Make your application upgrades compatible by learning how toouse [data serialization](service-fabric-application-upgrade-data-serialization.md).</span></span>

<span data-ttu-id="3ad86-160">Zjistěte, jak toouse pokročilé funkce při upgradu vaší aplikace tím, že odkazuje příliš[Advanced témata](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="3ad86-160">Learn how toouse advanced functionality while upgrading your application by referring too[Advanced topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="3ad86-161">Řešení běžných potíží v upgradů aplikací tím, že odkazuje toohello kroky v [řešení potíží s aplikací upgrady](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="3ad86-161">Fix common problems in application upgrades by referring toohello steps in [Troubleshooting application upgrades](service-fabric-application-upgrade-troubleshooting.md).</span></span>

[image1]: media/service-fabric-application-upgrade-tutorial/upgrade7.png
[image2]: media/service-fabric-application-upgrade-tutorial/upgrade1.png
[image3]: media/service-fabric-application-upgrade-tutorial/upgrade5.png
[image4]: media/service-fabric-application-upgrade-tutorial/upgrade6.png
