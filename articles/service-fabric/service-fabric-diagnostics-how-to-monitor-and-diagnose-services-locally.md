---
title: "aaaDebug Azure mikroslužeb v systému Windows | Microsoft Docs"
description: "Zjistěte, jak toomonitor a diagnostikovat vaše služby vytvořené pomocí Microsoft Azure Service Fabric na místním vývojovém počítači."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: edcc0631-ed2d-45a3-851d-2c4fa0f4a326
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/24/2017
ms.author: dekapur
ms.openlocfilehash: 24868aa194b8a28fa3e6de95c1de5506d912a544
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="monitor-and-diagnose-services-in-a-local-machine-development-setup"></a><span data-ttu-id="2a47a-103">Monitorování a Diagnostika služby v instalačním programu pro vývoj místním počítači</span><span class="sxs-lookup"><span data-stu-id="2a47a-103">Monitor and diagnose services in a local machine development setup</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="2a47a-104">Windows</span><span class="sxs-lookup"><span data-stu-id="2a47a-104">Windows</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md)
> * [<span data-ttu-id="2a47a-105">Linux</span><span class="sxs-lookup"><span data-stu-id="2a47a-105">Linux</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally-linux.md)
> 
> 

<span data-ttu-id="2a47a-106">Monitorování, zjišťování, Diagnostika a řešení potíží s umožňují toocontinue služby s minimálním dopadem toohello uživatelské prostředí.</span><span class="sxs-lookup"><span data-stu-id="2a47a-106">Monitoring, detecting, diagnosing, and troubleshooting allow for services toocontinue with minimal disruption toohello user experience.</span></span> <span data-ttu-id="2a47a-107">Při monitorování a Diagnostika jsou kritické v prostředí skutečné produkční nasazené, efektivitu hello bude záviset na přijetí model podobně jako při vývoji tooensure služby, kterou pracují při přesunutí instalace reálného tooa.</span><span class="sxs-lookup"><span data-stu-id="2a47a-107">While monitoring and diagnostics are critical in an actual deployed production environment, hello efficiency will depend on adopting a similar model during development of services tooensure they work when you move tooa real-world setup.</span></span> <span data-ttu-id="2a47a-108">Service Fabric usnadňuje diagnostiku tooimplement vývojáři služby, který může bezproblémově pracovat v jednom počítači místní vývoj nastavení a nastavení clusteru skutečné produkční.</span><span class="sxs-lookup"><span data-stu-id="2a47a-108">Service Fabric makes it easy for service developers tooimplement diagnostics that can seamlessly work across both single-machine local development setups and real-world production cluster setups.</span></span>

## <a name="event-tracing-for-windows"></a><span data-ttu-id="2a47a-109">Trasování událostí pro Windows</span><span class="sxs-lookup"><span data-stu-id="2a47a-109">Event Tracing for Windows</span></span>
<span data-ttu-id="2a47a-110">[Trasování událostí pro systém Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) je hello doporučená technologie pro trasování zpráv v Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="2a47a-110">[Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) is hello recommended technology for tracing messages in Service Fabric.</span></span> <span data-ttu-id="2a47a-111">Jsou některé výhody použití trasování událostí pro Windows:</span><span class="sxs-lookup"><span data-stu-id="2a47a-111">Some benefits of using ETW are:</span></span>

* <span data-ttu-id="2a47a-112">**Trasování událostí pro Windows je rychlá.**</span><span class="sxs-lookup"><span data-stu-id="2a47a-112">**ETW is fast.**</span></span> <span data-ttu-id="2a47a-113">Byla vytvořena jako trasování technologie, která má minimální dopad na dobu provádění kódu.</span><span class="sxs-lookup"><span data-stu-id="2a47a-113">It was built as a tracing technology that has minimal impact on code execution times.</span></span>
* <span data-ttu-id="2a47a-114">**Trasování událostí pro Windows funguje bezproblémově mezi místní vývojové prostředí a taky nastavení reálného clusteru.**</span><span class="sxs-lookup"><span data-stu-id="2a47a-114">**ETW tracing works seamlessly across local development environments and also real-world cluster setups.**</span></span> <span data-ttu-id="2a47a-115">To znamená, že nemáte toorewrite vaše trasování code po připravené toodeploy skutečné clusteru tooa kódu.</span><span class="sxs-lookup"><span data-stu-id="2a47a-115">This  means you don't have toorewrite your tracing code when you are ready toodeploy your code tooa real cluster.</span></span>
* <span data-ttu-id="2a47a-116">**Service Fabric systému kód také používá trasování událostí pro Windows pro interní trasování.**</span><span class="sxs-lookup"><span data-stu-id="2a47a-116">**Service Fabric system code also uses ETW for internal tracing.**</span></span> <span data-ttu-id="2a47a-117">To vám umožní tooview vaše trasování aplikací prokládaný. pomocí trasování systému Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="2a47a-117">This allows you tooview your application traces interleaved with Service Fabric system traces.</span></span> <span data-ttu-id="2a47a-118">Pomáhá také toomore snadno porozumíte hello pořadí a vzájemné vztahy mezi kódu aplikace a události v základním systému hello.</span><span class="sxs-lookup"><span data-stu-id="2a47a-118">It also helps you toomore easily understand hello sequences and interrelationships between your application code and events in hello underlying system.</span></span>
* <span data-ttu-id="2a47a-119">**Události trasování událostí pro Windows tooview není integrovanou podporu v nástroji Service Fabric Visual Studio.**</span><span class="sxs-lookup"><span data-stu-id="2a47a-119">**There is built-in support in Service Fabric Visual Studio tools tooview ETW events.**</span></span> <span data-ttu-id="2a47a-120">Události trasování událostí se zobrazí v hello zobrazení diagnostických událostí sady Visual Studio, jakmile sady Visual Studio je správně nakonfigurován s Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="2a47a-120">ETW events appear in hello Diagnostic Events view of Visual Studio once Visual Studio is correctly configured with Service Fabric.</span></span> 

## <a name="view-service-fabric-system-events-in-visual-studio"></a><span data-ttu-id="2a47a-121">Zobrazit události systému Service Fabric v sadě Visual Studio</span><span class="sxs-lookup"><span data-stu-id="2a47a-121">View Service Fabric system events in Visual Studio</span></span>
<span data-ttu-id="2a47a-122">Service Fabric vysílá události trasování událostí pro vývojáře aplikací toohelp pochopit, co se děje v platformě hello.</span><span class="sxs-lookup"><span data-stu-id="2a47a-122">Service Fabric emits ETW events toohelp application developers understand what's happening in hello platform.</span></span> <span data-ttu-id="2a47a-123">Pokud jste tak již neučinili, pokračujte a postupujte podle kroků hello v [vytvoření vaší první aplikace v sadě Visual Studio](service-fabric-create-your-first-application-in-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="2a47a-123">If you haven't already done so, go ahead and follow hello steps in [Creating your first application in Visual Studio](service-fabric-create-your-first-application-in-visual-studio.md).</span></span> <span data-ttu-id="2a47a-124">Tyto informace vám pomohou vám zprovoznění aplikace s hello diagnostiky Prohlížeč událostí zobrazuje hello trasování zpráv.</span><span class="sxs-lookup"><span data-stu-id="2a47a-124">This information will help you get an application up and running with hello Diagnostics Events Viewer showing hello trace messages.</span></span>

1. <span data-ttu-id="2a47a-125">Pokud hello diagnostiky události okno nezobrazí automaticky, přejděte toohello **zobrazení** v sadě Visual Studio, zvolte **ostatní okna** a potom **prohlížeče diagnostických událostí**.</span><span class="sxs-lookup"><span data-stu-id="2a47a-125">If hello diagnostics events window does not automatically show, Go toohello **View** tab in Visual Studio, choose **Other Windows** and then **Diagnostic Events Viewer**.</span></span>
2. <span data-ttu-id="2a47a-126">Každá událost obsahuje informace o standardní metadata, dozvíte se, že hello uzlu, služby a aplikace hello událost pochází z.</span><span class="sxs-lookup"><span data-stu-id="2a47a-126">Each event has standard metadata information that tells you hello node, application and service hello event is coming from.</span></span> <span data-ttu-id="2a47a-127">Můžete také filtrovat hello seznam událostí pomocí hello **filtrování událostí** pole hello horní části okna události hello.</span><span class="sxs-lookup"><span data-stu-id="2a47a-127">You can also filter hello list of events by using hello **Filter events** box at hello top of hello events window.</span></span> <span data-ttu-id="2a47a-128">Například můžete filtrovat podle **název uzlu** nebo **název služby.**</span><span class="sxs-lookup"><span data-stu-id="2a47a-128">For example, you can filter on **Node Name** or **Service Name.**</span></span> <span data-ttu-id="2a47a-129">A když se díváte na podrobnosti události, je také možné pozastavit pomocí hello **pozastavit** tlačítko hello horní části okna hello události a pokračovat později, aniž by došlo ke ztrátě událostí.</span><span class="sxs-lookup"><span data-stu-id="2a47a-129">And when you're looking at event details, you can also pause by using hello **Pause** button at hello top of hello events window and resume later without any loss of events.</span></span>
   
   ![Prohlížeč událostí diagnostiky Visual Studio](./media/service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally/DiagEventsExamples2.png)

## <a name="add-your-own-custom-traces-toohello-application-code"></a><span data-ttu-id="2a47a-131">Přidání vlastního kódu aplikace toohello vlastní trasování</span><span class="sxs-lookup"><span data-stu-id="2a47a-131">Add your own custom traces toohello application code</span></span>
<span data-ttu-id="2a47a-132">šablony projektů Service Fabric Visual Studio Hello obsahovat ukázkový kód.</span><span class="sxs-lookup"><span data-stu-id="2a47a-132">hello Service Fabric Visual Studio project templates contain sample code.</span></span> <span data-ttu-id="2a47a-133">Hello kód ukazuje, jak kód vlastní aplikace tooadd trasování událostí pro Windows trasování, zobrazující se v prohlížeči Visual Studio trasování událostí pro Windows hello společně systému trasování z Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="2a47a-133">hello code shows how tooadd custom application code ETW traces that show up in hello Visual Studio ETW viewer alongside system traces from Service Fabric.</span></span> <span data-ttu-id="2a47a-134">Hello Výhodou této metody je, že metadata se automaticky přidá tootraces a hello Visual Studio diagnostiky Prohlížeč událostí je již nakonfigurován toodisplay je.</span><span class="sxs-lookup"><span data-stu-id="2a47a-134">hello advantage of this method is that metadata is automatically added tootraces, and hello Visual Studio Diagnostic Events Viewer is already configured toodisplay them.</span></span>

<span data-ttu-id="2a47a-135">Pro projekty vytvořené z hello **šablony služby** (bezstavové nebo stateful) jenom hledat hello `RunAsync` implementace:</span><span class="sxs-lookup"><span data-stu-id="2a47a-135">For projects created from hello **service templates** (stateless or stateful) just search for hello `RunAsync` implementation:</span></span>

1. <span data-ttu-id="2a47a-136">Hello volání příliš`ServiceEventSource.Current.ServiceMessage` v hello `RunAsync` metoda ukazuje příklad vlastního trasování událostí pro Windows trasování z kódu aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="2a47a-136">hello call too`ServiceEventSource.Current.ServiceMessage` in hello `RunAsync` method shows an example of a custom ETW trace from hello application code.</span></span>
2. <span data-ttu-id="2a47a-137">V hello **ServiceEventSource.cs** souboru, můžete použít přetížení pro hello `ServiceEventSource.ServiceMessage` metoda, která má být použit pro vysoká frekvence událostí z důvodu tooperformance důvodů.</span><span class="sxs-lookup"><span data-stu-id="2a47a-137">In hello **ServiceEventSource.cs** file, you will find an overload for hello `ServiceEventSource.ServiceMessage` method that should be used for high-frequency events due tooperformance reasons.</span></span>

<span data-ttu-id="2a47a-138">Pro projekty vytvořené z hello **šablony objektu actor** (bezstavové nebo stateful):</span><span class="sxs-lookup"><span data-stu-id="2a47a-138">For projects created from hello **actor templates** (stateless or stateful):</span></span>

1. <span data-ttu-id="2a47a-139">Otevřete hello **"ProjectName".cs** souboru kde *ProjectName* je název hello jste zvolili pro svůj projekt sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="2a47a-139">Open hello **"ProjectName".cs** file where *ProjectName* is hello name you chose for your Visual Studio project.</span></span>  
2. <span data-ttu-id="2a47a-140">Najít kód hello `ActorEventSource.Current.ActorMessage(this, "Doing Work");` v hello *DoWorkAsync* metoda.</span><span class="sxs-lookup"><span data-stu-id="2a47a-140">Find hello code `ActorEventSource.Current.ActorMessage(this, "Doing Work");` in hello *DoWorkAsync* method.</span></span>  <span data-ttu-id="2a47a-141">Toto je příklad vlastního trasování ETW zapsána z kódu aplikace.</span><span class="sxs-lookup"><span data-stu-id="2a47a-141">This is an example of a custom ETW trace written from application code.</span></span>  
3. <span data-ttu-id="2a47a-142">V souboru **ActorEventSource.cs**, můžete použít přetížení pro hello `ActorEventSource.ActorMessage` metoda, která má být použit pro vysoká frekvence událostí z důvodu tooperformance důvodů.</span><span class="sxs-lookup"><span data-stu-id="2a47a-142">In file **ActorEventSource.cs**, you will find an overload for hello `ActorEventSource.ActorMessage` method that should be used for high-frequency events due tooperformance reasons.</span></span>

<span data-ttu-id="2a47a-143">Po přidání vlastního trasování událostí pro Windows trasování tooyour kódu služby, můžete sestavit, nasazení a spuštění aplikace hello znovu toosee vaše událostí v hello prohlížeče diagnostických událostí.</span><span class="sxs-lookup"><span data-stu-id="2a47a-143">After adding custom ETW tracing tooyour service code, you can build, deploy, and run hello application again toosee your event(s) in hello Diagnostic Events Viewer.</span></span> <span data-ttu-id="2a47a-144">Pokud při ladění aplikace hello s **F5**, hello se automaticky otevře prohlížeč diagnostických událostí.</span><span class="sxs-lookup"><span data-stu-id="2a47a-144">If you debug hello application with **F5**, hello Diagnostic Events Viewer will open automatically.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2a47a-145">Další kroky</span><span class="sxs-lookup"><span data-stu-id="2a47a-145">Next steps</span></span>
<span data-ttu-id="2a47a-146">Hello stejný kód trasování, které jste přidali aplikaci tooyour výše pro místní diagnostiky bude pracovat s nástroji, které můžete použít tooview tyto události při spuštění aplikace v clusteru služby Azure.</span><span class="sxs-lookup"><span data-stu-id="2a47a-146">hello same tracing code that you added tooyour application above for local diagnostics will work with tools that you can use tooview these events when running your application on an Azure cluster.</span></span> <span data-ttu-id="2a47a-147">Podívejte se na tyto články, které popisují různé možnosti hello hello nástroje a popisují, jak je můžete nastavit tak.</span><span class="sxs-lookup"><span data-stu-id="2a47a-147">Check out these articles that discuss hello different options for hello tools and describe how you can set them up.</span></span>

* [<span data-ttu-id="2a47a-148">Jak toocollect protokoly s Azure Diagnostics</span><span class="sxs-lookup"><span data-stu-id="2a47a-148">How toocollect logs with Azure Diagnostics</span></span>](service-fabric-diagnostics-how-to-setup-wad.md)
* [<span data-ttu-id="2a47a-149">Seskupení událostí a kolekce pomocí EventFlow</span><span class="sxs-lookup"><span data-stu-id="2a47a-149">Event aggregation and collection using EventFlow</span></span>](service-fabric-diagnostics-event-aggregation-eventflow.md)

