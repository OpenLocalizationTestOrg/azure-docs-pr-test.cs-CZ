---
title: "cluster Service Fabric aaaScale příchozí nebo odchozí | Microsoft Docs"
description: "Cluster Service Fabric příchozí nebo odchozí toomatch vyžádání škálovat podle nastavení automatického škálování pravidel pro každý uzel typu nebo virtuální počítač škálovací sadu. Přidat nebo odebrat cluster Service Fabric tooa uzly"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: aeb76f63-7303-4753-9c64-46146340b83d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 06/22/2017
ms.author: chackdan
ms.openlocfilehash: 37cfeaf80edc016cf6de017d1c2dc6fbcb8acc2a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="scale-a-service-fabric-cluster-in-or-out-using-auto-scale-rules"></a><span data-ttu-id="7033f-104">Škálování clusteru Service Fabric v nebo pomocí pravidel automatického škálování</span><span class="sxs-lookup"><span data-stu-id="7033f-104">Scale a Service Fabric cluster in or out using auto-scale rules</span></span>
<span data-ttu-id="7033f-105">Sady škálování virtuálního počítače jsou prostředek výpočtů Azure, můžete použít toodeploy a spravovat kolekci virtuálních počítačů jako sada.</span><span class="sxs-lookup"><span data-stu-id="7033f-105">Virtual machine scale sets are an Azure compute resource that you can use toodeploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="7033f-106">Každý typ uzlu, který je definován v clusteru Service Fabric je nastavený jako samostatnou sadu škálování virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="7033f-106">Every node type that is defined in a Service Fabric cluster is set up as a separate Virtual Machine scale set.</span></span> <span data-ttu-id="7033f-107">Každý typ uzlu můžete škálovat v nebo na nezávisle, mají různé sady otevřené porty a může mít různé kapacity metriky.</span><span class="sxs-lookup"><span data-stu-id="7033f-107">Each node type can then be scaled in or out independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="7033f-108">Další informace o jeho hello [nodetypes Service Fabric](service-fabric-cluster-nodetypes.md) dokumentu.</span><span class="sxs-lookup"><span data-stu-id="7033f-108">Read more about it in hello [Service Fabric nodetypes](service-fabric-cluster-nodetypes.md) document.</span></span> <span data-ttu-id="7033f-109">Vzhledem k tomu, že hello Service Fabric typy uzlů v clusteru jsou tvořeny sady škálování virtuálního počítače v back-end hello, musíte pro každý uzel typu nebo virtuální počítač škálovací sadu tooset až pravidel automatického škálování.</span><span class="sxs-lookup"><span data-stu-id="7033f-109">Since hello Service Fabric node types in your cluster are made of Virtual Machine scale sets at hello backend, you need tooset up auto-scale rules for each node type/Virtual Machine scale set.</span></span>

> [!NOTE]
> <span data-ttu-id="7033f-110">Vaše předplatné musí mít dostatečný počet jader tooadd hello nové virtuální počítače, které tvoří tento cluster.</span><span class="sxs-lookup"><span data-stu-id="7033f-110">Your subscription must have enough cores tooadd hello new VMs that make up this cluster.</span></span> <span data-ttu-id="7033f-111">Proto čas selhání nasazení, když se některé z hello kvótami dosáhl neexistuje žádné ověření modelu v současné době.</span><span class="sxs-lookup"><span data-stu-id="7033f-111">There is no model validation currently, so you get a deployment time failure, if any of hello quota limits are hit.</span></span>
> 
> 

## <a name="choose-hello-node-typevirtual-machine-scale-set-tooscale"></a><span data-ttu-id="7033f-112">Vyberte nastavení tooscale hello uzel typu nebo virtuální počítače</span><span class="sxs-lookup"><span data-stu-id="7033f-112">Choose hello node type/Virtual Machine scale set tooscale</span></span>
<span data-ttu-id="7033f-113">V současné době nejsou možné toospecify hello automatickému škálování pravidla pro sady škálování virtuálního počítače pomocí portálu hello, takže dejte nám pomocí typy uzlů hello toolist prostředí Azure PowerShell (1.0 +) a poté přidejte toothem pravidla automatické škálování.</span><span class="sxs-lookup"><span data-stu-id="7033f-113">Currently, you are not able toospecify hello auto-scale rules for Virtual Machine scale sets using hello portal, so let us use Azure PowerShell (1.0+) toolist hello node types and then add auto-scale rules toothem.</span></span>

<span data-ttu-id="7033f-114">tooget hello seznam virtuálního počítače sady škálování, které tvoří cluster, spusťte následující rutiny hello:</span><span class="sxs-lookup"><span data-stu-id="7033f-114">tooget hello list of Virtual Machine scale set that make up your cluster, run hello following cmdlets:</span></span>

```powershell
Get-AzureRmResource -ResourceGroupName <RGname> -ResourceType Microsoft.Compute/VirtualMachineScaleSets

Get-AzureRmVmss -ResourceGroupName <RGname> -VMScaleSetName <Virtual Machine scale set name>
```

## <a name="set-auto-scale-rules-for-hello-node-typevirtual-machine-scale-set"></a><span data-ttu-id="7033f-115">Nastavení automatického škálování pravidel pro škálovací sadu hello uzel typu nebo virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="7033f-115">Set auto-scale rules for hello node type/Virtual Machine scale set</span></span>
<span data-ttu-id="7033f-116">Pokud váš cluster má více typů uzlu, pak opakujte že nastaví tato pro každý uzel typy nebo virtuální počítače, který má tooscale (příchozí nebo odchozí).</span><span class="sxs-lookup"><span data-stu-id="7033f-116">If your cluster has multiple node types, then repeat this for each node types/Virtual Machine scale sets that you want tooscale (in or out).</span></span> <span data-ttu-id="7033f-117">Trvat do účtu hello počet uzlů, musí mít před nastavením automatické škálování.</span><span class="sxs-lookup"><span data-stu-id="7033f-117">Take into account hello number of nodes that you must have before you set up auto-scaling.</span></span> <span data-ttu-id="7033f-118">minimální počet uzlů, které musí být pro typ primárního uzlu hello Hello doprovází hello úroveň spolehlivosti, kterou jste vybrali.</span><span class="sxs-lookup"><span data-stu-id="7033f-118">hello minimum number of nodes that you must have for hello primary node type is driven by hello reliability level you have chosen.</span></span> <span data-ttu-id="7033f-119">Další informace o [úrovní spolehlivosti](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="7033f-119">Read more about [reliability levels](service-fabric-cluster-capacity.md).</span></span>

> [!NOTE]
> <span data-ttu-id="7033f-120">Škálování dolů hello primárního uzlu typu tooless, než je minimální počet hello stát nestabilní hello clusteru nebo tím, že ji.</span><span class="sxs-lookup"><span data-stu-id="7033f-120">Scaling down hello primary node type tooless than hello minimum number make hello cluster unstable or bring it down.</span></span> <span data-ttu-id="7033f-121">To může vést ke ztrátě dat pro vaše aplikace a hello systémových služeb.</span><span class="sxs-lookup"><span data-stu-id="7033f-121">This could result in data loss for your applications and for hello system services.</span></span>
> 
> 

<span data-ttu-id="7033f-122">Funkce automatického škálování hello není aktuálně doprovází hello zatížením, že vaše aplikace může reporting tooService prostředků infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="7033f-122">Currently hello auto-scale feature is not driven by hello loads that your applications may be reporting tooService Fabric.</span></span> <span data-ttu-id="7033f-123">Proto v tento čas hello automatické škálování, které máte čistě doprovází hello čítače výkonu, které jsou vygenerované každou instancí sady škálování virtuálního počítače hello.</span><span class="sxs-lookup"><span data-stu-id="7033f-123">So at this time hello auto-scale you get is purely driven by hello performance counters that are emitted by each of hello Virtual Machine scale set instances.</span></span>  

<span data-ttu-id="7033f-124">Postupujte podle těchto pokynů [tooset až automatické škálování pro každý škálovací sadu virtuálních počítačů](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span><span class="sxs-lookup"><span data-stu-id="7033f-124">Follow these instructions [tooset up auto-scale for each Virtual Machine scale set](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="7033f-125">V vertikálně scénář, pokud váš typ uzlu má úroveň odolnosti zlatý nebo Silver musíte toocall hello [rutinu Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/azure/mt125993.aspx) s názvem příslušný uzel hello.</span><span class="sxs-lookup"><span data-stu-id="7033f-125">In a scale down scenario, unless your node type has a durability level of Gold or Silver you need toocall hello [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/azure/mt125993.aspx) with hello appropriate node name.</span></span>
> 
> 

## <a name="manually-add-vms-tooa-node-typevirtual-machine-scale-set"></a><span data-ttu-id="7033f-126">Ručně přidejte virtuální počítače tooa uzel typu nebo virtuální počítač škálovací sadu</span><span class="sxs-lookup"><span data-stu-id="7033f-126">Manually add VMs tooa node type/Virtual Machine scale set</span></span>
<span data-ttu-id="7033f-127">Postupujte podle hello ukázka nebo pokynů v hello [Galerie šablon úvodní](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello počet virtuálních počítačů v každém uzlu.</span><span class="sxs-lookup"><span data-stu-id="7033f-127">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs in each Nodetype.</span></span> 

> [!NOTE]
> <span data-ttu-id="7033f-128">Přidání virtuálních počítačů má čas, proto Nečekejte hello dodatky toobe okamžitou.</span><span class="sxs-lookup"><span data-stu-id="7033f-128">Adding of VMs takes time, so do not expect hello additions toobe instantaneous.</span></span> <span data-ttu-id="7033f-129">Proto plánování kapacity tooadd i v průběhu času, tooallow pro více než 10 minut, než je k dispozici pro repliky hello hello kapacity virtuálního počítače nebo služby tooget instancí, které jsou umístěny.</span><span class="sxs-lookup"><span data-stu-id="7033f-129">So plan tooadd capacity well in time, tooallow for over 10 minutes before hello VM capacity is available for hello replicas/ service instances tooget placed.</span></span>
> 
> 

## <a name="manually-remove-vms-from-hello-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="7033f-130">Ručně odeberte z hello primárního uzlu typu nebo virtuální počítač škálovací sadu virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="7033f-130">Manually remove VMs from hello primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="7033f-131">v typu hello primárního uzlu v clusteru spusťte Hello service fabric systémových služeb.</span><span class="sxs-lookup"><span data-stu-id="7033f-131">hello service fabric system services run in hello Primary node type in your cluster.</span></span> <span data-ttu-id="7033f-132">Tak, aby měli nikdy vypnout nebo snižovat hello počet instancí v tomto uzlu typech poskytuje na menší, než jakou úroveň spolehlivosti hello.</span><span class="sxs-lookup"><span data-stu-id="7033f-132">So should never shut down or scale down hello number of instances in that node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="7033f-133">Odkazovat příliš[hello informace o spolehlivosti vrstev zde](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="7033f-133">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 
> 
> 

<span data-ttu-id="7033f-134">Je třeba tooexecute hello následující kroky jedna instance virtuálních počítačů současně.</span><span class="sxs-lookup"><span data-stu-id="7033f-134">You need tooexecute hello following steps one VM instance at a time.</span></span> <span data-ttu-id="7033f-135">To umožňuje, aby hello systémových služeb (a vaše stavové služby) toobe řádné ukončení v instanci virtuálního počítače hello odebíráte a nové repliky vytvořené na jiných uzlech.</span><span class="sxs-lookup"><span data-stu-id="7033f-135">This allows for hello system services (and your stateful services) toobe shut down gracefully on hello VM instance you are removing and new replicas created on other nodes.</span></span>

1. <span data-ttu-id="7033f-136">Spustit [zakázat ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) s úmyslem 'RemoveNode' toodisable hello uzlu budete tooremove (nejvyšší instance pro hello v tomto typu uzlu).</span><span class="sxs-lookup"><span data-stu-id="7033f-136">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ toodisable hello node you’re going tooremove (hello highest instance in that node type).</span></span>
2. <span data-ttu-id="7033f-137">Spustit [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake, že tento uzel hello skutečně přešla toodisabled.</span><span class="sxs-lookup"><span data-stu-id="7033f-137">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake sure that hello node has indeed transitioned toodisabled.</span></span> <span data-ttu-id="7033f-138">Pokud ne, počkejte, dokud hello uzlů je zakázáno.</span><span class="sxs-lookup"><span data-stu-id="7033f-138">If not, wait until hello node is disabled.</span></span> <span data-ttu-id="7033f-139">Tento krok nelze hurry.</span><span class="sxs-lookup"><span data-stu-id="7033f-139">You cannot hurry this step.</span></span>
3. <span data-ttu-id="7033f-140">Postupujte podle hello ukázka nebo pokynů v hello [Galerie šablon úvodní](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello počet virtuálních počítačů pomocí jedné v tomto uzlu.</span><span class="sxs-lookup"><span data-stu-id="7033f-140">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="7033f-141">instance Hello odebrat je hello nejvyšší instance virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="7033f-141">hello instance removed is hello highest VM instance.</span></span> 
4. <span data-ttu-id="7033f-142">Opakujte kroky 1 až 3 podle potřeby, ale nikdy snižovat hello počet instancí v primárním uzlu typy hello menší než zaručuje, jakou úroveň spolehlivosti hello.</span><span class="sxs-lookup"><span data-stu-id="7033f-142">Repeat steps 1 through 3 as needed, but never scale down hello number of instances in hello primary node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="7033f-143">Odkazovat příliš[hello informace o spolehlivosti vrstev zde](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="7033f-143">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 

## <a name="manually-remove-vms-from-hello-non-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="7033f-144">Ručně odeberte z hello není primární uzel typu nebo virtuální počítač škálovací sadu virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="7033f-144">Manually remove VMs from hello non-primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="7033f-145">Pro stavové služby budete potřebovat k určitému počtu uzlů toobe vždy toomaintain dostupnosti a zachovat stav služby.</span><span class="sxs-lookup"><span data-stu-id="7033f-145">For a stateful service, you need a certain number of nodes toobe always up toomaintain availability and preserve state of your service.</span></span> <span data-ttu-id="7033f-146">V hello velmi minimální je nutné hello počet počet sada uzlů rovna toohello cíl repliky hello oddílu nebo služby.</span><span class="sxs-lookup"><span data-stu-id="7033f-146">At hello very minimum, you need hello number of nodes equal toohello target replica set count of hello partition/service.</span></span> 
> 
> 

<span data-ttu-id="7033f-147">Hello musíte provést následující kroky jedna instance virtuálních počítačů současně hello.</span><span class="sxs-lookup"><span data-stu-id="7033f-147">You need hello execute hello following steps one VM instance at a time.</span></span> <span data-ttu-id="7033f-148">To umožňuje, aby hello systémových služeb (a vaše stavové služby) toobe řádné ukončení na hello instance virtuálního počítače, kterou chcete odebrat a vytvořit nové repliky else where.</span><span class="sxs-lookup"><span data-stu-id="7033f-148">This allows for hello system services (and your stateful services) toobe shut down gracefully on hello VM instance you are removing and new replicas created else where.</span></span>

1. <span data-ttu-id="7033f-149">Spustit [zakázat ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) s úmyslem 'RemoveNode' toodisable hello uzlu budete tooremove (nejvyšší instance pro hello v tomto typu uzlu).</span><span class="sxs-lookup"><span data-stu-id="7033f-149">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ toodisable hello node you’re going tooremove (hello highest instance in that node type).</span></span>
2. <span data-ttu-id="7033f-150">Spustit [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake, že tento uzel hello skutečně přešla toodisabled.</span><span class="sxs-lookup"><span data-stu-id="7033f-150">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) toomake sure that hello node has indeed transitioned toodisabled.</span></span> <span data-ttu-id="7033f-151">V opačném případě počkejte na hello uzlů je zakázáno.</span><span class="sxs-lookup"><span data-stu-id="7033f-151">If not wait till hello node is disabled.</span></span> <span data-ttu-id="7033f-152">Tento krok nelze hurry.</span><span class="sxs-lookup"><span data-stu-id="7033f-152">You cannot hurry this step.</span></span>
3. <span data-ttu-id="7033f-153">Postupujte podle hello ukázka nebo pokynů v hello [Galerie šablon úvodní](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello počet virtuálních počítačů pomocí jedné v tomto uzlu.</span><span class="sxs-lookup"><span data-stu-id="7033f-153">Follow hello sample/instructions in hello [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) toochange hello number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="7033f-154">Tato akce odebere teď hello nejvyšší instance virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="7033f-154">This will now remove hello highest VM instance.</span></span> 
4. <span data-ttu-id="7033f-155">Opakujte kroky 1 až 3 podle potřeby, ale nikdy snižovat hello počet instancí v primárním uzlu typy hello menší než zaručuje, jakou úroveň spolehlivosti hello.</span><span class="sxs-lookup"><span data-stu-id="7033f-155">Repeat steps 1 through 3 as needed, but never scale down hello number of instances in hello primary node types less than what hello reliability tier warrants.</span></span> <span data-ttu-id="7033f-156">Odkazovat příliš[hello informace o spolehlivosti vrstev zde](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="7033f-156">Refer too[hello details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span>

## <a name="behaviors-you-may-observe-in-service-fabric-explorer"></a><span data-ttu-id="7033f-157">Chování můžete pozorovat v Service Fabric Exploreru</span><span class="sxs-lookup"><span data-stu-id="7033f-157">Behaviors you may observe in Service Fabric Explorer</span></span>
<span data-ttu-id="7033f-158">Při škálování hello clusteru Service Fabric Explorer se projeví hello počet uzlů (instancí sady škálování virtuálního počítače), které jsou součástí clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="7033f-158">When you scale up a cluster hello Service Fabric Explorer will reflect hello number of nodes (Virtual Machine scale set instances) that are part of hello cluster.</span></span>  <span data-ttu-id="7033f-159">Při změně měřítka však se cluster dolů můžete zobrazí instance uzlu nebo virtuálního počítače hello odebrat nezobrazí v pořádku, pokud zavoláte [odebrat ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) s názvem příslušný uzel hello.</span><span class="sxs-lookup"><span data-stu-id="7033f-159">However, when you scale a cluster down you will see hello removed node/VM instance displayed in an unhealthy state unless you call [Remove-ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) with hello appropriate node name.</span></span>   

<span data-ttu-id="7033f-160">Zde je hello vysvětlení tohoto chování.</span><span class="sxs-lookup"><span data-stu-id="7033f-160">Here is hello explanation for this behavior.</span></span>

<span data-ttu-id="7033f-161">Hello uvedené v Service Fabric Explorer jsou uzly odraz jaké hello Service Fabric systémových služeb (FM konkrétně) ví o hello počtu uzlů clusteru hello měl má.</span><span class="sxs-lookup"><span data-stu-id="7033f-161">hello nodes listed in Service Fabric Explorer are a reflection of what hello Service Fabric system services (FM specifically) knows about hello number of nodes hello cluster had/has.</span></span> <span data-ttu-id="7033f-162">Při změně měřítka hello sad škálování virtuálního počítače, hello virtuální počítač byl odstraněn, ale služba system FM stále předpokládá, že tento uzel hello, (který byl namapované toohello virtuálního počítače, který byl odstraněn), vrátí se znovu.</span><span class="sxs-lookup"><span data-stu-id="7033f-162">When you scale hello Virtual Machine scale set down, hello VM was deleted but FM system service still thinks that hello node (that was mapped toohello VM that was deleted) will come back.</span></span> <span data-ttu-id="7033f-163">Proto Service Fabric Explorer pokračuje toodisplay tento uzel (i když hello stav může být chyba nebo neznámá).</span><span class="sxs-lookup"><span data-stu-id="7033f-163">So Service Fabric Explorer continues toodisplay that node (though hello health state may be error or unknown).</span></span>

<span data-ttu-id="7033f-164">V pořadí toomake jistotu, že uzel je odebrán, když dojde k odebrání virtuálního počítače máte dvě možnosti:</span><span class="sxs-lookup"><span data-stu-id="7033f-164">In order toomake sure that a node is removed when a VM is removed, you have two options:</span></span>

1) <span data-ttu-id="7033f-165">Zvolte si úroveň odolnosti zlatý nebo Silver (k dispozici brzy) pro hello typy uzlů v clusteru, který vám dává hello integrace infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="7033f-165">Choose a durability level of Gold or Silver (available soon) for hello node types in your cluster, which gives you hello infrastructure integration.</span></span> <span data-ttu-id="7033f-166">Které pak automaticky odebere hello uzly z našich služeb (FM) stavu systému při změně měřítka.</span><span class="sxs-lookup"><span data-stu-id="7033f-166">Which will then automatically remove hello nodes from our system services (FM) state when you scale down.</span></span>
<span data-ttu-id="7033f-167">Odkazovat příliš[hello podrobnosti o sem úrovně odolnosti](service-fabric-cluster-capacity.md)</span><span class="sxs-lookup"><span data-stu-id="7033f-167">Refer too[hello details on durability levels here](service-fabric-cluster-capacity.md)</span></span>

2) <span data-ttu-id="7033f-168">Jakmile zmenšování hello instance virtuálního počítače je nutné toocall hello [rutinu Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/mt125993.aspx).</span><span class="sxs-lookup"><span data-stu-id="7033f-168">Once hello VM instance has been scaled down, you need toocall hello [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/mt125993.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="7033f-169">Clustery služby infrastruktury vyžadují počet uzlů toobe až na celou dobu hello v pořadí toomaintain dostupnosti a zachovat stav – odkazované tooas "údržbu kvora."</span><span class="sxs-lookup"><span data-stu-id="7033f-169">Service Fabric clusters require a certain number of nodes toobe up at all hello time in order toomaintain availability and preserve state - referred tooas "maintaining quorum."</span></span> <span data-ttu-id="7033f-170">Proto, pokud jste provedli nejprve je obvykle unsafe tooshut dolů všechny hello počítače v clusteru hello [úplného zálohování vaší stavu](service-fabric-reliable-services-backup-restore.md).</span><span class="sxs-lookup"><span data-stu-id="7033f-170">So, it is typically unsafe tooshut down all hello machines in hello cluster unless you have first performed a [full backup of your state](service-fabric-reliable-services-backup-restore.md).</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="7033f-171">Další kroky</span><span class="sxs-lookup"><span data-stu-id="7033f-171">Next steps</span></span>
<span data-ttu-id="7033f-172">Čtení hello následující tooalso Další informace o plánování kapacity clusteru, upgradu clusteru a rozdělení do oddílů služby:</span><span class="sxs-lookup"><span data-stu-id="7033f-172">Read hello following tooalso learn about planning cluster capacity, upgrading a cluster, and partitioning services:</span></span>

* [<span data-ttu-id="7033f-173">Plánování kapacity vašeho clusteru</span><span class="sxs-lookup"><span data-stu-id="7033f-173">Plan your cluster capacity</span></span>](service-fabric-cluster-capacity.md)
* [<span data-ttu-id="7033f-174">Upgrade clusteru</span><span class="sxs-lookup"><span data-stu-id="7033f-174">Cluster upgrades</span></span>](service-fabric-cluster-upgrade.md)
* [<span data-ttu-id="7033f-175">Oddíl stavové služby pro maximální měřítko</span><span class="sxs-lookup"><span data-stu-id="7033f-175">Partition stateful services for maximum scale</span></span>](service-fabric-concepts-partitioning.md)

<!--Image references-->
[BrowseServiceFabricClusterResource]: ./media/service-fabric-cluster-scale-up-down/BrowseServiceFabricClusterResource.png
[ClusterResources]: ./media/service-fabric-cluster-scale-up-down/ClusterResources.png
