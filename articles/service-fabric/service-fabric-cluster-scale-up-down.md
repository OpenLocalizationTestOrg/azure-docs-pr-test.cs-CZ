---
title: "Škálování clusteru Service Fabric příchozí nebo odchozí | Microsoft Docs"
description: "Cluster Service Fabric příchozí nebo odchozí škálovat tak, aby odpovídaly vyžádání nastavením pravidla automatického škálování pro každý uzel typu nebo virtuální počítač škálovací sadu. Přidávat nebo odebírat uzly do clusteru Service Fabric"
services: service-fabric
documentationcenter: .net
author: ChackDan
manager: timlt
editor: 
ms.assetid: aeb76f63-7303-4753-9c64-46146340b83d
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 06/22/2017
ms.author: chackdan
ms.openlocfilehash: 32d8fca81c20e77db4ed3aae05d017ccc2ce1be3
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/03/2017
---
# <a name="scale-a-service-fabric-cluster-in-or-out-using-auto-scale-rules"></a><span data-ttu-id="a8e0d-104">Škálování clusteru Service Fabric v nebo pomocí pravidel automatického škálování</span><span class="sxs-lookup"><span data-stu-id="a8e0d-104">Scale a Service Fabric cluster in or out using auto-scale rules</span></span>
<span data-ttu-id="a8e0d-105">Sady škálování virtuálního počítače se Azure výpočtový prostředek, který můžete použít k nasazení a správě kolekci jako sada virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-105">Virtual machine scale sets are an Azure compute resource that you can use to deploy and manage a collection of virtual machines as a set.</span></span> <span data-ttu-id="a8e0d-106">Každý typ uzlu, který je definován v clusteru Service Fabric je nastavený jako samostatnou sadu škálování virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-106">Every node type that is defined in a Service Fabric cluster is set up as a separate Virtual Machine scale set.</span></span> <span data-ttu-id="a8e0d-107">Každý typ uzlu můžete škálovat v nebo na nezávisle, mají různé sady otevřené porty a může mít různé kapacity metriky.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-107">Each node type can then be scaled in or out independently, have different sets of ports open, and can have different capacity metrics.</span></span> <span data-ttu-id="a8e0d-108">Další informace o jeho [nodetypes Service Fabric](service-fabric-cluster-nodetypes.md) dokumentu.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-108">Read more about it in the [Service Fabric nodetypes](service-fabric-cluster-nodetypes.md) document.</span></span> <span data-ttu-id="a8e0d-109">Vzhledem k tomu, že Service Fabric typy uzlů v clusteru jsou tvořeny sady škálování virtuálního počítače v back-end, budete muset nastavit pravidla pro automatické škálování pro každý uzel typu nebo virtuální počítač škálovací sadu.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-109">Since the Service Fabric node types in your cluster are made of Virtual Machine scale sets at the backend, you need to set up auto-scale rules for each node type/Virtual Machine scale set.</span></span>

> [!NOTE]
> <span data-ttu-id="a8e0d-110">Vaše předplatné musí mít dostatečný počet jader, který má-li přidat nové virtuální počítače, které tvoří tento cluster.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-110">Your subscription must have enough cores to add the new VMs that make up this cluster.</span></span> <span data-ttu-id="a8e0d-111">Proto čas selhání nasazení, když se některé z maximální kvóty dosáhl neexistuje žádné ověření modelu v současné době.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-111">There is no model validation currently, so you get a deployment time failure, if any of the quota limits are hit.</span></span>
> 
> 

## <a name="choose-the-node-typevirtual-machine-scale-set-to-scale"></a><span data-ttu-id="a8e0d-112">Zvolte typ nebo virtuální uzel sad škálování škálování počítače</span><span class="sxs-lookup"><span data-stu-id="a8e0d-112">Choose the node type/Virtual Machine scale set to scale</span></span>
<span data-ttu-id="a8e0d-113">V současné době nejste moci zadat pravidla automatického škálování pro sady škálování virtuálního počítače pomocí portálu, takže dejte nám pomocí prostředí Azure PowerShell (1.0 +) seznam typů uzlů a poté přidejte k nim pravidel automatického škálování.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-113">Currently, you are not able to specify the auto-scale rules for Virtual Machine scale sets using the portal, so let us use Azure PowerShell (1.0+) to list the node types and then add auto-scale rules to them.</span></span>

<span data-ttu-id="a8e0d-114">Pokud chcete získat seznam škálovací sadu virtuálních počítačů, který vytváří cluster, spusťte následující rutiny:</span><span class="sxs-lookup"><span data-stu-id="a8e0d-114">To get the list of Virtual Machine scale set that make up your cluster, run the following cmdlets:</span></span>

```powershell
Get-AzureRmResource -ResourceGroupName <RGname> -ResourceType Microsoft.Compute/VirtualMachineScaleSets

Get-AzureRmVmss -ResourceGroupName <RGname> -VMScaleSetName <Virtual Machine scale set name>
```

## <a name="set-auto-scale-rules-for-the-node-typevirtual-machine-scale-set"></a><span data-ttu-id="a8e0d-115">Nastavení automatického škálování pravidel pro typ nebo virtuální uzel škálovací sadu počítačů.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-115">Set auto-scale rules for the node type/Virtual Machine scale set</span></span>
<span data-ttu-id="a8e0d-116">Pokud váš cluster má více typů uzlu, potom opakujte pro každý uzel typy nebo virtuální počítače nastaví tato chcete škálovat (příchozí nebo odchozí).</span><span class="sxs-lookup"><span data-stu-id="a8e0d-116">If your cluster has multiple node types, then repeat this for each node types/Virtual Machine scale sets that you want to scale (in or out).</span></span> <span data-ttu-id="a8e0d-117">Vezměte v úvahu počet uzlů, musí mít před nastavením automatické škálování.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-117">Take into account the number of nodes that you must have before you set up auto-scaling.</span></span> <span data-ttu-id="a8e0d-118">Minimální počet uzlů, které musí být pro typ primárním uzlu, který doprovází úroveň spolehlivosti, kterou jste vybrali.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-118">The minimum number of nodes that you must have for the primary node type is driven by the reliability level you have chosen.</span></span> <span data-ttu-id="a8e0d-119">Další informace o [úrovní spolehlivosti](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="a8e0d-119">Read more about [reliability levels](service-fabric-cluster-capacity.md).</span></span>

> [!NOTE]
> <span data-ttu-id="a8e0d-120">Škálování dolů primárním uzlu, který typ na hodnotu menší než minimální počet zkontrolujte nestabilním clusteru nebo tím, že ji.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-120">Scaling down the primary node type to less than the minimum number make the cluster unstable or bring it down.</span></span> <span data-ttu-id="a8e0d-121">To může vést ke ztrátě dat pro vaše aplikace a systémových služeb.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-121">This could result in data loss for your applications and for the system services.</span></span>
> 
> 

<span data-ttu-id="a8e0d-122">Funkce automatického škálování není aktuálně doprovází zatížením, které vaše aplikace může být vytváření sestav do Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-122">Currently the auto-scale feature is not driven by the loads that your applications may be reporting to Service Fabric.</span></span> <span data-ttu-id="a8e0d-123">Proto v současnosti automatickému škálování, které máte čistě vycházejí z čítače výkonu, které jsou vygenerované každou virtuálního počítače sady škálování instancí.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-123">So at this time the auto-scale you get is purely driven by the performance counters that are emitted by each of the Virtual Machine scale set instances.</span></span>  

<span data-ttu-id="a8e0d-124">Postupujte podle těchto pokynů [nastavení automatického škálování pro každý škálovací sadu virtuálních počítačů](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a8e0d-124">Follow these instructions [to set up auto-scale for each Virtual Machine scale set](../virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="a8e0d-125">Vertikálně scénář, pokud váš typ uzlu má úroveň odolnosti zlatý nebo Silver je nutné volat [rutinu Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/azure/mt125993.aspx) s názvem příslušné uzlu.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-125">In a scale down scenario, unless your node type has a durability level of Gold or Silver you need to call the [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/azure/mt125993.aspx) with the appropriate node name.</span></span>
> 
> 

## <a name="manually-add-vms-to-a-node-typevirtual-machine-scale-set"></a><span data-ttu-id="a8e0d-126">Ručně přidáte do typu uzlu nebo virtuální počítač škálovací sadu virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="a8e0d-126">Manually add VMs to a node type/Virtual Machine scale set</span></span>
<span data-ttu-id="a8e0d-127">Ukázka nebo podle pokynů [Galerie šablon úvodní](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) Chcete-li změnit počet virtuálních počítačů v každém uzlu.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-127">Follow the sample/instructions in the [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) to change the number of VMs in each Nodetype.</span></span> 

> [!NOTE]
> <span data-ttu-id="a8e0d-128">Přidání virtuálních počítačů má čas, proto Nečekejte, budou přidány jako okamžitou.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-128">Adding of VMs takes time, so do not expect the additions to be instantaneous.</span></span> <span data-ttu-id="a8e0d-129">Proto naplánujte přidat kapacitu i v průběhu času, povolit pro více než 10 minut, než je k dispozici pro repliky kapacita virtuálního počítače nebo služby instance, které chcete získat umístit.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-129">So plan to add capacity well in time, to allow for over 10 minutes before the VM capacity is available for the replicas/ service instances to get placed.</span></span>
> 
> 

## <a name="manually-remove-vms-from-the-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="a8e0d-130">Ručně odeberte virtuální počítače z typu nebo virtuální primárního uzlu škálovací sadu počítačů</span><span class="sxs-lookup"><span data-stu-id="a8e0d-130">Manually remove VMs from the primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="a8e0d-131">V typu primárního uzlu v clusteru spusťte service fabric systémových služeb.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-131">The service fabric system services run in the Primary node type in your cluster.</span></span> <span data-ttu-id="a8e0d-132">Tak, aby měli nikdy vypnout nebo snížit počet instancí v tomto uzlu typech poskytuje na menší, než jakou úroveň spolehlivosti.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-132">So should never shut down or scale down the number of instances in that node types less than what the reliability tier warrants.</span></span> <span data-ttu-id="a8e0d-133">Odkazovat na [informace o spolehlivosti vrstev zde](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="a8e0d-133">Refer to [the details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 
> 
> 

<span data-ttu-id="a8e0d-134">Je třeba provést následující kroky jeden virtuální počítač instance současně.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-134">You need to execute the following steps one VM instance at a time.</span></span> <span data-ttu-id="a8e0d-135">To umožňuje korektně vypnout instanci virtuálního počítače, kterou chcete odebrat a nové repliky vytvořené na jiných uzlech systémových služeb (a vaše stavové služby).</span><span class="sxs-lookup"><span data-stu-id="a8e0d-135">This allows for the system services (and your stateful services) to be shut down gracefully on the VM instance you are removing and new replicas created on other nodes.</span></span>

1. <span data-ttu-id="a8e0d-136">Spustit [zakázat ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) se záměrem 'RemoveNode' Chcete-li zakázat uzlu se chystáte odebrat (nejvyšší instance typu uzlu).</span><span class="sxs-lookup"><span data-stu-id="a8e0d-136">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ to disable the node you’re going to remove (the highest instance in that node type).</span></span>
2. <span data-ttu-id="a8e0d-137">Spustit [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) a ujistěte se, že uzel přešla skutečně na zakázáno.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-137">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) to make sure that the node has indeed transitioned to disabled.</span></span> <span data-ttu-id="a8e0d-138">Pokud ne, počkejte, až uzel je zakázána.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-138">If not, wait until the node is disabled.</span></span> <span data-ttu-id="a8e0d-139">Tento krok nelze hurry.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-139">You cannot hurry this step.</span></span>
3. <span data-ttu-id="a8e0d-140">Ukázka nebo podle pokynů [Galerie šablon úvodní](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) Chcete-li změnit počet virtuálních počítačů pomocí jedné v tomto uzlu.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-140">Follow the sample/instructions in the [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) to change the number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="a8e0d-141">Instance odebrat je nejvyšší instance virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-141">The instance removed is the highest VM instance.</span></span> 
4. <span data-ttu-id="a8e0d-142">Opakujte kroky 1 až 3 podle potřeby, ale nikdy snižovat počet instancí v primárním uzlu typy menší než co zaručuje úroveň spolehlivosti.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-142">Repeat steps 1 through 3 as needed, but never scale down the number of instances in the primary node types less than what the reliability tier warrants.</span></span> <span data-ttu-id="a8e0d-143">Odkazovat na [informace o spolehlivosti vrstev zde](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="a8e0d-143">Refer to [the details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span> 

## <a name="manually-remove-vms-from-the-non-primary-node-typevirtual-machine-scale-set"></a><span data-ttu-id="a8e0d-144">Ručně odeberte z typu nebo virtuální uzel není primární počítač škálovací sadu virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="a8e0d-144">Manually remove VMs from the non-primary node type/Virtual Machine scale set</span></span>
> [!NOTE]
> <span data-ttu-id="a8e0d-145">Pro stavové služby budete potřebovat k určitému počtu uzlů se vždy až zachování dostupnosti a zároveň zachovat stav služby.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-145">For a stateful service, you need a certain number of nodes to be always up to maintain availability and preserve state of your service.</span></span> <span data-ttu-id="a8e0d-146">Ve velmi minimální je třeba počet uzlů rovná počtu cílových replik sadu oddílu nebo služby.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-146">At the very minimum, you need the number of nodes equal to the target replica set count of the partition/service.</span></span> 
> 
> 

<span data-ttu-id="a8e0d-147">Musíte provést následující kroky jeden virtuální počítač instance současně.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-147">You need the execute the following steps one VM instance at a time.</span></span> <span data-ttu-id="a8e0d-148">To umožňuje, aby korektně vypnout na instanci virtuálního počítače, kterou chcete odebrat systémových služeb (a vaše stavové služby) a vytvořit nové repliky else where.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-148">This allows for the system services (and your stateful services) to be shut down gracefully on the VM instance you are removing and new replicas created else where.</span></span>

1. <span data-ttu-id="a8e0d-149">Spustit [zakázat ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) se záměrem 'RemoveNode' Chcete-li zakázat uzlu se chystáte odebrat (nejvyšší instance typu uzlu).</span><span class="sxs-lookup"><span data-stu-id="a8e0d-149">Run [Disable-ServiceFabricNode](https://msdn.microsoft.com/library/mt125852.aspx) with intent ‘RemoveNode’ to disable the node you’re going to remove (the highest instance in that node type).</span></span>
2. <span data-ttu-id="a8e0d-150">Spustit [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) a ujistěte se, že uzel přešla skutečně na zakázáno.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-150">Run [Get-ServiceFabricNode](https://msdn.microsoft.com/library/mt125856.aspx) to make sure that the node has indeed transitioned to disabled.</span></span> <span data-ttu-id="a8e0d-151">V opačném případě počkejte na uzlu je zakázána.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-151">If not wait till the node is disabled.</span></span> <span data-ttu-id="a8e0d-152">Tento krok nelze hurry.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-152">You cannot hurry this step.</span></span>
3. <span data-ttu-id="a8e0d-153">Ukázka nebo podle pokynů [Galerie šablon úvodní](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) Chcete-li změnit počet virtuálních počítačů pomocí jedné v tomto uzlu.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-153">Follow the sample/instructions in the [quick start template gallery](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vmss-scale-existing) to change the number of VMs by one in that Nodetype.</span></span> <span data-ttu-id="a8e0d-154">Tato akce odebere teď nejvyšší instance virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-154">This will now remove the highest VM instance.</span></span> 
4. <span data-ttu-id="a8e0d-155">Opakujte kroky 1 až 3 podle potřeby, ale nikdy snižovat počet instancí v primárním uzlu typy menší než co zaručuje úroveň spolehlivosti.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-155">Repeat steps 1 through 3 as needed, but never scale down the number of instances in the primary node types less than what the reliability tier warrants.</span></span> <span data-ttu-id="a8e0d-156">Odkazovat na [informace o spolehlivosti vrstev zde](service-fabric-cluster-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="a8e0d-156">Refer to [the details on reliability tiers here](service-fabric-cluster-capacity.md).</span></span>

## <a name="behaviors-you-may-observe-in-service-fabric-explorer"></a><span data-ttu-id="a8e0d-157">Chování můžete pozorovat v Service Fabric Exploreru</span><span class="sxs-lookup"><span data-stu-id="a8e0d-157">Behaviors you may observe in Service Fabric Explorer</span></span>
<span data-ttu-id="a8e0d-158">Při škálování cluster Service Fabric Explorer se projeví počet uzlů (instancí sady škálování virtuálního počítače), které jsou součástí clusteru.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-158">When you scale up a cluster the Service Fabric Explorer will reflect the number of nodes (Virtual Machine scale set instances) that are part of the cluster.</span></span>  <span data-ttu-id="a8e0d-159">Při změně měřítka však se cluster dolů můžete zobrazí instance odebrané uzlu nebo virtuální počítač zobrazí stav v pořádku, pokud zavoláte [odebrat ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) s názvem příslušné uzlu.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-159">However, when you scale a cluster down you will see the removed node/VM instance displayed in an unhealthy state unless you call [Remove-ServiceFabricNodeState cmd](https://msdn.microsoft.com/library/mt125993.aspx) with the appropriate node name.</span></span>   

<span data-ttu-id="a8e0d-160">Následuje vysvětlení tohoto chování.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-160">Here is the explanation for this behavior.</span></span>

<span data-ttu-id="a8e0d-161">Uzly uvedené v Service Fabric Explorer jsou odraz jaké služby Service Fabric systému (FM konkrétně) ví o počtu uzlů clusteru měl/má.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-161">The nodes listed in Service Fabric Explorer are a reflection of what the Service Fabric system services (FM specifically) knows about the number of nodes the cluster had/has.</span></span> <span data-ttu-id="a8e0d-162">Při změně měřítka sad škálování virtuálního počítače, virtuální počítač byl odstraněn, ale FM systému služby stále domnívá, že uzel (který je namapovaný na virtuální počítač, který byl odstraněn) se vraťte.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-162">When you scale the Virtual Machine scale set down, the VM was deleted but FM system service still thinks that the node (that was mapped to the VM that was deleted) will come back.</span></span> <span data-ttu-id="a8e0d-163">Proto Service Fabric Explorer stále zobrazuje tento uzel (i když stav může být chyba nebo neznámá).</span><span class="sxs-lookup"><span data-stu-id="a8e0d-163">So Service Fabric Explorer continues to display that node (though the health state may be error or unknown).</span></span>

<span data-ttu-id="a8e0d-164">Pokud chcete mít jistotu, že uzel je odebrán, když dojde k odebrání virtuálního počítače, máte dvě možnosti:</span><span class="sxs-lookup"><span data-stu-id="a8e0d-164">In order to make sure that a node is removed when a VM is removed, you have two options:</span></span>

1) <span data-ttu-id="a8e0d-165">Zvolte si úroveň odolnosti zlatý nebo Silver (k dispozici brzy) pro typy uzlů v clusteru, který vám dává integrace infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-165">Choose a durability level of Gold or Silver (available soon) for the node types in your cluster, which gives you the infrastructure integration.</span></span> <span data-ttu-id="a8e0d-166">Které pak automaticky odebere uzly z našich služeb (FM) stavu systému při změně měřítka.</span><span class="sxs-lookup"><span data-stu-id="a8e0d-166">Which will then automatically remove the nodes from our system services (FM) state when you scale down.</span></span>
<span data-ttu-id="a8e0d-167">Odkazovat na [podrobnosti o sem úrovně odolnosti](service-fabric-cluster-capacity.md)</span><span class="sxs-lookup"><span data-stu-id="a8e0d-167">Refer to [the details on durability levels here](service-fabric-cluster-capacity.md)</span></span>

2) <span data-ttu-id="a8e0d-168">Jakmile byla změněna velikost instance virtuálního počítače, je třeba volat [rutinu Remove-ServiceFabricNodeState](https://msdn.microsoft.com/library/mt125993.aspx).</span><span class="sxs-lookup"><span data-stu-id="a8e0d-168">Once the VM instance has been scaled down, you need to call the [Remove-ServiceFabricNodeState cmdlet](https://msdn.microsoft.com/library/mt125993.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="a8e0d-169">Clusterů Service Fabric vyžadovat určité počet uzlů na být až na celou dobu pro zachování dostupnosti a zachovávají stav – označuje jako "údržbu kvora."</span><span class="sxs-lookup"><span data-stu-id="a8e0d-169">Service Fabric clusters require a certain number of nodes to be up at all the time in order to maintain availability and preserve state - referred to as "maintaining quorum."</span></span> <span data-ttu-id="a8e0d-170">Ano, je obvykle unsafe vypnout všechny počítače v clusteru, pokud jste provedli nejprve [úplného zálohování vaší stavu](service-fabric-reliable-services-backup-restore.md).</span><span class="sxs-lookup"><span data-stu-id="a8e0d-170">So, it is typically unsafe to shut down all the machines in the cluster unless you have first performed a [full backup of your state](service-fabric-reliable-services-backup-restore.md).</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="a8e0d-171">Další kroky</span><span class="sxs-lookup"><span data-stu-id="a8e0d-171">Next steps</span></span>
<span data-ttu-id="a8e0d-172">Přečtěte si následující také další informace o plánování kapacity clusteru, upgradu clusteru a rozdělení do oddílů služby:</span><span class="sxs-lookup"><span data-stu-id="a8e0d-172">Read the following to also learn about planning cluster capacity, upgrading a cluster, and partitioning services:</span></span>

* [<span data-ttu-id="a8e0d-173">Plánování kapacity vašeho clusteru</span><span class="sxs-lookup"><span data-stu-id="a8e0d-173">Plan your cluster capacity</span></span>](service-fabric-cluster-capacity.md)
* [<span data-ttu-id="a8e0d-174">Upgrade clusteru</span><span class="sxs-lookup"><span data-stu-id="a8e0d-174">Cluster upgrades</span></span>](service-fabric-cluster-upgrade.md)
* [<span data-ttu-id="a8e0d-175">Oddíl stavové služby pro maximální měřítko</span><span class="sxs-lookup"><span data-stu-id="a8e0d-175">Partition stateful services for maximum scale</span></span>](service-fabric-concepts-partitioning.md)

<!--Image references-->
[BrowseServiceFabricClusterResource]: ./media/service-fabric-cluster-scale-up-down/BrowseServiceFabricClusterResource.png
[ClusterResources]: ./media/service-fabric-cluster-scale-up-down/ClusterResources.png
