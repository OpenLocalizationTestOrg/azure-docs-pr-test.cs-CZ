---
title: "Azure Service Fabric událostí agregace pomocí diagnostiky Linux Azure | Microsoft Docs"
description: "Další informace o agregaci a shromažďování událostí pomocí LAD pro monitorování a Diagnostika Azure Service Fabric clusterů."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 07/17/2017
ms.author: dekapur
ms.openlocfilehash: bcc3a229369a065cfcfbd32eadbf3f6ae6fe0036
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/03/2017
---
# <a name="event-aggregation-and-collection-using-linux-azure-diagnostics"></a><span data-ttu-id="fd849-103">Seskupení událostí a kolekce pomocí diagnostiky Azure Linux</span><span class="sxs-lookup"><span data-stu-id="fd849-103">Event aggregation and collection using Linux Azure Diagnostics</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="fd849-104">Windows</span><span class="sxs-lookup"><span data-stu-id="fd849-104">Windows</span></span>](service-fabric-diagnostics-event-aggregation-wad.md)
> * [<span data-ttu-id="fd849-105">Linux</span><span class="sxs-lookup"><span data-stu-id="fd849-105">Linux</span></span>](service-fabric-diagnostics-event-aggregation-lad.md)
>
>

<span data-ttu-id="fd849-106">Když používáte cluster služby Azure Service Fabric, je vhodné shromažďovat protokoly ze všech uzlů v centrálním umístění.</span><span class="sxs-lookup"><span data-stu-id="fd849-106">When you're running an Azure Service Fabric cluster, it's a good idea to collect the logs from all the nodes in a central location.</span></span> <span data-ttu-id="fd849-107">S protokoly v centrálním umístění, vám pomáhají analyzovat a vyřešit problémy v clusteru nebo problémy v aplikací a služeb spuštěných v daném clusteru.</span><span class="sxs-lookup"><span data-stu-id="fd849-107">Having the logs in a central location helps you analyze and troubleshoot issues in your cluster, or issues in the applications and services running in that cluster.</span></span>

<span data-ttu-id="fd849-108">Jeden způsob, jak nahrát a shromažďování protokolů je použití přípony Linux Azure Diagnostics (LAD), který odešle protokoly do služby Azure Storage a má také možnost odeslat protokoly služby Azure Application Insights nebo Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="fd849-108">One way to upload and collect logs is to use the Linux Azure Diagnostics (LAD) extension, which uploads logs to Azure Storage, and also has the option to send logs to Azure Application Insights or Event Hubs.</span></span> <span data-ttu-id="fd849-109">Externího procesu můžete také použít ke čtení události z úložiště a umístit je o analýzy platformy produkt, například [analýzy protokolů OMS](../log-analytics/log-analytics-service-fabric.md) nebo jiné řešení pro analýzu protokolu.</span><span class="sxs-lookup"><span data-stu-id="fd849-109">You can also use an external process to read the events from storage and place them in an analysis platform product, such as [OMS Log Analytics](../log-analytics/log-analytics-service-fabric.md) or another log-parsing solution.</span></span>

## <a name="log-and-event-sources"></a><span data-ttu-id="fd849-110">Protokol a událostí zdroje</span><span class="sxs-lookup"><span data-stu-id="fd849-110">Log and event sources</span></span>

### <a name="service-fabric-platform-events"></a><span data-ttu-id="fd849-111">Události platformy Service Fabric</span><span class="sxs-lookup"><span data-stu-id="fd849-111">Service Fabric platform events</span></span>
<span data-ttu-id="fd849-112">Service Fabric vysílá několik protokolů se na pole prostřednictvím [LTTng](http://lttng.org), včetně provozní události nebo modul runtime události.</span><span class="sxs-lookup"><span data-stu-id="fd849-112">Service Fabric emits a few out-of-the-box logs via [LTTng](http://lttng.org), including operational events or runtime events.</span></span> <span data-ttu-id="fd849-113">Tyto protokoly se ukládají do umístění, které určuje šablony Resource Manageru do clusteru.</span><span class="sxs-lookup"><span data-stu-id="fd849-113">These logs are stored in the location that the cluster's Resource Manager template specifies.</span></span> <span data-ttu-id="fd849-114">Pro získání nebo nastavení podrobnosti o účtu úložiště, vyhledá značku **AzureTableWinFabETWQueryable** a vyhledejte **StoreConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="fd849-114">To get or set the storage account details, search for the tag **AzureTableWinFabETWQueryable** and look for **StoreConnectionString**.</span></span>

### <a name="application-events"></a><span data-ttu-id="fd849-115">Události aplikace</span><span class="sxs-lookup"><span data-stu-id="fd849-115">Application events</span></span>
 <span data-ttu-id="fd849-116">Události vygenerované z vašich aplikací a služeb kódu podle specifikace můžete při instrumentaci váš software.</span><span class="sxs-lookup"><span data-stu-id="fd849-116">Events emitted from your applications' and services' code as specified by you when instrumenting your software.</span></span> <span data-ttu-id="fd849-117">Můžete použít řešení protokolování, který zapíše soubory založený na textu protokolu – například LTTng.</span><span class="sxs-lookup"><span data-stu-id="fd849-117">You can use any logging solution that writes text-based log files--for example, LTTng.</span></span> <span data-ttu-id="fd849-118">Další informace najdete v dokumentaci LTTng na trasování vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="fd849-118">For more information, see the LTTng documentation on tracing your application.</span></span>

<span data-ttu-id="fd849-119">[Monitorování a Diagnostika služby v instalačním programu místním počítači vývoj](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span><span class="sxs-lookup"><span data-stu-id="fd849-119">[Monitor and diagnose services in a local machine development setup](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span></span>

## <a name="deploy-the-diagnostics-extension"></a><span data-ttu-id="fd849-120">Nasazení rozšíření diagnostiky</span><span class="sxs-lookup"><span data-stu-id="fd849-120">Deploy the Diagnostics extension</span></span>
<span data-ttu-id="fd849-121">Prvním krokem při shromažďování protokolů je k nasazení rozšíření diagnostiky na všech virtuálních počítačích v clusteru Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="fd849-121">The first step in collecting logs is to deploy the Diagnostics extension on each of the VMs in the Service Fabric cluster.</span></span> <span data-ttu-id="fd849-122">Rozšíření diagnostiky shromažďuje protokoly na každý virtuální počítač a odesílá je do účtu úložiště, který určíte.</span><span class="sxs-lookup"><span data-stu-id="fd849-122">The Diagnostics extension collects logs on each VM and uploads them to the storage account that you specify.</span></span> <span data-ttu-id="fd849-123">Kroky lišit v závislosti na tom, zda používáte portál Azure nebo Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="fd849-123">The steps vary based on whether you use the Azure portal or Azure Resource Manager.</span></span>

<span data-ttu-id="fd849-124">Chcete-li nasadit rozšíření diagnostiky pro virtuální počítače v clusteru jako součást vytváření clusteru, nastavte **diagnostiky** k **na**.</span><span class="sxs-lookup"><span data-stu-id="fd849-124">To deploy the Diagnostics extension to the VMs in the cluster as part of cluster creation, set **Diagnostics** to **On**.</span></span> <span data-ttu-id="fd849-125">Po vytvoření clusteru, nelze toto nastavení změnit pomocí portálu.</span><span class="sxs-lookup"><span data-stu-id="fd849-125">After you create the cluster, you can't change this setting by using the portal.</span></span>

<span data-ttu-id="fd849-126">Potom nakonfigurujte Linux Azure Diagnostics (LAD) pro shromažďování souborů a umístěte je do vašeho účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="fd849-126">Then, configure Linux Azure Diagnostics (LAD) to collect the files and place them into your storage account.</span></span> <span data-ttu-id="fd849-127">Tento postup je podrobně jako scénář 3 ("odeslání souborů protokolu") v článku [LAD pomocí monitorování a Diagnostika virtuální počítače s Linuxem](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fd849-127">This process is explained as scenario 3 ("Upload your own log files") in the article [Using LAD to monitor and diagnose Linux VMs](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span> <span data-ttu-id="fd849-128">Provedení tohoto postupu získá přístup k trasování.</span><span class="sxs-lookup"><span data-stu-id="fd849-128">Following this process gets you access to the traces.</span></span> <span data-ttu-id="fd849-129">Trasování můžete uložit do vizualizéru podle svého výběru.</span><span class="sxs-lookup"><span data-stu-id="fd849-129">You can upload the traces to a visualizer of your choice.</span></span>

<span data-ttu-id="fd849-130">Můžete také nasadit rozšíření diagnostiky pomocí Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="fd849-130">You can also deploy the Diagnostics extension by using Azure Resource Manager.</span></span> <span data-ttu-id="fd849-131">Proces je podobný pro systém Windows a Linux a je popsané u clusterů systému Windows v [postup shromažďování protokolů pomocí Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span><span class="sxs-lookup"><span data-stu-id="fd849-131">The process is similar for Windows and Linux and is documented for Windows clusters in [How to collect logs with Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span></span>

<span data-ttu-id="fd849-132">Můžete také použít Operations Management Suite, jak je popsáno v [Operations Management Suite Log Analytics s Linuxem](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span><span class="sxs-lookup"><span data-stu-id="fd849-132">You can also use Operations Management Suite, as described in [Operations Management Suite Log Analytics with Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span></span>

<span data-ttu-id="fd849-133">Po dokončení této konfigurace agenta LAD monitoruje protokol příslušné soubory.</span><span class="sxs-lookup"><span data-stu-id="fd849-133">After you finish this configuration, the LAD agent monitors the specified log files.</span></span> <span data-ttu-id="fd849-134">Vždy, když nový řádek je připojen k souboru, vytvoří záznam syslog, která je odeslána do úložiště, které jste zadali.</span><span class="sxs-lookup"><span data-stu-id="fd849-134">Whenever a new line is appended to the file, it creates a syslog entry that is sent to the storage that you specified.</span></span>

## <a name="next-steps"></a><span data-ttu-id="fd849-135">Další kroky</span><span class="sxs-lookup"><span data-stu-id="fd849-135">Next steps</span></span>

<span data-ttu-id="fd849-136">Chcete-li podrobněji pochopit, jaké události byste měli zkontrolovat při odstraňování problémů, přečtěte si téma [LTTng dokumentace](http://lttng.org/docs) a [pomocí LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fd849-136">To understand in more detail what events you should examine while troubleshooting issues, see [LTTng documentation](http://lttng.org/docs) and [Using LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>