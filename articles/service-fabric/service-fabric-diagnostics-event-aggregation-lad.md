---
title: "aaaAzure agregace událostí služby Fabric pomocí diagnostiky Azure Linux | Microsoft Docs"
description: "Další informace o agregaci a shromažďování událostí pomocí LAD pro monitorování a Diagnostika Azure Service Fabric clusterů."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 07/17/2017
ms.author: dekapur
ms.openlocfilehash: aefa869219a0dd219e01e6574816fe3ce47fe472
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="event-aggregation-and-collection-using-linux-azure-diagnostics"></a><span data-ttu-id="9c66d-103">Seskupení událostí a kolekce pomocí diagnostiky Azure Linux</span><span class="sxs-lookup"><span data-stu-id="9c66d-103">Event aggregation and collection using Linux Azure Diagnostics</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="9c66d-104">Windows</span><span class="sxs-lookup"><span data-stu-id="9c66d-104">Windows</span></span>](service-fabric-diagnostics-event-aggregation-wad.md)
> * [<span data-ttu-id="9c66d-105">Linux</span><span class="sxs-lookup"><span data-stu-id="9c66d-105">Linux</span></span>](service-fabric-diagnostics-event-aggregation-lad.md)
>
>

<span data-ttu-id="9c66d-106">Když používáte cluster služby Azure Service Fabric, je vhodné toocollect hello protokoly ze všech uzlů hello v centrálním umístění.</span><span class="sxs-lookup"><span data-stu-id="9c66d-106">When you're running an Azure Service Fabric cluster, it's a good idea toocollect hello logs from all hello nodes in a central location.</span></span> <span data-ttu-id="9c66d-107">S protokoly hello v centrálním umístění, vám pomáhají analyzovat a vyřešit problémy v clusteru nebo problémy v hello aplikací a služeb spuštěných v daném clusteru.</span><span class="sxs-lookup"><span data-stu-id="9c66d-107">Having hello logs in a central location helps you analyze and troubleshoot issues in your cluster, or issues in hello applications and services running in that cluster.</span></span>

<span data-ttu-id="9c66d-108">Jedním ze způsobů tooupload a shromáždit protokoly je toouse hello Linux Azure Diagnostics (LAD) přípony, který odešle tooAzure protokoly úložiště a také obsahuje hello možnost toosend protokoly tooAzure Application Insights nebo Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="9c66d-108">One way tooupload and collect logs is toouse hello Linux Azure Diagnostics (LAD) extension, which uploads logs tooAzure Storage, and also has hello option toosend logs tooAzure Application Insights or Event Hubs.</span></span> <span data-ttu-id="9c66d-109">Můžete také použít externího procesu tooread hello události z úložiště a umístit je o analýzy platformy produkt, například [analýzy protokolů OMS](../log-analytics/log-analytics-service-fabric.md) nebo jiné řešení pro analýzu protokolu.</span><span class="sxs-lookup"><span data-stu-id="9c66d-109">You can also use an external process tooread hello events from storage and place them in an analysis platform product, such as [OMS Log Analytics](../log-analytics/log-analytics-service-fabric.md) or another log-parsing solution.</span></span>

## <a name="log-and-event-sources"></a><span data-ttu-id="9c66d-110">Protokol a událostí zdroje</span><span class="sxs-lookup"><span data-stu-id="9c66d-110">Log and event sources</span></span>

### <a name="service-fabric-platform-events"></a><span data-ttu-id="9c66d-111">Události platformy Service Fabric</span><span class="sxs-lookup"><span data-stu-id="9c66d-111">Service Fabric platform events</span></span>
<span data-ttu-id="9c66d-112">Service Fabric vysílá několik protokolů se na pole prostřednictvím [LTTng](http://lttng.org), včetně provozní události nebo modul runtime události.</span><span class="sxs-lookup"><span data-stu-id="9c66d-112">Service Fabric emits a few out-of-the-box logs via [LTTng](http://lttng.org), including operational events or runtime events.</span></span> <span data-ttu-id="9c66d-113">Tyto protokoly jsou uloženy v umístění hello hello určuje šablony správce prostředků clusteru.</span><span class="sxs-lookup"><span data-stu-id="9c66d-113">These logs are stored in hello location that hello cluster's Resource Manager template specifies.</span></span> <span data-ttu-id="9c66d-114">tooget nebo nastavit hello podrobnosti o účtu úložiště, vyhledá hello značku **AzureTableWinFabETWQueryable** a vyhledejte **StoreConnectionString**.</span><span class="sxs-lookup"><span data-stu-id="9c66d-114">tooget or set hello storage account details, search for hello tag **AzureTableWinFabETWQueryable** and look for **StoreConnectionString**.</span></span>

### <a name="application-events"></a><span data-ttu-id="9c66d-115">Události aplikace</span><span class="sxs-lookup"><span data-stu-id="9c66d-115">Application events</span></span>
 <span data-ttu-id="9c66d-116">Události vygenerované z vašich aplikací a služeb kódu podle specifikace můžete při instrumentaci váš software.</span><span class="sxs-lookup"><span data-stu-id="9c66d-116">Events emitted from your applications' and services' code as specified by you when instrumenting your software.</span></span> <span data-ttu-id="9c66d-117">Můžete použít řešení protokolování, který zapíše soubory založený na textu protokolu – například LTTng.</span><span class="sxs-lookup"><span data-stu-id="9c66d-117">You can use any logging solution that writes text-based log files--for example, LTTng.</span></span> <span data-ttu-id="9c66d-118">Další informace naleznete v dokumentaci k LTTng hello na trasování vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c66d-118">For more information, see hello LTTng documentation on tracing your application.</span></span>

<span data-ttu-id="9c66d-119">[Monitorování a Diagnostika služby v instalačním programu místním počítači vývoj](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span><span class="sxs-lookup"><span data-stu-id="9c66d-119">[Monitor and diagnose services in a local machine development setup](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md).</span></span>

## <a name="deploy-hello-diagnostics-extension"></a><span data-ttu-id="9c66d-120">Nasazení rozšíření diagnostiky hello</span><span class="sxs-lookup"><span data-stu-id="9c66d-120">Deploy hello Diagnostics extension</span></span>
<span data-ttu-id="9c66d-121">Hello prvním krokem při shromažďování protokolů je rozšíření diagnostiky hello toodeploy na každém hello virtuálních počítačů v clusteru Service Fabric hello.</span><span class="sxs-lookup"><span data-stu-id="9c66d-121">hello first step in collecting logs is toodeploy hello Diagnostics extension on each of hello VMs in hello Service Fabric cluster.</span></span> <span data-ttu-id="9c66d-122">Hello rozšíření diagnostiky shromažďuje protokoly na každý virtuální počítač a odesílá je toohello účet úložiště, který určíte.</span><span class="sxs-lookup"><span data-stu-id="9c66d-122">hello Diagnostics extension collects logs on each VM and uploads them toohello storage account that you specify.</span></span> <span data-ttu-id="9c66d-123">kroky Hello lišit v závislosti na tom, zda používáte hello portál Azure nebo Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9c66d-123">hello steps vary based on whether you use hello Azure portal or Azure Resource Manager.</span></span>

<span data-ttu-id="9c66d-124">nastavit toodeploy hello diagnostiky rozšíření toohello virtuálních počítačů v clusteru hello jako součást vytváření clusteru **diagnostiky** příliš**na**.</span><span class="sxs-lookup"><span data-stu-id="9c66d-124">toodeploy hello Diagnostics extension toohello VMs in hello cluster as part of cluster creation, set **Diagnostics** too**On**.</span></span> <span data-ttu-id="9c66d-125">Po vytvoření clusteru hello, nelze toto nastavení změnit pomocí portálu hello.</span><span class="sxs-lookup"><span data-stu-id="9c66d-125">After you create hello cluster, you can't change this setting by using hello portal.</span></span>

<span data-ttu-id="9c66d-126">Potom nakonfigurujte soubory hello toocollect Linux Azure Diagnostics (LAD) a umístěte je do vašeho účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="9c66d-126">Then, configure Linux Azure Diagnostics (LAD) toocollect hello files and place them into your storage account.</span></span> <span data-ttu-id="9c66d-127">Tento postup je podrobně jako scénář 3 ("odeslání souborů protokolu") v článku hello [toomonitor pomocí LAD a diagnostikovat virtuální počítače s Linuxem](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="9c66d-127">This process is explained as scenario 3 ("Upload your own log files") in hello article [Using LAD toomonitor and diagnose Linux VMs](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span> <span data-ttu-id="9c66d-128">Následující tento proces získá přístup toohello trasování.</span><span class="sxs-lookup"><span data-stu-id="9c66d-128">Following this process gets you access toohello traces.</span></span> <span data-ttu-id="9c66d-129">Můžete nahrát hello trasování tooa vizualizér podle svého výběru.</span><span class="sxs-lookup"><span data-stu-id="9c66d-129">You can upload hello traces tooa visualizer of your choice.</span></span>

<span data-ttu-id="9c66d-130">Můžete také nasadit hello rozšíření diagnostiky pomocí Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="9c66d-130">You can also deploy hello Diagnostics extension by using Azure Resource Manager.</span></span> <span data-ttu-id="9c66d-131">Hello proces je podobný pro systém Windows a Linux a je popsané u clusterů systému Windows v [jak toocollect protokoly s Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span><span class="sxs-lookup"><span data-stu-id="9c66d-131">hello process is similar for Windows and Linux and is documented for Windows clusters in [How toocollect logs with Azure Diagnostics](service-fabric-diagnostics-how-to-setup-wad.md).</span></span>

<span data-ttu-id="9c66d-132">Můžete také použít Operations Management Suite, jak je popsáno v [Operations Management Suite Log Analytics s Linuxem](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span><span class="sxs-lookup"><span data-stu-id="9c66d-132">You can also use Operations Management Suite, as described in [Operations Management Suite Log Analytics with Linux](https://blogs.technet.microsoft.com/hybridcloud/2016/01/28/operations-management-suite-log-analytics-with-linux/).</span></span>

<span data-ttu-id="9c66d-133">Po dokončení této konfigurace hello LAD agenta monitorování hello zadané soubory protokolu.</span><span class="sxs-lookup"><span data-stu-id="9c66d-133">After you finish this configuration, hello LAD agent monitors hello specified log files.</span></span> <span data-ttu-id="9c66d-134">Vždy, když je nový řádek souboru připojením toohello, vytvoří syslog položku, která je odeslané toohello úložiště, který jste zadali.</span><span class="sxs-lookup"><span data-stu-id="9c66d-134">Whenever a new line is appended toohello file, it creates a syslog entry that is sent toohello storage that you specified.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9c66d-135">Další kroky</span><span class="sxs-lookup"><span data-stu-id="9c66d-135">Next steps</span></span>

<span data-ttu-id="9c66d-136">toounderstand podrobněji, jaké události byste měli zkontrolovat při řešení potíží, najdete v části [LTTng dokumentace](http://lttng.org/docs) a [pomocí LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="9c66d-136">toounderstand in more detail what events you should examine while troubleshooting issues, see [LTTng documentation](http://lttng.org/docs) and [Using LAD](../virtual-machines/linux/classic/diagnostic-extension.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>
