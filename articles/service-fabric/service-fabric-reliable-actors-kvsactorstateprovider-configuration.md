---
title: "nastavení KVSActorStateProvider aaaChange v Azure mikroslužeb | Microsoft Docs"
description: "Další informace o konfiguraci Azure Service Fabric stavová aktéři typu KVSActorStateProvider."
services: Service-Fabric
documentationcenter: .net
author: sumukhs
manager: timlt
editor: 
ms.assetid: dbed72f4-dda5-4287-bd56-da492710cd96
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 6/29/2017
ms.author: sumukhs
ms.openlocfilehash: e003512678556e68a8926b1b9c6c28d9ae3979d2
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-reliable-actors--kvsactorstateprovider"></a><span data-ttu-id="e7843-103">Konfigurace Reliable Actors – KVSActorStateProvider</span><span class="sxs-lookup"><span data-stu-id="e7843-103">Configuring Reliable Actors--KVSActorStateProvider</span></span>
<span data-ttu-id="e7843-104">Výchozí konfigurace hello KVSActorStateProvider můžete upravit změnou hello souborech settings.xml souboru, který je generován ve kořenového adresáře balíčku Microsoft Visual Studio hello složce hello konfigurace pro zadaný objektu actor hello.</span><span class="sxs-lookup"><span data-stu-id="e7843-104">You can modify hello default configuration of KVSActorStateProvider by changing hello settings.xml file that is generated in hello Microsoft Visual Studio package root under hello Config folder for hello specified actor.</span></span>

<span data-ttu-id="e7843-105">modulu runtime Azure Service Fabric Hello předdefinované části z názvů v souboru hello souborech settings.xml a odebírá hello konfigurační hodnoty při vytváření hello základní komponenty modulu runtime.</span><span class="sxs-lookup"><span data-stu-id="e7843-105">hello Azure Service Fabric runtime looks for predefined section names in hello settings.xml file and consumes hello configuration values while creating hello underlying runtime components.</span></span>

> [!NOTE]
> <span data-ttu-id="e7843-106">Proveďte **není** odstranit nebo změnit názvy části hello hello následující konfigurace v souborech settings.xml souboru hello, který je generován ve hello řešení sady Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e7843-106">Do **not** delete or modify hello section names of hello following configurations in hello settings.xml file that is generated in hello Visual Studio solution.</span></span>
> 
> 

## <a name="replicator-security-configuration"></a><span data-ttu-id="e7843-107">Konfigurace zabezpečení replikátoru</span><span class="sxs-lookup"><span data-stu-id="e7843-107">Replicator security configuration</span></span>
<span data-ttu-id="e7843-108">Konfigurace zabezpečení Replikátor jsou použité toosecure hello komunikační kanál, který se používá během replikace.</span><span class="sxs-lookup"><span data-stu-id="e7843-108">Replicator security configurations are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="e7843-109">To znamená, že služby nelze vzájemně provoz replikace, zajišťující, že hello data, která vysokou dostupnost, je také zabezpečené.</span><span class="sxs-lookup"><span data-stu-id="e7843-109">This means that services cannot see each other's replication traffic, ensuring that hello data that is made highly available is also secure.</span></span>
<span data-ttu-id="e7843-110">Ve výchozím nastavení zabraňuje konfigurační oddíl prázdný zabezpečení zabezpečení replikace.</span><span class="sxs-lookup"><span data-stu-id="e7843-110">By default, an empty security configuration section prevents replication security.</span></span>

### <a name="section-name"></a><span data-ttu-id="e7843-111">Název oddílu</span><span class="sxs-lookup"><span data-stu-id="e7843-111">Section name</span></span>
<span data-ttu-id="e7843-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span><span class="sxs-lookup"><span data-stu-id="e7843-112">&lt;ActorName&gt;ServiceReplicatorSecurityConfig</span></span>

## <a name="replicator-configuration"></a><span data-ttu-id="e7843-113">Replikátor konfigurace</span><span class="sxs-lookup"><span data-stu-id="e7843-113">Replicator configuration</span></span>
<span data-ttu-id="e7843-114">Konfigurace Replikátor nakonfigurovat hello Replikátor, která je odpovědná za vytváření vysoce spolehlivé hello zprostředkovatele stavu objektu Actor stavu.</span><span class="sxs-lookup"><span data-stu-id="e7843-114">Replicator configurations configure hello replicator that is responsible for making hello Actor State Provider state highly reliable.</span></span>
<span data-ttu-id="e7843-115">Hello výchozí konfigurace je generován hello šablony sady Visual Studio a měla by stačit.</span><span class="sxs-lookup"><span data-stu-id="e7843-115">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="e7843-116">Tato část pojednává o další konfigurace, které jsou k dispozici tootune Replikátor hello.</span><span class="sxs-lookup"><span data-stu-id="e7843-116">This section talks about additional configurations that are available tootune hello replicator.</span></span>

### <a name="section-name"></a><span data-ttu-id="e7843-117">Název oddílu</span><span class="sxs-lookup"><span data-stu-id="e7843-117">Section name</span></span>
<span data-ttu-id="e7843-118">&lt;ActorName&gt;ServiceReplicatorConfig</span><span class="sxs-lookup"><span data-stu-id="e7843-118">&lt;ActorName&gt;ServiceReplicatorConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="e7843-119">Názvy konfigurace</span><span class="sxs-lookup"><span data-stu-id="e7843-119">Configuration names</span></span>
| <span data-ttu-id="e7843-120">Name (Název)</span><span class="sxs-lookup"><span data-stu-id="e7843-120">Name</span></span> | <span data-ttu-id="e7843-121">Jednotka</span><span class="sxs-lookup"><span data-stu-id="e7843-121">Unit</span></span> | <span data-ttu-id="e7843-122">Výchozí hodnota</span><span class="sxs-lookup"><span data-stu-id="e7843-122">Default value</span></span> | <span data-ttu-id="e7843-123">Poznámky</span><span class="sxs-lookup"><span data-stu-id="e7843-123">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e7843-124">BatchAcknowledgementInterval</span><span class="sxs-lookup"><span data-stu-id="e7843-124">BatchAcknowledgementInterval</span></span> |<span data-ttu-id="e7843-125">Sekundy</span><span class="sxs-lookup"><span data-stu-id="e7843-125">Seconds</span></span> |<span data-ttu-id="e7843-126">0.015</span><span class="sxs-lookup"><span data-stu-id="e7843-126">0.015</span></span> |<span data-ttu-id="e7843-127">Časové období, pro které Replikátor hello na sekundární počká hello po přijetí operace před odesláním zpět potvrzení toohello primární.</span><span class="sxs-lookup"><span data-stu-id="e7843-127">Time period for which hello replicator at hello secondary waits after receiving an operation before sending back an acknowledgement toohello primary.</span></span> <span data-ttu-id="e7843-128">Další potvrzení toobe odeslané pro operace zpracování v rámci tohoto intervalu se odesílají jako jedna odpověď.</span><span class="sxs-lookup"><span data-stu-id="e7843-128">Any other acknowledgements toobe sent for operations processed within this interval are sent as one response.</span></span> |
| <span data-ttu-id="e7843-129">ReplicatorEndpoint</span><span class="sxs-lookup"><span data-stu-id="e7843-129">ReplicatorEndpoint</span></span> |<span data-ttu-id="e7843-130">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="e7843-130">N/A</span></span> |<span data-ttu-id="e7843-131">Žádná výchozí hodnota – povinný parametr</span><span class="sxs-lookup"><span data-stu-id="e7843-131">No default--required parameter</span></span> |<span data-ttu-id="e7843-132">IP adresa a port, který hello primární a sekundární Replikátor použije toocommunicate jiných replikátory hello sady replik.</span><span class="sxs-lookup"><span data-stu-id="e7843-132">IP address and port that hello primary/secondary replicator will use toocommunicate with other replicators in hello replica set.</span></span> <span data-ttu-id="e7843-133">To by měl odkazovat koncový bod TCP prostředků v hello service manifest.</span><span class="sxs-lookup"><span data-stu-id="e7843-133">This should reference a TCP resource endpoint in hello service manifest.</span></span> <span data-ttu-id="e7843-134">Odkazovat příliš[manifestu prostředky služby](service-fabric-service-manifest-resources.md) tooread informace o definování koncový bod prostředků v hello service manifest.</span><span class="sxs-lookup"><span data-stu-id="e7843-134">Refer too[Service manifest resources](service-fabric-service-manifest-resources.md) tooread more about defining endpoint resources in hello service manifest.</span></span> |
| <span data-ttu-id="e7843-135">RetryInterval</span><span class="sxs-lookup"><span data-stu-id="e7843-135">RetryInterval</span></span> |<span data-ttu-id="e7843-136">Sekundy</span><span class="sxs-lookup"><span data-stu-id="e7843-136">Seconds</span></span> |<span data-ttu-id="e7843-137">5</span><span class="sxs-lookup"><span data-stu-id="e7843-137">5</span></span> |<span data-ttu-id="e7843-138">Časové období, po které hello Replikátor znovu přenáší a zpráva, pokud neobdrží potvrzení operace.</span><span class="sxs-lookup"><span data-stu-id="e7843-138">Time period after which hello replicator re-transmits a message if it does not receive an acknowledgement for an operation.</span></span> |
| <span data-ttu-id="e7843-139">Maxreplicationmessagesize.</span><span class="sxs-lookup"><span data-stu-id="e7843-139">MaxReplicationMessageSize</span></span> |<span data-ttu-id="e7843-140">Bajty</span><span class="sxs-lookup"><span data-stu-id="e7843-140">Bytes</span></span> |<span data-ttu-id="e7843-141">50 MB</span><span class="sxs-lookup"><span data-stu-id="e7843-141">50 MB</span></span> |<span data-ttu-id="e7843-142">Maximální velikost data replikace, která mohou být přenesena do jedné zprávy.</span><span class="sxs-lookup"><span data-stu-id="e7843-142">Maximum size of replication data that can be transmitted in a single message.</span></span> |
| <span data-ttu-id="e7843-143">MaxPrimaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="e7843-143">MaxPrimaryReplicationQueueSize</span></span> |<span data-ttu-id="e7843-144">Počet operací</span><span class="sxs-lookup"><span data-stu-id="e7843-144">Number of operations</span></span> |<span data-ttu-id="e7843-145">1024</span><span class="sxs-lookup"><span data-stu-id="e7843-145">1024</span></span> |<span data-ttu-id="e7843-146">Maximální počet operací ve frontě primární hello.</span><span class="sxs-lookup"><span data-stu-id="e7843-146">Maximum number of operations in hello primary queue.</span></span> <span data-ttu-id="e7843-147">Operace uvolněno po primární Replikátor hello přijímá potvrzení z všechny sekundární replikátory hello.</span><span class="sxs-lookup"><span data-stu-id="e7843-147">An operation is freed up after hello primary replicator receives an acknowledgement from all hello secondary replicators.</span></span> <span data-ttu-id="e7843-148">Tato hodnota musí být větší než 64 a druhou mocninou 2.</span><span class="sxs-lookup"><span data-stu-id="e7843-148">This value must be greater than 64 and a power of 2.</span></span> |
| <span data-ttu-id="e7843-149">MaxSecondaryReplicationQueueSize</span><span class="sxs-lookup"><span data-stu-id="e7843-149">MaxSecondaryReplicationQueueSize</span></span> |<span data-ttu-id="e7843-150">Počet operací</span><span class="sxs-lookup"><span data-stu-id="e7843-150">Number of operations</span></span> |<span data-ttu-id="e7843-151">2 048</span><span class="sxs-lookup"><span data-stu-id="e7843-151">2048</span></span> |<span data-ttu-id="e7843-152">Maximální počet operací ve frontě sekundární hello.</span><span class="sxs-lookup"><span data-stu-id="e7843-152">Maximum number of operations in hello secondary queue.</span></span> <span data-ttu-id="e7843-153">Operace uvolněno po provedení vysoce dostupný prostřednictvím trvalost stavu.</span><span class="sxs-lookup"><span data-stu-id="e7843-153">An operation is freed up after making its state highly available through persistence.</span></span> <span data-ttu-id="e7843-154">Tato hodnota musí být větší než 64 a druhou mocninou 2.</span><span class="sxs-lookup"><span data-stu-id="e7843-154">This value must be greater than 64 and a power of 2.</span></span> |

## <a name="store-configuration"></a><span data-ttu-id="e7843-155">Konfigurace úložiště</span><span class="sxs-lookup"><span data-stu-id="e7843-155">Store configuration</span></span>
<span data-ttu-id="e7843-156">Konfigurace úložiště jsou použité tooconfigure hello místní úložiště používané toopersist hello stavu, který je právě replikován.</span><span class="sxs-lookup"><span data-stu-id="e7843-156">Store configurations are used tooconfigure hello local store that is used toopersist hello state that is being replicated.</span></span>
<span data-ttu-id="e7843-157">Hello výchozí konfigurace je generován hello šablony sady Visual Studio a měla by stačit.</span><span class="sxs-lookup"><span data-stu-id="e7843-157">hello default configuration is generated by hello Visual Studio template and should suffice.</span></span> <span data-ttu-id="e7843-158">Tato část pojednává o další konfigurace, které jsou k dispozici tootune hello místního úložiště.</span><span class="sxs-lookup"><span data-stu-id="e7843-158">This section talks about additional configurations that are available tootune hello local store.</span></span>

### <a name="section-name"></a><span data-ttu-id="e7843-159">Název oddílu</span><span class="sxs-lookup"><span data-stu-id="e7843-159">Section name</span></span>
<span data-ttu-id="e7843-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span><span class="sxs-lookup"><span data-stu-id="e7843-160">&lt;ActorName&gt;ServiceLocalStoreConfig</span></span>

### <a name="configuration-names"></a><span data-ttu-id="e7843-161">Názvy konfigurace</span><span class="sxs-lookup"><span data-stu-id="e7843-161">Configuration names</span></span>
| <span data-ttu-id="e7843-162">Name (Název)</span><span class="sxs-lookup"><span data-stu-id="e7843-162">Name</span></span> | <span data-ttu-id="e7843-163">Jednotka</span><span class="sxs-lookup"><span data-stu-id="e7843-163">Unit</span></span> | <span data-ttu-id="e7843-164">Výchozí hodnota</span><span class="sxs-lookup"><span data-stu-id="e7843-164">Default value</span></span> | <span data-ttu-id="e7843-165">Poznámky</span><span class="sxs-lookup"><span data-stu-id="e7843-165">Remarks</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e7843-166">MaxAsyncCommitDelayInMilliseconds</span><span class="sxs-lookup"><span data-stu-id="e7843-166">MaxAsyncCommitDelayInMilliseconds</span></span> |<span data-ttu-id="e7843-167">počet milisekund</span><span class="sxs-lookup"><span data-stu-id="e7843-167">Milliseconds</span></span> |<span data-ttu-id="e7843-168">200</span><span class="sxs-lookup"><span data-stu-id="e7843-168">200</span></span> |<span data-ttu-id="e7843-169">Nastaví maximální hello dávkování interval pro potvrzení trvanlivý místního úložiště.</span><span class="sxs-lookup"><span data-stu-id="e7843-169">Sets hello maximum batching interval for durable local store commits.</span></span> |
| <span data-ttu-id="e7843-170">MaxVerPages</span><span class="sxs-lookup"><span data-stu-id="e7843-170">MaxVerPages</span></span> |<span data-ttu-id="e7843-171">Počet stránek</span><span class="sxs-lookup"><span data-stu-id="e7843-171">Number of pages</span></span> |<span data-ttu-id="e7843-172">16384</span><span class="sxs-lookup"><span data-stu-id="e7843-172">16384</span></span> |<span data-ttu-id="e7843-173">Hello maximální počet stránek verze v hello místní uložení databáze.</span><span class="sxs-lookup"><span data-stu-id="e7843-173">hello maximum number of version pages in hello local store database.</span></span> <span data-ttu-id="e7843-174">Určuje maximální počet nezpracovaných transakcí hello.</span><span class="sxs-lookup"><span data-stu-id="e7843-174">It determines hello maximum number of outstanding transactions.</span></span> |

## <a name="sample-configuration-file"></a><span data-ttu-id="e7843-175">Vzorový konfigurační soubor</span><span class="sxs-lookup"><span data-stu-id="e7843-175">Sample configuration file</span></span>
```xml
<?xml version="1.0" encoding="utf-8"?>
<Settings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://schemas.microsoft.com/2011/01/fabric">
   <Section Name="MyActorServiceReplicatorConfig">
      <Parameter Name="ReplicatorEndpoint" Value="MyActorServiceReplicatorEndpoint" />
      <Parameter Name="BatchAcknowledgementInterval" Value="0.05"/>
   </Section>
   <Section Name="MyActorServiceLocalStoreConfig">
      <Parameter Name="MaxVerPages" Value="8192" />
   </Section>
   <Section Name="MyActorServiceReplicatorSecurityConfig">
      <Parameter Name="CredentialType" Value="X509" />
      <Parameter Name="FindType" Value="FindByThumbprint" />
      <Parameter Name="FindValue" Value="9d c9 06 b1 69 dc 4f af fd 16 97 ac 78 1e 80 67 90 74 9d 2f" />
      <Parameter Name="StoreLocation" Value="LocalMachine" />
      <Parameter Name="StoreName" Value="My" />
      <Parameter Name="ProtectionLevel" Value="EncryptAndSign" />
      <Parameter Name="AllowedCommonNames" Value="My-Test-SAN1-Alice,My-Test-SAN1-Bob" />
   </Section>
</Settings>
```
## <a name="remarks"></a><span data-ttu-id="e7843-176">Poznámky</span><span class="sxs-lookup"><span data-stu-id="e7843-176">Remarks</span></span>
<span data-ttu-id="e7843-177">Parametr BatchAcknowledgementInterval Hello řídí latenci replikace.</span><span class="sxs-lookup"><span data-stu-id="e7843-177">hello BatchAcknowledgementInterval parameter controls replication latency.</span></span> <span data-ttu-id="e7843-178">Hodnota '0' výsledkem hello nejnižší možnou latenci, náklady na hello propustnosti (jako další potvrzení zprávy musí být odeslána a zpracování jednotlivých obsahující méně potvrzení).</span><span class="sxs-lookup"><span data-stu-id="e7843-178">A value of '0' results in hello lowest possible latency, at hello cost of throughput (as more acknowledgement messages must be sent and processed, each containing fewer acknowledgements).</span></span>
<span data-ttu-id="e7843-179">Hello větší hodnotu hello BatchAcknowledgementInterval, hello vyšší hello celková propustnost replikace hello náklady na vyšší latence operace.</span><span class="sxs-lookup"><span data-stu-id="e7843-179">hello larger hello value for BatchAcknowledgementInterval, hello higher hello overall replication throughput, at hello cost of higher operation latency.</span></span> <span data-ttu-id="e7843-180">Výsledkem je přímo toohello latenci potvrzení transakcí.</span><span class="sxs-lookup"><span data-stu-id="e7843-180">This directly translates toohello latency of transaction commits.</span></span>

