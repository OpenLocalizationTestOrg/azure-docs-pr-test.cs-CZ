---
title: "Začínáme s předkonfigurovanými řešeními Azure IoT | Dokumentace Microsoftu"
description: "Popis předkonfigurovaných řešení Azure IoT a jejich architektury spolu s odkazy na další prostředky"
services: 
suite: iot-suite
documentationcenter: 
author: dominicbetts
manager: timlt
editor: 
ms.assetid: 59009f37-9ba0-4e17-a189-7ea354a858a2
ms.service: iot-suite
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/25/2017
ms.author: dobett
ms.openlocfilehash: d66dece63d2ba944c8f3828ba68c6202485d47e0
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/03/2017
---
# <a name="what-are-the-azure-iot-suite-preconfigured-solutions"></a><span data-ttu-id="e1dee-103">Co jsou předkonfigurovaná řešení Azure IoT Suite?</span><span class="sxs-lookup"><span data-stu-id="e1dee-103">What are the Azure IoT Suite preconfigured solutions?</span></span>

<span data-ttu-id="e1dee-104">Předkonfigurovaná řešení Azure IoT Suite jsou implementací běžných vzorů řešení IoT, která můžete nasadit v Azure pomocí svého předplatného.</span><span class="sxs-lookup"><span data-stu-id="e1dee-104">The Azure IoT Suite preconfigured solutions are implementations of common IoT solution patterns that you can deploy to Azure using your subscription.</span></span> <span data-ttu-id="e1dee-105">Předkonfigurovaná řešení můžete použít následovně:</span><span class="sxs-lookup"><span data-stu-id="e1dee-105">You can use the preconfigured solutions:</span></span>

* <span data-ttu-id="e1dee-106">Jako výchozí bod pro své vlastní řešení IoT.</span><span class="sxs-lookup"><span data-stu-id="e1dee-106">As a starting point for your own IoT solutions.</span></span>
* <span data-ttu-id="e1dee-107">K získání informací o běžných vzorech v designu a vývoji řešení IoT.</span><span class="sxs-lookup"><span data-stu-id="e1dee-107">To learn about common patterns in IoT solution design and development.</span></span>

<span data-ttu-id="e1dee-108">Každé předkonfigurované řešení je kompletní a komplexní implementace, která využívá telemetrická simulovaná zařízení ke generování telemetrie.</span><span class="sxs-lookup"><span data-stu-id="e1dee-108">Each preconfigured solution is a complete, end-to-end implementation that uses simulated devices to generate telemetry.</span></span>

<span data-ttu-id="e1dee-109">Můžete si stáhnout kompletní zdrojový kód a upravit a rozšířit řešení tak, aby odpovídalo vašim specifickým požadavkům na IoT.</span><span class="sxs-lookup"><span data-stu-id="e1dee-109">You can download the complete source code to customize and extend the solution to meet your specific IoT requirements.</span></span>

> [!NOTE]
> <span data-ttu-id="e1dee-110">Pokud chcete nasadit některé z předkonfigurovaných řešení, navštivte web [Microsoft Azure IoT Suite][lnk-azureiotsuite].</span><span class="sxs-lookup"><span data-stu-id="e1dee-110">To deploy one of the preconfigured solutions, visit [Microsoft Azure IoT Suite][lnk-azureiotsuite].</span></span> <span data-ttu-id="e1dee-111">Další informace o nasazení a spuštění jednoho z řešení najdete v článku [Začínáme s předkonfigurovanými řešeními IoT][lnk-getstarted-preconfigured].</span><span class="sxs-lookup"><span data-stu-id="e1dee-111">The article [Get started with the IoT preconfigured solutions][lnk-getstarted-preconfigured] provides more information about how to deploy and run one of the solutions.</span></span>

<span data-ttu-id="e1dee-112">Následující tabulka ukazuje, jak se řešení mapují na určité funkce IoT.</span><span class="sxs-lookup"><span data-stu-id="e1dee-112">The following table shows how the solutions map to specific IoT features:</span></span>

| <span data-ttu-id="e1dee-113">Řešení</span><span class="sxs-lookup"><span data-stu-id="e1dee-113">Solution</span></span> | <span data-ttu-id="e1dee-114">Přijímání dat</span><span class="sxs-lookup"><span data-stu-id="e1dee-114">Data ingestion</span></span> | <span data-ttu-id="e1dee-115">Identita zařízení</span><span class="sxs-lookup"><span data-stu-id="e1dee-115">Device identity</span></span> | <span data-ttu-id="e1dee-116">Správa zařízení</span><span class="sxs-lookup"><span data-stu-id="e1dee-116">Device management</span></span> | <span data-ttu-id="e1dee-117">Příkazy a ovládání</span><span class="sxs-lookup"><span data-stu-id="e1dee-117">Command and control</span></span> | <span data-ttu-id="e1dee-118">Pravidla a akce</span><span class="sxs-lookup"><span data-stu-id="e1dee-118">Rules and actions</span></span> | <span data-ttu-id="e1dee-119">Prediktivní analýza</span><span class="sxs-lookup"><span data-stu-id="e1dee-119">Predictive analytics</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="e1dee-120">[Vzdálené monitorování][lnk-getstarted-preconfigured]</span><span class="sxs-lookup"><span data-stu-id="e1dee-120">[Remote monitoring][lnk-getstarted-preconfigured]</span></span> |<span data-ttu-id="e1dee-121">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-121">Yes</span></span> |<span data-ttu-id="e1dee-122">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-122">Yes</span></span> |<span data-ttu-id="e1dee-123">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-123">Yes</span></span> |<span data-ttu-id="e1dee-124">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-124">Yes</span></span> |<span data-ttu-id="e1dee-125">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-125">Yes</span></span> |- |
| <span data-ttu-id="e1dee-126">[Prediktivní údržba][lnk-predictive-maintenance]</span><span class="sxs-lookup"><span data-stu-id="e1dee-126">[Predictive maintenance][lnk-predictive-maintenance]</span></span> |<span data-ttu-id="e1dee-127">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-127">Yes</span></span> |<span data-ttu-id="e1dee-128">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-128">Yes</span></span> |- |<span data-ttu-id="e1dee-129">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-129">Yes</span></span> |<span data-ttu-id="e1dee-130">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-130">Yes</span></span> |<span data-ttu-id="e1dee-131">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-131">Yes</span></span> |
| <span data-ttu-id="e1dee-132">[Propojená továrna][lnk-getstarted-factory]</span><span class="sxs-lookup"><span data-stu-id="e1dee-132">[Connected factory][lnk-getstarted-factory]</span></span> |<span data-ttu-id="e1dee-133">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-133">Yes</span></span> |<span data-ttu-id="e1dee-134">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-134">Yes</span></span> |<span data-ttu-id="e1dee-135">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-135">Yes</span></span> |<span data-ttu-id="e1dee-136">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-136">Yes</span></span> |<span data-ttu-id="e1dee-137">Ano</span><span class="sxs-lookup"><span data-stu-id="e1dee-137">Yes</span></span> |- |

* <span data-ttu-id="e1dee-138">*Přijímání dat*: Přijímání škálovaných dat do cloudu.</span><span class="sxs-lookup"><span data-stu-id="e1dee-138">*Data ingestion*: Ingress of data at scale to the cloud.</span></span>
* <span data-ttu-id="e1dee-139">*Identita zařízení:* Správa jedinečných identit zařízení a řízení přístupu zařízení k řešení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-139">*Device identity*: Manage unique device identities and control device access to the solution.</span></span>
* <span data-ttu-id="e1dee-140">*Správa zařízení:* Správa metadat zařízení a provádění operací, jako například restartování zařízení a upgrady firmwaru.</span><span class="sxs-lookup"><span data-stu-id="e1dee-140">*Device management*: Manage device metadata and perform operations such as device reboots and firmware upgrades.</span></span>
* <span data-ttu-id="e1dee-141">*Příkazy a ovládání:* Pokud chcete, aby zařízení provedlo nějakou akci, odešlete do zařízení zprávu z cloudu.</span><span class="sxs-lookup"><span data-stu-id="e1dee-141">*Command and control*: To cause the device to take an action, send messages to a device from the cloud.</span></span>
* <span data-ttu-id="e1dee-142">*Pravidla a akce:* Back-end řešení k reakci na konkrétní data typu zařízení-cloud používá pravidla.</span><span class="sxs-lookup"><span data-stu-id="e1dee-142">*Rules and actions*: To act on specific device-to-cloud data, the solution back end uses rules.</span></span>
* <span data-ttu-id="e1dee-143">*Prediktivní analýza:* Back-end řešení analyzuje data typu zařízení-cloud a z nich pak předpovídá, kdy by mělo dojít k určitým událostem.</span><span class="sxs-lookup"><span data-stu-id="e1dee-143">*Predictive analytics*: The solution back end analyzes device-to-cloud data to predict when specific actions should take place.</span></span> <span data-ttu-id="e1dee-144">Například může analyzovat telemetrická data motoru letadla a určit, kdy bude zapotřebí provést údržbu.</span><span class="sxs-lookup"><span data-stu-id="e1dee-144">For example, analyzing aircraft engine telemetry to determine when engine maintenance is due.</span></span>

## <a name="remote-monitoring-preconfigured-solution-overview"></a><span data-ttu-id="e1dee-145">Přehled předkonfigurovaného řešení vzdáleného monitorování</span><span class="sxs-lookup"><span data-stu-id="e1dee-145">Remote Monitoring preconfigured solution overview</span></span>

<span data-ttu-id="e1dee-146">V tomto článku se budeme zabývat předkonfigurovaným řešením vzdáleného monitorování, protože ilustruje mnoho běžných prvků návrhu, které sdílejí i jiná řešení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-146">We have chosen to discuss the remote monitoring preconfigured solution in this article because it illustrates many common design elements that the other solutions share.</span></span>

<span data-ttu-id="e1dee-147">Následující diagram ilustruje klíčové prvky řešení vzdáleného monitorování.</span><span class="sxs-lookup"><span data-stu-id="e1dee-147">The following diagram illustrates the key elements of the remote monitoring solution.</span></span> <span data-ttu-id="e1dee-148">Následující části poskytují další informace o těchto prvcích.</span><span class="sxs-lookup"><span data-stu-id="e1dee-148">The following sections provide more information about these elements.</span></span>

![Architektura předkonfigurovaného řešení vzdáleného monitorování][img-remote-monitoring-arch]

## <a name="devices"></a><span data-ttu-id="e1dee-150">Zařízení</span><span class="sxs-lookup"><span data-stu-id="e1dee-150">Devices</span></span>

<span data-ttu-id="e1dee-151">Když nasadíte předkonfigurované řešení vzdáleného monitorování, bude obsahovat čtyři předem zřízená simulovaná zařízení, simulující chladicí zařízení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-151">When you deploy the remote monitoring preconfigured solution, four simulated devices are pre-provisioned in the solution that simulate a cooling device.</span></span> <span data-ttu-id="e1dee-152">Tato simulovaná zařízení mají předdefinovaný model teploty a vlhkosti, který vysílá telemetrická data.</span><span class="sxs-lookup"><span data-stu-id="e1dee-152">These simulated devices have a built-in temperature and humidity model that emits telemetry.</span></span> <span data-ttu-id="e1dee-153">Tato simulovaná zařízení jsou zahrnuta, protože:</span><span class="sxs-lookup"><span data-stu-id="e1dee-153">These simulated devices are included to:</span></span>

- <span data-ttu-id="e1dee-154">Znázorňují tok dat řešením od začátku do konce.</span><span class="sxs-lookup"><span data-stu-id="e1dee-154">Illustrate the end-to-end flow of data through the solution.</span></span>
- <span data-ttu-id="e1dee-155">Poskytují praktický zdroj telemetrie.</span><span class="sxs-lookup"><span data-stu-id="e1dee-155">Provide a convenient source of telemetry.</span></span>
- <span data-ttu-id="e1dee-156">Můžou být cílem pro metody nebo příkazy, pokud jste vývojář back-endu a používáte řešení jako výchozí bod pro vlastní implementaci.</span><span class="sxs-lookup"><span data-stu-id="e1dee-156">Provide a target for methods or commands if you are a back-end developer using the solution as a starting point for a custom implementation.</span></span>

<span data-ttu-id="e1dee-157">Simulovaná zařízení v tomto řešení můžou reagovat na následující komunikace typu cloud-zařízení:</span><span class="sxs-lookup"><span data-stu-id="e1dee-157">The simulated devices in the solution can respond to the following cloud-to-device communications:</span></span>

- <span data-ttu-id="e1dee-158">*Metody ([přímé metody][lnk-direct-methods]):* Způsob obousměrné komunikace, u kterého se očekává, že připojené zařízení bude reagovat okamžitě.</span><span class="sxs-lookup"><span data-stu-id="e1dee-158">*Methods ([direct methods][lnk-direct-methods])*: A two-way communication method where a connected device is expected to respond immediately.</span></span>
- <span data-ttu-id="e1dee-159">*Příkazy (zprávy typu cloud-zařízení):* Způsob jednosměrné komunikace, při které zařízení načítá příkazy z trvalé fronty.</span><span class="sxs-lookup"><span data-stu-id="e1dee-159">*Commands (cloud-to-device messages)*: A one-way communication method where a device retrieves the command from a durable queue.</span></span>

<span data-ttu-id="e1dee-160">Porovnání těchto rozdílných přístupů najdete v [doprovodných materiálech ke komunikaci typu cloud-zařízení][lnk-c2d-guidance].</span><span class="sxs-lookup"><span data-stu-id="e1dee-160">For a comparison of these different approaches, see [Cloud-to-device communications guidance][lnk-c2d-guidance].</span></span>

<span data-ttu-id="e1dee-161">Když se zařízení poprvé připojí ke službě IoT Hub v rámci předkonfigurovaného řešení, odešle do služby zprávu s informacemi o zařízení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-161">When a device first connects to IoT Hub in the preconfigured solution, it sends a device information message to the hub.</span></span> <span data-ttu-id="e1dee-162">V této zprávě bude uveden seznam metod, na které zařízení může reagovat.</span><span class="sxs-lookup"><span data-stu-id="e1dee-162">This message enumerates the methods the device can respond to.</span></span> <span data-ttu-id="e1dee-163">V předkonfigurovaném řešení vzdáleného monitorování podporují simulovaná zařízení tyto metody:</span><span class="sxs-lookup"><span data-stu-id="e1dee-163">In the remote monitoring preconfigured solution, simulated devices support these methods:</span></span>

* <span data-ttu-id="e1dee-164">*Initiate Firmware Update* (Zahájit aktualizaci firmwaru): Tato metoda v zařízení zahájí asynchronní úlohu, která provede aktualizaci firmwaru.</span><span class="sxs-lookup"><span data-stu-id="e1dee-164">*Initiate Firmware Update*: this method initiates an asynchronous task on the device to perform a firmware update.</span></span> <span data-ttu-id="e1dee-165">Asynchronní úloha pomocí ohlášených vlastností doručuje aktualizace stavu do řídicího panelu služby.</span><span class="sxs-lookup"><span data-stu-id="e1dee-165">The asynchronous task uses reported properties to deliver status updates to the solution dashboard.</span></span>
* <span data-ttu-id="e1dee-166">*Reboot* (Restartovat): Tato metoda způsobí, že se simulované zařízení restartuje.</span><span class="sxs-lookup"><span data-stu-id="e1dee-166">*Reboot*: this method causes the simulated device to reboot.</span></span>
* <span data-ttu-id="e1dee-167">*FactoryReset* (Obnovení do výrobního nastavení): Tato metoda v simulovaném zařízení aktivuje obnovení do výrobního nastavení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-167">*FactoryReset*: this method triggers a factory reset on the simulated device.</span></span>

<span data-ttu-id="e1dee-168">Když se zařízení poprvé připojí ke službě IoT Hub v rámci předkonfigurovaného řešení, odešle do služby zprávu s informacemi o zařízení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-168">When a device first connects to IoT Hub in the preconfigured solution, it sends a device information message to the hub.</span></span> <span data-ttu-id="e1dee-169">V této zprávě bude uveden seznam příkazů, na které zařízení může reagovat.</span><span class="sxs-lookup"><span data-stu-id="e1dee-169">This message enumerates the commands the device can respond to.</span></span> <span data-ttu-id="e1dee-170">V předkonfigurovaném řešení vzdáleného monitorování podporují simulovaná zařízení tyto příkazy:</span><span class="sxs-lookup"><span data-stu-id="e1dee-170">In the remote monitoring preconfigured solution, simulated devices support these commands:</span></span>

* <span data-ttu-id="e1dee-171">*Ping Device* (Odeslat do zařízení příkaz ping): Zařízení na tento příkaz odpoví potvrzením.</span><span class="sxs-lookup"><span data-stu-id="e1dee-171">*Ping Device*: The device responds to this command with an acknowledgement.</span></span> <span data-ttu-id="e1dee-172">Tímto příkazem snadno zjistíte, zda je zařízení stále aktivní a naslouchá.</span><span class="sxs-lookup"><span data-stu-id="e1dee-172">This command is useful for checking that the device is still active and listening.</span></span>
* <span data-ttu-id="e1dee-173">*Start Telemetry* (Spustit telemetrii): Dá zařízení pokyn, aby začalo odesílat telemetrii.</span><span class="sxs-lookup"><span data-stu-id="e1dee-173">*Start Telemetry*: Instructs the device to start sending telemetry.</span></span>
* <span data-ttu-id="e1dee-174">*Stop Telemetry* (Zastavit telemetrii): Dá zařízení pokyn, aby přestalo odesílat telemetrii.</span><span class="sxs-lookup"><span data-stu-id="e1dee-174">*Stop Telemetry*: Instructs the device to stop sending telemetry.</span></span>
* <span data-ttu-id="e1dee-175">*Change Set Point Temperature* (Změnit nastavenou teplotu): Ovládá hodnoty simulované teplotní telemetrie, které zařízení odesílá.</span><span class="sxs-lookup"><span data-stu-id="e1dee-175">*Change Set Point Temperature*: Controls the simulated temperature telemetry values the device sends.</span></span> <span data-ttu-id="e1dee-176">Tímto příkazem snadno otestujete logiku back-endu.</span><span class="sxs-lookup"><span data-stu-id="e1dee-176">This command is useful for testing back-end logic.</span></span>
* <span data-ttu-id="e1dee-177">*Diagnostic Telemetry* (Diagnostická telemetrie): Ovládá, zda má zařízení odesílat externí teplotu jako telemetrický údaj.</span><span class="sxs-lookup"><span data-stu-id="e1dee-177">*Diagnostic Telemetry*: Controls if the device should send the external temperature as telemetry.</span></span>
* <span data-ttu-id="e1dee-178">*Change Device State* (Změnit stav zařízení): Nastaví vlastnosti metadat o stavu zařízení, která zařízení odesílá.</span><span class="sxs-lookup"><span data-stu-id="e1dee-178">*Change Device State*: Sets the device state metadata property that the device reports.</span></span> <span data-ttu-id="e1dee-179">Tímto příkazem snadno otestujete logiku back-endu.</span><span class="sxs-lookup"><span data-stu-id="e1dee-179">This command is useful for testing back-end logic.</span></span>

<span data-ttu-id="e1dee-180">Do řešení můžete přidat další simulovaná zařízení, která vysílají stejnou telemetrii a reagují na stejné metody a příkazy.</span><span class="sxs-lookup"><span data-stu-id="e1dee-180">You can add more simulated devices to the solution that emit the same telemetry and respond to the same methods and commands.</span></span>

<span data-ttu-id="e1dee-181">Řešení kromě reagování na příkazy a metody využívá i [dvojčata zařízení][lnk-device-twin].</span><span class="sxs-lookup"><span data-stu-id="e1dee-181">In addition to responding to commands and methods, the solution uses [device twins][lnk-device-twin].</span></span> <span data-ttu-id="e1dee-182">Zařízení pomocí dvojčat zařízení hlásí hodnoty vlastností do back-endu řešení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-182">Devices use device twins to report property values to the solution back end.</span></span> <span data-ttu-id="e1dee-183">Řídicí panel řešení používá dvojčata zařízení k nastavení nových hodnot požadovaných vlastností v zařízeních.</span><span class="sxs-lookup"><span data-stu-id="e1dee-183">The solution dashboard uses device twins to set to new desired property values on devices.</span></span> <span data-ttu-id="e1dee-184">Například během procesu aktualizace firmwaru simulované zařízení pomocí ohlášených vlastností hlásí stav aktualizace.</span><span class="sxs-lookup"><span data-stu-id="e1dee-184">For example, during the firmware update process the simulated device reports the status of the update using reported properties.</span></span>

## <a name="iot-hub"></a><span data-ttu-id="e1dee-185">IoT Hub</span><span class="sxs-lookup"><span data-stu-id="e1dee-185">IoT Hub</span></span>

<span data-ttu-id="e1dee-186">V tomto předkonfigurovaném řešení odpovídá instance služby IoT Hub *cloudové bráně* v typické [architektuře řešení IoT][lnk-what-is-azure-iot].</span><span class="sxs-lookup"><span data-stu-id="e1dee-186">In this preconfigured solution, the IoT Hub instance corresponds to the *Cloud Gateway* in a typical [IoT solution architecture][lnk-what-is-azure-iot].</span></span>

<span data-ttu-id="e1dee-187">Centrum IoT získává telemetrická data ze zařízení v jednom koncovém bodě.</span><span class="sxs-lookup"><span data-stu-id="e1dee-187">An IoT hub receives telemetry from the devices at a single endpoint.</span></span> <span data-ttu-id="e1dee-188">IoT Hub také udržuje pro každé zařízení specifické koncové body, odkud zařízení získávají příkazy, které do nich byly zaslány.</span><span class="sxs-lookup"><span data-stu-id="e1dee-188">An IoT hub also maintains device-specific endpoints where each device can retrieve the commands that are sent to it.</span></span>

<span data-ttu-id="e1dee-189">Centrum IoT zpřístupňuje získaná telemetrická data přes koncový bod čtení telemetrických dat na straně služby.</span><span class="sxs-lookup"><span data-stu-id="e1dee-189">The IoT hub makes the received telemetry available through the service-side telemetry read endpoint.</span></span>

<span data-ttu-id="e1dee-190">Možnost správy zařízení služby IoT Hub umožňuje spravovat vlastnosti zařízení z portálu řešení a plánovat úlohy provádějící operace, jako třeba:</span><span class="sxs-lookup"><span data-stu-id="e1dee-190">The device management capability of IoT Hub enables you to manage your device properties from the solution portal and schedule jobs that perform operations such as:</span></span>

- <span data-ttu-id="e1dee-191">Restartování zařízení</span><span class="sxs-lookup"><span data-stu-id="e1dee-191">Rebooting devices</span></span>
- <span data-ttu-id="e1dee-192">Změna stavu zařízení</span><span class="sxs-lookup"><span data-stu-id="e1dee-192">Changing device states</span></span>
- <span data-ttu-id="e1dee-193">Aktualizace firmwaru</span><span class="sxs-lookup"><span data-stu-id="e1dee-193">Firmware updates</span></span>

## <a name="azure-stream-analytics"></a><span data-ttu-id="e1dee-194">Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="e1dee-194">Azure Stream Analytics</span></span>

<span data-ttu-id="e1dee-195">Předkonfigurované řešení používá tři úlohy [Azure Stream Analytics][lnk-asa] (ASA), jejichž pomocí filtruje datový proud telemetrických dat ze zařízení:</span><span class="sxs-lookup"><span data-stu-id="e1dee-195">The preconfigured solution uses three [Azure Stream Analytics][lnk-asa] (ASA) jobs to filter the telemetry stream from the devices:</span></span>

* <span data-ttu-id="e1dee-196">*Úloha DeviceInfo* (Informace o zařízení) – Odesílá výstupní data do centra událostí, které do registru zařízení pro řešení směruje zprávy specifické pro registraci zařízení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-196">*DeviceInfo job* - outputs data to an Event hub that routes device registration-specific messages to the solution device registry.</span></span> <span data-ttu-id="e1dee-197">Tento registr zařízení je databáze Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="e1dee-197">This device registry is an Azure Cosmos DB database.</span></span> <span data-ttu-id="e1dee-198">Tyto zprávy se odešlou ve chvíli, kdy se zařízení poprvé připojí, nebo v reakci na příkaz **Change Device State** (Změnit stav zařízení).</span><span class="sxs-lookup"><span data-stu-id="e1dee-198">These messages are sent when a device first connects or in response to a **Change device state** command.</span></span>
* <span data-ttu-id="e1dee-199">*Úloha Telemetry (Telemetrie)* – Odesílá veškerá nezpracovaná telemetrická data do služby Azure Blob Storage, uloží málo používaná data a vypočítá ze získaných telemetrických dat agregované hodnoty, které se zobrazují na řídicím panelu řešení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-199">*Telemetry job* - sends all raw telemetry to Azure blob storage for cold storage and calculates telemetry aggregations that display in the solution dashboard.</span></span>
* <span data-ttu-id="e1dee-200">*Úloha Rules (Pravidla)* – Filtruje datový proud telemetrie podle hodnot, které přesahují stanovené mezní hodnoty pravidel. Výstupní data odesílá do centra událostí.</span><span class="sxs-lookup"><span data-stu-id="e1dee-200">*Rules job* - filters the telemetry stream for values that exceed any rule thresholds and outputs the data to an Event hub.</span></span> <span data-ttu-id="e1dee-201">Jakmile se spustí pravidlo, na řídicím panelu portálu řešení se tato událost objeví jako nový řádek v tabulce historie alarmů.</span><span class="sxs-lookup"><span data-stu-id="e1dee-201">When a rule fires, the solution portal dashboard view displays this event as a new row in the alarm history table.</span></span> <span data-ttu-id="e1dee-202">Tato pravidla můžou také aktivovat akce v závislosti na nastaveních definovaných v zobrazeních **Pravidla** a **Akce** na portálu řešení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-202">These rules can also trigger an action based on the settings defined on the **Rules** and **Actions** views in the solution portal.</span></span>

<span data-ttu-id="e1dee-203">V tomto předkonfigurovaném řešení jsou úlohy ASA součástí **back-endu řešení IoT** v typické [architektuře řešení IoT][lnk-what-is-azure-iot].</span><span class="sxs-lookup"><span data-stu-id="e1dee-203">In this preconfigured solution, the ASA jobs form part of to the **IoT solution back end** in a typical [IoT solution architecture][lnk-what-is-azure-iot].</span></span>

## <a name="event-processor"></a><span data-ttu-id="e1dee-204">Procesor událostí</span><span class="sxs-lookup"><span data-stu-id="e1dee-204">Event processor</span></span>

<span data-ttu-id="e1dee-205">V tomto předkonfigurovaném řešení je procesor událostí součástí **back-endu řešení IoT** v typické [architektuře řešení IoT][lnk-what-is-azure-iot].</span><span class="sxs-lookup"><span data-stu-id="e1dee-205">In this preconfigured solution, the event processor forms part of the **IoT solution back end** in a typical [IoT solution architecture][lnk-what-is-azure-iot].</span></span>

<span data-ttu-id="e1dee-206">Úlohy ASA **DeviceInfo** a **Rules** odesílají výstup do center událostí, odkud se přeposílají do dalších služeb back-endu.</span><span class="sxs-lookup"><span data-stu-id="e1dee-206">The **DeviceInfo** and **Rules** ASA jobs send their output to Event hubs for delivery to other back-end services.</span></span> <span data-ttu-id="e1dee-207">Toto řešení využívá instanci třídy [EventPocessorHost][lnk-event-processor] spuštěnou v rámci [webové úlohy][lnk-web-job] ke čtení zpráv z těchto center událostí.</span><span class="sxs-lookup"><span data-stu-id="e1dee-207">The solution uses an [EventProcessorHost][lnk-event-processor] instance, running in a [WebJob][lnk-web-job], to read the messages from these Event hubs.</span></span> <span data-ttu-id="e1dee-208">Instance **EventProcessorHost** využívá:</span><span class="sxs-lookup"><span data-stu-id="e1dee-208">The **EventProcessorHost** uses:</span></span>
- <span data-ttu-id="e1dee-209">Data úlohy **DeviceInfo** k aktualizaci dat zařízení v databázi Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="e1dee-209">The **DeviceInfo** data to update the device data in the Cosmos DB database.</span></span>
- <span data-ttu-id="e1dee-210">Data úlohy **Rules** k vyvolání aplikace logiky a aktualizaci zobrazování upozornění na portálu řešení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-210">The **Rules** data to invoke the Logic app and update the alerts display in the solution portal.</span></span>

## <a name="device-identity-registry-device-twin-and-cosmos-db"></a><span data-ttu-id="e1dee-211">Registr identit zařízení, dvojče zařízení a služba Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="e1dee-211">Device identity registry, device twin, and Cosmos DB</span></span>

<span data-ttu-id="e1dee-212">Každá služba IoT Hub obsahuje [registr identit zařízení][lnk-identity-registry], který ukládá klíče zařízení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-212">Every IoT hub includes a [device identity registry][lnk-identity-registry] that stores device keys.</span></span> <span data-ttu-id="e1dee-213">IoT Hub používá tuto informaci k ověřování zařízení – pokud se má zařízení připojit k centru, musí být registrováno a mít platný klíč.</span><span class="sxs-lookup"><span data-stu-id="e1dee-213">IoT Hub uses this information authenticate devices - a device must be registered and have a valid key before it can connect to the hub.</span></span>

<span data-ttu-id="e1dee-214">[Dvojče zařízení][lnk-device-twin] je dokument JSON spravovaný službou IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="e1dee-214">A [device twin][lnk-device-twin] is a JSON document managed by the IoT Hub.</span></span> <span data-ttu-id="e1dee-215">Dvojče každého zařízení obsahuje:</span><span class="sxs-lookup"><span data-stu-id="e1dee-215">A device twin for a device contains:</span></span>

- <span data-ttu-id="e1dee-216">Ohlášené vlastnosti, které zařízení odeslalo do služby IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="e1dee-216">Reported properties sent by the device to the hub.</span></span> <span data-ttu-id="e1dee-217">Tyto vlastnosti můžete zobrazit na portálu řešení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-217">You can view these properties in the solution portal.</span></span>
- <span data-ttu-id="e1dee-218">Požadované vlastnosti, které chcete odeslat do zařízení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-218">Desired properties that you want to send to the device.</span></span> <span data-ttu-id="e1dee-219">Tyto vlastnosti můžete nastavit na portálu řešení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-219">You can set these properties in the solution portal.</span></span>
- <span data-ttu-id="e1dee-220">Značky, které existují pouze ve dvojčeti zařízení a nikoli v samotném zařízení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-220">Tags that exist only in the device twin and not on the device.</span></span> <span data-ttu-id="e1dee-221">Pomocí těchto značek můžete na portálu řešení filtrovat seznamy zařízení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-221">You can use these tags to filter lists of devices in the solution portal.</span></span>

<span data-ttu-id="e1dee-222">Toto řešení využívá dvojčata zařízení ke správě metadat zařízení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-222">This solution uses device twins to manage device metadata.</span></span> <span data-ttu-id="e1dee-223">Řešení také využívá databázi Cosmos DB, ve které ukládá další data zařízení specifická pro řešení, jako jsou příkazy podporované jednotlivými zařízeními nebo historie příkazů.</span><span class="sxs-lookup"><span data-stu-id="e1dee-223">The solution also uses a Cosmos DB database to store additional solution-specific device data such as the commands supported by each device and the command history.</span></span>

<span data-ttu-id="e1dee-224">Řešení také musí stále udržovat synchronizované informace v registru identit zařízení s obsahem databáze Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="e1dee-224">The solution must also keep the information in the device identity registry synchronized with the contents of the Cosmos DB database.</span></span> <span data-ttu-id="e1dee-225">Příkaz **EventProcessorHost** používá k řízení synchronizace data z úlohy analýzy datového proudu **DeviceInfo**.</span><span class="sxs-lookup"><span data-stu-id="e1dee-225">The **EventProcessorHost** uses the data from **DeviceInfo** stream analytics job to manage the synchronization.</span></span>

## <a name="solution-portal"></a><span data-ttu-id="e1dee-226">Portál řešení</span><span class="sxs-lookup"><span data-stu-id="e1dee-226">Solution portal</span></span>

![portál řešení][img-dashboard]

<span data-ttu-id="e1dee-228">Portál řešení je uživatelské rozhraní, které je založené na webu a nasazené v cloudu jako součást předkonfigurovaného řešení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-228">The solution portal is a web-based UI that is deployed to the cloud as part of the preconfigured solution.</span></span> <span data-ttu-id="e1dee-229">Umožňuje:</span><span class="sxs-lookup"><span data-stu-id="e1dee-229">It enables you to:</span></span>

* <span data-ttu-id="e1dee-230">Zobrazovat historii telemetrie a alarmů na řídicím panelu.</span><span class="sxs-lookup"><span data-stu-id="e1dee-230">View telemetry and alarm history in a dashboard.</span></span>
* <span data-ttu-id="e1dee-231">Zřizovat nová zařízení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-231">Provision new devices.</span></span>
* <span data-ttu-id="e1dee-232">Spravovat a sledovat zařízení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-232">Manage and monitor devices.</span></span>
* <span data-ttu-id="e1dee-233">Odesílat příkazy na konkrétní zařízení.</span><span class="sxs-lookup"><span data-stu-id="e1dee-233">Send commands to specific devices.</span></span>
* <span data-ttu-id="e1dee-234">Vyvolávat metody v konkrétních zařízeních.</span><span class="sxs-lookup"><span data-stu-id="e1dee-234">Invoke methods on specific devices.</span></span>
* <span data-ttu-id="e1dee-235">Upravovat pravidla a akce.</span><span class="sxs-lookup"><span data-stu-id="e1dee-235">Manage rules and actions.</span></span>
* <span data-ttu-id="e1dee-236">Plánovat spouštění úloh v jednom nebo více zařízeních.</span><span class="sxs-lookup"><span data-stu-id="e1dee-236">Schedule jobs to run on one or more devices.</span></span>

<span data-ttu-id="e1dee-237">V tomto předkonfigurovaném řešení je portál řešení součástí **back-endu řešení IoT** a součástí **připojení pro zpracování a obchodní logiku** v typické [architektuře řešení IoT][lnk-what-is-azure-iot].</span><span class="sxs-lookup"><span data-stu-id="e1dee-237">In this preconfigured solution, the solution portal forms part of the **IoT solution back end** and part of the **Processing and business connectivity** in the typical [IoT solution architecture][lnk-what-is-azure-iot].</span></span>

## <a name="next-steps"></a><span data-ttu-id="e1dee-238">Další kroky</span><span class="sxs-lookup"><span data-stu-id="e1dee-238">Next steps</span></span>

<span data-ttu-id="e1dee-239">Další informace o architekturách řešení IoT najdete v tématu [Služby Microsoft Azure IoT: Referenční architektura][lnk-refarch].</span><span class="sxs-lookup"><span data-stu-id="e1dee-239">For more information about IoT solution architectures, see [Microsoft Azure IoT services: Reference Architecture][lnk-refarch].</span></span>

<span data-ttu-id="e1dee-240">Nyní víte, co je to předem nakonfigurované řešení a můžete začít nasazením předkonfigurovaného řešení *vzdáleného monitorování*: [Začínáme s předkonfigurovanými řešeními][lnk-getstarted-preconfigured].</span><span class="sxs-lookup"><span data-stu-id="e1dee-240">Now you know what a preconfigured solution is, you can get started by deploying the *remote monitoring* preconfigured solution: [Get started with the preconfigured solutions][lnk-getstarted-preconfigured].</span></span>

[img-remote-monitoring-arch]: ./media/iot-suite-what-are-preconfigured-solutions/remote-monitoring-arch1.png
[img-dashboard]: ./media/iot-suite-what-are-preconfigured-solutions/dashboard.png
[lnk-what-is-azure-iot]: iot-suite-what-is-azure-iot.md
[lnk-asa]: https://azure.microsoft.com/documentation/services/stream-analytics/
[lnk-event-processor]: ../event-hubs/event-hubs-programming-guide.md#event-processor-host
[lnk-web-job]: ../app-service-web/web-sites-create-web-jobs.md
[lnk-identity-registry]: ../iot-hub/iot-hub-devguide-identity-registry.md
[lnk-predictive-maintenance]: iot-suite-predictive-overview.md
[lnk-azureiotsuite]: https://www.azureiotsuite.com/
[lnk-refarch]: http://download.microsoft.com/download/A/4/D/A4DAD253-BC21-41D3-B9D9-87D2AE6F0719/Microsoft_Azure_IoT_Reference_Architecture.pdf
[lnk-getstarted-preconfigured]: iot-suite-getstarted-preconfigured-solutions.md
[lnk-c2d-guidance]: ../iot-hub/iot-hub-devguide-c2d-guidance.md
[lnk-device-twin]: ../iot-hub/iot-hub-devguide-device-twins.md
[lnk-direct-methods]: ../iot-hub/iot-hub-devguide-direct-methods.md
[lnk-getstarted-factory]: iot-suite-connected-factory-overview.md
