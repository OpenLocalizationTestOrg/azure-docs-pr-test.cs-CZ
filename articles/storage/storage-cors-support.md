---
title: "Podpora sdílení (CORS) aaaCross-Origin prostředků | Microsoft Docs"
description: "Zjistěte, jak tooenable podpora CORS pro hello služeb úložiště Microsoft Azure."
services: storage
documentationcenter: .net
author: cbrooksmsft
manager: carmonm
editor: tysonn
ms.assetid: a0229595-5b64-4898-b8d6-fa2625ea6887
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 2/22/2017
ms.author: cbrooks
ms.openlocfilehash: 0a6ec3bf6999c5faa7f0912dc2a47921aa01d3d4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="cross-origin-resource-sharing-cors-support-for-hello-azure-storage-services"></a><span data-ttu-id="40c0d-103">Podpora sdílení prostředků různých původů (CORS) pro hello služby úložiště Azure</span><span class="sxs-lookup"><span data-stu-id="40c0d-103">Cross-Origin Resource Sharing (CORS) Support for hello Azure Storage Services</span></span>
<span data-ttu-id="40c0d-104">Počínaje verzí 2013-08-15, podporu služby Azure storage hello sdílení prostředků různých původů (CORS) pro služby objektů Blob, tabulky, fronty a soubor hello.</span><span class="sxs-lookup"><span data-stu-id="40c0d-104">Beginning with version 2013-08-15, hello Azure storage services support Cross-Origin Resource Sharing (CORS) for hello Blob, Table, Queue, and File services.</span></span> <span data-ttu-id="40c0d-105">CORS je funkce protokolu HTTP, která umožňuje webová aplikace spuštěna v rámci jednoho prostředkům tooaccess domény v jiné doméně.</span><span class="sxs-lookup"><span data-stu-id="40c0d-105">CORS is an HTTP feature that enables a web application running under one domain tooaccess resources in another domain.</span></span> <span data-ttu-id="40c0d-106">Webové prohlížeče implementovat omezení zabezpečení, označuje jako [stejného původu zásad](http://www.w3.org/Security/wiki/Same_Origin_Policy) která brání webové stránky z volání rozhraní API v jiné doméně. CORS poskytuje bezpečný tooallow jednu doménu (doménu původu hello) toocall rozhraní API v jiné doméně.</span><span class="sxs-lookup"><span data-stu-id="40c0d-106">Web browsers implement a security restriction known as [same-origin policy](http://www.w3.org/Security/wiki/Same_Origin_Policy) that prevents a web page from calling APIs in a different domain; CORS provides a secure way tooallow one domain (hello origin domain) toocall APIs in another domain.</span></span> <span data-ttu-id="40c0d-107">V tématu hello [specifikace CORS](http://www.w3.org/TR/cors/) podrobnosti o CORS.</span><span class="sxs-lookup"><span data-stu-id="40c0d-107">See hello [CORS specification](http://www.w3.org/TR/cors/) for details on CORS.</span></span>

<span data-ttu-id="40c0d-108">Můžete nastavit pravidla CORS samostatně pro každou hello služby úložiště, voláním [nastavit vlastnosti služby objektů Blob](https://msdn.microsoft.com/library/hh452235.aspx), [nastavit vlastnosti fronty služby](https://msdn.microsoft.com/library/hh452232.aspx), a [nastavit vlastnosti služby tabulky](https://msdn.microsoft.com/library/hh452240.aspx).</span><span class="sxs-lookup"><span data-stu-id="40c0d-108">You can set CORS rules individually for each of hello storage services, by calling [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span></span> <span data-ttu-id="40c0d-109">Jakmile nastavíte hello pravidla CORS pro službu hello, pak správně ověřeného požadavku odeslaného službě hello z jiné domény bude vyhodnotí toodetermine zda je povoleno, podle toohello pravidla, která jste zadali.</span><span class="sxs-lookup"><span data-stu-id="40c0d-109">Once you set hello CORS rules for hello service, then a properly authenticated request made against hello service from a different domain will be evaluated toodetermine whether it is allowed according toohello rules you have specified.</span></span>

> [!NOTE]
> <span data-ttu-id="40c0d-110">Všimněte si, že CORS není ověřovací mechanismus.</span><span class="sxs-lookup"><span data-stu-id="40c0d-110">Note that CORS is not an authentication mechanism.</span></span> <span data-ttu-id="40c0d-111">Všechny požadavek směřovaný na prostředků úložiště, pokud je povoleno CORS musí mít buď správné ověření podpisu, nebo musí být provedeny pro prostředek veřejné.</span><span class="sxs-lookup"><span data-stu-id="40c0d-111">Any request made against a storage resource when CORS is enabled must either have a proper authentication signature, or must be made against a public resource.</span></span>
> 
> 

## <a name="understanding-cors-requests"></a><span data-ttu-id="40c0d-112">Pochopení požadavků CORS</span><span class="sxs-lookup"><span data-stu-id="40c0d-112">Understanding CORS requests</span></span>
<span data-ttu-id="40c0d-113">Požadavek CORS z počátku domény může obsahovat dva samostatné požadavky:</span><span class="sxs-lookup"><span data-stu-id="40c0d-113">A CORS request from an origin domain may consist of two separate requests:</span></span>

* <span data-ttu-id="40c0d-114">Předběžný požadavek, který se dotazuje hello CORS omezení vynucená službou hello.</span><span class="sxs-lookup"><span data-stu-id="40c0d-114">A preflight request, which queries hello CORS restrictions imposed by hello service.</span></span> <span data-ttu-id="40c0d-115">Hello předběžný požadavek není nutná, pokud je metoda žádosti hello [jednoduše](http://www.w3.org/TR/cors/), což znamená, GET, HEAD nebo POST.</span><span class="sxs-lookup"><span data-stu-id="40c0d-115">hello preflight request is required unless hello request method is a [simple method](http://www.w3.org/TR/cors/), meaning GET, HEAD, or POST.</span></span>
* <span data-ttu-id="40c0d-116">Hello skutečné požadavek směřovaný na hello požadovaného prostředku.</span><span class="sxs-lookup"><span data-stu-id="40c0d-116">hello actual request, made against hello desired resource.</span></span>

### <a name="preflight-request"></a><span data-ttu-id="40c0d-117">Předběžný požadavek</span><span class="sxs-lookup"><span data-stu-id="40c0d-117">Preflight request</span></span>
<span data-ttu-id="40c0d-118">dotazy předběžný požadavek Hello hello CORS omezení, které byly vytvořeny pro službu úložiště hello hello vlastníka účtu.</span><span class="sxs-lookup"><span data-stu-id="40c0d-118">hello preflight request queries hello CORS restrictions that have been established for hello storage service by hello account owner.</span></span> <span data-ttu-id="40c0d-119">Hello webový prohlížeč (nebo jiné uživatelský agent) odešle požadavek možnosti, která zahrnuje hlavičky požadavku hello, metoda a původu domény.</span><span class="sxs-lookup"><span data-stu-id="40c0d-119">hello web browser (or other user agent) sends an OPTIONS request that includes hello request headers, method and origin domain.</span></span> <span data-ttu-id="40c0d-120">Služba úložiště Hello vyhodnotí operaci hello určené na základě sady předem nakonfigurovaných pravidel CORS, která určit, které zdrojové domény, žádat o metody a hlavičky požadavku může být určen na požadavek skutečné u prostředků úložiště.</span><span class="sxs-lookup"><span data-stu-id="40c0d-120">hello storage service evaluates hello intended operation based on a pre-configured set of CORS rules that specify which origin domains, request methods, and request headers may be specified on an actual request against a storage resource.</span></span>

<span data-ttu-id="40c0d-121">Pokud je povolená CORS pro službu hello a existuje pravidlo CORS, která odpovídá předběžný požadavek hello, služba hello odpoví se stavovým kódem 200 (OK) a zahrnuje hello požadované hlavičky Access-Control v odpovědi hello.</span><span class="sxs-lookup"><span data-stu-id="40c0d-121">If CORS is enabled for hello service and there is a CORS rule that matches hello preflight request, hello service responds with status code 200 (OK), and includes hello required Access-Control headers in hello response.</span></span>

<span data-ttu-id="40c0d-122">Pokud žádné pravidlo CORS odpovídá hello předběžný požadavek, nebo pro hello služby není povoleno CORS, bude odpovídat hello služby se stavovým kódem 403 (zakázáno).</span><span class="sxs-lookup"><span data-stu-id="40c0d-122">If CORS is not enabled for hello service or no CORS rule matches hello preflight request, hello service will respond with status code 403 (Forbidden).</span></span>

<span data-ttu-id="40c0d-123">Pokud hello možnosti žádost neobsahuje hello požadované hlavičky CORS (hello původ a hlavičky Access-Control-Request-Method), bude odpovídat hello služby se stavovým kódem 400 (Chybný požadavek).</span><span class="sxs-lookup"><span data-stu-id="40c0d-123">If hello OPTIONS request doesn't contain hello required CORS headers (hello Origin and Access-Control-Request-Method headers), hello service will respond with status code 400 (Bad request).</span></span>

<span data-ttu-id="40c0d-124">Všimněte si, že předběžný požadavek je porovnán s hello služby (Blob, fronty a tabulky) a ne proti hello požadovaný prostředek.</span><span class="sxs-lookup"><span data-stu-id="40c0d-124">Note that a preflight request is evaluated against hello service (Blob, Queue, and Table) and not against hello requested resource.</span></span> <span data-ttu-id="40c0d-125">vlastníka účtu Hello musí ji mít povoleny CORS jako součást hello účet služby vlastností v pořadí pro požadavek toosucceed hello.</span><span class="sxs-lookup"><span data-stu-id="40c0d-125">hello account owner must have enabled CORS as part of hello account service properties in order for hello request toosucceed.</span></span>

### <a name="actual-request"></a><span data-ttu-id="40c0d-126">Skutečné požadavku</span><span class="sxs-lookup"><span data-stu-id="40c0d-126">Actual request</span></span>
<span data-ttu-id="40c0d-127">Po přijato hello předběžný požadavek a odpověď hello se vrátí, bude hello prohlížeče dispatch hello skutečné požadavku vůči hello prostředků úložiště.</span><span class="sxs-lookup"><span data-stu-id="40c0d-127">Once hello preflight request is accepted and hello response is returned, hello browser will dispatch hello actual request against hello storage resource.</span></span> <span data-ttu-id="40c0d-128">Hello prohlížeč bude hello skutečné požadavek je odepřen, okamžitě pokud hello předběžný požadavek byl odmítnut.</span><span class="sxs-lookup"><span data-stu-id="40c0d-128">hello browser will deny hello actual request immediately if hello preflight request is rejected.</span></span>

<span data-ttu-id="40c0d-129">Hello skutečné požadavek považován za normální požadavku vůči hello služby úložiště.</span><span class="sxs-lookup"><span data-stu-id="40c0d-129">hello actual request is treated as normal request against hello storage service.</span></span> <span data-ttu-id="40c0d-130">Hello přítomnost hlavičky počátku hello označuje, že je požadavek hello požadavek CORS a hello služba zkontroluje hello odpovídající pravidla CORS.</span><span class="sxs-lookup"><span data-stu-id="40c0d-130">hello presence of hello Origin header indicates that hello request is a CORS request and hello service will check hello matching CORS rules.</span></span> <span data-ttu-id="40c0d-131">Pokud je nalezena shoda, hlavičky hello řízení přístupu se přidané toohello odpovědi a odesílají zpět toohello klienta.</span><span class="sxs-lookup"><span data-stu-id="40c0d-131">If a match is found, hello Access-Control headers are added toohello response and sent back toohello client.</span></span> <span data-ttu-id="40c0d-132">Pokud není nalezena shoda, nebudou zobrazeny hello hlavičky CORS Access-Control.</span><span class="sxs-lookup"><span data-stu-id="40c0d-132">If a match is not found, hello CORS Access-Control headers are not returned.</span></span>

## <a name="enabling-cors-for-hello-azure-storage-services"></a><span data-ttu-id="40c0d-133">Povolení CORS pro služby Azure Storage hello</span><span class="sxs-lookup"><span data-stu-id="40c0d-133">Enabling CORS for hello Azure Storage services</span></span>
<span data-ttu-id="40c0d-134">Pravidla CORS jsou nastavené na úrovni služby hello, takže třeba tooenable nebo zákazu sdílení CORS pro každou službu (objekt Blob, fronty a tabulky) samostatně.</span><span class="sxs-lookup"><span data-stu-id="40c0d-134">CORS rules are set at hello service level, so you need tooenable or disable CORS for each service (Blob, Queue and Table) separately.</span></span> <span data-ttu-id="40c0d-135">Ve výchozím nastavení je zakázané CORS pro každou službu.</span><span class="sxs-lookup"><span data-stu-id="40c0d-135">By default, CORS is disabled for each service.</span></span> <span data-ttu-id="40c0d-136">tooenable CORS, je nutné tooset hello příslušnou službu vlastnosti pomocí verze 2013-08-15 nebo novější a přidejte vlastnosti služby toohello pravidla CORS.</span><span class="sxs-lookup"><span data-stu-id="40c0d-136">tooenable CORS, you need tooset hello appropriate service properties using version 2013-08-15 or later, and add CORS rules toohello service properties.</span></span> <span data-ttu-id="40c0d-137">Podrobnosti o tooenable nebo zákazu sdílení CORS pro služby a jak tooset CORS pravidla, prosím odkazovat příliš[nastavit vlastnosti služby objektů Blob](https://msdn.microsoft.com/library/hh452235.aspx), [nastavit vlastnosti fronty služby](https://msdn.microsoft.com/library/hh452232.aspx), a [nastavit tabulky Vlastnosti služby](https://msdn.microsoft.com/library/hh452240.aspx).</span><span class="sxs-lookup"><span data-stu-id="40c0d-137">For details about how tooenable or disable CORS for a service and how tooset CORS rules, please refer too[Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx).</span></span>

<span data-ttu-id="40c0d-138">Zde je ukázka jednoho pravidla CORS, zadaný prostřednictvím operace nastavit vlastnosti služby:</span><span class="sxs-lookup"><span data-stu-id="40c0d-138">Here is a sample of a single CORS rule, specified via a Set Service Properties operation:</span></span>

```xml
<Cors>    
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com, http://www.fabrikam.com</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <AllowedHeaders>x-ms-meta-data*,x-ms-meta-target*,x-ms-meta-abc</AllowedHeaders>
        <ExposedHeaders>x-ms-meta-*</ExposedHeaders>
        <MaxAgeInSeconds>200</MaxAgeInSeconds>
    </CorsRule>
<Cors>
```

<span data-ttu-id="40c0d-139">Každý prvek uvedené v pravidle CORS hello je popsán dále:</span><span class="sxs-lookup"><span data-stu-id="40c0d-139">Each element included in hello CORS rule is described below:</span></span>

* <span data-ttu-id="40c0d-140">**AllowedOrigins**: hello zdrojové domény, které jsou povoleny toomake požadavek hello úložiště služby prostřednictvím CORS.</span><span class="sxs-lookup"><span data-stu-id="40c0d-140">**AllowedOrigins**: hello origin domains that are permitted toomake a request against hello storage service via CORS.</span></span> <span data-ttu-id="40c0d-141">doménu původu Hello je hello domény, ze které hello požadavek pochází.</span><span class="sxs-lookup"><span data-stu-id="40c0d-141">hello origin domain is hello domain from which hello request originates.</span></span> <span data-ttu-id="40c0d-142">Všimněte si, že hello počátku musí být velká a malá písmena přesně shodovat s hello původu, aby stáří hello uživatel odešle toohello služby.</span><span class="sxs-lookup"><span data-stu-id="40c0d-142">Note that hello origin must be an exact case-sensitive match with hello origin that hello user age sends toohello service.</span></span> <span data-ttu-id="40c0d-143">Můžete také použít zástupný znak hello ' *' tooallow všechny požadavky toomake domén počátek prostřednictvím CORS.</span><span class="sxs-lookup"><span data-stu-id="40c0d-143">You can also use hello wildcard character '*' tooallow all origin domains toomake requests via CORS.</span></span> <span data-ttu-id="40c0d-144">V předchozím příkladu hello, hello domén [http://www.contoso.com](http://www.contoso.com) a [http://www.fabrikam.com](http://www.fabrikam.com) provádět požadavky DHCP proti hello služby pomocí CORS.</span><span class="sxs-lookup"><span data-stu-id="40c0d-144">In hello example above, hello domains [http://www.contoso.com](http://www.contoso.com) and [http://www.fabrikam.com](http://www.fabrikam.com) can make requests against hello service using CORS.</span></span>
* <span data-ttu-id="40c0d-145">**AllowedMethods**: metody hello (příkazy požadavku HTTP) tuto doménu původu hello může použít pro požadavek CORS.</span><span class="sxs-lookup"><span data-stu-id="40c0d-145">**AllowedMethods**: hello methods (HTTP request verbs) that hello origin domain may use for a CORS request.</span></span> <span data-ttu-id="40c0d-146">V předchozím příkladu hello jsou povoleny pouze požadavky PUT a GET.</span><span class="sxs-lookup"><span data-stu-id="40c0d-146">In hello example above, only PUT and GET requests are permitted.</span></span>
* <span data-ttu-id="40c0d-147">**AllowedHeaders**: hlavičky požadavku hello tuto doménu původu hello může určovat na požadavek CORS hello.</span><span class="sxs-lookup"><span data-stu-id="40c0d-147">**AllowedHeaders**: hello request headers that hello origin domain may specify on hello CORS request.</span></span> <span data-ttu-id="40c0d-148">V předchozím příkladu hello jsou povolené všechny hlavičky metadata počínaje x-ms-meta-data, x-ms-meta cíl a x-ms-meta-abc.</span><span class="sxs-lookup"><span data-stu-id="40c0d-148">In hello example above, all metadata headers starting with x-ms-meta-data, x-ms-meta-target, and x-ms-meta-abc are permitted.</span></span> <span data-ttu-id="40c0d-149">Všimněte si, že hello zástupný znak ' *' znamená, že všechny hlavičky počínaje hello určeného předpona je povolen.</span><span class="sxs-lookup"><span data-stu-id="40c0d-149">Note that hello wildcard character '*' indicates that any header beginning with hello specified prefix is allowed.</span></span>
* <span data-ttu-id="40c0d-150">**ExposedHeaders**: hello hlavičky odpovědi, které může odesílat v požadavek CORS toohello hello odpovědi a vystavené hello prohlížeče toohello požadavek vystavitele.</span><span class="sxs-lookup"><span data-stu-id="40c0d-150">**ExposedHeaders**: hello response headers that may be sent in hello response toohello CORS request and exposed by hello browser toohello request issuer.</span></span> <span data-ttu-id="40c0d-151">V příkladu hello výše hello prohlížeče je pokyn tooexpose počínaje x-ms-meta všechny hlavičky.</span><span class="sxs-lookup"><span data-stu-id="40c0d-151">In hello example above, hello browser is instructed tooexpose any header beginning with x-ms-meta.</span></span>
* <span data-ttu-id="40c0d-152">**MaxAgeInSeconds**: hello maximální množství času, prohlížeče by měl mezipaměti hello předběžný požadavek možnosti.</span><span class="sxs-lookup"><span data-stu-id="40c0d-152">**MaxAgeInSeconds**: hello maximum amount time that a browser should cache hello preflight OPTIONS request.</span></span>

<span data-ttu-id="40c0d-153">Hello služby Azure storage podpora zadání předponou hlavičky pro obě hello **AllowedHeaders** a **ExposedHeaders** elementy.</span><span class="sxs-lookup"><span data-stu-id="40c0d-153">hello Azure storage services support specifying prefixed headers for both hello **AllowedHeaders** and **ExposedHeaders** elements.</span></span> <span data-ttu-id="40c0d-154">tooallow kategorii hlaviček, můžete zadat běžné kategorii toothat předponu.</span><span class="sxs-lookup"><span data-stu-id="40c0d-154">tooallow a category of headers, you can specify a common prefix toothat category.</span></span> <span data-ttu-id="40c0d-155">Například zadání *x-ms-meta** jako hlavičku předponou Určuje pravidlo, které bude odpovídat všechny hlavičky, které začínají s x-ms-meta.</span><span class="sxs-lookup"><span data-stu-id="40c0d-155">For example, specifying *x-ms-meta** as a prefixed header establishes a rule that will match all headers that begin with x-ms-meta.</span></span>

<span data-ttu-id="40c0d-156">tooCORS pravidla použít Hello následující omezení:</span><span class="sxs-lookup"><span data-stu-id="40c0d-156">hello following limitations apply tooCORS rules:</span></span>

* <span data-ttu-id="40c0d-157">Můžete zadat až toofive pravidla CORS pro službu úložiště (objekt Blob, Table a Queue).</span><span class="sxs-lookup"><span data-stu-id="40c0d-157">You can specify up toofive CORS rules per storage service (Blob, Table, and Queue).</span></span>
* <span data-ttu-id="40c0d-158">maximální velikost Hello všechny pravidla nastavení CORS na hello požadavku, s výjimkou značky XML nesmí být delší než 2 KB.</span><span class="sxs-lookup"><span data-stu-id="40c0d-158">hello maximum size of all CORS rules settings on hello request, excluding XML tags, should not exceed 2 KB.</span></span>
* <span data-ttu-id="40c0d-159">Hello povolené hlavičky, vystaveného hlavičce nebo povolený původ by neměl být delší než 256 znaků.</span><span class="sxs-lookup"><span data-stu-id="40c0d-159">hello length of an allowed header, exposed header, or allowed origin should not exceed 256 characters.</span></span>
* <span data-ttu-id="40c0d-160">Povolené hlavičky a zveřejněné záhlaví může být buď:</span><span class="sxs-lookup"><span data-stu-id="40c0d-160">Allowed headers and exposed headers may be either:</span></span>
  * <span data-ttu-id="40c0d-161">Literál hlavičky, kde hello přesný záhlaví je zadaný název, například **x-ms-meta zpracovat**.</span><span class="sxs-lookup"><span data-stu-id="40c0d-161">Literal headers, where hello exact header name is provided, such as **x-ms-meta-processed**.</span></span> <span data-ttu-id="40c0d-162">U požadavku hello je možné zadat maximálně 64 literálu hlavičky.</span><span class="sxs-lookup"><span data-stu-id="40c0d-162">A maximum of 64 literal headers may be specified on hello request.</span></span>
  * <span data-ttu-id="40c0d-163">Předponu hlavičky, kde předponu hello záhlaví je k dispozici, jako například **x-ms-meta-data***.</span><span class="sxs-lookup"><span data-stu-id="40c0d-163">Prefixed headers, where a prefix of hello header is provided, such as **x-ms-meta-data***.</span></span> <span data-ttu-id="40c0d-164">Zadání předpony tímto způsobem umožňuje nebo zpřístupní všechny hlavičky, který začíná textem hello zadané předpony.</span><span class="sxs-lookup"><span data-stu-id="40c0d-164">Specifying a prefix in this manner allows or exposes any header that begins with hello given prefix.</span></span> <span data-ttu-id="40c0d-165">U požadavku hello je možné zadat maximálně dvě předponou hlavičky.</span><span class="sxs-lookup"><span data-stu-id="40c0d-165">A maximum of two prefixed headers may be specified on hello request.</span></span>
* <span data-ttu-id="40c0d-166">Hello metody (nebo příkazy HTTP) zadaný v hello **AllowedMethods** element musí odpovídat toohello metod podporovaných službou Azure storage rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="40c0d-166">hello methods (or HTTP verbs) specified in hello **AllowedMethods** element must conform toohello methods supported by Azure storage service APIs.</span></span> <span data-ttu-id="40c0d-167">Jsou podporované metody odstranění, GET, HEAD, SLOUČENÍ, POST, možnosti a PUT.</span><span class="sxs-lookup"><span data-stu-id="40c0d-167">Supported methods are DELETE, GET, HEAD, MERGE, POST, OPTIONS and PUT.</span></span>

## <a name="understanding-cors-rule-evaluation-logic"></a><span data-ttu-id="40c0d-168">Principy logiku vyhodnocení pravidla CORS</span><span class="sxs-lookup"><span data-stu-id="40c0d-168">Understanding CORS rule evaluation logic</span></span>
<span data-ttu-id="40c0d-169">Když služba úložiště obdrží žádost o předběžný nebo skutečné, vyhodnotí tohoto požadavku na základě pravidel hello CORS, které jste vytvořili pro službu hello prostřednictvím hello příslušné operace nastavit vlastnosti služby.</span><span class="sxs-lookup"><span data-stu-id="40c0d-169">When a storage service receives a preflight or actual request, it evaluates that request based on hello CORS rules you have established for hello service via hello appropriate Set Service Properties operation.</span></span> <span data-ttu-id="40c0d-170">Pravidla CORS jsou vyhodnocovány v hello pořadí, ve které byly nastavené v textu žádosti hello Dobrý den operaci nastavit vlastnosti služby.</span><span class="sxs-lookup"><span data-stu-id="40c0d-170">CORS rules are evaluated in hello order in which they were set in hello request body of hello Set Service Properties operation.</span></span>

<span data-ttu-id="40c0d-171">CORS pravidla se vyhodnocují následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="40c0d-171">CORS rules are evaluated as follows:</span></span>

1. <span data-ttu-id="40c0d-172">Nejprve je doménu původu hello hello požadavku zkontrolován hello domén uvedené pro hello **AllowedOrigins** element.</span><span class="sxs-lookup"><span data-stu-id="40c0d-172">First, hello origin domain of hello request is checked against hello domains listed for hello **AllowedOrigins** element.</span></span> <span data-ttu-id="40c0d-173">Pokud doménu původu hello je obsažena v seznamu hello nebo se zástupným znakem hello jsou povoleny všechny domény ' *', potom pravidla vyhodnocení bude pokračovat.</span><span class="sxs-lookup"><span data-stu-id="40c0d-173">If hello origin domain is included in hello list, or all domains are allowed with hello wildcard character '*', then rules evaluation proceeds.</span></span> <span data-ttu-id="40c0d-174">Pokud doménu původu hello neuvedete, hello požadavku se nezdaří.</span><span class="sxs-lookup"><span data-stu-id="40c0d-174">If hello origin domain is not included, then hello request fails.</span></span>
2. <span data-ttu-id="40c0d-175">V dalším kroku metoda hello (nebo příkaz HTTP) hello požadavku je zkontrolován hello metody uvedené v hello **AllowedMethods** element.</span><span class="sxs-lookup"><span data-stu-id="40c0d-175">Next, hello method (or HTTP verb) of hello request is checked against hello methods listed in hello **AllowedMethods** element.</span></span> <span data-ttu-id="40c0d-176">Pokud metoda hello je obsažena v seznamu hello, potom pokračuje pravidla vyhodnocení; Pokud ne, pak hello požadavek selže.</span><span class="sxs-lookup"><span data-stu-id="40c0d-176">If hello method is included in hello list, then rules evaluation proceeds; if not, then hello request fails.</span></span>
3. <span data-ttu-id="40c0d-177">Pokud hello požadavek odpovídá pravidla v jeho zdrojovou doménu a jeho metoda, toto pravidlo je vybrané tooprocess hello požadavku a vyhodnocují se žádná další pravidla.</span><span class="sxs-lookup"><span data-stu-id="40c0d-177">If hello request matches a rule in its origin domain and its method, that rule is selected tooprocess hello request and no further rules are evaluated.</span></span> <span data-ttu-id="40c0d-178">Předtím, než mohlo být úspěšné hello požadavku, však kontroluje všechny hlavičky zadaný u žádosti hello vůči hello hlavičky uvedené v hello **AllowedHeaders** element.</span><span class="sxs-lookup"><span data-stu-id="40c0d-178">Before hello request can succeed, however, any headers specified on hello request are checked against hello headers listed in hello **AllowedHeaders** element.</span></span> <span data-ttu-id="40c0d-179">Pokud hello hlavičky odeslané neshodují hello povolené hlavičky, hello požadavek selže.</span><span class="sxs-lookup"><span data-stu-id="40c0d-179">If hello headers sent do not match hello allowed headers, hello request fails.</span></span>

<span data-ttu-id="40c0d-180">Vzhledem k tomu, že hello pravidla se zpracovávají v pořadí hello, že se nachází v textu žádosti hello, osvědčené postupy doporučujeme zadat, že hello nejvíc omezující pravidla s respektují tooorigins první v seznamu hello tak, aby tyto se vyhodnocují jako první.</span><span class="sxs-lookup"><span data-stu-id="40c0d-180">Since hello rules are processed in hello order they are present in hello request body, best practices recommend that you specify hello most restrictive rules with respect tooorigins first in hello list, so that these are evaluated first.</span></span> <span data-ttu-id="40c0d-181">Zadejte pravidla, která jsou méně omezující – například pravidlo tooallow všechny původy – na konci hello hello seznamu.</span><span class="sxs-lookup"><span data-stu-id="40c0d-181">Specify rules that are less restrictive – for example, a rule tooallow all origins – at hello end of hello list.</span></span>

### <a name="example--cors-rules-evaluation"></a><span data-ttu-id="40c0d-182">Příklad – CORS pravidel vyhodnocení</span><span class="sxs-lookup"><span data-stu-id="40c0d-182">Example – CORS rules evaluation</span></span>
<span data-ttu-id="40c0d-183">Hello následující příklad ukazuje obsah částečné žádosti pro operaci tooset CORS pravidla pro služby úložiště hello.</span><span class="sxs-lookup"><span data-stu-id="40c0d-183">hello following example shows a partial request body for an operation tooset CORS rules for hello storage services.</span></span> <span data-ttu-id="40c0d-184">V tématu [nastavit vlastnosti služby objektů Blob](https://msdn.microsoft.com/library/hh452235.aspx), [nastavit vlastnosti fronty služby](https://msdn.microsoft.com/library/hh452232.aspx), a [nastavit vlastnosti služby Table](https://msdn.microsoft.com/library/hh452240.aspx) informace o vytváření hello požadavku.</span><span class="sxs-lookup"><span data-stu-id="40c0d-184">See [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), and [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx) for details on constructing hello request.</span></span>

```xml
<Cors>
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com</AllowedOrigins>
        <AllowedMethods>PUT,HEAD</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-blob-content-type, x-ms-blob-content-disposition</AllowedHeaders>
    </CorsRule>
    <CorsRule>
        <AllowedOrigins>*</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-blob-content-type, x-ms-blob-content-disposition</AllowedHeaders>
    </CorsRule>
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com</AllowedOrigins>
        <AllowedMethods>GET</AllowedMethods>
        <MaxAgeInSeconds>5</MaxAgeInSeconds>
        <ExposedHeaders>x-ms-*</ExposedHeaders>
        <AllowedHeaders>x-ms-client-request-id</AllowedHeaders>
    </CorsRule>
</Cors>
```

<span data-ttu-id="40c0d-185">Dále je třeba zvážit následující požadavků CORS hello:</span><span class="sxs-lookup"><span data-stu-id="40c0d-185">Next, consider hello following CORS requests:</span></span>

| <span data-ttu-id="40c0d-186">Žádost</span><span class="sxs-lookup"><span data-stu-id="40c0d-186">Request</span></span> |  |  | <span data-ttu-id="40c0d-187">Odpověď</span><span class="sxs-lookup"><span data-stu-id="40c0d-187">Response</span></span> |  |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="40c0d-188">**– Metoda**</span><span class="sxs-lookup"><span data-stu-id="40c0d-188">**Method**</span></span> |<span data-ttu-id="40c0d-189">**Počátek**</span><span class="sxs-lookup"><span data-stu-id="40c0d-189">**Origin**</span></span> |<span data-ttu-id="40c0d-190">**Hlavičky požadavku**</span><span class="sxs-lookup"><span data-stu-id="40c0d-190">**Request Headers**</span></span> |<span data-ttu-id="40c0d-191">**Pravidla shody**</span><span class="sxs-lookup"><span data-stu-id="40c0d-191">**Rule Match**</span></span> |<span data-ttu-id="40c0d-192">**Výsledek**</span><span class="sxs-lookup"><span data-stu-id="40c0d-192">**Result**</span></span> |
| <span data-ttu-id="40c0d-193">**PUT**</span><span class="sxs-lookup"><span data-stu-id="40c0d-193">**PUT**</span></span> |<span data-ttu-id="40c0d-194">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="40c0d-194">http://www.contoso.com</span></span> |<span data-ttu-id="40c0d-195">x-ms-blob-content-type</span><span class="sxs-lookup"><span data-stu-id="40c0d-195">x-ms-blob-content-type</span></span> |<span data-ttu-id="40c0d-196">První pravidlo</span><span class="sxs-lookup"><span data-stu-id="40c0d-196">First rule</span></span> |<span data-ttu-id="40c0d-197">Úspěch</span><span class="sxs-lookup"><span data-stu-id="40c0d-197">Success</span></span> |
| <span data-ttu-id="40c0d-198">**GET**</span><span class="sxs-lookup"><span data-stu-id="40c0d-198">**GET**</span></span> |<span data-ttu-id="40c0d-199">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="40c0d-199">http://www.contoso.com</span></span> |<span data-ttu-id="40c0d-200">x-ms-blob-content-type</span><span class="sxs-lookup"><span data-stu-id="40c0d-200">x-ms-blob-content-type</span></span> |<span data-ttu-id="40c0d-201">Druhé pravidlo</span><span class="sxs-lookup"><span data-stu-id="40c0d-201">Second rule</span></span> |<span data-ttu-id="40c0d-202">Úspěch</span><span class="sxs-lookup"><span data-stu-id="40c0d-202">Success</span></span> |
| <span data-ttu-id="40c0d-203">**GET**</span><span class="sxs-lookup"><span data-stu-id="40c0d-203">**GET**</span></span> |<span data-ttu-id="40c0d-204">http://www.contoso.com</span><span class="sxs-lookup"><span data-stu-id="40c0d-204">http://www.contoso.com</span></span> |<span data-ttu-id="40c0d-205">x-ms-client-request-id</span><span class="sxs-lookup"><span data-stu-id="40c0d-205">x-ms-client-request-id</span></span> |<span data-ttu-id="40c0d-206">Druhé pravidlo</span><span class="sxs-lookup"><span data-stu-id="40c0d-206">Second rule</span></span> |<span data-ttu-id="40c0d-207">Selhání</span><span class="sxs-lookup"><span data-stu-id="40c0d-207">Failure</span></span> |

<span data-ttu-id="40c0d-208">Hello první požadavek odpovídá první pravidlo hello – doménu původu hello odpovídá hello povolené zdroje, hello metoda odpovídá hello povolené metody a hlavičky hello odpovídá hello povolené hlavičky – a proto úspěšné.</span><span class="sxs-lookup"><span data-stu-id="40c0d-208">hello first request matches hello first rule – hello origin domain matches hello allowed origins, hello method matches hello allowed methods, and hello header matches hello allowed headers – and so succeeds.</span></span>

<span data-ttu-id="40c0d-209">druhý žádosti Hello neodpovídá hello první pravidlo, protože metoda hello neodpovídá hello povolené metody.</span><span class="sxs-lookup"><span data-stu-id="40c0d-209">hello second request does not match hello first rule because hello method does not match hello allowed methods.</span></span> <span data-ttu-id="40c0d-210">Ho, však neshoduje druhého pravidla text hello, takže operace proběhne úspěšně.</span><span class="sxs-lookup"><span data-stu-id="40c0d-210">It does, however, match hello second rule, so it succeeds.</span></span>

<span data-ttu-id="40c0d-211">Hello třetí požadavek odpovídá hello druhé pravidlo v jeho zdrojovou doménu a metodu, takže žádná další pravidla se vyhodnocují.</span><span class="sxs-lookup"><span data-stu-id="40c0d-211">hello third request matches hello second rule in its origin domain and method, so no further rules are evaluated.</span></span> <span data-ttu-id="40c0d-212">Ale hello *hlavičky x-ms-client-request-id* není povolena druhého pravidla text hello, takže hello požadavek selže bez ohledu hello fakt, že sémantika hello hello třetí pravidlo by se povolí jeho toosucceed.</span><span class="sxs-lookup"><span data-stu-id="40c0d-212">However, hello *x-ms-client-request-id header* is not allowed by hello second rule, so hello request fails, despite hello fact that hello semantics of hello third rule would have allowed it toosucceed.</span></span>

> [!NOTE]
> <span data-ttu-id="40c0d-213">I když tento příklad ukazuje méně přísná pravidla před více omezující jeden, obecně hello osvědčeným postupem je toolist hello nejvíc omezující pravidla nejprve.</span><span class="sxs-lookup"><span data-stu-id="40c0d-213">Although this example shows a less restrictive rule before a more restrictive one, in general hello best practice is toolist hello most restrictive rules first.</span></span>
> 
> 

## <a name="understanding-how-hello-vary-header-is-set"></a><span data-ttu-id="40c0d-214">Pochopení, jak nastavit hello měnit hlavičky</span><span class="sxs-lookup"><span data-stu-id="40c0d-214">Understanding how hello Vary header is set</span></span>
<span data-ttu-id="40c0d-215">Hello *měnit* záhlaví je standardní hlavičku HTTP/1.1 skládající se z sadu pole hlavičky požadavku, které poradit hello prohlížeče nebo uživatelského agenta hello kritéria, které byly vybrány požadavkem hello tooprocess server hello.</span><span class="sxs-lookup"><span data-stu-id="40c0d-215">hello *Vary* header is a standard HTTP/1.1 header consisting of a set of request header fields that advise hello browser or user agent about hello criteria that were selected by hello server tooprocess hello request.</span></span> <span data-ttu-id="40c0d-216">Hello *měnit* záhlaví se většinou používá pro ukládání do mezipaměti podle proxy, prohlížečů a sítím CDN, které ji používají toodetermine jak hello odpověď do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="40c0d-216">hello *Vary* header is mainly used for caching by proxies, browsers, and CDNs, which use it toodetermine how hello response should be cached.</span></span> <span data-ttu-id="40c0d-217">Podrobnosti najdete v tématu hello specifikace hello [měnit hlavičky](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html).</span><span class="sxs-lookup"><span data-stu-id="40c0d-217">For details, see hello specification for hello [Vary header](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html).</span></span>

<span data-ttu-id="40c0d-218">Když hello prohlížeče nebo jiné uživatelský agent ukládá do mezipaměti odpovědi hello z požadavek CORS, doménu původu hello se uloží do mezipaměti jako hello povolené původu.</span><span class="sxs-lookup"><span data-stu-id="40c0d-218">When hello browser or another user agent caches hello response from a CORS request, hello origin domain is cached as hello allowed origin.</span></span> <span data-ttu-id="40c0d-219">Když druhý problémy v doméně hello stejné žádost o prostředek úložiště při hello mezipaměti je aktivní, uživatelský agent hello načte hello uložené v mezipaměti zdrojovou doménu.</span><span class="sxs-lookup"><span data-stu-id="40c0d-219">When a second domain issues hello same request for a storage resource while hello cache is active, hello user agent retrieves hello cached origin domain.</span></span> <span data-ttu-id="40c0d-220">Druhá doména Hello neodpovídá hello domény v mezipaměti, proto hello požadavek selže, když by jinak úspěšné.</span><span class="sxs-lookup"><span data-stu-id="40c0d-220">hello second domain does not match hello cached domain, so hello request fails when it would otherwise succeed.</span></span> <span data-ttu-id="40c0d-221">V některých případech, Azure Storage nastaví hello měnit hlavičky příliš**původu** tooinstruct hello agenta toosend hello následné CORS požadavku toohello služba uživatele při hello požaduje domény se liší od hello mezipaměti původu.</span><span class="sxs-lookup"><span data-stu-id="40c0d-221">In certain cases, Azure Storage sets hello Vary header too**Origin** tooinstruct hello user agent toosend hello subsequent CORS request toohello service when hello requesting domain differs from hello cached origin.</span></span>

<span data-ttu-id="40c0d-222">Úložiště Azure nastaví hello *měnit* záhlaví příliš**původu** skutečné požadavky GET nebo HEAD v následujících případech hello:</span><span class="sxs-lookup"><span data-stu-id="40c0d-222">Azure Storage sets hello *Vary* header too**Origin** for actual GET/HEAD requests in hello following cases:</span></span>

* <span data-ttu-id="40c0d-223">Kdy hello žádosti počátek přesně odpovídá hello povoleno počátek definované pravidlem CORS.</span><span class="sxs-lookup"><span data-stu-id="40c0d-223">When hello request origin exactly matches hello allowed origin defined by a CORS rule.</span></span> <span data-ttu-id="40c0d-224">toobe přesnou shodu hello CORS pravidlo nesmí obsahovat zástupný znak ' * ' znak.</span><span class="sxs-lookup"><span data-stu-id="40c0d-224">toobe an exact match, hello CORS rule may not include a wildcard ' * ' character.</span></span>
* <span data-ttu-id="40c0d-225">Neexistuje žádná pravidla odpovídající hello požadovaný původ, ale je povolená CORS pro službu úložiště hello.</span><span class="sxs-lookup"><span data-stu-id="40c0d-225">There is no rule matching hello request origin, but CORS is enabled for hello storage service.</span></span>

<span data-ttu-id="40c0d-226">V případě hello kde požadavek GET nebo HEAD odpovídá pravidla CORS, která umožňuje všechny původy hello odpovědi označuje, že jsou povoleny všechny původy a hello uživatele agenta mezipaměti umožní následné žádosti z jakékoli doménu původu při hello mezipaměti je aktivní.</span><span class="sxs-lookup"><span data-stu-id="40c0d-226">In hello case where a GET/HEAD request matches a CORS rule that allows all origins, hello response indicates that all origins are allowed, and hello user agent cache will allow subsequent requests from any origin domain while hello cache is active.</span></span>

<span data-ttu-id="40c0d-227">Všimněte si, že pro požadavky na použití jiných metod než GET nebo HEAD, služby úložiště hello nenastaví hello měnit hlavičky, vzhledem k tomu, že se neukládají do mezipaměti odpovědi toothese metody Uživatelští agenti.</span><span class="sxs-lookup"><span data-stu-id="40c0d-227">Note that for requests using methods other than GET/HEAD, hello storage services will not set hello Vary header, since responses toothese methods are not cached by user agents.</span></span>

<span data-ttu-id="40c0d-228">Hello následující tabulka určuje, jak Azure storage bude odpovídat požadavky tooGET nebo HEAD hello podle dříve uvedených případech:</span><span class="sxs-lookup"><span data-stu-id="40c0d-228">hello following table indicates how Azure storage will respond tooGET/HEAD requests based on hello previously mentioned cases:</span></span>

| <span data-ttu-id="40c0d-229">Žádost</span><span class="sxs-lookup"><span data-stu-id="40c0d-229">Request</span></span> | <span data-ttu-id="40c0d-230">Nastavení účtu a výsledek vyhodnocení pravidla</span><span class="sxs-lookup"><span data-stu-id="40c0d-230">Account setting and result of rule evaluation</span></span> |  |  | <span data-ttu-id="40c0d-231">Odpověď</span><span class="sxs-lookup"><span data-stu-id="40c0d-231">Response</span></span> |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="40c0d-232">**Původ hlavičky v požadavku**</span><span class="sxs-lookup"><span data-stu-id="40c0d-232">**Origin header present on request**</span></span> |<span data-ttu-id="40c0d-233">**CORS pravidel zadaný pro tuto službu**</span><span class="sxs-lookup"><span data-stu-id="40c0d-233">**CORS rule(s) specified for this service**</span></span> |<span data-ttu-id="40c0d-234">**Existuje odpovídající pravidlo, které umožňuje všechny původy (*)**</span><span class="sxs-lookup"><span data-stu-id="40c0d-234">**Matching rule exists that allows all origins(*)**</span></span> |<span data-ttu-id="40c0d-235">**Existuje odpovídající pravidlo pro shodu přesný počátek**</span><span class="sxs-lookup"><span data-stu-id="40c0d-235">**Matching rule exists for exact origin match**</span></span> |<span data-ttu-id="40c0d-236">**Odpověď obsahuje měnit hlavičky set tooOrigin**</span><span class="sxs-lookup"><span data-stu-id="40c0d-236">**Response includes Vary header set tooOrigin**</span></span> |<span data-ttu-id="40c0d-237">**Odpověď obsahuje Access-Control-povolené-Origin: "*"**</span><span class="sxs-lookup"><span data-stu-id="40c0d-237">**Response includes Access-Control-Allowed-Origin: "*"**</span></span> |<span data-ttu-id="40c0d-238">**Odpověď obsahuje Access-Control-zveřejněné-Headers**</span><span class="sxs-lookup"><span data-stu-id="40c0d-238">**Response includes Access-Control-Exposed-Headers**</span></span> |
| <span data-ttu-id="40c0d-239">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-239">No</span></span> |<span data-ttu-id="40c0d-240">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-240">No</span></span> |<span data-ttu-id="40c0d-241">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-241">No</span></span> |<span data-ttu-id="40c0d-242">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-242">No</span></span> |<span data-ttu-id="40c0d-243">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-243">No</span></span> |<span data-ttu-id="40c0d-244">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-244">No</span></span> |<span data-ttu-id="40c0d-245">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-245">No</span></span> |
| <span data-ttu-id="40c0d-246">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-246">No</span></span> |<span data-ttu-id="40c0d-247">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-247">Yes</span></span> |<span data-ttu-id="40c0d-248">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-248">No</span></span> |<span data-ttu-id="40c0d-249">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-249">No</span></span> |<span data-ttu-id="40c0d-250">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-250">Yes</span></span> |<span data-ttu-id="40c0d-251">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-251">No</span></span> |<span data-ttu-id="40c0d-252">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-252">No</span></span> |
| <span data-ttu-id="40c0d-253">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-253">No</span></span> |<span data-ttu-id="40c0d-254">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-254">Yes</span></span> |<span data-ttu-id="40c0d-255">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-255">Yes</span></span> |<span data-ttu-id="40c0d-256">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-256">No</span></span> |<span data-ttu-id="40c0d-257">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-257">No</span></span> |<span data-ttu-id="40c0d-258">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-258">Yes</span></span> |<span data-ttu-id="40c0d-259">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-259">Yes</span></span> |
| <span data-ttu-id="40c0d-260">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-260">Yes</span></span> |<span data-ttu-id="40c0d-261">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-261">No</span></span> |<span data-ttu-id="40c0d-262">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-262">No</span></span> |<span data-ttu-id="40c0d-263">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-263">No</span></span> |<span data-ttu-id="40c0d-264">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-264">No</span></span> |<span data-ttu-id="40c0d-265">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-265">No</span></span> |<span data-ttu-id="40c0d-266">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-266">No</span></span> |
| <span data-ttu-id="40c0d-267">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-267">Yes</span></span> |<span data-ttu-id="40c0d-268">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-268">Yes</span></span> |<span data-ttu-id="40c0d-269">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-269">No</span></span> |<span data-ttu-id="40c0d-270">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-270">Yes</span></span> |<span data-ttu-id="40c0d-271">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-271">Yes</span></span> |<span data-ttu-id="40c0d-272">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-272">No</span></span> |<span data-ttu-id="40c0d-273">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-273">Yes</span></span> |
| <span data-ttu-id="40c0d-274">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-274">Yes</span></span> |<span data-ttu-id="40c0d-275">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-275">Yes</span></span> |<span data-ttu-id="40c0d-276">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-276">No</span></span> |<span data-ttu-id="40c0d-277">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-277">No</span></span> |<span data-ttu-id="40c0d-278">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-278">Yes</span></span> |<span data-ttu-id="40c0d-279">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-279">No</span></span> |<span data-ttu-id="40c0d-280">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-280">No</span></span> |
| <span data-ttu-id="40c0d-281">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-281">Yes</span></span> |<span data-ttu-id="40c0d-282">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-282">Yes</span></span> |<span data-ttu-id="40c0d-283">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-283">Yes</span></span> |<span data-ttu-id="40c0d-284">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-284">No</span></span> |<span data-ttu-id="40c0d-285">Ne</span><span class="sxs-lookup"><span data-stu-id="40c0d-285">No</span></span> |<span data-ttu-id="40c0d-286">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-286">Yes</span></span> |<span data-ttu-id="40c0d-287">Ano</span><span class="sxs-lookup"><span data-stu-id="40c0d-287">Yes</span></span> |

## <a name="billing-for-cors-requests"></a><span data-ttu-id="40c0d-288">Fakturace požadavků CORS</span><span class="sxs-lookup"><span data-stu-id="40c0d-288">Billing for CORS requests</span></span>
<span data-ttu-id="40c0d-289">Kontrola před výstupem úspěšné požadavky se účtují, pokud jste povolili CORS pro všechny služby hello úložiště pro váš účet (voláním [nastavit vlastnosti služby objektů Blob](https://msdn.microsoft.com/library/hh452235.aspx), [nastavit vlastnosti fronty služby](https://msdn.microsoft.com/library/hh452232.aspx), nebo [ Nastavit vlastnosti služby Table](https://msdn.microsoft.com/library/hh452240.aspx)).</span><span class="sxs-lookup"><span data-stu-id="40c0d-289">Successful preflight requests are billed if you have enabled CORS for any of hello storage services for your account (by calling [Set Blob Service Properties](https://msdn.microsoft.com/library/hh452235.aspx), [Set Queue Service Properties](https://msdn.microsoft.com/library/hh452232.aspx), or [Set Table Service Properties](https://msdn.microsoft.com/library/hh452240.aspx)).</span></span> <span data-ttu-id="40c0d-290">toominimize poplatky, zvažte nastavení hello **MaxAgeInSeconds** element ve vaší CORS pravidla tooa velké hodnoty tak, aby hello uživatelský agent ukládá do mezipaměti žádosti hello.</span><span class="sxs-lookup"><span data-stu-id="40c0d-290">toominimize charges, consider setting hello **MaxAgeInSeconds** element in your CORS rules tooa large value so that hello user agent caches hello request.</span></span>

<span data-ttu-id="40c0d-291">Neúspěšná předběžných požadavků, nebude platit.</span><span class="sxs-lookup"><span data-stu-id="40c0d-291">Unsuccessful preflight requests will not be billed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="40c0d-292">Další kroky</span><span class="sxs-lookup"><span data-stu-id="40c0d-292">Next steps</span></span>
[<span data-ttu-id="40c0d-293">Nastavit vlastnosti služby objektů Blob</span><span class="sxs-lookup"><span data-stu-id="40c0d-293">Set Blob Service Properties</span></span>](https://msdn.microsoft.com/library/hh452235.aspx)

[<span data-ttu-id="40c0d-294">Nastavit vlastnosti fronty služby</span><span class="sxs-lookup"><span data-stu-id="40c0d-294">Set Queue Service Properties</span></span>](https://msdn.microsoft.com/library/hh452232.aspx)

[<span data-ttu-id="40c0d-295">Nastavit vlastnosti služby Table</span><span class="sxs-lookup"><span data-stu-id="40c0d-295">Set Table Service Properties</span></span>](https://msdn.microsoft.com/library/hh452240.aspx)

[<span data-ttu-id="40c0d-296">Specifikace pro sdílení prostředků různého původu W3C</span><span class="sxs-lookup"><span data-stu-id="40c0d-296">W3C Cross-Origin Resource Sharing Specification</span></span>](http://www.w3.org/TR/cors/)

