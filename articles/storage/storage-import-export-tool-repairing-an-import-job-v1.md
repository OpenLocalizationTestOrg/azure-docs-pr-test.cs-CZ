---
title: "aaaRepairing úlohy importu Azure Import/Export - v1 | Microsoft Docs"
description: "Zjistěte, jak toorepair úlohu importu, který byl vytvořen a spustí pomocí hello Azure Import/Export služby."
author: muralikk
manager: syadav
editor: tysonn
services: storage
documentationcenter: 
ms.assetid: 38cc16bd-ad55-4625-9a85-e1726c35fd1b
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/23/2017
ms.author: muralikk
ms.openlocfilehash: a9ed81f50cffd8ae6e0cb21b25a04815c2b51ee5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="repairing-an-import-job"></a><span data-ttu-id="3f140-103">Oprava úlohy importu</span><span class="sxs-lookup"><span data-stu-id="3f140-103">Repairing an import job</span></span>
<span data-ttu-id="3f140-104">Hello služby Microsoft Azure Import/Export může selhat toocopy některé soubory nebo části souboru toohello služby Windows Azure Blob.</span><span class="sxs-lookup"><span data-stu-id="3f140-104">hello Microsoft Azure Import/Export service may fail toocopy some of your files or parts of a file toohello Windows Azure Blob service.</span></span> <span data-ttu-id="3f140-105">Chyby z těchto důvodů:</span><span class="sxs-lookup"><span data-stu-id="3f140-105">Some reasons for failures include:</span></span>  
  
-   <span data-ttu-id="3f140-106">Poškozené soubory</span><span class="sxs-lookup"><span data-stu-id="3f140-106">Corrupted files</span></span>  
  
-   <span data-ttu-id="3f140-107">Poškozené jednotky</span><span class="sxs-lookup"><span data-stu-id="3f140-107">Damaged drives</span></span>  
  
-   <span data-ttu-id="3f140-108">klíč účtu úložiště Hello změnila. Přestože hello souboru během přenosu.</span><span class="sxs-lookup"><span data-stu-id="3f140-108">hello storage account key changed while hello file was being transferred.</span></span>  
  
<span data-ttu-id="3f140-109">Můžete spustit hello nástroj Microsoft Azure Import/Export hello importu souborů protokolu kopie úlohy a nástroj hello odešlete hello chybějící soubory (nebo její části souboru) tooyour systému Windows Azure storage účet toocomplete úlohy importu.</span><span class="sxs-lookup"><span data-stu-id="3f140-109">You can run hello Microsoft Azure Import/Export Tool with hello import job's copy log files, and hello tool will upload hello missing files (or parts of a file) tooyour Windows Azure storage account toocomplete import job.</span></span>  
  
## <a name="repairimport-parameters"></a><span data-ttu-id="3f140-110">Parametry RepairImport</span><span class="sxs-lookup"><span data-stu-id="3f140-110">RepairImport parameters</span></span>

<span data-ttu-id="3f140-111">Hello mohou být zadány následující parametry s **RepairImport**:</span><span class="sxs-lookup"><span data-stu-id="3f140-111">hello following parameters can be specified with **RepairImport**:</span></span> 
  
|||  
|-|-|  
|<span data-ttu-id="3f140-112">**/ r:**< RepairFile\></span><span class="sxs-lookup"><span data-stu-id="3f140-112">**/r:**<RepairFile\></span></span>|<span data-ttu-id="3f140-113">**Vyžaduje se.**</span><span class="sxs-lookup"><span data-stu-id="3f140-113">**Required.**</span></span> <span data-ttu-id="3f140-114">Cesta toohello oprava souboru, který sleduje hello průběh hello opravy a můžete tooresume opravu dojde k přerušení.</span><span class="sxs-lookup"><span data-stu-id="3f140-114">Path toohello repair file, which tracks hello progress of hello repair, and allows you tooresume an interrupted repair.</span></span> <span data-ttu-id="3f140-115">Každé jednotky, musí mít pouze jeden soubor opravit.</span><span class="sxs-lookup"><span data-stu-id="3f140-115">Each drive must have one and only one repair file.</span></span> <span data-ttu-id="3f140-116">Když spustíte opravy pro danou jednotku, předáte bude v hello cesta tooa oprava souboru, který ještě neexistuje.</span><span class="sxs-lookup"><span data-stu-id="3f140-116">When you start a repair for a given drive, you will pass in hello path tooa repair file which does not yet exist.</span></span> <span data-ttu-id="3f140-117">tooresume opravu dojde k přerušení, by měla předávat název hello k existujícímu souboru opravit.</span><span class="sxs-lookup"><span data-stu-id="3f140-117">tooresume an interrupted repair, you should pass in hello name of an existing repair file.</span></span> <span data-ttu-id="3f140-118">Hello opravit soubor odpovídající toohello cílová jednotka je vždy třeba zadat.</span><span class="sxs-lookup"><span data-stu-id="3f140-118">hello repair file corresponding toohello target drive must always be specified.</span></span>|  
|<span data-ttu-id="3f140-119">**/logdir:**< LogDirectory\></span><span class="sxs-lookup"><span data-stu-id="3f140-119">**/logdir:**<LogDirectory\></span></span>|<span data-ttu-id="3f140-120">**Volitelný parametr.**</span><span class="sxs-lookup"><span data-stu-id="3f140-120">**Optional.**</span></span> <span data-ttu-id="3f140-121">Adresář protokolu Hello.</span><span class="sxs-lookup"><span data-stu-id="3f140-121">hello log directory.</span></span> <span data-ttu-id="3f140-122">Podrobné soubory protokolu se zapíše toothis adresáře.</span><span class="sxs-lookup"><span data-stu-id="3f140-122">Verbose log files will be written toothis directory.</span></span> <span data-ttu-id="3f140-123">Pokud není zadán žádný adresář protokolu, aktuální adresář hello se použije jako adresář protokolu hello.</span><span class="sxs-lookup"><span data-stu-id="3f140-123">If no log directory is specified, hello current directory will be used as hello log directory.</span></span>|  
|<span data-ttu-id="3f140-124">**/ d:**< TargetDirectories\></span><span class="sxs-lookup"><span data-stu-id="3f140-124">**/d:**<TargetDirectories\></span></span>|<span data-ttu-id="3f140-125">**Vyžaduje se.**</span><span class="sxs-lookup"><span data-stu-id="3f140-125">**Required.**</span></span> <span data-ttu-id="3f140-126">Jeden nebo více oddělených středníkem adresáře, které obsahují hello původní soubory, které byly naimportovány.</span><span class="sxs-lookup"><span data-stu-id="3f140-126">One or more semicolon-separated directories that contain hello original files that were imported.</span></span> <span data-ttu-id="3f140-127">Hello import disku mohou být využity také, ale pokud jsou k dispozici alternativní umístění původního souborů není potřeba.</span><span class="sxs-lookup"><span data-stu-id="3f140-127">hello import drive may also be used, but is not required if alternate locations of original files are available.</span></span>|  
|<span data-ttu-id="3f140-128">**/BK:**< BitLockerKey\></span><span class="sxs-lookup"><span data-stu-id="3f140-128">**/bk:**<BitLockerKey\></span></span>|<span data-ttu-id="3f140-129">**Volitelný parametr.**</span><span class="sxs-lookup"><span data-stu-id="3f140-129">**Optional.**</span></span> <span data-ttu-id="3f140-130">Pokud chcete, aby toounlock hello nástroj pro zašifrované jednotky, které jsou k dispozici původní soubory hello musíte zadat klíč nástroje BitLocker hello.</span><span class="sxs-lookup"><span data-stu-id="3f140-130">You should specify hello BitLocker key if you want hello tool toounlock an encrypted drive where hello original files are available.</span></span>|  
|<span data-ttu-id="3f140-131">**/sn:**< StorageAccountName\></span><span class="sxs-lookup"><span data-stu-id="3f140-131">**/sn:**<StorageAccountName\></span></span>|<span data-ttu-id="3f140-132">**Vyžaduje se.**</span><span class="sxs-lookup"><span data-stu-id="3f140-132">**Required.**</span></span> <span data-ttu-id="3f140-133">Úloha importu Hello název účtu úložiště hello hello.</span><span class="sxs-lookup"><span data-stu-id="3f140-133">hello name of hello storage account for hello import job.</span></span>|  
|<span data-ttu-id="3f140-134">**/Sk:**< StorageAccountKey\></span><span class="sxs-lookup"><span data-stu-id="3f140-134">**/sk:**<StorageAccountKey\></span></span>|<span data-ttu-id="3f140-135">**Požadované** Pokud není zadán sdíleného přístupového podpisu kontejneru.</span><span class="sxs-lookup"><span data-stu-id="3f140-135">**Required** if and only if a container SAS is not specified.</span></span> <span data-ttu-id="3f140-136">Úloha importu Hello klíč účtu pro účet úložiště hello hello.</span><span class="sxs-lookup"><span data-stu-id="3f140-136">hello account key for hello storage account for hello import job.</span></span>|  
|<span data-ttu-id="3f140-137">**/csas:**< ContainerSas\></span><span class="sxs-lookup"><span data-stu-id="3f140-137">**/csas:**<ContainerSas\></span></span>|<span data-ttu-id="3f140-138">**Požadované** jenom v případě hello klíč účtu úložiště není zadán.</span><span class="sxs-lookup"><span data-stu-id="3f140-138">**Required** if and only if hello storage account key is not specified.</span></span> <span data-ttu-id="3f140-139">kontejner Hello SAS pro přístup k BLOB hello spojené s úlohou import hello.</span><span class="sxs-lookup"><span data-stu-id="3f140-139">hello container SAS for accessing hello blobs associated with hello import job.</span></span>|  
|<span data-ttu-id="3f140-140">**/ CopyLogFile:**< DriveCopyLogFile\></span><span class="sxs-lookup"><span data-stu-id="3f140-140">**/CopyLogFile:**<DriveCopyLogFile\></span></span>|<span data-ttu-id="3f140-141">**Vyžaduje se.**</span><span class="sxs-lookup"><span data-stu-id="3f140-141">**Required.**</span></span> <span data-ttu-id="3f140-142">Cesta toohello jednotky kopie protokolový soubor (podrobného protokolování nebo v protokolu chyb).</span><span class="sxs-lookup"><span data-stu-id="3f140-142">Path toohello drive copy log file (either verbose log or error log).</span></span> <span data-ttu-id="3f140-143">soubor Hello je generován hello služby Windows Azure Import/Export a si můžete stáhnout z úložiště objektů blob hello spojené s úlohou hello.</span><span class="sxs-lookup"><span data-stu-id="3f140-143">hello file is generated by hello Windows Azure Import/Export service and can be downloaded from hello blob storage associated with hello job.</span></span> <span data-ttu-id="3f140-144">Hello kopie protokolový soubor obsahuje informace o selhání objektů BLOB nebo soubory, které jsou toobe opravit.</span><span class="sxs-lookup"><span data-stu-id="3f140-144">hello copy log file contains information about failed blobs or files which are toobe repaired.</span></span>|  
|<span data-ttu-id="3f140-145">**/ PathMapFile:**< DrivePathMapFile\></span><span class="sxs-lookup"><span data-stu-id="3f140-145">**/PathMapFile:**<DrivePathMapFile\></span></span>|<span data-ttu-id="3f140-146">**Volitelný parametr.**</span><span class="sxs-lookup"><span data-stu-id="3f140-146">**Optional.**</span></span> <span data-ttu-id="3f140-147">Cesta tooa textový soubor, který lze použít tooresolve mnohoznačnosti, pokud máte víc souborů s hello stejný název, aby byly importu v hello stejnou úlohu.</span><span class="sxs-lookup"><span data-stu-id="3f140-147">Path tooa text file that can be used tooresolve ambiguities if you have multiple files with hello same name that you were importing in hello same job.</span></span> <span data-ttu-id="3f140-148">Hello první čas hello nástroj spouští, se může vyplnit tento soubor se všemi nejednoznačné názvy hello.</span><span class="sxs-lookup"><span data-stu-id="3f140-148">hello first time hello tool is run, it can populate this file with all of hello ambiguous names.</span></span> <span data-ttu-id="3f140-149">Při dalším spuštění nástroje hello použije tento soubor tooresolve hello nejednoznačnosti.</span><span class="sxs-lookup"><span data-stu-id="3f140-149">Subsequent runs of hello tool will use this file tooresolve hello ambiguities.</span></span>|  
  
## <a name="using-hello-repairimport-command"></a><span data-ttu-id="3f140-150">Pomocí příkazu RepairImport hello</span><span class="sxs-lookup"><span data-stu-id="3f140-150">Using hello RepairImport command</span></span>  
<span data-ttu-id="3f140-151">toorepair importovat data pomocí vysílání datového proudu hello data hello sítě, je nutné zadat hello hello adresáře, které obsahují hello původní soubory byly import pomocí `/d` parametr.</span><span class="sxs-lookup"><span data-stu-id="3f140-151">toorepair import data by streaming hello data over hello network, you must specify hello directories that contain hello original files you were importing using hello `/d` parameter.</span></span> <span data-ttu-id="3f140-152">Musíte také zadat hello kopie protokol, který jste stáhli z vašeho účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="3f140-152">You must also specify hello copy log file that you downloaded from your storage account.</span></span> <span data-ttu-id="3f140-153">Typické příkazového řádku toorepair úlohy importu s chybami částečné vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="3f140-153">A typical command line toorepair an import job with partial failures looks like:</span></span>  
  
```  
WAImportExport.exe RepairImport /r:C:\WAImportExport\9WM35C2V.rep /d:C:\Users\bob\Pictures;X:\BobBackup\photos /sn:bobmediaaccount /sk:VkGbrUqBWLYJ6zg1m29VOTrxpBgdNOlp+kp0C9MEdx3GELxmBw4hK94f7KysbbeKLDksg7VoN1W/a5UuM2zNgQ== /CopyLogFile:C:\WAImportExport\9WM35C2V.log  
```  
  
<span data-ttu-id="3f140-154">Hello tady je příklad kopírování souboru protokolu.</span><span class="sxs-lookup"><span data-stu-id="3f140-154">hello following is an example of a copy log file.</span></span> <span data-ttu-id="3f140-155">V tomto případě jednoho 64 tisíc část soubor byl poškozen na jednotce hello, která byla odeslaná úlohy importu hello.</span><span class="sxs-lookup"><span data-stu-id="3f140-155">In this case, one 64K piece of a file was corrupted on hello drive that was shipped for hello import job.</span></span> <span data-ttu-id="3f140-156">Protože se jedná pouze selhání hello uvedené, hello zbytek hello objektů BLOB v hello úlohy byly úspěšně importovány.</span><span class="sxs-lookup"><span data-stu-id="3f140-156">Since this is hello only failure indicated, hello rest of hello blobs in hello job were successfully imported.</span></span>  
  
```xml
<?xml version="1.0" encoding="utf-8"?>  
<DriveLog>  
 <DriveId>9WM35C2V</DriveId>  
 <Blob Status="CompletedWithErrors">  
 <BlobPath>pictures/animals/koala.jpg</BlobPath>  
 <FilePath>\animals\koala.jpg</FilePath>  
 <Length>163840</Length>  
 <ImportDisposition Status="Overwritten">overwrite</ImportDisposition>  
 <PageRangeList>  
  <PageRange Offset="65536" Length="65536" Hash="AA2585F6F6FD01C4AD4256E018240CD4" Status="Corrupted" />  
 </PageRangeList>  
 </Blob>  
 <Status>CompletedWithErrors</Status>  
</DriveLog>  
```
  
<span data-ttu-id="3f140-157">Když tento protokol kopie předána toohello nástroj Azure Import/Export, hello nástroj pokusí zkopírováním hello chybějící obsah v síti hello toofinish hello import tohoto souboru.</span><span class="sxs-lookup"><span data-stu-id="3f140-157">When this copy log is passed toohello Azure Import/Export Tool, hello tool will try toofinish hello import for this file by copying hello missing contents across hello network.</span></span> <span data-ttu-id="3f140-158">Následující příklad hello výše, bude nástroj hello hledat hello původní soubor `\animals\koala.jpg` v rámci hello dva adresáře `C:\Users\bob\Pictures` a `X:\BobBackup\photos`.</span><span class="sxs-lookup"><span data-stu-id="3f140-158">Following hello example above, hello tool will look for hello original file `\animals\koala.jpg` within hello two directories `C:\Users\bob\Pictures` and `X:\BobBackup\photos`.</span></span> <span data-ttu-id="3f140-159">Pokud hello souboru `C:\Users\bob\Pictures\animals\koala.jpg` existuje, hello nástroj Azure Import/Export zkopíruje hello chybějící rozsah datový objekt blob odpovídající toohello `http://bobmediaaccount.blob.core.windows.net/pictures/animals/koala.jpg`.</span><span class="sxs-lookup"><span data-stu-id="3f140-159">If hello file `C:\Users\bob\Pictures\animals\koala.jpg` exists, hello Azure Import/Export Tool will copy hello missing range of data toohello corresponding blob `http://bobmediaaccount.blob.core.windows.net/pictures/animals/koala.jpg`.</span></span>  
  
## <a name="resolving-conflicts-when-using-repairimport"></a><span data-ttu-id="3f140-160">Řešení konfliktů při použití RepairImport</span><span class="sxs-lookup"><span data-stu-id="3f140-160">Resolving conflicts when using RepairImport</span></span>  
<span data-ttu-id="3f140-161">V některých situacích hello nástroj nemusí být možné toofind nebo otevřete hello nezbytné soubor pro jednu z následujících důvodů hello: hello soubor nebyl nalezen, hello soubor není dostupný, název souboru hello je nejednoznačný nebo hello obsah souboru hello již není správný.</span><span class="sxs-lookup"><span data-stu-id="3f140-161">In some situations, hello tool may not be able toofind or open hello necessary file for one of hello following reasons: hello file could not be found, hello file is not accessible, hello file name is ambiguous, or hello content of hello file is no longer correct.</span></span>  
  
<span data-ttu-id="3f140-162">Nejednoznačné chybě může dojít, pokud nástroj hello se pokouší toolocate `\animals\koala.jpg` a existuje soubor s tímto názvem v obou `C:\Users\bob\pictures` a `X:\BobBackup\photos`.</span><span class="sxs-lookup"><span data-stu-id="3f140-162">An ambiguous error could occur if hello tool is trying toolocate `\animals\koala.jpg` and there is a file with that name under both `C:\Users\bob\pictures` and `X:\BobBackup\photos`.</span></span> <span data-ttu-id="3f140-163">To znamená i `C:\Users\bob\pictures\animals\koala.jpg` a `X:\BobBackup\photos\animals\koala.jpg` existovat na jednotkách úlohy importu hello.</span><span class="sxs-lookup"><span data-stu-id="3f140-163">That is, both `C:\Users\bob\pictures\animals\koala.jpg` and `X:\BobBackup\photos\animals\koala.jpg` exist on hello import job drives.</span></span>  
  
<span data-ttu-id="3f140-164">Hello `/PathMapFile` možnost povolit, tooresolve tyto chyby.</span><span class="sxs-lookup"><span data-stu-id="3f140-164">hello `/PathMapFile` option will allow you tooresolve these errors.</span></span> <span data-ttu-id="3f140-165">Můžete zadat název hello souboru hello, obsahující hello seznam souborů, které hello nástroj nebylo možné určit toocorrectly.</span><span class="sxs-lookup"><span data-stu-id="3f140-165">You can specify hello name of hello file which will contains hello list of files that hello tool was not able toocorrectly identify.</span></span> <span data-ttu-id="3f140-166">Hello následuje příklad příkazového řádku, na které by naplňuje `9WM35C2V_pathmap.txt`:</span><span class="sxs-lookup"><span data-stu-id="3f140-166">hello following is an example command line that would populate `9WM35C2V_pathmap.txt`:</span></span>  
  
```
WAImportExport.exe RepairImport /r:C:\WAImportExport\9WM35C2V.rep /d:C:\Users\bob\Pictures;X:\BobBackup\photos /sn:bobmediaaccount /sk:VkGbrUqBWLYJ6zg1m29VOTrxpBgdNOlp+kp0C9MEdx3GELxmBw4hK94f7KysbbeKLDksg7VoN1W/a5UuM2zNgQ== /CopyLogFile:C:\WAImportExport\9WM35C2V.log /PathMapFile:C:\WAImportExport\9WM35C2V_pathmap.txt  
```
  
<span data-ttu-id="3f140-167">Nástroj Hello pak zapíše hello problematické cesty příliš`9WM35C2V_pathmap.txt`, každou na jeden řádek.</span><span class="sxs-lookup"><span data-stu-id="3f140-167">hello tool will then write hello problematic file paths too`9WM35C2V_pathmap.txt`, one on each line.</span></span> <span data-ttu-id="3f140-168">Například může obsahovat soubor hello hello po spuštění příkazu hello následující položky:</span><span class="sxs-lookup"><span data-stu-id="3f140-168">For instance, hello file may contain hello following entries after running hello command:</span></span>  
 
```
\animals\koala.jpg  
\animals\kangaroo.jpg  
```
  
 <span data-ttu-id="3f140-169">Pro každý soubor v seznamu hello by měl pokusit toolocate a otevřete tooensure souboru hello je k dispozici toohello nástroj.</span><span class="sxs-lookup"><span data-stu-id="3f140-169">For each file in hello list, you should attempt toolocate and open hello file tooensure it is available toohello tool.</span></span> <span data-ttu-id="3f140-170">Pokud chcete nástroj hello tootell explicitně tam, kde můžete upravit toofind souboru, cesta hello mapování souboru a přidejte hello cesta tooeach soubor na hello stejném řádku, oddělených tabulátorem:</span><span class="sxs-lookup"><span data-stu-id="3f140-170">If you wish tootell hello tool explicitly where toofind a file, you can modify hello path map file and add hello path tooeach file on hello same line, separated by a tab character:</span></span>  
  
```
\animals\koala.jpg           C:\Users\bob\Pictures\animals\koala.jpg  
\animals\kangaroo.jpg        X:\BobBackup\photos\animals\kangaroo.jpg  
```
  
<span data-ttu-id="3f140-171">Po provedení hello potřebné soubory k dispozici toohello nástroje nebo aktualizace souboru s mapováním cesta hello můžete znovu spustit proces importu hello nástroj toocomplete hello.</span><span class="sxs-lookup"><span data-stu-id="3f140-171">After making hello necessary files available toohello tool, or updating hello path map file, you can rerun hello tool toocomplete hello import process.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="3f140-172">Další kroky</span><span class="sxs-lookup"><span data-stu-id="3f140-172">Next steps</span></span>
 
* [<span data-ttu-id="3f140-173">Hello nastavení se nástroj Azure Import/Export</span><span class="sxs-lookup"><span data-stu-id="3f140-173">Setting Up hello Azure Import/Export Tool</span></span>](storage-import-export-tool-setup-v1.md)   
* [<span data-ttu-id="3f140-174">Příprava pevných disků pro úlohu importu</span><span class="sxs-lookup"><span data-stu-id="3f140-174">Preparing hard drives for an import job</span></span>](storage-import-export-tool-preparing-hard-drives-import-v1.md)   
* [<span data-ttu-id="3f140-175">Kontrola stavu úlohy s použitím kopií souborů protokolu</span><span class="sxs-lookup"><span data-stu-id="3f140-175">Reviewing job status with copy log files</span></span>](storage-import-export-tool-reviewing-job-status-v1.md)   
* [<span data-ttu-id="3f140-176">Oprava úlohy exportu</span><span class="sxs-lookup"><span data-stu-id="3f140-176">Repairing an export job</span></span>](storage-import-export-tool-repairing-an-export-job-v1.md)   
* [<span data-ttu-id="3f140-177">Řešení potíží s hello nástroj Azure Import/Export</span><span class="sxs-lookup"><span data-stu-id="3f140-177">Troubleshooting hello Azure Import/Export Tool</span></span>](storage-import-export-tool-troubleshooting-v1.md)
