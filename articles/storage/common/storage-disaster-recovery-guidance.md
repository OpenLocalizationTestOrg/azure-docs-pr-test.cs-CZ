---
title: "aaaWhat toodo v události hello výpadku Azure Storage | Microsoft Docs"
description: "Jaké toodo v události hello výpadku Azure Storage"
services: storage
documentationcenter: .net
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 8f040b0f-8926-4831-ac07-79f646f31926
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 1/19/2017
ms.author: robinsh
ms.openlocfilehash: 93e1e831c35b96b8bf190fa2b56ab89350bbac13
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="what-toodo-if-an-azure-storage-outage-occurs"></a><span data-ttu-id="da5c0-103">Jaké toodo, když dojde k výpadku Azure Storage</span><span class="sxs-lookup"><span data-stu-id="da5c0-103">What toodo if an Azure Storage outage occurs</span></span>
<span data-ttu-id="da5c0-104">Ve společnosti Microsoft můžeme fungovat pevný toomake se, že našich služeb jsou vždy k dispozici.</span><span class="sxs-lookup"><span data-stu-id="da5c0-104">At Microsoft, we work hard toomake sure our services are always available.</span></span> <span data-ttu-id="da5c0-105">V některých případech vynutí nad rámec naše řízení dopad nám způsoby, které způsobit neplánované výpadky v jedné nebo více oblastech.</span><span class="sxs-lookup"><span data-stu-id="da5c0-105">Sometimes, forces beyond our control impact us in ways that cause unplanned service outages in one or more regions.</span></span> <span data-ttu-id="da5c0-106">toohelp zpracování těchto výjimečných výskytů, poskytujeme hello vysoké úrovně pokynů pro služby Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="da5c0-106">toohelp you handle these rare occurrences, we provide hello following high-level guidance for Azure Storage services.</span></span>

## <a name="how-tooprepare"></a><span data-ttu-id="da5c0-107">Jak tooprepare</span><span class="sxs-lookup"><span data-stu-id="da5c0-107">How tooprepare</span></span>
<span data-ttu-id="da5c0-108">Je důležité pro každý zákazník tooprepare vlastní plánu zotavení po havárii.</span><span class="sxs-lookup"><span data-stu-id="da5c0-108">It is critical for every customer tooprepare their own disaster recovery plan.</span></span> <span data-ttu-id="da5c0-109">Hello úsilí toorecover z úložiště výpadku obvykle zahrnuje operace pracovníky a automatizované postupy uvedené v pořadí tooreactivate aplikace ve stavu, funkční.</span><span class="sxs-lookup"><span data-stu-id="da5c0-109">hello effort toorecover from a storage outage typically involves both operations personnel and automated procedures in order tooreactivate your applications in a functioning state.</span></span> <span data-ttu-id="da5c0-110">Naleznete v dokumentaci k Azure pod toobuild toohello vlastního plánu zotavení po havárii:</span><span class="sxs-lookup"><span data-stu-id="da5c0-110">Please refer toohello Azure documentation below toobuild your own disaster recovery plan:</span></span>

* [<span data-ttu-id="da5c0-111">Zotavení po havárii a vysoká dostupnost pro aplikace Azure</span><span class="sxs-lookup"><span data-stu-id="da5c0-111">Disaster recovery and high availability for Azure applications</span></span>](/azure/architecture/resiliency/disaster-recovery-high-availability-azure-applications.md)
* [<span data-ttu-id="da5c0-112">Technické pokyny k odolnosti Azure</span><span class="sxs-lookup"><span data-stu-id="da5c0-112">Azure resiliency technical guidance</span></span>](/azure/architecture/resiliency.md)
* [<span data-ttu-id="da5c0-113">Služba Azure Site Recovery</span><span class="sxs-lookup"><span data-stu-id="da5c0-113">Azure Site Recovery service</span></span>](https://azure.microsoft.com/services/site-recovery/)
* [<span data-ttu-id="da5c0-114">Účet replikace Azure Storage</span><span class="sxs-lookup"><span data-stu-id="da5c0-114">Azure Storage replication</span></span>](storage-redundancy.md)
* [<span data-ttu-id="da5c0-115">Služba Azure Backup</span><span class="sxs-lookup"><span data-stu-id="da5c0-115">Azure Backup service</span></span>](https://azure.microsoft.com/services/backup/)

## <a name="how-toodetect"></a><span data-ttu-id="da5c0-116">Jak toodetect</span><span class="sxs-lookup"><span data-stu-id="da5c0-116">How toodetect</span></span>
<span data-ttu-id="da5c0-117">Hello doporučený způsob toodetermine hello stav služby Azure je toosubscribe toohello [řídicím panelu stavu služeb Azure](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="da5c0-117">hello recommended way toodetermine hello Azure service status is toosubscribe toohello [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

## <a name="what-toodo-if-a-storage-outage-occurs"></a><span data-ttu-id="da5c0-118">Jaké toodo, pokud dojde k výpadku úložiště</span><span class="sxs-lookup"><span data-stu-id="da5c0-118">What toodo if a Storage outage occurs</span></span>
<span data-ttu-id="da5c0-119">Pokud jeden nebo více služeb úložiště nejsou dostupné na jeden nebo více oblastí, existují dvě možnosti, můžete tooconsider.</span><span class="sxs-lookup"><span data-stu-id="da5c0-119">If one or more Storage services are temporarily unavailable at one or more regions, there are two options for you tooconsider.</span></span> <span data-ttu-id="da5c0-120">Pokud vyžadujete okamžitý přístup k datům tooyour, zvažte možnost 2.</span><span class="sxs-lookup"><span data-stu-id="da5c0-120">If you desire immediate access tooyour data, please consider Option 2.</span></span>

### <a name="option-1-wait-for-recovery"></a><span data-ttu-id="da5c0-121">Možnost 1: Počkejte obnovení</span><span class="sxs-lookup"><span data-stu-id="da5c0-121">Option 1: Wait for recovery</span></span>
<span data-ttu-id="da5c0-122">V takovém případě není třeba žádné akce z vaší strany.</span><span class="sxs-lookup"><span data-stu-id="da5c0-122">In this case, no action on your part is required.</span></span> <span data-ttu-id="da5c0-123">Pracujeme usilovně toorestore hello služba Azure dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="da5c0-123">We are working diligently toorestore hello Azure service availability.</span></span> <span data-ttu-id="da5c0-124">Můžete monitorovat stav služby hello na hello [řídicím panelu stavu služeb Azure](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="da5c0-124">You can monitor hello service status on hello [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

### <a name="option-2-copy-data-from-secondary"></a><span data-ttu-id="da5c0-125">Možnost 2: Kopírování dat z sekundární</span><span class="sxs-lookup"><span data-stu-id="da5c0-125">Option 2: Copy data from secondary</span></span>
<span data-ttu-id="da5c0-126">Pokud jste zvolili [geograficky redundantní úložiště s přístupem pro čtení (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (doporučeno) pro účty úložiště, bude mít přístup pro čtení tooyour data ze sekundární oblasti hello.</span><span class="sxs-lookup"><span data-stu-id="da5c0-126">If you chose [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended) for your storage accounts, you will have read access tooyour data from hello secondary region.</span></span> <span data-ttu-id="da5c0-127">Můžete použít nástroje, jako [AzCopy](storage-use-azcopy.md), [prostředí Azure PowerShell](storage-powershell-guide-full.md)a hello [knihovna pro přesun dat Azure](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/) toocopy data ze sekundární oblasti hello do jiný účet úložiště v unimpacted oblast a potom bodu úložiště toothat aplikace účet pro číst a zapisovat dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="da5c0-127">You can use tools such as [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), and hello [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/) toocopy data from hello secondary region into another storage account in an unimpacted region, and then point your applications toothat storage account for both read and write availability.</span></span>

## <a name="what-tooexpect-if-a-storage-failover-occurs"></a><span data-ttu-id="da5c0-128">Jaké tooexpect, pokud dojde k selhání úložiště</span><span class="sxs-lookup"><span data-stu-id="da5c0-128">What tooexpect if a Storage failover occurs</span></span>
<span data-ttu-id="da5c0-129">Pokud jste zvolili [geograficky redundantní úložiště (GRS)](storage-redundancy.md#geo-redundant-storage) nebo [geograficky redundantní úložiště s přístupem pro čtení (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (doporučeno), Azure Storage bude uchovávat data odolná v dvou oblastí (primární i sekundární).</span><span class="sxs-lookup"><span data-stu-id="da5c0-129">If you chose [Geo-redundant storage (GRS)](storage-redundancy.md#geo-redundant-storage) or [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended), Azure Storage will keep your data durable in two regions (primary and secondary).</span></span> <span data-ttu-id="da5c0-130">V obou oblastí Azure Storage neustále udržuje víc replik vaše data.</span><span class="sxs-lookup"><span data-stu-id="da5c0-130">In both regions, Azure Storage constantly maintains multiple replicas of your data.</span></span>

<span data-ttu-id="da5c0-131">Při místní po havárii ovlivní primární oblasti, nejprve pokusíme toorestore hello služby v této oblasti.</span><span class="sxs-lookup"><span data-stu-id="da5c0-131">When a regional disaster affects your primary region, we will first try toorestore hello service in that region.</span></span> <span data-ttu-id="da5c0-132">Závisí na povaze hello hello po havárii a jeho dopadů, v některých výjimečných případech jsme nemusí být možné toorestore hello primární oblasti.</span><span class="sxs-lookup"><span data-stu-id="da5c0-132">Dependent upon hello nature of hello disaster and its impacts, in some rare occasions we may not be able toorestore hello primary region.</span></span> <span data-ttu-id="da5c0-133">V tomto bodě provedeme geo-převzetí služeb při selhání.</span><span class="sxs-lookup"><span data-stu-id="da5c0-133">At that point, we will perform a geo-failover.</span></span> <span data-ttu-id="da5c0-134">replikace dat mezi oblastmi Hello je, že asynchronní proces, který zahrnuje zpoždění, takže je možné, že změny, které ještě nebyly replikované sekundární oblasti toohello mohou být ztracena.</span><span class="sxs-lookup"><span data-stu-id="da5c0-134">hello cross-region data replication is an asynchronous process which can involve a delay, so it is possible that changes that have not yet been replicated toohello secondary region may be lost.</span></span> <span data-ttu-id="da5c0-135">Můžete zadat dotaz hello ["Čas poslední synchronizace" svého účtu úložiště](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/) tooget podrobnosti o stavu replikace hello.</span><span class="sxs-lookup"><span data-stu-id="da5c0-135">You can query hello ["Last Sync Time" of your storage account](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/) tooget details on hello replication status.</span></span>

<span data-ttu-id="da5c0-136">Několik bodů týkající se možnosti geo-převzetí služeb při selhání úložiště hello:</span><span class="sxs-lookup"><span data-stu-id="da5c0-136">A couple of points regarding hello storage geo-failover experience:</span></span>

* <span data-ttu-id="da5c0-137">Úložiště geo převzetí aktivuje pouze hello tým Azure Storage – není vyžadována žádná akce zákazníka.</span><span class="sxs-lookup"><span data-stu-id="da5c0-137">Storage geo-failover will only be triggered by hello Azure Storage team – there is no customer action required.</span></span>
* <span data-ttu-id="da5c0-138">Existující službu úložiště, které koncové body pro objekty BLOB, tabulky, fronty a soubory zůstane stejný hello po převzetí služeb při selhání hello; Hello záznam DNS, bude nutné aktualizovat toobe tooswitch ze sekundární oblasti toohello hello primární oblasti.</span><span class="sxs-lookup"><span data-stu-id="da5c0-138">Your existing storage service endpoints for blobs, tables, queues, and files will remain hello same after hello failover; hello DNS entry will need toobe updated tooswitch from hello primary region toohello secondary region.</span></span>
* <span data-ttu-id="da5c0-139">Před a během hello geo selhání nebudete mít přístup pro zápis tooyour účet úložiště z důvodu toohello dopad po havárii hello ale můžete pořád číst z hello sekundární Pokud váš účet úložiště byl nakonfigurován jako RA-GRS.</span><span class="sxs-lookup"><span data-stu-id="da5c0-139">Before and during hello geo-failover, you won't have write access tooyour storage account due toohello impact of hello disaster but you can still read from hello secondary if your storage account has been configured as RA-GRS.</span></span>
* <span data-ttu-id="da5c0-140">Když hello geo převzetí byla dokončena a hello rozšíří změny DNS, bude obnoveno účet úložiště tooyour oprávnění ke čtení a zápisu; To ukazuje toobe toowhat používá sekundární koncový bod.</span><span class="sxs-lookup"><span data-stu-id="da5c0-140">When hello geo-failover has been completed and hello DNS changes propagated, read and write access tooyour storage account will be resumed; this points toowhat used toobe your secondary endpoint.</span></span> 
* <span data-ttu-id="da5c0-141">Všimněte si, že pokud máte GRS nebo RA-GRS nakonfigurované pro účet úložiště hello budete mít přístup pro zápis.</span><span class="sxs-lookup"><span data-stu-id="da5c0-141">Note that you will have write access if you have GRS or RA-GRS configured for hello storage account.</span></span> 
* <span data-ttu-id="da5c0-142">Můžete zadat dotaz ["Geograficky převzetí služeb při selhání čas poslední" svého účtu úložiště](https://msdn.microsoft.com/library/azure/ee460802.aspx) tooget více podrobností.</span><span class="sxs-lookup"><span data-stu-id="da5c0-142">You can query ["Last Geo Failover Time" of your storage account](https://msdn.microsoft.com/library/azure/ee460802.aspx) tooget more details.</span></span>
* <span data-ttu-id="da5c0-143">Po převzetí služeb při selhání hello účtu úložiště bude být plně funkční, ale stav "sníženou", protože je ve skutečnosti hostované v samostatné oblasti s žádné možné geografická replikace.</span><span class="sxs-lookup"><span data-stu-id="da5c0-143">After hello failover, your storage account will be fully functioning, but in a "degraded" status, as it is actually hosted in a standalone region with no geo-replication possible.</span></span> <span data-ttu-id="da5c0-144">toomitigate toto riziko, obnovíme hello původní primární oblasti a pak proveďte geo-navrácení služeb po obnovení toorestore hello původního stavu.</span><span class="sxs-lookup"><span data-stu-id="da5c0-144">toomitigate this risk, we will restore hello original primary region and then do a geo-failback toorestore hello original state.</span></span> <span data-ttu-id="da5c0-145">Pokud je původní primární oblasti hello Neopravitelná, jsme se přidělit jiné sekundární oblasti.</span><span class="sxs-lookup"><span data-stu-id="da5c0-145">If hello original primary region is unrecoverable, we will allocate another secondary region.</span></span>
  <span data-ttu-id="da5c0-146">Další informace o hello infrastruktury geografická replikace Azure Storage, naleznete v toohello článek na blogu týmu úložiště hello o [možnosti redundance a RA-GRS](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span><span class="sxs-lookup"><span data-stu-id="da5c0-146">For more details on hello infrastructure of Azure Storage geo replication, please refer toohello article on hello Storage team blog about [Redundancy Options and RA-GRS](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span></span>

## <a name="best-practices-for-protecting-your-data"></a><span data-ttu-id="da5c0-147">Osvědčené postupy pro ochranu dat</span><span class="sxs-lookup"><span data-stu-id="da5c0-147">Best Practices for protecting your data</span></span>
<span data-ttu-id="da5c0-148">Existují některé doporučené přístupy tooback úložiště dat v pravidelných intervalech.</span><span class="sxs-lookup"><span data-stu-id="da5c0-148">There are some recommended approaches tooback up your storage data on a regular basis.</span></span>

* <span data-ttu-id="da5c0-149">Disky virtuálních počítačů – použití hello [služby Azure Backup](https://azure.microsoft.com/services/backup/) tooback disky virtuálních počítačů hello používá virtuální počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="da5c0-149">VM Disks – Use hello [Azure Backup service](https://azure.microsoft.com/services/backup/) tooback up hello VM disks used by your Azure virtual machines.</span></span>
* <span data-ttu-id="da5c0-150">Objekty BLOB bloku – vytvořit [snímku](https://msdn.microsoft.com/library/azure/hh488361.aspx) každý objekt blob bloku nebo zkopírujte účet úložiště tooanother hello objekty BLOB v jiné oblasti pomocí [AzCopy](storage-use-azcopy.md), [prostředí Azure PowerShell](storage-powershell-guide-full.md), nebo hello [ Knihovna Azure přesun dat](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/).</span><span class="sxs-lookup"><span data-stu-id="da5c0-150">Block blobs –Create a [snapshot](https://msdn.microsoft.com/library/azure/hh488361.aspx) of each block blob, or copy hello blobs tooanother storage account in another region using [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), or hello [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/).</span></span>
* <span data-ttu-id="da5c0-151">Pomocí tabulky – [AzCopy](storage-use-azcopy.md) tooexport hello tabulky dat na jiný účet úložiště v jiné oblasti.</span><span class="sxs-lookup"><span data-stu-id="da5c0-151">Tables – use [AzCopy](storage-use-azcopy.md) tooexport hello table data into another storage account in another region.</span></span>
* <span data-ttu-id="da5c0-152">Použít soubory – [AzCopy](storage-use-azcopy.md) nebo [prostředí Azure PowerShell](storage-powershell-guide-full.md) toocopy tooanother úložiště souborů účet v jiné oblasti.</span><span class="sxs-lookup"><span data-stu-id="da5c0-152">Files – use [AzCopy](storage-use-azcopy.md) or [Azure PowerShell](storage-powershell-guide-full.md) toocopy your files tooanother storage account in another region.</span></span>

<span data-ttu-id="da5c0-153">Informace o vytváření aplikací, které plně využít výhod funkce hello RA-GRS, najdete v článku [navrhování vysoce dostupné aplikace pomocí RA-GRS úložiště](../storage-designing-ha-apps-with-ragrs.md)</span><span class="sxs-lookup"><span data-stu-id="da5c0-153">For information about creating applications that take full advantage of hello RA-GRS feature, please check out [Designing Highly Available Applications using RA-GRS Storage](../storage-designing-ha-apps-with-ragrs.md)</span></span>

