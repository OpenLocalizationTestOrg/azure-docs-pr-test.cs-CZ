---
title: "Azure Storage výkon a škálovatelnost kontrolní seznam | Microsoft Docs"
description: "Kontrolní seznam osvědčené postupy pro použití s Azure Storage při vývoji aplikací původce."
services: storage
documentationcenter: 
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 959d831b-a4fd-4634-a646-0d2c0c462ef8
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 12/08/2016
ms.author: robinsh
ms.openlocfilehash: d2683bf9a2833485467bf2b4edff527876102f7d
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="microsoft-azure-storage-performance-and-scalability-checklist"></a><span data-ttu-id="88c08-103">Kontrolní seznam pro výkon a škálovatelnost Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="88c08-103">Microsoft Azure Storage Performance and Scalability Checklist</span></span>
## <a name="overview"></a><span data-ttu-id="88c08-104">Přehled</span><span class="sxs-lookup"><span data-stu-id="88c08-104">Overview</span></span>
<span data-ttu-id="88c08-105">Od vydání služby Microsoft Azure Storage společnost Microsoft vyvinula počet osvědčené postupy pro použití těchto služeb způsobem původce a tento článek slouží pro konsolidaci nejdůležitější z nich v seznamu kontrolní seznam ve stylu.</span><span class="sxs-lookup"><span data-stu-id="88c08-105">Since the release of the Microsoft Azure Storage services, Microsoft has developed a number of proven practices for using these services in a performant manner, and this article serves to consolidate the most important of them into a checklist-style list.</span></span> <span data-ttu-id="88c08-106">Záměr tohoto článku je, což vývojářům aplikací, ověřte, zda že používají osvědčené postupy s Azure Storage a aby jim pomohl identifikovat ostatní osvědčené postupy zvažte přijetí.</span><span class="sxs-lookup"><span data-stu-id="88c08-106">The intention of this article is to help application developers verify they are using proven practices with Azure Storage and to help them identify other proven practices they should consider adopting.</span></span> <span data-ttu-id="88c08-107">Tento článek se nepokusí nepokrývají všechny možné optimalizace výkonu a škálovatelnosti – se vyloučí ty, které jsou v jejich dopad malé nebo široce neplatí.</span><span class="sxs-lookup"><span data-stu-id="88c08-107">This article does not attempt to cover every possible performance and scalability optimization — it excludes those that are small in their impact or not broadly applicable.</span></span> <span data-ttu-id="88c08-108">V rozsahu, který můžete předpovědět chování aplikace při návrhu, je vhodné ponechat v paměti již v rané fázi na, aby se zabránilo návrhů, které se spustí do problémy s výkonem.</span><span class="sxs-lookup"><span data-stu-id="88c08-108">To the extent that the application's behavior can be predicted during design, it's useful to keep these in mind early on to avoid designs that will run into performance problems.</span></span>  

<span data-ttu-id="88c08-109">Každý vývojář aplikace pomocí Azure Storage má čekat na přečtěte si tento článek a zkontrolujte, že své aplikace dodržovat všechny osvědčené postupy uvedené níže.</span><span class="sxs-lookup"><span data-stu-id="88c08-109">Every application developer using Azure Storage should take the time to read this article, and check that his or her application follows each of the proven practices listed below.</span></span>  

## <a name="checklist"></a><span data-ttu-id="88c08-110">Kontrolní seznam</span><span class="sxs-lookup"><span data-stu-id="88c08-110">Checklist</span></span>
<span data-ttu-id="88c08-111">Tento článek slouží k uspořádání osvědčené postupy do následujících skupin.</span><span class="sxs-lookup"><span data-stu-id="88c08-111">This article organizes the proven practices into the following groups.</span></span> <span data-ttu-id="88c08-112">Osvědčené postupy platí pro:</span><span class="sxs-lookup"><span data-stu-id="88c08-112">Proven practices applicable to:</span></span>  

* <span data-ttu-id="88c08-113">Všechny služby Azure Storage (objekty BLOB, tabulky, fronty a soubory)</span><span class="sxs-lookup"><span data-stu-id="88c08-113">All Azure Storage services (blobs, tables, queues, and files)</span></span>
* <span data-ttu-id="88c08-114">Objekty blob</span><span class="sxs-lookup"><span data-stu-id="88c08-114">Blobs</span></span>
* <span data-ttu-id="88c08-115">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-115">Tables</span></span>
* <span data-ttu-id="88c08-116">Fronty</span><span class="sxs-lookup"><span data-stu-id="88c08-116">Queues</span></span>  

| <span data-ttu-id="88c08-117">Hotovo</span><span class="sxs-lookup"><span data-stu-id="88c08-117">Done</span></span> | <span data-ttu-id="88c08-118">Oblast</span><span class="sxs-lookup"><span data-stu-id="88c08-118">Area</span></span> | <span data-ttu-id="88c08-119">Kategorie</span><span class="sxs-lookup"><span data-stu-id="88c08-119">Category</span></span> | <span data-ttu-id="88c08-120">Otázky</span><span class="sxs-lookup"><span data-stu-id="88c08-120">Question</span></span> |
| --- | --- | --- | --- |
| &nbsp; | <span data-ttu-id="88c08-121">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-121">All Services</span></span> |<span data-ttu-id="88c08-122">Cíle škálovatelnosti</span><span class="sxs-lookup"><span data-stu-id="88c08-122">Scalability Targets</span></span> |[<span data-ttu-id="88c08-123">Je vaše aplikace tak, aby zabránilo blíží cíle škálovatelnosti?</span><span class="sxs-lookup"><span data-stu-id="88c08-123">Is your application designed to avoid approaching the scalability targets?</span></span>](#subheading1) |
| &nbsp; | <span data-ttu-id="88c08-124">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-124">All Services</span></span> |<span data-ttu-id="88c08-125">Cíle škálovatelnosti</span><span class="sxs-lookup"><span data-stu-id="88c08-125">Scalability Targets</span></span> |[<span data-ttu-id="88c08-126">Zásady vytváření názvů umožňuje lepší vyrovnávání zatížení?</span><span class="sxs-lookup"><span data-stu-id="88c08-126">Is your naming convention designed to enable better load-balancing?</span></span>](#subheading47) |
| &nbsp; | <span data-ttu-id="88c08-127">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-127">All Services</span></span> |<span data-ttu-id="88c08-128">Sítě</span><span class="sxs-lookup"><span data-stu-id="88c08-128">Networking</span></span> |[<span data-ttu-id="88c08-129">Mají klientské straně zařízení dostatečně velkou šířku pásma a nízkou latencí k dosažení výkonu potřeba?</span><span class="sxs-lookup"><span data-stu-id="88c08-129">Do client side devices have sufficiently high bandwidth and low latency to achieve the performance needed?</span></span>](#subheading2) |
| &nbsp; | <span data-ttu-id="88c08-130">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-130">All Services</span></span> |<span data-ttu-id="88c08-131">Sítě</span><span class="sxs-lookup"><span data-stu-id="88c08-131">Networking</span></span> |[<span data-ttu-id="88c08-132">Mají klientských zařízení straně odkaz dostatečně vysoký kvality?</span><span class="sxs-lookup"><span data-stu-id="88c08-132">Do client side devices have a high enough quality link?</span></span>](#subheading3) |
| &nbsp; | <span data-ttu-id="88c08-133">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-133">All Services</span></span> |<span data-ttu-id="88c08-134">Sítě</span><span class="sxs-lookup"><span data-stu-id="88c08-134">Networking</span></span> |[<span data-ttu-id="88c08-135">Klientská aplikace vedle "" účet úložiště?</span><span class="sxs-lookup"><span data-stu-id="88c08-135">Is the client application located "near" the storage account?</span></span>](#subheading4) |
| &nbsp; | <span data-ttu-id="88c08-136">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-136">All Services</span></span> |<span data-ttu-id="88c08-137">Distribuce obsahu</span><span class="sxs-lookup"><span data-stu-id="88c08-137">Content Distribution</span></span> |[<span data-ttu-id="88c08-138">Používáte název CDN pro distribuci obsahu?</span><span class="sxs-lookup"><span data-stu-id="88c08-138">Are you using a CDN for content distribution?</span></span>](#subheading5) |
| &nbsp; | <span data-ttu-id="88c08-139">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-139">All Services</span></span> |<span data-ttu-id="88c08-140">Přímý přístup do klienta</span><span class="sxs-lookup"><span data-stu-id="88c08-140">Direct Client Access</span></span> |[<span data-ttu-id="88c08-141">Používáte umožňující přímý přístup k úložišti místo proxy SAS a CORS?</span><span class="sxs-lookup"><span data-stu-id="88c08-141">Are you using SAS and CORS to allow direct access to storage instead of proxy?</span></span>](#subheading6) |
| &nbsp; | <span data-ttu-id="88c08-142">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-142">All Services</span></span> |<span data-ttu-id="88c08-143">Ukládání do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="88c08-143">Caching</span></span> |[<span data-ttu-id="88c08-144">Ukládání do mezipaměti data aplikací, který se používá opakovaně a změny je málokdy?</span><span class="sxs-lookup"><span data-stu-id="88c08-144">Is your application caching data that is repeatedly used and changes rarely?</span></span>](#subheading7) |
| &nbsp; | <span data-ttu-id="88c08-145">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-145">All Services</span></span> |<span data-ttu-id="88c08-146">Ukládání do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="88c08-146">Caching</span></span> |[<span data-ttu-id="88c08-147">Je vaše aplikace dávkování aktualizace (je do mezipaměti na straně klienta a pak odesílání větší sad)?</span><span class="sxs-lookup"><span data-stu-id="88c08-147">Is your application batching updates (caching them client side and then uploading in larger sets)?</span></span>](#subheading8) |
| &nbsp; | <span data-ttu-id="88c08-148">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-148">All Services</span></span> |<span data-ttu-id="88c08-149">Konfigurace rozhraní .NET</span><span class="sxs-lookup"><span data-stu-id="88c08-149">.NET Configuration</span></span> |[<span data-ttu-id="88c08-150">Nakonfigurovali jste vašeho klienta používat dostatečný počet souběžných připojení?</span><span class="sxs-lookup"><span data-stu-id="88c08-150">Have you configured your client to use a sufficient number of concurrent connections?</span></span>](#subheading9) |
| &nbsp; | <span data-ttu-id="88c08-151">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-151">All Services</span></span> |<span data-ttu-id="88c08-152">Konfigurace rozhraní .NET</span><span class="sxs-lookup"><span data-stu-id="88c08-152">.NET Configuration</span></span> |[<span data-ttu-id="88c08-153">Nakonfigurovali jste .NET použít dostatečný počet vláken?</span><span class="sxs-lookup"><span data-stu-id="88c08-153">Have you configured .NET to use a sufficient number of threads?</span></span>](#subheading10) |
| &nbsp; | <span data-ttu-id="88c08-154">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-154">All Services</span></span> |<span data-ttu-id="88c08-155">Konfigurace rozhraní .NET</span><span class="sxs-lookup"><span data-stu-id="88c08-155">.NET Configuration</span></span> |[<span data-ttu-id="88c08-156">Používáte rozhraní .NET 4.5 nebo novější, který je vylepšený uvolňování paměti?</span><span class="sxs-lookup"><span data-stu-id="88c08-156">Are you using .NET 4.5 or later, which has improved garbage collection?</span></span>](#subheading11) |
| &nbsp; | <span data-ttu-id="88c08-157">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-157">All Services</span></span> |<span data-ttu-id="88c08-158">Paralelismus</span><span class="sxs-lookup"><span data-stu-id="88c08-158">Parallelism</span></span> |[<span data-ttu-id="88c08-159">Můžete zajistily paralelismus je tak, že nemáte přetížení klientské možnosti nebo cíle škálovatelnosti ohraničenou správně?</span><span class="sxs-lookup"><span data-stu-id="88c08-159">Have you ensured that parallelism is bounded appropriately so that you don't overload either your client capabilities or the scalability targets?</span></span>](#subheading12) |
| &nbsp; | <span data-ttu-id="88c08-160">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-160">All Services</span></span> |<span data-ttu-id="88c08-161">Nástroje</span><span class="sxs-lookup"><span data-stu-id="88c08-161">Tools</span></span> |[<span data-ttu-id="88c08-162">Používáte nejnovější verzi Microsoft klientské knihovny a nástroje jsou poskytovat?</span><span class="sxs-lookup"><span data-stu-id="88c08-162">Are you using the latest version of Microsoft provided client libraries and tools?</span></span>](#subheading13) |
| &nbsp; | <span data-ttu-id="88c08-163">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-163">All Services</span></span> |<span data-ttu-id="88c08-164">Opakování</span><span class="sxs-lookup"><span data-stu-id="88c08-164">Retries</span></span> |[<span data-ttu-id="88c08-165">Se, že používáte exponenciálního omezení rychlosti zásady omezení chyb a vypršení časových limitů opakování?</span><span class="sxs-lookup"><span data-stu-id="88c08-165">Are you using an exponential backoff retry policy for throttling errors and timeouts?</span></span>](#subheading14) |
| &nbsp; | <span data-ttu-id="88c08-166">Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-166">All Services</span></span> |<span data-ttu-id="88c08-167">Opakování</span><span class="sxs-lookup"><span data-stu-id="88c08-167">Retries</span></span> |[<span data-ttu-id="88c08-168">Je vaše aplikace vyhněte opakování neopakovatelné chyby?</span><span class="sxs-lookup"><span data-stu-id="88c08-168">Is your application avoiding retries for non-retryable errors?</span></span>](#subheading15) |
| &nbsp; | <span data-ttu-id="88c08-169">Objekty blob</span><span class="sxs-lookup"><span data-stu-id="88c08-169">Blobs</span></span> |<span data-ttu-id="88c08-170">Cíle škálovatelnosti</span><span class="sxs-lookup"><span data-stu-id="88c08-170">Scalability Targets</span></span> |[<span data-ttu-id="88c08-171">Máte velký počet klientům přístup k jednoho objektu současně?</span><span class="sxs-lookup"><span data-stu-id="88c08-171">Do you have a large number of clients accessing a single object concurrently?</span></span>](#subheading46) |
| &nbsp; | <span data-ttu-id="88c08-172">Objekty blob</span><span class="sxs-lookup"><span data-stu-id="88c08-172">Blobs</span></span> |<span data-ttu-id="88c08-173">Cíle škálovatelnosti</span><span class="sxs-lookup"><span data-stu-id="88c08-173">Scalability Targets</span></span> |[<span data-ttu-id="88c08-174">Vaše aplikace nepřekročili cíle škálovatelnosti šířky pásma nebo operací pro jediného objektu blob?</span><span class="sxs-lookup"><span data-stu-id="88c08-174">Is your application staying within the bandwidth or operations scalability target for a single blob?</span></span>](#subheading16) |
| &nbsp; | <span data-ttu-id="88c08-175">Objekty blob</span><span class="sxs-lookup"><span data-stu-id="88c08-175">Blobs</span></span> |<span data-ttu-id="88c08-176">Kopírování objektů BLOB</span><span class="sxs-lookup"><span data-stu-id="88c08-176">Copying Blobs</span></span> |[<span data-ttu-id="88c08-177">Můžete kopírování objekty BLOB jsou účinným způsobem?</span><span class="sxs-lookup"><span data-stu-id="88c08-177">Are you copying blobs in an efficient manner?</span></span>](#subheading17) |
| &nbsp; | <span data-ttu-id="88c08-178">Objekty blob</span><span class="sxs-lookup"><span data-stu-id="88c08-178">Blobs</span></span> |<span data-ttu-id="88c08-179">Kopírování objektů BLOB</span><span class="sxs-lookup"><span data-stu-id="88c08-179">Copying Blobs</span></span> |[<span data-ttu-id="88c08-180">Používáte pro hromadné kopie objektů BLOB AzCopy?</span><span class="sxs-lookup"><span data-stu-id="88c08-180">Are you using AzCopy for bulk copies of blobs?</span></span>](#subheading18) |
| &nbsp; | <span data-ttu-id="88c08-181">Objekty blob</span><span class="sxs-lookup"><span data-stu-id="88c08-181">Blobs</span></span> |<span data-ttu-id="88c08-182">Kopírování objektů BLOB</span><span class="sxs-lookup"><span data-stu-id="88c08-182">Copying Blobs</span></span> |[<span data-ttu-id="88c08-183">Používáte Azure Import/Export pro přenos velmi velkých objemů dat?</span><span class="sxs-lookup"><span data-stu-id="88c08-183">Are you using Azure Import/Export to transfer very large volumes of data?</span></span>](#subheading19) |
| &nbsp; | <span data-ttu-id="88c08-184">Objekty blob</span><span class="sxs-lookup"><span data-stu-id="88c08-184">Blobs</span></span> |<span data-ttu-id="88c08-185">Používání metadat</span><span class="sxs-lookup"><span data-stu-id="88c08-185">Use Metadata</span></span> |[<span data-ttu-id="88c08-186">Jsou ukládání často používaných metadata o objekty BLOB v jejich metadatech?</span><span class="sxs-lookup"><span data-stu-id="88c08-186">Are you storing frequently used metadata about blobs in their metadata?</span></span>](#subheading20) |
| &nbsp; | <span data-ttu-id="88c08-187">Objekty blob</span><span class="sxs-lookup"><span data-stu-id="88c08-187">Blobs</span></span> |<span data-ttu-id="88c08-188">Rychlé nahrávání</span><span class="sxs-lookup"><span data-stu-id="88c08-188">Uploading Fast</span></span> |[<span data-ttu-id="88c08-189">Při pokusu nahrát objekt blob jeden rychle, jsou nahrávání bloky paralelně?</span><span class="sxs-lookup"><span data-stu-id="88c08-189">When trying to upload one blob quickly, are you uploading blocks in parallel?</span></span>](#subheading21) |
| &nbsp; | <span data-ttu-id="88c08-190">Objekty blob</span><span class="sxs-lookup"><span data-stu-id="88c08-190">Blobs</span></span> |<span data-ttu-id="88c08-191">Rychlé nahrávání</span><span class="sxs-lookup"><span data-stu-id="88c08-191">Uploading Fast</span></span> |[<span data-ttu-id="88c08-192">Při pokusu o odeslání mnoho objektů BLOB rychle, jsou nahrávání objekty BLOB paralelně?</span><span class="sxs-lookup"><span data-stu-id="88c08-192">When trying to upload many blobs quickly, are you uploading blobs in parallel?</span></span>](#subheading22) |
| &nbsp; | <span data-ttu-id="88c08-193">Objekty blob</span><span class="sxs-lookup"><span data-stu-id="88c08-193">Blobs</span></span> |<span data-ttu-id="88c08-194">Opravte typu Blob</span><span class="sxs-lookup"><span data-stu-id="88c08-194">Correct Blob Type</span></span> |[<span data-ttu-id="88c08-195">Používáte objekty BLOB stránky nebo objekty BLOB bloku v případě nutnosti?</span><span class="sxs-lookup"><span data-stu-id="88c08-195">Are you using page blobs or block blobs when appropriate?</span></span>](#subheading23) |
| &nbsp; | <span data-ttu-id="88c08-196">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-196">Tables</span></span> |<span data-ttu-id="88c08-197">Cíle škálovatelnosti</span><span class="sxs-lookup"><span data-stu-id="88c08-197">Scalability Targets</span></span> |[<span data-ttu-id="88c08-198">Blíží jsou cíle škálovatelnosti pro entity za sekundu?</span><span class="sxs-lookup"><span data-stu-id="88c08-198">Are you approaching the scalability targets for entities per second?</span></span>](#subheading24) |
| &nbsp; | <span data-ttu-id="88c08-199">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-199">Tables</span></span> |<span data-ttu-id="88c08-200">Konfigurace</span><span class="sxs-lookup"><span data-stu-id="88c08-200">Configuration</span></span> |[<span data-ttu-id="88c08-201">Používáte JSON pro své žádosti tabulky?</span><span class="sxs-lookup"><span data-stu-id="88c08-201">Are you using JSON for your table requests?</span></span>](#subheading25) |
| &nbsp; | <span data-ttu-id="88c08-202">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-202">Tables</span></span> |<span data-ttu-id="88c08-203">Konfigurace</span><span class="sxs-lookup"><span data-stu-id="88c08-203">Configuration</span></span> |[<span data-ttu-id="88c08-204">Jste vypnuli Nagle ke zlepšení výkonu malé požadavků?</span><span class="sxs-lookup"><span data-stu-id="88c08-204">Have you turned Nagle off to improve the performance of small requests?</span></span>](#subheading26) |
| &nbsp; | <span data-ttu-id="88c08-205">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-205">Tables</span></span> |<span data-ttu-id="88c08-206">Tabulky a oddíly</span><span class="sxs-lookup"><span data-stu-id="88c08-206">Tables and Partitions</span></span> |[<span data-ttu-id="88c08-207">Mít jste správně rozdělena na oddíly svá data?</span><span class="sxs-lookup"><span data-stu-id="88c08-207">Have you properly partitioned your data?</span></span>](#subheading27) |
| &nbsp; | <span data-ttu-id="88c08-208">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-208">Tables</span></span> |<span data-ttu-id="88c08-209">Aktivní oddíly</span><span class="sxs-lookup"><span data-stu-id="88c08-209">Hot Partitions</span></span> |[<span data-ttu-id="88c08-210">Zamezení jsou pouze připojení a jen předřazení vzory?</span><span class="sxs-lookup"><span data-stu-id="88c08-210">Are you avoiding append-only and prepend-only patterns?</span></span>](#subheading28) |
| &nbsp; | <span data-ttu-id="88c08-211">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-211">Tables</span></span> |<span data-ttu-id="88c08-212">Aktivní oddíly</span><span class="sxs-lookup"><span data-stu-id="88c08-212">Hot Partitions</span></span> |[<span data-ttu-id="88c08-213">Jsou mnoha oddílů rozloženy vložení nebo aktualizace?</span><span class="sxs-lookup"><span data-stu-id="88c08-213">Are your inserts/updates spread across many partitions?</span></span>](#subheading29) |
| &nbsp; | <span data-ttu-id="88c08-214">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-214">Tables</span></span> |<span data-ttu-id="88c08-215">Obor dotazu</span><span class="sxs-lookup"><span data-stu-id="88c08-215">Query Scope</span></span> |[<span data-ttu-id="88c08-216">Byly navrženy schéma umožňující bodu dotazy pro použití ve většině případů a tabulky má být použit pouze?</span><span class="sxs-lookup"><span data-stu-id="88c08-216">Have you designed your schema to allow for point queries to be used in most cases, and table queries to be used sparingly?</span></span>](#subheading30) |
| &nbsp; | <span data-ttu-id="88c08-217">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-217">Tables</span></span> |<span data-ttu-id="88c08-218">Hustotu dotazu</span><span class="sxs-lookup"><span data-stu-id="88c08-218">Query Density</span></span> |[<span data-ttu-id="88c08-219">Proveďte kontrolu obvykle pouze vaše dotazy a vrátí řádky, které vaše aplikace bude používat?</span><span class="sxs-lookup"><span data-stu-id="88c08-219">Do your queries typically only scan and return rows that your application will use?</span></span>](#subheading31) |
| &nbsp; | <span data-ttu-id="88c08-220">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-220">Tables</span></span> |<span data-ttu-id="88c08-221">Omezení vrácená Data</span><span class="sxs-lookup"><span data-stu-id="88c08-221">Limiting Returned Data</span></span> |[<span data-ttu-id="88c08-222">Používáte filtrování předejdete vrací entity, které nejsou potřebné?</span><span class="sxs-lookup"><span data-stu-id="88c08-222">Are you using filtering to avoid returning entities that are not needed?</span></span>](#subheading32) |
| &nbsp; | <span data-ttu-id="88c08-223">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-223">Tables</span></span> |<span data-ttu-id="88c08-224">Omezení vrácená Data</span><span class="sxs-lookup"><span data-stu-id="88c08-224">Limiting Returned Data</span></span> |[<span data-ttu-id="88c08-225">Aby se zabránilo vracení vlastností, které nejsou potřebné použít projekce?</span><span class="sxs-lookup"><span data-stu-id="88c08-225">Are you using projection to avoid returning properties that are not needed?</span></span>](#subheading33) |
| &nbsp; | <span data-ttu-id="88c08-226">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-226">Tables</span></span> |<span data-ttu-id="88c08-227">Denormalization</span><span class="sxs-lookup"><span data-stu-id="88c08-227">Denormalization</span></span> |[<span data-ttu-id="88c08-228">Máte tak, aby se vyhnout neefektivní dotazy nebo víc požadavků na čtení, při pokusu o získání dat nenormalizovanou svá data?</span><span class="sxs-lookup"><span data-stu-id="88c08-228">Have you denormalized your data such that you avoid inefficient queries or multiple read requests when trying to get data?</span></span>](#subheading34) |
| &nbsp; | <span data-ttu-id="88c08-229">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-229">Tables</span></span> |<span data-ttu-id="88c08-230">Vložení, aktualizaci nebo odstranění</span><span class="sxs-lookup"><span data-stu-id="88c08-230">Insert/Update/Delete</span></span> |[<span data-ttu-id="88c08-231">Jsou můžete dávkování požadavky, které je potřeba mít transakcí, nebo můžete provést ve stejnou dobu ke snížení odezvy?</span><span class="sxs-lookup"><span data-stu-id="88c08-231">Are you batching requests that need to be transactional or can be done at the same time to reduce round-trips?</span></span>](#subheading35) |
| &nbsp; | <span data-ttu-id="88c08-232">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-232">Tables</span></span> |<span data-ttu-id="88c08-233">Vložení, aktualizaci nebo odstranění</span><span class="sxs-lookup"><span data-stu-id="88c08-233">Insert/Update/Delete</span></span> |[<span data-ttu-id="88c08-234">Se můžete vyhnout, načítání entity jenom k určení, zda volání vložení nebo aktualizace?</span><span class="sxs-lookup"><span data-stu-id="88c08-234">Are you avoiding retrieving an entity just to determine whether to call insert or update?</span></span>](#subheading36) |
| &nbsp; | <span data-ttu-id="88c08-235">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-235">Tables</span></span> |<span data-ttu-id="88c08-236">Vložení, aktualizaci nebo odstranění</span><span class="sxs-lookup"><span data-stu-id="88c08-236">Insert/Update/Delete</span></span> |[<span data-ttu-id="88c08-237">Zvážení ukládání řadu data, která bude často načten společně v jedné entity jako vlastnosti místo více entit</span><span class="sxs-lookup"><span data-stu-id="88c08-237">Have you considered storing series of data that will frequently be retrieved together in a single entity as properties instead of multiple entities?</span></span>](#subheading37) |
| &nbsp; | <span data-ttu-id="88c08-238">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-238">Tables</span></span> |<span data-ttu-id="88c08-239">Vložení, aktualizaci nebo odstranění</span><span class="sxs-lookup"><span data-stu-id="88c08-239">Insert/Update/Delete</span></span> |[<span data-ttu-id="88c08-240">Pro entity, které budou načteny vždy společně a může být napsán v dávkách (například časové řady data) ke zvážení použití objektů BLOB místo tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-240">For entities that will always be retrieved together and can be written in batches (e.g. time series data), have you considered using blobs instead of tables?</span></span>](#subheading38) |
| &nbsp; | <span data-ttu-id="88c08-241">Fronty</span><span class="sxs-lookup"><span data-stu-id="88c08-241">Queues</span></span> |<span data-ttu-id="88c08-242">Cíle škálovatelnosti</span><span class="sxs-lookup"><span data-stu-id="88c08-242">Scalability Targets</span></span> |[<span data-ttu-id="88c08-243">Blíží jsou cíle škálovatelnosti zpráv za sekundu?</span><span class="sxs-lookup"><span data-stu-id="88c08-243">Are you approaching the scalability targets for messages per second?</span></span>](#subheading39) |
| &nbsp; | <span data-ttu-id="88c08-244">Fronty</span><span class="sxs-lookup"><span data-stu-id="88c08-244">Queues</span></span> |<span data-ttu-id="88c08-245">Konfigurace</span><span class="sxs-lookup"><span data-stu-id="88c08-245">Configuration</span></span> |[<span data-ttu-id="88c08-246">Jste vypnuli Nagle ke zlepšení výkonu malé požadavků?</span><span class="sxs-lookup"><span data-stu-id="88c08-246">Have you turned Nagle off to improve the performance of small requests?</span></span>](#subheading40) |
| &nbsp; | <span data-ttu-id="88c08-247">Fronty</span><span class="sxs-lookup"><span data-stu-id="88c08-247">Queues</span></span> |<span data-ttu-id="88c08-248">Velikost zprávy</span><span class="sxs-lookup"><span data-stu-id="88c08-248">Message Size</span></span> |[<span data-ttu-id="88c08-249">Jsou vaše zprávy compact ke zlepšení výkonu fronty?</span><span class="sxs-lookup"><span data-stu-id="88c08-249">Are your messages compact to improve the performance of the queue?</span></span>](#subheading41) |
| &nbsp; | <span data-ttu-id="88c08-250">Fronty</span><span class="sxs-lookup"><span data-stu-id="88c08-250">Queues</span></span> |<span data-ttu-id="88c08-251">Hromadné načtení</span><span class="sxs-lookup"><span data-stu-id="88c08-251">Bulk Retrieve</span></span> |[<span data-ttu-id="88c08-252">Jsou načítání více zpráv v rámci jedné operace "Get"?</span><span class="sxs-lookup"><span data-stu-id="88c08-252">Are you retrieving multiple messages in a single "Get" operation?</span></span>](#subheading42) |
| &nbsp; | <span data-ttu-id="88c08-253">Fronty</span><span class="sxs-lookup"><span data-stu-id="88c08-253">Queues</span></span> |<span data-ttu-id="88c08-254">Frekvence cyklického dotazování</span><span class="sxs-lookup"><span data-stu-id="88c08-254">Polling Frequency</span></span> |[<span data-ttu-id="88c08-255">Jsou vám dotazování dostatečně často snížit latenci dosahovaný aplikace?</span><span class="sxs-lookup"><span data-stu-id="88c08-255">Are you polling frequently enough to reduce the perceived latency of your application?</span></span>](#subheading43) |
| &nbsp; | <span data-ttu-id="88c08-256">Fronty</span><span class="sxs-lookup"><span data-stu-id="88c08-256">Queues</span></span> |<span data-ttu-id="88c08-257">Zpráva aktualizace</span><span class="sxs-lookup"><span data-stu-id="88c08-257">Update Message</span></span> |[<span data-ttu-id="88c08-258">Používáte pro ukládání průběh zpracování zpráv zabraňující museli znovu zpracovat celou zprávu, pokud dojde k chybě UpdateMessage?</span><span class="sxs-lookup"><span data-stu-id="88c08-258">Are you using UpdateMessage to store progress in processing messages, avoiding having to reprocess the entire message if an error occurs?</span></span>](#subheading44) |
| &nbsp; | <span data-ttu-id="88c08-259">Fronty</span><span class="sxs-lookup"><span data-stu-id="88c08-259">Queues</span></span> |<span data-ttu-id="88c08-260">Architektura</span><span class="sxs-lookup"><span data-stu-id="88c08-260">Architecture</span></span> |[<span data-ttu-id="88c08-261">Používáte mít větší škálovatelnost celá aplikace tak dlouho běžící úlohy mimo kritické cesty a můžete nezávisle škálovat pak fronty?</span><span class="sxs-lookup"><span data-stu-id="88c08-261">Are you using queues to make your entire application more scalable by keeping long-running workloads out of the critical path and scale then independently?</span></span>](#subheading45) |

## <span data-ttu-id="88c08-262"><a name="allservices"></a>Všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-262"><a name="allservices"></a>All Services</span></span>
<span data-ttu-id="88c08-263">Tato část uvádí osvědčené postupy, které platí pro použití služby Azure Storage (objekty BLOB, tabulky, fronty nebo soubory).</span><span class="sxs-lookup"><span data-stu-id="88c08-263">This section lists proven practices that are applicable to the use of any of the Azure Storage services (blobs, tables, queues, or files).</span></span>  

### <span data-ttu-id="88c08-264"><a name="subheading1"></a>Cíle škálovatelnosti</span><span class="sxs-lookup"><span data-stu-id="88c08-264"><a name="subheading1"></a>Scalability Targets</span></span>
<span data-ttu-id="88c08-265">Každý služby Azure Storage má cíle škálovatelnosti kapacity (GB), rychlost transakcí a šířky pásma.</span><span class="sxs-lookup"><span data-stu-id="88c08-265">Each of the Azure Storage services has scalability targets for capacity (GB), transaction rate, and bandwidth.</span></span> <span data-ttu-id="88c08-266">Pokud vaše aplikace blíží nebo překračuje žádné cíle škálovatelnosti, setkat vyšší transakce latenci nebo omezení.</span><span class="sxs-lookup"><span data-stu-id="88c08-266">If your application approaches or exceeds any of the scalability targets, it may encounter increased transaction latencies or throttling.</span></span> <span data-ttu-id="88c08-267">Když úložiště služby omezí generovaný vaší aplikace, služby začne vrátit "503 Server je zaneprázdněný" nebo "500 časový limit operace" kódy chyb pro některé transakce úložiště.</span><span class="sxs-lookup"><span data-stu-id="88c08-267">When a Storage service throttles your application, the service begins to return "503 Server busy" or "500 Operation timeout" error codes for some storage transactions.</span></span> <span data-ttu-id="88c08-268">Tato část popisuje obecný přístup k zabývající se cíle škálovatelnost a cíle škálovatelnosti šířky pásma na konkrétní.</span><span class="sxs-lookup"><span data-stu-id="88c08-268">This section discusses both the general approach to dealing with scalability targets and bandwidth scalability targets in particular.</span></span> <span data-ttu-id="88c08-269">Další oddíly, které pracují s služby jednotlivých úložiště popisují cíle škálovatelnosti v kontextu této konkrétní služby:</span><span class="sxs-lookup"><span data-stu-id="88c08-269">Later sections that deal with individual storage services discuss scalability targets in the context of that specific service:</span></span>  

* [<span data-ttu-id="88c08-270">Objekt BLOB šířky pásma a počet požadavků za sekundu</span><span class="sxs-lookup"><span data-stu-id="88c08-270">Blob bandwidth and requests per second</span></span>](#subheading16)
* [<span data-ttu-id="88c08-271">Tabulka entity za sekundu</span><span class="sxs-lookup"><span data-stu-id="88c08-271">Table entities per second</span></span>](#subheading24)
* [<span data-ttu-id="88c08-272">Fronty zpráv za sekundu</span><span class="sxs-lookup"><span data-stu-id="88c08-272">Queue messages per second</span></span>](#subheading39)  

#### <span data-ttu-id="88c08-273"><a name="sub1bandwidth"></a>Cíl škálovatelnost šířky pásma pro všechny služby</span><span class="sxs-lookup"><span data-stu-id="88c08-273"><a name="sub1bandwidth"></a>Bandwidth Scalability Target for All Services</span></span>
<span data-ttu-id="88c08-274">V době psaní cílů šířky pásma v USA, pro účet geograficky redundantní úložiště (GRS) jsou 10 gigabity za sekundu (Gbps) pro příjem příchozích dat (dat odeslaných k účtu úložiště) a 20 GB/s pro odchozí (data odeslaná z účtu úložiště).</span><span class="sxs-lookup"><span data-stu-id="88c08-274">At the time of writing, the bandwidth targets in the US for a geo-redundant storage (GRS) account are 10 gigabits per second (Gbps) for ingress (data sent to the storage account) and 20 Gbps for egress (data sent from the storage account).</span></span> <span data-ttu-id="88c08-275">Pro účet místně redundantní úložiště (LRS), omezení jsou vyšší – 20 GB/s pro příjem příchozích dat a 30 GB/s pro odchozí.</span><span class="sxs-lookup"><span data-stu-id="88c08-275">For a locally redundant storage (LRS) account, the limits are higher – 20 Gbps for ingress and 30 Gbps for egress.</span></span>  <span data-ttu-id="88c08-276">Omezení šířky pásma mezinárodní může být nižší a nachází se na naše [stránky cíle škálovatelnosti](http://msdn.microsoft.com/library/azure/dn249410.aspx).</span><span class="sxs-lookup"><span data-stu-id="88c08-276">International bandwidth limits may be lower and can be found on our [scalability targets page](http://msdn.microsoft.com/library/azure/dn249410.aspx).</span></span>  <span data-ttu-id="88c08-277">Další informace o možnostech redundance úložiště, najdete v článku odkazy v [užitečné zdroje](#sub1useful) níže.</span><span class="sxs-lookup"><span data-stu-id="88c08-277">For more information on the storage redundancy options, see the links in [Useful Resources](#sub1useful) below.</span></span>  

#### <a name="what-to-do-when-approaching-a-scalability-target"></a><span data-ttu-id="88c08-278">Co dělat, když se blíží cíl škálovatelnost</span><span class="sxs-lookup"><span data-stu-id="88c08-278">What to do when approaching a scalability target</span></span>
<span data-ttu-id="88c08-279">Pokud vaše aplikace se blíží cíle škálovatelnosti účtu jedno úložiště, vezměte v úvahu přijetí jednu z následujících postupů:</span><span class="sxs-lookup"><span data-stu-id="88c08-279">If your application is approaching the scalability targets for a single storage account, consider adopting one of the following approaches:</span></span>  

* <span data-ttu-id="88c08-280">Znovu se zatížením, které způsobí, že aplikace k přístupu nebo překročí cíle škálovatelnosti.</span><span class="sxs-lookup"><span data-stu-id="88c08-280">Reconsider the workload that causes your application to approach or exceed the scalability target.</span></span> <span data-ttu-id="88c08-281">Můžete ho jinak na použití menší šířku pásma nebo kapacity nebo méně transakce návrh?</span><span class="sxs-lookup"><span data-stu-id="88c08-281">Can you design it differently to use less bandwidth or capacity, or fewer transactions?</span></span>
* <span data-ttu-id="88c08-282">Pokud aplikace musí být delší než jednoho z cílů škálovatelnost, měli byste vytvořit více účtů úložiště a oddíl data aplikací v těchto více účtů úložiště.</span><span class="sxs-lookup"><span data-stu-id="88c08-282">If an application must exceed one of the scalability targets, you should create multiple storage accounts and partition your application data across those multiple storage accounts.</span></span> <span data-ttu-id="88c08-283">Pokud používáte tento vzor, je nutné k návrhu aplikace, abyste mohli přidat další účty úložiště v budoucnosti pro vyrovnávání zatížení.</span><span class="sxs-lookup"><span data-stu-id="88c08-283">If you use this pattern, then be sure to design your application so that you can add more storage accounts in the future for load balancing.</span></span> <span data-ttu-id="88c08-284">V době psaní každé předplatné Azure může mít až 100 účtů úložiště.</span><span class="sxs-lookup"><span data-stu-id="88c08-284">At time of writing, each Azure subscription can have up to 100 storage accounts.</span></span>  <span data-ttu-id="88c08-285">Účty úložiště také mít žádné náklady než vaše využití z hlediska uložených dat, transakcí provedené nebo data přenesená.</span><span class="sxs-lookup"><span data-stu-id="88c08-285">Storage accounts also have no cost other than your usage in terms of data stored, transactions made, or data transferred.</span></span>
* <span data-ttu-id="88c08-286">Pokud vaše aplikace dotkne cíle šířky pásma, zvažte, komprese dat v klientovi ke snížení šířky pásma potřebné k odesílání dat služby úložiště.</span><span class="sxs-lookup"><span data-stu-id="88c08-286">If your application hits the bandwidth targets, consider compressing data in the client to reduce the bandwidth required to send the data to the storage service.</span></span>  <span data-ttu-id="88c08-287">Všimněte si, že i když to může uložit šířky pásma a zlepšit výkon sítě, může také obsahovat některé negativní dopad.</span><span class="sxs-lookup"><span data-stu-id="88c08-287">Note that while this may save bandwidth and improve network performance, it can also have some negative impacts.</span></span>  <span data-ttu-id="88c08-288">Byste měli zvážit dopad na výkon to z důvodu dalšího zpracování požadavků pro komprese a dekomprese dat v klientovi.</span><span class="sxs-lookup"><span data-stu-id="88c08-288">You should evaluate the performance impact of this due to the additional processing requirements for compressing and decompressing data in the client.</span></span> <span data-ttu-id="88c08-289">Kromě toho ukládání komprimovaných dat může být obtížné řešení problémů, protože může být obtížné zobrazit uložená data pomocí standardních nástrojů.</span><span class="sxs-lookup"><span data-stu-id="88c08-289">In addition, storing compressed data can make it more difficult to troubleshoot issues since it could be more difficult to view stored data using standard tools.</span></span>
* <span data-ttu-id="88c08-290">Pokud vaše aplikace dotkne cíle škálovatelnosti, pak se ujistěte, že používáte exponenciálního omezení rychlosti pro opakování (v tématu [opakování](#subheading14)).</span><span class="sxs-lookup"><span data-stu-id="88c08-290">If your application hits the scalability targets, then ensure that you are using an exponential backoff for retries (see [Retries](#subheading14)).</span></span>  <span data-ttu-id="88c08-291">Je lepší a ujistěte se, nikdy přístupu cíle škálovatelnosti (pomocí jedné z výše uvedených metod), ale tím bude zajištěno, aby že vaše aplikace nebude právě i nadále pokoušet rychle, provedení omezení horší.</span><span class="sxs-lookup"><span data-stu-id="88c08-291">It's better to make sure you never approach the scalability targets (by using one of the above methods), but this will ensure your application won't just keep retrying rapidly, making the throttling worse.</span></span>  

#### <a name="useful-resources"></a><span data-ttu-id="88c08-292">Užitečné materiály</span><span class="sxs-lookup"><span data-stu-id="88c08-292">Useful Resources</span></span>
<span data-ttu-id="88c08-293">Následující odkazy obsahují další podrobnosti na cíle škálovatelnosti:</span><span class="sxs-lookup"><span data-stu-id="88c08-293">The following links provide additional detail on scalability targets:</span></span>

* <span data-ttu-id="88c08-294">V tématu [a cíle výkonnosti služby Azure Storage Scalability](storage-scalability-targets.md) informace o cíle škálovatelnosti.</span><span class="sxs-lookup"><span data-stu-id="88c08-294">See [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) for information about scalability targets.</span></span>
* <span data-ttu-id="88c08-295">V tématu [replikace Azure Storage](storage-redundancy.md) a v příspěvku blogu [možnosti redundance úložiště Azure a geograficky redundantní úložiště s přístupem pro čtení](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx) informace o možnostech redundance úložiště.</span><span class="sxs-lookup"><span data-stu-id="88c08-295">See [Azure Storage replication](storage-redundancy.md) and the blog post [Azure Storage Redundancy Options and Read Access Geo Redundant Storage](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx) for information about storage redundancy options.</span></span>
* <span data-ttu-id="88c08-296">Aktuální informace o cenách pro služby Azure najdete v tématu [Azure ceny](https://azure.microsoft.com/pricing/overview/).</span><span class="sxs-lookup"><span data-stu-id="88c08-296">For current information about pricing for Azure services, see [Azure pricing](https://azure.microsoft.com/pricing/overview/).</span></span>  

### <span data-ttu-id="88c08-297"><a name="subheading47"></a>Zásady vytváření názvů oddílu</span><span class="sxs-lookup"><span data-stu-id="88c08-297"><a name="subheading47"></a>Partition Naming Convention</span></span>
<span data-ttu-id="88c08-298">Azure Storage používá schéma rozdělení oddílů na základě rozsahu vyrovnávání škálování a zatížení systému.</span><span class="sxs-lookup"><span data-stu-id="88c08-298">Azure Storage uses a range-based partitioning scheme to scale and load balance the system.</span></span> <span data-ttu-id="88c08-299">Klíč oddílu se používá k oddílu, který data do rozsahů a tyto rozsahy jsou vyrovnávání zatížení sítě v systému.</span><span class="sxs-lookup"><span data-stu-id="88c08-299">The partition key is used to partition data into ranges and these ranges are load-balanced across the system.</span></span> <span data-ttu-id="88c08-300">To znamená zásady vytváření názvů jako je například lexikální řazení (např. msftpayroll, msftperformance, msftemployees atd.) nebo pomocí časová razítka (log20160101, log20160102, log20160102 atd.) bude jít o oddíly, které se potenciálně společně umístěný na stejném serveru oddílu, dokud zatížení vyrovnávání operaci rozdělí je na rozsahy menší.</span><span class="sxs-lookup"><span data-stu-id="88c08-300">This means naming conventions such as lexical ordering (e.g. msftpayroll, msftperformance, msftemployees, etc) or using time-stamps (log20160101, log20160102, log20160102, etc) will lend itself to the partitions being potentially co-located on the same partition server, until a load balancing operation splits them out into smaller ranges.</span></span> <span data-ttu-id="88c08-301">Například všech objektů BLOB do kontejneru, je možné dodávat jedním serverem dokud zatížení na tyto objekty BLOB vyžaduje další vyrovnává rozsahy oddílu.</span><span class="sxs-lookup"><span data-stu-id="88c08-301">For example, all blobs within a container can be served by a single server until the load on these blobs requires further rebalancing of the partition ranges.</span></span> <span data-ttu-id="88c08-302">Podobně skupinu lehkým načíst účty s jejich názvy uspořádané lexikální pořadí mohou být obsluhovány jeden server, dokud zatížení na jednom nebo všechny tyto účty vyžadují, aby se daly rozdělit mezi několik serverů oddíly.</span><span class="sxs-lookup"><span data-stu-id="88c08-302">Similarly, a group of lightly loaded accounts with their names arranged in lexical order may be served by a single server until the load on one or all of these accounts require them to be split across multiple partitions servers.</span></span> <span data-ttu-id="88c08-303">Každé rozložení zátěže operace může mít vliv latence úložiště volání během operace.</span><span class="sxs-lookup"><span data-stu-id="88c08-303">Each load balancing operation may impact the latency of storage calls during the operation.</span></span> <span data-ttu-id="88c08-304">Systému schopnost zvládat nečekané shluku přenosů dat do oddílu je omezena na škálovatelnost serveru jeden oddíl dokud operace Vyrovnávání zatížení zejména kopance v a znovu vytvoří rovnováhu rozsah klíče oddílu.</span><span class="sxs-lookup"><span data-stu-id="88c08-304">The system's ability to handle a sudden burst of traffic to a partition is limited by the scalability of a single partition server until the load balancing operation kicks-in and rebalances the partition key range.</span></span>  

<span data-ttu-id="88c08-305">Můžete provést některé z osvědčených postupů ke snížení frekvence těchto operací.</span><span class="sxs-lookup"><span data-stu-id="88c08-305">You can follow some best practices to reduce the frequency of such operations.</span></span>  

* <span data-ttu-id="88c08-306">Zásady vytváření názvů, který použijete pro účty, kontejnerů, objektů BLOB, tabulek a front, byste měli pečlivě prozkoumejte.</span><span class="sxs-lookup"><span data-stu-id="88c08-306">Examine the naming convention you use for accounts, containers, blobs, tables and queues, closely.</span></span> <span data-ttu-id="88c08-307">Vezměte v úvahu prefixu názvy účtů se hodnota hash 3 číslice pomocí funkce algoritmu hash, který nejlépe vyhovuje vašim potřebám.</span><span class="sxs-lookup"><span data-stu-id="88c08-307">Consider prefixing account names with a 3-digit hash using a hashing function that best suits your needs.</span></span>  
* <span data-ttu-id="88c08-308">Pokud můžete uspořádat svá data pomocí funkce časová razítka nebo číselné identifikátory, musíte zajistit, že nepoužíváte vzory přenosů dat připojovacím (nebo jen předřazení).</span><span class="sxs-lookup"><span data-stu-id="88c08-308">If you organize your data using timestamps or numerical identifiers, you have to ensure you are not using an append-only (or prepend-only) traffic patterns.</span></span> <span data-ttu-id="88c08-309">Tyto vzory nejsou vhodné pro rozsah – na základě rozdělení do oddílů systému, a může vést k veškerý provoz, přejdete do jediného oddílu a omezení systému z efektivně Vyrovnávání zatížení.</span><span class="sxs-lookup"><span data-stu-id="88c08-309">These patterns are not suitable for a range -based partitioning system, and could lead to all the traffic going to a single partition and limiting the system from effectively load balancing.</span></span> <span data-ttu-id="88c08-310">Například pokud máte každodenní operace, které používají objekt blob s časovým razítkem například RRRRMMDD, pak všechny přenosy pro každodenní operace přesměruje na jeden objekt, který obsluhovaného serverem jeden oddíl.</span><span class="sxs-lookup"><span data-stu-id="88c08-310">For instance, if you have daily operations that use a blob object with a timestamp such as yyyymmdd, then all the traffic for that daily operation is directed to a single object which is served by a single partition server.</span></span> <span data-ttu-id="88c08-311">Podívejte se na jestli se jednotlivých objektů blob omezení a oddílu omezení podle svých potřeb a vezměte v úvahu rozdělení tuto operaci na více objektů BLOB v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="88c08-311">Look at whether the per blob limits and per partition limits meet your needs, and consider breaking this operation into multiple blobs if needed.</span></span> <span data-ttu-id="88c08-312">Podobně pokud ukládáte data řady čas v tabulkách, všechny přenosy dat může být přesměruje na poslední část klíče oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="88c08-312">Similarly, if you store time series data in your tables, all the traffic could be directed to the last part of the key namespace.</span></span> <span data-ttu-id="88c08-313">Pokud musíte použít časová razítka nebo číselné ID, předpona id s hash 3 číslice nebo v případě časová razítka předpony sekund součástí čas, jako je třeba ssyyyymmdd.</span><span class="sxs-lookup"><span data-stu-id="88c08-313">If you must use timestamps or numerical IDs, prefix the id with a 3-digit hash, or in the case of timestamps prefix the seconds part of the time such as ssyyyymmdd.</span></span> <span data-ttu-id="88c08-314">Pokud výpis a dotazy operace se pravidelně provádí, zvolte funkce algoritmu hash, který omezí vaší počet dotazů.</span><span class="sxs-lookup"><span data-stu-id="88c08-314">If listing and querying operations are routinely performed, choose a hashing function that will limit your number of queries.</span></span> <span data-ttu-id="88c08-315">V jiných případech může být náhodné předpony.</span><span class="sxs-lookup"><span data-stu-id="88c08-315">In other cases, a random prefix may be sufficient.</span></span>  
* <span data-ttu-id="88c08-316">Pro další informace o schéma rozdělení oddílů použít ve službě Azure Storage, přečtěte si studie sosp [zde](http://sigops.org/sosp/sosp11/current/2011-Cascais/printable/11-calder.pdf).</span><span class="sxs-lookup"><span data-stu-id="88c08-316">For additional information on the partitioning scheme used in Azure Storage, read the SOSP paper [here](http://sigops.org/sosp/sosp11/current/2011-Cascais/printable/11-calder.pdf).</span></span>

### <a name="networking"></a><span data-ttu-id="88c08-317">Sítě</span><span class="sxs-lookup"><span data-stu-id="88c08-317">Networking</span></span>
<span data-ttu-id="88c08-318">Při volání rozhraní API ohledu na to, často omezení fyzické síťové aplikace mít významný dopad na výkon.</span><span class="sxs-lookup"><span data-stu-id="88c08-318">While the API calls matter, often the physical network constraints of the application have a significant impact on performance.</span></span> <span data-ttu-id="88c08-319">Následující popisují některá omezení, které uživatelé setkat.</span><span class="sxs-lookup"><span data-stu-id="88c08-319">The following describe some of limitations users may encounter.</span></span>  

#### <a name="client-network-capability"></a><span data-ttu-id="88c08-320">Možnost klienta sítě</span><span class="sxs-lookup"><span data-stu-id="88c08-320">Client Network Capability</span></span>
##### <span data-ttu-id="88c08-321"><a name="subheading2"></a>Propustnost</span><span class="sxs-lookup"><span data-stu-id="88c08-321"><a name="subheading2"></a>Throughput</span></span>
<span data-ttu-id="88c08-322">Šířka pásma problém je často možnosti klienta.</span><span class="sxs-lookup"><span data-stu-id="88c08-322">For bandwidth, the problem is often the capabilities of the client.</span></span> <span data-ttu-id="88c08-323">Například při účet jednoho úložiště může zpracovat 10 GB/s nebo více příjem příchozích dat (viz [cíle škálovatelnosti šířky pásma](#sub1bandwidth)), rychlost sítě v instanci Role pracovního procesu "Malá" Azure je pouze schopná přibližně 100 MB/s.</span><span class="sxs-lookup"><span data-stu-id="88c08-323">For example, while a single storage account can handle 10 Gbps or more of ingress (see [bandwidth scalability targets](#sub1bandwidth)), the network speed in a "Small" Azure Worker Role instance is only capable of approximately 100 Mbps.</span></span> <span data-ttu-id="88c08-324">Větší Azure instance mají síťové adaptéry s větší kapacitou, měli byste zvážit použití větší instance nebo více virtuálních počítačů, pokud potřebujete vyšší limity síťové z jednoho počítače.</span><span class="sxs-lookup"><span data-stu-id="88c08-324">Larger Azure instances have NICs with greater capacity, so you should consider using a larger instance or more VM's if you need higher network limits from a single machine.</span></span> <span data-ttu-id="88c08-325">Pokud se přístup k službě úložiště z aplikace na místní, pak platí stejné pravidlo: Seznamte se s možnostmi sítě klientského zařízení a síťové připojení k umístění úložiště Azure a buď zvýšit jejich, protože potřeby nebo návrhu aplikace pro práci v rámci jejich možnosti.</span><span class="sxs-lookup"><span data-stu-id="88c08-325">If you are accessing a Storage service from an on premises application, then the same rule applies: understand the network capabilities of the client device and the network connectivity to the Azure Storage location and either improve them as needed or design your application to work within their capabilities.</span></span>  

##### <span data-ttu-id="88c08-326"><a name="subheading3"></a>Odkaz kvality</span><span class="sxs-lookup"><span data-stu-id="88c08-326"><a name="subheading3"></a>Link Quality</span></span>
<span data-ttu-id="88c08-327">Stejně jako u jakékoli využití sítě, mějte na paměti, že síťové podmínky, což vede k chybám a ztrátě paketů zpomalí efektivní propustnost.</span><span class="sxs-lookup"><span data-stu-id="88c08-327">As with any network usage, be aware that network conditions resulting in errors and packet loss will slow effective throughput.</span></span>  <span data-ttu-id="88c08-328">Pomocí WireShark nebo NetMon může pomoci při diagnostice tento problém.</span><span class="sxs-lookup"><span data-stu-id="88c08-328">Using WireShark or NetMon may help in diagnosing this issue.</span></span>  

##### <a name="useful-resources"></a><span data-ttu-id="88c08-329">Užitečné materiály</span><span class="sxs-lookup"><span data-stu-id="88c08-329">Useful Resources</span></span>
<span data-ttu-id="88c08-330">Další informace o velikosti virtuálních počítačů a přidělené šířky pásma najdete v tématu [velikosti virtuálních počítačů Windows](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) nebo [velikosti virtuálního počítače s Linuxem](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="88c08-330">For more information about virtual machine sizes and allocated bandwidth, see [Windows VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) or [Linux VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>  

#### <span data-ttu-id="88c08-331"><a name="subheading4"></a>Umístění</span><span class="sxs-lookup"><span data-stu-id="88c08-331"><a name="subheading4"></a>Location</span></span>
<span data-ttu-id="88c08-332">V distribuovaném prostředí umístění klienta blízko server poskytuje nejlepší výkon.</span><span class="sxs-lookup"><span data-stu-id="88c08-332">In any distributed environment, placing the client near to the server delivers in the best performance.</span></span> <span data-ttu-id="88c08-333">Pro přístup k úložišti Azure s nejnižší latenci, je nejlepší umístění pro vašeho klienta v rámci stejné oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="88c08-333">For accessing Azure Storage with the lowest latency, the best location for your client is within the same Azure region.</span></span> <span data-ttu-id="88c08-334">Například pokud máte webovou stránku Azure, která používá Azure Storage, byste měli vyhledat oba v jedné oblasti (například USA – západ nebo jihovýchodní Asie).</span><span class="sxs-lookup"><span data-stu-id="88c08-334">For example, if you have an Azure Web Site that uses Azure Storage, you should locate them both within a single region (for example, US West or Asia Southeast).</span></span> <span data-ttu-id="88c08-335">Tím se snižuje latence a náklady na – v době psaní, je bezplatná využití šířky pásma v jedné oblasti.</span><span class="sxs-lookup"><span data-stu-id="88c08-335">This reduces the latency and the cost — at the time of writing, bandwidth usage within a single region is free.</span></span>  

<span data-ttu-id="88c08-336">Pokud váš klient, které aplikace nejsou hostované v rámci Azure (například aplikací pro mobilní zařízení nebo na místní enterprise services), pak znovu umístění účtu úložiště v oblasti blízko zařízení, která bude přistupovat, se obecně sníží latence.</span><span class="sxs-lookup"><span data-stu-id="88c08-336">If your client applications are not hosted within Azure (such as mobile device apps or on premises enterprise services), then again placing the storage account in a region near to the devices that will access it, will generally reduce latency.</span></span> <span data-ttu-id="88c08-337">Pokud vaši klienti distribuují široce (pro příklad, některé v Severní Americe a některé v Evropě), pak byste měli zvážit použití více účtů úložiště: jeden umístěný v oblasti Severní Ameriky a druhý v Evropského oblast.</span><span class="sxs-lookup"><span data-stu-id="88c08-337">If your clients are broadly distributed (for example, some in North America, and some in Europe), then you should consider using multiple storage accounts: one located in a North American region and one in a European region.</span></span> <span data-ttu-id="88c08-338">To vám pomůže snížit latenci pro uživatele v obou oblastí.</span><span class="sxs-lookup"><span data-stu-id="88c08-338">This will help to reduce latency for users in both regions.</span></span> <span data-ttu-id="88c08-339">Tento přístup je obvykle snáze se implementace, pokud aplikace ukládá data specifická pro jednotlivé uživatele a nevyžaduje replikaci dat mezi účty úložiště.</span><span class="sxs-lookup"><span data-stu-id="88c08-339">This approach is usually easier to implement if the data the application stores is specific to individual users, and does not require replicating data between storage accounts.</span></span>  <span data-ttu-id="88c08-340">Pro širokou distribuci obsahu doporučuje se název CDN – najdete v části Další podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="88c08-340">For broad content distribution, a CDN is recommended – see the next section for more details.</span></span>  

### <span data-ttu-id="88c08-341"><a name="subheading5"></a>Distribuce obsahu</span><span class="sxs-lookup"><span data-stu-id="88c08-341"><a name="subheading5"></a>Content Distribution</span></span>
<span data-ttu-id="88c08-342">V některých případech aplikace musí poskytovat stejné obsah na mnoho uživatelů (například produktu ukázkové video použít na domovské stránce webu), umístěný ve stejné nebo více oblastí.</span><span class="sxs-lookup"><span data-stu-id="88c08-342">Sometimes, an application needs to serve the same content to many users (e.g. a product demo video used in the home page of a website), located in either the same or multiple regions.</span></span> <span data-ttu-id="88c08-343">V tomto scénáři byste měli používat Content Delivery Network (CDN) jako je například Azure CDN a od CDN by používat úložiště Azure jako počátek data.</span><span class="sxs-lookup"><span data-stu-id="88c08-343">In this scenario, you should use a Content Delivery Network (CDN) such as Azure CDN, and the CDN would use Azure storage as the origin of the data.</span></span> <span data-ttu-id="88c08-344">Na rozdíl od účet úložiště Azure, která existuje v jedné oblasti a který nelze doručování obsahu s nízkou latencí do jiných oblastí používá Azure CDN servery v několika datových centrech po celém světě.</span><span class="sxs-lookup"><span data-stu-id="88c08-344">Unlike an Azure Storage account that exists in a single region and that cannot deliver content with low latency to other regions, Azure CDN uses servers in multiple data centers around the world.</span></span> <span data-ttu-id="88c08-345">Název CDN kromě toho může podporovat obvykle mnohem vyšší limity odchozí než účet jednoho úložiště.</span><span class="sxs-lookup"><span data-stu-id="88c08-345">Additionally, a CDN can typically support much higher egress limits than a single storage account.</span></span>  

<span data-ttu-id="88c08-346">Další informace o Azure CDN najdete v tématu [Azure CDN](https://azure.microsoft.com/services/cdn/).</span><span class="sxs-lookup"><span data-stu-id="88c08-346">For more information about Azure CDN, see [Azure CDN](https://azure.microsoft.com/services/cdn/).</span></span>  

### <span data-ttu-id="88c08-347"><a name="subheading6"></a>Pomocí SAS a CORS</span><span class="sxs-lookup"><span data-stu-id="88c08-347"><a name="subheading6"></a>Using SAS and CORS</span></span>
<span data-ttu-id="88c08-348">Pokud budete potřebovat k autorizaci kódu třeba JavaScript v prohlížeči sítě nebo aplikace na mobilní telefon pro přístup k datům ve službě Azure Storage, jeden z přístupů je použití aplikace v webovou roli jako proxy server: zařízení uživatele ověří webové role, která zase ověří služby úložiště.</span><span class="sxs-lookup"><span data-stu-id="88c08-348">When you need to authorize code such as JavaScript in a user's web browser or a mobile phone app to access data in Azure Storage, one approach is to use an application in web role as a proxy: the user's device authenticates with the web role, which in turn authenticates with the storage service.</span></span> <span data-ttu-id="88c08-349">Tímto způsobem se můžete vyhnout vystavení klíče účtu úložiště na nezabezpečené zařízení.</span><span class="sxs-lookup"><span data-stu-id="88c08-349">In this way, you can avoid exposing your storage account keys on insecure devices.</span></span> <span data-ttu-id="88c08-350">Ale to umístí big režijní náklady na webovou roli protože všech dat přenesených mezi zařízení uživatele a služba úložiště musí projít webovou roli.</span><span class="sxs-lookup"><span data-stu-id="88c08-350">However, this places a big overhead on the web role because all the data transferred between the user's device and the storage service must pass through the web role.</span></span> <span data-ttu-id="88c08-351">Používání webové role jako proxy pro službu úložiště pomocí sdíleného přístupového podpisy (SAS), někdy ve spojení s hlavičky sdílení prostředků různých původů (CORS) se můžete vyhnout.</span><span class="sxs-lookup"><span data-stu-id="88c08-351">You can avoid using a web role as a proxy for the storage service by using Shared Access Signatures (SAS), sometimes in conjunction with Cross-Origin Resource Sharing headers (CORS).</span></span> <span data-ttu-id="88c08-352">Pomocí SAS, můžete povolit na zařízení uživatele provádět požadavky přímo ke službě úložiště prostřednictvím token omezený přístup.</span><span class="sxs-lookup"><span data-stu-id="88c08-352">Using SAS, you can allow your user's device to make requests directly to a storage service by means of a limited access token.</span></span> <span data-ttu-id="88c08-353">Například pokud uživatel chce odeslat fotografii do vaší aplikace, webovou roli můžete vygenerovat a odeslat do zařízení uživatele token SAS, která uděluje oprávnění k zápisu do konkrétní objekt blob nebo kontejner pro další 30 minut (po jejímž tokenu SAS vyprší platnost).</span><span class="sxs-lookup"><span data-stu-id="88c08-353">For example, if a user wants to upload a photo to your application, your web role can generate and send to the user's device a SAS token that grants permission to write to a specific blob or container for the next 30 minutes (after which the SAS token expires).</span></span>

<span data-ttu-id="88c08-354">Za normálních okolností neumožní prohlížeče JavaScript na stránce hostované na web jednu doménu pro provádět určité operace, například "Vložit" do jiné domény.</span><span class="sxs-lookup"><span data-stu-id="88c08-354">Normally, a browser will not allow JavaScript in a page hosted by a website on one domain to perform specific operations such as a "PUT" to another domain.</span></span> <span data-ttu-id="88c08-355">Například, pokud hostitelem webovou roli na "contosomarketing.cloudapp.net" a chcete použít nahrát objekt blob do účtu úložiště na "contosoproducts.blob.core.windows.net," v prohlížeči na klientské straně JavaScript "stejné zásady původ" bude nezakazuje tuto operaci.</span><span class="sxs-lookup"><span data-stu-id="88c08-355">For example, if you host a web role at "contosomarketing.cloudapp.net," and want to use client side JavaScript to upload a blob to your storage account at "contosoproducts.blob.core.windows.net," the browser's "same origin policy" will forbid this operation.</span></span> <span data-ttu-id="88c08-356">CORS je funkce prohlížeče, která umožňuje cílové doméně (v tomto případě účet úložiště) pro komunikaci se v prohlížeči důvěřovat požadavků pocházejících ve zdrojové doméně (v tomto případě webovou roli).</span><span class="sxs-lookup"><span data-stu-id="88c08-356">CORS is a browser feature that allows the target domain (in this case the storage account) to communicate to the browser that it trusts requests originating in the source domain (in this case the web role).</span></span>  

<span data-ttu-id="88c08-357">Obě tyto technologie vám může pomoct vyhnout nepotřebné zatížení (a kritická místa) na vaši webovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="88c08-357">Both of these technologies can help you avoid unnecessary load (and bottlenecks) on your web application.</span></span>  

#### <a name="useful-resources"></a><span data-ttu-id="88c08-358">Užitečné materiály</span><span class="sxs-lookup"><span data-stu-id="88c08-358">Useful Resources</span></span>
<span data-ttu-id="88c08-359">Další informace o tokenu SAS naleznete v tématu [sdílené přístupové podpisy, část 1: vysvětlení modelu SAS](../storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="88c08-359">For more information about SAS, see [Shared Access Signatures, Part 1: Understanding the SAS Model](../storage-dotnet-shared-access-signature-part-1.md).</span></span>  

<span data-ttu-id="88c08-360">Další informace o CORS, najdete v části [Podpora sdílení prostředků různých původů (CORS) pro služby Azure Storage](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span><span class="sxs-lookup"><span data-stu-id="88c08-360">For more information about CORS, see [Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span></span>  

### <a name="caching"></a><span data-ttu-id="88c08-361">Ukládání do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="88c08-361">Caching</span></span>
#### <span data-ttu-id="88c08-362"><a name="subheading7"></a>Získání dat</span><span class="sxs-lookup"><span data-stu-id="88c08-362"><a name="subheading7"></a>Getting Data</span></span>
<span data-ttu-id="88c08-363">Obecně platí získávání dat ze služby jednou je lepší, než ho získávání dvakrát.</span><span class="sxs-lookup"><span data-stu-id="88c08-363">In general, getting data from a service once is better than getting it twice.</span></span> <span data-ttu-id="88c08-364">Prohlédněte si příklad webová aplikace MVC spuštěna ve webové roli, která již načtena do objektu blob 50MB ze služby storage, která bude sloužit jako obsah pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="88c08-364">Consider the example of an MVC web application running in a web role that has already retrieved a 50MB blob from the storage service to serve as content to a user.</span></span> <span data-ttu-id="88c08-365">Aplikace může následně načíst tento stejný objekt blob pokaždé, když uživatel požádá, nebo ho může ukládat do mezipaměti je místně na disk a opakovaně používat v mezipaměti verze pro následné požadavky uživatelů.</span><span class="sxs-lookup"><span data-stu-id="88c08-365">The application could then retrieve that same blob every time a user requests it, or it could cache it locally to disk and reuse the cached version for subsequent user requests.</span></span> <span data-ttu-id="88c08-366">Kromě toho vždy, když uživatel požádá o data, aplikace může dojít, problém s podmíněného hlavičku pro čas změny, které by se tak získání celý objektu blob, pokud byl změněn.</span><span class="sxs-lookup"><span data-stu-id="88c08-366">Furthermore, whenever a user requests the data, the application could issue GET with a conditional header for modification time, which would avoid getting the entire blob if it hasn't been modified.</span></span> <span data-ttu-id="88c08-367">Tento stejný vzor můžete použít pro práci s entity tabulky.</span><span class="sxs-lookup"><span data-stu-id="88c08-367">You can apply this same pattern to working with table entities.</span></span>  

<span data-ttu-id="88c08-368">V některých případech se můžete rozhodnout, že vaše aplikace můžete předpokládat, že objektu blob zůstane platný na krátkou dobu, po jejich načtení, a že během tohoto období aplikace nemusí ke kontrole, pokud byla změněna objektu blob.</span><span class="sxs-lookup"><span data-stu-id="88c08-368">In some cases, you may decide that your application can assume that the blob remains valid for a short period after retrieving it, and that during this period the application does not need to check if the blob was modified.</span></span>

<span data-ttu-id="88c08-369">Konfigurace, vyhledávání a další data, která jsou vždy používá aplikace jsou skvělí kandidáti pro ukládání do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="88c08-369">Configuration, lookup, and other data that are always used by the application are great candidates for caching.</span></span>  

<span data-ttu-id="88c08-370">Příklad toho, jak získat objekt blob vlastnosti chcete zjistit, datum poslední změny pomocí rozhraní .NET, naleznete v části [sady a vlastnosti načíst a Metadata](../blobs/storage-properties-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="88c08-370">For an example of how to get a blob's properties to discover the last modified date using .NET, see [Set and Retrieve Properties and Metadata](../blobs/storage-properties-metadata.md).</span></span> <span data-ttu-id="88c08-371">Další informace o podmíněného soubory ke stažení najdete v tématu [podmíněně aktualizovat místní kopii objektu Blob](http://msdn.microsoft.com/library/azure/dd179371.aspx).</span><span class="sxs-lookup"><span data-stu-id="88c08-371">For more information about conditional downloads, see [Conditionally Refresh a Local Copy of a Blob](http://msdn.microsoft.com/library/azure/dd179371.aspx).</span></span>  

#### <span data-ttu-id="88c08-372"><a name="subheading8"></a>Nahrávání dat v dávkách</span><span class="sxs-lookup"><span data-stu-id="88c08-372"><a name="subheading8"></a>Uploading Data in Batches</span></span>
<span data-ttu-id="88c08-373">V některých případech aplikace můžete agregovat data v místním počítači a pak ho pravidelně nahrajte v dávce místo odesílání každá položka dat okamžitě.</span><span class="sxs-lookup"><span data-stu-id="88c08-373">In some application scenarios, you can aggregate data locally, and then periodically upload it in a batch instead of uploading each piece of data immediately.</span></span> <span data-ttu-id="88c08-374">Webové aplikace může například zachovat soubor protokolu aktivit: aplikace by buď nahrávat podrobnosti o všech aktivit, jako Odehrává se jako entitu tabulky (který vyžaduje mnoho operace úložiště), nebo může uložte do místního protokolu souboru podrobnosti o aktivitě a pravidelně všechny podrobnosti o aktivitě nahrát jako souboru s oddělovači do objektu blob.</span><span class="sxs-lookup"><span data-stu-id="88c08-374">For example, a web application might keep a log file of activities: the application could either upload details of every activity as it happens as a table entity (which requires many storage operations), or it could save activity details to a local log file, and then periodically upload all activity details as a delimited file to a blob.</span></span> <span data-ttu-id="88c08-375">Pokud každé položky protokolu 1KB velikostí, můžete nahrát tisícům v rámci jedné transakce "Put Blob" (můžete nahrát objekt blob velikost v rámci jedné transakce až 64MB).</span><span class="sxs-lookup"><span data-stu-id="88c08-375">If each log entry is 1KB in size, you can upload thousands in a single "Put Blob" transaction (you can upload a blob of up to 64MB in size in a single transaction).</span></span> <span data-ttu-id="88c08-376">Samozřejmě, pokud v místním počítači dojde k chybě před nahrávání, potenciálně ztratíte některá data protokolu: vývojář aplikace musí navrhnout možnost klientské zařízení nebo nahrát selhání.</span><span class="sxs-lookup"><span data-stu-id="88c08-376">Of course, if the local machine crashes prior to the upload, you will potentially lose some log data: the application developer must design for the possibility of client device or upload failures.</span></span>  <span data-ttu-id="88c08-377">Pokud data aktivit potřebuje ke stažení pro timespans (pouze jediné aktivity), objekty BLOB se doporučuje namísto tabulky.</span><span class="sxs-lookup"><span data-stu-id="88c08-377">If the activity data needs to be downloaded for timespans (not just single activity), then blobs are recommended over tables.</span></span>

### <a name="net-configuration"></a><span data-ttu-id="88c08-378">Konfigurace rozhraní .NET</span><span class="sxs-lookup"><span data-stu-id="88c08-378">.NET Configuration</span></span>
<span data-ttu-id="88c08-379">Pokud používáte rozhraní .NET Framework, této části jsou uvedené několik nastavení rychlé konfigurace, které můžete použít ke zlepšení výkonu.</span><span class="sxs-lookup"><span data-stu-id="88c08-379">If using the .NET Framework, this section lists several quick configuration settings that you can use to make significant performance improvements.</span></span>  <span data-ttu-id="88c08-380">Pokud používáte další jazyky, zkontrolujte, pokud podobné koncepty použít ve zvoleném jazyce.</span><span class="sxs-lookup"><span data-stu-id="88c08-380">If using other languages, check to see if similar concepts apply in your chosen language.</span></span>  

#### <span data-ttu-id="88c08-381"><a name="subheading9"></a>Zvyšte výchozí limit připojení</span><span class="sxs-lookup"><span data-stu-id="88c08-381"><a name="subheading9"></a>Increase default connection limit</span></span>
<span data-ttu-id="88c08-382">Následující kód v rozhraní .NET, zvyšuje výchozí limitu připojení (což je obvykle 2 v prostředí klienta nebo 10 v prostředí serveru) do 100.</span><span class="sxs-lookup"><span data-stu-id="88c08-382">In .NET, the following code increases the default connection limit (which is usually 2 in a client environment or 10 in a server environment) to 100.</span></span> <span data-ttu-id="88c08-383">Obvykle byste měli nastavit hodnotu přibližně počet vláken, které používá vaše aplikace.</span><span class="sxs-lookup"><span data-stu-id="88c08-383">Typically, you should set the value to approximately the number of threads used by your application.</span></span>  

```csharp
ServicePointManager.DefaultConnectionLimit = 100; //(Or More)  
```

<span data-ttu-id="88c08-384">Je nutné nastavit limitu připojení před otevřením všechna připojení.</span><span class="sxs-lookup"><span data-stu-id="88c08-384">You must set the connection limit before opening any connections.</span></span>  

<span data-ttu-id="88c08-385">Pro jiné programovací jazyky naleznete v dokumentaci k tento jazyk určit, jak se nastavit limit připojení.</span><span class="sxs-lookup"><span data-stu-id="88c08-385">For other programming languages, see that language's documentation to determine how to set the connection limit.</span></span>  

<span data-ttu-id="88c08-386">Další informace naleznete v příspěvku blogu [webové služby: souběžných připojení](http://blogs.msdn.com/b/darrenj/archive/2005/03/07/386655.aspx).</span><span class="sxs-lookup"><span data-stu-id="88c08-386">For additional information, see the blog post [Web Services: Concurrent Connections](http://blogs.msdn.com/b/darrenj/archive/2005/03/07/386655.aspx).</span></span>  

#### <span data-ttu-id="88c08-387"><a name="subheading10"></a>Pokud synchronní kódu pomocí úloh s modifikátorem Async zvětšete fondu vláken Min.</span><span class="sxs-lookup"><span data-stu-id="88c08-387"><a name="subheading10"></a>Increase ThreadPool Min Threads if using synchronous code with Async Tasks</span></span>
<span data-ttu-id="88c08-388">Tento kód se zvýší vláken min fondu vláken:</span><span class="sxs-lookup"><span data-stu-id="88c08-388">This code will increase the thread pool min threads:</span></span>  

```csharp
ThreadPool.SetMinThreads(100,100); //(Determine the right number for your application)  
```

<span data-ttu-id="88c08-389">Další informace najdete v tématu [ThreadPool.SetMinThreads metoda](http://msdn.microsoft.com/library/system.threading.threadpool.setminthreads%28v=vs.110%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="88c08-389">For more information, see [ThreadPool.SetMinThreads Method](http://msdn.microsoft.com/library/system.threading.threadpool.setminthreads%28v=vs.110%29.aspx).</span></span>  

#### <span data-ttu-id="88c08-390"><a name="subheading11"></a>Uvolňování paměti .NET 4.5, výhod</span><span class="sxs-lookup"><span data-stu-id="88c08-390"><a name="subheading11"></a>Take advantage of .NET 4.5 Garbage Collection</span></span>
<span data-ttu-id="88c08-391">Pomocí rozhraní .NET 4.5 nebo novější pro klientské aplikace využít k vylepšení výkonu při uvolňování paměti serveru.</span><span class="sxs-lookup"><span data-stu-id="88c08-391">Use .NET 4.5 or later for the client application to take advantage of performance improvements in server garbage collection.</span></span>

<span data-ttu-id="88c08-392">Další informace najdete v článku [přehled o vylepšení výkonu v rozhraní .NET 4.5](http://msdn.microsoft.com/magazine/hh882452.aspx).</span><span class="sxs-lookup"><span data-stu-id="88c08-392">For more information, see the article [An Overview of Performance Improvements in .NET 4.5](http://msdn.microsoft.com/magazine/hh882452.aspx).</span></span>  

### <span data-ttu-id="88c08-393"><a name="subheading12"></a>Bez vazby paralelismus</span><span class="sxs-lookup"><span data-stu-id="88c08-393"><a name="subheading12"></a>Unbounded Parallelism</span></span>
<span data-ttu-id="88c08-394">Paralelismus mohou být ideální pro výkon, dávejte pozor, o použití bez vazby paralelismus (bez omezení počtu vláken nebo paralelní požadavky) k odeslání nebo stažení dat, pomocí více pracovníků pro přístup k více oddílů (kontejnery, fronty nebo tabulka oddílů) ve stejném účtu úložiště nebo pro přístup k více položek ve stejném oddílu.</span><span class="sxs-lookup"><span data-stu-id="88c08-394">While parallelism can be great for performance, be careful about using unbounded parallelism (no limit on the number of threads and/or parallel requests) to upload or download data, using multiple workers to access multiple partitions (containers, queues, or table partitions) in the same storage account or to access multiple items in the same partition.</span></span> <span data-ttu-id="88c08-395">Pokud paralelismus bez vazby, vaše aplikace může být vyšší než možnosti klientských zařízení nebo škálovatelnosti účtu úložiště cílem výsledkem delší latence a omezení.</span><span class="sxs-lookup"><span data-stu-id="88c08-395">If the parallelism is unbounded, your application can exceed the client device's capabilities or the storage account's scalability targets resulting in longer latencies and throttling.</span></span>  

### <span data-ttu-id="88c08-396"><a name="subheading13"></a>Knihovny klienta úložiště a nástroje</span><span class="sxs-lookup"><span data-stu-id="88c08-396"><a name="subheading13"></a>Storage Client Libraries and Tools</span></span>
<span data-ttu-id="88c08-397">Vždy používejte nejnovější Microsoft poskytuje klientské knihovny a nástroje.</span><span class="sxs-lookup"><span data-stu-id="88c08-397">Always use the latest Microsoft provided client libraries and tools.</span></span> <span data-ttu-id="88c08-398">V době psaní jsou dostupné pro rozhraní .NET, Windows Phone, prostředí Windows Runtime, Java a C++ klientské knihovny, jakož i preview knihovny pro jiné jazyky.</span><span class="sxs-lookup"><span data-stu-id="88c08-398">At the time of writing, there are client libraries available for .NET, Windows Phone, Windows Runtime, Java, and C++, as well as preview libraries for other languages.</span></span> <span data-ttu-id="88c08-399">Kromě toho společnost Microsoft vydala rutiny prostředí PowerShell a rozhraní příkazového řádku Azure pro práci s Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="88c08-399">In addition, Microsoft has released PowerShell cmdlets and Azure CLI commands for working with Azure Storage.</span></span> <span data-ttu-id="88c08-400">Společnost Microsoft aktivně sama vyvinula tyto nástroje s výkonem na paměti, zajišťuje jejich aktuální pomocí nejnovější verze služby a zajišťuje, že mnoho postupů Principy výkonu se interně zpracovat.</span><span class="sxs-lookup"><span data-stu-id="88c08-400">Microsoft actively develops these tools with performance in mind, keeps them up to date with the latest service versions, and ensures they handle many of the proven performance practices internally.</span></span>  

### <a name="retries"></a><span data-ttu-id="88c08-401">Opakování</span><span class="sxs-lookup"><span data-stu-id="88c08-401">Retries</span></span>
#### <span data-ttu-id="88c08-402"><a name="subheading14"></a>Omezení šířky pásma nebo ServerBusy</span><span class="sxs-lookup"><span data-stu-id="88c08-402"><a name="subheading14"></a>Throttling/ServerBusy</span></span>
<span data-ttu-id="88c08-403">Služba úložiště v některých případech může omezení aplikace nebo může být jednoduše nemůže obsluhovat požadavek, protože některé přechodného stavu a vrátíte se zpráva "503 Server je zaneprázdněný" nebo "500 časový limit".</span><span class="sxs-lookup"><span data-stu-id="88c08-403">In some cases, the storage service may throttle your application or may simply be unable to serve the request due to some transient condition and return a "503 Server busy" message or "500 Timeout".</span></span>  <span data-ttu-id="88c08-404">Tomu může dojít, pokud vaše aplikace se blíží některé z cíle škálovatelnosti, nebo pokud je systém vyrovnává oddílů dat, aby se povolit pro vyšší propustnost.</span><span class="sxs-lookup"><span data-stu-id="88c08-404">This can happen if your application is approaching any of the scalability targets, or if the system is rebalancing your partitioned data to allow for higher throughput.</span></span>  <span data-ttu-id="88c08-405">Klientská aplikace by měl obvykle opakujte operaci, kterou způsobí, že takové chyby: Pokus stejné žádost později mohlo být úspěšné.</span><span class="sxs-lookup"><span data-stu-id="88c08-405">The client application should typically retry the operation that causes such an error: attempting the same request later can succeed.</span></span> <span data-ttu-id="88c08-406">Ale pokud službu úložiště je omezení aplikace, protože přesahuje cíle škálovatelnosti, nebo i v případě, že služba nemohla obsluhovat žádosti z jiného důvodu, agresivní opakování obvykle provést nejhorší problém.</span><span class="sxs-lookup"><span data-stu-id="88c08-406">However, if the storage service is throttling your application because it is exceeding scalability targets, or even if the service was unable to serve the request for some other reason, aggressive retries usually make the problem worse.</span></span> <span data-ttu-id="88c08-407">Z tohoto důvodu byste měli používat exponenciální zpět vypnuto (knihovny výchozí klienta pro toto chování).</span><span class="sxs-lookup"><span data-stu-id="88c08-407">For this reason, you should use an exponential back off (the client libraries default to this behavior).</span></span> <span data-ttu-id="88c08-408">Vaše aplikace může například opakovat po 2 sekundy, pak 4 a víc sekund, a 10 sekund a potom 30 sekund a úplně uvolňovat.</span><span class="sxs-lookup"><span data-stu-id="88c08-408">For example, your application may retry after 2 seconds, then 4 seconds, then 10 seconds, then 30 seconds, and then give up completely.</span></span> <span data-ttu-id="88c08-409">Toto chování je výsledkem aplikace výrazně snížit jeho zátěž služby spíše než ke zhoršení potíže.</span><span class="sxs-lookup"><span data-stu-id="88c08-409">This behavior results in your application significantly reducing its load on the service rather than exacerbating any problems.</span></span>  

<span data-ttu-id="88c08-410">Všimněte si, že k chybám připojení můžete opakovat okamžitě, protože nejsou výsledek omezení a se očekává, že být dočasné.</span><span class="sxs-lookup"><span data-stu-id="88c08-410">Note that connectivity errors can be retried immediately, because they are not the result of throttling and are expected to be transient.</span></span>  

#### <span data-ttu-id="88c08-411"><a name="subheading15"></a>Neopakovatelné chyby</span><span class="sxs-lookup"><span data-stu-id="88c08-411"><a name="subheading15"></a>Non-Retryable Errors</span></span>
<span data-ttu-id="88c08-412">Knihovny klienta jsou vědět, které chyby jsou možné opakovat a které nejsou.</span><span class="sxs-lookup"><span data-stu-id="88c08-412">The client libraries are aware of which errors are retry-able and which are not.</span></span> <span data-ttu-id="88c08-413">Pokud vytváříte vlastní kód pro REST API úložiště, pamatujte si však některé chyby, které by neměly opakujte: například 400 (Chybný požadavek) v odpovědi označuje, že klientská aplikace odesláno požadavek, který nebylo možné zpracovat, protože nebyla ve formuláři očekávané.</span><span class="sxs-lookup"><span data-stu-id="88c08-413">However, if you are writing your own code against the storage REST API, remember there are some errors that you should not retry: for example, a 400 (Bad Request) response indicates that the client application sent a request that could not be processed because it was not in an expected form.</span></span> <span data-ttu-id="88c08-414">Odešlete tento požadavek, bude stejná odpověď pokaždé, když, proto se nenachází žádný bod v jeho opakování.</span><span class="sxs-lookup"><span data-stu-id="88c08-414">Resending this request will result the same response every time, so there is no point in retrying it.</span></span> <span data-ttu-id="88c08-415">Pokud vytváříte vlastní kód pro REST API úložiště, uvědomte si, co znamená kódy chyb a správný způsob, jak můžete opakovat (nebo ne) pro každý z nich.</span><span class="sxs-lookup"><span data-stu-id="88c08-415">If you are writing your own code against the storage REST API, be aware of what the error codes mean and the proper way to retry (or not) for each of them.</span></span>  

#### <a name="useful-resources"></a><span data-ttu-id="88c08-416">Užitečné materiály</span><span class="sxs-lookup"><span data-stu-id="88c08-416">Useful Resources</span></span>
<span data-ttu-id="88c08-417">Další informace o chybových kódech úložiště najdete v tématu [stavu a kódy chyb](http://msdn.microsoft.com/library/azure/dd179382.aspx) na webu Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="88c08-417">For more information about storage error codes, see [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) on the Microsoft Azure web site.</span></span>  

## <a name="blobs"></a><span data-ttu-id="88c08-418">Objekty blob</span><span class="sxs-lookup"><span data-stu-id="88c08-418">Blobs</span></span>
<span data-ttu-id="88c08-419">Kromě osvědčené postupy pro [všechny služby](#allservices) popsané, následující osvědčené postupy, jako se týkají konkrétně služby objektů blob.</span><span class="sxs-lookup"><span data-stu-id="88c08-419">In addition to the proven practices for [All Services](#allservices) described previously, the following proven practices apply specifically to the blob service.</span></span>  

### <a name="blob-specific-scalability-targets"></a><span data-ttu-id="88c08-420">Cíle škálovatelnosti specifické objektů BLOB</span><span class="sxs-lookup"><span data-stu-id="88c08-420">Blob-Specific Scalability Targets</span></span>
#### <span data-ttu-id="88c08-421"><a name="subheading46"></a>Víc klientů současně přístup k jednoho objektu.</span><span class="sxs-lookup"><span data-stu-id="88c08-421"><a name="subheading46"></a>Multiple clients accessing a single object concurrently</span></span>
<span data-ttu-id="88c08-422">Pokud máte velký počet klientů přistupovat k jednoho objektu souběžně musíte vzít v úvahu na objekt a úložiště cíle škálovatelnosti účtu.</span><span class="sxs-lookup"><span data-stu-id="88c08-422">If you have a large number of clients accessing a single object concurrently you will need to consider per object and storage account scalability targets.</span></span> <span data-ttu-id="88c08-423">Přesný počet klientů, kteří mohou přistupovat k jednoho objektu budou lišit v závislosti na faktorech, například počet klienty žádající objekt současně, velikost objektu, síťové podmínky atd.</span><span class="sxs-lookup"><span data-stu-id="88c08-423">The exact number of clients that can access a single object will vary depending on factors such as the number of clients requesting the object simultaneously, the size of the object, network conditions etc.</span></span>

<span data-ttu-id="88c08-424">Pokud objekt lze distribuovat pomocí zpracování CDN například obrázky nebo videa z webu potom byste měli použít název CDN.</span><span class="sxs-lookup"><span data-stu-id="88c08-424">If the object can be distributed through a CDN such as images or videos served from a website then you should use a CDN.</span></span> <span data-ttu-id="88c08-425">V tématu [zde](#subheading5).</span><span class="sxs-lookup"><span data-stu-id="88c08-425">See [here](#subheading5).</span></span>

<span data-ttu-id="88c08-426">V dalších scénářích, třeba scientific simulace, kde jsou důvěrné máte dvě možnosti.</span><span class="sxs-lookup"><span data-stu-id="88c08-426">In other scenarios such as scientific simulations where the data is confidential you have two options.</span></span> <span data-ttu-id="88c08-427">První je rozložte vaše úlohy přístup tak, že během období čas vs přistupuje současně získat přístup k objektu.</span><span class="sxs-lookup"><span data-stu-id="88c08-427">The first is to stagger your workload's access such that the object is accessed over a period of time vs being accessed simultaneously.</span></span> <span data-ttu-id="88c08-428">Alternativně můžete dočasně kopírovat objekt k několika účtům úložiště a zvýšit tak celkový počet IOPS podle objektu a mezi různými účty úložiště.</span><span class="sxs-lookup"><span data-stu-id="88c08-428">Alternatively, you can temporarily copy the object to multiple storage accounts thus increasing the total IOPS per object and across storage accounts.</span></span> <span data-ttu-id="88c08-429">V omezené testování bylo zjištěno, že přibližně 25 virtuálních počítačů může současně stáhnout objekt blob 100GB paralelně (každý virtuální počítač byl paralelním prováděním stahování použití 32 vláken).</span><span class="sxs-lookup"><span data-stu-id="88c08-429">In limited testing we found that around 25 VMs could simultaneously download a 100GB blob in parallel (each VM was parallelizing the download using 32 threads).</span></span> <span data-ttu-id="88c08-430">Pokud jste měli 100 klienty, kteří potřebují přístup k objektu, nejdříve ho zkopírovat do druhého účtu úložiště a pak mít první 50 virtuální počítače přístup k první objekt blob a druhý 50 virtuálních počítačů k druhý objekt blob.</span><span class="sxs-lookup"><span data-stu-id="88c08-430">If you had 100 clients needing to access the object, first copy it to a second storage account and then have the first 50 VMs access the first blob and the second 50 VMs access the second blob.</span></span> <span data-ttu-id="88c08-431">Výsledky se liší podle chování vaší aplikace, takže byste měli otestovat při návrhu.</span><span class="sxs-lookup"><span data-stu-id="88c08-431">Results will vary depending on your applications behavior so you should test this during design.</span></span> 

#### <span data-ttu-id="88c08-432"><a name="subheading16"></a>Operace na objektu Blob a šířky pásma</span><span class="sxs-lookup"><span data-stu-id="88c08-432"><a name="subheading16"></a>Bandwidth and operations per Blob</span></span>
<span data-ttu-id="88c08-433">Můžou číst nebo zapisovat do jediného objektu blob v až do maximálního počtu 60 MB za sekundu (Toto je přibližně 480 MB/s překročený možnosti mnoho sítí straně klienta (včetně fyzický síťový adaptér v klientském zařízení).</span><span class="sxs-lookup"><span data-stu-id="88c08-433">You can read or write to a single blob at up to a maximum of 60 MB/second (this is approximately 480 Mbps which exceeds the capabilities of many client side networks (including the physical NIC on the client device).</span></span> <span data-ttu-id="88c08-434">Kromě toho jediného objektu blob podporuje až 500 požadavků za sekundu.</span><span class="sxs-lookup"><span data-stu-id="88c08-434">In addition, a single blob supports up to 500 requests per second.</span></span> <span data-ttu-id="88c08-435">Pokud máte více klientů, které je třeba číst stejný objekt blob a může tato omezení překročí, měli byste zvážit použití název CDN pro distribuci objektu blob.</span><span class="sxs-lookup"><span data-stu-id="88c08-435">If you have multiple clients that need to read the same blob and you might exceed these limits, you should consider using a CDN for distributing the blob.</span></span>  

<span data-ttu-id="88c08-436">Další informace o cílové propustnost pro objekty BLOB najdete v tématu [a cíle výkonnosti služby Azure Storage Scalability](storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="88c08-436">For more information about target throughput for blobs, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md).</span></span>  

### <a name="copying-and-moving-blobs"></a><span data-ttu-id="88c08-437">Kopírování a přesouvání objektů BLOB</span><span class="sxs-lookup"><span data-stu-id="88c08-437">Copying and Moving Blobs</span></span>
#### <span data-ttu-id="88c08-438"><a name="subheading17"></a>Zkopírování objektu Blob</span><span class="sxs-lookup"><span data-stu-id="88c08-438"><a name="subheading17"></a>Copy Blob</span></span>
<span data-ttu-id="88c08-439">REST API verze 2012-02-12 úložiště zavedená užitečné možnost kopírovat objekty BLOB na účty: klientské aplikace můžete nastavit, aby služba úložiště zkopírovat objekt blob z jiného zdroje (například ve jiný účet úložiště) a nechat službu provést kopie asynchronně.</span><span class="sxs-lookup"><span data-stu-id="88c08-439">The storage REST API version 2012-02-12 introduced the useful ability to copy blobs across accounts: a client application can instruct the storage service to copy a blob from another source (possibly in a different storage account), and then let the service perform the copy asynchronously.</span></span> <span data-ttu-id="88c08-440">To může výrazně snížit šířku pásma potřebné pro aplikace, pokud jsou migraci dat z jiné účty úložiště, protože není potřeba stáhnout a odeslat data.</span><span class="sxs-lookup"><span data-stu-id="88c08-440">This can significantly reduce the bandwidth needed for the application when you are migrating data from other storage accounts because you do not need to download and upload the data.</span></span>  

<span data-ttu-id="88c08-441">Jednou z těchto okolností, ale je, že při kopírování souborů mezi účty úložiště, je možné, čas na při kopírování dokončí.</span><span class="sxs-lookup"><span data-stu-id="88c08-441">One consideration, however, is that, when copying between storage accounts, there is no time guarantee on when the copy will complete.</span></span> <span data-ttu-id="88c08-442">Pokud aplikace potřebuje k dokončení kopírování objektu blob rychle ve vaší kontrole, je lepší kopírování objektu blob stahování do virtuálního počítače a odesílá je do cílového umístění.</span><span class="sxs-lookup"><span data-stu-id="88c08-442">If your application needs to complete a blob copy quickly under your control, it may be better to copy the blob by downloading it to a VM and then uploading it to the destination.</span></span>  <span data-ttu-id="88c08-443">Pro úplnou předvídatelnost v takovém případě Ujistěte se, že provádí kopie virtuálního počítače s ve stejné oblasti Azure, jinak se síťové podmínky může (a pravděpodobně bude) ovlivnit výkon kopírování.</span><span class="sxs-lookup"><span data-stu-id="88c08-443">For full predictability in that situation, ensure that the copy is performed by a VM running in the same Azure region, or else network conditions may (and probably will) affect your copy performance.</span></span>  <span data-ttu-id="88c08-444">Kromě toho můžete sledovat průběh asynchronní kopírování prostřednictvím kódu programu.</span><span class="sxs-lookup"><span data-stu-id="88c08-444">In addition, you can monitor the progress of an asynchronous copy programmatically.</span></span>  

<span data-ttu-id="88c08-445">Všimněte si, že kopie v rámci stejného účtu úložiště samotné jsou obecně dokončit rychle.</span><span class="sxs-lookup"><span data-stu-id="88c08-445">Note that copies within the same storage account itself are generally completed quickly.</span></span>  

<span data-ttu-id="88c08-446">Další informace najdete v tématu [kopírovat objekt Blob](http://msdn.microsoft.com/library/azure/dd894037.aspx).</span><span class="sxs-lookup"><span data-stu-id="88c08-446">For more information, see [Copy Blob](http://msdn.microsoft.com/library/azure/dd894037.aspx).</span></span>  

#### <span data-ttu-id="88c08-447"><a name="subheading18"></a>Pomocí nástroje AzCopy</span><span class="sxs-lookup"><span data-stu-id="88c08-447"><a name="subheading18"></a>Use AzCopy</span></span>
<span data-ttu-id="88c08-448">Tým služby Azure Storage vydala nástroj příkazového řádku "AzCopy", měl by vám pomoct s hromadného přenosu mnoho objektů BLOB do z a mezi různými účty úložiště.</span><span class="sxs-lookup"><span data-stu-id="88c08-448">The Azure Storage team has released a command-line tool "AzCopy" that is meant to help with bulk transferring many blobs to, from, and across storage accounts.</span></span>  <span data-ttu-id="88c08-449">Tento nástroj je optimalizovaná pro tento scénář a můžete dosáhnout vysoké přenosové rychlosti.</span><span class="sxs-lookup"><span data-stu-id="88c08-449">This tool is optimized for this scenario, and can achieve high transfer rates.</span></span>  <span data-ttu-id="88c08-450">Pro hromadné odesílání, stahování a scénáře kopírováním je podporováno jeho používání.</span><span class="sxs-lookup"><span data-stu-id="88c08-450">Its use is encouraged for bulk upload, download, and copy scenarios.</span></span> <span data-ttu-id="88c08-451">Další informace o něm a stažení najdete v tématu [přenos dat pomocí nástroje příkazového řádku Azcopy](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="88c08-451">To learn more about it and download it, see [Transfer data with the AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>  

#### <span data-ttu-id="88c08-452"><a name="subheading19"></a>Služba Azure Import/Export</span><span class="sxs-lookup"><span data-stu-id="88c08-452"><a name="subheading19"></a>Azure Import/Export Service</span></span>
<span data-ttu-id="88c08-453">Pro velmi velké objemy dat (více než 1TB) Azure Storage nabízí službu Import/Export, která umožňuje odesílání a stahování z úložiště objektů blob podle přenosů pevné disky.</span><span class="sxs-lookup"><span data-stu-id="88c08-453">For very large volumes of data (more than 1TB), the Azure Storage offers the Import/Export service, which allows for uploading and downloading from blob storage by shipping hard drives.</span></span>  <span data-ttu-id="88c08-454">Můžete uvést vaše data na pevném disku a odešle společnosti Microsoft pro odeslání nebo odesílat společnosti Microsoft pro stahování dat prázdné pevný disk.</span><span class="sxs-lookup"><span data-stu-id="88c08-454">You can put your data on a hard drive and send it to Microsoft for upload, or send a blank hard drive to Microsoft to download data.</span></span>  <span data-ttu-id="88c08-455">Další informace najdete v tématu [používat službu Microsoft Azure Import/Export přenos dat do úložiště objektů Blob](../storage-import-export-service.md).</span><span class="sxs-lookup"><span data-stu-id="88c08-455">For more information, see [Use the Microsoft Azure Import/Export Service to Transfer Data to Blob Storage](../storage-import-export-service.md).</span></span>  <span data-ttu-id="88c08-456">To může být mnohem efektivnější než nahrávání nebo stahování tento svazek dat přes síť.</span><span class="sxs-lookup"><span data-stu-id="88c08-456">This can be much more efficient than uploading/downloading this volume of data over the network.</span></span>  

### <span data-ttu-id="88c08-457"><a name="subheading20"></a>Používání metadat</span><span class="sxs-lookup"><span data-stu-id="88c08-457"><a name="subheading20"></a>Use metadata</span></span>
<span data-ttu-id="88c08-458">Služba objektů blob podporuje head požadavků, které mohou zahrnovat metadata o objektu blob.</span><span class="sxs-lookup"><span data-stu-id="88c08-458">The blob service supports head requests, which can include metadata about the blob.</span></span> <span data-ttu-id="88c08-459">Například v případě potřeby EXIF dat mimo fotografie aplikace ho může načíst fotografie a rozbalte ho.</span><span class="sxs-lookup"><span data-stu-id="88c08-459">For example, if your application needed the EXIF data out of a photo, it could retrieve the photo and extract it.</span></span> <span data-ttu-id="88c08-460">Uložte šířky pásma a zvýšit výkon, vaše aplikace může EXIF data ukládat do metadata objektu blob při odeslání aplikace fotografie: můžete pak načíst žádosti EXIF dat v metadatech pomocí pouze HEAD, ukládání významné šířky pásma a doba zpracování potřebné k extrakci EXIF dat jednotliví čas objektu blob je pro čtení.</span><span class="sxs-lookup"><span data-stu-id="88c08-460">To save bandwidth and improve performance, your application could store the EXIF data in the blob's metadata when the application uploaded the photo: you can then retrieve the EXIF data in metadata using only a HEAD request, saving significant bandwidth and the processing time needed to extract the EXIF data each time the blob is read.</span></span> <span data-ttu-id="88c08-461">To může být užitečný ve scénářích, kde potřebujete pouze metadata a ne celý obsah objektu blob.</span><span class="sxs-lookup"><span data-stu-id="88c08-461">This would be useful in scenarios where you only need the metadata, and not the full content of a blob.</span></span>  <span data-ttu-id="88c08-462">Všimněte si, pouze 8 KB metadat mohou být uloženy na objekt blob (služba nebude přijímat žádosti na úložišti víc než který), takže pokud data v této velikosti nevejde, nebudete moci tuto metodu použijte.</span><span class="sxs-lookup"><span data-stu-id="88c08-462">Note that only 8 KB of metadata can be stored per blob (the service will not accept a request to store more than that), so if the data does not fit in that size, you may not be able to use this approach.</span></span>  

<span data-ttu-id="88c08-463">Příklad, jak získat objekt blob metadat pomocí rozhraní .NET, naleznete v části [sady a vlastnosti načíst a Metadata](../blobs/storage-properties-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="88c08-463">For an example of how to get a blob's metadata using .NET, see [Set and Retrieve Properties and Metadata](../blobs/storage-properties-metadata.md).</span></span>  

### <a name="uploading-fast"></a><span data-ttu-id="88c08-464">Rychlé nahrávání</span><span class="sxs-lookup"><span data-stu-id="88c08-464">Uploading Fast</span></span>
<span data-ttu-id="88c08-465">Rychlé nahrát objekty BLOB, je první otázku odpovědět: jste odesílání jeden objekt blob nebo mnoho?</span><span class="sxs-lookup"><span data-stu-id="88c08-465">To upload blobs fast, the first question to answer is: are you uploading one blob or many?</span></span>  <span data-ttu-id="88c08-466">Použít níže pokyny k určení správné metoda používat v závislosti na vašem scénáři.</span><span class="sxs-lookup"><span data-stu-id="88c08-466">Use the below guidance to determine the correct method to use depending on your scenario.</span></span>  

#### <span data-ttu-id="88c08-467"><a name="subheading21"></a>Rychle odesílání jednoho velkého objektu blob</span><span class="sxs-lookup"><span data-stu-id="88c08-467"><a name="subheading21"></a>Uploading one large blob quickly</span></span>
<span data-ttu-id="88c08-468">Pokud chcete rychle nahrát jediného velkého objektu blob, měli klientské aplikace nahrávat stránkách paralelně (Probíhá s vědomím cíle škálovatelnosti pro jednotlivé objekty BLOB a účet úložiště jako celek) nebo jeho bloky.</span><span class="sxs-lookup"><span data-stu-id="88c08-468">To upload a single large blob quickly, your client application should upload its blocks or pages in parallel (being mindful of the scalability targets for individual blobs and the storage account as a whole).</span></span>  <span data-ttu-id="88c08-469">Všimněte si, že oficiální poskytovaný společností Microsoft RTM úložiště klientské knihovny (.NET, Java) mají možnost to udělat.</span><span class="sxs-lookup"><span data-stu-id="88c08-469">Note that the official Microsoft-provided RTM Storage Client libraries (.NET, Java) have the ability to do this.</span></span>  <span data-ttu-id="88c08-470">Pro každou z knihoven, použijte níže zadaný objekt nebo vlastnost nastavit úroveň souběžnosti:</span><span class="sxs-lookup"><span data-stu-id="88c08-470">For each of the libraries, use the below specified object/property to set the level of concurrency:</span></span>  

* <span data-ttu-id="88c08-471">Rozhraní .NET: Sada ParallelOperationThreadCount na objekt BlobRequestOptions má být použit.</span><span class="sxs-lookup"><span data-stu-id="88c08-471">.NET: Set ParallelOperationThreadCount on a BlobRequestOptions object to be used.</span></span>
* <span data-ttu-id="88c08-472">Javě a Androidu: Použít BlobRequestOptions.setConcurrentRequestCount()</span><span class="sxs-lookup"><span data-stu-id="88c08-472">Java/Android: Use BlobRequestOptions.setConcurrentRequestCount()</span></span>
* <span data-ttu-id="88c08-473">Node.js: Použijte parallelOperationThreadCount na možnosti požadavku nebo služby objektů blob.</span><span class="sxs-lookup"><span data-stu-id="88c08-473">Node.js: Use parallelOperationThreadCount on either the request options or on the blob service.</span></span>
* <span data-ttu-id="88c08-474">C++: Použijte metodu blob_request_options::set_parallelism_factor.</span><span class="sxs-lookup"><span data-stu-id="88c08-474">C++: Use the blob_request_options::set_parallelism_factor method.</span></span>

#### <span data-ttu-id="88c08-475"><a name="subheading22"></a>Rychlé nahrávání mnoho objektů BLOB</span><span class="sxs-lookup"><span data-stu-id="88c08-475"><a name="subheading22"></a>Uploading many blobs quickly</span></span>
<span data-ttu-id="88c08-476">Pokud chcete rychle nahrát mnoho objektů BLOB, nahrajte objekty BLOB paralelně.</span><span class="sxs-lookup"><span data-stu-id="88c08-476">To upload many blobs quickly, upload blobs in parallel.</span></span> <span data-ttu-id="88c08-477">Toto je rychlejší než odesílání jeden objekty BLOB současně s paralelní blok nahrávání protože šíří se nahrávání napříč více oddílů služby úložiště.</span><span class="sxs-lookup"><span data-stu-id="88c08-477">This is faster than uploading single blobs at a time with parallel block uploads because it spreads the upload across multiple partitions of the storage service.</span></span> <span data-ttu-id="88c08-478">Jediného objektu blob podporuje pouze propustnost 60 MB za sekundu (přibližně 480 MB/s).</span><span class="sxs-lookup"><span data-stu-id="88c08-478">A single blob only supports a throughput of 60 MB/second (approximately 480 Mbps).</span></span> <span data-ttu-id="88c08-479">V době psaní účet na základě USA LRS podporuje až 20 GB/s příjem příchozích dat, což je mnohem víc než propustnost nepodporuje jednotlivých objektů blob.</span><span class="sxs-lookup"><span data-stu-id="88c08-479">At the time of writing, a US-based LRS account supports up to 20 Gbps ingress which is far more than the throughput supported by an individual blob.</span></span>  <span data-ttu-id="88c08-480">[AzCopy](#subheading18) ve výchozím nastavení provádí nahrávání paralelně a doporučuje se pro tento scénář.</span><span class="sxs-lookup"><span data-stu-id="88c08-480">[AzCopy](#subheading18) performs uploads in parallel by default, and is recommended for this scenario.</span></span>  

### <span data-ttu-id="88c08-481"><a name="subheading23"></a>Výběr správného typu objektu blob</span><span class="sxs-lookup"><span data-stu-id="88c08-481"><a name="subheading23"></a>Choosing the correct type of blob</span></span>
<span data-ttu-id="88c08-482">Úložiště Azure podporuje dva typy objektů blob: *stránky* objekty BLOB a *bloku* objekty BLOB.</span><span class="sxs-lookup"><span data-stu-id="88c08-482">Azure Storage supports two types of blob: *page* blobs and *block* blobs.</span></span> <span data-ttu-id="88c08-483">Pro scénář dané využití zvoleného typu Objekt blob ovlivní výkon a škálovatelnost řešení.</span><span class="sxs-lookup"><span data-stu-id="88c08-483">For a given usage scenario, your choice of blob type will affect the performance and scalability of your solution.</span></span> <span data-ttu-id="88c08-484">Objekty BLOB bloku jsou vhodné, pokud chcete nahrát velké objemy dat efektivně: například klientskou aplikaci muset nahrát fotografie nebo video do úložiště objektů blob.</span><span class="sxs-lookup"><span data-stu-id="88c08-484">Block blobs are appropriate when you want to upload large amounts of data efficiently: for example, a client application may need to upload photos or video to blob storage.</span></span> <span data-ttu-id="88c08-485">Objekty BLOB stránky jsou vhodné, pokud aplikace potřebuje k provedení náhodné zápisy na základě dat: například Azure virtuální pevné disky jsou uložené jako objekty BLOB stránky.</span><span class="sxs-lookup"><span data-stu-id="88c08-485">Page blobs are appropriate if the application needs to perform random writes on the data: for example, Azure VHDs are stored as page blobs.</span></span>  

<span data-ttu-id="88c08-486">Další informace najdete v tématu [Principy objekty BLOB bloku a doplňovacích objektů BLOB, objekty BLOB stránky](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span><span class="sxs-lookup"><span data-stu-id="88c08-486">For more information, see [Understanding Block Blobs, Append Blobs, and Page Blobs](http://msdn.microsoft.com/library/azure/ee691964.aspx).</span></span>  

## <a name="tables"></a><span data-ttu-id="88c08-487">Tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-487">Tables</span></span>
<span data-ttu-id="88c08-488">Kromě osvědčené postupy pro [všechny služby](#allservices) popsané, následující osvědčené postupy, jako se týkají konkrétně služby table.</span><span class="sxs-lookup"><span data-stu-id="88c08-488">In addition to the proven practices for [All Services](#allservices) described previously, the following proven practices apply specifically to the table service.</span></span>  

### <span data-ttu-id="88c08-489"><a name="subheading24"></a>Cíle škálovatelnosti specifické pro tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-489"><a name="subheading24"></a>Table-Specific Scalability Targets</span></span>
<span data-ttu-id="88c08-490">Kromě omezení šířky pásma celý účet úložiště tabulky mají následující omezení konkrétní škálovatelnost.</span><span class="sxs-lookup"><span data-stu-id="88c08-490">In addition to the bandwidth limitations of an entire storage account, tables have the following specific scalability limit.</span></span>  <span data-ttu-id="88c08-491">Všimněte si, že systém bude Vyrovnávání zatížení jako vaše zvýšení provozu, ale pokud provozu nečekané shluky, nemusí být možné získat tento svazek propustnost okamžitě.</span><span class="sxs-lookup"><span data-stu-id="88c08-491">Note that the system will load balance as your traffic increases, but if your traffic has sudden bursts, you may not be able to get this volume of throughput immediately.</span></span>  <span data-ttu-id="88c08-492">Pokud vaše vzor shluky, měli byste měli vidět omezení nebo vypršení časových limitů během shluků jako úložiště služby automaticky vyrovnává zatížení na tabulku.</span><span class="sxs-lookup"><span data-stu-id="88c08-492">If your pattern has bursts, you should expect to see throttling and/or timeouts during the burst as the storage service automatically load balances out your table.</span></span>  <span data-ttu-id="88c08-493">Ramping až pomalu obecně má lepší výsledky, protože nabízí systémového času pro vyrovnávání zatížení správně.</span><span class="sxs-lookup"><span data-stu-id="88c08-493">Ramping up slowly generally has better results as it gives the system time to load balance appropriately.</span></span>  

#### <a name="entities-per-second-account"></a><span data-ttu-id="88c08-494">Entity za sekundu (účet)</span><span class="sxs-lookup"><span data-stu-id="88c08-494">Entities per Second (Account)</span></span>
<span data-ttu-id="88c08-495">Škálovatelnost limit pro přístup k tabulky je až 20 000 entity (1KB každé) za sekundu pro účet.</span><span class="sxs-lookup"><span data-stu-id="88c08-495">The scalability limit for accessing tables is up to 20,000 entities (1KB each) per second for an account.</span></span>  <span data-ttu-id="88c08-496">Obecně platí každá entita, která je vložit, aktualizovat, odstranit nebo zkontrolovat počty směrem k této cílové.</span><span class="sxs-lookup"><span data-stu-id="88c08-496">In general, each entity that is inserted, updated, deleted, or scanned counts toward this target.</span></span>  <span data-ttu-id="88c08-497">Proto by dávkové vložení, který obsahuje 100 entit počítají jako 100 entit.</span><span class="sxs-lookup"><span data-stu-id="88c08-497">So a batch insert that contains 100 entities would count as 100 entities.</span></span>  <span data-ttu-id="88c08-498">Dotaz, který vyhledá 1000 entity a vrátí 5 by se počítají jako 1000 entity.</span><span class="sxs-lookup"><span data-stu-id="88c08-498">A query that scans 1000 entities and returns 5 would count as 1000 entities.</span></span>  

#### <a name="entities-per-second-partition"></a><span data-ttu-id="88c08-499">Entity za sekundu (oddíl)</span><span class="sxs-lookup"><span data-stu-id="88c08-499">Entities per Second (Partition)</span></span>
<span data-ttu-id="88c08-500">Škálovatelnost cíl pro přístup k tabulky v rámci jednoho oddílu, je 2 000 entity (1KB každé) za sekundu, pomocí stejné inventura, jak je popsáno v předchozí části.</span><span class="sxs-lookup"><span data-stu-id="88c08-500">Within a single partition, the scalability target for accessing tables is 2,000 entities (1KB each) per second, using the same counting as described in the previous section.</span></span>  

### <a name="configuration"></a><span data-ttu-id="88c08-501">Konfigurace</span><span class="sxs-lookup"><span data-stu-id="88c08-501">Configuration</span></span>
<span data-ttu-id="88c08-502">Tato část obsahuje několik nastavení rychlé konfigurace, které můžete použít k významné zlepšení výkonu služby table.</span><span class="sxs-lookup"><span data-stu-id="88c08-502">This section lists several quick configuration settings that you can use to make significant performance improvements in the table service:</span></span>  

#### <span data-ttu-id="88c08-503"><a name="subheading25"></a>Použití JSON</span><span class="sxs-lookup"><span data-stu-id="88c08-503"><a name="subheading25"></a>Use JSON</span></span>
<span data-ttu-id="88c08-504">Počínaje verzí služby úložiště 2013-08-15, služby table podporuje používání JSON místo formát založený na jazyce XML AtomPub pro přenos dat v tabulce.</span><span class="sxs-lookup"><span data-stu-id="88c08-504">Beginning with storage service version 2013-08-15, the table service supports using JSON instead of the XML-based AtomPub format for transferring table data.</span></span> <span data-ttu-id="88c08-505">To může snížit velikost datové části tím, co nejvíce 75 % a může výrazně zlepšit výkon vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="88c08-505">This can reduce payload sizes by as much as 75% and can significantly improve the performance of your application.</span></span>

<span data-ttu-id="88c08-506">Další informace najdete v příspěvku [tabulek Microsoft Azure: Úvod JSON](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/05/windows-azure-tables-introducing-json.aspx) a [Formát datové části pro operace služby s tabulkou](http://msdn.microsoft.com/library/azure/dn535600.aspx).</span><span class="sxs-lookup"><span data-stu-id="88c08-506">For more information, see the post [Microsoft Azure Tables: Introducing JSON](http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/05/windows-azure-tables-introducing-json.aspx) and [Payload Format for Table Service Operations](http://msdn.microsoft.com/library/azure/dn535600.aspx).</span></span>

#### <span data-ttu-id="88c08-507"><a name="subheading26"></a>Nagle vypnuto</span><span class="sxs-lookup"><span data-stu-id="88c08-507"><a name="subheading26"></a>Nagle Off</span></span>
<span data-ttu-id="88c08-508">Na Nagle algoritmus je široce implementována v sítích TCP/IP jako prostředek k zlepšit výkon sítě.</span><span class="sxs-lookup"><span data-stu-id="88c08-508">Nagle's algorithm is widely implemented across TCP/IP networks as a means to improve network performance.</span></span> <span data-ttu-id="88c08-509">Však není optimální za všech okolností (například vysoce interaktivní prostředí).</span><span class="sxs-lookup"><span data-stu-id="88c08-509">However, it is not optimal in all circumstances (such as highly interactive environments).</span></span> <span data-ttu-id="88c08-510">Pro Azure Storage algoritmus je Nagle má negativní dopad na výkon žádostí o služby tabulky a fronty a zakažte je-li to možné.</span><span class="sxs-lookup"><span data-stu-id="88c08-510">For Azure Storage, Nagle's algorithm has a negative impact on the performance of requests to the table and queue services, and you should disable it if possible.</span></span>  

<span data-ttu-id="88c08-511">Další informace najdete v tématu naše blogu [na Nagle algoritmus není popisný směrem malé požadavky](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx), která vysvětluje, proč je Nagle algoritmus špatně komunikuje s tabulky a fronty požadavků a ukazuje, jak zakázat v klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="88c08-511">For more information, see our blog post [Nagle's Algorithm is Not Friendly towards Small Requests](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx), which explains why Nagle's algorithm interacts poorly with table and queue requests, and shows how to disable it in your client application.</span></span>  

### <a name="schema"></a><span data-ttu-id="88c08-512">Schéma</span><span class="sxs-lookup"><span data-stu-id="88c08-512">Schema</span></span>
<span data-ttu-id="88c08-513">Jak představují a dotazování na data je největších jeden faktor, který má vliv na výkon služby table.</span><span class="sxs-lookup"><span data-stu-id="88c08-513">How you represent and query your data is the biggest single factor that affects the performance of the table service.</span></span> <span data-ttu-id="88c08-514">Při každá aplikace, se liší, tato část popisuje některé obecné osvědčené postupy, které se vztahují k:</span><span class="sxs-lookup"><span data-stu-id="88c08-514">While every application is different, this section outlines some general proven practices that relate to:</span></span>  

* <span data-ttu-id="88c08-515">Návrh tabulky</span><span class="sxs-lookup"><span data-stu-id="88c08-515">Table design</span></span>
* <span data-ttu-id="88c08-516">Efektivní dotazy</span><span class="sxs-lookup"><span data-stu-id="88c08-516">Efficient queries</span></span>
* <span data-ttu-id="88c08-517">Aktualizace efektivní dat</span><span class="sxs-lookup"><span data-stu-id="88c08-517">Efficient data updates</span></span>  

#### <span data-ttu-id="88c08-518"><a name="subheading27"></a>Tabulky a oddíly</span><span class="sxs-lookup"><span data-stu-id="88c08-518"><a name="subheading27"></a>Tables and partitions</span></span>
<span data-ttu-id="88c08-519">Tabulky jsou rozděleny do oddílů.</span><span class="sxs-lookup"><span data-stu-id="88c08-519">Tables are divided into partitions.</span></span> <span data-ttu-id="88c08-520">Každou entitu uložená v oddílu sdílí stejný klíč oddílu a má řádek jedinečný klíč pro jeho rozpoznání v rámci oddílu.</span><span class="sxs-lookup"><span data-stu-id="88c08-520">Every entity stored in a partition shares the same partition key and has a unique row key to identify it within that partition.</span></span> <span data-ttu-id="88c08-521">Oddíly výhody, ale také zavádět omezení škálovatelnosti.</span><span class="sxs-lookup"><span data-stu-id="88c08-521">Partitions provide benefits but also introduce scalability limits.</span></span>  

* <span data-ttu-id="88c08-522">Výhody: Můžete aktualizovat entity v stejného oddílu v jedinou atomic, batch transakci, která obsahuje až 100 operace samostatné úložiště (limit je 4MB, celková velikost).</span><span class="sxs-lookup"><span data-stu-id="88c08-522">Benefits: You can update entities in the same partition in a single, atomic, batch transaction that contains up to 100 separate storage operations (limit of 4MB total size).</span></span> <span data-ttu-id="88c08-523">Za předpokladu, že stejný počet entit, které mají být načteny, se můžete dotazovat i dat v rámci jednoho oddílu efektivnější než data, která rozdělena na oddíly (přestože přečtěte si další doporučení na dotazování na data tabulky).</span><span class="sxs-lookup"><span data-stu-id="88c08-523">Assuming the same number of entities to be retrieved, you can also query data within a single partition more efficiently than data that spans partitions (though read on for further recommendations on querying table data).</span></span>
* <span data-ttu-id="88c08-524">Limit škálovatelnosti: přístup k entity, které jsou uložené v jednom oddílu nesmí být vyrovnávání zatížení sítě vzhledem k tomu oddíly podporují atomic dávkové transakce.</span><span class="sxs-lookup"><span data-stu-id="88c08-524">Scalability limit: Access to entities stored in a single partition cannot be load-balanced because partitions support atomic batch transactions.</span></span> <span data-ttu-id="88c08-525">Z tohoto důvodu škálovatelnost cíl pro jednotlivé tabulky oddíl je nižší než pro službu tabulky jako celek.</span><span class="sxs-lookup"><span data-stu-id="88c08-525">For this reason, the scalability target for an individual table partition is lower than for the table service as a whole.</span></span>  

<span data-ttu-id="88c08-526">Z důvodu tyto charakteristiky tabulek a oddíly musí přijmout tyto zásady:</span><span class="sxs-lookup"><span data-stu-id="88c08-526">Because of these characteristics of tables and partitions, you should adopt the following design principles:</span></span>  

* <span data-ttu-id="88c08-527">Data, která klientské aplikace často aktualizovat nebo spustit dotaz ve stejné logické jednotky práce se musí nacházet ve stejném oddílu.</span><span class="sxs-lookup"><span data-stu-id="88c08-527">Data that your client application frequently updated or queried in the same logical unit of work should be located in the same partition.</span></span>  <span data-ttu-id="88c08-528">To může být, protože aplikace je agregování zápisy, nebo protože budete chtít využít výhod atomic dávkových operací.</span><span class="sxs-lookup"><span data-stu-id="88c08-528">This may be because your application is aggregating writes, or because you want to take advantage of atomic batch operations.</span></span>  <span data-ttu-id="88c08-529">Data v jednom oddílu může být efektivněji dotazována také v jednom dotazu než dat napříč oddíly.</span><span class="sxs-lookup"><span data-stu-id="88c08-529">Also, data in a single partition can be more efficiently queried in a single query than data across partitions.</span></span>
* <span data-ttu-id="88c08-530">Data, která klientské aplikace není insert nebo update nebo dotaz, ve stejné logické jednotky práce (jeden dotaz nebo aktualizace batch) by měl být umístěn v samostatné oddíly.</span><span class="sxs-lookup"><span data-stu-id="88c08-530">Data that your client application does not insert/update or query in the same logical unit of work (single query or batch update) should be located in separate partitions.</span></span>  <span data-ttu-id="88c08-531">Důležité OneNote je, že neexistuje žádné omezení počtu klíče oddílů v jediné tabulce, tak s miliony klíče oddílů se nejedná o problém a nebude mít vliv na výkon.</span><span class="sxs-lookup"><span data-stu-id="88c08-531">One important note is that there is no limit to the number of partition keys in a single table, so having millions of partition keys is not a problem and will not impact performance.</span></span>  <span data-ttu-id="88c08-532">Například pokud vaše aplikace je oblíbené webové stránky s přihlášení uživatele, pak pomocí Id uživatele jako klíč oddílu může být dobrou volbou.</span><span class="sxs-lookup"><span data-stu-id="88c08-532">For example, if your application is a popular website with user login, using the User Id as the partition key could be a good choice.</span></span>  

#### <a name="hot-partitions"></a><span data-ttu-id="88c08-533">Aktivní oddíly</span><span class="sxs-lookup"><span data-stu-id="88c08-533">Hot Partitions</span></span>
<span data-ttu-id="88c08-534">Aktivní oddíl je ten, který přijímá nesoustředil příliš velký procento provozu na účet, a nemůže být s vyrovnáváním zatížení se vzhledem k tomu, že je jeden oddíl.</span><span class="sxs-lookup"><span data-stu-id="88c08-534">A hot partition is one that is receiving a disproportionate percentage of the traffic to an account, and cannot be load balanced because it is a single partition.</span></span>  <span data-ttu-id="88c08-535">Obecně platí aktivní oddíly jsou vytvořeny jedním ze dvou způsobů:</span><span class="sxs-lookup"><span data-stu-id="88c08-535">In general, hot partitions are created one of two ways:</span></span>  

##### <span data-ttu-id="88c08-536"><a name="subheading28"></a>Připojit pouze a předřazení pouze vzorce</span><span class="sxs-lookup"><span data-stu-id="88c08-536"><a name="subheading28"></a>Append Only and Prepend Only patterns</span></span>
<span data-ttu-id="88c08-537">Vzor "Pouze přidat" je jedním kde všechny (nebo téměř všechny) provozu do daného Primárníklíč zvyšuje a snižuje podle aktuální čas.</span><span class="sxs-lookup"><span data-stu-id="88c08-537">The "Append Only" pattern is one where all (or nearly all) of the traffic to a given PK increases and decreases according to the current time.</span></span>  <span data-ttu-id="88c08-538">Příkladem je, pokud vaše aplikace používá jako klíč oddílu pro data protokolu aktuální datum.</span><span class="sxs-lookup"><span data-stu-id="88c08-538">An example is if your application used the current date as a partition key for log data.</span></span>  <span data-ttu-id="88c08-539">Výsledkem je všechny probíhající operace INSERT na poslední oddíl v tabulce a systému nedá vyrovnávat zatížení, protože všechny zápisů budou na konec tabulky.</span><span class="sxs-lookup"><span data-stu-id="88c08-539">This results in all of the inserts going to the last partition in your table, and the system cannot load balance because all of the writes are going to the end of your table.</span></span>  <span data-ttu-id="88c08-540">Pokud svazek provozu pro tento oddíl je větší než cílový oddíl úrovni škálovatelnost, je výsledkem omezení.</span><span class="sxs-lookup"><span data-stu-id="88c08-540">If the volume of traffic to that partition exceeds the partition-level scalability target, then it will result in throttling.</span></span>  <span data-ttu-id="88c08-541">Je lepší zajistit, že se odesílá do více oddílů, chcete-li povolit nástroj pro vyrovnávání zatížení žádosti napříč tabulku.</span><span class="sxs-lookup"><span data-stu-id="88c08-541">It's better to ensure that traffic is sent to multiple partitions, to enable load balance the requests across your table.</span></span>  

##### <span data-ttu-id="88c08-542"><a name="subheading29"></a>Data vysokým provozem</span><span class="sxs-lookup"><span data-stu-id="88c08-542"><a name="subheading29"></a>High-Traffic Data</span></span>
<span data-ttu-id="88c08-543">Pokud vaše schéma rozdělení oddílů výsledkem jeden oddíl, který má jenom data, která je mnohem víc než ostatní oddíly, může se také zobrazit jako omezení, že oddíl blíží cíle škálovatelnosti pro jeden oddíl.</span><span class="sxs-lookup"><span data-stu-id="88c08-543">If your partitioning scheme results in a single partition that just has data that is far more used than other partitions, you may also see throttling as that partition approaches the scalability target for a single partition.</span></span>  <span data-ttu-id="88c08-544">Je lepší, abyste měli jistotu, že vaše schéma oddílu výsledky v žádné jednoho oddílu blíží cíle škálovatelnosti.</span><span class="sxs-lookup"><span data-stu-id="88c08-544">It's better to make sure that your partition scheme results in no single partition approaching the scalability targets.</span></span>  

#### <a name="querying"></a><span data-ttu-id="88c08-545">Dotazování</span><span class="sxs-lookup"><span data-stu-id="88c08-545">Querying</span></span>
<span data-ttu-id="88c08-546">Tato část popisuje osvědčené postupy pro dotazování služby table.</span><span class="sxs-lookup"><span data-stu-id="88c08-546">This section describes proven practices for querying the table service.</span></span>  

##### <span data-ttu-id="88c08-547"><a name="subheading30"></a>Obor dotazu</span><span class="sxs-lookup"><span data-stu-id="88c08-547"><a name="subheading30"></a>Query Scope</span></span>
<span data-ttu-id="88c08-548">Určete rozsah entity k dotazu několika způsoby.</span><span class="sxs-lookup"><span data-stu-id="88c08-548">There are several ways to specify the range of entities to query.</span></span>  <span data-ttu-id="88c08-549">Následuje popis používá jednotlivých.</span><span class="sxs-lookup"><span data-stu-id="88c08-549">The following is a discussion of the uses of each.</span></span>  

<span data-ttu-id="88c08-550">Obecně platí Vyhněte se kontroly (dotazy větší než jedna entita), ale pokud je nutné skenování, zkuste organizování vašich dat, aby kontrolách načítat data, která potřebujete bez kontrola nebo vrácení poměrně velké množství entity, které nepotřebujete.</span><span class="sxs-lookup"><span data-stu-id="88c08-550">In general, avoid scans (queries larger than a single entity), but if you must scan, try to organize your data so that your scans retrieve the data you need without scanning or returning significant amounts of entities you don't need.</span></span>  

###### <a name="point-queries"></a><span data-ttu-id="88c08-551">Bod dotazy</span><span class="sxs-lookup"><span data-stu-id="88c08-551">Point Queries</span></span>
<span data-ttu-id="88c08-552">Bod dotaz načte přesně jednu entitu.</span><span class="sxs-lookup"><span data-stu-id="88c08-552">A point query retrieves exactly one entity.</span></span> <span data-ttu-id="88c08-553">Dělá to pomocí klíč oddílu a klíč řádku entity načíst.</span><span class="sxs-lookup"><span data-stu-id="88c08-553">It does this by specifying both the partition key and row key of the entity to retrieve.</span></span> <span data-ttu-id="88c08-554">Tyto dotazy jsou velmi efektivně a jejich použití je to možné.</span><span class="sxs-lookup"><span data-stu-id="88c08-554">These queries are very efficient, and you should use them wherever possible.</span></span>  

###### <a name="partition-queries"></a><span data-ttu-id="88c08-555">Oddíl dotazy</span><span class="sxs-lookup"><span data-stu-id="88c08-555">Partition Queries</span></span>
<span data-ttu-id="88c08-556">Dotaz oddílu je dotaz, který načte sadu dat, který sdílí společný klíč oddílu.</span><span class="sxs-lookup"><span data-stu-id="88c08-556">A partition query is a query that retrieves a set of data that shares a common partition key.</span></span> <span data-ttu-id="88c08-557">Dotaz určuje obvykle rozsahu hodnot řádku klíče nebo rozsah hodnot pro vlastnost některé entity kromě klíč oddílu.</span><span class="sxs-lookup"><span data-stu-id="88c08-557">Typically, the query specifies a range of row key values or a range of values for some entity property in addition to a partition key.</span></span> <span data-ttu-id="88c08-558">Tyto jsou míň efektivní než bodu dotazy a měli šetřit.</span><span class="sxs-lookup"><span data-stu-id="88c08-558">These are less efficient than point queries, and should be used sparingly.</span></span>  

###### <a name="table-queries"></a><span data-ttu-id="88c08-559">Tabulku dotazů</span><span class="sxs-lookup"><span data-stu-id="88c08-559">Table Queries</span></span>
<span data-ttu-id="88c08-560">Dotaz na tabulku je dotaz, který načte sada entit, které nesdílí běžné klíč oddílu.</span><span class="sxs-lookup"><span data-stu-id="88c08-560">A table query is a query that retrieves a set of entities that does not share a common partition key.</span></span> <span data-ttu-id="88c08-561">Tyto dotazy nejsou efektivní a neměli byste je-li to možné.</span><span class="sxs-lookup"><span data-stu-id="88c08-561">These queries are not efficient and you should avoid them if possible.</span></span>  

##### <span data-ttu-id="88c08-562"><a name="subheading31"></a>Hustotu dotazu</span><span class="sxs-lookup"><span data-stu-id="88c08-562"><a name="subheading31"></a>Query Density</span></span>
<span data-ttu-id="88c08-563">Dalším klíčovým faktorem efektivitu dotazu je počet entit, vrátila ve srovnání se počet entit, zkontrolovat najít sadu vrácená.</span><span class="sxs-lookup"><span data-stu-id="88c08-563">Another key factor in query efficiency is the number of entities returned as compared to the number of entities scanned to find the returned set.</span></span> <span data-ttu-id="88c08-564">Pokud vaše aplikace provede dotaz na tabulku s filtrem pro hodnotu vlastnosti, pouze 1 % dat sdílené složky, dotaz vyhledá 100 entit pro každý jedna entita, kterou vrátí.</span><span class="sxs-lookup"><span data-stu-id="88c08-564">If your application performs a table query with a filter for a property value that only 1% of the data shares, the query will scan 100 entities for every one entity it returns.</span></span> <span data-ttu-id="88c08-565">Cíle škálovatelnosti tabulky popisovaný dříve všechny se týkají počet entit, zkontrolovat a ne počet entit, vrátila: hustotu nízkou dotaz může způsobit snadno služby table pro omezení aplikace, protože se musí kontrolovat mnoho entit k načtení entity, které hledáte.</span><span class="sxs-lookup"><span data-stu-id="88c08-565">The table scalability targets discussed previously all relate to the number of entities scanned, and not the number of entities returned: a low query density can easily cause the table service to throttle your application because it must scan so many entities to retrieve the entity you are looking for.</span></span>  <span data-ttu-id="88c08-566">Projděte si část níže na [denormalization](#subheading34) Další informace o tom, jak zamezit to.</span><span class="sxs-lookup"><span data-stu-id="88c08-566">See the section below on [denormalization](#subheading34) for more information on how to avoid this.</span></span>  

##### <a name="limiting-the-amount-of-data-returned"></a><span data-ttu-id="88c08-567">Omezení množství dat vrácených</span><span class="sxs-lookup"><span data-stu-id="88c08-567">Limiting the Amount of Data Returned</span></span>
###### <span data-ttu-id="88c08-568"><a name="subheading32"></a>Filtrování</span><span class="sxs-lookup"><span data-stu-id="88c08-568"><a name="subheading32"></a>Filtering</span></span>
<span data-ttu-id="88c08-569">Pokud jste si jisti, že dotaz vrátí entit, které nepotřebujete v aplikaci klienta, vzít v úvahu pomocí filtru snížit velikost vrácený sady.</span><span class="sxs-lookup"><span data-stu-id="88c08-569">Where you know that a query will return entities that you don't need in the client application, consider using a filter to reduce the size of the returned set.</span></span> <span data-ttu-id="88c08-570">Při entity není vrácen do klienta se stále započítává k omezení škálovatelnosti, bude z důvodu velikosti datové části snížené sítě a menší počet entit, které je nutné zpracovat klientské aplikace zlepšit výkon aplikace.</span><span class="sxs-lookup"><span data-stu-id="88c08-570">While the entities not returned to the client still count toward the scalability limits, your application performance will improve because of the reduced network payload size and the reduced number of entities that your client application must process.</span></span>  <span data-ttu-id="88c08-571">Viz výše Poznámka na [dotazu hustotu](#subheading31), ale – cíle škálovatelnosti souvisí počet entit, zkontrolovat, takže dotaz, který filtruje mnoho entit může stále mít za následek omezení, i když jsou vráceny několik entit.</span><span class="sxs-lookup"><span data-stu-id="88c08-571">See above note on [Query Density](#subheading31), however – the scalability targets relate to the number of entities scanned, so a query that filters out many entities may still result in throttling, even if few entities are returned.</span></span>  

###### <span data-ttu-id="88c08-572"><a name="subheading33"></a>Projekce</span><span class="sxs-lookup"><span data-stu-id="88c08-572"><a name="subheading33"></a>Projection</span></span>
<span data-ttu-id="88c08-573">Pokud klientské aplikace potřebuje pouze omezenou sadu vlastnosti z entit v tabulce, můžete k omezení velikosti sady vrácená data projekce.</span><span class="sxs-lookup"><span data-stu-id="88c08-573">If your client application needs only a limited set of properties from the entities in your table, you can use projection to limit the size of the returned data set.</span></span> <span data-ttu-id="88c08-574">Stejně jako u filtrování, to pomáhá snížit zatížení sítě a zpracování na straně klienta.</span><span class="sxs-lookup"><span data-stu-id="88c08-574">As with filtering, this helps to reduce network load and client processing.</span></span>  

##### <span data-ttu-id="88c08-575"><a name="subheading34"></a>Denormalization</span><span class="sxs-lookup"><span data-stu-id="88c08-575"><a name="subheading34"></a>Denormalization</span></span>
<span data-ttu-id="88c08-576">Na rozdíl od práce relačních databází, osvědčené postupy pro efektivní dotazování na data tabulky vést k denormalizing vaše data.</span><span class="sxs-lookup"><span data-stu-id="88c08-576">Unlike working with relational databases, the proven practices for efficiently querying table data lead to denormalizing your data.</span></span> <span data-ttu-id="88c08-577">To znamená duplikování stejná data ve více entit (jeden pro každý klíč, který můžete použít k vyhledání dat) Chcete-li minimalizovat počet entit, které musí dotaz prohledat najít data klienta musí namísto nutnosti kontrolovat velký počet entit najít data aplikace musí.</span><span class="sxs-lookup"><span data-stu-id="88c08-577">That is, duplicating the same data in multiple entities (one for each key you may use to find the data) to minimize the number of entities that a query must scan to find the data the client needs, rather than having to scan large numbers of entities to find the data your application needs.</span></span>  <span data-ttu-id="88c08-578">Například v webem elektronického obchodu může chcete najít řazení obou podle ID zákazníka (mě objednávky tohoto zákazníka) a k datu (mě objednávky na datum).</span><span class="sxs-lookup"><span data-stu-id="88c08-578">For example, in an e-commerce website, you may want to find an order both by the customer ID (give me this customer's orders) and by the date (give me orders on a date).</span></span>  <span data-ttu-id="88c08-579">Ve službě Table Storage, je nejvhodnější pro ukládání entit (nebo odkaz na jeho) dvakrát – jednou s názvem tabulky Primárníklíč a pracovní usnadňuje hledání podle zákazníka ID, jednou pro usnadnění hledání k datu.</span><span class="sxs-lookup"><span data-stu-id="88c08-579">In Table Storage, it is best to store the entity (or a reference to it) twice – once with Table Name, PK, and RK to facilitate finding by customer ID, once to facilitate finding it by the date.</span></span>  

#### <a name="insertupdatedelete"></a><span data-ttu-id="88c08-580">Vložení, aktualizaci nebo odstranění</span><span class="sxs-lookup"><span data-stu-id="88c08-580">Insert/Update/Delete</span></span>
<span data-ttu-id="88c08-581">Tato část popisuje osvědčené postupy pro úpravy entit, které jsou uložené ve službě table.</span><span class="sxs-lookup"><span data-stu-id="88c08-581">This section describes proven practices for modifying entities stored in the table service.</span></span>  

##### <span data-ttu-id="88c08-582"><a name="subheading35"></a>Dávkování</span><span class="sxs-lookup"><span data-stu-id="88c08-582"><a name="subheading35"></a>Batching</span></span>
<span data-ttu-id="88c08-583">Dávkové transakce jsou známé jako Entity skupiny transakce (ETG) ve službě Azure Storage; všechny operace v rámci ETG musí být na jeden oddíl v jediné tabulce.</span><span class="sxs-lookup"><span data-stu-id="88c08-583">Batch transactions are known as Entity Group Transactions (ETG) in Azure Storage; all the operations within an ETG must be on a single partition in a single table.</span></span> <span data-ttu-id="88c08-584">Pokud je to možné, použijte ETGs provést vložení, aktualizace a odstranění v dávkách.</span><span class="sxs-lookup"><span data-stu-id="88c08-584">Where possible, use ETGs to perform inserts, updates, and deletes in batches.</span></span> <span data-ttu-id="88c08-585">To snižuje počet zpátečních cest z klientské aplikace na server, sníží počet fakturovatelný transakce (ETG počítá jako jediná transakce pro účely fakturace a může obsahovat až 100 operace úložiště) a umožňuje atomic aktualizace (všechny operace úspěšné nebo všechny selhání v rámci ETG).</span><span class="sxs-lookup"><span data-stu-id="88c08-585">This reduces the number of round trips from your client application to the server, reduces the number of billable transactions (an ETG counts as a single transaction for billing purposes and can contain up to 100 storage operations), and enables atomic updates (all operations succeed or all fail within an ETG).</span></span> <span data-ttu-id="88c08-586">Prostředí s vysokou latencí, jako jsou například mobilní zařízení budou využívat výrazně ETGs.</span><span class="sxs-lookup"><span data-stu-id="88c08-586">Environments with high latencies such as mobile devices will benefit greatly from using ETGs.</span></span>  

##### <span data-ttu-id="88c08-587"><a name="subheading36"></a>Upsert</span><span class="sxs-lookup"><span data-stu-id="88c08-587"><a name="subheading36"></a>Upsert</span></span>
<span data-ttu-id="88c08-588">Pomocí tabulky **Upsert** operations kdykoli je to možné.</span><span class="sxs-lookup"><span data-stu-id="88c08-588">Use table **Upsert** operations wherever possible.</span></span> <span data-ttu-id="88c08-589">Existují dva typy **Upsert**, které může být efektivnější než tradiční **vložit** a **aktualizace** operace:</span><span class="sxs-lookup"><span data-stu-id="88c08-589">There are two types of **Upsert**, both of which can be more efficient than a traditional **Insert** and **Update** operations:</span></span>  

* <span data-ttu-id="88c08-590">**InsertOrMerge**: to použijte, pokud chcete nahrát podmnožinu vlastností entity, ale nejste si jisti, zda entita již existuje.</span><span class="sxs-lookup"><span data-stu-id="88c08-590">**InsertOrMerge**: Use this when you want to upload a subset of the entity's properties, but aren't sure whether the entity already exists.</span></span> <span data-ttu-id="88c08-591">Pokud entita existuje, toto volání aktualizuje vlastnosti, které jsou součástí **Upsert** operaci nebo je opustí všechny existující vlastnosti protože se jedná, pokud entita neexistuje, vloží novou entitu.</span><span class="sxs-lookup"><span data-stu-id="88c08-591">If the entity exists, this call updates the properties included in the **Upsert** operation, and leaves all existing properties as they are, if the entity does not exist, it inserts the new entity.</span></span> <span data-ttu-id="88c08-592">Toto je podobný používání projekce v dotazu, v tom, že potřebujete nahrát vlastnosti, které mění.</span><span class="sxs-lookup"><span data-stu-id="88c08-592">This is similar to using projection in a query, in that you only need to upload the properties that are changing.</span></span>
* <span data-ttu-id="88c08-593">**InsertOrReplace**: to použijte, pokud chcete nahrát zcela nové entity, ale nejste si jisti, zda již existuje.</span><span class="sxs-lookup"><span data-stu-id="88c08-593">**InsertOrReplace**: Use this when you want to upload an entirely new entity, but you aren't sure whether it already exists.</span></span> <span data-ttu-id="88c08-594">Tento postup byste měli používat jenom v, když víte, nově nahraném entity je zcela správné, protože úplně přepíše původní entita.</span><span class="sxs-lookup"><span data-stu-id="88c08-594">You should only use this when you know that the newly uploaded entity is entirely correct because it completely overwrites the old entity.</span></span> <span data-ttu-id="88c08-595">Například chcete aktualizovat typ entity, která ukládá aktuální umístění uživatele bez ohledu na to, zda aplikace dříve uložil data o umístění pro uživatele. Nová entita umístění je dokončena a není nutné žádné informace z předchozích entitu.</span><span class="sxs-lookup"><span data-stu-id="88c08-595">For example, you want to update the entity that stores a user's current location regardless of whether or not the application has previously stored location data for the user; the new location entity is complete, and you do not need any information from any previous entity.</span></span>

##### <span data-ttu-id="88c08-596"><a name="subheading37"></a>Ukládání datových řad v jedné Entity</span><span class="sxs-lookup"><span data-stu-id="88c08-596"><a name="subheading37"></a>Storing Data Series in a Single Entity</span></span>
<span data-ttu-id="88c08-597">V některých případech aplikace ukládá řadu data, která je často nutné načíst všechny najednou: například aplikace může sledovat využití procesoru v čase k vykreslení grafu postupného dat z posledních 24 hodin.</span><span class="sxs-lookup"><span data-stu-id="88c08-597">Sometimes, an application stores a series of data that it frequently needs to retrieve all at once: for example, an application might track CPU usage over time in order to plot a rolling chart of the data from the last 24 hours.</span></span> <span data-ttu-id="88c08-598">Jeden z přístupů je tak, aby měl jeden entitu tabulky za hodinu, s každé entity představující konkrétní hodinu a ukládání využití procesoru pro danou hodinu.</span><span class="sxs-lookup"><span data-stu-id="88c08-598">One approach is to have one table entity per hour, with each entity representing a specific hour and storing the CPU usage for that hour.</span></span> <span data-ttu-id="88c08-599">K vykreslení tato data, aplikace musí pro načtení entit, který obsahuje data z za 24 hodin nejnovější.</span><span class="sxs-lookup"><span data-stu-id="88c08-599">To plot this data, the application needs to retrieve the entities holding the data from the 24 most recent hours.</span></span>  

<span data-ttu-id="88c08-600">Alternativně může vaše aplikace ukládat využití procesoru pro každou hodinu jako samostatné vlastnost jedné entity: aktualizace každou hodinu, může aplikace pomocí jednoho **InsertOrMerge Upsert** volání aktualizujte hodnotu za poslední hodinu.</span><span class="sxs-lookup"><span data-stu-id="88c08-600">Alternatively, your application could store the CPU usage for each hour as a separate property of a single entity: to update each hour, your application can use a single **InsertOrMerge Upsert** call to update the value for the most recent hour.</span></span> <span data-ttu-id="88c08-601">K vykreslení data, aplikace potřebuje pouze k načtení jedné entity místo 24, díky velmi efektivní dotazu (viz výše diskuzi na [dotaz oboru](#subheading30)).</span><span class="sxs-lookup"><span data-stu-id="88c08-601">To plot the data, the application only needs to retrieve a single entity instead of 24, making for a very efficient query (see above discussion on [query scope](#subheading30)).</span></span>

##### <span data-ttu-id="88c08-602"><a name="subheading38"></a>Ukládání strukturovaných dat do objektů BLOB</span><span class="sxs-lookup"><span data-stu-id="88c08-602"><a name="subheading38"></a>Storing structured data in blobs</span></span>
<span data-ttu-id="88c08-603">Někdy strukturovaných dat funguje stejně, jako by měl přejděte v tabulkách, ale rozsahy entit se vždy načítají společně a lze vložit batch.</span><span class="sxs-lookup"><span data-stu-id="88c08-603">Sometimes structured data feels like it should go in tables, but ranges of entities are always retrieved together and can be batch inserted.</span></span>  <span data-ttu-id="88c08-604">Dobrým příkladem toho je soubor protokolu.</span><span class="sxs-lookup"><span data-stu-id="88c08-604">A good example of this is a log file.</span></span>  <span data-ttu-id="88c08-605">V takovém případě může několik minut protokolů služby batch, vložte je a pak se vždy načítání najednou i několik minut protokolů.</span><span class="sxs-lookup"><span data-stu-id="88c08-605">In this case, you can batch several minutes of logs, insert them, and then you are always retrieving several minutes of logs at a time as well.</span></span>  <span data-ttu-id="88c08-606">V takovém případě pro výkon, je lepší použít objekty BLOB místo tabulky, protože může výrazně snížit počet objektů, které jsou zapsány nebo vrátí, a také obvykle počet požadavků, které je třeba vytvořit.</span><span class="sxs-lookup"><span data-stu-id="88c08-606">In this case, for performance, it's better to use blobs instead of tables, since you can significantly reduce the number of objects written/returned, as well as usually the number of requests that need made.</span></span>  

## <a name="queues"></a><span data-ttu-id="88c08-607">Fronty</span><span class="sxs-lookup"><span data-stu-id="88c08-607">Queues</span></span>
<span data-ttu-id="88c08-608">Kromě osvědčené postupy pro [všechny služby](#allservices) popsané, následující osvědčené postupy, jako platí konkrétně pro služby front.</span><span class="sxs-lookup"><span data-stu-id="88c08-608">In addition to the proven practices for [All Services](#allservices) described previously, the following proven practices apply specifically to the queue service.</span></span>  

### <span data-ttu-id="88c08-609"><a name="subheading39"></a>Omezení škálovatelnosti</span><span class="sxs-lookup"><span data-stu-id="88c08-609"><a name="subheading39"></a>Scalability Limits</span></span>
<span data-ttu-id="88c08-610">Jednou frontou může zpracovat přibližně 2 000 zprávy (1KB každé) za sekundu (každý AddMessage, GetMessage a DeleteMessage počet jako zprávu sem).</span><span class="sxs-lookup"><span data-stu-id="88c08-610">A single queue can process approximately 2,000 messages (1KB each) per second (each AddMessage, GetMessage, and DeleteMessage count as a message here).</span></span> <span data-ttu-id="88c08-611">Pokud to není dostatečné pro vaši aplikaci, musí používat více fronty a zprávy rozloženy je.</span><span class="sxs-lookup"><span data-stu-id="88c08-611">If this is insufficient for your application, you should use multiple queues and spread the messages across them.</span></span>  

<span data-ttu-id="88c08-612">Zobrazit aktuální cíle škálovatelnosti v [a cíle výkonnosti služby Azure Storage Scalability](storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="88c08-612">View current scalability targets at [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md).</span></span>  

### <span data-ttu-id="88c08-613"><a name="subheading40"></a>Nagle vypnuto</span><span class="sxs-lookup"><span data-stu-id="88c08-613"><a name="subheading40"></a>Nagle Off</span></span>
<span data-ttu-id="88c08-614">Projděte část o konfigurace tabulky, který popisuje algoritmus Nagle – algoritmus Nagle je obecně chybný pro výkon fronty požadavků, a zakažte je.</span><span class="sxs-lookup"><span data-stu-id="88c08-614">See the section on table configuration that discusses the Nagle algorithm — the Nagle algorithm is generally bad for the performance of queue requests, and you should disable it.</span></span>  

### <span data-ttu-id="88c08-615"><a name="subheading41"></a>Velikost zprávy</span><span class="sxs-lookup"><span data-stu-id="88c08-615"><a name="subheading41"></a>Message Size</span></span>
<span data-ttu-id="88c08-616">Fronty neklesne jako zvyšuje velikost zprávy výkon a škálovatelnost.</span><span class="sxs-lookup"><span data-stu-id="88c08-616">Queue performance and scalability decreases as message size increases.</span></span> <span data-ttu-id="88c08-617">Měli byste umístit pouze informace nutné k příjemce ve zprávě.</span><span class="sxs-lookup"><span data-stu-id="88c08-617">You should place only the information the receiver needs in a message.</span></span>  

### <span data-ttu-id="88c08-618"><a name="subheading42"></a>Načtení batch</span><span class="sxs-lookup"><span data-stu-id="88c08-618"><a name="subheading42"></a>Batch Retrieval</span></span>
<span data-ttu-id="88c08-619">Až 32 zprávy můžete načíst z fronty v rámci jedné operace.</span><span class="sxs-lookup"><span data-stu-id="88c08-619">You can retrieve up to 32 messages from a queue in a single operation.</span></span> <span data-ttu-id="88c08-620">To může snížit počet výměn dat z klientské aplikace, který je obzvláště užitečná v prostředích, jako jsou například mobilní zařízení, s vysokou latencí.</span><span class="sxs-lookup"><span data-stu-id="88c08-620">This can reduce the number of roundtrips from the client application, which is especially useful for environments, such as mobile devices, with high latency.</span></span>  

### <span data-ttu-id="88c08-621"><a name="subheading43"></a>Interval dotazování fronty</span><span class="sxs-lookup"><span data-stu-id="88c08-621"><a name="subheading43"></a>Queue Polling Interval</span></span>
<span data-ttu-id="88c08-622">Většina aplikací dotazování na zprávy z fronty, která může být jedna z největší zdrojů transakcí pro tuto aplikaci.</span><span class="sxs-lookup"><span data-stu-id="88c08-622">Most applications poll for messages from a queue, which can be one of the largest sources of transactions for that application.</span></span> <span data-ttu-id="88c08-623">Vyberte vaše interval dotazování dobře: dotazování příliš často může způsobit, že aplikace k přístupu cíle škálovatelnosti pro frontu.</span><span class="sxs-lookup"><span data-stu-id="88c08-623">Select your polling interval wisely: polling too frequently could cause your application to approach the scalability targets for the queue.</span></span> <span data-ttu-id="88c08-624">Ale v 200 000 transakce $0,01 (v době psaní), jeden procesor dotazování po méně než 15 centů tak náklady a náklady za sekundu dobu jednoho měsíce není obvykle faktor, který má vliv na vaši volbu interval dotazování.</span><span class="sxs-lookup"><span data-stu-id="88c08-624">However, at 200,000 transactions for $0.01 (at the time of writing), a single processor polling once every second for a month would cost less than 15 cents so cost is not typically a factor that affects your choice of polling interval.</span></span>  

<span data-ttu-id="88c08-625">Náklady na aktuální informace najdete v tématu [Azure Storage – ceny](https://azure.microsoft.com/pricing/details/storage/).</span><span class="sxs-lookup"><span data-stu-id="88c08-625">For up-to-date cost information, see [Azure Storage Pricing](https://azure.microsoft.com/pricing/details/storage/).</span></span>  

### <span data-ttu-id="88c08-626"><a name="subheading44"></a>UpdateMessage</span><span class="sxs-lookup"><span data-stu-id="88c08-626"><a name="subheading44"></a>UpdateMessage</span></span>
<span data-ttu-id="88c08-627">Můžete použít **UpdateMessage** zvýšit časový limit neviditelnosti nebo aktualizovat informace o stavu zprávy.</span><span class="sxs-lookup"><span data-stu-id="88c08-627">You can use **UpdateMessage** to increase the invisibility timeout or to update state information of a message.</span></span> <span data-ttu-id="88c08-628">To je výkonný, mějte na paměti, aby se každý **UpdateMessage** operace, se započítává cíle škálovatelnosti.</span><span class="sxs-lookup"><span data-stu-id="88c08-628">While this is powerful, remember that each **UpdateMessage** operation counts towards the scalability target.</span></span> <span data-ttu-id="88c08-629">To však může být mnohem efektivnější přístup, než má pracovní postup, který předá úlohu z jedné fronty na další po dokončení každého kroku úlohy.</span><span class="sxs-lookup"><span data-stu-id="88c08-629">However, this can be a much more efficient approach than having a workflow that passes a job from one queue to the next, as each step of the job is completed.</span></span> <span data-ttu-id="88c08-630">Pomocí **UpdateMessage** operace umožňuje vaší aplikace, uložte stav úlohy na zprávu a poté pokračovat v práci, namísto znovu služby Řízení front zpráv pro další krok úlohy pokaždé, když se krok je dokončen.</span><span class="sxs-lookup"><span data-stu-id="88c08-630">Using the **UpdateMessage** operation allows your application to save the job state to the message and then continue working, instead of re-queuing the message for the next step of the job every time a step completes.</span></span>  

<span data-ttu-id="88c08-631">Další informace najdete v článku [postupy: Změna obsahu zpráv zařazených ve frontě](../queues/storage-dotnet-how-to-use-queues.md#change-the-contents-of-a-queued-message).</span><span class="sxs-lookup"><span data-stu-id="88c08-631">For more information, see the article [How to: Change the contents of a queued message](../queues/storage-dotnet-how-to-use-queues.md#change-the-contents-of-a-queued-message).</span></span>  

### <span data-ttu-id="88c08-632"><a name="subheading45"></a>Architektura aplikace</span><span class="sxs-lookup"><span data-stu-id="88c08-632"><a name="subheading45"></a>Application architecture</span></span>
<span data-ttu-id="88c08-633">Měli byste použít fronty aby škálovatelná architektura vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="88c08-633">You should use queues to make your application architecture scalable.</span></span> <span data-ttu-id="88c08-634">V následujícím seznamu uvedeny některé možnosti použití fronty aby vaše aplikace větší škálovatelnost:</span><span class="sxs-lookup"><span data-stu-id="88c08-634">The following lists some ways you can use queues to make your application more scalable:</span></span>  

* <span data-ttu-id="88c08-635">Fronty můžete vytvořit nevyřízené položky práce pro zpracování a vyhlazení úlohy v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="88c08-635">You can use queues to create backlogs of work for processing and smooth out workloads in your application.</span></span> <span data-ttu-id="88c08-636">Například může fronty požadavků ze uživatelé provádět náročné práce procesoru jako je například změna velikosti obrázků nahraný.</span><span class="sxs-lookup"><span data-stu-id="88c08-636">For example, you could queue up requests from users to perform processor intensive work such as resizing uploaded images.</span></span>
* <span data-ttu-id="88c08-637">Fronty můžete oddělit části aplikace, takže je možné škálovat nezávisle.</span><span class="sxs-lookup"><span data-stu-id="88c08-637">You can use queues to decouple parts of your application so that you can scale them independently.</span></span> <span data-ttu-id="88c08-638">Například by mohlo způsobit webového front-endu výsledky zjišťování od uživatelů do fronty pro pozdější analýzu a úložiště.</span><span class="sxs-lookup"><span data-stu-id="88c08-638">For example, a web front-end could place survey results from users into a queue for later analysis and storage.</span></span> <span data-ttu-id="88c08-639">Můžete přidat další instance rolí pracovního procesu pro zpracování dat fronty podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="88c08-639">You could add more worker role instances to process the queue data as required.</span></span>  

## <a name="conclusion"></a><span data-ttu-id="88c08-640">Závěr</span><span class="sxs-lookup"><span data-stu-id="88c08-640">Conclusion</span></span>
<span data-ttu-id="88c08-641">Tento článek popsané, některé z nejběžnějších, osvědčené postupy pro optimalizaci výkonu při použití služby Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="88c08-641">This article discussed some of the most common, proven practices for optimizing performance when using Azure Storage.</span></span> <span data-ttu-id="88c08-642">Všem vývojářům aplikací doporučujeme, aby svoje aplikace vyhodnotili ve světle výše uvedených postupů a zvážili jednotlivá doporučení, která aplikacím využívajícím Azure Storage zajišťují skvělý výkon.</span><span class="sxs-lookup"><span data-stu-id="88c08-642">We encourage every application developer to assess their application against each of the above practices and consider acting on the recommendations to get great performance for their applications that use Azure Storage.</span></span>