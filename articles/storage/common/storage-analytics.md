---
title: "Azure Storage Analytics můžete použít ke shromažďování metrik a protokolování dat | Microsoft Docs"
description: "Analytika úložiště umožňuje sledovat data metriky pro všechny služby, úložiště a shromažďovat protokoly pro úložiště Blob, fronty a tabulky."
services: storage
documentationcenter: 
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 7894993b-ca42-4125-8f17-8f6dfe3dca76
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/03/2017
ms.author: robinsh
ms.openlocfilehash: a477c1eaf2388f31d4fd36b90f9a830c782873d3
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="storage-analytics"></a><span data-ttu-id="b9a07-103">Storage Analytics</span><span class="sxs-lookup"><span data-stu-id="b9a07-103">Storage Analytics</span></span>

<span data-ttu-id="b9a07-104">Analýza Azure Storage provádí protokolování a poskytuje data metriky pro účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-104">Azure Storage Analytics performs logging and provides metrics data for a storage account.</span></span> <span data-ttu-id="b9a07-105">Tato data můžete použít k trasování požadavků, analýze trendů použití a diagnostice problémů s účtem úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-105">You can use this data to trace requests, analyze usage trends, and diagnose issues with your storage account.</span></span>

<span data-ttu-id="b9a07-106">Pokud chcete používat analytika úložiště, musíte povolit ji jednotlivě pro každou službu, kterou chcete monitorovat.</span><span class="sxs-lookup"><span data-stu-id="b9a07-106">To use Storage Analytics, you must enable it individually for each service you want to monitor.</span></span> <span data-ttu-id="b9a07-107">Můžete ji z povolit [portálu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="b9a07-107">You can enable it from the [Azure Portal](https://portal.azure.com).</span></span> <span data-ttu-id="b9a07-108">Podrobnosti najdete v tématu [monitorování účtu úložiště na portálu Azure](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="b9a07-108">For details, see [Monitor a storage account in the Azure Portal](storage-monitor-storage-account.md).</span></span> <span data-ttu-id="b9a07-109">Můžete také povolit Storage Analytics programově pomocí rozhraní REST API nebo knihovny klienta.</span><span class="sxs-lookup"><span data-stu-id="b9a07-109">You can also enable Storage Analytics programmatically via the REST API or the client library.</span></span> <span data-ttu-id="b9a07-110">Použití [získat vlastnosti objektu Blob služby](https://msdn.microsoft.com/library/hh452239.aspx), [získat vlastnosti fronty služby](https://msdn.microsoft.com/library/hh452243.aspx), [získat vlastnosti služby Table](https://msdn.microsoft.com/library/hh452238.aspx), a [získat File Service Properties](https://msdn.microsoft.com/library/mt427369.aspx) operace povolující analytika úložiště pro každou službu.</span><span class="sxs-lookup"><span data-stu-id="b9a07-110">Use the [Get Blob Service Properties](https://msdn.microsoft.com/library/hh452239.aspx), [Get Queue Service Properties](https://msdn.microsoft.com/library/hh452243.aspx), [Get Table Service Properties](https://msdn.microsoft.com/library/hh452238.aspx), and [Get File Service Properties](https://msdn.microsoft.com/library/mt427369.aspx) operations to enable Storage Analytics for each service.</span></span>

<span data-ttu-id="b9a07-111">Agregovaná data se ukládají v dobře známé objektu blob (pro protokolování) a dobře známé tabulky (pro metriky), které můžete získat přístup pomocí služby objektů Blob a služby Table rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="b9a07-111">The aggregated data is stored in a well-known blob (for logging) and in well-known tables (for metrics), which may be accessed using the Blob service and Table service APIs.</span></span>

<span data-ttu-id="b9a07-112">Analytika úložiště může mít 20 TB na množství uložených dat, která je nezávislá celkový limit pro váš účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-112">Storage Analytics has a 20 TB limit on the amount of stored data that is independent of the total limit for your storage account.</span></span> <span data-ttu-id="b9a07-113">Další informace o fakturaci a zásad uchovávání dat najdete v tématu [Storage Analytics a fakturace](https://msdn.microsoft.com/library/hh360997.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9a07-113">For more information about billing and data retention policies, see [Storage Analytics and Billing](https://msdn.microsoft.com/library/hh360997.aspx).</span></span> <span data-ttu-id="b9a07-114">Další informace o omezeních účtu úložiště najdete v tématu [a cíle výkonnosti služby Azure Storage Scalability](storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="b9a07-114">For more information about storage account limits, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md).</span></span>

<span data-ttu-id="b9a07-115">Podrobné informace týkající se použití analytika úložiště a dalších nástrojů pro identifikovat, diagnostikovat a řešit problémy související s Azure Storage najdete v tématu [monitorování, Diagnostika a řešení Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="b9a07-115">For an in-depth guide on using Storage Analytics and other tools to identify, diagnose, and troubleshoot Azure Storage-related issues, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="about-storage-analytics-logging"></a><span data-ttu-id="b9a07-116">O protokolování Storage Analytics</span><span class="sxs-lookup"><span data-stu-id="b9a07-116">About Storage Analytics logging</span></span>
<span data-ttu-id="b9a07-117">Analytika úložiště protokoly podrobné informace o úspěšných a nezdařených požadavků a služba úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-117">Storage Analytics logs detailed information about successful and failed requests to a storage service.</span></span> <span data-ttu-id="b9a07-118">Tyto informace slouží k monitorování jednotlivých požadavků a diagnostikovat problémy s služby úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-118">This information can be used to monitor individual requests and to diagnose issues with a storage service.</span></span> <span data-ttu-id="b9a07-119">Na základě typu best effort protokolované požadavky.</span><span class="sxs-lookup"><span data-stu-id="b9a07-119">Requests are logged on a best-effort basis.</span></span>

<span data-ttu-id="b9a07-120">Položky protokolu se vytvoří pouze v případě, že je aktivita služby úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-120">Log entries are created only if there is storage service activity.</span></span> <span data-ttu-id="b9a07-121">Například pokud je účet úložiště v jeho služby objektů Blob, ale není v jeho tabulku nebo frontu služby, bude vytvořena pouze protokoly, která se týkají služby objektů Blob.</span><span class="sxs-lookup"><span data-stu-id="b9a07-121">For example, if a storage account has activity in its Blob service but not in its Table or Queue services, only logs pertaining to the Blob service will be created.</span></span>

<span data-ttu-id="b9a07-122">Není k dispozici pro úložiště Azure File Storage Analytics protokolování.</span><span class="sxs-lookup"><span data-stu-id="b9a07-122">Storage Analytics Logging is not available for Azure File storage.</span></span>

### <a name="logging-authenticated-requests"></a><span data-ttu-id="b9a07-123">Protokolování ověření požadavků</span><span class="sxs-lookup"><span data-stu-id="b9a07-123">Logging authenticated requests</span></span>
<span data-ttu-id="b9a07-124">Jsou zaznamenány následující typy ověřených požadavků:</span><span class="sxs-lookup"><span data-stu-id="b9a07-124">The following types of authenticated requests are logged:</span></span>

* <span data-ttu-id="b9a07-125">Úspěšné požadavky.</span><span class="sxs-lookup"><span data-stu-id="b9a07-125">Successful requests.</span></span>
* <span data-ttu-id="b9a07-126">Neúspěšné požadavky, včetně vypršení časového limitu, omezení šířky pásma, sítě, autorizace a dalších chyb.</span><span class="sxs-lookup"><span data-stu-id="b9a07-126">Failed requests, including timeout, throttling, network, authorization, and other errors.</span></span>
* <span data-ttu-id="b9a07-127">Požadavky na použití sdíleného přístupového podpisu (SAS), včetně úspěšné a neúspěšné požadavky.</span><span class="sxs-lookup"><span data-stu-id="b9a07-127">Requests using a Shared Access Signature (SAS), including failed and successful requests.</span></span>
* <span data-ttu-id="b9a07-128">Požadavky na analytická data.</span><span class="sxs-lookup"><span data-stu-id="b9a07-128">Requests to analytics data.</span></span>

<span data-ttu-id="b9a07-129">Požadavky na úložiště Analytics samostatně, jako je například protokol vytvoření nebo odstranění, se neprotokolují.</span><span class="sxs-lookup"><span data-stu-id="b9a07-129">Requests made by Storage Analytics itself, such as log creation or deletion, are not logged.</span></span> <span data-ttu-id="b9a07-130">Úplný seznam dat protokolu jsou uvedené v [stavové zprávy a Storage Analytics protokolované](https://msdn.microsoft.com/library/hh343260.aspx) a [úložiště analýzy protokolů formátu](https://msdn.microsoft.com/library/hh343259.aspx) témata.</span><span class="sxs-lookup"><span data-stu-id="b9a07-130">A full list of the logged data is documented in the [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/hh343260.aspx) and [Storage Analytics Log Format](https://msdn.microsoft.com/library/hh343259.aspx) topics.</span></span>

### <a name="logging-anonymous-requests"></a><span data-ttu-id="b9a07-131">Protokolování anonymních požadavků</span><span class="sxs-lookup"><span data-stu-id="b9a07-131">Logging anonymous requests</span></span>
<span data-ttu-id="b9a07-132">Jsou zaznamenány následující typy anonymních požadavků:</span><span class="sxs-lookup"><span data-stu-id="b9a07-132">The following types of anonymous requests are logged:</span></span>

* <span data-ttu-id="b9a07-133">Úspěšné požadavky.</span><span class="sxs-lookup"><span data-stu-id="b9a07-133">Successful requests.</span></span>
* <span data-ttu-id="b9a07-134">Chyby serveru.</span><span class="sxs-lookup"><span data-stu-id="b9a07-134">Server errors.</span></span>
* <span data-ttu-id="b9a07-135">Chyby časového limitu pro klienta a serveru.</span><span class="sxs-lookup"><span data-stu-id="b9a07-135">Timeout errors for both client and server.</span></span>
* <span data-ttu-id="b9a07-136">Neúspěšné požadavky GET s kódem chyby 304 (upraveno).</span><span class="sxs-lookup"><span data-stu-id="b9a07-136">Failed GET requests with error code 304 (Not Modified).</span></span>

<span data-ttu-id="b9a07-137">Všechny ostatní selhání anonymních požadavků se neprotokolují.</span><span class="sxs-lookup"><span data-stu-id="b9a07-137">All other failed anonymous requests are not logged.</span></span> <span data-ttu-id="b9a07-138">Úplný seznam dat protokolu jsou uvedené v [stavové zprávy a Storage Analytics protokolované](https://msdn.microsoft.com/library/hh343260.aspx) a [úložiště analýzy protokolů formátu](https://msdn.microsoft.com/library/hh343259.aspx) témata.</span><span class="sxs-lookup"><span data-stu-id="b9a07-138">A full list of the logged data is documented in the [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/hh343260.aspx) and [Storage Analytics Log Format](https://msdn.microsoft.com/library/hh343259.aspx) topics.</span></span>

### <a name="how-logs-are-stored"></a><span data-ttu-id="b9a07-139">Ukládání protokolů</span><span class="sxs-lookup"><span data-stu-id="b9a07-139">How logs are stored</span></span>
<span data-ttu-id="b9a07-140">Všechny protokoly se ukládají do objektů BLOB bloku v kontejneru nazvaném $logs, který se automaticky vytvoří, když je pro účet úložiště povolená analytika úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-140">All logs are stored in block blobs in a container named $logs, which is automatically created when Storage Analytics is enabled for a storage account.</span></span> <span data-ttu-id="b9a07-141">Kontejner $logs se nachází v oboru názvů objektů blob účtu úložiště, například: `http://<accountname>.blob.core.windows.net/$logs`.</span><span class="sxs-lookup"><span data-stu-id="b9a07-141">The $logs container is located in the blob namespace of the storage account, for example: `http://<accountname>.blob.core.windows.net/$logs`.</span></span> <span data-ttu-id="b9a07-142">Tento kontejner nelze odstranit, jakmile Storage Analytics je povoleno, když jeho obsah může být odstraněny.</span><span class="sxs-lookup"><span data-stu-id="b9a07-142">This container cannot be deleted once Storage Analytics has been enabled, though its contents can be deleted.</span></span>

> [!NOTE]
> <span data-ttu-id="b9a07-143">Kontejner $logs se nezobrazí, pokud se provádí kontejner výpis operace, jako [ListContainers](https://msdn.microsoft.com/library/azure/dd179352.aspx) metoda.</span><span class="sxs-lookup"><span data-stu-id="b9a07-143">The $logs container is not displayed when a container listing operation is performed, such as the [ListContainers](https://msdn.microsoft.com/library/azure/dd179352.aspx) method.</span></span> <span data-ttu-id="b9a07-144">Musí se přístup přímo.</span><span class="sxs-lookup"><span data-stu-id="b9a07-144">It must be accessed directly.</span></span> <span data-ttu-id="b9a07-145">Například můžete použít [ListBlobs](https://msdn.microsoft.com/library/azure/dd135734.aspx) metodu pro přístup k objektům BLOB ve `$logs` kontejneru.</span><span class="sxs-lookup"><span data-stu-id="b9a07-145">For example, you can use the [ListBlobs](https://msdn.microsoft.com/library/azure/dd135734.aspx) method to access the blobs in the `$logs` container.</span></span>
> <span data-ttu-id="b9a07-146">Jako žádosti se protokolují, odešlete Storage Analytics mezilehlých výsledků jako bloky.</span><span class="sxs-lookup"><span data-stu-id="b9a07-146">As requests are logged, Storage Analytics will upload intermediate results as blocks.</span></span> <span data-ttu-id="b9a07-147">Analytika úložiště bude pravidelně potvrdit tyto bloky a zpřístupnit jako objekt blob.</span><span class="sxs-lookup"><span data-stu-id="b9a07-147">Periodically, Storage Analytics will commit these blocks and make them available as a blob.</span></span>
> 
> 

<span data-ttu-id="b9a07-148">Pro protokoly, které jsou vytvořené v tutéž hodinu může existují duplicitní záznamy.</span><span class="sxs-lookup"><span data-stu-id="b9a07-148">Duplicate records may exist for logs created in the same hour.</span></span> <span data-ttu-id="b9a07-149">Můžete určit, zda záznam je duplicitní kontrolou **Id_žádosti** a **operace** číslo.</span><span class="sxs-lookup"><span data-stu-id="b9a07-149">You can determine if a record is a duplicate by checking the **RequestId** and **Operation** number.</span></span>

### <a name="log-naming-conventions"></a><span data-ttu-id="b9a07-150">Přihlaste se zásady vytváření názvů</span><span class="sxs-lookup"><span data-stu-id="b9a07-150">Log naming conventions</span></span>
<span data-ttu-id="b9a07-151">Každý protokol, bude napsán v následujícím formátu.</span><span class="sxs-lookup"><span data-stu-id="b9a07-151">Each log will be written in the following format.</span></span>

    <service-name>/YYYY/MM/DD/hhmm/<counter>.log

<span data-ttu-id="b9a07-152">Následující tabulka popisuje jednotlivé atributy v názvu protokolového.</span><span class="sxs-lookup"><span data-stu-id="b9a07-152">The following table describes each attribute in the log name.</span></span>

| <span data-ttu-id="b9a07-153">Atribut</span><span class="sxs-lookup"><span data-stu-id="b9a07-153">Attribute</span></span> | <span data-ttu-id="b9a07-154">Popis</span><span class="sxs-lookup"><span data-stu-id="b9a07-154">Description</span></span> |
| --- | --- |
| <span data-ttu-id="b9a07-155">< název služby ></span><span class="sxs-lookup"><span data-stu-id="b9a07-155"><service-name></span></span> |<span data-ttu-id="b9a07-156">Název služby úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-156">The name of the storage service.</span></span> <span data-ttu-id="b9a07-157">Příklad: Objekt blob, tabulka nebo fronty.</span><span class="sxs-lookup"><span data-stu-id="b9a07-157">For example: blob, table, or queue.</span></span> |
| <span data-ttu-id="b9a07-158">RRRR</span><span class="sxs-lookup"><span data-stu-id="b9a07-158">YYYY</span></span> |<span data-ttu-id="b9a07-159">Čtyřmístný rok pro protokol.</span><span class="sxs-lookup"><span data-stu-id="b9a07-159">The four-digit year for the log.</span></span> <span data-ttu-id="b9a07-160">Příklad: 2011.</span><span class="sxs-lookup"><span data-stu-id="b9a07-160">For example: 2011.</span></span> |
| <span data-ttu-id="b9a07-161">MM</span><span class="sxs-lookup"><span data-stu-id="b9a07-161">MM</span></span> |<span data-ttu-id="b9a07-162">Letopočty měsíce pro protokol.</span><span class="sxs-lookup"><span data-stu-id="b9a07-162">The two-digit month for the log.</span></span> <span data-ttu-id="b9a07-163">Příklad: 07.</span><span class="sxs-lookup"><span data-stu-id="b9a07-163">For example: 07.</span></span> |
| <span data-ttu-id="b9a07-164">DD</span><span class="sxs-lookup"><span data-stu-id="b9a07-164">DD</span></span> |<span data-ttu-id="b9a07-165">Letopočty měsíce pro protokol.</span><span class="sxs-lookup"><span data-stu-id="b9a07-165">The two-digit month for the log.</span></span> <span data-ttu-id="b9a07-166">Příklad: 07.</span><span class="sxs-lookup"><span data-stu-id="b9a07-166">For example: 07.</span></span> |
| <span data-ttu-id="b9a07-167">hh</span><span class="sxs-lookup"><span data-stu-id="b9a07-167">hh</span></span> |<span data-ttu-id="b9a07-168">Hodiny letopočty určující počáteční hodina protokolů, ve 24hodinovém formátu UTC.</span><span class="sxs-lookup"><span data-stu-id="b9a07-168">The two-digit hour that indicates the starting hour for the logs, in 24-hour UTC format.</span></span> <span data-ttu-id="b9a07-169">Příklad: 18.</span><span class="sxs-lookup"><span data-stu-id="b9a07-169">For example: 18.</span></span> |
| <span data-ttu-id="b9a07-170">mm</span><span class="sxs-lookup"><span data-stu-id="b9a07-170">mm</span></span> |<span data-ttu-id="b9a07-171">Dvoumístné číslo určující počáteční minut protokolů.</span><span class="sxs-lookup"><span data-stu-id="b9a07-171">The two-digit number that indicates the starting minute for the logs.</span></span> <span data-ttu-id="b9a07-172">Tato hodnota není podporována v aktuální verzi analytika úložiště a jeho hodnota bude vždy 00.</span><span class="sxs-lookup"><span data-stu-id="b9a07-172">This value is unsupported in the current version of Storage Analytics, and its value will always be 00.</span></span> |
| <counter> |<span data-ttu-id="b9a07-173">Počítaný od nuly čítač se šesti číslic určující počet objektů BLOB protokolu vygenerovaný pro službu úložiště za hodinu časové období.</span><span class="sxs-lookup"><span data-stu-id="b9a07-173">A zero-based counter with six digits that indicates the number of log blobs generated for the storage service in an hour time period.</span></span> <span data-ttu-id="b9a07-174">Tento čítač se spustí v 000000.</span><span class="sxs-lookup"><span data-stu-id="b9a07-174">This counter starts at 000000.</span></span> <span data-ttu-id="b9a07-175">Příklad: 000001.</span><span class="sxs-lookup"><span data-stu-id="b9a07-175">For example: 000001.</span></span> |

<span data-ttu-id="b9a07-176">Následuje název protokolu ucelenou ukázku, která sloučí v předchozích příkladech.</span><span class="sxs-lookup"><span data-stu-id="b9a07-176">The following is a complete sample log name that combines the previous examples.</span></span>

    blob/2011/07/31/1800/000001.log

<span data-ttu-id="b9a07-177">Zde je ukázka identifikátor URI, který lze použít pro přístup k předchozím protokolu.</span><span class="sxs-lookup"><span data-stu-id="b9a07-177">The following is a sample URI that can be used to access the previous log.</span></span>

    https://<accountname>.blob.core.windows.net/$logs/blob/2011/07/31/1800/000001.log

<span data-ttu-id="b9a07-178">Při zaznamenání požadavku úložiště, výsledný název protokolu korelaci hodinu po dokončení požadované operace.</span><span class="sxs-lookup"><span data-stu-id="b9a07-178">When a storage request is logged, the resulting log name correlates to the hour when the requested operation completed.</span></span> <span data-ttu-id="b9a07-179">Například, pokud žádost o getblob – byla dokončena v 6:30</span><span class="sxs-lookup"><span data-stu-id="b9a07-179">For example, if a GetBlob request was completed at 6:30 P.M.</span></span> <span data-ttu-id="b9a07-180">na 31/7/2011 by byla zapsána do protokolu s předponou následující:`blob/2011/07/31/1800/`</span><span class="sxs-lookup"><span data-stu-id="b9a07-180">on 7/31/2011, the log would be written with the following prefix: `blob/2011/07/31/1800/`</span></span>

### <a name="log-metadata"></a><span data-ttu-id="b9a07-181">Metadata protokolu</span><span class="sxs-lookup"><span data-stu-id="b9a07-181">Log metadata</span></span>
<span data-ttu-id="b9a07-182">Všechny objekty BLOB protokolu se ukládají s metadata, která umožňuje určit protokolování data, která obsahuje objekt blob.</span><span class="sxs-lookup"><span data-stu-id="b9a07-182">All log blobs are stored with metadata that can be used to identify what logging data the blob contains.</span></span> <span data-ttu-id="b9a07-183">Následující tabulka popisuje každý atribut metadat.</span><span class="sxs-lookup"><span data-stu-id="b9a07-183">The following table describes each metadata attribute.</span></span>

| <span data-ttu-id="b9a07-184">Atribut</span><span class="sxs-lookup"><span data-stu-id="b9a07-184">Attribute</span></span> | <span data-ttu-id="b9a07-185">Popis</span><span class="sxs-lookup"><span data-stu-id="b9a07-185">Description</span></span> |
| --- | --- |
| <span data-ttu-id="b9a07-186">LogType</span><span class="sxs-lookup"><span data-stu-id="b9a07-186">LogType</span></span> |<span data-ttu-id="b9a07-187">Popisuje, zda v protokolu obsahuje informace týkající se čtení, zápisu nebo odstranění operace.</span><span class="sxs-lookup"><span data-stu-id="b9a07-187">Describes whether the log contains information pertaining to read, write, or delete operations.</span></span> <span data-ttu-id="b9a07-188">Tato hodnota může obsahovat jeden typ nebo kombinaci všechny tři, oddělených čárkami.</span><span class="sxs-lookup"><span data-stu-id="b9a07-188">This value can include one type or a combination of all three, separated by commas.</span></span> <span data-ttu-id="b9a07-189">Příklad 1: zápis; Příklad 2: Číst, zapisovat; Příklad 3: Číst, zapisovat, odstranit.</span><span class="sxs-lookup"><span data-stu-id="b9a07-189">Example 1: write; Example 2: read,write; Example 3: read,write,delete.</span></span> |
| <span data-ttu-id="b9a07-190">Čas spuštění</span><span class="sxs-lookup"><span data-stu-id="b9a07-190">StartTime</span></span> |<span data-ttu-id="b9a07-191">Denní čas, může záznam v protokolu ve formátu RRRR-MM-ddTHH.</span><span class="sxs-lookup"><span data-stu-id="b9a07-191">The earliest time of an entry in the log, in the form of YYYY-MM-DDThh:mm:ssZ.</span></span> <span data-ttu-id="b9a07-192">Příklad: 2011-07-31T18:21:46Z.</span><span class="sxs-lookup"><span data-stu-id="b9a07-192">For example: 2011-07-31T18:21:46Z.</span></span> |
| <span data-ttu-id="b9a07-193">čas ukončení</span><span class="sxs-lookup"><span data-stu-id="b9a07-193">EndTime</span></span> |<span data-ttu-id="b9a07-194">Čas posledního záznamu v protokolu ve formátu RRRR-MM-ddTHH.</span><span class="sxs-lookup"><span data-stu-id="b9a07-194">The latest time of an entry in the log, in the form of YYYY-MM-DDThh:mm:ssZ.</span></span> <span data-ttu-id="b9a07-195">Příklad: 2011-07-31T18:22:09Z.</span><span class="sxs-lookup"><span data-stu-id="b9a07-195">For example: 2011-07-31T18:22:09Z.</span></span> |
| <span data-ttu-id="b9a07-196">LogVersion</span><span class="sxs-lookup"><span data-stu-id="b9a07-196">LogVersion</span></span> |<span data-ttu-id="b9a07-197">Verze formátu protokolu.</span><span class="sxs-lookup"><span data-stu-id="b9a07-197">The version of the log format.</span></span> <span data-ttu-id="b9a07-198">Aktuálně jedinou podporovanou hodnotou je 1.0.</span><span class="sxs-lookup"><span data-stu-id="b9a07-198">Currently the only supported value is 1.0.</span></span> |

<span data-ttu-id="b9a07-199">V následujícím seznamu zobrazí ucelenou ukázku metadat pomocí v předchozích příkladech.</span><span class="sxs-lookup"><span data-stu-id="b9a07-199">The following list displays complete sample metadata using the previous examples.</span></span>

* <span data-ttu-id="b9a07-200">LogType = zápisu</span><span class="sxs-lookup"><span data-stu-id="b9a07-200">LogType=write</span></span>
* <span data-ttu-id="b9a07-201">StartTime = 2011-07-31T18:21:46Z</span><span class="sxs-lookup"><span data-stu-id="b9a07-201">StartTime=2011-07-31T18:21:46Z</span></span>
* <span data-ttu-id="b9a07-202">Čas ukončení = 2011-07-31T18:22:09Z</span><span class="sxs-lookup"><span data-stu-id="b9a07-202">EndTime=2011-07-31T18:22:09Z</span></span>
* <span data-ttu-id="b9a07-203">LogVersion = 1.0</span><span class="sxs-lookup"><span data-stu-id="b9a07-203">LogVersion=1.0</span></span>

### <a name="accessing-logging-data"></a><span data-ttu-id="b9a07-204">Přístup k datům protokolování</span><span class="sxs-lookup"><span data-stu-id="b9a07-204">Accessing logging data</span></span>
<span data-ttu-id="b9a07-205">Všechna data `$logs` kontejneru je přístupná pomocí rozhraní API služby objektů Blob, včetně .NET API poskytované Azure spravovanou knihovnu.</span><span class="sxs-lookup"><span data-stu-id="b9a07-205">All data in the `$logs` container can be accessed by using the Blob service APIs, including the .NET APIs provided by the Azure managed library.</span></span> <span data-ttu-id="b9a07-206">Správce účtu úložiště můžete číst a odstranit protokoly, ale nelze vytvořit nebo aktualizovat je.</span><span class="sxs-lookup"><span data-stu-id="b9a07-206">The storage account administrator can read and delete logs, but cannot create or update them.</span></span> <span data-ttu-id="b9a07-207">Metadata v protokolu a název protokolu lze použít při dotazování pro protokol.</span><span class="sxs-lookup"><span data-stu-id="b9a07-207">Both the log's metadata and log name can be used when querying for a log.</span></span> <span data-ttu-id="b9a07-208">Je možné pro danou hodinu protokoly objeví mimo pořadí, ale metadata vždy určuje časový interval položky protokolu v protokolu.</span><span class="sxs-lookup"><span data-stu-id="b9a07-208">It is possible for a given hour's logs to appear out of order, but the metadata always specifies the timespan of log entries in a log.</span></span> <span data-ttu-id="b9a07-209">Proto můžete použít kombinaci protokolu názvů a metadata při vyhledávání pro určitý protokol.</span><span class="sxs-lookup"><span data-stu-id="b9a07-209">Therefore, you can use a combination of log names and metadata when searching for a particular log.</span></span>

## <a name="about-storage-analytics-metrics"></a><span data-ttu-id="b9a07-210">O Storage Analytics metriky</span><span class="sxs-lookup"><span data-stu-id="b9a07-210">About Storage Analytics metrics</span></span>
<span data-ttu-id="b9a07-211">Analytika úložiště můžete ukládat metriky, které zahrnují agregované transakce statistiky a kapacity data o požadavcích služby úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-211">Storage Analytics can store metrics that include aggregated transaction statistics and capacity data about requests to a storage service.</span></span> <span data-ttu-id="b9a07-212">Transakce jsou hlášeny na úrovni operace rozhraní API, a také na úrovni služby úložiště a hlásí kapacity na úrovni služby úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-212">Transactions are reported at both the API operation level as well as at the storage service level, and capacity is reported at the storage service level.</span></span> <span data-ttu-id="b9a07-213">Metriky dat slouží k analýze využití služby úložiště, diagnostikovat problémy s požadavky na služby úložiště a zlepšit výkon aplikací, které používají službu.</span><span class="sxs-lookup"><span data-stu-id="b9a07-213">Metrics data can be used to analyze storage service usage, diagnose issues with requests made against the storage service, and to improve the performance of applications that use a service.</span></span>

<span data-ttu-id="b9a07-214">Pokud chcete používat analytika úložiště, musíte povolit ji jednotlivě pro každou službu, kterou chcete monitorovat.</span><span class="sxs-lookup"><span data-stu-id="b9a07-214">To use Storage Analytics, you must enable it individually for each service you want to monitor.</span></span> <span data-ttu-id="b9a07-215">Můžete ji z povolit [portálu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="b9a07-215">You can enable it from the [Azure Portal](https://portal.azure.com).</span></span> <span data-ttu-id="b9a07-216">Podrobnosti najdete v tématu [monitorování účtu úložiště na portálu Azure](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="b9a07-216">For details, see [Monitor a storage account in the Azure Portal](storage-monitor-storage-account.md).</span></span> <span data-ttu-id="b9a07-217">Můžete také povolit Storage Analytics programově pomocí rozhraní REST API nebo knihovny klienta.</span><span class="sxs-lookup"><span data-stu-id="b9a07-217">You can also enable Storage Analytics programmatically via the REST API or the client library.</span></span> <span data-ttu-id="b9a07-218">Použití **získat vlastnosti služby** operace povolující analytika úložiště pro každou službu.</span><span class="sxs-lookup"><span data-stu-id="b9a07-218">Use the **Get Service Properties** operations to enable Storage Analytics for each service.</span></span>

### <a name="transaction-metrics"></a><span data-ttu-id="b9a07-219">Metriky transakce</span><span class="sxs-lookup"><span data-stu-id="b9a07-219">Transaction metrics</span></span>
<span data-ttu-id="b9a07-220">Robustní sadu dat se zaznamenává v intervalech hodinových nebo minutu pro každou službu úložiště a požadovanou operaci rozhraní API, včetně vstupní/výstupní, dostupnosti, chyby a zařazené do kategorie procenta požadavku.</span><span class="sxs-lookup"><span data-stu-id="b9a07-220">A robust set of data is recorded at hourly or minute intervals for each storage service and requested API operation, including ingress/egress, availability, errors, and categorized request percentages.</span></span> <span data-ttu-id="b9a07-221">Zobrazí seznam všech podrobností transakcí v [schématu tabulky metriky Analytics úložiště](https://msdn.microsoft.com/library/hh343264.aspx) tématu.</span><span class="sxs-lookup"><span data-stu-id="b9a07-221">You can see a complete list of the transaction details in the [Storage Analytics Metrics Table Schema](https://msdn.microsoft.com/library/hh343264.aspx) topic.</span></span>

<span data-ttu-id="b9a07-222">Data transakcí se zaznamenává na dvou úrovních – úrovně služby a operace úroveň rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="b9a07-222">Transaction data is recorded at two levels – the service level and the API operation level.</span></span> <span data-ttu-id="b9a07-223">Na úrovni služby statistiky shrnutí všechny požadované operace rozhraní API se zapisují na entitu tabulky každou hodinu i v případě, že nebyly provedeny žádné žádosti o službu.</span><span class="sxs-lookup"><span data-stu-id="b9a07-223">At the service level, statistics summarizing all requested API operations are written to a table entity every hour even if no requests were made to the service.</span></span> <span data-ttu-id="b9a07-224">Na úrovni operace rozhraní API statistiky zapíšou jenom na entitu Pokud byla požadovaná operace v rámci této hodinu.</span><span class="sxs-lookup"><span data-stu-id="b9a07-224">At the API operation level, statistics are only written to an entity if the operation was requested within that hour.</span></span>

<span data-ttu-id="b9a07-225">Například, pokud provádíte **getblob –** operace služby Blob Storage Analytics Metrics bude protokolu žádost a její zahrnutí do agregovaná data pro službu objektů Blob a taky **getblob –** operaci.</span><span class="sxs-lookup"><span data-stu-id="b9a07-225">For example, if you perform a **GetBlob** operation on your Blob service, Storage Analytics Metrics will log the request and include it in the aggregated data for both the Blob service as well as the **GetBlob** operation.</span></span> <span data-ttu-id="b9a07-226">Ale pokud žádné **getblob –** za hodinu je požadovaná operace, nebude možné entity zapsat do `$MetricsTransactionsBlob` pro tuto operaci.</span><span class="sxs-lookup"><span data-stu-id="b9a07-226">However, if no **GetBlob** operation is requested during the hour, an entity will not be written to the `$MetricsTransactionsBlob` for that operation.</span></span>

<span data-ttu-id="b9a07-227">Metriky transakce se zaznamenávají pro uživatelské požadavky a požadavky na úložiště Analytics sám sebe.</span><span class="sxs-lookup"><span data-stu-id="b9a07-227">Transaction metrics are recorded for both user requests and requests made by Storage Analytics itself.</span></span> <span data-ttu-id="b9a07-228">Například se zaznamenávají požadavků podle Storage Analytics k zápisu protokoly a entity tabulky.</span><span class="sxs-lookup"><span data-stu-id="b9a07-228">For example, requests by Storage Analytics to write logs and table entities are recorded.</span></span> <span data-ttu-id="b9a07-229">Další informace o tom, jak se účtují tyto požadavky najdete v tématu [Storage Analytics a fakturace](https://msdn.microsoft.com/library/hh360997.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9a07-229">For more information about how these requests are billed, see [Storage Analytics and Billing](https://msdn.microsoft.com/library/hh360997.aspx).</span></span>

### <a name="capacity-metrics"></a><span data-ttu-id="b9a07-230">Metriky kapacity</span><span class="sxs-lookup"><span data-stu-id="b9a07-230">Capacity metrics</span></span>
> [!NOTE]
> <span data-ttu-id="b9a07-231">V současné době metriky kapacity jsou k dispozici pouze pro služby objektů Blob.</span><span class="sxs-lookup"><span data-stu-id="b9a07-231">Currently, capacity metrics are only available for the Blob service.</span></span> <span data-ttu-id="b9a07-232">Metriky kapacity pro službu tabulky a fronty služby bude v budoucích verzích analytika úložiště k dispozici.</span><span class="sxs-lookup"><span data-stu-id="b9a07-232">Capacity metrics for the Table service and Queue service will be available in future versions of Storage Analytics.</span></span>
> 
> 

<span data-ttu-id="b9a07-233">Kapacity dat se zaznamenává každý den pro účet úložiště služby objektů Blob a se zapisují dvě entity tabulky.</span><span class="sxs-lookup"><span data-stu-id="b9a07-233">Capacity data is recorded daily for a storage account's Blob service, and two table entities are written.</span></span> <span data-ttu-id="b9a07-234">Jedna entita poskytuje statistiky pro data uživatelů a dalších poskytuje statistiky o `$logs` kontejner objektů blob Storage Analytics používá.</span><span class="sxs-lookup"><span data-stu-id="b9a07-234">One entity provides statistics for user data, and the other provides statistics about the `$logs` blob container used by Storage Analytics.</span></span> <span data-ttu-id="b9a07-235">`$MetricsCapacityBlob` Tabulka obsahuje následující statistiky:</span><span class="sxs-lookup"><span data-stu-id="b9a07-235">The `$MetricsCapacityBlob` table includes the following statistics:</span></span>

* <span data-ttu-id="b9a07-236">**Kapacita**: velikost úložiště, které používá služba účtu úložiště objektů Blob, v bajtech.</span><span class="sxs-lookup"><span data-stu-id="b9a07-236">**Capacity**: The amount of storage used by the storage account's Blob service, in bytes.</span></span>
* <span data-ttu-id="b9a07-237">**ContainerCount**: počet kontejnerů objektů blob v účtu úložiště služby objektů Blob.</span><span class="sxs-lookup"><span data-stu-id="b9a07-237">**ContainerCount**: The number of blob containers in the storage account's Blob service.</span></span>
* <span data-ttu-id="b9a07-238">**ObjectCount**: počet potvrzení a nepotvrzené bloku nebo stránky objektů BLOB v účtu úložiště objektů Blob služby.</span><span class="sxs-lookup"><span data-stu-id="b9a07-238">**ObjectCount**: The number of committed and uncommitted block or page blobs in the storage account's Blob service.</span></span>

<span data-ttu-id="b9a07-239">Další informace o metriky kapacity najdete v tématu [schématu tabulky metriky Analytics úložiště](https://msdn.microsoft.com/library/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9a07-239">For more information about the capacity metrics, see [Storage Analytics Metrics Table Schema](https://msdn.microsoft.com/library/hh343264.aspx).</span></span>

### <a name="how-metrics-are-stored"></a><span data-ttu-id="b9a07-240">Ukládání metriky</span><span class="sxs-lookup"><span data-stu-id="b9a07-240">How metrics are stored</span></span>
<span data-ttu-id="b9a07-241">Veškerá data metriky pro jednotlivé služby storage je uložena v tři tabulky, které jsou vyhrazené pro tuto službu: jednu tabulku pro informací o transakcích, jednu tabulku pro informace o minutu transakce a jinou tabulkou pro informací o kapacitě.</span><span class="sxs-lookup"><span data-stu-id="b9a07-241">All metrics data for each of the storage services is stored in three tables reserved for that service: one table for transaction information, one table for minute transaction information, and another table for capacity information.</span></span> <span data-ttu-id="b9a07-242">Transakce a minutu informací o transakcích se skládá z požadavku a odpovědi dat a informací o kapacitě se skládá z dat využití úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-242">Transaction and minute transaction information consists of request and response data, and capacity information consists of storage usage data.</span></span> <span data-ttu-id="b9a07-243">Metriky hodinu, minutu metriky a kapacity pro účet úložiště služby objektů Blob je přístupná v tabulkách, které byly pojmenovány, jak je popsáno v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="b9a07-243">Hour metrics, minute metrics, and capacity for a storage account's Blob service can be accessed in tables that are named as described in the following table.</span></span>

| <span data-ttu-id="b9a07-244">Metriky úrovně</span><span class="sxs-lookup"><span data-stu-id="b9a07-244">Metrics level</span></span> | <span data-ttu-id="b9a07-245">Názvy tabulek</span><span class="sxs-lookup"><span data-stu-id="b9a07-245">Table names</span></span> | <span data-ttu-id="b9a07-246">Podporované verze</span><span class="sxs-lookup"><span data-stu-id="b9a07-246">Supported versions</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b9a07-247">Hodinové metriky, primární umístění</span><span class="sxs-lookup"><span data-stu-id="b9a07-247">Hourly metrics, primary location</span></span> |<span data-ttu-id="b9a07-248">$MetricsTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="b9a07-248">$MetricsTransactionsBlob</span></span> <br/><span data-ttu-id="b9a07-249">$MetricsTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="b9a07-249">$MetricsTransactionsTable</span></span> <br/> <span data-ttu-id="b9a07-250">$MetricsTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="b9a07-250">$MetricsTransactionsQueue</span></span> |<span data-ttu-id="b9a07-251">Verze starší než 2013-08-15 jenom.</span><span class="sxs-lookup"><span data-stu-id="b9a07-251">Versions prior to 2013-08-15 only.</span></span> <span data-ttu-id="b9a07-252">Když tyto názvy jsou stále podporovány, je doporučeno, můžete přejít k používání níže uvedené tabulky.</span><span class="sxs-lookup"><span data-stu-id="b9a07-252">While these names are still supported, it's recommended that you switch to using the tables listed below.</span></span> |
| <span data-ttu-id="b9a07-253">Hodinové metriky, primární umístění</span><span class="sxs-lookup"><span data-stu-id="b9a07-253">Hourly metrics, primary location</span></span> |<span data-ttu-id="b9a07-254">$MetricsHourPrimaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="b9a07-254">$MetricsHourPrimaryTransactionsBlob</span></span> <br/><span data-ttu-id="b9a07-255">$MetricsHourPrimaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="b9a07-255">$MetricsHourPrimaryTransactionsTable</span></span> <br/><span data-ttu-id="b9a07-256">$MetricsHourPrimaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="b9a07-256">$MetricsHourPrimaryTransactionsQueue</span></span> |<span data-ttu-id="b9a07-257">Všechny verze, včetně 2013-08-15.</span><span class="sxs-lookup"><span data-stu-id="b9a07-257">All versions, including 2013-08-15.</span></span> |
| <span data-ttu-id="b9a07-258">Minutu metriky, primární umístění</span><span class="sxs-lookup"><span data-stu-id="b9a07-258">Minute metrics, primary location</span></span> |<span data-ttu-id="b9a07-259">$MetricsMinutePrimaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="b9a07-259">$MetricsMinutePrimaryTransactionsBlob</span></span> <br/><span data-ttu-id="b9a07-260">$MetricsMinutePrimaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="b9a07-260">$MetricsMinutePrimaryTransactionsTable</span></span> <br/><span data-ttu-id="b9a07-261">$MetricsMinutePrimaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="b9a07-261">$MetricsMinutePrimaryTransactionsQueue</span></span> |<span data-ttu-id="b9a07-262">Všechny verze, včetně 2013-08-15.</span><span class="sxs-lookup"><span data-stu-id="b9a07-262">All versions, including 2013-08-15.</span></span> |
| <span data-ttu-id="b9a07-263">Hodinové metriky, sekundárních umístění</span><span class="sxs-lookup"><span data-stu-id="b9a07-263">Hourly metrics, secondary location</span></span> |<span data-ttu-id="b9a07-264">$MetricsHourSecondaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="b9a07-264">$MetricsHourSecondaryTransactionsBlob</span></span> <br/><span data-ttu-id="b9a07-265">$MetricsHourSecondaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="b9a07-265">$MetricsHourSecondaryTransactionsTable</span></span> <br/><span data-ttu-id="b9a07-266">$MetricsHourSecondaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="b9a07-266">$MetricsHourSecondaryTransactionsQueue</span></span> |<span data-ttu-id="b9a07-267">Všechny verze, včetně 2013-08-15.</span><span class="sxs-lookup"><span data-stu-id="b9a07-267">All versions, including 2013-08-15.</span></span> <span data-ttu-id="b9a07-268">Musí být povolen přístup pro čtení geo redundantní replikaci.</span><span class="sxs-lookup"><span data-stu-id="b9a07-268">Read-access geo-redundant replication must be enabled.</span></span> |
| <span data-ttu-id="b9a07-269">Minutu metriky, sekundárních umístění</span><span class="sxs-lookup"><span data-stu-id="b9a07-269">Minute metrics, secondary location</span></span> |<span data-ttu-id="b9a07-270">$MetricsMinuteSecondaryTransactionsBlob</span><span class="sxs-lookup"><span data-stu-id="b9a07-270">$MetricsMinuteSecondaryTransactionsBlob</span></span> <br/><span data-ttu-id="b9a07-271">$MetricsMinuteSecondaryTransactionsTable</span><span class="sxs-lookup"><span data-stu-id="b9a07-271">$MetricsMinuteSecondaryTransactionsTable</span></span> <br/><span data-ttu-id="b9a07-272">$MetricsMinuteSecondaryTransactionsQueue</span><span class="sxs-lookup"><span data-stu-id="b9a07-272">$MetricsMinuteSecondaryTransactionsQueue</span></span> |<span data-ttu-id="b9a07-273">Všechny verze, včetně 2013-08-15.</span><span class="sxs-lookup"><span data-stu-id="b9a07-273">All versions, including 2013-08-15.</span></span> <span data-ttu-id="b9a07-274">Musí být povolen přístup pro čtení geo redundantní replikaci.</span><span class="sxs-lookup"><span data-stu-id="b9a07-274">Read-access geo-redundant replication must be enabled.</span></span> |
| <span data-ttu-id="b9a07-275">Kapacita (pouze služby objektů Blob)</span><span class="sxs-lookup"><span data-stu-id="b9a07-275">Capacity (Blob service only)</span></span> |<span data-ttu-id="b9a07-276">$MetricsCapacityBlob</span><span class="sxs-lookup"><span data-stu-id="b9a07-276">$MetricsCapacityBlob</span></span> |<span data-ttu-id="b9a07-277">Všechny verze, včetně 2013-08-15.</span><span class="sxs-lookup"><span data-stu-id="b9a07-277">All versions, including 2013-08-15.</span></span> |

<span data-ttu-id="b9a07-278">Tyto tabulky se automaticky vytvoří, když je pro účet úložiště povolená analytika úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-278">These tables are automatically created when Storage Analytics is enabled for a storage account.</span></span> <span data-ttu-id="b9a07-279">Jsou přístupná prostřednictvím obor názvů účet úložiště, například:`https://<accountname>.table.core.windows.net/Tables("$MetricsTransactionsBlob")`</span><span class="sxs-lookup"><span data-stu-id="b9a07-279">They are accessed via the namespace of the storage account, for example: `https://<accountname>.table.core.windows.net/Tables("$MetricsTransactionsBlob")`</span></span>

### <a name="accessing-metrics-data"></a><span data-ttu-id="b9a07-280">Přístup k datům metriky</span><span class="sxs-lookup"><span data-stu-id="b9a07-280">Accessing metrics data</span></span>
<span data-ttu-id="b9a07-281">Všechna data v tabulkách metriky můžete přistupovat pomocí rozhraní API služby Table, včetně .NET API poskytované Azure spravovanou knihovnu.</span><span class="sxs-lookup"><span data-stu-id="b9a07-281">All data in the metrics tables can be accessed by using the Table service APIs, including the .NET APIs provided by the Azure managed library.</span></span> <span data-ttu-id="b9a07-282">Správce účtu úložiště můžete číst a odstranit tabulku entity, ale nelze vytvořit nebo aktualizovat je.</span><span class="sxs-lookup"><span data-stu-id="b9a07-282">The storage account administrator can read and delete table entities, but cannot create or update them.</span></span>

## <a name="billing-for-storage-analytics"></a><span data-ttu-id="b9a07-283">Fakturace analytika úložiště</span><span class="sxs-lookup"><span data-stu-id="b9a07-283">Billing for Storage Analytics</span></span>
<span data-ttu-id="b9a07-284">Všechny metriky data jsou zapsána pomocí služby účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-284">All metrics data is written by the services of a storage account.</span></span> <span data-ttu-id="b9a07-285">V důsledku toho je fakturovatelný každou operaci zápisu provádí analytika úložiště.</span><span class="sxs-lookup"><span data-stu-id="b9a07-285">As a result, each write operation performed by Storage Analytics is billable.</span></span> <span data-ttu-id="b9a07-286">Velikost úložiště používané metriky dat je navíc také fakturovatelného času.</span><span class="sxs-lookup"><span data-stu-id="b9a07-286">Additionally, the amount of storage used by metrics data is also billable.</span></span>

<span data-ttu-id="b9a07-287">Fakturovatelný jsou tyto akce prováděné Storage Analytics:</span><span class="sxs-lookup"><span data-stu-id="b9a07-287">The following actions performed by Storage Analytics are billable:</span></span>

* <span data-ttu-id="b9a07-288">Požadavky na vytvoření objektů blob pro protokolování.</span><span class="sxs-lookup"><span data-stu-id="b9a07-288">Requests to create blobs for logging.</span></span> 
* <span data-ttu-id="b9a07-289">Požadavky na vytvoření entity tabulky pro metriky.</span><span class="sxs-lookup"><span data-stu-id="b9a07-289">Requests to create table entities for metrics.</span></span>

<span data-ttu-id="b9a07-290">Pokud jste nakonfigurovali zásadu uchovávání dat, se vám neúčtují poplatky pro odstranění transakce když Storage Analytics odstraní stará data protokolování a metriky.</span><span class="sxs-lookup"><span data-stu-id="b9a07-290">If you have configured a data retention policy, you are not charged for delete transactions when Storage Analytics deletes old logging and metrics data.</span></span> <span data-ttu-id="b9a07-291">Odstranění transakce z klienta jsou však fakturovatelného času.</span><span class="sxs-lookup"><span data-stu-id="b9a07-291">However, delete transactions from a client are billable.</span></span> <span data-ttu-id="b9a07-292">Další informace o zásady uchovávání informací najdete v tématu [nastavení zásad uchovávání dat úložiště Analytics](https://msdn.microsoft.com/library/azure/hh343263.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9a07-292">For more information about retention policies, see [Setting a Storage Analytics Data Retention Policy](https://msdn.microsoft.com/library/azure/hh343263.aspx).</span></span>

### <a name="understanding-billable-requests"></a><span data-ttu-id="b9a07-293">Pochopení požadavků fakturovatelného času</span><span class="sxs-lookup"><span data-stu-id="b9a07-293">Understanding billable requests</span></span>
<span data-ttu-id="b9a07-294">Každý požadavek do služby účtu úložiště je fakturovatelný nebo Nefakturovatelný.</span><span class="sxs-lookup"><span data-stu-id="b9a07-294">Every request made to an account's storage service is either billable or non-billable.</span></span> <span data-ttu-id="b9a07-295">Úložiště analýzy protokolů každé jednotlivé požadavek služby, včetně stavovou zprávu, která určuje, jak byl požadavek zpracován.</span><span class="sxs-lookup"><span data-stu-id="b9a07-295">Storage Analytics logs each individual request made to a service, including a status message that indicates how the request was handled.</span></span> <span data-ttu-id="b9a07-296">Podobně analytika úložiště ukládá metrik pro služby a operace rozhraní API této služby, včetně procenta a počet určitých stavových zpráv.</span><span class="sxs-lookup"><span data-stu-id="b9a07-296">Similarly, Storage Analytics stores metrics for both a service and the API operations of that service, including the percentages and count of certain status messages.</span></span> <span data-ttu-id="b9a07-297">Společně tyto funkce vám může pomoct analyzovat fakturovatelný žádostí, zlepšení na vaší aplikace a diagnostikovat problémy s požadavky k vašim službám.</span><span class="sxs-lookup"><span data-stu-id="b9a07-297">Together, these features can help you analyze your billable requests, make improvements on your application, and diagnose issues with requests to your services.</span></span> <span data-ttu-id="b9a07-298">Další informace o fakturaci, viz [Principy Azure úložiště fakturace - šířku pásma, transakce a kapacity](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span><span class="sxs-lookup"><span data-stu-id="b9a07-298">For more information about billing, see [Understanding Azure Storage Billing - Bandwidth, Transactions, and Capacity](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span></span>

<span data-ttu-id="b9a07-299">Při prohlížení analytika úložiště dat, můžete použít tabulky v [stavové zprávy a Storage Analytics protokolované](https://msdn.microsoft.com/library/azure/hh343260.aspx) tématu, které chcete určit, jaké požadavky jsou fakturovatelné.</span><span class="sxs-lookup"><span data-stu-id="b9a07-299">When looking at Storage Analytics data, you can use the tables in the [Storage Analytics Logged Operations and Status Messages](https://msdn.microsoft.com/library/azure/hh343260.aspx) topic to determine what requests are billable.</span></span> <span data-ttu-id="b9a07-300">Pak můžete porovnat protokoly a metriky data stavových zpráv a zjistí, pokud byla požadována pro konkrétní žádost.</span><span class="sxs-lookup"><span data-stu-id="b9a07-300">Then you can compare your logs and metrics data to the status messages to see if you were charged for a particular request.</span></span> <span data-ttu-id="b9a07-301">Tabulky v předchozím tématu můžete použít také k nalezení dostupnosti pro službu úložiště nebo jednotlivé operace rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="b9a07-301">You can also use the tables in the previous topic to investigate availability for a storage service or individual API operation.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b9a07-302">Další kroky</span><span class="sxs-lookup"><span data-stu-id="b9a07-302">Next steps</span></span>
### <a name="setting-up-storage-analytics"></a><span data-ttu-id="b9a07-303">Nastavení služby Storage Analytics</span><span class="sxs-lookup"><span data-stu-id="b9a07-303">Setting up Storage Analytics</span></span>
* [<span data-ttu-id="b9a07-304">Monitorování účtu úložiště na portálu Azure</span><span class="sxs-lookup"><span data-stu-id="b9a07-304">Monitor a storage account in the Azure Portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="b9a07-305">Povolení a konfigurace úložiště analýzy</span><span class="sxs-lookup"><span data-stu-id="b9a07-305">Enabling and Configuring Storage Analytics</span></span>](https://msdn.microsoft.com/library/hh360996.aspx)

### <a name="storage-analytics-logging"></a><span data-ttu-id="b9a07-306">Analýza protokolování úložiště</span><span class="sxs-lookup"><span data-stu-id="b9a07-306">Storage Analytics logging</span></span>
* [<span data-ttu-id="b9a07-307">O protokolování Analytics úložiště</span><span class="sxs-lookup"><span data-stu-id="b9a07-307">About Storage Analytics Logging</span></span>](https://msdn.microsoft.com/library/hh343262.aspx)
* [<span data-ttu-id="b9a07-308">Formát úložiště analýzy protokolů</span><span class="sxs-lookup"><span data-stu-id="b9a07-308">Storage Analytics Log Format</span></span>](https://msdn.microsoft.com/library/hh343259.aspx)
* [<span data-ttu-id="b9a07-309">Analytika úložiště protokolovat stavové zprávy a operace</span><span class="sxs-lookup"><span data-stu-id="b9a07-309">Storage Analytics Logged Operations and Status Messages</span></span>](https://msdn.microsoft.com/library/hh343260.aspx)

### <a name="storage-analytics-metrics"></a><span data-ttu-id="b9a07-310">Metriky Analytics úložiště</span><span class="sxs-lookup"><span data-stu-id="b9a07-310">Storage Analytics metrics</span></span>
* [<span data-ttu-id="b9a07-311">O metriky Analytics úložiště</span><span class="sxs-lookup"><span data-stu-id="b9a07-311">About Storage Analytics Metrics</span></span>](https://msdn.microsoft.com/library/hh343258.aspx)
* [<span data-ttu-id="b9a07-312">Schéma tabulky metriky Analytics úložiště</span><span class="sxs-lookup"><span data-stu-id="b9a07-312">Storage Analytics Metrics Table Schema</span></span>](https://msdn.microsoft.com/library/hh343264.aspx)
* [<span data-ttu-id="b9a07-313">Analytika úložiště protokolovat stavové zprávy a operace</span><span class="sxs-lookup"><span data-stu-id="b9a07-313">Storage Analytics Logged Operations and Status Messages</span></span>](https://msdn.microsoft.com/library/hh343260.aspx)  

