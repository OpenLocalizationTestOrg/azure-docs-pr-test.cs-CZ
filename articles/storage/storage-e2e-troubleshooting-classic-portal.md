---
title: "aaaTroubleshooting Azure Storage pomocí diagnostiky & Message Analyzer | Microsoft Docs"
description: "Kurz demonstraci začátku do konce řešení potíží s Azure Storage Analytics, AzCopy a Microsoft Message Analyzer"
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 6b23cba5-0d53-439e-870b-de8e406107d8
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 01/23/2017
ms.author: robinsh
ms.openlocfilehash: 74ee126bab30b9a45f4904a065b6fe3006f76101
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="73df8-103">Poradce při potížích začátku do konce pomocí metrik Azure Storage a protokolování, AzCopy a Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="73df8-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../includes/storage-selector-portal-e2e-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="73df8-104">Přehled</span><span class="sxs-lookup"><span data-stu-id="73df8-104">Overview</span></span>
<span data-ttu-id="73df8-105">Diagnostika a řešení potíží se klíče dovednosti pro vytváření a podpora klientských aplikací s Microsoft Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="73df8-105">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="73df8-106">Z důvodu toohello distribuované povaha aplikaci Azure může být složitější než v tradiční prostředích diagnostice a řešení potíží s chybami a problémy s výkonem.</span><span class="sxs-lookup"><span data-stu-id="73df8-106">Due toohello distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="73df8-107">V tomto kurzu si předvedeme jak tooidentify klienta určitým chybám, které mohou ovlivnit výkon a řešení těchto chyb od začátku do konce pomocí nástroje poskytované společností Microsoft a Azure Storage, v pořadí toooptimize hello klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="73df8-107">In this tutorial, we will demonstrate how tooidentify client certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order toooptimize hello client application.</span></span>

<span data-ttu-id="73df8-108">V tomto kurzu poskytuje praktické zkoumání scénáře řešení potíží začátku do konce.</span><span class="sxs-lookup"><span data-stu-id="73df8-108">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="73df8-109">Podrobný průvodce koncepční tootroubleshooting úložiště Azure aplikace, najdete v části [monitorování, Diagnostika a řešení Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="73df8-109">For an in-depth conceptual guide tootroubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="73df8-110">Nástroje pro řešení potíží s aplikacemi Azure Storage</span><span class="sxs-lookup"><span data-stu-id="73df8-110">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="73df8-111">tootroubleshoot klientským aplikacím pomocí služby Microsoft Azure Storage, můžete použít kombinaci nástroje toodetermine, kdy došlo problému a může být co hello příčinu problému hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-111">tootroubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools toodetermine when an issue has occurred and what hello cause of hello problem may be.</span></span> <span data-ttu-id="73df8-112">Mezi tyto nástroje patří:</span><span class="sxs-lookup"><span data-stu-id="73df8-112">These tools include:</span></span>

* <span data-ttu-id="73df8-113">**Azure Storage Analytics**.</span><span class="sxs-lookup"><span data-stu-id="73df8-113">**Azure Storage Analytics**.</span></span> <span data-ttu-id="73df8-114">[Azure Storage Analytics](http://msdn.microsoft.com/library/azure/hh343270.aspx) poskytuje metriky a protokolování pro Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="73df8-114">[Azure Storage Analytics](http://msdn.microsoft.com/library/azure/hh343270.aspx) provides metrics and logging for Azure Storage.</span></span>

  * <span data-ttu-id="73df8-115">**Metriky úložiště** sleduje transakce metriky a metriky kapacity pro váš účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="73df8-115">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="73df8-116">Pomocí metriky, můžete určit, jak vaše aplikace pracuje podle tooa řadu různých opatření.</span><span class="sxs-lookup"><span data-stu-id="73df8-116">Using metrics, you can determine how your application is performing according tooa variety of different measures.</span></span> <span data-ttu-id="73df8-117">V tématu [schématu tabulky metriky Analytics úložiště](http://msdn.microsoft.com/library/azure/hh343264.aspx) pro další informace o typech hello metrik sledován pomocí funkce Storage Analytics.</span><span class="sxs-lookup"><span data-stu-id="73df8-117">See [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx) for more information about hello types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="73df8-118">**Protokolování úložiště** protokoly protokol každé žádosti toohello tooa straně serveru služby Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="73df8-118">**Storage logging** logs each request toohello Azure Storage services tooa server-side log.</span></span> <span data-ttu-id="73df8-119">Podrobná data sleduje Hello protokolu pro každý požadavek, včetně hello operaci provést, hello stav operace hello a informace o latenci.</span><span class="sxs-lookup"><span data-stu-id="73df8-119">hello log tracks detailed data for each request, including hello operation performed, hello status of hello operation, and latency information.</span></span> <span data-ttu-id="73df8-120">V tématu [úložiště analýzy protokolů formátu](http://msdn.microsoft.com/library/azure/hh343259.aspx) Další informace o datech hello žádosti a odpovědi, která jsou zapsána toohello protokoly analytika úložiště.</span><span class="sxs-lookup"><span data-stu-id="73df8-120">See [Storage Analytics Log Format](http://msdn.microsoft.com/library/azure/hh343259.aspx) for more information about hello request and response data that is written toohello logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="73df8-121">Účty úložiště s typem replikace z Zónově redundantní úložiště (ZRS) nemají hello metriky nebo možnosti protokolování v tuto chvíli povolena.</span><span class="sxs-lookup"><span data-stu-id="73df8-121">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have hello metrics or logging capability enabled at this time.</span></span>
>
>

* <span data-ttu-id="73df8-122">**Portál Azure Classic**.</span><span class="sxs-lookup"><span data-stu-id="73df8-122">**Azure Classic Portal**.</span></span> <span data-ttu-id="73df8-123">Můžete nakonfigurovat protokolování a metriky pro svůj účet úložiště hello [portálu Azure Classic](https://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="73df8-123">You can configure metrics and logging for your storage account in hello [Azure Classic Portal](https://manage.windowsazure.com).</span></span> <span data-ttu-id="73df8-124">Můžete také zobrazit grafy, které ukazují, jak se vaše aplikace provádí v čase a nakonfigurovat toonotify výstrahy, které pokud aplikace provede jinak než měla příslušné metriky.</span><span class="sxs-lookup"><span data-stu-id="73df8-124">You can also view charts and graphs that show how your application is performing over time, and configure alerts toonotify you if your application performs differently than expected for a specified metric.</span></span>

    <span data-ttu-id="73df8-125">V tématu [monitorovat účet úložiště na portálu Azure hello](storage-monitor-storage-account.md) informace o konfiguraci, monitorování v hello portálu Azure Classic.</span><span class="sxs-lookup"><span data-stu-id="73df8-125">See [Monitor a storage account in hello Azure Portal](storage-monitor-storage-account.md) for information about configuring monitoring in hello Azure Classic Portal.</span></span>
* <span data-ttu-id="73df8-126">**AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="73df8-126">**AzCopy**.</span></span> <span data-ttu-id="73df8-127">Protokoly serveru pro Azure Storage jsou uloženy jako objekty BLOB, abyste je mohli používat AzCopy toocopy hello objekty BLOB tooa místní adresář protokolu pro analýzu pomocí Microsoft Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="73df8-127">Server logs for Azure Storage are stored as blobs, so you can use AzCopy toocopy hello log blobs tooa local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="73df8-128">V tématu [přenos dat pomocí příkazového řádku Azcopy hello](storage-use-azcopy.md) Další informace o AzCopy.</span><span class="sxs-lookup"><span data-stu-id="73df8-128">See [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="73df8-129">**Microsoft Message Analyzer**.</span><span class="sxs-lookup"><span data-stu-id="73df8-129">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="73df8-130">Message Analyzer je nástroj, který využívá soubory protokolu a zobrazí data protokolu ve visual formátu, který umožňuje snadno toofilter, vyhledávání a skupiny protokolovat data do užitečné sad, které můžete tooanalyze chyb a problémů s výkonem.</span><span class="sxs-lookup"><span data-stu-id="73df8-130">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy toofilter, search, and group log data into useful sets that you can use tooanalyze errors and performance issues.</span></span> <span data-ttu-id="73df8-131">V tématu [Microsoft zpráva analyzátor operační průvodce](http://technet.microsoft.com/library/jj649776.aspx) Další informace o Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="73df8-131">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-hello-sample-scenario"></a><span data-ttu-id="73df8-132">O hello vzorový scénář</span><span class="sxs-lookup"><span data-stu-id="73df8-132">About hello sample scenario</span></span>
<span data-ttu-id="73df8-133">V tomto kurzu podíváme na scénář, kde metrik Azure Storage udává míra nízkou procenta úspěšnosti pro aplikaci, která volá úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="73df8-133">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="73df8-134">Hello nízkou procenta úspěšnosti míra metrika (zobrazené jako **PercentSuccess** v hello portálu Azure Classic a v tabulkách metriky hello) sleduje operace, která úspěšné, ale které vrátí stavový kód HTTP, která je větší než 299.</span><span class="sxs-lookup"><span data-stu-id="73df8-134">hello low percent success rate metric (shown as **PercentSuccess** in hello Azure Classic Portal and in hello metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="73df8-135">V souborech protokolů hello úložiště na straně serveru, se zaznamenávají tyto operace se stavem transakce **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="73df8-135">In hello server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="73df8-136">Další podrobnosti o hello nízkou procenta úspěšnosti metrika najdete v tématu [metriky ukazují nízkou PercentSuccess nebo položky protokolu analýzy mít operací s stav transakce ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span><span class="sxs-lookup"><span data-stu-id="73df8-136">For more details about hello low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="73df8-137">Operace úložiště v Azure může vrátit stavové kódy HTTP větší než 299 v rámci své normální fungování.</span><span class="sxs-lookup"><span data-stu-id="73df8-137">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="73df8-138">Ale tyto chyby v některých případech indikovat, že bude mít toooptimize klientské aplikace pro zvýšení výkonu.</span><span class="sxs-lookup"><span data-stu-id="73df8-138">But these errors in some cases indicate that you may be able toooptimize your client application for improved performance.</span></span>

<span data-ttu-id="73df8-139">V tomto scénáři popíšeme toobe rychlost nízkou procenta úspěšnosti nic nižší než 100 %.</span><span class="sxs-lookup"><span data-stu-id="73df8-139">In this scenario, we'll consider a low percent success rate toobe anything below 100%.</span></span> <span data-ttu-id="73df8-140">Můžete vybrat jiné metriky úrovni, ale podle potřeby tooyour.</span><span class="sxs-lookup"><span data-stu-id="73df8-140">You can choose a different metric level, however, according tooyour needs.</span></span> <span data-ttu-id="73df8-141">Doporučujeme vám, že během testování vaší aplikace, vytvoříte tolerance směrného plánu pro vaše klíčové metriky výkonu.</span><span class="sxs-lookup"><span data-stu-id="73df8-141">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="73df8-142">Například lze určit, na základě testování, že aplikace má mít míra konzistentní procenta úspěšnosti 90 % nebo 85 %.</span><span class="sxs-lookup"><span data-stu-id="73df8-142">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="73df8-143">Pokud vaše data metriky ukazuje, že je aplikace hello odchylují od toto číslo, můžete prozkoumat, co může být příčinou zvýšení hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-143">If your metrics data shows that hello application is deviating from that number, then you can investigate what may be causing hello increase.</span></span>

<span data-ttu-id="73df8-144">Pro naše vzorový scénář když jsme jste vytvořili hello procenta úspěšnosti míra metrika je menší než 100 %, jsme zkontrolujte hello protokoly toofind hello chyb, které korelovat toohello metriky a využít toofigure se co způsobuje hello nižší procenta úspěšnosti.</span><span class="sxs-lookup"><span data-stu-id="73df8-144">For our sample scenario, once we've established that hello percent success rate metric is below 100%, we will examine hello logs toofind hello errors that correlate toohello metrics, and use them toofigure out what is causing hello lower percent success rate.</span></span> <span data-ttu-id="73df8-145">Podíváme konkrétně chyby v rozsahu 400 hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-145">We'll look specifically at errors in hello 400 range.</span></span> <span data-ttu-id="73df8-146">Potom jsme budete prozkoumat přesněji chyb 404 (není nalezena).</span><span class="sxs-lookup"><span data-stu-id="73df8-146">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="73df8-147">Některé příčiny chyb 400 rozsahu</span><span class="sxs-lookup"><span data-stu-id="73df8-147">Some causes of 400-range errors</span></span>
<span data-ttu-id="73df8-148">Příklady Hello níže jsou uvedeny vzorky chybami 400 rozsah pro požadavky na Azure Blob Storage a jejich možné příčiny.</span><span class="sxs-lookup"><span data-stu-id="73df8-148">hello examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="73df8-149">Některé z těchto chyb, jakož i chyby v rozsahu hello 300 a 500 rozsah hello, můžete přispívat tooa nízkou procenta úspěšnosti.</span><span class="sxs-lookup"><span data-stu-id="73df8-149">Any of these errors, as well as errors in hello 300 range and hello 500 range, can contribute tooa low percent success rate.</span></span>

<span data-ttu-id="73df8-150">Všimněte si, že následující seznamy hello daleko od dokončení.</span><span class="sxs-lookup"><span data-stu-id="73df8-150">Note that hello lists below are far from complete.</span></span> <span data-ttu-id="73df8-151">V tématu [stavu a kódy chyb](http://msdn.microsoft.com/library/azure/dd179382.aspx) podrobnosti o obecných chyb úložiště Azure a o konkrétní tooeach chyby služby úložiště hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-151">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) for details about general Azure Storage errors and about errors specific tooeach of hello storage services.</span></span>

<span data-ttu-id="73df8-152">**Příklady stavový kód 404 (není nalezena)**</span><span class="sxs-lookup"><span data-stu-id="73df8-152">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="73df8-153">Nastane, když operace čtení pro kontejner nebo objekt blob se nezdaří, protože nebyl nalezen objekt blob hello nebo kontejneru.</span><span class="sxs-lookup"><span data-stu-id="73df8-153">Occurs when a read operation against a container or blob fails because hello blob or container is not found.</span></span>

* <span data-ttu-id="73df8-154">Nastane, pokud jiný klient před tento požadavek byl odstraněn z kontejneru nebo objektů blob.</span><span class="sxs-lookup"><span data-stu-id="73df8-154">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="73df8-155">Nastane, pokud používáte volání rozhraní API, která vytvoří hello kontejner nebo objekt blob po zjišťování, zda existuje.</span><span class="sxs-lookup"><span data-stu-id="73df8-155">Occurs if you are using an API call that creates hello container or blob after checking whether it exists.</span></span> <span data-ttu-id="73df8-156">Ujistěte se, HEAD, volání první toocheck pro existenci hello hello kontejner nebo objekt blob; Hello CreateIfNotExists rozhraní API Pokud neexistuje, bude vrácena chyba 404, a pak Přišla žádost o druhou PUT toowrite hello kontejner nebo objekt blob.</span><span class="sxs-lookup"><span data-stu-id="73df8-156">hello CreateIfNotExists APIs make a HEAD call first toocheck for hello existence of hello container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made toowrite hello container or blob.</span></span>

<span data-ttu-id="73df8-157">**Stav 409 (konflikt) příklady kódu**</span><span class="sxs-lookup"><span data-stu-id="73df8-157">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="73df8-158">Nastane, pokud používáte vytvoření rozhraní API toocreate nový kontejner nebo objekt blob, bez nejprve zjištění existence a kontejner nebo objekt blob s tímto názvem již existuje.</span><span class="sxs-lookup"><span data-stu-id="73df8-158">Occurs if you use a Create API toocreate a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="73df8-159">Nastane, pokud kontejner se odstraňuje a pokusíte se toocreate nový kontejner s hello stejný název před dokončením operace odstranění hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-159">Occurs if a container is being deleted, and you attempt toocreate a new container with hello same name before hello deletion operation is complete.</span></span>
* <span data-ttu-id="73df8-160">V případě zadejte zapůjčení na kontejner nebo objekt blob a je už existuje zapůjčení.</span><span class="sxs-lookup"><span data-stu-id="73df8-160">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="73df8-161">**Stavový kód 412 (předběžnou se nezdařilo) příklady**</span><span class="sxs-lookup"><span data-stu-id="73df8-161">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="73df8-162">Nastane, když hello podmínka uvedená v hlavičku podmíněného nebyly splněny.</span><span class="sxs-lookup"><span data-stu-id="73df8-162">Occurs when hello condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="73df8-163">Nastane, když je zadané ID zapůjčení hello neodpovídá ID hello zapůjčení na hello kontejner nebo objekt blob.</span><span class="sxs-lookup"><span data-stu-id="73df8-163">Occurs when hello lease ID specified does not match hello lease ID on hello container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="73df8-164">Generovat soubory protokolů pro analýzu</span><span class="sxs-lookup"><span data-stu-id="73df8-164">Generate log files for analysis</span></span>
<span data-ttu-id="73df8-165">V tomto kurzu použijeme Message Analyzer toowork s tři různé typy souborů protokolu, i když může zvolit toowork pomocí některého z těchto:</span><span class="sxs-lookup"><span data-stu-id="73df8-165">In this tutorial, we'll use Message Analyzer toowork with three different types of log files, although you could choose toowork with any one of these:</span></span>

* <span data-ttu-id="73df8-166">Hello **serveru protokolu**, který je vytvořen, když povolíte protokolování Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="73df8-166">hello **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="73df8-167">protokol server Hello obsahuje data o každé operace volána pro jeden z hello služby Azure Storage – objekt blob, fronty, tabulky a soubor.</span><span class="sxs-lookup"><span data-stu-id="73df8-167">hello server log contains data about each operation called against one of hello Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="73df8-168">Hello serveru protokolu označuje, kterou operaci byla volána a jaký kód stavu je vrácený, stejně jako další podrobnosti o hello žádostí a odpovědí.</span><span class="sxs-lookup"><span data-stu-id="73df8-168">hello server log indicates which operation was called and what status code was returned, as well as other details about hello request and response.</span></span>
* <span data-ttu-id="73df8-169">Hello **protokolu klientů .NET**, který je vytvořen, když povolíte protokolování na straně klienta z v rámci aplikace .NET.</span><span class="sxs-lookup"><span data-stu-id="73df8-169">hello **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="73df8-170">protokol klienta Hello zahrnuje podrobné informace o tom, jak hello klienta připraví hello žádosti a přijímá a zpracovává hello odpovědi.</span><span class="sxs-lookup"><span data-stu-id="73df8-170">hello client log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>
* <span data-ttu-id="73df8-171">Hello **protokolu trasování sítě HTTP**, který shromažďuje data na data požadavku a odpovědi protokolu HTTP nebo HTTPS, včetně pro operace Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="73df8-171">hello **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="73df8-172">V tomto kurzu budete se vygeneruje hello trasování sítě prostřednictvím Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="73df8-172">In this tutorial, we'll generate hello network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="73df8-173">Konfigurace protokolování na straně serveru a metriky</span><span class="sxs-lookup"><span data-stu-id="73df8-173">Configure server-side logging and metrics</span></span>
<span data-ttu-id="73df8-174">Nejdřív potřebujeme tooconfigure protokolování Azure Storage a metriky, tak, aby jsme data z tooanalyze aplikace hello klienta.</span><span class="sxs-lookup"><span data-stu-id="73df8-174">First, we'll need tooconfigure Azure Storage logging and metrics, so that we have data from hello client application tooanalyze.</span></span> <span data-ttu-id="73df8-175">Protokolování a metriky můžete nakonfigurovat různými způsoby – prostřednictvím hello [portálu Azure Classic](https://manage.windowsazure.com), pomocí prostředí PowerShell, nebo prostřednictvím kódu programu.</span><span class="sxs-lookup"><span data-stu-id="73df8-175">You can configure logging and metrics in a variety of ways - via hello [Azure Classic Portal](https://manage.windowsazure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="73df8-176">V tématu [povolení metriky úložiště a zobrazení dat metrik](http://msdn.microsoft.com/library/azure/dn782843.aspx) a [povolení protokolování úložiště a přístup k datům protokolu](http://msdn.microsoft.com/library/azure/dn782840.aspx) podrobnosti o konfiguraci protokolování a metriky.</span><span class="sxs-lookup"><span data-stu-id="73df8-176">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) for details about configuring logging and metrics.</span></span>

<span data-ttu-id="73df8-177">**Prostřednictvím hello portálu Azure Classic**</span><span class="sxs-lookup"><span data-stu-id="73df8-177">**Via hello Azure Classic Portal**</span></span>

<span data-ttu-id="73df8-178">protokolování tooconfigure a metriky pro váš účet úložiště pomocí hello portálu, postupujte podle pokynů hello v [monitorovat účet úložiště na portálu Azure hello](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="73df8-178">tooconfigure logging and metrics for your storage account using hello portal, follow hello instructions at [Monitor a storage account in hello Azure Portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="73df8-179">Není možné tooset minutu metriky pomocí hello portálu Azure Classic.</span><span class="sxs-lookup"><span data-stu-id="73df8-179">It's not possible tooset minute metrics using hello Azure Classic Portal.</span></span> <span data-ttu-id="73df8-180">Doporučujeme však, že je nastavena pro účely tohoto kurzu hello a příčin problémů s výkonem s vaší aplikací.</span><span class="sxs-lookup"><span data-stu-id="73df8-180">However, we recommend that you do set them for hello purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="73df8-181">Můžete nastavit minutu metriky pomocí prostředí PowerShell, jak je znázorněno níže, nebo prostřednictvím kódu programu, nebo prostřednictvím hello portálu Azure Classic.</span><span class="sxs-lookup"><span data-stu-id="73df8-181">You can set minute metrics using PowerShell as shown below, or programmatically, or via hello Azure Classic Portal.</span></span>
>
> <span data-ttu-id="73df8-182">Všimněte si, že hello portálu Azure Classic nelze zobrazit minutu metriky, pouze hodinové metriky.</span><span class="sxs-lookup"><span data-stu-id="73df8-182">Note that hello Azure Classic Portal cannot display minute metrics, only hourly metrics.</span></span>
>
>

<span data-ttu-id="73df8-183">**Pomocí prostředí PowerShell**</span><span class="sxs-lookup"><span data-stu-id="73df8-183">**Via PowerShell**</span></span>

<span data-ttu-id="73df8-184">tooget spuštění pomocí prostředí PowerShell pro Azure, najdete v části [jak tooinstall a konfigurace prostředí Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="73df8-184">tooget started with PowerShell for Azure, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="73df8-185">Použití hello [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) tooadd rutiny Azure uživatelů účet toohello okno prostředí PowerShell:</span><span class="sxs-lookup"><span data-stu-id="73df8-185">Use hello [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet tooadd your Azure user account toohello PowerShell window:</span></span>

    ```powershell
     Add-AzureAccount
    ```

2. <span data-ttu-id="73df8-186">V hello **přihlášení tooMicrosoft Azure** oken, typ hello e-mailovou adresu a heslo spojené s vaším účtem.</span><span class="sxs-lookup"><span data-stu-id="73df8-186">In hello **Sign in tooMicrosoft Azure** window, type hello email address and password associated with your account.</span></span> <span data-ttu-id="73df8-187">Azure ověřuje a uloží hello přihlašovací údaje a potom zavře okno hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-187">Azure authenticates and saves hello credential information, and then closes hello window.</span></span>
3. <span data-ttu-id="73df8-188">Nastavte hello výchozí účet toohello úložiště účet úložiště, který používáte pro kurz hello spuštěním těchto příkazů v okně PowerShell hello:</span><span class="sxs-lookup"><span data-stu-id="73df8-188">Set hello default storage account toohello storage account you are using for hello tutorial by executing these commands in hello PowerShell window:</span></span>

    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="73df8-189">Povolení protokolování pro hello služby objektů Blob storage:</span><span class="sxs-lookup"><span data-stu-id="73df8-189">Enable storage logging for hello Blob service:</span></span>

    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="73df8-190">Povolit úložiště metriky pro hello služba objektů Blob, která se tooset **- MetricsType** příliš`Minute`:</span><span class="sxs-lookup"><span data-stu-id="73df8-190">Enable storage metrics for hello Blob service, making sure tooset **-MetricsType** too`Minute`:</span></span>

    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="73df8-191">Konfigurovat protokolování klienta rozhraní .NET</span><span class="sxs-lookup"><span data-stu-id="73df8-191">Configure .NET client-side logging</span></span>
<span data-ttu-id="73df8-192">tooconfigure protokolování pro aplikace .NET na straně klienta zapněte diagnostiku .NET v konfiguračním souboru aplikace hello (soubor web.config nebo app.config).</span><span class="sxs-lookup"><span data-stu-id="73df8-192">tooconfigure client-side logging for a .NET application, enable .NET diagnostics in hello application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="73df8-193">V tématu [klienta protokolování s hello Klientská knihovna pro .NET úložiště](http://msdn.microsoft.com/library/azure/dn782839.aspx) a [klienta protokolování s hello Microsoft Azure SDK úložiště pro jazyk Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="73df8-193">See [Client-side Logging with hello .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with hello Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) for details.</span></span>

<span data-ttu-id="73df8-194">Hello klienta protokolu obsahuje podrobné informace o tom, jak hello klienta připraví hello žádosti a přijímá a zpracovává hello odpovědi.</span><span class="sxs-lookup"><span data-stu-id="73df8-194">hello client-side log includes detailed information about how hello client prepares hello request and receives and processes hello response.</span></span>

<span data-ttu-id="73df8-195">Hello Klientská knihovna pro úložiště ukládá data na straně klienta protokolu v umístění hello zadaný v konfiguračním souboru aplikace hello (soubor web.config nebo app.config).</span><span class="sxs-lookup"><span data-stu-id="73df8-195">hello Storage Client Library stores client-side log data in hello location specified in hello application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="73df8-196">Shromažďovat trasování sítě</span><span class="sxs-lookup"><span data-stu-id="73df8-196">Collect a network trace</span></span>
<span data-ttu-id="73df8-197">Message Analyzer toocollect při trasování sítě protokolu HTTP nebo HTTPS můžete použít, když běží klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="73df8-197">You can use Message Analyzer toocollect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="73df8-198">Message Analyzer používá [Fiddler](http://www.telerik.com/fiddler) na hello back-end.</span><span class="sxs-lookup"><span data-stu-id="73df8-198">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on hello back end.</span></span> <span data-ttu-id="73df8-199">Než budete shromažďovat trasování sítě hello, doporučujeme nakonfigurovat komunikaci přes protokol HTTPS Fiddler toorecord bez šifrování:</span><span class="sxs-lookup"><span data-stu-id="73df8-199">Before you collect hello network trace, we recommend that you configure Fiddler toorecord unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="73df8-200">Nainstalujte [Fiddler](http://www.telerik.com/download/fiddler).</span><span class="sxs-lookup"><span data-stu-id="73df8-200">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="73df8-201">Spusťte aplikaci Fiddler.</span><span class="sxs-lookup"><span data-stu-id="73df8-201">Launch Fiddler.</span></span>
3. <span data-ttu-id="73df8-202">Vyberte **nástroje | Možnosti Fiddler**.</span><span class="sxs-lookup"><span data-stu-id="73df8-202">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="73df8-203">V dialogovém okně Možnosti hello, zajistěte, aby **zaznamenat umožňuje připojení HTTPS** a **dešifrovat provoz HTTPS** jsou obě vybrané, jak je uvedeno níže.</span><span class="sxs-lookup"><span data-stu-id="73df8-203">In hello Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Konfigurace možností Fiddler](./media/storage-e2e-troubleshooting-classic-portal/fiddler-options-1.png)

<span data-ttu-id="73df8-205">Hello kurzu shromažďovat a uložit trasování sítě nejprve v Message Analyzer, pak vytvořit při analysis relace tooanalyze hello trasování a hello protokoly.</span><span class="sxs-lookup"><span data-stu-id="73df8-205">For hello tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session tooanalyze hello trace and hello logs.</span></span> <span data-ttu-id="73df8-206">toocollect trasování sítě v Message Analyzer:</span><span class="sxs-lookup"><span data-stu-id="73df8-206">toocollect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="73df8-207">V Message Analyzer, vyberte **souboru | Rychlé trasování | Bez šifrování HTTPS**.</span><span class="sxs-lookup"><span data-stu-id="73df8-207">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="73df8-208">Hello trasování bude zahájeno okamžitě.</span><span class="sxs-lookup"><span data-stu-id="73df8-208">hello trace will begin immediately.</span></span> <span data-ttu-id="73df8-209">Vyberte **Zastavit** toostop hello trasování, takže jsme ji můžete nakonfigurovat pouze provoz typu tootrace úložiště.</span><span class="sxs-lookup"><span data-stu-id="73df8-209">Select **Stop** toostop hello trace so that we can configure it tootrace storage traffic only.</span></span>
3. <span data-ttu-id="73df8-210">Vyberte **upravit** tooedit hello trasování relace.</span><span class="sxs-lookup"><span data-stu-id="73df8-210">Select **Edit** tooedit hello tracing session.</span></span>
4. <span data-ttu-id="73df8-211">Vyberte hello **konfigurace** odkaz toohello napravo od hello **Microsoft-Pef-WebProxy** zprostředkovatele trasování událostí pro Windows.</span><span class="sxs-lookup"><span data-stu-id="73df8-211">Select hello **Configure** link toohello right of hello **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="73df8-212">V hello **Upřesnit nastavení** dialogové okno, klikněte na tlačítko hello **zprostředkovatele** kartě.</span><span class="sxs-lookup"><span data-stu-id="73df8-212">In hello **Advanced Settings** dialog, click hello **Provider** tab.</span></span>
6. <span data-ttu-id="73df8-213">V hello **filtru Hostname** pole, zadejte vaše koncové body úložiště, oddělené mezerami.</span><span class="sxs-lookup"><span data-stu-id="73df8-213">In hello **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="73df8-214">Například můžete zadat koncové body takto: Změnit `storagesample` toohello název účtu úložiště:</span><span class="sxs-lookup"><span data-stu-id="73df8-214">For example, you can specify your endpoints as follows; change `storagesample` toohello name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="73df8-215">Ukončete hello dialogové okno a klikněte na tlačítko **restartujte** toobegin shromažďování hello trasování pomocí filtru název hostitele hello na místě, aby pouze provoz sítě úložiště Azure je součástí trasování hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-215">Exit hello dialog, and click **Restart** toobegin collecting hello trace with hello hostname filter in place, so that only Azure Storage network traffic is included in hello trace.</span></span>

> [!NOTE]
> <span data-ttu-id="73df8-216">Po dokončení shromažďování síťové trasování, důrazně doporučujeme hello nastavení, které můžete měnit v komunikaci přes protokol HTTPS toodecrypt Fiddler vrátit zpět.</span><span class="sxs-lookup"><span data-stu-id="73df8-216">After you have finished collecting your network trace, we strongly recommend that you revert hello settings that you may have changed in Fiddler toodecrypt HTTPS traffic.</span></span> <span data-ttu-id="73df8-217">V dialogovém okně Možnosti Fiddler hello, zrušte výběr hello **zaznamenat umožňuje připojení HTTPS** a **dešifrovat provoz HTTPS** zaškrtávací políčka.</span><span class="sxs-lookup"><span data-stu-id="73df8-217">In hello Fiddler Options dialog, deselect hello **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
>
>

<span data-ttu-id="73df8-218">V tématu [pomocí funkce trasování sítě hello](http://technet.microsoft.com/library/jj674819.aspx) na webu Technet podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="73df8-218">See [Using hello Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-hello-azure-classic-portal"></a><span data-ttu-id="73df8-219">Zkontrolujte data metriky v hello portálu Azure Classic</span><span class="sxs-lookup"><span data-stu-id="73df8-219">Review metrics data in hello Azure Classic Portal</span></span>
<span data-ttu-id="73df8-220">Po spuštění vaší aplikace pro určitou dobu, můžete zkontrolovat grafy hello metriky, které se zobrazují v portálu Azure Classic tooobserve hello, jaký má byl výkon služby.</span><span class="sxs-lookup"><span data-stu-id="73df8-220">Once your application has been running for a period of time, you can review hello metrics charts that appear in hello Azure Classic Portal tooobserve how your service has been performing.</span></span> <span data-ttu-id="73df8-221">Nejprve přidáme hello **procento úspěšnosti** metriky toohello monitorování stránky:</span><span class="sxs-lookup"><span data-stu-id="73df8-221">First, we'll add hello **Success Percentage** metric toohello Monitoring page:</span></span>

1. <span data-ttu-id="73df8-222">Přejděte toohello řídicí panel pro váš účet úložiště v hello [portálu Azure Classic](https://manage.windowsazure.com), pak vyberte **monitorování** tooview hello monitorování stránky.</span><span class="sxs-lookup"><span data-stu-id="73df8-222">Navigate toohello Dashboard for your storage account in hello [Azure Classic Portal](https://manage.windowsazure.com), then select **Monitor** tooview hello monitoring page.</span></span>
2. <span data-ttu-id="73df8-223">Klikněte na tlačítko **přidat metriky** toodisplay hello **zvolte metriky** dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="73df8-223">Click **Add Metrics** toodisplay hello **Choose Metrics** dialog.</span></span>
3. <span data-ttu-id="73df8-224">Projděte dolů toofind hello **procento úspěšnosti** skupiny, rozbalte ho a pak vyberte **agregační**, jak ukazuje následující obrázek hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-224">Scroll down toofind hello **Success Percentage** group, expand it, then select **Aggregate**, as shown in hello picture below.</span></span> <span data-ttu-id="73df8-225">Tato metrika agreguje data procento úspěšnosti z operace všech objektů Blob.</span><span class="sxs-lookup"><span data-stu-id="73df8-225">This metric aggregates success percentage data from all Blob operations.</span></span>

![Zvolte metriky](./media/storage-e2e-troubleshooting-classic-portal/choose-metrics-portal-1.png)

<span data-ttu-id="73df8-227">V hello portálu Azure Classic, se zobrazí **procento úspěšnosti** v hello monitorování grafu, společně s další metriky jste mohli přidat (až toosix lze zobrazit v grafu hello najednou).</span><span class="sxs-lookup"><span data-stu-id="73df8-227">In hello Azure Classic Portal, you'll now see **Success Percentage** in hello monitoring chart, along with any other metrics you may have added (up toosix can be displayed on hello chart at once).</span></span> <span data-ttu-id="73df8-228">V následující obrázek hello uvidíte, že tento hello procenta úspěšnosti je trochu nižší než 100 %, což je hello scénáře, který jsme vám další šetření tak, že analýza protokolů hello v Message Analyzer:</span><span class="sxs-lookup"><span data-stu-id="73df8-228">In hello picture below, you can see that hello percent success rate is somewhat below 100%, which is hello scenario we'll investigate next by analyzing hello logs in Message Analyzer:</span></span>

![Metriky grafu portálu](./media/storage-e2e-troubleshooting-classic-portal/portal-metrics-chart-1.png)

<span data-ttu-id="73df8-230">Další informace o přidání metriky toohello monitorování stránky, najdete v části [postupy: Přidání tabulky metriky toohello metriky](storage-monitor-storage-account.md#add-metrics-charts-to-the-portal-dashboard).</span><span class="sxs-lookup"><span data-stu-id="73df8-230">For more details on adding metrics toohello Monitoring page, see [How to: Add metrics toohello metrics table](storage-monitor-storage-account.md#add-metrics-charts-to-the-portal-dashboard).</span></span>

> [!NOTE]
> <span data-ttu-id="73df8-231">Po povolení metrik úložiště může trvat nějakou dobu, než vaše data tooappear metriky v hello portálu Azure Classic.</span><span class="sxs-lookup"><span data-stu-id="73df8-231">It may take some time for your metrics data tooappear in hello Azure Classic Portal after you enable storage metrics.</span></span> <span data-ttu-id="73df8-232">To je proto hodinové metriky pro hello předchozí hodiny nejsou v hello portálu Azure Classic nezobrazí, dokud hello uplynul aktuální hodiny.</span><span class="sxs-lookup"><span data-stu-id="73df8-232">This is because hourly metrics for hello previous hour are not displayed in hello Azure Classic Portal until hello current hour has elapsed.</span></span> <span data-ttu-id="73df8-233">Navíc minutu metriky se nezobrazují v hello portálu Azure Classic.</span><span class="sxs-lookup"><span data-stu-id="73df8-233">Also, minute metrics are not displayed in hello Azure Classic Portal.</span></span> <span data-ttu-id="73df8-234">V závislosti na tom, když povolíte metriky, může trvat až tootwo hodin toosee metriky data.</span><span class="sxs-lookup"><span data-stu-id="73df8-234">So depending on when you enable metrics, it may take up tootwo hours toosee metrics data.</span></span>
>
>

## <a name="use-azcopy-toocopy-server-logs-tooa-local-directory"></a><span data-ttu-id="73df8-235">Použít AzCopy toocopy server protokoly tooa místní adresář</span><span class="sxs-lookup"><span data-stu-id="73df8-235">Use AzCopy toocopy server logs tooa local directory</span></span>
<span data-ttu-id="73df8-236">Úložiště Azure zapíše serveru tooblobs data protokolu, zatímco metriky se zapisují tootables.</span><span class="sxs-lookup"><span data-stu-id="73df8-236">Azure Storage writes server log data tooblobs, while metrics are written tootables.</span></span> <span data-ttu-id="73df8-237">Objekty BLOB protokolu jsou k dispozici v hello dobře známé `$logs` kontejner pro váš účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="73df8-237">Log blobs are available in hello well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="73df8-238">Objekty BLOB protokolu jsou pojmenované hierarchicky podle rok, měsíc, den a hodina, aby mohli snadno najít hello rozsah doba, kterou chcete tooinvestigate.</span><span class="sxs-lookup"><span data-stu-id="73df8-238">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate hello range of time you wish tooinvestigate.</span></span> <span data-ttu-id="73df8-239">Například v hello `storagesample` účet, hello kontejner pro objekty BLOB protokolu hello pro 01/02/2015, z 8-9: 00, je `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span><span class="sxs-lookup"><span data-stu-id="73df8-239">For example, in hello `storagesample` account, hello container for hello log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="73df8-240">Hello jednotlivé objekty BLOB v tomto kontejneru jsou pojmenované postupně, počínaje `000000.log`.</span><span class="sxs-lookup"><span data-stu-id="73df8-240">hello individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="73df8-241">Tyto serverové protokolu soubory tooa umístění podle vaší volby toodownload nástroj příkazového řádku AzCopy hello můžete použít na místním počítači.</span><span class="sxs-lookup"><span data-stu-id="73df8-241">You can use hello AzCopy command-line tool toodownload these server-side log files tooa location of your choice on your local machine.</span></span> <span data-ttu-id="73df8-242">Například můžete použít následující příkaz toodownload hello protokolu soubory pro operace objektů blob, které trvalo umístit na hello 2 leden 2015 toohello složky `C:\Temp\Logs\Server`; nahradit `<storageaccountname>` hello název účtu úložiště a `<storageaccountkey>` s vaší přístupový klíč účtu:</span><span class="sxs-lookup"><span data-stu-id="73df8-242">For example, you can use hello following command toodownload hello log files for blob operations that took place on January 2, 2015 toohello folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with hello name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```

<span data-ttu-id="73df8-243">AzCopy je k dispozici ke stažení na hello [Azure stáhne](https://azure.microsoft.com/downloads/) stránky.</span><span class="sxs-lookup"><span data-stu-id="73df8-243">AzCopy is available for download on hello [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="73df8-244">Podrobnosti o použití nástroje AzCopy najdete v tématu [přenos dat pomocí příkazového řádku Azcopy hello](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="73df8-244">For details about using AzCopy, see [Transfer data with hello AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="73df8-245">Další informace o stahování protokolů na straně serveru najdete v tématu [stahování protokolování úložiště dat protokolu](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span><span class="sxs-lookup"><span data-stu-id="73df8-245">For additional information about downloading server-side logs, see [Downloading Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-tooanalyze-log-data"></a><span data-ttu-id="73df8-246">Použít data protokolu tooanalyze Microsoft Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="73df8-246">Use Microsoft Message Analyzer tooanalyze log data</span></span>
<span data-ttu-id="73df8-247">Microsoft Message Analyzer je nástroj pro zachytávání, zobrazení a analýza protokolu zasílání zpráv provoz, události a další scénáře řešení potíží a diagnostické zprávy systému nebo aplikace.</span><span class="sxs-lookup"><span data-stu-id="73df8-247">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="73df8-248">Message Analyzer také vám umožní tooload agregační a analyzovat data z protokolu a uložit trasovací soubory.</span><span class="sxs-lookup"><span data-stu-id="73df8-248">Message Analyzer also enables you tooload, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="73df8-249">Další informace o Message Analyzer najdete v tématu [Microsoft zpráva analyzátor operační průvodce](http://technet.microsoft.com/library/jj649776.aspx).</span><span class="sxs-lookup"><span data-stu-id="73df8-249">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="73df8-250">Message Analyzer obsahuje prostředky pro úložiště Azure, které vám pomohou tooanalyze serveru, klienta a protokoly sítě.</span><span class="sxs-lookup"><span data-stu-id="73df8-250">Message Analyzer includes assets for Azure Storage that help you tooanalyze server, client, and network logs.</span></span> <span data-ttu-id="73df8-251">V této části probereme, jak toouse tyto nástroje tooaddress hello problém nízkou procenta úspěšnosti v hello protokol úložiště.</span><span class="sxs-lookup"><span data-stu-id="73df8-251">In this section, we'll discuss how toouse those tools tooaddress hello issue of low percent success in hello storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-hello-azure-storage-assets"></a><span data-ttu-id="73df8-252">Stáhněte a nainstalujte Message Analyzer nebo hello prostředky úložiště Azure</span><span class="sxs-lookup"><span data-stu-id="73df8-252">Download and install Message Analyzer and hello Azure Storage Assets</span></span>
1. <span data-ttu-id="73df8-253">Stáhněte si [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) z hello Microsoft Download Center a spusťte instalační program hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-253">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from hello Microsoft Download Center, and run hello installer.</span></span>
2. <span data-ttu-id="73df8-254">Spusťte Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="73df8-254">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="73df8-255">Z hello **nástroje** nabídce vyberte možnost **správce inventáře**.</span><span class="sxs-lookup"><span data-stu-id="73df8-255">From hello **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="73df8-256">V hello **správce inventáře** dialogovém okně, vyberte **stáhne**, vyfiltrujte v **Azure Storage**.</span><span class="sxs-lookup"><span data-stu-id="73df8-256">In hello **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="73df8-257">Hello prostředků úložiště Azure, uvidíte, jak ukazuje následující obrázek hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-257">You will see hello Azure Storage Assets, as shown in hello picture below.</span></span>
4. <span data-ttu-id="73df8-258">Klikněte na tlačítko **všechny zobrazené položky synchronizace** tooinstall hello prostředky úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="73df8-258">Click **Sync All Displayed Items** tooinstall hello Azure Storage Assets.</span></span> <span data-ttu-id="73df8-259">k dispozici prostředky Hello patří:</span><span class="sxs-lookup"><span data-stu-id="73df8-259">hello available assets include:</span></span>
   * <span data-ttu-id="73df8-260">**Pravidla ve službě Azure Storage barev:** pravidel barvy úložiště Azure umožňují toodefine speciální filtry, které používají barvu textu, a styly písma toohighlight zprávy, které obsahují konkrétní informace trasování.</span><span class="sxs-lookup"><span data-stu-id="73df8-260">**Azure Storage Color Rules:** Azure Storage color rules enable you toodefine special filters that use color, text, and font styles toohighlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="73df8-261">**Grafy úložiště Azure:** grafy úložiště Azure jsou předdefinované grafy graf data protokolu serveru.</span><span class="sxs-lookup"><span data-stu-id="73df8-261">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="73df8-262">Všimněte si, že toouse Azure Storage grafy v tuto chvíli může pouze zatížení hello serveru protokolu do hello Analysis mřížky.</span><span class="sxs-lookup"><span data-stu-id="73df8-262">Note that toouse Azure Storage charts at this time, you may only load hello server log into hello Analysis Grid.</span></span>
   * <span data-ttu-id="73df8-263">**Azure Storage analyzátory:** hello Azure Storage analyzátory analýzy hello Azure Storage klienta, serveru a HTTP přihlásí v pořadí toodisplay je hello Analysis mřížky.</span><span class="sxs-lookup"><span data-stu-id="73df8-263">**Azure Storage Parsers:** hello Azure Storage parsers parse hello Azure Storage client, server, and HTTP logs in order toodisplay them in hello Analysis Grid.</span></span>
   * <span data-ttu-id="73df8-264">**Filtry úložiště Azure:** úložiště Azure filtry jsou předdefinované kritéria používané tooquery vaše data v hello Analysis mřížky.</span><span class="sxs-lookup"><span data-stu-id="73df8-264">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use tooquery your data in hello Analysis Grid.</span></span>
   * <span data-ttu-id="73df8-265">**Rozložení zobrazení Azure Storage:** zobrazení rozložení úložiště Azure jsou předdefinovaného zobrazení sloupců a seskupení v hello Analysis mřížky.</span><span class="sxs-lookup"><span data-stu-id="73df8-265">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in hello Analysis Grid.</span></span>
5. <span data-ttu-id="73df8-266">Po instalaci hello prostředky, restartujte Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="73df8-266">Restart Message Analyzer after you've installed hello assets.</span></span>

![Správce Asset analyzátor zpráv](./media/storage-e2e-troubleshooting-classic-portal/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="73df8-268">Nainstalujte všechny prostředky Azure Storage hello zobrazený pro účely tohoto kurzu hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-268">Install all of hello Azure Storage assets shown for hello purposes of this tutorial.</span></span>
>
>

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="73df8-269">Import souborů protokolu do Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="73df8-269">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="73df8-270">Můžete importovat všechny uložené soubory protokolů (na straně serveru, klienta a sítě) do jedné relace v Microsoft Message Analyzer pro analýzu.</span><span class="sxs-lookup"><span data-stu-id="73df8-270">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="73df8-271">Na hello **soubor** nabídky v Microsoft Message Analyzer, klikněte na tlačítko **novou relaci**a potom klikněte na **prázdné relace**.</span><span class="sxs-lookup"><span data-stu-id="73df8-271">On hello **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="73df8-272">V hello **novou relaci** dialogové okno, zadejte název pro relaci analýzy.</span><span class="sxs-lookup"><span data-stu-id="73df8-272">In hello **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="73df8-273">V hello **relace podrobnosti** panelu a potom klikněte na hello **soubory** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="73df8-273">In hello **Session Details** panel, click on hello **Files** button.</span></span>
2. <span data-ttu-id="73df8-274">tooload hello síťové trasování data generována Message Analyzer, klikněte na **přidat soubory**, vyhledejte toohello umístění pro uložení souboru .matp z webové relace trasování, vyberte hello .matp souboru, a klikněte na tlačítko **otevřete**.</span><span class="sxs-lookup"><span data-stu-id="73df8-274">tooload hello network trace data generated by Message Analyzer, click on **Add Files**, browse toohello location where you saved your .matp file from your web tracing session, select hello .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="73df8-275">data protokolu na straně serveru hello tooload, kliknutím na tlačítko **přidat soubory**, procházet toohello umístění, kam jste stáhli svoje protokoly na straně serveru, vyberte soubory protokolu hello hello časové rozmezí tooanalyze a klikněte na **otevřete**.</span><span class="sxs-lookup"><span data-stu-id="73df8-275">tooload hello server-side log data, click on **Add Files**, browse toohello location where you downloaded your server-side logs, select hello log files for hello time range you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="73df8-276">Potom v hello **relace podrobnosti** panelu, sada hello **konfigurace protokolů Text** rozevíracího seznamu pro každý soubor protokolu na straně serveru příliš**AzureStorageLog** tooensure které vám společnost Microsoft Message Analyzer můžete analyzovat soubor protokolu hello správně.</span><span class="sxs-lookup"><span data-stu-id="73df8-276">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each server-side log file too**AzureStorageLog** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
4. <span data-ttu-id="73df8-277">data protokolu na straně klienta hello tooload, kliknutím na tlačítko **přidat soubory**, procházet toohello umístění, kam jste uložili svoje protokoly na straně klienta, vyberte soubory protokolu hello tooanalyze a klikněte na **otevřete**.</span><span class="sxs-lookup"><span data-stu-id="73df8-277">tooload hello client-side log data, click on **Add Files**, browse toohello location where you saved your client-side logs, select hello log files you want tooanalyze, and click **Open**.</span></span> <span data-ttu-id="73df8-278">Potom v hello **relace podrobnosti** panelu, sada hello **konfigurace protokolů Text** rozevíracího seznamu pro každý soubor protokolu na straně klienta příliš**AzureStorageClientDotNetV4** tooensure, Microsoft Message Analyzer můžete analyzovat soubor protokolu hello správně.</span><span class="sxs-lookup"><span data-stu-id="73df8-278">Then, in hello **Session Details** panel, set hello **Text Log Configuration** drop-down for each client-side log file too**AzureStorageClientDotNetV4** tooensure that Microsoft Message Analyzer can parse hello log file correctly.</span></span>
5. <span data-ttu-id="73df8-279">Klikněte na tlačítko **spustit** v hello **novou relaci** data protokolu hello dialogové okno pro tooload a analýzy.</span><span class="sxs-lookup"><span data-stu-id="73df8-279">Click **Start** in hello **New Session** dialog tooload and parse hello log data.</span></span> <span data-ttu-id="73df8-280">data protokolu Hello se zobrazí v hello zpráva analyzátor Analysis mřížky.</span><span class="sxs-lookup"><span data-stu-id="73df8-280">hello log data displays in hello Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="73df8-281">Následující obrázek Hello ukazuje relaci příklad nakonfigurované serveru, klienta a soubory protokolu trasování sítě.</span><span class="sxs-lookup"><span data-stu-id="73df8-281">hello picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Konfigurace relace analyzátor zpráv](./media/storage-e2e-troubleshooting-classic-portal/configure-mma-session-1.png)

<span data-ttu-id="73df8-283">Všimněte si, že Message Analyzer načte soubory protokolů do paměti.</span><span class="sxs-lookup"><span data-stu-id="73df8-283">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="73df8-284">Pokud máte velké sady dat protokolu, budete chtít toofilter v pořadí tooget hello nejlepší výkon ze Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="73df8-284">If you have a large set of log data, you will want toofilter it in order tooget hello best performance from Message Analyzer.</span></span>

<span data-ttu-id="73df8-285">Nejprve určit hello časovém rámci, která vás zajímá kontrola a udržovat tento časový rámec co nejmenší.</span><span class="sxs-lookup"><span data-stu-id="73df8-285">First, determine hello time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="73df8-286">V řadě případů budete chtít tooreview a dobu minut nebo hodin maximálně.</span><span class="sxs-lookup"><span data-stu-id="73df8-286">In many cases you will want tooreview a period of minutes or hours at most.</span></span> <span data-ttu-id="73df8-287">Importovat hello nejmenší sadu protokoly, které bude vyhovovat vašim potřebám.</span><span class="sxs-lookup"><span data-stu-id="73df8-287">Import hello smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="73df8-288">Pokud máte velké množství dat protokolu, pak můžete toospecify toofilter filtr relace data protokolu jej před načtením.</span><span class="sxs-lookup"><span data-stu-id="73df8-288">If you still have a large amount of log data, then you may want toospecify a session filter toofilter your log data before you load it.</span></span> <span data-ttu-id="73df8-289">V hello **filtru relace** pole, vyberte hello **knihovny** tlačítko toochoose předdefinovaný filtr; například zvolit **globální doba filtru I** z hello filtry Azure Storage toofilter v časovém intervalu.</span><span class="sxs-lookup"><span data-stu-id="73df8-289">In hello **Session Filter** box, select hello **Library** button toochoose a predefined filter; for example, choose **Global Time Filter I** from hello Azure Storage filters toofilter on a time interval.</span></span> <span data-ttu-id="73df8-290">Potom můžete upravit hello filtru kritéria toospecify hello spuštění a ukončení časové razítko pro hello interval chcete toosee.</span><span class="sxs-lookup"><span data-stu-id="73df8-290">You can then edit hello filter criteria toospecify hello starting and ending timestamp for hello interval you want toosee.</span></span> <span data-ttu-id="73df8-291">Můžete také filtrovat podle kódu stavu; Například můžete pouze položky protokolu tooload kde je hello stavový kód 404.</span><span class="sxs-lookup"><span data-stu-id="73df8-291">You can also filter on a particular status code; for example, you can choose tooload only log entries where hello status code is 404.</span></span>

<span data-ttu-id="73df8-292">Další informace o importování dat protokolu do Microsoft Message Analyzer najdete v tématu [Data načítání zpráv](http://technet.microsoft.com/library/dn772437.aspx) na webu TechNet.</span><span class="sxs-lookup"><span data-stu-id="73df8-292">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-hello-client-request-id-toocorrelate-log-file-data"></a><span data-ttu-id="73df8-293">Pomocí hello klienta požadavek ID toocorrelate protokolu soubor dat</span><span class="sxs-lookup"><span data-stu-id="73df8-293">Use hello client request ID toocorrelate log file data</span></span>
<span data-ttu-id="73df8-294">Hello Klientská knihovna pro úložiště Azure automaticky vygeneruje ID žádosti klienta jedinečný pro každý požadavek.</span><span class="sxs-lookup"><span data-stu-id="73df8-294">hello Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="73df8-295">Tato hodnota se zapíše protokol klienta toohello, hello serveru protokolu a trasování sítě hello, můžete ji použít toocorrelate dat napříč všechny tři protokoly v rámci Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="73df8-295">This value is written toohello client log, hello server log, and hello network trace, so you can use it toocorrelate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="73df8-296">V tématu [ID žádosti klienta](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) pro další informace o klientovi hello vyžadovat ID.</span><span class="sxs-lookup"><span data-stu-id="73df8-296">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about hello client request ID.</span></span>

<span data-ttu-id="73df8-297">Hello části níže popisují, jak toouse předem nakonfigurované a vlastní rozložení zobrazení dat toocorrelate a skupiny založené na požadavku klienta hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-297">hello sections below describe how toouse pre-configured and custom layout views toocorrelate and group data based on hello client request ID.</span></span>

### <a name="select-a-view-layout-toodisplay-in-hello-analysis-grid"></a><span data-ttu-id="73df8-298">Vyberte toodisplay rozložení zobrazení v hello Analysis mřížky</span><span class="sxs-lookup"><span data-stu-id="73df8-298">Select a view layout toodisplay in hello Analysis Grid</span></span>
<span data-ttu-id="73df8-299">Hello prostředků úložiště pro Message Analyzer zahrnují zobrazení rozložení úložiště Azure, které jsou předem nakonfigurovaná zobrazení používané toodisplay data s užitečné seskupení a sloupců pro různé scénáře.</span><span class="sxs-lookup"><span data-stu-id="73df8-299">hello Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use toodisplay your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="73df8-300">Můžete také vytvořit vlastní zobrazení rozložení a uložit pro opakované použití.</span><span class="sxs-lookup"><span data-stu-id="73df8-300">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="73df8-301">Hello obrázek níže ukazuje hello **rozložení zobrazení** nabídce výběrem **rozložení zobrazení** pásu karet hello panelu nástrojů.</span><span class="sxs-lookup"><span data-stu-id="73df8-301">hello picture below shows hello **View Layout** menu, available by selecting **View Layout** from hello toolbar ribbon.</span></span> <span data-ttu-id="73df8-302">Hello zobrazení rozložení pro Azure Storage jsou seskupené v rámci hello **Azure Storage** uzlu v nabídce hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-302">hello view layouts for Azure Storage are grouped under hello **Azure Storage** node in hello menu.</span></span> <span data-ttu-id="73df8-303">Můžete vyhledat `Azure Storage` v toofilter pole hello hledání v úložišti Azure zobrazit pouze rozložení.</span><span class="sxs-lookup"><span data-stu-id="73df8-303">You can search for `Azure Storage` in hello search box toofilter on Azure Storage view layouts only.</span></span> <span data-ttu-id="73df8-304">Můžete také vybrat hello hvězdičkami další tooa zobrazení rozložení toomake it a Oblíbené položky a zobrazit ji hello horní části nabídky hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-304">You can also select hello star next tooa view layout toomake it a favorite and display it at hello top of hello menu.</span></span>

![Nabídka Zobrazit rozložení](./media/storage-e2e-troubleshooting-classic-portal/view-layout-menu.png)

<span data-ttu-id="73df8-306">toobegin s vyberte **seskupené podle ClientRequestID a modul**.</span><span class="sxs-lookup"><span data-stu-id="73df8-306">toobegin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="73df8-307">Toto zobrazení rozložení skupiny protokolovat data ze všech tří protokolů nejprve podle ID žádosti klienta a pak podle zdrojového souboru protokolu (nebo **modulu** v Message Analyzer).</span><span class="sxs-lookup"><span data-stu-id="73df8-307">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="73df8-308">K tomuto zobrazení můžete rozbalit ID žádosti klienta konkrétní a vidět data z všechny tři soubory protokolů pro tento požadavek klienta ID.</span><span class="sxs-lookup"><span data-stu-id="73df8-308">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="73df8-309">Následující obrázek Hello ukazuje tento rozložení zobrazení použít toohello ukázková data protokolu, s podmnožinu sloupců zobrazí.</span><span class="sxs-lookup"><span data-stu-id="73df8-309">hello picture below shows this layout view applied toohello sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="73df8-310">Uvidíte, že pro ID žádosti konkrétního klienta, zobrazuje hello mřížky analýzy dat z protokolu hello klienta, serveru protokolu a trasování sítě.</span><span class="sxs-lookup"><span data-stu-id="73df8-310">You can see that for a particular client request ID, hello Analysis Grid displays data from hello client log, server log, and network trace.</span></span>

![Zobrazení rozložení úložiště Azure](./media/storage-e2e-troubleshooting-classic-portal/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="73df8-312">Různých protokolových souborech mají různé sloupce, takže když v hello Analysis mřížky se zobrazí data z více souborů protokolu, některé sloupce nesmí obsahovat žádná data pro daný řádek.</span><span class="sxs-lookup"><span data-stu-id="73df8-312">Different log files have different columns, so when data from multiple log files is displayed in hello Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="73df8-313">Například hello obrázku výše, řádky protokolu klienta nezobrazovat žádná data pro hello **časové razítko**, **TimeElapsed**, **zdroj**, a **cílové** sloupců, protože tyto sloupce nejsou k dispozici v hello klienta protokolu, ale existují v hello síťové trasování.</span><span class="sxs-lookup"><span data-stu-id="73df8-313">For example, in hello picture above, the client log rows do not show any data for hello **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in hello client log, but do exist in hello network trace.</span></span> <span data-ttu-id="73df8-314">Podobně hello **časové razítko** sloupec zobrazuje časové razítko data z hello serveru protokolu, ale nezobrazí se žádná data pro hello **TimeElapsed**, **zdroj**, a  **Cílový** sloupce, které nejsou součástí hello serveru protokolu.</span><span class="sxs-lookup"><span data-stu-id="73df8-314">Similarly, hello **Timestamp** column displays timestamp data from hello server log, but no data is displayed for hello **TimeElapsed**, **Source**, and **Destination** columns, which are not part of hello server log.</span></span>
>
>

<span data-ttu-id="73df8-315">Kromě toho toousing hello Azure Storage zobrazení rozložení, můžete také definovat a uložit vlastní rozložení zobrazení.</span><span class="sxs-lookup"><span data-stu-id="73df8-315">In addition toousing hello Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="73df8-316">Můžete vybrat další požadované pole pro seskupování dat a uložit hello seskupení jako součást vaší vlastní rozložení.</span><span class="sxs-lookup"><span data-stu-id="73df8-316">You can select other desired fields for grouping data and save hello grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-toohello-analysis-grid"></a><span data-ttu-id="73df8-317">Použít toohello pravidla barev Analysis mřížky</span><span class="sxs-lookup"><span data-stu-id="73df8-317">Apply color rules toohello Analysis Grid</span></span>
<span data-ttu-id="73df8-318">Prostředky úložiště Hello také obsahovat pravidla barvy, která nabízí že vizuál znamená tooidentify různých typů chyb v hello Analysis mřížky.</span><span class="sxs-lookup"><span data-stu-id="73df8-318">hello Storage Assets also include color rules, which offer a visual means tooidentify different types of errors in hello Analysis Grid.</span></span> <span data-ttu-id="73df8-319">Hello pravidel předdefinované barvy použít tooHTTP chyby, aby se zobrazovaly pouze pro server hello protokolu a síťové trasování.</span><span class="sxs-lookup"><span data-stu-id="73df8-319">hello predefined color rules apply tooHTTP errors, so they appear only for hello server log and network trace.</span></span>

<span data-ttu-id="73df8-320">Vyberte tooapply pravidel barvy, **pravidel barvy** z pásu karet hello panelu nástrojů.</span><span class="sxs-lookup"><span data-stu-id="73df8-320">tooapply color rules, select **Color Rules** from hello toolbar ribbon.</span></span> <span data-ttu-id="73df8-321">Uvidíte pravidel barvy hello Azure Storage v nabídce hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-321">You'll see hello Azure Storage color rules in hello menu.</span></span> <span data-ttu-id="73df8-322">Hello kurzu vyberte **chyby klienta (StatusCode mezi 400 a 499)**, jak ukazuje následující obrázek hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-322">For hello tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in hello picture below.</span></span>

![Zobrazení rozložení úložiště Azure](./media/storage-e2e-troubleshooting-classic-portal/color-rules-menu.png)

<span data-ttu-id="73df8-324">Kromě toho toousing hello Azure Storage barvu, která pravidla, můžete také definovat a uložit vlastní pravidla barvy.</span><span class="sxs-lookup"><span data-stu-id="73df8-324">In addition toousing hello Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-toofind-400-range-errors"></a><span data-ttu-id="73df8-325">Skupiny a filtrování dat toofind 400-range chyby v protokolu</span><span class="sxs-lookup"><span data-stu-id="73df8-325">Group and filter log data toofind 400-range errors</span></span>
<span data-ttu-id="73df8-326">V dalším kroku jsme budete skupiny a filtrovat hello protokolu data toofind všechny chyby v rozsahu hello 400.</span><span class="sxs-lookup"><span data-stu-id="73df8-326">Next, we'll group and filter hello log data toofind all errors in hello 400 range.</span></span>

1. <span data-ttu-id="73df8-327">Vyhledejte hello **StatusCode** sloupec v hello Analysis mřížky, klikněte pravým tlačítkem na hello sloupec nadpis a vyberte **skupiny**.</span><span class="sxs-lookup"><span data-stu-id="73df8-327">Locate hello **StatusCode** column in hello Analysis Grid, right-click hello column heading, and select **Group**.</span></span>
2. <span data-ttu-id="73df8-328">V dalším kroku skupina na hello **ClientRequestId** sloupce.</span><span class="sxs-lookup"><span data-stu-id="73df8-328">Next, group on hello **ClientRequestId** column.</span></span> <span data-ttu-id="73df8-329">Dozvíte se, že hello data v hello Analysis mřížky je nyní uspořádané podle stavu kódu a požadavkem klienta ID.</span><span class="sxs-lookup"><span data-stu-id="73df8-329">You'll see that hello data in hello Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="73df8-330">Zobrazí okno nástroje filtr zobrazení hello, pokud již není zobrazen.</span><span class="sxs-lookup"><span data-stu-id="73df8-330">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="73df8-331">Na pásu karet nástrojů hello, vyberte **nástroj Windows**, pak **filtr zobrazení**.</span><span class="sxs-lookup"><span data-stu-id="73df8-331">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="73df8-332">toofilter hello data toodisplay pouze 400-range chyby v protokolu, přidejte následující toohello kritéria filtru hello **filtr zobrazení** a klikněte na **použít**:</span><span class="sxs-lookup"><span data-stu-id="73df8-332">toofilter hello log data toodisplay only 400-range errors, add hello following filter criteria toohello **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="73df8-333">Následující obrázek Hello ukazuje výsledky hello toto seskupení a filtru.</span><span class="sxs-lookup"><span data-stu-id="73df8-333">hello picture below shows hello results of this grouping and filter.</span></span> <span data-ttu-id="73df8-334">Se zvětšující hello **ClientRequestID** pole pod hello seskupení pro kód stavu 409, například zobrazí operaci, která tento kód stavu.</span><span class="sxs-lookup"><span data-stu-id="73df8-334">Expanding hello **ClientRequestID** field beneath hello grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Zobrazení rozložení úložiště Azure](./media/storage-e2e-troubleshooting-classic-portal/400-range-errors1.png)

<span data-ttu-id="73df8-336">Po použití tento filtr, uvidíte, že řádky z hello klienta protokolu jsou vyloučeny, jako hello nezahrnuje protokol klienta **StatusCode** sloupce.</span><span class="sxs-lookup"><span data-stu-id="73df8-336">After applying this filter, you'll see that rows from hello client log are excluded, as hello client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="73df8-337">toobegin s přečtěte hello serveru a chyb 404 protokoly toolocate trasování pro sítě a potom vrátíme toohello klienta protokolu tooexamine hello operací klienta, které vedly toothem.</span><span class="sxs-lookup"><span data-stu-id="73df8-337">toobegin with, we'll review hello server and network trace logs toolocate 404 errors, and then we'll return toohello client log tooexamine hello client operations that led toothem.</span></span>

> [!NOTE]
> <span data-ttu-id="73df8-338">Můžete filtrovat podle hello **StatusCode** sloupce a stále zobrazí data ze všech tří protokolů, včetně hello protokolu klienta, pokud přidáte filtr toohello výraz, který obsahuje položky protokolu, kde má hodnotu null hello stavový kód.</span><span class="sxs-lookup"><span data-stu-id="73df8-338">You can filter on hello **StatusCode** column and still display data from all three logs, including hello client log, if you add an expression toohello filter that includes log entries where hello status code is null.</span></span> <span data-ttu-id="73df8-339">tooconstruct tento výraz filtru, použijte:</span><span class="sxs-lookup"><span data-stu-id="73df8-339">tooconstruct this filter expression, use:</span></span>
>
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
>
> <span data-ttu-id="73df8-340">Tento filtr vrátí všechny řádky z klienta hello protokolu a pouze řádky z hello serveru protokolu a protokolu HTTP kde je větší než 400 hello stavový kód.</span><span class="sxs-lookup"><span data-stu-id="73df8-340">This filter returns all rows from hello client log and only rows from hello server log and HTTP log where hello status code is greater than 400.</span></span> <span data-ttu-id="73df8-341">Pokud ji použijete rozložení zobrazení toohello seskupené podle ID žádosti klienta a modul, můžete hledat nebo procházení hello protokolu položky toofind ty, které kde zastoupení všech tří protokolů.</span><span class="sxs-lookup"><span data-stu-id="73df8-341">If you apply it toohello view layout grouped by client request ID and module, you can search or scroll through hello log entries toofind ones where all three logs are represented.</span></span>   
>
>

### <a name="filter-log-data-toofind-404-errors"></a><span data-ttu-id="73df8-342">Filtrování chyb 404 toofind data protokolu</span><span class="sxs-lookup"><span data-stu-id="73df8-342">Filter log data toofind 404 errors</span></span>
<span data-ttu-id="73df8-343">Hello úložiště prostředky zahrnují předdefinované filtry, které můžete použít toonarrow protokolovat data toofind hello chyby nebo trendů, které hledáte.</span><span class="sxs-lookup"><span data-stu-id="73df8-343">hello Storage Assets include predefined filters that you can use toonarrow log data toofind hello errors or trends you are looking for.</span></span> <span data-ttu-id="73df8-344">V dalším kroku jsme budete používat dvě předdefinované filtry: jeden, který filtruje hello serveru a síťové protokoly trasování pro chyb 404 a ten, který filtruje hello data v zadaném časovém rozmezí.</span><span class="sxs-lookup"><span data-stu-id="73df8-344">Next, we'll apply two predefined filters: one that filters hello server and network trace logs for 404 errors, and one that filters hello data on a specified time range.</span></span>

1. <span data-ttu-id="73df8-345">Zobrazí okno nástroje filtr zobrazení hello, pokud již není zobrazen.</span><span class="sxs-lookup"><span data-stu-id="73df8-345">Display hello View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="73df8-346">Na pásu karet nástrojů hello, vyberte **nástroj Windows**, pak **filtr zobrazení**.</span><span class="sxs-lookup"><span data-stu-id="73df8-346">On hello toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="73df8-347">V okně filtru zobrazení hello vyberte **knihovny**a vyhledejte na `Azure Storage` toofind hello filtry Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="73df8-347">In hello View Filter window, select **Library**, and search on `Azure Storage` toofind hello Azure Storage filters.</span></span> <span data-ttu-id="73df8-348">Vyberte hello filtr **404 (Nenalezeno) zpráv ve všech protokolech**.</span><span class="sxs-lookup"><span data-stu-id="73df8-348">Select hello filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="73df8-349">Zobrazení hello **knihovny** nabídky znovu a vyhledejte a vyberte hello **globální filtr času**.</span><span class="sxs-lookup"><span data-stu-id="73df8-349">Display hello **Library** menu again, and locate and select hello **Global Time Filter**.</span></span>
4. <span data-ttu-id="73df8-350">Časová razítka hello zobrazuje v rozsahu toohello hello filtru, že tooview chcete upravte.</span><span class="sxs-lookup"><span data-stu-id="73df8-350">Edit hello timestamps shown in hello filter toohello range you wish tooview.</span></span> <span data-ttu-id="73df8-351">To vám pomůže toonarrow hello řadu data tooanalyze.</span><span class="sxs-lookup"><span data-stu-id="73df8-351">This will help toonarrow hello range of data tooanalyze.</span></span>
5. <span data-ttu-id="73df8-352">Filtr měla vypadat podobně jako následující příklad toohello.</span><span class="sxs-lookup"><span data-stu-id="73df8-352">Your filter should appear similar toohello example below.</span></span> <span data-ttu-id="73df8-353">Klikněte na tlačítko **použít** tooapply hello filtru toohello Analysis mřížky.</span><span class="sxs-lookup"><span data-stu-id="73df8-353">Click **Apply** tooapply hello filter toohello Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

![Zobrazení rozložení úložiště Azure](./media/storage-e2e-troubleshooting-classic-portal/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="73df8-355">Analyzovat data protokolu</span><span class="sxs-lookup"><span data-stu-id="73df8-355">Analyze your log data</span></span>
<span data-ttu-id="73df8-356">Teď, když máte seskupené a filtrovat data, můžete zkontrolovat hello podrobnosti o jednotlivých požadavků, které generuje chyby 404.</span><span class="sxs-lookup"><span data-stu-id="73df8-356">Now that you have grouped and filtered your data, you can examine hello details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="73df8-357">V zobrazení rozložení aktuální hello je hello data seskupené podle ID žádosti klienta, pak zdrojem protokolu.</span><span class="sxs-lookup"><span data-stu-id="73df8-357">In hello current view layout, hello data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="73df8-358">Vzhledem k tomu, že jsme jsou filtrování požadavků kde pole hello StatusCode obsahuje 404, uvidíme pouze hello serveru a data trasování sítě, není hello data protokolu klienta.</span><span class="sxs-lookup"><span data-stu-id="73df8-358">Since we are filtering on requests where hello StatusCode field contains 404, we'll see only hello server and network trace data, not hello client log data.</span></span>

<span data-ttu-id="73df8-359">Následující obrázek Hello ukazuje konkrétního požadavku, kde operace získání objektu Blob poskytuje 404, protože objekt blob hello složka neexistuje.</span><span class="sxs-lookup"><span data-stu-id="73df8-359">hello picture below shows a specific request where a Get Blob operation yielded a 404 because hello blob did not exist.</span></span> <span data-ttu-id="73df8-360">Všimněte si, že některé sloupce byly odebrány z hello standardní zobrazení v pořadí toodisplay hello relevantní data.</span><span class="sxs-lookup"><span data-stu-id="73df8-360">Note that some columns have been removed from hello standard view in order toodisplay hello relevant data.</span></span>

![Filtrované serveru a protokoly trasování sítě](./media/storage-e2e-troubleshooting-classic-portal/server-filtered-404-error.png)

<span data-ttu-id="73df8-362">V dalším kroku jsme budete korelovat toto ID žádosti klienta s hello klienta protokolu data toosee klienta hello jaké akce trvala při došlo k chybě hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-362">Next, we'll correlate this client request ID with hello client log data toosee what actions hello client was taking when hello error happened.</span></span> <span data-ttu-id="73df8-363">Můžete zobrazit nové zobrazení mřížky analýzy pro tuto relaci tooview hello klienta protokolu data, která se otevře v druhé kartě:</span><span class="sxs-lookup"><span data-stu-id="73df8-363">You can display a new Analysis Grid view for this session tooview hello client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="73df8-364">Nejdřív zkopírujte hodnotu hello hello **ClientRequestId** pole toohello schránky.</span><span class="sxs-lookup"><span data-stu-id="73df8-364">First, copy hello value of hello **ClientRequestId** field toohello clipboard.</span></span> <span data-ttu-id="73df8-365">To provedete tak, že vyberete buď řádek vyhledání hello **ClientRequestId** pole, pravým tlačítkem myši na hodnotu data hello a zvolením **kopie 'ClientRequestId'**.</span><span class="sxs-lookup"><span data-stu-id="73df8-365">You can do this by selecting either row, locating hello **ClientRequestId** field, right-clicking on hello data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="73df8-366">Na pásu karet nástrojů hello, vyberte **nový prohlížeč**, pak vyberte **Analysis mřížky** tooopen nové kartě hello novou kartu zobrazí všechna data v souboru protokolu, bez seskupení, filtrování nebo pravidel barvy.</span><span class="sxs-lookup"><span data-stu-id="73df8-366">On hello toolbar ribbon, select **New Viewer**, then select **Analysis Grid** tooopen a new tab. hello new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="73df8-367">Na pásu karet nástrojů hello, vyberte **rozložení zobrazení**, pak vyberte **všechny sloupce klienta rozhraní .NET** pod hello **Azure Storage** části.</span><span class="sxs-lookup"><span data-stu-id="73df8-367">On hello toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under hello **Azure Storage** section.</span></span> <span data-ttu-id="73df8-368">Toto rozložení zobrazení zobrazuje data z hello klienta protokolu, jakož i hello protokoly trasování serveru a sítě.</span><span class="sxs-lookup"><span data-stu-id="73df8-368">This view layout shows data from hello client log as well as hello server and network trace logs.</span></span> <span data-ttu-id="73df8-369">Ve výchozím nastavení je seřazen v hello **MessageNumber** sloupce.</span><span class="sxs-lookup"><span data-stu-id="73df8-369">By default it is sorted on hello **MessageNumber** column.</span></span>
4. <span data-ttu-id="73df8-370">V dalším kroku hello klienta protokolu vyhledejte ID hello klienta požadavku.</span><span class="sxs-lookup"><span data-stu-id="73df8-370">Next, search hello client log for hello client request ID.</span></span> <span data-ttu-id="73df8-371">Na pásu karet nástrojů hello, vyberte **najít zprávy**, pak zadání vlastního filtru na hello ID žádosti klienta v hello **najít** pole.</span><span class="sxs-lookup"><span data-stu-id="73df8-371">On hello toolbar ribbon, select **Find Messages**, then specify a custom filter on hello client request ID in hello **Find** field.</span></span> <span data-ttu-id="73df8-372">Pro filtr hello, zadání vlastní ID žádosti klienta použijte následující syntaxi:</span><span class="sxs-lookup"><span data-stu-id="73df8-372">Use this syntax for hello filter, specifying your own client request ID:</span></span>

    ```  
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="73df8-373">Message Analyzer vyhledá a vybere první položka protokolu hello kde kritéria vyhledávání hello odpovídá hello klienta žádosti.</span><span class="sxs-lookup"><span data-stu-id="73df8-373">Message Analyzer locates and selects hello first log entry where hello search criteria matches hello client request ID.</span></span> <span data-ttu-id="73df8-374">V protokolu klienta hello, existuje několik záznamů pro každý požadavek ID klienta, tak může být vhodné toogroup je na hello **ClientRequestId** toomake pole je snazší toosee je všechny společně.</span><span class="sxs-lookup"><span data-stu-id="73df8-374">In hello client log, there are several entries for each client request ID, so you may want toogroup them on hello **ClientRequestId** field toomake it easier toosee them all together.</span></span> <span data-ttu-id="73df8-375">Hello obrázek níže znázorňuje všechny zprávy hello v klientovi hello protokolu hello zadané ID klienta požadavku.</span><span class="sxs-lookup"><span data-stu-id="73df8-375">hello picture below shows all of hello messages in hello client log for hello specified client request ID.</span></span>

![Zobrazuje klienta protokolu chyb 404](./media/storage-e2e-troubleshooting-classic-portal/client-log-analysis-grid1.png)

<span data-ttu-id="73df8-377">Pomocí hello data zobrazená v rozložení zobrazení hello v tyto dvě karty, můžete analyzovat toodetermine data požadavku hello co způsobilo chybu hello.</span><span class="sxs-lookup"><span data-stu-id="73df8-377">Using hello data shown in hello view layouts in these two tabs, you can analyze hello request data toodetermine what may have caused hello error.</span></span> <span data-ttu-id="73df8-378">Můžete také prohlédnout požadavků, které před tento jeden toosee Pokud předchozí události může vedly toohello chybu 404.</span><span class="sxs-lookup"><span data-stu-id="73df8-378">You can also look at requests that preceded this one toosee if a previous event may have led toohello 404 error.</span></span> <span data-ttu-id="73df8-379">Můžete například zkontrolovat položky protokolu klienta hello předcházející tento toodetermine ID žádosti klienta, zda hello blob mohla být odstraněna, nebo pokud byla chyba hello kvůli toohello klientská aplikace volání rozhraní API CreateIfNotExists na kontejner nebo objekt blob.</span><span class="sxs-lookup"><span data-stu-id="73df8-379">For example, you can review hello client log entries preceding this client request ID toodetermine whether hello blob may have been deleted, or if hello error was due toohello client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="73df8-380">V protokolu hello klienta, můžete najít v hello hello blob adresu **popis** pole; v serveru hello a protokoly trasování sítě, tyto informace se zobrazí v hello **Souhrn** pole.</span><span class="sxs-lookup"><span data-stu-id="73df8-380">In hello client log, you can find hello blob's address in hello **Description** field; in hello server and network trace logs, this information appears in hello **Summary** field.</span></span>

<span data-ttu-id="73df8-381">Jakmile znáte hello adresu hello objekt blob, který poskytuje chyba hello 404, můžete dále prozkoumat.</span><span class="sxs-lookup"><span data-stu-id="73df8-381">Once you know hello address of hello blob that yielded hello 404 error, you can investigate further.</span></span> <span data-ttu-id="73df8-382">Pokud hledáte položky protokolu hello další zprávy týkající se operací na hello stejný objekt blob, můžete zkontrolovat, zda klient hello dříve odstraněny hello entity.</span><span class="sxs-lookup"><span data-stu-id="73df8-382">If you search hello log entries for other messages associated with operations on hello same blob, you can check whether hello client previously deleted hello entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="73df8-383">Analýza jiné typy chyb úložiště</span><span class="sxs-lookup"><span data-stu-id="73df8-383">Analyze other types of storage errors</span></span>
<span data-ttu-id="73df8-384">Teď, když jste obeznámeni s používáním Message Analyzer tooanalyze data protokolu, můžete analyzovat jiné typy chyb pomocí zobrazení rozložení, pravidel barvy a hledání nebo filtrování.</span><span class="sxs-lookup"><span data-stu-id="73df8-384">Now that you are familiar with using Message Analyzer tooanalyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="73df8-385">Hello tabulky níže seznamy některé problémy, může dojít k a hello kritéria filtru, která můžete použít toolocate je.</span><span class="sxs-lookup"><span data-stu-id="73df8-385">hello tables below lists some issues you may encounter and hello filter criteria you can use toolocate them.</span></span> <span data-ttu-id="73df8-386">Další informace o vytváření filtrů a hello Message Analyzer filtrování jazyka, najdete v části [filtrování Data zpráv](http://technet.microsoft.com/library/jj819365.aspx).</span><span class="sxs-lookup"><span data-stu-id="73df8-386">For more information on constructing filters and hello Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="73df8-387">tooInvestigate...</span><span class="sxs-lookup"><span data-stu-id="73df8-387">tooInvestigate…</span></span> | <span data-ttu-id="73df8-388">Použijte výraz filtru...</span><span class="sxs-lookup"><span data-stu-id="73df8-388">Use Filter Expression…</span></span> | <span data-ttu-id="73df8-389">Výraz platí tooLog (klient, Server, sítě, všechny)</span><span class="sxs-lookup"><span data-stu-id="73df8-389">Expression Applies tooLog (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="73df8-390">Neočekávané zpoždění při doručování zpráv ve frontě</span><span class="sxs-lookup"><span data-stu-id="73df8-390">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="73df8-391">AzureStorageClientDotNetV4.Description obsahuje "Bude opakován operace se nezdařila."</span><span class="sxs-lookup"><span data-stu-id="73df8-391">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="73df8-392">Klient</span><span class="sxs-lookup"><span data-stu-id="73df8-392">Client</span></span> |
| <span data-ttu-id="73df8-393">Zvýšení HTTP PercentThrottlingError</span><span class="sxs-lookup"><span data-stu-id="73df8-393">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="73df8-394">HTTP. Response.StatusCode == 500 &#124; &#124; HTTP. Response.StatusCode == 503</span><span class="sxs-lookup"><span data-stu-id="73df8-394">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="73df8-395">Síť</span><span class="sxs-lookup"><span data-stu-id="73df8-395">Network</span></span> |
| <span data-ttu-id="73df8-396">Nárůst PercentTimeoutError</span><span class="sxs-lookup"><span data-stu-id="73df8-396">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="73df8-397">HTTP. Response.StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="73df8-397">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="73df8-398">Síť</span><span class="sxs-lookup"><span data-stu-id="73df8-398">Network</span></span> |
| <span data-ttu-id="73df8-399">Nárůst PercentTimeoutError (všechny)</span><span class="sxs-lookup"><span data-stu-id="73df8-399">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="73df8-400">* StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="73df8-400">*StatusCode   == 500</span></span> |<span data-ttu-id="73df8-401">Všechny</span><span class="sxs-lookup"><span data-stu-id="73df8-401">All</span></span> |
| <span data-ttu-id="73df8-402">Nárůst PercentNetworkError</span><span class="sxs-lookup"><span data-stu-id="73df8-402">Increase in PercentNetworkError</span></span> |<span data-ttu-id="73df8-403">AzureStorageClientDotNetV4.EventLogEntry.Level < 2</span><span class="sxs-lookup"><span data-stu-id="73df8-403">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="73df8-404">Klient</span><span class="sxs-lookup"><span data-stu-id="73df8-404">Client</span></span> |
| <span data-ttu-id="73df8-405">HTTP 403 (zakázáno) zprávy</span><span class="sxs-lookup"><span data-stu-id="73df8-405">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="73df8-406">HTTP. Response.StatusCode == 403</span><span class="sxs-lookup"><span data-stu-id="73df8-406">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="73df8-407">Síť</span><span class="sxs-lookup"><span data-stu-id="73df8-407">Network</span></span> |
| <span data-ttu-id="73df8-408">HTTP 404 (Nenalezeno) zprávy</span><span class="sxs-lookup"><span data-stu-id="73df8-408">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="73df8-409">HTTP. Response.StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="73df8-409">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="73df8-410">Síť</span><span class="sxs-lookup"><span data-stu-id="73df8-410">Network</span></span> |
| <span data-ttu-id="73df8-411">404 (všechny)</span><span class="sxs-lookup"><span data-stu-id="73df8-411">404 (all)</span></span> |<span data-ttu-id="73df8-412">* StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="73df8-412">*StatusCode   == 404</span></span> |<span data-ttu-id="73df8-413">Všechny</span><span class="sxs-lookup"><span data-stu-id="73df8-413">All</span></span> |
| <span data-ttu-id="73df8-414">Sdíleného přístupového podpisu (SAS) autorizace problém</span><span class="sxs-lookup"><span data-stu-id="73df8-414">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="73df8-415">AzureStorageLog.RequestStatus == "SASAuthorizationError"</span><span class="sxs-lookup"><span data-stu-id="73df8-415">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="73df8-416">Síť</span><span class="sxs-lookup"><span data-stu-id="73df8-416">Network</span></span> |
| <span data-ttu-id="73df8-417">HTTP 409 (konflikt) zprávy</span><span class="sxs-lookup"><span data-stu-id="73df8-417">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="73df8-418">HTTP. Response.StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="73df8-418">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="73df8-419">Síť</span><span class="sxs-lookup"><span data-stu-id="73df8-419">Network</span></span> |
| <span data-ttu-id="73df8-420">409 (všechny)</span><span class="sxs-lookup"><span data-stu-id="73df8-420">409 (all)</span></span> |<span data-ttu-id="73df8-421">* StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="73df8-421">*StatusCode   == 409</span></span> |<span data-ttu-id="73df8-422">Všechny</span><span class="sxs-lookup"><span data-stu-id="73df8-422">All</span></span> |
| <span data-ttu-id="73df8-423">Nízká PercentSuccess nebo analytics položky protokolu mít operací s stav transakce ClientOtherErrors</span><span class="sxs-lookup"><span data-stu-id="73df8-423">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="73df8-424">AzureStorageLog.RequestStatus == "ClientOtherError"</span><span class="sxs-lookup"><span data-stu-id="73df8-424">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="73df8-425">Server</span><span class="sxs-lookup"><span data-stu-id="73df8-425">Server</span></span> |
| <span data-ttu-id="73df8-426">Nagle upozornění</span><span class="sxs-lookup"><span data-stu-id="73df8-426">Nagle   Warning</span></span> |<span data-ttu-id="73df8-427">((AzureStorageLog.EndToEndLatencyMS-AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS * 1.5)) a (AzureStorageLog.RequestPacketSize < 1460) a (AzureStorageLog.EndToEndLatencyMS - AzureStorageLog.ServerLatencyMS > = 200)</span><span class="sxs-lookup"><span data-stu-id="73df8-427">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="73df8-428">Server</span><span class="sxs-lookup"><span data-stu-id="73df8-428">Server</span></span> |
| <span data-ttu-id="73df8-429">Doba v protokolech serveru a sítě</span><span class="sxs-lookup"><span data-stu-id="73df8-429">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="73df8-430">#Timestamp > = 2014-10-20T16:36:38 a #Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="73df8-430">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="73df8-431">Server sítě</span><span class="sxs-lookup"><span data-stu-id="73df8-431">Server, Network</span></span> |
| <span data-ttu-id="73df8-432">Rozsah čas v protokolech serveru</span><span class="sxs-lookup"><span data-stu-id="73df8-432">Range of   time in Server logs</span></span> |<span data-ttu-id="73df8-433">AzureStorageLog.Timestamp > = 2014-10-20T16:36:38 a AzureStorageLog.Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="73df8-433">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="73df8-434">Server</span><span class="sxs-lookup"><span data-stu-id="73df8-434">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="73df8-435">Další kroky</span><span class="sxs-lookup"><span data-stu-id="73df8-435">Next steps</span></span>
<span data-ttu-id="73df8-436">Další informace o odstraňování potíží začátku do konce scénáře ve službě Azure Storage naleznete v následujících zdrojích:</span><span class="sxs-lookup"><span data-stu-id="73df8-436">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="73df8-437">Monitorování, Diagnostika a řešení potíží s Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="73df8-437">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="73df8-438">Storage Analytics</span><span class="sxs-lookup"><span data-stu-id="73df8-438">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="73df8-439">Monitorování účtu úložiště v hello portálu Azure</span><span class="sxs-lookup"><span data-stu-id="73df8-439">Monitor a storage account in hello Azure Portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="73df8-440">Přenos dat pomocí hello příkazového řádku azcopy</span><span class="sxs-lookup"><span data-stu-id="73df8-440">Transfer data with hello AzCopy command-line utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="73df8-441">Microsoft Message Analyzer operační Průvodce</span><span class="sxs-lookup"><span data-stu-id="73df8-441">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
