---
title: "Vzor aplikací webové aaaMulti klienta | Microsoft Docs"
description: "Vyhledá architektury přehledy a vzory návrhu, které popisují, jak tooimplement více klientů webovou aplikaci na platformě Azure."
services: 
documentationcenter: .net
author: wadepickett
manager: wpickett
editor: 
ms.assetid: 4f0281d2-1555-42b0-a99d-1222fade0b0f
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/05/2015
ms.author: wpickett
ms.openlocfilehash: 3b7822c8ca4aa50d295a174973ae4746c230ba66
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="multitenant-applications-in-azure"></a><span data-ttu-id="4e12b-103">Víceklientské aplikace v Azure</span><span class="sxs-lookup"><span data-stu-id="4e12b-103">Multitenant Applications in Azure</span></span>
<span data-ttu-id="4e12b-104">Víceklientské aplikace je sdílený prostředek, který umožňuje samostatné uživatele, nebo "klientů," aplikace hello tooview, jako by byl svoje vlastní.</span><span class="sxs-lookup"><span data-stu-id="4e12b-104">A multitenant application is a shared resource that allows separate users, or "tenants," tooview hello application as though it was their own.</span></span> <span data-ttu-id="4e12b-105">Typický scénář, který poskytuje vlastní tooa víceklientské aplikace je jedním ve které všichni uživatelé hello aplikace chcete toocustomize hello uživatelské prostředí ale jinak mít hello stejné základní obchodní požadavky.</span><span class="sxs-lookup"><span data-stu-id="4e12b-105">A typical scenario that lends itself tooa multitenant application is one in which all users of hello application may wish toocustomize hello user experience but otherwise have hello same basic business requirements.</span></span> <span data-ttu-id="4e12b-106">Příkladem velké víceklientské aplikace jsou Office 365, Outlook.com a visualstudio.com.</span><span class="sxs-lookup"><span data-stu-id="4e12b-106">Examples of large multitenant applications are Office 365, Outlook.com, and visualstudio.com.</span></span>

<span data-ttu-id="4e12b-107">Z hlediska poskytovatele aplikace hello výhod víceklientskou architekturu většinou se týkají toooperational a efektivnost nákladů.</span><span class="sxs-lookup"><span data-stu-id="4e12b-107">From an application provider's perspective, hello benefits of multitenancy mostly relate toooperational and cost efficiencies.</span></span> <span data-ttu-id="4e12b-108">Jednu verzi vaší aplikace můžete podle potřeb hello mnoho klientů nebo zákazníků, povolení úlohy správy, jako jsou monitorování, optimalizace výkonu, údržba softwaru a zálohování dat konsolidace systému.</span><span class="sxs-lookup"><span data-stu-id="4e12b-108">One version of your application can meet hello needs of many tenants/customers, allowing consolidation of system administration tasks such as monitoring, performance tuning, software maintenance, and data backups.</span></span>

<span data-ttu-id="4e12b-109">Hello následující text uvádí seznam hello nejdůležitější cíle a požadavky z hlediska zprostředkovatele.</span><span class="sxs-lookup"><span data-stu-id="4e12b-109">hello following provides a list of hello most significant goals and requirements from a provider's perspective.</span></span>

* <span data-ttu-id="4e12b-110">**Zřizování**: musí být schopný tooprovision nové klienty pro aplikaci hello.</span><span class="sxs-lookup"><span data-stu-id="4e12b-110">**Provisioning**: You must be able tooprovision new tenants for hello application.</span></span>  <span data-ttu-id="4e12b-111">Pro víceklientské aplikace s velký počet klientů, je obvykle nutné tooautomate, tento proces, pomocí umožňuje samoobslužné zřizování.</span><span class="sxs-lookup"><span data-stu-id="4e12b-111">For multitenant applications with a large number of tenants, it is usually necessary tooautomate this process by enabling self-service provisioning.</span></span>
* <span data-ttu-id="4e12b-112">**Udržovatelnost**: musí být schopný tooupgrade hello aplikace a provádět další úlohy údržby v okamžiku, kdy několik klientů používají.</span><span class="sxs-lookup"><span data-stu-id="4e12b-112">**Maintainability**: You must be able tooupgrade hello application and perform other maintenance tasks while multiple tenants are using it.</span></span>
* <span data-ttu-id="4e12b-113">**Monitorování**: vám musí být schopný toomonitor hello aplikace na všechny časy tooidentify všechny problémy a tootroubleshoot je.</span><span class="sxs-lookup"><span data-stu-id="4e12b-113">**Monitoring**: You must be able toomonitor hello application at all times tooidentify any problems and tootroubleshoot them.</span></span> <span data-ttu-id="4e12b-114">To zahrnuje monitorování, jak je každého klienta pomocí aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="4e12b-114">This includes monitoring how each tenant is using hello application.</span></span>

<span data-ttu-id="4e12b-115">Správně implementovaná víceklientské aplikace poskytuje následující hello výhody toousers.</span><span class="sxs-lookup"><span data-stu-id="4e12b-115">A properly implemented multitenant application provides hello following benefits toousers.</span></span>

* <span data-ttu-id="4e12b-116">**Izolace**: hello aktivity jednotlivých klientů, které neovlivňují hello použití aplikace hello ostatních klientů.</span><span class="sxs-lookup"><span data-stu-id="4e12b-116">**Isolation**: hello activities of individual tenants do not affect hello use of hello application by other tenants.</span></span> <span data-ttu-id="4e12b-117">Klienty nelze přistupovat k datům uživatele toho druhého.</span><span class="sxs-lookup"><span data-stu-id="4e12b-117">Tenants cannot access each other's data.</span></span> <span data-ttu-id="4e12b-118">Zobrazí se toohello klienta jako v případě, že má výhradní použití aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="4e12b-118">It appears toohello tenant as though they have exclusive use of hello application.</span></span>
* <span data-ttu-id="4e12b-119">**Dostupnost**: jednotlivých klientů má toobe aplikace hello neustále k dispozici, případně s záruky, které jsou definované v SLA.</span><span class="sxs-lookup"><span data-stu-id="4e12b-119">**Availability**: Individual tenants want hello application toobe constantly available, perhaps with guarantees defined in an SLA.</span></span> <span data-ttu-id="4e12b-120">Znovu hello aktivity ostatních klientů by neměly ovlivnit dostupnost hello aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="4e12b-120">Again, hello activities of other tenants should not affect hello availability of hello application.</span></span>
* <span data-ttu-id="4e12b-121">**Škálovatelnost**: aplikace hello škáluje toomeet hello vyžádání jednotlivých klientů.</span><span class="sxs-lookup"><span data-stu-id="4e12b-121">**Scalability**: hello application scales toomeet hello demand of individual tenants.</span></span> <span data-ttu-id="4e12b-122">Hello přítomnosti a akce ostatních klientů by neměla vliv hello výkon aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="4e12b-122">hello presence and actions of other tenants should not affect hello performance of hello application.</span></span>
* <span data-ttu-id="4e12b-123">**Náklady na**: náklady jsou nižší než spuštěna aplikace typu vyhrazené, jednoho klienta, protože víceklientská architektura umožňuje hello sdílení prostředků.</span><span class="sxs-lookup"><span data-stu-id="4e12b-123">**Costs**: Costs are lower than running a dedicated, single-tenant application because multi-tenancy enables hello sharing of resources.</span></span>
* <span data-ttu-id="4e12b-124">**Možnosti přizpůsobení**.</span><span class="sxs-lookup"><span data-stu-id="4e12b-124">**Customizability**.</span></span> <span data-ttu-id="4e12b-125">Hello možnost toocustomize hello aplikace pro jednoho klienta různými způsoby, například přidání nebo odebrání funkcí, změna barvy a loga nebo i přidání vlastní kód nebo skriptu.</span><span class="sxs-lookup"><span data-stu-id="4e12b-125">hello ability toocustomize hello application for an individual tenant in various ways such as adding or removing features, changing colors and logos, or even adding their own code or script.</span></span>

<span data-ttu-id="4e12b-126">Stručně řečeno, zatímco několik rozhodnutí, které je nutné provést do účtu tooprovide vysoce škálovatelná služba, existují také počet hello cíle a požadavky, které jsou společné toomany víceklientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="4e12b-126">In short, while there are many considerations that you must take into account tooprovide a highly scalable service, there are also a number of hello goals and requirements that are common toomany multitenant applications.</span></span> <span data-ttu-id="4e12b-127">Nemusí být některá relevantní v konkrétních scénářů a význam hello jednotlivé cíle a požadavky se budou lišit v každém scénáři.</span><span class="sxs-lookup"><span data-stu-id="4e12b-127">Some may not be relevant in specific scenarios, and hello importance of individual goals and requirements will differ in each scenario.</span></span> <span data-ttu-id="4e12b-128">Jako poskytovatel víceklientské aplikace hello budete také mít cíle a požadavky, jako splňuje hello klientům cíle a požadavky, ziskovosti, fakturace, více úrovní služeb, zřizování, udržovatelnosti monitorování a automatizace.</span><span class="sxs-lookup"><span data-stu-id="4e12b-128">As a provider of hello multitenant application, you will also have goals and requirements such as, meeting hello tenants' goals and requirements, profitability, billing, multiple service levels, provisioning, maintainability monitoring, and automation.</span></span>

<span data-ttu-id="4e12b-129">Další informace o další aspekty návrhu víceklientské aplikace najdete v tématu [hostování víceklientské aplikace na platformě Azure][Hosting a Multi-Tenant Application on Azure].</span><span class="sxs-lookup"><span data-stu-id="4e12b-129">For more information on additional design considerations of a multitenant application, see [Hosting a Multi-Tenant Application on Azure][Hosting a Multi-Tenant Application on Azure].</span></span> <span data-ttu-id="4e12b-130">Informace o běžných vzorech architektury dat databázových aplikací softwaru s více tenanty jako služby (SaaS) naleznete v části [Vzory návrhu pro aplikace SaaS s více tenanty s databází Azure SQL Database](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md).</span><span class="sxs-lookup"><span data-stu-id="4e12b-130">For information on common data architecture patterns of multi-tenant software-as-a-service (SaaS) database applications, see [Design Patterns for Multi-tenant SaaS Applications with Azure SQL Database](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md).</span></span> 

<span data-ttu-id="4e12b-131">Azure poskytuje řadu funkcí, které umožňují tooaddress hello klíče problémy vzniklé při návrhu víceklientské systému.</span><span class="sxs-lookup"><span data-stu-id="4e12b-131">Azure provides many features that allow you tooaddress hello key problems encountered when designing a multitenant system.</span></span>

<span data-ttu-id="4e12b-132">**Izolace**</span><span class="sxs-lookup"><span data-stu-id="4e12b-132">**Isolation**</span></span>

* <span data-ttu-id="4e12b-133">Segment webu klienty podle hlavičky hostitele s nebo bez komunikaci prostřednictvím protokolu SSL</span><span class="sxs-lookup"><span data-stu-id="4e12b-133">Segment Website Tenants by Host Headers with or without SSL communication</span></span>
* <span data-ttu-id="4e12b-134">Segment webu klienty podle parametrů dotazu</span><span class="sxs-lookup"><span data-stu-id="4e12b-134">Segment Website Tenants by Query Parameters</span></span>
* <span data-ttu-id="4e12b-135">Webové služby v rolí pracovního procesu</span><span class="sxs-lookup"><span data-stu-id="4e12b-135">Web Services in Worker Roles</span></span>
  * <span data-ttu-id="4e12b-136">Role pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="4e12b-136">Worker Roles.</span></span> <span data-ttu-id="4e12b-137">která se obvykle zpracovávají data v hello back-end aplikace.</span><span class="sxs-lookup"><span data-stu-id="4e12b-137">that typically process data on hello backend of an application.</span></span>
  * <span data-ttu-id="4e12b-138">Webové role, které obvykle fungují jako front-endu hello pro aplikace.</span><span class="sxs-lookup"><span data-stu-id="4e12b-138">Web Roles that typically act as hello frontend for applications.</span></span>

<span data-ttu-id="4e12b-139">**Úložiště**</span><span class="sxs-lookup"><span data-stu-id="4e12b-139">**Storage**</span></span>

<span data-ttu-id="4e12b-140">Správa dat, například služby Azure SQL Database nebo úložiště Azure, jako je hello tabulce službu, která poskytuje služby pro ukládání velkého objemu nestrukturovaných dat a hello služby objektů Blob, který poskytuje služby toostore velké objemy nestrukturovaných textu nebo binární data, jako je například video, zvuk a obrázků.</span><span class="sxs-lookup"><span data-stu-id="4e12b-140">Data management such as Azure SQL Database or Azure Storage services such as hello Table service which provides services for storage of large amounts of unstructured data and hello Blob service which provides services toostore large amounts of unstructured text or binary data such as video, audio and images.</span></span>

* <span data-ttu-id="4e12b-141">Zabezpečení víceklientské Data z databáze SQL odpovídající přihlášení serveru SQL Server za klienta.</span><span class="sxs-lookup"><span data-stu-id="4e12b-141">Securing Multitenant Data in SQL Database appropriate per-tenant SQL Server logins.</span></span>
* <span data-ttu-id="4e12b-142">Pomocí tabulky Azure pro aplikace prostředky tak, že zadáte zásadu úrovně přístupu kontejneru, můžete hello možnost tooadjust oprávnění bez nutnosti tooissue nové adresy URL pro hello prostředky chráněné s podpisy sdíleného přístupu.</span><span class="sxs-lookup"><span data-stu-id="4e12b-142">Using Azure Tables for Application Resources By specifying a container level access policy, you can hello ability tooadjust permissions without having tooissue new URL's for hello resources protected with shared access signatures.</span></span>
* <span data-ttu-id="4e12b-143">Front Azure pro fronty Azure prostředky aplikace jsou běžně používané toodrive zpracování jménem klienty, ale může být také použít toodistribute pracovní nutné pro zřizování nebo správu.</span><span class="sxs-lookup"><span data-stu-id="4e12b-143">Azure Queues for Application Resources Azure queues are commonly used toodrive processing on behalf of tenants, but may also be used toodistribute work required for provisioning or management.</span></span>
* <span data-ttu-id="4e12b-144">Fronty služby Service Bus pro prostředky aplikace této tooa pracovní nabízených oznámení sdílené služby, můžete použít jediné fronty kde každý odesílatele klienta má pouze oprávnění (jako je odvozen od deklarace identity vystavené ze serveru ACS) toopush toothat fronty, při pouze příjemci hello ze služby hello máte oprávnění toopull z hello fronty hello dat pocházejících od víc klientů.</span><span class="sxs-lookup"><span data-stu-id="4e12b-144">Service Bus Queues for Application Resources that pushes work tooa shared a service, you can use a single queue where each tenant sender only has permissions (as derived from claims issued from ACS) toopush toothat queue, while only hello receivers from hello service have permission toopull from hello queue hello data coming from multiple tenants.</span></span>

<span data-ttu-id="4e12b-145">**Připojení a zabezpečení služeb**</span><span class="sxs-lookup"><span data-stu-id="4e12b-145">**Connection and Security Services**</span></span>

* <span data-ttu-id="4e12b-146">Azure Service Bus, která se nachází mezi aplikacemi, což jim tooexchange zprávy volně párované způsobem pro lepší škálování a odolnosti infrastrukturu zasílání zpráv.</span><span class="sxs-lookup"><span data-stu-id="4e12b-146">Azure Service Bus, a messaging infrastructure that sits between applications allowing them tooexchange messages in a loosely coupled way for improved scale and resiliency.</span></span>

<span data-ttu-id="4e12b-147">**Síťové služby**</span><span class="sxs-lookup"><span data-stu-id="4e12b-147">**Networking Services**</span></span>

<span data-ttu-id="4e12b-148">Azure poskytuje několik síťové služby, které podporují ověřování a zlepšit možnosti správy hostovaných aplikací.</span><span class="sxs-lookup"><span data-stu-id="4e12b-148">Azure provides several networking services that support authentication, and improve manageability of your hosted applications.</span></span> <span data-ttu-id="4e12b-149">Tyto služby patří hello následující:</span><span class="sxs-lookup"><span data-stu-id="4e12b-149">These services include hello following:</span></span>

* <span data-ttu-id="4e12b-150">Azure umožňuje virtuální sítě můžete zřizovat a spravovat virtuální privátní sítě (VPN) v Azure stejně jako bezpečně propojit je s místní infrastrukturu IT.</span><span class="sxs-lookup"><span data-stu-id="4e12b-150">Azure Virtual Network lets you provision and manage virtual private networks (VPNs) in Azure as well as securely link these with on-premises IT infrastructure.</span></span>
* <span data-ttu-id="4e12b-151">Správce provozu virtuálních sítí můžete vyrovnávat tooload příchozí provoz napříč více Azure hostované služby, zda používáte systém v hello stejném datovém centru nebo v různých datových centrech kolem hello, world.</span><span class="sxs-lookup"><span data-stu-id="4e12b-151">Virtual Network Traffic Manager allows you tooload balance incoming traffic across multiple hosted Azure services whether they're running in hello same datacenter or across different datacenters around hello world.</span></span>
* <span data-ttu-id="4e12b-152">Azure Active Directory (Azure AD) je moderní, založené na REST služba, která poskytuje funkce řízení správy a přístupu identit pro cloudové aplikace.</span><span class="sxs-lookup"><span data-stu-id="4e12b-152">Azure Active Directory (Azure AD) is a modern, REST-based service that provides identity management and access control capabilities for your cloud applications.</span></span> <span data-ttu-id="4e12b-153">Pomocí služby Azure AD pro prostředky aplikace Azure AD tooprovides snadný způsob ověřování a autorizace uživatelů toogain přístup tooyour webové aplikace a služby současně hello funkce ověřování a autorizace toobe promítnou mimo vaší kód.</span><span class="sxs-lookup"><span data-stu-id="4e12b-153">Using Azure AD for Application Resources Azure AD tooprovides an easy way of authenticating and authorizing users toogain access tooyour web applications and services while allowing hello features of authentication and authorization toobe factored out of your code.</span></span>
* <span data-ttu-id="4e12b-154">Azure Service Bus poskytuje zabezpečené zasílání zpráv a funkce toku dat pro distribuované a hybridní aplikace, jako je komunikace mezi Azure hostované aplikace a místní aplikace a služby, bez nutnosti komplexní brány firewall a zabezpečení infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="4e12b-154">Azure Service Bus provides a secure messaging and data flow capability for distributed and hybrid applications, such as communication between Azure hosted applications and on-premises applications and services, without requiring complex firewall and security infrastructures.</span></span> <span data-ttu-id="4e12b-155">Použití předávání přes Service Bus pro toohello prostředky aplikace služby, které jsou zveřejněné jako koncové body mohou patřit toohello klienta (například hostované mimo hello systému, například místní), nebo mohou být službám zřizovaným speciálně pro klienta (hello protože konkrétního klienta, citlivá data přenášena mezi nimi).</span><span class="sxs-lookup"><span data-stu-id="4e12b-155">Using Service Bus Relay for Application Resources toohello services that are exposed as endpoints may belong toohello tenant (for example, hosted outside of hello system, such as on-premises), or they may be services provisioned specifically for hello tenant (because sensitive, tenant-specific data travels across them).</span></span>

<span data-ttu-id="4e12b-156">**Zřizování prostředků**</span><span class="sxs-lookup"><span data-stu-id="4e12b-156">**Provisioning Resources**</span></span>

<span data-ttu-id="4e12b-157">Azure poskytuje několik způsobů zřídit nové klienty pro aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="4e12b-157">Azure provides a number of ways provision new tenants for hello application.</span></span> <span data-ttu-id="4e12b-158">Pro víceklientské aplikace s velký počet klientů, je obvykle nutné tooautomate, tento proces, pomocí umožňuje samoobslužné zřizování.</span><span class="sxs-lookup"><span data-stu-id="4e12b-158">For multitenant applications with a large number of tenants, it is usually necessary tooautomate this process by enabling self-service provisioning.</span></span>

* <span data-ttu-id="4e12b-159">Role pracovního procesu umožňují tooprovision a deaktivace zřízení za prostředky klienta (například když nový klient přihlásí up nebo zruší), shromažďování metrik pro měření používat a spravovat škálování následující určité plánu nebo v odpovědi toohello překročení prahové hodnoty klíče ukazatele výkonu.</span><span class="sxs-lookup"><span data-stu-id="4e12b-159">Worker roles allow you tooprovision and de-provision per tenant resources (such as when a new tenant signs-up or cancels), collect metrics for metering use, and manage scale following a certain schedule or in response toohello crossing of thresholds of key performance indicators.</span></span> <span data-ttu-id="4e12b-160">Tento stejný atribut role mohou být také použít toopush se aktualizace a upgrady toohello řešení.</span><span class="sxs-lookup"><span data-stu-id="4e12b-160">This same role may also be used toopush out updates and upgrades toohello solution.</span></span>
* <span data-ttu-id="4e12b-161">Azure BLOB může být výpočetní použité tooprovision nebo prostředky předem inicializovaného úložiště pro nové klienty při současném poskytování kontejner přístupu na úrovni zásady tooprotect hello výpočetní služby balíčky, bitové kopie virtuálního pevného disku a dalším prostředkům.</span><span class="sxs-lookup"><span data-stu-id="4e12b-161">Azure Blobs can be used tooprovision compute or pre-initialized storage resources for new tenants while providing container level access policies tooprotect hello compute service Packages, VHD images and other resources.</span></span>
* <span data-ttu-id="4e12b-162">Možnosti pro zřizování prostředků databáze SQL pro klienta:</span><span class="sxs-lookup"><span data-stu-id="4e12b-162">Options for provisioning SQL Database resources for a tenant include:</span></span>
  
  * <span data-ttu-id="4e12b-163">DDL ve skriptech nebo vložené jako prostředky v rámci sestavení</span><span class="sxs-lookup"><span data-stu-id="4e12b-163">DDL in scripts or embedded as resources within assemblies</span></span>
  * <span data-ttu-id="4e12b-164">SQL Server 2008 R2 balíčky DAC nasazené prostřednictvím kódu programu.</span><span class="sxs-lookup"><span data-stu-id="4e12b-164">SQL Server 2008 R2 DAC Packages deployed programmatically.</span></span>
  * <span data-ttu-id="4e12b-165">Kopírování z hlavní referenční databáze</span><span class="sxs-lookup"><span data-stu-id="4e12b-165">Copying from a master reference database</span></span>
  * <span data-ttu-id="4e12b-166">Používání databáze Import a Export tooprovision nové databáze ze souboru.</span><span class="sxs-lookup"><span data-stu-id="4e12b-166">Using database Import and Export tooprovision new databases from a file.</span></span>

<!--links-->

[Hosting a Multi-Tenant Application on Azure]: http://msdn.microsoft.com/library/hh534480.aspx
[Designing Multitenant Applications on Azure]: http://msdn.microsoft.com/library/windowsazure/hh689716
