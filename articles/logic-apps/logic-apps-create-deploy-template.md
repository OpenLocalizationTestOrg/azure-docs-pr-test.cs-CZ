---
title: "aaaCreate nasazení šablon pro Azure Logic Apps | Microsoft Docs"
description: "Vytváření šablon Azure Resource Manageru pro logic apps nasazení a release management"
services: logic-apps
documentationcenter: .net,nodejs,java
author: jeffhollan
manager: anneta
editor: 
ms.assetid: 85928ec6-d7cb-488e-926e-2e5db89508ee
ms.service: logic-apps
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.custom: H1Hack27Feb2017
ms.date: 10/18/2016
ms.author: LADocs; jehollan
ms.openlocfilehash: 2f09445f10a376a745d6acbba94ca29d5f79fc09
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="create-templates-for-logic-apps-deployment-and-release-management"></a><span data-ttu-id="93ba3-103">Vytvoření šablon pro logic apps nasazení a release management</span><span class="sxs-lookup"><span data-stu-id="93ba3-103">Create templates for logic apps deployment and release management</span></span>

<span data-ttu-id="93ba3-104">Po vytvoření aplikace logiky můžete chtít toocreate jej jako šablonu Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="93ba3-104">After a logic app has been created, you might want toocreate it as an Azure Resource Manager template.</span></span>
<span data-ttu-id="93ba3-105">Tímto způsobem můžete snadno nasadit hello logiku aplikace tooany prostředí nebo skupinu prostředků, kde je může být nutné.</span><span class="sxs-lookup"><span data-stu-id="93ba3-105">This way, you can easily deploy hello logic app tooany environment or resource group where you might need it.</span></span>
<span data-ttu-id="93ba3-106">Další informace o šablonách Resource Manager najdete v tématu [vytváření šablon Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md) a [nasazení prostředků pomocí šablony Azure Resource Manager](../azure-resource-manager/resource-group-template-deploy.md).</span><span class="sxs-lookup"><span data-stu-id="93ba3-106">For more about Resource Manager templates, see [authoring Azure Resource Manager templates](../azure-resource-manager/resource-group-authoring-templates.md) and [deploying resources by using Azure Resource Manager templates](../azure-resource-manager/resource-group-template-deploy.md).</span></span>

## <a name="logic-app-deployment-template"></a><span data-ttu-id="93ba3-107">Šablona nasazení aplikace logiky</span><span class="sxs-lookup"><span data-stu-id="93ba3-107">Logic app deployment template</span></span>

<span data-ttu-id="93ba3-108">Aplikace logiky má tři základní součásti:</span><span class="sxs-lookup"><span data-stu-id="93ba3-108">A logic app has three basic components:</span></span>

* <span data-ttu-id="93ba3-109">**Prostředek aplikace logiky**: obsahuje informace o třeba ceny plán, umístění a hello Definice pracovního postupu.</span><span class="sxs-lookup"><span data-stu-id="93ba3-109">**Logic app resource**: Contains information about things like pricing plan, location, and hello workflow definition.</span></span>
* <span data-ttu-id="93ba3-110">**Definice pracovního postupu**: popisuje kroky pracovního postupu a jak modul Logic Apps hello by měla spustit pracovní postup hello svou aplikaci logiky.</span><span class="sxs-lookup"><span data-stu-id="93ba3-110">**Workflow definition**: Describes your logic app's workflow steps and how hello Logic Apps engine should execute hello workflow.</span></span>
<span data-ttu-id="93ba3-111">V aplikaci logiky můžete zobrazit tuto definici **zobrazení kódu** okno.</span><span class="sxs-lookup"><span data-stu-id="93ba3-111">You can view this definition in your logic app's **Code View** window.</span></span>
<span data-ttu-id="93ba3-112">V hello prostředků aplikace logiky, můžete tuto definici najít v hello `definition` vlastnost.</span><span class="sxs-lookup"><span data-stu-id="93ba3-112">In hello logic app resource, you can find this definition in hello `definition` property.</span></span>
* <span data-ttu-id="93ba3-113">**Připojení**: odkazuje tooseparate prostředky, které bezpečně uložit metadata o všechna připojení konektoru, jako je například připojovací řetězec a přístupový token.</span><span class="sxs-lookup"><span data-stu-id="93ba3-113">**Connections**: Refers tooseparate resources that securely store metadata about any connector connections, such as a connection string and an access token.</span></span>
<span data-ttu-id="93ba3-114">V hello prostředků aplikace logiky, aplikaci logiky odkazuje na tyto prostředky v hello `parameters` části.</span><span class="sxs-lookup"><span data-stu-id="93ba3-114">In hello logic app resource, your logic app references these resources in hello `parameters` section.</span></span>

<span data-ttu-id="93ba3-115">Všechny tyto údaje existující aplikace logiky můžete zobrazit pomocí některého nástroje, například [Průzkumníka prostředků Azure](http://resources.azure.com).</span><span class="sxs-lookup"><span data-stu-id="93ba3-115">You can view all these pieces of existing logic apps by using a tool like [Azure Resource Explorer](http://resources.azure.com).</span></span>

<span data-ttu-id="93ba3-116">toomake šablonu pro toouse aplikaci logiky s nasazením skupin prostředků, je nutné definovat hello prostředky a Parametrizace podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="93ba3-116">toomake a template for a logic app toouse with resource group deployments, you must define hello resources and parameterize as needed.</span></span>
<span data-ttu-id="93ba3-117">Například Pokud nasazujete tooa vývoj, testování a provozním prostředí, pravděpodobně chcete toouse jiným připojením řetězce tooa SQL database v každé prostředí.</span><span class="sxs-lookup"><span data-stu-id="93ba3-117">For example, if you're deploying tooa development, test, and production environment, you likely want toouse different connection strings tooa SQL database in each environment.</span></span>
<span data-ttu-id="93ba3-118">Nebo můžete chtít toodeploy v rámci různých předplatných nebo skupiny prostředků.</span><span class="sxs-lookup"><span data-stu-id="93ba3-118">Or, you might want toodeploy within different subscriptions or resource groups.</span></span>  

## <a name="create-a-logic-app-deployment-template"></a><span data-ttu-id="93ba3-119">Vytvoření šablony nasazení aplikace logiky</span><span class="sxs-lookup"><span data-stu-id="93ba3-119">Create a logic app deployment template</span></span>

<span data-ttu-id="93ba3-120">Nejjednodušší způsob, jak toohave Hello šablony nasazení platný logiku aplikace je toouse [Visual Studio Tools for Logic Apps](logic-apps-deploy-from-vs.md).</span><span class="sxs-lookup"><span data-stu-id="93ba3-120">hello easiest way toohave a valid logic app deployment template is toouse the [Visual Studio Tools for Logic Apps](logic-apps-deploy-from-vs.md).</span></span>
<span data-ttu-id="93ba3-121">Nástroje sady Visual Studio Hello vytvořit šablonu platný nasazení, který lze použít v rámci žádné předplatné nebo umístění.</span><span class="sxs-lookup"><span data-stu-id="93ba3-121">hello Visual Studio tools generate a valid deployment template that can be used across any subscription or location.</span></span>

<span data-ttu-id="93ba3-122">Několik dalších nástrojů vám může pomoci při vytváření šablony nasazení aplikace logiky.</span><span class="sxs-lookup"><span data-stu-id="93ba3-122">A few other tools can assist you as you create a logic app deployment template.</span></span>
<span data-ttu-id="93ba3-123">Můžete vytvářet ručně, který je pomocí hello prostředky již tady popisovaných toocreate parametry podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="93ba3-123">You can author by hand, that is, by using hello resources already discussed here toocreate parameters as needed.</span></span>
<span data-ttu-id="93ba3-124">Další možností je toouse [creator šablona aplikace logiky](https://github.com/jeffhollan/LogicAppTemplateCreator) modul prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="93ba3-124">Another option is toouse a [logic app template creator](https://github.com/jeffhollan/LogicAppTemplateCreator) PowerShell module.</span></span> <span data-ttu-id="93ba3-125">Tento modul open-source nejprve vyhodnotí aplikace logiky hello a všechna připojení, používá a poté generuje prostředků šablony s hello potřebné parametry pro nasazení.</span><span class="sxs-lookup"><span data-stu-id="93ba3-125">This open-source module first evaluates hello logic app and any connections that it is using, and then generates template resources with hello necessary parameters for deployment.</span></span>
<span data-ttu-id="93ba3-126">Například pokud máte aplikace logiky, která přijímá zprávy z fronty služby Azure Service Bus a přidá data tooan Azure SQL database, nástroj hello zachovává veškerou logiku hello orchestration a parameterizes hello SQL a sběrnice připojovací řetězce, takže můžete nastavit v nasazení.</span><span class="sxs-lookup"><span data-stu-id="93ba3-126">For example, if you have a logic app that receives a message from an Azure Service Bus queue and adds data tooan Azure SQL database, hello tool preserves all hello orchestration logic and parameterizes hello SQL and Service Bus connection strings so that they can be set at deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="93ba3-127">Připojení musí být v rámci hello stejné skupině prostředků jako aplikace logiky hello.</span><span class="sxs-lookup"><span data-stu-id="93ba3-127">Connections must be within hello same resource group as hello logic app.</span></span>
>
>

### <a name="install-hello-logic-app-template-powershell-module"></a><span data-ttu-id="93ba3-128">Nainstalujte modul prostředí PowerShell šablona aplikace logiky hello</span><span class="sxs-lookup"><span data-stu-id="93ba3-128">Install hello logic app template PowerShell module</span></span>
<span data-ttu-id="93ba3-129">Hello nejjednodušší způsob, jak tooinstall hello modul je prostřednictvím hello [Galerie prostředí PowerShell](https://www.powershellgallery.com/packages/LogicAppTemplate/0.1), pomocí příkazu hello `Install-Module -Name LogicAppTemplate`.</span><span class="sxs-lookup"><span data-stu-id="93ba3-129">hello easiest way tooinstall hello module is via hello [PowerShell Gallery](https://www.powershellgallery.com/packages/LogicAppTemplate/0.1), by using hello command `Install-Module -Name LogicAppTemplate`.</span></span>  

<span data-ttu-id="93ba3-130">Také můžete nainstalovat modul prostředí PowerShell hello ručně:</span><span class="sxs-lookup"><span data-stu-id="93ba3-130">You also can install hello PowerShell module manually:</span></span>

1. <span data-ttu-id="93ba3-131">Stáhněte si nejnovější verzi hello hello [creator šablona aplikace logiky](https://github.com/jeffhollan/LogicAppTemplateCreator/releases).</span><span class="sxs-lookup"><span data-stu-id="93ba3-131">Download hello latest release of hello [logic app template creator](https://github.com/jeffhollan/LogicAppTemplateCreator/releases).</span></span>  
2. <span data-ttu-id="93ba3-132">Extrakci hello složku ve složce modulu PowerShell (obvykle `%UserProfile%\Documents\WindowsPowerShell\Modules`).</span><span class="sxs-lookup"><span data-stu-id="93ba3-132">Extract hello folder in your PowerShell module folder (usually `%UserProfile%\Documents\WindowsPowerShell\Modules`).</span></span>

<span data-ttu-id="93ba3-133">Pro modul toowork hello žádné klienta a předplatné přístup tokenu, doporučujeme použít s hello [ARMClient](https://github.com/projectkudu/ARMClient) nástroj příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="93ba3-133">For hello module toowork with any tenant and subscription access token, we recommend that you use it with hello [ARMClient](https://github.com/projectkudu/ARMClient) command-line tool.</span></span>  <span data-ttu-id="93ba3-134">To [příspěvku na blogu](http://blog.davidebbo.com/2015/01/azure-resource-manager-client.html) popisuje ARMClient podrobněji.</span><span class="sxs-lookup"><span data-stu-id="93ba3-134">This [blog post](http://blog.davidebbo.com/2015/01/azure-resource-manager-client.html) discusses ARMClient in more detail.</span></span>

### <a name="generate-a-logic-app-template-by-using-powershell"></a><span data-ttu-id="93ba3-135">Generovat šablonu aplikace logiky pomocí prostředí PowerShell</span><span class="sxs-lookup"><span data-stu-id="93ba3-135">Generate a logic app template by using PowerShell</span></span>
<span data-ttu-id="93ba3-136">Po instalaci prostředí PowerShell můžete vygenerovat šablonu pomocí hello následující příkaz:</span><span class="sxs-lookup"><span data-stu-id="93ba3-136">After PowerShell is installed, you can generate a template by using hello following command:</span></span>

`armclient token $SubscriptionId | Get-LogicAppTemplate -LogicApp MyApp -ResourceGroup MyRG -SubscriptionId $SubscriptionId -Verbose | Out-File C:\template.json`

<span data-ttu-id="93ba3-137">`$SubscriptionId`je ID hello předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="93ba3-137">`$SubscriptionId` is hello Azure subscription ID.</span></span> <span data-ttu-id="93ba3-138">Tento řádek nejprve získá přístupový token prostřednictvím ARMClient, potom prostřednictvím kanálu předá ji prostřednictvím toohello skript prostředí PowerShell a potom vytvoří šablonu hello v souboru JSON.</span><span class="sxs-lookup"><span data-stu-id="93ba3-138">This line first gets an access token via ARMClient, then pipes it through toohello PowerShell script, and then creates hello template in a JSON file.</span></span>

## <a name="add-parameters-tooa-logic-app-template"></a><span data-ttu-id="93ba3-139">Přidání parametrů tooa logiku aplikace šablony</span><span class="sxs-lookup"><span data-stu-id="93ba3-139">Add parameters tooa logic app template</span></span>
<span data-ttu-id="93ba3-140">Po vytvoření šablony aplikace logiky, můžete pokračovat tooadd nebo upravte parametry, které může být nutné.</span><span class="sxs-lookup"><span data-stu-id="93ba3-140">After you create your logic app template, you can continue tooadd or modify parameters that you might need.</span></span> <span data-ttu-id="93ba3-141">Například pokud vaše definice obsahuje tooan ID prostředku Azure funkci nebo vnořený pracovní postup, abyste naplánovali toodeploy v jednom nasazení, můžete přidat další prostředky tooyour šablonu a Parametrizace ID podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="93ba3-141">For example, if your definition includes a resource ID tooan Azure function or nested workflow that you plan toodeploy in a single deployment, you can add more resources tooyour template and parameterize IDs as needed.</span></span> <span data-ttu-id="93ba3-142">Hello totéž platí i tooany odkazy toocustom rozhraní API nebo Swagger koncových bodů očekávat toodeploy s každé skupině prostředků.</span><span class="sxs-lookup"><span data-stu-id="93ba3-142">hello same applies tooany references toocustom APIs or Swagger endpoints you expect toodeploy with each resource group.</span></span>

## <a name="deploy-a-logic-app-template"></a><span data-ttu-id="93ba3-143">Nasazení šablony aplikace logiky</span><span class="sxs-lookup"><span data-stu-id="93ba3-143">Deploy a logic app template</span></span>

<span data-ttu-id="93ba3-144">Šablony můžete nasadit pomocí všechny nástroje, například prostředí PowerShell, REST API, [Visual Studio Team Services Release Management](#team-services)a nasazení šablony prostřednictvím hello portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="93ba3-144">You can deploy your template by using any tools like PowerShell, REST API, [Visual Studio Team Services Release Management](#team-services), and template deployment through hello Azure portal.</span></span>
<span data-ttu-id="93ba3-145">Navíc toostore hello hodnoty parametrů, doporučujeme, abyste vytvořili [soubor parametrů](../azure-resource-manager/resource-group-template-deploy.md#parameter-files).</span><span class="sxs-lookup"><span data-stu-id="93ba3-145">Also, toostore hello values for parameters, we recommend that you create a [parameter file](../azure-resource-manager/resource-group-template-deploy.md#parameter-files).</span></span>
<span data-ttu-id="93ba3-146">Zjistěte, jak příliš[nasazení prostředků pomocí šablony Azure Resource Manageru a prostředí PowerShell](../azure-resource-manager/resource-group-template-deploy.md) nebo [nasazení prostředků pomocí šablony Azure Resource Manager a hello portál Azure](../azure-resource-manager/resource-group-template-deploy-portal.md).</span><span class="sxs-lookup"><span data-stu-id="93ba3-146">Learn how too[deploy resources with Azure Resource Manager templates and PowerShell](../azure-resource-manager/resource-group-template-deploy.md) or [deploy resources with Azure Resource Manager templates and hello Azure portal](../azure-resource-manager/resource-group-template-deploy-portal.md).</span></span>

### <a name="authorize-oauth-connections"></a><span data-ttu-id="93ba3-147">Autorizaci OAuth připojení</span><span class="sxs-lookup"><span data-stu-id="93ba3-147">Authorize OAuth connections</span></span>

<span data-ttu-id="93ba3-148">Po nasazení aplikace logiky hello funguje začátku do konce s platné parametry.</span><span class="sxs-lookup"><span data-stu-id="93ba3-148">After deployment, hello logic app works end-to-end with valid parameters.</span></span>
<span data-ttu-id="93ba3-149">Však musí povolit stále OAuth připojení toogenerate token platný přístup.</span><span class="sxs-lookup"><span data-stu-id="93ba3-149">However, you must still authorize OAuth connections toogenerate a valid access token.</span></span>
<span data-ttu-id="93ba3-150">připojení tooauthorize OAuth, otevřete aplikaci logiky hello v hello návrhář aplikace logiky a autorizaci těchto připojení.</span><span class="sxs-lookup"><span data-stu-id="93ba3-150">tooauthorize OAuth connections, open hello logic app in hello Logic Apps Designer, and authorize these connections.</span></span> <span data-ttu-id="93ba3-151">Nebo pro automatické nasazení, můžete použít skriptu tooconsent tooeach OAuth připojení.</span><span class="sxs-lookup"><span data-stu-id="93ba3-151">Or for automated deployment, you can use a script tooconsent tooeach OAuth connection.</span></span>
<span data-ttu-id="93ba3-152">Na Githubu v části je ukázkový skript [LogicAppConnectionAuth](https://github.com/logicappsio/LogicAppConnectionAuth) projektu.</span><span class="sxs-lookup"><span data-stu-id="93ba3-152">There's an example script on GitHub under the [LogicAppConnectionAuth](https://github.com/logicappsio/LogicAppConnectionAuth) project.</span></span>

<a name="team-services"></a>
## <a name="visual-studio-team-services-release-management"></a><span data-ttu-id="93ba3-153">Visual Studio Team Services Release Management</span><span class="sxs-lookup"><span data-stu-id="93ba3-153">Visual Studio Team Services Release Management</span></span>

<span data-ttu-id="93ba3-154">Běžný scénář pro nasazení a správu prostředí je toouse nástroje, jako je správa verzí ve Visual Studio Team Services, pomocí šablony nasazení aplikace logiky.</span><span class="sxs-lookup"><span data-stu-id="93ba3-154">A common scenario for deploying and managing an environment is toouse a tool like Release Management in Visual Studio Team Services, with a logic app deployment template.</span></span> <span data-ttu-id="93ba3-155">Visual Studio Team Services zahrnuje [nasazení skupiny prostředků Azure](https://github.com/Microsoft/vsts-tasks/tree/master/Tasks/DeployAzureResourceGroup) úloh můžete přidat tooany sestavení nebo verzi kanálu.</span><span class="sxs-lookup"><span data-stu-id="93ba3-155">Visual Studio Team Services includes a [Deploy Azure Resource Group](https://github.com/Microsoft/vsts-tasks/tree/master/Tasks/DeployAzureResourceGroup) task that you can add tooany build or release pipeline.</span></span> <span data-ttu-id="93ba3-156">Je třeba toohave [instanční objekt](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/) pro autorizaci toodeploy a pak může generovat hello verze definice.</span><span class="sxs-lookup"><span data-stu-id="93ba3-156">You need toohave a [service principal](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/) for authorization toodeploy, and then you can generate hello release definition.</span></span>

1. <span data-ttu-id="93ba3-157">Správa verzí, vyberte **prázdný** tak, aby vytvořit prázdnou definici.</span><span class="sxs-lookup"><span data-stu-id="93ba3-157">In Release Management, select **Empty** so that you create an empty definition.</span></span>

    ![Vytvořte prázdnou definici][1]

2. <span data-ttu-id="93ba3-159">Vyberte všechny prostředky, které potřebujete k této, pravděpodobně včetně hello logiku aplikace šablony, která je generována ručně nebo jako součást hello proces sestavení.</span><span class="sxs-lookup"><span data-stu-id="93ba3-159">Choose any resources you need for this, most likely including hello logic app template that is generated manually or as part of hello build process.</span></span>
3. <span data-ttu-id="93ba3-160">Přidat **nasazení skupiny prostředků Azure** úloh.</span><span class="sxs-lookup"><span data-stu-id="93ba3-160">Add an **Azure Resource Group Deployment** task.</span></span>
4. <span data-ttu-id="93ba3-161">Nakonfigurovat [instanční objekt](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/)a odkazovat hello šablony a parametry šablony soubory.</span><span class="sxs-lookup"><span data-stu-id="93ba3-161">Configure with a [service principal](https://blogs.msdn.microsoft.com/visualstudioalm/2015/10/04/automating-azure-resource-group-deployment-using-a-service-principal-in-visual-studio-online-buildrelease-management/), and reference hello Template and Template Parameters files.</span></span>
5. <span data-ttu-id="93ba3-162">Toobuild kroky pokračujte v procesu hello verze pro všechny prostředí, automatizovaných testů nebo schvalovatelů podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="93ba3-162">Continue toobuild out steps in hello release process for any other environment, automated test, or approvers as needed.</span></span>

<!-- Image References -->
[1]: ./media/logic-apps-create-deploy-template/emptyreleasedefinition.png
