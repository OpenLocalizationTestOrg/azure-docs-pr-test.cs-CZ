---
title: aaaApplication Insights pro Azure Cloud Services | Microsoft Docs
description: "Efektivní sledování webových rolí a rolí pracovních procesů s využitím Application Insights"
services: application-insights
documentationcenter: 
keywords: WAD2AI, diagnostika Azure
author: CFreemanwa
manager: carmonm
editor: alancameronwills
ms.assetid: 5c7a5b34-329e-42b7-9330-9dcbb9ff1f88
ms.service: application-insights
ms.devlang: na
ms.tgt_pltfrm: ibiza
ms.topic: get-started-article
ms.workload: tbd
ms.date: 05/05/2017
ms.author: bwren
ms.openlocfilehash: 6956ce423eea1e2cf387bd98250bae32d9501ed0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="application-insights-for-azure-cloud-services"></a><span data-ttu-id="bc6b5-104">Application Insights pro Azure Cloud Services</span><span class="sxs-lookup"><span data-stu-id="bc6b5-104">Application Insights for Azure Cloud Services</span></span>
<span data-ttu-id="bc6b5-105">U [aplikací cloudových služeb Microsoft Azure](https://azure.microsoft.com/services/cloud-services/) lze pomocí služby [Application Insights][start] sledovat dostupnost, výkon, chyby a využití díky kombinování dat ze sad SDK služby Application Insights a dat [diagnostiky Azure](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) z vašich cloudových služeb.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-105">[Microsoft Azure Cloud service apps](https://azure.microsoft.com/services/cloud-services/) can be monitored by [Application Insights][start] for availability, performance, failures, and usage by combining data from Application Insights' SDKs with [Azure Diagnotics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) data from your Cloud Services.</span></span> <span data-ttu-id="bc6b5-106">S hello zpětnou vazbu, které máte o hello výkon a efektivitu aplikace v rámci hello divoký můžete provést informované volby o hello směr hello návrhu v každé životního cyklu.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-106">With hello feedback you get about hello performance and effectiveness of your app in hello wild, you can make informed choices about hello direction of hello design in each development lifecycle.</span></span>

![Příklad](./media/app-insights-cloudservices/sample.png)

## <a name="before-you-start"></a><span data-ttu-id="bc6b5-108">Než začnete</span><span class="sxs-lookup"><span data-stu-id="bc6b5-108">Before you start</span></span>
<span data-ttu-id="bc6b5-109">Budete potřebovat:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-109">You'll need:</span></span>

* <span data-ttu-id="bc6b5-110">Předplatné [Microsoft Azure](http://azure.com).</span><span class="sxs-lookup"><span data-stu-id="bc6b5-110">A subscription with [Microsoft Azure](http://azure.com).</span></span> <span data-ttu-id="bc6b5-111">Přihlaste se pomocí účtu Microsoft, který můžete mít zřízen pro Windows, XBox Live nebo jiné cloudové služby Microsoftu.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-111">Sign in with a Microsoft account, which you might have for Windows, XBox Live, or other Microsoft cloud services.</span></span> 
* <span data-ttu-id="bc6b5-112">Nástroje Microsoft Azure 2.9 nebo novější</span><span class="sxs-lookup"><span data-stu-id="bc6b5-112">Microsoft Azure tools 2.9 or later</span></span>
* <span data-ttu-id="bc6b5-113">Developer Analytics Tools 7.10 nebo novější</span><span class="sxs-lookup"><span data-stu-id="bc6b5-113">Developer Analytics Tools 7.10 or later</span></span>

## <a name="quick-start"></a><span data-ttu-id="bc6b5-114">Rychlý start</span><span class="sxs-lookup"><span data-stu-id="bc6b5-114">Quick start</span></span>
<span data-ttu-id="bc6b5-115">Hello toomonitor nejrychlejší a nejjednodušší způsob, cloudové služby s nástrojem Application Insights je toochoose, která možnost při publikování tooAzure vaší služby.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-115">hello quickest and easiest way toomonitor your cloud service with Application Insights is toochoose that option when you publish your service tooAzure.</span></span>

![Příklad](./media/app-insights-cloudservices/azure-cloud-application-insights.png)

<span data-ttu-id="bc6b5-117">Tato možnost instruments aplikace za běhu, která poskytuje všechny telemetrická hello budete potřebovat toomonitor požadavky, výjimky a závislosti ve vaší webové role a také výkonu čítače z vaší rolí pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-117">This option instruments your app at run time, giving you all hello telemetry you need toomonitor requests, exceptions, and dependencies in your web role, as well as performance counters from your worker roles.</span></span> <span data-ttu-id="bc6b5-118">Všechny diagnostické trasování, vygeneruje aplikace jsou odesílány také tooApplication statistiky.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-118">Any diagnostic traces generated by your app are also sent tooApplication Insights.</span></span>

<span data-ttu-id="bc6b5-119">Pokud to je všechno, co potřebujete, jste hotovi!</span><span class="sxs-lookup"><span data-stu-id="bc6b5-119">If that's all you need, you're done!</span></span> <span data-ttu-id="bc6b5-120">Dalšími kroky jsou [zobrazení metrik z aplikace](app-insights-metrics-explorer.md), [zadávání dotazů na data pomocí Analytics](app-insights-analytics.md) a případně i nastavení [řídicího panelu](app-insights-dashboards.md).</span><span class="sxs-lookup"><span data-stu-id="bc6b5-120">Next steps are [viewing metrics from your app](app-insights-metrics-explorer.md), [querying your data with Analytics](app-insights-analytics.md), and maybe setting up a [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="bc6b5-121">Můžete chtít tooset až [testy dostupnosti](app-insights-monitor-web-app-availability.md) a [přidat kód tooyour webové stránky](app-insights-javascript.md) toomonitor výkonu v prohlížeči hello.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-121">You might want tooset up [availability tests](app-insights-monitor-web-app-availability.md) and [add code tooyour web pages](app-insights-javascript.md) toomonitor performance in hello browser.</span></span>

<span data-ttu-id="bc6b5-122">Můžete ovšem využívat i další možnosti:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-122">But you can also get more options:</span></span>

* <span data-ttu-id="bc6b5-123">Odesílání dat z různých součástí a konfigurace sestavení tooseparate prostředky.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-123">Send data from different components and build configurations tooseparate resources.</span></span>
* <span data-ttu-id="bc6b5-124">Přidání vlastní telemetrie ze své aplikace.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-124">Add custom telemetry from your app.</span></span>

<span data-ttu-id="bc6b5-125">Pokud tyto možnosti jsou tooyou zájmu, přečtěte si.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-125">If those options are of interest tooyou, read on.</span></span>

## <a name="sample-application-instrumented-with-application-insights"></a><span data-ttu-id="bc6b5-126">Ukázková aplikace používaná s Application Insights</span><span class="sxs-lookup"><span data-stu-id="bc6b5-126">Sample Application instrumented with Application Insights</span></span>
<span data-ttu-id="bc6b5-127">Podívejte se na to [ukázkové aplikace](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) Application Insights ve kterém se přidá tooa cloudové služby s dvě role pracovního procesu, které jsou hostované v Azure.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-127">Take a look at this [sample application](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) in which Application Insights is added tooa cloud service with two worker roles hosted in Azure.</span></span> 

<span data-ttu-id="bc6b5-128">Co následuje se dozvíte, jak tooadapt cloudové služby projektu v hello stejným způsobem.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-128">What follows tells you how tooadapt your own cloud service project in hello same way.</span></span>

## <a name="plan-resources-and-resource-groups"></a><span data-ttu-id="bc6b5-129">Plánování prostředků a skupin prostředků</span><span class="sxs-lookup"><span data-stu-id="bc6b5-129">Plan resources and resource groups</span></span>
<span data-ttu-id="bc6b5-130">Hello telemetrie z vaší aplikace uložené, analyzovat a zobrazit v Azure prostředek typu Application Insights.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-130">hello telemetry from your app is stored, analyzed and displayed in an Azure resource of type Application Insights.</span></span> 

<span data-ttu-id="bc6b5-131">Každý prostředek patří tooa skupinu prostředků.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-131">Each resource belongs tooa resource group.</span></span> <span data-ttu-id="bc6b5-132">Skupiny prostředků se používají pro správu nákladů pro udělení přístupu členů tooteam a toodeploy aktualizace v jediné koordinované transakce.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-132">Resource groups are used for managing costs, for granting access tooteam members, and toodeploy updates in a single coordinated transaction.</span></span> <span data-ttu-id="bc6b5-133">Například může [zápisu skriptu toodeploy](../azure-resource-manager/resource-group-template-deploy.md) cloudové služby Azure a jeho sledování prostředků všechny v rámci jedné operace Application Insights.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-133">For example, you could [write a script toodeploy](../azure-resource-manager/resource-group-template-deploy.md) an Azure Cloud Service and its Application Insights monitoring resources all in one operation.</span></span>

### <a name="resources-for-components"></a><span data-ttu-id="bc6b5-134">Prostředky pro komponenty</span><span class="sxs-lookup"><span data-stu-id="bc6b5-134">Resources for components</span></span>
<span data-ttu-id="bc6b5-135">Hello doporučoval schéma je toocreate samostatné prostředků pro jednotlivé součásti aplikace – tj, každou webovou roli a roli pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-135">hello recommended scheme is toocreate a separate resource for each component of your application - that is, each web role and worker role.</span></span> <span data-ttu-id="bc6b5-136">Můžete analyzovat jednotlivé komponenty samostatně, ale můžete vytvořit [řídicí panel](app-insights-dashboards.md) který spojuje klíče grafy hello z všechny součásti hello tak, aby můžete porovnat a monitorovat je společně.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-136">You can analyze each component separately, but can create a [dashboard](app-insights-dashboards.md) that brings together hello key charts from all hello components, so that you can compare and monitor them together.</span></span> 

<span data-ttu-id="bc6b5-137">Alternativní schéma je toosend hello telemetrie z více než jednu roli toohello stejný prostředek, ale [přidat položku dimenze vlastnost tooeach telemetrie](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) identifikující jeho zdrojovou roli.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-137">An alternative scheme is toosend hello telemetry from more than one role toohello same resource, but [add a dimension property tooeach telemetry item](app-insights-api-filtering-sampling.md#add-properties-itelemetryinitializer) that identifies its source role.</span></span> <span data-ttu-id="bc6b5-138">V tomto schématu metriky grafů, jako je například výjimky normálně zobrazit agregaci hello počty z hello různé role, ale můžete rozdělit hello grafu pomocí hello identifikátor role v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-138">In this scheme, metric charts such as exceptions normally show an aggregation of hello counts from hello different roles, but you can segment hello chart by hello role identifier when required.</span></span> <span data-ttu-id="bc6b5-139">Hledání můžete také filtrovat podle hello stejné dimenze.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-139">Searches can also be filtered by hello same dimension.</span></span> <span data-ttu-id="bc6b5-140">Díky této alternativní je trochu snazší tooview vše na hello stejný čas, ale může také vést toosome nejasnosti mezi rolemi hello.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-140">This alternative makes it a bit easier tooview everything at hello same time, but could also lead toosome confusion between hello roles.</span></span>

<span data-ttu-id="bc6b5-141">Telemetrie prohlížeče je obvykle součástí hello stejného zdroje jako jeho webové serverové role.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-141">Browser telemetry is usually included in hello same resource as its server-side web role.</span></span>

<span data-ttu-id="bc6b5-142">Uveďte hello prostředky Application Insights pro různé součásti hello v jedné skupině prostředků.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-142">Put hello Application Insights resources for hello different components in one resource group.</span></span> <span data-ttu-id="bc6b5-143">Díky tomu snadno toomanage je společně.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-143">This makes it easy toomanage them together.</span></span> 

### <a name="separating-development-test-and-production"></a><span data-ttu-id="bc6b5-144">Oddělení vývoje, testování a provozu</span><span class="sxs-lookup"><span data-stu-id="bc6b5-144">Separating development, test, and production</span></span>
<span data-ttu-id="bc6b5-145">Pokud vyvíjíte vlastních událostí pro vaše další funkce, když hello předchozí verze za provozu, budete chtít toosend hello vývoj telemetrie tooa samostatné prostředek Application Insights.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-145">If you are developing custom events for your next feature while hello previous version is live, you want toosend hello development telemetry tooa separate Application Insights resource.</span></span> <span data-ttu-id="bc6b5-146">V opačném případě bude pevný toofind telemetrie testovací mezi všechny hello provoz z hello živý web.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-146">Otherwise it will be hard toofind your test telemetry among all hello traffic from hello live site.</span></span>

<span data-ttu-id="bc6b5-147">tooavoid této situaci se vytvořit samostatné prostředky pro každou konfiguraci sestavení nebo 'razítko' (vývoj, testovací, výroby,...) vašeho systému.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-147">tooavoid this situation, create separate resources for each build configuration or 'stamp' (development, test, production, ...) of your system.</span></span> <span data-ttu-id="bc6b5-148">Uveďte hello prostředky pro každou konfiguraci sestavení do skupiny samostatné prostředků.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-148">Put hello resources for each build configuration in a separate resource group.</span></span> 

<span data-ttu-id="bc6b5-149">toosend hello telemetrie toohello odpovídající prostředky, které můžete nastavit hello Application Insights SDK tak, aby ho převezme jiný instrumentace klíč v závislosti na konfiguraci sestavení hello.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-149">toosend hello telemetry toohello appropriate resources, you can set up hello Application Insights SDK so that it picks up a different instrumentation key depending on hello build configuration.</span></span> 

## <a name="create-an-application-insights-resource-for-each-role"></a><span data-ttu-id="bc6b5-150">Vytvoření prostředku Application Insights pro každou roli</span><span class="sxs-lookup"><span data-stu-id="bc6b5-150">Create an Application Insights resource for each role</span></span>
<span data-ttu-id="bc6b5-151">Pokud jste se rozhodli toocreate samostatné prostředků pro každou roli - a případně samostatné nastavit pro každé sestavení konfigurace – pak je nejjednodušší toocreate je vše na portál Application Insights hello.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-151">If you've decided toocreate a separate resource for each role - and perhaps a separate set for each build configuration - then it's easiest toocreate them all in hello Application Insights portal.</span></span> <span data-ttu-id="bc6b5-152">(Pokud vytvoříte mnoho prostředků, můžete [automatizovat proces hello](app-insights-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="bc6b5-152">(If you create resources a lot, you can [automate hello process](app-insights-powershell.md).</span></span>

1. <span data-ttu-id="bc6b5-153">V hello [portál Azure][portal], vytvořte nový prostředek Application Insights.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-153">In hello [Azure portal][portal], create a new Application Insights resource.</span></span> <span data-ttu-id="bc6b5-154">Jako typ aplikace vyberte aplikaci ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-154">For application type, choose ASP.NET app.</span></span> 

    ![Klikněte na tlačítko Nový, Application Insights](./media/app-insights-cloudservices/01-new.png)
2. <span data-ttu-id="bc6b5-156">Všimněte si, že každý prostředek je identifikován instrumentačním klíčem.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-156">Note that each resource is identified by an Instrumentation Key.</span></span> <span data-ttu-id="bc6b5-157">Pokud chcete, aby toomanually to může být nutné později nastavte nebo zkontrolujte konfiguraci hello hello SDK.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-157">You might need this later if you want toomanually configure or verify hello configuration of hello SDK.</span></span>

    ![Klikněte na tlačítko Vlastnosti, vyberte klíč hello a stiskněte ctrl + C](./media/app-insights-cloudservices/02-props.png) 

## <a name="set-up-azure-diagnostics-for-each-role"></a><span data-ttu-id="bc6b5-159">Nastavení diagnostiky Azure pro každou roli</span><span class="sxs-lookup"><span data-stu-id="bc6b5-159">Set up Azure Diagnostics for each role</span></span>
<span data-ttu-id="bc6b5-160">Nastavte tuto možnost toomonitor vaší aplikace pomocí Application Insights.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-160">Set this option toomonitor your app with Application Insights.</span></span> <span data-ttu-id="bc6b5-161">V případě webových rolí tento postup umožňuje monitorování, výstrahy a diagnostiku výkonu a také analýzu využití.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-161">For web roles, this provides performance monitoring, alerts, and diagnostics, as well as usage analysis.</span></span> <span data-ttu-id="bc6b5-162">Pro jiné role můžete vyhledat a monitorovat Azure diagnostics například restartování, čítače výkonu a tooSystem.Diagnostics.Trace volání.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-162">For other roles, you can search and monitor Azure diagnostics such as restart, performance counters, and calls tooSystem.Diagnostics.Trace.</span></span> 

1. <span data-ttu-id="bc6b5-163">V Průzkumníku řešení Visual Studio klikněte v části &lt;YourCloudService&gt;, role, otevřete vlastnosti hello jednotlivých rolí.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-163">In Visual Studio Solution Explorer, under &lt;YourCloudService&gt;, Roles, open hello properties of each role.</span></span>
2. <span data-ttu-id="bc6b5-164">V **konfigurace**, nastavte **odeslání diagnostiky dat tooApplication Insights** a vyberte hello odpovídající prostředek Application Insights, kterou jste vytvořili dříve.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-164">In **Configuration**, set **Send diagnostics data tooApplication Insights** and select hello appropriate Application Insights resource that you created earlier.</span></span>

<span data-ttu-id="bc6b5-165">Pokud jste se rozhodli toouse samostatné prostředek Application Insights pro každou konfiguraci sestavení, vyberte nejdřív hello konfigurace.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-165">If you have decided toouse a separate Application Insights resource for each build configuration, select hello configuration first.</span></span>

![V dialogovém okně Vlastnosti hello jednotlivých rolí Azure nakonfigurujte Application Insights](./media/app-insights-cloudservices/configure-azure-diagnostics.png)

<span data-ttu-id="bc6b5-167">Tato akce nemá vliv hello vložení klíče instrumentace Application Insights do hello souborů s názvem `ServiceConfiguration.*.cscfg`.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-167">This has hello effect of inserting your Application Insights instrumentation keys into hello files named `ServiceConfiguration.*.cscfg`.</span></span> <span data-ttu-id="bc6b5-168">([Vzorový kód](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg).)</span><span class="sxs-lookup"><span data-stu-id="bc6b5-168">([Sample code](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/AzureEmailService/ServiceConfiguration.Cloud.cscfg)).</span></span>

<span data-ttu-id="bc6b5-169">Pokud chcete úroveň hello toovary diagnostické informace odesílané tooApplication statistiky, můžete tak učinit [úpravou hello `.cscfg` soubory přímo](app-insights-azure-diagnostics.md).</span><span class="sxs-lookup"><span data-stu-id="bc6b5-169">If you want toovary hello level of diagnostic information sent tooApplication Insights, you can do so [by editing hello `.cscfg` files directly](app-insights-azure-diagnostics.md).</span></span>

## <span data-ttu-id="bc6b5-170"><a name="sdk"></a>Nainstalujte hello SDK v každém projektu</span><span class="sxs-lookup"><span data-stu-id="bc6b5-170"><a name="sdk"></a>Install hello SDK in each project</span></span>
<span data-ttu-id="bc6b5-171">Tato možnost přidá hello možnost tooadd vlastní obchodní telemetrie tooany roli, k analýze blíže se používá a provede aplikace.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-171">This option adds hello ability tooadd custom business telemetry tooany role, for a closer analysis of how your application is used and performs.</span></span>

<span data-ttu-id="bc6b5-172">V sadě Visual Studio nakonfigurujte hello Application Insights SDK pro každý projekt cloudové aplikace.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-172">In Visual Studio, configure hello Application Insights SDK for each cloud app project.</span></span>

1. <span data-ttu-id="bc6b5-173">**Webové role**: klikněte pravým tlačítkem na projekt hello a zvolte **konfigurovat Application Insights** nebo **Přidat > telemetrie Application Insights**.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-173">**Web roles**: Right-click hello project and choose **Configure Application Insights** or **Add > Application Insights telemetry**.</span></span>

2. <span data-ttu-id="bc6b5-174">**Role pracovních procesů**:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-174">**Worker roles**:</span></span> 
 * <span data-ttu-id="bc6b5-175">Klikněte pravým tlačítkem na projekt hello a vyberte **spravovat balíčky Nuget**.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-175">Right-click hello project and select **Manage Nuget Packages**.</span></span>
 * <span data-ttu-id="bc6b5-176">Přidejte balíček [Application Insights pro servery Windows](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span><span class="sxs-lookup"><span data-stu-id="bc6b5-176">Add [Application Insights for Windows Servers](https://www.nuget.org/packages/Microsoft.ApplicationInsights.WindowsServer/).</span></span>

    ![Vyhledání Application Insights](./media/app-insights-cloudservices/04-ai-nuget.png)

3. <span data-ttu-id="bc6b5-178">Nakonfigurujte hello SDK toosend data toohello prostředek Application Insights.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-178">Configure hello SDK toosend data toohello Application Insights resource.</span></span>

    <span data-ttu-id="bc6b5-179">Ve funkci spuštění vhodný nastavte klíč instrumentace hello z nastavení konfigurace hello v souboru .cscfg hello:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-179">In a suitable startup function, set hello instrumentation key from hello configuration setting in hello .cscfg file:</span></span>
 
    ```C#
   
     TelemetryConfiguration.Active.InstrumentationKey = RoleEnvironment.GetConfigurationSettingValue("APPINSIGHTS_INSTRUMENTATIONKEY");
    ```
   
    <span data-ttu-id="bc6b5-180">Proveďte tento postup pro každou roli v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-180">Do this for each role in your application.</span></span> <span data-ttu-id="bc6b5-181">Příklady hello:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-181">See hello examples:</span></span>
   
   * [<span data-ttu-id="bc6b5-182">Webová role</span><span class="sxs-lookup"><span data-stu-id="bc6b5-182">Web role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Global.asax.cs#L27)
   * [<span data-ttu-id="bc6b5-183">Role pracovního procesu</span><span class="sxs-lookup"><span data-stu-id="bc6b5-183">Worker role</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L232)
   * [<span data-ttu-id="bc6b5-184">Pro webové stránky</span><span class="sxs-lookup"><span data-stu-id="bc6b5-184">For web pages</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Views/Shared/_Layout.cshtml#L13) 
4. <span data-ttu-id="bc6b5-185">Sada hello souboru ApplicationInsights.config souboru toobe zkopírovat vždy toohello výstupního adresáře.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-185">Set hello ApplicationInsights.config file toobe copied always toohello output directory.</span></span> 
   
    <span data-ttu-id="bc6b5-186">(V souboru .config hello, zobrazí se zprávy s dotazem, můžete tooplace hello klíč instrumentace existuje.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-186">(In hello .config file, you'll see messages asking you tooplace hello instrumentation key there.</span></span> <span data-ttu-id="bc6b5-187">Pro cloudové aplikace, je však lepší tooset ze souboru .cscfg hello.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-187">However, for cloud applications it's better tooset it from hello .cscfg file.</span></span> <span data-ttu-id="bc6b5-188">Tím se zajistí, že je tato role hello identifikovány správně hello portálu.)</span><span class="sxs-lookup"><span data-stu-id="bc6b5-188">This ensures that hello role is correctly identified in hello portal.)</span></span>

#### <a name="run-and-publish-hello-app"></a><span data-ttu-id="bc6b5-189">Spuštění a publikování aplikace hello</span><span class="sxs-lookup"><span data-stu-id="bc6b5-189">Run and publish hello app</span></span>
<span data-ttu-id="bc6b5-190">Spusťte aplikaci a přihlaste se k Azure.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-190">Run your app, and sign into Azure.</span></span> <span data-ttu-id="bc6b5-191">Prostředky Application Insights otevřete hello jste vytvořili, a zobrazí se v jednotlivých datových bodů [vyhledávání](app-insights-diagnostic-search.md), a agregovat data v [Explorer metrika](app-insights-metrics-explorer.md).</span><span class="sxs-lookup"><span data-stu-id="bc6b5-191">Open hello Application Insights resources you created, and you'll see individual data points appearing in [Search](app-insights-diagnostic-search.md), and aggregated data in [Metric Explorer](app-insights-metrics-explorer.md).</span></span> 

<span data-ttu-id="bc6b5-192">Přidejte další telemetrie – najdete v následující části obsahují - hello a potom publikovat vaše tooget za provozu diagnostiky a použití zpětné vazby aplikace.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-192">Add more telemetry - see hello sections below - and then publish your app tooget live diagnostic and usage feedback.</span></span> 

#### <a name="no-data"></a><span data-ttu-id="bc6b5-193">Žádná data?</span><span class="sxs-lookup"><span data-stu-id="bc6b5-193">No data?</span></span>
* <span data-ttu-id="bc6b5-194">Otevřete hello [vyhledávání] [ diagnostic] dlaždici toosee jednotlivé události.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-194">Open hello [Search][diagnostic] tile, toosee individual events.</span></span>
* <span data-ttu-id="bc6b5-195">Pomocí aplikace hello, otevřete různé stránky tak, aby ji k vygenerování nějaké telemetrie.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-195">Use hello application, opening different pages so that it generates some telemetry.</span></span>
* <span data-ttu-id="bc6b5-196">Počkejte několik sekund a klikněte na možnost Aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-196">Wait a few seconds and click Refresh.</span></span>
* <span data-ttu-id="bc6b5-197">Další informace najdete v tématu [Poradce při potížích][qna].</span><span class="sxs-lookup"><span data-stu-id="bc6b5-197">See [Troubleshooting][qna].</span></span>

## <a name="view-azure-diagnostic-events"></a><span data-ttu-id="bc6b5-198">Zobrazení událostí diagnostiky Azure</span><span class="sxs-lookup"><span data-stu-id="bc6b5-198">View Azure Diagnostic events</span></span>
<span data-ttu-id="bc6b5-199">Kde toofind hello [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) informace ve službě Application Insights:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-199">Where toofind hello [Azure Diagnostics](https://docs.microsoft.com/en-us/azure/monitoring-and-diagnostics/azure-diagnostics) information in Application Insights:</span></span>

* <span data-ttu-id="bc6b5-200">Čítače výkonu se zobrazují jako vlastní metriky.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-200">Performance counters are displayed as custom metrics.</span></span> 
* <span data-ttu-id="bc6b5-201">Protokoly událostí systému Windows se zobrazují jako trasování a vlastní události.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-201">Windows event logs are shown as traces and custom events.</span></span>
* <span data-ttu-id="bc6b5-202">Protokoly aplikací, protokoly trasování událostí pro Windows a veškeré protokoly infrastruktury diagnostiky se zobrazují jako trasování.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-202">Application logs, ETW logs, and any diagnostics infrastructure logs appear as traces.</span></span>

<span data-ttu-id="bc6b5-203">čítače výkonu toosee a počet událostí, otevřete [Průzkumníku metrik](app-insights-metrics-explorer.md) a přidejte nový graf:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-203">toosee performance counters and counts of events, open [Metrics Explorer](app-insights-metrics-explorer.md) and add a new chart:</span></span>

![Diagnostická data Azure](./media/app-insights-cloudservices/23-wad.png)

<span data-ttu-id="bc6b5-205">Použití [vyhledávání](app-insights-diagnostic-search.md) nebo [Analytics dotazu](app-insights-analytics-tour.md) toosearch napříč různými protokoly poslal Azure Diagnostics sledování hello.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-205">Use [Search](app-insights-diagnostic-search.md) or an [Analytics query](app-insights-analytics-tour.md) toosearch across hello various trace logs sent by Azure Diagnostics.</span></span> <span data-ttu-id="bc6b5-206">Předpokládejme například, že máte k neošetřené výjimce, který chybu způsobil Role toocrash a recyklaci.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-206">For example, suppose you have an unhandled exception which caused a Role toocrash and recycle.</span></span> <span data-ttu-id="bc6b5-207">Tyto informace se zobrazí v hello aplikace kanál z protokolu událostí systému Windows.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-207">That information would show up in hello Application channel of Windows Event Log.</span></span> <span data-ttu-id="bc6b5-208">Můžete použít vyhledávání toolook v hello Chyba protokolu událostí systému Windows a získat trasování hello úplné zásobníku pro výjimku hello.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-208">You can use Search toolook at hello Windows Event Log error and get hello full stack trace for hello exception.</span></span> <span data-ttu-id="bc6b5-209">Který vám pomůže najít hello hlavní příčinu problému hello.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-209">That will help you find hello root cause of hello issue.</span></span>

![Hledání v diagnostice Azure](./media/app-insights-cloudservices/25-wad.png)

## <a name="more-telemetry"></a><span data-ttu-id="bc6b5-211">Další telemetrická data</span><span class="sxs-lookup"><span data-stu-id="bc6b5-211">More telemetry</span></span>
<span data-ttu-id="bc6b5-212">Hello oddílech Zobrazit jak tooget další telemetrie z různých aspektů aplikace.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-212">hello sections below show how tooget additional telemetry from different aspects of your application.</span></span>

## <a name="track-requests-from-worker-roles"></a><span data-ttu-id="bc6b5-213">Sledování požadavků z rolí pracovních procesů</span><span class="sxs-lookup"><span data-stu-id="bc6b5-213">Track Requests from Worker roles</span></span>
<span data-ttu-id="bc6b5-214">Ve webové role hello požadavky modulu automaticky shromažďuje data o požadavcích HTTP.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-214">In web roles, hello requests module automatically collects data about HTTP requests.</span></span> <span data-ttu-id="bc6b5-215">V tématu hello [ukázkové MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) příklady, jak můžete přepsat hello výchozí kolekci chování.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-215">See hello [sample MVCWebRole](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/MvcWebRole) for examples of how you can override hello default collection behavior.</span></span> 

<span data-ttu-id="bc6b5-216">Můžete zaznamenat hello výkonu volání tooworker rolí pomocí funkce sledování je v hello stejným způsobem jako požadavky HTTP.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-216">You can capture hello performance of calls tooworker roles by tracking them in hello same way as HTTP requests.</span></span> <span data-ttu-id="bc6b5-217">Ve službě Application Insights měří hello požadavek telemetrie typu s názvem pracovní straně serveru, který můžete vypršel časový limit a můžete nezávisle úspěch nebo neúspěch jednotka.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-217">In Application Insights, hello Request telemetry type measures a unit of named server-side work that can be timed and can independently succeed or fail.</span></span> <span data-ttu-id="bc6b5-218">Zatímco požadavky HTTP jsou automaticky zachycenou hello SDK, můžete vložit vlastní kód tootrack požadavky tooworker role.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-218">While HTTP requests are captured automatically by hello SDK, you can insert your own code tootrack requests tooworker roles.</span></span>

<span data-ttu-id="bc6b5-219">V tématu požadavků instrumentovaného tooreport hello dva ukázkové pracovního procesu worker role: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) a [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span><span class="sxs-lookup"><span data-stu-id="bc6b5-219">See hello two sample worker roles instrumented tooreport requests: [WorkerRoleA](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleA) and [WorkerRoleB](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService/WorkerRoleB)</span></span>

## <a name="exceptions"></a><span data-ttu-id="bc6b5-220">Výjimky</span><span class="sxs-lookup"><span data-stu-id="bc6b5-220">Exceptions</span></span>
<span data-ttu-id="bc6b5-221">V tématu [Monitorování výjimek v Application Insights](app-insights-asp-net-exceptions.md) najdete informace o tom, jak shromažďovat neošetřené výjimky z různých typů webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-221">See [Monitoring Exceptions in Application Insights](app-insights-asp-net-exceptions.md) for information on how you can collect unhandled exceptions from different web application types.</span></span>

<span data-ttu-id="bc6b5-222">Hello ukázkové webové role má MVC5 a webovém rozhraní API 2 řadičů.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-222">hello sample web role has MVC5 and Web API 2 controllers.</span></span> <span data-ttu-id="bc6b5-223">Hello neošetřené výjimky z hello dva jsou zachytit pomocí hello následující obslužné rutiny:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-223">hello unhandled exceptions from hello two are captured with hello following handlers:</span></span>

* <span data-ttu-id="bc6b5-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) nastavená [zde](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) pro kontrolery rozhraní MVC5</span><span class="sxs-lookup"><span data-stu-id="bc6b5-224">[AiHandleErrorAttribute](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiHandleErrorAttribute.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/FilterConfig.cs#L12) for MVC5 controllers</span></span>
* <span data-ttu-id="bc6b5-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) nastavená [sem](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) pro kontrolery rozhraní Web API 2</span><span class="sxs-lookup"><span data-stu-id="bc6b5-225">[AiWebApiExceptionLogger](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/Telemetry/AiWebApiExceptionLogger.cs) set up [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/MvcWebRole/App_Start/WebApiConfig.cs#L25) for Web API 2 controllers</span></span>

<span data-ttu-id="bc6b5-226">Pro role pracovního procesu existují dva způsoby tootrack výjimky:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-226">For worker roles, there are two ways tootrack exceptions:</span></span>

* <span data-ttu-id="bc6b5-227">TrackException(ex)</span><span class="sxs-lookup"><span data-stu-id="bc6b5-227">TrackException(ex)</span></span>
* <span data-ttu-id="bc6b5-228">Pokud jste přidali balíček NuGet hello Application Insights trasování naslouchací proces, můžete použít **System.Diagnostics.Trace** toolog výjimky.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-228">If you have added hello Application Insights trace listener NuGet package, you can use **System.Diagnostics.Trace** toolog exceptions.</span></span> [<span data-ttu-id="bc6b5-229">Příklad kódu.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-229">Code example.</span></span>](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L107)

## <a name="performance-counters"></a><span data-ttu-id="bc6b5-230">Čítače výkonu</span><span class="sxs-lookup"><span data-stu-id="bc6b5-230">Performance Counters</span></span>
<span data-ttu-id="bc6b5-231">ve výchozím nastavení se shromažďují Hello následující čítače:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-231">hello following counters are collected by default:</span></span>

    * <span data-ttu-id="bc6b5-232">\Process(??APP_WIN32_PROC??)\% Processor Time</span><span class="sxs-lookup"><span data-stu-id="bc6b5-232">\Process(??APP_WIN32_PROC??)\% Processor Time</span></span>
    * <span data-ttu-id="bc6b5-233">\Memory\Available Bytes</span><span class="sxs-lookup"><span data-stu-id="bc6b5-233">\Memory\Available Bytes</span></span>
    * <span data-ttu-id="bc6b5-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span><span class="sxs-lookup"><span data-stu-id="bc6b5-234">\.NET CLR Exceptions(??APP_CLR_PROC??)\# of Exceps Thrown / sec</span></span>
    * <span data-ttu-id="bc6b5-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span><span class="sxs-lookup"><span data-stu-id="bc6b5-235">\Process(??APP_WIN32_PROC??)\Private Bytes</span></span>
    * <span data-ttu-id="bc6b5-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span><span class="sxs-lookup"><span data-stu-id="bc6b5-236">\Process(??APP_WIN32_PROC??)\IO Data Bytes/sec</span></span>
    * <span data-ttu-id="bc6b5-237">\Processor(_Total)\% Processor Time</span><span class="sxs-lookup"><span data-stu-id="bc6b5-237">\Processor(_Total)\% Processor Time</span></span>

<span data-ttu-id="bc6b5-238">Pro webové role se shromažďují i tyto čítače:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-238">For web roles, these counters are also collected:</span></span>

    * <span data-ttu-id="bc6b5-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span><span class="sxs-lookup"><span data-stu-id="bc6b5-239">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests/Sec</span></span>
    * <span data-ttu-id="bc6b5-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span><span class="sxs-lookup"><span data-stu-id="bc6b5-240">\ASP.NET Applications(??APP_W3SVC_PROC??)\Request Execution Time</span></span>
    * <span data-ttu-id="bc6b5-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span><span class="sxs-lookup"><span data-stu-id="bc6b5-241">\ASP.NET Applications(??APP_W3SVC_PROC??)\Requests In Application Queue</span></span>

<span data-ttu-id="bc6b5-242">Další vlastní čítače výkonu nebo jiné čítače výkonu Windows můžete určit provedením úpravy souboru ApplicationInsights.config [jako v tomto příkladu](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span><span class="sxs-lookup"><span data-stu-id="bc6b5-242">You can specify additional custom or other windows performance counters by editing ApplicationInsights.config [as in this example](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/ApplicationInsights.config#L14).</span></span>

  ![Čítače výkonu](./media/app-insights-cloudservices/OLfMo2f.png)

## <a name="correlated-telemetry-for-worker-roles"></a><span data-ttu-id="bc6b5-244">Korelační telemetrická data pro role pracovních procesů</span><span class="sxs-lookup"><span data-stu-id="bc6b5-244">Correlated Telemetry for Worker Roles</span></span>
<span data-ttu-id="bc6b5-245">Bohaté diagnostiky prostředí, je při uvidíte, jaké vedených tooa se nezdařilo nebo vysokou latencí požadavku.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-245">It is a rich diagnostic experience, when you can see what led tooa failed or high latency request.</span></span> <span data-ttu-id="bc6b5-246">S webové role hello SDK automaticky nastaví korelace mezi související telemetrii.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-246">With web roles, hello SDK automatically sets up correlation between related telemetry.</span></span> <span data-ttu-id="bc6b5-247">Pro role pracovního procesu můžete vlastní telemetrii inicializátoru tooset společný atribut kontextu Operation.Id pro všechny tooachieve telemetrie hello to.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-247">For worker roles, you can use a custom telemetry initializer tooset a common Operation.Id context attribute for all hello telemetry tooachieve this.</span></span> <span data-ttu-id="bc6b5-248">To vám umožní toosee zda hello latenci nebo selhání problém byl způsobený z důvodu závislosti mezi tooa nebo kódu, na první pohled!</span><span class="sxs-lookup"><span data-stu-id="bc6b5-248">This allows you toosee whether hello latency/failure issue was caused due tooa dependency or your code, at a glance!</span></span> 

<span data-ttu-id="bc6b5-249">Zde je uveden postup:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-249">Here's how:</span></span>

* <span data-ttu-id="bc6b5-250">Nastavte hello korelace Id do CallContext, jak je znázorněno [zde](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span><span class="sxs-lookup"><span data-stu-id="bc6b5-250">Set hello correlation Id into a CallContext as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L36).</span></span> <span data-ttu-id="bc6b5-251">V tomto případě používáme hello ID požadavku jako id korelace hello</span><span class="sxs-lookup"><span data-stu-id="bc6b5-251">In this case, we are using hello Request ID as hello correlation id</span></span>
* <span data-ttu-id="bc6b5-252">Přidáte vlastní implementaci TelemetryInitializer tooset hello Operation.Id toohello correlationId nastavit výše.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-252">Add a custom TelemetryInitializer implementation, tooset hello Operation.Id toohello correlationId set above.</span></span> <span data-ttu-id="bc6b5-253">Příklad je zde: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span><span class="sxs-lookup"><span data-stu-id="bc6b5-253">There's an example here: [ItemCorrelationTelemetryInitializer](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/Telemetry/ItemCorrelationTelemetryInitializer.cs#L13)</span></span>
* <span data-ttu-id="bc6b5-254">Přidáte vlastní telemetrii inicializátoru hello.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-254">Add hello custom telemetry initializer.</span></span> <span data-ttu-id="bc6b5-255">Můžete to udělat v soubor ApplicationInsights.config hello nebo v kódu znázorněné [sem](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span><span class="sxs-lookup"><span data-stu-id="bc6b5-255">You could do that in hello ApplicationInsights.config file, or in code as shown [here](https://github.com/Microsoft/ApplicationInsights-Home/blob/master/Samples/AzureEmailService/WorkerRoleA/WorkerRoleA.cs#L233)</span></span>

<span data-ttu-id="bc6b5-256">A to je vše!</span><span class="sxs-lookup"><span data-stu-id="bc6b5-256">That's it!</span></span> <span data-ttu-id="bc6b5-257">Práce s portálem Hello je již drátové sítě si toohelp že zobrazí všechny přidružené telemetrii na první pohled:</span><span class="sxs-lookup"><span data-stu-id="bc6b5-257">hello portal experience is already wired up toohelp you see all associated telemetry at a glance:</span></span>

![Korelační telemetrická data](./media/app-insights-cloudservices/bHxuUhd.png)

## <a name="client-telemetry"></a><span data-ttu-id="bc6b5-259">Telemetrická data klienta</span><span class="sxs-lookup"><span data-stu-id="bc6b5-259">Client telemetry</span></span>
<span data-ttu-id="bc6b5-260">[Přidat hello webové stránky JavaScript SDK tooyour] [ client] tooget založené na prohlížeči telemetrie například počtu zobrazení stránky, časů načtení stránky, výjimek skriptu a toolet psát vlastní telemetrii ve skriptech stránky.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-260">[Add hello JavaScript SDK tooyour web pages][client] tooget browser-based telemetry such as page view counts, page load times, script exceptions, and toolet you write custom telemetry in your page scripts.</span></span>

## <a name="availability-tests"></a><span data-ttu-id="bc6b5-261">Testy dostupnosti</span><span class="sxs-lookup"><span data-stu-id="bc6b5-261">Availability tests</span></span>
<span data-ttu-id="bc6b5-262">[Nastavit testy webu] [ availability] toomake, že vaše aplikace zůstává aktivní a reagující.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-262">[Set up web tests][availability] toomake sure your application stays live and responsive.</span></span>

## <a name="display-everything-together"></a><span data-ttu-id="bc6b5-263">Zobrazení všeho najednou</span><span class="sxs-lookup"><span data-stu-id="bc6b5-263">Display everything together</span></span>
<span data-ttu-id="bc6b5-264">tooget celkový přehled systému, můžete zahrnout hello klíč tabulek sledování společně na jednom [řídicí panel](app-insights-dashboards.md).</span><span class="sxs-lookup"><span data-stu-id="bc6b5-264">tooget an overall picture of your system, you can bring hello key monitoring charts together on one [dashboard](app-insights-dashboards.md).</span></span> <span data-ttu-id="bc6b5-265">Například může připnout hello požadavku a počet selhání jednotlivých rolí.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-265">For example, you could pin hello request and failure counts of each role.</span></span> 

<span data-ttu-id="bc6b5-266">Pokud váš systém využívá jiné služby Azure, například Stream Analytics, jsou zahrnuty i jejich grafy monitorování.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-266">If your system uses other Azure services such as Stream Analytics, include their monitoring charts as well.</span></span> 

<span data-ttu-id="bc6b5-267">Pokud máte mobilní aplikace klienta, vložte některé kód toosend vlastní události na operace klíče uživatele a vytvořit [HockeyApp most](app-insights-hockeyapp-bridge-app.md).</span><span class="sxs-lookup"><span data-stu-id="bc6b5-267">If you have a client mobile app, insert some code toosend custom events on key user operations, and create a [HockeyApp bridge](app-insights-hockeyapp-bridge-app.md).</span></span> <span data-ttu-id="bc6b5-268">Vytváření dotazů v nástroji [Analytics](app-insights-analytics.md) toodisplay hello počty událostí a připnete ji toohello řídicího panelu.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-268">Create queries in [Analytics](app-insights-analytics.md) toodisplay hello event counts, and pin them toohello dashboard.</span></span>

## <a name="example"></a><span data-ttu-id="bc6b5-269">Příklad</span><span class="sxs-lookup"><span data-stu-id="bc6b5-269">Example</span></span>
<span data-ttu-id="bc6b5-270">[Příklad Hello](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) monitoruje službu, která obsahuje webovou roli a dvě role pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-270">[hello example](https://github.com/Microsoft/ApplicationInsights-Home/tree/master/Samples/AzureEmailService) monitors a service that has a web role and two worker roles.</span></span>

## <a name="exception-method-not-found-on-running-in-azure-cloud-services"></a><span data-ttu-id="bc6b5-271">Výjimka „metoda nebyla nalezena“ při spuštění v Azure Cloud Services</span><span class="sxs-lookup"><span data-stu-id="bc6b5-271">Exception "method not found" on running in Azure Cloud Services</span></span>
<span data-ttu-id="bc6b5-272">Vytvořili jste sestavení pro .NET 4.6?</span><span class="sxs-lookup"><span data-stu-id="bc6b5-272">Did you build for .NET 4.6?</span></span> <span data-ttu-id="bc6b5-273">Verze 4.6 není v rolích Azure Cloud Services podporována automaticky.</span><span class="sxs-lookup"><span data-stu-id="bc6b5-273">4.6 is not automatically supported in Azure Cloud Services roles.</span></span> <span data-ttu-id="bc6b5-274">Před spuštěním aplikace [nainstalujte pro každou roli verzi 4.6](../cloud-services/cloud-services-dotnet-install-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="bc6b5-274">[Install 4.6 on each role](../cloud-services/cloud-services-dotnet-install-dotnet.md) before running your app.</span></span>

## <a name="video"></a><span data-ttu-id="bc6b5-275">Video</span><span class="sxs-lookup"><span data-stu-id="bc6b5-275">Video</span></span>

> [!VIDEO https://channel9.msdn.com/events/Connect/2016/100/player]

## <a name="next-steps"></a><span data-ttu-id="bc6b5-276">Další kroky</span><span class="sxs-lookup"><span data-stu-id="bc6b5-276">Next steps</span></span>
* [<span data-ttu-id="bc6b5-277">Konfigurace odesílání Azure Diagnostics tooApplication statistiky</span><span class="sxs-lookup"><span data-stu-id="bc6b5-277">Configure sending Azure Diagnostics tooApplication Insights</span></span>](app-insights-azure-diagnostics.md)
* [<span data-ttu-id="bc6b5-278">Automatizace vytváření prostředků Application Insights</span><span class="sxs-lookup"><span data-stu-id="bc6b5-278">Automate creation of Application Insights resources</span></span>](app-insights-powershell.md)
* [<span data-ttu-id="bc6b5-279">Automatizace diagnostiky Azure</span><span class="sxs-lookup"><span data-stu-id="bc6b5-279">Automate Azure diagnostics</span></span>](app-insights-powershell-azure-diagnostics.md)
* [<span data-ttu-id="bc6b5-280">Azure Functions</span><span class="sxs-lookup"><span data-stu-id="bc6b5-280">Azure Functions</span></span>](https://github.com/christopheranderson/azure-functions-app-insights-sample)

[api]: app-insights-api-custom-events-metrics.md
[availability]: app-insights-monitor-web-app-availability.md
[azure]: app-insights-azure.md
[client]: app-insights-javascript.md
[diagnostic]: app-insights-diagnostic-search.md
[netlogs]: app-insights-asp-net-trace-logs.md
[portal]: http://portal.azure.com/
[qna]: app-insights-troubleshoot-faq.md
[redfield]: app-insights-monitor-performance-live-website-now.md
[start]: app-insights-overview.md 
