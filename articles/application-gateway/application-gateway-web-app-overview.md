---
title: "aaaOverview víceklientské zpět končí Azure Application Gateway | Microsoft Docs"
description: "Tato stránka obsahuje přehled podpory hello aplikační brány pro back-EndY více klientů."
documentationcenter: na
services: application-gateway
author: georgewallace
manager: timlt
editor: 
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: gwallace
ms.openlocfilehash: b7da8c9c68e34bd83ad2b828fab62c00caea354a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="application-gateway-support-for-multi-tenant-back-ends"></a><span data-ttu-id="b009e-103">Podpora služby Application Gateway pro back-endy s více tenanty</span><span class="sxs-lookup"><span data-stu-id="b009e-103">Application Gateway support for multi-tenant back ends</span></span>

<span data-ttu-id="b009e-104">Azure Application Gateway jako součást fondů back-end podporuje škálovací sady virtuálních počítačů, síťová rozhraní, veřejné a privátní IP adresy nebo plně kvalifikovaný název domény.</span><span class="sxs-lookup"><span data-stu-id="b009e-104">Azure Application Gateway supports virtual machine scale sets, network interfaces, public/private IP, or fully qualified domain name (FQDN) as part of its back end pools.</span></span> <span data-ttu-id="b009e-105">Ve výchozím nastavení aplikační brány nezmění hello příchozí Hlavička hostitele HTTP od klienta hello a odešle hello hlavičky beze změny toohello back-end.</span><span class="sxs-lookup"><span data-stu-id="b009e-105">By default, application gateway does not change hello incoming HTTP host header from hello client and sends hello header unaltered toohello back end.</span></span> <span data-ttu-id="b009e-106">Existuje mnoho služby, jako je [Azure Web Apps](../app-service-web/app-service-web-overview.md) a [API Management](../api-management/api-management-key-concepts.md) které jsou více klientů ve své podstatě a spoléhají na konkrétního hostitele hlavičky nebo SNI rozšíření tooresolve toohello správný koncový bod.</span><span class="sxs-lookup"><span data-stu-id="b009e-106">There are many services like [Azure Web Apps](../app-service-web/app-service-web-overview.md) and [API Management](../api-management/api-management-key-concepts.md) that are multi-tenant in nature and rely on a specific host header or SNI extension tooresolve toohello correct endpoint.</span></span> <span data-ttu-id="b009e-107">Aplikační brána teď podporuje hello možnost pro uživatele toooverwrite hello příchozí hlavičky protokolu HTTP hostitele na základě nastavení back-end HTTP hello.</span><span class="sxs-lookup"><span data-stu-id="b009e-107">Application Gateway now supports hello ability for users toooverwrite hello incoming HTTP host header based on hello back end HTTP settings.</span></span> <span data-ttu-id="b009e-108">Tato schopnost umožňuje podporu back-endů s více tenanty Azure Web Apps a API Management.</span><span class="sxs-lookup"><span data-stu-id="b009e-108">This capability enables support for multi-tenant back ends Azure web apps and API management.</span></span> <span data-ttu-id="b009e-109">Tato možnost je dostupná pro standardní hello i SKU firewall webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="b009e-109">This capability is available for both hello standard and WAF SKU.</span></span> <span data-ttu-id="b009e-110">Víceklientské back-end podporu také funguje se scénáři SSL tooend SSL pro ukončení a end.</span><span class="sxs-lookup"><span data-stu-id="b009e-110">Multi-tenant back end support also works with SSL termination and end tooend SSL scenarios.</span></span>

![scénář webové aplikace](./media/application-gateway-web-app-overview/scenario.png)

<span data-ttu-id="b009e-112">Hello možnost toospecify hostitele přepsání je definováno v hello nastavení HTTP a mohou být použité tooany zpět ukončit fondu při vytváření pravidel.</span><span class="sxs-lookup"><span data-stu-id="b009e-112">hello ability toospecify a host override is defined at hello HTTP settings and can be applied tooany back end pool during rule creation.</span></span> <span data-ttu-id="b009e-113">Víceklientské zpět končí podpora hello následující dva způsoby přepsání rozšíření SNI a hlavičky hostitele.</span><span class="sxs-lookup"><span data-stu-id="b009e-113">Multi-tenant back ends support hello following two ways of overriding host header and SNI extension.</span></span>

1. <span data-ttu-id="b009e-114">Hello možnost tooset hello hostitele název tooa pevná hodnota ve hello nastavení HTTP.</span><span class="sxs-lookup"><span data-stu-id="b009e-114">hello ability tooset hello host name tooa fixed value in hello HTTP settings.</span></span> <span data-ttu-id="b009e-115">Tato funkce zajišťuje přepsána tuto hlavičku hostitele hello toothis hodnoty pro všechny přenosy toohello back-end fondu kterou platí nastavení hello protokolu HTTP.</span><span class="sxs-lookup"><span data-stu-id="b009e-115">This capability ensures that hello host header is overridden toothis value for all traffic toohello back end pool where hello HTTP settings are applied.</span></span> <span data-ttu-id="b009e-116">Pokud používáte end tooend SSL, tento název přepsané hostitele se používá v hello SNI rozšíření.</span><span class="sxs-lookup"><span data-stu-id="b009e-116">When using end tooend SSL, this overridden host name is used in hello SNI extension.</span></span> <span data-ttu-id="b009e-117">Tato funkce umožňuje scénáře, kde farmu fond back-end očekává hlavičku hostitele, který se liší od hello příchozí hlavička zákazníků hostitele.</span><span class="sxs-lookup"><span data-stu-id="b009e-117">This capability enables scenarios where a back end pool farm expects a host header that is different from hello incoming customer host header.</span></span>

2. <span data-ttu-id="b009e-118">název hostitele Hello možnost tooderive hello z hello IP adresu nebo plně kvalifikovaný název domény hello členy fondu back-end.</span><span class="sxs-lookup"><span data-stu-id="b009e-118">hello ability tooderive hello host name from hello IP or FQDN of hello back end pool members.</span></span> <span data-ttu-id="b009e-119">Nastavení HTTP také zadejte název hostitele možnost toopick hello z členem fondu back-end FQDN pokud nakonfigurovaný s názvem hostitele, hello možnost tooderive od člena fondu jednotlivých back-end.</span><span class="sxs-lookup"><span data-stu-id="b009e-119">HTTP settings also provide an option toopick hello host name from a back end pool member's FQDN if configured with hello option tooderive host name from an individual back end pool member.</span></span> <span data-ttu-id="b009e-120">Pokud používáte end tooend SSL, tento název hostitele je odvozený od hello plně kvalifikovaný název domény a používá se v hello SNI rozšíření.</span><span class="sxs-lookup"><span data-stu-id="b009e-120">When using end tooend SSL, this host name is derived from hello FQDN and is used in hello SNI extension.</span></span> <span data-ttu-id="b009e-121">Tato funkce umožňuje scénáře, kde fond back-end může mít dvě nebo více služeb PaaS víceklientské jako webové aplikace Azure a člen tooeach hlavičky hostitele hello žádost obsahuje název hostitele hello odvozené od jeho plně kvalifikovaný název domény.</span><span class="sxs-lookup"><span data-stu-id="b009e-121">This capability enables scenarios where a back end pool can have two or more multi-tenant PaaS services like Azure web apps and hello request's host header tooeach member contains hello host name derived from its FQDN.</span></span>

> [!NOTE]
> <span data-ttu-id="b009e-122">V obou předchozích případech hello hello nastavení má vliv pouze chování hello provoz za provozu a není hello chování test stavu.</span><span class="sxs-lookup"><span data-stu-id="b009e-122">In both of hello preceding cases hello settings only affect hello live traffic behavior and not hello health probe behavior.</span></span> <span data-ttu-id="b009e-123">Vlastní sondy již podporu hello možnost toospecify hlavičku hostitele v konfiguraci testu hello.</span><span class="sxs-lookup"><span data-stu-id="b009e-123">Custom probes already support hello ability toospecify a host header in hello probe configuration.</span></span> <span data-ttu-id="b009e-124">Vlastní testy paměti teď také podporují hello možnost tooderive hello hostitele záhlaví chování z hello konfigurovaná nastavení protokolu HTTP.</span><span class="sxs-lookup"><span data-stu-id="b009e-124">Custom probes now also support hello ability tooderive hello host header behavior from hello currently configured HTTP settings.</span></span> <span data-ttu-id="b009e-125">Tato konfigurace může být určen pomocí hello `PickHostNameFromback endAddress` parametr v konfiguraci testu hello.</span><span class="sxs-lookup"><span data-stu-id="b009e-125">This configuration can be specified by using hello `PickHostNameFromback endAddress` parameter in hello probe configuration.</span></span> <span data-ttu-id="b009e-126">Pro koncové tooend funkce toowork musí být hello test a nastavení HTTP hello upravené tooreflect hello správnou konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="b009e-126">For end tooend functionality toowork, both hello probe and hello HTTP settings must be modified tooreflect hello correct configuration.</span></span>

<span data-ttu-id="b009e-127">Díky této funkci zadejte zákazníkům hello možnosti v nastavení hello HTTP a vlastní testy toohello odpovídající konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="b009e-127">With this capability, customers specify hello options in hello HTTP settings and custom probes toohello appropriate configuration.</span></span> <span data-ttu-id="b009e-128">Toto nastavení je pak vázaný tooa naslouchací proces a back end fondu pomocí pravidla.</span><span class="sxs-lookup"><span data-stu-id="b009e-128">This setting is then tied tooa listener and a back end pool by using a rule.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b009e-129">Další kroky</span><span class="sxs-lookup"><span data-stu-id="b009e-129">Next steps</span></span>

<span data-ttu-id="b009e-130">Zjistěte, jak tooset až aplikační brány s webovou aplikaci jako back end člena fondu navštivte stránky: [nakonfigurovat App Service web apps s aplikační brány](application-gateway-web-app-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="b009e-130">Learn how tooset up an application gateway with a web app as a back end pool member by visiting: [Configure App Service web apps with Application Gateway](application-gateway-web-app-powershell.md)</span></span>
