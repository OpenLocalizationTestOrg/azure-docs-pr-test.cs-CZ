---
title: "aaaIntroduction tooweb application firewall (firewall webových aplikací) pro Azure Application Gateway | Microsoft Docs"
description: "Na této stránce najdete přehled firewallu webových aplikací (WAF) služby Application Gateway."
documentationcenter: na
services: application-gateway
author: amsriva
manager: rossort
editor: amsriva
ms.assetid: 04b362bc-6653-4765-86f6-55ee8ec2a0ff
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: amsriva
ms.openlocfilehash: 5a42ce0fb2bd12a391844099e2de8fa2571195e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="web-application-firewall-waf"></a><span data-ttu-id="1ea50-103">Firewall webových aplikací (WAF)</span><span class="sxs-lookup"><span data-stu-id="1ea50-103">Web application firewall (WAF)</span></span>

<span data-ttu-id="1ea50-104">Firewall webových aplikací (WAF) je funkce služby Application Gateway poskytující centralizovanou ochranu webových aplikací před běžným zneužitím a ohrožením zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="1ea50-104">Web application firewall (WAF) is a feature of Application Gateway that provides centralized protection of your web applications from common exploits and vulnerabilities.</span></span> 

<span data-ttu-id="1ea50-105">Brány firewall webových aplikací je na základě pravidel z hello [sady pravidel základní OWASP](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 nebo 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="1ea50-105">Web application firewall is based on rules from hello [OWASP core rule sets](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 or 2.2.9.</span></span> <span data-ttu-id="1ea50-106">Webové aplikace se čím dál častěji stávají cílem škodlivých útoků, které zneužívají běžně známé chyby zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="1ea50-106">Web applications are increasingly targets of malicious attacks that exploit common known vulnerabilities.</span></span> <span data-ttu-id="1ea50-107">Jsou běžné mezi tyto zneužitím prostřednictvím injektáže SQL, skriptování mezi weby útoků tooname pár.</span><span class="sxs-lookup"><span data-stu-id="1ea50-107">Common among these exploits are SQL injection attacks, cross site scripting attacks tooname a few.</span></span> <span data-ttu-id="1ea50-108">Zabránění takové útoky v kódu aplikace může být náročné což může vyžadovat přísných Údržba, opravy a monitorování v několika vrstev topologie aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="1ea50-108">Preventing such attacks in application code can be challenging and may require rigorous maintenance, patching and monitoring at multiple layers of hello application topology.</span></span> <span data-ttu-id="1ea50-109">Brány firewall centralizované webových aplikací pomáhá zkontrolujte mnohem jednodušší správu zabezpečení a nabízí lepší záruku tooapplication správci proti hrozbám nebo vniknutí.</span><span class="sxs-lookup"><span data-stu-id="1ea50-109">A centralized web application firewall helps make security management much simpler and gives better assurance tooapplication administrators against threats or intrusions.</span></span> <span data-ttu-id="1ea50-110">Řešení firewall webových aplikací můžete rovněž reagovat ohrožení zabezpečení tooa rychlejší podle opravy známých ohrožení zabezpečení do centrálního umístění a zabezpečení těchto jednotlivých webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="1ea50-110">A WAF solution can also react tooa security threat faster by patching a known vulnerability at a central location versus securing each of individual web applications.</span></span> <span data-ttu-id="1ea50-111">Existující application Gateway může být snadno převedený tooa webové aplikace povolena brána firewall aplikační brány.</span><span class="sxs-lookup"><span data-stu-id="1ea50-111">Existing application gateways can be converted tooa web application firewall enabled application gateway easily.</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/WAF1.png)

<span data-ttu-id="1ea50-113">Aplikační brána funguje jako aplikaci doručení řadič a nabízí ukončení protokolu SSL, spřažení relace na základě souborů cookie, distribuce zatížení pomocí kruhového dotazování, na základě obsahu směrování, možnost toohost několik vylepšení weby a zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="1ea50-113">Application Gateway operates as an application delivery controller and offers SSL termination, cookie-based session affinity, round-robin load distribution, content-based routing, ability toohost multiple websites and security enhancements.</span></span> <span data-ttu-id="1ea50-114">Vylepšení zabezpečení, které nabízí Application Gateway patří Správa zásad protokolu SSL, tooend end podporu protokolu SSL.</span><span class="sxs-lookup"><span data-stu-id="1ea50-114">Security enhancements offered by Application Gateway include SSL policy management, end tooend SSL support.</span></span> <span data-ttu-id="1ea50-115">Podle firewall webových aplikací (brány firewall webových aplikací), je přímo integrovaná do nabídky hello ADC je nyní posílit zabezpečení aplikací.</span><span class="sxs-lookup"><span data-stu-id="1ea50-115">Application security is now strengthened by WAF (web application firewall) being directly integrated into hello ADC offering.</span></span> <span data-ttu-id="1ea50-116">To zajišťuje toomanage centrální umístění snadno tooconfigure a chránit proti známých chyb zabezpečení webové webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="1ea50-116">This provides an easy tooconfigure central location toomanage and protect your web applications against common web vulnerabilities.</span></span>

## <a name="benefits"></a><span data-ttu-id="1ea50-117">Výhody</span><span class="sxs-lookup"><span data-stu-id="1ea50-117">Benefits</span></span>

<span data-ttu-id="1ea50-118">Hello následují hello základní výhody, které poskytují brány firewall aplikační brány a webových aplikací:</span><span class="sxs-lookup"><span data-stu-id="1ea50-118">hello following are hello core benefits that Application Gateway and web application firewall provide:</span></span>

### <a name="protection"></a><span data-ttu-id="1ea50-119">Ochrana</span><span class="sxs-lookup"><span data-stu-id="1ea50-119">Protection</span></span>

* <span data-ttu-id="1ea50-120">Chraňte před ohrožení zabezpečení webové a útoky bez úpravy kódu toobackend webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="1ea50-120">Protect your web application from web vulnerabilities and attacks without modification toobackend code.</span></span>

* <span data-ttu-id="1ea50-121">Ochrana více webových aplikací na hello stejný čas za služby application gateway.</span><span class="sxs-lookup"><span data-stu-id="1ea50-121">Protect multiple web applications at hello same time behind an application gateway.</span></span> <span data-ttu-id="1ea50-122">Aplikační brána podporuje, hostování až too20 weby za jednu bránu, která by mohla všechny chráněné proti útokům na web s firewall webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="1ea50-122">Application gateway supports hosting up too20 websites behind a single gateway that could all be protected against web attacks with WAF.</span></span>

### <a name="monitoring"></a><span data-ttu-id="1ea50-123">Monitorování</span><span class="sxs-lookup"><span data-stu-id="1ea50-123">Monitoring</span></span>

* <span data-ttu-id="1ea50-124">Můžete monitorovat útoky na své webové aplikace pomocí protokolu WAF generovaného v reálném čase.</span><span class="sxs-lookup"><span data-stu-id="1ea50-124">Monitor your web application against attacks using a real-time WAF log.</span></span> <span data-ttu-id="1ea50-125">Tento protokol je integrovaná s [Azure monitorování](../monitoring-and-diagnostics/monitoring-overview.md) tootrack firewall webových aplikací výstrah a protokoly a snadno monitorovat trendy.</span><span class="sxs-lookup"><span data-stu-id="1ea50-125">This log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAF alerts and logs and easily monitor trends.</span></span>

* <span data-ttu-id="1ea50-126">Brzy budeme integrovat WAF do služby Azure Security Center.</span><span class="sxs-lookup"><span data-stu-id="1ea50-126">WAF will be integrated with Azure Security Center soon.</span></span> <span data-ttu-id="1ea50-127">Azure Security Center umožňuje centrální zobrazení stavu zabezpečení hello všech vašich prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="1ea50-127">Azure Security Center allows for a central view of hello security state of all your Azure resources.</span></span>

### <a name="customization"></a><span data-ttu-id="1ea50-128">Přizpůsobení</span><span class="sxs-lookup"><span data-stu-id="1ea50-128">Customization</span></span>

* <span data-ttu-id="1ea50-129">Hello možnost toocustomize firewall webových aplikací pravidla a pravidla skupiny toosuit vaše požadavky aplikací a eliminovat falešně pozitivních zjištění.</span><span class="sxs-lookup"><span data-stu-id="1ea50-129">hello ability toocustomize WAF rules and rule groups toosuit your application requirements and eliminate false positives.</span></span>

## <a name="features"></a><span data-ttu-id="1ea50-130">Funkce</span><span class="sxs-lookup"><span data-stu-id="1ea50-130">Features</span></span>

<span data-ttu-id="1ea50-131">Vybavená předem nakonfigurovaným rozhraním řádku 3.0 ve výchozím nastavení brány firewall webových aplikací nebo můžete zvolit toouse 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="1ea50-131">Web application firewall comes preconfigured with CRS 3.0 by default or you can choose toouse 2.2.9.</span></span> <span data-ttu-id="1ea50-132">CRS 3.0 dosahuje menšího počtu falešně pozitivních nálezů oproti verzi 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="1ea50-132">CRS 3.0 offers reduced false positives over 2.2.9.</span></span> <span data-ttu-id="1ea50-133">Hello možnost příliš[přizpůsobit pravidla toosuit potřeb](application-gateway-customize-waf-rules-portal.md) je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="1ea50-133">hello ability too[customize rules toosuit your needs](application-gateway-customize-waf-rules-portal.md) is provided.</span></span> <span data-ttu-id="1ea50-134">Některé z běžných chyb webové hello které brány firewall webových aplikací chrání před zahrnuje:</span><span class="sxs-lookup"><span data-stu-id="1ea50-134">Some of hello common web vulnerabilities which web application firewall protects against includes:</span></span>

* <span data-ttu-id="1ea50-135">Ochrana před útoky prostřednictvím injektáže SQL.</span><span class="sxs-lookup"><span data-stu-id="1ea50-135">SQL injection protection</span></span>
* <span data-ttu-id="1ea50-136">Ochrana před skriptováním mezi weby.</span><span class="sxs-lookup"><span data-stu-id="1ea50-136">Cross site scripting protection</span></span>
* <span data-ttu-id="1ea50-137">Ochrana před běžnými webovými útoky, jako je například injektáž příkazů, pronášení požadavků HTTP, rozdělování odpovědí protokolu HTTP a útok pomocí vložení vzdáleného souboru.</span><span class="sxs-lookup"><span data-stu-id="1ea50-137">Common Web Attacks Protection such as command injection, HTTP request smuggling, HTTP response splitting, and remote file inclusion attack</span></span>
* <span data-ttu-id="1ea50-138">Ochrana před narušením protokolu HTTP.</span><span class="sxs-lookup"><span data-stu-id="1ea50-138">Protection against HTTP protocol violations</span></span>
* <span data-ttu-id="1ea50-139">Ochrana před anomáliemi protokolu HTTP, jako například chybějící údaj user-agent hostitele nebo hlavičky Accept.</span><span class="sxs-lookup"><span data-stu-id="1ea50-139">Protection against HTTP protocol anomalies such as missing host user-agent and accept headers</span></span>
* <span data-ttu-id="1ea50-140">Ochrana před roboty, prohledávacími moduly a skenery.</span><span class="sxs-lookup"><span data-stu-id="1ea50-140">Prevention against bots, crawlers, and scanners</span></span>
* <span data-ttu-id="1ea50-141">Detekce běžných chyb v konfiguraci aplikací (tj. Apache, IIS atd.).</span><span class="sxs-lookup"><span data-stu-id="1ea50-141">Detection of common application misconfigurations (i.e. Apache, IIS, etc.)</span></span>

<span data-ttu-id="1ea50-142">Podrobnější seznam pravidel a jejich ochrany naleznete v následujících hello [základní sady pravidel](#core-rule-sets).</span><span class="sxs-lookup"><span data-stu-id="1ea50-142">For a more detailed list of rules and their protections see hello following [Core rule sets](#core-rule-sets).</span></span>

### <a name="core-rule-sets"></a><span data-ttu-id="1ea50-143">Základní sady pravidel</span><span class="sxs-lookup"><span data-stu-id="1ea50-143">Core rule sets</span></span>

<span data-ttu-id="1ea50-144">Application Gateway podporuje dvě sady pravidel, CRS 3.0 a CRS 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="1ea50-144">Application Gateway supports two rule sets, CRS 3.0, and CRS 2.2.9.</span></span> <span data-ttu-id="1ea50-145">Tyto základní sady pravidel jsou kolekce pravidel, které chrání vaše webové aplikace před škodlivými aktivitami.</span><span class="sxs-lookup"><span data-stu-id="1ea50-145">These core rules sets are collections of rules that protect your web applications for malicious activity.</span></span>

#### <a name="owasp30"></a><span data-ttu-id="1ea50-146">OWASP_3.0</span><span class="sxs-lookup"><span data-stu-id="1ea50-146">OWASP_3.0</span></span>

<span data-ttu-id="1ea50-147">Sada pravidel základní Hello 3.0 poskytuje má 13 skupiny pravidel, jak je znázorněno v následující tabulce hello.</span><span class="sxs-lookup"><span data-stu-id="1ea50-147">hello 3.0 core rule set provided has 13 rule groups as shown in hello following table.</span></span> <span data-ttu-id="1ea50-148">Každá z těchto skupin obsahuje několik pravidel, která mohou být zakázána.</span><span class="sxs-lookup"><span data-stu-id="1ea50-148">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="1ea50-149">RuleGroup</span><span class="sxs-lookup"><span data-stu-id="1ea50-149">RuleGroup</span></span>|<span data-ttu-id="1ea50-150">Popis</span><span class="sxs-lookup"><span data-stu-id="1ea50-150">Description</span></span>|
|---|---|
|<span data-ttu-id="1ea50-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span></span>|<span data-ttu-id="1ea50-152">Obsahuje pravidla tooprotect proti známé nevyžádanou poštu nebo škodlivé aktivity.</span><span class="sxs-lookup"><span data-stu-id="1ea50-152">Contains rules tooprotect against known spammers or malicious activity.</span></span>|
|<span data-ttu-id="1ea50-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span></span>|<span data-ttu-id="1ea50-154">Obsahuje pravidla toolock metod down (PUT, PATCH <...)</span><span class="sxs-lookup"><span data-stu-id="1ea50-154">Contains rules toolock down methods (PUT, PATCH< ..)</span></span>|
|<span data-ttu-id="1ea50-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span></span>| <span data-ttu-id="1ea50-156">Obsahuje pravidla tooprotect proti útokům na dostupnost služby (DoS).</span><span class="sxs-lookup"><span data-stu-id="1ea50-156">Contains rules tooprotect against Denial of Service (DoS) attacks.</span></span>|
|<span data-ttu-id="1ea50-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span></span>| <span data-ttu-id="1ea50-158">Obsahuje pravidla tooprotect proti skenery port a prostředí.</span><span class="sxs-lookup"><span data-stu-id="1ea50-158">Contains rules tooprotect against port and environment scanners.</span></span>|
|<span data-ttu-id="1ea50-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span></span>|<span data-ttu-id="1ea50-160">Obsahuje pravidla tooprotect proti kódování problémy a protokolu.</span><span class="sxs-lookup"><span data-stu-id="1ea50-160">Contains rules tooprotect against protocol and encoding issues.</span></span>|
|<span data-ttu-id="1ea50-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span></span>|<span data-ttu-id="1ea50-162">Obsahuje pravidla tooprotect proti vkládání záhlaví, podvržení požadavku a odpovědi rozdělení</span><span class="sxs-lookup"><span data-stu-id="1ea50-162">Contains rules tooprotect against header injection, request smuggling, and response splitting</span></span>|
|<span data-ttu-id="1ea50-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span></span>|<span data-ttu-id="1ea50-164">Obsahuje pravidla tooprotect proti útokům na soubor a cestu.</span><span class="sxs-lookup"><span data-stu-id="1ea50-164">Contains rules tooprotect against file and path attacks.</span></span>|
|<span data-ttu-id="1ea50-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span></span>|<span data-ttu-id="1ea50-166">Obsahuje pravidla tooprotect proti zahrnutí vzdáleného souboru (RFI)</span><span class="sxs-lookup"><span data-stu-id="1ea50-166">Contains rules tooprotect against Remote File Inclusion (RFI)</span></span>|
|<span data-ttu-id="1ea50-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span></span>|<span data-ttu-id="1ea50-168">Obsahuje pravidla tooprotect znovu vzdálené spuštění kódu.</span><span class="sxs-lookup"><span data-stu-id="1ea50-168">Contains rules tooprotect again Remote Code Execution.</span></span>|
|<span data-ttu-id="1ea50-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span></span>|<span data-ttu-id="1ea50-170">Obsahuje pravidla tooprotect před útoky vkládání PHP.</span><span class="sxs-lookup"><span data-stu-id="1ea50-170">Contains rules tooprotect against PHP injection attacks.</span></span>|
|<span data-ttu-id="1ea50-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span></span>|<span data-ttu-id="1ea50-172">Obsahuje pravidla pro ochranu před křížovým skriptováním.</span><span class="sxs-lookup"><span data-stu-id="1ea50-172">Contains rules for protecting against cross site scripting.</span></span>|
|<span data-ttu-id="1ea50-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span></span>|<span data-ttu-id="1ea50-174">Obsahuje pravidla pro ochranu před injektáží SQL.</span><span class="sxs-lookup"><span data-stu-id="1ea50-174">Contains rules for protecting against SQL injection attacks.</span></span>|
|<span data-ttu-id="1ea50-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span></span>|<span data-ttu-id="1ea50-176">Obsahuje pravidla tooprotect proti útokům záznam relace.</span><span class="sxs-lookup"><span data-stu-id="1ea50-176">Contains rules tooprotect against Session Fixation Attacks.</span></span>|

#### <a name="owasp229"></a><span data-ttu-id="1ea50-177">OWASP_2.2.9</span><span class="sxs-lookup"><span data-stu-id="1ea50-177">OWASP_2.2.9</span></span>

<span data-ttu-id="1ea50-178">Sada pravidel základní Hello 2.2.9 poskytuje má 10 skupiny pravidel, jak je znázorněno v následující tabulce hello.</span><span class="sxs-lookup"><span data-stu-id="1ea50-178">hello 2.2.9 core rule set provided has 10 rule groups as shown in hello following table.</span></span> <span data-ttu-id="1ea50-179">Každá z těchto skupin obsahuje několik pravidel, která mohou být zakázána.</span><span class="sxs-lookup"><span data-stu-id="1ea50-179">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="1ea50-180">RuleGroup</span><span class="sxs-lookup"><span data-stu-id="1ea50-180">RuleGroup</span></span>|<span data-ttu-id="1ea50-181">Popis</span><span class="sxs-lookup"><span data-stu-id="1ea50-181">Description</span></span>|
|---|---|
|<span data-ttu-id="1ea50-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span></span>|<span data-ttu-id="1ea50-183">Obsahuje pravidla tooprotect proti porušení protocol (neplatné znaky, GET s textu žádosti atd.)</span><span class="sxs-lookup"><span data-stu-id="1ea50-183">Contains rules tooprotect against protocol violations (invalid characters, GET with a request body, etc.)</span></span>|
|<span data-ttu-id="1ea50-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span></span>|<span data-ttu-id="1ea50-185">Obsahuje pravidla tooprotect proti záhlaví nesprávné informace.</span><span class="sxs-lookup"><span data-stu-id="1ea50-185">Contains rules tooprotect against incorrect header information.</span></span>|
|<span data-ttu-id="1ea50-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span></span>|<span data-ttu-id="1ea50-187">Obsahuje pravidla tooprotect proti argumentů nebo soubory, které překračují omezení.</span><span class="sxs-lookup"><span data-stu-id="1ea50-187">Contains rules tooprotect against arguments or files that exceed limitations.</span></span>|
|<span data-ttu-id="1ea50-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span></span>|<span data-ttu-id="1ea50-189">Obsahuje pravidla tooprotect před s omezeným přístupem metody a hlavičky a typy souborů.</span><span class="sxs-lookup"><span data-stu-id="1ea50-189">Contains rules tooprotect against restricted methods, headers, and file types.</span></span> |
|<span data-ttu-id="1ea50-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span></span>|<span data-ttu-id="1ea50-191">Obsahuje pravidla tooprotect proti webové prohledávací moduly a skenerů.</span><span class="sxs-lookup"><span data-stu-id="1ea50-191">Contains rules tooprotect against web crawlers and scanners.</span></span>|
|<span data-ttu-id="1ea50-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span></span>|<span data-ttu-id="1ea50-193">Obsahuje pravidla tooprotect před obecné útoky (záznam relace vzdáleného souboru zahrnutí, vkládání PHP, atd.)</span><span class="sxs-lookup"><span data-stu-id="1ea50-193">Contains rules tooprotect against generic attacks (session fixation, remote file inclusion, PHP injection, etc.)</span></span>|
|<span data-ttu-id="1ea50-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span></span>|<span data-ttu-id="1ea50-195">Obsahuje pravidla tooprotect před útoky vkládání SQL</span><span class="sxs-lookup"><span data-stu-id="1ea50-195">Contains rules tooprotect against SQL injection attacks</span></span>|
|<span data-ttu-id="1ea50-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span></span>|<span data-ttu-id="1ea50-197">Obsahuje pravidla tooprotect proti křížové skriptování.</span><span class="sxs-lookup"><span data-stu-id="1ea50-197">Contains rules tooprotect against cross site scripting.</span></span>|
|<span data-ttu-id="1ea50-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span></span>|<span data-ttu-id="1ea50-199">Obsahuje pravidla tooprotect před útoky traversal cesta</span><span class="sxs-lookup"><span data-stu-id="1ea50-199">Contains a rule tooprotect against path traversal attacks</span></span>|
|<span data-ttu-id="1ea50-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span><span class="sxs-lookup"><span data-stu-id="1ea50-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span></span>|<span data-ttu-id="1ea50-201">Obsahuje pravidla tooprotect proti trojskými koni.</span><span class="sxs-lookup"><span data-stu-id="1ea50-201">Contains rules tooprotect against backdoor Trojans.</span></span>|

### <a name="waf-modes"></a><span data-ttu-id="1ea50-202">Režimy WAF</span><span class="sxs-lookup"><span data-stu-id="1ea50-202">WAF Modes</span></span>

<span data-ttu-id="1ea50-203">Aplikace brány firewall webových aplikací může být nakonfigurované toorun v hello následujících dvou režimů:</span><span class="sxs-lookup"><span data-stu-id="1ea50-203">Application Gateway WAF can be configured toorun in hello following two modes:</span></span>

* <span data-ttu-id="1ea50-204">**Detekce režimu** – Pokud nakonfigurované toorun v režimu detekce aplikace brány firewall webových aplikací sleduje a zaznamená všechny výstrahy hrozba v souboru protokolu tooa.</span><span class="sxs-lookup"><span data-stu-id="1ea50-204">**Detection mode** – When configured toorun in detection mode, Application Gateway WAF monitors and logs all threat alerts in tooa log file.</span></span> <span data-ttu-id="1ea50-205">Diagnostiku protokolování pro službu Application Gateway by měl být zapnut pomocí hello **diagnostiky** části.</span><span class="sxs-lookup"><span data-stu-id="1ea50-205">Logging diagnostics for Application Gateway should be turned on using hello **Diagnostics** section.</span></span> <span data-ttu-id="1ea50-206">Musíte taky tooensure, který hello firewall webových aplikací je vybraná a zapnuta protokolu.</span><span class="sxs-lookup"><span data-stu-id="1ea50-206">You also need tooensure that hello WAF log is selected and turned on.</span></span> <span data-ttu-id="1ea50-207">když je firewall webových aplikací spuštěný v režimu detekce, neblokuje příchozí požadavky.</span><span class="sxs-lookup"><span data-stu-id="1ea50-207">When running in detection mode web application firewall does not block incoming requests.</span></span>
* <span data-ttu-id="1ea50-208">**Prevence režimu** – když nakonfigurované toorun v režimu prevence, Application Gateway aktivně blokuje napadením zjistil jeho pravidly.</span><span class="sxs-lookup"><span data-stu-id="1ea50-208">**Prevention mode** – When configured toorun in prevention mode, Application Gateway actively blocks intrusions and attacks detected by its rules.</span></span> <span data-ttu-id="1ea50-209">Hello útočník obdrží 403 výjimce neoprávněného přístupu a hello připojení bude ukončeno.</span><span class="sxs-lookup"><span data-stu-id="1ea50-209">hello attacker receives a 403 unauthorized access exception and hello connection is terminated.</span></span> <span data-ttu-id="1ea50-210">Prevence režimu pokračuje toolog takové útoky v protokolech hello firewall webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="1ea50-210">Prevention mode continues toolog such attacks in hello WAF logs.</span></span>

### <span data-ttu-id="1ea50-211"><a name="application-gateway-waf-reports"></a>Monitorování WAF</span><span class="sxs-lookup"><span data-stu-id="1ea50-211"><a name="application-gateway-waf-reports"></a>WAF Monitoring</span></span>

<span data-ttu-id="1ea50-212">Monitorování stavu hello svoji službu application gateway je důležité.</span><span class="sxs-lookup"><span data-stu-id="1ea50-212">Monitoring hello health of your application gateway is important.</span></span> <span data-ttu-id="1ea50-213">Monitorování stavu hello vaší webové aplikace brány firewall a hello aplikací, které chrání je zajišťována prostřednictvím protokolování a integraci s Azure monitorování, Azure Security Center (už brzy) a analýzy protokolů.</span><span class="sxs-lookup"><span data-stu-id="1ea50-213">Monitoring hello health of your web application firewall and hello applications that it protects are provided through logging and integration with Azure Monitor, Azure Security Center (coming soon), and Log Analytics.</span></span>

![Diagnostika](./media/application-gateway-web-application-firewall-overview/diagnostics.png)

#### <a name="azure-monitor"></a><span data-ttu-id="1ea50-215">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="1ea50-215">Azure Monitor</span></span>

<span data-ttu-id="1ea50-216">Každý protokol aplikační brány je integrovaný do služby [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1ea50-216">Each application gateway log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span></span>  <span data-ttu-id="1ea50-217">To vám umožní tootrack diagnostické informace, včetně výstrahy firewall webových aplikací a protokoly.</span><span class="sxs-lookup"><span data-stu-id="1ea50-217">This allows you tootrack diagnostic information including WAF alerts and logs.</span></span>  <span data-ttu-id="1ea50-218">Tato funkce je uvedené v hello prostředku aplikační brány hello portálu v části hello **diagnostiky** kartě nebo přímo prostřednictvím hello Azure monitorování služby.</span><span class="sxs-lookup"><span data-stu-id="1ea50-218">This capability is provided within hello Application Gateway resource in hello portal under hello **Diagnostics** tab or through hello Azure Monitor service directly.</span></span> <span data-ttu-id="1ea50-219">toolearn najdete informace o povolení diagnostických protokolů pro službu application gateway [diagnostics Application Gateway](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="1ea50-219">toolearn more about enabling diagnostic logs for application gateway visit [Application Gateway diagnostics](application-gateway-diagnostics.md)</span></span>

#### <a name="azure-security-center"></a><span data-ttu-id="1ea50-220">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="1ea50-220">Azure Security Center</span></span>

<span data-ttu-id="1ea50-221">[Azure Security Center](../security-center/security-center-intro.md) pomáhá zabránit, zjišťovat a odpovědět toothreats s lepší přehled a kontrolu nad hello zabezpečení vašich prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="1ea50-221">[Azure Security Center](../security-center/security-center-intro.md) helps you prevent, detect, and respond toothreats with increased visibility into and control over hello security of your Azure resources.</span></span> <span data-ttu-id="1ea50-222">Služba Application Gateway je nyní [integrována do služby Azure Security Center](application-gateway-integration-security-center.md).</span><span class="sxs-lookup"><span data-stu-id="1ea50-222">Application gateway now [integrates into Azure Security Center](application-gateway-integration-security-center.md).</span></span> <span data-ttu-id="1ea50-223">Azure Security Center vyhledá prostředí toodetect nechráněné webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="1ea50-223">Azure Security Center scans your environment toodetect unprotected web applications.</span></span> <span data-ttu-id="1ea50-224">Ji můžete nyní doporučujeme aplikace brány firewall webových aplikací tooprotect tyto prostředky snadno napadnutelný.</span><span class="sxs-lookup"><span data-stu-id="1ea50-224">It can now recommend application gateway WAF tooprotect these vulnerable resources.</span></span> <span data-ttu-id="1ea50-225">Aplikace brány firewall webových aplikací můžete vytvořit přímo z hello Azure Security Center.</span><span class="sxs-lookup"><span data-stu-id="1ea50-225">You can directly create application gateway WAF from hello Azure Security Center.</span></span>  <span data-ttu-id="1ea50-226">Tyto instance firewall webových aplikací jsou integrované s Azure Security Center a bude posílat upozornění a informace o stavu zpět tooAzure Security Center pro vytváření sestav.</span><span class="sxs-lookup"><span data-stu-id="1ea50-226">These WAF instances are integrated with Azure Security Center and will send alerts and health information back tooAzure Security Center for reporting.</span></span>

![Obrázek 1](./media/application-gateway-web-application-firewall-overview/figure1.png)

#### <a name="logging"></a><span data-ttu-id="1ea50-228">Protokolování</span><span class="sxs-lookup"><span data-stu-id="1ea50-228">Logging</span></span>

<span data-ttu-id="1ea50-229">Firewall webových aplikací (WAF) služby Application Gateway poskytuje podrobné generování sestav o každém útoky, který detekuje.</span><span class="sxs-lookup"><span data-stu-id="1ea50-229">Application Gateway WAF provides detailed reporting on each threat it detects.</span></span> <span data-ttu-id="1ea50-230">Protokolování je integrované v protokolech diagnostiky Azure a výstrahy se zaznamenávají ve formátu JSON.</span><span class="sxs-lookup"><span data-stu-id="1ea50-230">Logging is integrated with Azure Diagnostics logs and alerts are recorded in a json format.</span></span> <span data-ttu-id="1ea50-231">Tyto protokoly je možné integrovat se službou [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="1ea50-231">These logs can be integrated with [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/waf2.png)

```json
{
  "resourceId": "/SUBSCRIPTIONS/{subscriptionId}/RESOURCEGROUPS/{resourceGroupId}/PROVIDERS/MICROSOFT.NETWORK/APPLICATIONGATEWAYS/{appGatewayName}",
  "operationName": "ApplicationGatewayFirewall",
  "time": "2017-03-20T15:52:09.1494499Z",
  "category": "ApplicationGatewayFirewallLog",
  "properties": {
    "instanceId": "ApplicationGatewayRole_IN_0",
    "clientIp": "104.210.252.3",
    "clientPort": "4835",
    "requestUri": "/?a=%3Cscript%3Ealert(%22Hello%22);%3C/script%3E",
    "ruleSetType": "OWASP",
    "ruleSetVersion": "3.0",
    "ruleId": "941320",
    "message": "Possible XSS Attack Detected - HTML Tag Handler",
    "action": "Blocked",
    "site": "Global",
    "details": {
      "message": "Warning. Pattern match \"<(a|abbr|acronym|address|applet|area|audioscope|b|base|basefront|bdo|bgsound|big|blackface|blink|blockquote|body|bq|br|button|caption|center|cite|code|col|colgroup|comment|dd|del|dfn|dir|div|dl|dt|em|embed|fieldset|fn|font|form|frame|frameset|h1|head|h ...\" at ARGS:a.",
      "data": "Matched Data: <script> found within ARGS:a: <script>alert(\\x22hello\\x22);</script>",
      "file": "rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf",
      "line": "865"
    }
  }
} 

```

## <a name="application-gateway-waf-sku-pricing"></a><span data-ttu-id="1ea50-233">Ceny SKU WAF služby Application Gateway</span><span class="sxs-lookup"><span data-stu-id="1ea50-233">Application Gateway WAF SKU pricing</span></span>

<span data-ttu-id="1ea50-234">Firewall webových aplikací je k dispozici jako nová položka WAF SKU.</span><span class="sxs-lookup"><span data-stu-id="1ea50-234">Web application firewall is available under a new a WAF SKU.</span></span> <span data-ttu-id="1ea50-235">Tato SKU je k dispozici pouze v modelu zřizování Azure Resource Manager a není v rámci modelu nasazení classic hello.</span><span class="sxs-lookup"><span data-stu-id="1ea50-235">This SKU is available only in Azure Resource Manager provisioning model and not under hello classic deployment model.</span></span> <span data-ttu-id="1ea50-236">WAF SKU je navíc dostupný jen pro střední a velké instance aplikační brány.</span><span class="sxs-lookup"><span data-stu-id="1ea50-236">Additionally WAF SKU comes only in medium and large application gateway instance sizes.</span></span> <span data-ttu-id="1ea50-237">Všechny hello limity pro službu application gateway platí také toohello SKU firewall webových aplikací.</span><span class="sxs-lookup"><span data-stu-id="1ea50-237">All hello limits for application gateway also apply toohello WAF SKU.</span></span> <span data-ttu-id="1ea50-238">Ceny jsou založeny na hodinové sazbě za instanci brány a na poplatcích za zpracování dat.</span><span class="sxs-lookup"><span data-stu-id="1ea50-238">Pricing is based on per hour gateway instance charge and data processing charge.</span></span> <span data-ttu-id="1ea50-239">Hodinová sazba za bránu se pro položku WAF SKU liší od sazby pro standardní položky SKU. Sazby jsou uvedeny v článku [Podrobnosti o cenách Application Gateway](https://azure.microsoft.com/pricing/details/application-gateway/).</span><span class="sxs-lookup"><span data-stu-id="1ea50-239">Per hour gateway pricing for WAF SKU is different from Standard SKU charges and can be found at [Application Gateway pricing details](https://azure.microsoft.com/pricing/details/application-gateway/).</span></span> <span data-ttu-id="1ea50-240">Zpracování dat, které zůstanou poplatky hello stejné.</span><span class="sxs-lookup"><span data-stu-id="1ea50-240">Data processing charges remain hello same.</span></span> <span data-ttu-id="1ea50-241">Neexistují žádné poplatky za pravidla nebo skupiny pravidel.</span><span class="sxs-lookup"><span data-stu-id="1ea50-241">There is no per rule or rule group charges.</span></span> <span data-ttu-id="1ea50-242">Můžete chránit několika webových aplikací za hello stejné webové aplikace brány firewall a neexistují žádné další poplatky za podporu více aplikací.</span><span class="sxs-lookup"><span data-stu-id="1ea50-242">You can protect multiple web applications behind hello same web application firewall and there are no additional charges for supporting multiple applications.</span></span> 

<span data-ttu-id="1ea50-243">Pro firewall webových aplikací, začne běžet fakturace efektivně 5/5/2017, dokud pak hello brány firewall webových aplikací SKU pokračuje toobe výši standardních sazeb.</span><span class="sxs-lookup"><span data-stu-id="1ea50-243">Billing for WAF starts effectively 5/5/2017, until then hello WAF SKU gateways continues toobe charged at standard rates.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1ea50-244">Další kroky</span><span class="sxs-lookup"><span data-stu-id="1ea50-244">Next steps</span></span>

<span data-ttu-id="1ea50-245">Po dozvědět další informace o možnostech hello firewall webových aplikací, navštivte [jak tooconfigure web application firewall na aplikační brána](application-gateway-web-application-firewall-portal.md).</span><span class="sxs-lookup"><span data-stu-id="1ea50-245">After learning more about hello capabilities of WAF, visit [How tooconfigure web application firewall on Application Gateway](application-gateway-web-application-firewall-portal.md).</span></span>

