---
title: "aaaCreate služby Azure App Service environment pomocí šablony Resource Manageru"
description: "Vysvětluje, jak toocreate prostředí externí nebo ILB Azure App Service pomocí šablony Resource Manageru"
services: app-service
documentationcenter: na
author: ccompy
manager: stefsch
ms.assetid: 6eb7d43d-e820-4a47-818c-80ff7d3b6f8e
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: ccompy
ms.openlocfilehash: c8aeedee675a6e931169b725ee916cc7fa8f762f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="create-an-ase-by-using-an-azure-resource-manager-template"></a><span data-ttu-id="90ade-103">Vytvořit App Service Environment pomocí šablony Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="90ade-103">Create an ASE by using an Azure Resource Manager template</span></span>

## <a name="overview"></a><span data-ttu-id="90ade-104">Přehled</span><span class="sxs-lookup"><span data-stu-id="90ade-104">Overview</span></span>
<span data-ttu-id="90ade-105">Prostředí Azure App Service (ASEs) může být vytvořen pomocí koncový bod přístupné z Internetu nebo koncový bod na interní adresu ve virtuální sítě Azure (VNet).</span><span class="sxs-lookup"><span data-stu-id="90ade-105">Azure App Service environments (ASEs) can be created with an internet-accessible endpoint or an endpoint on an internal address in an Azure virtual network (VNet).</span></span> <span data-ttu-id="90ade-106">Vytvoření s vnitřní koncový bod tohoto koncového bodu je zadaný ve Azure název součásti (ILB) pro vyrovnávání zatížení interní.</span><span class="sxs-lookup"><span data-stu-id="90ade-106">When created with an internal endpoint, that endpoint is provided by an Azure component called an internal load balancer (ILB).</span></span> <span data-ttu-id="90ade-107">Hello App Service Environment na interní IP adresu se nazývá ILB App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="90ade-107">hello ASE on an internal IP address is called an ILB ASE.</span></span> <span data-ttu-id="90ade-108">Hello App Service Environment se veřejný koncový bod se nazývá externí App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="90ade-108">hello ASE with a public endpoint is called an External ASE.</span></span> 

<span data-ttu-id="90ade-109">App Service Environment lze vytvořit pomocí portálu Azure hello nebo šablonu Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="90ade-109">An ASE can be created by using hello Azure portal or an Azure Resource Manager template.</span></span> <span data-ttu-id="90ade-110">Tento článek vás provede kroky hello a syntaxe, je třeba toocreate na externí App Service Environment nebo ILB App Service Environment pomocí šablony Resource Manageru.</span><span class="sxs-lookup"><span data-stu-id="90ade-110">This article walks through hello steps and syntax you need toocreate an External ASE or ILB ASE with Resource Manager templates.</span></span> <span data-ttu-id="90ade-111">jak toocreate App Service Environment v hello portál Azure, najdete v části toolearn [zkontrolujte externí App Service Environment] [ MakeExternalASE] nebo [zkontrolujte App Service Environment ILB][MakeILBASE].</span><span class="sxs-lookup"><span data-stu-id="90ade-111">toolearn how toocreate an ASE in hello Azure portal, see [Make an External ASE][MakeExternalASE] or [Make an ILB ASE][MakeILBASE].</span></span>

<span data-ttu-id="90ade-112">Když vytvoříte v hello portál Azure App Service Environment, můžete vytvořit virtuální síť v hello stejný čas nebo vyberte dříve vytvořený toodeploy virtuální sítě do.</span><span class="sxs-lookup"><span data-stu-id="90ade-112">When you create an ASE in hello Azure portal, you can create your VNet at hello same time or choose a preexisting VNet toodeploy into.</span></span> <span data-ttu-id="90ade-113">Při vytváření App Service Environment ze šablony, je nutné začít s:</span><span class="sxs-lookup"><span data-stu-id="90ade-113">When you create an ASE from a template, you must start with:</span></span> 

* <span data-ttu-id="90ade-114">Virtuální sítě Resource Manageru.</span><span class="sxs-lookup"><span data-stu-id="90ade-114">A Resource Manager VNet.</span></span>
* <span data-ttu-id="90ade-115">Podsítě v této virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="90ade-115">A subnet in that VNet.</span></span> <span data-ttu-id="90ade-116">Doporučujeme, abyste velikost podsítě App Service Environment `/25` s růstem do budoucna tooaccomodate 128 adresy.</span><span class="sxs-lookup"><span data-stu-id="90ade-116">We recommend an ASE subnet size of `/25` with 128 addresses tooaccomodate future growth.</span></span> <span data-ttu-id="90ade-117">Po vytvoření hello App Service Environment, nelze změnit velikost hello.</span><span class="sxs-lookup"><span data-stu-id="90ade-117">After hello ASE is created, you can't change hello size.</span></span>
* <span data-ttu-id="90ade-118">ID prostředku Hello z vaší virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="90ade-118">hello resource ID from your VNet.</span></span> <span data-ttu-id="90ade-119">Tyto informace můžete získat z hello portálu Azure v části vlastnosti vaší virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="90ade-119">You can get this information from hello Azure portal under your virtual network properties.</span></span>
* <span data-ttu-id="90ade-120">Hello předplatné, které chcete toodeploy do.</span><span class="sxs-lookup"><span data-stu-id="90ade-120">hello subscription you want toodeploy into.</span></span>
* <span data-ttu-id="90ade-121">Hello umístění, do kterého chcete toodeploy do.</span><span class="sxs-lookup"><span data-stu-id="90ade-121">hello location you want toodeploy into.</span></span>

<span data-ttu-id="90ade-122">tooautomate vaše vytvoření App Service Environment:</span><span class="sxs-lookup"><span data-stu-id="90ade-122">tooautomate your ASE creation:</span></span>

1. <span data-ttu-id="90ade-123">Vytvořte App Service Environment hello ze šablony.</span><span class="sxs-lookup"><span data-stu-id="90ade-123">Create hello ASE from a template.</span></span> <span data-ttu-id="90ade-124">Pokud vytvoříte externí App Service Environment, budete hotovi po provedení tohoto kroku.</span><span class="sxs-lookup"><span data-stu-id="90ade-124">If you create an External ASE, you're finished after this step.</span></span> <span data-ttu-id="90ade-125">Pokud vytvoříte app Service Environment ILB, existuje několik toodo další věci.</span><span class="sxs-lookup"><span data-stu-id="90ade-125">If you create an ILB ASE, there are a few more things toodo.</span></span>

2. <span data-ttu-id="90ade-126">Po vytvoření vaší App Service Environment ILB je nahrát certifikát SSL, který odpovídá vaší domény ILB App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="90ade-126">After your ILB ASE is created, an SSL certificate that matches your ILB ASE domain is uploaded.</span></span>

3. <span data-ttu-id="90ade-127">Hello nahraný certifikát SSL přiřazený toohello App Service Environment ILB jako certifikát SSL jeho "default".</span><span class="sxs-lookup"><span data-stu-id="90ade-127">hello uploaded SSL certificate is assigned toohello ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="90ade-128">Tento certifikát se používá pro tooapps provoz protokolu SSL na hello ILB App Service Environment, když používají hello běžné kořenové domény, která je přiřazená toohello App Service Environment (například https://someapp.mycustomrootcomain.com).</span><span class="sxs-lookup"><span data-stu-id="90ade-128">This certificate is used for SSL traffic tooapps on hello ILB ASE when they use hello common root domain that's assigned toohello ASE (for example, https://someapp.mycustomrootcomain.com).</span></span>


## <a name="create-hello-ase"></a><span data-ttu-id="90ade-129">Vytvořit App Service Environment hello</span><span class="sxs-lookup"><span data-stu-id="90ade-129">Create hello ASE</span></span>
<span data-ttu-id="90ade-130">Šablony Resource Manageru, která vytvoří App Service Environment a jeho přidružené parametry souboru je k dispozici [v příklad] [ quickstartasev2create] na Githubu.</span><span class="sxs-lookup"><span data-stu-id="90ade-130">A Resource Manager template that creates an ASE and its associated parameters file is available [in an example][quickstartasev2create] on GitHub.</span></span>

<span data-ttu-id="90ade-131">Pokud chcete toomake App Service Environment ILB, použijte tyto šablony Resource Manageru [příklady][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="90ade-131">If you want toomake an ILB ASE, use these Resource Manager template [examples][quickstartilbasecreate].</span></span> <span data-ttu-id="90ade-132">Budou nahrazovat toothat případ použití.</span><span class="sxs-lookup"><span data-stu-id="90ade-132">They cater toothat use case.</span></span> <span data-ttu-id="90ade-133">Většina hello parametrů v hello *azuredeploy.parameters.json* souboru jsou běžné toohello vytvoření ILB ASEs a externí ASEs.</span><span class="sxs-lookup"><span data-stu-id="90ade-133">Most of hello parameters in hello *azuredeploy.parameters.json* file are common toohello creation of ILB ASEs and External ASEs.</span></span> <span data-ttu-id="90ade-134">Hello následující seznam volá výstupní parametry speciální Poznámka, nebo které jsou jedinečné, při vytváření App Service Environment ILB:</span><span class="sxs-lookup"><span data-stu-id="90ade-134">hello following list calls out parameters of special note, or that are unique, when you create an ILB ASE:</span></span>

* <span data-ttu-id="90ade-135">*interalLoadBalancingMode*: ve většině případů nastavena tato too3, to znamená i přenosy HTTP/HTTPS na porty 80/443, a porty channel data ovládacího prvku nebo hello naslouchali tooby služby hello FTP na hello App Service Environment, bude vázané tooan ILB přidělené virtuální sítě Interní adresa.</span><span class="sxs-lookup"><span data-stu-id="90ade-135">*interalLoadBalancingMode*: In most cases, set this too3, which means both HTTP/HTTPS traffic on ports 80/443, and hello control/data channel ports listened tooby hello FTP service on hello ASE, will be bound tooan ILB-allocated virtual network internal address.</span></span> <span data-ttu-id="90ade-136">Pokud je tato vlastnost nastavená too2, pouze porty hello FTP související se službou (řízení a datové kanály) jsou vázané tooan ILB adresu.</span><span class="sxs-lookup"><span data-stu-id="90ade-136">If this property is set too2, only hello FTP service-related ports (both control and data channels) are bound tooan ILB address.</span></span> <span data-ttu-id="90ade-137">Hello přenosy HTTP/HTTPS zůstává na veřejné VIP hello.</span><span class="sxs-lookup"><span data-stu-id="90ade-137">hello HTTP/HTTPS traffic remains on hello public VIP.</span></span>
* <span data-ttu-id="90ade-138">*dnsSuffix*: Tento parametr definuje hello výchozí kořenové domény, který je přiřazený toohello App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="90ade-138">*dnsSuffix*: This parameter defines hello default root domain that's assigned toohello ASE.</span></span> <span data-ttu-id="90ade-139">V hello veřejné varianta Azure App Service, hello výchozí kořenové domény pro všechny webové aplikace je *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="90ade-139">In hello public variation of Azure App Service, hello default root domain for all web apps is *azurewebsites.net*.</span></span> <span data-ttu-id="90ade-140">App Service Environment ILB je interní tooa zákazníka virtuální sítě, a proto doesn't make sense toouse hello veřejné služby výchozí kořenové domény.</span><span class="sxs-lookup"><span data-stu-id="90ade-140">Because an ILB ASE is internal tooa customer's virtual network, it doesn't make sense toouse hello public service's default root domain.</span></span> <span data-ttu-id="90ade-141">Místo toho ILB App Service Environment, musí mít výchozí kořenové domény, která je vhodná pro použití v rámci společnosti interní virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="90ade-141">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span> <span data-ttu-id="90ade-142">Společnost Contoso může například použít výchozí kořenovou doménu z *interní contoso.com* pro aplikace, které jsou určené toobe přeložit a přístupné pouze v rámci virtuální síť společnosti Contoso.</span><span class="sxs-lookup"><span data-stu-id="90ade-142">For example, Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended toobe resolvable and accessible only within Contoso's virtual network.</span></span> 
* <span data-ttu-id="90ade-143">*ipSslAddressCount*: Tento parametr automaticky výchozí hodnota 0 v hello tooa *azuredeploy.json* soubor protože ILB ASEs mít pouze jednu adresu ILB.</span><span class="sxs-lookup"><span data-stu-id="90ade-143">*ipSslAddressCount*: This parameter automatically defaults tooa value of 0 in hello *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span> <span data-ttu-id="90ade-144">Nejsou žádné explicitní IP SSL adresy pro ILB App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="90ade-144">There are no explicit IP-SSL addresses for an ILB ASE.</span></span> <span data-ttu-id="90ade-145">Proto hello fond adres IP SSL pro ILB App Service Environment musí být nastavena toozero.</span><span class="sxs-lookup"><span data-stu-id="90ade-145">Hence, hello IP-SSL address pool for an ILB ASE must be set toozero.</span></span> <span data-ttu-id="90ade-146">Jinak dojde k chybě při zřizování.</span><span class="sxs-lookup"><span data-stu-id="90ade-146">Otherwise, a provisioning error occurs.</span></span> 

<span data-ttu-id="90ade-147">Po hello *azuredeploy.parameters.json* souboru je vyplněno, vytvořte hello App Service Environment pomocí fragmentu kódu Powershellu hello.</span><span class="sxs-lookup"><span data-stu-id="90ade-147">After hello *azuredeploy.parameters.json* file is filled in, create hello ASE by using hello PowerShell code snippet.</span></span> <span data-ttu-id="90ade-148">Změna hello cesty toomatch hello Resource Manager soubor šablony umístění souborů na váš počítač.</span><span class="sxs-lookup"><span data-stu-id="90ade-148">Change hello file paths toomatch hello Resource Manager template-file locations on your machine.</span></span> <span data-ttu-id="90ade-149">Pamatovat si toosupply vlastních hodnot pro název nasazení Resource Manager hello a název skupiny prostředků hello:</span><span class="sxs-lookup"><span data-stu-id="90ade-149">Remember toosupply your own values for hello Resource Manager deployment name and hello resource group name:</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="90ade-150">Trvá hodinu toobe App Service Environment hello vytvořili.</span><span class="sxs-lookup"><span data-stu-id="90ade-150">It takes about an hour for hello ASE toobe created.</span></span> <span data-ttu-id="90ade-151">Potom hello App Service Environment se zobrazí v portálu hello hello seznamu ASEs hello odběru, který aktivuje hello nasazení.</span><span class="sxs-lookup"><span data-stu-id="90ade-151">Then hello ASE shows up in hello portal in hello list of ASEs for hello subscription that triggered hello deployment.</span></span>

## <a name="upload-and-configure-hello-default-ssl-certificate"></a><span data-ttu-id="90ade-152">Nahrání a konfigurace certifikátu protokolu SSL "Výchozí" hello</span><span class="sxs-lookup"><span data-stu-id="90ade-152">Upload and configure hello "default" SSL certificate</span></span>
<span data-ttu-id="90ade-153">Certifikát SSL musí být přidružen App Service Environment hello jako certifikát SSL "Výchozí" hello, který je tooapps připojení SSL používané tooestablish.</span><span class="sxs-lookup"><span data-stu-id="90ade-153">An SSL certificate must be associated with hello ASE as hello "default" SSL certificate that's used tooestablish SSL connections tooapps.</span></span> <span data-ttu-id="90ade-154">Pokud přípona DNS hello App Service Environment na výchozím nastavení je *interní contoso.com*, toohttps://some-random-app.internal-contoso.com připojení vyžaduje certifikát SSL, který je platný pro **.internal contoso.com* .</span><span class="sxs-lookup"><span data-stu-id="90ade-154">If hello ASE's default DNS suffix is *internal-contoso.com*, a connection toohttps://some-random-app.internal-contoso.com requires an SSL certificate that's valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="90ade-155">Získejte platný certifikát SSL pomocí interní certifikačních autorit, nákupu certifikát z externího vystavitele, nebo certifikát podepsaný svým držitelem.</span><span class="sxs-lookup"><span data-stu-id="90ade-155">Obtain a valid SSL certificate by using internal certificate authorities, purchasing a certificate from an external issuer, or using a self-signed certificate.</span></span> <span data-ttu-id="90ade-156">Bez ohledu na to hello zdroje hello certifikátu protokolu SSL musí být správně nakonfigurované hello následující atributy certifikátu:</span><span class="sxs-lookup"><span data-stu-id="90ade-156">Regardless of hello source of hello SSL certificate, hello following certificate attributes must be configured properly:</span></span>

* <span data-ttu-id="90ade-157">**Předmět**: Tento atribut musí být nastaven příliš **.your kořenové domény here.com*.</span><span class="sxs-lookup"><span data-stu-id="90ade-157">**Subject**: This attribute must be set too**.your-root-domain-here.com*.</span></span>
* <span data-ttu-id="90ade-158">**Alternativní název subjektu**: Tento atribut musí obsahovat i **.your kořenové domény here.com* a **.scm.your-kořenové-domain-here.com*. Toohello připojení SSL SCM/Kudu lokality spojené s každou aplikaci použít adresu ve tvaru hello *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="90ade-158">**Subject Alternative Name**: This attribute must include both **.your-root-domain-here.com* and **.scm.your-root-domain-here.com*. SSL connections toohello SCM/Kudu site associated with each app use an address of hello form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="90ade-159">S platným certifikátem SSL v dolním je potřeba dva další přípravné kroky.</span><span class="sxs-lookup"><span data-stu-id="90ade-159">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span> <span data-ttu-id="90ade-160">Převést nebo uložení certifikátu SSL hello jako soubor .pfx.</span><span class="sxs-lookup"><span data-stu-id="90ade-160">Convert/save hello SSL certificate as a .pfx file.</span></span> <span data-ttu-id="90ade-161">Mějte na paměti, že soubor .pfx hello musí zahrnovat všechny zprostředkující a kořenové certifikáty.</span><span class="sxs-lookup"><span data-stu-id="90ade-161">Remember that hello .pfx file must include all intermediate and root certificates.</span></span> <span data-ttu-id="90ade-162">Zabezpečte ji pomocí hesla.</span><span class="sxs-lookup"><span data-stu-id="90ade-162">Secure it with a password.</span></span>

<span data-ttu-id="90ade-163">soubor .pfx Hello musí toobe převést na řetězec ve formátu base64, protože certifikát SSL hello je odeslán pomocí šablony Resource Manageru.</span><span class="sxs-lookup"><span data-stu-id="90ade-163">hello .pfx file needs toobe converted into a base64 string because hello SSL certificate is uploaded by using a Resource Manager template.</span></span> <span data-ttu-id="90ade-164">Protože šablony Resource Manageru jsou textové soubory, vyhledejte soubor .pfx hello je převést na řetězec ve formátu base64.</span><span class="sxs-lookup"><span data-stu-id="90ade-164">Because Resource Manager templates are text files, hello .pfx file must be converted into a base64 string.</span></span> <span data-ttu-id="90ade-165">Tímto způsobem může být zahrnuta jako parametr šablony hello.</span><span class="sxs-lookup"><span data-stu-id="90ade-165">This way it can be included as a parameter of hello template.</span></span>

<span data-ttu-id="90ade-166">Následující fragment kódu prostředí PowerShell k použití hello:</span><span class="sxs-lookup"><span data-stu-id="90ade-166">Use hello following PowerShell code snippet to:</span></span>

* <span data-ttu-id="90ade-167">Vygenerujte certifikát podepsaný svým držitelem.</span><span class="sxs-lookup"><span data-stu-id="90ade-167">Generate a self-signed certificate.</span></span>
* <span data-ttu-id="90ade-168">Hello certifikát exportujte jako soubor .pfx.</span><span class="sxs-lookup"><span data-stu-id="90ade-168">Export hello certificate as a .pfx file.</span></span>
* <span data-ttu-id="90ade-169">Soubor .pfx hello převeďte řetězec s kódováním base64.</span><span class="sxs-lookup"><span data-stu-id="90ade-169">Convert hello .pfx file into a base64-encoded string.</span></span>
* <span data-ttu-id="90ade-170">Hello řetězec s kódováním base64 tooa samostatný soubor uložte.</span><span class="sxs-lookup"><span data-stu-id="90ade-170">Save hello base64-encoded string tooa separate file.</span></span> 

<span data-ttu-id="90ade-171">Tento kód prostředí PowerShell pro kódování base64 byla přizpůsobena z hello [skriptů prostředí PowerShell blog][examplebase64encoding]:</span><span class="sxs-lookup"><span data-stu-id="90ade-171">This PowerShell code for base64 encoding was adapted from hello [PowerShell scripts blog][examplebase64encoding]:</span></span>

        $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

        $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
        $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

        $fileName = "exportedcert.pfx"
        Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

        $fileContentBytes = get-content -encoding byte $fileName
        $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
        $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="90ade-172">Po hello certifikátu SSL se úspěšně vygeneroval a převést řetězec tooa kódováním base64, pomocí šablony Resource Manageru příklad hello [certifikát protokolu SSL výchozí konfigurace hello] [ quickstartconfiguressl] na Githubu.</span><span class="sxs-lookup"><span data-stu-id="90ade-172">After hello SSL certificate is successfully generated and converted tooa base64-encoded string, use hello example Resource Manager template [Configure hello default SSL certificate][quickstartconfiguressl] on GitHub.</span></span> 

<span data-ttu-id="90ade-173">Hello parametry v hello *azuredeploy.parameters.json* souboru jsou tady:</span><span class="sxs-lookup"><span data-stu-id="90ade-173">hello parameters in hello *azuredeploy.parameters.json* file are listed here:</span></span>

* <span data-ttu-id="90ade-174">*appServiceEnvironmentName*: název hello hello ILB App Service Environment se právě nastavuje.</span><span class="sxs-lookup"><span data-stu-id="90ade-174">*appServiceEnvironmentName*: hello name of hello ILB ASE being configured.</span></span>
* <span data-ttu-id="90ade-175">*existingAseLocation*: textový řetězec obsahující hello oblast Azure, kde hello App Service Environment ILB byl nasazen.</span><span class="sxs-lookup"><span data-stu-id="90ade-175">*existingAseLocation*: Text string containing hello Azure region where hello ILB ASE was deployed.</span></span>  <span data-ttu-id="90ade-176">Například: "Jihu USA".</span><span class="sxs-lookup"><span data-stu-id="90ade-176">For example: "South Central US".</span></span>
* <span data-ttu-id="90ade-177">*pfxBlobString*: hello řetězec s kódováním based64 reprezentace hello souboru .pfx.</span><span class="sxs-lookup"><span data-stu-id="90ade-177">*pfxBlobString*: hello based64-encoded string representation of hello .pfx file.</span></span> <span data-ttu-id="90ade-178">Pomocí fragmentu kódu hello uvedena výše a zkopírujte řetězec hello obsažené v "exportedcert.pfx.b64".</span><span class="sxs-lookup"><span data-stu-id="90ade-178">Use hello code snippet shown earlier and copy hello string contained in "exportedcert.pfx.b64".</span></span> <span data-ttu-id="90ade-179">Vložte jej jako hodnota hello hello *pfxBlobString* atribut.</span><span class="sxs-lookup"><span data-stu-id="90ade-179">Paste it in as hello value of hello *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="90ade-180">*heslo*: soubor .pfx hello heslo použité toosecure hello.</span><span class="sxs-lookup"><span data-stu-id="90ade-180">*password*: hello password used toosecure hello .pfx file.</span></span>
* <span data-ttu-id="90ade-181">*certificateThumbprint*: hello kryptografický otisk certifikátu.</span><span class="sxs-lookup"><span data-stu-id="90ade-181">*certificateThumbprint*: hello certificate's thumbprint.</span></span> <span data-ttu-id="90ade-182">Pokud načetlo tuto hodnotu z prostředí PowerShell (například *$certificate. Kryptografický otisk* z hello starší fragment kódu), můžete použít hello hodnotu, jako je.</span><span class="sxs-lookup"><span data-stu-id="90ade-182">If you retrieve this value from PowerShell (for example, *$certificate.Thumbprint* from hello earlier code snippet), you can use hello value as is.</span></span> <span data-ttu-id="90ade-183">Pokud zkopírujete hello hodnotu z dialogového okna certifikátu Windows hello, mějte na paměti toostrip out hello nadbytečné mezery.</span><span class="sxs-lookup"><span data-stu-id="90ade-183">If you copy hello value from hello Windows certificate dialog box, remember toostrip out hello extraneous spaces.</span></span> <span data-ttu-id="90ade-184">Hello *certificateThumbprint* by měl vypadat podobně jako AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span><span class="sxs-lookup"><span data-stu-id="90ade-184">hello *certificateThumbprint* should look something like  AF3143EB61D43F6727842115BB7F17BBCECAECAE.</span></span>
* <span data-ttu-id="90ade-185">*certificateName*: identifikátor popisný řetězec podle vlastní volby použít tooidentity hello certifikátu.</span><span class="sxs-lookup"><span data-stu-id="90ade-185">*certificateName*: A friendly string identifier of your own choosing used tooidentity hello certificate.</span></span> <span data-ttu-id="90ade-186">Název Hello se používá jako součást hello jedinečný identifikátor správce prostředků pro hello *Microsoft.Web/certificates* entita, která představuje hello certifikát SSL.</span><span class="sxs-lookup"><span data-stu-id="90ade-186">hello name is used as part of hello unique Resource Manager identifier for hello *Microsoft.Web/certificates* entity that represents hello SSL certificate.</span></span> <span data-ttu-id="90ade-187">Název Hello *musí* končit hello následující příponu: \_yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="90ade-187">hello name *must* end with hello following suffix: \_yourASENameHere_InternalLoadBalancingASE.</span></span> <span data-ttu-id="90ade-188">Hello portál Azure používá tato přípona jako indikátor, hello certifikátu je použité toosecure App Service Environment povolené ILB.</span><span class="sxs-lookup"><span data-stu-id="90ade-188">hello Azure portal uses this suffix as an indicator that hello certificate is used toosecure an ILB-enabled ASE.</span></span>

<span data-ttu-id="90ade-189">Příklad zkrácené *azuredeploy.parameters.json* zobrazí se zde:</span><span class="sxs-lookup"><span data-stu-id="90ade-189">An abbreviated example of *azuredeploy.parameters.json* is shown here:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="90ade-190">Po hello *azuredeploy.parameters.json* souboru je vyplněno, nakonfigurujte certifikát protokolu SSL výchozí hello pomocí fragmentu kódu Powershellu hello.</span><span class="sxs-lookup"><span data-stu-id="90ade-190">After hello *azuredeploy.parameters.json* file is filled in, configure hello default SSL certificate by using hello PowerShell code snippet.</span></span> <span data-ttu-id="90ade-191">Změnit hello souboru cesty toomatch, kde jsou umístěny soubory šablony Resource Manageru hello na váš počítač.</span><span class="sxs-lookup"><span data-stu-id="90ade-191">Change hello file paths toomatch where hello Resource Manager template files are located on your machine.</span></span> <span data-ttu-id="90ade-192">Pamatovat si toosupply vlastních hodnot pro název nasazení Resource Manager hello a název skupiny prostředků hello:</span><span class="sxs-lookup"><span data-stu-id="90ade-192">Remember toosupply your own values for hello Resource Manager deployment name and hello resource group name:</span></span>

     $templatePath="PATH\azuredeploy.json"
     $parameterPath="PATH\azuredeploy.parameters.json"

     New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="90ade-193">Jak dlouho trvá přibližně 40 minutách App Service Environment front-endu tooapply hello změny.</span><span class="sxs-lookup"><span data-stu-id="90ade-193">It takes roughly 40 minutes per ASE front end tooapply hello change.</span></span> <span data-ttu-id="90ade-194">Například výchozí velikosti App Service Environment používající dva elementy end front, hello šablony trvá přibližně jednu hodinu a toocomplete 20 minut.</span><span class="sxs-lookup"><span data-stu-id="90ade-194">For example, for a default-sized ASE that uses two front ends, hello template takes around one hour and 20 minutes toocomplete.</span></span> <span data-ttu-id="90ade-195">Je spuštěn hello šablony, nelze škálovat hello App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="90ade-195">While hello template is running, hello ASE can't scale.</span></span>  

<span data-ttu-id="90ade-196">Po dokončení hello šablony aplikace na hello ILB App Service Environment jsou přístupné přes protokol HTTPS.</span><span class="sxs-lookup"><span data-stu-id="90ade-196">After hello template finishes, apps on hello ILB ASE can be accessed over HTTPS.</span></span> <span data-ttu-id="90ade-197">Hello připojení jsou zabezpečené pomocí certifikátu protokolu SSL výchozí hello.</span><span class="sxs-lookup"><span data-stu-id="90ade-197">hello connections are secured by using hello default SSL certificate.</span></span> <span data-ttu-id="90ade-198">certifikát protokolu SSL výchozí Hello se používá při aplikace na hello ILB App Service Environment jsou řešit pomocí kombinace názvu aplikace hello plus hello výchozí název hostitele.</span><span class="sxs-lookup"><span data-stu-id="90ade-198">hello default SSL certificate is used when apps on hello ILB ASE are addressed by using a combination of hello application name plus hello default host name.</span></span> <span data-ttu-id="90ade-199">Například https://mycustomapp.internal-contoso.com používá hello výchozí certifikát SSL pro **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="90ade-199">For example, https://mycustomapp.internal-contoso.com uses hello default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="90ade-200">Stejně jako aplikace, které běží na hello veřejné víceklientské služby, ale vývojáři můžete nakonfigurovat vlastní hostitel názvy pro jednotlivé aplikace.</span><span class="sxs-lookup"><span data-stu-id="90ade-200">However, just like apps that run on hello public multitenant service, developers can configure custom host names for individual apps.</span></span> <span data-ttu-id="90ade-201">Také mohou nakonfigurovat jedinečnou vazby certifikátů SNI SSL pro jednotlivé aplikace.</span><span class="sxs-lookup"><span data-stu-id="90ade-201">They also can configure unique SNI SSL certificate bindings for individual apps.</span></span>

## <a name="app-service-environment-v1"></a><span data-ttu-id="90ade-202">App Service Environment v1</span><span class="sxs-lookup"><span data-stu-id="90ade-202">App Service Environment v1</span></span> ##
<span data-ttu-id="90ade-203">Služba App Service Environment má dvě verze: ASEv1 a ASEv2.</span><span class="sxs-lookup"><span data-stu-id="90ade-203">App Service Environment has two versions: ASEv1 and ASEv2.</span></span> <span data-ttu-id="90ade-204">Hello předcházející informace bylo založeno na ASEv2.</span><span class="sxs-lookup"><span data-stu-id="90ade-204">hello preceding information was based on ASEv2.</span></span> <span data-ttu-id="90ade-205">Tato část obsahuje hello rozdíly mezi ASEv1 a ASEv2.</span><span class="sxs-lookup"><span data-stu-id="90ade-205">This section shows you hello differences between ASEv1 and ASEv2.</span></span>

<span data-ttu-id="90ade-206">V ASEv1 můžete spravovat všechny prostředky hello ručně.</span><span class="sxs-lookup"><span data-stu-id="90ade-206">In ASEv1, you manage all of hello resources manually.</span></span> <span data-ttu-id="90ade-207">Která obsahuje hello front-end, pracovní procesy a adres IP použitých pro založená na protokolu IP.</span><span class="sxs-lookup"><span data-stu-id="90ade-207">That includes hello front ends, workers, and IP addresses used for IP-based SSL.</span></span> <span data-ttu-id="90ade-208">Předtím, než můžete škálovat plán služby App Service, musí vertikální navýšení kapacity fondu hello pracovních procesů, které chcete toohost ho.</span><span class="sxs-lookup"><span data-stu-id="90ade-208">Before you can scale out your App Service plan, you must scale out hello worker pool that you want toohost it.</span></span>

<span data-ttu-id="90ade-209">ASEv1 používá jiný model tvorby cen z ASEv2.</span><span class="sxs-lookup"><span data-stu-id="90ade-209">ASEv1 uses a different pricing model from ASEv2.</span></span> <span data-ttu-id="90ade-210">V ASEv1 platí pro každý jádra přidělené.</span><span class="sxs-lookup"><span data-stu-id="90ade-210">In ASEv1, you pay for each core allocated.</span></span> <span data-ttu-id="90ade-211">Počet jader, které jsou používány pro front-end nebo pracovních procesů, které nejsou hostování jakékoli úlohy, který zahrnuje.</span><span class="sxs-lookup"><span data-stu-id="90ade-211">That includes cores that are used for front ends or workers that aren't hosting any workloads.</span></span> <span data-ttu-id="90ade-212">V ASEv1 hello výchozí škálování maximální velikost App Service Environment je 55 celkový počet hostitelů.</span><span class="sxs-lookup"><span data-stu-id="90ade-212">In ASEv1, hello default maximum-scale size of an ASE is 55 total hosts.</span></span> <span data-ttu-id="90ade-213">Který zahrnuje pracovníků a front-end.</span><span class="sxs-lookup"><span data-stu-id="90ade-213">That includes workers and front ends.</span></span> <span data-ttu-id="90ade-214">Jeden tooASEv1 výhod je, aby se dala nasadit v klasické virtuální sítě a virtuální sítě Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="90ade-214">One advantage tooASEv1 is that it can be deployed in a classic virtual network and a Resource Manager virtual network.</span></span> <span data-ttu-id="90ade-215">toolearn Další informace o ASEv1, najdete v části [App Service Environment v1 ÚVOD][ASEv1Intro].</span><span class="sxs-lookup"><span data-stu-id="90ade-215">toolearn more about ASEv1, see [App Service Environment v1 introduction][ASEv1Intro].</span></span>

<span data-ttu-id="90ade-216">toocreate ASEv1 pomocí šablony Resource Manageru, najdete v části [vytvoření App Service Environment ILB v1 pomocí šablony Resource Manageru][ILBASEv1Template].</span><span class="sxs-lookup"><span data-stu-id="90ade-216">toocreate an ASEv1 by using a Resource Manager template, see [Create an ILB ASE v1 with a Resource Manager template][ILBASEv1Template].</span></span>


<!--Links-->
[quickstartilbasecreate]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-ilb-create
[quickstartasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asev2-create
[quickstartconfiguressl]: http://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl
[quickstartwebapponasev2create]: http://azure.microsoft.com/documentation/templates/201-web-app-asp-app-on-asev2-create
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/
[Intro]: ./intro.md
[MakeExternalASE]: ./create-external-ase.md
[MakeASEfromTemplate]: ./create-from-template.md
[MakeILBASE]: ./create-ilb-ase.md
[ASENetwork]: ./network-info.md
[ASEReadme]: ./readme.md
[UsingASE]: ./using-an-ase.md
[UDRs]: ../../virtual-network/virtual-networks-udr-overview.md
[NSGs]: ../../virtual-network/virtual-networks-nsg.md
[ConfigureASEv1]: ../../app-service-web/app-service-web-configure-an-app-service-environment.md
[ASEv1Intro]: ../../app-service-web/app-service-app-service-environment-intro.md
[webapps]: ../../app-service-web/app-service-web-overview.md
[mobileapps]: ../../app-service-mobile/app-service-mobile-value-prop.md
[APIapps]: ../../app-service-api/app-service-api-apps-why-best-platform.md
[Functions]: ../../azure-functions/index.yml
[Pricing]: http://azure.microsoft.com/pricing/details/app-service/
[ARMOverview]: ../../azure-resource-manager/resource-group-overview.md
[ConfigureSSL]: ../../app-service-web/web-sites-purchase-ssl-web-site.md
[Kudu]: http://azure.microsoft.com/resources/videos/super-secret-kudu-debug-console-for-azure-web-sites/
[AppDeploy]: ../../app-service-web/web-sites-deploy.md
[ASEWAF]: ../../app-service-web/app-service-app-service-environment-web-application-firewall.md
[AppGW]: ../../application-gateway/application-gateway-web-application-firewall-overview.md
[ILBASEv1Template]: ../../app-service-web/app-service-app-service-environment-create-ilb-ase-resourcemanager.md
