---
title: "Export rozhraní API Azure hostovaná PowerApps a Microsoft toku | Microsoft Docs"
description: "Přehled o tom, jak vystavit rozhraní API hostované ve službě App Service PowerApps a Flow Microsoft"
services: app-service
documentationcenter: 
author: mattchenderson
manager: erikre
editor: 
ms.assetid: 
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: multiple
ms.topic: article
ms.date: 06/20/2017
ms.author: mahender
ms.openlocfilehash: 0d166a2e5b60c3b9f911f9fc3ad49ad7f252abb4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="exporting-an-azure-hosted-api-to-powerapps-and-microsoft-flow"></a><span data-ttu-id="479be-103">Export rozhraní API Azure hostovaná PowerApps a Microsoft toku</span><span class="sxs-lookup"><span data-stu-id="479be-103">Exporting an Azure-hosted API to PowerApps and Microsoft Flow</span></span>

## <a name="creating-custom-connectors-for-powerapps-and-microsoft-flow"></a><span data-ttu-id="479be-104">Vytvoření vlastních konektorů pro PowerApps a Flow Microsoft</span><span class="sxs-lookup"><span data-stu-id="479be-104">Creating custom connectors for PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="479be-105">[PowerApps](https://powerapps.com) je služba pro vytváření a používání vlastní obchodní aplikace, které se připojují ke svým datům a fungovat na všech platformách.</span><span class="sxs-lookup"><span data-stu-id="479be-105">[PowerApps](https://powerapps.com) is a service for building and using custom business apps that connect to your data and work across platforms.</span></span> <span data-ttu-id="479be-106">[Microsoft Flow](https://flow.microsoft.com) usnadňuje automatizovat pracovní postupy a obchodní procesy mezi vaše oblíbené aplikace a služby.</span><span class="sxs-lookup"><span data-stu-id="479be-106">[Microsoft Flow](https://flow.microsoft.com) makes it easy to automate workflows and business processes between your favorite apps and services.</span></span> <span data-ttu-id="479be-107">Jak PowerApps a Flow Microsoft obsahují celou řadu předdefinovaných konektory ke zdrojům dat, jako je například Office 365, Dynamics 365, Salesforce a další.</span><span class="sxs-lookup"><span data-stu-id="479be-107">Both PowerApps and Microsoft Flow come with a variety of built-in connectors to data sources such as Office 365, Dynamics 365, Salesforce, and more.</span></span> <span data-ttu-id="479be-108">Ale uživatelé také musí být schopné využít zdroje dat a rozhraní API sestavuje organizace.</span><span class="sxs-lookup"><span data-stu-id="479be-108">However, users also need to be able to leverage data sources and APIs being built by their organization.</span></span>

<span data-ttu-id="479be-109">Podobně vývojáře, která chcete vystavit příslušných rozhraní API více široce v rámci organizace chtít zpřístupnit příslušných rozhraní API uživatelům PowerApps a Flow společnosti Microsoft.</span><span class="sxs-lookup"><span data-stu-id="479be-109">Similarly, developers that want to expose their APIs more broadly within the organization may want to make their APIs available to PowerApps and Microsoft Flow users.</span></span> <span data-ttu-id="479be-110">Toto téma vám ukáže, jak vystavit rozhraní API vytvořené s Azure App Service nebo Azure Functions PowerApps a Flow společnosti Microsoft.</span><span class="sxs-lookup"><span data-stu-id="479be-110">This topic will show you how to expose an API built with Azure App Service or Azure Functions to PowerApps and Microsoft Flow.</span></span> <span data-ttu-id="479be-111">[Aplikační služba Azure](https://azure.microsoft.com/services/app-service/) je nabídku platforma jako služba, která umožňuje vývojářům snadno a rychle vytvářet podnikové úrovni webové, mobilní a aplikacích API.</span><span class="sxs-lookup"><span data-stu-id="479be-111">[Azure App Service](https://azure.microsoft.com/services/app-service/) is a platform-as-a-service offering that allows developers to quickly and easily build enterprise-grade web, mobile, and API applications.</span></span> <span data-ttu-id="479be-112">[Azure Functions](https://azure.microsoft.com/services/functions/) je založený na událostech bez serveru výpočetních řešení, které umožňuje rychle vytvořit kód, který může reagovat na dalších částí systému a škálování na základě poptávky.</span><span class="sxs-lookup"><span data-stu-id="479be-112">[Azure Functions](https://azure.microsoft.com/services/functions/) is an event-based serverless compute solution that allows you to quickly author code that can react to other parts of your system and scale based on demand.</span></span>

<span data-ttu-id="479be-113">Další informace o těchto službách najdete v tématu:</span><span class="sxs-lookup"><span data-stu-id="479be-113">To learn more about these services, see:</span></span>
- [<span data-ttu-id="479be-114">PowerApps na základě učení</span><span class="sxs-lookup"><span data-stu-id="479be-114">PowerApps Guided Learning</span></span>](https://powerapps.microsoft.com/guided-learning/learning-introducing-powerapps/) 
- [<span data-ttu-id="479be-115">Microsoft toku na základě učení</span><span class="sxs-lookup"><span data-stu-id="479be-115">Microsoft Flow Guided Learning</span></span>](https://flow.microsoft.com/guided-learning/learning-introducing-flow/)
- [<span data-ttu-id="479be-116">Co je App Service?</span><span class="sxs-lookup"><span data-stu-id="479be-116">What is App Service?</span></span>](https://docs.microsoft.com/azure/app-service/app-service-value-prop-what-is)
- [<span data-ttu-id="479be-117">Co je Azure Functions</span><span class="sxs-lookup"><span data-stu-id="479be-117">What is Azure Functions</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-overview)

## <a name="sharing-an-api-definition"></a><span data-ttu-id="479be-118">Sdílení definice rozhraní API</span><span class="sxs-lookup"><span data-stu-id="479be-118">Sharing an API definition</span></span>

<span data-ttu-id="479be-119">Rozhraní API jsou často popsané pomocí [OpenAPI dokumentu](https://www.openapis.org/) (někdy označované jako dokument "Swagger").</span><span class="sxs-lookup"><span data-stu-id="479be-119">APIs are often described using an [OpenAPI document](https://www.openapis.org/) (sometimes referred to as a "Swagger" document).</span></span> <span data-ttu-id="479be-120">Tato položka obsahuje všechny informace o jaké operace jsou k dispozici a jak by měla být strukturovaná data.</span><span class="sxs-lookup"><span data-stu-id="479be-120">This contains all of the information about what operations are available and how the data should be structured.</span></span> <span data-ttu-id="479be-121">PowerApps a Flow Microsoft můžete vytvořit vlastní konektory pro každý dokument, OpenAPI 2.0.</span><span class="sxs-lookup"><span data-stu-id="479be-121">PowerApps and Microsoft Flow can create custom connectors for any OpenAPI 2.0 document.</span></span> <span data-ttu-id="479be-122">Po vytvoření vlastní konektor, mohou být používány stejným způsobem jako jeden z předdefinovaných konektory a lze snadno integrovat do aplikace.</span><span class="sxs-lookup"><span data-stu-id="479be-122">Once a custom connector is created, it can be used in exactly the same way as one of the built-in connectors and can quickly be integrated into an application.</span></span>

<span data-ttu-id="479be-123">Azure App Service a Azure Functions mají [integrovanou podporu](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) pro vytváření, hostování a správu dokument OpenAPI.</span><span class="sxs-lookup"><span data-stu-id="479be-123">Azure App Service and Azure Functions have [built-in support](https://docs.microsoft.com/azure/app-service-api/app-service-api-metadata) for creating, hosting, and managing an OpenAPI document.</span></span> <span data-ttu-id="479be-124">Chcete-li vytvořit vlastní konektor pro webové, mobilní, rozhraní API nebo funkce aplikace, PowerApps a toku musí mít kopii definici.</span><span class="sxs-lookup"><span data-stu-id="479be-124">In order to create a custom connector for a web, mobile, API, or function app, PowerApps and Flow need to be given a copy of the definition.</span></span>

> [!NOTE]
> <span data-ttu-id="479be-125">Protože je použita kopii definice rozhraní API, PowerApps a Flow Microsoft nebude vědět okamžitě o aktualizace nebo nejnovější změny do aplikace.</span><span class="sxs-lookup"><span data-stu-id="479be-125">Because a copy of the API definition is being used, PowerApps and Microsoft Flow will not immediately know about updates or breaking changes to the application.</span></span> <span data-ttu-id="479be-126">Pokud je k dispozici nová verze rozhraní API, tyto kroky je potřeba zopakovat pro novou verzi.</span><span class="sxs-lookup"><span data-stu-id="479be-126">If a new version of the API is made available, these steps should be repeated for the new version.</span></span> 

<span data-ttu-id="479be-127">PowerApps a Microsoft Flow poskytnout hostované definice rozhraní API pro vaši aplikaci, postupujte takto:</span><span class="sxs-lookup"><span data-stu-id="479be-127">To provide PowerApps and Microsoft Flow with the hosted API definition for your app, follow these steps:</span></span>

1. <span data-ttu-id="479be-128">Otevřete [portálu Azure](https://portal.azure.com) a přejděte do aplikace služby App Service nebo Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="479be-128">Open the [Azure Portal](https://portal.azure.com) and navigate to your App Service or Azure Functions application.</span></span>

    <span data-ttu-id="479be-129">Pokud používáte Azure App Service, vyberte **definice rozhraní API** ze seznamu nastavení.</span><span class="sxs-lookup"><span data-stu-id="479be-129">If using Azure App Service, select **API definition** from the settings list.</span></span> 
    
    <span data-ttu-id="479be-130">Pokud používáte Azure Functions, vyberte svou aplikaci funkce a potom zvolte **funkce**a potom **definice rozhraní API**.</span><span class="sxs-lookup"><span data-stu-id="479be-130">If using Azure Functions, select your function app, and then choose **Platform features**, and then **API definition**.</span></span> <span data-ttu-id="479be-131">Může se také rozhodnout otevřít **definice rozhraní API (preview)** kartě místo.</span><span class="sxs-lookup"><span data-stu-id="479be-131">You could also choose to open the **API definition (preview)** tab instead.</span></span>

2. <span data-ttu-id="479be-132">Pokud bylo zadáno definice rozhraní API, zobrazí se **exportovat do PowerApps + Microsoft Flow** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="479be-132">If an API definition has been provided, you will see an **Export to PowerApps + Microsoft Flow** button.</span></span> <span data-ttu-id="479be-133">Kliknutím na toto tlačítko k zahájení procesu exportu.</span><span class="sxs-lookup"><span data-stu-id="479be-133">Click this button to begin the export process.</span></span>

3. <span data-ttu-id="479be-134">Vyberte **Export režimu**.</span><span class="sxs-lookup"><span data-stu-id="479be-134">Select the **Export mode**.</span></span> <span data-ttu-id="479be-135">Určuje, kroky, které budete muset provést, pokud chcete vytvořit konektor.</span><span class="sxs-lookup"><span data-stu-id="479be-135">This determines the steps you will need to follow to create a connector.</span></span> <span data-ttu-id="479be-136">Služby App Service nabízí dvě možnosti pro poskytování vaší definice rozhraní API PowerApps a Flow Microsoft:</span><span class="sxs-lookup"><span data-stu-id="479be-136">App Service offers two options for providing PowerApps and Microsoft Flow with your API definition:</span></span>

    <span data-ttu-id="479be-137">**Express** se dá vytvořit vlastní konektor z portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="479be-137">**Express** lets you create the custom connector from within the Azure portal.</span></span> <span data-ttu-id="479be-138">To vyžaduje, aby si přihlášený uživatel má oprávnění k vytváření konektory v cílovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="479be-138">It requires that the curent logged-in user has permission to create connectors in the target environment.</span></span> <span data-ttu-id="479be-139">Toto je doporučený postup, pokud tento požadavek můžete splnit.</span><span class="sxs-lookup"><span data-stu-id="479be-139">This is the recommended approach if that requirement can be met.</span></span> <span data-ttu-id="479be-140">Pokud při použití tohoto režimu, postupujte podle kroků [Express export](#express) podle následujících pokynů.</span><span class="sxs-lookup"><span data-stu-id="479be-140">If using this mode, follow the [Express export](#express) instructions below.</span></span>

    <span data-ttu-id="479be-141">**Ruční** umožňuje exportovat kopii linkové rozhraní API, který lze importovat používání portálů PowerApps nebo Flow společnosti Microsoft.</span><span class="sxs-lookup"><span data-stu-id="479be-141">**Manual** lets you export a copy of the API definiton which can be imported using the PowerApps or Microsoft Flow portals.</span></span> <span data-ttu-id="479be-142">Toto je doporučený postup, pokud uživatel Azure a uživatel s oprávněním k vytvoření konektory jsou jiné osoby nebo pokud konektor musí být vytvořen v jiného klienta.</span><span class="sxs-lookup"><span data-stu-id="479be-142">This is the recommended approach if the Azure user and the user with permission to create connectors are different people or if the connector needs to be created in another tenant.</span></span> <span data-ttu-id="479be-143">Pokud při použití tohoto režimu, postupujte podle kroků [ruční export a import](#manual) podle následujících pokynů.</span><span class="sxs-lookup"><span data-stu-id="479be-143">If using this mode, follow the [Manual export and import](#manual) instructions below.</span></span>

<a name="express"></a>
## <a name="express-export"></a><span data-ttu-id="479be-144">Express exportu</span><span class="sxs-lookup"><span data-stu-id="479be-144">Express export</span></span>

<span data-ttu-id="479be-145">V této části vytvoříte novou vlastní konektor z portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="479be-145">In this section, you will create a new custom connector from within the Azure portal.</span></span> <span data-ttu-id="479be-146">Musíte být přihlášeni do klienta, ke které chcete exportovat, a musí mít oprávnění k vytvoření vlastní konektor v cílovém prostředí.</span><span class="sxs-lookup"><span data-stu-id="479be-146">You must be logged into the tenant to which you wish to export, and you must have permission to create a custom connector in the target environment.</span></span>

1. <span data-ttu-id="479be-147">Vyberte prostředí, ve kterém chcete vytvořit konektor.</span><span class="sxs-lookup"><span data-stu-id="479be-147">Select the environment in which you would like to create the connector.</span></span> <span data-ttu-id="479be-148">Potom zadejte název pro vlastní konektor.</span><span class="sxs-lookup"><span data-stu-id="479be-148">Then provide a name for your custom connector.</span></span>

2. <span data-ttu-id="479be-149">Pokud vaše definice rozhraní API obsahuje všechny definice zabezpečení, tyto volaná v kroku #2.</span><span class="sxs-lookup"><span data-stu-id="479be-149">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="479be-150">V případě potřeby zadejte podrobnosti konfigurace zabezpečení potřebné pro uživatelům uděluje přístup k vašemu rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="479be-150">If required, provide the security configuration details needed to grant users access to your API.</span></span> <span data-ttu-id="479be-151">Další informace najdete v tématu [ověřování](#auth) níže.</span><span class="sxs-lookup"><span data-stu-id="479be-151">For more information, see [Authentication](#auth) below.</span></span> 

3. <span data-ttu-id="479be-152">Klikněte na tlačítko **OK** vytvořit vaše vlastní konektor.</span><span class="sxs-lookup"><span data-stu-id="479be-152">Click **OK** to create your custom connector.</span></span>


<a name="manual"></a>
## <a name="manual-export-and-import"></a><span data-ttu-id="479be-153">Ruční export a import</span><span class="sxs-lookup"><span data-stu-id="479be-153">Manual export and import</span></span>

<span data-ttu-id="479be-154">Chcete-li vytvořit vlastní konektor pro webové, mobilní, rozhraní API nebo funkce aplikace, bude potřeba dva kroky:</span><span class="sxs-lookup"><span data-stu-id="479be-154">In order to create a custom connector for a web, mobile, API, or function app, two steps will be needed:</span></span>

1. [<span data-ttu-id="479be-155">Načítání definice rozhraní API z aplikace služby nebo funkce Azure</span><span class="sxs-lookup"><span data-stu-id="479be-155">Retrieving the API definition from App Service or Azure Functions</span></span>](#export)
2. [<span data-ttu-id="479be-156">Import definice rozhraní API do PowerApps a Flow Microsoft</span><span class="sxs-lookup"><span data-stu-id="479be-156">Importing the API definition into PowerApps and Microsoft Flow</span></span>](#import)

<span data-ttu-id="479be-157">Je možné, že tyto dva kroky muset prováděné samostatné jednotlivce v organizaci, jak se daného uživatele nemusí mít oprávnění k provádění obou akcí.</span><span class="sxs-lookup"><span data-stu-id="479be-157">It is possible that these two steps will need to be carried out by separate individuals within an organization, as a given user may not have permission to perform both actions.</span></span> <span data-ttu-id="479be-158">V takovém případě vývojáři, který má Přispěvatel přístup k aplikaci služby App Service nebo Azure Functions muset získat definice rozhraní API (jeden soubor JSON) nebo odkaz na něj.</span><span class="sxs-lookup"><span data-stu-id="479be-158">In this case, a developer who has contributor access to the App Service or Azure Functions application will need to obtain the API definition (a single JSON file) or a link to it.</span></span> <span data-ttu-id="479be-159">Pak bude muset poskytují této definici PowerApps nebo Microsoft Flow vlastníka.</span><span class="sxs-lookup"><span data-stu-id="479be-159">They will then need to provide that definition to a PowerApps or Microsoft Flow owner.</span></span> <span data-ttu-id="479be-160">Daného vlastníka můžete použít k vytvoření vlastní konektor metadata.</span><span class="sxs-lookup"><span data-stu-id="479be-160">That owner can use the metadata to create the custom connector.</span></span>

<a name="export"></a>
### <a name="retrieving-the-api-definition-from-app-service-or-azure-functions"></a><span data-ttu-id="479be-161">Načítání definice rozhraní API z aplikace služby nebo funkce Azure</span><span class="sxs-lookup"><span data-stu-id="479be-161">Retrieving the API definition from App Service or Azure Functions</span></span>

<span data-ttu-id="479be-162">V této části budete exportovat definice rozhraní API pro vaše rozhraní API App Service, který se má použít později na portálu PowerApps nebo Flow Microsoft.</span><span class="sxs-lookup"><span data-stu-id="479be-162">In this section, you will export the API definition for your App Service API, to be used later in the PowerApps or Microsoft Flow portal.</span></span>

1. <span data-ttu-id="479be-163">Buď můžete **stáhnout definice rozhraní API** nebo **získejte odkaz**.</span><span class="sxs-lookup"><span data-stu-id="479be-163">You can choose to either **Download the API definition** or **Get a link**.</span></span> <span data-ttu-id="479be-164">Podle toho, co si zvolíte, výsledkem bude k dispozici v další části.</span><span class="sxs-lookup"><span data-stu-id="479be-164">Whichever you choose, the result will be provided in the next section.</span></span> <span data-ttu-id="479be-165">Vyberte jednu z těchto možností a postupujte podle pokynů.</span><span class="sxs-lookup"><span data-stu-id="479be-165">Select one of these options and follow the instructions.</span></span>
 
2. <span data-ttu-id="479be-166">Pokud vaše definice rozhraní API obsahuje všechny definice zabezpečení, tyto volaná v kroku #2.</span><span class="sxs-lookup"><span data-stu-id="479be-166">If your API definition includes any security definitions, these will be called out in step #2.</span></span> <span data-ttu-id="479be-167">Během importu PowerApps a Flow Microsoft tyto zjistí a zobrazí výzvu pro informace o zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="479be-167">During import, PowerApps and Microsoft Flow will detect these and will prompt for security information.</span></span> <span data-ttu-id="479be-168">Získat přihlašovací údaje související s každou definici pro použití v další části.</span><span class="sxs-lookup"><span data-stu-id="479be-168">Gather the credentials related to each definition for use in the next section.</span></span> <span data-ttu-id="479be-169">Další informace najdete v tématu [ověřování](#auth) níže.</span><span class="sxs-lookup"><span data-stu-id="479be-169">For more information, see [Authentication](#auth) below.</span></span> 

<a name="import"></a>
### <a name="importing-the-api-definition-into-powerapps-and-microsoft-flow"></a><span data-ttu-id="479be-170">Import definice rozhraní API do PowerApps a Flow Microsoft</span><span class="sxs-lookup"><span data-stu-id="479be-170">Importing the API definition into PowerApps and Microsoft Flow</span></span>

<span data-ttu-id="479be-171">V této části vytvoříte vlastní konektor v PowerApps a Microsoft Flow pomocí definice rozhraní API dříve získali.</span><span class="sxs-lookup"><span data-stu-id="479be-171">In this section, you will create a custom connector in PowerApps and Microsoft Flow using the API definition obtained earlier.</span></span> <span data-ttu-id="479be-172">Vlastní konektory jsou sdílené mezi dvě služby, takže potřebujete importovat definici jednou.</span><span class="sxs-lookup"><span data-stu-id="479be-172">Custom connectors are shared between the two services, so you only need to import the definition once.</span></span> <span data-ttu-id="479be-173">Další informace o vlastních konektorů najdete v tématu [zaregistrovat a použít vlastní konektory v PowerApps] a [zaregistrovat a použít vlastní konektory v Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="479be-173">For more information on custom connectors, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

1. <span data-ttu-id="479be-174">Otevřete [Powerapps webový portál](https://web.powerapps.com) nebo [webový portál Microsoft Flow](https://flow.microsoft.com/)a přihlaste se.</span><span class="sxs-lookup"><span data-stu-id="479be-174">Open the [Powerapps web portal](https://web.powerapps.com) or the [Microsoft Flow web portal](https://flow.microsoft.com/), and sign in.</span></span> 

2. <span data-ttu-id="479be-175">Klikněte **nastavení** tlačítko (ikona ozubené kolečko) v pravém horním rohu stránky na stránku a vyberte **vlastní konektory**.</span><span class="sxs-lookup"><span data-stu-id="479be-175">Click the **Settings** button (the gear icon) at the upper right of the page and select **Custom connectors**.</span></span> 

3. <span data-ttu-id="479be-176">Klikněte na tlačítko **vytvořte vlastní konektor**.</span><span class="sxs-lookup"><span data-stu-id="479be-176">Click **Create custom connector**.</span></span>

4. <span data-ttu-id="479be-177">Na **Obecné** kartě, zadejte název pro rozhraní API a potom odeslat definici OpenAPI nebo vložte adresu URL metadat.</span><span class="sxs-lookup"><span data-stu-id="479be-177">On the **General** tab, provide a name for your API, and then upload the OpenAPI definition or paste in the metadata URL.</span></span> <span data-ttu-id="479be-178">Klikněte na tlačítko **pokračovat**.</span><span class="sxs-lookup"><span data-stu-id="479be-178">Click **Continue**.</span></span>

4. <span data-ttu-id="479be-179">Na **zabezpečení** kartě, pokud se zobrazí výzva k zadejte podrobnosti o ověřování, zadejte hodnoty získané v předchozím oddílu.</span><span class="sxs-lookup"><span data-stu-id="479be-179">On the **Security** tab, if you are prompted to provide authentication details, enter the values obtained in the previous section.</span></span> <span data-ttu-id="479be-180">V opačném případě přejděte k dalšímu kroku.</span><span class="sxs-lookup"><span data-stu-id="479be-180">If not, proceed to the next step.</span></span>

5. <span data-ttu-id="479be-181">Na **definice** , všechny operace, které jsou definované v souboru OpenAPI jsou automaticky vyplněna.</span><span class="sxs-lookup"><span data-stu-id="479be-181">On the **Definitions** tab, all the operations defined in your OpenAPI file are auto-populated.</span></span> <span data-ttu-id="479be-182">Pokud jsou definovány všechny požadované operace, můžete přejít k dalšímu kroku.</span><span class="sxs-lookup"><span data-stu-id="479be-182">If all your required operations are defined, you can go to the next step.</span></span> <span data-ttu-id="479be-183">Pokud ne, můžete přidat a upravit operations sem.</span><span class="sxs-lookup"><span data-stu-id="479be-183">If not, you can add and modify operations here.</span></span>

6. <span data-ttu-id="479be-184">Klikněte na tlačítko **vytvořit konektor**.</span><span class="sxs-lookup"><span data-stu-id="479be-184">Click **Create connector**.</span></span> <span data-ttu-id="479be-185">Pokud chcete testovat volání rozhraní API, přejděte k dalšímu kroku.</span><span class="sxs-lookup"><span data-stu-id="479be-185">If you want to test API calls, go to the next step.</span></span>

7. <span data-ttu-id="479be-186">Na **testování** vytvořit připojení, vyberte na testovací operace a zadejte všechna data vyžadovanou operaci.</span><span class="sxs-lookup"><span data-stu-id="479be-186">On the **Test** tab, create a connection, select an operation to test, and enter any data required by the operation.</span></span>

8. <span data-ttu-id="479be-187">Klikněte na tlačítko **testovací operace**.</span><span class="sxs-lookup"><span data-stu-id="479be-187">Click **Test operation**.</span></span>


<a name="auth"></a>
## <a name="authentication"></a><span data-ttu-id="479be-188">Authentication</span><span class="sxs-lookup"><span data-stu-id="479be-188">Authentication</span></span>

<span data-ttu-id="479be-189">PowerApps a Microsoft Flow nativně podporují kolekci zprostředkovatelů identity, které se dají použít k přihlášení uživatelé vlastní konektor.</span><span class="sxs-lookup"><span data-stu-id="479be-189">PowerApps and Microsoft Flow natively support a collection of identity providers which can be used to log in users of your custom connector.</span></span> <span data-ttu-id="479be-190">Pokud vaše rozhraní API vyžaduje ověření, ujistěte se, že se zaznamená jako _zabezpečení definice_ v OpenAPI dokumentu.</span><span class="sxs-lookup"><span data-stu-id="479be-190">If your API requires authentication, ensure that it is captured as a _security definition_ in your OpenAPI document.</span></span> <span data-ttu-id="479be-191">Během exportu musíte zadat hodnoty konfigurace, které umožňují PowerApps Flow Microsoft k provádění akcí přihlášení.</span><span class="sxs-lookup"><span data-stu-id="479be-191">During export, you will need to provide configuration values that allow PowerApps an Microsoft Flow to perform login actions.</span></span>

<span data-ttu-id="479be-192">Tato část popisuje typy ověřování, které podporuje rychlé toku: klíč rozhraní API, Azure Active Directory a obecné OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="479be-192">This section covers the authentication types which are supported by the express flow: API key, Azure Active Directory, and Generic OAuth 2.0.</span></span> <span data-ttu-id="479be-193">Úplný seznam poskytovatelů a každý vyžaduje přihlašovací údaje, najdete v části [zaregistrovat a použít vlastní konektory v PowerApps] a [zaregistrovat a použít vlastní konektory v Microsoft Flow].</span><span class="sxs-lookup"><span data-stu-id="479be-193">For a complete list of providers and the credentials each requires, see [Register and use custom connectors in PowerApps] and [Register and use custom connectors in Microsoft Flow].</span></span>

### <a name="api-key"></a><span data-ttu-id="479be-194">Klíč rozhraní API</span><span class="sxs-lookup"><span data-stu-id="479be-194">API key</span></span>
<span data-ttu-id="479be-195">Pokud se používá toto schéma zabezpečení, uživatelé konektoru budou vyzváni k zadání klíč při vytváření připojení.</span><span class="sxs-lookup"><span data-stu-id="479be-195">When this security scheme is used, the users of your connector will be prompted to provide the key when they create a connection.</span></span> <span data-ttu-id="479be-196">Můžete zadat název klíče pomáhá jim vědět, který klíč je potřeba rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="479be-196">You can provide an API key name to help them know which key is needed.</span></span> <span data-ttu-id="479be-197">Pro Azure Functions obvykle bude jeden z klíčů hostitele, pokrývajících několik funkcí v rámci funkce aplikace.</span><span class="sxs-lookup"><span data-stu-id="479be-197">For Azure Functions, this will typically be one of the host keys, covering several functions within the function app.</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="479be-198">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="479be-198">Azure Active Directory</span></span>
<span data-ttu-id="479be-199">Při konfiguraci vlastní konektor, který vyžaduje přihlášení AAD, jsou požadovány dva registrace AAD aplikace: jeden pro modelování back-end rozhraní API a jeden pro modelování konektor v PowerApps a toku.</span><span class="sxs-lookup"><span data-stu-id="479be-199">When configuring a custom connector that requires AAD login, two AAD application registrations are required: one to model the backend API, and one to model the connector in PowerApps and Flow.</span></span>

<span data-ttu-id="479be-200">Rozhraní API by měl být nakonfigurovaný pro práci s první registraci, a to bude již postarat Pokud jste použili [ověřování/autorizace služby App Service](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) funkce.</span><span class="sxs-lookup"><span data-stu-id="479be-200">Your API should be configured to work with the first registration, and this will already be taken care of if you used the [App Service Authentication/Authorization](https://docs.microsoft.com/azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication) feature.</span></span>

<span data-ttu-id="479be-201">Budete muset ručně vytvořit druhý registrace pro tento konektor, pomocí kroků v [přidání aplikace AAD](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span><span class="sxs-lookup"><span data-stu-id="479be-201">You will have to manually create the second registration for the connector, using the steps covered in [Adding an AAD application](https://docs.microsoft.com/azure/active-directory/develop/active-directory-integrating-applications#adding-an-application).</span></span> <span data-ttu-id="479be-202">Registrace je potřeba mít Delegovaný přístup k rozhraní API a adresa URL odpovědi z `https://msmanaged-na.consent.azure-apim.net/redirect`.</span><span class="sxs-lookup"><span data-stu-id="479be-202">The registration needs to have delegated access to your API and a reply URL of `https://msmanaged-na.consent.azure-apim.net/redirect`.</span></span> <span data-ttu-id="479be-203">Najdete v tématu [v tomto příkladu](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) podrobněji, nahraďte vaše rozhraní API pro Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="479be-203">Please see [this example](
https://powerapps.microsoft.com/tutorials/customapi-azure-resource-manager-tutorial/) for more detail, substituting your API for the Azure Resource Manager.</span></span>

<span data-ttu-id="479be-204">Jsou tyto hodnoty konfigurace vyžaduje:</span><span class="sxs-lookup"><span data-stu-id="479be-204">The following configuration values are required:</span></span>
- <span data-ttu-id="479be-205">**ID klienta** -ID klienta konektoru registrace AAD</span><span class="sxs-lookup"><span data-stu-id="479be-205">**Client ID** - the client ID of your connector AAD registration</span></span>
- <span data-ttu-id="479be-206">**Tajný klíč klienta** -tajný klíč klienta konektoru registrace AAD</span><span class="sxs-lookup"><span data-stu-id="479be-206">**Client secret** - the client secret of your connector AAD registration</span></span>
- <span data-ttu-id="479be-207">**Adresa URL pro přihlášení** – základní adresu URL pro AAD.</span><span class="sxs-lookup"><span data-stu-id="479be-207">**Login URL** - the base URL for AAD.</span></span> <span data-ttu-id="479be-208">Ve veřejné Azure, bude obvykle jednat `https://login.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="479be-208">In public Azure, this will typically be `https://login.windows.net`.</span></span>
- <span data-ttu-id="479be-209">**ID klienta** -ID klienta, který se má použít pro přihlášení.</span><span class="sxs-lookup"><span data-stu-id="479be-209">**Tenant ID** - the ID of the tenant to be used for the login.</span></span> <span data-ttu-id="479be-210">Měl by být "běžné" nebo ID klienta, ve kterém se vytváří konektor.</span><span class="sxs-lookup"><span data-stu-id="479be-210">This should be "common" or the ID of the tenant in which the connector is being created.</span></span>
- <span data-ttu-id="479be-211">**Adresa URL prostředku** – prostředek URL registrace AAD rozhraní API back-end</span><span class="sxs-lookup"><span data-stu-id="479be-211">**Resource URL** - the resource URL of your API backend AAD registration</span></span>

> [!IMPORTANT]
> <span data-ttu-id="479be-212">Pokud jiné fyzické budete importovat definici rozhraní API do PowerApps a Flow Microsoft jako součást Ruční postup, musíte jim poskytnout ID klienta a tajný klíč klienta **registrace konektoru**, a také na adresu URL zdroje rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="479be-212">If another individual will be importing the API definition into PowerApps and Microsoft Flow as part of the manual flow, you will need to provide them with the client ID and client secret **of the connector registration**, as well as the resource URL of your API.</span></span> <span data-ttu-id="479be-213">Ujistěte se, že těchto tajných klíčů spravuje bezpečně.</span><span class="sxs-lookup"><span data-stu-id="479be-213">Make sure that these secrets are managed securely.</span></span> <span data-ttu-id="479be-214">**Nesdílí pověření zabezpečení rozhraní API, sám sebe.**</span><span class="sxs-lookup"><span data-stu-id="479be-214">**Do not share the security credentials of the API itself.**</span></span>

### <a name="generic-oauth-20"></a><span data-ttu-id="479be-215">Obecné OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="479be-215">Generic OAuth 2.0</span></span>
<span data-ttu-id="479be-216">Obecné podpory OAuth 2.0 umožňuje integraci se službou kteréhokoli poskytovatele služeb, OAuth 2.0.</span><span class="sxs-lookup"><span data-stu-id="479be-216">The generic OAuth 2.0 support allows you to integrate with any OAuth 2.0 provider.</span></span> <span data-ttu-id="479be-217">To umožňuje přinést si všechny vlastní poskytovatele, který není nativně podporované.</span><span class="sxs-lookup"><span data-stu-id="479be-217">This allows you to bring in any custom provider which is not natively supported.</span></span>

<span data-ttu-id="479be-218">Jsou tyto hodnoty konfigurace vyžaduje:</span><span class="sxs-lookup"><span data-stu-id="479be-218">The following configuration values are required:</span></span>
- <span data-ttu-id="479be-219">**ID klienta** -ID klienta OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="479be-219">**Client ID** - the OAuth 2.0 client ID</span></span>
- <span data-ttu-id="479be-220">**Tajný klíč klienta** -tajný klíč klienta OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="479be-220">**Client secret** - the OAuth 2.0 client secret</span></span>
- <span data-ttu-id="479be-221">**URL pro autorizaci** -URL pro autorizaci OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="479be-221">**Authorization URL** - the OAuth 2.0 authorization URL</span></span>
- <span data-ttu-id="479be-222">**Token URL** -adresy URL tokenu OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="479be-222">**Token URL** - the OAuth 2.0 token URL</span></span>
- <span data-ttu-id="479be-223">**Aktualizujte adresu URL** – adresa URL aktualizace OAuth 2.0</span><span class="sxs-lookup"><span data-stu-id="479be-223">**Refresh URL** - the OAuth 2.0 refresh URL</span></span>



<span data-ttu-id="479be-224">[zaregistrovat a použít vlastní konektory v PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/</span><span class="sxs-lookup"><span data-stu-id="479be-224">[Register and use custom connectors in PowerApps]: https://powerapps.microsoft.com/tutorials/register-custom-api/</span></span>
<span data-ttu-id="479be-225">[zaregistrovat a použít vlastní konektory v Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/</span><span class="sxs-lookup"><span data-stu-id="479be-225">[Register and use custom connectors in Microsoft Flow]: https://flow.microsoft.com/documentation/register-custom-api/</span></span>
