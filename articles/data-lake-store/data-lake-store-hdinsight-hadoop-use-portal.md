---
title: "Pomocí portálu Azure k vytvoření clusterů se Azure HDInsight s Data Lake Store | Microsoft Docs"
description: "Vytvoření a použití clusterů HDInsight s Azure Data Lake Store pomocí portálu Azure"
services: data-lake-store,hdinsight
documentationcenter: 
author: nitinme
manager: jhubbard
editor: cgronlun
ms.assetid: a8c45a83-a8e3-4227-8b02-1bc1e1de6767
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 08/14/2017
ms.author: nitinme
ms.openlocfilehash: 9dd56efb89e07ea61ae431d1ea2accd721cd6502
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/18/2017
---
# <a name="create-hdinsight-clusters-with-data-lake-store-by-using-the-azure-portal"></a><span data-ttu-id="c9dd3-103">Vytvoření clusterů HDInsight s Data Lake Store pomocí portálu Azure</span><span class="sxs-lookup"><span data-stu-id="c9dd3-103">Create HDInsight clusters with Data Lake Store by using the Azure portal</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="c9dd3-104">Použití portálu Azure Portal</span><span class="sxs-lookup"><span data-stu-id="c9dd3-104">Use the Azure portal</span></span>](data-lake-store-hdinsight-hadoop-use-portal.md)
> * [<span data-ttu-id="c9dd3-105">Pomocí prostředí PowerShell (pro výchozí úložiště)</span><span class="sxs-lookup"><span data-stu-id="c9dd3-105">Use PowerShell (for default storage)</span></span>](data-lake-store-hdinsight-hadoop-use-powershell-for-default-storage.md)
> * [<span data-ttu-id="c9dd3-106">Pomocí prostředí PowerShell (pro další úložiště)</span><span class="sxs-lookup"><span data-stu-id="c9dd3-106">Use PowerShell (for additional storage)</span></span>](data-lake-store-hdinsight-hadoop-use-powershell.md)
> * [<span data-ttu-id="c9dd3-107">Pomocí Správce prostředků</span><span class="sxs-lookup"><span data-stu-id="c9dd3-107">Use Resource Manager</span></span>](data-lake-store-hdinsight-hadoop-use-resource-manager-template.md)
>
>

<span data-ttu-id="c9dd3-108">Další informace o použití portálu Azure k vytvoření clusteru HDInsight pomocí účtu Azure Data Lake Store jako výchozí úložiště nebo další úložiště.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-108">Learn how to use the Azure portal to create a HDInsight cluster with an Azure Data Lake Store account as the default storage or an additional storage.</span></span> <span data-ttu-id="c9dd3-109">I když je dodatečné úložiště pro HDInsight cluster volitelný, doporučujeme ukládat firemní data v účtech úložiště.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-109">Even though additional storage is optional for a HDInsight cluster, it is recommended to store your business data in the additional storage accounts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="c9dd3-110">Požadavky</span><span class="sxs-lookup"><span data-stu-id="c9dd3-110">Prerequisites</span></span>
<span data-ttu-id="c9dd3-111">Než začnete tento kurz, ujistěte se, že jste splněny následující požadavky:</span><span class="sxs-lookup"><span data-stu-id="c9dd3-111">Before you begin this tutorial, ensure that you've met the following requirements:</span></span>

* <span data-ttu-id="c9dd3-112">**Předplatné Azure**.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-112">**An Azure subscription**.</span></span> <span data-ttu-id="c9dd3-113">Přejděte na [získání bezplatné zkušební verze Azure](https://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-113">Go to [Get Azure free trial](https://azure.microsoft.com/pricing/free-trial/).</span></span>
* <span data-ttu-id="c9dd3-114">**Účet Azure Data Lake Store**.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-114">**An Azure Data Lake Store account**.</span></span> <span data-ttu-id="c9dd3-115">Postupujte podle pokynů z [Začínáme s Azure Data Lake Store pomocí portálu Azure](data-lake-store-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-115">Follow the instructions from [Get started with Azure Data Lake Store by using the Azure portal](data-lake-store-get-started-portal.md).</span></span> <span data-ttu-id="c9dd3-116">Musíte taky vytvořit kořenové složky na účtu.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-116">You must also create a root folder on the account.</span></span>  <span data-ttu-id="c9dd3-117">V tomto kurzu kořenovou složku s názvem __/clusterů__ se používá.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-117">In this tutorial, a root folder called __/clusters__ is used.</span></span>
* <span data-ttu-id="c9dd3-118">**Objektu služby Azure Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-118">**An Azure Active Directory service principal**.</span></span> <span data-ttu-id="c9dd3-119">V tomto kurzu poskytuje pokyny o tom, jak vytvořit službu objektu zabezpečení ve službě Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-119">This tutorial provides instructions on how to create a service principal in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="c9dd3-120">Pokud chcete vytvořit objekt služby, ale musí být správce Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-120">However, to create a service principal, you must be an Azure AD administrator.</span></span> <span data-ttu-id="c9dd3-121">Pokud jste správce, můžete přeskočit tento požadavek a pokračujte v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-121">If you are an administrator, you can skip this prerequisite and proceed with the tutorial.</span></span>

    >[!NOTE]
    ><span data-ttu-id="c9dd3-122">Pouze v případě, že jste správce Azure AD, vytvořte službu objektu zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-122">You can create a service principal only if you are an Azure AD administrator.</span></span> <span data-ttu-id="c9dd3-123">Správce služby Azure AD musí vytvořte službu objektu zabezpečení před vytvořením clusteru HDInsight s Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-123">Your Azure AD administrator must create a service principal before you can create an HDInsight cluster with Data Lake Store.</span></span> <span data-ttu-id="c9dd3-124">Také musí být objekt služby vytvořen pomocí certifikátu, jak je popsáno v [vytvořit objekt služby pomocí certifikátu](../azure-resource-manager/resource-group-authenticate-service-principal.md#create-service-principal-with-self-signed-certificate).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-124">Also, the service principal must be created with a certificate, as described at [Create a service principal with certificate](../azure-resource-manager/resource-group-authenticate-service-principal.md#create-service-principal-with-self-signed-certificate).</span></span>
    >

## <a name="create-an-hdinsight-cluster"></a><span data-ttu-id="c9dd3-125">Vytvoření clusteru HDInsight</span><span class="sxs-lookup"><span data-stu-id="c9dd3-125">Create an HDInsight cluster</span></span>

<span data-ttu-id="c9dd3-126">V této části vytvoříte clusteru HDInsight s účty Data Lake Store jako výchozí nebo další úložiště.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-126">In this section, you create a HDInsight cluster with Data Lake Store accounts as the default or the additional storage.</span></span> <span data-ttu-id="c9dd3-127">Tento článek se týká pouze část konfigurace účtů Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-127">This article only focuses the part of configuring Data Lake Store accounts.</span></span>  <span data-ttu-id="c9dd3-128">Informace o vytvoření obecné clusteru a postupy najdete v tématu [vytvoření Hadoop clusterů v HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-128">For the general cluster creation information and procedures, see [Create Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-provision-linux-clusters.md).</span></span>

### <a name="create-a-cluster-with-data-lake-store-as-default-storage"></a><span data-ttu-id="c9dd3-129">Vytvoření clusteru s Data Lake Store jako výchozí úložiště</span><span class="sxs-lookup"><span data-stu-id="c9dd3-129">Create a cluster with Data Lake Store as default storage</span></span>

<span data-ttu-id="c9dd3-130">**K vytvoření clusteru HDInsight s Data Lake Store jako výchozí účet úložiště**</span><span class="sxs-lookup"><span data-stu-id="c9dd3-130">**To create a HDInsight cluster with a Data Lake Store as the default storage account**</span></span>

1. <span data-ttu-id="c9dd3-131">Přihlaste se k webu [Azure Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-131">Sign in to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="c9dd3-132">Postupujte podle [vytvořit clustery se](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) obecné informace o vytváření clusterů HDInsight.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-132">Follow [Create clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) for the general information on creating HDInsight clusters.</span></span>
3. <span data-ttu-id="c9dd3-133">Na **úložiště** okno, v části **primárního úložiště typu**, vyberte **Data Lake Store**a potom zadejte následující informace:</span><span class="sxs-lookup"><span data-stu-id="c9dd3-133">On the **Storage** blade, under **Primary storage type**, select **Data Lake Store**, and then enter the following information:</span></span>

    <span data-ttu-id="c9dd3-134">![Objekt služby přidat do clusteru HDInsight](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.adls.storage.png "instanční objekt přidat do clusteru HDInsight")</span><span class="sxs-lookup"><span data-stu-id="c9dd3-134">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.adls.storage.png "Add service principal to HDInsight cluster")</span></span>

    - <span data-ttu-id="c9dd3-135">**Vyberte Data Lake Store účtu**: Vyberte existující účet Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-135">**Select Data Lake Store account**: Select an existing Data Lake Store account.</span></span> <span data-ttu-id="c9dd3-136">Existující účet Data Lake Store je povinný.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-136">An existing Data Lake Store account is required.</span></span>  <span data-ttu-id="c9dd3-137">V tématu [požadavky](#prereuisites).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-137">See [Prerequisites](#prereuisites).</span></span>
    - <span data-ttu-id="c9dd3-138">**Kořenová cesta**: Zadejte cestu, kam mají ukládat soubory specifických pro cluster.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-138">**Root path**: Enter a path where the cluster-specific files are to be stored.</span></span> <span data-ttu-id="c9dd3-139">Na na snímku obrazovky je __/clusterů/myhdiadlcluster/__, ve kterém __/clusterů__ složka musí existovat a vytvoří portálu *myhdicluster* složky.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-139">On the screenshot, it is __/clusters/myhdiadlcluster/__, in which the __/clusters__ folder must exist, and the Portal creates *myhdicluster* folder.</span></span>  <span data-ttu-id="c9dd3-140">*Myhdicluster* je název clusteru.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-140">The *myhdicluster* is the cluster name.</span></span>
    - <span data-ttu-id="c9dd3-141">**Data Lake Store přístup**: Konfigurace přístupu mezi účtu Data Lake Store a HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-141">**Data Lake Store access**: Configure access between the Data Lake Store account and HDInsight cluster.</span></span> <span data-ttu-id="c9dd3-142">Pokyny najdete v tématu [přístup konfigurovat Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-142">For instructions, see [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>
    - <span data-ttu-id="c9dd3-143">**Další účty úložiště**: účtů přidat účty úložiště Azure jako dodatečné úložiště pro cluster.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-143">**Additional storage accounts**: Add Azure Storage Accounts as additional storage accounts for the cluster.</span></span> <span data-ttu-id="c9dd3-144">Chcete-li přidat další úložiště Data Lake provádí tím, že při konfiguraci účtu Data Lake Store jako typ primárního úložiště clusteru oprávnění na data v další účty Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-144">To add additional Data Lake Stores is done by giving the cluster permissions on data in more Data Lake Store accounts while configuring a Data Lake Store account as the primary storage type.</span></span> <span data-ttu-id="c9dd3-145">Viz [Konfigurace přístupu ke službě Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-145">See [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>

4. <span data-ttu-id="c9dd3-146">Na **přístup Data Lake Store**, klikněte na tlačítko **vyberte**a poté pokračovat ve vytváření clusteru, jak je popsáno v [vytvoření Hadoop clusterů v HDInsight](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-146">On the **Data Lake Store access**, click **Select**, and then continue with cluster creation as described in [Create Hadoop clusters in HDInsight](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md).</span></span>


### <a name="create-a-cluster-with-data-lake-store-as-additional-storage"></a><span data-ttu-id="c9dd3-147">Vytvoření clusteru s Data Lake Store jako další úložiště</span><span class="sxs-lookup"><span data-stu-id="c9dd3-147">Create a cluster with Data Lake Store as additional storage</span></span>

<span data-ttu-id="c9dd3-148">Podle následujících pokynů vytvoření clusteru HDInsight se pomocí účtu Azure Storage jako výchozí úložiště a účet Data Lake Store jako další úložiště.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-148">The following instructions create a HDInsight cluster with an Azure Storage account as the default storage, and a Data Lake Store account as an additional storage.</span></span>
<span data-ttu-id="c9dd3-149">**K vytvoření clusteru HDInsight s Data Lake Store jako výchozí účet úložiště**</span><span class="sxs-lookup"><span data-stu-id="c9dd3-149">**To create a HDInsight cluster with a Data Lake Store as the default storage account**</span></span>

1. <span data-ttu-id="c9dd3-150">Přihlaste se k webu [Azure Portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-150">Sign in to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="c9dd3-151">Postupujte podle [vytvořit clustery se](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) obecné informace o vytváření clusterů HDInsight.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-151">Follow [Create clusters](../hdinsight/hdinsight-hadoop-create-linux-clusters-portal.md#create-clusters) for the general information on creating HDInsight clusters.</span></span>
3. <span data-ttu-id="c9dd3-152">Na **úložiště** okno, v části **primárního úložiště typu**, vyberte **Azure Storage**a potom zadejte následující informace:</span><span class="sxs-lookup"><span data-stu-id="c9dd3-152">On the **Storage** blade, under **Primary storage type**, select **Azure Storage**, and then enter the following information:</span></span>

    <span data-ttu-id="c9dd3-153">![Objekt služby přidat do clusteru HDInsight](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.png "instanční objekt přidat do clusteru HDInsight")</span><span class="sxs-lookup"><span data-stu-id="c9dd3-153">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.1.png "Add service principal to HDInsight cluster")</span></span>

    - <span data-ttu-id="c9dd3-154">**Metody výběru**: použijte jednu z následujících možností:</span><span class="sxs-lookup"><span data-stu-id="c9dd3-154">**Selection method**: use one of the following options:</span></span>

        * <span data-ttu-id="c9dd3-155">Chcete-li zadat účet úložiště, který je součástí vašeho předplatného Azure, vyberte **mé odběry**a potom vyberte účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-155">To specify a storage account that is part of your Azure subscription, select **My subscriptions**, and then select the storage account.</span></span>
        * <span data-ttu-id="c9dd3-156">Chcete-li zadat účet úložiště, který je mimo vašeho předplatného Azure, vyberte **přístupový klíč**a pak zadejte informace pro mimo účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-156">To specify a storage account that is outside your Azure subscription, select **Access key**, and then provide the information for the outside storage account.</span></span>

    - <span data-ttu-id="c9dd3-157">**Výchozí kontejner**: použijte výchozí hodnotu nebo zadejte vlastní název.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-157">**Default container**: use either the default value or specify your own name.</span></span>

    - <span data-ttu-id="c9dd3-158">Další účty úložiště: přidat další účty Azure Storage jako další úložiště.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-158">Additional Storage accounts: add more Azure Storage accounts as the additional storage.</span></span>
    - <span data-ttu-id="c9dd3-159">Data Lake Store přístup: Konfigurace přístupu mezi účtu Data Lake Store a HDInsight cluster.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-159">Data Lake Store access: configure access between the Data Lake Store account and HDInsight cluster.</span></span> <span data-ttu-id="c9dd3-160">Pokyny naleznete v části [přístup konfigurovat Data Lake Store](#configure-data-lake-store-access).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-160">For instructions see [Configure Data Lake Store access](#configure-data-lake-store-access).</span></span>

## <a name="configure-data-lake-store-access"></a><span data-ttu-id="c9dd3-161">Konfigurace přístupu Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="c9dd3-161">Configure Data Lake Store access</span></span> 

<span data-ttu-id="c9dd3-162">V této části nakonfigurujete Data Lake Store přístup z clusterů HDInsight pomocí Azure Active Directory instanční objekt.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-162">In this section, you configure Data Lake Store access from HDInsight clusters using an Azure Active Directory service principal.</span></span> 

### <a name="specify-a-service-principal"></a><span data-ttu-id="c9dd3-163">Zadejte hlavní název služby</span><span class="sxs-lookup"><span data-stu-id="c9dd3-163">Specify a service principal</span></span>

<span data-ttu-id="c9dd3-164">Z portálu Azure můžete použít stávající instanční objekt nebo vytvořte novou.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-164">From the Azure portal, you can either use an existing service principal or create a new one.</span></span>

<span data-ttu-id="c9dd3-165">**Chcete-li vytvořit objekt služby z portálu Azure**</span><span class="sxs-lookup"><span data-stu-id="c9dd3-165">**To create a service principal from the Azure portal**</span></span>

1. <span data-ttu-id="c9dd3-166">Klikněte na tlačítko **Data Lake Store přístup** z okna úložiště.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-166">Click **Data Lake Store access** from the Store blade.</span></span>
2. <span data-ttu-id="c9dd3-167">Na **Data Lake Store přístup** okně klikněte na tlačítko **vytvořit nový**.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-167">On the **Data Lake Store access** blade, click **Create new**.</span></span>
3. <span data-ttu-id="c9dd3-168">Klikněte na tlačítko **instanční objekt**a pak postupujte podle pokynů vytvořte objekt služby.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-168">Click **Service Principal**, and then follow the instructions to create a service principal.</span></span>
4. <span data-ttu-id="c9dd3-169">Stažení certifikátu, pokud se rozhodnete použít znovu.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-169">Download the certificate if you decide to use it again in the future.</span></span> <span data-ttu-id="c9dd3-170">Stáhnout certifikát je užitečné, pokud chcete použít stejný objekt zabezpečení služby, když vytvoříte další clustery HDInsight.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-170">Downloading the certificate is useful if you want to use the same service principal when you create additional HDInsight clusters.</span></span>

    <span data-ttu-id="c9dd3-171">![Objekt služby přidat do clusteru HDInsight](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.2.png "instanční objekt přidat do clusteru HDInsight")</span><span class="sxs-lookup"><span data-stu-id="c9dd3-171">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.2.png "Add service principal to HDInsight cluster")</span></span>

4. <span data-ttu-id="c9dd3-172">Klikněte na tlačítko **přístup** konfigurovat přístup ke složce.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-172">Click **Access** to configure the folder access.</span></span>  <span data-ttu-id="c9dd3-173">V tématu [konfigurace oprávnění k souboru](#configure-file-permissions).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-173">See [Configure file permissions](#configure-file-permissions).</span></span>


<span data-ttu-id="c9dd3-174">**Chcete-li použít existující objekt zabezpečení služby z portálu Azure**</span><span class="sxs-lookup"><span data-stu-id="c9dd3-174">**To use an existing service principal from the Azure portal**</span></span>

1. <span data-ttu-id="c9dd3-175">Klikněte na tlačítko **Data Lake Store přístup**.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-175">Click **Data Lake Store access**.</span></span>
1. <span data-ttu-id="c9dd3-176">Na **Data Lake Store přístup** okně klikněte na tlačítko **použít existující**.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-176">On the **Data Lake Store access** blade, click **Use existing**.</span></span>
2. <span data-ttu-id="c9dd3-177">Klikněte na tlačítko **instanční objekt**a potom vyberte objekt služby.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-177">Click **Service Principal**, and then select a service principal.</span></span> 
3. <span data-ttu-id="c9dd3-178">Nahrajte certifikát (soubor .pfx), který je spojen s vybranou instanční objekt a potom zadejte heslo certifikátu.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-178">Upload the certificate (.pfx file) that's associated with your selected service principal, and then enter the certificate password.</span></span>

    <span data-ttu-id="c9dd3-179">![Objekt služby přidat do clusteru HDInsight](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.5.png "instanční objekt přidat do clusteru HDInsight")</span><span class="sxs-lookup"><span data-stu-id="c9dd3-179">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.5.png "Add service principal to HDInsight cluster")</span></span>

4. <span data-ttu-id="c9dd3-180">Klikněte na tlačítko **přístup** konfigurovat přístup ke složce.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-180">Click **Access** to configure the folder access.</span></span>  <span data-ttu-id="c9dd3-181">V tématu [konfigurace oprávnění k souboru](#configure-file-permissions).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-181">See [Configure file permissions](#configure-file-permissions).</span></span>


### <span data-ttu-id="c9dd3-182"><a name="configure-file-permissions"></a>Nakonfigurujte oprávnění souborů</span><span class="sxs-lookup"><span data-stu-id="c9dd3-182"><a name="configure-file-permissions"></a>Configure file permissions</span></span>

<span data-ttu-id="c9dd3-183">Nakonfiguruje se liší v závislosti na tom, jestli účet se používá jako výchozí úložiště nebo účet další úložiště:</span><span class="sxs-lookup"><span data-stu-id="c9dd3-183">The configures are different depending on whether the account is used as the default storage or an additional storage account:</span></span>

- <span data-ttu-id="c9dd3-184">Používat jako výchozí úložiště</span><span class="sxs-lookup"><span data-stu-id="c9dd3-184">Used as default storage</span></span>

    - <span data-ttu-id="c9dd3-185">oprávnění na úrovni kořenového účtu Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="c9dd3-185">permission at the root level of the Data Lake Store account</span></span>
    - <span data-ttu-id="c9dd3-186">oprávnění na kořenové úrovni úložiště clusteru HDInsight.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-186">permission at the root level of the HDInsight cluster storage.</span></span> <span data-ttu-id="c9dd3-187">Například __/clusterů__ složku dříve v tomto kurzu použili.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-187">For example, the __/clusters__ folder used earlier in the tutorial.</span></span>
- <span data-ttu-id="c9dd3-188">Použít jako další úložiště</span><span class="sxs-lookup"><span data-stu-id="c9dd3-188">Use as an additional storage</span></span>

    - <span data-ttu-id="c9dd3-189">Oprávnění u složky, které potřebují přístup k souborům.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-189">Permission at the folders where you need file access.</span></span>

<span data-ttu-id="c9dd3-190">**Můžete přiřadit oprávnění na úrovni kořenového účtu Data Lake Store**</span><span class="sxs-lookup"><span data-stu-id="c9dd3-190">**To assign permission at the Data Lake Store account root level**</span></span>

1. <span data-ttu-id="c9dd3-191">Na **Data Lake Store přístup** okně klikněte na tlačítko **přístup**.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-191">On the **Data Lake Store access** blade, click **Access**.</span></span> <span data-ttu-id="c9dd3-192">**Vyberte oprávnění k souboru** otevře okno.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-192">The **Select file permissions** blade is opened.</span></span> <span data-ttu-id="c9dd3-193">Zobrazí seznam všech účtů Data Lake Store v rámci vašeho předplatného.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-193">It lists all the Data Lake Store accounts in your subscription.</span></span>
2. <span data-ttu-id="c9dd3-194">Pozastavte ukazatel myši (neklikejte na) myši na název účtu Data Lake Store, chcete-li zaškrtnutí políčka Zobrazit, pak vyberte zaškrtávací pole.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-194">Hover (do not click) the mouse over the name of the Data Lake Store account to make the check box visible, then select the check box.</span></span>

    <span data-ttu-id="c9dd3-195">![Objekt služby přidat do clusteru HDInsight](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3.png "instanční objekt přidat do clusteru HDInsight")</span><span class="sxs-lookup"><span data-stu-id="c9dd3-195">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3.png "Add service principal to HDInsight cluster")</span></span>

  <span data-ttu-id="c9dd3-196">Ve výchozím nastavení __ČÍST__, __zápisu__, a __EXECUTE__ jsou vybrané všechny.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-196">By default, __READ__, __WRITE__, AND __EXECUTE__ are all selected.</span></span>

3. <span data-ttu-id="c9dd3-197">Klikněte na tlačítko **vyberte** v dolní části stránky.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-197">Click **Select** on the bottom of the page.</span></span>
4. <span data-ttu-id="c9dd3-198">Klikněte na tlačítko **spustit** můžete přiřadit oprávnění.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-198">Click **Run** to assign permission.</span></span>
5. <span data-ttu-id="c9dd3-199">Klikněte na **Done** (Hotovo).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-199">Click **Done**.</span></span>

<span data-ttu-id="c9dd3-200">**Můžete přiřadit oprávnění na úrovni kořenového clusteru HDInsight**</span><span class="sxs-lookup"><span data-stu-id="c9dd3-200">**To assign permission at the HDInsight cluster root level**</span></span>

1. <span data-ttu-id="c9dd3-201">Na **Data Lake Store přístup** okně klikněte na tlačítko **přístup**.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-201">On the **Data Lake Store access** blade, click **Access**.</span></span> <span data-ttu-id="c9dd3-202">**Vyberte oprávnění k souboru** otevře okno.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-202">The **Select file permissions** blade is opened.</span></span> <span data-ttu-id="c9dd3-203">Zobrazí seznam všech účtů Data Lake Store v rámci vašeho předplatného.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-203">It lists all the Data Lake Store accounts in your subscription.</span></span>
1. <span data-ttu-id="c9dd3-204">Z **vyberte oprávnění k souboru** okně klikněte na název Data Lake Store se má zobrazit jeho obsah.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-204">From the **Select file permissions** blade, click the Data Lake Store name to show its content.</span></span>
2. <span data-ttu-id="c9dd3-205">Vyberte kořenové úložiště clusteru HDInsight zaškrtnutím políčka nalevo od složce.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-205">Select the HDInsight cluster storage root by selecting the checkbox on the left of the folder.</span></span> <span data-ttu-id="c9dd3-206">Podle na snímku obrazovky dříve, kořenového úložiště clusteru je __/clusterů__ složky, kterou jste zadali, že při výběru Data Lake Store jako výchozí úložiště.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-206">According to the screenshot earlier, the cluster storage root is __/clusters__ folder that you specified while selecting the Data Lake Store as default storage.</span></span>
3. <span data-ttu-id="c9dd3-207">Nastavte oprávnění ve složce.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-207">Set the permissions on the folder.</span></span>  <span data-ttu-id="c9dd3-208">Ve výchozím nastavení, číst, zapisovat a spouštět jsou vybrané všechny.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-208">By default, read, write, and execute are all selected.</span></span>
4. <span data-ttu-id="c9dd3-209">Klikněte na tlačítko **vyberte** v dolní části stránky.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-209">Click **Select** on the bottom of the page.</span></span>
5. <span data-ttu-id="c9dd3-210">Klikněte na **Run** (Spustit).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-210">Click **Run**.</span></span>
6. <span data-ttu-id="c9dd3-211">Klikněte na **Done** (Hotovo).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-211">Click **Done**.</span></span>

<span data-ttu-id="c9dd3-212">Pokud používáte Data Lake Store jako další úložiště, je nutné přiřadit oprávnění jen pro složky, které chcete získat přístup z clusteru HDInsight.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-212">If you are using Data Lake Store as additional storage, you must assign permission only for the folders that you want to access from the HDInsight cluster.</span></span> <span data-ttu-id="c9dd3-213">Například na tomto snímku obrazovky můžete poskytnout přístup pouze k **hdiaddonstorage** složek v účtu Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-213">For example, in the screenshot below, you provide access only to **hdiaddonstorage** folder in a Data Lake Store account.</span></span>

<span data-ttu-id="c9dd3-214">![Přiřazení oprávnění hlavní služby ke clusteru HDInsight](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3-1.png "přiřadit oprávnění hlavní služby ke clusteru HDInsight")</span><span class="sxs-lookup"><span data-stu-id="c9dd3-214">![Assign service principal permissions to the HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.3-1.png "Assign service principal permissions to the HDInsight cluster")</span></span>


## <a name="verify-cluster-set-up"></a><span data-ttu-id="c9dd3-215">Ověřte nastavení clusteru</span><span class="sxs-lookup"><span data-stu-id="c9dd3-215">Verify cluster set up</span></span>

<span data-ttu-id="c9dd3-216">Po dokončení instalace clusteru v okně clusteru ověřte výsledky provedením jedné nebo obou následujících kroků:</span><span class="sxs-lookup"><span data-stu-id="c9dd3-216">After the cluster setup is complete, on the cluster blade, verify your results by doing either or both of the following steps:</span></span>

* <span data-ttu-id="c9dd3-217">Ověřte, zda přidruženého úložiště pro cluster účtu Data Lake Store, který jste zadali, klikněte na tlačítko **účty úložiště** v levém podokně.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-217">To verify that the associated storage for the cluster is the Data Lake Store account that you specified, click **Storage accounts** in the left pane.</span></span>

    <span data-ttu-id="c9dd3-218">![Objekt služby přidat do clusteru HDInsight](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6-1.png "instanční objekt přidat do clusteru HDInsight")</span><span class="sxs-lookup"><span data-stu-id="c9dd3-218">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6-1.png "Add service principal to HDInsight cluster")</span></span>

* <span data-ttu-id="c9dd3-219">Ověřte, zda je správně přidružena ke clusteru HDInsight objektu služby, klikněte na tlačítko **Data Lake Store přístup** v levém podokně.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-219">To verify that the service principal is correctly associated with the HDInsight cluster, click **Data Lake Store access** in the left pane.</span></span>

    <span data-ttu-id="c9dd3-220">![Objekt služby přidat do clusteru HDInsight](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6.png "instanční objekt přidat do clusteru HDInsight")</span><span class="sxs-lookup"><span data-stu-id="c9dd3-220">![Add service principal to HDInsight cluster](./media/data-lake-store-hdinsight-hadoop-use-portal/hdi.adl.6.png "Add service principal to HDInsight cluster")</span></span>


## <a name="examples"></a><span data-ttu-id="c9dd3-221">Příklady</span><span class="sxs-lookup"><span data-stu-id="c9dd3-221">Examples</span></span>

<span data-ttu-id="c9dd3-222">Poté, co jste nastavili jako úložiště clusteru s Data Lake Store, naleznete v těchto příkladech použití clusteru HDInsight k analýze dat, která je uložená v Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-222">After you have set up the cluster with Data Lake Store as your storage, refer to these examples of how to use HDInsight cluster to analyze the data that's stored in Data Lake Store.</span></span>

### <a name="run-a-hive-query-against-data-in-a-data-lake-store-as-primary-storage"></a><span data-ttu-id="c9dd3-223">Spouštění dotazů Hive proti dat v Data Lake Store (jako primární úložiště)</span><span class="sxs-lookup"><span data-stu-id="c9dd3-223">Run a Hive query against data in a Data Lake Store (as primary storage)</span></span>

<span data-ttu-id="c9dd3-224">Ke spuštění dotazu Hive, použijte rozhraní Hive zobrazení Ambari portálu.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-224">To run a Hive query, use the Hive views interface in the Ambari portal.</span></span> <span data-ttu-id="c9dd3-225">Pokyny týkající se používání zobrazení Ambari Hive naleznete v tématu [použít zobrazení Hive se systémem Hadoop v HDInsight](../hdinsight/hdinsight-hadoop-use-hive-ambari-view.md).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-225">For instructions on how to use Ambari Hive views, see [Use the Hive View with Hadoop in HDInsight](../hdinsight/hdinsight-hadoop-use-hive-ambari-view.md).</span></span>

<span data-ttu-id="c9dd3-226">Při práci s daty v Data Lake Store, existuje několik řetězce, chcete-li změnit.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-226">When you work with data in a Data Lake Store, there are a few strings to change.</span></span>

<span data-ttu-id="c9dd3-227">Pokud chcete použít, například cluster, který jste vytvořili s Data Lake Store jako primární úložiště, je cesta k datům: *adl: / / < data_lake_store_account_name > /azuredatalakestore.net/path/to/file*.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-227">If you use, for example, the cluster that you created with Data Lake Store as primary storage, the path to the data is: *adl://<data_lake_store_account_name>/azuredatalakestore.net/path/to/file*.</span></span> <span data-ttu-id="c9dd3-228">Dotaz Hive a vytvořte tabulku z ukázkových dat, který je uložený v účtu Data Lake Store vypadá následující příkaz:</span><span class="sxs-lookup"><span data-stu-id="c9dd3-228">A Hive query to create a table from sample data that's stored in the Data Lake Store account looks like the following statement:</span></span>

    CREATE EXTERNAL TABLE websitelog (str string) LOCATION 'adl://hdiadlsstorage.azuredatalakestore.net/clusters/myhdiadlcluster/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/'

<span data-ttu-id="c9dd3-229">Popis:</span><span class="sxs-lookup"><span data-stu-id="c9dd3-229">Descriptions:</span></span>
* <span data-ttu-id="c9dd3-230">`adl://hdiadlstorage.azuredatalakestore.net/`je kořenem účtu Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-230">`adl://hdiadlstorage.azuredatalakestore.net/` is the root of the Data Lake Store account.</span></span>
* <span data-ttu-id="c9dd3-231">`/clusters/myhdiadlcluster`je kořenovém clusteru data, která jste zadali při vytváření clusteru.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-231">`/clusters/myhdiadlcluster` is the root of the cluster data that you specified while creating the cluster.</span></span>
* <span data-ttu-id="c9dd3-232">`/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/`je umístění ukázkový soubor, který jste použili v dotazu.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-232">`/HdiSamples/HdiSamples/WebsiteLogSampleData/SampleLog/` is the location of the sample file that you used in the query.</span></span>

### <a name="run-a-hive-query-against-data-in-a-data-lake-store-as-additional-storage"></a><span data-ttu-id="c9dd3-233">Spouštění dotazů Hive proti dat v Data Lake Store (jako další úložiště)</span><span class="sxs-lookup"><span data-stu-id="c9dd3-233">Run a Hive query against data in a Data Lake Store (as additional storage)</span></span>

<span data-ttu-id="c9dd3-234">Pokud cluster, který jste vytvořili používá jako výchozí úložiště Blob storage, ukázková data není obsažen v účtu Azure Data Lake Store, který se používá jako další úložiště.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-234">If the cluster that you created uses Blob storage as default storage, the sample data is not contained in the Azure Data Lake Store account that's used as additional storage.</span></span> <span data-ttu-id="c9dd3-235">V takovém případě nejdřív přenést data z úložiště objektů Blob do Data Lake Store a poté spusťte dotazy, jak je znázorněno v předchozím příkladu.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-235">In such a case, first transfer the data from Blob storage to the Data Lake Store, and then run the queries as shown in the preceding example.</span></span>

<span data-ttu-id="c9dd3-236">Informace o tom, jak zkopírovat data z úložiště objektů Blob do Data Lake Store naleznete v následujících článcích:</span><span class="sxs-lookup"><span data-stu-id="c9dd3-236">For information on how to copy data from Blob storage to a Data Lake Store, see the following articles:</span></span>

* [<span data-ttu-id="c9dd3-237">Použití Distcp ke kopírování dat mezi objektů BLOB služby Azure Storage a Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="c9dd3-237">Use Distcp to copy data between Azure Storage blobs and Data Lake Store</span></span>](data-lake-store-copy-data-wasb-distcp.md)
* [<span data-ttu-id="c9dd3-238">Použít AdlCopy ke zkopírování dat z Azure úložiště objektů BLOB do Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="c9dd3-238">Use AdlCopy to copy data from Azure Storage blobs to Data Lake Store</span></span>](data-lake-store-copy-data-azure-storage-blob.md)

### <a name="use-data-lake-store-with-a-spark-cluster"></a><span data-ttu-id="c9dd3-239">Použití Data Lake Store s clusterem Spark</span><span class="sxs-lookup"><span data-stu-id="c9dd3-239">Use Data Lake Store with a Spark cluster</span></span>
<span data-ttu-id="c9dd3-240">Spark cluster můžete použít ke spuštění úloh Spark na data, která je uložená v Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-240">You can use a Spark cluster to run Spark jobs on data that is stored in a Data Lake Store.</span></span> <span data-ttu-id="c9dd3-241">Další informace najdete v tématu [clusteru používejte HDInsight Spark k analýze dat v Data Lake Store](../hdinsight/hdinsight-apache-spark-use-with-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-241">For more information, see [Use HDInsight Spark cluster to analyze data in Data Lake Store](../hdinsight/hdinsight-apache-spark-use-with-data-lake-store.md).</span></span>


### <a name="use-data-lake-store-in-a-storm-topology"></a><span data-ttu-id="c9dd3-242">Použití Data Lake Store v topologii Storm</span><span class="sxs-lookup"><span data-stu-id="c9dd3-242">Use Data Lake Store in a Storm topology</span></span>
<span data-ttu-id="c9dd3-243">Data Lake Store můžete použít k zápisu dat ze topologie Storm.</span><span class="sxs-lookup"><span data-stu-id="c9dd3-243">You can use the Data Lake Store to write data from a Storm topology.</span></span> <span data-ttu-id="c9dd3-244">Pokyny o tom, jak dosáhnout tento scénář naleznete v tématu [pomocí Azure Data Lake Store s Apache Storm v prostředí HDInsight](../hdinsight/hdinsight-storm-write-data-lake-store.md).</span><span class="sxs-lookup"><span data-stu-id="c9dd3-244">For instructions on how to achieve this scenario, see [Use Azure Data Lake Store with Apache Storm with HDInsight](../hdinsight/hdinsight-storm-write-data-lake-store.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="c9dd3-245">Viz také</span><span class="sxs-lookup"><span data-stu-id="c9dd3-245">See also</span></span>
* [<span data-ttu-id="c9dd3-246">Prostředí PowerShell: Vytvoření clusteru HDInsight používat Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="c9dd3-246">PowerShell: Create an HDInsight cluster to use Data Lake Store</span></span>](data-lake-store-hdinsight-hadoop-use-powershell.md)

[makecert]: https://msdn.microsoft.com/library/windows/desktop/ff548309(v=vs.85).aspx
[pvk2pfx]: https://msdn.microsoft.com/library/windows/desktop/ff550672(v=vs.85).aspx
