---
title: "postupy aaaBest a Průvodci odstraňováním potíží aplikace uzlu ve webových aplikacích Azure"
description: "Zjistěte, hello osvědčené postupy a řešení potíží pro uzlu aplikace v Azure Web Apps."
services: app-service\web
documentationcenter: nodejs
author: ranjithr
manager: wadeh
editor: 
ms.assetid: 387ea217-7910-4468-8987-9a1022a99bef
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 06/06/2016
ms.author: ranjithr
ms.openlocfilehash: 975898142a224f14df1091a46d16e9074d9e2831
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="best-practices-and-troubleshooting-guide-for-node-applications-on-azure-web-apps"></a><span data-ttu-id="13ad3-103">Osvědčené postupy a Průvodci odstraňováním potíží aplikace uzlu ve webových aplikacích Azure</span><span class="sxs-lookup"><span data-stu-id="13ad3-103">Best practices and troubleshooting guide for node applications on Azure Web Apps</span></span>
[!INCLUDE [tabs](../../includes/app-service-web-get-started-nav-tabs.md)]

<span data-ttu-id="13ad3-104">V tomto článku se dozvíte hello osvědčené postupy a řešení potíží pro [uzel aplikace](app-service-web-get-started-nodejs.md) systémem Azure Webapps (s [iisnode](https://github.com/azure/iisnode)).</span><span class="sxs-lookup"><span data-stu-id="13ad3-104">In this article, you will learn hello best practices and troubleshooting steps for [node applications](app-service-web-get-started-nodejs.md) running on Azure Webapps (with [iisnode](https://github.com/azure/iisnode)).</span></span>

> [!WARNING]
> <span data-ttu-id="13ad3-105">Buďte opatrní při používání při řešení potíží na vašem provozním serveru.</span><span class="sxs-lookup"><span data-stu-id="13ad3-105">Use caution when using troubleshooting steps on your production site.</span></span> <span data-ttu-id="13ad3-106">Doporučuje se tootroubleshoot vaši aplikaci ve mimo produkční nastavit třeba přípravný slot a když hello problém vyřešen, Prohodit vaší přípravný slot s produkční slot.</span><span class="sxs-lookup"><span data-stu-id="13ad3-106">Recommendation is tootroubleshoot your app on a non-production setup for example your staging slot and when hello issue is fixed, swap your staging slot with your production slot.</span></span>
> 
> 

## <a name="iisnode-configuration"></a><span data-ttu-id="13ad3-107">Konfigurace modulu IISNODE</span><span class="sxs-lookup"><span data-stu-id="13ad3-107">IISNODE configuration</span></span>
<span data-ttu-id="13ad3-108">To [soubor schématu](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) zobrazuje všechny hello nastavení, které mohou být konfigurovány pro modulu iisnode.</span><span class="sxs-lookup"><span data-stu-id="13ad3-108">This [schema file](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) shows all hello settings that can be configured for iisnode.</span></span> <span data-ttu-id="13ad3-109">Některá nastavení hello, která bude užitečná pro vaše aplikace jsou:</span><span class="sxs-lookup"><span data-stu-id="13ad3-109">Some of hello settings that will be useful for your application are:</span></span>

* <span data-ttu-id="13ad3-110">nodeProcessCountPerApplication</span><span class="sxs-lookup"><span data-stu-id="13ad3-110">nodeProcessCountPerApplication</span></span>
  
    <span data-ttu-id="13ad3-111">Toto nastavení určuje hello počet uzlu procesy, které jsou spouštěny na aplikaci služby IIS.</span><span class="sxs-lookup"><span data-stu-id="13ad3-111">This setting controls hello number of node processes that are launched per IIS application.</span></span> <span data-ttu-id="13ad3-112">Výchozí hodnota je 1.</span><span class="sxs-lookup"><span data-stu-id="13ad3-112">Default value is 1.</span></span> <span data-ttu-id="13ad3-113">Nastavením této too0 můžete spustit tolik node.exe jako vaše základní počet virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="13ad3-113">You can launch as many node.exe’s as your VM core count by setting this too0.</span></span> <span data-ttu-id="13ad3-114">Doporučená hodnota je 0 pro většinu aplikací, takže můžete využít všechny hello jader na váš počítač.</span><span class="sxs-lookup"><span data-stu-id="13ad3-114">Recommended value is 0 for most application so you can utilize all of hello cores on your machine.</span></span> <span data-ttu-id="13ad3-115">Node.exe je zřetězený, jeden node.exe spotřebuje maximálně 1 základní tooget maximální výkon a mimo aplikaci uzlu je vhodnější tooutilize všechny jader.</span><span class="sxs-lookup"><span data-stu-id="13ad3-115">Node.exe is single threaded so one node.exe will consume a maximum of 1 core and tooget maximum performance out of your node application you would want tooutilize all cores.</span></span>
* <span data-ttu-id="13ad3-116">nodeProcessCommandLine</span><span class="sxs-lookup"><span data-stu-id="13ad3-116">nodeProcessCommandLine</span></span>
  
    <span data-ttu-id="13ad3-117">Toto nastavení určuje hello cesta toohello node.exe.</span><span class="sxs-lookup"><span data-stu-id="13ad3-117">This setting controls hello path toohello node.exe.</span></span> <span data-ttu-id="13ad3-118">Můžete nastavit tuto hodnotu toopoint tooyour node.exe verzi.</span><span class="sxs-lookup"><span data-stu-id="13ad3-118">You can set this value toopoint tooyour node.exe version.</span></span>
* <span data-ttu-id="13ad3-119">maxConcurrentRequestsPerProcess</span><span class="sxs-lookup"><span data-stu-id="13ad3-119">maxConcurrentRequestsPerProcess</span></span>
  
    <span data-ttu-id="13ad3-120">Toto nastavení určuje maximální počet souběžných požadavků odeslaných modulu iisnode tooeach node.exe hello.</span><span class="sxs-lookup"><span data-stu-id="13ad3-120">This setting controls hello maximum number of concurrent requests sent by iisnode tooeach node.exe.</span></span> <span data-ttu-id="13ad3-121">Na azure webapps hello výchozí hodnota pro tento je nekonečné.</span><span class="sxs-lookup"><span data-stu-id="13ad3-121">On azure webapps, hello default value for this is Infinite.</span></span> <span data-ttu-id="13ad3-122">Nebudete mít tooworry o tomto nastavení.</span><span class="sxs-lookup"><span data-stu-id="13ad3-122">You will not have tooworry about this setting.</span></span> <span data-ttu-id="13ad3-123">Mimo azure webapps hello výchozí hodnota je 1024.</span><span class="sxs-lookup"><span data-stu-id="13ad3-123">Outside azure webapps, hello default value is 1024.</span></span> <span data-ttu-id="13ad3-124">Můžete chtít tooconfigure, to v závislosti na tom, kolik požadavků vaší aplikace získává a jak rychle vaše aplikace zpracovává každý požadavek.</span><span class="sxs-lookup"><span data-stu-id="13ad3-124">You might want tooconfigure this depending on how many requests your application gets and how fast your application processes each request.</span></span>
* <span data-ttu-id="13ad3-125">maxNamedPipeConnectionRetry</span><span class="sxs-lookup"><span data-stu-id="13ad3-125">maxNamedPipeConnectionRetry</span></span>
  
    <span data-ttu-id="13ad3-126">Toto nastavení určuje hello maximálním počtem pokusů modulu iisnode bude opakovat vytváření připojení s názvem kanálu toosend hello žádosti přes toonode.exe hello.</span><span class="sxs-lookup"><span data-stu-id="13ad3-126">This setting controls hello maximum number of times iisnode will retry making connection on hello named pipe toosend hello request over toonode.exe.</span></span> <span data-ttu-id="13ad3-127">Toto nastavení v kombinaci s namedPipeConnectionRetryDelay Určuje celkový časový limit hello každého požadavku v rámci modulu iisnode.</span><span class="sxs-lookup"><span data-stu-id="13ad3-127">This setting in combination with namedPipeConnectionRetryDelay determines hello total timeout of each request within iisnode.</span></span> <span data-ttu-id="13ad3-128">Výchozí hodnota je 200 na Azure Webapps.</span><span class="sxs-lookup"><span data-stu-id="13ad3-128">Default value is 200 on Azure Webapps.</span></span> <span data-ttu-id="13ad3-129">Celkový časový limit v sekundách = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="13ad3-129">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
* <span data-ttu-id="13ad3-130">namedPipeConnectionRetryDelay</span><span class="sxs-lookup"><span data-stu-id="13ad3-130">namedPipeConnectionRetryDelay</span></span>
  
    <span data-ttu-id="13ad3-131">Tato nastavení ovládacích prvků hello množství modulu iisnode čas (v ms) bude čekat mezi každou opakování toosend požadavku toonode.exe přes hello pojmenovaný kanál.</span><span class="sxs-lookup"><span data-stu-id="13ad3-131">This setting controls hello amount of time (in ms) iisnode will wait for between each retry toosend request toonode.exe over hello named pipe.</span></span> <span data-ttu-id="13ad3-132">Výchozí hodnota je 250ms.</span><span class="sxs-lookup"><span data-stu-id="13ad3-132">Default value is 250ms.</span></span>
    <span data-ttu-id="13ad3-133">Celkový časový limit v sekundách = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="13ad3-133">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
  
    <span data-ttu-id="13ad3-134">Ve výchozím nastavení je hello celkový časový limit v modulu iisnode na azure webapps 200 \* 250ms = 50 sekund.</span><span class="sxs-lookup"><span data-stu-id="13ad3-134">By default hello total timeout in iisnode on azure webapps is 200 \* 250ms = 50 seconds.</span></span>
* <span data-ttu-id="13ad3-135">logDirectory</span><span class="sxs-lookup"><span data-stu-id="13ad3-135">logDirectory</span></span>
  
    <span data-ttu-id="13ad3-136">Toto nastavení určuje hello adresáře, kde bude modulu iisnode protokolu stdout/stderr.</span><span class="sxs-lookup"><span data-stu-id="13ad3-136">This setting controls hello directory where iisnode will log stdout/stderr.</span></span> <span data-ttu-id="13ad3-137">Výchozí hodnota je modulu iisnode, která je relativní toohello hlavního skriptu adresář (adresář, kde se nachází hlavní server.js)</span><span class="sxs-lookup"><span data-stu-id="13ad3-137">Default value is iisnode which is relative toohello main script directory (directory where main server.js is present)</span></span>
* <span data-ttu-id="13ad3-138">debuggerExtensionDll</span><span class="sxs-lookup"><span data-stu-id="13ad3-138">debuggerExtensionDll</span></span>
  
    <span data-ttu-id="13ad3-139">Toto nastavení určuje, jaká verze modulu iisnode nástroj node-inspector se bude používat při ladění aplikace uzlu.</span><span class="sxs-lookup"><span data-stu-id="13ad3-139">This setting controls what version of node-inspector iisnode will use when debugging your node application.</span></span> <span data-ttu-id="13ad3-140">Aktuálně modulu iisnode. inspector 0.7.3.dll a iisnode inspector.dll jsou hello 2 pouze platné hodnoty pro toto nastavení.</span><span class="sxs-lookup"><span data-stu-id="13ad3-140">Currently iisnode-inspector-0.7.3.dll and iisnode-inspector.dll are hello only 2 valid values for this setting.</span></span> <span data-ttu-id="13ad3-141">Výchozí hodnota je modulu iisnode. inspector 0.7.3.dll.</span><span class="sxs-lookup"><span data-stu-id="13ad3-141">Default value is iisnode-inspector-0.7.3.dll.</span></span> <span data-ttu-id="13ad3-142">verze modulu iisnode. inspector 0.7.3.dll používá uzlu inspector 0.7.3 a používá, takže bude potřeba tooenable websocket na vaší webové aplikace azure toouse tuto verzi.</span><span class="sxs-lookup"><span data-stu-id="13ad3-142">iisnode-inspector-0.7.3.dll version uses node-inspector-0.7.3 and uses websockets, so you will need tooenable websockets on your azure webapp toouse this version.</span></span> <span data-ttu-id="13ad3-143">V tématu <http://www.ranjithr.com/?p=98> další podrobnosti o tom, jak tooconfigure modulu iisnode toouse hello nástroj nové node-inspector.</span><span class="sxs-lookup"><span data-stu-id="13ad3-143">See <http://www.ranjithr.com/?p=98> for more details on how tooconfigure iisnode toouse hello new node-inspector.</span></span>
* <span data-ttu-id="13ad3-144">flushResponse</span><span class="sxs-lookup"><span data-stu-id="13ad3-144">flushResponse</span></span>
  
    <span data-ttu-id="13ad3-145">Hello výchozí chování služby IIS je, že ukládány data odpovědi až too4MB před vyčištění nebo až hello konce hello odpovědi, nastane dříve.</span><span class="sxs-lookup"><span data-stu-id="13ad3-145">hello default behavior of IIS is that it buffers response data up too4MB before flushing, or until hello end of hello response, whichever comes first.</span></span> <span data-ttu-id="13ad3-146">iisnode nabízí nastavení toooverride toto chování: tooflush fragment textu entity odpovědi hello co nejdříve modulu iisnode přijímá je z node.exe, musíte tooset hello iisnode/@flushResponse atribut v souboru web.config too'true':</span><span class="sxs-lookup"><span data-stu-id="13ad3-146">iisnode offers a configuration setting toooverride this behavior: tooflush a fragment of hello response entity body as soon as iisnode receives it from node.exe, you need tooset hello iisnode/@flushResponse attribute in web.config too'true':</span></span>
  
    ```
    <configuration>    
        <system.webServer>    
            <!-- ... -->    
            <iisnode flushResponse="true" />    
        </system.webServer>    
    </configuration>
    ```
  
    <span data-ttu-id="13ad3-147">Povolení vyprázdnění každý fragment textu entity odpovědi hello zvýší nároky na výkon, sníží hello propustnost systému hello % ~ 5 (od v0.1.13), tak, aby byl co nejlepší tooscope pouze tooendpoints tato nastavení vyžadující odpovědi (např. použití hello vysílání datového proudu. <location> element v souboru web.config hello)</span><span class="sxs-lookup"><span data-stu-id="13ad3-147">Enabling flushing of every fragment of hello response entity body adds performance overhead that reduces hello throughput of hello system by ~5% (as of v0.1.13), so it is best tooscope this setting only tooendpoints that require response streaming (e.g. using hello <location> element in hello web.config)</span></span>
  
    <span data-ttu-id="13ad3-148">V přidání toothis pro streamování aplikací, budete potřebovat sadu responseBufferLimit tooalso z vaší too0 obslužná rutina modulu iisnode.</span><span class="sxs-lookup"><span data-stu-id="13ad3-148">In addition toothis, for streaming applications, you will need tooalso set responseBufferLimit of your iisnode handler too0.</span></span>
  
    ```
    <handlers>    
        <add name="iisnode" path="app.js" verb="\*" modules="iisnode" responseBufferLimit="0"/>    
    </handlers>
    ```
* <span data-ttu-id="13ad3-149">watchedFiles</span><span class="sxs-lookup"><span data-stu-id="13ad3-149">watchedFiles</span></span>
  
    <span data-ttu-id="13ad3-150">Toto je seznam souborů, které budou sledovány změny oddělených středníkem.</span><span class="sxs-lookup"><span data-stu-id="13ad3-150">This is a semi-colon separated list of files that will be watched for changes.</span></span> <span data-ttu-id="13ad3-151">Soubor tooa změn způsobí, že toorecycle aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="13ad3-151">A change tooa file causes hello application toorecycle.</span></span> <span data-ttu-id="13ad3-152">Každý záznam se skládá z název volitelné adresáře plus název požadované souboru, které jsou relativní toohello adresáře, kde je najít vstupní bod hello hlavní aplikace.</span><span class="sxs-lookup"><span data-stu-id="13ad3-152">Each entry consists of an optional directory name plus required file name which are relative toohello directory where hello main application entry point is located.</span></span> <span data-ttu-id="13ad3-153">Zástupné znaky nejsou povoleny v hello souboru pouze část s názvem.</span><span class="sxs-lookup"><span data-stu-id="13ad3-153">Wild cards are allowed in hello file name portion only.</span></span> <span data-ttu-id="13ad3-154">Výchozí hodnota je "\*. js;web.config"</span><span class="sxs-lookup"><span data-stu-id="13ad3-154">Default value is “\*.js;web.config”</span></span>
* <span data-ttu-id="13ad3-155">recycleSignalEnabled</span><span class="sxs-lookup"><span data-stu-id="13ad3-155">recycleSignalEnabled</span></span>
  
    <span data-ttu-id="13ad3-156">Výchozí hodnota je false.</span><span class="sxs-lookup"><span data-stu-id="13ad3-156">Default value is false.</span></span> <span data-ttu-id="13ad3-157">Pokud je povoleno, aplikace uzlu můžete připojit tooa pojmenovaný kanál (proměnnou prostředí modulu IISNODE\_řízení\_kanálu) a odeslat zprávu "recyklaci".</span><span class="sxs-lookup"><span data-stu-id="13ad3-157">If enabled, your node application can connect tooa named pipe (environment variable IISNODE\_CONTROL\_PIPE) and send a “recycle” message.</span></span> <span data-ttu-id="13ad3-158">To způsobí, že hello w3wp toorecycle řádně.</span><span class="sxs-lookup"><span data-stu-id="13ad3-158">This will cause hello w3wp toorecycle gracefully.</span></span>
* <span data-ttu-id="13ad3-159">idlePageOutTimePeriod</span><span class="sxs-lookup"><span data-stu-id="13ad3-159">idlePageOutTimePeriod</span></span>
  
    <span data-ttu-id="13ad3-160">Výchozí hodnota je 0, což znamená, že tato funkce je vypnutá.</span><span class="sxs-lookup"><span data-stu-id="13ad3-160">Default value is 0 which means this feature is disabled.</span></span> <span data-ttu-id="13ad3-161">Pokud bude toosome nastavte hodnotu větší než 0, modulu iisnode stránky se všechny jeho podřízené zpracovává každých milisekund 'idlePageOutTimePeriod'.</span><span class="sxs-lookup"><span data-stu-id="13ad3-161">When set toosome value greater than 0, iisnode will page out all its child processes every ‘idlePageOutTimePeriod’ milliseconds.</span></span> <span data-ttu-id="13ad3-162">toounderstand co stránky na prostředky, naleznete toothis [dokumentaci](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span><span class="sxs-lookup"><span data-stu-id="13ad3-162">toounderstand what page out means, please refer toothis [documentation](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span></span> <span data-ttu-id="13ad3-163">Toto nastavení se bude hodit pro aplikace, které spotřebovávají velké množství paměti a má toopageout paměti toodisk příležitostně toofree si některé paměti RAM.</span><span class="sxs-lookup"><span data-stu-id="13ad3-163">This setting will be useful for applications that consume a lot of memory and want toopageout memory toodisk occasionally toofree up some RAM.</span></span>

> [!WARNING]
> <span data-ttu-id="13ad3-164">Buďte opatrní při povolování hello následující nastavení konfigurace na výrobní aplikace.</span><span class="sxs-lookup"><span data-stu-id="13ad3-164">Use caution when enabling hello following configuration settings on production applications.</span></span> <span data-ttu-id="13ad3-165">Doporučuje se toonot je povolit v za provozu výrobní aplikace.</span><span class="sxs-lookup"><span data-stu-id="13ad3-165">Recommendation is toonot enable them on live production applications.</span></span>
> 
> 

* <span data-ttu-id="13ad3-166">debugHeaderEnabled</span><span class="sxs-lookup"><span data-stu-id="13ad3-166">debugHeaderEnabled</span></span>
  
    <span data-ttu-id="13ad3-167">Hello výchozí hodnota je false.</span><span class="sxs-lookup"><span data-stu-id="13ad3-167">hello default value is false.</span></span> <span data-ttu-id="13ad3-168">Pokud nastavení tootrue, modulu iisnode přidá odpověď záhlaví modulu iisnode-debug tooevery HTTP odpovědi HTTP odešle hodnotu hlavičky modulu iisnode-debug hello je adresa URL.</span><span class="sxs-lookup"><span data-stu-id="13ad3-168">If set tootrue, iisnode will add an HTTP response header iisnode-debug tooevery HTTP response it sends hello iisnode-debug header value is a URL.</span></span> <span data-ttu-id="13ad3-169">Jednotlivé diagnostické informace může shromažďovat informace prohlížením hello fragment adresy URL, ale mnohem lepší vizualizace se dosahuje otevření hello adresy URL v prohlížeči hello.</span><span class="sxs-lookup"><span data-stu-id="13ad3-169">Individual pieces of diagnostic information can be gleaned by looking at hello URL fragment, but a much better visualization is achieved by opening hello URL in hello browser.</span></span>
* <span data-ttu-id="13ad3-170">loggingEnabled</span><span class="sxs-lookup"><span data-stu-id="13ad3-170">loggingEnabled</span></span>
  
    <span data-ttu-id="13ad3-171">Toto nastavení řídí hello protokolování stdout a stderr pomocí modulu iisnode.</span><span class="sxs-lookup"><span data-stu-id="13ad3-171">This setting controls hello logging of stdout and stderr by iisnode.</span></span> <span data-ttu-id="13ad3-172">Iisnode zachytíte stdout/stderr z uzlu procesy, které ho spouští a zápis toohello adresáři zadaném v nastavení "logDirectory" hello.</span><span class="sxs-lookup"><span data-stu-id="13ad3-172">Iisnode will capture stdout/stderr from node processes it launches and write toohello directory specified in hello ‘logDirectory’ setting.</span></span> <span data-ttu-id="13ad3-173">Jakmile je povolit, vaše aplikace bude zápis systém toohello souborů protokolů a v závislosti na hello množství protokolování provádí hello aplikace, může být ovlivnit výkon.</span><span class="sxs-lookup"><span data-stu-id="13ad3-173">Once this is enable, your application will be writing logs toohello file system and depending on hello amount of logging done by hello application, there could be performance implications.</span></span>
* <span data-ttu-id="13ad3-174">devErrorsEnabled</span><span class="sxs-lookup"><span data-stu-id="13ad3-174">devErrorsEnabled</span></span>
  
    <span data-ttu-id="13ad3-175">Výchozí hodnota je false.</span><span class="sxs-lookup"><span data-stu-id="13ad3-175">Default value is false.</span></span> <span data-ttu-id="13ad3-176">Pokud nastavíte tootrue, modulu iisnode zobrazí hello HTTP stavový kód a kód chyby Win32 v prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="13ad3-176">When set tootrue, iisnode will display hello HTTP status code and Win32 error code on your browser.</span></span> <span data-ttu-id="13ad3-177">Kód win32 Hello bude užitečné při ladění určité typy potíží.</span><span class="sxs-lookup"><span data-stu-id="13ad3-177">hello win32 code will be helpful in debugging certain types of issues.</span></span>
* <span data-ttu-id="13ad3-178">debuggingEnabled (nepovolujte na provozním serveru)</span><span class="sxs-lookup"><span data-stu-id="13ad3-178">debuggingEnabled (do not enable on live production site)</span></span>
  
    <span data-ttu-id="13ad3-179">Toto nastavení řídí funkce ladění.</span><span class="sxs-lookup"><span data-stu-id="13ad3-179">This setting controls debugging feature.</span></span> <span data-ttu-id="13ad3-180">Pomocí nástroje node-inspector je integrovaná modulu Iisnode.</span><span class="sxs-lookup"><span data-stu-id="13ad3-180">Iisnode is integrated with node-inspector.</span></span> <span data-ttu-id="13ad3-181">Povolením tohoto nastavení můžete povolit ladění aplikace uzlu.</span><span class="sxs-lookup"><span data-stu-id="13ad3-181">By enabling this setting, you enable debugging of your node application.</span></span> <span data-ttu-id="13ad3-182">Jakmile je toto nastavení povoleno, bude modulu iisnode rozložení soubory hello nástroj nezbytné node-inspector v adresáři 'debuggerVirtualDir' na hello první ladění požadavek tooyour uzel aplikace.</span><span class="sxs-lookup"><span data-stu-id="13ad3-182">Once this setting is enabled, iisnode will layout hello necessary node-inspector files in ‘debuggerVirtualDir’ directory on hello first debug request tooyour node application.</span></span> <span data-ttu-id="13ad3-183">Odesláním požadavku toohttp://yoursite/server.js/debug můžete načíst hello nástroj node-inspector.</span><span class="sxs-lookup"><span data-stu-id="13ad3-183">You can load hello node-inspector by sending a request toohttp://yoursite/server.js/debug.</span></span> <span data-ttu-id="13ad3-184">Segment adresy URL ladění hello můžete ovládat nastavení 'debuggerPathSegment'.</span><span class="sxs-lookup"><span data-stu-id="13ad3-184">You can control hello debug URL segment with ‘debuggerPathSegment’ setting.</span></span> <span data-ttu-id="13ad3-185">Ve výchozím nastavení debuggerPathSegment = "debug".</span><span class="sxs-lookup"><span data-stu-id="13ad3-185">By default debuggerPathSegment=’debug’.</span></span> <span data-ttu-id="13ad3-186">Tento identifikátor GUID tooa například můžete nastavit tak, aby se obtížnější toobe zjištěny jinými uživateli.</span><span class="sxs-lookup"><span data-stu-id="13ad3-186">You can set this tooa GUID for example so that it is more difficult toobe discovered by others.</span></span>
  
    <span data-ttu-id="13ad3-187">Zaškrtněte toto políčko [odkaz](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) Další informace o ladění.</span><span class="sxs-lookup"><span data-stu-id="13ad3-187">Check this [link](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) for more details on debugging.</span></span>

## <a name="scenarios-and-recommendationstroubleshooting"></a><span data-ttu-id="13ad3-188">Scénáře a doporučení nebo řešení potíží</span><span class="sxs-lookup"><span data-stu-id="13ad3-188">Scenarios and recommendations/troubleshooting</span></span>
### <a name="my-node-application-is-making-too-many-outbound-calls"></a><span data-ttu-id="13ad3-189">Moje aplikace uzlu je volání příliš mnoho odchozí.</span><span class="sxs-lookup"><span data-stu-id="13ad3-189">My node application is making too many outbound calls.</span></span>
<span data-ttu-id="13ad3-190">Mnoho aplikací vhodnější toomake odchozí připojení v rámci jejich regulární operace.</span><span class="sxs-lookup"><span data-stu-id="13ad3-190">Many applications would want toomake outbound connections as part of their regular operation.</span></span> <span data-ttu-id="13ad3-191">Například když přijde žádost, aplikace uzlu by má toocontact rozhraní REST API jinde a získat žádost o některé informace tooprocess hello.</span><span class="sxs-lookup"><span data-stu-id="13ad3-191">For example, when a request comes in, your node app would want toocontact a REST API elsewhere and get some information tooprocess hello request.</span></span> <span data-ttu-id="13ad3-192">Je vhodnější toouse zachování připojení agenta zachovat při volání protokolu http nebo https.</span><span class="sxs-lookup"><span data-stu-id="13ad3-192">You would want toouse a keep alive agent when making http or https calls.</span></span> <span data-ttu-id="13ad3-193">Například můžete použít modul agentkeepalive hello jako aktivní agenta zachovat při provádění těchto odchozí volání.</span><span class="sxs-lookup"><span data-stu-id="13ad3-193">For example, you could use hello agentkeepalive module as your keep alive agent when making these outbound calls.</span></span> <span data-ttu-id="13ad3-194">Tím je zajištěno, že jsou na azure webapp virtuálních počítačů a snížení režie hello vytváření nových soketů pro každý požadavek odchozí opakovaně hello sockets.</span><span class="sxs-lookup"><span data-stu-id="13ad3-194">This makes sure that hello sockets are reused on your azure webapp VM and reducing hello overhead of creating new sockets for every outbound request.</span></span> <span data-ttu-id="13ad3-195">Navíc tím je zajištěno, že používáte menší počet sockets toomake mnoho odchozí požadavky a proto vám nepřekračují hello maxSockets, které jsou přiděleny na virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="13ad3-195">Also, this makes sure that you are using less number of sockets toomake many outbound requests and therefore you don’t exceed hello maxSockets that are allocated per VM.</span></span> <span data-ttu-id="13ad3-196">Doporučení na Azure Webapps by tooset hello agentKeepAlive maxSockets hodnotu tooa celkem 160 sockets na virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="13ad3-196">Recommendation on Azure Webapps would be tooset hello agentKeepAlive maxSockets value tooa total of 160 sockets per VM.</span></span> <span data-ttu-id="13ad3-197">To znamená, že pokud máte 4 node.exe systémem hello virtuálních počítačů, je vhodnější tooset hello agentKeepAlive maxSockets too40 za node.exe což je 160 celkový na virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="13ad3-197">This means that if you have 4 node.exe running on hello VM, you would want tooset hello agentKeepAlive maxSockets too40 per node.exe which is 160 total per VM.</span></span>

<span data-ttu-id="13ad3-198">Příklad [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) konfigurace:</span><span class="sxs-lookup"><span data-stu-id="13ad3-198">Example [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) configuration:</span></span>

```
var keepaliveAgent = new Agent({    
    maxSockets: 40,    
    maxFreeSockets: 10,    
    timeout: 60000,    
    keepAliveTimeout: 300000    
});
```

<span data-ttu-id="13ad3-199">Tento příklad předpokládá, že máte 4 node.exe systémem virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="13ad3-199">This example assumes you have 4 node.exe running on your VM.</span></span> <span data-ttu-id="13ad3-200">Pokud máte jiný počet node.exe systémem hello virtuálních počítačů, budete mít maxSockets hello toomodify nastavení odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="13ad3-200">If you have a different number of node.exe running on hello VM, you will have toomodify hello maxSockets setting accordingly.</span></span>

### <a name="my-node-application-is-consuming-too-much-cpu"></a><span data-ttu-id="13ad3-201">Moje uzel aplikace využívala příliš mnoho procesoru.</span><span class="sxs-lookup"><span data-stu-id="13ad3-201">My node application is consuming too much CPU.</span></span>
<span data-ttu-id="13ad3-202">Doporučení se zobrazí na portálu o vysoké spotřeby procesoru pravděpodobně z Azure Webapps.</span><span class="sxs-lookup"><span data-stu-id="13ad3-202">You will probably get a recommendation from Azure Webapps on your portal about high cpu consumption.</span></span> <span data-ttu-id="13ad3-203">Můžete také toowatch nastavení monitorování pro určité [metriky](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="13ad3-203">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="13ad3-204">Při kontrole využití hello procesoru na hello [řídicího panelu portálu Azure](../application-insights/app-insights-web-monitor-performance.md), Zkontrolujte prosím hello maximální hodnoty pro procesor, nemusíte vynechalo hello maximální hodnoty.</span><span class="sxs-lookup"><span data-stu-id="13ad3-204">When checking hello CPU usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for CPU so you don’t miss out hello peak values.</span></span>
<span data-ttu-id="13ad3-205">V případech, kde by vaše aplikace využívala příliš mnoho procesorů a důvod, proč nelze vysvětlují budete potřebovat tooprofile aplikace uzlu.</span><span class="sxs-lookup"><span data-stu-id="13ad3-205">In cases where you think your application is consuming too much CPU and you cannot explain why, you will need tooprofile your node application.</span></span>

### 
#### <a name="profiling-your-node-application-on-azure-webapps-with-v8-profiler"></a><span data-ttu-id="13ad3-206">Profilace uzlu aplikace v azure webapps s v8: profileru</span><span class="sxs-lookup"><span data-stu-id="13ad3-206">Profiling your node application on azure webapps with V8-Profiler</span></span>
<span data-ttu-id="13ad3-207">Například vyslovte vám umožní mít aplikace na hello world má tooprofile, jak je uvedeno níže:</span><span class="sxs-lookup"><span data-stu-id="13ad3-207">For example, lets say you have a hello world app that you want tooprofile as shown below:</span></span>

```
var http = require('http');    
function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    WriteConsoleLog();    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="13ad3-208">Přejděte tooyour scm lokality https://yoursite.scm.azurewebsites.net/DebugConsole</span><span class="sxs-lookup"><span data-stu-id="13ad3-208">Go tooyour scm site https://yoursite.scm.azurewebsites.net/DebugConsole</span></span>

<span data-ttu-id="13ad3-209">Zobrazí se příkazový řádek a jak je uvedeno níže.</span><span class="sxs-lookup"><span data-stu-id="13ad3-209">You will see a command prompt as shown below.</span></span> <span data-ttu-id="13ad3-210">Přejděte do adresáře webu/wwwroot</span><span class="sxs-lookup"><span data-stu-id="13ad3-210">Go into your site/wwwroot directory</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_install_v8.png)

<span data-ttu-id="13ad3-211">Spusťte příkaz hello "npm install profileru v8:"</span><span class="sxs-lookup"><span data-stu-id="13ad3-211">Run hello command “npm install v8-profiler”</span></span>

<span data-ttu-id="13ad3-212">To by měli nainstalovat v8: profileru pod uzlem\_directory moduly a všechny jeho závislé součásti.</span><span class="sxs-lookup"><span data-stu-id="13ad3-212">This should install v8-profiler under node\_modules directory and all of its dependencies.</span></span>
<span data-ttu-id="13ad3-213">Nyní upravte vaše server.js tooprofile vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="13ad3-213">Now, edit your server.js tooprofile your application.</span></span>

```
var http = require('http');    
var profiler = require('v8-profiler');    
var fs = require('fs');

function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    profiler.startProfiling('HandleRequest');    
    WriteConsoleLog();    
    fs.writeFileSync('profile.cpuprofile', JSON.stringify(profiler.stopProfiling('HandleRequest')));    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="13ad3-214">Hello výše změny bude profil funkce WriteConsoleLog hello a zapište si too'profile.cpuprofile výstup hello profil se v souboru pod vaší lokality wwwroot.</span><span class="sxs-lookup"><span data-stu-id="13ad3-214">hello above changes will profile hello WriteConsoleLog function and then write hello profile output too‘profile.cpuprofile’ file under your site wwwroot.</span></span> <span data-ttu-id="13ad3-215">Odešlete k aplikaci tooyour požadavku.</span><span class="sxs-lookup"><span data-stu-id="13ad3-215">Send a request tooyour application.</span></span> <span data-ttu-id="13ad3-216">Zobrazí se soubor 'profile.cpuprofile' vytvořil v rámci vaší lokality wwwroot.</span><span class="sxs-lookup"><span data-stu-id="13ad3-216">You will see a ‘profile.cpuprofile’ file created under your site wwwroot.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_profile.cpuprofile.png)

<span data-ttu-id="13ad3-217">Tento soubor stáhnout a je nutné tooopen tento soubor s nástroji F12 Chrome.</span><span class="sxs-lookup"><span data-stu-id="13ad3-217">Download this file and you will need tooopen this file with Chrome F12 Tools.</span></span> <span data-ttu-id="13ad3-218">Stiskněte tlačítko F12 na chrome, a potom klikněte na hello "Profily kartu".</span><span class="sxs-lookup"><span data-stu-id="13ad3-218">Hit F12 on chrome, then click on hello “Profiles Tab”.</span></span> <span data-ttu-id="13ad3-219">Klikněte na tlačítko "Zatížení".</span><span class="sxs-lookup"><span data-stu-id="13ad3-219">Click on “Load” Button.</span></span> <span data-ttu-id="13ad3-220">Vyberte souboru profile.cpuprofile, který jste právě stáhli.</span><span class="sxs-lookup"><span data-stu-id="13ad3-220">Select your profile.cpuprofile file that you just downloaded.</span></span> <span data-ttu-id="13ad3-221">Klikněte na hello profil, který jste právě načetli.</span><span class="sxs-lookup"><span data-stu-id="13ad3-221">Click on hello profile you just loaded.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/chrome_tools_view.png)

<span data-ttu-id="13ad3-222">Zobrazí se, že 95 % času hello se spotřebovávají WriteConsoleLog funkce jak je uvedeno níže.</span><span class="sxs-lookup"><span data-stu-id="13ad3-222">You will see that 95% of hello time was consumed by WriteConsoleLog function as shown below.</span></span> <span data-ttu-id="13ad3-223">To také dozvíte hello linek čísla a zdrojové soubory, které způsobí hello problém.</span><span class="sxs-lookup"><span data-stu-id="13ad3-223">This also shows you hello exact line numbers and source files that cause hello issue.</span></span>

### <a name="my-node-application-is-consuming-too-much-memory"></a><span data-ttu-id="13ad3-224">Moje uzel aplikace využívala příliš mnoho paměti.</span><span class="sxs-lookup"><span data-stu-id="13ad3-224">My node application is consuming too much memory.</span></span>
<span data-ttu-id="13ad3-225">Pravděpodobně obdržíte doporučení z Azure Webapps na portálu o vysoké spotřeby paměti.</span><span class="sxs-lookup"><span data-stu-id="13ad3-225">You will probably get a recommendation from Azure Webapps on your portal about high memory consumption.</span></span> <span data-ttu-id="13ad3-226">Můžete také toowatch nastavení monitorování pro určité [metriky](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="13ad3-226">You can also setup monitors toowatch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="13ad3-227">Při kontrole hello využití paměti na hello [řídicího panelu portálu Azure](../application-insights/app-insights-web-monitor-performance.md), zkontrolujte hello maximální hodnoty pro paměť, nemáte vynechalo hello maximální hodnoty.</span><span class="sxs-lookup"><span data-stu-id="13ad3-227">When checking hello memory usage on hello [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check hello MAX values for memory so you don’t miss out hello peak values.</span></span>

#### <a name="leak-detection-and-heap-diffing-for-nodejs"></a><span data-ttu-id="13ad3-228">Zjištění paměti a Diffing haldy pro node.js</span><span class="sxs-lookup"><span data-stu-id="13ad3-228">Leak detection and Heap Diffing for node.js</span></span>
<span data-ttu-id="13ad3-229">Můžete použít [uzlu memwatch](https://github.com/lloyd/node-memwatch) nevracení toohelp identifikovat paměti.</span><span class="sxs-lookup"><span data-stu-id="13ad3-229">You could use [node-memwatch](https://github.com/lloyd/node-memwatch) toohelp you identify memory leaks.</span></span>
<span data-ttu-id="13ad3-230">Můžete nainstalovat memwatch stejně jako v8: profileru a úpravy, které váš kód toocapture a rozdílové haldách tooidentify hello nevracení paměti v aplikaci.</span><span class="sxs-lookup"><span data-stu-id="13ad3-230">You can install memwatch just like v8-profiler and edit your code toocapture and diff heaps tooidentify hello memory leaks in your application.</span></span>

### <a name="my-nodeexes-are-getting-killed-randomly"></a><span data-ttu-id="13ad3-231">Moje node.exe jsou získávání ukončeny náhodně</span><span class="sxs-lookup"><span data-stu-id="13ad3-231">My node.exe’s are getting killed randomly</span></span>
<span data-ttu-id="13ad3-232">Existují z několika důvodů, proč může být děje toto:</span><span class="sxs-lookup"><span data-stu-id="13ad3-232">There are a few reasons why this could be happening:</span></span>

1. <span data-ttu-id="13ad3-233">Aplikace je vyvolání nezachycená výjimek – d: Zkontrolujte prosím\\domácí\\LogFiles\\aplikace\\protokolování errors.txt podrobnosti v souboru hello na hello došlo k výjimce.</span><span class="sxs-lookup"><span data-stu-id="13ad3-233">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="13ad3-234">Tento soubor má trasování zásobníku hello, takže můžete řešit vaší aplikace na základě.</span><span class="sxs-lookup"><span data-stu-id="13ad3-234">This file has hello stack trace so you can fix your application based on this.</span></span>
2. <span data-ttu-id="13ad3-235">Vaše aplikace využívala příliš mnoho paměti, která ovlivňuje jiné procesy z Začínáme.</span><span class="sxs-lookup"><span data-stu-id="13ad3-235">Your application is consuming too much memory which is affecting other processes from getting started.</span></span> <span data-ttu-id="13ad3-236">Pokud hello celkovou velikost paměti virtuálního počítače je % zavřít too100, může vaše node.exe ukončeny podle hello proces manager toolet jiné procesy práci prvního toodo některé.</span><span class="sxs-lookup"><span data-stu-id="13ad3-236">If hello total VM memory is close too100%, your node.exe’s could be killed by hello process manager toolet other processes get a chance toodo some work.</span></span> <span data-ttu-id="13ad3-237">toofix, buď zajistěte, aby vaše aplikace není vracena paměť, nebo pokud je aplikace opravdu potřebuje toouse velké množství paměti, prosím škálovat tooa větší virtuální počítač s mnohem víc paměti RAM.</span><span class="sxs-lookup"><span data-stu-id="13ad3-237">toofix this, either make sure your application is not leaking memory OR if you application really needs toouse a lot of memory, please scale up tooa larger VM with a lot more RAM.</span></span>

### <a name="my-node-application-does-not-start"></a><span data-ttu-id="13ad3-238">Moje aplikace uzlu nespustí.</span><span class="sxs-lookup"><span data-stu-id="13ad3-238">My node application does not start</span></span>
<span data-ttu-id="13ad3-239">Pokud vaše aplikace vrací 500 chyby při spuštění, může být z několika důvodů:</span><span class="sxs-lookup"><span data-stu-id="13ad3-239">If your application is returning 500 Errors at startup, there could be a few reasons:</span></span>

1. <span data-ttu-id="13ad3-240">Node.exe se nenachází ve správném umístění hello.</span><span class="sxs-lookup"><span data-stu-id="13ad3-240">Node.exe is not present at hello correct location.</span></span> <span data-ttu-id="13ad3-241">Zkontrolujte nastavení nodeProcessCommandLine.</span><span class="sxs-lookup"><span data-stu-id="13ad3-241">Check nodeProcessCommandLine setting.</span></span>
2. <span data-ttu-id="13ad3-242">Soubor skriptu hlavní se nenachází ve správném umístění hello.</span><span class="sxs-lookup"><span data-stu-id="13ad3-242">Main script file is not present at hello correct location.</span></span> <span data-ttu-id="13ad3-243">Zkontrolujte soubor web.config a zda hello název souboru hello hlavního skriptu v souboru hello hlavní skriptu části odpovídá hello obslužné rutiny.</span><span class="sxs-lookup"><span data-stu-id="13ad3-243">Check web.config and make sure hello name of hello main script file in hello handlers section matches hello main script file.</span></span>
3. <span data-ttu-id="13ad3-244">Konfigurace souboru Web.config není správný – zkontrolujte hodnoty názvy nastavení hello.</span><span class="sxs-lookup"><span data-stu-id="13ad3-244">Web.config configuration is not correct – check hello settings names/values.</span></span>
4. <span data-ttu-id="13ad3-245">Studený Start – aplikace trvá příliš dlouho toostartup.</span><span class="sxs-lookup"><span data-stu-id="13ad3-245">Cold Start – Your application is taking too long toostartup.</span></span> <span data-ttu-id="13ad3-246">Pokud vaše aplikace trvá déle, než (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1 000 sekund modulu iisnode vrátí chybu 500.</span><span class="sxs-lookup"><span data-stu-id="13ad3-246">If your application takes longer than (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 seconds, iisnode will return 500 error.</span></span> <span data-ttu-id="13ad3-247">Zvýšit hello hodnoty těchto nastavení toomatch aplikace čas tooprevent iisnode začínají vypršení časového limitu a vrácení hello 500 Chyba.</span><span class="sxs-lookup"><span data-stu-id="13ad3-247">Increase hello values of these settings toomatch your application start time tooprevent iisnode from timing out and returning hello 500 error.</span></span>

### <a name="my-node-application-crashed"></a><span data-ttu-id="13ad3-248">Moje aplikace uzlu došlo k chybě</span><span class="sxs-lookup"><span data-stu-id="13ad3-248">My node application crashed</span></span>
<span data-ttu-id="13ad3-249">Aplikace je vyvolání nezachycená výjimek – d: Zkontrolujte prosím\\domácí\\LogFiles\\aplikace\\protokolování errors.txt podrobnosti v souboru hello na hello došlo k výjimce.</span><span class="sxs-lookup"><span data-stu-id="13ad3-249">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for hello details on hello exception thrown.</span></span> <span data-ttu-id="13ad3-250">Tento soubor má trasování zásobníku hello, takže můžete řešit vaší aplikace na základě.</span><span class="sxs-lookup"><span data-stu-id="13ad3-250">This file has hello stack trace so you can fix your application based on this.</span></span>

### <a name="my-node-application-takes-too-much-time-toostartup-cold-start"></a><span data-ttu-id="13ad3-251">Moje aplikace uzlu trvá příliš mnoho času toostartup (studený Start)</span><span class="sxs-lookup"><span data-stu-id="13ad3-251">My node application takes too much time toostartup (Cold Start)</span></span>
<span data-ttu-id="13ad3-252">Nejčastější příčinou je, že aplikace hello má mnoho souborů v uzlu hello\_moduly a tooload pokusů aplikace hello většinu těchto souborů při spuštění.</span><span class="sxs-lookup"><span data-stu-id="13ad3-252">Most common reason for this is that hello application has a lot of files in hello node\_modules and hello application tries tooload most of these files during startup.</span></span> <span data-ttu-id="13ad3-253">Ve výchozím nastavení protože vaše soubory jsou umístěny ve sdílené síťové složce hello na Azure Webapps, načítání mnoho souborů může chvíli trvat.</span><span class="sxs-lookup"><span data-stu-id="13ad3-253">By default, since your files reside on hello network share on Azure Webapps, loading so many files can take some time.</span></span>
<span data-ttu-id="13ad3-254">Některá řešení toomake, tím rychleji se:</span><span class="sxs-lookup"><span data-stu-id="13ad3-254">Some solutions toomake this faster are:</span></span>

1. <span data-ttu-id="13ad3-255">Ujistěte se, že máte ploché závislostí strukturu a žádné duplicitní závislosti pomocí npm3 tooinstall moduly.</span><span class="sxs-lookup"><span data-stu-id="13ad3-255">Make sure you have a flat dependency structure and no duplicate dependencies by using npm3 tooinstall your modules.</span></span>
2. <span data-ttu-id="13ad3-256">Zkuste toolazy zatížení vaší uzlu\_moduly a zatížení všechny moduly hello při spuštění.</span><span class="sxs-lookup"><span data-stu-id="13ad3-256">Try toolazy load your node\_modules and not load all of hello modules at startup.</span></span> <span data-ttu-id="13ad3-257">To znamená, že toorequire('module') hello volání by mělo být provedeno, když potřebujete ve skutečnosti v rámci funkce hello pokusíte toouse hello modulu.</span><span class="sxs-lookup"><span data-stu-id="13ad3-257">This means that hello call toorequire(‘module’) should be done when you actually need it within hello function you try toouse hello module.</span></span>
3. <span data-ttu-id="13ad3-258">Azure Webapps nabízí funkci místní mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="13ad3-258">Azure Webapps offers a feature called local cache.</span></span> <span data-ttu-id="13ad3-259">Tato funkce zkopíruje obsah z hello síťové sdílené složky toohello místního disku na hello virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="13ad3-259">This feature copies your content from hello network share toohello local disk on hello VM.</span></span> <span data-ttu-id="13ad3-260">Vzhledem k tomu, že jsou soubory hello místní, hello doba uzlu načítání\_moduly je mnohem rychlejší.</span><span class="sxs-lookup"><span data-stu-id="13ad3-260">Since hello files are local, hello load time of node\_modules is much faster.</span></span> <span data-ttu-id="13ad3-261">-Tento [dokumentace](../app-service/app-service-local-cache.md) vysvětluje, jak toouse v místní mezipaměti více podrobností.</span><span class="sxs-lookup"><span data-stu-id="13ad3-261">- This [documentation](../app-service/app-service-local-cache.md) explains how toouse Local Cache in more detail.</span></span>

## <a name="iisnode-http-status-and-substatus"></a><span data-ttu-id="13ad3-262">Stav protokolu http modulu IISNODE a podřízeného stavu</span><span class="sxs-lookup"><span data-stu-id="13ad3-262">IISNODE http status and substatus</span></span>
<span data-ttu-id="13ad3-263">To [zdrojový soubor](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) seznamy všechny hello možné stav nebo substatus kombinace iisnode může vrátit v případě chyby.</span><span class="sxs-lookup"><span data-stu-id="13ad3-263">This [source file](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) lists all hello possible status/substatus combination iisnode can return in case of error.</span></span>

<span data-ttu-id="13ad3-264">Povolit FREB pro kód chyby win32 vaší aplikace toosee hello (zkontrolujte, zda povolit FREB pouze na webech mimo produkční z důvodů výkonu).</span><span class="sxs-lookup"><span data-stu-id="13ad3-264">Enable FREB for your application toosee hello win32 error code (please make sure you enable FREB only on non-production sites for performance reasons).</span></span>

| <span data-ttu-id="13ad3-265">Stav protokolu HTTP</span><span class="sxs-lookup"><span data-stu-id="13ad3-265">Http Status</span></span> | <span data-ttu-id="13ad3-266">Podřízený stav protokolu HTTP</span><span class="sxs-lookup"><span data-stu-id="13ad3-266">Http SubStatus</span></span> | <span data-ttu-id="13ad3-267">Možný důvod?</span><span class="sxs-lookup"><span data-stu-id="13ad3-267">Possible Reason?</span></span> |
| --- | --- | --- |
| <span data-ttu-id="13ad3-268">500</span><span class="sxs-lookup"><span data-stu-id="13ad3-268">500</span></span> |<span data-ttu-id="13ad3-269">1000</span><span class="sxs-lookup"><span data-stu-id="13ad3-269">1000</span></span> |<span data-ttu-id="13ad3-270">Se některé problém odeslání žádosti o tooIISNODE hello – zaškrtněte, pokud byl zahájen node.exe.</span><span class="sxs-lookup"><span data-stu-id="13ad3-270">There was some issue dispatching hello request tooIISNODE – check if node.exe was started up.</span></span> <span data-ttu-id="13ad3-271">Node.exe může mít došlo k chybě při spuštění.</span><span class="sxs-lookup"><span data-stu-id="13ad3-271">Node.exe could have crashed on startup.</span></span> <span data-ttu-id="13ad3-272">Zkontrolujte konfiguraci web.config chyby.</span><span class="sxs-lookup"><span data-stu-id="13ad3-272">Check your web.config configuration for errors.</span></span> |
| <span data-ttu-id="13ad3-273">500</span><span class="sxs-lookup"><span data-stu-id="13ad3-273">500</span></span> |<span data-ttu-id="13ad3-274">1001</span><span class="sxs-lookup"><span data-stu-id="13ad3-274">1001</span></span> |<span data-ttu-id="13ad3-275">-Win32Error 0x2 - aplikace neodpovídá toohello adresy URL.</span><span class="sxs-lookup"><span data-stu-id="13ad3-275">- Win32Error 0x2 - App is not responding toohello URL.</span></span> <span data-ttu-id="13ad3-276">Zkontrolujte adresu URL přepsání pravidla nebo pokud má vaše aplikace express hello správné trasy definované.</span><span class="sxs-lookup"><span data-stu-id="13ad3-276">Check URL rewrite rules or if your express app has hello correct routes defined.</span></span> <span data-ttu-id="13ad3-277">-Win32Error 0x6d – pojmenovaný kanál je zaneprázdněn – Node.exe nepřijímá požadavky, protože hello kanálu je zaneprázdněný.</span><span class="sxs-lookup"><span data-stu-id="13ad3-277">- Win32Error 0x6d – named pipe is busy – Node.exe is not accepting requests because hello pipe is busy.</span></span> <span data-ttu-id="13ad3-278">Zkontrolujte vysoké využití procesoru.</span><span class="sxs-lookup"><span data-stu-id="13ad3-278">Check high cpu usage.</span></span> <span data-ttu-id="13ad3-279">-Další chyby – zkontrolujte, pokud node.exe došlo k chybě.</span><span class="sxs-lookup"><span data-stu-id="13ad3-279">- Other errors – check if node.exe crashed.</span></span> |
| <span data-ttu-id="13ad3-280">500</span><span class="sxs-lookup"><span data-stu-id="13ad3-280">500</span></span> |<span data-ttu-id="13ad3-281">1002</span><span class="sxs-lookup"><span data-stu-id="13ad3-281">1002</span></span> |<span data-ttu-id="13ad3-282">Došlo k chybě Node.exe – zkontrolujte d:\\domácí\\LogFiles\\errors.txt protokolování pro trasování zásobníku.</span><span class="sxs-lookup"><span data-stu-id="13ad3-282">Node.exe crashed – check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="13ad3-283">500</span><span class="sxs-lookup"><span data-stu-id="13ad3-283">500</span></span> |<span data-ttu-id="13ad3-284">1003</span><span class="sxs-lookup"><span data-stu-id="13ad3-284">1003</span></span> |<span data-ttu-id="13ad3-285">Konfigurace kanálu problém – nikdy zobrazí to ale v takovém případě hello s názvem konfigurace kanálu je nesprávný.</span><span class="sxs-lookup"><span data-stu-id="13ad3-285">Pipe configuration Issue – You should never see this but if you do, hello named pipe configuration is incorrect.</span></span> |
| <span data-ttu-id="13ad3-286">500</span><span class="sxs-lookup"><span data-stu-id="13ad3-286">500</span></span> |<span data-ttu-id="13ad3-287">1004-1018</span><span class="sxs-lookup"><span data-stu-id="13ad3-287">1004-1018</span></span> |<span data-ttu-id="13ad3-288">Při odesílání hello požadavek nebo zpracování odpovědi hello z node.exe se nějaká chyba.</span><span class="sxs-lookup"><span data-stu-id="13ad3-288">There was some error while sending hello request or processing hello response to/from node.exe.</span></span> <span data-ttu-id="13ad3-289">Zkontrolujte, zda node.exe došlo k chybě.</span><span class="sxs-lookup"><span data-stu-id="13ad3-289">Check if node.exe crashed.</span></span> <span data-ttu-id="13ad3-290">Zkontrolujte d:\\domácí\\LogFiles\\errors.txt protokolování pro trasování zásobníku.</span><span class="sxs-lookup"><span data-stu-id="13ad3-290">check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="13ad3-291">503</span><span class="sxs-lookup"><span data-stu-id="13ad3-291">503</span></span> |<span data-ttu-id="13ad3-292">1000</span><span class="sxs-lookup"><span data-stu-id="13ad3-292">1000</span></span> |<span data-ttu-id="13ad3-293">Není dostatek paměti tooallocate více s názvem kanálu připojení.</span><span class="sxs-lookup"><span data-stu-id="13ad3-293">Not enough memory tooallocate more named pipe connections.</span></span> <span data-ttu-id="13ad3-294">Zkontrolujte, proč aplikace využívala mnoho paměti.</span><span class="sxs-lookup"><span data-stu-id="13ad3-294">Check why your app is consuming so much memory.</span></span> <span data-ttu-id="13ad3-295">Zkontrolujte hodnotu nastavení maxConcurrentRequestsPerProcess.</span><span class="sxs-lookup"><span data-stu-id="13ad3-295">Check maxConcurrentRequestsPerProcess setting value.</span></span> <span data-ttu-id="13ad3-296">Pokud jeho není nekonečné a budete mít mnoho požadavků, zvýšit tuto hodnotu tooprevent této chybě.</span><span class="sxs-lookup"><span data-stu-id="13ad3-296">If its not infinite and you have a lot of requests, increase this value tooprevent this error.</span></span> |
| <span data-ttu-id="13ad3-297">503</span><span class="sxs-lookup"><span data-stu-id="13ad3-297">503</span></span> |<span data-ttu-id="13ad3-298">1001</span><span class="sxs-lookup"><span data-stu-id="13ad3-298">1001</span></span> |<span data-ttu-id="13ad3-299">Žádost nebylo možné odeslat toonode.exe, protože je recyklace aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="13ad3-299">Request could not be dispatched toonode.exe because hello application is recycling.</span></span> <span data-ttu-id="13ad3-300">Po hello aplikace má recyklované, by měl obvykle zpracovat požadavky.</span><span class="sxs-lookup"><span data-stu-id="13ad3-300">After hello application has recycled, requests should be served normally.</span></span> |
| <span data-ttu-id="13ad3-301">503</span><span class="sxs-lookup"><span data-stu-id="13ad3-301">503</span></span> |<span data-ttu-id="13ad3-302">1002</span><span class="sxs-lookup"><span data-stu-id="13ad3-302">1002</span></span> |<span data-ttu-id="13ad3-303">Kód chyby win32 zkontrolujte skutečné důvodu – žádost nebylo možné odeslat tooa node.exe.</span><span class="sxs-lookup"><span data-stu-id="13ad3-303">Check win32 error code for actual reason – Request could not be dispatched tooa node.exe.</span></span> |
| <span data-ttu-id="13ad3-304">503</span><span class="sxs-lookup"><span data-stu-id="13ad3-304">503</span></span> |<span data-ttu-id="13ad3-305">1003</span><span class="sxs-lookup"><span data-stu-id="13ad3-305">1003</span></span> |<span data-ttu-id="13ad3-306">Pojmenovaný kanál je příliš zaneprázdněn – zaškrtněte, pokud uzel spotřebovává velké množství procesoru</span><span class="sxs-lookup"><span data-stu-id="13ad3-306">Named pipe is too Busy – Check if node is consuming a lot of CPU</span></span> |

<span data-ttu-id="13ad3-307">Je nastavení v rámci NODE.exe názvem uzlu\_čeká na vyřízení\_kanálu\_instance.</span><span class="sxs-lookup"><span data-stu-id="13ad3-307">There is a setting within NODE.exe called NODE\_PENDING\_PIPE\_INSTANCES.</span></span> <span data-ttu-id="13ad3-308">Ve výchozím nastavení mimo azure webapps tato hodnota je 4.</span><span class="sxs-lookup"><span data-stu-id="13ad3-308">By default outside of azure webapps this value is 4.</span></span> <span data-ttu-id="13ad3-309">To znamená, že node.exe přijmout jenom 4 požadavků současně na hello pojmenovaný kanál.</span><span class="sxs-lookup"><span data-stu-id="13ad3-309">This means that node.exe can only accept 4 requests at a time on hello named pipe.</span></span> <span data-ttu-id="13ad3-310">Na Azure Webapps tato hodnota se nastavuje too5000 a tato hodnota by měla být dostatečně vhodné pro většinu uzlu aplikací běžících na azure webapps.</span><span class="sxs-lookup"><span data-stu-id="13ad3-310">On Azure Webapps, this value is set too5000 and this value should be good enough for most node applications running on azure webapps.</span></span> <span data-ttu-id="13ad3-311">503.1003 byste neměli vidět na azure webapps, protože máme vysoké hodnoty pro hello uzlu\_čeká na vyřízení\_kanálu\_instance.</span><span class="sxs-lookup"><span data-stu-id="13ad3-311">You should not see 503.1003 on azure webapps because we have a high value for hello NODE\_PENDING\_PIPE\_INSTANCES.</span></span>  |

## <a name="more-resources"></a><span data-ttu-id="13ad3-312">Další zdroje informací</span><span class="sxs-lookup"><span data-stu-id="13ad3-312">More resources</span></span>
<span data-ttu-id="13ad3-313">Postupujte podle těchto odkazů toolearn více informací o aplikací node.js v Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="13ad3-313">Follow these links toolearn more about node.js applications on Azure App Service.</span></span>

* [<span data-ttu-id="13ad3-314">Začínáme s webovými aplikacemi Node.js ve službě Azure App Service</span><span class="sxs-lookup"><span data-stu-id="13ad3-314">Get started with Node.js web apps in Azure App Service</span></span>](app-service-web-get-started-nodejs.md)
* [<span data-ttu-id="13ad3-315">Jak toodebug Node.js webové aplikace v Azure App Service</span><span class="sxs-lookup"><span data-stu-id="13ad3-315">How toodebug a Node.js web app in Azure App Service</span></span>](web-sites-nodejs-debug.md)
* [<span data-ttu-id="13ad3-316">Používání modulů Node.js s aplikacemi Azure</span><span class="sxs-lookup"><span data-stu-id="13ad3-316">Using Node.js Modules with Azure applications</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="13ad3-317">Azure App Service Web Apps: Node.js</span><span class="sxs-lookup"><span data-stu-id="13ad3-317">Azure App Service Web Apps: Node.js</span></span>](https://blogs.msdn.microsoft.com/silverlining/2012/06/14/windows-azure-websites-node-js/)
* [<span data-ttu-id="13ad3-318">Středisko pro vývojáře Node.js</span><span class="sxs-lookup"><span data-stu-id="13ad3-318">Node.js Developer Center</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="13ad3-319">Zkoumání hello Super tajný klíč Kudu ladění konzoly</span><span class="sxs-lookup"><span data-stu-id="13ad3-319">Exploring hello Super Secret Kudu Debug Console</span></span>](https://azure.microsoft.com/documentation/videos/super-secret-kudu-debug-console-for-azure-web-sites/)

