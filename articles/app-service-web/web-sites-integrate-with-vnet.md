---
title: "Integrace aplikace pomocí virtuální sítě Azure"
description: "Ukazuje, jak připojit aplikace v Azure App Service k nový nebo existující virtuální síť Azure"
services: app-service
documentationcenter: 
author: ccompy
manager: erikre
editor: cephalin
ms.assetid: 90bc6ec6-133d-4d87-a867-fcf77da75f5a
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/23/2017
ms.author: ccompy
ms.openlocfilehash: 61508f759cad92a8c17d72a5d68fb54994c393bc
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="integrate-your-app-with-an-azure-virtual-network"></a><span data-ttu-id="bac16-103">Integrace aplikace pomocí virtuální sítě Azure</span><span class="sxs-lookup"><span data-stu-id="bac16-103">Integrate your app with an Azure Virtual Network</span></span>
<span data-ttu-id="bac16-104">Tento dokument popisuje funkci integrace virtuální sítě Azure App Service a ukazuje, jak ho nastavit s aplikacemi ve [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="bac16-104">This document describes the Azure App Service virtual network integration feature and shows how to set it up with apps in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span> <span data-ttu-id="bac16-105">Pokud jste obeznámeni s virtuální sítí Azure (virtuální sítě), toto je funkce, která umožňuje umístit mnoho vašich prostředků Azure v Internetu jiných routeable síti, která můžete řídit přístup ke.</span><span class="sxs-lookup"><span data-stu-id="bac16-105">If you are unfamiliar with Azure Virtual Networks (VNets), this is a capability that allows you to place many of your Azure resources in a non-internet routeable network that you control access to.</span></span> <span data-ttu-id="bac16-106">Tyto sítě můžete pak připojené k vaší místní sítě pomocí různých technologií, sítě VPN.</span><span class="sxs-lookup"><span data-stu-id="bac16-106">These networks can then be connected to your on-premises networks using a variety of VPN technologies.</span></span> <span data-ttu-id="bac16-107">Další informace o virtuálních sítí Azure, spusťte s informacemi, zde: [Přehled virtuálních sítí Azure][VNETOverview].</span><span class="sxs-lookup"><span data-stu-id="bac16-107">To learn more about Azure Virtual Networks, start with the information here: [Azure Virtual Network Overview][VNETOverview].</span></span> 

<span data-ttu-id="bac16-108">Azure App Service má dva formuláře.</span><span class="sxs-lookup"><span data-stu-id="bac16-108">The Azure App Service has two forms.</span></span> 

1. <span data-ttu-id="bac16-109">Víceklientské systémy, které podporují celou řadu cenových plánů</span><span class="sxs-lookup"><span data-stu-id="bac16-109">The multi-tenant systems that support the full range of pricing plans</span></span>
2. <span data-ttu-id="bac16-110">Funkci premium prostředí App Service (App Service Environment), která nasadí do virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-110">The App Service Environment (ASE) premium feature, which deploys into your VNet.</span></span> 

<span data-ttu-id="bac16-111">Tento dokument projde integrace virtuální sítě a není App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="bac16-111">This document goes through VNet Integration and not App Service Environment.</span></span> <span data-ttu-id="bac16-112">Pokud chcete získat další informace o funkci App Service Environment, spusťte s informacemi, zde: [App Service Environment ÚVOD][ASEintro].</span><span class="sxs-lookup"><span data-stu-id="bac16-112">If you want to learn more about the ASE feature, start with the information here: [App Service Environment introduction][ASEintro].</span></span>

<span data-ttu-id="bac16-113">Integrace virtuální sítě poskytuje vaší webové aplikaci přístup k prostředkům ve virtuální síti, ale nejsou udělena soukromý přístup do webové aplikace z virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-113">VNet Integration gives your web app access to resources in your virtual network but does not grant private access to your web app from the virtual network.</span></span> <span data-ttu-id="bac16-114">Přístup privátního lokality odkazuje na zpřístupnění aplikace jenom z privátní sítě, jako z v rámci virtuální sítě Azure.</span><span class="sxs-lookup"><span data-stu-id="bac16-114">Private site access refers to making your app only accessible from a private network such as from within an Azure virtual network.</span></span> <span data-ttu-id="bac16-115">Přístup privátního lokality je dostupná pouze s App Service Environment nakonfigurovaný s interní nástroj pro vyrovnávání zatížení (ILB).</span><span class="sxs-lookup"><span data-stu-id="bac16-115">Private site access is only available with an ASE configured with an Internal Load Balancer (ILB).</span></span> <span data-ttu-id="bac16-116">Podrobnosti o používání App Service Environment ILB, začínat článek zde: [vytváření a používání App Service Environment ILB][ILBASE].</span><span class="sxs-lookup"><span data-stu-id="bac16-116">For details on using an ILB ASE, start with the article here: [Creating and using an ILB ASE][ILBASE].</span></span> 

<span data-ttu-id="bac16-117">Běžný scénář, kde byste použili integrace virtuální sítě se povoluje přístup z vaší webové aplikace do databáze nebo webové služby spuštěné na virtuálním počítači ve vaší virtuální síti Azure.</span><span class="sxs-lookup"><span data-stu-id="bac16-117">A common scenario where you would use VNet Integration is enabling access from your web app to a database or a web service running on a virtual machine in your Azure virtual network.</span></span> <span data-ttu-id="bac16-118">Díky integraci virtuální síť nemusíte vystavit veřejný koncový bod pro aplikace na virtuální počítač ale může místo toho použít privátní adresy směrovatelné Internetu jiných výrobců.</span><span class="sxs-lookup"><span data-stu-id="bac16-118">With VNet Integration, you don't need to expose a public endpoint for applications on your VM but can use the private non-internet routable addresses instead.</span></span> 

<span data-ttu-id="bac16-119">Funkce integrace virtuální sítě:</span><span class="sxs-lookup"><span data-stu-id="bac16-119">The VNet Integration feature:</span></span>

* <span data-ttu-id="bac16-120">vyžaduje standardní, Premium nebo izolované ceny plán</span><span class="sxs-lookup"><span data-stu-id="bac16-120">requires a Standard, Premium, or Isolated pricing plan</span></span> 
* <span data-ttu-id="bac16-121">funguje s Classic nebo virtuální sítě Resource Manageru</span><span class="sxs-lookup"><span data-stu-id="bac16-121">works with Classic or Resource Manager VNet</span></span> 
* <span data-ttu-id="bac16-122">podporuje TCP a UDP</span><span class="sxs-lookup"><span data-stu-id="bac16-122">supports TCP and UDP</span></span>
* <span data-ttu-id="bac16-123">funguje s aplikacemi pro webové, mobilní a rozhraní API</span><span class="sxs-lookup"><span data-stu-id="bac16-123">works with Web, Mobile, and API apps</span></span>
* <span data-ttu-id="bac16-124">umožňuje aplikaci připojit k virtuální síti pouze 1 současně</span><span class="sxs-lookup"><span data-stu-id="bac16-124">enables an app to connect to only 1 VNet at a time</span></span>
* <span data-ttu-id="bac16-125">umožňuje až pět virtuálních sítí s integrovat v plán služby App Service</span><span class="sxs-lookup"><span data-stu-id="bac16-125">enables up to five VNets to be integrated with in an App Service Plan</span></span> 
* <span data-ttu-id="bac16-126">umožňuje stejnou virtuální síť má být používána více aplikacemi v plán služby App Service</span><span class="sxs-lookup"><span data-stu-id="bac16-126">allows the same VNet to be used by multiple apps in an App Service Plan</span></span>
* <span data-ttu-id="bac16-127">podporuje SLA 99,9 % kvůli smlouva SLA na bráně virtuální sítě</span><span class="sxs-lookup"><span data-stu-id="bac16-127">supports a 99.9% SLA due to the SLA on the VNet Gateway</span></span>

<span data-ttu-id="bac16-128">Existují některé věci, které virtuální sítě integrace nepodporuje, včetně:</span><span class="sxs-lookup"><span data-stu-id="bac16-128">There are some things that VNet Integration does not support including:</span></span>

* <span data-ttu-id="bac16-129">připojení na jednotku</span><span class="sxs-lookup"><span data-stu-id="bac16-129">mounting a drive</span></span>
* <span data-ttu-id="bac16-130">Integrace služby AD</span><span class="sxs-lookup"><span data-stu-id="bac16-130">AD integration</span></span> 
* <span data-ttu-id="bac16-131">Pro rozhraní NetBios</span><span class="sxs-lookup"><span data-stu-id="bac16-131">NetBios</span></span>
* <span data-ttu-id="bac16-132">přístup privátního lokality</span><span class="sxs-lookup"><span data-stu-id="bac16-132">private site access</span></span>

### <a name="getting-started"></a><span data-ttu-id="bac16-133">Začínáme</span><span class="sxs-lookup"><span data-stu-id="bac16-133">Getting started</span></span>
<span data-ttu-id="bac16-134">Zde jsou některé věci, třeba vzít v úvahu před připojením k virtuální síti vaší webové aplikace:</span><span class="sxs-lookup"><span data-stu-id="bac16-134">Here are some things to keep in mind before connecting your web app to a virtual network:</span></span>

* <span data-ttu-id="bac16-135">Integrace virtuální sítě funguje pouze s aplikacemi ve **standardní**, **Premium**, nebo **izolovaná** ceny plánu.</span><span class="sxs-lookup"><span data-stu-id="bac16-135">VNet Integration only works with apps in a **Standard**, **Premium**, or **Isolated** pricing plan.</span></span> <span data-ttu-id="bac16-136">Pokud povolíte funkci a pak vertikálně váš plán služby App Service na nepodporované cenový plán aplikace ztratí připojení k virtuálním sítím používají.</span><span class="sxs-lookup"><span data-stu-id="bac16-136">If you enable the feature, and then scale your App Service Plan to an unsupported pricing plan your apps lose their connections to the VNets they are using.</span></span> 
* <span data-ttu-id="bac16-137">Pokud cílový virtuální síti již existuje, musí mít point-to-site VPN povoleny v rámci brány dynamického směrování, než může být připojen k aplikaci.</span><span class="sxs-lookup"><span data-stu-id="bac16-137">If your target virtual network already exists, it must have point-to-site VPN enabled with a Dynamic routing gateway before it can be connected to an app.</span></span> <span data-ttu-id="bac16-138">Pokud vaše brána je nakonfigurovaná se statickým směrováním, nelze povolit point-to-site virtuální privátní sítě (VPN).</span><span class="sxs-lookup"><span data-stu-id="bac16-138">If your gateway is configured with Static routing, you cannot enable point-to-site Virtual Private Network (VPN).</span></span>
* <span data-ttu-id="bac16-139">Virtuální sítě musí být ve stejném předplatném jako služba Plan(ASP) vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-139">The VNet must be in the same subscription as your App Service Plan(ASP).</span></span> 
* <span data-ttu-id="bac16-140">Aplikace, které se integrují s virtuální sítě pomocí DNS, který je zadán pro tuto virtuální síť.</span><span class="sxs-lookup"><span data-stu-id="bac16-140">The apps that integrate with a VNet use the DNS that is specified for that VNet.</span></span>
* <span data-ttu-id="bac16-141">Ve výchozím nastavení aplikace integrační pouze směrovat provoz do virtuální sítě podle tras, které jsou definovány ve vaší virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-141">By default your integrating apps only route traffic into your VNet based on the routes that are defined in your VNet.</span></span> 

## <a name="enabling-vnet-integration"></a><span data-ttu-id="bac16-142">Povolení integrace virtuální sítě</span><span class="sxs-lookup"><span data-stu-id="bac16-142">Enabling VNet Integration</span></span>
<span data-ttu-id="bac16-143">Tento dokument se zaměřuje především na integrace virtuální sítě pomocí portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="bac16-143">This document is focused primarily on using the Azure portal for VNet Integration.</span></span> <span data-ttu-id="bac16-144">K povolení integrace virtuální sítě s vaší aplikace pomocí prostředí PowerShell, postupujte podle pokynů tady: [aplikaci připojit k virtuální síti pomocí prostředí PowerShell][IntPowershell].</span><span class="sxs-lookup"><span data-stu-id="bac16-144">To enable VNet Integration with your app using PowerShell, follow the directions here: [Connect your app to your virtual network by using PowerShell][IntPowershell].</span></span>

<span data-ttu-id="bac16-145">Máte možnost připojovat vaše aplikace do nové nebo existující virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-145">You have the option to connect your app to a new or existing virtual network.</span></span> <span data-ttu-id="bac16-146">Pokud vytvoříte novou síť jako součást svoji integraci, kromě právě vytváření sítě VNet, je předem nakonfigurovaný pro vás brány dynamického směrování a je povoleno, přejděte na příkaz Site VPN.</span><span class="sxs-lookup"><span data-stu-id="bac16-146">If you create a new network as a part of your integration, then in addition to just creating the VNet, a dynamic routing gateway is pre-configured for you and Point to Site VPN is enabled.</span></span> 

> [!NOTE]
> <span data-ttu-id="bac16-147">Konfigurace nového integrace virtuální sítě může trvat několik minut.</span><span class="sxs-lookup"><span data-stu-id="bac16-147">Configuring a new virtual network integration can take several minutes.</span></span> 
> 
> 

<span data-ttu-id="bac16-148">Chcete-li povolit integraci virtuální sítě, otevřete v aplikaci nastavení a pak vyberte síť.</span><span class="sxs-lookup"><span data-stu-id="bac16-148">To enable VNet Integration, open your app Settings and then select Networking.</span></span> <span data-ttu-id="bac16-149">Uživatelské rozhraní, které se otevře nabízí tři možnosti sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-149">The UI that opens up offers three networking choices.</span></span> <span data-ttu-id="bac16-150">Tento průvodce bude jenom do integrace virtuální sítě, když hybridní připojení a prostředí App Service jsou popsány dále v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="bac16-150">This guide is only going into VNet Integration though Hybrid Connections and App Service Environments are discussed later in this document.</span></span> 

<span data-ttu-id="bac16-151">Pokud aplikace není ve správné cenách plán, uživatelské rozhraní umožňuje škálovat plán pro vyšší cenový plán, podle vašeho výběru.</span><span class="sxs-lookup"><span data-stu-id="bac16-151">If your app is not in the correct pricing plan, the UI enables you to scale your plan to a higher pricing plan of your choice.</span></span>

![][1]

### <a name="enabling-vnet-integration-with-a-pre-existing-vnet"></a><span data-ttu-id="bac16-152">Povolení integrace virtuální sítě s existující virtuální síť</span><span class="sxs-lookup"><span data-stu-id="bac16-152">Enabling VNet Integration with a pre-existing VNet</span></span>
<span data-ttu-id="bac16-153">Integrace rozhraní virtuální sítě můžete vybrat ze seznamu vaší virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-153">The VNet Integration UI allows you to select from a list of your VNets.</span></span> <span data-ttu-id="bac16-154">Virtuální sítě Classic znamenat, že jsou například slovem "Klasickém" v závorkách vedle názvu virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-154">The Classic VNets indicate that they are such with the word "Classic" in parentheses next to the VNet name.</span></span> <span data-ttu-id="bac16-155">Tento seznam je řazen tak, že virtuální sítě Resource Manager jsou uvedeny jako první.</span><span class="sxs-lookup"><span data-stu-id="bac16-155">The list is sorted such that the Resource Manager VNets are listed first.</span></span> <span data-ttu-id="bac16-156">Na obrázku vidíte níže vidíte, že lze vybrat pouze jeden virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-156">In the image shown below you can see that only one VNet can be selected.</span></span> <span data-ttu-id="bac16-157">Tady je několik důvodů, virtuální sítě můžete šedě včetně:</span><span class="sxs-lookup"><span data-stu-id="bac16-157">There are multiple reasons that a VNet can be grayed out including:</span></span>

* <span data-ttu-id="bac16-158">virtuální sítě je v jiné předplatné, který má přístup k účtu</span><span class="sxs-lookup"><span data-stu-id="bac16-158">the VNet is in another subscription that your account has access to</span></span>
* <span data-ttu-id="bac16-159">virtuální síť nemá bod do lokality povoleno</span><span class="sxs-lookup"><span data-stu-id="bac16-159">the VNet does not have Point to Site enabled</span></span>
* <span data-ttu-id="bac16-160">virtuální síť nemá brány dynamického směrování</span><span class="sxs-lookup"><span data-stu-id="bac16-160">the VNet does not have a dynamic routing gateway</span></span>

![][2]

<span data-ttu-id="bac16-161">Chcete-li povolit integraci jednoduše klikněte na virtuální sítě, které chcete integrovat.</span><span class="sxs-lookup"><span data-stu-id="bac16-161">To enable integration simply click on the VNet you wish to integrate with.</span></span> <span data-ttu-id="bac16-162">Po výběru virtuální sítě, aplikace automaticky restartovat, aby změny vstoupily v platnost.</span><span class="sxs-lookup"><span data-stu-id="bac16-162">After you select the VNet, your app is automatically restarted for the changes to take effect.</span></span> 

##### <a name="enable-point-to-site-in-a-classic-vnet"></a><span data-ttu-id="bac16-163">Povolit bod do lokality v klasické virtuální sítě</span><span class="sxs-lookup"><span data-stu-id="bac16-163">Enable Point to Site in a Classic VNet</span></span>
<span data-ttu-id="bac16-164">Pokud virtuální síť nemá bránu ani má bod do lokality, budete muset nastavit první.</span><span class="sxs-lookup"><span data-stu-id="bac16-164">If your VNet does not have a gateway nor has Point to Site, then you have to set that up first.</span></span> <span data-ttu-id="bac16-165">Chcete-li to provést pro klasické virtuální síti, přejděte na [portál Azure] [ AzurePortal] a zprovoznit seznam virtuální Networks(classic).</span><span class="sxs-lookup"><span data-stu-id="bac16-165">To do this for a Classic VNet, go to the [Azure portal][AzurePortal] and bring up the list of Virtual Networks(classic).</span></span> <span data-ttu-id="bac16-166">Zde klikněte na síť, kterou chcete integrovat a klikněte na pole velký pod názvem připojení k síti VPN Essentials.</span><span class="sxs-lookup"><span data-stu-id="bac16-166">From here, click on the network you want to integrate with and click on the big box under Essentials called VPN Connections.</span></span> <span data-ttu-id="bac16-167">Tady můžete vytvořit váš bod do lokality VPN a i mějte ho vytvořit bránu.</span><span class="sxs-lookup"><span data-stu-id="bac16-167">From here, you can create your point to site VPN and even have it create a gateway.</span></span> <span data-ttu-id="bac16-168">Po projít bodem k lokalitě s prostředím vytvoření brány je asi 30 minut, než je připraven.</span><span class="sxs-lookup"><span data-stu-id="bac16-168">After you go through the point to site with gateway creation experience it is about 30 minutes before it is ready.</span></span> 

![][8]

##### <a name="enabling-point-to-site-in-a-resource-manager-vnet"></a><span data-ttu-id="bac16-169">Povolení bod do lokality ve virtuální síti Resource Manager</span><span class="sxs-lookup"><span data-stu-id="bac16-169">Enabling Point to Site in a Resource Manager VNet</span></span>
<span data-ttu-id="bac16-170">Konfigurace virtuální sítě Resource Manageru pomocí brány a bod do lokality, můžete použít buď PowerShell podle postupu uvedeného zde [konfigurace připojení typu Point-to-Site k virtuální síti pomocí prostředí PowerShell] [ V2VNETP2S] nebo pomocí portálu Azure podle postupu uvedeného zde [konfigurace připojení typu Point-to-Site k virtuální síti pomocí portálu Azure][V2VNETPortal].</span><span class="sxs-lookup"><span data-stu-id="bac16-170">To configure a Resource Manager VNet with a gateway and Point to Site, you can use either PowerShell as documented here, [Configure a Point-to-Site connection to a virtual network using PowerShell][V2VNETP2S] or use the Azure portal as documented here, [Configure a Point-to-Site connection to a VNet using the Azure portal][V2VNETPortal].</span></span> <span data-ttu-id="bac16-171">Uživatelské rozhraní k provedení tato funkce není k dispozici.</span><span class="sxs-lookup"><span data-stu-id="bac16-171">The UI to perform this capability is not yet available.</span></span> <span data-ttu-id="bac16-172">Všimněte si, že potřebujete k vytvoření certifikátů, aby bod konfigurace lokality.</span><span class="sxs-lookup"><span data-stu-id="bac16-172">Note that you need to create certificates for the Point to Site configuration.</span></span> <span data-ttu-id="bac16-173">Ta se automaticky nakonfiguruje při připojení k virtuální síti vaší webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-173">This is automatically configured when you connect your WebApp to the VNet.</span></span> 

### <a name="creating-a-pre-configured-vnet"></a><span data-ttu-id="bac16-174">Vytvoření předem konfigurovaný virtuální sítě</span><span class="sxs-lookup"><span data-stu-id="bac16-174">Creating a pre-configured VNet</span></span>
<span data-ttu-id="bac16-175">Pokud chcete vytvořit novou virtuální síť, který je nakonfigurovaný s bránou a Point-to-Site, App Service sítě uživatelského rozhraní má možnost udělat, ale jenom pro virtuální sítě Resource Manageru.</span><span class="sxs-lookup"><span data-stu-id="bac16-175">If you want to create a new VNet that is configured with a gateway and Point-to-Site, then the App Service networking UI has the capability to do that but only for a Resource Manager VNet.</span></span> <span data-ttu-id="bac16-176">Pokud chcete vytvořit klasické virtuální sítě se brána a Point-to-Site, budete muset udělat to ručně přes uživatelské rozhraní sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-176">If you wish to create a Classic VNet with a gateway and Point-to-Site, then you need to do this manually through the Networking user interface.</span></span> 

<span data-ttu-id="bac16-177">Chcete-li vytvořit virtuální sítě Resource Manageru pomocí integrace rozhraní virtuální sítě, jednoduše vyberte **vytvořit novou virtuální síť** a zadejte:</span><span class="sxs-lookup"><span data-stu-id="bac16-177">To create a Resource Manager VNet through the VNet Integration UI, simply select **Create New Virtual Network** and provide the:</span></span>

* <span data-ttu-id="bac16-178">Název virtuální sítě</span><span class="sxs-lookup"><span data-stu-id="bac16-178">Virtual Network Name</span></span>
* <span data-ttu-id="bac16-179">Blok adres virtuální sítě</span><span class="sxs-lookup"><span data-stu-id="bac16-179">Virtual Network Address Block</span></span>
* <span data-ttu-id="bac16-180">Název podsítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-180">Subnet Name</span></span>
* <span data-ttu-id="bac16-181">Blok adres podsítě</span><span class="sxs-lookup"><span data-stu-id="bac16-181">Subnet Address Block</span></span>
* <span data-ttu-id="bac16-182">Blok adres brány</span><span class="sxs-lookup"><span data-stu-id="bac16-182">Gateway Address Block</span></span>
* <span data-ttu-id="bac16-183">Blok adres Point-to-Site</span><span class="sxs-lookup"><span data-stu-id="bac16-183">Point-to-Site Address Block</span></span>

<span data-ttu-id="bac16-184">Pokud chcete této virtuální sítě pro připojení k jiným sítím, pak byste neměli výběr prostor IP adres, který se překrývá s tyto sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-184">If you want this VNet to connect to any other networks, then you should avoid picking IP address space that overlaps with those networks.</span></span> 

> [!NOTE]
> <span data-ttu-id="bac16-185">Vytvoření virtuální sítě Resource Manageru s bránou trvá nějakých 30 minut a aktuálně Neintegruje virtuální sítě s vaší aplikací.</span><span class="sxs-lookup"><span data-stu-id="bac16-185">Resource Manager VNet creation with a gateway takes about 30 minutes and currently does not integrate the VNet with your app.</span></span> <span data-ttu-id="bac16-186">Po vytvoření virtuální sítě s bránou potřebujete vraťte do vaší aplikace uživatelského rozhraní integrace virtuální sítě a vyberte nové sítě VNet.</span><span class="sxs-lookup"><span data-stu-id="bac16-186">After your VNet is created with the gateway you need to come back to your app VNet Integration UI and select your new VNet.</span></span>
> 
> 

![][3]

<span data-ttu-id="bac16-187">Virtuálních sítí Azure se obvykle vytvoří v rámci adres privátní sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-187">Azure VNets normally are created within private network addresses.</span></span> <span data-ttu-id="bac16-188">Ve výchozím nastavení integrace virtuální sítě funkce směrovat všechny přenosy určené pro tyto rozsahy IP adres do virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-188">By default the VNet Integration feature routes any traffic destined for those IP address ranges into your VNet.</span></span> <span data-ttu-id="bac16-189">Rozsahy privátních IP adres jsou:</span><span class="sxs-lookup"><span data-stu-id="bac16-189">The private IP address ranges are:</span></span>

* <span data-ttu-id="bac16-190">10.0.0.0/8 – je to stejné jako 10.0.0.0 - 10.255.255.255</span><span class="sxs-lookup"><span data-stu-id="bac16-190">10.0.0.0/8 - this is the same as 10.0.0.0 - 10.255.255.255</span></span>
* <span data-ttu-id="bac16-191">172.16.0.0/12 – je to stejné jako 172.16.0.0 - 172.31.255.255</span><span class="sxs-lookup"><span data-stu-id="bac16-191">172.16.0.0/12 - this is the same as 172.16.0.0 - 172.31.255.255</span></span> 
* <span data-ttu-id="bac16-192">192.168.0.0/16 - Toto je stejný jako 192.168.0.0 - 192.168.255.255</span><span class="sxs-lookup"><span data-stu-id="bac16-192">192.168.0.0/16 - this is the same as 192.168.0.0 - 192.168.255.255</span></span>

<span data-ttu-id="bac16-193">Adresní prostor sítě VNet, je třeba zadat v notaci CIDR.</span><span class="sxs-lookup"><span data-stu-id="bac16-193">The VNet address space needs to be specified in CIDR notation.</span></span> <span data-ttu-id="bac16-194">Pokud jste obeznámeni s notaci CIDR, je metoda pro zadání bloky adres pomocí IP adresy a celé číslo, které představuje maska sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-194">If you are unfamiliar with CIDR notation, it is a method for specifying address blocks using an IP address and an integer that represents the network mask.</span></span> <span data-ttu-id="bac16-195">Jako rychlý přehled zvažte, že 10.1.0.0/24 by 256 adresy a 10.1.0.0/25 by 128 adresy.</span><span class="sxs-lookup"><span data-stu-id="bac16-195">As a quick reference, consider that 10.1.0.0/24 would be 256 addresses and 10.1.0.0/25 would be 128 addresses.</span></span> <span data-ttu-id="bac16-196">Adresu IPv4 s /32 by být právě 1 adresa.</span><span class="sxs-lookup"><span data-stu-id="bac16-196">An IPv4 address with a /32 would be just 1 address.</span></span> 

<span data-ttu-id="bac16-197">Pokud nastavíte informace o serveru DNS, pak, bude nastavena pro vaši virtuální síť.</span><span class="sxs-lookup"><span data-stu-id="bac16-197">If you set the DNS server information here, then that is set for your VNet.</span></span> <span data-ttu-id="bac16-198">Po vytvoření virtuální sítě můžete upravit tyto informace z činnosti koncových uživatelů virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-198">After VNet creation you can edit this information from the VNet user experiences.</span></span> <span data-ttu-id="bac16-199">Pokud změníte DNS virtuální sítě, budete muset provést operaci synchronizace sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-199">If you change the DNS of the VNet, then you need to perform a Sync Network operation.</span></span>

<span data-ttu-id="bac16-200">Když vytvoříte klasické virtuální sítě pomocí integrace rozhraní virtuální sítě, vytvoří virtuální síť ve stejné skupině prostředků jako aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-200">When you create a Classic VNet using the VNet Integration UI, it creates a VNet in the same resource group as your app.</span></span> 

## <a name="how-the-system-works"></a><span data-ttu-id="bac16-201">Jak funguje v systému</span><span class="sxs-lookup"><span data-stu-id="bac16-201">How the system works</span></span>
<span data-ttu-id="bac16-202">Skrytě této funkce vytvoří nad technologie VPN Point-to-Site k připojení aplikace k virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-202">Under the covers this feature builds on top of Point-to-Site VPN technology to connect your app to your VNet.</span></span> <span data-ttu-id="bac16-203">Aplikace v Azure App Service musí mít architektura víceklientské systému, který vylučuje zřizování aplikace přímo ve virtuální síti, jak se provádí s virtuálními počítači.</span><span class="sxs-lookup"><span data-stu-id="bac16-203">Apps in Azure App Service have a multi-tenant system architecture, which precludes provisioning an app directly in a VNet as is done with virtual machines.</span></span> <span data-ttu-id="bac16-204">Podle budovy na technologii point-to-site jsme omezit přístup k síti na pouze na virtuální počítač hostování aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-204">By building on point-to-site technology we limit network access to just the virtual machine hosting the app.</span></span> <span data-ttu-id="bac16-205">Přístup k síti je dále omezen na těchto hostitelích aplikace tak, aby vaše aplikace přístup jenom k sítě, které můžete nakonfigurovat je pro přístup.</span><span class="sxs-lookup"><span data-stu-id="bac16-205">Access to the network is further restricted on those app hosts so that your apps can only access the networks that you configure them to access.</span></span> 

![][4]

<span data-ttu-id="bac16-206">Pokud jste nenakonfigurovali DNS server s vaší virtuální síti, aplikace bude muset použít IP adresy k dosažení prostředků ve virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-206">If you haven’t configured a DNS server with your virtual network, your app will need to use IP addresses to reach resource in the VNet.</span></span> <span data-ttu-id="bac16-207">Při použití IP adresy, mějte na paměti, že je hlavní výhody použití této možnosti umožňuje použít privátní adresy v rámci vaší privátní sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-207">While using IP addresses, remember that the major benefit of this feature is that it enables you to use the private addresses within your private network.</span></span> <span data-ttu-id="bac16-208">Pokud nastavíte aplikace až použití veřejných IP adres pro jeden virtuální počítače a potom nepoužíváte funkci integrace virtuální sítě a komunikují přes internet.</span><span class="sxs-lookup"><span data-stu-id="bac16-208">If you set your app up to use public IP addresses for one of your VMs, then you aren't using the VNet Integration feature and are communicating over the internet.</span></span>

## <a name="managing-the-vnet-integrations"></a><span data-ttu-id="bac16-209">Správa integrace virtuální sítě</span><span class="sxs-lookup"><span data-stu-id="bac16-209">Managing the VNet Integrations</span></span>
<span data-ttu-id="bac16-210">Možnost připojit a odpojit k virtuální síti je na úrovni aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-210">The ability to connect and disconnect to a VNet is at an app level.</span></span> <span data-ttu-id="bac16-211">Operace, které můžou ovlivnit integrace virtuální sítě mezi více aplikacemi jsou na úrovni ASP.</span><span class="sxs-lookup"><span data-stu-id="bac16-211">Operations that can affect the VNet Integration across multiple apps are at an ASP level.</span></span> <span data-ttu-id="bac16-212">Z uživatelského rozhraní, které se zobrazí na úrovni aplikace můžete získat podrobnosti o ve virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-212">From the UI that is shown at the app level, you can get details on your VNet.</span></span> <span data-ttu-id="bac16-213">Většina těchto informací se také zobrazuje na úrovni ASP.</span><span class="sxs-lookup"><span data-stu-id="bac16-213">Most of the same information is also shown at the ASP level.</span></span> 

![][5]

<span data-ttu-id="bac16-214">Na stránce stav funkce sítě se zobrazí, pokud vaše aplikace je připojená k virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-214">From the Network Feature Status page, you can see if your app is connected to your VNet.</span></span> <span data-ttu-id="bac16-215">Pokud vaše Brána virtuální sítě je vypnutý z jakéhokoliv důvodu, potom zobrazí jako není připojen.</span><span class="sxs-lookup"><span data-stu-id="bac16-215">If your VNet gateway is down for whatever reason, then this would show as not-connected.</span></span> 

<span data-ttu-id="bac16-216">Informace, které máte teď k dispozici v aplikaci, kterou úroveň uživatelského rozhraní integrace virtuální sítě je stejný jako podrobné informace, které můžete získat z ASP.</span><span class="sxs-lookup"><span data-stu-id="bac16-216">The information you now have available to you in the app level VNet Integration UI is the same as the detail information you get from the ASP.</span></span> <span data-ttu-id="bac16-217">Zde jsou tyto položky:</span><span class="sxs-lookup"><span data-stu-id="bac16-217">Here are those items:</span></span>

* <span data-ttu-id="bac16-218">Název virtuální sítě - tento odkaz otevře virtuální síť Azure uživatelského rozhraní</span><span class="sxs-lookup"><span data-stu-id="bac16-218">VNet Name - This link opens the Azure virtual network UI</span></span>
* <span data-ttu-id="bac16-219">Umístění – tento údaj zohledňuje umístění virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-219">Location - This reflects the location of your VNet.</span></span> <span data-ttu-id="bac16-220">Je možné integrovat virtuální sítě v jiném umístění.</span><span class="sxs-lookup"><span data-stu-id="bac16-220">It is possible to integrate with a VNet in another location.</span></span>
* <span data-ttu-id="bac16-221">Stav certifikátu – jsou certifikáty sloužící k zabezpečení připojení VPN mezi virtuální sítí a aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-221">Certificate Status - There are certificates used to secure the VPN connection between the app and the VNet.</span></span> <span data-ttu-id="bac16-222">Tento údaj zohledňuje testu zajistit, že jsou synchronizované.</span><span class="sxs-lookup"><span data-stu-id="bac16-222">This reflects a test to ensure they are in sync.</span></span>
* <span data-ttu-id="bac16-223">Stav brány. - musí být jako vašich bran dolů z jakéhokoliv důvodu pak aplikace nemají přístup k prostředkům ve virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-223">Gateway Status - Should your gateways be down for whatever reason then your app cannot access resources in the VNet.</span></span> 
* <span data-ttu-id="bac16-224">Adresní prostor sítě VNet - to je pro vaši virtuální síť adresní prostor IP adres.</span><span class="sxs-lookup"><span data-stu-id="bac16-224">VNet address space - This is the IP address space for your VNet.</span></span> 
* <span data-ttu-id="bac16-225">Přejděte na webu adresní prostor – to je bod do lokality adresní prostor IP adres pro virtuální síť.</span><span class="sxs-lookup"><span data-stu-id="bac16-225">Point to Site address space - This is the point to site IP address space for your VNet.</span></span> <span data-ttu-id="bac16-226">Vaše aplikace zobrazí komunikace jako pocházející z jednoho z IP adresy v tento adresní prostor.</span><span class="sxs-lookup"><span data-stu-id="bac16-226">Your app shows communication as coming from one of the IPs in this address space.</span></span> 
* <span data-ttu-id="bac16-227">Lokality do lokality adresního prostoru - Site to Site VPN můžete použít pro připojení virtuální sítě k místním prostředkům nebo k jiné virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-227">Site to site address space - You can use Site to Site VPNs to connect your VNet to your on-premises resources or to other VNet.</span></span> <span data-ttu-id="bac16-228">Pokud máte nakonfigurovaný a rozsahy IP definovaný s zde znázorňuje připojení k síti VPN.</span><span class="sxs-lookup"><span data-stu-id="bac16-228">Should you have that configured then the IP ranges defined with that VPN connection shows here.</span></span>
* <span data-ttu-id="bac16-229">Servery DNS – Pokud máte nakonfigurované virtuální sítě, servery DNS, pak jsou zde uvedeny.</span><span class="sxs-lookup"><span data-stu-id="bac16-229">DNS Servers - If you have DNS Servers configured with your VNet, then they are listed here.</span></span>
* <span data-ttu-id="bac16-230">IP adresy směrované do virtuální sítě - zde je uveden seznam IP adres, které virtuální sítě má směrování definované pro a zobrazit tyto adresy tady.</span><span class="sxs-lookup"><span data-stu-id="bac16-230">IPs routed to the VNet - There are a list of IP addresses that your VNet has routing defined for, and those addresses show here.</span></span> 

<span data-ttu-id="bac16-231">Pouze operace, které můžete provést v zobrazení aplikace integrace vaší virtuální sítě je odpojit od sítě VNet je aktuálně připojen k vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-231">The only operation you can take in the app view of your VNet Integration is to disconnect your app from the VNet it is currently connected to.</span></span> <span data-ttu-id="bac16-232">To jednoduše klikněte na možnost Odpojit nahoře.</span><span class="sxs-lookup"><span data-stu-id="bac16-232">To do this simply click Disconnect at the top.</span></span> <span data-ttu-id="bac16-233">Tato akce nezmění vaši virtuální síť.</span><span class="sxs-lookup"><span data-stu-id="bac16-233">This action does not change your VNet.</span></span> <span data-ttu-id="bac16-234">Virtuální sítě a jeho konfigurace, včetně brány zůstává beze změny.</span><span class="sxs-lookup"><span data-stu-id="bac16-234">The VNet and its configuration including the gateways remains unchanged.</span></span> <span data-ttu-id="bac16-235">Pokud chcete poté odstranit virtuální síť, musíte nejprve odstranit prostředky v ní včetně brány.</span><span class="sxs-lookup"><span data-stu-id="bac16-235">If you then want to delete your VNet, you need to first delete the resources in it including the gateways.</span></span> 

<span data-ttu-id="bac16-236">Zobrazení plánu služby App Service má několik dalších operací.</span><span class="sxs-lookup"><span data-stu-id="bac16-236">The App Service Plan view has a number of additional operations.</span></span> <span data-ttu-id="bac16-237">Je také přístupný jinak než z aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-237">It is also accessed differently than from the app.</span></span> <span data-ttu-id="bac16-238">K dosažení rozhraní sítě ASP jednoduše otevřete uživatelské rozhraní ASP a přejděte dolů.</span><span class="sxs-lookup"><span data-stu-id="bac16-238">To reach the ASP Networking UI simply open your ASP UI and scroll down.</span></span> <span data-ttu-id="bac16-239">Je prvek uživatelského rozhraní s názvem stav funkce sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-239">There is a UI element called Network Feature Status.</span></span> <span data-ttu-id="bac16-240">Nabízí některé dílčí podrobnosti ohledně integrace vaší virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-240">It gives some minor details around your VNet Integration.</span></span> <span data-ttu-id="bac16-241">Kliknutím na toto uživatelské rozhraní, otevře se rozhraní stav funkce sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-241">Clicking on this UI opens the Network Feature Status UI.</span></span> <span data-ttu-id="bac16-242">Pokud potom klikněte na "Kliknutím sem ke správě", otevře se uživatelské rozhraní, které jsou uvedené integrace virtuální sítě v této ASP.</span><span class="sxs-lookup"><span data-stu-id="bac16-242">If you then click on "Click here to manage", the UI that lists the VNet Integrations in this ASP opens.</span></span>

![][6]

<span data-ttu-id="bac16-243">Umístění ASP je dobré pamatovat při vyhledávání v umístění virtuální sítě budete nástroj integrovat.</span><span class="sxs-lookup"><span data-stu-id="bac16-243">The location of the ASP is good to remember when looking at the locations of the VNets you are integrating with.</span></span> <span data-ttu-id="bac16-244">Pokud virtuální sítě je v jiném umístění jsou mnohem pravděpodobnější zobrazíte problémy s latencí.</span><span class="sxs-lookup"><span data-stu-id="bac16-244">When the VNet is in another location you are far more likely to see latency issues.</span></span> 

<span data-ttu-id="bac16-245">Virtuální sítě integrovat je připomenutí na tom, kolik virtuálních sítí, že vaše aplikace jsou integrované s v této ASP a kolik můžete mít.</span><span class="sxs-lookup"><span data-stu-id="bac16-245">The VNets integrated with is a reminder on how many VNets your apps are integrated with in this ASP and how many you can have.</span></span> 

<span data-ttu-id="bac16-246">Byly přidané podrobnosti najdete v každé virtuální síti VNet právě klikněte na virtuální síť se zajímáte.</span><span class="sxs-lookup"><span data-stu-id="bac16-246">To see added details on each VNet, just click on the VNet you are interested in.</span></span> <span data-ttu-id="bac16-247">Kromě podrobností, které jste si poznamenali dříve můžete také zobrazit seznam aplikací v této ASP, které používají tuto virtuální síť.</span><span class="sxs-lookup"><span data-stu-id="bac16-247">In addition to the details that were noted earlier, you can also see a list of the apps in this ASP that are using that VNet.</span></span> 

<span data-ttu-id="bac16-248">S ohledem na akce jsou dvě primární akce.</span><span class="sxs-lookup"><span data-stu-id="bac16-248">With respect to actions there are two primary actions.</span></span> <span data-ttu-id="bac16-249">První je možnost přidávat trasy, jež řídí odchozího provozu z vaší aplikace do virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-249">The first is the ability to add routes that drive traffic leaving your app into your VNet.</span></span> <span data-ttu-id="bac16-250">Druhou akci, je schopnost synchronizovat certifikáty a informace o síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-250">The second action is the ability to sync certificates and network information.</span></span>

![][7]

<span data-ttu-id="bac16-251">**Směrování** jako si předtím poznamenali tras, které jsou definovány ve vaší virtuální síti se, co se používá pro směrují přenosy do virtuální sítě z vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-251">**Routing** As noted earlier the routes that are defined in your VNet are what is used for directing traffic into your VNet from your app.</span></span> <span data-ttu-id="bac16-252">Existují některé používá, když kde zákazníci chtějí odeslat další odchozí přenos z aplikace do virtuální sítě a je tato možnost je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="bac16-252">There are some uses though where customers want to send additional outbound traffic from an app into the VNet and for them this capability is provided.</span></span> <span data-ttu-id="bac16-253">Co se stane provoz, poté, co je to na tom, jak zákazník nakonfiguruje své virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-253">What happens to the traffic after that is up to how the customer configures their VNet.</span></span> 

<span data-ttu-id="bac16-254">**Certifikáty** stavu certifikátu odráží kontrolu prováděného App Service k ověření, že jsou stále vhodné certifikáty, které se používá pro připojení k síti VPN.</span><span class="sxs-lookup"><span data-stu-id="bac16-254">**Certificates** The Certificate Status reflects a check being performed by the App Service to validate that the certificates that we are using for the VPN connection are still good.</span></span> <span data-ttu-id="bac16-255">Když je povolené integrace virtuální sítě, pokud je první integrace do ní ze všech aplikací v této ASP nejsou požadované výměny certifikáty pro zajištění zabezpečení připojení.</span><span class="sxs-lookup"><span data-stu-id="bac16-255">When VNet Integration enabled, then if this is the first integration to that VNet from any apps in this ASP, there is a required exchange of certificates to ensure the security of the connection.</span></span> <span data-ttu-id="bac16-256">Společně s certifikáty se nám získat konfiguraci serveru DNS, trasy a další podobné věci, které popisují sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-256">Along with the certificates we get the DNS configuration, routes and other similar things that describe the network.</span></span>
<span data-ttu-id="bac16-257">Pokud tyto certifikáty nebo informace o síti změní, budete muset klikněte na tlačítko "Synchronizace sítě".</span><span class="sxs-lookup"><span data-stu-id="bac16-257">If those certificates or network information is changed, then you need to click "Sync Network".</span></span> <span data-ttu-id="bac16-258">**Poznámka:**: Po kliknutí na tlačítko "Synchronizace síť", pak způsobit kratší výpadek připojení mezi vaší aplikace a virtuální síť.</span><span class="sxs-lookup"><span data-stu-id="bac16-258">**NOTE**: When you click "Sync Network" then you cause a brief outage in connectivity between your app and your VNet.</span></span> <span data-ttu-id="bac16-259">Při restartování aplikace není ztráty připojení může způsobit, že web není funkce správně.</span><span class="sxs-lookup"><span data-stu-id="bac16-259">While your app is not restarted, the loss of connectivity could cause your site to not function properly.</span></span> 

## <a name="accessing-on-premises-resources"></a><span data-ttu-id="bac16-260">Přístup k místní prostředky</span><span class="sxs-lookup"><span data-stu-id="bac16-260">Accessing on-premises resources</span></span>
<span data-ttu-id="bac16-261">Jednou z výhod funkce integrace virtuální sítě je, že pokud virtuální sítě je připojený k místní síti pomocí sítě Site to Site VPN pak vaše aplikace může mít přístup k místním prostředkům z vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-261">One of the benefits of the VNet Integration feature is that if your VNet is connected to your on-premises network with a Site to Site VPN then your apps can have access to your on-premises resources from your app.</span></span> <span data-ttu-id="bac16-262">Tento postup vyžaduje, když budete muset aktualizovat bránu místní sítě VPN s trasy pro bod do lokality IP v rozsahu.</span><span class="sxs-lookup"><span data-stu-id="bac16-262">For this to work though you may need to update your on-premises VPN gateway with the routes for your Point to Site IP range.</span></span> <span data-ttu-id="bac16-263">Když Site to Site VPN je nejdřív nastavit pak skripty slouží ke konfiguraci ho měli nastavit trasy, včetně vašeho bodu k síti VPN lokality.</span><span class="sxs-lookup"><span data-stu-id="bac16-263">When the Site to Site VPN is first set up then the scripts used to configure it should set up routes including your Point to Site VPN.</span></span> <span data-ttu-id="bac16-264">Pokud přidáte bod k síti VPN lokality po vytvoření Site to Site VPN, budete muset ručně aktualizovat trasy.</span><span class="sxs-lookup"><span data-stu-id="bac16-264">If you add the Point to Site VPN after you create your Site to Site VPN, then you need to update the routes manually.</span></span> <span data-ttu-id="bac16-265">Podrobnosti o tom, jak to udělat se liší u každé brány a nejsou tady popsané.</span><span class="sxs-lookup"><span data-stu-id="bac16-265">Details on how to do that vary per gateway and are not described here.</span></span> 

> [!NOTE]
> <span data-ttu-id="bac16-266">Funkce integrace virtuální sítě Neintegruje aplikace s virtuální sítě, který má bránu ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="bac16-266">The VNet Integration feature does not integrate an app with a VNet that has an ExpressRoute Gateway.</span></span> <span data-ttu-id="bac16-267">I když v je nakonfigurovaná brána ExpressRoute [koexistence režimu] [ VPNERCoex] integrace virtuální síť nefunguje.</span><span class="sxs-lookup"><span data-stu-id="bac16-267">Even if the ExpressRoute Gateway is configured in [coexistence mode][VPNERCoex] the VNet Integration does not work.</span></span> <span data-ttu-id="bac16-268">Pokud potřebujete přístup k prostředkům pomocí připojení ExpressRoute, pak můžete použít [App Service Environment][ASE], která se spouští ve vaší virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-268">If you need to access resources through an ExpressRoute connection, then you can use an [App Service Environment][ASE], which runs in your VNet.</span></span>
> 
> 

## <a name="pricing-details"></a><span data-ttu-id="bac16-269">Podrobnosti o cenách</span><span class="sxs-lookup"><span data-stu-id="bac16-269">Pricing details</span></span>
<span data-ttu-id="bac16-270">Existuje několik ceny drobné odlišnosti, kterých byste měli vědět, když používáte funkci integrace virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-270">There are a few pricing nuances that you should be aware of when using the VNet Integration feature.</span></span> <span data-ttu-id="bac16-271">Existují 3 poplatky související s použitím této funkce:</span><span class="sxs-lookup"><span data-stu-id="bac16-271">There are 3 related charges to the use of this feature:</span></span>

* <span data-ttu-id="bac16-272">Cenová úroveň požadavků ASP</span><span class="sxs-lookup"><span data-stu-id="bac16-272">ASP pricing tier requirements</span></span>
* <span data-ttu-id="bac16-273">Náklady na přenos dat</span><span class="sxs-lookup"><span data-stu-id="bac16-273">Data transfer costs</span></span>
* <span data-ttu-id="bac16-274">Brána sítě VPN náklady.</span><span class="sxs-lookup"><span data-stu-id="bac16-274">VPN Gateway costs.</span></span>

<span data-ttu-id="bac16-275">Pro vaše aplikace, abyste mohli tuto funkci používat potřebují mít Standard nebo plán aplikační služby Premium.</span><span class="sxs-lookup"><span data-stu-id="bac16-275">For your apps to be able to use this feature, they need to be in a Standard or Premium App Service Plan.</span></span> <span data-ttu-id="bac16-276">Další podrobnosti uvidíte na zde uvedené náklady: [App Service – ceny][ASPricing].</span><span class="sxs-lookup"><span data-stu-id="bac16-276">You can see more details on those costs here: [App Service Pricing][ASPricing].</span></span> 

<span data-ttu-id="bac16-277">Vzhledem ke způsobu bod do sítě VPN Site jsou zpracovány, budete mít vždy zdarma pro odchozí data prostřednictvím připojení k virtuální síti integrace i v případě, že virtuální sítě je ve stejném datovém centru.</span><span class="sxs-lookup"><span data-stu-id="bac16-277">Due to the way Point to Site VPNs are handled, you always have a charge for outbound data through your VNet Integration connection even if the VNet is in the same data center.</span></span> <span data-ttu-id="bac16-278">Pokud chcete zobrazit, jaké jsou tyto poplatky, podívejte se sem: [přenosu informace o cenách datových][DataPricing].</span><span class="sxs-lookup"><span data-stu-id="bac16-278">To see what those charges are, take a look here: [Data Transfer Pricing Details][DataPricing].</span></span> 

<span data-ttu-id="bac16-279">Poslední položky jsou náklady na brány virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-279">The last item is the cost of the VNet gateways.</span></span> <span data-ttu-id="bac16-280">Pokud nepotřebujete brány na něco jiného, jako je například Site to Site VPN, pak platíte pro brány na podporu funkce integrace virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-280">If you don't need the gateways for something else such as Site to Site VPNs, then you are paying for gateways to support the VNet Integration feature.</span></span> <span data-ttu-id="bac16-281">Podrobnosti jsou na těchto náklady zde: [ceny služby VPN Gateway][VNETPricing].</span><span class="sxs-lookup"><span data-stu-id="bac16-281">There are details on those costs here: [VPN Gateway Pricing][VNETPricing].</span></span> 

## <a name="troubleshooting"></a><span data-ttu-id="bac16-282">Řešení potíží</span><span class="sxs-lookup"><span data-stu-id="bac16-282">Troubleshooting</span></span>
<span data-ttu-id="bac16-283">Sice snadno nastavit funkci, který neznamená, že budou vaše zkušenosti problém volné.</span><span class="sxs-lookup"><span data-stu-id="bac16-283">While the feature is easy to set up, that doesn't mean that your experience will be problem free.</span></span> <span data-ttu-id="bac16-284">Měli narazíte na problémy s přístupem k dispozici požadovaný koncový bod jsou některé nástroje, které můžete použít k testování připojení z konzoly pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="bac16-284">Should you encounter problems accessing your desired endpoint there are some utilities you can use to test connectivity from the app console.</span></span> <span data-ttu-id="bac16-285">Existují dvě konzoly prostředí, které můžete použít.</span><span class="sxs-lookup"><span data-stu-id="bac16-285">There are two console experiences you can use.</span></span> <span data-ttu-id="bac16-286">Jedna je z konzoly Kudu a druhý je konzola, která můžete dosáhnout na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="bac16-286">One is from the Kudu console and the other is the console that you can reach in the Azure portal.</span></span> <span data-ttu-id="bac16-287">Abyste se dostali na konzole Kudu z vaší aplikace přejděte na Nástroje -> Kudu.</span><span class="sxs-lookup"><span data-stu-id="bac16-287">To get to the Kudu console from your app go to Tools -> Kudu.</span></span> <span data-ttu-id="bac16-288">Je to stejné nastavení jako chystáte [sitename]. scm.azurewebsites.net.</span><span class="sxs-lookup"><span data-stu-id="bac16-288">This is the same as going to [sitename].scm.azurewebsites.net.</span></span> <span data-ttu-id="bac16-289">Po, otevře se jednoduše přejděte na kartu konzoly ladění. Získat konzoly Azure portálu hostované potom z vaší aplikace, přejděte na Nástroje -> Konzola.</span><span class="sxs-lookup"><span data-stu-id="bac16-289">Once that opens simply go to the Debug console tab. To get to the Azure portal hosted console then from your app go to Tools -> Console.</span></span> 

#### <a name="tools"></a><span data-ttu-id="bac16-290">Nástroje</span><span class="sxs-lookup"><span data-stu-id="bac16-290">Tools</span></span>
<span data-ttu-id="bac16-291">Ping nástrojů, nslookup a tracert nebude fungovat přes konzolu z důvodu omezení zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="bac16-291">The tools ping, nslookup and tracert won’t work through the console due to security constraints.</span></span> <span data-ttu-id="bac16-292">K vyplnění void zde byly dvou samostatných nástrojů, které jsou přidány.</span><span class="sxs-lookup"><span data-stu-id="bac16-292">To fill the void there have been two separate tools added.</span></span> <span data-ttu-id="bac16-293">Chcete-li otestovat funkci DNS jsme přidali nástroje s názvem nameresolver.exe.</span><span class="sxs-lookup"><span data-stu-id="bac16-293">In order to test DNS functionality we added a tool named nameresolver.exe.</span></span> <span data-ttu-id="bac16-294">Syntaxe je:</span><span class="sxs-lookup"><span data-stu-id="bac16-294">The syntax is:</span></span>

    nameresolver.exe hostname [optional: DNS Server]

<span data-ttu-id="bac16-295">Můžete zkontrolovat názvy hostitelů, které závisí aplikace na nameresolver.</span><span class="sxs-lookup"><span data-stu-id="bac16-295">You can use nameresolver to check the hostnames that your app depends on.</span></span> <span data-ttu-id="bac16-296">Tímto způsobem můžete otestovat, pokud máte nic nemá nakonfigurovaný s DNS nebo možná nemáte přístup k serveru DNS.</span><span class="sxs-lookup"><span data-stu-id="bac16-296">This way you can test if you have anything mis-configured with your DNS or perhaps don't have access to your DNS server.</span></span>

<span data-ttu-id="bac16-297">Další nástroj umožňuje otestovat připojení protokolu TCP na kombinaci hostitele a portu.</span><span class="sxs-lookup"><span data-stu-id="bac16-297">The next tool allows you to test for TCP connectivity to a host and port combination.</span></span> <span data-ttu-id="bac16-298">Tento nástroj se nazývá tcpping.exe a syntaxe je:</span><span class="sxs-lookup"><span data-stu-id="bac16-298">This tool is called tcpping.exe and the syntax is:</span></span>

    tcpping.exe hostname [optional: port]

<span data-ttu-id="bac16-299">Nástroj tcpping zjistíte, pokud lze kontaktovat konkrétního hostitele a port.</span><span class="sxs-lookup"><span data-stu-id="bac16-299">The tcpping utility tells you if you can reach a specific host and port.</span></span> <span data-ttu-id="bac16-300">Jenom je zobrazují úspěch pokud: aplikace naslouchá na kombinace hostitele a portu, a je přístup k síti z vaší aplikace do zadaného hostitele a portu.</span><span class="sxs-lookup"><span data-stu-id="bac16-300">It only can show success if: there is an application listening at the host and port combination, and there is network access from your app to the specified host and port.</span></span>

#### <a name="debugging-access-to-vnet-hosted-resources"></a><span data-ttu-id="bac16-301">Ladění přístup k virtuální síti hostovaným prostředkům</span><span class="sxs-lookup"><span data-stu-id="bac16-301">Debugging access to VNet hosted resources</span></span>
<span data-ttu-id="bac16-302">Existuje několik věcí, které může zabránit aplikaci v dosažení konkrétního hostitele a port.</span><span class="sxs-lookup"><span data-stu-id="bac16-302">There are a number of things that can prevent your app from reaching a specific host and port.</span></span> <span data-ttu-id="bac16-303">Ve většině případů je jedním z tři věci:</span><span class="sxs-lookup"><span data-stu-id="bac16-303">Most of the time it is one of three things:</span></span>

* <span data-ttu-id="bac16-304">**Je brána firewall způsobem** Pokud máte bránu firewall způsobem, se setkají vypršení časového limitu TCP.</span><span class="sxs-lookup"><span data-stu-id="bac16-304">**There is a firewall in the way** If you have a firewall in the way, you will hit the TCP timeout.</span></span> <span data-ttu-id="bac16-305">Který v tomto případě je 21 sekund.</span><span class="sxs-lookup"><span data-stu-id="bac16-305">That is 21 seconds in this case.</span></span> <span data-ttu-id="bac16-306">Použijte nástroj tcpping k testování připojení.</span><span class="sxs-lookup"><span data-stu-id="bac16-306">Use the tcpping tool to test connectivity.</span></span> <span data-ttu-id="bac16-307">Překročení časového limitu TCP dají kvůli celou řadu věcí mimo brány firewall, ale existuje spustit.</span><span class="sxs-lookup"><span data-stu-id="bac16-307">TCP timeouts can be due to many things beyond firewalls but start there.</span></span> 
* <span data-ttu-id="bac16-308">**DNS není dostupný** časový limit DNS je tři sekundy na jeden DNS server.</span><span class="sxs-lookup"><span data-stu-id="bac16-308">**DNS is not accessible** The DNS timeout is three seconds per DNS server.</span></span> <span data-ttu-id="bac16-309">Pokud máte dva servery DNS, je časový limit 6 sekund.</span><span class="sxs-lookup"><span data-stu-id="bac16-309">If you have two DNS servers, the timeout is 6 seconds.</span></span> <span data-ttu-id="bac16-310">Použijte nameresolver Pokud DNS funguje.</span><span class="sxs-lookup"><span data-stu-id="bac16-310">Use nameresolver to see if DNS is working.</span></span> <span data-ttu-id="bac16-311">Mějte na paměti, že nslookup nelze použít jako, který nepoužívá DNS jsou vaše virtuální síť nakonfigurované.</span><span class="sxs-lookup"><span data-stu-id="bac16-311">Remember you can't use nslookup as that does not use the DNS your VNet is configured with.</span></span>
* <span data-ttu-id="bac16-312">**Neplatný rozsah P2S IP** bod do lokality rozsah IP adres musí být v dokumentu RFC 1918 rozsahy privátních IP (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span><span class="sxs-lookup"><span data-stu-id="bac16-312">**Invalid P2S IP range** The point to site IP range needs to be in the RFC 1918 private IP ranges (10.0.0.0-10.255.255.255 / 172.16.0.0-172.31.255.255 / 192.168.0.0-192.168.255.255).</span></span> <span data-ttu-id="bac16-313">Pokud rozsahu IP adres používá mimo který, nebude fungovat věcí.</span><span class="sxs-lookup"><span data-stu-id="bac16-313">If the range uses IPs outside of that, then things won't work.</span></span> 

<span data-ttu-id="bac16-314">Pokud váš problém neobsahují odpověď na ty položky, vyhledejte první pro jednoduché třeba:</span><span class="sxs-lookup"><span data-stu-id="bac16-314">If those items don't answer your problem, look first for the simple things like:</span></span> 

* <span data-ttu-id="bac16-315">Zobrazit brány jako používán portálu?</span><span class="sxs-lookup"><span data-stu-id="bac16-315">Does the Gateway show as being up in the portal?</span></span>
* <span data-ttu-id="bac16-316">Certifikáty zobrazit, že je synchronizace?</span><span class="sxs-lookup"><span data-stu-id="bac16-316">Do certificates show as being in sync?</span></span>
* <span data-ttu-id="bac16-317">Bez provádění "Sítě synchronizace" v ovlivněné soubory ASP kdokoliv měnit síťovou konfiguraci?</span><span class="sxs-lookup"><span data-stu-id="bac16-317">Did anybody change the network configuration without doing a "Sync Network" in the affected ASPs?</span></span> 

<span data-ttu-id="bac16-318">Pokud vaše brána je vypnutý, pak ho převeďte zálohování.</span><span class="sxs-lookup"><span data-stu-id="bac16-318">If your gateway is down, then bring it back up.</span></span> <span data-ttu-id="bac16-319">Pokud vaše certifikáty nejsou synchronizované, přejděte do zobrazení ASP integrace vaší virtuální sítě a stiskněte tlačítko "Synchronizace sítě".</span><span class="sxs-lookup"><span data-stu-id="bac16-319">If your certificates are out of sync, then go to the ASP view of your VNet Integration and hit "Sync Network".</span></span> <span data-ttu-id="bac16-320">Pokud máte podezření, že došlo ke změně provedené v konfiguraci virtuální sítě a jeho nebyl synchronizace by se vaše soubory ASP, pak přejděte do zobrazení ASP integrace vaší virtuální sítě a stiskněte tlačítko "Sítě synchronizace" těsně jako připomenutí, protože to způsobuje kratší výpadek s připojením k virtuální síti a aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-320">If you suspect that there has been a change made to your VNet configuration and it wasn't sync'd with your ASPs, then go to the ASP view of your VNet Integration and hit "Sync Network" Just as a reminder, this causes a brief outage with your VNet connection and your apps.</span></span> 

<span data-ttu-id="bac16-321">Pokud všechny, je v pořádku, budete muset prozkoumat trochu podrobněji:</span><span class="sxs-lookup"><span data-stu-id="bac16-321">If all of that is fine, then you need to dig in a bit deeper:</span></span>

* <span data-ttu-id="bac16-322">Jsou všechny ostatní aplikace pomocí integrace virtuální sítě pro přístup k prostředkům ve stejné virtuální síti?</span><span class="sxs-lookup"><span data-stu-id="bac16-322">Are there any other apps using VNet Integration to reach resources in the same VNet?</span></span> 
* <span data-ttu-id="bac16-323">Můžete přejít do konzoly aplikace a použít tcpping k dosažení žádné další prostředky ve vaší virtuální síti?</span><span class="sxs-lookup"><span data-stu-id="bac16-323">Can you go to the app console and use tcpping to reach any other resources in your VNet?</span></span> 

<span data-ttu-id="bac16-324">Pokud platí některá z výše uvedených, pak je dobře vaše integrace virtuální sítě a problém je někde jinde.</span><span class="sxs-lookup"><span data-stu-id="bac16-324">If either of the above are true, then your VNet Integration is fine and the problem is somewhere else.</span></span> <span data-ttu-id="bac16-325">Toto je, kde získá za další problémy, protože neexistuje žádný jednoduchý způsob, jak zobrazit, proč nelze připojit hostitele a portu.</span><span class="sxs-lookup"><span data-stu-id="bac16-325">This is where it gets to be more of a challenge because there is no simple way to see why you can't reach a host:port.</span></span> <span data-ttu-id="bac16-326">Některé z příčin patří:</span><span class="sxs-lookup"><span data-stu-id="bac16-326">Some of the causes include:</span></span>

* <span data-ttu-id="bac16-327">máte bránu firewall na hostiteli brání přístupu k portu aplikace z bodu na rozsah IP lokality.</span><span class="sxs-lookup"><span data-stu-id="bac16-327">you have a firewall up on your host preventing access to the application port from your point to site IP range.</span></span> <span data-ttu-id="bac16-328">Při překročení podsítě často vyžaduje veřejný přístup.</span><span class="sxs-lookup"><span data-stu-id="bac16-328">Crossing subnets often requires Public access.</span></span>
* <span data-ttu-id="bac16-329">Cílový hostitel je mimo provoz</span><span class="sxs-lookup"><span data-stu-id="bac16-329">your target host is down</span></span>
* <span data-ttu-id="bac16-330">aplikace je mimo provoz</span><span class="sxs-lookup"><span data-stu-id="bac16-330">your application is down</span></span>
* <span data-ttu-id="bac16-331">jste měli nesprávné IP adresu nebo název hostitele</span><span class="sxs-lookup"><span data-stu-id="bac16-331">you had the wrong IP or hostname</span></span>
* <span data-ttu-id="bac16-332">vaše aplikace naslouchá na jiný port než jste očekávali.</span><span class="sxs-lookup"><span data-stu-id="bac16-332">your application is listening on a different port than what you expected.</span></span> <span data-ttu-id="bac16-333">Zkontrolovat to můžete tak, že přejdete na tomto hostiteli a pomocí "netstat - aon" z příkazový řádek.</span><span class="sxs-lookup"><span data-stu-id="bac16-333">You can check this by going onto that host and using "netstat -aon" from the cmd prompt.</span></span> <span data-ttu-id="bac16-334">To se dozvíte, co proces ID naslouchá na port.</span><span class="sxs-lookup"><span data-stu-id="bac16-334">This shows you what process ID is listening on what port.</span></span> 
* <span data-ttu-id="bac16-335">Vaše skupiny zabezpečení sítě jsou nakonfigurované tak, že brání tomu, aby přístup do vaší aplikace hostitele a portu z bodu lokality rozsah IP</span><span class="sxs-lookup"><span data-stu-id="bac16-335">your network security groups are configured in such a manner that they prevent access to your application host and port from your point to site IP range</span></span>

<span data-ttu-id="bac16-336">Mějte na paměti, že k rozsahu IP lokality, který vaše aplikace bude používat, musíte povolit přístup z celý rozsah nevíte jaké IP ve bodu.</span><span class="sxs-lookup"><span data-stu-id="bac16-336">Remember that you don't know what IP in your Point to Site IP range that your app will use so you need to allow access from the entire range.</span></span> 

<span data-ttu-id="bac16-337">Další ladění krokům patří:</span><span class="sxs-lookup"><span data-stu-id="bac16-337">Additional debug steps include:</span></span>

* <span data-ttu-id="bac16-338">Přihlaste se jiným virtuálním Počítačem ve virtuální síti a se pokoušejí připojit vaše prostředků hostitele a portu z ní.</span><span class="sxs-lookup"><span data-stu-id="bac16-338">log onto another VM in your VNet and attempt to reach your resource host:port from there.</span></span> <span data-ttu-id="bac16-339">Existují některé nástroje ping TCP musí být pro tento účel můžete použít nebo i pokud můžete použít telnet.</span><span class="sxs-lookup"><span data-stu-id="bac16-339">There are some TCP ping utilities that you can use for this purpose or can even use telnet if need be.</span></span> <span data-ttu-id="bac16-340">Účelem tady je jenom k určení, pokud je připojení k dispozici z jiných tohoto virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="bac16-340">The purpose here is just to determine if connectivity is there from this other VM.</span></span> 
* <span data-ttu-id="bac16-341">zprovoznit aplikace na jiný virtuální počítač a testovací přístup do tohoto hostitele a portu z konzoly z vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-341">bring up an application on another VM and test access to that host and port from the console from your app</span></span>

#### <a name="on-premises-resources"></a><span data-ttu-id="bac16-342">Místní prostředky</span><span class="sxs-lookup"><span data-stu-id="bac16-342">On-premises resources</span></span> ####
<span data-ttu-id="bac16-343">Pokud vaše aplikace nebudou moci připojit místní prostředky, je první věcí, které byste měli zkontrolovat, je-li se lze připojit prostředku ve vaší virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-343">If your app cannot reach resources on-premises, then the first thing you should check is if you can reach a resource in your VNet.</span></span> <span data-ttu-id="bac16-344">Pokud na to, pokusí se kontaktovat místní aplikace z virtuálního počítače ve virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-344">If that works, try to reach the on-premises application from a VM in the VNet.</span></span> <span data-ttu-id="bac16-345">Můžete použít protokol telnet nebo nástroj ping protokolu TCP.</span><span class="sxs-lookup"><span data-stu-id="bac16-345">You can use telnet or a TCP ping utility.</span></span> <span data-ttu-id="bac16-346">Pokud virtuální počítač nelze dosáhnout místnímu prostředku, zkontrolujte, zda že funguje připojení k síti VPN Site to Site.</span><span class="sxs-lookup"><span data-stu-id="bac16-346">If your VM can't reach your on-premises resource, then make sure your Site to Site VPN connection is working.</span></span> <span data-ttu-id="bac16-347">Pokud funguje, zkontrolujte si předtím poznamenali i místní konfiguraci brány a stav stejné operace.</span><span class="sxs-lookup"><span data-stu-id="bac16-347">If it is working, then check the same things noted earlier as well as the on-premises gateway configuration and status.</span></span> 

<span data-ttu-id="bac16-348">Teď Pokud hostované virtuální sítě virtuálních počítačů dosáhnout v místním systému, ale aplikace nemůže z důvodu bude jedním z následujících:</span><span class="sxs-lookup"><span data-stu-id="bac16-348">Now if your VNet hosted VM can reach your on-premises system but your app can't then the reason is likely one of the following:</span></span>

* <span data-ttu-id="bac16-349">trasy nejsou nakonfigurováni váš bod do lokality rozsahy IP ve vaší místní brány</span><span class="sxs-lookup"><span data-stu-id="bac16-349">your routes are not configured with your point to site IP ranges in your on-premises gateway</span></span>
* <span data-ttu-id="bac16-350">Vaše skupiny zabezpečení sítě, blokují přístup pro bod do lokality IP rozsahu</span><span class="sxs-lookup"><span data-stu-id="bac16-350">your network security groups are blocking access for your Point to Site IP range</span></span>
* <span data-ttu-id="bac16-351">vaše místní brány firewall, blokují přenosy z bodu na rozsah IP lokality</span><span class="sxs-lookup"><span data-stu-id="bac16-351">your on-premises firewalls are blocking traffic from your Point to Site IP range</span></span>
* <span data-ttu-id="bac16-352">Máte Route(UDR) definované uživatele ve vaší virtuální síti, která zabraňuje váš bod pro provoz lokality na základě přístup do místní sítě</span><span class="sxs-lookup"><span data-stu-id="bac16-352">you have a User Defined Route(UDR) in your VNet that prevents your Point to Site based traffic from reaching your on-premises network</span></span>

## <a name="hybrid-connections-and-app-service-environments"></a><span data-ttu-id="bac16-353">Hybridní připojení a služby App Service Environment</span><span class="sxs-lookup"><span data-stu-id="bac16-353">Hybrid Connections and App Service Environments</span></span>
<span data-ttu-id="bac16-354">Existují tři funkce, které umožňují přístup k prostředkům hostované virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-354">There are three features that enable access to VNet hosted resources.</span></span> <span data-ttu-id="bac16-355">Jsou:</span><span class="sxs-lookup"><span data-stu-id="bac16-355">They are:</span></span>

* <span data-ttu-id="bac16-356">Integrace virtuální sítě</span><span class="sxs-lookup"><span data-stu-id="bac16-356">VNet Integration</span></span>
* <span data-ttu-id="bac16-357">Hybridní připojení</span><span class="sxs-lookup"><span data-stu-id="bac16-357">Hybrid Connections</span></span>
* <span data-ttu-id="bac16-358">Prostředí App Service</span><span class="sxs-lookup"><span data-stu-id="bac16-358">App Service Environments</span></span>

<span data-ttu-id="bac16-359">Hybridní připojení vyžaduje, abyste nainstalujte přenosového agenta názvem Manager(HCM) připojení hybridní ve vaší síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-359">Hybrid Connections requires you to install a relay agent called the Hybrid Connection Manager(HCM) in your network.</span></span> <span data-ttu-id="bac16-360">HCM musí být schopni se připojit k Azure a také do vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="bac16-360">The HCM needs to be able to connect to Azure and also to your application.</span></span> <span data-ttu-id="bac16-361">Toto řešení je obzvláště skvělé z vzdálené sítě, například v místní síti nebo i jiného cloudu hostovaný sítě, protože nevyžaduje internet přístupném koncovém bodu.</span><span class="sxs-lookup"><span data-stu-id="bac16-361">This solution is especially great from a remote network such as your on-premises network or even another cloud hosted network because it does not require an internet accessible endpoint.</span></span> <span data-ttu-id="bac16-362">HCM lze spustit pouze v systému Windows a může mít až pět instancí spuštěných pro zajištění vysoké dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="bac16-362">The HCM only runs on Windows and you can have up to five instances running to provide high availability.</span></span> <span data-ttu-id="bac16-363">Hybridní připojení, když pouze podporuje TCP a každý koncový bod HC musí odpovídat kombinaci konkrétní hostitele a portu.</span><span class="sxs-lookup"><span data-stu-id="bac16-363">Hybrid Connections only supports TCP though and each HC endpoint has to match to a specific host:port combination.</span></span> 

<span data-ttu-id="bac16-364">Funkce služby App Service Environment umožňuje spustit instanci služby Azure App Service ve vaší virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="bac16-364">The App Service Environment feature allows you to run an instance of the Azure App Service in your VNet.</span></span> <span data-ttu-id="bac16-365">To umožňuje vaší aplikace přístup k prostředkům ve vaší virtuální síti bez jakékoli dodatečné kroky.</span><span class="sxs-lookup"><span data-stu-id="bac16-365">This lets your apps access resources in your VNet without any extra steps.</span></span> <span data-ttu-id="bac16-366">Některé z dalších výhod služby App Service Environment jsou, které můžete použít na základě Dv2 pracovníci s až 14 GB paměti RAM.</span><span class="sxs-lookup"><span data-stu-id="bac16-366">Some of the other benefits of an App Service Environment are that you can use Dv2 based workers with up to 14 GB of RAM.</span></span> <span data-ttu-id="bac16-367">Další výhodou je, že je možné škálovat systému podle svých potřeb.</span><span class="sxs-lookup"><span data-stu-id="bac16-367">Another benefit is that you can scale the system to meet your needs.</span></span> <span data-ttu-id="bac16-368">Na rozdíl od více klientů prostředích, kde je omezený na 20 instancí vaší ASP v App Service Environment můžete škálovat instance až 100 ASP.</span><span class="sxs-lookup"><span data-stu-id="bac16-368">Unlike the multi-tenant environments where your ASP is limited to 20 instances, in an ASE you can scale up to 100 ASP instances.</span></span> <span data-ttu-id="bac16-369">Jednou z věcí, kterou poskytuje App Service Environment, který není v rámci integrace virtuální sítě je, že služby App Service Environment může fungovat s připojení VPN pomocí ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="bac16-369">One of the things you get with an ASE that you don't with VNet Integration is that an App Service Environment can work with an ExpressRoute VPN.</span></span> 

<span data-ttu-id="bac16-370">Zatímco je, že některé použít případu překrývají, žádný z těchto funkcí můžete nahradit všechny ostatní.</span><span class="sxs-lookup"><span data-stu-id="bac16-370">While there is some use case overlap, none of these feature can replace any of the others.</span></span> <span data-ttu-id="bac16-371">Zároveň budete vědět, jaké funkci používat, je vázaný na vašim potřebám.</span><span class="sxs-lookup"><span data-stu-id="bac16-371">Knowing what feature to use is tied to your needs.</span></span> <span data-ttu-id="bac16-372">Například:</span><span class="sxs-lookup"><span data-stu-id="bac16-372">For example:</span></span>

* <span data-ttu-id="bac16-373">Pokud jste vývojář a jednoduše chcete spustit lokalitu v Azure a jeho přístup k databázi na pracovní stanici v rámci svého stolu, je ta nejjednodušší cesta používat hybridní připojení.</span><span class="sxs-lookup"><span data-stu-id="bac16-373">If you are a developer and simply want to run a site in Azure and have it access the database on the workstation under your desk, then the easiest thing to use is Hybrid Connections.</span></span> 
* <span data-ttu-id="bac16-374">Pokud jsou velké organizace, která chce velký počet webových vlastností v veřejnosti cloud a spravovat ve vlastní síti a potom chcete pomocí služby App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="bac16-374">If you are a large organization that wants to put a large number of web properties in the public cloud and manage them in your own network, then you want to go with the App Service Environment.</span></span> 
* <span data-ttu-id="bac16-375">Pokud máte několik služby App Service hostované aplikace a jednoduše má přístup k prostředkům ve vaší virtuální síti, je tento způsob si integrace virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="bac16-375">If you have a number of App Service hosted apps and simply want to access resources in your VNet, then VNet Integration is the way to go.</span></span> 

<span data-ttu-id="bac16-376">Kromě případů použití, jsou některé jednoduchost související aspekty.</span><span class="sxs-lookup"><span data-stu-id="bac16-376">Beyond the use cases, there are some simplicity related aspects.</span></span> <span data-ttu-id="bac16-377">Pokud virtuální sítě je již připojen k síti na pracovišti, pak pomocí integrace virtuální sítě nebo služby App Service Environment je snadný způsob, jak využívat místních prostředků.</span><span class="sxs-lookup"><span data-stu-id="bac16-377">If your VNet is already connected to your on-premises network, then using VNet Integration or an App Service Environment is an easy way to consume on-premises resources.</span></span> <span data-ttu-id="bac16-378">Na druhé straně Pokud virtuální sítě není připojen k síti na pracovišti je mnohem víc zásahů, pokud chcete nastavit s2s VPN s vaší virtuální sítě ve srovnání s instalací HCM.</span><span class="sxs-lookup"><span data-stu-id="bac16-378">On the other hand, if your VNet is not connected to your on-premises network then it's a lot more overhead to set up a site to site VPN with your VNet compared with installing the HCM.</span></span> 

<span data-ttu-id="bac16-379">Nad rámec funkční rozdíly, existuje jsou také ceny rozdíly.</span><span class="sxs-lookup"><span data-stu-id="bac16-379">Beyond the functional differences, there are also pricing differences.</span></span> <span data-ttu-id="bac16-380">Funkce služby App Service Environment je prémiový nabídky služeb ale nabízí nejvíce sítě možnosti konfigurace kromě dalších funkcí.</span><span class="sxs-lookup"><span data-stu-id="bac16-380">The App Service Environment feature is a Premium service offering but offers the most network configuration possibilities in addition to other great features.</span></span> <span data-ttu-id="bac16-381">Integrace virtuální sítě můžete použít s Standard nebo Premium soubory ASP a je ideální pro bezpečné použití prostředky ve virtuální síti ze víceklientské služby App Service.</span><span class="sxs-lookup"><span data-stu-id="bac16-381">VNet Integration can be used with Standard or Premium ASPs and is perfect for securely consuming resources in your VNet from the multi-tenant App Service.</span></span> <span data-ttu-id="bac16-382">Hybridní připojení se aktuálně závisí na BizTalk účtu, který má cenové úrovně, které spustit volné a potom získat progresivně nákladnější založenou na velikosti, které potřebujete.</span><span class="sxs-lookup"><span data-stu-id="bac16-382">Hybrid Connections currently depends on a BizTalk account, which has pricing levels that start free and then get progressively more expensive based on the amount you need.</span></span> <span data-ttu-id="bac16-383">Pokud jde o práce v sítích s mnoha Přestože, neexistuje žádné jiné funkce, jako je hybridní připojení, která můžete povolit přístup k prostředkům do samostatných sítí a více než 100.</span><span class="sxs-lookup"><span data-stu-id="bac16-383">When it comes to working across many networks though, there is no other feature like Hybrid Connections, which can enable you to access resources in well over 100 separate networks.</span></span> 

<!--Image references-->
[1]: ./media/web-sites-integrate-with-vnet/vnetint-upgradeplan.png
[2]: ./media/web-sites-integrate-with-vnet/vnetint-existingvnet.png
[3]: ./media/web-sites-integrate-with-vnet/vnetint-createvnet.png
[4]: ./media/web-sites-integrate-with-vnet/vnetint-howitworks.png
[5]: ./media/web-sites-integrate-with-vnet/vnetint-appmanage.png
[6]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanage.png
[7]: ./media/web-sites-integrate-with-vnet/vnetint-aspmanagedetail.png
[8]: ./media/web-sites-integrate-with-vnet/vnetint-vnetp2s.png

<!--Links-->
[VNETOverview]: http://azure.microsoft.com/documentation/articles/virtual-networks-overview/ 
[AzurePortal]: http://portal.azure.com/
[ASPricing]: http://azure.microsoft.com/pricing/details/app-service/
[VNETPricing]: http://azure.microsoft.com/pricing/details/vpn-gateway/
[DataPricing]: http://azure.microsoft.com/pricing/details/data-transfers/
[V2VNETP2S]: http://azure.microsoft.com/documentation/articles/vpn-gateway-howto-point-to-site-rm-ps/
[IntPowershell]: http://azure.microsoft.com/documentation/articles/app-service-vnet-integration-powershell/
[ASEintro]: http://docs.microsoft.com/azure/app-service/app-service-environment/intro
[ILBASE]: http://docs.microsoft.com/azure/app-service/app-service-environment/create-ilb-ase
[V2VNETPortal]: https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal
[VPNERCoex]: http://docs.microsoft.com/en-us/azure/expressroute/expressroute-howto-coexist-resource-manager
[ASE]: http://docs.microsoft.com/azure/app-service/app-service-environment/intro
