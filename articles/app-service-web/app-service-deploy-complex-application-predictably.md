---
title: "aaaProvision a nasazení mikroslužeb předvídatelné v Azure"
description: "Zjistěte, jak toodeploy aplikace skládá z mikroslužeb v Azure App Service jako na jednu jednotku a předvídatelný způsobem pomocí šablony pro skupiny prostředků JSON a skriptů prostředí PowerShell."
services: app-service
documentationcenter: 
author: cephalin
manager: erikre
editor: jimbe
ms.assetid: bb51e565-e462-4c60-929a-2ff90121f41d
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/06/2016
ms.author: cephalin
ms.openlocfilehash: d32c2fc82a8b09e89224ec437e5819b65b2e9e78
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="provision-and-deploy-microservices-predictably-in-azure"></a><span data-ttu-id="2280e-103">Zřídit a nasadit mikroslužeb předvídatelné v Azure</span><span class="sxs-lookup"><span data-stu-id="2280e-103">Provision and deploy microservices predictably in Azure</span></span>
<span data-ttu-id="2280e-104">Tento kurz ukazuje, jak tooprovision a nasazení aplikace skládá z [mikroslužeb](https://en.wikipedia.org/wiki/Microservices) v [Azure App Service](/services/app-service/) jako na jednu jednotku a předvídatelný způsobem pomocí šablony pro skupiny prostředků JSON a Skriptů prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2280e-104">This tutorial shows how tooprovision and deploy an application composed of [microservices](https://en.wikipedia.org/wiki/Microservices) in [Azure App Service](/services/app-service/) as a single unit and in a predictable manner using JSON resource group templates and PowerShell scripting.</span></span> 

<span data-ttu-id="2280e-105">Při zřizování a nasazování aplikací špičkové, které se skládají z vysoce odpojeného mikroslužeb, opakovatelnost a předvídatelnost jsou zásadní toosuccess.</span><span class="sxs-lookup"><span data-stu-id="2280e-105">When provisioning and deploying high-scale applications that are composed of highly decoupled microservices, repeatability and predictability are crucial toosuccess.</span></span> <span data-ttu-id="2280e-106">[Aplikační služba Azure](/services/app-service/) vám umožní mikroslužeb toocreate, které zahrnují webové aplikace, mobilní aplikace, aplikace API a logic apps.</span><span class="sxs-lookup"><span data-stu-id="2280e-106">[Azure App Service](/services/app-service/) enables you toocreate microservices that include web apps, mobile apps, API apps, and logic apps.</span></span> <span data-ttu-id="2280e-107">[Azure Resource Manager](../azure-resource-manager/resource-group-overview.md) umožňuje všechny hello mikroslužeb toomanage můžete jako jednotku, společně s závislosti prostředků, jako je například databáze a zdroj nastavení ovládacího prvku.</span><span class="sxs-lookup"><span data-stu-id="2280e-107">[Azure Resource Manager](../azure-resource-manager/resource-group-overview.md) enables you toomanage all hello microservices as a unit, together with resource dependencies such as database and source control settings.</span></span> <span data-ttu-id="2280e-108">Teď můžete nasadit taky takové aplikace pomocí šablony JSON a jednoduchý skriptů prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2280e-108">Now, you can also deploy such an application using JSON templates and simple PowerShell scripting.</span></span> 

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="what-you-will-do"></a><span data-ttu-id="2280e-109">Co provedete</span><span class="sxs-lookup"><span data-stu-id="2280e-109">What you will do</span></span>
<span data-ttu-id="2280e-110">V kurzu hello nasadíte aplikaci, která zahrnuje:</span><span class="sxs-lookup"><span data-stu-id="2280e-110">In hello tutorial, you will deploy an application that includes:</span></span>

* <span data-ttu-id="2280e-111">Dva webové aplikace (tj. dva mikroslužeb)</span><span class="sxs-lookup"><span data-stu-id="2280e-111">Two web apps (i.e. two microservices)</span></span>
* <span data-ttu-id="2280e-112">Back-end databáze SQL</span><span class="sxs-lookup"><span data-stu-id="2280e-112">A backend SQL Database</span></span>
* <span data-ttu-id="2280e-113">Nastavení aplikace, připojovací řetězce a Správa zdrojového kódu</span><span class="sxs-lookup"><span data-stu-id="2280e-113">App settings, connection strings, and source control</span></span>
* <span data-ttu-id="2280e-114">Application insights, výstrahy, nastavení automatického škálování</span><span class="sxs-lookup"><span data-stu-id="2280e-114">Application insights, alerts, autoscaling settings</span></span>

## <a name="tools-you-will-use"></a><span data-ttu-id="2280e-115">Nástroje, které budete používat</span><span class="sxs-lookup"><span data-stu-id="2280e-115">Tools you will use</span></span>
<span data-ttu-id="2280e-116">V tomto kurzu použijete hello následující nástroje.</span><span class="sxs-lookup"><span data-stu-id="2280e-116">In this tutorial, you will use hello following tools.</span></span> <span data-ttu-id="2280e-117">Vzhledem k tomu, že není komplexní zabývat nástroje, I bude toostick toohello začátku do konce scénář a právě získáte tooeach stručný úvod a kde můžete najít další informace o jeho.</span><span class="sxs-lookup"><span data-stu-id="2280e-117">Since it’s not comprehensive discussion on tools, I’m going toostick toohello end-to-end scenario and just give you a brief intro tooeach, and where you can find more information on it.</span></span> 

### <a name="azure-resource-manager-templates-json"></a><span data-ttu-id="2280e-118">Šablony Azure Resource Manageru (JSON)</span><span class="sxs-lookup"><span data-stu-id="2280e-118">Azure Resource Manager templates (JSON)</span></span>
<span data-ttu-id="2280e-119">Pokaždé, když vytvoříte webovou aplikaci v Azure App Service, například Azure Resource Manager používá JSON šablony toocreate hello celé skupiny prostředků s prostředky součást hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-119">Every time you create a web app in Azure App Service, for example, Azure Resource Manager uses a JSON template toocreate hello entire resource group with hello component resources.</span></span> <span data-ttu-id="2280e-120">Komplexní šablony z hello [Azure Marketplace](/marketplace) jako hello [škálovatelné WordPress](/marketplace/partners/wordpress/scalablewordpress/) aplikace mohou obsahovat hello databáze MySQL, účty úložiště, hello plán služby App Service, hello webové aplikace, pravidla výstrah, aplikace nastavení, nastavení automatického škálování a další a všechny tyto šablony jsou k dispozici tooyou pomocí prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2280e-120">A complex template from hello [Azure Marketplace](/marketplace) like hello [Scalable WordPress](/marketplace/partners/wordpress/scalablewordpress/) app can include hello MySQL database, storage accounts, hello App Service plan, hello web app itself, alert rules, app settings, autoscale settings, and more, and all these templates are available tooyou through PowerShell.</span></span> <span data-ttu-id="2280e-121">Informace o tom, jak toodownload a použijte tyto šablony, najdete v části [použití Azure Powershellu s Azure Resource Manager](../powershell-azure-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="2280e-121">For information on how toodownload and use these templates, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md).</span></span>

<span data-ttu-id="2280e-122">Další informace o šablonách Azure Resource Manager hello najdete v tématu [vytváření šablon Azure Resource Manager](../azure-resource-manager/resource-group-authoring-templates.md)</span><span class="sxs-lookup"><span data-stu-id="2280e-122">For more information on hello Azure Resource Manager templates, see [Authoring Azure Resource Manager Templates](../azure-resource-manager/resource-group-authoring-templates.md)</span></span>

### <a name="azure-sdk-26-for-visual-studio"></a><span data-ttu-id="2280e-123">2.6 Azure SDK pro Visual Studio</span><span class="sxs-lookup"><span data-stu-id="2280e-123">Azure SDK 2.6 for Visual Studio</span></span>
<span data-ttu-id="2280e-124">Hello nejnovější SDK obsahuje vylepšení toohello podpora šablony správce prostředků v editoru JSON hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-124">hello newest SDK contains improvements toohello Resource Manager template support in hello JSON editor.</span></span> <span data-ttu-id="2280e-125">Můžete použít tento tooquickly vytvořit šablonu skupiny prostředků od začátku nebo otevřete stávající šablonu JSON (například šablonu stažené galerie) pro úpravy, naplnění souboru parametrů hello a i nasazení skupiny prostředků hello přímo z Azure Skupina prostředků řešení.</span><span class="sxs-lookup"><span data-stu-id="2280e-125">You can use this tooquickly create a resource group template from scratch or open an existing JSON template (such as a downloaded gallery template) for modification, populate hello parameters file, and even deploy hello resource group directly from an Azure Resource Group solution.</span></span>

<span data-ttu-id="2280e-126">Další informace najdete v tématu [2.6 Azure SDK pro Visual Studio](https://azure.microsoft.com/blog/2015/04/29/announcing-the-azure-sdk-2-6-for-net/).</span><span class="sxs-lookup"><span data-stu-id="2280e-126">For more information, see [Azure SDK 2.6 for Visual Studio](https://azure.microsoft.com/blog/2015/04/29/announcing-the-azure-sdk-2-6-for-net/).</span></span>

### <a name="azure-powershell-080-or-later"></a><span data-ttu-id="2280e-127">Prostředí Azure PowerShell 0.8.0 nebo novější</span><span class="sxs-lookup"><span data-stu-id="2280e-127">Azure PowerShell 0.8.0 or later</span></span>
<span data-ttu-id="2280e-128">Počínaje verzí 0.8.0, zahrnuje hello prostředí Azure PowerShell instalace modulu Azure Resource Manager hello v toohello přidání modulu Azure.</span><span class="sxs-lookup"><span data-stu-id="2280e-128">Beginning in version 0.8.0, hello Azure PowerShell installation includes hello Azure Resource Manager module in addition toohello Azure module.</span></span> <span data-ttu-id="2280e-129">Tento nový modul umožňuje tooscript hello nasazení skupiny prostředků.</span><span class="sxs-lookup"><span data-stu-id="2280e-129">This new module enables you tooscript hello deployment of resource groups.</span></span>

<span data-ttu-id="2280e-130">Další informace najdete v tématu [použití Azure Powershellu s Azure Resource Manager](../powershell-azure-resource-manager.md)</span><span class="sxs-lookup"><span data-stu-id="2280e-130">For more information, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md)</span></span>

### <a name="azure-resource-explorer"></a><span data-ttu-id="2280e-131">Průzkumník prostředků Azure</span><span class="sxs-lookup"><span data-stu-id="2280e-131">Azure Resource Explorer</span></span>
<span data-ttu-id="2280e-132">To [nástroje preview](https://resources.azure.com) vám umožní tooexplore hello JSON definice všech hello skupin prostředků v předplatném a hello jednotlivé prostředky.</span><span class="sxs-lookup"><span data-stu-id="2280e-132">This [preview tool](https://resources.azure.com) enables you tooexplore hello JSON definitions of all hello resource groups in your subscription and hello individual resources.</span></span> <span data-ttu-id="2280e-133">V nástroji hello můžete upravit hello JSON definice prostředku, odstranit celou hierarchii prostředků a vytvořit nové prostředky.</span><span class="sxs-lookup"><span data-stu-id="2280e-133">In hello tool, you can edit hello JSON definitions of a resource, delete an entire hierarchy of resources, and create new resources.</span></span>  <span data-ttu-id="2280e-134">informace o Hello snadno dostupné v tento nástroj je velmi užitečné při vytváření šablony, protože ho se dozvíte, co potřebujete tooset pro konkrétní typ prostředku, hello vlastnosti opravte hodnoty atd. Můžete například vytvořit vaší skupiny prostředků v hello [portálu Azure](https://portal.azure.com/), zkontrolujte jeho definice JSON v toohelp nástroj Průzkumník hello templatize hello skupinu prostředků.</span><span class="sxs-lookup"><span data-stu-id="2280e-134">hello information readily available in this tool is very helpful for template authoring because it shows you what properties you need tooset for a particular type of resource, hello correct values, etc. You can even create your resource group in hello [Azure Portal](https://portal.azure.com/), then inspect its JSON definitions in hello explorer tool toohelp you templatize hello resource group.</span></span>

### <a name="deploy-tooazure-button"></a><span data-ttu-id="2280e-135">TooAzure tlačítko nasadit</span><span class="sxs-lookup"><span data-stu-id="2280e-135">Deploy tooAzure button</span></span>
<span data-ttu-id="2280e-136">Pokud používáte GitHub pro řízení zdrojů, které můžete vložit [nasadit tooAzure tlačítko](https://azure.microsoft.com/blog/2014/11/13/deploy-to-azure-button-for-azure-websites-2/) do vašeho souboru README. MD, která umožňuje tooAzure uživatelského rozhraní klíč nasazení.</span><span class="sxs-lookup"><span data-stu-id="2280e-136">If you use GitHub for source control, you can put a [Deploy tooAzure button](https://azure.microsoft.com/blog/2014/11/13/deploy-to-azure-button-for-azure-websites-2/) into your README.MD, which enables a turn-key deployment UI tooAzure.</span></span> <span data-ttu-id="2280e-137">Zatímco můžete provést pro všechny jednoduché webové aplikace, můžete rozšířit tento tooenable nasazení umístěním souboru azuredeploy.json v úložišti kořenové hello celé skupiny prostředků.</span><span class="sxs-lookup"><span data-stu-id="2280e-137">While you can do this for any simple web app, you can extend this tooenable deploying an entire resource group by putting an azuredeploy.json file in hello repository root.</span></span> <span data-ttu-id="2280e-138">Tento soubor JSON, který obsahuje šablony skupiny prostředků hello, použije hello nasadit tooAzure tlačítko toocreate hello skupinu prostředků.</span><span class="sxs-lookup"><span data-stu-id="2280e-138">This JSON file, which contains hello resource group template, will be used by hello Deploy tooAzure button toocreate hello resource group.</span></span> <span data-ttu-id="2280e-139">Příklad najdete v tématu hello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) vzorku, který budete používat v tomto kurzu.</span><span class="sxs-lookup"><span data-stu-id="2280e-139">For an example, see hello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) sample, which you will use in this tutorial.</span></span>

## <a name="get-hello-sample-resource-group-template"></a><span data-ttu-id="2280e-140">Získat šablony skupiny prostředků ukázka hello</span><span class="sxs-lookup"><span data-stu-id="2280e-140">Get hello sample resource group template</span></span>
<span data-ttu-id="2280e-141">Proto nyní Pojďme správné tooit.</span><span class="sxs-lookup"><span data-stu-id="2280e-141">So now let’s get right tooit.</span></span>

1. <span data-ttu-id="2280e-142">Přejděte toohello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) Ukázka aplikace služby.</span><span class="sxs-lookup"><span data-stu-id="2280e-142">Navigate toohello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) App Service sample.</span></span>
2. <span data-ttu-id="2280e-143">V readme.md, klikněte na **nasazení tooAzure**.</span><span class="sxs-lookup"><span data-stu-id="2280e-143">In readme.md, click **Deploy tooAzure**.</span></span>
3. <span data-ttu-id="2280e-144">Jste prováděné toohello [nasadit do azure](https://deploy.azure.com) parametry kladené tooinput nasazení a lokality.</span><span class="sxs-lookup"><span data-stu-id="2280e-144">You’re taken toohello [deploy-to-azure](https://deploy.azure.com) site and asked tooinput deployment parameters.</span></span> <span data-ttu-id="2280e-145">Všimněte si, že většina polí hello se naplní hello úložiště název a některé náhodného řetězce pro vás.</span><span class="sxs-lookup"><span data-stu-id="2280e-145">Notice that most of hello fields are populated with hello repository name and some random strings for you.</span></span> <span data-ttu-id="2280e-146">Všechna pole hello můžete změnit, pokud chcete, ale pouze věcí hello máte tooenter přihlášení správce systému SQL Server hello a hello heslo a pak klikněte na **Další**.</span><span class="sxs-lookup"><span data-stu-id="2280e-146">You can change all hello fields if you want, but hello only things you have tooenter are hello SQL Server administrative login and hello password, then click **Next**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-1-deploybuttonui.png)
4. <span data-ttu-id="2280e-147">Klikněte na tlačítko **nasadit** procesu nasazení toostart hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-147">Next, click **Deploy** toostart hello deployment process.</span></span> <span data-ttu-id="2280e-148">Jakmile hello proces běží toocompletion, klikněte na možnost hello http://todoapp*XXXX*. azurewebsites.net odkaz toobrowse hello nasazené aplikace.</span><span class="sxs-lookup"><span data-stu-id="2280e-148">Once hello process runs toocompletion, click hello http://todoapp*XXXX*.azurewebsites.net link toobrowse hello deployed application.</span></span> 
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-2-deployprogress.png)
   
   <span data-ttu-id="2280e-149">Hello uživatelského rozhraní může být trochu pomalé, kdy tooit nejprve procházet, protože se právě spuštění hello aplikace, ale přimět sami, že je plně funkční aplikaci.</span><span class="sxs-lookup"><span data-stu-id="2280e-149">hello UI would be a little slow when you first browse tooit because hello apps are just starting up, but convince yourself that it’s a fully-functional application.</span></span>
5. <span data-ttu-id="2280e-150">Zpět na stránku hello nasadit, klikněte na hello **spravovat** odkaz toosee hello nové aplikace v hello portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="2280e-150">Back in hello Deploy page, click hello **Manage** link toosee hello new application in hello Azure Portal.</span></span>
6. <span data-ttu-id="2280e-151">V hello **Essentials** rozevíracího seznamu, klikněte na odkaz skupinu prostředků hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-151">In hello **Essentials** dropdown, click hello resource group link.</span></span> <span data-ttu-id="2280e-152">Všimněte si také že hello webové aplikace je už připojené úložiště GitHub toohello pod **externí projektu**.</span><span class="sxs-lookup"><span data-stu-id="2280e-152">Note also that hello web app is already connected toohello GitHub repository under **External Project**.</span></span> 
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-3-portalresourcegroup.png)
7. <span data-ttu-id="2280e-153">V okně skupiny prostředků hello Všimněte si, že již existují dva webové aplikace a jedna databáze SQL ve skupině prostředků hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-153">In hello resource group blade, note that there are already two web apps and one SQL Database in hello resource group.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-4-portalresourcegroupclicked.png)

<span data-ttu-id="2280e-154">Vše, co jste viděli pouze za pár minut krátké plně nasazené dva mikroslužbu aplikace, se všemi hello součásti, závislosti, nastavení, databáze a průběžné publikování nastavil automatizované orchestration ve službě Správce prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="2280e-154">Everything that you just saw in a few short minutes is a fully deployed two-microservice application, with all hello components, dependencies, settings, database, and continuous publishing, set up by an automated orchestration in Azure Resource Manager.</span></span> <span data-ttu-id="2280e-155">Všechny tomu bylo potřeba dvě věci:</span><span class="sxs-lookup"><span data-stu-id="2280e-155">All this was done by two things:</span></span>

* <span data-ttu-id="2280e-156">tlačítko tooAzure nasadit Hello</span><span class="sxs-lookup"><span data-stu-id="2280e-156">hello Deploy tooAzure button</span></span>
* <span data-ttu-id="2280e-157">azuredeploy.JSON v úložišti kořenové hello</span><span class="sxs-lookup"><span data-stu-id="2280e-157">azuredeploy.json in hello repo root</span></span>

<span data-ttu-id="2280e-158">Můžete nasadit stejná aplikace desítek, stovek nebo tisíců časy a přesně stejnou konfiguraci hello pokaždé, když máte.</span><span class="sxs-lookup"><span data-stu-id="2280e-158">You can deploy this same application tens, hundreds, or thousands of times and have hello exact same configuration every time.</span></span> <span data-ttu-id="2280e-159">Hello opakovatelnost a hello předvídatelnost tento přístup umožňuje toodeploy špičkové aplikace s jednoduchosti a spolehlivosti.</span><span class="sxs-lookup"><span data-stu-id="2280e-159">hello repeatability and hello predictability of this approach enables you toodeploy high-scale applications with ease and confidence.</span></span>

## <a name="examine-or-edit-azuredeployjson"></a><span data-ttu-id="2280e-160">Zkontrolujte (nebo upravit) AZUREDEPLOY. JSON</span><span class="sxs-lookup"><span data-stu-id="2280e-160">Examine (or edit) AZUREDEPLOY.JSON</span></span>
<span data-ttu-id="2280e-161">Nyní podíváme, jak bylo nastaveno úložiště GitHub hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-161">Now let’s look at how hello GitHub repository was set up.</span></span> <span data-ttu-id="2280e-162">Budete používat hello JSON editor v hello .NET SDK služby Azure, takže pokud jste ještě nenainstalovali [Azure .NET SDK 2.6](/downloads/), udělejte teď.</span><span class="sxs-lookup"><span data-stu-id="2280e-162">You will be using hello JSON editor in hello Azure .NET SDK, so if you haven’t already installed [Azure .NET SDK 2.6](/downloads/), do it now.</span></span>

1. <span data-ttu-id="2280e-163">Klon hello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) úložiště pomocí vaše oblíbené git nástroje.</span><span class="sxs-lookup"><span data-stu-id="2280e-163">Clone hello [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) repository using your favorite git tool.</span></span> <span data-ttu-id="2280e-164">Na snímku obrazovky hello níže to bude to v hello Průzkumník týmových projektů v sadě Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="2280e-164">In hello screenshot below, I’m doing this in hello Team Explorer in Visual Studio 2013.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/examinejson-1-vsclone.png)
2. <span data-ttu-id="2280e-165">Z kořenového úložiště hello otevřete v sadě Visual Studio azuredeploy.json.</span><span class="sxs-lookup"><span data-stu-id="2280e-165">From hello repository root, open azuredeploy.json in Visual Studio.</span></span> <span data-ttu-id="2280e-166">Pokud nevidíte podokně hello osnovou JSON, je třeba tooinstall Azure .NET SDK.</span><span class="sxs-lookup"><span data-stu-id="2280e-166">If you don’t see hello JSON Outline pane, you need tooinstall Azure .NET SDK.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/examinejson-2-vsjsoneditor.png)

<span data-ttu-id="2280e-167">I mě není toodescribe má každý detail hello formátu JSON, ale hello [více prostředků](#resources) část obsahuje odkazy pro jazyk šablony skupiny prostředků hello učení.</span><span class="sxs-lookup"><span data-stu-id="2280e-167">I’m not going toodescribe every detail of hello JSON format, but hello [More Resources](#resources) section has links for learning hello resource group template language.</span></span> <span data-ttu-id="2280e-168">Zde právě kliknu tooshow hello zajímavé funkce, které vám pomůžou začít při vytvoření vlastní šablony pro nasazení aplikace.</span><span class="sxs-lookup"><span data-stu-id="2280e-168">Here, I’m just going tooshow you hello interesting features that can help you get started in making your own custom template for app deployment.</span></span>

### <a name="parameters"></a><span data-ttu-id="2280e-169">Parametry</span><span class="sxs-lookup"><span data-stu-id="2280e-169">Parameters</span></span>
<span data-ttu-id="2280e-170">Podívejte se na hello parametry části toosee, většinu těchto parametrů jsou jaké hello **nasazení tooAzure** tlačítko vás vyzve tooinput.</span><span class="sxs-lookup"><span data-stu-id="2280e-170">Take a look at hello parameters section toosee that most of these parameters are what hello **Deploy tooAzure** button prompts you tooinput.</span></span> <span data-ttu-id="2280e-171">Hello lokality za hello **nasazení tooAzure** tlačítko naplní hello vstup uživatelského rozhraní pomocí hello parametry definované v azuredeploy.json.</span><span class="sxs-lookup"><span data-stu-id="2280e-171">hello site behind hello **Deploy tooAzure** button populates hello input UI using hello parameters defined in azuredeploy.json.</span></span> <span data-ttu-id="2280e-172">Tyto parametry se používají v definicích prostředků hello, například názvy prostředků, hodnoty vlastností atd.</span><span class="sxs-lookup"><span data-stu-id="2280e-172">These parameters are used throughout hello resource definitions, such as resource names, property values, etc.</span></span>

### <a name="resources"></a><span data-ttu-id="2280e-173">Zdroje</span><span class="sxs-lookup"><span data-stu-id="2280e-173">Resources</span></span>
<span data-ttu-id="2280e-174">V uzlu hello prostředky uvidíte, že jsou definovány 4 nejvyšší úrovně prostředky, včetně instance systému SQL Server, plán služby App Service a dva webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="2280e-174">In hello resources node, you can see that 4 top-level resources are defined, including a SQL Server instance, an App Service plan, and two web apps.</span></span> 

#### <a name="app-service-plan"></a><span data-ttu-id="2280e-175">Plán služby App Service</span><span class="sxs-lookup"><span data-stu-id="2280e-175">App Service plan</span></span>
<span data-ttu-id="2280e-176">Začněme jednoduché kořenové úrovni prostředku v hello JSON.</span><span class="sxs-lookup"><span data-stu-id="2280e-176">Let’s start with a simple root-level resource in hello JSON.</span></span> <span data-ttu-id="2280e-177">V hello osnovou JSON, klikněte na plán služby App Service hello s názvem **[hostingPlanName]** toohighlight hello odpovídající kód JSON.</span><span class="sxs-lookup"><span data-stu-id="2280e-177">In hello JSON Outline, click hello App Service plan named **[hostingPlanName]** toohighlight hello corresponding JSON code.</span></span> 

![](./media/app-service-deploy-complex-application-predictably/examinejson-3-appserviceplan.png)

<span data-ttu-id="2280e-178">Všimněte si, že hello `type` element určuje hello řetězec pro plán služby App Service (byla volána v serverové farmě dlouhý, dlouhou dobou) a další elementy a vlastnosti jsou vyplněny pomocí hello parametry definované v souboru JSON hello a nemá tento prostředek všech vnořených prostředků.</span><span class="sxs-lookup"><span data-stu-id="2280e-178">Note that hello `type` element specifies hello string for an App Service plan (it was called a server farm a long, long time ago), and other elements and properties are filled in using hello parameters defined in hello JSON file, and this resource doesn’t have any nested resources.</span></span>

> [!NOTE]
> <span data-ttu-id="2280e-179">Všimněte si také, že hodnota hello `apiVersion` informuje Azure, kterou verzi hello REST API toouse hello prostředků definici JSON s ale může mít vliv na způsob formátování hello prostředků uvnitř hello `{}`.</span><span class="sxs-lookup"><span data-stu-id="2280e-179">Note also that hello value of `apiVersion` tells Azure which version of hello REST API toouse hello JSON resource definition with, and it can affect how hello resource should be formatted inside hello `{}`.</span></span> 
> 
> 

#### <a name="sql-server"></a><span data-ttu-id="2280e-180">SQL Server</span><span class="sxs-lookup"><span data-stu-id="2280e-180">SQL Server</span></span>
<span data-ttu-id="2280e-181">Potom klikněte na prostředek hello systému SQL Server s názvem **SQLServer** v hello osnovy JSON.</span><span class="sxs-lookup"><span data-stu-id="2280e-181">Next, click on hello SQL Server resource named **SQLServer** in hello JSON Outline.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-4-sqlserver.png)

<span data-ttu-id="2280e-182">Poznámka: hello následující o hello zvýrazněná kódu JSON:</span><span class="sxs-lookup"><span data-stu-id="2280e-182">Note hello following about hello highlighted JSON code:</span></span>

* <span data-ttu-id="2280e-183">Hello použití parametrů zajišťuje, že jsou hello vytvořit prostředky s názvem a nakonfigurovat tak, že jsou konzistentní s navzájem.</span><span class="sxs-lookup"><span data-stu-id="2280e-183">hello use of parameters ensures that hello created resources are named and configured in a way that makes them consistent with one another.</span></span>
* <span data-ttu-id="2280e-184">Hello SQLServer prostředků má dva vnořených prostředků, každá z nich má jinou hodnotu pro `type`.</span><span class="sxs-lookup"><span data-stu-id="2280e-184">hello SQLServer resource has two nested resources, each has a different value for `type`.</span></span>
* <span data-ttu-id="2280e-185">Hello vnořených prostředků v `“resources”: […]`, kde jsou definovány hello databáze a pravidel brány firewall hello, mají `dependsOn` element, který určuje ID prostředku hello hello kořenové úrovni SQLServer prostředku.</span><span class="sxs-lookup"><span data-stu-id="2280e-185">hello nested resources inside `“resources”: […]`, where hello database and hello firewall rules are defined, have a `dependsOn` element that specifies hello resource ID of hello root-level SQLServer resource.</span></span> <span data-ttu-id="2280e-186">Tato hodnota informuje Azure Resource Manager, "před vytvořením tohoto prostředku, který už musí existovat jiný prostředek; a pokud tento jiný prostředek je definován v šabloně hello, vytvořte než nejprve".</span><span class="sxs-lookup"><span data-stu-id="2280e-186">This tells Azure Resource Manager, “before you create this resource, that other resource must already exist; and if that other resource is defined in hello template, then create that one first”.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="2280e-187">Podrobné informace o tom, toouse hello `resourceId()` funkce najdete v tématu [funkce šablon Azure Resource Manager](../azure-resource-manager/resource-group-template-functions-resource.md#resourceid).</span><span class="sxs-lookup"><span data-stu-id="2280e-187">For detailed information on how toouse hello `resourceId()` function, see [Azure Resource Manager Template Functions](../azure-resource-manager/resource-group-template-functions-resource.md#resourceid).</span></span>
  > 
  > 
* <span data-ttu-id="2280e-188">Hello účinku hello `dependsOn` element je, že Azure Resource Manager mohli zjistit prostředky, ke kterým může být vytvořen paralelně a prostředky, ke kterým musí být vytvořený postupně.</span><span class="sxs-lookup"><span data-stu-id="2280e-188">hello effect of hello `dependsOn` element is that Azure Resource Manager can know which resources can be created in parallel and which resources must be created sequentially.</span></span> 

#### <a name="web-app"></a><span data-ttu-id="2280e-189">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="2280e-189">Web app</span></span>
<span data-ttu-id="2280e-190">Teď umožňuje přesunout na toohello skutečné webové aplikace sami, které jsou složitější.</span><span class="sxs-lookup"><span data-stu-id="2280e-190">Now, let’s move on toohello actual web apps themselves, which are more complicated.</span></span> <span data-ttu-id="2280e-191">Klikněte na tlačítko hello [variables('apiSiteName')] webové aplikace ve hello osnovy JSON toohighlight jeho kód JSON.</span><span class="sxs-lookup"><span data-stu-id="2280e-191">Click hello [variables(‘apiSiteName’)] web app in hello JSON Outline toohighlight its JSON code.</span></span> <span data-ttu-id="2280e-192">Můžete si všimnout, že jsou získávání věcí mnohem víc zajímavé.</span><span class="sxs-lookup"><span data-stu-id="2280e-192">You’ll notice that things are getting much more interesting.</span></span> <span data-ttu-id="2280e-193">Pro tento účel I mluvit o funkcích hello jeden po druhém:</span><span class="sxs-lookup"><span data-stu-id="2280e-193">For this purpose, I’ll talk about hello features one by one:</span></span>

##### <a name="root-resource"></a><span data-ttu-id="2280e-194">Kořenové prostředků</span><span class="sxs-lookup"><span data-stu-id="2280e-194">Root resource</span></span>
<span data-ttu-id="2280e-195">webové aplikace Hello závisí na dvou různých prostředků.</span><span class="sxs-lookup"><span data-stu-id="2280e-195">hello web app depends on two different resources.</span></span> <span data-ttu-id="2280e-196">To znamená, že Azure Resource Manager bude vytvořit webovou aplikaci hello až po obou hello, které se vytvoří plán služby App Service a hello instance systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="2280e-196">This means that Azure Resource Manager will create hello web app only after both hello App Service plan and hello SQL Server instance are created.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-5-webapproot.png)

##### <a name="app-settings"></a><span data-ttu-id="2280e-197">Nastavení aplikace</span><span class="sxs-lookup"><span data-stu-id="2280e-197">App settings</span></span>
<span data-ttu-id="2280e-198">nastavení aplikace Hello jsou také definovat jako vnořeného prostředku.</span><span class="sxs-lookup"><span data-stu-id="2280e-198">hello app settings are also defined as a nested resource.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-6-webappsettings.png)

<span data-ttu-id="2280e-199">V hello `properties` element pro `config/appsettings`, máte dvě nastavení aplikace ve formátu hello `“<name>” : “<value>”`.</span><span class="sxs-lookup"><span data-stu-id="2280e-199">In hello `properties` element for `config/appsettings`, you have two app settings in hello format `“<name>” : “<value>”`.</span></span>

* <span data-ttu-id="2280e-200">`PROJECT`je [KUDU nastavení](https://github.com/projectkudu/kudu/wiki/Customizing-deployments) , která oznamuje nasazení Azure které toouse projektu v sadě Visual Studio řešení vícenásobného projektu.</span><span class="sxs-lookup"><span data-stu-id="2280e-200">`PROJECT` is a [KUDU setting](https://github.com/projectkudu/kudu/wiki/Customizing-deployments) that tells Azure deployment which project toouse in a multi-project Visual Studio solution.</span></span> <span data-ttu-id="2280e-201">I vám ukáže, později zdrojového kódu konfiguraci, ale protože hello ToDoApp kódu je v sadě Visual Studio řešení vícenásobného projektu, je třeba, aby toto nastavení.</span><span class="sxs-lookup"><span data-stu-id="2280e-201">I will show you later how source control is configured, but since hello ToDoApp code is in a multi-project Visual Studio solution, we need this setting.</span></span>
* <span data-ttu-id="2280e-202">`clientUrl`je jednoduše aplikace nastavení tohoto kódu aplikace hello používá.</span><span class="sxs-lookup"><span data-stu-id="2280e-202">`clientUrl` is simply an app setting that hello application code uses.</span></span>

##### <a name="connection-strings"></a><span data-ttu-id="2280e-203">Připojovací řetězce</span><span class="sxs-lookup"><span data-stu-id="2280e-203">Connection strings</span></span>
<span data-ttu-id="2280e-204">Hello připojovací řetězce, je definována jako vnořeného prostředku.</span><span class="sxs-lookup"><span data-stu-id="2280e-204">hello connection strings are also defined as a nested resource.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-7-webappconnstr.png)

<span data-ttu-id="2280e-205">V hello `properties` element pro `config/connectionstrings`, každý připojovací řetězec je také definován jako dvojice názvu a hodnoty hello formátu konkrétní `“<name>” : {“value”: “…”, “type”: “…”}`.</span><span class="sxs-lookup"><span data-stu-id="2280e-205">In hello `properties` element for `config/connectionstrings`, each connection string is also defined as a name:value pair, with hello specific format of `“<name>” : {“value”: “…”, “type”: “…”}`.</span></span> <span data-ttu-id="2280e-206">Pro hello `type` elementu možné hodnoty jsou `MySql`, `SQLServer`, `SQLAzure`, a `Custom`.</span><span class="sxs-lookup"><span data-stu-id="2280e-206">For hello `type` element, possible values are `MySql`, `SQLServer`, `SQLAzure`, and `Custom`.</span></span>

> [!TIP]
> <span data-ttu-id="2280e-207">Pro konečné seznam typů řetězec připojení hello, spusťte následující příkaz v prostředí Azure PowerShell hello: \[Enum]::GetNames("Microsoft.WindowsAzure.Commands.Utilities.Websites.Services.WebEntities.DatabaseType")</span><span class="sxs-lookup"><span data-stu-id="2280e-207">For a definitive list of hello connection string types, run hello following command in Azure PowerShell: \[Enum]::GetNames("Microsoft.WindowsAzure.Commands.Utilities.Websites.Services.WebEntities.DatabaseType")</span></span>
> 
> 

##### <a name="source-control"></a><span data-ttu-id="2280e-208">Správa zdrojového kódu</span><span class="sxs-lookup"><span data-stu-id="2280e-208">Source control</span></span>
<span data-ttu-id="2280e-209">nastavení správy zdrojů Hello jsou také definovat jako vnořeného prostředku.</span><span class="sxs-lookup"><span data-stu-id="2280e-209">hello source control settings are also defined as a nested resource.</span></span> <span data-ttu-id="2280e-210">Azure Resource Manager používá toto průběžné publikování prostředků tooconfigure (viz přímý přístup paměti na `IsManualIntegration` později) a také tookick vypnout hello nasazování kódu aplikace automaticky při zpracování souboru JSON hello hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-210">Azure Resource Manager uses this resource tooconfigure continuous publishing (see caveat on `IsManualIntegration` later) and also tookick off hello deployment of application code automatically during hello processing of hello JSON file.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-8-webappsourcecontrol.png)

<span data-ttu-id="2280e-211">`RepoUrl`a `branch` by měl být poměrně intuitivní a by měla odkazovat Git toohello úložiště a hello název hello toopublish větev z.</span><span class="sxs-lookup"><span data-stu-id="2280e-211">`RepoUrl` and `branch` should be pretty intuitive and should point toohello Git repository and hello name of hello branch toopublish from.</span></span> <span data-ttu-id="2280e-212">Opakujte tyto jsou definované vstupní parametry.</span><span class="sxs-lookup"><span data-stu-id="2280e-212">Again, these are defined by input parameters.</span></span> 

<span data-ttu-id="2280e-213">Poznámka: v hello `dependsOn` element, který v toohello přidání webové aplikace prostředků, samostatně, `sourcecontrols/web` závisí také na `config/appsettings` a `config/connectionstrings`.</span><span class="sxs-lookup"><span data-stu-id="2280e-213">Note in hello `dependsOn` element that, in addition toohello web app resource itself, `sourcecontrols/web` also depends on `config/appsettings` and `config/connectionstrings`.</span></span> <span data-ttu-id="2280e-214">Důvodem je, že po `sourcecontrols/web` je nakonfigurován, hello proces nasazení Azure se automaticky pokusí toodeploy, sestavit a spustit kód aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-214">This is because once `sourcecontrols/web` is configured, hello Azure deployment process will automatically attempt toodeploy, build, and start hello application code.</span></span> <span data-ttu-id="2280e-215">Proto vkládání tuto závislost pomáhá byste se ujistit aplikace hello má nastavení přístupu toohello požadované aplikace a připojovacích řetězců před spuštěním kódu aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-215">Therefore, inserting this dependency helps you make sure that hello application has access toohello required app settings and connection strings before hello application code is run.</span></span> 

> [!NOTE]
> <span data-ttu-id="2280e-216">Všimněte si také, že `IsManualIntegration` je nastaven příliš`true`.</span><span class="sxs-lookup"><span data-stu-id="2280e-216">Note also that `IsManualIntegration` is set too`true`.</span></span> <span data-ttu-id="2280e-217">Tato vlastnost je nutné v tomto kurzu, protože ve skutečnosti nevlastníte hello úložiště GitHub a proto nelze udělit ve skutečnosti oprávnění tooAzure tooconfigure průběžné publikování z [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) (tj. push automatické úložiště aktualizací tooAzure).</span><span class="sxs-lookup"><span data-stu-id="2280e-217">This property is necessary in this tutorial because you do not actually own hello GitHub repository, and thus cannot actually grant permission tooAzure tooconfigure continuous publishing from [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) (i.e. push automatic repository updates tooAzure).</span></span> <span data-ttu-id="2280e-218">Můžete použít výchozí hodnotu hello `false` pro zadané úložiště hello pouze v případě, že jste nakonfigurovali přihlašovací údaje hello vlastníka Githubu v hello [portál Azure](https://portal.azure.com/) před.</span><span class="sxs-lookup"><span data-stu-id="2280e-218">You can use hello default value `false` for hello specified repository only if you have configured hello owner’s GitHub credentials in hello [Azure portal](https://portal.azure.com/) before.</span></span> <span data-ttu-id="2280e-219">Jinými slovy Pokud jste nastavili zdroj ovládacího prvku tooGitHub nebo BitBucket pro libovolnou aplikaci v hello [portálu Azure](https://portal.azure.com/) dříve, pomocí vaší uživatelské přihlašovací údaje, pak bude pamatovat přihlašovací údaje hello a je použít při každém nasazení žádné aplikace z Azure GitHub nebo BitBucket v budoucnu hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-219">In other words, if you have set up source control tooGitHub or BitBucket for any app in hello [Azure Portal](https://portal.azure.com/) previously, using your user credentials, then Azure will remember hello credentials and use them whenever you deploy any app from GitHub or BitBucket in hello future.</span></span> <span data-ttu-id="2280e-220">Ale pokud jste to ještě neudělali, nasazení šablony JSON hello se nezdaří při Azure Resource Manager pokusí nastavení správy zdrojů tooconfigure hello webové aplikace, protože se nemůžete přihlásit do GitHub nebo BitBucket s přihlašovacími údaji úložiště vlastníka hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-220">However, if you haven’t done this already, deployment of hello JSON template will fail when Azure Resource Manager tries tooconfigure hello web app’s source control settings because it cannot log into GitHub or BitBucket with hello repository owner’s credentials.</span></span>
> 
> 

## <a name="compare-hello-json-template-with-deployed-resource-group"></a><span data-ttu-id="2280e-221">Porovnání šablony JSON hello se skupinou nasazené prostředků</span><span class="sxs-lookup"><span data-stu-id="2280e-221">Compare hello JSON template with deployed resource group</span></span>
<span data-ttu-id="2280e-222">Zde můžete přejít pomocí okna všechny hello webové aplikace v hello [portálu Azure](https://portal.azure.com/), ale existuje jiný nástroj, který není stejně jako užitečné, pokud informace.</span><span class="sxs-lookup"><span data-stu-id="2280e-222">Here, you can go through all hello web app’s blades in hello [Azure Portal](https://portal.azure.com/), but there’s another tool that’s just as useful, if not more.</span></span> <span data-ttu-id="2280e-223">Přejděte toohello [Průzkumníka prostředků Azure](https://resources.azure.com) preview nástroj, který poskytuje reprezentaci JSON všechny skupiny zdrojů hello v rámci vašich předplatných, které jsou ve skutečnosti v hello Azure back-end.</span><span class="sxs-lookup"><span data-stu-id="2280e-223">Go toohello [Azure Resource Explorer](https://resources.azure.com) preview tool, which gives you a JSON representation of all hello resource groups in your subscriptions, as they actually exist in hello Azure backend.</span></span> <span data-ttu-id="2280e-224">Můžete také zjistit, jak hierarchie skupiny prostředků hello JSON v Azure odpovídá hello hierarchie v souboru hello šablony, který byl použit toocreate ho.</span><span class="sxs-lookup"><span data-stu-id="2280e-224">You can also see how hello resource group’s JSON hierarchy in Azure corresponds with hello hierarchy in hello template file that’s used toocreate it.</span></span>

<span data-ttu-id="2280e-225">Například když přejít toohello [Průzkumníka prostředků Azure](https://resources.azure.com) nástroje a rozbalte uzly hello v Průzkumníku hello, zobrazují se skupina prostředků hello a hello kořenové úrovni prostředky, které byly shromážděny v jejich typy příslušných prostředků.</span><span class="sxs-lookup"><span data-stu-id="2280e-225">For example, when I go toohello [Azure Resource Explorer](https://resources.azure.com) tool and expand hello nodes in hello explorer, I can see hello resource group and hello root-level resources that are collected under their respective resource types.</span></span>

![](./media/app-service-deploy-complex-application-predictably/ARM-1-treeview.png)

<span data-ttu-id="2280e-226">Pokud přejdete k podrobnostem tooa webové aplikace, měli byste mít možnost toosee webové aplikace konfigurace podrobnosti podobné toohello následující snímek obrazovky:</span><span class="sxs-lookup"><span data-stu-id="2280e-226">If you drill down tooa web app, you should be able toosee web app configuration details similar toohello below screenshot:</span></span>

![](./media/app-service-deploy-complex-application-predictably/ARM-2-jsonview.png)

<span data-ttu-id="2280e-227">Znovu hello vnořených prostředků by měl mít velmi podobné toothose hierarchie v souboru šablony JSON a měli byste vidět nastavení aplikace hello připojovací řetězce, atd., správně odrážela v podokně hello JSON.</span><span class="sxs-lookup"><span data-stu-id="2280e-227">Again, hello nested resources should have a hierarchy very similar toothose in your JSON template file, and you should see hello app settings, connection strings, etc., properly reflected in hello JSON pane.</span></span> <span data-ttu-id="2280e-228">nastavení v tomto poli chybí Hello může značit problém s souboru JSON a může pomoci při odstraňování souboru šablony JSON.</span><span class="sxs-lookup"><span data-stu-id="2280e-228">hello absence of settings here may indicate an issue with your JSON file and can help you troubleshoot your JSON template file.</span></span>

## <a name="deploy-hello-resource-group-template-yourself"></a><span data-ttu-id="2280e-229">Nasazení šablony skupiny prostředků hello sami</span><span class="sxs-lookup"><span data-stu-id="2280e-229">Deploy hello resource group template yourself</span></span>
<span data-ttu-id="2280e-230">Hello **nasazení tooAzure** tlačítko je skvělé, ale umožňuje vám šablony skupiny prostředků hello toodeploy v azuredeploy.json pouze v případě, že jste již nabídnutých azuredeploy.json tooGitHub.</span><span class="sxs-lookup"><span data-stu-id="2280e-230">hello **Deploy tooAzure** button is great, but it allows you toodeploy hello resource group template in azuredeploy.json only if you have already pushed azuredeploy.json tooGitHub.</span></span> <span data-ttu-id="2280e-231">Hello Azure .NET SDK také poskytuje hello nástroje pro toodeploy jste žádné soubor šablony JSON přímo z vašeho místního počítače.</span><span class="sxs-lookup"><span data-stu-id="2280e-231">hello Azure .NET SDK also provides hello tools for you toodeploy any JSON template file directly from your local machine.</span></span> <span data-ttu-id="2280e-232">toodo tento, postupujte podle kroků hello níže:</span><span class="sxs-lookup"><span data-stu-id="2280e-232">toodo this, follow hello steps below:</span></span>

1. <span data-ttu-id="2280e-233">V sadě Visual Studio, klikněte na tlačítko **soubor** > **nový** > **projektu**.</span><span class="sxs-lookup"><span data-stu-id="2280e-233">In Visual Studio, click **File** > **New** > **Project**.</span></span>
2. <span data-ttu-id="2280e-234">Klikněte na tlačítko **Visual C#** > **cloudu** > **skupiny prostředků Azure**, pak klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="2280e-234">Click **Visual C#** > **Cloud** > **Azure Resource Group**, then click **OK**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-1-vsproject.png)
3. <span data-ttu-id="2280e-235">V **vybrat šablonu Azure**, vyberte **prázdné šablonu** a klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="2280e-235">In **Select Azure Template**, select **Blank Template** and click **OK**.</span></span>
4. <span data-ttu-id="2280e-236">Přetáhněte azuredeploy.json do hello **šablony** složky nový projekt.</span><span class="sxs-lookup"><span data-stu-id="2280e-236">Drag azuredeploy.json into hello **Template** folder of your new project.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-2-copyjson.png)
5. <span data-ttu-id="2280e-237">V Průzkumníku řešení otevřete azuredeploy.json hello zkopírovali.</span><span class="sxs-lookup"><span data-stu-id="2280e-237">From Solution Explorer, open hello copied azuredeploy.json.</span></span>
6. <span data-ttu-id="2280e-238">Jenom pro hello zájmu ukázkový text hello, přidejme některé standardní informace o aplikaci prostředky tooour soubor JSON, kliknutím na **přidat prostředek**.</span><span class="sxs-lookup"><span data-stu-id="2280e-238">Just for hello sake of hello demonstration, let’s add some standard Application Insight resources tooour JSON file, by clicking **Add Resource**.</span></span> <span data-ttu-id="2280e-239">Pokud vás zajímá jenom nasazení hello soubor JSON, přeskočte toohello kroky nasazení.</span><span class="sxs-lookup"><span data-stu-id="2280e-239">If you’re just interested in deploying hello JSON file, skip toohello deploy steps.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-3-newresource.png)
7. <span data-ttu-id="2280e-240">Vyberte **Application Insights pro webové aplikace**, pak se ujistěte, že je vybrána existující aplikaci plán a webové služby App Service a pak klikněte na tlačítko **přidat**.</span><span class="sxs-lookup"><span data-stu-id="2280e-240">Select **Application Insights for Web Apps**, then make sure an existing App Service plan and web app is selected, and then click **Add**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-4-newappinsight.png)
   
   <span data-ttu-id="2280e-241">Nyní budete mít možnost toosee několik nových prostředků, že v závislosti na hello prostředků a jakým způsobem se mají závislosti na buď hello webové aplikace App Service plán nebo hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-241">You’ll now be able toosee several new resources that, depending on hello resource and what it does, have dependencies on either hello App Service plan or hello web app.</span></span> <span data-ttu-id="2280e-242">Tyto prostředky nejsou povolené podle jejich stávající definice a budete toochange který.</span><span class="sxs-lookup"><span data-stu-id="2280e-242">These resources are not enabled by their existing definition and you’re going toochange that.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-5-appinsightresources.png)
8. <span data-ttu-id="2280e-243">V hello osnovou JSON, klikněte na **appInsights škálování** toohighlight jeho kód JSON.</span><span class="sxs-lookup"><span data-stu-id="2280e-243">In hello JSON Outline, click **appInsights AutoScale** toohighlight its JSON code.</span></span> <span data-ttu-id="2280e-244">Toto je hello škálování nastavení pro plán služby App Service.</span><span class="sxs-lookup"><span data-stu-id="2280e-244">This is hello scaling setting for your App Service plan.</span></span>
9. <span data-ttu-id="2280e-245">V hello zvýrazněný kód JSON, vyhledejte hello `location` a `enabled` vlastnosti a nastavte je, jak je uvedeno níže.</span><span class="sxs-lookup"><span data-stu-id="2280e-245">In hello highlighted JSON code, locate hello `location` and `enabled` properties and set them as shown below.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-6-autoscalesettings.png)
10. <span data-ttu-id="2280e-246">V hello osnovou JSON, klikněte na **CPUHigh appInsights** toohighlight jeho kód JSON.</span><span class="sxs-lookup"><span data-stu-id="2280e-246">In hello JSON Outline, click **CPUHigh appInsights** toohighlight its JSON code.</span></span> <span data-ttu-id="2280e-247">Toto je upozornění.</span><span class="sxs-lookup"><span data-stu-id="2280e-247">This is an alert.</span></span>
11. <span data-ttu-id="2280e-248">Vyhledejte hello `location` a `isEnabled` vlastnosti a nastavte je, jak je uvedeno níže.</span><span class="sxs-lookup"><span data-stu-id="2280e-248">Locate hello `location` and `isEnabled` properties and set them as shown below.</span></span> <span data-ttu-id="2280e-249">Hello stejné pro hello další tři výstrahy (fialové žárovky).</span><span class="sxs-lookup"><span data-stu-id="2280e-249">Do hello same for hello other three alerts (purple bulbs).</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-7-alerts.png)
12. <span data-ttu-id="2280e-250">Nyní jste toodeploy připraven.</span><span class="sxs-lookup"><span data-stu-id="2280e-250">You’re now ready toodeploy.</span></span> <span data-ttu-id="2280e-251">Klikněte pravým tlačítkem na projekt hello a vyberte **nasadit** > **nové nasazení**.</span><span class="sxs-lookup"><span data-stu-id="2280e-251">Right-click hello project and select **Deploy** > **New Deployment**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-8-newdeployment.png)
13. <span data-ttu-id="2280e-252">Přihlaste se k účtu Azure, pokud jste tak již neučinili.</span><span class="sxs-lookup"><span data-stu-id="2280e-252">Log into your Azure account if you haven’t already done so.</span></span>
14. <span data-ttu-id="2280e-253">Vyberte existující skupinu prostředků ve vašem předplatném nebo vytvořte novou jeden, vyberte **azuredeploy.json**a potom klikněte na **upravit parametry**.</span><span class="sxs-lookup"><span data-stu-id="2280e-253">Select an existing resource group in your subscription or create a new one, select **azuredeploy.json**, and then click **Edit Parameters**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-9-deployconfig.png)
    
    <span data-ttu-id="2280e-254">Nyní budete moct tooedit všechny parametry hello definované v souboru šablony hello dobrý tabulky.</span><span class="sxs-lookup"><span data-stu-id="2280e-254">You’ll now be able tooedit all hello parameters defined in hello template file in a nice table.</span></span> <span data-ttu-id="2280e-255">Parametry, které definují výchozí hodnoty budou již máte výchozí hodnoty a parametry, které definují seznam povolených hodnot se zobrazí jako rozevírací seznamy.</span><span class="sxs-lookup"><span data-stu-id="2280e-255">Parameters that define defaults will already have their default values, and parameters that define a list of allowed values will be shown as dropdowns.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-10-parametereditor.png)
15. <span data-ttu-id="2280e-256">Zadejte všechny parametry prázdný hello a použít hello [adresu úložišti GitHub pro ToDoApp](https://github.com/azure-appservice-samples/ToDoApp.git) v **repoUrl**.</span><span class="sxs-lookup"><span data-stu-id="2280e-256">Fill in all hello empty parameters, and use hello [GitHub repo address for ToDoApp](https://github.com/azure-appservice-samples/ToDoApp.git) in **repoUrl**.</span></span> <span data-ttu-id="2280e-257">Potom klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="2280e-257">Then, click **Save**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-11-parametereditorfilled.png)
    
    > [!NOTE]
    > <span data-ttu-id="2280e-258">Automatické škálování je funkce, které nabízí v **standardní** vrstvě nebo vyšší a plán úroveň výstrahy jsou funkce nenabízí **základní** úroveň, nebo vyšší, budete potřebovat tooset hello **sku** parametr příliš**standardní** nebo **Premium** v pořadí toosee všechny nové aplikace Insights prostředky světla nahoru.</span><span class="sxs-lookup"><span data-stu-id="2280e-258">Autoscaling is a feature offered in **Standard** tier or higher, and plan-level alerts are features offered in **Basic** tier or higher, you’ll need tooset hello **sku** parameter too**Standard** or **Premium** in order toosee all your new App Insights resources light up.</span></span>
    > 
    > 
16. <span data-ttu-id="2280e-259">Klikněte na tlačítko **nasazení**.</span><span class="sxs-lookup"><span data-stu-id="2280e-259">Click **Deploy**.</span></span> <span data-ttu-id="2280e-260">Pokud jste vybrali **ukládat hesla**, hello heslo bude uloženo v souboru parametrů hello **ve formátu prostého textu**.</span><span class="sxs-lookup"><span data-stu-id="2280e-260">If you selected **Save passwords**, hello password will be saved in hello parameter file **in plain text**.</span></span> <span data-ttu-id="2280e-261">Jinak zobrazí se výzva heslo k databázi hello tooinput během procesu nasazení hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-261">Otherwise, you’ll be asked tooinput hello database password during hello deployment process.</span></span>

<span data-ttu-id="2280e-262">A to je vše!</span><span class="sxs-lookup"><span data-stu-id="2280e-262">That’s it!</span></span> <span data-ttu-id="2280e-263">Teď stačí toogo toohello [portálu Azure](https://portal.azure.com/) a hello [Průzkumníka prostředků Azure](https://resources.azure.com) nástroj toosee hello nové výstrahy a nastavení automatického škálování přidat tooyour JSON nasazené aplikace.</span><span class="sxs-lookup"><span data-stu-id="2280e-263">Now you just need toogo toohello [Azure Portal](https://portal.azure.com/) and hello [Azure Resource Explorer](https://resources.azure.com) tool toosee hello new alerts and autoscale settings added tooyour JSON deployed application.</span></span>

<span data-ttu-id="2280e-264">Vaše kroky v této části především udělat hello následující:</span><span class="sxs-lookup"><span data-stu-id="2280e-264">Your steps in this section mainly accomplished hello following:</span></span>

1. <span data-ttu-id="2280e-265">Soubor šablony připravené hello</span><span class="sxs-lookup"><span data-stu-id="2280e-265">Prepared hello template file</span></span>
2. <span data-ttu-id="2280e-266">Vytvoření parametr souboru toogo pomocí souboru šablony hello</span><span class="sxs-lookup"><span data-stu-id="2280e-266">Created a parameter file toogo with hello template file</span></span>
3. <span data-ttu-id="2280e-267">Soubor šablony nasazené hello souborem parametr hello</span><span class="sxs-lookup"><span data-stu-id="2280e-267">Deployed hello template file with hello parameter file</span></span>

<span data-ttu-id="2280e-268">poslední krok Hello je snadno provést pomocí rutiny prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="2280e-268">hello last step is easily done by a PowerShell cmdlet.</span></span> <span data-ttu-id="2280e-269">toosee co Visual Studio se po jeho nasazení vaší Scripts\Deploy-AzureResourceGroup.ps1 aplikace, otevřete.</span><span class="sxs-lookup"><span data-stu-id="2280e-269">toosee what Visual Studio did when it deployed your application, open Scripts\Deploy-AzureResourceGroup.ps1.</span></span> <span data-ttu-id="2280e-270">Existuje mnoho kódu existuje, ale právě kliknu toohighlight všechny příslušné kód hello budete potřebovat soubor šablony hello toodeploy souborem parametr hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-270">There’s a lot of code there, but I’m just going toohighlight all hello pertinent code you need toodeploy hello template file with hello parameter file.</span></span>

![](./media/app-service-deploy-complex-application-predictably/deploy-12-powershellsnippet.png)

<span data-ttu-id="2280e-271">Hello poslední rutiny `New-AzureResourceGroup`, je hello ten, který ve skutečnosti provádí akce hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-271">hello last cmdlet, `New-AzureResourceGroup`, is hello one that actually performs hello action.</span></span> <span data-ttu-id="2280e-272">To vše prokázat, že hello pomoci nástrojů, je relativně jednoduché toodeploy tooyou vaší cloudové aplikace předvídatelné.</span><span class="sxs-lookup"><span data-stu-id="2280e-272">All this should demonstrate tooyou that, with hello help of tooling, it is relatively straightforward toodeploy your cloud application predictably.</span></span> <span data-ttu-id="2280e-273">Pokaždé, když hello rutina se spouští na hello stejné šablony s hello stejný soubor parametrů, budete tooget hello stejného výsledku.</span><span class="sxs-lookup"><span data-stu-id="2280e-273">Every time you run hello cmdlet on hello same template with hello same parameter file, you’re going tooget hello same result.</span></span>

## <a name="summary"></a><span data-ttu-id="2280e-274">Souhrn</span><span class="sxs-lookup"><span data-stu-id="2280e-274">Summary</span></span>
<span data-ttu-id="2280e-275">V DevOps opakovatelnost a předvídatelnost jsou klíče tooany úspěšné nasazení velkého rozsahu aplikace skládá z mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="2280e-275">In DevOps, repeatability and predictability are keys tooany successful deployment of a high-scale application composed of microservices.</span></span> <span data-ttu-id="2280e-276">V tomto kurzu jste nasadili dva mikroslužbu aplikace tooAzure jako jedna skupina prostředků pomocí šablony Azure Resource Manager hello.</span><span class="sxs-lookup"><span data-stu-id="2280e-276">In this tutorial, you have deployed a two-microservice application tooAzure as a single resource group using hello Azure Resource Manager template.</span></span> <span data-ttu-id="2280e-277">Doufáme, vám poskytla hello znalostní báze v pořadí toostart převodu šablonu aplikace v Azure a můžete zřídit a nasadit ji předvídatelné.</span><span class="sxs-lookup"><span data-stu-id="2280e-277">Hopefully, it has given you hello knowledge you need in order toostart converting your application in Azure into a template and can provision and deploy it predictably.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="2280e-278">Další kroky</span><span class="sxs-lookup"><span data-stu-id="2280e-278">Next Steps</span></span>
<span data-ttu-id="2280e-279">Zjistěte, jak příliš[použít agilní metod a průběžně snadno publikovat svoji aplikaci mikroslužeb](app-service-agile-software-development.md) a pokročilé techniky nasazení jako [flighting nasazení](app-service-web-test-in-production-controlled-test-flight.md) snadno.</span><span class="sxs-lookup"><span data-stu-id="2280e-279">Find out how too[apply agile methodologies and continuously publish your microservices application with ease](app-service-agile-software-development.md) and advanced deployment techniques like [flighting deployment](app-service-web-test-in-production-controlled-test-flight.md) easily.</span></span>

<a name="resources"></a>

## <a name="more-resources"></a><span data-ttu-id="2280e-280">Další zdroje informací</span><span class="sxs-lookup"><span data-stu-id="2280e-280">More resources</span></span>
* [<span data-ttu-id="2280e-281">Jazyk šablony Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2280e-281">Azure Resource Manager Template Language</span></span>](../azure-resource-manager/resource-group-authoring-templates.md)
* [<span data-ttu-id="2280e-282">Vytváření šablon Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2280e-282">Authoring Azure Resource Manager Templates</span></span>](../azure-resource-manager/resource-group-authoring-templates.md)
* [<span data-ttu-id="2280e-283">Funkce šablony Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2280e-283">Azure Resource Manager Template Functions</span></span>](../azure-resource-manager/resource-group-template-functions.md)
* [<span data-ttu-id="2280e-284">Nasazení aplikace pomocí šablony Azure Resource Manageru</span><span class="sxs-lookup"><span data-stu-id="2280e-284">Deploy an application with Azure Resource Manager template</span></span>](../azure-resource-manager/resource-group-template-deploy.md)
* [<span data-ttu-id="2280e-285">Použití Azure PowerShellu s Azure Resource Managerem</span><span class="sxs-lookup"><span data-stu-id="2280e-285">Using Azure PowerShell with Azure Resource Manager</span></span>](../azure-resource-manager/powershell-azure-resource-manager.md)
* [<span data-ttu-id="2280e-286">Řešení potíží s nasazením skupin prostředků v Azure</span><span class="sxs-lookup"><span data-stu-id="2280e-286">Troubleshooting Resource Group Deployments in Azure</span></span>](../azure-resource-manager/resource-manager-common-deployment-errors.md)

