---
title: "aaaSlow webové aplikace výkonu ve službě App Service | Microsoft Docs"
description: "Tento článek vám pomůže vyřešit problémy s výkonem pomalé webových aplikací ve službě Azure App Service."
services: app-service\web
documentationcenter: 
author: cephalin
manager: erikre
editor: 
tags: top-support-issue
keywords: "webové aplikace výkonu, pomalé aplikace, aplikace pomalé"
ms.assetid: b8783c10-3a4a-4dd6-af8c-856baafbdde5
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/03/2016
ms.author: cephalin
ms.openlocfilehash: 3e56b99b48db0e7baae1fac797a7fcb9eff74c9e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-slow-web-app-performance-issues-in-azure-app-service"></a><span data-ttu-id="6f46c-104">Řešení potíží s výkonem pomalé webové aplikace v Azure App Service</span><span class="sxs-lookup"><span data-stu-id="6f46c-104">Troubleshoot slow web app performance issues in Azure App Service</span></span>
<span data-ttu-id="6f46c-105">Tento článek vám pomůže vyřešit problémy s výkonem pomalé webové aplikace v [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span><span class="sxs-lookup"><span data-stu-id="6f46c-105">This article helps you troubleshoot slow web app performance issues in [Azure App Service](http://go.microsoft.com/fwlink/?LinkId=529714).</span></span>

<span data-ttu-id="6f46c-106">Pokud potřebujete další pomoc v libovolném bodě v tomto článku, obraťte se na hello Azure odborníky na [hello MSDN Azure a hello Stack Overflow fóra](https://azure.microsoft.com/support/forums/).</span><span class="sxs-lookup"><span data-stu-id="6f46c-106">If you need more help at any point in this article, you can contact hello Azure experts on [hello MSDN Azure and hello Stack Overflow forums](https://azure.microsoft.com/support/forums/).</span></span> <span data-ttu-id="6f46c-107">Alternativně můžete také soubor incidentu podpory Azure.</span><span class="sxs-lookup"><span data-stu-id="6f46c-107">Alternatively, you can also file an Azure support incident.</span></span> <span data-ttu-id="6f46c-108">Přejděte toohello [podporu Azure lokality](https://azure.microsoft.com/support/options/) a klikněte na **získat podporu**.</span><span class="sxs-lookup"><span data-stu-id="6f46c-108">Go toohello [Azure Support site](https://azure.microsoft.com/support/options/) and click on **Get Support**.</span></span>

## <a name="symptom"></a><span data-ttu-id="6f46c-109">Příznaky</span><span class="sxs-lookup"><span data-stu-id="6f46c-109">Symptom</span></span>
<span data-ttu-id="6f46c-110">Při procházení hello webové aplikace hello stránky zatížení pomalu a někdy časový limit.</span><span class="sxs-lookup"><span data-stu-id="6f46c-110">When you browse hello web app, hello pages load slowly and sometimes timeout.</span></span>

## <a name="cause"></a><span data-ttu-id="6f46c-111">Příčina</span><span class="sxs-lookup"><span data-stu-id="6f46c-111">Cause</span></span>
<span data-ttu-id="6f46c-112">Tento problém je často způsoben problémy na úrovni aplikací, například:</span><span class="sxs-lookup"><span data-stu-id="6f46c-112">This problem is often caused by application level issues, such as:</span></span>

* <span data-ttu-id="6f46c-113">požadavky sítě trvá příliš dlouho</span><span class="sxs-lookup"><span data-stu-id="6f46c-113">network requests taking a long time</span></span>
* <span data-ttu-id="6f46c-114">kód nebo databáze dotazy aplikace probíhá neefektivní</span><span class="sxs-lookup"><span data-stu-id="6f46c-114">application code or database queries being inefficient</span></span>
* <span data-ttu-id="6f46c-115">aplikace pomocí vysoké paměti nebo procesoru</span><span class="sxs-lookup"><span data-stu-id="6f46c-115">application using high memory/CPU</span></span>
* <span data-ttu-id="6f46c-116">selhání kvůli výjimce tooan aplikace</span><span class="sxs-lookup"><span data-stu-id="6f46c-116">application crashing due tooan exception</span></span>

## <a name="troubleshooting-steps"></a><span data-ttu-id="6f46c-117">Řešení potíží</span><span class="sxs-lookup"><span data-stu-id="6f46c-117">Troubleshooting steps</span></span>
<span data-ttu-id="6f46c-118">Řešení potíží s jde rozdělit na tři samostatné úkoly v sekvenčním pořadí:</span><span class="sxs-lookup"><span data-stu-id="6f46c-118">Troubleshooting can be divided into three distinct tasks, in sequential order:</span></span>

1. [<span data-ttu-id="6f46c-119">Sledovat a monitorovat chování aplikace</span><span class="sxs-lookup"><span data-stu-id="6f46c-119">Observe and monitor application behavior</span></span>](#observe)
2. [<span data-ttu-id="6f46c-120">Shromažďování dat</span><span class="sxs-lookup"><span data-stu-id="6f46c-120">Collect data</span></span>](#collect)
3. [<span data-ttu-id="6f46c-121">Zmírnění hello problém</span><span class="sxs-lookup"><span data-stu-id="6f46c-121">Mitigate hello issue</span></span>](#mitigate)

<span data-ttu-id="6f46c-122">[App Service Web Apps](/services/app-service/web/) nabízí různé možnosti v každém kroku.</span><span class="sxs-lookup"><span data-stu-id="6f46c-122">[App Service Web Apps](/services/app-service/web/) gives you various options at each step.</span></span>

<a name="observe" />

### <a name="1-observe-and-monitor-application-behavior"></a><span data-ttu-id="6f46c-123">1. Sledovat a monitorovat chování aplikace</span><span class="sxs-lookup"><span data-stu-id="6f46c-123">1. Observe and monitor application behavior</span></span>
#### <a name="track-service-health"></a><span data-ttu-id="6f46c-124">Sledování stavu služby</span><span class="sxs-lookup"><span data-stu-id="6f46c-124">Track Service health</span></span>
<span data-ttu-id="6f46c-125">Microsoft Azure publicizes pokaždé, když je služba došlo k přerušení nebo výkonu snížení.</span><span class="sxs-lookup"><span data-stu-id="6f46c-125">Microsoft Azure publicizes each time there is a service interruption or performance degradation.</span></span> <span data-ttu-id="6f46c-126">Stav hello hello služby můžete sledovat na hello [portál Azure](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="6f46c-126">You can track hello health of hello service on hello [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="6f46c-127">Další informace najdete v tématu [sledovat stav služeb](../monitoring-and-diagnostics/insights-service-health.md).</span><span class="sxs-lookup"><span data-stu-id="6f46c-127">For more information, see [Track service health](../monitoring-and-diagnostics/insights-service-health.md).</span></span>

#### <a name="monitor-your-web-app"></a><span data-ttu-id="6f46c-128">Monitorování webové aplikace</span><span class="sxs-lookup"><span data-stu-id="6f46c-128">Monitor your web app</span></span>
<span data-ttu-id="6f46c-129">Tato možnost umožňuje toofind out, pokud vaše aplikace je žádné problémy s.</span><span class="sxs-lookup"><span data-stu-id="6f46c-129">This option enables you toofind out if your application is having any issues.</span></span> <span data-ttu-id="6f46c-130">V okně vaší webové aplikace, klikněte na tlačítko hello **požadavky a chyby** dlaždici.</span><span class="sxs-lookup"><span data-stu-id="6f46c-130">In your web app’s blade, click hello **Requests and errors** tile.</span></span> <span data-ttu-id="6f46c-131">Hello **metrika** okno se dozvíte, můžete přidat všechny hello metriky.</span><span class="sxs-lookup"><span data-stu-id="6f46c-131">hello **Metric** blade shows you all hello metrics you can add.</span></span>

<span data-ttu-id="6f46c-132">Některé hello metriky, můžete toomonitor pro vaši webovou aplikaci</span><span class="sxs-lookup"><span data-stu-id="6f46c-132">Some of hello metrics that you might want toomonitor for your web app are</span></span>

* <span data-ttu-id="6f46c-133">Průměrná paměti pracovní sady</span><span class="sxs-lookup"><span data-stu-id="6f46c-133">Average memory working set</span></span>
* <span data-ttu-id="6f46c-134">Průměrná doba odezvy</span><span class="sxs-lookup"><span data-stu-id="6f46c-134">Average response time</span></span>
* <span data-ttu-id="6f46c-135">Čas procesoru</span><span class="sxs-lookup"><span data-stu-id="6f46c-135">CPU time</span></span>
* <span data-ttu-id="6f46c-136">Paměť pracovní sady</span><span class="sxs-lookup"><span data-stu-id="6f46c-136">Memory working set</span></span>
* <span data-ttu-id="6f46c-137">Požadavky</span><span class="sxs-lookup"><span data-stu-id="6f46c-137">Requests</span></span>

![sledování výkonu webové aplikace](./media/app-service-web-troubleshoot-performance-degradation/1-monitor-metrics.png)

<span data-ttu-id="6f46c-139">Další informace naleznete v tématu:</span><span class="sxs-lookup"><span data-stu-id="6f46c-139">For more information, see:</span></span>

* [<span data-ttu-id="6f46c-140">Monitorování webové aplikace v Azure App Service</span><span class="sxs-lookup"><span data-stu-id="6f46c-140">Monitor Web Apps in Azure App Service</span></span>](web-sites-monitor.md)
* [<span data-ttu-id="6f46c-141">Zobrazování oznámení o výstrahách</span><span class="sxs-lookup"><span data-stu-id="6f46c-141">Receive alert notifications</span></span>](../monitoring-and-diagnostics/insights-receive-alert-notifications.md)

#### <a name="monitor-web-endpoint-status"></a><span data-ttu-id="6f46c-142">Sledování stavu webových koncový bod</span><span class="sxs-lookup"><span data-stu-id="6f46c-142">Monitor web endpoint status</span></span>
<span data-ttu-id="6f46c-143">Pokud používáte webovou aplikaci v hello **standardní** cenovou úroveň, webových aplikací umožňuje monitorovat dva koncové body ze tří zeměpisné umístění.</span><span class="sxs-lookup"><span data-stu-id="6f46c-143">If you are running your web app in hello **Standard** pricing tier, Web Apps lets you monitor two endpoints from three geographic locations.</span></span>

<span data-ttu-id="6f46c-144">Monitorování koncového bodu nakonfiguruje webové testy z geograficky distribuovaná umístění, které doba odezvy a provozu adres URL webových testů.</span><span class="sxs-lookup"><span data-stu-id="6f46c-144">Endpoint monitoring configures web tests from geo-distributed locations that test response time and uptime of web URLs.</span></span> <span data-ttu-id="6f46c-145">Hello test provádí operaci HTTP GET s hello webové adresy URL toodetermine hello doba odezvy a doby provozu z každé umístění.</span><span class="sxs-lookup"><span data-stu-id="6f46c-145">hello test performs an HTTP GET operation on hello web URL toodetermine hello response time and uptime from each location.</span></span> <span data-ttu-id="6f46c-146">Každé nakonfigurovaná umístění spouští test každých pět minut.</span><span class="sxs-lookup"><span data-stu-id="6f46c-146">Each configured location runs a test every five minutes.</span></span>

<span data-ttu-id="6f46c-147">Doba provozu je monitorován pomocí kódů odpovědi HTTP a doba odezvy se měří v milisekundách.</span><span class="sxs-lookup"><span data-stu-id="6f46c-147">Uptime is monitored using HTTP response codes, and response time is measured in milliseconds.</span></span> <span data-ttu-id="6f46c-148">Test monitorování selže, pokud hello kódu odpovědi HTTP je větší než nebo rovna too400 nebo pokud odpověď hello trvá déle než 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="6f46c-148">A monitoring test fails if hello HTTP response code is greater than or equal too400 or if hello response takes more than 30 seconds.</span></span> <span data-ttu-id="6f46c-149">Koncový bod je považován za dostupný, pokud jeho monitorovací testy úspěšné ze všech hello zadané umístění.</span><span class="sxs-lookup"><span data-stu-id="6f46c-149">An endpoint is considered available if its monitoring tests succeed from all hello specified locations.</span></span>

<span data-ttu-id="6f46c-150">tooset ho, najdete v části [monitorování aplikací v Azure App Service](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="6f46c-150">tooset it up, see [Monitor apps in Azure App Service](web-sites-monitor.md).</span></span>

<span data-ttu-id="6f46c-151">Další informace naleznete v [zachování weby Azure až plus monitorování koncového bodu - s Stefan Schackow](https://channel9.msdn.com/Shows/Azure-Friday/Keeping-Azure-Web-Sites-up-plus-Endpoint-Monitoring-with-Stefan-Schackow) video o monitorování koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="6f46c-151">Also, see [Keeping Azure Web Sites up plus Endpoint Monitoring - with Stefan Schackow](https://channel9.msdn.com/Shows/Azure-Friday/Keeping-Azure-Web-Sites-up-plus-Endpoint-Monitoring-with-Stefan-Schackow) for a video on endpoint monitoring.</span></span>

#### <a name="application-performance-monitoring-using-extensions"></a><span data-ttu-id="6f46c-152">Monitorování výkonu aplikací pomocí rozšíření</span><span class="sxs-lookup"><span data-stu-id="6f46c-152">Application performance monitoring using Extensions</span></span>
<span data-ttu-id="6f46c-153">Můžete taky sledovat výkon aplikací pomocí *lokality rozšíření*.</span><span class="sxs-lookup"><span data-stu-id="6f46c-153">You can also monitor your application performance by using *site extensions*.</span></span>

<span data-ttu-id="6f46c-154">Každý webové aplikace App Service poskytuje rozšiřitelný správy koncový bod, který vám umožní toouse výkonnou sadu nástrojů, které jsou nasazeny jako rozšíření lokality.</span><span class="sxs-lookup"><span data-stu-id="6f46c-154">Each App Service web app provides an extensible management end point that allows you toouse a powerful set of tools deployed as site extensions.</span></span> <span data-ttu-id="6f46c-155">Rozšíření zahrnují:</span><span class="sxs-lookup"><span data-stu-id="6f46c-155">Extensions include:</span></span> 

- <span data-ttu-id="6f46c-156">Jako zdrojový kód editory [Visual Studio Team Services](https://www.visualstudio.com/products/what-is-visual-studio-online-vs.aspx).</span><span class="sxs-lookup"><span data-stu-id="6f46c-156">Source code editors like [Visual Studio Team Services](https://www.visualstudio.com/products/what-is-visual-studio-online-vs.aspx).</span></span> 
- <span data-ttu-id="6f46c-157">Nástroje pro správu pro připojené prostředkům, například databáze MySQL připojen tooa webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="6f46c-157">Management tools for connected resources such as a MySQL database connected tooa web app.</span></span>

<span data-ttu-id="6f46c-158">[Azure Application Insights](/services/application-insights/) a [New Relic](/marketplace/partners/newrelic/newrelic/) jsou dvě rozšíření webů, které jsou k dispozici pro monitorování výkonu hello.</span><span class="sxs-lookup"><span data-stu-id="6f46c-158">[Azure Application Insights](/services/application-insights/) and [New Relic](/marketplace/partners/newrelic/newrelic/) are two of hello performance monitoring site extensions that are available.</span></span> <span data-ttu-id="6f46c-159">toouse New Relic, nainstalujte agenta za běhu.</span><span class="sxs-lookup"><span data-stu-id="6f46c-159">toouse New Relic, you install an agent at runtime.</span></span> <span data-ttu-id="6f46c-160">toouse Azure Application Insights, opětovném vytvoření kódu pomocí sady SDK a můžete také nainstalovat rozšíření, které poskytuje přístup k datům tooadditional.</span><span class="sxs-lookup"><span data-stu-id="6f46c-160">toouse Azure Application Insights, you rebuild your code with an SDK, and you can also install an extension that provides access tooadditional data.</span></span> <span data-ttu-id="6f46c-161">Hello SDK umožňuje psát kód toomonitor hello využití a výkonu vaší aplikace podrobněji.</span><span class="sxs-lookup"><span data-stu-id="6f46c-161">hello SDK lets you write code toomonitor hello usage and performance of your app in more detail.</span></span>

<span data-ttu-id="6f46c-162">toouse Application Insights, najdete v části [sledování výkonu ve webových aplikacích](../application-insights/app-insights-web-monitor-performance.md).</span><span class="sxs-lookup"><span data-stu-id="6f46c-162">toouse Application Insights, see [Monitor performance in web applications](../application-insights/app-insights-web-monitor-performance.md).</span></span>

<span data-ttu-id="6f46c-163">toouse New Relic, najdete v části [nové Správa výkonu aplikací New Relic v Azure](../store-new-relic-cloud-services-dotnet-application-performance-management.md).</span><span class="sxs-lookup"><span data-stu-id="6f46c-163">toouse New Relic, see [New Relic Application Performance Management on Azure](../store-new-relic-cloud-services-dotnet-application-performance-management.md).</span></span>

<a name="collect" />

### <a name="2-collect-data"></a><span data-ttu-id="6f46c-164">2. Shromažďování dat</span><span class="sxs-lookup"><span data-stu-id="6f46c-164">2. Collect data</span></span>
<span data-ttu-id="6f46c-165">prostředí webové aplikace Hello poskytuje diagnostické funkce pro protokolování informací z hello webový server a hello webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="6f46c-165">hello Web Apps environment provides diagnostic functionality for logging information from both hello web server and hello web application.</span></span> <span data-ttu-id="6f46c-166">informace o Hello je rozdělené na webový server diagnostics a application diagnostics.</span><span class="sxs-lookup"><span data-stu-id="6f46c-166">hello information is separated into web server diagnostics and application diagnostics.</span></span>

#### <a name="enable-web-server-diagnostics"></a><span data-ttu-id="6f46c-167">Povolte diagnostiku webového serveru</span><span class="sxs-lookup"><span data-stu-id="6f46c-167">Enable web server diagnostics</span></span>
<span data-ttu-id="6f46c-168">Můžete povolit nebo zakázat hello následující typy protokolů:</span><span class="sxs-lookup"><span data-stu-id="6f46c-168">You can enable or disable hello following kinds of logs:</span></span>

* <span data-ttu-id="6f46c-169">**Podrobné protokolování chyb** -podrobné informace o chybě pro stavové kódy HTTP, které indikují chybu (kód stavu 400 nebo vyšší).</span><span class="sxs-lookup"><span data-stu-id="6f46c-169">**Detailed Error Logging** - Detailed error information for HTTP status codes that indicate a failure (status code 400 or greater).</span></span> <span data-ttu-id="6f46c-170">To může obsahovat informace, které vám mohou pomoci určit, proč hello server vrátil kód chyby hello.</span><span class="sxs-lookup"><span data-stu-id="6f46c-170">This may contain information that can help determine why hello server returned hello error code.</span></span>
* <span data-ttu-id="6f46c-171">**Se nezdařilo, trasování požadavku** -podrobné informace o chybných žádostech, včetně trasování hello IIS komponenty používané tooprocess hello požadavku a hello doba v jednotlivých součástí.</span><span class="sxs-lookup"><span data-stu-id="6f46c-171">**Failed Request Tracing** - Detailed information on failed requests, including a trace of hello IIS components used tooprocess hello request and hello time taken in each component.</span></span> <span data-ttu-id="6f46c-172">To může být užitečné, pokud se pokoušíte výkon tooimprove webové aplikace nebo izolovat, co ho způsobuje. konkrétní chyba protokolu HTTP.</span><span class="sxs-lookup"><span data-stu-id="6f46c-172">This can be useful if you are attempting tooimprove web app performance or isolate what is causing a specific HTTP error.</span></span>
* <span data-ttu-id="6f46c-173">**Webový Server protokolování** -informace o použití formátu souborů protokolu rozšířené hello W3C transakce HTTP.</span><span class="sxs-lookup"><span data-stu-id="6f46c-173">**Web Server Logging** - Information about HTTP transactions using hello W3C extended log file format.</span></span> <span data-ttu-id="6f46c-174">To je užitečné, když chcete určit celkový metriky webové aplikace, například hello počet požadavků zpracovaných nebo je počet požadavků z konkrétní IP adresu.</span><span class="sxs-lookup"><span data-stu-id="6f46c-174">This is useful when determining overall web app metrics, such as hello number of requests handled or how many requests are from a specific IP address.</span></span>

#### <a name="enable-application-diagnostics"></a><span data-ttu-id="6f46c-175">Povolit rozhraní application diagnostics</span><span class="sxs-lookup"><span data-stu-id="6f46c-175">Enable application diagnostics</span></span>
<span data-ttu-id="6f46c-176">Existuje několik možností toocollect údaje o výkonu aplikací z webové aplikace, profil aplikace za provozu ze sady Visual Studio nebo změnit toolog kódu vaší aplikace, další informace a trasování.</span><span class="sxs-lookup"><span data-stu-id="6f46c-176">There are several options toocollect application performance data from Web Apps, profile your application live from Visual Studio, or modify your application code toolog more information and traces.</span></span> <span data-ttu-id="6f46c-177">Můžete zvolit možnosti hello založené na tom, kolik přístup máte aplikaci toohello a zjištěnými hello nástroje pro sledování.</span><span class="sxs-lookup"><span data-stu-id="6f46c-177">You can choose hello options based on how much access you have toohello application and what you observed from hello monitoring tools.</span></span>

##### <a name="use-application-insights-profiler"></a><span data-ttu-id="6f46c-178">Pomocí nástroje Application Insights Profiler</span><span class="sxs-lookup"><span data-stu-id="6f46c-178">Use Application Insights Profiler</span></span>
<span data-ttu-id="6f46c-179">Můžete povolit toostart Application Insights profileru hello zaznamenávání podrobné výkonu trasování.</span><span class="sxs-lookup"><span data-stu-id="6f46c-179">You can enable hello Application Insights Profiler toostart capturing detailed performance traces.</span></span> <span data-ttu-id="6f46c-180">Můžete přistupovat trasování zachytit až toofive, když potřebujete tooinvestigate problémy před dny došlo v posledních hello.</span><span class="sxs-lookup"><span data-stu-id="6f46c-180">You can access traces captured up toofive days ago when you need tooinvestigate problems happened in hello past.</span></span> <span data-ttu-id="6f46c-181">Tuto možnost můžete také mají přístup toohello webové aplikace na prostředek Application Insights na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="6f46c-181">You can choose this option as long as you have access toohello web app's Application Insights resource on Azure portal.</span></span>

<span data-ttu-id="6f46c-182">Application Insights profileru obsahuje statistiky doba odezvy pro každé volání webové a trasování, která určuje, které řádek kódu způsobila hello pomalé odezvy.</span><span class="sxs-lookup"><span data-stu-id="6f46c-182">Application Insights Profiler provides statistics on response time for each web call and traces that indicates which line of code caused hello slow responses.</span></span> <span data-ttu-id="6f46c-183">Někdy hello aplikaci služby App Service je pomalý, protože není určitý kód napsaný v původce způsobem.</span><span class="sxs-lookup"><span data-stu-id="6f46c-183">Sometimes hello App Service app is slow because certain code is not written in a performant way.</span></span> <span data-ttu-id="6f46c-184">Mezi příklady patří sekvenční kód, který se může spouštět ve kolizí zámků paralelní a nežádoucí databáze.</span><span class="sxs-lookup"><span data-stu-id="6f46c-184">Examples include sequential code that can be run in parallel and undesired database lock contentions.</span></span> <span data-ttu-id="6f46c-185">Odebrání těchto kritická místa v hello kódu zvyšuje výkon aplikace hello, ale jsou pevné toodetect bez nastavování vypracovala trasování a protokoly.</span><span class="sxs-lookup"><span data-stu-id="6f46c-185">Removing these bottlenecks in hello code increases hello app's performance, but they are hard toodetect without setting up elaborate traces and logs.</span></span> <span data-ttu-id="6f46c-186">trasování Hello získané nástrojem Application Insights profileru pomáhá identifikace hello řádků kódu, který zpomaluje hello aplikace a vyřešit tento problém pro aplikace služby App Service.</span><span class="sxs-lookup"><span data-stu-id="6f46c-186">hello traces collected by Application Insights Profiler helps identifying hello lines of code that slows down hello application and overcome this challenge for App Service apps.</span></span>

 <span data-ttu-id="6f46c-187">Další informace najdete v tématu [profilování za provozu Azure web apps s Application Insights](../application-insights/app-insights-profiler.md).</span><span class="sxs-lookup"><span data-stu-id="6f46c-187">For more information, see [Profiling live Azure web apps with Application Insights](../application-insights/app-insights-profiler.md).</span></span>

##### <a name="use-remote-profiling"></a><span data-ttu-id="6f46c-188">Použití vzdálené profilování</span><span class="sxs-lookup"><span data-stu-id="6f46c-188">Use Remote Profiling</span></span>
<span data-ttu-id="6f46c-189">Ve službě Azure App Service Web Apps, aplikace API a webové úlohy může být vzdáleně profilovaným.</span><span class="sxs-lookup"><span data-stu-id="6f46c-189">In Azure App Service, Web Apps, API Apps, and WebJobs can be remotely profiled.</span></span> <span data-ttu-id="6f46c-190">Tuto možnost zvolte, pokud máte přístup toohello webové aplikace prostředků a víte, jak tooreproduce hello problém nebo pokud znáte přesnou hello se stane čas interval hello týkající se výkonu.</span><span class="sxs-lookup"><span data-stu-id="6f46c-190">Choose this option if you have access toohello web app resource and you know how tooreproduce hello issue, or if you know hello exact time interval hello performance issue happens.</span></span>

<span data-ttu-id="6f46c-191">Je užitečné, pokud hello využití CPU procesem hello je vysoká a váš proces běží něco pomalejší, než se očekávalo, nebo hello latence požadavky HTTP jsou vyšší než normální, můžete vzdáleně profilu váš proces a získat hello procesoru vzorkování volání zásobníky tooanalyze vzdálené profilování Hello proces aktivity a aktivní cesty kódu.</span><span class="sxs-lookup"><span data-stu-id="6f46c-191">Remote Profiling is useful if hello CPU usage of hello process is high and your process is running slower than expected, or hello latency of HTTP requests are higher than normal, you can remotely profile your process and get hello CPU sampling call stacks tooanalyze hello process activity and code hot paths.</span></span>

<span data-ttu-id="6f46c-192">Další informace najdete v tématu [vzdálené profilování podpory v Azure App Service](https://azure.microsoft.com/blog/remote-profiling-support-in-azure-app-service).</span><span class="sxs-lookup"><span data-stu-id="6f46c-192">For more information, see [Remote Profiling support in Azure App Service](https://azure.microsoft.com/blog/remote-profiling-support-in-azure-app-service).</span></span>

##### <a name="set-up-diagnostic-traces-manually"></a><span data-ttu-id="6f46c-193">Ručně nastavit diagnostické trasování</span><span class="sxs-lookup"><span data-stu-id="6f46c-193">Set up diagnostic traces manually</span></span>
<span data-ttu-id="6f46c-194">Pokud máte přístup toohello webové aplikace zdrojového kódu, rozhraní Application diagnostics můžete informace o toocapture vytvořil webovou aplikací.</span><span class="sxs-lookup"><span data-stu-id="6f46c-194">If you have access toohello web application source code, Application diagnostics enables you toocapture information produced by a web application.</span></span> <span data-ttu-id="6f46c-195">Aplikace ASP.NET můžete použít hello `System.Diagnostics.Trace` rozhraní application diagnostics třída toolog informace toohello protokolu.</span><span class="sxs-lookup"><span data-stu-id="6f46c-195">ASP.NET applications can use hello `System.Diagnostics.Trace` class toolog information toohello application diagnostics log.</span></span> <span data-ttu-id="6f46c-196">Ale musíte toochange hello kód a znovu nasaďte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="6f46c-196">However, you need toochange hello code and redeploy your application.</span></span> <span data-ttu-id="6f46c-197">Tato metoda se doporučuje, když aplikace běží v testovacím prostředí.</span><span class="sxs-lookup"><span data-stu-id="6f46c-197">This method is recommended if your app is running on a testing environment.</span></span>

<span data-ttu-id="6f46c-198">Podrobné pokyny najdete v aplikaci pro protokolování tooconfigure [povolit protokolování diagnostiky pro webové aplikace v Azure App Service](web-sites-enable-diagnostic-log.md).</span><span class="sxs-lookup"><span data-stu-id="6f46c-198">For detailed instructions on how tooconfigure your application for logging, see [Enable diagnostics logging for web apps in Azure App Service](web-sites-enable-diagnostic-log.md).</span></span>

#### <a name="use-hello-azure-app-service-support-portal"></a><span data-ttu-id="6f46c-199">Pomocí portálu pro podporu služby Azure App Service hello</span><span class="sxs-lookup"><span data-stu-id="6f46c-199">Use hello Azure App Service support portal</span></span>
<span data-ttu-id="6f46c-200">Web Apps poskytuje hello možnost tootroubleshoot problémy související tooyour webové aplikace prohlížením HTTP protokoly, protokoly událostí, výpisy procesů a další.</span><span class="sxs-lookup"><span data-stu-id="6f46c-200">Web Apps provides you with hello ability tootroubleshoot issues related tooyour web app by looking at HTTP logs, event logs, process dumps, and more.</span></span> <span data-ttu-id="6f46c-201">Dostanete tyto informace pomocí náš portál podpory v **http://&lt;název aplikace >.scm.azurewebsites.net/Support**</span><span class="sxs-lookup"><span data-stu-id="6f46c-201">You can access all this information using our Support portal at **http://&lt;your app name>.scm.azurewebsites.net/Support**</span></span>

<span data-ttu-id="6f46c-202">portál podporu Hello Azure App Service nabízí tři samostatné karty toosupport hello tři kroky běžné scénáře řešení potíží:</span><span class="sxs-lookup"><span data-stu-id="6f46c-202">hello Azure App Service support portal provides you with three separate tabs toosupport hello three steps of a common troubleshooting scenario:</span></span>

1. <span data-ttu-id="6f46c-203">Sledovat aktuální chování</span><span class="sxs-lookup"><span data-stu-id="6f46c-203">Observe current behavior</span></span>
2. <span data-ttu-id="6f46c-204">Analýza shromažďování diagnostické informace a spuštěním hello předdefinované analyzátory</span><span class="sxs-lookup"><span data-stu-id="6f46c-204">Analyze by collecting diagnostics information and running hello built-in analyzers</span></span>
3. <span data-ttu-id="6f46c-205">Zmírnění</span><span class="sxs-lookup"><span data-stu-id="6f46c-205">Mitigate</span></span>

<span data-ttu-id="6f46c-206">Pokud problém hello se děje nyní, klikněte na **analyzovat** > **diagnostiky** > **diagnostikovat teď** toocreate diagnostické relaci, který shromažďuje protokoly HTTP, protokoly Prohlížeče událostí, výpisy paměti, protokoly chyb PHP a sestava procesu PHP.</span><span class="sxs-lookup"><span data-stu-id="6f46c-206">If hello issue is happening right now, click **Analyze** > **Diagnostics** > **Diagnose Now** toocreate a diagnostic session for you, which collects HTTP logs, event viewer logs, memory dumps, PHP error logs, and PHP process report.</span></span>

<span data-ttu-id="6f46c-207">Jakmile hello data jsou shromažďována, hello podporu portál spouští analýzu dat hello a vám poskytne sestavu ve formátu HTML.</span><span class="sxs-lookup"><span data-stu-id="6f46c-207">Once hello data is collected, hello support portal runs an analysis on hello data and provides you with an HTML report.</span></span>

<span data-ttu-id="6f46c-208">V případě, že chcete toodownload hello data, ve výchozím nastavení, by je uložená ve složce D:\home\data\DaaS hello.</span><span class="sxs-lookup"><span data-stu-id="6f46c-208">In case you want toodownload hello data, by default, it would be stored in hello D:\home\data\DaaS folder.</span></span>

<span data-ttu-id="6f46c-209">Další informace o portálu podporu hello Azure App Service naleznete v tématu [tooSupport nové aktualizace rozšíření lokality pro weby sady Azure](https://azure.microsoft.com/blog/new-updates-to-support-site-extension-for-azure-websites).</span><span class="sxs-lookup"><span data-stu-id="6f46c-209">For more information on hello Azure App Service support portal, see [New Updates tooSupport Site Extension for Azure Websites](https://azure.microsoft.com/blog/new-updates-to-support-site-extension-for-azure-websites).</span></span>

#### <a name="use-hello-kudu-debug-console"></a><span data-ttu-id="6f46c-210">Použití hello konzoly ladění modulu Kudu</span><span class="sxs-lookup"><span data-stu-id="6f46c-210">Use hello Kudu Debug Console</span></span>
<span data-ttu-id="6f46c-211">Webové aplikace se dodává s konzolou pro ladění, který můžete použít pro ladění, prohlížení, nahrávání souborů a také koncové body JSON pro získání informací o vašem prostředí.</span><span class="sxs-lookup"><span data-stu-id="6f46c-211">Web Apps comes with a debug console that you can use for debugging, exploring, uploading files, as well as JSON endpoints for getting information about your environment.</span></span> <span data-ttu-id="6f46c-212">Tato konzola se nazývá hello *Kudu konzoly* nebo hello *řídicí panel SCM* pro vaši webovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="6f46c-212">This console is called hello *Kudu Console* or hello *SCM Dashboard* for your web app.</span></span>

<span data-ttu-id="6f46c-213">Tento řídicí panel můžete přejít pomocí odkazu přejdete toohello **https://&lt;název aplikace >.scm.azurewebsites.net/**.</span><span class="sxs-lookup"><span data-stu-id="6f46c-213">You can access this dashboard by going toohello link **https://&lt;Your app name>.scm.azurewebsites.net/**.</span></span>

<span data-ttu-id="6f46c-214">Jsou některé hello věcí, které Kudu poskytuje:</span><span class="sxs-lookup"><span data-stu-id="6f46c-214">Some of hello things that Kudu provides are:</span></span>

* <span data-ttu-id="6f46c-215">nastavení prostředí pro vaši aplikaci</span><span class="sxs-lookup"><span data-stu-id="6f46c-215">environment settings for your application</span></span>
* <span data-ttu-id="6f46c-216">datový proud protokolu</span><span class="sxs-lookup"><span data-stu-id="6f46c-216">log stream</span></span>
* <span data-ttu-id="6f46c-217">diagnostické výpis</span><span class="sxs-lookup"><span data-stu-id="6f46c-217">diagnostic dump</span></span>
* <span data-ttu-id="6f46c-218">ladění konzoly, ve kterém můžete spouštět rutiny prostředí Powershell a základních příkazů DOS.</span><span class="sxs-lookup"><span data-stu-id="6f46c-218">debug console in which you can run Powershell cmdlets and basic DOS commands.</span></span>

<span data-ttu-id="6f46c-219">Další užitečné funkce Kudu je, že v případě, že aplikace je vyvolání first chance výjimek, můžete použít Kudu a výpisů hello SysInternals nástroj Procdump toocreate paměti.</span><span class="sxs-lookup"><span data-stu-id="6f46c-219">Another useful feature of Kudu is that, in case your application is throwing first-chance exceptions, you can use Kudu and hello SysInternals tool Procdump toocreate memory dumps.</span></span> <span data-ttu-id="6f46c-220">Tyto výpisy paměti jsou snímky hello procesu a často může pomoci při odstraňování složitějších problémů s vaší webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="6f46c-220">These memory dumps are snapshots of hello process and can often help you troubleshoot more complicated issues with your web app.</span></span>

<span data-ttu-id="6f46c-221">Další informace o funkcích, které jsou k dispozici v Kudu, najdete v části [nástroje Azure weby Team Services byste měli vědět o](https://azure.microsoft.com/blog/windows-azure-websites-online-tools-you-should-know-about/).</span><span class="sxs-lookup"><span data-stu-id="6f46c-221">For more information on features available in Kudu, see [Azure Websites Team Services tools you should know about](https://azure.microsoft.com/blog/windows-azure-websites-online-tools-you-should-know-about/).</span></span>

<a name="mitigate" />

### <a name="3-mitigate-hello-issue"></a><span data-ttu-id="6f46c-222">3. Zmírnění hello problém</span><span class="sxs-lookup"><span data-stu-id="6f46c-222">3. Mitigate hello issue</span></span>
#### <a name="scale-hello-web-app"></a><span data-ttu-id="6f46c-223">Škálování hello webové aplikace</span><span class="sxs-lookup"><span data-stu-id="6f46c-223">Scale hello web app</span></span>
<span data-ttu-id="6f46c-224">Ve službě Azure App Service pro vyšší výkon a propustnost, můžete upravit hello škálování, ve kterém je spuštěná vaše aplikace.</span><span class="sxs-lookup"><span data-stu-id="6f46c-224">In Azure App Service, for increased performance and throughput,  you can adjust hello scale at which you are running your application.</span></span> <span data-ttu-id="6f46c-225">Škálování webovou aplikaci zahrnuje dvě souvisejících akcích: Změna vašeho plánu služby App Service tooa vyšší cenové úrovně a konfigurace určitá nastavení po Přepnuli jste toohello vyšší cenová úroveň.</span><span class="sxs-lookup"><span data-stu-id="6f46c-225">Scaling up a web app involves two related actions: changing your App Service plan tooa higher pricing tier, and configuring certain settings after you have switched toohello higher pricing tier.</span></span>

<span data-ttu-id="6f46c-226">Další informace o škálování najdete v tématu [škálování webové aplikace v Azure App Service](web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="6f46c-226">For more information on scaling, see [Scale a web app in Azure App Service](web-sites-scale.md).</span></span>

<span data-ttu-id="6f46c-227">Kromě toho můžete zvolit toorun aplikaci na více než jednu instanci.</span><span class="sxs-lookup"><span data-stu-id="6f46c-227">Additionally, you can choose toorun your application on more than one instance.</span></span> <span data-ttu-id="6f46c-228">Horizontální navýšení kapacity pouze vám poskytne další schopnosti zpracování, ale také vám dává některé množství odolnost proti chybám.</span><span class="sxs-lookup"><span data-stu-id="6f46c-228">Scaling out not only provides you with more processing capability, but also gives you some amount of fault tolerance.</span></span> <span data-ttu-id="6f46c-229">Pokud proces hello přestane fungovat na jednu instanci, hello ostatní instance pokračovat tooserve požadavky.</span><span class="sxs-lookup"><span data-stu-id="6f46c-229">If hello process goes down on one instance, hello other instances continue tooserve requests.</span></span>

<span data-ttu-id="6f46c-230">Můžete nastavit hello toobe ruční nebo automatické škálování.</span><span class="sxs-lookup"><span data-stu-id="6f46c-230">You can set hello scaling toobe Manual or Automatic.</span></span>

#### <a name="use-autoheal"></a><span data-ttu-id="6f46c-231">Pomocí funkce AutoHeal</span><span class="sxs-lookup"><span data-stu-id="6f46c-231">Use AutoHeal</span></span>
<span data-ttu-id="6f46c-232">Funkce AutoHeal recykluje pracovní proces hello pro vaši aplikaci na základě nastavení, které zvolíte (jako jsou změny konfigurace, požadavky, omezení na základě paměti nebo hello čas potřeby tooexecute požadavek).</span><span class="sxs-lookup"><span data-stu-id="6f46c-232">AutoHeal recycles hello worker process for your app based on settings you choose (like configuration changes, requests, memory-based limits, or hello time needed tooexecute a request).</span></span> <span data-ttu-id="6f46c-233">Většinu času hello recyklaci hello proces je hello nejrychlejší způsob, jak toorecover po chybě.</span><span class="sxs-lookup"><span data-stu-id="6f46c-233">Most of hello time, recycle hello process is hello fastest way toorecover from a problem.</span></span> <span data-ttu-id="6f46c-234">I když můžete vždy restartovat hello webové aplikace z přímo v rámci hello portálu Azure, funkce AutoHeal provede se automaticky.</span><span class="sxs-lookup"><span data-stu-id="6f46c-234">Though you can always restart hello web app from directly within hello Azure portal, AutoHeal does it automatically for you.</span></span> <span data-ttu-id="6f46c-235">Toodo stačí je přidat některé aktivační události v hello kořenovém souboru web.config pro vaši webovou aplikaci.</span><span class="sxs-lookup"><span data-stu-id="6f46c-235">All you need toodo is add some triggers in hello root web.config for your web app.</span></span> <span data-ttu-id="6f46c-236">By tato nastavení fungují v hello stejný způsobem, i když se vaše aplikace není aplikace .net.</span><span class="sxs-lookup"><span data-stu-id="6f46c-236">These settings would work in hello same way even if your application is not a .Net app.</span></span>

<span data-ttu-id="6f46c-237">Další informace najdete v tématu [automatické opravy weby Azure](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites/).</span><span class="sxs-lookup"><span data-stu-id="6f46c-237">For more information, see [Auto-Healing Azure Web Sites](https://azure.microsoft.com/blog/auto-healing-windows-azure-web-sites/).</span></span>

#### <a name="restart-hello-web-app"></a><span data-ttu-id="6f46c-238">Restartujte hello webové aplikace</span><span class="sxs-lookup"><span data-stu-id="6f46c-238">Restart hello web app</span></span>
<span data-ttu-id="6f46c-239">Restartování je často hello nejjednodušší způsob, jak toorecover z jednorázových problémů.</span><span class="sxs-lookup"><span data-stu-id="6f46c-239">Restarting is often hello simplest way toorecover from one-time issues.</span></span> <span data-ttu-id="6f46c-240">Na hello [portál Azure](https://portal.azure.com/), v okně vaší webové aplikace, máte hello možnosti toostop nebo restartujte aplikaci.</span><span class="sxs-lookup"><span data-stu-id="6f46c-240">On hello [Azure portal](https://portal.azure.com/), on your web app’s blade, you have hello options toostop or restart your app.</span></span>

 ![Restartujte problémy s výkonem toosolve webových aplikací](./media/app-service-web-troubleshoot-performance-degradation/2-restart.png)

<span data-ttu-id="6f46c-242">Můžete také spravovat webové aplikace pomocí Azure Powershell.</span><span class="sxs-lookup"><span data-stu-id="6f46c-242">You can also manage your web app using Azure Powershell.</span></span> <span data-ttu-id="6f46c-243">Další informace najdete v tématu [Použití Azure PowerShellu s Azure Resource Managerem](../powershell-azure-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="6f46c-243">For more information, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md).</span></span>
