---
title: "aaaGeo distribuované škálování s prostředí App Service"
description: "Zjistěte, jak toohorizontally škálování aplikace pomocí Traffic Manageru a prostředí App Service geo rozdělení."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: c1b05ca8-3703-4d87-a9ae-819d741787fb
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: stefsch
ms.openlocfilehash: 9b441f637d8b7f679b3d83240baf99b8ee57e8f3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="geo-distributed-scale-with-app-service-environments"></a><span data-ttu-id="c9441-103">Geograficky distribuované škálování v prostředí App Service Environments</span><span class="sxs-lookup"><span data-stu-id="c9441-103">Geo Distributed Scale with App Service Environments</span></span>
## <a name="overview"></a><span data-ttu-id="c9441-104">Přehled</span><span class="sxs-lookup"><span data-stu-id="c9441-104">Overview</span></span>
<span data-ttu-id="c9441-105">Scénáře aplikací, které vyžadují velmi vysoký škálování může být vyšší než hello výpočetních prostředků kapacity k dispozici tooa jedno nasazení aplikace.</span><span class="sxs-lookup"><span data-stu-id="c9441-105">Application scenarios which require very high scale can exceed hello compute resource capacity available tooa single deployment of an app.</span></span>  <span data-ttu-id="c9441-106">Hlasování aplikace, sportovní události a události televizní Zábava jsou všechny příklady scénářů, které vyžadují velmi velkém rozsahu.</span><span class="sxs-lookup"><span data-stu-id="c9441-106">Voting applications, sporting events, and televised entertainment events are all examples of scenarios that require extremely high scale.</span></span> <span data-ttu-id="c9441-107">Měřítko požadavky lze splnit vodorovně škálování aplikace s více nasazení aplikací, které jsou určené v jedné oblasti, a také v oblastech, toohandle extrémně zatížení požadavky.</span><span class="sxs-lookup"><span data-stu-id="c9441-107">High scale requirements can be met by horizontally scaling out apps, with multiple app deployments being made within a single region, as well as across regions, toohandle extreme load requirements.</span></span>

<span data-ttu-id="c9441-108">Služby App Service Environment jsou ideální platformu pro horizontální škálování.  Po konfiguraci služby App Service Environment nebyla vybrána podporující rychlost známé požadavků, vývojáři můžete nasadit další prostředí App Service v "soubor cookie ořezávání" způsobem tooattain zatížení ve špičce požadovanou kapacitou.</span><span class="sxs-lookup"><span data-stu-id="c9441-108">App Service Environments are an ideal platform for horizontal scale out.  Once an App Service Environment configuration has been selected that can support a known request rate, developers can deploy additional App Service Environments in "cookie cutter" fashion tooattain a desired peak load capacity.</span></span>

<span data-ttu-id="c9441-109">Předpokládejme například, že aplikace spuštěné v konfiguraci služby App Service Environment byl otestovaný toohandle 20 K požadavků za sekundu (RPS).</span><span class="sxs-lookup"><span data-stu-id="c9441-109">For example suppose an app running on an App Service Environment configuration has been tested toohandle 20K requests per second (RPS).</span></span>  <span data-ttu-id="c9441-110">Pokud zatížení ve špičce požadované hello kapacita je 100 tisíc RPS, pět (5) prostředí App Service je možné vytvořit a nakonfigurované tooensure hello aplikace dokáže zvládat hello maximální předpokládané zatížení.</span><span class="sxs-lookup"><span data-stu-id="c9441-110">If hello desired peak load capacity is 100K RPS, then five (5) App Service Environments can be created and configured tooensure hello application can handle hello maximum projected load.</span></span>

<span data-ttu-id="c9441-111">Vzhledem k tomu, že zákazníci obvykle přístup aplikací pomocí vlastní (nebo jednoduché) domény, třeba vývojáři aplikace na způsob toodistribute požadavků ve všech instancí služby App Service Environment hello.</span><span class="sxs-lookup"><span data-stu-id="c9441-111">Since customers typically access apps using a custom (or vanity) domain, developers need a way toodistribute app requests across all of hello App Service Environment instances.</span></span>  <span data-ttu-id="c9441-112">Skvělý způsob tooaccomplish, to je tooresolve hello vlastní doménu pomocí [profilu Azure Traffic Manageru][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="c9441-112">A great way tooaccomplish this is tooresolve hello custom domain using an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="c9441-113">Hello Traffic Manager profil může být nakonfigurované toopoint všechny hello jednotlivých prostředí App Service.</span><span class="sxs-lookup"><span data-stu-id="c9441-113">hello Traffic Manager profile can be configured toopoint at all of hello individual App Service Environments.</span></span>  <span data-ttu-id="c9441-114">Traffic Manager automaticky zpracuje, distribuovat zákazníkům napříč všemi hello prostředí App Service v závislosti na nastavení v profilu služby Traffic Manager hello služby Vyrovnávání zatížení hello.</span><span class="sxs-lookup"><span data-stu-id="c9441-114">Traffic Manager will automatically handle distributing customers across all of hello App Service Environments based on hello load balancing settings in hello Traffic Manager profile.</span></span>  <span data-ttu-id="c9441-115">Tento postup funguje bez ohledu na to, jestli všechny hello prostředí App Service jsou nasazené v jedné oblasti Azure, nebo nasazeným po celém světě nad několika oblastmi Azure.</span><span class="sxs-lookup"><span data-stu-id="c9441-115">This approach works regardless of whether all of hello App Service Environments are deployed in a single Azure region, or deployed worldwide across multiple Azure regions.</span></span>

<span data-ttu-id="c9441-116">Navíc vzhledem k tomu, že zákazníkům přístup k aplikacím prostřednictvím hello jednoduché domény, zákazníci neberou hello počet prostředí App Service spuštěna aplikace.</span><span class="sxs-lookup"><span data-stu-id="c9441-116">Furthermore, since customers access apps through hello vanity domain, customers are unaware of hello number of App Service Environments running an app.</span></span>  <span data-ttu-id="c9441-117">V důsledku vývojáři můžete rychle a snadno přidat a odebrat, podle zjištěnou přenosové zatížení prostředí App Service.</span><span class="sxs-lookup"><span data-stu-id="c9441-117">As a result developers can quickly and easily add, and remove, App Service Environments based on observed traffic load.</span></span>

<span data-ttu-id="c9441-118">Hello koncepční diagram znázorňuje aplikace horizontálně škálovat na více systémů mezi tři prostředí App Service v jedné oblasti.</span><span class="sxs-lookup"><span data-stu-id="c9441-118">hello conceptual diagram below depicts an app horizontally scaled out across three App Service Environments within a single region.</span></span>

![Konceptuální architektura][ConceptualArchitecture] 

<span data-ttu-id="c9441-120">Hello zbývající část tohoto tématu vás provede kroky hello s nastavením Distribuovaná topologie pro ukázkovou aplikaci hello pomocí několika prostředí App Service.</span><span class="sxs-lookup"><span data-stu-id="c9441-120">hello remainder of this topic walks through hello steps involved with setting up a distributed topology for hello sample app using multiple App Service Environments.</span></span>

## <a name="planning-hello-topology"></a><span data-ttu-id="c9441-121">Plánování hello topologie</span><span class="sxs-lookup"><span data-stu-id="c9441-121">Planning hello Topology</span></span>
<span data-ttu-id="c9441-122">Před vytvořením na nároky distribuované aplikace, pomůže toohave několik částí informace předem.</span><span class="sxs-lookup"><span data-stu-id="c9441-122">Before building out a distributed app footprint, it helps toohave a few pieces information ahead of time.</span></span>

* <span data-ttu-id="c9441-123">**Vlastní doména pro aplikace hello:** co je hello vlastní název domény, zákazníci použijete tooaccess hello aplikace?</span><span class="sxs-lookup"><span data-stu-id="c9441-123">**Custom domain for hello app:**  What is hello custom domain name that customers will use tooaccess hello app?</span></span>  <span data-ttu-id="c9441-124">Pro vlastní doménu, hello ukázkové aplikace hello název je *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="c9441-124">For hello sample app hello custom domain name is *www.scalableasedemo.com*</span></span>
* <span data-ttu-id="c9441-125">**Doménu Traffic Manageru:** název domény musí toobe vybrali při vytváření [profilu Azure Traffic Manageru][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="c9441-125">**Traffic Manager domain:**  A domain name needs toobe chosen when creating an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="c9441-126">Tento název bude sloučen s hello *trafficmanager.net* přípona tooregister položku domény, který je spravován nástrojem Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="c9441-126">This name will be combined with hello *trafficmanager.net* suffix tooregister a domain entry that is managed by Traffic Manager.</span></span>  <span data-ttu-id="c9441-127">Ukázkové aplikace hello je zvolený název hello *škálovatelné App Service Environment ukázku*.</span><span class="sxs-lookup"><span data-stu-id="c9441-127">For hello sample app, hello name chosen is *scalable-ase-demo*.</span></span>  <span data-ttu-id="c9441-128">Výsledkem je název hello úplné domény, který je spravován nástrojem Traffic Manager *škálovatelné App Service Environment demo.trafficmanager.net*.</span><span class="sxs-lookup"><span data-stu-id="c9441-128">As a result hello full domain name that is managed by Traffic Manager is *scalable-ase-demo.trafficmanager.net*.</span></span>
* <span data-ttu-id="c9441-129">**Strategie pro škálování nároků aplikace hello:** budou nároky aplikace hello distribuována mezi více prostředí App Service v jedné oblasti?</span><span class="sxs-lookup"><span data-stu-id="c9441-129">**Strategy for scaling hello app footprint:**  Will hello application footprint be distributed across multiple App Service Environments in a single region?</span></span>  <span data-ttu-id="c9441-130">Více oblastí?</span><span class="sxs-lookup"><span data-stu-id="c9441-130">Multiple regions?</span></span>  <span data-ttu-id="c9441-131">Kombinaci a match obou přístupů?</span><span class="sxs-lookup"><span data-stu-id="c9441-131">A mix-and-match of both approaches?</span></span>  <span data-ttu-id="c9441-132">Hello rozhodnutí by měla být založena na očekávání kde provozu zákazníka budou pocházet, a jak můžete škálovat zbytek dobře hello aplikace podpůrná infrastruktura back-end.</span><span class="sxs-lookup"><span data-stu-id="c9441-132">hello decision should be based on expectations of where customer traffic will originate, as well as how well hello rest of an app's supporting back-end infrastructure can scale.</span></span>  <span data-ttu-id="c9441-133">Například s 100 % bezstavové aplikace, aplikace je možné massively rozšířit pomocí kombinace více prostředí App Service na oblast Azure, násobenou prostředí App Service nasadit nad několika oblastmi Azure.</span><span class="sxs-lookup"><span data-stu-id="c9441-133">For example, with a 100% stateless application, an app can be massively scaled using a combination of multiple App Service Environments per Azure region,  multiplied by App Service Environments deployed across multiple Azure regions.</span></span>  <span data-ttu-id="c9441-134">S 15 + veřejných oblastí Azure k dispozici toochoose z skutečně zákazníci mohou vytvářet nároky celém světě flexibilně škálovatelné aplikace.</span><span class="sxs-lookup"><span data-stu-id="c9441-134">With 15+ public Azure regions available toochoose from, customers can truly build a world-wide hyper-scale application footprint.</span></span>  <span data-ttu-id="c9441-135">Pro hello ukázková aplikace používá pro tento článek byly vytvořeny tři prostředí App Service v jedné oblasti Azure (Jižní střední USA).</span><span class="sxs-lookup"><span data-stu-id="c9441-135">For hello sample app used for this article, three App Service Environments were created in a single Azure region (South Central US).</span></span>
* <span data-ttu-id="c9441-136">**Zásady vytváření názvů pro hello prostředí App Service:** každý App Service Environment vyžaduje jedinečný název.</span><span class="sxs-lookup"><span data-stu-id="c9441-136">**Naming convention for hello App Service Environments:**  Each App Service Environment requires a unique name.</span></span>  <span data-ttu-id="c9441-137">Nad rámec jednoho nebo dvou prostředí App Service je užitečné toohave zásady vytváření názvů toohelp identifikaci jednotlivých App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="c9441-137">Beyond one or two App Service Environments it is helpful toohave a naming convention toohelp identify each App Service Environment.</span></span>  <span data-ttu-id="c9441-138">Pro ukázkovou aplikaci hello byl použit jednoduché zásady vytváření názvů.</span><span class="sxs-lookup"><span data-stu-id="c9441-138">For hello sample app a simple naming convention was used.</span></span>  <span data-ttu-id="c9441-139">Hello názvy hello tři prostředí App Service jsou *fe1ase*, *fe2ase*, a *fe3ase*.</span><span class="sxs-lookup"><span data-stu-id="c9441-139">hello names of hello three App Service Environments are *fe1ase*, *fe2ase*, and *fe3ase*.</span></span>
* <span data-ttu-id="c9441-140">**Zásady vytváření názvů pro aplikace hello:** vzhledem k tomu, že budou nasazeny více instancí aplikace hello, název se vyžaduje pro každou instanci hello nasazené aplikace.</span><span class="sxs-lookup"><span data-stu-id="c9441-140">**Naming convention for hello apps:**  Since multiple instances of hello app will be deployed, a name is needed for each instance of hello deployed app.</span></span>  <span data-ttu-id="c9441-141">Jeden málo známé, ale je užitečná funkce prostředí App Service je tento text hello, které lze použít stejný název aplikace v rámci více prostředí App Service.</span><span class="sxs-lookup"><span data-stu-id="c9441-141">One little-known but very convenient feature of App Service Environments is that hello same app name can be used across multiple App Service Environments.</span></span>  <span data-ttu-id="c9441-142">Vzhledem k tomu, že každý App Service Environment má příponu domény jedinečný, mohou zvolit použití toore hello přesně stejný název aplikace v každém prostředí.</span><span class="sxs-lookup"><span data-stu-id="c9441-142">Since each App Service Environment has a unique domain suffix, developers can choose toore-use hello exact same app name in each environment.</span></span>  <span data-ttu-id="c9441-143">Vývojář může mít třeba aplikace s názvem následujícím způsobem: *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*atd.  Pro hello ukázkovou aplikaci, když každá instance aplikace také musí mít jedinečný název.</span><span class="sxs-lookup"><span data-stu-id="c9441-143">For example a developer could have apps named as follows:  *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  For hello sample app though each app instance also has a unique name.</span></span>  <span data-ttu-id="c9441-144">Hello aplikace instance používá názvů *webfrontend1*, *webfrontend2*, a *webfrontend3*.</span><span class="sxs-lookup"><span data-stu-id="c9441-144">hello app instance names used are *webfrontend1*, *webfrontend2*, and *webfrontend3*.</span></span>

## <a name="setting-up-hello-traffic-manager-profile"></a><span data-ttu-id="c9441-145">Nastavení hello profil služby Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="c9441-145">Setting up hello Traffic Manager Profile</span></span>
<span data-ttu-id="c9441-146">Jakmile více instancí aplikace nasazené na několika prostředí App Service, instance jednotlivých aplikací hello lze registrovat pomocí nástroje Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="c9441-146">Once multiple instances of an app are deployed on multiple App Service Environments, hello  individual app instances can be registered with Traffic Manager.</span></span>  <span data-ttu-id="c9441-147">Pro ukázkovou aplikaci hello Traffic Manager profil je potřeba pro *škálovatelné demo.trafficmanager.net App Service Environment* , může směrovat instancí aplikace zákazníkům tooany hello následující nasazení:</span><span class="sxs-lookup"><span data-stu-id="c9441-147">For hello sample app a Traffic Manager profile is needed for *scalable-ase-demo.trafficmanager.net* that can route customers tooany of hello following deployed app instances:</span></span>

* <span data-ttu-id="c9441-148">**webfrontend1.fe1ase.p.azurewebsites.NET:** instanci hello ukázkové aplikace nasazené na hello první App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="c9441-148">**webfrontend1.fe1ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello first App Service Environment.</span></span>
* <span data-ttu-id="c9441-149">**webfrontend2.fe2ase.p.azurewebsites.NET:** instanci hello ukázkové aplikace nasazené na hello druhý App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="c9441-149">**webfrontend2.fe2ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello second App Service Environment.</span></span>
* <span data-ttu-id="c9441-150">**webfrontend3.fe3ase.p.azurewebsites.NET:** instanci hello ukázkové aplikace nasazené na hello třetí App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="c9441-150">**webfrontend3.fe3ase.p.azurewebsites.net:**  An instance of hello sample app deployed on hello third App Service Environment.</span></span>

<span data-ttu-id="c9441-151">Nejjednodušší způsob, jak tooregister Hello několik Azure App Service koncových bodů, všech spuštěných v hello **stejné** oblast Azure, je s hello prostředí Powershell [podpory Azure Resource Manager Traffic Manager] [ ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="c9441-151">hello easiest way tooregister multiple Azure App Service endpoints, all running in hello **same** Azure region, is with hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

<span data-ttu-id="c9441-152">prvním krokem Hello je toocreate profilu Azure Traffic Manageru.</span><span class="sxs-lookup"><span data-stu-id="c9441-152">hello first step is toocreate an Azure Traffic Manager profile.</span></span>  <span data-ttu-id="c9441-153">Následující kód Hello ukazuje, jak hello profil vytvořený pro hello ukázkovou aplikaci:</span><span class="sxs-lookup"><span data-stu-id="c9441-153">hello code below shows how hello profile was created for hello sample app:</span></span>

    $profile = New-AzureTrafficManagerProfile –Name scalableasedemo -ResourceGroupName yourRGNameHere -TrafficRoutingMethod Weighted -RelativeDnsName scalable-ase-demo -Ttl 30 -MonitorProtocol HTTP -MonitorPort 80 -MonitorPath "/"

<span data-ttu-id="c9441-154">Všimněte si, jak hello *RelativeDnsName* parametr byl nastaven příliš*škálovatelné App Service Environment ukázku*.</span><span class="sxs-lookup"><span data-stu-id="c9441-154">Notice how hello *RelativeDnsName* parameter was set too*scalable-ase-demo*.</span></span>  <span data-ttu-id="c9441-155">Toto je název domény jak hello *škálovatelné App Service Environment demo.trafficmanager.net* je vytvořena a přidružena profil Traffic Manageru.</span><span class="sxs-lookup"><span data-stu-id="c9441-155">This is how hello domain name *scalable-ase-demo.trafficmanager.net* is created and associated with a Traffic Manager profile.</span></span>

<span data-ttu-id="c9441-156">Hello *TrafficRoutingMethod* parametr definuje zásady Traffic Manager použije toodetermine jak zákazník toospread zatížení v rámci všech dostupných koncových bodů hello rozložení zátěže hello.</span><span class="sxs-lookup"><span data-stu-id="c9441-156">hello *TrafficRoutingMethod* parameter defines hello load balancing policy Traffic Manager will use toodetermine how toospread customer load across all of hello available endpoints.</span></span>  <span data-ttu-id="c9441-157">V tento příklad hello *vážená* jste vybrali metodu.</span><span class="sxs-lookup"><span data-stu-id="c9441-157">In this example hello *Weighted* method was chosen.</span></span>  <span data-ttu-id="c9441-158">Tato akce způsobí žádostem zákazníků se šíří přes všechny koncové body hello registrované aplikace založené na relativní váhu hello přidružené každý koncový bod.</span><span class="sxs-lookup"><span data-stu-id="c9441-158">This will result in customer requests being spread across all of hello registered application endpoints based on hello relative weights associated with each endpoint.</span></span> 

<span data-ttu-id="c9441-159">Když hello profil vytvořen každá instance aplikace přidána toohello profil jako nativní koncového bodu Azure.</span><span class="sxs-lookup"><span data-stu-id="c9441-159">With hello profile created, each app instance is added toohello profile as a native Azure endpoint.</span></span>  <span data-ttu-id="c9441-160">Následující kód Hello načte odkaz tooeach front-endu webové aplikace a pak přidá každou aplikaci jako koncový bod Traffic Manager prostřednictvím hello *TargetResourceId* parametr.</span><span class="sxs-lookup"><span data-stu-id="c9441-160">hello code below fetches a reference tooeach front end web app, and then adds each app as a Traffic Manager endpoint by way of hello *TargetResourceId* parameter.</span></span>

    $webapp1 = Get-AzureRMWebApp -Name webfrontend1
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend1 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp1.Id –EndpointStatus Enabled –Weight 10

    $webapp2 = Get-AzureRMWebApp -Name webfrontend2
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend2 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp2.Id –EndpointStatus Enabled –Weight 10

    $webapp3 = Get-AzureRMWebApp -Name webfrontend3
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend3 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp3.Id –EndpointStatus Enabled –Weight 10

    Set-AzureTrafficManagerProfile –TrafficManagerProfile $profile

<span data-ttu-id="c9441-161">Všimněte si, jak je jedno volání příliš*přidat AzureTrafficManagerEndpointConfig* pro každou instanci jednotlivých aplikací.</span><span class="sxs-lookup"><span data-stu-id="c9441-161">Notice how there is one call too*Add-AzureTrafficManagerEndpointConfig* for each individual app instance.</span></span>  <span data-ttu-id="c9441-162">Hello *TargetResourceId* odkazuje na parametr v každém příkazu prostředí Powershell, jeden hello tři instancí nasazené aplikace.</span><span class="sxs-lookup"><span data-stu-id="c9441-162">hello *TargetResourceId* parameter in each Powershell command references one of hello three deployed app instances.</span></span>  <span data-ttu-id="c9441-163">Hello profil služby Traffic Manager se zatížení rozloženy všechny tři koncové body, které jsou zaregistrované v profilu hello.</span><span class="sxs-lookup"><span data-stu-id="c9441-163">hello Traffic Manager profile will spread load across all three endpoints registered in hello profile.</span></span>

<span data-ttu-id="c9441-164">Všechny tři koncových bodů použít hello hello stejné hodnoty (10) hello *váhy* parametr.</span><span class="sxs-lookup"><span data-stu-id="c9441-164">All of hello three endpoints use hello same value (10) for hello *Weight* parameter.</span></span>  <span data-ttu-id="c9441-165">Výsledkem rozprostření žádostem zákazníků Traffic Manager napříč všemi instancemi tři aplikace relativně rovnoměrně.</span><span class="sxs-lookup"><span data-stu-id="c9441-165">This results in Traffic Manager spreading customer requests across all three app instances relatively evenly.</span></span> 

## <a name="pointing-hello-apps-custom-domain-at-hello-traffic-manager-domain"></a><span data-ttu-id="c9441-166">Vlastní doména polohovací hello aplikace v hello doménu Traffic Manageru</span><span class="sxs-lookup"><span data-stu-id="c9441-166">Pointing hello App's Custom Domain at hello Traffic Manager Domain</span></span>
<span data-ttu-id="c9441-167">posledním krokem Hello potřeby je toopoint hello vlastní domény aplikace hello na doménu Traffic Manageru hello.</span><span class="sxs-lookup"><span data-stu-id="c9441-167">hello final step necessary is toopoint hello custom domain of hello app at hello Traffic Manager domain.</span></span>  <span data-ttu-id="c9441-168">Ukázková aplikace hello to znamená, odkazující *www.scalableasedemo.com* v *škálovatelné App Service Environment demo.trafficmanager.net*.</span><span class="sxs-lookup"><span data-stu-id="c9441-168">For hello sample app this means pointing *www.scalableasedemo.com* at *scalable-ase-demo.trafficmanager.net*.</span></span>  <span data-ttu-id="c9441-169">Tento krok musí toobe byla dokončena s hello doménového registrátora, která spravuje hello vlastní doménu.</span><span class="sxs-lookup"><span data-stu-id="c9441-169">This step needs toobe completed with hello domain registrar that manages hello custom domain.</span></span>  

<span data-ttu-id="c9441-170">Pomocí nástrojů pro správu vašeho registrátora domény toobe potřebám záznamy CNAME vytvoření vlastní domény které body hello na doménu Traffic Manageru hello.</span><span class="sxs-lookup"><span data-stu-id="c9441-170">Using your registrar's domain management tools, a CNAME records needs toobe created which points hello custom domain at hello Traffic Manager domain.</span></span>  <span data-ttu-id="c9441-171">Hello následující obrázek ukazuje příklad tuto konfiguraci CNAME, které bude vypadat takto:</span><span class="sxs-lookup"><span data-stu-id="c9441-171">hello picture below shows an example of what this CNAME configuration looks like:</span></span>

![CNAME pro vlastní doménu.][CNAMEforCustomDomain] 

<span data-ttu-id="c9441-173">I když nejsou zahrnuté v tomto tématu, mějte na paměti, že každá instance jednotlivých aplikací vyžaduje toohave hello vlastní domény se také zaregistrována.</span><span class="sxs-lookup"><span data-stu-id="c9441-173">Although not covered in this topic, remember that each individual app instance needs toohave hello custom domain registered with it as well.</span></span>  <span data-ttu-id="c9441-174">Jinak pokud žádost o umožňuje tooan instanci aplikace a aplikace hello nemá hello zaregistrována aplikace hello vlastní doménu, hello požadavek selže.</span><span class="sxs-lookup"><span data-stu-id="c9441-174">Otherwise if a request makes it tooan app instance, and hello application does not have hello custom domain registered with hello app, hello request will fail.</span></span>  

<span data-ttu-id="c9441-175">Tento příklad hello vlastní doména je *www.scalableasedemo.com*, a každá instance aplikace má vlastní domény hello s ním spojená.</span><span class="sxs-lookup"><span data-stu-id="c9441-175">In this example hello custom domain is *www.scalableasedemo.com*, and each application instance has hello custom domain associated with it.</span></span>

![Vlastní doména][CustomDomain] 

<span data-ttu-id="c9441-177">Rekapitulace registrace vlastní domény s aplikacemi Azure App Service, najdete v části hello následujícího článku [registrace vlastní domény][RegisterCustomDomain].</span><span class="sxs-lookup"><span data-stu-id="c9441-177">For a recap of of registering a custom domain with Azure App Service apps, see hello following article on [registering custom domains][RegisterCustomDomain].</span></span>

## <a name="trying-out-hello-distributed-topology"></a><span data-ttu-id="c9441-178">Vyzkoušení hello Distribuovaná topologie</span><span class="sxs-lookup"><span data-stu-id="c9441-178">Trying out hello Distributed Topology</span></span>
<span data-ttu-id="c9441-179">Hello konečný výsledek hello Traffic Manager a DNS konfigurace se žádostí o *www.scalableasedemo.com* bude procházet hello následující pořadí:</span><span class="sxs-lookup"><span data-stu-id="c9441-179">hello end result of hello Traffic Manager and DNS configuration is that requests for *www.scalableasedemo.com* will flow through hello following sequence:</span></span>

1. <span data-ttu-id="c9441-180">Prohlížeč nebo zařízení bude vyhledávání DNS *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="c9441-180">A browser or device will make a DNS lookup for *www.scalableasedemo.com*</span></span>
2. <span data-ttu-id="c9441-181">Hello záznam CNAME u registrátora domény hello způsobí, že hello DNS vyhledávání toobe přesměrováno tooAzure Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="c9441-181">hello CNAME entry at hello domain registrar causes hello DNS lookup toobe redirected tooAzure Traffic Manager.</span></span>
3. <span data-ttu-id="c9441-182">Vyhledávání DNS se provádí *škálovatelné App Service Environment demo.trafficmanager.net* proti jeden ze serverů Azure DNS Traffic Manager hello.</span><span class="sxs-lookup"><span data-stu-id="c9441-182">A DNS lookup is made for *scalable-ase-demo.trafficmanager.net* against one of hello Azure Traffic Manager DNS servers.</span></span>
4. <span data-ttu-id="c9441-183">Podle zásad rozložení zátěže hello (hello *TrafficRoutingMethod* parametr dříve použitý při vytváření profilu služby Traffic Manager hello), bude Traffic Manager vyberte jeden z hello nakonfigurované koncové body a vrátí hello plně kvalifikovaný název domény, koncový bod toohello prohlížeč nebo zařízení.</span><span class="sxs-lookup"><span data-stu-id="c9441-183">Based on hello load balancing policy (hello *TrafficRoutingMethod* parameter used earlier when creating hello Traffic Manager profile), Traffic Manager will select one of hello configured endpoints and return hello FQDN of that endpoint toohello browser or device.</span></span>
5. <span data-ttu-id="c9441-184">Vzhledem k tomu, že hello plně kvalifikovaný název domény hello koncového bodu je adresa Url hello instance aplikace spuštěná na služby App Service Environment, hello prohlížeče nebo zařízení požádá server Microsoft Azure DNS tooresolve hello plně kvalifikovaný název domény tooan IP adresu.</span><span class="sxs-lookup"><span data-stu-id="c9441-184">Since hello FQDN of hello endpoint is hello Url of an app instance running on an App Service Environment, hello browser or device will ask a Microsoft Azure DNS server tooresolve hello FQDN tooan IP address.</span></span> 
6. <span data-ttu-id="c9441-185">Hello prohlížeče nebo zařízení, odešle hello HTTP/S požadavek toohello IP adresu.</span><span class="sxs-lookup"><span data-stu-id="c9441-185">hello browser or device will send hello HTTP/S request toohello IP address.</span></span>  
7. <span data-ttu-id="c9441-186">žádost o Hello dorazí na jednu z instancí aplikace hello spuštěn v jednom z hello prostředí App Service.</span><span class="sxs-lookup"><span data-stu-id="c9441-186">hello request will arrive at one of hello app instances running on one of hello App Service Environments.</span></span>

<span data-ttu-id="c9441-187">Hello konzoly následující obrázek ukazuje vyhledávání DNS pro hello ukázkovou aplikaci vlastní domény úspěšně řešení tooan instanci aplikace spuštěn v jednom z ukázkové hello tři prostředí App Service (v tomto případě hello sekundu hello tři prostředí App Service):</span><span class="sxs-lookup"><span data-stu-id="c9441-187">hello console picture below shows a DNS lookup for hello sample app's custom domain successfully resolving tooan app instance running on one of hello three sample App Service Environments (in this case hello second of hello three App Service Environments):</span></span>

![Vyhledávání DNS][DNSLookup] 

## <a name="additional-links-and-information"></a><span data-ttu-id="c9441-189">Další odkazy a informace</span><span class="sxs-lookup"><span data-stu-id="c9441-189">Additional Links and Information</span></span>
<span data-ttu-id="c9441-190">Všechny články a jak – do této pro App Service Environment jsou dostupné v hello [soubor README pro prostředí aplikačních služeb](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="c9441-190">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="c9441-191">Dokumentace na hello prostředí Powershell [podpory Azure Resource Manager Traffic Manager][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="c9441-191">Documentation on hello Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[AzureTrafficManagerProfile]: ../traffic-manager/traffic-manager-manage-profiles.md
[ARMTrafficManager]: ../traffic-manager/traffic-manager-powershell-arm.md
[RegisterCustomDomain]: app-service-web-tutorial-custom-domain.md


<!-- IMAGES -->
[ConceptualArchitecture]: ./media/app-service-app-service-environment-geo-distributed-scale/ConceptualArchitecture-1.png
[CNAMEforCustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CNAMECustomDomain-1.png
[DNSLookup]:  ./media/app-service-app-service-environment-geo-distributed-scale/DNSLookup-1.png
[CustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CustomDomain-1.png 
