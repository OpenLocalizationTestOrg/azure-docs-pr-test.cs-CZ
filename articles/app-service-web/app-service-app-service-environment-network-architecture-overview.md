---
title: "aaaNetwork architektura přehled o prostředí App Service"
description: "Přehled architektury ofApp topologie sítě služby prostředí."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: 13d03a37-1fe2-4e3e-9d57-46dfb330ba52
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/04/2016
ms.author: stefsch
ms.openlocfilehash: 3cbc86883f5687a9ada35a3ab2f577a450a3fa0b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="network-architecture-overview-of-app-service-environments"></a><span data-ttu-id="f5742-103">Přehled síťové architektury ve službě App Service Environment</span><span class="sxs-lookup"><span data-stu-id="f5742-103">Network Architecture Overview of App Service Environments</span></span>
## <a name="introduction"></a><span data-ttu-id="f5742-104">Úvod</span><span class="sxs-lookup"><span data-stu-id="f5742-104">Introduction</span></span>
<span data-ttu-id="f5742-105">Prostředí App Service se vytváří vždy v rámci podsítí [virtuální sítě] [ virtualnetwork] -aplikace běžící ve službě App Service Environment může komunikovat s privátní koncové body umístěné v rámci hello stejné virtuální topologie sítě.</span><span class="sxs-lookup"><span data-stu-id="f5742-105">App Service Environments are always created within a subnet of a [virtual network][virtualnetwork] - apps running in an App Service Environment can communicate with private endpoints located within hello same virtual network topology.</span></span>  <span data-ttu-id="f5742-106">Vzhledem k tomu, že zákazníci můžou zamknout součástí infrastruktury svojí virtuální sítě, je důležité toounderstand hello typy toků komunikace sítě, které se služby App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="f5742-106">Since customers may lock down parts of their virtual network infrastructure, it is important toounderstand hello types of network communication flows that occur with an App Service Environment.</span></span>

## <a name="general-network-flow"></a><span data-ttu-id="f5742-107">Tok obecné sítě</span><span class="sxs-lookup"><span data-stu-id="f5742-107">General Network Flow</span></span>
<span data-ttu-id="f5742-108">Používá-li aplikaci služby prostředí řízení, veřejné virtuální adresy IP (VIP) pro aplikace, všechny příchozí přenos dorazí na tuto veřejnou virtuální IP.</span><span class="sxs-lookup"><span data-stu-id="f5742-108">When an App Service Environment (ASE) uses a public virtual IP address (VIP) for apps, all inbound traffic arrives on that public VIP.</span></span>  <span data-ttu-id="f5742-109">To zahrnuje přenosů dat HTTP a HTTPS pro aplikace, a také ostatní přenosy FTP, funkce vzdáleného ladění a operace správy Azure.</span><span class="sxs-lookup"><span data-stu-id="f5742-109">This includes HTTP and HTTPS traffic for apps, as well as other traffic for FTP, remote debugging functionality, and Azure management operations.</span></span>  <span data-ttu-id="f5742-110">Úplný seznam hello určité porty (požadované a volitelné), které jsou dostupné na veřejné VIP hello najdete článku hello na [řízení příchozí provoz] [ controllinginboundtraffic] tooan App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="f5742-110">For a full list of hello specific ports (both required and optional) that are available on hello public VIP see hello article on [controlling inbound traffic][controllinginboundtraffic] tooan App Service Environment.</span></span> 

<span data-ttu-id="f5742-111">Prostředí App Service také podporují spouštění aplikace, které jsou vázány jen tooa virtuální sítě interní adresa, nazývaná také jen tooas adresu ILB (nástroj pro vyrovnávání zatížení pro vnitřní).</span><span class="sxs-lookup"><span data-stu-id="f5742-111">App Service Environments also support running apps that are bound only tooa virtual network internal address, also referred tooas an ILB (internal load balancer) address.</span></span>  <span data-ttu-id="f5742-112">Na ILB povoleno App Service Environment, HTTP a HTTPS provozy pro aplikace a také vzdáleného ladění volání dorazí na hello ILB adresu.</span><span class="sxs-lookup"><span data-stu-id="f5742-112">On an ILB enabled ASE, HTTP and HTTPS traffic for apps as well as remote debugging calls, arrive on hello ILB address.</span></span>  <span data-ttu-id="f5742-113">U většiny běžných konfigurací s ILB App Service Environment přenosy FTP/FTPS také dorazí na hello ILB adresu.</span><span class="sxs-lookup"><span data-stu-id="f5742-113">For most common ILB-ASE configurations, FTP/FTPS traffic will also arrive on hello ILB address.</span></span>  <span data-ttu-id="f5742-114">Operace správy Azure bude stále toku tooports 454/455 na hello veřejných virtuálních IP adres z ILB, ale povoleno App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="f5742-114">However Azure management operations will still flow tooports 454/455 on hello public VIP of an ILB enabled ASE.</span></span>

<span data-ttu-id="f5742-115">Následující diagram Hello ukazuje přehled hello různé sítě příchozí a odchozí toky pro služby App Service Environment, kde aplikace hello jsou vázané tooa veřejná virtuální IP adresa:</span><span class="sxs-lookup"><span data-stu-id="f5742-115">hello diagram below shows an overview of hello various inbound and outbound network flows for an App Service Environment where hello apps are bound tooa public virtual IP address:</span></span>

![Obecné síťovými toky][GeneralNetworkFlows]

<span data-ttu-id="f5742-117">Služby App Service Environment může komunikovat s celou řadu koncové body privátní zákazníka.</span><span class="sxs-lookup"><span data-stu-id="f5742-117">An App Service Environment can communicate with a variety of private customer endpoints.</span></span>  <span data-ttu-id="f5742-118">Například aplikace běžící v App Service Environment může připojit toodatabase servery spuštěné v virtuální počítače IaaS v hello hello stejné virtuální síťové topologie.</span><span class="sxs-lookup"><span data-stu-id="f5742-118">For example, apps running in hello App Service Environment can connect toodatabase server(s) running on IaaS virtual machines in hello same virtual network topology.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f5742-119">Prohlížení hello síťový diagram, jsou v jiné podsíti z hello App Service Environment nasazené hello "ostatní výpočetní prostředky".</span><span class="sxs-lookup"><span data-stu-id="f5742-119">Looking at hello network diagram, hello "Other Compute Resources" are deployed in a different Subnet from hello App Service Environment.</span></span> <span data-ttu-id="f5742-120">Nasazení prostředků v hello stejné podsíti s hello App Service Environment bude blokovat připojení z prostředků toothose App Service Environment (s výjimkou směrování konkrétní intra-App Service Environment).</span><span class="sxs-lookup"><span data-stu-id="f5742-120">Deploying resources in hello same Subnet with hello ASE will block connectivity from ASE toothose resources (except for specific intra-ASE routing).</span></span> <span data-ttu-id="f5742-121">Nasazení tooa jiné podsítě místo toho (v hello stejnou virtuální síť).</span><span class="sxs-lookup"><span data-stu-id="f5742-121">Deploy tooa different Subnet instead (in hello same VNET).</span></span> <span data-ttu-id="f5742-122">Hello App Service Environment bude možné tooconnect.</span><span class="sxs-lookup"><span data-stu-id="f5742-122">hello App Service Environment will then be able tooconnect.</span></span> <span data-ttu-id="f5742-123">Není potřeba žádná další konfigurace.</span><span class="sxs-lookup"><span data-stu-id="f5742-123">No additional configuration is necessary.</span></span>
> 
> 

<span data-ttu-id="f5742-124">Služby App Service Environment také komunikovat s databáze Sql a Azure Storage prostředky potřebné pro správu a provozování služby App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="f5742-124">App Service Environments also communicate with Sql DB and Azure Storage resources necessary for managing and operating an App Service Environment.</span></span>  <span data-ttu-id="f5742-125">Některé prostředky hello Sql a úložiště, které komunikují služby App Service Environment jsou umístěné v hello stejné oblasti jako hello App Service Environment, zatímco jiné jsou umístěny v vzdálené oblastech Azure.</span><span class="sxs-lookup"><span data-stu-id="f5742-125">Some of hello Sql and Storage resources that an App Service Environment communicates with are located in hello same region as hello App Service Environment, while others are located in remote Azure regions.</span></span>  <span data-ttu-id="f5742-126">V důsledku toho toohello odchozí připojení k Internetu je vždy vyžaduje App Service Environment toofunction správně.</span><span class="sxs-lookup"><span data-stu-id="f5742-126">As a result, outbound connectivity toohello Internet is always required for an App Service Environment toofunction properly.</span></span> 

<span data-ttu-id="f5742-127">Vzhledem k tomu, že služby App Service Environment je nasazený na podsíť, skupiny zabezpečení sítě může být použité toocontrol příchozí provoz toohello podsítě.</span><span class="sxs-lookup"><span data-stu-id="f5742-127">Since an App Service Environment is deployed in a subnet, network security groups can be used toocontrol inbound traffic toohello subnet.</span></span>  <span data-ttu-id="f5742-128">Podrobnosti o tom, jak toocontrol příchozí provoz tooan App Service Environment, viz následující hello [článku][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="f5742-128">For details on how toocontrol inbound traffic tooan App Service Environment, see hello following [article][controllinginboundtraffic].</span></span>

<span data-ttu-id="f5742-129">Podrobnosti o tom tooallow odchozí internetové připojení ze služby App Service Environment, najdete v části hello následujícího článku o práci s [Express Route][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="f5742-129">For details on how tooallow outbound Internet connectivity from an App Service Environment, see hello following article about working with [Express Route][ExpressRoute].</span></span>  <span data-ttu-id="f5742-130">Hello stejný přístup popsanou v článku hello se použije při práci s připojení Site-to-Site a pomocí vynuceného tunelování.</span><span class="sxs-lookup"><span data-stu-id="f5742-130">hello same approach described in hello article applies when working with Site-to-Site connectivity and using forced tunneling.</span></span>

## <a name="outbound-network-addresses"></a><span data-ttu-id="f5742-131">Odchozí síťové adresy</span><span class="sxs-lookup"><span data-stu-id="f5742-131">Outbound Network Addresses</span></span>
<span data-ttu-id="f5742-132">Pokud služby App Service Environment provede odchozí volání, je vždy přidružen hello odchozí volání IP adresu.</span><span class="sxs-lookup"><span data-stu-id="f5742-132">When an App Service Environment makes outbound calls, an IP Address is always associated with hello outbound calls.</span></span>  <span data-ttu-id="f5742-133">Hello konkrétní IP adresu, která se používá závisí na tom, jestli se nachází v rámci hello virtuální síťové topologie, nebo mimo hello virtuální síťové topologie koncový bod hello volané.</span><span class="sxs-lookup"><span data-stu-id="f5742-133">hello specific IP address that is used depends on whether hello endpoint being called is located within hello virtual network topology, or outside of hello virtual network topology.</span></span>

<span data-ttu-id="f5742-134">Pokud je koncový bod hello volané **mimo** hello virtuální síťové topologie, pak se hello je odchozí adresy (neboli hello odchozí NAT adresy), který se používá hello veřejných virtuálních IP adres z hello App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="f5742-134">If hello endpoint being called is **outside** of hello virtual network topology, then hello outbound address (aka hello outbound NAT address) that is used is hello public VIP of hello App Service Environment.</span></span>  <span data-ttu-id="f5742-135">Tato adresa naleznete v hello portálové uživatelské rozhraní pro hello App Service Environment v okně Vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="f5742-135">This address can be found in hello portal user interface for hello App Service Environment in Properties blade.</span></span>

![Odchozí IP adresu][OutboundIPAddress]

<span data-ttu-id="f5742-137">Tuto adresu můžete také určit pro ASEs, které mají pouze veřejné VIP vytváření aplikace v hello App Service Environment, a pak provedením *nslookup* na adrese aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="f5742-137">This address can also be determined for ASEs that only have a public VIP by creating an app in hello App Service Environment, and then performing an *nslookup* on hello app's address.</span></span> <span data-ttu-id="f5742-138">Hello výsledné IP adresa je hello veřejné VIP, jak hello App Service Environment pro odchozí NAT adresu.</span><span class="sxs-lookup"><span data-stu-id="f5742-138">hello resultant IP address is both hello public VIP, as well as hello App Service Environment's outbound NAT address.</span></span>

<span data-ttu-id="f5742-139">Pokud je koncový bod hello volané **uvnitř** o hello virtuální síťové topologie, bude hello odchozí adresy volání aplikace hello hello interní IP adresu hello jednotlivých výpočetních prostředků, která je spuštěna aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="f5742-139">If hello endpoint being called is **inside** of hello virtual network topology, hello outbound address of hello calling app will be hello internal IP address of hello individual compute resource running hello app.</span></span>  <span data-ttu-id="f5742-140">Ale není trvalé mapování virtuální sítě interní IP adresy tooapps.</span><span class="sxs-lookup"><span data-stu-id="f5742-140">However there is not a persistent mapping of virtual network internal IP addresses tooapps.</span></span>  <span data-ttu-id="f5742-141">Aplikace lze pohybovat mezi různé výpočetní prostředky a hello fond dostupných výpočetních prostředků ve službě App Service Environment, můžete změnit z důvodu tooscaling operace.</span><span class="sxs-lookup"><span data-stu-id="f5742-141">Apps can move around across different compute resources, and hello pool of available compute resources in an App Service Environment can change due tooscaling operations.</span></span>

<span data-ttu-id="f5742-142">Ale vzhledem k tomu, že služby App Service Environment se vždy nachází v rámci jedné podsítě, že je zaručeno, že hello interní IP adresu výpočtový prostředek spuštění aplikace bude vždy v rámci hello rozsah CIDR podsítě hello.</span><span class="sxs-lookup"><span data-stu-id="f5742-142">However, since an App Service Environment is always located within a subnet, you are guaranteed that hello internal IP address of a compute resource running an app will always lie within hello CIDR range of hello subnet.</span></span>  <span data-ttu-id="f5742-143">Výsledkem je pokud se používá podrobných seznamů řízení přístupu nebo skupiny zabezpečení sítě toosecure přístup tooother koncové body v rámci virtuální sítě hello, hello rozsahu podsítě obsahující hello App Service Environment musí toobe udělen přístup.</span><span class="sxs-lookup"><span data-stu-id="f5742-143">As a result, when fine-grained ACLs or network security groups are used toosecure access tooother endpoints within hello virtual network, hello subnet range containing hello App Service Environment needs toobe granted access.</span></span>

<span data-ttu-id="f5742-144">Hello následující diagram znázorňuje tyto koncepty podrobněji:</span><span class="sxs-lookup"><span data-stu-id="f5742-144">hello following diagram shows these concepts in more detail:</span></span>

![Odchozí síťové adresy][OutboundNetworkAddresses]

<span data-ttu-id="f5742-146">V hello výše diagram:</span><span class="sxs-lookup"><span data-stu-id="f5742-146">In hello above diagram:</span></span>

* <span data-ttu-id="f5742-147">Vzhledem k tomu, že hello veřejných virtuálních IP adres z hello App Service Environment je 192.23.1.2, který je hello odchozí IP adresu použitou při volání příliš koncové body "Internet".</span><span class="sxs-lookup"><span data-stu-id="f5742-147">Since hello public VIP of hello App Service Environment is 192.23.1.2, that is hello outbound IP address used when making calls too"Internet" endpoints.</span></span>
* <span data-ttu-id="f5742-148">Hello rozsah CIDR hello obsahující podsíť pro hello App Service Environment je 10.0.1.0/26.</span><span class="sxs-lookup"><span data-stu-id="f5742-148">hello CIDR range of hello containing subnet for hello App Service Environment is 10.0.1.0/26.</span></span>  <span data-ttu-id="f5742-149">Další koncové body v rámci hello stejné infrastruktury virtuální sítě se zobrazí volání z aplikace jako pocházející z někde v tomto rozsahu adres.</span><span class="sxs-lookup"><span data-stu-id="f5742-149">Other endpoints within hello same virtual network infrastructure will see calls from apps as originating from somewhere within this address range.</span></span>

## <a name="calls-between-app-service-environments"></a><span data-ttu-id="f5742-150">Volání mezi služby App Service Environment</span><span class="sxs-lookup"><span data-stu-id="f5742-150">Calls Between App Service Environments</span></span>
<span data-ttu-id="f5742-151">Složitější situace může nastat, pokud nasazujete více prostředí App Service v hello stejné virtuální síti a odchozí volání z jedné služby App Service Environment tooanother App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="f5742-151">A more complex scenario can occur if you deploy multiple App Service Environments in hello same virtual network, and make outbound calls from one App Service Environment tooanother App Service Environment.</span></span>  <span data-ttu-id="f5742-152">Tyto typy křížová volání bude také považována za "Internet" volání služby App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="f5742-152">These types of cross App Service Environment calls will also be treated as "Internet" calls.</span></span>

<span data-ttu-id="f5742-153">Hello následující diagram ukazuje příklad Vrstvená architektura aplikace na jeden App Service Environment (např.) "Přední dveře" webové aplikace) na (třeba interní aplikace API back-end není určena toobe přístupné z Internetu hello) druhý App Service Environment volání aplikace.</span><span class="sxs-lookup"><span data-stu-id="f5742-153">hello following diagram shows an example of a layered architecture with apps on one App Service Environment (e.g. "Front door" web apps) calling apps on a second App Service Environment (e.g. internal back-end API apps not intended toobe accessible from hello Internet).</span></span> 

![Volání mezi služby App Service Environment][CallsBetweenAppServiceEnvironments] 

<span data-ttu-id="f5742-155">Příklad výše hello App Service Environment "App Service Environment jeden" v hello má 192.23.1.2 odchozí IP adresu.</span><span class="sxs-lookup"><span data-stu-id="f5742-155">In hello example above hello App Service Environment "ASE One" has an outbound IP address of 192.23.1.2.</span></span>  <span data-ttu-id="f5742-156">Pokud aplikace spuštěné v App Service Environment provede aplikace tooan odchozí volání systémem druhý App Service Environment ("App Service Environment dvě") umístěný ve stejné virtuální síti hello hello odchozí volání se považuje za volání "Internet".</span><span class="sxs-lookup"><span data-stu-id="f5742-156">If an app running on this App Service Environment makes an outbound call tooan app running on a second App Service Environment ("ASE Two") located in hello same virtual network, hello outbound call will be treated as an "Internet" call.</span></span>  <span data-ttu-id="f5742-157">Proto se zobrazí druhý App Service Environment hello síťový provoz přicházejících na hello jako pocházející z 192.23.1.2 (tj. není hello podsítě rozsah adres hello první App Service Environment).</span><span class="sxs-lookup"><span data-stu-id="f5742-157">As a result hello network traffic arriving on hello second App Service Environment will show as originating from 192.23.1.2 (i.e. not hello subnet address range of hello first App Service Environment).</span></span>

<span data-ttu-id="f5742-158">I když volání mezi různé prostředí App Service jsou považovány za "Internet" volání, když jsou oba prostředí App Service v hello stejné oblasti Azure hello síťový provoz zůstane nainstalována na místní síť Azure hello a nebude fyzicky toku přes hello veřejného Internetu.</span><span class="sxs-lookup"><span data-stu-id="f5742-158">Even though calls between different App Service Environments are treated as "Internet" calls, when both App Service Environments are located in hello same Azure region hello network traffic will remain on hello regional Azure network and will not physically flow over hello public Internet.</span></span>  <span data-ttu-id="f5742-159">Proto můžete použít skupinu zabezpečení sítě na podsíť hello hello hello druhý App Service Environment tooonly povolit příchozí volání z první App Service Environment (jehož odchozí IP adresa je 192.23.1.2), čímž zajišťuje zabezpečenou komunikaci mezi hello Služby App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="f5742-159">As a result you can use a network security group on hello subnet of hello second App Service Environment tooonly allow inbound calls from hello first App Service Environment (whose outbound IP address is 192.23.1.2), thus ensuring secure communication between hello App Service Environments.</span></span>

## <a name="additional-links-and-information"></a><span data-ttu-id="f5742-160">Další odkazy a informace</span><span class="sxs-lookup"><span data-stu-id="f5742-160">Additional Links and Information</span></span>
<span data-ttu-id="f5742-161">Všechny články a jak – do této pro App Service Environment jsou dostupné v hello [soubor README pro prostředí aplikačních služeb](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="f5742-161">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="f5742-162">Podrobnosti o příchozí porty používané prostředí App Service a pomocí toocontrol skupiny zabezpečení sítě příchozí provoz je k dispozici [sem][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="f5742-162">Details on inbound ports used by App Service Environments and using network security groups toocontrol inbound traffic is available [here][controllinginboundtraffic].</span></span>

<span data-ttu-id="f5742-163">Podrobnosti o použití uživatelsky definované trasy toogrant odchozí internetové přístup tooApp prostředí Service je k dispozici v tomto [článku][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="f5742-163">Details on using user defined routes toogrant outbound Internet access tooApp Service Environments is available in this [article][ExpressRoute].</span></span> 

<!-- LINKS -->
[virtualnetwork]: http://azure.microsoft.com/services/virtual-network/
[controllinginboundtraffic]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-control-inbound-traffic/
[ExpressRoute]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-network-configuration-expressroute/

<!-- IMAGES -->
[GeneralNetworkFlows]: ./media/app-service-app-service-environment-network-architecture-overview/NetworkOverview-1.png
[OutboundIPAddress]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundIPAddress-1.png
[OutboundNetworkAddresses]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundNetworkAddresses-1.png
[CallsBetweenAppServiceEnvironments]: ./media/app-service-app-service-environment-network-architecture-overview/CallsBetweenEnvironments-1.png

