---
title: "Postup vytvoření ILB App Service Environment pomocí šablony Azure Resource Manageru | Microsoft Docs"
description: "Naučte se vytvořit interní služby load vyrovnávání App Service Environment pomocí šablony Azure Resource Manager."
services: app-service
documentationcenter: 
author: stefsch
manager: nirma
editor: 
ms.assetid: 091decb6-b0de-42a1-9f2f-c18d9b2e67df
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: stefsch
ms.openlocfilehash: 147ab76d38c8bbbf34d35ed6c2a194d97fe711ab
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-create-an-ilb-ase-using-azure-resource-manager-templates"></a><span data-ttu-id="8020c-103">Vytvoření ILB ASE pomocí šablon Azure Resource Manageru</span><span class="sxs-lookup"><span data-stu-id="8020c-103">How To Create an ILB ASE Using Azure Resource Manager Templates</span></span>

> [!NOTE] 
> <span data-ttu-id="8020c-104">Tento článek je o v1 App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="8020c-104">This article is about the App Service Environment v1.</span></span> <span data-ttu-id="8020c-105">Existuje novější verze App Service Environment, který je jednodušší použít a běží na výkonnější infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="8020c-105">There is a newer version of the App Service Environment that is easier to use and runs on more powerful infrastructure.</span></span> <span data-ttu-id="8020c-106">Další informace o nové verzi spuštění s [Úvod do služby App Service Environment](../app-service/app-service-environment/intro.md).</span><span class="sxs-lookup"><span data-stu-id="8020c-106">To learn more about the new version start with the [Introduction to the App  Service Environment](../app-service/app-service-environment/intro.md).</span></span>
>

## <a name="overview"></a><span data-ttu-id="8020c-107">Přehled</span><span class="sxs-lookup"><span data-stu-id="8020c-107">Overview</span></span>
<span data-ttu-id="8020c-108">Služby App Service Environment může být vytvořen pomocí adresu interní virtuální sítě místo veřejných virtuálních IP adres.</span><span class="sxs-lookup"><span data-stu-id="8020c-108">App Service Environments can be created with a virtual network internal address instead of a public VIP.</span></span>  <span data-ttu-id="8020c-109">Tato interní adresa zajišťuje komponentu Azure, názvem vyrovnávání interní zatížení (ILB).</span><span class="sxs-lookup"><span data-stu-id="8020c-109">This internal address is provided by an Azure component called the internal load balancer (ILB).</span></span>  <span data-ttu-id="8020c-110">App Service Environment ILB lze vytvořit pomocí portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="8020c-110">An ILB ASE can be created using the Azure portal.</span></span>  <span data-ttu-id="8020c-111">Je také možné vytvářet pomocí automatizace prostřednictvím šablon Azure Resource Manageru.</span><span class="sxs-lookup"><span data-stu-id="8020c-111">It can also be created using automation by way of Azure Resource Manager templates.</span></span>  <span data-ttu-id="8020c-112">Tento článek vás provede kroky a syntaxe, které jsou potřebné k vytvoření ILB App Service Environment pomocí šablony Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="8020c-112">This article walks through the steps and syntax needed to create an ILB ASE with Azure Resource Manager templates.</span></span>

<span data-ttu-id="8020c-113">Účastnící se automatizace vytváření ILB App Service Environment jsou tři kroky:</span><span class="sxs-lookup"><span data-stu-id="8020c-113">There are three steps involved in automating creation of an ILB ASE:</span></span>

1. <span data-ttu-id="8020c-114">Nejprve základní App Service Environment se vytvoří ve virtuální síti pomocí adresu služby Vyrovnávání zatížení interní místo veřejných virtuálních IP adres.</span><span class="sxs-lookup"><span data-stu-id="8020c-114">First the base ASE is created in a virtual network using an internal load balancer address instead of a public VIP.</span></span>  <span data-ttu-id="8020c-115">V rámci tohoto kroku se App Service Environment ILB přiřazen název kořenové domény.</span><span class="sxs-lookup"><span data-stu-id="8020c-115">As part of this step, a root domain name is assigned to the ILB ASE.</span></span>
2. <span data-ttu-id="8020c-116">Po vytvoření App Service Environment ILB je nahrát certifikát SSL.</span><span class="sxs-lookup"><span data-stu-id="8020c-116">Once the ILB ASE is created, an SSL certificate is uploaded.</span></span>  
3. <span data-ttu-id="8020c-117">Nahraný certifikát SSL je explicitně přiřadit App Service Environment ILB jako certifikát SSL jeho "Výchozí".</span><span class="sxs-lookup"><span data-stu-id="8020c-117">The uploaded SSL certificate is explicitly assigned to the ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="8020c-118">Tento certifikát SSL se použije pro přenosy protokolu SSL na aplikace v App Service Environment ILB, když jsou aplikace řešit pomocí běžných kořenové domény přiřazené App Service Environment (např. https://someapp.mycustomrootcomain.com)</span><span class="sxs-lookup"><span data-stu-id="8020c-118">This SSL certificate will be used for SSL traffic to apps on the ILB ASE when the apps are addressed using the common root domain assigned to the ASE (e.g. https://someapp.mycustomrootcomain.com)</span></span>

## <a name="creating-the-base-ilb-ase"></a><span data-ttu-id="8020c-119">Vytvoření základní ILB App Service Environment</span><span class="sxs-lookup"><span data-stu-id="8020c-119">Creating the Base ILB ASE</span></span>
<span data-ttu-id="8020c-120">Příklad šablony Azure Resource Manageru a jeho přidružené parametry souboru jsou dostupné na Githubu [sem][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="8020c-120">An example Azure Resource Manager template, and its associated parameters file, are available on GitHub [here][quickstartilbasecreate].</span></span>

<span data-ttu-id="8020c-121">Většina z parametrů v *azuredeploy.parameters.json* souboru jsou společné pro vytváření ILB ASEs, jak ASEs vázána na veřejných virtuálních IP adres.</span><span class="sxs-lookup"><span data-stu-id="8020c-121">Most of the parameters in the *azuredeploy.parameters.json* file are common to creating both ILB ASEs, as well as ASEs bound to a public VIP.</span></span>  <span data-ttu-id="8020c-122">V seznamu níže volá metodu výstupní parametry speciální Poznámka nebo které jsou jedinečné, při vytváření ILB App Service Environment:</span><span class="sxs-lookup"><span data-stu-id="8020c-122">The list below calls out parameters of special note, or that are unique, when creating an ILB ASE:</span></span>

* <span data-ttu-id="8020c-123">*interalLoadBalancingMode*: ve většině případů to do 3, to znamená přenosy HTTP/HTTPS na porty 80/443 i data ovládacího prvku nebo porty channel naslouchali pomocí služby FTP v App Service Environment, sada bude vázán k ILB přidělené interní virtuální sítě Adresa.</span><span class="sxs-lookup"><span data-stu-id="8020c-123">*interalLoadBalancingMode*:  In most cases set this to 3, which means both HTTP/HTTPS traffic on ports 80/443, and the control/data channel ports listened to by the FTP service on the ASE, will be bound to an ILB allocated virtual network internal address.</span></span>  <span data-ttu-id="8020c-124">Pokud místo toho tato vlastnost nastavena na 2, pak pouze službu FTP související s porty (řízení a datové kanály) budou vázána na adresu ILB, zatímco zůstane nainstalována na veřejné VIP přenosy HTTP/HTTPS.</span><span class="sxs-lookup"><span data-stu-id="8020c-124">If this property is instead set to 2, then only the FTP service related ports (both control and data channels) will be bound to an ILB address, while the HTTP/HTTPS traffic will remain on the public VIP.</span></span>
* <span data-ttu-id="8020c-125">*dnsSuffix*: Tento parametr definuje výchozí kořenové domény, který se přiřadí App Service Environment.</span><span class="sxs-lookup"><span data-stu-id="8020c-125">*dnsSuffix*:  This parameter defines the default root domain that will be assigned to the ASE.</span></span>  <span data-ttu-id="8020c-126">Ve veřejné změna Azure App Service, Výchozí kořenová doména pro všechny webové aplikace je *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="8020c-126">In the public variation of Azure App Service, the default root domain for all web apps is *azurewebsites.net*.</span></span>  <span data-ttu-id="8020c-127">Ale vzhledem k tomu, že je interní virtuální sítě zákazníka App Service Environment ILB, nemá smysl použít veřejné služby výchozí kořenové domény.</span><span class="sxs-lookup"><span data-stu-id="8020c-127">However since an ILB ASE is internal to a customer's virtual network, it doesn't make sense to use the public service's default root domain.</span></span>  <span data-ttu-id="8020c-128">Místo toho ILB App Service Environment, musí mít výchozí kořenové domény, která je vhodná pro použití v rámci společnosti interní virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="8020c-128">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span>  <span data-ttu-id="8020c-129">Společnosti Contoso Corporation může například použít výchozí kořenovou doménou *interní contoso.com* pro aplikace, které jsou určeny pouze jako přeložit a dostupné v rámci společnosti Contoso virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="8020c-129">For example, a hypothetical Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended to only be resolvable and accessible within Contoso's virtual network.</span></span> 
* <span data-ttu-id="8020c-130">*ipSslAddressCount*: Tento parametr se automaticky převezme na hodnotu 0 v *azuredeploy.json* soubor protože ILB ASEs mít pouze jednu adresu ILB.</span><span class="sxs-lookup"><span data-stu-id="8020c-130">*ipSslAddressCount*:  This parameter is automatically defaulted to a value of 0 in the *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span>  <span data-ttu-id="8020c-131">Nejsou žádné explicitní IP SSL adresy pro ILB App Service Environment a proto fondu IP SSL adresy pro ILB App Service Environment musí být nastavena na hodnotu nula, jinak dojde k chybě při zřizování.</span><span class="sxs-lookup"><span data-stu-id="8020c-131">There are no explicit IP-SSL addresses for an ILB ASE, and hence the IP-SSL address pool for an ILB ASE must be set to zero, otherwise a provisioning error will occur.</span></span> 

<span data-ttu-id="8020c-132">Jednou *azuredeploy.parameters.json* souboru bylo vyplněno pro App Service Environment ILB, App Service Environment ILB mohou být vytvořeny pomocí následující fragment kódu prostředí Powershell.</span><span class="sxs-lookup"><span data-stu-id="8020c-132">Once the *azuredeploy.parameters.json* file has been filled in for an ILB ASE, the ILB ASE can then be created using the following Powershell code snippet.</span></span>  <span data-ttu-id="8020c-133">Změňte soubor cesty, které se shodují, kde jsou umístěny soubory šablon Azure Resource Manager na váš počítač.</span><span class="sxs-lookup"><span data-stu-id="8020c-133">Change the file PATHs to match where the Azure Resource Manager template files are located on your machine.</span></span>  <span data-ttu-id="8020c-134">Nezapomeňte také zadat vlastní hodnoty pro název nasazení Azure Resource Manager a název skupiny prostředků.</span><span class="sxs-lookup"><span data-stu-id="8020c-134">Also remember to supply your own values for the Azure Resource Manager deployment name, and resource group name.</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="8020c-135">Po Azure Resource Manager šablony je odeslán, že bude trvat několik hodin, než App Service Environment ILB vytvořit.</span><span class="sxs-lookup"><span data-stu-id="8020c-135">After the Azure Resource Manager template is submitted it will take a few hours for the ILB ASE to be created.</span></span>  <span data-ttu-id="8020c-136">Po dokončení vytvoření App Service Environment ILB se zobrazí na portálu činnosti koncového uživatele v seznamu prostředí App Service pro předplatné, který aktivoval nasazení.</span><span class="sxs-lookup"><span data-stu-id="8020c-136">Once the creation completes, the ILB ASE will show up in the portal UX in the list of App Service Environments for the subscription that triggered the deployment.</span></span>

## <a name="uploading-and-configuring-the-default-ssl-certificate"></a><span data-ttu-id="8020c-137">Odesílání a konfiguraci "Výchozí" certifikát SSL</span><span class="sxs-lookup"><span data-stu-id="8020c-137">Uploading and Configuring the "Default" SSL Certificate</span></span>
<span data-ttu-id="8020c-138">Po vytvoření App Service Environment ILB certifikát SSL by měly být přidružené App Service Environment, jako "Výchozí" certifikát SSL použijte pro vytvoření připojení SSL k aplikacím.</span><span class="sxs-lookup"><span data-stu-id="8020c-138">Once the ILB ASE is created, an SSL certificate should be associated with the ASE as the "default" SSL certificate use for establishing SSL connections to apps.</span></span>  <span data-ttu-id="8020c-139">Pokračováním společnosti Contoso Corporation příklad, pokud App Service Environment výchozí DNS přípona je *interní contoso.com*, pak připojení k *https://some-random-app.internal-contoso.com* vyžaduje certifikát SSL, který je platný pro **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="8020c-139">Continuing with the hypothetical Contoso Corporation example, if the ASE's default DNS suffix is *internal-contoso.com*, then a connection to *https://some-random-app.internal-contoso.com* requires an SSL certificate that is valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="8020c-140">Existuje mnoho různých způsobů, jak získat platný certifikát SSL včetně interní certifikační autority, nákupu certifikát z externího vystavitelů a používá certifikát podepsaný svým držitelem.</span><span class="sxs-lookup"><span data-stu-id="8020c-140">There are a variety of ways to obtain a valid SSL certificate including internal CAs, purchasing a certificate from an external issuer, and using a self-signed certificate.</span></span>  <span data-ttu-id="8020c-141">Bez ohledu na zdroji certifikátu protokolu SSL musí být správně nakonfigurované následující atributy certifikátu:</span><span class="sxs-lookup"><span data-stu-id="8020c-141">Regardless of the source of the SSL certificate, the following certificate attributes need to be configured properly:</span></span>

* <span data-ttu-id="8020c-142">*Předmět*: Tento atribut musí být nastaven na **.your kořenové domény here.com*</span><span class="sxs-lookup"><span data-stu-id="8020c-142">*Subject*:  This attribute must be set to **.your-root-domain-here.com*</span></span>
* <span data-ttu-id="8020c-143">*Alternativní název subjektu*: Tento atribut musí obsahovat i **.your kořenové domény here.com*, a **.scm.your-kořenové-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="8020c-143">*Subject Alternative Name*:  This attribute must include both **.your-root-domain-here.com*, and **.scm.your-root-domain-here.com*.</span></span>  <span data-ttu-id="8020c-144">Důvod pro druhou položku je, že připojení SSL k webu SCM/Kudu spojené s každou aplikaci, bude provedeno pomocí adresu ve tvaru *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="8020c-144">The reason for the second entry is that SSL connections to the SCM/Kudu site associated with each app will be made using an address of the form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="8020c-145">S platným certifikátem SSL v dolním je potřeba dva další přípravné kroky.</span><span class="sxs-lookup"><span data-stu-id="8020c-145">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span>  <span data-ttu-id="8020c-146">Certifikát SSL musí být uložený jako soubor .pfx s jejich převést.</span><span class="sxs-lookup"><span data-stu-id="8020c-146">The SSL certificate needs to be converted/saved as a .pfx file.</span></span>  <span data-ttu-id="8020c-147">Mějte na paměti, že soubor .pfx musí zahrnovat všechny zprostředkující a kořenové certifikáty a také musí být zabezpečené pomocí hesla.</span><span class="sxs-lookup"><span data-stu-id="8020c-147">Remember that the .pfx file needs to include all intermediate and root certificates, and also needs to be secured with a password.</span></span>

<span data-ttu-id="8020c-148">Potom soubor .pfx výsledné potřeba převést na řetězec ve formátu base64, protože certifikát SSL, nebude možné odesílat pomocí šablony Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="8020c-148">Then the resultant .pfx file needs to be converted into a base64 string because the SSL certificate will be uploaded using an Azure Resource Manager template.</span></span>  <span data-ttu-id="8020c-149">Vzhledem k tomu, že šablony Azure Resource Manager jsou textové soubory, je potřeba převést na řetězec ve formátu base64, může být zahrnuta jako parametr šablony soubor .pfx.</span><span class="sxs-lookup"><span data-stu-id="8020c-149">Since Azure Resource Manager templates are text files, the .pfx file needs to be converted into a base64 string so it can be included as a parameter of the template.</span></span>

<span data-ttu-id="8020c-150">Následující fragment kódu prostředí Powershell ukazuje příklad generování certifikát podepsaný svým držitelem, Export certifikátu jako soubor .pfx, převodu soubor .pfx s kódováním base64 řetězec kódovaný, a potom uložení Base64, pomocí kódovaný řetězec do samostatného souboru.</span><span class="sxs-lookup"><span data-stu-id="8020c-150">The Powershell code snippet below shows an example of generating a self-signed certificate, exporting the certificate as a .pfx file, converting the .pfx file into a base64 encoded string, and then saving the base64 encoded string to a separate file.</span></span>  <span data-ttu-id="8020c-151">Kód prostředí Powershell pro kódování base64 byla přizpůsobena z [Blog skripty prostředí Powershell][examplebase64encoding].</span><span class="sxs-lookup"><span data-stu-id="8020c-151">The Powershell code for base64 encoding was adapted from the [Powershell Scripts Blog][examplebase64encoding].</span></span>

    $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

    $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
    $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

    $fileName = "exportedcert.pfx"
    Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

    $fileContentBytes = get-content -encoding byte $fileName
    $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
    $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="8020c-152">Jakmile se certifikát SSL byl úspěšně generované a převést na s kódováním base64 řetězce, příklad šablony Azure Resource Manager na GitHub pro [konfigurace certifikátu protokolu SSL výchozí] [ configuringDefaultSSLCertificate] můžete použít.</span><span class="sxs-lookup"><span data-stu-id="8020c-152">Once the SSL certificate has been successfully generated and converted to a base64 encoded string, the example Azure Resource Manager template on GitHub for [configuring the default SSL certificate][configuringDefaultSSLCertificate] can be used.</span></span>

<span data-ttu-id="8020c-153">Parametry v *azuredeploy.parameters.json* souboru jsou uvedeny níže:</span><span class="sxs-lookup"><span data-stu-id="8020c-153">The parameters in the *azuredeploy.parameters.json* file are listed below:</span></span>

* <span data-ttu-id="8020c-154">*appServiceEnvironmentName*: název ILB App Service Environment se právě nastavuje.</span><span class="sxs-lookup"><span data-stu-id="8020c-154">*appServiceEnvironmentName*:  The name of the ILB ASE being configured.</span></span>
* <span data-ttu-id="8020c-155">*existingAseLocation*: textový řetězec obsahující oblasti Azure, kde byla nasazena App Service Environment ILB.</span><span class="sxs-lookup"><span data-stu-id="8020c-155">*existingAseLocation*:  Text string containing the Azure region where the ILB ASE was deployed.</span></span>  <span data-ttu-id="8020c-156">Například: "Jihu USA".</span><span class="sxs-lookup"><span data-stu-id="8020c-156">For example:  "South Central US".</span></span>
* <span data-ttu-id="8020c-157">*pfxBlobString*: based64 kódovaný řetězcovou reprezentaci soubor .pfx.</span><span class="sxs-lookup"><span data-stu-id="8020c-157">*pfxBlobString*:  The based64 encoded string representation of the .pfx file.</span></span>  <span data-ttu-id="8020c-158">Pomocí fragmentu kódu, která je uvedena výše, by řetězec obsažené v "exportedcert.pfx.b64" zkopírujte a vložte jej jako hodnotu *pfxBlobString* atribut.</span><span class="sxs-lookup"><span data-stu-id="8020c-158">Using the code snippet shown earlier, you would copy the string contained in "exportedcert.pfx.b64" and paste it in as the value of the *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="8020c-159">*heslo*: heslo používané k zabezpečení soubor .pfx.</span><span class="sxs-lookup"><span data-stu-id="8020c-159">*password*:  The password used to secure the .pfx file.</span></span>
* <span data-ttu-id="8020c-160">*certificateThumbprint*: kryptografický otisk certifikátu.</span><span class="sxs-lookup"><span data-stu-id="8020c-160">*certificateThumbprint*:  The certificate's thumbprint.</span></span>  <span data-ttu-id="8020c-161">Pokud načetlo tuto hodnotu z prostředí Powershell (například *$certificate. Kryptografický otisk* z dřívějších fragment kódu), můžete použít hodnotu jako-je.</span><span class="sxs-lookup"><span data-stu-id="8020c-161">If you retrieve this value from Powershell (e.g. *$certificate.Thumbprint* from the earlier code snippet), you can use the value as-is.</span></span>  <span data-ttu-id="8020c-162">Při kopírování hodnotu z dialogového okna certifikátu Windows, ale musíte odebrat nadbytečné mezery.</span><span class="sxs-lookup"><span data-stu-id="8020c-162">However if you copy the value from the Windows certificate dialog, remember to strip out the extraneous spaces.</span></span>  <span data-ttu-id="8020c-163">*CertificateThumbprint* by měl vypadat podobně jako: AF3143EB61D43F6727842115BB7F17BBCECAECAE</span><span class="sxs-lookup"><span data-stu-id="8020c-163">The *certificateThumbprint* should look something like:  AF3143EB61D43F6727842115BB7F17BBCECAECAE</span></span>
* <span data-ttu-id="8020c-164">*certificateName*: identifikátor popisný řetězec podle vlastní volby umožňuje identity certifikát.</span><span class="sxs-lookup"><span data-stu-id="8020c-164">*certificateName*:  A friendly string identifier of your own choosing used to identity the certificate.</span></span>  <span data-ttu-id="8020c-165">Název se používá jako součást jedinečný identifikátor Azure Resource Manager *Microsoft.Web/certificates* entity představující certifikát SSL.</span><span class="sxs-lookup"><span data-stu-id="8020c-165">The name is used as part of the unique Azure Resource Manager identifier for the *Microsoft.Web/certificates* entity representing the SSL certificate.</span></span>  <span data-ttu-id="8020c-166">Název **musí** končit následující příponu: \_yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="8020c-166">The name **must** end with the following suffix:  \_yourASENameHere_InternalLoadBalancingASE.</span></span>  <span data-ttu-id="8020c-167">Tato přípona se používá portálem jako indikátoru, certifikát se používá k zabezpečení App Service Environment povolené ILB.</span><span class="sxs-lookup"><span data-stu-id="8020c-167">This suffix is used by the portal as an indicator that the certificate is used for securing an ILB-enabled ASE.</span></span>

<span data-ttu-id="8020c-168">Příklad zkrácené *azuredeploy.parameters.json* jsou uvedeny níže:</span><span class="sxs-lookup"><span data-stu-id="8020c-168">An abbreviated example of *azuredeploy.parameters.json* is shown below:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="8020c-169">Jednou *azuredeploy.parameters.json* bylo vyplněno souboru, výchozí certifikát SSL můžete konfigurovat pomocí následující fragment kódu prostředí Powershell.</span><span class="sxs-lookup"><span data-stu-id="8020c-169">Once the *azuredeploy.parameters.json* file has been filled in, the default SSL certificate can be configured using the following Powershell code snippet.</span></span>  <span data-ttu-id="8020c-170">Změňte soubor cesty, které se shodují, kde jsou umístěny soubory šablon Azure Resource Manager na váš počítač.</span><span class="sxs-lookup"><span data-stu-id="8020c-170">Change the file PATHs to match where the Azure Resource Manager template files are located on your machine.</span></span>  <span data-ttu-id="8020c-171">Nezapomeňte také zadat vlastní hodnoty pro název nasazení Azure Resource Manager a název skupiny prostředků.</span><span class="sxs-lookup"><span data-stu-id="8020c-171">Also remember to supply your own values for the Azure Resource Manager deployment name, and resource group name.</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="8020c-172">Po odeslání šablony Azure Resource Manageru, že bude trvat přibližně 40 minutách minut za App Service Environment front-end použití změny.</span><span class="sxs-lookup"><span data-stu-id="8020c-172">After the Azure Resource Manager template is submitted it will take roughly forty minutes minutes per ASE front-end to apply the change.</span></span>  <span data-ttu-id="8020c-173">Například s výchozí velikost App Service Environment pomocí dvou front-end, šablona bude trvat přibližně jednu hodinu a dvacet minut.</span><span class="sxs-lookup"><span data-stu-id="8020c-173">For example, with a default sized ASE using two front-ends, the template will take around one hour and twenty minutes to complete.</span></span>  <span data-ttu-id="8020c-174">Šablony spuštěného App Service Environment nebude možné škálovat.</span><span class="sxs-lookup"><span data-stu-id="8020c-174">While the template is running the ASE will not be able to scaled.</span></span>  

<span data-ttu-id="8020c-175">Po dokončení šablony aplikace v App Service Environment ILB je přístupná prostřednictvím protokolu HTTPS a nebude zabezpečené připojení pomocí výchozí certifikát SSL.</span><span class="sxs-lookup"><span data-stu-id="8020c-175">Once the template completes, apps on the ILB ASE can be accessed over HTTPS and the connections will be secured using the default SSL certificate.</span></span>  <span data-ttu-id="8020c-176">Certifikát protokolu SSL výchozí se použije, když jsou aplikace v App Service Environment ILB řešit pomocí kombinace názvu aplikace a výchozí název hostitele.</span><span class="sxs-lookup"><span data-stu-id="8020c-176">The default SSL certificate will be used when apps on the ILB ASE are addressed using a combination of the application name plus the default hostname.</span></span>  <span data-ttu-id="8020c-177">Například *https://mycustomapp.internal-contoso.com* využije výchozí certifikát SSL pro **.internal contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="8020c-177">For example *https://mycustomapp.internal-contoso.com* would use the default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="8020c-178">Ale stejně jako aplikace běžící na veřejné víceklientské služby, vývojáři můžou také nakonfigurovat vlastní hostitel názvy pro jednotlivé aplikace a pak nakonfigurujte jedinečný vazby certifikátů SNI SSL pro jednotlivé aplikace.</span><span class="sxs-lookup"><span data-stu-id="8020c-178">However, just like apps running on the public multi-tenant service, developers can also configure custom host names for individual apps, and then configure unique SNI SSL certificate bindings for individual apps.</span></span>  

## <a name="getting-started"></a><span data-ttu-id="8020c-179">Začínáme</span><span class="sxs-lookup"><span data-stu-id="8020c-179">Getting started</span></span>
<span data-ttu-id="8020c-180">Chcete-li začít pracovat s prostředí App Service, přečtěte si téma [Úvod do služby App Service Environment](app-service-app-service-environment-intro.md)</span><span class="sxs-lookup"><span data-stu-id="8020c-180">To get started with App Service Environments, see [Introduction to App Service Environment](app-service-app-service-environment-intro.md)</span></span>

<span data-ttu-id="8020c-181">Všechny články a jak – do této pro App Service Environment jsou dostupné v [soubor README pro prostředí aplikačních služeb](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="8020c-181">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[quickstartilbasecreate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-create/
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/ 

