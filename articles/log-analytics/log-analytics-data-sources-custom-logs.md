---
title: "aaaCollect vlastní protokoly v OMS Log Analytics | Microsoft Docs"
description: "Analýzy protokolů můžete shromažďovat události z textových souborů v počítačích Windows a Linux.  Tento článek popisuje, jak podrobnosti hello záznamů a toodefine nový vlastní protokol vytvoří v úložišti OMS hello."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: aca7f6bb-6f53-4fd4-a45c-93f12ead4ae1
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/15/2017
ms.author: bwren
ms.openlocfilehash: a75d058c371fecf7c43690a797d4e650c1570317
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="custom-logs-in-log-analytics"></a><span data-ttu-id="bf97f-104">Vlastní protokoly v analýzy protokolů</span><span class="sxs-lookup"><span data-stu-id="bf97f-104">Custom logs in Log Analytics</span></span>
<span data-ttu-id="bf97f-105">zdroj dat vlastní protokoly Hello v analýzy protokolů umožňuje toocollect události z textových souborů v počítačích Windows a Linux.</span><span class="sxs-lookup"><span data-stu-id="bf97f-105">hello Custom Logs data source in Log Analytics allows you toocollect events from text files on both Windows and Linux computers.</span></span> <span data-ttu-id="bf97f-106">Mnoho aplikací informace tootext soubory místo standardní protokolování služby, jako je například protokol událostí systému Windows nebo Syslog protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-106">Many applications log information tootext files instead of standard logging services such as Windows Event log or Syslog.</span></span>  <span data-ttu-id="bf97f-107">Jakmile získány, můžete analyzovat každý záznam v protokolu hello v polích tooindividual pomocí hello [vlastní pole](log-analytics-custom-fields.md) funkce analýzy protokolů.</span><span class="sxs-lookup"><span data-stu-id="bf97f-107">Once collected, you can parse each record in hello log in tooindividual fields using hello [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span></span>

![Vlastní protokol kolekce](media/log-analytics-data-sources-custom-logs/overview.png)

<span data-ttu-id="bf97f-109">toobe soubory protokolu Hello shromážděných musí odpovídat hello následující kritéria.</span><span class="sxs-lookup"><span data-stu-id="bf97f-109">hello log files toobe collected must match hello following criteria.</span></span>

- <span data-ttu-id="bf97f-110">Hello protokolu musí mít jednu položku na každý řádek nebo použít časové razítko odpovídající, které jedna z následujících hello formáty při spuštění hello každé položky.</span><span class="sxs-lookup"><span data-stu-id="bf97f-110">hello log must either have a single entry per line or use a timestamp matching one of hello following formats at hello start of each entry.</span></span>

    <span data-ttu-id="bf97f-111">RRRR MM-DD HH: MM:</span><span class="sxs-lookup"><span data-stu-id="bf97f-111">YYYY-MM-DD HH:MM:SS</span></span><br><span data-ttu-id="bf97f-112">M/D/RRRR HH: MM: SS DOP. / ODP</span><span class="sxs-lookup"><span data-stu-id="bf97f-112">M/D/YYYY HH:MM:SS AM/PM</span></span> <br><span data-ttu-id="bf97f-113">MON DD, rrrr hh: mm:</span><span class="sxs-lookup"><span data-stu-id="bf97f-113">Mon DD,YYYY HH:MM:SS</span></span>

- <span data-ttu-id="bf97f-114">soubor protokolu Hello nesmí povolit cyklické aktualizací, kde hello k přepsání souboru nové položky.</span><span class="sxs-lookup"><span data-stu-id="bf97f-114">hello log file must not allow circular updates where hello file is overwritten with new entries.</span></span>
- <span data-ttu-id="bf97f-115">soubor protokolu Hello musí používat kódování ASCII nebo UTF-8.</span><span class="sxs-lookup"><span data-stu-id="bf97f-115">hello log file must use ASCII or UTF-8 encoding.</span></span>  <span data-ttu-id="bf97f-116">Ostatní formáty například UTF-16 nejsou podporovány.</span><span class="sxs-lookup"><span data-stu-id="bf97f-116">Other formats such as UTF-16 are not supported.</span></span>

>[!NOTE]
><span data-ttu-id="bf97f-117">Pokud existují duplicitní položky v souboru protokolu hello, analýzy protokolů je sloučit.</span><span class="sxs-lookup"><span data-stu-id="bf97f-117">If there are duplicate entries in hello log file, Log Analytics will collect them.</span></span>  <span data-ttu-id="bf97f-118">Výsledky hledání hello však bude být nekonzistentní kde výsledky filtru hello zobrazit další události než počet výsledků hello.</span><span class="sxs-lookup"><span data-stu-id="bf97f-118">However, hello search results will be inconsistent where hello filter results show more events than hello result count.</span></span>  <span data-ttu-id="bf97f-119">Je důležité, abyste ověření toodetermine protokolu hello, pokud hello aplikace, která ji vytvoří, způsobí toto chování a pokud je to možné adres před vytvořením definice kolekce hello vlastního protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-119">It will be important that you validate hello log toodetermine if hello application that creates it is causing this behavior and address it if possible before creating hello custom log collection definition.</span></span>  
>
  
## <a name="defining-a-custom-log"></a><span data-ttu-id="bf97f-120">Definování vlastní protokol</span><span class="sxs-lookup"><span data-stu-id="bf97f-120">Defining a custom log</span></span>
<span data-ttu-id="bf97f-121">Použijte následující postup toodefine vlastní protokol hello.</span><span class="sxs-lookup"><span data-stu-id="bf97f-121">Use hello following procedure toodefine a custom log file.</span></span>  <span data-ttu-id="bf97f-122">Posuňte se toohello konci tohoto článku podrobný ukázkové přidání vlastního protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-122">Scroll toohello end of this article for a walkthrough of a sample of adding a custom log.</span></span>

### <a name="step-1-open-hello-custom-log-wizard"></a><span data-ttu-id="bf97f-123">Krok 1.</span><span class="sxs-lookup"><span data-stu-id="bf97f-123">Step 1.</span></span> <span data-ttu-id="bf97f-124">Otevřete hello vlastní protokolu Průvodce</span><span class="sxs-lookup"><span data-stu-id="bf97f-124">Open hello Custom Log Wizard</span></span>
<span data-ttu-id="bf97f-125">Hello vlastního průvodce protokolu běží na portálu OMS hello a můžete toodefine nové toocollect vlastního protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-125">hello Custom Log Wizard runs in hello OMS portal and allows you toodefine a new custom log toocollect.</span></span>

1. <span data-ttu-id="bf97f-126">Na portálu OMS hello, přejděte příliš**nastavení**.</span><span class="sxs-lookup"><span data-stu-id="bf97f-126">In hello OMS portal, go too**Settings**.</span></span>
2. <span data-ttu-id="bf97f-127">Klikněte na **Data** a potom **vlastní protokoly**.</span><span class="sxs-lookup"><span data-stu-id="bf97f-127">Click on **Data** and then **Custom logs**.</span></span>
3. <span data-ttu-id="bf97f-128">Standardně jsou všechny změny konfigurace automaticky instaluje tooall agenty.</span><span class="sxs-lookup"><span data-stu-id="bf97f-128">By default, all configuration changes are automatically pushed tooall agents.</span></span>  <span data-ttu-id="bf97f-129">Pro agenty Linux je odeslán soubor konfigurace toohello Fluentd data kolekce.</span><span class="sxs-lookup"><span data-stu-id="bf97f-129">For Linux agents, a configuration file is sent toohello Fluentd data collector.</span></span>  <span data-ttu-id="bf97f-130">Pokud chcete tento soubor na každého agenta Linux ručně toomodify, poté zrušte zaškrtnutí políčka hello *použít následující konfigurace počítačů se systémem Linux toomy*.</span><span class="sxs-lookup"><span data-stu-id="bf97f-130">If you wish toomodify this file manually on each Linux agent, then uncheck hello box *Apply below configuration toomy Linux machines*.</span></span>
4. <span data-ttu-id="bf97f-131">Klikněte na tlačítko **přidat +** tooopen hello Průvodce vlastního protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-131">Click **Add+** tooopen hello Custom Log Wizard.</span></span>

### <a name="step-2-upload-and-parse-a-sample-log"></a><span data-ttu-id="bf97f-132">Krok 2.</span><span class="sxs-lookup"><span data-stu-id="bf97f-132">Step 2.</span></span> <span data-ttu-id="bf97f-133">Nahrání a analyzovat ukázkový protokol</span><span class="sxs-lookup"><span data-stu-id="bf97f-133">Upload and parse a sample log</span></span>
<span data-ttu-id="bf97f-134">Můžete začít odesílání vzorku hello vlastního protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-134">You start by uploading a sample of hello custom log.</span></span>  <span data-ttu-id="bf97f-135">Průvodce Hello analyzovat a zobrazit hello položky v tomto souboru, pro které toovalidate.</span><span class="sxs-lookup"><span data-stu-id="bf97f-135">hello wizard will parse and display hello entries in this file for you toovalidate.</span></span>  <span data-ttu-id="bf97f-136">Analýzy protokolů použije hello oddělovač zadejte tooidentify každý záznam.</span><span class="sxs-lookup"><span data-stu-id="bf97f-136">Log Analytics will use hello delimiter that you specify tooidentify each record.</span></span>

<span data-ttu-id="bf97f-137">**Nový řádek** hello výchozí oddělovač a slouží pro soubory protokolů, které mají jednu položku na každý řádek.</span><span class="sxs-lookup"><span data-stu-id="bf97f-137">**New Line** is hello default delimiter and is used for log files that have a single entry per line.</span></span>  <span data-ttu-id="bf97f-138">Pokud hello řádek začíná datum a čas v jednom z formátů hello k dispozici, pak můžete zadat **časové razítko** oddělovač, který podporuje položky, které jsou rozmístěny více než jeden řádek.</span><span class="sxs-lookup"><span data-stu-id="bf97f-138">If hello line starts with a date and time in one of hello available formats, then you can specify a **Timestamp** delimiter which supports entries that span more than one line.</span></span>

<span data-ttu-id="bf97f-139">Pokud se používá oddělovač časové razítko, bude vlastnost TimeGenerated hello každý záznam uložený v OMS vyplňovat hello datum a čas zadaný pro tuto položku v souboru protokolu hello.</span><span class="sxs-lookup"><span data-stu-id="bf97f-139">If a timestamp delimiter is used, then hello TimeGenerated property of each record stored in OMS will be populated with hello date/time specified for that entry in hello log file.</span></span>  <span data-ttu-id="bf97f-140">Pokud se používá nový řádek oddělovač, pak TimeGenerated je naplněna datum a čas, analýzy protokolů shromážděných hello položku.</span><span class="sxs-lookup"><span data-stu-id="bf97f-140">If a new line delimiter is used, then TimeGenerated is populated with date and time that Log Analytics collected hello entry.</span></span>

> [!NOTE]
> <span data-ttu-id="bf97f-141">Analýzy protokolů aktuálně zpracovává hello datum a čas shromážděných z protokolu pomocí časového razítka oddělovač ve formátu UTC.</span><span class="sxs-lookup"><span data-stu-id="bf97f-141">Log Analytics currently treats hello date/time collected from a log using a timestamp delimiter as UTC.</span></span>  <span data-ttu-id="bf97f-142">Brzy bude změněné toouse hello časové pásmo na hello agenta.</span><span class="sxs-lookup"><span data-stu-id="bf97f-142">This will soon be changed toouse hello time zone on hello agent.</span></span>
>
>

1. <span data-ttu-id="bf97f-143">Klikněte na tlačítko **Procházet** a procházet tooa ukázkový soubor.</span><span class="sxs-lookup"><span data-stu-id="bf97f-143">Click **Browse** and browse tooa sample file.</span></span>  <span data-ttu-id="bf97f-144">Všimněte si, že to může tlačítko může být označeno jako **zvolit soubor** v některé prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="bf97f-144">Note that this may button may be labeled **Choose File** in some browsers.</span></span>
2. <span data-ttu-id="bf97f-145">Klikněte na **Další**.</span><span class="sxs-lookup"><span data-stu-id="bf97f-145">Click **Next**.</span></span>
3. <span data-ttu-id="bf97f-146">Hello vlastní protokolu Průvodce odešlete hello soubor a seznamu hello záznamy, které ji identifikuje.</span><span class="sxs-lookup"><span data-stu-id="bf97f-146">hello Custom Log Wizard will upload hello file and list hello records that it identifies.</span></span>
4. <span data-ttu-id="bf97f-147">Změnit hello oddělovač, který je použité tooidentify nový záznam a vyberte hello oddělovač, který nejlépe identifikuje hello záznamy v souboru protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-147">Change hello delimiter that is used tooidentify a new record and select hello delimiter that best identifies hello records in your log file.</span></span>
5. <span data-ttu-id="bf97f-148">Klikněte na **Další**.</span><span class="sxs-lookup"><span data-stu-id="bf97f-148">Click **Next**.</span></span>

### <a name="step-3-add-log-collection-paths"></a><span data-ttu-id="bf97f-149">Krok 3.</span><span class="sxs-lookup"><span data-stu-id="bf97f-149">Step 3.</span></span> <span data-ttu-id="bf97f-150">Přidat cesty ke kolekcím protokolů</span><span class="sxs-lookup"><span data-stu-id="bf97f-150">Add log collection paths</span></span>
<span data-ttu-id="bf97f-151">Je nutné zadat jednu nebo více cest v hello agentovi, kde najdou hello vlastního protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-151">You must define one or more paths on hello agent where it can locate hello custom log.</span></span>  <span data-ttu-id="bf97f-152">Můžete buď zadat konkrétní cestu a název souboru protokolu hello nebo se zástupnými znaky pro hello název můžete zadat cestu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-152">You can either provide a specific path and name for hello log file, or you can specify a path with a wildcard for hello name.</span></span>  <span data-ttu-id="bf97f-153">To podporuje aplikace, které každý den nebo pokud jeden soubor dosáhne určité velikosti, vytvořte nový soubor.</span><span class="sxs-lookup"><span data-stu-id="bf97f-153">This supports applications that create a new file each day or when one file reaches a certain size.</span></span>  <span data-ttu-id="bf97f-154">Můžete zadat také více cest pro jeden soubor protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-154">You can also provide multiple paths for a single log file.</span></span>

<span data-ttu-id="bf97f-155">Například aplikace může vytvořit soubor protokolu každý den s datem hello součástí hello název jako log20100316.txt.</span><span class="sxs-lookup"><span data-stu-id="bf97f-155">For example, an application might create a log file each day with hello date included in hello name as in log20100316.txt.</span></span> <span data-ttu-id="bf97f-156">Vzor takové protokolu může být *protokolu\*.txt* které bude platit tooany soubor protokolu aplikace hello je pojmenování schématu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-156">A pattern for such a log might be *log\*.txt* which would apply tooany log file following hello application’s naming scheme.</span></span>

<span data-ttu-id="bf97f-157">Hello následující tabulka obsahuje příklady platných vzorů toospecify různých protokolových souborech.</span><span class="sxs-lookup"><span data-stu-id="bf97f-157">hello following table provides examples of valid patterns toospecify different log files.</span></span>

| <span data-ttu-id="bf97f-158">Popis</span><span class="sxs-lookup"><span data-stu-id="bf97f-158">Description</span></span> | <span data-ttu-id="bf97f-159">Cesta</span><span class="sxs-lookup"><span data-stu-id="bf97f-159">Path</span></span> |
|:--- |:--- |
| <span data-ttu-id="bf97f-160">Všechny soubory v *C:\Logs* s příponou .txt pro agenta služby Windows</span><span class="sxs-lookup"><span data-stu-id="bf97f-160">All files in *C:\Logs* with .txt extension on Windows agent</span></span> |<span data-ttu-id="bf97f-161">C:\Logs\\\*.txt</span><span class="sxs-lookup"><span data-stu-id="bf97f-161">C:\Logs\\\*.txt</span></span> |
| <span data-ttu-id="bf97f-162">Všechny soubory v *C:\Logs* s názvem počínaje protokolu a příponu .txt pro agenta služby Windows</span><span class="sxs-lookup"><span data-stu-id="bf97f-162">All files in *C:\Logs* with a name starting with log and a .txt extension on Windows agent</span></span> |<span data-ttu-id="bf97f-163">C:\Logs\log\*.txt</span><span class="sxs-lookup"><span data-stu-id="bf97f-163">C:\Logs\log\*.txt</span></span> |
| <span data-ttu-id="bf97f-164">Všechny soubory v */var/log/audit* s příponou .txt na agenta systému Linux</span><span class="sxs-lookup"><span data-stu-id="bf97f-164">All files in */var/log/audit* with .txt extension on Linux agent</span></span> |<span data-ttu-id="bf97f-165">/var/log/audit/*.txt</span><span class="sxs-lookup"><span data-stu-id="bf97f-165">/var/log/audit/*.txt</span></span> |
| <span data-ttu-id="bf97f-166">Všechny soubory v */var/log/audit* s názvem počínaje protokolu a příponu .txt na agenta systému Linux</span><span class="sxs-lookup"><span data-stu-id="bf97f-166">All files in */var/log/audit* with a name starting with log and a .txt extension on Linux agent</span></span> |<span data-ttu-id="bf97f-167">/var/log/audit/log\*.txt</span><span class="sxs-lookup"><span data-stu-id="bf97f-167">/var/log/audit/log\*.txt</span></span> |

1. <span data-ttu-id="bf97f-168">Vyberte systému Windows nebo Linux toospecify formát cesty, které přidáváte.</span><span class="sxs-lookup"><span data-stu-id="bf97f-168">Select Windows or Linux toospecify which path format you are adding.</span></span>
2. <span data-ttu-id="bf97f-169">Zadejte do pole Cesta hello a klikněte na tlačítko hello  **+**  tlačítko.</span><span class="sxs-lookup"><span data-stu-id="bf97f-169">Type in hello path and click hello **+** button.</span></span>
3. <span data-ttu-id="bf97f-170">Hello postup opakujte pro všechny další cesty.</span><span class="sxs-lookup"><span data-stu-id="bf97f-170">Repeat hello process for any additional paths.</span></span>

### <a name="step-4-provide-a-name-and-description-for-hello-log"></a><span data-ttu-id="bf97f-171">Krok 4.</span><span class="sxs-lookup"><span data-stu-id="bf97f-171">Step 4.</span></span> <span data-ttu-id="bf97f-172">Zadejte název a popis pro protokol hello</span><span class="sxs-lookup"><span data-stu-id="bf97f-172">Provide a name and description for hello log</span></span>
<span data-ttu-id="bf97f-173">Hello název, který zadáte se použije pro typ protokolu hello jak bylo popsáno výše.</span><span class="sxs-lookup"><span data-stu-id="bf97f-173">hello name that you specify will be used for hello log type as described above.</span></span>  <span data-ttu-id="bf97f-174">Ho bude vždy končit _CL toodistinguish jej jako vlastní protokol.</span><span class="sxs-lookup"><span data-stu-id="bf97f-174">It will always end with _CL toodistinguish it as a custom log.</span></span>

1. <span data-ttu-id="bf97f-175">Zadejte název pro protokol hello.</span><span class="sxs-lookup"><span data-stu-id="bf97f-175">Type in a name for hello log.</span></span>  <span data-ttu-id="bf97f-176">Hello  **\_CL** automaticky zajištěna příponu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-176">hello **\_CL** suffix is automatically provided.</span></span>
2. <span data-ttu-id="bf97f-177">Přidejte volitelné **popis**.</span><span class="sxs-lookup"><span data-stu-id="bf97f-177">Add an optional **Description**.</span></span>
3. <span data-ttu-id="bf97f-178">Klikněte na tlačítko **Další** toosave hello vlastní protokol definice.</span><span class="sxs-lookup"><span data-stu-id="bf97f-178">Click **Next** toosave hello custom log definition.</span></span>

### <a name="step-5-validate-that-hello-custom-logs-are-being-collected"></a><span data-ttu-id="bf97f-179">Krok 5.</span><span class="sxs-lookup"><span data-stu-id="bf97f-179">Step 5.</span></span> <span data-ttu-id="bf97f-180">Ověřte, že hello vlastní protokoly jsou shromažďovány</span><span class="sxs-lookup"><span data-stu-id="bf97f-180">Validate that hello custom logs are being collected</span></span>
<span data-ttu-id="bf97f-181">To může trvat až hodinu tooan hello počáteční data z nové tooappear vlastního protokolu v analýzy protokolů.</span><span class="sxs-lookup"><span data-stu-id="bf97f-181">It may take up tooan hour for hello initial data from a new custom log tooappear in Log Analytics.</span></span>  <span data-ttu-id="bf97f-182">Spustí shromažďování položky z hello protokoly najít v cestě hello jste zadali z bodu hello je definovaný hello vlastní protokol.</span><span class="sxs-lookup"><span data-stu-id="bf97f-182">It will start collecting entries from hello logs found in hello path you specified from hello point that you defined hello custom log.</span></span>  <span data-ttu-id="bf97f-183">Nezachovají hello položky, které jste odeslali během vytváření hello vlastního protokolu, ale shromáždí již existující položky v hello soubory protokolů, které je možné vyhledat.</span><span class="sxs-lookup"><span data-stu-id="bf97f-183">It will not retain hello entries that you uploaded during hello custom log creation, but it will collect already existing entries in hello log files that it locates.</span></span>

<span data-ttu-id="bf97f-184">Jakmile analýzy protokolů spustí shromažďování z vlastního protokolu hello, bude k dispozici s hledání protokolů svoje záznamy.</span><span class="sxs-lookup"><span data-stu-id="bf97f-184">Once Log Analytics starts collecting from hello custom log, its records will be available with a Log Search.</span></span>  <span data-ttu-id="bf97f-185">Použití hello název, který jste zadali vlastní protokol hello jako hello **typ** v dotazu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-185">Use hello name that you gave hello custom log as hello **Type** in your query.</span></span>

> [!NOTE]
> <span data-ttu-id="bf97f-186">Pokud chybí hello RawData vlastnost z hello hledání, může potřebovat tooclose a znovu otevřete prohlížeč.</span><span class="sxs-lookup"><span data-stu-id="bf97f-186">If hello RawData property is missing from hello search, you may need tooclose and reopen your browser.</span></span>
>
>

### <a name="step-6-parse-hello-custom-log-entries"></a><span data-ttu-id="bf97f-187">Krok 6.</span><span class="sxs-lookup"><span data-stu-id="bf97f-187">Step 6.</span></span> <span data-ttu-id="bf97f-188">Analyzovat položky vlastní protokolu hello</span><span class="sxs-lookup"><span data-stu-id="bf97f-188">Parse hello custom log entries</span></span>
<span data-ttu-id="bf97f-189">Položka Hello celý protokolu bude uložen v jedné vlastnost s názvem **RawData**.</span><span class="sxs-lookup"><span data-stu-id="bf97f-189">hello entire log entry will be stored in a single property called **RawData**.</span></span>  <span data-ttu-id="bf97f-190">Pravděpodobně budete chtít tooseparate hello různé části informací v každé položky do jednotlivé vlastnosti, které jsou uložené v záznamu hello.</span><span class="sxs-lookup"><span data-stu-id="bf97f-190">You will most likely want tooseparate hello different pieces of information in each entry into individual properties stored in hello record.</span></span>  <span data-ttu-id="bf97f-191">To provedete pomocí hello [vlastní pole](log-analytics-custom-fields.md) funkce analýzy protokolů.</span><span class="sxs-lookup"><span data-stu-id="bf97f-191">You do this using hello [Custom Fields](log-analytics-custom-fields.md) feature of Log Analytics.</span></span>

<span data-ttu-id="bf97f-192">Podrobné kroky k analýze položka hello vlastní protokolu nejsou uvedeny zde.</span><span class="sxs-lookup"><span data-stu-id="bf97f-192">Detailed steps for parsing hello custom log entry are not provided here.</span></span>  <span data-ttu-id="bf97f-193">Podrobnosti najdete toohello [vlastní pole](log-analytics-custom-fields.md) dokumentaci pro tyto informace.</span><span class="sxs-lookup"><span data-stu-id="bf97f-193">Please refer toohello [Custom Fields](log-analytics-custom-fields.md) documentation for this information.</span></span>

## <a name="disabling-a-custom-log"></a><span data-ttu-id="bf97f-194">Zakázání vlastního protokolu</span><span class="sxs-lookup"><span data-stu-id="bf97f-194">Disabling a custom log</span></span>
<span data-ttu-id="bf97f-195">Definice vlastního protokolu nelze odebrat, jakmile je byla vytvořena, ale můžete ji zakázat odebráním všech jeho cesty ke kolekcím.</span><span class="sxs-lookup"><span data-stu-id="bf97f-195">You cannot remove a custom log definition once it's been created, but you can disable it by removing all of its collection paths.</span></span>

1. <span data-ttu-id="bf97f-196">Na portálu OMS hello, přejděte příliš**nastavení**.</span><span class="sxs-lookup"><span data-stu-id="bf97f-196">In hello OMS portal, go too**Settings**.</span></span>
2. <span data-ttu-id="bf97f-197">Klikněte na **Data** a potom **vlastní protokoly**.</span><span class="sxs-lookup"><span data-stu-id="bf97f-197">Click on **Data** and then **Custom logs**.</span></span>
3. <span data-ttu-id="bf97f-198">Klikněte na tlačítko **podrobnosti** další toodisable definice toohello vlastního protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-198">Click **Details** next toohello custom log definition toodisable.</span></span>
4. <span data-ttu-id="bf97f-199">Odeberte všechny hello cesty ke kolekcím pro definice hello vlastního protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-199">Remove each of hello collection paths for hello custom log definition.</span></span>

## <a name="data-collection"></a><span data-ttu-id="bf97f-200">Shromažďování dat</span><span class="sxs-lookup"><span data-stu-id="bf97f-200">Data collection</span></span>
<span data-ttu-id="bf97f-201">Analýzy protokolů bude shromažďovat nové položky z každé vlastní protokolu přibližně každých 5 minut.</span><span class="sxs-lookup"><span data-stu-id="bf97f-201">Log Analytics will collect new entries from each custom log approximately every 5 minutes.</span></span>  <span data-ttu-id="bf97f-202">Hello agenta zaznamená v jednotlivých souborů protokolu, který shromáždí z jeho místo.</span><span class="sxs-lookup"><span data-stu-id="bf97f-202">hello agent will record its place in each log file that it collects from.</span></span>  <span data-ttu-id="bf97f-203">Pokud agenta hello přejde do režimu offline dobu, bude položky od posledního místa vypnutý, shromažďovat analýzy protokolů i v případě, že tyto položky byly vytvořeny v době, kdy hello agent offline.</span><span class="sxs-lookup"><span data-stu-id="bf97f-203">If hello agent goes offline for a period of time, then Log Analytics will collect entries from where it last left off, even if those entries were created while hello agent was offline.</span></span>

<span data-ttu-id="bf97f-204">celý obsah Hello hello položky protokolu se zapisují tooa jednu vlastnost s názvem **RawData**.</span><span class="sxs-lookup"><span data-stu-id="bf97f-204">hello entire contents of hello log entry are written tooa single property called **RawData**.</span></span>  <span data-ttu-id="bf97f-205">To můžete analyzovat na více vlastností, které mohou být analyzován a vyhledávat samostatně definováním [vlastní pole](log-analytics-custom-fields.md) po vytvoření hello vlastního protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-205">You can parse this into multiple properties that can be analyzed and searched separately by defining [Custom Fields](log-analytics-custom-fields.md) after you have created hello custom log.</span></span>

## <a name="custom-log-record-properties"></a><span data-ttu-id="bf97f-206">Vlastnosti záznamu vlastní protokolu</span><span class="sxs-lookup"><span data-stu-id="bf97f-206">Custom log record properties</span></span>
<span data-ttu-id="bf97f-207">Vlastní protokol záznamů mít typ s názvem hello protokolu, které poskytují a hello vlastnosti v hello následující tabulka.</span><span class="sxs-lookup"><span data-stu-id="bf97f-207">Custom log records have a type with hello log name that you provide and hello properties in hello following table.</span></span>

| <span data-ttu-id="bf97f-208">Vlastnost</span><span class="sxs-lookup"><span data-stu-id="bf97f-208">Property</span></span> | <span data-ttu-id="bf97f-209">Popis</span><span class="sxs-lookup"><span data-stu-id="bf97f-209">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="bf97f-210">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="bf97f-210">TimeGenerated</span></span> |<span data-ttu-id="bf97f-211">Datum a čas, který hello záznam nebyla shromážděna podle analýzy protokolů.</span><span class="sxs-lookup"><span data-stu-id="bf97f-211">Date and time that hello record was collected by Log Analytics.</span></span>  <span data-ttu-id="bf97f-212">Pokud protokol hello používá oddělovač založené na čase jde hello čas shromážděných z položky hello.</span><span class="sxs-lookup"><span data-stu-id="bf97f-212">If hello log uses a time-based delimiter then this is hello time collected from hello entry.</span></span> |
| <span data-ttu-id="bf97f-213">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="bf97f-213">SourceSystem</span></span> |<span data-ttu-id="bf97f-214">Typ záznamu hello agenta nebyla shromážděna z.</span><span class="sxs-lookup"><span data-stu-id="bf97f-214">Type of agent hello record was collected from.</span></span> <br> <span data-ttu-id="bf97f-215">Připojit OpsManager – agent systému Windows, buď přímo nebo System Center Operations Manager</span><span class="sxs-lookup"><span data-stu-id="bf97f-215">OpsManager – Windows agent, either direct connect or System Center Operations Manager</span></span> <br> <span data-ttu-id="bf97f-216">Linux – všechny agenty Linux</span><span class="sxs-lookup"><span data-stu-id="bf97f-216">Linux – All Linux agents</span></span> |
| <span data-ttu-id="bf97f-217">RawData</span><span class="sxs-lookup"><span data-stu-id="bf97f-217">RawData</span></span> |<span data-ttu-id="bf97f-218">Úplný text hello shromažďují položku.</span><span class="sxs-lookup"><span data-stu-id="bf97f-218">Full text of hello collected entry.</span></span> |
| <span data-ttu-id="bf97f-219">ManagementGroupName</span><span class="sxs-lookup"><span data-stu-id="bf97f-219">ManagementGroupName</span></span> |<span data-ttu-id="bf97f-220">Název skupiny pro správu hello pro System Center Operations spravovat agenty.</span><span class="sxs-lookup"><span data-stu-id="bf97f-220">Name of hello management group for System Center Operations Manage agents.</span></span>  <span data-ttu-id="bf97f-221">Pro jiné agenty jde AOI -\<ID pracovního prostoru\></span><span class="sxs-lookup"><span data-stu-id="bf97f-221">For other agents, this is AOI-\<workspace ID\></span></span> |

## <a name="log-searches-with-custom-log-records"></a><span data-ttu-id="bf97f-222">Protokol hledání se záznamy vlastního protokolu</span><span class="sxs-lookup"><span data-stu-id="bf97f-222">Log searches with custom log records</span></span>
<span data-ttu-id="bf97f-223">Záznamy z vlastní protokoly jsou uloženy v úložišti OMS hello stejně jako záznamy z jiného zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="bf97f-223">Records from custom logs are stored in hello OMS repository just like records from any other data source.</span></span>  <span data-ttu-id="bf97f-224">Budou mít typ odpovídající hello název, který zadáte, když definujete hello protokolu, abyste je mohli používat vlastnost typu hello v záznamech tooretrieve vyhledávání shromážděných z konkrétní protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-224">They will have a type matching hello name that you provide when you define hello log, so you can use hello Type property in your search tooretrieve records collected from a specific log.</span></span>

<span data-ttu-id="bf97f-225">Hello následující tabulka obsahuje různé příklady vyhledávání protokolu, které načtení záznamů z vlastní protokoly.</span><span class="sxs-lookup"><span data-stu-id="bf97f-225">hello following table provides different examples of log searches that retrieve records from custom logs.</span></span>

| <span data-ttu-id="bf97f-226">Dotaz</span><span class="sxs-lookup"><span data-stu-id="bf97f-226">Query</span></span> | <span data-ttu-id="bf97f-227">Popis</span><span class="sxs-lookup"><span data-stu-id="bf97f-227">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="bf97f-228">Typ = MyApp_CL</span><span class="sxs-lookup"><span data-stu-id="bf97f-228">Type=MyApp_CL</span></span> |<span data-ttu-id="bf97f-229">Všechny události z vlastní protokolu s názvem MyApp_CL.</span><span class="sxs-lookup"><span data-stu-id="bf97f-229">All events from a custom log named MyApp_CL.</span></span> |
| <span data-ttu-id="bf97f-230">Typ = MyApp_CL Severity_CF = chyby</span><span class="sxs-lookup"><span data-stu-id="bf97f-230">Type=MyApp_CL Severity_CF=error</span></span> |<span data-ttu-id="bf97f-231">Všechny události z vlastní protokolu s názvem MyApp_CL s hodnotou *chyba* do vlastní pole s názvem *Severity_CF*.</span><span class="sxs-lookup"><span data-stu-id="bf97f-231">All events from a custom log named MyApp_CL with a value of *error* in a custom field named *Severity_CF*.</span></span> |

>[!NOTE]
> <span data-ttu-id="bf97f-232">Pokud pracovní prostor byl upgradovaný toohello [nové analýzy protokolů dotazu jazyka](log-analytics-log-search-upgrade.md), pak změní následující toohello hello výše dotazy.</span><span class="sxs-lookup"><span data-stu-id="bf97f-232">If your workspace has been upgraded toohello [new Log Analytics query language](log-analytics-log-search-upgrade.md), then hello above queries would change toohello following.</span></span>

> | <span data-ttu-id="bf97f-233">Dotaz</span><span class="sxs-lookup"><span data-stu-id="bf97f-233">Query</span></span> | <span data-ttu-id="bf97f-234">Popis</span><span class="sxs-lookup"><span data-stu-id="bf97f-234">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="bf97f-235">MyApp_CL</span><span class="sxs-lookup"><span data-stu-id="bf97f-235">MyApp_CL</span></span> |<span data-ttu-id="bf97f-236">Všechny události z vlastní protokolu s názvem MyApp_CL.</span><span class="sxs-lookup"><span data-stu-id="bf97f-236">All events from a custom log named MyApp_CL.</span></span> |
| <span data-ttu-id="bf97f-237">MyApp_CL &#124; kde Severity_CF == "error.</span><span class="sxs-lookup"><span data-stu-id="bf97f-237">MyApp_CL &#124; where Severity_CF=="error"</span></span> |<span data-ttu-id="bf97f-238">Všechny události z vlastní protokolu s názvem MyApp_CL s hodnotou *chyba* do vlastní pole s názvem *Severity_CF*.</span><span class="sxs-lookup"><span data-stu-id="bf97f-238">All events from a custom log named MyApp_CL with a value of *error* in a custom field named *Severity_CF*.</span></span> |


## <a name="sample-walkthrough-of-adding-a-custom-log"></a><span data-ttu-id="bf97f-239">Ukázka návod přidání vlastního protokolu</span><span class="sxs-lookup"><span data-stu-id="bf97f-239">Sample walkthrough of adding a custom log</span></span>
<span data-ttu-id="bf97f-240">Hello následující části vás provede příklad vytvoření vlastního protokolu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-240">hello following section walks through an example of creating a custom log.</span></span>  <span data-ttu-id="bf97f-241">ukázkový protokol Hello shromažďovaných má jednu položku na každý řádek počínaje datum a čas a potom oddělených čárkou pole pro kód, stav a zprávy.</span><span class="sxs-lookup"><span data-stu-id="bf97f-241">hello sample log being collected has a single entry on each line starting with a date and time and then comma-delimited fields for code, status, and message.</span></span>  <span data-ttu-id="bf97f-242">Níže jsou uvedeny několik položek příkladu.</span><span class="sxs-lookup"><span data-stu-id="bf97f-242">Several sample entries are shown below.</span></span>

    2016-03-10 01:34:36 207,Success,Client 05a26a97-272a-4bc9-8f64-269d154b0e39 connected
    2016-03-10 01:33:33 208,Warning,Client ec53d95c-1c88-41ae-8174-92104212de5d disconnected
    2016-03-10 01:35:44 209,Success,Transaction 10d65890-b003-48f8-9cfc-9c74b51189c8 succeeded
    2016-03-10 01:38:22 302,Error,Application could not connect toodatabase
    2016-03-10 01:31:34 303,Error,Application lost connection toodatabase

### <a name="upload-and-parse-a-sample-log"></a><span data-ttu-id="bf97f-243">Nahrání a analyzovat ukázkový protokol</span><span class="sxs-lookup"><span data-stu-id="bf97f-243">Upload and parse a sample log</span></span>
<span data-ttu-id="bf97f-244">Jsme zadejte některou z hello soubory protokolu a zobrazit hello události, které bude shromažďování.</span><span class="sxs-lookup"><span data-stu-id="bf97f-244">We provide one of hello log files and can see hello events that it will be collecting.</span></span>  <span data-ttu-id="bf97f-245">Nový řádek v tomto případě je dostatečná oddělovač.</span><span class="sxs-lookup"><span data-stu-id="bf97f-245">In this case New Line is a sufficient delimiter.</span></span>  <span data-ttu-id="bf97f-246">Pokud jeden záznam v protokolu hello může zahrnovat více řádků, přestože by třeba oddělovač časové razítko toobe použít.</span><span class="sxs-lookup"><span data-stu-id="bf97f-246">If a single entry in hello log could span multiple lines though, then a timestamp delimiter would need toobe used.</span></span>

![Nahrání a analyzovat ukázkový protokol](media/log-analytics-data-sources-custom-logs/delimiter.png)

### <a name="add-log-collection-paths"></a><span data-ttu-id="bf97f-248">Přidat cesty ke kolekcím protokolů</span><span class="sxs-lookup"><span data-stu-id="bf97f-248">Add log collection paths</span></span>
<span data-ttu-id="bf97f-249">soubory protokolu Hello budou umístěny v *C:\MyApp\Logs*.</span><span class="sxs-lookup"><span data-stu-id="bf97f-249">hello log files will be located in *C:\MyApp\Logs*.</span></span>  <span data-ttu-id="bf97f-250">Nový soubor se vytvoří každý den s názvem, který obsahuje data hello ve vzoru hello *appYYYYMMDD.log*.</span><span class="sxs-lookup"><span data-stu-id="bf97f-250">A new file will be created each day with a name that includes hello date in hello pattern *appYYYYMMDD.log*.</span></span>  <span data-ttu-id="bf97f-251">Dostatečná vzor pro tento protokol by *C:\MyApp\Logs\\\*.log*.</span><span class="sxs-lookup"><span data-stu-id="bf97f-251">A sufficient pattern for this log would be *C:\MyApp\Logs\\\*.log*.</span></span>

![Cesta kolekce protokolu](media/log-analytics-data-sources-custom-logs/collection-path.png)

### <a name="provide-a-name-and-description-for-hello-log"></a><span data-ttu-id="bf97f-253">Zadejte název a popis pro protokol hello</span><span class="sxs-lookup"><span data-stu-id="bf97f-253">Provide a name and description for hello log</span></span>
<span data-ttu-id="bf97f-254">Používáme název *MyApp_CL* a zadejte **popis**.</span><span class="sxs-lookup"><span data-stu-id="bf97f-254">We use a name of *MyApp_CL* and type in a **Description**.</span></span>

![Název protokolu](media/log-analytics-data-sources-custom-logs/log-name.png)

### <a name="validate-that-hello-custom-logs-are-being-collected"></a><span data-ttu-id="bf97f-256">Ověřte, že hello vlastní protokoly jsou shromažďovány</span><span class="sxs-lookup"><span data-stu-id="bf97f-256">Validate that hello custom logs are being collected</span></span>
<span data-ttu-id="bf97f-257">Používáme dotaz *typ = MyApp_CL* tooreturn všechny záznamy z protokolu shromážděných hello.</span><span class="sxs-lookup"><span data-stu-id="bf97f-257">We use a query of *Type=MyApp_CL* tooreturn all records from hello collected log.</span></span>

![Dotaz protokolu s žádné vlastní pole](media/log-analytics-data-sources-custom-logs/query-01.png)

### <a name="parse-hello-custom-log-entries"></a><span data-ttu-id="bf97f-259">Analyzovat položky vlastní protokolu hello</span><span class="sxs-lookup"><span data-stu-id="bf97f-259">Parse hello custom log entries</span></span>
<span data-ttu-id="bf97f-260">Používáme vlastní pole toodefine hello *EventTime*, *kód*, *stav*, a *zpráva* pole a jsme viděli hello rozdíl hello záznamy, které jsou vrácených dotazem hello.</span><span class="sxs-lookup"><span data-stu-id="bf97f-260">We use Custom Fields toodefine hello *EventTime*, *Code*, *Status*, and *Message* fields and we can see hello difference in hello records that are returned by hello query.</span></span>

![Protokol dotazu s vlastními poli](media/log-analytics-data-sources-custom-logs/query-02.png)

## <a name="next-steps"></a><span data-ttu-id="bf97f-262">Další kroky</span><span class="sxs-lookup"><span data-stu-id="bf97f-262">Next steps</span></span>
* <span data-ttu-id="bf97f-263">Použití [vlastní pole](log-analytics-custom-fields.md) tooparse hello položky hello vlastní protokolu tooindividual polí.</span><span class="sxs-lookup"><span data-stu-id="bf97f-263">Use [Custom Fields](log-analytics-custom-fields.md) tooparse hello entries in hello custom log in tooindividual fields.</span></span>
* <span data-ttu-id="bf97f-264">Další informace o [protokolu hledání](log-analytics-log-searches.md) tooanalyze hello data budou shromažďovat ze zdroje dat a řešení.</span><span class="sxs-lookup"><span data-stu-id="bf97f-264">Learn about [log searches](log-analytics-log-searches.md) tooanalyze hello data collected from data sources and solutions.</span></span>
