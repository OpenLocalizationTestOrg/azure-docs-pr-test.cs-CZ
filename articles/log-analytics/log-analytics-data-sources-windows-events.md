---
title: "Shromažďovat a analyzovat protokoly událostí systému Windows v OMS Log Analytics | Microsoft Docs"
description: "Protokoly událostí systému Windows jsou jedním z nejčastějších zdroje dat používané analýzy protokolů.  Tento článek popisuje postup konfigurace shromažďování protokolů událostí systému Windows a podrobnosti záznamů, které vytvoří v úložišti OMS."
services: log-analytics
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.assetid: ee52f564-995b-450f-a6ba-0d7b1dac3f32
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/15/2017
ms.author: bwren
ms.openlocfilehash: 1be8500ec2cb78ef0edf57f4d8561336cf00ebcb
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/18/2017
---
# <a name="windows-event-log-data-sources-in-log-analytics"></a><span data-ttu-id="43948-104">Zdroje dat protokolu událostí systému Windows v analýzy protokolů</span><span class="sxs-lookup"><span data-stu-id="43948-104">Windows event log data sources in Log Analytics</span></span>
<span data-ttu-id="43948-105">Protokoly událostí systému Windows jsou jedním z většiny běžných [zdroje dat](log-analytics-data-sources.md) pro shromažďování dat pomocí agentů v systému Windows, vzhledem k tomu, že řada aplikací pro zápis do protokolu událostí systému Windows.</span><span class="sxs-lookup"><span data-stu-id="43948-105">Windows Event logs are one of the most common [data sources](log-analytics-data-sources.md) for collecting data using Windows agents since many applications write to the Windows event log.</span></span>  <span data-ttu-id="43948-106">Kromě určení žádné vlastní protokoly, které jsou vytvořené pomocí aplikací, které potřebujete k monitorování může shromažďovat události z standardní protokoly, jako je například systém a aplikace.</span><span class="sxs-lookup"><span data-stu-id="43948-106">You can collect events from standard logs such as System and Application in addition to specifying any custom logs created by applications you need to monitor.</span></span>

![Události systému Windows](media/log-analytics-data-sources-windows-events/overview.png)     

## <a name="configuring-windows-event-logs"></a><span data-ttu-id="43948-108">Protokoly událostí konfigurace systému Windows</span><span class="sxs-lookup"><span data-stu-id="43948-108">Configuring Windows Event logs</span></span>
<span data-ttu-id="43948-109">Protokoly událostí systému Windows z konfigurace [nabídce Data v nastavení analýzy protokolů](log-analytics-data-sources.md#configuring-data-sources).</span><span class="sxs-lookup"><span data-stu-id="43948-109">Configure Windows Event logs from the [Data menu in Log Analytics Settings](log-analytics-data-sources.md#configuring-data-sources).</span></span>

<span data-ttu-id="43948-110">Analýzy protokolů pouze shromažďuje události z protokolů událostí systému Windows, které jsou určené v nastavení.</span><span class="sxs-lookup"><span data-stu-id="43948-110">Log Analytics only collects events from the Windows event logs that are specified in the settings.</span></span>  <span data-ttu-id="43948-111">Protokol událostí můžete přidat zadáním názvu do protokolu a kliknutím na tlačítko  **+** .</span><span class="sxs-lookup"><span data-stu-id="43948-111">You can add an event log by typing in the name of the log and clicking **+**.</span></span>  <span data-ttu-id="43948-112">Pro každý protokol se shromažďují jenom události s vybranou závažnosti.</span><span class="sxs-lookup"><span data-stu-id="43948-112">For each log, only the events with the selected severities are collected.</span></span>  <span data-ttu-id="43948-113">Zkontrolujte závažnosti pro určitý protokol, který chcete shromáždit.</span><span class="sxs-lookup"><span data-stu-id="43948-113">Check the severities for the particular log that you want to collect.</span></span>  <span data-ttu-id="43948-114">Nelze poskytnout žádná další kritéria filtrování událostí.</span><span class="sxs-lookup"><span data-stu-id="43948-114">You cannot provide any additional criteria to filter events.</span></span>

<span data-ttu-id="43948-115">Jak budete zadávat název protokolu událostí, analýzy protokolů poskytuje návrhy běžné názvy protokolu událostí.</span><span class="sxs-lookup"><span data-stu-id="43948-115">As you type the name of an event log, Log Analytics provides suggestions of common event log names.</span></span> <span data-ttu-id="43948-116">Pokud na protokol, který chcete přidat v seznamu nezobrazí, můžete ho přidat stále zadáním do úplného názvu protokolu.</span><span class="sxs-lookup"><span data-stu-id="43948-116">If the log you want to add does not appear in the list, you can still add it by typing in the full name of the log.</span></span> <span data-ttu-id="43948-117">Úplný název protokolu můžete najít pomocí prohlížeče událostí.</span><span class="sxs-lookup"><span data-stu-id="43948-117">You can find the full name of the log by using event viewer.</span></span> <span data-ttu-id="43948-118">V prohlížeči událostí, otevřete *vlastnosti* stránky pro protokol a zkopírujte řetězec z *úplný název* pole.</span><span class="sxs-lookup"><span data-stu-id="43948-118">In event viewer, open the *Properties* page for the log and copy the string from the *Full Name* field.</span></span>

![Konfigurace události systému Windows](media/log-analytics-data-sources-windows-events/configure.png)

## <a name="data-collection"></a><span data-ttu-id="43948-120">Shromažďování dat</span><span class="sxs-lookup"><span data-stu-id="43948-120">Data collection</span></span>
<span data-ttu-id="43948-121">Analýzy protokolů shromažďuje všechny události, která odpovídá vybrané závažnost z monitorovaných protokolu událostí, při vytváření události.</span><span class="sxs-lookup"><span data-stu-id="43948-121">Log Analytics collects each event that matches a selected severity from a monitored event log as the event is created.</span></span>  <span data-ttu-id="43948-122">Agent zaznamenává jeho místo v každém protokolu událostí, shromažďující z.</span><span class="sxs-lookup"><span data-stu-id="43948-122">The agent records its place in each event log that it collects from.</span></span>  <span data-ttu-id="43948-123">Pokud agenta přejde do režimu offline dobu, pak analýzy protokolů shromažďuje události od poslední místa vypnout, i v případě, že tyto události byly vytvořeny v době, kdy agent offline.</span><span class="sxs-lookup"><span data-stu-id="43948-123">If the agent goes offline for a period of time, then Log Analytics collects events from where it last left off, even if those events were created while the agent was offline.</span></span>  <span data-ttu-id="43948-124">Existuje možnost pro tyto události, které nelze shromažďovat, pokud v protokolu událostí zabalí s nesebraný události přepsáním při agenta je offline.</span><span class="sxs-lookup"><span data-stu-id="43948-124">There is a potential for these events to not be collected if the event log wraps with uncollected events being overwritten while the agent is offline.</span></span>

>[!NOTE]
><span data-ttu-id="43948-125">Analýzy protokolů nejsou shromažďovány události auditu vytvořené systémem SQL Server ze zdroje *MSSQLSERVER* s ID události 18453, který obsahuje klíčová slova - *Classic* nebo *auditovat úspěšné* a – klíčové slovo *0xa0000000000000*.</span><span class="sxs-lookup"><span data-stu-id="43948-125">Log Analytics does not collect audit events created by SQL Server from source *MSSQLSERVER* with event ID 18453 that contains keywords - *Classic* or *Audit Success* and keyword *0xa0000000000000*.</span></span>
>

## <a name="windows-event-records-properties"></a><span data-ttu-id="43948-126">Vlastnosti záznamů událostí systému Windows</span><span class="sxs-lookup"><span data-stu-id="43948-126">Windows event records properties</span></span>
<span data-ttu-id="43948-127">Záznamy událostí Windows mít typ **událostí** a mít vlastnosti v následující tabulce:</span><span class="sxs-lookup"><span data-stu-id="43948-127">Windows event records have a type of **Event** and have the properties in the following table:</span></span>

| <span data-ttu-id="43948-128">Vlastnost</span><span class="sxs-lookup"><span data-stu-id="43948-128">Property</span></span> | <span data-ttu-id="43948-129">Popis</span><span class="sxs-lookup"><span data-stu-id="43948-129">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="43948-130">Počítač</span><span class="sxs-lookup"><span data-stu-id="43948-130">Computer</span></span> |<span data-ttu-id="43948-131">Název počítače, který událost nebyla shromážděna z.</span><span class="sxs-lookup"><span data-stu-id="43948-131">Name of the computer that the event was collected from.</span></span> |
| <span data-ttu-id="43948-132">EventCategory</span><span class="sxs-lookup"><span data-stu-id="43948-132">EventCategory</span></span> |<span data-ttu-id="43948-133">Kategorie události.</span><span class="sxs-lookup"><span data-stu-id="43948-133">Category of the event.</span></span> |
| <span data-ttu-id="43948-134">EventData</span><span class="sxs-lookup"><span data-stu-id="43948-134">EventData</span></span> |<span data-ttu-id="43948-135">Data všech událostí v nezpracovaném formátu.</span><span class="sxs-lookup"><span data-stu-id="43948-135">All event data in raw format.</span></span> |
| <span data-ttu-id="43948-136">ID události</span><span class="sxs-lookup"><span data-stu-id="43948-136">EventID</span></span> |<span data-ttu-id="43948-137">Číslo události.</span><span class="sxs-lookup"><span data-stu-id="43948-137">Number of the event.</span></span> |
| <span data-ttu-id="43948-138">eventLevel</span><span class="sxs-lookup"><span data-stu-id="43948-138">EventLevel</span></span> |<span data-ttu-id="43948-139">Závažnost události v číselný tvar.</span><span class="sxs-lookup"><span data-stu-id="43948-139">Severity of the event in numeric form.</span></span> |
| <span data-ttu-id="43948-140">EventLevelName</span><span class="sxs-lookup"><span data-stu-id="43948-140">EventLevelName</span></span> |<span data-ttu-id="43948-141">Závažnost události v textové podobě.</span><span class="sxs-lookup"><span data-stu-id="43948-141">Severity of the event in text form.</span></span> |
| <span data-ttu-id="43948-142">Protokol událostí</span><span class="sxs-lookup"><span data-stu-id="43948-142">EventLog</span></span> |<span data-ttu-id="43948-143">Název protokolu událostí, který událost nebyla shromážděna z.</span><span class="sxs-lookup"><span data-stu-id="43948-143">Name of the event log that the event was collected from.</span></span> |
| <span data-ttu-id="43948-144">ParameterXml</span><span class="sxs-lookup"><span data-stu-id="43948-144">ParameterXml</span></span> |<span data-ttu-id="43948-145">Hodnoty parametru události ve formátu XML.</span><span class="sxs-lookup"><span data-stu-id="43948-145">Event parameter values in XML format.</span></span> |
| <span data-ttu-id="43948-146">ManagementGroupName</span><span class="sxs-lookup"><span data-stu-id="43948-146">ManagementGroupName</span></span> |<span data-ttu-id="43948-147">Název skupiny pro správu pro agenty nástroje System Center Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="43948-147">Name of the management group for System Center Operations Manager agents.</span></span>  <span data-ttu-id="43948-148">Pro jiné agenty tato hodnota je AOI-<workspace ID></span><span class="sxs-lookup"><span data-stu-id="43948-148">For other agents, this value is AOI-<workspace ID></span></span> |
| <span data-ttu-id="43948-149">RenderedDescription</span><span class="sxs-lookup"><span data-stu-id="43948-149">RenderedDescription</span></span> |<span data-ttu-id="43948-150">Popis události s hodnotami parametrů</span><span class="sxs-lookup"><span data-stu-id="43948-150">Event description with parameter values</span></span> |
| <span data-ttu-id="43948-151">Zdroj</span><span class="sxs-lookup"><span data-stu-id="43948-151">Source</span></span> |<span data-ttu-id="43948-152">Zdroj události.</span><span class="sxs-lookup"><span data-stu-id="43948-152">Source of the event.</span></span> |
| <span data-ttu-id="43948-153">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="43948-153">SourceSystem</span></span> |<span data-ttu-id="43948-154">Typ agenta událost nebyla shromážděna z.</span><span class="sxs-lookup"><span data-stu-id="43948-154">Type of agent the event was collected from.</span></span> <br> <span data-ttu-id="43948-155">Připojit OpsManager – agent systému Windows, buď přímo nebo spravovaná nástroje Operations Manager</span><span class="sxs-lookup"><span data-stu-id="43948-155">OpsManager – Windows agent, either direct connect or Operations Manager managed</span></span> <br> <span data-ttu-id="43948-156">Linux – všechny agenty Linux</span><span class="sxs-lookup"><span data-stu-id="43948-156">Linux – All Linux agents</span></span>  <br> <span data-ttu-id="43948-157">Azurestorage – Azure Diagnostics.</span><span class="sxs-lookup"><span data-stu-id="43948-157">AzureStorage – Azure Diagnostics</span></span> |
| <span data-ttu-id="43948-158">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="43948-158">TimeGenerated</span></span> |<span data-ttu-id="43948-159">Datum a čas vytvoření události v systému Windows.</span><span class="sxs-lookup"><span data-stu-id="43948-159">Date and time the event was created in Windows.</span></span> |
| <span data-ttu-id="43948-160">Uživatelské jméno</span><span class="sxs-lookup"><span data-stu-id="43948-160">UserName</span></span> |<span data-ttu-id="43948-161">Uživatelské jméno účtu, která událost zaznamenala.</span><span class="sxs-lookup"><span data-stu-id="43948-161">User name of the account that logged the event.</span></span> |

## <a name="log-searches-with-windows-events"></a><span data-ttu-id="43948-162">Protokol hledání se události systému Windows</span><span class="sxs-lookup"><span data-stu-id="43948-162">Log searches with Windows Events</span></span>
<span data-ttu-id="43948-163">Následující tabulka obsahuje různé příklady vyhledávání protokolu, které načtení záznamů událostí systému Windows.</span><span class="sxs-lookup"><span data-stu-id="43948-163">The following table provides different examples of log searches that retrieve Windows Event records.</span></span>

| <span data-ttu-id="43948-164">Dotaz</span><span class="sxs-lookup"><span data-stu-id="43948-164">Query</span></span> | <span data-ttu-id="43948-165">Popis</span><span class="sxs-lookup"><span data-stu-id="43948-165">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="43948-166">Typ = událostí</span><span class="sxs-lookup"><span data-stu-id="43948-166">Type=Event</span></span> |<span data-ttu-id="43948-167">Všechny události systému Windows.</span><span class="sxs-lookup"><span data-stu-id="43948-167">All Windows events.</span></span> |
| <span data-ttu-id="43948-168">Typ = událostí EventLevelName = chyby</span><span class="sxs-lookup"><span data-stu-id="43948-168">Type=Event EventLevelName=error</span></span> |<span data-ttu-id="43948-169">Všechny události systému Windows s závažnosti chyby.</span><span class="sxs-lookup"><span data-stu-id="43948-169">All Windows events with severity of error.</span></span> |
| <span data-ttu-id="43948-170">Typ = událostí &#124; Míra count() zdrojem.</span><span class="sxs-lookup"><span data-stu-id="43948-170">Type=Event &#124; Measure count() by Source</span></span> |<span data-ttu-id="43948-171">Události počet Windows zdrojem.</span><span class="sxs-lookup"><span data-stu-id="43948-171">Count of Windows events by source.</span></span> |
| <span data-ttu-id="43948-172">Typ = událostí EventLevelName = chyby &#124; Míra count() zdrojem.</span><span class="sxs-lookup"><span data-stu-id="43948-172">Type=Event EventLevelName=error &#124; Measure count() by Source</span></span> |<span data-ttu-id="43948-173">Události chyb počet Windows zdrojem.</span><span class="sxs-lookup"><span data-stu-id="43948-173">Count of Windows error events by source.</span></span> |


>[!NOTE]
> <span data-ttu-id="43948-174">Pokud byl váš pracovní prostor upgradován na [nový dotazovací jazyk Log Analytics](log-analytics-log-search-upgrade.md), výše uvedené dotazy se změní na následující.</span><span class="sxs-lookup"><span data-stu-id="43948-174">If your workspace has been upgraded to the [new Log Analytics query language](log-analytics-log-search-upgrade.md), then the above queries would change to the following.</span></span>
>
>| <span data-ttu-id="43948-175">Dotaz</span><span class="sxs-lookup"><span data-stu-id="43948-175">Query</span></span> | <span data-ttu-id="43948-176">Popis</span><span class="sxs-lookup"><span data-stu-id="43948-176">Description</span></span> |
|:---|:---|
| <span data-ttu-id="43948-177">Událost</span><span class="sxs-lookup"><span data-stu-id="43948-177">Event</span></span> |<span data-ttu-id="43948-178">Všechny události systému Windows.</span><span class="sxs-lookup"><span data-stu-id="43948-178">All Windows events.</span></span> |
| <span data-ttu-id="43948-179">Událost &#124; kde EventLevelName == "error.</span><span class="sxs-lookup"><span data-stu-id="43948-179">Event &#124; where EventLevelName == "error"</span></span> |<span data-ttu-id="43948-180">Všechny události systému Windows s závažnosti chyby.</span><span class="sxs-lookup"><span data-stu-id="43948-180">All Windows events with severity of error.</span></span> |
| <span data-ttu-id="43948-181">Událost &#124; shrnout count() zdrojem.</span><span class="sxs-lookup"><span data-stu-id="43948-181">Event &#124; summarize count() by Source</span></span> |<span data-ttu-id="43948-182">Události počet Windows zdrojem.</span><span class="sxs-lookup"><span data-stu-id="43948-182">Count of Windows events by source.</span></span> |
| <span data-ttu-id="43948-183">Událost &#124; kde EventLevelName == "Chyba" &#124; shrnout count() zdrojem.</span><span class="sxs-lookup"><span data-stu-id="43948-183">Event &#124; where EventLevelName == "error" &#124; summarize count() by Source</span></span> |<span data-ttu-id="43948-184">Události chyb počet Windows zdrojem.</span><span class="sxs-lookup"><span data-stu-id="43948-184">Count of Windows error events by source.</span></span> |


## <a name="next-steps"></a><span data-ttu-id="43948-185">Další kroky</span><span class="sxs-lookup"><span data-stu-id="43948-185">Next steps</span></span>
* <span data-ttu-id="43948-186">Konfigurace analýzy protokolů ke shromažďování dalších [zdroje dat](log-analytics-data-sources.md) pro analýzu.</span><span class="sxs-lookup"><span data-stu-id="43948-186">Configure Log Analytics to collect other [data sources](log-analytics-data-sources.md) for analysis.</span></span>
* <span data-ttu-id="43948-187">Další informace o [protokolu hledání](log-analytics-log-searches.md) analyzovat data shromážděná ze zdrojů dat a řešení.</span><span class="sxs-lookup"><span data-stu-id="43948-187">Learn about [log searches](log-analytics-log-searches.md) to analyze the data collected from data sources and solutions.</span></span>  
* <span data-ttu-id="43948-188">Použití [vlastní pole](log-analytics-custom-fields.md) k analýze záznamů událostí do jednotlivých polí.</span><span class="sxs-lookup"><span data-stu-id="43948-188">Use [Custom Fields](log-analytics-custom-fields.md) to parse the event records into individual fields.</span></span>
* <span data-ttu-id="43948-189">Konfigurace [kolekci čítačů výkonu](log-analytics-data-sources-performance-counters.md) z agentů v systému Windows.</span><span class="sxs-lookup"><span data-stu-id="43948-189">Configure [collection of performance counters](log-analytics-data-sources-performance-counters.md) from your Windows agents.</span></span>
