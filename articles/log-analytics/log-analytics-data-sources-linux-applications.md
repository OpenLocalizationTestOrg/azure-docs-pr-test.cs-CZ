---
title: "Shromažďování výkonu aplikace Linux v OMS Log Analytics | Microsoft Docs"
description: "Tento článek obsahuje podrobné informace pro konfiguraci agenta OMS pro Linux ke shromažďování čítače výkonu pro MySQL a serveru Apache HTTP Server."
services: log-analytics
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: f1d5bde4-6b86-4b8e-b5c1-3ecbaba76198
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/04/2017
ms.author: magoedte
ms.openlocfilehash: 04ea6f728e59ec8b47e54fe45e1adc6cbbfb85ff
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="collect-performance-counters-for-linux-applications-in-log-analytics"></a><span data-ttu-id="efc3f-103">Shromáždit čítače výkonu pro Linux aplikace v analýzy protokolů</span><span class="sxs-lookup"><span data-stu-id="efc3f-103">Collect performance counters for Linux applications in Log Analytics</span></span> 
<span data-ttu-id="efc3f-104">Tento článek obsahuje podrobné informace pro konfiguraci [OMS agenta pro Linux](https://github.com/Microsoft/OMS-Agent-for-Linux) ke shromažďování čítače výkonu pro konkrétní aplikace.</span><span class="sxs-lookup"><span data-stu-id="efc3f-104">This article provides details for configuring the [OMS Agent for Linux](https://github.com/Microsoft/OMS-Agent-for-Linux) to collect performance counters for specific applications.</span></span>  <span data-ttu-id="efc3f-105">Aplikace, zahrnuté v tomto článku jsou:</span><span class="sxs-lookup"><span data-stu-id="efc3f-105">The applications included in this article are:</span></span>  

- [<span data-ttu-id="efc3f-106">MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-106">MySQL</span></span>](#MySQL)
- [<span data-ttu-id="efc3f-107">Serveru Apache HTTP Server</span><span class="sxs-lookup"><span data-stu-id="efc3f-107">Apache HTTP Server</span></span>](#apache-http-server)

## <a name="mysql"></a><span data-ttu-id="efc3f-108">MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-108">MySQL</span></span>
<span data-ttu-id="efc3f-109">Pokud MySQL nebo MariaDB serveru je zjištěn v počítači, pokud je nainstalován OMS agent, se automaticky nainstaluje zprostředkovatele pro Server databáze MySQL monitorování výkonu.</span><span class="sxs-lookup"><span data-stu-id="efc3f-109">If MySQL Server or MariaDB Server is detected on the computer when the OMS agent is installed, a performance monitoring provider for MySQL Server will be automatically installed.</span></span> <span data-ttu-id="efc3f-110">Tento zprostředkovatel připojí k místnímu serveru MySQL nebo MariaDB vystavit statistiku výkonu.</span><span class="sxs-lookup"><span data-stu-id="efc3f-110">This provider connects to the local MySQL/MariaDB server to expose performance statistics.</span></span> <span data-ttu-id="efc3f-111">Přihlašovací údaje uživatele MySQL musí nakonfigurovat tak, aby zprostředkovatel můžete přístup k serveru databáze MySQL.</span><span class="sxs-lookup"><span data-stu-id="efc3f-111">MySQL user credentials must be configured so that the provider can access the MySQL Server.</span></span>

### <a name="configure-mysql-credentials"></a><span data-ttu-id="efc3f-112">Konfigurovat přihlašovací údaje databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-112">Configure MySQL credentials</span></span>
<span data-ttu-id="efc3f-113">Zprostředkovatel MySQL OMI vyžaduje předkonfigurované uživatele MySQL a nainstalovat MySQL klientské knihovny k dotazování na výkon a informace o stavu z instance databáze MySQL.</span><span class="sxs-lookup"><span data-stu-id="efc3f-113">The MySQL OMI provider requires a preconfigured MySQL user and installed MySQL client libraries in order to query the performance and health information from the MySQL instance.</span></span>  <span data-ttu-id="efc3f-114">Tyto přihlašovací údaje jsou uložené v souboru ověřování, který je uložený na agenta systému Linux.</span><span class="sxs-lookup"><span data-stu-id="efc3f-114">These credentials are stored in an authentication file that's stored on the Linux agent.</span></span>  <span data-ttu-id="efc3f-115">Soubor ověřování určuje, jaké vazby adresu a port instance databáze MySQL naslouchá na a jaké přihlašovací údaje se má použít ke shromažďování metrik.</span><span class="sxs-lookup"><span data-stu-id="efc3f-115">The authentication file specifies what bind-address and port the MySQL instance is listening on and what credentials to use to gather metrics.</span></span>  

<span data-ttu-id="efc3f-116">Během instalace agenta OMS pro Linux MySQL OMI zprostředkovatele vyhledá MySQL my.cnf konfigurační soubory (výchozí umístění) pro vazbu adresy a portu a částečně nastavit MySQL OMI soubor pro ověření.</span><span class="sxs-lookup"><span data-stu-id="efc3f-116">During installation of the OMS Agent for Linux the MySQL OMI provider will scan MySQL my.cnf configuration files (default locations) for bind-address and port and partially set the MySQL OMI authentication file.</span></span>

<span data-ttu-id="efc3f-117">MySQL ověřování je uložen v `/var/opt/microsoft/mysql-cimprov/auth/omsagent/mysql-auth`.</span><span class="sxs-lookup"><span data-stu-id="efc3f-117">The MySQL authentication file is stored at `/var/opt/microsoft/mysql-cimprov/auth/omsagent/mysql-auth`.</span></span>


### <a name="authentication-file-format"></a><span data-ttu-id="efc3f-118">Formát souboru ověřování</span><span class="sxs-lookup"><span data-stu-id="efc3f-118">Authentication file format</span></span>
<span data-ttu-id="efc3f-119">Toto je formát pro ověření souboru MySQL OMI</span><span class="sxs-lookup"><span data-stu-id="efc3f-119">Following is the format for the MySQL OMI authentication file</span></span>

    [Port]=[Bind-Address], [username], [Base64 encoded Password]
    (Port)=(Bind-Address), (username), (Base64 encoded Password)
    (Port)=(Bind-Address), (username), (Base64 encoded Password)
    AutoUpdate=[true|false]

<span data-ttu-id="efc3f-120">Položky v souboru ověřování jsou popsané v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="efc3f-120">The entries in the authentication file are described in the following table.</span></span>

| <span data-ttu-id="efc3f-121">Vlastnost</span><span class="sxs-lookup"><span data-stu-id="efc3f-121">Property</span></span> | <span data-ttu-id="efc3f-122">Popis</span><span class="sxs-lookup"><span data-stu-id="efc3f-122">Description</span></span> |
|:--|:--|
| <span data-ttu-id="efc3f-123">Port</span><span class="sxs-lookup"><span data-stu-id="efc3f-123">Port</span></span> | <span data-ttu-id="efc3f-124">Představuje aktuální port, který naslouchá instance databáze MySQL na.</span><span class="sxs-lookup"><span data-stu-id="efc3f-124">Represents the current port the MySQL instance is listening on.</span></span> <span data-ttu-id="efc3f-125">Port 0 určuje, že jsou pro výchozí instanci používat následující vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="efc3f-125">Port 0 specifies that the properties following are used for default instance.</span></span> |
| <span data-ttu-id="efc3f-126">Vazby – adresy</span><span class="sxs-lookup"><span data-stu-id="efc3f-126">Bind-Address</span></span>| <span data-ttu-id="efc3f-127">Adresa-aktuální MySQL vazby.</span><span class="sxs-lookup"><span data-stu-id="efc3f-127">Current MySQL bind-address.</span></span> |
| <span data-ttu-id="efc3f-128">uživatelské jméno</span><span class="sxs-lookup"><span data-stu-id="efc3f-128">username</span></span>| <span data-ttu-id="efc3f-129">Uživatel MySQL lze použít k monitorování instance serveru MySQL.</span><span class="sxs-lookup"><span data-stu-id="efc3f-129">MySQL user used to use to monitor the MySQL server instance.</span></span> |
| <span data-ttu-id="efc3f-130">Kódováním base64, pomocí hesla</span><span class="sxs-lookup"><span data-stu-id="efc3f-130">Base64 encoded Password</span></span>| <span data-ttu-id="efc3f-131">Heslo uživatele monitorování MySQL kódovaný jako Base64.</span><span class="sxs-lookup"><span data-stu-id="efc3f-131">Password of the MySQL monitoring user encoded in Base64.</span></span> |
| <span data-ttu-id="efc3f-132">Pomocí funkce Automatické aktualizace</span><span class="sxs-lookup"><span data-stu-id="efc3f-132">AutoUpdate</span></span>| <span data-ttu-id="efc3f-133">Určuje, jestli se znovu zkontrolujte změny v souboru my.cnf a při upgraduje se zprostředkovatel OMI MySQL přepsat soubor MySQL OMI ověřování.</span><span class="sxs-lookup"><span data-stu-id="efc3f-133">Specifies whether to rescan for changes in the my.cnf file and overwrite the MySQL OMI Authentication file when the MySQL OMI Provider is upgraded.</span></span> |

### <a name="default-instance"></a><span data-ttu-id="efc3f-134">Výchozí instance</span><span class="sxs-lookup"><span data-stu-id="efc3f-134">Default instance</span></span>
<span data-ttu-id="efc3f-135">Soubor MySQL OMI ověřování můžete definovat výchozí instance a číslo portu provádět správu více instancí databáze MySQL na jednom hostiteli systému Linux jednodušší.</span><span class="sxs-lookup"><span data-stu-id="efc3f-135">The MySQL OMI authentication file can define a default instance and port number to make managing multiple MySQL instances on one Linux host easier.</span></span>  <span data-ttu-id="efc3f-136">Instance s portem 0 je označený jako výchozí instanci.</span><span class="sxs-lookup"><span data-stu-id="efc3f-136">The default instance is denoted by an instance with port 0.</span></span> <span data-ttu-id="efc3f-137">Všechny další instance zdědí vlastnosti nastavit z výchozí instanci, pokud určí různé hodnoty.</span><span class="sxs-lookup"><span data-stu-id="efc3f-137">All additional instances will inherit properties set from the default instance unless they specify different values.</span></span> <span data-ttu-id="efc3f-138">Například pokud je přidána instance databáze MySQL naslouchání na portu '3308', vazby adresu výchozí instance, uživatelské jméno a heslo kódováním Base64 použije sledovat instance naslouchá na 3308 a zkuste to.</span><span class="sxs-lookup"><span data-stu-id="efc3f-138">For example, if MySQL instance listening on port ‘3308’ is added, the default instance’s bind-address, username, and Base64 encoded password will be used to try and monitor the instance listening on 3308.</span></span> <span data-ttu-id="efc3f-139">Pokud instanci na 3308 je vázána na jinou adresu a používá stejný MySQL dvojici uživatelské jméno a heslo je potřeba jenom adresy vazby a zdědí vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="efc3f-139">If the instance on 3308 is bound to another address and uses the same MySQL username and password pair only the bind-address is needed, and the other properties will be inherited.</span></span>

<span data-ttu-id="efc3f-140">Následující tabulka obsahuje příklad nastavení instance</span><span class="sxs-lookup"><span data-stu-id="efc3f-140">The following table has example instance settings</span></span> 

| <span data-ttu-id="efc3f-141">Popis</span><span class="sxs-lookup"><span data-stu-id="efc3f-141">Description</span></span> | <span data-ttu-id="efc3f-142">File</span><span class="sxs-lookup"><span data-stu-id="efc3f-142">File</span></span> |
|:--|:--|
| <span data-ttu-id="efc3f-143">Výchozí instance a instanci s portem 3308.</span><span class="sxs-lookup"><span data-stu-id="efc3f-143">Default instance and instance with port 3308.</span></span> | `0=127.0.0.1, myuser, cnBwdA==`<br>`3308=, ,`<br>`AutoUpdate=true` |
| <span data-ttu-id="efc3f-144">Výchozí instance a instanci s portem 3308 a jiné uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="efc3f-144">Default instance and instance with port 3308 and different user name and password.</span></span> | `0=127.0.0.1, myuser, cnBwdA==`<br>`3308=127.0.1.1, myuser2,cGluaGVhZA==`<br>`AutoUpdate=true` |


### <a name="mysql-omi-authentication-file-program"></a><span data-ttu-id="efc3f-145">MySQL OMI ověřování souboru programu</span><span class="sxs-lookup"><span data-stu-id="efc3f-145">MySQL OMI Authentication File Program</span></span>
<span data-ttu-id="efc3f-146">Součástí instalace zprostředkovatele MySQL OMI je MySQL OMI soubor programu ověřování, který můžete použít k úpravě souboru MySQL OMI ověřování.</span><span class="sxs-lookup"><span data-stu-id="efc3f-146">Included with the installation of the MySQL OMI provider is a MySQL OMI authentication file program which can be used to edit the MySQL OMI Authentication file.</span></span> <span data-ttu-id="efc3f-147">Soubor programu ověřování najdete v následujícím umístění.</span><span class="sxs-lookup"><span data-stu-id="efc3f-147">The authentication file program can be found at the following location.</span></span>

    /opt/microsoft/mysql-cimprov/bin/mycimprovauth

> [!NOTE]
> <span data-ttu-id="efc3f-148">Soubor s přihlašovacími údaji musí být účet omsagent.</span><span class="sxs-lookup"><span data-stu-id="efc3f-148">The credentials file must be readable by the omsagent account.</span></span> <span data-ttu-id="efc3f-149">Doporučuje se spuštěním příkazu mycimprovauth jako omsgent.</span><span class="sxs-lookup"><span data-stu-id="efc3f-149">Running the mycimprovauth command as omsgent is recommended.</span></span>

<span data-ttu-id="efc3f-150">Následující tabulka obsahuje podrobnosti o syntaxi použití mycimprovauth.</span><span class="sxs-lookup"><span data-stu-id="efc3f-150">The following table provides details on the syntax for using mycimprovauth.</span></span>

| <span data-ttu-id="efc3f-151">Operace</span><span class="sxs-lookup"><span data-stu-id="efc3f-151">Operation</span></span> | <span data-ttu-id="efc3f-152">Příklad</span><span class="sxs-lookup"><span data-stu-id="efc3f-152">Example</span></span> | <span data-ttu-id="efc3f-153">Popis</span><span class="sxs-lookup"><span data-stu-id="efc3f-153">Description</span></span>
|:--|:--|:--|
| <span data-ttu-id="efc3f-154">pomocí funkce Automatické aktualizace * false\\</span><span class="sxs-lookup"><span data-stu-id="efc3f-154">autoupdate *false\\</span></span>|<span data-ttu-id="efc3f-155">Hodnota TRUE *</span><span class="sxs-lookup"><span data-stu-id="efc3f-155">true*</span></span> | <span data-ttu-id="efc3f-156">false mycimprovauth automatických aktualizací</span><span class="sxs-lookup"><span data-stu-id="efc3f-156">mycimprovauth autoupdate false</span></span> | <span data-ttu-id="efc3f-157">Nastaví, jestli se automaticky aktualizuje soubor ověřování na restartovat nebo aktualizovat.</span><span class="sxs-lookup"><span data-stu-id="efc3f-157">Sets whether or not the authentication file will be automatically updated on restart or update.</span></span> |
| <span data-ttu-id="efc3f-158">výchozí *vazby adresu uživatelské jméno, heslo*</span><span class="sxs-lookup"><span data-stu-id="efc3f-158">default *bind-address username password*</span></span> | <span data-ttu-id="efc3f-159">mycimprovauth výchozí 127.0.0.1 kořenové pwd</span><span class="sxs-lookup"><span data-stu-id="efc3f-159">mycimprovauth default 127.0.0.1 root pwd</span></span> | <span data-ttu-id="efc3f-160">Nastaví výchozí instance databáze MySQL OMI soubor pro ověření.</span><span class="sxs-lookup"><span data-stu-id="efc3f-160">Sets the default instance in the MySQL OMI authentication file.</span></span><br><span data-ttu-id="efc3f-161">Pole hesla by měly být zadány ve formátu prostého textu – heslo v souboru MySQL OMI ověřování bude kódováním Base 64.</span><span class="sxs-lookup"><span data-stu-id="efc3f-161">The password field should be entered in plain text - the password in the MySQL OMI authentication file will be Base 64 encoded.</span></span> |
| <span data-ttu-id="efc3f-162">Odstranit * default\\</span><span class="sxs-lookup"><span data-stu-id="efc3f-162">delete *default\\</span></span>|<span data-ttu-id="efc3f-163">port_num *</span><span class="sxs-lookup"><span data-stu-id="efc3f-163">port_num*</span></span> | <span data-ttu-id="efc3f-164">mycimprovauth 3308</span><span class="sxs-lookup"><span data-stu-id="efc3f-164">mycimprovauth 3308</span></span> | <span data-ttu-id="efc3f-165">Odstraní zadanou instanci buď výchozí nebo číslo portu.</span><span class="sxs-lookup"><span data-stu-id="efc3f-165">Deletes the specified instance by either default or by port number.</span></span> |
| <span data-ttu-id="efc3f-166">Pomoc</span><span class="sxs-lookup"><span data-stu-id="efc3f-166">help</span></span> | <span data-ttu-id="efc3f-167">mycimprov nápovědy</span><span class="sxs-lookup"><span data-stu-id="efc3f-167">mycimprov help</span></span> | <span data-ttu-id="efc3f-168">Vytiskne seznam příkazů použít.</span><span class="sxs-lookup"><span data-stu-id="efc3f-168">Prints out a list of commands to use.</span></span> |
| <span data-ttu-id="efc3f-169">Tisk</span><span class="sxs-lookup"><span data-stu-id="efc3f-169">print</span></span> | <span data-ttu-id="efc3f-170">mycimprov tisku</span><span class="sxs-lookup"><span data-stu-id="efc3f-170">mycimprov print</span></span> | <span data-ttu-id="efc3f-171">Vytiskne snadno MySQL OMI číst soubor pro ověření.</span><span class="sxs-lookup"><span data-stu-id="efc3f-171">Prints out an easy to read MySQL OMI authentication file.</span></span> |
| <span data-ttu-id="efc3f-172">Aktualizovat port_num *vazby adresu uživatelské jméno, heslo*</span><span class="sxs-lookup"><span data-stu-id="efc3f-172">update port_num *bind-address username password*</span></span> | <span data-ttu-id="efc3f-173">mycimprov aktualizace 3307 127.0.0.1 kořenové pwd</span><span class="sxs-lookup"><span data-stu-id="efc3f-173">mycimprov update 3307 127.0.0.1 root pwd</span></span> | <span data-ttu-id="efc3f-174">Aktualizuje zadaný instanci nebo přidá instanci, pokud neexistuje.</span><span class="sxs-lookup"><span data-stu-id="efc3f-174">Updates the specified instance or adds the instance if it does not exist.</span></span> |

<span data-ttu-id="efc3f-175">Příkazy v následujícím příkladu definovat výchozí uživatelského účtu pro server databáze MySQL na localhost.</span><span class="sxs-lookup"><span data-stu-id="efc3f-175">The following example commands define a default user account for the MySQL server on localhost.</span></span>  <span data-ttu-id="efc3f-176">Pole hesla by měly být zadány ve formátu prostého textu – heslo v souboru MySQL OMI ověřování bude kódováním Base 64</span><span class="sxs-lookup"><span data-stu-id="efc3f-176">The password field should be entered in plain text - the password in the MySQL OMI authentication file will be Base 64 encoded</span></span>

    sudo su omsagent -c '/opt/microsoft/mysql-cimprov/bin/mycimprovauth default 127.0.0.1 <username> <password>'
    sudo /opt/omi/bin/service_control restart

### <a name="database-permissions-required-for-mysql-performance-counters"></a><span data-ttu-id="efc3f-177">Databáze oprávnění vyžadovaná pro čítače výkonu databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-177">Database Permissions Required for MySQL Performance Counters</span></span>
<span data-ttu-id="efc3f-178">Uživatel MySQL vyžaduje přístup k následující dotazy ke shromažďování dat výkonu serveru MySQL.</span><span class="sxs-lookup"><span data-stu-id="efc3f-178">The MySQL User requires access to the following queries to collect MySQL Server performance data.</span></span> 

    SHOW GLOBAL STATUS;
    SHOW GLOBAL VARIABLES:


<span data-ttu-id="efc3f-179">Uživatel MySQL taky vyžaduje vyberte přístup k následující výchozí tabulky.</span><span class="sxs-lookup"><span data-stu-id="efc3f-179">The MySQL user also requires SELECT access to the following default tables.</span></span>

- <span data-ttu-id="efc3f-180">INFORMATION_SCHEMA</span><span class="sxs-lookup"><span data-stu-id="efc3f-180">information_schema</span></span>
- <span data-ttu-id="efc3f-181">databáze MySQL.</span><span class="sxs-lookup"><span data-stu-id="efc3f-181">mysql.</span></span> 

<span data-ttu-id="efc3f-182">Tato oprávnění lze udělit spuštěním následujících příkazů grant.</span><span class="sxs-lookup"><span data-stu-id="efc3f-182">These privileges can be granted by running the following grant commands.</span></span>

    GRANT SELECT ON information_schema.* TO ‘monuser’@’localhost’;
    GRANT SELECT ON mysql.* TO ‘monuser’@’localhost’;


> [!NOTE]
> <span data-ttu-id="efc3f-183">Udělte oprávnění MySQL monitorování uživatel poskytující uživatel musí mít oprávnění k 'GRANT option, a také udělení oprávnění.</span><span class="sxs-lookup"><span data-stu-id="efc3f-183">To grant permissions to a MySQL monitoring user the granting user must have the ‘GRANT option’ privilege as well as the privilege being granted.</span></span>

### <a name="define-performance-counters"></a><span data-ttu-id="efc3f-184">Definování čítače výkonu</span><span class="sxs-lookup"><span data-stu-id="efc3f-184">Define performance counters</span></span>

<span data-ttu-id="efc3f-185">Po dokončení konfigurace agenta OMS pro Linux k odesílání dat k analýze protokolů, je nutné nakonfigurovat shromažďování čítačů výkonu.</span><span class="sxs-lookup"><span data-stu-id="efc3f-185">Once you configure the OMS Agent for Linux to send data to Log Analytics, you must configure the performance counters to collect.</span></span>  <span data-ttu-id="efc3f-186">Pomocí postupu v [Windows a Linux zdroje dat výkonu v analýzy protokolů](log-analytics-data-sources-windows-events.md) s čítači v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="efc3f-186">Use the procedure in [Windows and Linux performance data sources in Log Analytics](log-analytics-data-sources-windows-events.md) with the counters in the following table.</span></span>

| <span data-ttu-id="efc3f-187">Název objektu</span><span class="sxs-lookup"><span data-stu-id="efc3f-187">Object Name</span></span> | <span data-ttu-id="efc3f-188">Název čítače</span><span class="sxs-lookup"><span data-stu-id="efc3f-188">Counter Name</span></span> |
|:--|:--|
| <span data-ttu-id="efc3f-189">Databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-189">MySQL Database</span></span> | <span data-ttu-id="efc3f-190">Místo na disku v bajtech</span><span class="sxs-lookup"><span data-stu-id="efc3f-190">Disk Space in Bytes</span></span> |
| <span data-ttu-id="efc3f-191">Databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-191">MySQL Database</span></span> | <span data-ttu-id="efc3f-192">Tabulky</span><span class="sxs-lookup"><span data-stu-id="efc3f-192">Tables</span></span> |
| <span data-ttu-id="efc3f-193">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-193">MySQL Server</span></span> | <span data-ttu-id="efc3f-194">Přerušené připojení Pct</span><span class="sxs-lookup"><span data-stu-id="efc3f-194">Aborted Connection Pct</span></span> |
| <span data-ttu-id="efc3f-195">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-195">MySQL Server</span></span> | <span data-ttu-id="efc3f-196">Připojení pomocí protokolu Pct</span><span class="sxs-lookup"><span data-stu-id="efc3f-196">Connection Use Pct</span></span> |
| <span data-ttu-id="efc3f-197">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-197">MySQL Server</span></span> | <span data-ttu-id="efc3f-198">Využití místa na disku v bajtech</span><span class="sxs-lookup"><span data-stu-id="efc3f-198">Disk Space Use in Bytes</span></span> |
| <span data-ttu-id="efc3f-199">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-199">MySQL Server</span></span> | <span data-ttu-id="efc3f-200">Tabulka úplné prohledávání Pct</span><span class="sxs-lookup"><span data-stu-id="efc3f-200">Full Table Scan Pct</span></span> |
| <span data-ttu-id="efc3f-201">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-201">MySQL Server</span></span> | <span data-ttu-id="efc3f-202">Fondu vyrovnávací paměti InnoDB dosáhl Pct</span><span class="sxs-lookup"><span data-stu-id="efc3f-202">InnoDB Buffer Pool Hit Pct</span></span> |
| <span data-ttu-id="efc3f-203">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-203">MySQL Server</span></span> | <span data-ttu-id="efc3f-204">Vyrovnávací paměť InnoDB fondu použití protokolu Pct</span><span class="sxs-lookup"><span data-stu-id="efc3f-204">InnoDB Buffer Pool Use Pct</span></span> |
| <span data-ttu-id="efc3f-205">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-205">MySQL Server</span></span> | <span data-ttu-id="efc3f-206">Vyrovnávací paměť InnoDB fondu použití protokolu Pct</span><span class="sxs-lookup"><span data-stu-id="efc3f-206">InnoDB Buffer Pool Use Pct</span></span> |
| <span data-ttu-id="efc3f-207">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-207">MySQL Server</span></span> | <span data-ttu-id="efc3f-208">Protokol Pct požadavků klíče mezipaměti</span><span class="sxs-lookup"><span data-stu-id="efc3f-208">Key Cache Hit Pct</span></span> |
| <span data-ttu-id="efc3f-209">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-209">MySQL Server</span></span> | <span data-ttu-id="efc3f-210">Klíče mezipaměti použití protokolu Pct</span><span class="sxs-lookup"><span data-stu-id="efc3f-210">Key Cache Use Pct</span></span> |
| <span data-ttu-id="efc3f-211">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-211">MySQL Server</span></span> | <span data-ttu-id="efc3f-212">Protokol Pct zápisu klíče mezipaměti</span><span class="sxs-lookup"><span data-stu-id="efc3f-212">Key Cache Write Pct</span></span> |
| <span data-ttu-id="efc3f-213">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-213">MySQL Server</span></span> | <span data-ttu-id="efc3f-214">Pct přístupů do mezipaměti dotazu</span><span class="sxs-lookup"><span data-stu-id="efc3f-214">Query Cache Hit Pct</span></span> |
| <span data-ttu-id="efc3f-215">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-215">MySQL Server</span></span> | <span data-ttu-id="efc3f-216">Dotaz mezipaměti vyřadí Pct</span><span class="sxs-lookup"><span data-stu-id="efc3f-216">Query Cache Prunes Pct</span></span> |
| <span data-ttu-id="efc3f-217">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-217">MySQL Server</span></span> | <span data-ttu-id="efc3f-218">Dotaz mezipaměti použití protokolu Pct</span><span class="sxs-lookup"><span data-stu-id="efc3f-218">Query Cache Use Pct</span></span> |
| <span data-ttu-id="efc3f-219">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-219">MySQL Server</span></span> | <span data-ttu-id="efc3f-220">Protokol Pct vstupů do mezipaměti tabulky</span><span class="sxs-lookup"><span data-stu-id="efc3f-220">Table Cache Hit Pct</span></span> |
| <span data-ttu-id="efc3f-221">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-221">MySQL Server</span></span> | <span data-ttu-id="efc3f-222">Tabulka mezipaměti použití protokolu Pct</span><span class="sxs-lookup"><span data-stu-id="efc3f-222">Table Cache Use Pct</span></span> |
| <span data-ttu-id="efc3f-223">Server databáze MySQL</span><span class="sxs-lookup"><span data-stu-id="efc3f-223">MySQL Server</span></span> | <span data-ttu-id="efc3f-224">Tabulka zámku kolizí Pct</span><span class="sxs-lookup"><span data-stu-id="efc3f-224">Table Lock Contention Pct</span></span> |

## <a name="apache-http-server"></a><span data-ttu-id="efc3f-225">Serveru Apache HTTP Server</span><span class="sxs-lookup"><span data-stu-id="efc3f-225">Apache HTTP Server</span></span> 
<span data-ttu-id="efc3f-226">Pokud serveru Apache HTTP Server je v počítači nalezen, když je nainstalovaná sada omsagent, se automaticky nainstaluje zprostředkovatele pro serveru Apache HTTP Server monitorování výkonu.</span><span class="sxs-lookup"><span data-stu-id="efc3f-226">If Apache HTTP Server is detected on the computer when the omsagent bundle is installed, a performance monitoring provider for Apache HTTP Server will be automatically installed.</span></span> <span data-ttu-id="efc3f-227">Tento zprostředkovatel spoléhá na modul Apache, který je nutné načíst do serveru Apache HTTP Server, aby měli přístup na údaje o výkonu.</span><span class="sxs-lookup"><span data-stu-id="efc3f-227">This provider relies on an Apache module that must be loaded into the Apache HTTP Server in order to access performance data.</span></span> <span data-ttu-id="efc3f-228">Modul můžete načíst pomocí následujícího příkazu:</span><span class="sxs-lookup"><span data-stu-id="efc3f-228">The module can be loaded with the following command:</span></span>
```
sudo /opt/microsoft/apache-cimprov/bin/apache_config.sh -c
```

<span data-ttu-id="efc3f-229">Unload modulu Sledování Apache, spusťte následující příkaz:</span><span class="sxs-lookup"><span data-stu-id="efc3f-229">To unload the Apache monitoring module, run the following command:</span></span>
```
sudo /opt/microsoft/apache-cimprov/bin/apache_config.sh -u
```

### <a name="define-performance-counters"></a><span data-ttu-id="efc3f-230">Definování čítače výkonu</span><span class="sxs-lookup"><span data-stu-id="efc3f-230">Define performance counters</span></span>

<span data-ttu-id="efc3f-231">Po dokončení konfigurace agenta OMS pro Linux k odesílání dat k analýze protokolů, je nutné nakonfigurovat shromažďování čítačů výkonu.</span><span class="sxs-lookup"><span data-stu-id="efc3f-231">Once you configure the OMS Agent for Linux to send data to Log Analytics, you must configure the performance counters to collect.</span></span>  <span data-ttu-id="efc3f-232">Pomocí postupu v [Windows a Linux zdroje dat výkonu v analýzy protokolů](log-analytics-data-sources-windows-events.md) s čítači v následující tabulce.</span><span class="sxs-lookup"><span data-stu-id="efc3f-232">Use the procedure in [Windows and Linux performance data sources in Log Analytics](log-analytics-data-sources-windows-events.md) with the counters in the following table.</span></span>

| <span data-ttu-id="efc3f-233">Název objektu</span><span class="sxs-lookup"><span data-stu-id="efc3f-233">Object Name</span></span> | <span data-ttu-id="efc3f-234">Název čítače</span><span class="sxs-lookup"><span data-stu-id="efc3f-234">Counter Name</span></span> |
|:--|:--|
| <span data-ttu-id="efc3f-235">Serveru Apache HTTP Server</span><span class="sxs-lookup"><span data-stu-id="efc3f-235">Apache HTTP Server</span></span> | <span data-ttu-id="efc3f-236">Vytížených pracovních procesů</span><span class="sxs-lookup"><span data-stu-id="efc3f-236">Busy Workers</span></span> |
| <span data-ttu-id="efc3f-237">Serveru Apache HTTP Server</span><span class="sxs-lookup"><span data-stu-id="efc3f-237">Apache HTTP Server</span></span> | <span data-ttu-id="efc3f-238">Nečinných pracovních procesů</span><span class="sxs-lookup"><span data-stu-id="efc3f-238">Idle Workers</span></span> |
| <span data-ttu-id="efc3f-239">Serveru Apache HTTP Server</span><span class="sxs-lookup"><span data-stu-id="efc3f-239">Apache HTTP Server</span></span> | <span data-ttu-id="efc3f-240">Protokol PCT vytížených pracovních procesů</span><span class="sxs-lookup"><span data-stu-id="efc3f-240">Pct Busy Workers</span></span> |
| <span data-ttu-id="efc3f-241">Serveru Apache HTTP Server</span><span class="sxs-lookup"><span data-stu-id="efc3f-241">Apache HTTP Server</span></span> | <span data-ttu-id="efc3f-242">Celkový počet Pct procesoru</span><span class="sxs-lookup"><span data-stu-id="efc3f-242">Total Pct CPU</span></span> |
| <span data-ttu-id="efc3f-243">Apache virtuální hostitel</span><span class="sxs-lookup"><span data-stu-id="efc3f-243">Apache Virtual Host</span></span> | <span data-ttu-id="efc3f-244">Chyby za minutu - klienta</span><span class="sxs-lookup"><span data-stu-id="efc3f-244">Errors per Minute - Client</span></span> |
| <span data-ttu-id="efc3f-245">Apache virtuální hostitel</span><span class="sxs-lookup"><span data-stu-id="efc3f-245">Apache Virtual Host</span></span> | <span data-ttu-id="efc3f-246">Chyby za minutu - Server</span><span class="sxs-lookup"><span data-stu-id="efc3f-246">Errors per Minute - Server</span></span> |
| <span data-ttu-id="efc3f-247">Apache virtuální hostitel</span><span class="sxs-lookup"><span data-stu-id="efc3f-247">Apache Virtual Host</span></span> | <span data-ttu-id="efc3f-248">KB každý požadavek</span><span class="sxs-lookup"><span data-stu-id="efc3f-248">KB per Request</span></span> |
| <span data-ttu-id="efc3f-249">Apache virtuální hostitel</span><span class="sxs-lookup"><span data-stu-id="efc3f-249">Apache Virtual Host</span></span> | <span data-ttu-id="efc3f-250">Žádosti o KB za sekundu</span><span class="sxs-lookup"><span data-stu-id="efc3f-250">Requests KB per Second</span></span> |
| <span data-ttu-id="efc3f-251">Apache virtuální hostitel</span><span class="sxs-lookup"><span data-stu-id="efc3f-251">Apache Virtual Host</span></span> | <span data-ttu-id="efc3f-252">Počet požadavků za sekundu</span><span class="sxs-lookup"><span data-stu-id="efc3f-252">Requests per Second</span></span> |



## <a name="next-steps"></a><span data-ttu-id="efc3f-253">Další kroky</span><span class="sxs-lookup"><span data-stu-id="efc3f-253">Next steps</span></span>
* <span data-ttu-id="efc3f-254">[Shromažďování čítačů výkonu](log-analytics-data-sources-performance-counters.md) od agentů systému Linux.</span><span class="sxs-lookup"><span data-stu-id="efc3f-254">[Collect performance counters](log-analytics-data-sources-performance-counters.md) from Linux agents.</span></span>
* <span data-ttu-id="efc3f-255">Další informace o [protokolu hledání](log-analytics-log-searches.md) analyzovat data shromážděná ze zdrojů dat a řešení.</span><span class="sxs-lookup"><span data-stu-id="efc3f-255">Learn about [log searches](log-analytics-log-searches.md) to analyze the data collected from data sources and solutions.</span></span> 