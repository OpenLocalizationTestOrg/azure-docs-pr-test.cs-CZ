---
title: "aaaAzure analýzy protokolů dotazu jazyka tahák | Microsoft Docs"
description: "Tento článek obsahuje pomoc na přechod toohello nové dotazovací jazyk pro analýzu protokolu, pokud jste již obeznámeni s jazykem hello starší verze."
services: operations-management-suite
documentationcenter: 
author: bwren
manager: carmonm
editor: tysonn
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/23/2017
ms.author: bwren
ms.openlocfilehash: 8b4ee3d0b5e1ec8a9f95a09e0ad9835615ad1342
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="transitioning-tooazure-log-analytics-new-query-language"></a><span data-ttu-id="c8583-103">Přechod nové dotazovacího jazyka pro tooAzure analýzy protokolů</span><span class="sxs-lookup"><span data-stu-id="c8583-103">Transitioning tooAzure Log Analytics new query language</span></span>

> [!NOTE]
> <span data-ttu-id="c8583-104">Můžete si přečíst další informace o hello nové analýzy protokolů dotazu jazyka a získat hello postup tooupgrade pracovního prostoru v upgradu vaší [hledání protokolů toonew pracovní prostor analýzy protokolů Azure](log-analytics-log-search-upgrade.md).</span><span class="sxs-lookup"><span data-stu-id="c8583-104">You can read more about hello new Log Analytics query language and get hello procedure tooupgrade your workspace at Upgrade your [Azure Log Analytics workspace toonew log search](log-analytics-log-search-upgrade.md).</span></span>

<span data-ttu-id="c8583-105">Tento článek obsahuje pomoc na přechod toohello nové dotazovací jazyk pro analýzu protokolu, pokud jste již obeznámeni s jazykem hello starší verze.</span><span class="sxs-lookup"><span data-stu-id="c8583-105">This article provides assistance on transitioning toohello new query language for Log Analytics if you're already familiar with hello legacy language.</span></span>

## <a name="language-converter"></a><span data-ttu-id="c8583-106">Převaděč jazyk</span><span class="sxs-lookup"><span data-stu-id="c8583-106">Language converter</span></span>

<span data-ttu-id="c8583-107">Pokud jste obeznámeni s hello dotazovacího jazyka pro starší verze analýzy protokolů, hello nejjednodušší toocreate hello stejný dotaz v jazyce nové hello je toouse hello převaděč jazyk, bude nainstalován do portálu hledání protokolů hello při převodu pracovního prostoru.</span><span class="sxs-lookup"><span data-stu-id="c8583-107">If you're familiar with hello legacy Log Analytics query language, hello easiest way toocreate hello same query in hello new language is toouse hello Language Converter that's installed in hello Log Search portal when your workspace is converted.</span></span>  <span data-ttu-id="c8583-108">Pomocí převaděče hello je jednoduché, zadáním v starší verze dotaz hello nejvyšší textového pole a pak levým na **převést**.</span><span class="sxs-lookup"><span data-stu-id="c8583-108">Using hello converter is as simple as typing in a legacy query in hello top text box and then clicking **Convert**.</span></span>  <span data-ttu-id="c8583-109">Můžete buď klikněte na tlačítko hello vyhledávací tlačítko toorun hello dotaz nebo kopírování a vložte jej toouse ho někde jinde.</span><span class="sxs-lookup"><span data-stu-id="c8583-109">You can either click hello search button toorun hello query or copy and paste it toouse it somewhere else.</span></span>

![Převaděč jazyk](media/log-analytics-log-search-upgrade/language-converter.png)


## <a name="cheat-sheet"></a><span data-ttu-id="c8583-111">Tahák</span><span class="sxs-lookup"><span data-stu-id="c8583-111">Cheat sheet</span></span>

<span data-ttu-id="c8583-112">Hello následující tabulka uvádí srovnání mezi celou řadu běžných dotazů tooequivalent příkazy mezi hello nové a starší verze dotazovací jazyk v Azure Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="c8583-112">hello following table provides a comparison between a variety of common queries tooequivalent commands between hello new and legacy query language in Azure Log Analytics.</span></span>

| <span data-ttu-id="c8583-113">Popis</span><span class="sxs-lookup"><span data-stu-id="c8583-113">Description</span></span> | <span data-ttu-id="c8583-114">Starší verze</span><span class="sxs-lookup"><span data-stu-id="c8583-114">Legacy</span></span> | <span data-ttu-id="c8583-115">Nový</span><span class="sxs-lookup"><span data-stu-id="c8583-115">new</span></span> |
|:--|:--|:--|
| <span data-ttu-id="c8583-116">Vyhledat všechny tabulky</span><span class="sxs-lookup"><span data-stu-id="c8583-116">Search all tables</span></span>      | <span data-ttu-id="c8583-117">error</span><span class="sxs-lookup"><span data-stu-id="c8583-117">error</span></span> | <span data-ttu-id="c8583-118">hledání "error" (ne velká a malá písmena)</span><span class="sxs-lookup"><span data-stu-id="c8583-118">search "error"  (not case sensitive)</span></span> |
| <span data-ttu-id="c8583-119">Vyberte data z tabulky</span><span class="sxs-lookup"><span data-stu-id="c8583-119">Select data from table</span></span> | <span data-ttu-id="c8583-120">Typ = událostí</span><span class="sxs-lookup"><span data-stu-id="c8583-120">Type=Event</span></span> |  <span data-ttu-id="c8583-121">Událost</span><span class="sxs-lookup"><span data-stu-id="c8583-121">Event</span></span> |
|                        | <span data-ttu-id="c8583-122">Typ = událostí &#124; Vyberte zdroj protokolu událostí, ID události</span><span class="sxs-lookup"><span data-stu-id="c8583-122">Type=Event &#124; select Source, EventLog, EventID</span></span> | <span data-ttu-id="c8583-123">Událost &#124; Zdroj protokolu událostí, EventID projektu</span><span class="sxs-lookup"><span data-stu-id="c8583-123">Event &#124; project Source, EventLog, EventID</span></span> |
|                        | <span data-ttu-id="c8583-124">Typ = událostí &#124; prvních 100</span><span class="sxs-lookup"><span data-stu-id="c8583-124">Type=Event &#124; top 100</span></span> | <span data-ttu-id="c8583-125">Událost &#124; trvat 100</span><span class="sxs-lookup"><span data-stu-id="c8583-125">Event &#124; take 100</span></span> |
| <span data-ttu-id="c8583-126">Porovnání řetězců</span><span class="sxs-lookup"><span data-stu-id="c8583-126">String comparison</span></span>      | <span data-ttu-id="c8583-127">Typ = Computer=srv01.contoso.com událostí</span><span class="sxs-lookup"><span data-stu-id="c8583-127">Type=Event Computer=srv01.contoso.com</span></span>   | <span data-ttu-id="c8583-128">Událost &#124; kde počítač == "srv01.contoso.com"</span><span class="sxs-lookup"><span data-stu-id="c8583-128">Event &#124; where Computer == "srv01.contoso.com"</span></span> |
|                        | <span data-ttu-id="c8583-129">Typ = Computer=contains("contoso") událostí</span><span class="sxs-lookup"><span data-stu-id="c8583-129">Type=Event Computer=contains("contoso")</span></span> | <span data-ttu-id="c8583-130">Událost &#124; Pokud počítač obsahuje "contoso" (ne velká a malá písmena)</span><span class="sxs-lookup"><span data-stu-id="c8583-130">Event &#124; where Computer contains "contoso" (not case sensitive)</span></span><br><span data-ttu-id="c8583-131">Událost &#124; kde contains_cs počítače "Contoso" (malá a velká písmena)</span><span class="sxs-lookup"><span data-stu-id="c8583-131">Event &#124; where Computer contains_cs "Contoso" (case sensitive)</span></span> |
|                        | <span data-ttu-id="c8583-132">Typ = počítač událostí = RegEx ("@contoso@")</span><span class="sxs-lookup"><span data-stu-id="c8583-132">Type=Event Computer=RegEx("@contoso@")</span></span>  | <span data-ttu-id="c8583-133">Událost &#124; kde počítače odpovídá regulárnímu výrazu ". *contoso*"</span><span class="sxs-lookup"><span data-stu-id="c8583-133">Event &#124; where Computer matches regex ".*contoso*"</span></span> |
| <span data-ttu-id="c8583-134">Porovnání kalendářních dat</span><span class="sxs-lookup"><span data-stu-id="c8583-134">Date comparison</span></span>        | <span data-ttu-id="c8583-135">Typ události TimeGenerated = > nyní 1DAYS</span><span class="sxs-lookup"><span data-stu-id="c8583-135">Type=Event TimeGenerated > NOW-1DAYS</span></span> | <span data-ttu-id="c8583-136">Událost &#124; kde TimeGenerated > ago(1d)</span><span class="sxs-lookup"><span data-stu-id="c8583-136">Event &#124; where TimeGenerated > ago(1d)</span></span> |
|                        | <span data-ttu-id="c8583-137">Typ události TimeGenerated = > 2017-05-01 TimeGenerated < 2017-05-31</span><span class="sxs-lookup"><span data-stu-id="c8583-137">Type=Event TimeGenerated>2017-05-01 TimeGenerated<2017-05-31</span></span> | <span data-ttu-id="c8583-138">Událost &#124; kde TimeGenerated mezi (datetime(2017-05-01)...</span><span class="sxs-lookup"><span data-stu-id="c8583-138">Event &#124; where TimeGenerated between (datetime(2017-05-01) ..</span></span> <span data-ttu-id="c8583-139">DATETIME(2017-05-31))</span><span class="sxs-lookup"><span data-stu-id="c8583-139">datetime(2017-05-31))</span></span> |
| <span data-ttu-id="c8583-140">Logická hodnota porovnání</span><span class="sxs-lookup"><span data-stu-id="c8583-140">Boolean comparison</span></span>     | <span data-ttu-id="c8583-141">Typ = prezenčního signálu IsGatewayInstalled = false</span><span class="sxs-lookup"><span data-stu-id="c8583-141">Type=Heartbeat IsGatewayInstalled=false</span></span>  | <span data-ttu-id="c8583-142">Prezenční signál</span><span class="sxs-lookup"><span data-stu-id="c8583-142">Heartbeat</span></span> | <span data-ttu-id="c8583-143">kde IsGatewayInstalled hodnotu false</span><span class="sxs-lookup"><span data-stu-id="c8583-143">where IsGatewayInstalled == false</span></span> |
| <span data-ttu-id="c8583-144">Seřadit</span><span class="sxs-lookup"><span data-stu-id="c8583-144">Sort</span></span>                   | <span data-ttu-id="c8583-145">Typ = událostí &#124; Seřaďte počítače asc, EventLevelName asc a desc protokolu událostí</span><span class="sxs-lookup"><span data-stu-id="c8583-145">Type=Event &#124; sort Computer asc, EventLog desc, EventLevelName asc</span></span> | <span data-ttu-id="c8583-146">Událost \\</span><span class="sxs-lookup"><span data-stu-id="c8583-146">Event \\</span></span>| <span data-ttu-id="c8583-147">Řadit podle počítače asc, EventLevelName asc a desc protokolu událostí</span><span class="sxs-lookup"><span data-stu-id="c8583-147">sort by Computer asc, EventLog desc, EventLevelName asc</span></span> |
| <span data-ttu-id="c8583-148">Odlišné</span><span class="sxs-lookup"><span data-stu-id="c8583-148">Distinct</span></span>               | <span data-ttu-id="c8583-149">Typ = událostí &#124; odstranění duplicitních dat počítače \\</span><span class="sxs-lookup"><span data-stu-id="c8583-149">Type=Event &#124; dedup Computer \\</span></span>| <span data-ttu-id="c8583-150">Vyberte počítač</span><span class="sxs-lookup"><span data-stu-id="c8583-150">select Computer</span></span> | <span data-ttu-id="c8583-151">Událost &#124; shrnout počítačem protokolu událostí</span><span class="sxs-lookup"><span data-stu-id="c8583-151">Event &#124; summarize by Computer, EventLog</span></span> |
| <span data-ttu-id="c8583-152">Rozšíření sloupců</span><span class="sxs-lookup"><span data-stu-id="c8583-152">Extend columns</span></span>         | <span data-ttu-id="c8583-153">Typ = výkonu název_čítače = "čas procesoru v %" &#124; ROZŠÍŘENÍ if(map(CounterValue,0,50,0,1),"HIGH","LOW") jako využití</span><span class="sxs-lookup"><span data-stu-id="c8583-153">Type=Perf CounterName="% Processor Time" &#124; EXTEND if(map(CounterValue,0,50,0,1),"HIGH","LOW") as UTILIZATION</span></span> | <span data-ttu-id="c8583-154">Výkonu &#124; kde CounterName == "% času procesoru" \\</span><span class="sxs-lookup"><span data-stu-id="c8583-154">Perf &#124; where CounterName == "% Processor Time" \\</span></span>| <span data-ttu-id="c8583-155">rozšíření využití =, je-li ("Nedostatek" přepočtené > 50, "Vysoká")</span><span class="sxs-lookup"><span data-stu-id="c8583-155">extend Utilization = iff(CounterValue > 50, "HIGH", "LOW")</span></span> |
| <span data-ttu-id="c8583-156">Agregace</span><span class="sxs-lookup"><span data-stu-id="c8583-156">Aggregation</span></span>            | <span data-ttu-id="c8583-157">Typ = událostí &#124; míra count() jako počet počítačem.</span><span class="sxs-lookup"><span data-stu-id="c8583-157">Type=Event &#124; measure count() as Count by Computer</span></span> | <span data-ttu-id="c8583-158">Událost &#124; shrnout Count = count() počítačem.</span><span class="sxs-lookup"><span data-stu-id="c8583-158">Event &#124; summarize Count = count() by Computer</span></span> |
|                                | <span data-ttu-id="c8583-159">Typ = výkonu ObjectName = název_čítače procesoru = "čas procesoru v %" &#124; míra avg(CounterValue) počítače interval 5 minut</span><span class="sxs-lookup"><span data-stu-id="c8583-159">Type=Perf ObjectName=Processor CounterName="% Processor Time" &#124; measure avg(CounterValue) by Computer interval 5minute</span></span> | <span data-ttu-id="c8583-160">Výkonu &#124; kde ObjectName == "Procesor" a název_čítače == "% času procesoru" &#124; Shrňte avg(CounterValue) počítačem bin (TimeGenerated, 5 minut)</span><span class="sxs-lookup"><span data-stu-id="c8583-160">Perf &#124; where ObjectName=="Processor" and CounterName=="% Processor Time" &#124; summarize avg(CounterValue) by Computer, bin(TimeGenerated, 5min)</span></span> |
| <span data-ttu-id="c8583-161">Agregace s limitem</span><span class="sxs-lookup"><span data-stu-id="c8583-161">Aggregation with limit</span></span> | <span data-ttu-id="c8583-162">Typ = událostí &#124; míra count() podle počítače &#124; prvních 10</span><span class="sxs-lookup"><span data-stu-id="c8583-162">Type=Event &#124; measure count() by Computer &#124; top 10</span></span> | <span data-ttu-id="c8583-163">Událost &#124; shrnout AggregatedValue = count() podle počítače &#124; limit 10</span><span class="sxs-lookup"><span data-stu-id="c8583-163">Event &#124; summarize AggregatedValue = count() by Computer &#124; limit 10</span></span> |
| <span data-ttu-id="c8583-164">sjednocení</span><span class="sxs-lookup"><span data-stu-id="c8583-164">Union</span></span>                  | <span data-ttu-id="c8583-165">Typ = události nebo typ = Syslog</span><span class="sxs-lookup"><span data-stu-id="c8583-165">Type=Event or Type=Syslog</span></span> | <span data-ttu-id="c8583-166">sjednocení události procesu Syslog</span><span class="sxs-lookup"><span data-stu-id="c8583-166">union Event, Syslog</span></span> |
| <span data-ttu-id="c8583-167">Spojit</span><span class="sxs-lookup"><span data-stu-id="c8583-167">Join</span></span>                   | <span data-ttu-id="c8583-168">Typ = NetworkMonitoring &#124; připojení vnitřní AgentIP (typ = prezenční signál) ComputerIP</span><span class="sxs-lookup"><span data-stu-id="c8583-168">Type=NetworkMonitoring &#124; join inner AgentIP (Type=Heartbeat) ComputerIP</span></span> | <span data-ttu-id="c8583-169">NetworkMonitoring &#124; připojení typu = vnitřní (vyhledávání typu == "Prezenčního signálu") na $left. AgentIP == $right.ComputerIP</span><span class="sxs-lookup"><span data-stu-id="c8583-169">NetworkMonitoring &#124; join kind=inner (search Type == "Heartbeat") on $left.AgentIP == $right.ComputerIP</span></span> |



## <a name="next-steps"></a><span data-ttu-id="c8583-170">Další kroky</span><span class="sxs-lookup"><span data-stu-id="c8583-170">Next steps</span></span>
- <span data-ttu-id="c8583-171">Podívejte se [kurz na zápis dotazů](https://go.microsoft.com/fwlink/?linkid=856078) pomocí dotazovacího jazyka pro nové hello.</span><span class="sxs-lookup"><span data-stu-id="c8583-171">Check out a [tutorial on writing queries](https://go.microsoft.com/fwlink/?linkid=856078) using hello new query language.</span></span>
- <span data-ttu-id="c8583-172">Odkazovat toohello [referenční příručka jazyka dotazů](https://go.microsoft.com/fwlink/?linkid=856079) podrobné informace o příkazu, operátory a funkce pro hello nové dotazovací jazyk.</span><span class="sxs-lookup"><span data-stu-id="c8583-172">Refer toohello [Query Language Reference](https://go.microsoft.com/fwlink/?linkid=856079) for details on all command, operators, and functions for hello new query language.</span></span>  
