---
title: "Vysvětlení výstrah v Azure Log Analytics | Microsoft Docs"
description: "Výstrahy v Log Analytics identifikovat důležité informace ve svém úložišti OMS a můžete proaktivně upozorňují na problémy nebo vyvolání akce se pokusit o opravte je.  Tento článek popisuje různé druhy pravidla výstrah a jak jsou definovány."
services: log-analytics
documentationcenter: 
author: bwren
manager: jwhit
editor: tysonn
ms.assetid: 6cfd2a46-b6a2-4f79-a67b-08ce488f9a91
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: bwren
ms.openlocfilehash: 951e76d3fb18d9e433b148e82d4d6cee9417ce6d
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/03/2017
---
# <a name="understanding-alerts-in-log-analytics"></a><span data-ttu-id="bede0-104">Vysvětlení výstrah v analýzy protokolů</span><span class="sxs-lookup"><span data-stu-id="bede0-104">Understanding alerts in Log Analytics</span></span>

<span data-ttu-id="bede0-105">Výstrahy v Log Analytics identifikovat důležité informace do úložiště analýzy protokolů.</span><span class="sxs-lookup"><span data-stu-id="bede0-105">Alerts in Log Analytics identify important information in your Log Analytics repository.</span></span>  <span data-ttu-id="bede0-106">Tento článek obsahuje podrobnosti o tom, jak výstrahy pravidlech pracovního analýzy protokolů a popisuje rozdíly mezi různé typy pravidla výstrah.</span><span class="sxs-lookup"><span data-stu-id="bede0-106">This article provides details of how alert rules in Log Analytics work and describes the differences between different types of alert rules.</span></span>

<span data-ttu-id="bede0-107">Proces vytváření pravidla výstrah najdete v následujících článcích:</span><span class="sxs-lookup"><span data-stu-id="bede0-107">For the process of creating alert rules, see the following articles:</span></span>

- <span data-ttu-id="bede0-108">Vytvořit pravidla výstrah pomocí [portálu Azure](log-analytics-alerts-creating.md)</span><span class="sxs-lookup"><span data-stu-id="bede0-108">Create alert rules using [Azure portal](log-analytics-alerts-creating.md)</span></span>
- <span data-ttu-id="bede0-109">Vytvořit pravidla výstrah pomocí [šablony Resource Manageru](../operations-management-suite/operations-management-suite-solutions-resources-searches-alerts.md)</span><span class="sxs-lookup"><span data-stu-id="bede0-109">Create alert rules using [Resource Manager template](../operations-management-suite/operations-management-suite-solutions-resources-searches-alerts.md)</span></span>
- <span data-ttu-id="bede0-110">Vytvořit pravidla výstrah pomocí [REST API](log-analytics-api-alerts.md)</span><span class="sxs-lookup"><span data-stu-id="bede0-110">Create alert rules using [REST API](log-analytics-api-alerts.md)</span></span>


## <a name="alert-rules"></a><span data-ttu-id="bede0-111">Pravidla výstrah</span><span class="sxs-lookup"><span data-stu-id="bede0-111">Alert rules</span></span>

<span data-ttu-id="bede0-112">Výstrahy jsou vytvářeny pravidla výstrah, které automaticky spustit vyhledávání protokolu v pravidelných intervalech.</span><span class="sxs-lookup"><span data-stu-id="bede0-112">Alerts are created by alert rules that automatically run log searches at regular intervals.</span></span>  <span data-ttu-id="bede0-113">Pokud výsledky hledání protokolů odpovídají konkrétním kritériím se vytvoří záznam výstrahy.</span><span class="sxs-lookup"><span data-stu-id="bede0-113">If the results of the log search match particular criteria then an alert record is created.</span></span>  <span data-ttu-id="bede0-114">Pravidlo lze poté automaticky spouštět jednu nebo více akcí proaktivně oznámíme vám výstrahy nebo vyvolání jiný proces.</span><span class="sxs-lookup"><span data-stu-id="bede0-114">The rule can then automatically run one or more actions to proactively notify you of the alert or invoke another process.</span></span>  <span data-ttu-id="bede0-115">Různé typy pravidla výstrah pomocí různých logiku k provedení této analýze.</span><span class="sxs-lookup"><span data-stu-id="bede0-115">Different types of alert rules use different logic to perform this analysis.</span></span>

![Výstrahy Log Analytics](media/log-analytics-alerts/overview.png)

<span data-ttu-id="bede0-117">Pravidla výstrah jsou definovány následující podrobnosti:</span><span class="sxs-lookup"><span data-stu-id="bede0-117">Alert Rules are defined by the following details:</span></span>

- <span data-ttu-id="bede0-118">**Hledání protokolů**.</span><span class="sxs-lookup"><span data-stu-id="bede0-118">**Log search**.</span></span>  <span data-ttu-id="bede0-119">Dotaz, který se spustí pokaždé, když se aktivuje pravidlo výstrahy.</span><span class="sxs-lookup"><span data-stu-id="bede0-119">The query that runs every time the alert rule fires.</span></span>  <span data-ttu-id="bede0-120">Vrácené tímto dotazem záznamy slouží k určení, jestli se má vytvořit výstrahu.</span><span class="sxs-lookup"><span data-stu-id="bede0-120">The records returned by this query is used to determine whether an alert is created.</span></span>
- <span data-ttu-id="bede0-121">**Časový interval**.</span><span class="sxs-lookup"><span data-stu-id="bede0-121">**Time window**.</span></span>  <span data-ttu-id="bede0-122">Určuje časový rozsah pro dotaz.</span><span class="sxs-lookup"><span data-stu-id="bede0-122">Specifies the time range for the query.</span></span>  <span data-ttu-id="bede0-123">Dotaz vrátí pouze záznamy, které byly vytvořeny v tomto rozsahu aktuální čas.</span><span class="sxs-lookup"><span data-stu-id="bede0-123">The query returns only records that were created within this range of the current time.</span></span>  <span data-ttu-id="bede0-124">To může být libovolná hodnota 5 minut až 24 hodin.</span><span class="sxs-lookup"><span data-stu-id="bede0-124">This can be any value between 5 minutes and 24 hours.</span></span> <span data-ttu-id="bede0-125">Například pokud časový interval je nastavena na 60 minut a spuštění dotazu: 15: 00, je vrácena pouze záznamy vytvořené 12:15:00 až 1:15 hodin.</span><span class="sxs-lookup"><span data-stu-id="bede0-125">For example, If the time window is set to 60 minutes, and the query is run at 1:15 PM, only records created between 12:15 PM and 1:15 PM is returned.</span></span>
- <span data-ttu-id="bede0-126">**Frekvence**.</span><span class="sxs-lookup"><span data-stu-id="bede0-126">**Frequency**.</span></span>  <span data-ttu-id="bede0-127">Určuje, jak často se má spustit dotaz.</span><span class="sxs-lookup"><span data-stu-id="bede0-127">Specifies how often the query should be run.</span></span> <span data-ttu-id="bede0-128">Může být libovolná hodnota 5 minut až 24 hodin.</span><span class="sxs-lookup"><span data-stu-id="bede0-128">Can be any value between 5 minutes and 24 hours.</span></span> <span data-ttu-id="bede0-129">Musí být rovna nebo menší než časový interval.</span><span class="sxs-lookup"><span data-stu-id="bede0-129">Should be equal to or less than the time window.</span></span>  <span data-ttu-id="bede0-130">Pokud hodnota je větší než časový interval, riskujete záznamů je vynechán.</span><span class="sxs-lookup"><span data-stu-id="bede0-130">If the value is greater than the time window, then you risk records being missed.</span></span><br><span data-ttu-id="bede0-131">Představte si třeba časové okno 30 minut a četnost 60 minut.</span><span class="sxs-lookup"><span data-stu-id="bede0-131">For example, consider a time window of 30 minutes and a frequency of 60 minutes.</span></span>  <span data-ttu-id="bede0-132">Pokud je v 1:00 spustit dotaz, vrátí záznamy 12:30 až 1:00 PM.</span><span class="sxs-lookup"><span data-stu-id="bede0-132">If the query is run at 1:00, it returns records between 12:30 and 1:00 PM.</span></span>  <span data-ttu-id="bede0-133">Při příštím spuštění dotazu by je 2:00, když měla by vrátit záznamy 1:30 až 2:00.</span><span class="sxs-lookup"><span data-stu-id="bede0-133">The next time the query would run is 2:00 when it would return records between 1:30 and 2:00.</span></span>  <span data-ttu-id="bede0-134">Všechny záznamy vytvořené 1:00 až 1:30 by nikdy vyhodnotí.</span><span class="sxs-lookup"><span data-stu-id="bede0-134">Any records created between 1:00 and 1:30 would never be evaluated.</span></span>
- <span data-ttu-id="bede0-135">**Prahová hodnota**.</span><span class="sxs-lookup"><span data-stu-id="bede0-135">**Threshold**.</span></span>  <span data-ttu-id="bede0-136">Výsledky hledání protokolů se vyhodnocují k určení, zda má být vytvořena výstraha.</span><span class="sxs-lookup"><span data-stu-id="bede0-136">The results of the log search are evaluated to determine whether an alert should be created.</span></span>  <span data-ttu-id="bede0-137">Prahová hodnota se liší pro různé typy pravidla výstrah.</span><span class="sxs-lookup"><span data-stu-id="bede0-137">The threshold is different for the different types of alert rules.</span></span>

<span data-ttu-id="bede0-138">Každé pravidlo výstrahy v analýzy protokolů je jedním ze dvou typů.</span><span class="sxs-lookup"><span data-stu-id="bede0-138">Each alert rule in Log Analytics is one of two types.</span></span>  <span data-ttu-id="bede0-139">Každý z těchto typů je podrobně popsány v následujících částech.</span><span class="sxs-lookup"><span data-stu-id="bede0-139">Each of these types is described in detail in the sections that follow.</span></span>

- <span data-ttu-id="bede0-140">**[Počet výsledků](#number-of-results-alert-rules)**.</span><span class="sxs-lookup"><span data-stu-id="bede0-140">**[Number of results](#number-of-results-alert-rules)**.</span></span> <span data-ttu-id="bede0-141">Vytvoří, když počet záznamů protokolu nalezené překračuje zadaný počet jedna výstraha.</span><span class="sxs-lookup"><span data-stu-id="bede0-141">Single alert created when the number records returned by the log search exceed a specified number.</span></span>
- <span data-ttu-id="bede0-142">**[Metriky měření](#metric-measurement-alert-rules)**.</span><span class="sxs-lookup"><span data-stu-id="bede0-142">**[Metric measurement](#metric-measurement-alert-rules)**.</span></span>  <span data-ttu-id="bede0-143">Výstraha byla vytvořena pro každý objekt ve výsledcích hledání protokolu s hodnotami, které překročí zadanou prahovou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="bede0-143">Alert created for each object in the results of the log search with values that exceed specified threshold.</span></span>

<span data-ttu-id="bede0-144">Rozdíl mezi typy pravidlo výstrahy se následujícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="bede0-144">The differences between alert rule types are as follows.</span></span>

- <span data-ttu-id="bede0-145">**Počet výsledků** pravidlo výstrahy vytvoří vždy jeden výstrahy chvíli **metriky měření** pravidlo výstrahy vytvoří výstrahu pro každý objekt, který překračuje prahovou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="bede0-145">**Number of results** alert rule will always create a single alert while **Metric measurement** alert rule creates an alert for each object that exceeds the threshold.</span></span>
- <span data-ttu-id="bede0-146">**Počet výsledků** pravidla výstrah vytvářejí výstrahu, když je prahová hodnota počtu současně.</span><span class="sxs-lookup"><span data-stu-id="bede0-146">**Number of results** alert rules create an alert when the threshold is exceeded a single time.</span></span> <span data-ttu-id="bede0-147">**Metriky měření** pravidla výstrah může vytvořit upozornění, pokud je překročena prahová hodnota počtu časy v konkrétním časovém intervalu.</span><span class="sxs-lookup"><span data-stu-id="bede0-147">**Metric measurement** alert rules can create an alert when the threshold is exceeded a certain number of times over a particular time interval.</span></span>

## <a name="number-of-results-alert-rules"></a><span data-ttu-id="bede0-148">Počet výsledků pravidla výstrah</span><span class="sxs-lookup"><span data-stu-id="bede0-148">Number of results alert rules</span></span>
<span data-ttu-id="bede0-149">**Počet výsledků** pravidla výstrah vytvořit jednu výstrahu, když počet záznamů vrácených dotazem vyhledávání překročí zadanou prahovou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="bede0-149">**Number of results** alert rules create a single alert when the number of records returned by the search query exceed the specified threshold.</span></span>

### <a name="threshold"></a><span data-ttu-id="bede0-150">Prahová hodnota</span><span class="sxs-lookup"><span data-stu-id="bede0-150">Threshold</span></span>
<span data-ttu-id="bede0-151">Prahová hodnota pro **počet výsledků** pravidlo výstrahy je jednoduše větší nebo menší než určitou hodnotu.</span><span class="sxs-lookup"><span data-stu-id="bede0-151">The threshold for a **Number of results** alert rule is simply greater than or less than a particular value.</span></span>  <span data-ttu-id="bede0-152">Pokud počet záznamů protokolu nalezené splňují tato kritéria, se vytvoří výstraha.</span><span class="sxs-lookup"><span data-stu-id="bede0-152">If the number of records returned by the log search match this criteria, then an alert is created.</span></span>

### <a name="scenarios"></a><span data-ttu-id="bede0-153">Scénáře</span><span class="sxs-lookup"><span data-stu-id="bede0-153">Scenarios</span></span>

#### <a name="events"></a><span data-ttu-id="bede0-154">Události</span><span class="sxs-lookup"><span data-stu-id="bede0-154">Events</span></span>
<span data-ttu-id="bede0-155">Tento typ pravidla výstrah je ideální pro práci s událostmi, jako je například protokol událostí systému Windows, Syslog, a vlastní protokoly.</span><span class="sxs-lookup"><span data-stu-id="bede0-155">This type of alert rule is ideal for working with events such as Windows event logs, Syslog, and Custom logs.</span></span>  <span data-ttu-id="bede0-156">Můžete vytvořit výstrahu, když se vytvoří událost konkrétní chyby, nebo když jsou v rámci konkrétní časové okno vytvořit více událostí chyby.</span><span class="sxs-lookup"><span data-stu-id="bede0-156">You may want to create an alert when a particular error event gets created, or when multiple error events are created within a particular time window.</span></span>

<span data-ttu-id="bede0-157">Chcete-li výstraha na jednu událost, nastavte počet výsledků na hodnotu větší než 0 a četnost i časové okno na 5 minut.</span><span class="sxs-lookup"><span data-stu-id="bede0-157">To alert on a single event, set the number of results to greater than 0 and both the frequency and time window to 5 minutes.</span></span>  <span data-ttu-id="bede0-158">Která se spustí dotaz každých 5 minut a zkontrolujte výskyt jedna událost, která byla vytvořena od posledního spuštění dotazu.</span><span class="sxs-lookup"><span data-stu-id="bede0-158">That runs the query every 5 minutes and check for the occurrence of a single event that was created since the last time the query was run.</span></span>  <span data-ttu-id="bede0-159">Doba mezi událostí shromažďovaných a vytváří výstrahy může zdržet frekvencí delší.</span><span class="sxs-lookup"><span data-stu-id="bede0-159">A longer frequency may delay the time between the event being collected and the alert being created.</span></span>

<span data-ttu-id="bede0-160">Některé aplikace mohou být zaznamenány občasné chyby, který by neměl být nutně vygeneruje výstrahu.</span><span class="sxs-lookup"><span data-stu-id="bede0-160">Some applications may log an occasional error that shouldn't necessarily raise an alert.</span></span>  <span data-ttu-id="bede0-161">Aplikace může například opakujte procesu, který vytvořil událost chyby a pak úspěšné příště.</span><span class="sxs-lookup"><span data-stu-id="bede0-161">For example, the application may retry the process that created the error event and then succeed the next time.</span></span>  <span data-ttu-id="bede0-162">V takovém případě nemusí budete chtít vytvořit výstrahu, pokud jsou v rámci konkrétní časové okno vytvořit více událostí.</span><span class="sxs-lookup"><span data-stu-id="bede0-162">In this case, you may not want to create the alert unless multiple events are created within a particular time window.</span></span>  

<span data-ttu-id="bede0-163">V některých případech můžete vytvořit výstrahu při absenci událost.</span><span class="sxs-lookup"><span data-stu-id="bede0-163">In some cases, you may want to create an alert in the absence of an event.</span></span>  <span data-ttu-id="bede0-164">Tento proces se může například protokolu běžné události indikující, že funguje správně.</span><span class="sxs-lookup"><span data-stu-id="bede0-164">For example, a process may log regular events to indicate that it's working properly.</span></span>  <span data-ttu-id="bede0-165">Pokud není protokolu jednu z těchto událostí v rámci konkrétní časové okno, je třeba vytvořit výstrahu.</span><span class="sxs-lookup"><span data-stu-id="bede0-165">If it doesn't log one of these events within a particular time window, then an alert should be created.</span></span>  <span data-ttu-id="bede0-166">V takovém případě byste měli nastavit prahovou hodnotu na **menší než 1**.</span><span class="sxs-lookup"><span data-stu-id="bede0-166">In this case you would set the threshold to **less than 1**.</span></span>

#### <a name="performance-alerts"></a><span data-ttu-id="bede0-167">Výstrahy výkonu</span><span class="sxs-lookup"><span data-stu-id="bede0-167">Performance alerts</span></span>
<span data-ttu-id="bede0-168">[Data výkonu](log-analytics-data-sources-performance-counters.md) se ukládají jako záznamy v úložišti OMS podobné události.</span><span class="sxs-lookup"><span data-stu-id="bede0-168">[Performance data](log-analytics-data-sources-performance-counters.md) is stored as records in the OMS repository similar to events.</span></span>  <span data-ttu-id="bede0-169">Pokud chcete upozornit, když čítače výkonu překračuje prahovou hodnotu konkrétní, by měl prahové hodnoty obsažen v dotazu.</span><span class="sxs-lookup"><span data-stu-id="bede0-169">If you want to alert when a performance counter exceeds a particular threshold, then that threshold should be included in the query.</span></span>

<span data-ttu-id="bede0-170">Například, pokud chcete upozornit, když procesor běží víc než 90 %, byste použili dotazu jako následující s prahovou hodnotou pro pravidlo výstrahy **větší než 0**.</span><span class="sxs-lookup"><span data-stu-id="bede0-170">For example, if you wanted to alert when the processor runs over 90%, you would use a query like the following with the threshold for the alert rule **greater than 0**.</span></span>

    Type=Perf ObjectName=Processor CounterName="% Processor Time" CounterValue>90

<span data-ttu-id="bede0-171">Pokud chcete upozornit, když procesor průměrem více než 90 % pro konkrétní časové okno, byste použili dotazu pomocí [měření příkaz](log-analytics-search-reference.md#commands) jako na následujícím obrázku se prahová hodnota pro pravidlo výstrahy **větší než 0**.</span><span class="sxs-lookup"><span data-stu-id="bede0-171">If you wanted to alert when the processor averaged over 90% for a particular time window, you would use a query using the [measure command](log-analytics-search-reference.md#commands) like the following with the threshold for the alert rule **greater than 0**.</span></span>

    Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer | where AggregatedValue>90

>[!NOTE]
> <span data-ttu-id="bede0-172">Pokud pracovní prostor byl upgradován na verzi [nové analýzy protokolů dotazu jazyka](log-analytics-log-search-upgrade.md), pak výše dotazy by změnit na následující:`Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" and CounterValue>90`
> `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" | summarize avg(CounterValue) by Computer | where CounterValue>90`</span><span class="sxs-lookup"><span data-stu-id="bede0-172">If your workspace has been upgraded to the [new Log Analytics query language](log-analytics-log-search-upgrade.md), then the above queries would change to the following: `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" and CounterValue>90`
> `Perf | where ObjectName=="Processor" and CounterName=="% Processor Time" | summarize avg(CounterValue) by Computer | where CounterValue>90`</span></span>


## <a name="metric-measurement-alert-rules"></a><span data-ttu-id="bede0-173">Pravidla výstrah metriky měření</span><span class="sxs-lookup"><span data-stu-id="bede0-173">Metric measurement alert rules</span></span>

>[!NOTE]
> <span data-ttu-id="bede0-174">Pravidla výstrah metriky měření jsou aktuálně ve verzi public preview.</span><span class="sxs-lookup"><span data-stu-id="bede0-174">Metric measurement alert rules are currently in public preview.</span></span>

<span data-ttu-id="bede0-175">**Metriky měření** pravidla výstrah vytvářejí výstrahu pro každý objekt v dotazu s hodnotou, který je delší než zadaná prahová hodnota.</span><span class="sxs-lookup"><span data-stu-id="bede0-175">**Metric measurement** alert rules create an alert for each object in a query with a value that exceeds a specified threshold.</span></span>  <span data-ttu-id="bede0-176">Mají odlišné následující rozdíly proti **počet výsledků** pravidla výstrah.</span><span class="sxs-lookup"><span data-stu-id="bede0-176">They have the following distinct differences from **Number of results** alert rules.</span></span>

#### <a name="log-search"></a><span data-ttu-id="bede0-177">Prohledávání protokolů</span><span class="sxs-lookup"><span data-stu-id="bede0-177">Log search</span></span>
<span data-ttu-id="bede0-178">I když můžete používat pro jakýkoli dotaz **počet výsledků** pravidlo výstrahy, existují požadavky na dotaz pro pravidlo výstrahy metriky měření.</span><span class="sxs-lookup"><span data-stu-id="bede0-178">While you can use any query for a **Number of results** alert rule, there are specific requirements the query for a metric measurement alert rule.</span></span>  <span data-ttu-id="bede0-179">Musí obsahovat [měření příkaz](log-analytics-search-reference.md#commands) seskupí výsledky podle určitého pole.</span><span class="sxs-lookup"><span data-stu-id="bede0-179">It must include a [Measure command](log-analytics-search-reference.md#commands) to group the results on a particular field.</span></span> <span data-ttu-id="bede0-180">Tento příkaz musí zahrnovat následující prvky.</span><span class="sxs-lookup"><span data-stu-id="bede0-180">This command must include the following elements.</span></span>

- <span data-ttu-id="bede0-181">**Agregační funkce**.</span><span class="sxs-lookup"><span data-stu-id="bede0-181">**Aggregate function**.</span></span>  <span data-ttu-id="bede0-182">Určuje výpočet, který provádí a potenciálně číselného pole k agregaci.</span><span class="sxs-lookup"><span data-stu-id="bede0-182">Determines the calculation that is performed and potentially a numeric field to aggregate.</span></span>  <span data-ttu-id="bede0-183">Například **count()** vrátí počet záznamů v dotazu, **avg(CounterValue)** Vrátí průměrnou hodnotu pole přepočtené průběhu intervalu.</span><span class="sxs-lookup"><span data-stu-id="bede0-183">For example, **count()** will return the number of records in the query, **avg(CounterValue)** will return the average of the CounterValue field over the interval.</span></span>
- <span data-ttu-id="bede0-184">**Pole Seskupit**.</span><span class="sxs-lookup"><span data-stu-id="bede0-184">**Group Field**.</span></span>  <span data-ttu-id="bede0-185">Pro každou instanci v tomto poli se vytvoří záznam s hodnotou agregované a výstraha může vygenerovat pro každý.</span><span class="sxs-lookup"><span data-stu-id="bede0-185">A record with an aggregated value is created for each instance of this field, and an alert can be generated for each.</span></span>  <span data-ttu-id="bede0-186">Například pokud chcete generovat výstrahy pro každý počítač, byste použili **počítačem**.</span><span class="sxs-lookup"><span data-stu-id="bede0-186">For example, if you wanted to generate an alert for each computer, you would use **by Computer**.</span></span>   
- <span data-ttu-id="bede0-187">**Interval**.</span><span class="sxs-lookup"><span data-stu-id="bede0-187">**Interval**.</span></span>  <span data-ttu-id="bede0-188">Definuje časový interval, za které agregovaná data.</span><span class="sxs-lookup"><span data-stu-id="bede0-188">Defines the time interval over which the data is aggregated.</span></span>  <span data-ttu-id="bede0-189">Například pokud jste zadali **5minutes**, by se vytvoří záznam pro každou instanci pole skupiny v okně čas zadaný pro výstrahu agregován v intervalech 5 minut.</span><span class="sxs-lookup"><span data-stu-id="bede0-189">For example, if you specified **5minutes**, a record would be created for each instance of the group field aggregated at 5 minute intervals over the time window specified for the alert.</span></span>

#### <a name="threshold"></a><span data-ttu-id="bede0-190">Prahová hodnota</span><span class="sxs-lookup"><span data-stu-id="bede0-190">Threshold</span></span>
<span data-ttu-id="bede0-191">Prahová hodnota pro pravidla výstrah metriky měření je definována agregovaná hodnota a celou řadu.</span><span class="sxs-lookup"><span data-stu-id="bede0-191">The threshold for Metric measurement alert rules is defined by an aggregate value and a number of breaches.</span></span>  <span data-ttu-id="bede0-192">Pokud žádné datového bodu v hledání protokolů překročí tuto hodnotu, považuje za porušení.</span><span class="sxs-lookup"><span data-stu-id="bede0-192">If any data point in the log search exceeds this value, it's considered a breach.</span></span>  <span data-ttu-id="bede0-193">Pokud počet porušení v u všech objektů ve výsledcích překročí zadanou hodnotu, se vytvoří výstraha pro tento objekt.</span><span class="sxs-lookup"><span data-stu-id="bede0-193">If the number of breaches in for any object in the results exceeds the specified value, then an alert is created for that object.</span></span>

#### <a name="example"></a><span data-ttu-id="bede0-194">Příklad</span><span class="sxs-lookup"><span data-stu-id="bede0-194">Example</span></span>
<span data-ttu-id="bede0-195">Vezměte v úvahu scénář, kde jste chtěli výstrahu překračování libovolného počítače využití procesoru 90 % třikrát více než 30 minut.</span><span class="sxs-lookup"><span data-stu-id="bede0-195">Consider a scenario where you wanted an alert if any computer exceeded processor utilization of 90% three times over 30 minutes.</span></span>  <span data-ttu-id="bede0-196">Vytvoříte pravidlo výstrahy s následujícími podrobnostmi.</span><span class="sxs-lookup"><span data-stu-id="bede0-196">You would create an alert rule with the following details.</span></span>  

<span data-ttu-id="bede0-197">**Dotaz:** typ = výkonu ObjectName = název_čítače procesoru = "% času procesoru" | měření avg(CounterValue) počítače interval 5 minut</span><span class="sxs-lookup"><span data-stu-id="bede0-197">**Query:** Type=Perf ObjectName=Processor CounterName="% Processor Time" | measure avg(CounterValue) by Computer Interval 5minute</span></span><br><span data-ttu-id="bede0-198">
**Časový interval:** 30 minut</span><span class="sxs-lookup"><span data-stu-id="bede0-198">
**Time window:** 30 minutes</span></span><br><span data-ttu-id="bede0-199">
**Frekvence výstrah:** 5 minut</span><span class="sxs-lookup"><span data-stu-id="bede0-199">
**Alert frequency:** 5 minutes</span></span><br><span data-ttu-id="bede0-200">
**Agregace hodnota:** skvělé než 90</span><span class="sxs-lookup"><span data-stu-id="bede0-200">
**Aggregate value:** Great than 90</span></span><br><span data-ttu-id="bede0-201">
**Aktivační událost upozornění na základě:** celkem poruší větší než 5</span><span class="sxs-lookup"><span data-stu-id="bede0-201">
**Trigger alert based on:** Total breaches Greater than 5</span></span><br>

<span data-ttu-id="bede0-202">Dotaz by vytvořit průměrnou hodnotu pro každý počítač v intervalech 5 minut.</span><span class="sxs-lookup"><span data-stu-id="bede0-202">The query would create an average value for each computer at 5 minute intervals.</span></span>  <span data-ttu-id="bede0-203">Tento dotaz by spustit každých 5 minut datech shromážděných za předchozí 30 minut.</span><span class="sxs-lookup"><span data-stu-id="bede0-203">This query would be run every 5 minutes for data collected over the previous 30 minutes.</span></span>  <span data-ttu-id="bede0-204">Ukázková data jsou uvedené dole pro tři počítače.</span><span class="sxs-lookup"><span data-stu-id="bede0-204">Sample data is shown below for three computers.</span></span>

![Ukázkové výsledky dotazu](media/log-analytics-alerts/metrics-measurement-sample-graph.png)

<span data-ttu-id="bede0-206">V tomto příkladu by se vytvořit samostatné výstrahy pro srv02 a srv03, protože jejich nichž nebyla dodržena prahová hodnota 90 % 3krát přes časový interval.</span><span class="sxs-lookup"><span data-stu-id="bede0-206">In this example, separate alerts would be created for srv02 and srv03 since they breached the 90% threshold 3 times over the time window.</span></span>  <span data-ttu-id="bede0-207">Pokud **aktivační událost upozornění na základě:** byly změněny na **za sebou** výstrahu by vytvořen pouze pro srv03, od nichž nebyla dodržena prahová hodnota pro 3 po sobě jdoucích vzorků.</span><span class="sxs-lookup"><span data-stu-id="bede0-207">If the **Trigger alert based on:** were changed to **Consecutive** then an alert would be created only for srv03 since it breached the threshold for 3 consecutive samples.</span></span>

## <a name="alert-records"></a><span data-ttu-id="bede0-208">Výstrahy záznamů</span><span class="sxs-lookup"><span data-stu-id="bede0-208">Alert records</span></span>
<span data-ttu-id="bede0-209">Mít výstrahy záznamy vytvořené pravidla výstrah v analýzy protokolů **typ** z **výstraha** a **SourceSystem** z **OMS**.</span><span class="sxs-lookup"><span data-stu-id="bede0-209">Alert records created by alert rules in Log Analytics have a **Type** of **Alert** and a **SourceSystem** of **OMS**.</span></span>  <span data-ttu-id="bede0-210">V následující tabulce mají vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="bede0-210">They have the properties in the following table.</span></span>

| <span data-ttu-id="bede0-211">Vlastnost</span><span class="sxs-lookup"><span data-stu-id="bede0-211">Property</span></span> | <span data-ttu-id="bede0-212">Popis</span><span class="sxs-lookup"><span data-stu-id="bede0-212">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="bede0-213">Typ</span><span class="sxs-lookup"><span data-stu-id="bede0-213">Type</span></span> |<span data-ttu-id="bede0-214">*Výstrahy*</span><span class="sxs-lookup"><span data-stu-id="bede0-214">*Alert*</span></span> |
| <span data-ttu-id="bede0-215">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="bede0-215">SourceSystem</span></span> |<span data-ttu-id="bede0-216">*OMS*</span><span class="sxs-lookup"><span data-stu-id="bede0-216">*OMS*</span></span> |
| <span data-ttu-id="bede0-217">*Objekt*</span><span class="sxs-lookup"><span data-stu-id="bede0-217">*Object*</span></span>  | <span data-ttu-id="bede0-218">[Metriky měření výstrahy](#metric-measurement-alert-rules) bude mít vlastnost pro pole skupiny.</span><span class="sxs-lookup"><span data-stu-id="bede0-218">[Metric measurement alerts](#metric-measurement-alert-rules) will have a property for the group field.</span></span>  <span data-ttu-id="bede0-219">Například pokud protokol hledání skupin v počítači, výstrahy záznam s mít počítač pole s názvem počítače jako hodnotu.</span><span class="sxs-lookup"><span data-stu-id="bede0-219">For example, if the log search groups on Computer, the alert record with have a Computer field with the name of the computer as the value.</span></span>
| <span data-ttu-id="bede0-220">AlertName</span><span class="sxs-lookup"><span data-stu-id="bede0-220">AlertName</span></span> |<span data-ttu-id="bede0-221">Název výstrahy.</span><span class="sxs-lookup"><span data-stu-id="bede0-221">Name of the alert.</span></span> |
| <span data-ttu-id="bede0-222">AlertSeverity</span><span class="sxs-lookup"><span data-stu-id="bede0-222">AlertSeverity</span></span> |<span data-ttu-id="bede0-223">Úroveň závažnosti výstrahy.</span><span class="sxs-lookup"><span data-stu-id="bede0-223">Severity level of the alert.</span></span> |
| <span data-ttu-id="bede0-224">LinkToSearchResults</span><span class="sxs-lookup"><span data-stu-id="bede0-224">LinkToSearchResults</span></span> |<span data-ttu-id="bede0-225">Propojit vyhledávání protokolu analýzy protokolů, který vrátí záznamy v dotazu, který vytvořili výstrahu.</span><span class="sxs-lookup"><span data-stu-id="bede0-225">Link to Log Analytics log search that returns the records from the query that created the alert.</span></span> |
| <span data-ttu-id="bede0-226">Dotaz</span><span class="sxs-lookup"><span data-stu-id="bede0-226">Query</span></span> |<span data-ttu-id="bede0-227">Text dotazu, který byl spuštěn.</span><span class="sxs-lookup"><span data-stu-id="bede0-227">Text of the query that was run.</span></span> |
| <span data-ttu-id="bede0-228">QueryExecutionEndTime</span><span class="sxs-lookup"><span data-stu-id="bede0-228">QueryExecutionEndTime</span></span> |<span data-ttu-id="bede0-229">Konec časový rozsah pro dotaz.</span><span class="sxs-lookup"><span data-stu-id="bede0-229">End of the time range for the query.</span></span> |
| <span data-ttu-id="bede0-230">QueryExecutionStartTime</span><span class="sxs-lookup"><span data-stu-id="bede0-230">QueryExecutionStartTime</span></span> |<span data-ttu-id="bede0-231">Začátek časový rozsah pro dotaz.</span><span class="sxs-lookup"><span data-stu-id="bede0-231">Start of the time range for the query.</span></span> |
| <span data-ttu-id="bede0-232">ThresholdOperator</span><span class="sxs-lookup"><span data-stu-id="bede0-232">ThresholdOperator</span></span> | <span data-ttu-id="bede0-233">Operátor, který byl používán pravidlo výstrahy.</span><span class="sxs-lookup"><span data-stu-id="bede0-233">Operator that was used by the alert rule.</span></span> |
| <span data-ttu-id="bede0-234">ThresholdValue</span><span class="sxs-lookup"><span data-stu-id="bede0-234">ThresholdValue</span></span> | <span data-ttu-id="bede0-235">Hodnota, která byla používána pro pravidlo výstrahy.</span><span class="sxs-lookup"><span data-stu-id="bede0-235">Value that was used by the alert rule.</span></span> |
| <span data-ttu-id="bede0-236">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="bede0-236">TimeGenerated</span></span> |<span data-ttu-id="bede0-237">Datum a čas vytvoření výstrahy.</span><span class="sxs-lookup"><span data-stu-id="bede0-237">Date and time the alert was created.</span></span> |

<span data-ttu-id="bede0-238">Existují jiné typy záznamů výstrahy vytvořené [řešení pro správu výstrahu](log-analytics-solution-alert-management.md) a [Power BI exportuje](log-analytics-powerbi.md).</span><span class="sxs-lookup"><span data-stu-id="bede0-238">There are other kinds of alert records created by the [Alert Management solution](log-analytics-solution-alert-management.md) and by [Power BI exports](log-analytics-powerbi.md).</span></span>  <span data-ttu-id="bede0-239">Tyto jsou vybavené **typ** z **výstrahy** , ale jsou rozlišené jejich **SourceSystem**.</span><span class="sxs-lookup"><span data-stu-id="bede0-239">These all have a **Type** of **Alert** but are distinguished by their **SourceSystem**.</span></span>


## <a name="next-steps"></a><span data-ttu-id="bede0-240">Další kroky</span><span class="sxs-lookup"><span data-stu-id="bede0-240">Next steps</span></span>
* <span data-ttu-id="bede0-241">Nainstalujte [řešení pro správu výstrah](log-analytics-solution-alert-management.md) k analýze výstrahy vytvořené v analýzy protokolů společně s výstrahy shromážděných z System Center Operations Manager.</span><span class="sxs-lookup"><span data-stu-id="bede0-241">Install the [Alert Management solution](log-analytics-solution-alert-management.md) to analyze alerts created in Log Analytics along with alerts collected from System Center Operations Manager.</span></span>
* <span data-ttu-id="bede0-242">Další informace o [protokolu hledání](log-analytics-log-searches.md) , mohou generovat výstrahy.</span><span class="sxs-lookup"><span data-stu-id="bede0-242">Read more about [log searches](log-analytics-log-searches.md) that can generate alerts.</span></span>
* <span data-ttu-id="bede0-243">Dokončete průvodce pro [konfigurace webook](log-analytics-alerts-webhooks.md) s pravidlo výstrahy.</span><span class="sxs-lookup"><span data-stu-id="bede0-243">Complete a walkthrough for [configuring a webook](log-analytics-alerts-webhooks.md) with an alert rule.</span></span>  
* <span data-ttu-id="bede0-244">Další informace o zápisu [sady runbook ve službě Azure Automation](https://azure.microsoft.com/documentation/services/automation) k nápravě problémů identifikovaný výstrahy.</span><span class="sxs-lookup"><span data-stu-id="bede0-244">Learn how to write [runbooks in Azure Automation](https://azure.microsoft.com/documentation/services/automation) to remediate problems identified by alerts.</span></span>
