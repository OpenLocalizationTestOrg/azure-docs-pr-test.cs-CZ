---
title: "aaaAvailability nastaví pro virtuální počítače s Linuxem v Azure | Microsoft Docs"
description: "Další informace o hello klíče návrhu a implementace pokyny pro nasazení sad dostupnosti ve službách infrastruktury Azure."
documentationcenter: 
services: virtual-machines-linux
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 24f1d91c-8cc0-4251-bb67-ac4c4c37e8cd
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 78e4da5c8fd9eb186cafacb46454444b73a9439c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="azure-availability-sets-guidelines-for-linux-vms"></a><span data-ttu-id="ababb-103">Azure dostupnosti nastavuje pravidla pro virtuální počítače s Linuxem</span><span class="sxs-lookup"><span data-stu-id="ababb-103">Azure availability sets guidelines for Linux VMs</span></span>

[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-intro](../../../includes/virtual-machines-linux-infrastructure-guidelines-intro.md)]

<span data-ttu-id="ababb-104">Tento článek zaměřuje na pochopení hello požadované kroky plánování pro sady dostupnosti tooensure aplikace zůstávají dostupné během plánované i neplánované události.</span><span class="sxs-lookup"><span data-stu-id="ababb-104">This article focuses on understanding hello required planning steps for availability sets tooensure your applications remains accessible during planned or unplanned events.</span></span>

## <a name="implementation-guidelines-for-availability-sets"></a><span data-ttu-id="ababb-105">Postup implementace pro skupiny dostupnosti</span><span class="sxs-lookup"><span data-stu-id="ababb-105">Implementation guidelines for availability sets</span></span>
<span data-ttu-id="ababb-106">Rozhodnutí:</span><span class="sxs-lookup"><span data-stu-id="ababb-106">Decisions:</span></span>

* <span data-ttu-id="ababb-107">Kolik skupiny dostupnosti je nutný pro hello různých rolí a úrovně ve vaší infrastruktuře aplikace?</span><span class="sxs-lookup"><span data-stu-id="ababb-107">How many availability sets do you need for hello various roles and tiers in your application infrastructure?</span></span>

<span data-ttu-id="ababb-108">Úlohy:</span><span class="sxs-lookup"><span data-stu-id="ababb-108">Tasks:</span></span>

* <span data-ttu-id="ababb-109">Definujte hello počet virtuálních počítačů v každé aplikační vrstvě, které vyžadujete.</span><span class="sxs-lookup"><span data-stu-id="ababb-109">Define hello number of VMs in each application tier you require.</span></span>
* <span data-ttu-id="ababb-110">Určete, zda je nutné tooadjust hello počet selhání nebo aktualizace toobe domén používá pro vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="ababb-110">Determine if you need tooadjust hello number of fault or update domains toobe used for your application.</span></span>
* <span data-ttu-id="ababb-111">Definovat skupiny dostupnosti hello vyžaduje vaše zásady vytváření názvů a co virtuální počítače jsou umístěny v nich.</span><span class="sxs-lookup"><span data-stu-id="ababb-111">Define hello required availability sets using your naming convention and what VMs reside in them.</span></span> <span data-ttu-id="ababb-112">Virtuální počítač se může nacházet pouze v sadě dostupnosti jeden.</span><span class="sxs-lookup"><span data-stu-id="ababb-112">A VM can only reside in one availability set.</span></span> 

## <a name="availability-sets"></a><span data-ttu-id="ababb-113">Skupiny dostupnosti</span><span class="sxs-lookup"><span data-stu-id="ababb-113">Availability sets</span></span>
<span data-ttu-id="ababb-114">V Azure můžete virtuální počítače (VM) umístit do logické seskupení tooa názvem skupiny dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="ababb-114">In Azure, virtual machines (VMs) can be placed in tooa logical grouping called an availability set.</span></span> <span data-ttu-id="ababb-115">Když vytvoříte virtuální počítače v rámci skupiny dostupnosti, hello platformy Azure rozděluje hello umístění těchto virtuálních počítačů na hello základní infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="ababb-115">When you create VMs within an availability set, hello Azure platform distributes hello placement of those VMs across hello underlying infrastructure.</span></span> <span data-ttu-id="ababb-116">Mělo by být toohello události plánované údržby platformy Azure nebo základní hardware nebo selhání infrastruktury, hello pomocí sad dostupnosti zajistí, že aspoň jeden virtuální počítač zůstane spuštěný.</span><span class="sxs-lookup"><span data-stu-id="ababb-116">Should there be a planned maintenance event toohello Azure platform or an underlying hardware / infrastructure fault, hello use of availability sets ensures that at least one VM remains running.</span></span>

<span data-ttu-id="ababb-117">Jako osvědčený postup nesmí nacházet aplikace na jeden virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="ababb-117">As a best practice, applications should not reside on a single VM.</span></span> <span data-ttu-id="ababb-118">Skupinu dostupnosti, která obsahuje jeden virtuální počítač není získáte ochranu z plánovaná nebo neplánovaná události v rámci hello platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="ababb-118">An availability set that contains a single VM doesn't gain any protection from planned or unplanned events within hello Azure platform.</span></span> <span data-ttu-id="ababb-119">Hello [smlouva Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) vyžaduje dva nebo více virtuálních počítačů v rámci dostupnost sady tooallow hello distribuci virtuálních počítačů mezi hello základní infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="ababb-119">hello [Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) requires two or more VMs within an availability set tooallow hello distribution of VMs across hello underlying infrastructure.</span></span> <span data-ttu-id="ababb-120">Pokud používáte [Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), platí Smlouva Azure SLA hello tooa jeden virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="ababb-120">If you are using [Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), hello Azure SLA applies tooa single VM.</span></span>

<span data-ttu-id="ababb-121">Základní infrastruktura Hello v Azure je rozděleno v clusterech toomultiple hardwaru.</span><span class="sxs-lookup"><span data-stu-id="ababb-121">hello underlying infrastructure in Azure is divided in toomultiple hardware clusters.</span></span> <span data-ttu-id="ababb-122">Každý hardwaru clusteru může podporovat velikosti rozsah virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="ababb-122">Each hardware cluster can support a range of VM sizes.</span></span> <span data-ttu-id="ababb-123">Skupina dostupnosti může být hostovaný pouze na jednom hardwaru clusteru v libovolném bodě v čase.</span><span class="sxs-lookup"><span data-stu-id="ababb-123">An availability set can only be hosted on a single hardware cluster at any point in time.</span></span> <span data-ttu-id="ababb-124">Velikosti hello rozsah virtuálních počítačů, které může existovat v sadě dostupnosti jeden tedy omezené toohello rozsah virtuálních počítačů velikosti podporované hello hardwaru clusteru.</span><span class="sxs-lookup"><span data-stu-id="ababb-124">Therefore, hello range of VM sizes that can exist in a single availability set is limited toohello range of VM sizes supported by hello hardware cluster.</span></span> <span data-ttu-id="ababb-125">Hello hardwaru clusteru pro sadu dostupnosti hello je vybraná při hello první virtuální počítač v sadě dostupnosti hello je nasazen nebo při spuštění hello první virtuální počítač do nějaké skupiny dostupnosti, kde se všechny virtuální počítače jsou aktuálně ve stavu Zastaveno navrácena hello.</span><span class="sxs-lookup"><span data-stu-id="ababb-125">hello hardware cluster for hello availability set is selected when hello first VM in hello availability set is deployed or when starting hello first VM in an availability set where all VMs are currently in hello stopped-deallocated state.</span></span> <span data-ttu-id="ababb-126">Hello následující rozhraní příkazového řádku příkaz mohou mít k dispozici pro skupinu dostupnosti velikost používané toodetermine hello rozsah virtuálních počítačů: "velikosti-az virtuálních počítačů seznamu – umístění \<řetězec\>"</span><span class="sxs-lookup"><span data-stu-id="ababb-126">hello following CLI command can be used toodetermine hello range of VM sizes available for an availability set: “az vm list-sizes --location \<string\>”</span></span>

<span data-ttu-id="ababb-127">Každý cluster hardwaru je rozděleno v toomultiple aktualizace domén a domén selhání.</span><span class="sxs-lookup"><span data-stu-id="ababb-127">Each hardware cluster is divided in toomultiple update domains and fault domains.</span></span> <span data-ttu-id="ababb-128">Tyto domény jsou definovány, jaké hostitelé sdílení běžné cyklu aktualizace nebo podobné fyzické infrastruktuře sdílené složky například energie a sítě.</span><span class="sxs-lookup"><span data-stu-id="ababb-128">These domains are defined by what hosts share a common update cycle, or share similar physical infrastructure such as power and networking.</span></span> <span data-ttu-id="ababb-129">Azure automaticky distribuuje virtuální počítače v rámci dostupnosti v rámci domény toomaintain dostupnost a odolnost proti chybám nastavit.</span><span class="sxs-lookup"><span data-stu-id="ababb-129">Azure automatically distributes your VMs within an availability set across domains toomaintain availability and fault tolerance.</span></span> <span data-ttu-id="ababb-130">V závislosti na velikosti hello aplikace a hello počet virtuálních počítačů v rámci skupiny dostupnosti, můžete upravit počet hello domén chcete toouse.</span><span class="sxs-lookup"><span data-stu-id="ababb-130">Depending on hello size of your application and hello number of VMs within an availability set, you can adjust hello number of domains you wish toouse.</span></span> <span data-ttu-id="ababb-131">Další informace o [Správa dostupnosti a použití aktualizací a chyby domén](manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="ababb-131">You can read more about [managing availability and use of update and fault domains](manage-availability.md).</span></span>

<span data-ttu-id="ababb-132">Při navrhování infrastruktury aplikace, naplánování toouse vrstev aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="ababb-132">When designing your application infrastructure, plan out hello application tiers toouse.</span></span> <span data-ttu-id="ababb-133">Skupiny virtuálních počítačů, které slouží hello stejný účel tooavailability sad, jako je například sadu dostupnosti pro vaše klientské virtuální počítače se systémem nginx nebo Apache.</span><span class="sxs-lookup"><span data-stu-id="ababb-133">Group VMs that serve hello same purpose in tooavailability sets, such as an availability set for your front-end VMs running nginx or Apache.</span></span> <span data-ttu-id="ababb-134">Vytvořte samostatnou sadu dostupnosti pro virtuální počítače back-end s MongoDB nebo MySQL.</span><span class="sxs-lookup"><span data-stu-id="ababb-134">Create a separate availability set for your back-end VMs running MongoDB or MySQL.</span></span> <span data-ttu-id="ababb-135">cílem Hello je tooensure, že jednotlivé komponenty aplikace je chráněn skupinu dostupnosti a alespoň jednou se instance vždy zůstane spuštěný.</span><span class="sxs-lookup"><span data-stu-id="ababb-135">hello goal is tooensure that each component of your application is protected by an availability set and at least once instance always remains running.</span></span>

<span data-ttu-id="ababb-136">Nástroje pro vyrovnávání zatížení před každou toowork vrstvy aplikace společně se skupina dostupnosti, můžete použít a ujistěte se, že provoz může být vždy směrované tooa spuštěna instance.</span><span class="sxs-lookup"><span data-stu-id="ababb-136">Load balancers can be utilized in front of each application tier toowork alongside an availability set and ensure traffic can always be routed tooa running instance.</span></span> <span data-ttu-id="ababb-137">Bez nástroj pro vyrovnávání zatížení virtuálních počítačů může dál běžet v rámci události plánovaných a neplánovaných údržby, ale koncový uživatel nemusí být možné tooresolve je pokud hello primárního virtuálního počítače není k dispozici.</span><span class="sxs-lookup"><span data-stu-id="ababb-137">Without a load balancer, your VMs may continue running throughout planned and unplanned maintenance events, but your end user may not be able tooresolve them if hello primary VM is unavailable.</span></span>

<span data-ttu-id="ababb-138">Návrh aplikace pro zajištění vysoké dostupnosti ve vrstvě úložiště.</span><span class="sxs-lookup"><span data-stu-id="ababb-138">Design your application for high availability at storage layer.</span></span> <span data-ttu-id="ababb-139">Hello osvědčeným postupem je příliš[používat spravované disky pro virtuální počítače ve skupině dostupnosti](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="ababb-139">hello best practice is too[use Managed Disks for VMs in an Availability Set](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span></span> <span data-ttu-id="ababb-140">Pokud aktuálně používáte nespravované disky, důrazně doporučujeme příliš[převést virtuální počítače ve skupině dostupnosti disky spravované toouse](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="ababb-140">If you are currently using unmanaged disks, we highly recommend you too[convert VMs in Availability Set toouse Managed Disks](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span></span>

## <a name="next-steps"></a><span data-ttu-id="ababb-141">Další kroky</span><span class="sxs-lookup"><span data-stu-id="ababb-141">Next steps</span></span>
[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-linux-infrastructure-guidelines-next-steps.md)]

