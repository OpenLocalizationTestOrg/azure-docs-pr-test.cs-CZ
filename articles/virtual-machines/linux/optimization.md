---
title: "aaaOptimize virtuálním počítačům s Linuxem v Azure | Microsoft Docs"
description: "Další tipy toomake některé optimalizace se, že jste nastavili virtuálním počítačům s Linuxem pro optimální výkon na Azure"
keywords: "virtuální počítač Linux, virtuální počítač linux, ubuntu virtuálního počítače"
services: virtual-machines-linux
documentationcenter: 
author: rickstercdn
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: 8baa30c8-d40e-41ac-93d0-74e96fe18d4c
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: rclaus
ms.openlocfilehash: 89a9ac022928a2801a9a15e1c172340352745354
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="optimize-your-linux-vm-on-azure"></a><span data-ttu-id="5c8f2-104">Optimalizace virtuálního počítače s Linuxem v Azure</span><span class="sxs-lookup"><span data-stu-id="5c8f2-104">Optimize your Linux VM on Azure</span></span>
<span data-ttu-id="5c8f2-105">Vytvoření virtuálního počítače (VM) Linux je snadno toodo z hello příkazového řádku nebo z portálu hello.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-105">Creating a Linux virtual machine (VM) is easy toodo from hello command line or from hello portal.</span></span> <span data-ttu-id="5c8f2-106">Tento kurz ukazuje, jak tooensure jste nastavili ho toooptimize jeho výkon na platformě Microsoft Azure hello.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-106">This tutorial shows you how tooensure you have set it up toooptimize its performance on hello Microsoft Azure platform.</span></span> <span data-ttu-id="5c8f2-107">Toto téma používá virtuálního počítače s Ubuntu Server, ale můžete vytvořit také pomocí virtuálních počítačů Linux [vlastní Image jako šablona](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="5c8f2-107">This topic uses an Ubuntu Server VM, but you can also create Linux virtual machine using [your own images as templates](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="5c8f2-108">Požadavky</span><span class="sxs-lookup"><span data-stu-id="5c8f2-108">Prerequisites</span></span>
<span data-ttu-id="5c8f2-109">Toto téma předpokládá, že již máte funkční předplatné Azure ([bezplatné zkušební verze registrace](https://azure.microsoft.com/pricing/free-trial/)) a již zřídit virtuální počítač do vašeho předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-109">This topic assumes you already have a working Azure subscription ([free trial signup](https://azure.microsoft.com/pricing/free-trial/)) and have already provisioned a VM into your Azure subscription.</span></span> <span data-ttu-id="5c8f2-110">Ujistěte se, že máte hello nejnovější [Azure CLI 2.0](/cli/azure/install-az-cli2) nainstalován a přihlášení tooyour předplatné s [az přihlášení](/cli/azure/#login) před [vytvoření virtuálního počítače](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="5c8f2-110">Make sure that you have hello latest [Azure CLI 2.0](/cli/azure/install-az-cli2) installed and logged in tooyour Azure subscription with [az login](/cli/azure/#login) before you [create a VM](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

## <a name="azure-os-disk"></a><span data-ttu-id="5c8f2-111">Azure Disk operačního systému</span><span class="sxs-lookup"><span data-stu-id="5c8f2-111">Azure OS Disk</span></span>
<span data-ttu-id="5c8f2-112">Po vytvoření virtuálního počítače s Linuxem v Azure, má dva disky, které jsou s ním spojená.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-112">Once you create a Linux VM in Azure, it has two disks associated with it.</span></span> <span data-ttu-id="5c8f2-113">**/ dev/sda** je disk operačního systému, **/dev/sdb** je dočasným diskovým.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-113">**/dev/sda** is your OS disk, **/dev/sdb** is your temporary disk.</span></span>  <span data-ttu-id="5c8f2-114">Nepoužívejte hello hlavní disk operačního systému (**/dev/sda**) pro všechno, co s výjimkou hello operačního systému, protože je optimalizovaná pro rychlé spuštění virtuálního počítače a neposkytuje dobrý výkon pro zatížení.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-114">Do not use hello main OS disk (**/dev/sda**) for anything except hello operating system as it is optimized for fast VM boot time and does not provide good performance for your workloads.</span></span> <span data-ttu-id="5c8f2-115">Chcete, aby tooattach jeden nebo více disků tooyour úložiště virtuálního počítače tooget trvalé a optimalizované pro data.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-115">You want tooattach one or more disks tooyour VM tooget persistent and optimized storage for your data.</span></span> 

## <a name="adding-disks-for-size-and-performance-targets"></a><span data-ttu-id="5c8f2-116">Přidání disků pro velikost a cílech výkonnosti</span><span class="sxs-lookup"><span data-stu-id="5c8f2-116">Adding Disks for Size and Performance targets</span></span>
<span data-ttu-id="5c8f2-117">Podle hello velikost virtuálního počítače, můžete připojit až too16 další disky na A-Series, 32 disky na D-Series a 64 disků na počítači G-Series - každý až velikost too1 TB.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-117">Based on hello VM size, you can attach up too16 additional disks on an A-Series, 32 disks on a D-Series and 64 disks on a G-Series machine - each up too1 TB in size.</span></span> <span data-ttu-id="5c8f2-118">Podle potřeby na místa a požadavky na IOps přidáte další disky.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-118">You add extra disks as needed per your space and IOps requirements.</span></span> <span data-ttu-id="5c8f2-119">Každý disk má výkonu cílem 500 IOps pro Standard Storage nebo vyšší too5000 IOps na disku pro Storage úrovně Premium.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-119">Each disk has a performance target of 500 IOps for Standard Storage and up too5000 IOps per disk for Premium Storage.</span></span>  <span data-ttu-id="5c8f2-120">Další informace o discích Premium Storage najdete v tématu [úložiště Premium: vysoce výkonné úložiště pro virtuální počítače Azure](../../storage/common/storage-premium-storage.md)</span><span class="sxs-lookup"><span data-stu-id="5c8f2-120">For more information about Premium Storage disks, see [Premium Storage: High-Performance Storage for Azure VMs](../../storage/common/storage-premium-storage.md)</span></span>

<span data-ttu-id="5c8f2-121">tooachieve hello nejvyšší IOps na discích úložiště Premium, kde jejich mezipaměti nastavení tooeither **jen pro čtení** nebo **žádné**, je nutné zakázat **překážek** při připojení hello systému souborů v systému Linux.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-121">tooachieve hello highest IOps on Premium Storage disks where their cache settings have been set tooeither **ReadOnly** or **None**, you must disable **barriers** while mounting hello file system in Linux.</span></span> <span data-ttu-id="5c8f2-122">Není nutné překážek protože hello zapíše tooPremium úložiště zálohovány disky jsou odolné, aby se tato nastavení mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-122">You do not need barriers because hello writes tooPremium Storage backed disks are durable for these cache settings.</span></span>

* <span data-ttu-id="5c8f2-123">Pokud používáte **reiserFS**, zakažte překážek pomocí možnosti připojení hello `barrier=none` (pro povolení překážek, použijte `barrier=flush`)</span><span class="sxs-lookup"><span data-stu-id="5c8f2-123">If you use **reiserFS**, disable barriers using hello mount option `barrier=none` (For enabling barriers, use `barrier=flush`)</span></span>
* <span data-ttu-id="5c8f2-124">Pokud používáte **ext3/ext4**, zakažte překážek pomocí možnosti připojení hello `barrier=0` (pro povolení překážek, použijte `barrier=1`)</span><span class="sxs-lookup"><span data-stu-id="5c8f2-124">If you use **ext3/ext4**, disable barriers using hello mount option `barrier=0` (For enabling barriers, use `barrier=1`)</span></span>
* <span data-ttu-id="5c8f2-125">Pokud používáte **XFS**, zakažte překážek pomocí možnosti připojení hello `nobarrier` (pro povolení překážek, použijte možnost hello `barrier`)</span><span class="sxs-lookup"><span data-stu-id="5c8f2-125">If you use **XFS**, disable barriers using hello mount option `nobarrier` (For enabling barriers, use hello option `barrier`)</span></span>

## <a name="unmanaged-storage-account-considerations"></a><span data-ttu-id="5c8f2-126">Důležité informace o účtu nespravovaného úložiště</span><span class="sxs-lookup"><span data-stu-id="5c8f2-126">Unmanaged storage account considerations</span></span>
<span data-ttu-id="5c8f2-127">Hello výchozí akce při vytvoření virtuálního počítače s hello Azure CLI 2.0 je toouse Azure spravované disky.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-127">hello default action when you create a VM with hello Azure CLI 2.0 is toouse Azure Managed Disks.</span></span>  <span data-ttu-id="5c8f2-128">Tyto disky jsou zpracovávány hello platformy Azure a nevyžadují, aby všechny přípravné nebo umístění toostore je.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-128">These disks are handled by hello Azure platform and do not require any preparation or location toostore them.</span></span>  <span data-ttu-id="5c8f2-129">Nespravované disky se vyžaduje účet úložiště a mají některé další výkonem.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-129">Unmanaged disks require a storage account and have some additional performance considerations.</span></span>  <span data-ttu-id="5c8f2-130">Další informace o spravovaných discích najdete v tématu [Přehled služby Azure Managed Disks](../windows/managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5c8f2-130">For more information about managed disks, see [Azure Managed Disks overview](../windows/managed-disks-overview.md).</span></span>  <span data-ttu-id="5c8f2-131">Hello následující část popisuje faktory ovlivňující výkon jenom když použijete nespravované disky.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-131">hello following section outlines performance considerations only when you use unmanaged disks.</span></span>  <span data-ttu-id="5c8f2-132">Znovu hello výchozí a doporučenou úložiště řešení je toouse spravované disky.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-132">Again, hello default and recommended storage solution is toouse managed disks.</span></span>

<span data-ttu-id="5c8f2-133">Pokud vytvoříte virtuální počítač s nespravované disky, ujistěte se, připojit disky z účtů úložiště umístěných v hello stejné oblasti jako váš počítač tooensure zavřete blízkosti a minimalizaci latence sítě.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-133">If you create a VM with unmanaged disks, make sure that you attach disks from storage accounts residing in hello same region as your VM tooensure close proximity and minimize network latency.</span></span>  <span data-ttu-id="5c8f2-134">Každý účet standardního úložiště má maximálně 20 tisíc IOps a kapacitou velikost 500 TB.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-134">Each Standard storage account has a maximum of 20k IOps and a 500 TB size capacity.</span></span>  <span data-ttu-id="5c8f2-135">Tento limit funguje tooapproximately 40 zatížen disky, včetně disku hello operačního systému a všech datových disků, které vytvoříte.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-135">This  limit works out tooapproximately 40 heavily used disks including both hello OS disk and any data disks you create.</span></span> <span data-ttu-id="5c8f2-136">Pro účty služby Premium Storage neexistuje žádné omezení maximální IOps, ale existuje omezení velikosti 32 TB.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-136">For Premium Storage accounts, there is no Maximum IOps limit but there is a 32 TB size limit.</span></span> 

<span data-ttu-id="5c8f2-137">Při práci s vysoké zatížení IOps a vybrali standardní úložiště pro disky, bude pravděpodobně nutné toosplit hello disky napříč více účtů úložiště toomake se, že nebyly dosáhl hello 20 000 IOps omezení pro účty úložiště Standard Storage.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-137">When dealing with high IOps workloads and you have chosen Standard Storage for your disks, you might need toosplit hello disks across multiple storage accounts toomake sure you have not hit hello 20,000 IOps limit for Standard Storage accounts.</span></span> <span data-ttu-id="5c8f2-138">Virtuální počítač může obsahovat kombinaci disků z napříč jiným účtům úložiště a tooachieve typy účtu úložiště optimální konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-138">Your VM can contain a mix of disks from across different storage accounts and storage account types tooachieve your optimal configuration.</span></span>
 

## <a name="your-vm-temporary-drive"></a><span data-ttu-id="5c8f2-139">Virtuální počítač dočasné jednotce</span><span class="sxs-lookup"><span data-stu-id="5c8f2-139">Your VM Temporary drive</span></span>
<span data-ttu-id="5c8f2-140">Ve výchozím nastavení při vytváření virtuálního počítače, Azure poskytuje disk s operačním systémem (**/dev/sda**) a dočasným diskovým (**/dev/sdb**).</span><span class="sxs-lookup"><span data-stu-id="5c8f2-140">By default when you create a VM, Azure provides you with an OS disk (**/dev/sda**) and a temporary disk (**/dev/sdb**).</span></span>  <span data-ttu-id="5c8f2-141">Všechny další disky přidat zobrazit si jako **/dev/sdc**, **/dev/sdd**, **/dev/sde** a tak dále.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-141">All additional disks you add show up as **/dev/sdc**, **/dev/sdd**, **/dev/sde** and so on.</span></span> <span data-ttu-id="5c8f2-142">Všechna data na dočasné disku (**/dev/sdb**) není odolné a může dojít ke ztrátě, pokud konkrétní události, například změna velikosti virtuálních počítačů, opakované nasazení, nebo údržby vynutí restartování virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-142">All data on your temporary disk (**/dev/sdb**) is not durable, and can be lost if specific events like VM Resizing, redeployment, or maintenance forces a restart of your VM.</span></span>  <span data-ttu-id="5c8f2-143">Hello velikost a typ dočasné disku je související toohello velikost virtuálního počítače, které jste zvolili v době nasazení.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-143">hello size and type of your temporary disk is related toohello VM size you chose at deployment time.</span></span> <span data-ttu-id="5c8f2-144">Všechny hello premium velikosti virtuálních počítačů (řady DS, G a DS_V2) hello dočasné jednotce jsou zajišťované místní SSD pro další výkonu nahoru too48k IOps.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-144">All of hello premium size VMs (DS, G, and DS_V2 series) hello temporary drive are backed by a local SSD for additional performance of up too48k IOps.</span></span> 

## <a name="linux-swap-file"></a><span data-ttu-id="5c8f2-145">Linux odkládací soubor</span><span class="sxs-lookup"><span data-stu-id="5c8f2-145">Linux Swap File</span></span>
<span data-ttu-id="5c8f2-146">Pokud virtuální počítač Azure z image Ubuntu nebo CoreOS, můžete použít CustomData toosend cloudu config toocloud-init.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-146">If your Azure VM is from an Ubuntu or CoreOS image, then you can use CustomData toosend a cloud-config toocloud-init.</span></span> <span data-ttu-id="5c8f2-147">Pokud jste [nahrát vlastní image Linux](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) init cloudu, který používá, je také nakonfigurovat oddíly odkládacího souboru v cloudu init.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-147">If you [uploaded a custom Linux image](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) that uses cloud-init, you also configure swap partitions using cloud-init.</span></span>

<span data-ttu-id="5c8f2-148">Ubuntu cloudu Image musíte použít cloudové init tooconfigure hello přepnutí oddílu.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-148">On Ubuntu Cloud Images, you must use cloud-init tooconfigure hello swap partition.</span></span> <span data-ttu-id="5c8f2-149">Další informace najdete v tématu [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span><span class="sxs-lookup"><span data-stu-id="5c8f2-149">For more information, see [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span></span>

<span data-ttu-id="5c8f2-150">Pro Image bez podpory cloudu init být Image virtuálních počítačů z Azure Marketplace hello nasazena Agent virtuálních počítačů Linux integrovat hello operačního systému.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-150">For images without cloud-init support, VM images deployed from hello Azure Marketplace have a VM Linux Agent integrated with hello OS.</span></span> <span data-ttu-id="5c8f2-151">Tento agent umožňuje hello toointeract virtuálních počítačů s různými službami Azure.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-151">This agent allows hello VM toointeract with various Azure services.</span></span> <span data-ttu-id="5c8f2-152">Za předpokladu, že jste nasadili standardní bitové kopie z hello Azure Marketplace, potřebovali byste toodo hello následující toocorrectly konfigurace Linux odkládací soubor:</span><span class="sxs-lookup"><span data-stu-id="5c8f2-152">Assuming you have deployed a standard image from hello Azure Marketplace, you would need toodo hello following toocorrectly configure your Linux swap file settings:</span></span>

<span data-ttu-id="5c8f2-153">Vyhledejte a upravit dvě položky v hello **/etc/waagent.conf** souboru.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-153">Locate and modify two entries in hello **/etc/waagent.conf** file.</span></span> <span data-ttu-id="5c8f2-154">Tím i určovat hello existenci vyhrazené odkládací soubor a velikost odkládacího souboru hello.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-154">They control hello existence of a dedicated swap file and size of hello swap file.</span></span> <span data-ttu-id="5c8f2-155">Parametry Hello hledáte toomodify jsou `ResourceDisk.EnableSwap=N` a`ResourceDisk.SwapSizeMB=0`</span><span class="sxs-lookup"><span data-stu-id="5c8f2-155">hello parameters you are looking toomodify are `ResourceDisk.EnableSwap=N` and `ResourceDisk.SwapSizeMB=0`</span></span> 

<span data-ttu-id="5c8f2-156">Změna toohello parametry hello následující nastavení:</span><span class="sxs-lookup"><span data-stu-id="5c8f2-156">Change hello parameters toohello following settings:</span></span>

* <span data-ttu-id="5c8f2-157">ResourceDisk.EnableSwap=Y</span><span class="sxs-lookup"><span data-stu-id="5c8f2-157">ResourceDisk.EnableSwap=Y</span></span>
* <span data-ttu-id="5c8f2-158">ResourceDisk.SwapSizeMB={size v MB toomeet vašim potřebám}</span><span class="sxs-lookup"><span data-stu-id="5c8f2-158">ResourceDisk.SwapSizeMB={size in MB toomeet your needs}</span></span> 

<span data-ttu-id="5c8f2-159">Po provedení hello změnit, je nutné příkaz waagent hello toorestart nebo restartovat váš virtuální počítač s Linuxem tooreflect tyto změny.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-159">Once you have made hello change, you need toorestart hello waagent or restart your Linux VM tooreflect those changes.</span></span>  <span data-ttu-id="5c8f2-160">Víte, byly implementovány změny hello a odkládací soubor byl vytvořen při použití hello `free` příkaz tooview volného místa.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-160">You know hello changes have been implemented and a swap file has been created when you use hello `free` command tooview free space.</span></span> <span data-ttu-id="5c8f2-161">Hello následující příklad je 512MB odkládací soubor vytvořeny v důsledku změny hello **waagent.conf** souboru:</span><span class="sxs-lookup"><span data-stu-id="5c8f2-161">hello following example has a 512MB swap file created as a result of modifying hello **waagent.conf** file:</span></span>

```bash
azuseruser@myVM:~$ free
            total       used       free     shared    buffers     cached
Mem:       3525156     804168    2720988        408       8428     633192
-/+ buffers/cache:     162548    3362608
Swap:       524284          0     524284
```

## <a name="io-scheduling-algorithm-for-premium-storage"></a><span data-ttu-id="5c8f2-162">Plánování algoritmus vstupně-výstupních operací pro Storage úrovně Premium</span><span class="sxs-lookup"><span data-stu-id="5c8f2-162">I/O scheduling algorithm for Premium Storage</span></span>
<span data-ttu-id="5c8f2-163">S hello 2.6.18 Linux jádra hello výchozí vstupně-výstupních operací plánování algoritmus změnila z konečného termínu tooCFQ (algoritmus úplně správného řízení front).</span><span class="sxs-lookup"><span data-stu-id="5c8f2-163">With hello 2.6.18 Linux kernel, hello default I/O scheduling algorithm was changed from Deadline tooCFQ (Completely fair queuing algorithm).</span></span> <span data-ttu-id="5c8f2-164">Pro vzory vstupů/výstupů náhodný přístup je nepatrné rozdíl ve výkonu rozdíly mezi CFQ a konečným termínem.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-164">For random access I/O patterns, there is negligible difference in performance differences between CFQ and Deadline.</span></span>  <span data-ttu-id="5c8f2-165">Pro založená na SSD disky, kde je vzor vstupně-výstupních operací disku hello převážně sekvenční, přepnout zpět toohello nedojde k žádné akci nebo termín algoritmus lepšího výkonu můžete dosáhnout vstupně-výstupní operace.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-165">For SSD-based disks where hello disk I/O pattern is predominantly sequential, switching back toohello NOOP or Deadline algorithm can achieve better I/O performance.</span></span>

### <a name="view-hello-current-io-scheduler"></a><span data-ttu-id="5c8f2-166">Zobrazení hello aktuálního vstupně-výstupních operací plánovače</span><span class="sxs-lookup"><span data-stu-id="5c8f2-166">View hello current I/O scheduler</span></span>
<span data-ttu-id="5c8f2-167">Hello použijte následující příkaz:</span><span class="sxs-lookup"><span data-stu-id="5c8f2-167">Use hello following command:</span></span>  

```bash
cat /sys/block/sda/queue/scheduler
```

<span data-ttu-id="5c8f2-168">Zobrazí následující výstup, který označuje hello aktuálního plánovače.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-168">You see following output, which indicates hello current scheduler.</span></span>  

```bash
noop [deadline] cfq
```

### <a name="change-hello-current-device-devsda-of-io-scheduling-algorithm"></a><span data-ttu-id="5c8f2-169">Změnit aktuální zařízení hello (/ dev/sda) plánování algoritmus vstupně-výstupních operací</span><span class="sxs-lookup"><span data-stu-id="5c8f2-169">Change hello current device (/dev/sda) of I/O scheduling algorithm</span></span>
<span data-ttu-id="5c8f2-170">Hello použijte následující příkazy:</span><span class="sxs-lookup"><span data-stu-id="5c8f2-170">Use hello following commands:</span></span>  

```bash
azureuser@myVM:~$ sudo su -
root@myVM:~# echo "noop" >/sys/block/sda/queue/scheduler
root@myVM:~# sed -i 's/GRUB_CMDLINE_LINUX=""/GRUB_CMDLINE_LINUX_DEFAULT="quiet splash elevator=noop"/g' /etc/default/grub
root@myVM:~# update-grub
```

> [!NOTE]
> <span data-ttu-id="5c8f2-171">Toto nastavení pro použití **/dev/sda** samostatně není užitečné.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-171">Applying this setting for **/dev/sda** alone is not useful.</span></span> <span data-ttu-id="5c8f2-172">Nastavte na všech datových disků, kde sekvenčních vstupně-výstupních operací dominuje vzor hello vstupně-výstupních operací.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-172">Set on all data disks where sequential I/O dominates hello I/O pattern.</span></span>  

<span data-ttu-id="5c8f2-173">Měli byste vidět hello následující výstup, což indikuje, že **grub.cfg** byla znovu sestavena úspěšně a že hello výchozí plánovač byla aktualizovaná tooNOOP.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-173">You should see hello following output, indicating that **grub.cfg** has been rebuilt successfully and that hello default scheduler has been updated tooNOOP.</span></span>  

```bash
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-3.13.0-34-generic
Found initrd image: /boot/initrd.img-3.13.0-34-generic
Found linux image: /boot/vmlinuz-3.13.0-32-generic
Found initrd image: /boot/initrd.img-3.13.0-32-generic
Found memtest86+ image: /memtest86+.elf
Found memtest86+ image: /memtest86+.bin
done
```

<span data-ttu-id="5c8f2-174">Pro hello Redhat distribuční rodiny stačí pouze hello následující příkaz:</span><span class="sxs-lookup"><span data-stu-id="5c8f2-174">For hello Redhat distribution family, you only need hello following command:</span></span>   

```bash
echo 'echo noop >/sys/block/sda/queue/scheduler' >> /etc/rc.local
```

## <a name="using-software-raid-tooachieve-higher-iops"></a><span data-ttu-id="5c8f2-175">Pomocí softwaru diskového pole RAID tooachieve vyšší I / Ops</span><span class="sxs-lookup"><span data-stu-id="5c8f2-175">Using Software RAID tooachieve higher I/Ops</span></span>
<span data-ttu-id="5c8f2-176">Pokud vaše úlohy vyžadují více procesorů, než může poskytnout jeden disk, je třeba toouse konfiguraci RAID softwaru několik disků.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-176">If your workloads require more IOps than a single disk can provide, you need toouse a software RAID configuration of multiple disks.</span></span> <span data-ttu-id="5c8f2-177">Protože Azure již provádí odolnosti disku ve vrstvě hello místní infrastruktury, můžete dosáhnout hello nejvyšší úroveň výkonu z proložení konfigurace RAID-0.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-177">Because Azure already performs disk resiliency at hello local fabric layer, you achieve hello highest level of performance from a RAID-0 striping configuration.</span></span>  <span data-ttu-id="5c8f2-178">Zřídit a disky v hello prostředí Azure a vytvořte tooyour virtuálního počítače s Linuxem před rozdělení do oddílů, formátování a připojení hello jednotky.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-178">Provision and create disks in hello Azure environment and attach them tooyour Linux VM before partitioning, formatting and mounting hello drives.</span></span>  <span data-ttu-id="5c8f2-179">Další informace o konfiguraci instalace softwaru diskového pole RAID na virtuálním počítačům s Linuxem v azure naleznete v hello  **[konfigurace RAID softwaru v systému Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)**  dokumentu.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-179">More details on configuring a software RAID setup on your Linux VM in azure can be found in hello **[Configuring Software RAID on Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)** document.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5c8f2-180">Další kroky</span><span class="sxs-lookup"><span data-stu-id="5c8f2-180">Next Steps</span></span>
<span data-ttu-id="5c8f2-181">Pamatujte si, že všechny optimalizace diskuse, bude nutné tooperform testy před a po každé změny toomeasure hello dopad hello změnu má.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-181">Remember, as with all optimization discussions, you need tooperform tests before and after each change toomeasure hello impact hello change has.</span></span>  <span data-ttu-id="5c8f2-182">Optimalizace je krok za krokem proces, který má odlišné výsledky v různých počítačích ve vašem prostředí.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-182">Optimization is a step by step process that has different results across different machines in your environment.</span></span>  <span data-ttu-id="5c8f2-183">Co funguje pro jednu konfiguraci nemusí fungovat pro ostatní.</span><span class="sxs-lookup"><span data-stu-id="5c8f2-183">What works for one configuration may not work for others.</span></span>

<span data-ttu-id="5c8f2-184">Některé prostředky tooadditional užitečné odkazy:</span><span class="sxs-lookup"><span data-stu-id="5c8f2-184">Some useful links tooadditional resources:</span></span> 

* [<span data-ttu-id="5c8f2-185">Storage úrovně Premium: Vysoce výkonné úložiště pro úlohy virtuálních počítačů Azure</span><span class="sxs-lookup"><span data-stu-id="5c8f2-185">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../../storage/common/storage-premium-storage.md)
* [<span data-ttu-id="5c8f2-186">Uživatelská příručka k Azure Linux Agent</span><span class="sxs-lookup"><span data-stu-id="5c8f2-186">Azure Linux Agent User Guide</span></span>](../windows/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="5c8f2-187">Optimalizace výkonu databáze MySQL na virtuálních počítačích Azure Linux</span><span class="sxs-lookup"><span data-stu-id="5c8f2-187">Optimizing MySQL Performance on Azure Linux VMs</span></span>](classic/optimize-mysql.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)
* [<span data-ttu-id="5c8f2-188">Konfigurace softwaru diskového pole RAID v systému Linux</span><span class="sxs-lookup"><span data-stu-id="5c8f2-188">Configure Software RAID on Linux</span></span>](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

