---
title: "aaaPlanning pro migraci prostředků IaaS z classic tooAzure Resource Manager | Microsoft Docs"
description: "Plánování migrace prostředky infrastruktury z classic tooAzure Resource Manager"
services: virtual-machines-linux
documentationcenter: 
author: singhkays
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 78492a2c-2694-4023-a7b8-c97d3708dcb7
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 04/01/2017
ms.author: kasing
ms.openlocfilehash: 53c6f640425b69cae2ef10afb8c92b8ac4394267
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="planning-for-migration-of-iaas-resources-from-classic-tooazure-resource-manager"></a><span data-ttu-id="4a52f-103">Plánování migrace prostředky infrastruktury z classic tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-103">Planning for migration of IaaS resources from classic tooAzure Resource Manager</span></span>
<span data-ttu-id="4a52f-104">Azure Resource Manager nabízí mnoho úžasné funkcí, je důležité tooplan se vaše toomake cesty migrace, které zda věcí bezproblémové.</span><span class="sxs-lookup"><span data-stu-id="4a52f-104">While Azure Resource Manager offers a lot of amazing features, it is critical tooplan out your migration journey toomake sure things go smoothly.</span></span> <span data-ttu-id="4a52f-105">Výdaje čas na plánování zajistí nedochází chybám při provádění migrace aktivity.</span><span class="sxs-lookup"><span data-stu-id="4a52f-105">Spending time on planning will ensure that you do not encounter issues while executing migration activities.</span></span> 

> [!NOTE] 
> <span data-ttu-id="4a52f-106">Hello pokynů bylo výraznou přidružených tooby hello Azure zákazníka poradní tým a práce s zákazníků v migraci velké enviornments architekty cloudové řešení.</span><span class="sxs-lookup"><span data-stu-id="4a52f-106">hello following guidance was heavily contributed tooby hello Azure Customer Advisory team and Cloud Solution architects working with customers on migrating large enviornments.</span></span> <span data-ttu-id="4a52f-107">Tento dokument jako takový bude tooget aktualizovat, protože nové vzorce úspěch vznikat, tak zaškrtnutí zpět z času tootime toosee Pokud neexistují žádné nová doporučení.</span><span class="sxs-lookup"><span data-stu-id="4a52f-107">As such this document will continue tooget updated as new patterns of success emerge, so check back from time tootime toosee if there are any new recommendations.</span></span>

<span data-ttu-id="4a52f-108">Existují čtyři obecné fáze hello migrace cesty:</span><span class="sxs-lookup"><span data-stu-id="4a52f-108">There are four general phases of hello migration journey:</span></span>

![Migrace fáze](../media/virtual-machines-windows-migration-classic-resource-manager/plan-labtest-migrate-beyond.png)

## <a name="plan"></a><span data-ttu-id="4a52f-110">Plánování</span><span class="sxs-lookup"><span data-stu-id="4a52f-110">Plan</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="4a52f-111">Technické aspekty a kompromisy</span><span class="sxs-lookup"><span data-stu-id="4a52f-111">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="4a52f-112">V závislosti na velikosti technické požadavky, zeměpisných a provozní postupy můžete chtít tooconsider:</span><span class="sxs-lookup"><span data-stu-id="4a52f-112">Depending on your technical requirements size, geographies and operational practices, you might want tooconsider:</span></span>

1. <span data-ttu-id="4a52f-113">Proč se Azure Resource Manager požaduje pro vaši organizaci?</span><span class="sxs-lookup"><span data-stu-id="4a52f-113">Why is Azure Resource Manager desired for your organization?</span></span>  <span data-ttu-id="4a52f-114">Jaké jsou hello obchodních důvodů, proč pro migraci?</span><span class="sxs-lookup"><span data-stu-id="4a52f-114">What are hello business reasons for a migration?</span></span>
2. <span data-ttu-id="4a52f-115">Jaké jsou hello technických důvodů pro Azure Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="4a52f-115">What are hello technical reasons for Azure Resource Manager?</span></span>  <span data-ttu-id="4a52f-116">Co (pokud existuje) další služby Azure, by vám jako tooleverage?</span><span class="sxs-lookup"><span data-stu-id="4a52f-116">What (if any) additional Azure services would you like tooleverage?</span></span>
3. <span data-ttu-id="4a52f-117">Které aplikace (nebo sady virtuálních počítačů) je součástí hello migrace?</span><span class="sxs-lookup"><span data-stu-id="4a52f-117">Which application (or sets of virtual machines) is included in hello migration?</span></span>
4. <span data-ttu-id="4a52f-118">Jaké scénáře jsou podporovány migrace hello rozhraní API?</span><span class="sxs-lookup"><span data-stu-id="4a52f-118">Which scenarios are supported with hello migration API?</span></span>  <span data-ttu-id="4a52f-119">Zkontrolujte hello [nepodporované funkce a konfigurace](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#unsupported-features-and-configurations).</span><span class="sxs-lookup"><span data-stu-id="4a52f-119">Review hello [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#unsupported-features-and-configurations).</span></span>
5. <span data-ttu-id="4a52f-120">Týmům provozní nyní podporuje aplikace nebo virtuální počítače v Classic a Azure Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="4a52f-120">Will your operational teams now support applications/VMs in both Classic and Azure Resource Manager?</span></span>
6. <span data-ttu-id="4a52f-121">Jak (pokud vůbec) Azure Resource Manager mění nasazení virtuálního počítače, správu, monitorování a vytváření sestav procesy?</span><span class="sxs-lookup"><span data-stu-id="4a52f-121">How (if at all) does Azure Resource Manager change your VM deployment, management, monitoring, and reporting processes?</span></span>  <span data-ttu-id="4a52f-122">Mají skripty nasazení toobe aktualizovat?</span><span class="sxs-lookup"><span data-stu-id="4a52f-122">Do your deployment scripts need toobe updated?</span></span>
7. <span data-ttu-id="4a52f-123">Co je komunikace hello plánu tooalert zúčastněných (koncovým uživatelům, vlastníci aplikace a vlastníkům infrastruktury)?</span><span class="sxs-lookup"><span data-stu-id="4a52f-123">What is hello communications plan tooalert stakeholders (end users, application owners, and infrastructure owners)?</span></span>
8. <span data-ttu-id="4a52f-124">V závislosti na složitosti hello hello prostředí mělo by být období údržby kde hello aplikace je k dispozici tooend uživatelů a vlastníci tooapplication?</span><span class="sxs-lookup"><span data-stu-id="4a52f-124">Depending on hello complexity of hello environment, should there be a maintenance period where hello application is unavailable tooend users and tooapplication owners?</span></span>  <span data-ttu-id="4a52f-125">Pokud ano, jak dlouho?</span><span class="sxs-lookup"><span data-stu-id="4a52f-125">If so, for how long?</span></span>
9. <span data-ttu-id="4a52f-126">Co je hello zúčastněným stranám tooensure plán školení jsou znalostmi a znalosti ve službě Správce prostředků Azure?</span><span class="sxs-lookup"><span data-stu-id="4a52f-126">What is hello training plan tooensure stakeholders are knowledgeable and proficient in Azure Resource Manager?</span></span>
10. <span data-ttu-id="4a52f-127">Co je pro správu programu hello nebo plánu projektu správy pro migraci hello?</span><span class="sxs-lookup"><span data-stu-id="4a52f-127">What is hello program management or project management plan for hello migration?</span></span>
11. <span data-ttu-id="4a52f-128">Jaké jsou hello časové osy pro hello při migraci správce prostředků Azure a další související technologie silniční mapy?</span><span class="sxs-lookup"><span data-stu-id="4a52f-128">What are hello timelines for hello Azure Resource Manager migration and other related technology road maps?</span></span>  <span data-ttu-id="4a52f-129">Je jejich optimálně zarovnán?</span><span class="sxs-lookup"><span data-stu-id="4a52f-129">Are they optimally aligned?</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="4a52f-130">Vzory úspěch</span><span class="sxs-lookup"><span data-stu-id="4a52f-130">Patterns of success</span></span>

<span data-ttu-id="4a52f-131">Úspěšné zákazníkům obsahují podrobné plány, kde jsou popsané, zdokumentované a řídí hello výše otázky.</span><span class="sxs-lookup"><span data-stu-id="4a52f-131">Successful customers have detailed plans where hello above questions are discussed, documented and governed.</span></span>  <span data-ttu-id="4a52f-132">Zkontrolujte, zda hello migrace plány jsou široce informovat toosponsors a zúčastněnými stranami.</span><span class="sxs-lookup"><span data-stu-id="4a52f-132">Ensure hello migration plans are broadly communicated toosponsors and stakeholders.</span></span>  <span data-ttu-id="4a52f-133">Vybavit sami s informací o možnostech migrace; čtení tímto dokumentem migrace nastavit níže důrazně doporučujeme.</span><span class="sxs-lookup"><span data-stu-id="4a52f-133">Equip yourself with knowledge about your migration options; reading through this migration document set below is highly recommended.</span></span>

* [<span data-ttu-id="4a52f-134">Přehled migrace podporované platformy IaaS prostředků z classic tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-134">Overview of platform-supported migration of IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="4a52f-135">Technické podrobné informace o platformy podporované migrace z klasického tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-135">Technical deep dive on platform-supported migration from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-deep-dive.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="4a52f-136">Plánování migrace prostředky infrastruktury z classic tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-136">Planning for migration of IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-plan.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="4a52f-137">Pomocí prostředí PowerShell toomigrate IaaS prostředky z classic tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-137">Use PowerShell toomigrate IaaS resources from classic tooAzure Resource Manager</span></span>](../windows/migration-classic-resource-manager-ps.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="4a52f-138">Pomocí rozhraní příkazového řádku toomigrate IaaS prostředky z classic tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-138">Use CLI toomigrate IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="4a52f-139">Komunita nástroje asistence s migrace prostředky infrastruktury z classic tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-139">Community tools for assisting with migration of IaaS resources from classic tooAzure Resource Manager</span></span>](../windows/migration-classic-resource-manager-community-tools.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="4a52f-140">Běžné chyby při migraci</span><span class="sxs-lookup"><span data-stu-id="4a52f-140">Review most common migration errors</span></span>](migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="4a52f-141">Zkontrolujte hello nejčastěji kladené dotazy týkající se migrace prostředky infrastruktury z classic tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-141">Review hello most frequently asked questions about migrating IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-faq.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

### <a name="pitfalls-tooavoid"></a><span data-ttu-id="4a52f-142">Nástrahy tooavoid</span><span class="sxs-lookup"><span data-stu-id="4a52f-142">Pitfalls tooavoid</span></span>

- <span data-ttu-id="4a52f-143">Tooplan selhání.</span><span class="sxs-lookup"><span data-stu-id="4a52f-143">Failure tooplan.</span></span>  <span data-ttu-id="4a52f-144">kroky technologie Hello této migrace jsou ověřené a výsledek hello je předvídatelný.</span><span class="sxs-lookup"><span data-stu-id="4a52f-144">hello technology steps of this migration are proven and hello outcome is predictable.</span></span>
- <span data-ttu-id="4a52f-145">Předpokládá, že hello platformy podporované migrace API bude účet pro všechny scénáře.</span><span class="sxs-lookup"><span data-stu-id="4a52f-145">Assumption that hello platform supported migration API will account for all scenarios.</span></span> <span data-ttu-id="4a52f-146">Čtení hello [nepodporované funkce a konfigurace](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#unsupported-features-and-configurations) toounderstand, jaké postupy se podporují.</span><span class="sxs-lookup"><span data-stu-id="4a52f-146">Read hello [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#unsupported-features-and-configurations) toounderstand what scenarios are supported.</span></span>
- <span data-ttu-id="4a52f-147">Není plánování potenciální výpadek aplikace pro koncové uživatele.</span><span class="sxs-lookup"><span data-stu-id="4a52f-147">Not planning potential application outage for end users.</span></span>  <span data-ttu-id="4a52f-148">Plánování nedostatek vyrovnávací paměti tooadequately upozornit koncoví uživatelé doba potenciálně není k dispozici aplikace.</span><span class="sxs-lookup"><span data-stu-id="4a52f-148">Plan enough buffer tooadequately warn end users of potentially unavailable application time.</span></span>


## <a name="lab-test"></a><span data-ttu-id="4a52f-149">Testovací laboratoře</span><span class="sxs-lookup"><span data-stu-id="4a52f-149">Lab Test</span></span> 

<span data-ttu-id="4a52f-150">**Replikovat vaše hodnotit a provést migraci testu**</span><span class="sxs-lookup"><span data-stu-id="4a52f-150">**Replicate your enviornment and do a test migration**</span></span>
  > [!NOTE]
  > <span data-ttu-id="4a52f-151">Přesný replikace vaše stávající prostředí se spustí pomocí nástroje podílí komunity, který není oficiálně podporován Microsoft Support.</span><span class="sxs-lookup"><span data-stu-id="4a52f-151">Exact replication of your existing environment is executed by using a community-contributed tool which is not officially supported by Microsoft Support.</span></span> <span data-ttu-id="4a52f-152">Proto je **volitelné** krok, ale je hello nejlepší způsob, jak toofind se problémy bez zásahu do provozní prostředí.</span><span class="sxs-lookup"><span data-stu-id="4a52f-152">Therefore, it is an **optional** step but it is hello best way toofind out issues without touching your production environments.</span></span> <span data-ttu-id="4a52f-153">Pokud pomocí nástroje podílí komunity není možné, přečtěte si o hello ověřením a příprava nebo zrušit vyzkoušet vysílání doporučení níže.</span><span class="sxs-lookup"><span data-stu-id="4a52f-153">If using a community-contributed tool is not an option, then read about hello Validate/Prepare/Abort Dry Run recommendation below.</span></span>
  >
  
  <span data-ttu-id="4a52f-154">Provádění testu testovacího prostředí vaší přesný scénář (výpočty, síť a úložiště) je nejlepší způsob, jak tooensure hello bezproblémovou migraci.</span><span class="sxs-lookup"><span data-stu-id="4a52f-154">Conducting a lab test of your exact scenario (compute, networking, and storage) is hello best way tooensure a smooth migration.</span></span> <span data-ttu-id="4a52f-155">To pomůže zajistit:</span><span class="sxs-lookup"><span data-stu-id="4a52f-155">This will help ensure:</span></span>

  - <span data-ttu-id="4a52f-156">Zcela samostatné testovacího prostředí nebo existující tootest mimo produkční prostředí.</span><span class="sxs-lookup"><span data-stu-id="4a52f-156">A wholly separate lab or an existing non-production environment tootest.</span></span> <span data-ttu-id="4a52f-157">Doporučujeme, abyste zcela samostatné testovacím prostředí, které mohou být migrovány opakovaně a nelze jej destructively změnit.</span><span class="sxs-lookup"><span data-stu-id="4a52f-157">We recommend a wholly separate lab that can be migrated repeatedly and can be destructively modified.</span></span>  <span data-ttu-id="4a52f-158">Skripty toocollect nebo hydrát metadata z reálného odběry hello jsou uvedeny níže.</span><span class="sxs-lookup"><span data-stu-id="4a52f-158">Scripts toocollect/hydrate metadata from hello real subscriptions are listed below.</span></span>
  - <span data-ttu-id="4a52f-159">Je vhodné toocreate hello testovacího prostředí v samostatné předplatné.</span><span class="sxs-lookup"><span data-stu-id="4a52f-159">It's a good idea toocreate hello lab in a separate subscription.</span></span> <span data-ttu-id="4a52f-160">Hello důvod je, že se opakovaně deaktivuje hello testovacího prostředí a s samostatné, izolované předplatného se sníží riziko hello že něco skutečné získá ať už náhodně odstranit.</span><span class="sxs-lookup"><span data-stu-id="4a52f-160">hello reason is that hello lab will be torn down repeatedly, and having a separate, isolated subscription will reduce hello chance that something real will get accidently deleted.</span></span>

  <span data-ttu-id="4a52f-161">To můžete udělat pomocí nástroje AsmMetadataParser hello.</span><span class="sxs-lookup"><span data-stu-id="4a52f-161">This can be accomplished by using hello AsmMetadataParser tool.</span></span> [<span data-ttu-id="4a52f-162">Další informace o tomto nástroji sem</span><span class="sxs-lookup"><span data-stu-id="4a52f-162">Read more about this tool here</span></span>](https://github.com/Azure/classic-iaas-resourcemanager-migration/tree/master/AsmToArmMigrationApiToolset)

### <a name="patterns-of-success"></a><span data-ttu-id="4a52f-163">Vzory úspěch</span><span class="sxs-lookup"><span data-stu-id="4a52f-163">Patterns of success</span></span>

<span data-ttu-id="4a52f-164">Následující Hello byly problémy zjištěné v mnoha hello větší migrace.</span><span class="sxs-lookup"><span data-stu-id="4a52f-164">hello following were issues discovered in many of hello larger migrations.</span></span> <span data-ttu-id="4a52f-165">Nejedná se o vyčerpávající seznam a by měla odkazovat toohello [nepodporované funkce a konfigurace](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#unsupported-features-and-configurations) další podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="4a52f-165">This is not an exhaustive list and you should refer toohello [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json#unsupported-features-and-configurations) for more detail.</span></span> <span data-ttu-id="4a52f-166">Může nebo nemusí dojde tyto technické problémy, ale v takovém případě tyto před pokusem o migraci řešení zajistí plynulejší práci.</span><span class="sxs-lookup"><span data-stu-id="4a52f-166">You may or may not encounter these technical issues but if you do solving these before attempting migration will ensure a smoother experience.</span></span>

- <span data-ttu-id="4a52f-167">**Proveďte vyzkoušet vysílání ověřením a příprava nebo zrušit** -Toto je možná hello nejdůležitější krok tooensure Classic tooAzure Resource Manager migrace úspěch.</span><span class="sxs-lookup"><span data-stu-id="4a52f-167">**Do a Validate/Prepare/Abort Dry Run** -  This is perhaps hello most important step tooensure Classic tooAzure Resource Manager migration success.</span></span> <span data-ttu-id="4a52f-168">migrace Hello rozhraní API obsahuje tři hlavní kroky: ověření, přípravě a provést.</span><span class="sxs-lookup"><span data-stu-id="4a52f-168">hello migration API has three main steps: Validate, Prepare and Commit.</span></span> <span data-ttu-id="4a52f-169">Ověření se načíst stav hello prostředí classic a vrátit výsledek všechny problémy.</span><span class="sxs-lookup"><span data-stu-id="4a52f-169">Validate will read hello state of your classic environment and return a result of all issues.</span></span> <span data-ttu-id="4a52f-170">Ale vzhledem k tomu, že některé problémy mohou existovat v zásobníku hello Azure Resource Manager, ověřit nebude catch vše.</span><span class="sxs-lookup"><span data-stu-id="4a52f-170">However, because some issues might exist in hello Azure Resource Manager stack, Validate will not catch everything.</span></span> <span data-ttu-id="4a52f-171">Hello dalším krokem v procesu migrace, Příprava vám pomůže zveřejnění těchto problémů.</span><span class="sxs-lookup"><span data-stu-id="4a52f-171">hello next step in migration process, Prepare will help expose those issues.</span></span> <span data-ttu-id="4a52f-172">Příprava bude přesunout hello metadata z klasického tooAzure Resource Manager, ale nebude potvrzení hello přesunout a bude odebrat ani změnit nic sám o hello Classic straně.</span><span class="sxs-lookup"><span data-stu-id="4a52f-172">Prepare will move hello metadata from Classic tooAzure Resource Manager, but will not commit hello move, and will not remove or change anything on hello Classic side.</span></span> <span data-ttu-id="4a52f-173">Hello vyzkoušet vysílání zahrnuje Příprava hello migrace, pak přerušení (**není potvrzení**) Příprava migrace hello.</span><span class="sxs-lookup"><span data-stu-id="4a52f-173">hello dry run involves preparing hello migration, then aborting (**not committing**) hello migration prepare.</span></span> <span data-ttu-id="4a52f-174">cílem Hello ověření a příprava nebo zrušit vyzkoušet vysílání je toosee všechny hello metadat v zásobníku hello Azure Resource Manager, jej prozkoumat (*prostřednictvím kódu programu nebo portálu*) a ověřte, že všechno migruje správně a fungovat prostřednictvím technické problémy.</span><span class="sxs-lookup"><span data-stu-id="4a52f-174">hello goal of validate/prepare/abort dry run is toosee all of hello metadata in hello Azure Resource Manager stack, examine it (*programmatically or in Portal*), and verify that everything migrates correctly, and work through technical issues.</span></span>  <span data-ttu-id="4a52f-175">Je také získáte představu o dobou trvání migrace, podle toho naplánovat výpadek.</span><span class="sxs-lookup"><span data-stu-id="4a52f-175">It will also give you a sense of migration duration so you can plan for downtime accordingly.</span></span>  <span data-ttu-id="4a52f-176">Ověření a příprava nebo zrušit nezpůsobí žádné výpadky uživatele; Proto je omezovaly tooapplication využití.</span><span class="sxs-lookup"><span data-stu-id="4a52f-176">A validate/prepare/abort does not cause any user downtime; therefore, it is non-disruptive tooapplication usage.</span></span>
  - <span data-ttu-id="4a52f-177">následující položky Hello potřebovat toobe vyřeší před hello vyzkoušet vysílání, ale testu vyzkoušet vysílání se taky bezpečně vyprázdní se tyto přípravné kroky, pokud jejich provedena.</span><span class="sxs-lookup"><span data-stu-id="4a52f-177">hello items below will need toobe solved before hello dry run, but a dry run test will also safely flush out these preparation steps if they are missed.</span></span> <span data-ttu-id="4a52f-178">Během migrace enterprise jsme zjistili hello vyzkoušet vysílání toobe přípravu migrace tooensure bezpečné a neocenitelnou pomocí způsobem.</span><span class="sxs-lookup"><span data-stu-id="4a52f-178">During enterprise migration, we've found hello dry run toobe a safe and invaluable way tooensure migration readiness.</span></span>
  - <span data-ttu-id="4a52f-179">Při přípravě běží hello řízení roviny (Azure management operace) nebude možné hello celý virtuální síti, takže provedeny žádné změny může být tooVM metadata během ověření a příprava nebo zrušit.</span><span class="sxs-lookup"><span data-stu-id="4a52f-179">When prepare is running, hello control plane (Azure management operations) will be locked for hello whole virtual network, so no changes can be made tooVM metadata during validate/prepare/abort.</span></span>  <span data-ttu-id="4a52f-180">Jinak, ale všechny funkce aplikací (VP, virtuálních počítačů využití, atd.), zůstanou beze změn.</span><span class="sxs-lookup"><span data-stu-id="4a52f-180">But otherwise any application function (RD, VM usage, etc.) will be unaffected.</span></span>  <span data-ttu-id="4a52f-181">Uživatelé hello virtuální počítače nebude vědět, že tento hello vyzkoušet vysílání je spouštěna.</span><span class="sxs-lookup"><span data-stu-id="4a52f-181">Users of hello VMs will not know that hello dry run is being executed.</span></span>

- <span data-ttu-id="4a52f-182">**Express okruhy směrování a síť VPN**.</span><span class="sxs-lookup"><span data-stu-id="4a52f-182">**Express Route Circuits and VPN**.</span></span> <span data-ttu-id="4a52f-183">Aktuálně Express trasy brány s autorizace odkazy se nedají migrovat bez výpadků.</span><span class="sxs-lookup"><span data-stu-id="4a52f-183">Currently Express Route Gateways with authorization links cannot be migrated without downtime.</span></span> <span data-ttu-id="4a52f-184">Alternativní řešení hello, najdete v části [migrovat ExpressRoute okruhy a přidružené virtuální sítě z modelu nasazení Resource Manager classic toohello hello](../../expressroute/expressroute-migration-classic-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="4a52f-184">For hello workaround, see [Migrate ExpressRoute circuits and associated virtual networks from hello classic toohello Resource Manager deployment model](../../expressroute/expressroute-migration-classic-resource-manager.md).</span></span>

- <span data-ttu-id="4a52f-185">**Rozšíření virtuálního počítače** -rozšíření virtuálního počítače jsou potenciálně jeden z největších toomigrating roadblocks hello spuštěných virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="4a52f-185">**VM Extensions** - Virtual Machine extensions are potentially one of hello biggest roadblocks toomigrating running VMs.</span></span> <span data-ttu-id="4a52f-186">Náprava rozšíření virtuálního počítače může trvat upwards of 1 – 2 dny, takže Plánujte odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="4a52f-186">Remediation of VM Extensions could take upwards of 1-2 days, so plan accordingly.</span></span>  <span data-ttu-id="4a52f-187">Funkční Azure agent je potřebné tooreport back stav rozšíření virtuálního počítače spuštěných virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="4a52f-187">A working Azure agent is needed tooreport back VM Extension status of running VMs.</span></span> <span data-ttu-id="4a52f-188">Pokud hello stav, je vrácen chybný pro spuštění virtuálního počítače, to se zastaví migrace.</span><span class="sxs-lookup"><span data-stu-id="4a52f-188">If hello status comes back as bad for a running VM, this will halt migration.</span></span> <span data-ttu-id="4a52f-189">vlastní Hello agent není nutné toobe migraci tooenable fungují správně, ale pokud rozšíření existují na hello virtuální počítač, pak oba pracovní agenta a odchozí připojení k Internetu (pomocí DNS), bude potřeba pro migraci toomove dál.</span><span class="sxs-lookup"><span data-stu-id="4a52f-189">hello agent itself does not need toobe in working order tooenable migration, but if extensions exist on hello VM, then both a working agent AND outbound internet connectivity (with DNS) will be needed for migration toomove forward.</span></span>
  - <span data-ttu-id="4a52f-190">Pokud během migrace, všechna rozšíření virtuálních počítačů s výjimkou BGInfo v1 dojde ke ztrátě připojení k serveru DNS tooa. \* potřebovat toofirst odeberou z každý virtuální počítač před Příprava migrace a následně znovu přidat zpět toohello virtuálních počítačů po migraci správce prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="4a52f-190">If connectivity tooa DNS server is lost during migration, all VM Extensions except BGInfo v1.\* need toofirst be removed from every VM before migration prepare, and subsequently re-added back toohello VM after Azure Resource Manager migration.</span></span>  <span data-ttu-id="4a52f-191">**Toto je pouze pro virtuální počítače, které jsou spuštěné.**</span><span class="sxs-lookup"><span data-stu-id="4a52f-191">**This is only for VMs that are running.**</span></span>  <span data-ttu-id="4a52f-192">Pokud jsou zastaveny deallocated hello virtuálních počítačů, rozšíření virtuálního počítače není nutné toobe odebrat.</span><span class="sxs-lookup"><span data-stu-id="4a52f-192">If hello VMs are stopped deallocated, VM Extensions do not need toobe removed.</span></span> <span data-ttu-id="4a52f-193">**Poznámka:** mnoho rozšíření, jako jsou Azure diagnostics a security center monitorování bude přeinstalovat sami po migraci, odebrání, takže se nejedná o problém.</span><span class="sxs-lookup"><span data-stu-id="4a52f-193">**Note:** Many extensions like Azure diagnostics and security center monitoring will reinstall themselves after migration, so removing them is not a problem.</span></span>
  - <span data-ttu-id="4a52f-194">Kromě toho se ujistěte, skupiny zabezpečení sítě nejsou omezení odchozí přístup k Internetu.</span><span class="sxs-lookup"><span data-stu-id="4a52f-194">In addition, make sure Network Security Groups are not restricting outbound internet access.</span></span> <span data-ttu-id="4a52f-195">K tomu dochází s některé konfigurace skupin zabezpečení sítě.</span><span class="sxs-lookup"><span data-stu-id="4a52f-195">This can happen with some Network Security Groups configurations.</span></span> <span data-ttu-id="4a52f-196">Odchozí přístup k Internetu (a DNS) je potřeba pro rozšíření virtuálního počítače toobe migrovat tooAzure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4a52f-196">Outbound internet access (and DNS) is needed for VM Extensions toobe migrated tooAzure Resource Manager.</span></span> 
  - <span data-ttu-id="4a52f-197">Existují dvě verze hello rozšíření BGInfo: v1 a v2.</span><span class="sxs-lookup"><span data-stu-id="4a52f-197">There are two versions of hello BGInfo extension: v1 and v2.</span></span>  <span data-ttu-id="4a52f-198">Pokud hello virtuálního počítače byl vytvořen pomocí portálu classic hello nebo prostředí PowerShell, hello virtuálních počítačů pravděpodobně mít hello v1 rozšíření na něm.</span><span class="sxs-lookup"><span data-stu-id="4a52f-198">If hello VM was created using hello classic portal or PowerShell, hello VM will likely have hello v1 extension on it.</span></span> <span data-ttu-id="4a52f-199">Toto rozšíření není nutné toobe odebrána a bude vynechán. (není migrovat) hello migrace rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="4a52f-199">This extension does not need toobe removed and will be skipped (not migrated) by hello migration API.</span></span> <span data-ttu-id="4a52f-200">Ale pokud hello klasické virtuální počítač byl vytvořen s hello nový portál Azure, bude pravděpodobně mít hello na základě JSON v2 verzi BGInfo, může být migrované tooAzure Resource Manager poskytuje hello agent funguje a má odchozí přístup k Internetu (a DNS).</span><span class="sxs-lookup"><span data-stu-id="4a52f-200">However, if hello Classic VM was created with hello new Azure portal, it will likely have hello JSON-based v2 version of BGInfo, which can be migrated tooAzure Resource Manager provided hello agent is working and has outbound internet access (and DNS).</span></span> 
  - <span data-ttu-id="4a52f-201">**Možnost nápravy 1**.</span><span class="sxs-lookup"><span data-stu-id="4a52f-201">**Remediation Option 1**.</span></span> <span data-ttu-id="4a52f-202">Pokud víte, že virtuální počítače nebudou mít odchozí přístupem k Internetu, funkční službu DNS a práci agenty Azure na virtuálních počítačích hello, pak odinstalovat všechny rozšíření virtuálního počítače jako součást migrace hello před Příprava, znovu nainstalujte rozšíření virtuálního počítače hello po migraci.</span><span class="sxs-lookup"><span data-stu-id="4a52f-202">If you know your VMs will not have outbound internet access, a working DNS service, and working Azure agents on hello VMs, then uninstall all VM extensions as part of hello migration before Prepare, then reinstall hello VM Extensions after migration.</span></span> 
  - <span data-ttu-id="4a52f-203">**Možnost nápravy 2**.</span><span class="sxs-lookup"><span data-stu-id="4a52f-203">**Remediation Option 2**.</span></span> <span data-ttu-id="4a52f-204">Pokud rozšíření virtuálního počítače z mezní příliš velký, Další možností je tooshutdown nebo navrácení všechny virtuální počítače před migrací.</span><span class="sxs-lookup"><span data-stu-id="4a52f-204">If VM extensions are too big of a hurdle, another option is tooshutdown/deallocate all VMs before migration.</span></span> <span data-ttu-id="4a52f-205">Migrace hello navrácena virtuální počítače a potom je znovu spustit na hello straně Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4a52f-205">Migrate hello deallocated VMs, then restart them on hello Azure Resource Manager side.</span></span> <span data-ttu-id="4a52f-206">Zde Hello výhodou je, že bude migrovat rozšíření virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="4a52f-206">hello benefit here is that VM extensions will migrate.</span></span> <span data-ttu-id="4a52f-207">Hello nevýhodou je, že budou ztraceny všechny veřejných virtuálních IP adres (to může být jiný starter), a samozřejmě hello virtuální počítače vypne způsobuje mnohem větší vliv na pracovní aplikace.</span><span class="sxs-lookup"><span data-stu-id="4a52f-207">hello downside is that all public facing Virtual IPs will be lost (this may be a non-starter), and obviously hello VMs will shut down causing a much greater impact on working applications.</span></span>

    > [!NOTE] 
    > <span data-ttu-id="4a52f-208">Pokud zásady služby Azure Security Center je nakonfigurovaný s hello spuštěných virtuálních počítačů se migruje, zásady zabezpečení hello musí toobe zastaven před odebráním rozšíření, jinak hello zabezpečení, které rozšíření monitorování bude přeinstalaci automaticky na hello virtuálních počítačů po odebráním.</span><span class="sxs-lookup"><span data-stu-id="4a52f-208">If an Azure Security Center policy is configured against hello running VMs being migrated, hello security policy needs toobe stopped before removing extensions, otherwise hello security monitoring extension will be reinstalled automatically on hello VM after removing it.</span></span>

- <span data-ttu-id="4a52f-209">**Skupiny dostupnosti** – pro virtuální síť (vNet) toobe migrovat tooAzure Resource Manager, hello nasazení (tj. Cloudová služba) obsažené klasické virtuální počítače musí být v jedné sadě dostupnosti nebo hello virtuální počítače musí být všechny není v žádné sadě dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="4a52f-209">**Availability Sets** - For a virtual network (vNet) toobe migrated tooAzure Resource Manager, hello Classic deployment (i.e. cloud service) contained VMs must all be in one availability set, or hello VMs must all not be in any availability set.</span></span> <span data-ttu-id="4a52f-210">S více než jeden dostupnosti v rámci hello cloudové služby není kompatibilní s Azure Resource Manager a migrace se zastaví.</span><span class="sxs-lookup"><span data-stu-id="4a52f-210">Having more than one availability set in hello cloud service is not compatible with Azure Resource Manager and will halt migration.</span></span>  <span data-ttu-id="4a52f-211">Kromě toho nemůže být některé virtuální počítače v nastavení dostupnosti a některé virtuální počítače není v nastavení dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="4a52f-211">Additionally, there cannot be some VMs in an availability set, and some VMs not in an availability set.</span></span> <span data-ttu-id="4a52f-212">tooresolve, budete potřebovat tooremediate nebo změnit pořadí cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="4a52f-212">tooresolve this, you will need tooremediate or reshuffle your cloud service.</span></span>  <span data-ttu-id="4a52f-213">Naplánujte podle toho, jak to může být časově náročná.</span><span class="sxs-lookup"><span data-stu-id="4a52f-213">Plan accordingly as this might be time consuming.</span></span> 

- <span data-ttu-id="4a52f-214">**Nasazení Role web nebo Worker** -obsahující webové a pracovní role cloudové služby nelze provést migraci tooAzure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4a52f-214">**Web/Worker Role Deployments** -  Cloud Services containing web and worker roles cannot migrate tooAzure Resource Manager.</span></span> <span data-ttu-id="4a52f-215">Hello webové/role pracovního procesu musí být nejprve odebrány z virtuální sítě hello předtím, než můžete spustit migraci.</span><span class="sxs-lookup"><span data-stu-id="4a52f-215">hello web/worker roles must first be removed from hello virtual network before migration can start.</span></span>  <span data-ttu-id="4a52f-216">Typické řešením je toojust přesunutí web nebo worker role instance tooa samostatné klasické virtuální síť, která je také okruh ExpressRoute propojené tooan nebo toomigrate hello kód toonewer App Services PaaS (Toto pojednání je nad rámec tohoto dokumentu hello).</span><span class="sxs-lookup"><span data-stu-id="4a52f-216">A typical solution is toojust move web/worker role instances tooa separate Classic virtual network that is also linked tooan ExpressRoute circuit, or toomigrate hello code toonewer PaaS App Services (this discussion is beyond hello scope of this document).</span></span> <span data-ttu-id="4a52f-217">V dřívějším hello znovu nasadit – případ, vytvořit novou virtuální síť v klasickém, přesunutí nebo opětovném nasazení hello web nebo worker role toothat v nové virtuální sítě a pak odstraňte hello nasazení z virtuální sítě hello přesouvání.</span><span class="sxs-lookup"><span data-stu-id="4a52f-217">In hello former redeploy case, create a new Classic virtual network, move/redeploy hello web/worker roles toothat new virtual network, then delete hello deployments from hello virtual network being moved.</span></span> <span data-ttu-id="4a52f-218">Bez nutnosti změn kódu.</span><span class="sxs-lookup"><span data-stu-id="4a52f-218">No code changes required.</span></span> <span data-ttu-id="4a52f-219">Hello nové [partnerský vztah virtuální sítě](../../virtual-network/virtual-network-peering-overview.md) schopností může být použité toopeer společně hello klasickou virtuální síť obsahující hello webové/role pracovního procesu a dalším virtuálním sítím v hello stejné oblasti Azure, jako je například hello virtuální sítě se migrovat (**po dokončení migrace virtuální sítě, jako peered virtuální sítě se nedají migrovat**), proto poskytování hello stejné funkce nedošlo ke ztrátě výkonu a žádné postihy latenci nebo šířky pásma.</span><span class="sxs-lookup"><span data-stu-id="4a52f-219">hello new [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md) capability can be used toopeer together hello classic virtual network containing hello web/worker roles and other virtual networks in hello same Azure region such as hello virtual network being migrated (**after virtual network migration is completed as peered virtual networks cannot be migrated**), hence providing hello same capabilities with no performance loss and no latency/bandwidth penalties.</span></span> <span data-ttu-id="4a52f-220">Zadané hello přidání [partnerský vztah virtuální sítě](../../virtual-network/virtual-network-peering-overview.md), nasazení role web nebo worker lze nyní snadno zmírnit a nejsou blokovány hello migrace tooAzure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4a52f-220">Given hello addition of [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md), web/worker role deployments can now easily be mitigated and not block hello migration tooAzure Resource Manager.</span></span>

- <span data-ttu-id="4a52f-221">**Azure kvóty správce prostředků** -oblastí Azure mají samostatné kvóty nebo limity pro Classic a Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4a52f-221">**Azure Resource Manager Quotas** - Azure regions have separate quotas/limits for both Classic and Azure Resource Manager.</span></span> <span data-ttu-id="4a52f-222">I když ve scénáři migrace není spotřebovávanou nový hardware *(jsme se odkládací existujících virtuálních počítačů z klasického tooAzure Resource Manager)*, kvóty správce prostředků Azure potřebujete ještě další toobe zavedené s dostatečnou kapacitu než migrace můžete začít.</span><span class="sxs-lookup"><span data-stu-id="4a52f-222">Even though in a migration scenario new hardware isn't being consumed *(we're swapping existing VMs from Classic tooAzure Resource Manager)*, Azure Resource Manager quotas still need toobe in place with enough capacity before migration can start.</span></span> <span data-ttu-id="4a52f-223">V následujícím seznamu jsou, že hello hlavní limity, které jsme viděli způsobit problémy.</span><span class="sxs-lookup"><span data-stu-id="4a52f-223">Listed below are hello major limits we've seen cause problems.</span></span>  <span data-ttu-id="4a52f-224">Otevřete omezení kvóty podporu lístku tooraise hello.</span><span class="sxs-lookup"><span data-stu-id="4a52f-224">Open a quota support ticket tooraise hello limits.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="4a52f-225">Tyto limity potřebovat toobe vyvolána v hello stejné oblasti jako vaše aktuální toobe hodnotit migrovat.</span><span class="sxs-lookup"><span data-stu-id="4a52f-225">These limits need toobe raised in hello same region as your current enviornment toobe migrated.</span></span>
    >

    - <span data-ttu-id="4a52f-226">Síťová rozhraní</span><span class="sxs-lookup"><span data-stu-id="4a52f-226">Network Interfaces</span></span>
    - <span data-ttu-id="4a52f-227">Nástroje pro vyrovnávání zatížení</span><span class="sxs-lookup"><span data-stu-id="4a52f-227">Load Balancers</span></span>
    - <span data-ttu-id="4a52f-228">Veřejné IP adresy</span><span class="sxs-lookup"><span data-stu-id="4a52f-228">Public IPs</span></span>
    - <span data-ttu-id="4a52f-229">Statické veřejné IP adresy</span><span class="sxs-lookup"><span data-stu-id="4a52f-229">Static Public IPs</span></span>
    - <span data-ttu-id="4a52f-230">Jádra</span><span class="sxs-lookup"><span data-stu-id="4a52f-230">Cores</span></span>
    - <span data-ttu-id="4a52f-231">Network Security Groups (Skupiny zabezpečení sítě)</span><span class="sxs-lookup"><span data-stu-id="4a52f-231">Network Security Groups</span></span>
    - <span data-ttu-id="4a52f-232">Směrovací tabulky</span><span class="sxs-lookup"><span data-stu-id="4a52f-232">Route Tables</span></span>

    <span data-ttu-id="4a52f-233">Můžete zkontrolovat vaše aktuální kvóty správce prostředků Azure pomocí následujících příkazů s hello nejnovější verzi 2.0 rozhraní příkazového řádku Azure hello.</span><span class="sxs-lookup"><span data-stu-id="4a52f-233">You can check your current Azure Resource Manager quotas using hello following commands with hello latest version of Azure CLI 2.0.</span></span>

    <span data-ttu-id="4a52f-234">**Výpočetní** *(jader, Avaiability sady)*</span><span class="sxs-lookup"><span data-stu-id="4a52f-234">**Compute** *(Cores, Avaiability Sets)*</span></span>

    ```bash
    az vm list-usage -l <azure-region> -o jsonc 
    ```

    <span data-ttu-id="4a52f-235">**Síť** *(virtuální sítě, statické veřejné IP adresy, veřejné IP adresy, skupin zabezpečení sítě, síťové rozhraní, nástroje pro vyrovnávání zatížení, směrovací tabulky)*</span><span class="sxs-lookup"><span data-stu-id="4a52f-235">**Network** *(Virtual Networks, Static Public IPs, Public IPs, Network Security Groups, Network Interfaces, Load Balancers, Route Tables)*</span></span>
    
    ```bash
    az network list-usages -l <azure-region> -o jsonc
    ```

    <span data-ttu-id="4a52f-236">**Úložiště** *(účet úložiště)*</span><span class="sxs-lookup"><span data-stu-id="4a52f-236">**Storage** *(Storage Account)*</span></span>
    
    ```bash
    az storage account show-usage
    ```

- <span data-ttu-id="4a52f-237">**Azure Resource Manager API omezení** – Pokud máte prostředí dostatečně velký (např.</span><span class="sxs-lookup"><span data-stu-id="4a52f-237">**Azure Resource Manager API throttling limits** - If you have a large enough environment (eg.</span></span> <span data-ttu-id="4a52f-238">> 400 virtuální počítače ve virtuální síti), může dosáhl API hello výchozí omezení pro zápis (aktuálně **1200 zápisů za hodinu**) ve službě Správce prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="4a52f-238">> 400 VMs in a VNET), you might hit hello default API throttling limits for writes (currently **1200 writes/hour**) in Azure Resource Manager.</span></span> <span data-ttu-id="4a52f-239">Před zahájením migrace, by měl zvýšíte tooincrease lístek podpory tento limit pro vaše předplatné.</span><span class="sxs-lookup"><span data-stu-id="4a52f-239">Before starting migration, you should raise a support ticket tooincrease this limit for your subscription.</span></span>

- <span data-ttu-id="4a52f-240">**Zřizování vypršení časového limitu stav virtuálního počítače** – v případě, že všechny virtuální počítač má stav hello **zřizování vypršel časový limit**tento toobe musí vyřešit před migrací.</span><span class="sxs-lookup"><span data-stu-id="4a52f-240">**Provisioning Timed Out VM Status** - If any VM has hello status of **provisioning timed out**, this needs toobe resolved pre-migration.</span></span> <span data-ttu-id="4a52f-241">toodo Hello jediným způsobem, jak je s výpadky zrušení zřízení nebo reprovisioning hello virtuálních počítačů (delete, zachovat hello disku a znovu vytvořte hello virtuálních počítačů).</span><span class="sxs-lookup"><span data-stu-id="4a52f-241">hello only way toodo this is with downtime by deprovisioning/reprovisioning hello VM (delete it, keep hello disk, and recreate hello VM).</span></span> 

- <span data-ttu-id="4a52f-242">**Stav virtuálního počítače RoleStateUnknown** – Pokud migrace zastaví z důvodu tooa **Neznámý stav role** chyba zprávy, zkontrolujte hello virtuálního počítače pomocí portálu hello, zkontrolujte je spuštěna.</span><span class="sxs-lookup"><span data-stu-id="4a52f-242">**RoleStateUnknown VM Status** - If migration halts due tooa **role state unknown** error message, inspect hello VM using hello portal and ensure it is running.</span></span> <span data-ttu-id="4a52f-243">Tato chyba obvykle zmizí jeho vlastní (žádná náprava vyžaduje) po několika minutách a je často typu přechodný často můžou vyskytnout během virtuálního počítače **spustit**, **Zastavit**, **restartujte** operace.</span><span class="sxs-lookup"><span data-stu-id="4a52f-243">This error will typically go away on its own (no remediation required) after a few minutes and is often a transient type often seen during a Virtual Machine **start**, **stop**, **restart** operations.</span></span> <span data-ttu-id="4a52f-244">**Doporučená praxe:** znovu zkuste migrovat znovu za několik minut.</span><span class="sxs-lookup"><span data-stu-id="4a52f-244">**Recommended practice:** re-try migration again after a few minutes.</span></span> 

- <span data-ttu-id="4a52f-245">**Fabric Cluster neexistuje** – v některých případech některé virtuální počítače nelze migrovat z různých důvodů liché.</span><span class="sxs-lookup"><span data-stu-id="4a52f-245">**Fabric Cluster does not exist** -  In some cases, certain VMs cannot be migrated for various odd reasons.</span></span> <span data-ttu-id="4a52f-246">Jedním z těchto známé případech je pokud hello virtuální počítač byl nedávno vytvořen (v rámci hello minulého týdne nebo tak) a došlo k tooland Azure clusteru, který ještě není vybaven pro úlohy Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4a52f-246">One of these known cases is if hello VM was recently created (within hello last week or so) and happened tooland an Azure cluster that is not yet equipped for Azure Resource Manager workloads.</span></span>  <span data-ttu-id="4a52f-247">Obdržíte chybu, která uvádí, že **fabric cluster neexistuje** a hello virtuálního počítače nelze migrovat.</span><span class="sxs-lookup"><span data-stu-id="4a52f-247">You will get an error that says **fabric cluster does not exist** and hello VM cannot be migrated.</span></span> <span data-ttu-id="4a52f-248">Čeká se na několik dní se obvykle konkrétní problém vyřešit jako hello clusteru bude brzy získat Azure Resource Manager povolena.</span><span class="sxs-lookup"><span data-stu-id="4a52f-248">Waiting a couple of days will usually resolve this particular problem as hello cluster will soon get Azure Resource Manager enabled.</span></span> <span data-ttu-id="4a52f-249">Ale jeden okamžitou řešení je příliš`stop-deallocate` hello virtuální počítač, pak pokračovat dál migrace a spustit hello virtuálních počítačů zálohování ve službě Správce prostředků Azure po migraci.</span><span class="sxs-lookup"><span data-stu-id="4a52f-249">However, one immediate workaround is too`stop-deallocate` hello VM, then continue forward with migration, and start hello VM back up in Azure Resource Manager after migrating.</span></span>

### <a name="pitfalls-tooavoid"></a><span data-ttu-id="4a52f-250">Nástrahy tooavoid</span><span class="sxs-lookup"><span data-stu-id="4a52f-250">Pitfalls tooavoid</span></span>

- <span data-ttu-id="4a52f-251">Nezadávejte klávesové zkratky a vynechejte hello ověření a příprava nebo zrušit vyzkoušet vysílání migrace.</span><span class="sxs-lookup"><span data-stu-id="4a52f-251">Do not take shortcuts and omit hello validate/prepare/abort dry run migrations.</span></span>
- <span data-ttu-id="4a52f-252">Většina, pokud nejsou všechny surface bude vaše potenciální problémy během hello ověření a příprava nebo zrušit.</span><span class="sxs-lookup"><span data-stu-id="4a52f-252">Most, if not all, of your potential issues will surface during hello validate/prepare/abort steps.</span></span>

## <a name="migration"></a><span data-ttu-id="4a52f-253">Migrace</span><span class="sxs-lookup"><span data-stu-id="4a52f-253">Migration</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="4a52f-254">Technické aspekty a kompromisy</span><span class="sxs-lookup"><span data-stu-id="4a52f-254">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="4a52f-255">Nyní jste připraveni vzhledem k tomu, že jste již dříve pracovali prostřednictvím hello známé problémy s vaším prostředím.</span><span class="sxs-lookup"><span data-stu-id="4a52f-255">Now you are ready because you have worked through hello known issues with your environment.</span></span>

<span data-ttu-id="4a52f-256">Pro hello skutečné migrace můžete tooconsider:</span><span class="sxs-lookup"><span data-stu-id="4a52f-256">For hello real migrations, you might want tooconsider:</span></span>

1. <span data-ttu-id="4a52f-257">Plánování a plánování hello virtuální síť (nejmenší unit migrace) s zvýšení priority.</span><span class="sxs-lookup"><span data-stu-id="4a52f-257">Plan and schedule hello virtual network (smallest unit of migration) with increasing priority.</span></span>  <span data-ttu-id="4a52f-258">Nejprve hello jednoduchý virtuální sítě a průběh s hello další komplikovanější, virtuálních sítí.</span><span class="sxs-lookup"><span data-stu-id="4a52f-258">Do hello simple virtual networks first, and progress with hello more complicated virtual networks.</span></span>
2. <span data-ttu-id="4a52f-259">Většina zákazníků bude mít mimo produkční a provozní prostředí.</span><span class="sxs-lookup"><span data-stu-id="4a52f-259">Most customers will have non-production and production environments.</span></span>  <span data-ttu-id="4a52f-260">Poslední naplánujte produkční.</span><span class="sxs-lookup"><span data-stu-id="4a52f-260">Schedule production last.</span></span>
3. <span data-ttu-id="4a52f-261">**(VOLITELNÉ)**  Plánu údržby výpadek s dostatkem vyrovnávací paměti v případě, že se vyskytnout potíže se neočekávané.</span><span class="sxs-lookup"><span data-stu-id="4a52f-261">**(OPTIONAL)** Schedule a maintenance downtime with plenty of buffer in case unexpected issues arise.</span></span>
4. <span data-ttu-id="4a52f-262">Komunikovat s a zarovnané s vaší týmy podpory v případě, že se vyskytnout potíže.</span><span class="sxs-lookup"><span data-stu-id="4a52f-262">Communicate with and align with your support teams in case issues arise.</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="4a52f-263">Vzory úspěch</span><span class="sxs-lookup"><span data-stu-id="4a52f-263">Patterns of success</span></span>

<span data-ttu-id="4a52f-264">Hello technické pokyny z hello výše uvedené části testovací laboratoře by měly být považovány za a omezeny předchozí tooa skutečné migrace.</span><span class="sxs-lookup"><span data-stu-id="4a52f-264">hello technical guidance from hello Lab Test section above should be considered and mitigated prior tooa real migration.</span></span>  <span data-ttu-id="4a52f-265">Migrace hello s odpovídající testování, je ve skutečnosti událostmi.</span><span class="sxs-lookup"><span data-stu-id="4a52f-265">With adequate testing, hello migration is actually a non-event.</span></span>  <span data-ttu-id="4a52f-266">Pro produkční prostředí může to být užitečné toohave další podporu, jako je například důvěryhodné partnera společnosti Microsoft nebo služby Microsoft Premier.</span><span class="sxs-lookup"><span data-stu-id="4a52f-266">For production environments, it might be helpful toohave additional support, such as a trusted Microsoft partner or Microsoft Premier services.</span></span>

### <a name="pitfalls-tooavoid"></a><span data-ttu-id="4a52f-267">Nástrahy tooavoid</span><span class="sxs-lookup"><span data-stu-id="4a52f-267">Pitfalls tooavoid</span></span>

<span data-ttu-id="4a52f-268">Testování není plně může způsobit problémy a zpoždění v hello migrace.</span><span class="sxs-lookup"><span data-stu-id="4a52f-268">Not fully testing may cause issues and delay in hello migration.</span></span>  

## <a name="beyond-migration"></a><span data-ttu-id="4a52f-269">Nad rámec migrace</span><span class="sxs-lookup"><span data-stu-id="4a52f-269">Beyond Migration</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="4a52f-270">Technické aspekty a kompromisy</span><span class="sxs-lookup"><span data-stu-id="4a52f-270">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="4a52f-271">Teď, když jste ve službě Správce prostředků Azure, maximalizujte hello platformy.</span><span class="sxs-lookup"><span data-stu-id="4a52f-271">Now that you are in Azure Resource Manager, maximize hello platform.</span></span>  <span data-ttu-id="4a52f-272">Čtení hello [přehled nástroje Azure Resource Manager](../../azure-resource-manager/resource-group-overview.md) toofind se o další výhody.</span><span class="sxs-lookup"><span data-stu-id="4a52f-272">Read hello [overview of Azure Resource Manager](../../azure-resource-manager/resource-group-overview.md) toofind out about additional benefits.</span></span>

<span data-ttu-id="4a52f-273">Tooconsider věcí:</span><span class="sxs-lookup"><span data-stu-id="4a52f-273">Things tooconsider:</span></span>

- <span data-ttu-id="4a52f-274">Sdružování hello migrace s ostatními aktivitami.</span><span class="sxs-lookup"><span data-stu-id="4a52f-274">Bundling hello migration with other activities.</span></span>  <span data-ttu-id="4a52f-275">Většina zákazníků zvolit okna údržby aplikace.</span><span class="sxs-lookup"><span data-stu-id="4a52f-275">Most customers opt for an application maintenance window.</span></span>  <span data-ttu-id="4a52f-276">Pokud ano, můžete chtít toouse tento výpadek tooenable další možnosti Azure Resource Manager třeba šifrování a migrace tooManaged disky.</span><span class="sxs-lookup"><span data-stu-id="4a52f-276">If so, you might want toouse this downtime tooenable other Azure Resource Manager capabilities like encryption and migration tooManaged Disks.</span></span>
- <span data-ttu-id="4a52f-277">Pokroku hello technické a obchodních důvodů, proč pro Azure Resource Manager; Povolte hello další služby k dispozici pouze na Azure Resource Manager použitých tooyour prostředí.</span><span class="sxs-lookup"><span data-stu-id="4a52f-277">Revisit hello technical and business reasons for Azure Resource Manager; enable hello additional services available only on Azure Resource Manager that apply tooyour environment.</span></span>
- <span data-ttu-id="4a52f-278">Modernizovat prostředí s PaaS služby.</span><span class="sxs-lookup"><span data-stu-id="4a52f-278">Modernize your environment with PaaS services.</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="4a52f-279">Vzory úspěch</span><span class="sxs-lookup"><span data-stu-id="4a52f-279">Patterns of success</span></span>

<span data-ttu-id="4a52f-280">Být záměrné na co services nyní chcete tooenable ve službě Správce prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="4a52f-280">Be purposeful on what services you now want tooenable in Azure Resource Manager.</span></span>  <span data-ttu-id="4a52f-281">Mnoho zákazníků najde hello níže atraktivní, kterou pro jejich prostředí Azure:</span><span class="sxs-lookup"><span data-stu-id="4a52f-281">Many customers find hello below compelling for their Azure environments:</span></span>

- <span data-ttu-id="4a52f-282">[Řízení přístupu podle rolí](../../azure-resource-manager/resource-group-overview.md#access-control).</span><span class="sxs-lookup"><span data-stu-id="4a52f-282">[Role Based Access Control](../../azure-resource-manager/resource-group-overview.md#access-control).</span></span>
- <span data-ttu-id="4a52f-283">[Šablony Azure Resource Manageru pro snazší a víc řízené nasazení](../../azure-resource-manager/resource-group-overview.md#template-deployment).</span><span class="sxs-lookup"><span data-stu-id="4a52f-283">[Azure Resource Manager templates for easier and more controlled deployment](../../azure-resource-manager/resource-group-overview.md#template-deployment).</span></span>
- <span data-ttu-id="4a52f-284">[Značky](../../azure-resource-manager/resource-group-using-tags.md).</span><span class="sxs-lookup"><span data-stu-id="4a52f-284">[Tags](../../azure-resource-manager/resource-group-using-tags.md).</span></span>
- [<span data-ttu-id="4a52f-285">Ovládací prvek aktivity</span><span class="sxs-lookup"><span data-stu-id="4a52f-285">Activity Control</span></span>](../../azure-resource-manager/resource-group-audit.md)
- [<span data-ttu-id="4a52f-286">Zásady prostředků</span><span class="sxs-lookup"><span data-stu-id="4a52f-286">Resource Policies</span></span>](../../azure-resource-manager/resource-manager-policy.md)

### <a name="pitfalls-tooavoid"></a><span data-ttu-id="4a52f-287">Nástrahy tooavoid</span><span class="sxs-lookup"><span data-stu-id="4a52f-287">Pitfalls tooavoid</span></span>

<span data-ttu-id="4a52f-288">Mějte na paměti, proč jste spustili tento Classic tooAzure Resource Manager migrace cesty.</span><span class="sxs-lookup"><span data-stu-id="4a52f-288">Remember why you started this Classic tooAzure Resource Manager migration journey.</span></span>  <span data-ttu-id="4a52f-289">Jaké byly hello původní obchodních důvodů, proč?</span><span class="sxs-lookup"><span data-stu-id="4a52f-289">What were hello original business reasons?</span></span> <span data-ttu-id="4a52f-290">Dosáhnout hello obchodního důvodu?</span><span class="sxs-lookup"><span data-stu-id="4a52f-290">Did you achieve hello business reason?</span></span>


## <a name="next-steps"></a><span data-ttu-id="4a52f-291">Další kroky</span><span class="sxs-lookup"><span data-stu-id="4a52f-291">Next steps</span></span>

* [<span data-ttu-id="4a52f-292">Přehled migrace podporované platformy IaaS prostředků z classic tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-292">Overview of platform-supported migration of IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="4a52f-293">Technické podrobné informace o platformy podporované migrace z klasického tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-293">Technical deep dive on platform-supported migration from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-deep-dive.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="4a52f-294">Plánování migrace prostředky infrastruktury z classic tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-294">Planning for migration of IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-plan.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="4a52f-295">Pomocí prostředí PowerShell toomigrate IaaS prostředky z classic tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-295">Use PowerShell toomigrate IaaS resources from classic tooAzure Resource Manager</span></span>](../windows/migration-classic-resource-manager-ps.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="4a52f-296">Komunita nástroje asistence s migrace prostředky infrastruktury z classic tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-296">Community tools for assisting with migration of IaaS resources from classic tooAzure Resource Manager</span></span>](../windows/migration-classic-resource-manager-community-tools.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="4a52f-297">Běžné chyby při migraci</span><span class="sxs-lookup"><span data-stu-id="4a52f-297">Review most common migration errors</span></span>](migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="4a52f-298">Zkontrolujte hello nejčastěji kladené dotazy týkající se migrace prostředky infrastruktury z classic tooAzure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="4a52f-298">Review hello most frequently asked questions about migrating IaaS resources from classic tooAzure Resource Manager</span></span>](migration-classic-resource-manager-faq.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
