---
title: "řešení potíží SSH aaaDetailed pro virtuální počítač Azure | Microsoft Docs"
description: "Podrobnější SSH řešení potíží pro problémy s připojením tooan virtuální počítač Azure"
keywords: "SSH připojení odmítnuto, ssh chyby, azure ssh, připojení SSH se nezdařilo"
services: virtual-machines-linux
documentationcenter: 
author: iainfoulds
manager: timlt
editor: 
tags: top-support-issue,azure-service-management,azure-resource-manager
ms.assetid: b8e8be5f-e8a6-489d-9922-9df8de32e839
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: support-article
ms.date: 07/06/2017
ms.author: iainfou
ms.openlocfilehash: 3f711e53a8251f8c06dbb589a258222566a4ae1e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="detailed-ssh-troubleshooting-steps-for-issues-connecting-tooa-linux-vm-in-azure"></a><span data-ttu-id="bb004-104">Podrobné SSH řešení potíží pro problémy s připojením tooa virtuálního počítače s Linuxem v Azure</span><span class="sxs-lookup"><span data-stu-id="bb004-104">Detailed SSH troubleshooting steps for issues connecting tooa Linux VM in Azure</span></span>
<span data-ttu-id="bb004-105">Existuje mnoho možných příčin, že klient SSH hello nemusí být možné tooreach hello SSH službu na hello virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="bb004-105">There are many possible reasons that hello SSH client might not be able tooreach hello SSH service on hello VM.</span></span> <span data-ttu-id="bb004-106">Pokud jste postupovali podle prostřednictvím hello více [obecné SSH při řešení potíží](troubleshoot-ssh-connection.md), je nutné toofurther potíží hello připojení.</span><span class="sxs-lookup"><span data-stu-id="bb004-106">If you have followed through hello more [general SSH troubleshooting steps](troubleshoot-ssh-connection.md), you need toofurther troubleshoot hello connection issue.</span></span> <span data-ttu-id="bb004-107">Tento článek vás provede podrobné řešení problémů s kroky toodetermine tam, kde se nedaří hello připojení SSH a jak tooresolve ho.</span><span class="sxs-lookup"><span data-stu-id="bb004-107">This article guides you through detailed troubleshooting steps toodetermine where hello SSH connection is failing and how tooresolve it.</span></span>

## <a name="take-preliminary-steps"></a><span data-ttu-id="bb004-108">Proveďte předběžnou kroky</span><span class="sxs-lookup"><span data-stu-id="bb004-108">Take preliminary steps</span></span>
<span data-ttu-id="bb004-109">Hello následující diagram znázorňuje hello součásti, které jsou ovlivněny.</span><span class="sxs-lookup"><span data-stu-id="bb004-109">hello following diagram shows hello components that are involved.</span></span>

![Diagram zobrazující komponenty služby SSH](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot1.png)

<span data-ttu-id="bb004-111">Hello následující postup vám pomůže izolovat hello zdroj selhání hello a zjistěte řešení či alternativní řešení.</span><span class="sxs-lookup"><span data-stu-id="bb004-111">hello following steps help you isolate hello source of hello failure and figure out solutions or workarounds.</span></span>

1. <span data-ttu-id="bb004-112">Zkontrolujte stav hello hello virtuálních počítačů hello portálu.</span><span class="sxs-lookup"><span data-stu-id="bb004-112">Check hello status of hello VM in hello portal.</span></span>
   <span data-ttu-id="bb004-113">V hello [portál Azure](https://portal.azure.com), vyberte **virtuální počítače** > *název virtuálního počítače*.</span><span class="sxs-lookup"><span data-stu-id="bb004-113">In hello [Azure portal](https://portal.azure.com), select **Virtual machines** > *VM name*.</span></span>

   <span data-ttu-id="bb004-114">Hello podokno stavu služby pro hello virtuální počítač by měl zobrazit **systémem**.</span><span class="sxs-lookup"><span data-stu-id="bb004-114">hello status pane for hello VM should show **Running**.</span></span> <span data-ttu-id="bb004-115">Posuňte se dolů tooshow poslední aktivitu na účtu pro výpočty, úložiště a síťové prostředky.</span><span class="sxs-lookup"><span data-stu-id="bb004-115">Scroll down tooshow recent activity for compute, storage, and network resources.</span></span>

2. <span data-ttu-id="bb004-116">Vyberte **nastavení** tooexamine koncových bodů, IP adres, skupiny zabezpečení sítě a další nastavení.</span><span class="sxs-lookup"><span data-stu-id="bb004-116">Select **Settings** tooexamine endpoints, IP addresses, network security groups, and other settings.</span></span>

   <span data-ttu-id="bb004-117">Hello virtuální počítač by měl mít koncový bod definované pro SSH provoz, který si můžete prohlédnout v **koncové body** nebo  **[skupinu zabezpečení sítě](../../virtual-network/virtual-networks-nsg.md)**.</span><span class="sxs-lookup"><span data-stu-id="bb004-117">hello VM should have an endpoint defined for SSH traffic that you can view in **Endpoints** or **[Network security group](../../virtual-network/virtual-networks-nsg.md)**.</span></span> <span data-ttu-id="bb004-118">Koncové body ve virtuálních počítačích, které byly vytvořeny pomocí Resource Manageru se ukládají na skupinu zabezpečení sítě.</span><span class="sxs-lookup"><span data-stu-id="bb004-118">Endpoints in VMs that were created by using Resource Manager are stored in a network security group.</span></span> <span data-ttu-id="bb004-119">Také ověřte, zda pravidla hello byly použité toohello skupinu zabezpečení sítě a že se odkazuje v podsíti hello.</span><span class="sxs-lookup"><span data-stu-id="bb004-119">Also, verify that hello rules have been applied toohello network security group and that they're referenced in hello subnet.</span></span>

<span data-ttu-id="bb004-120">připojení k síti tooverify, kontrolu hello nakonfigurované koncové body a zjistěte, pokud se lze připojit hello virtuálních počítačů pomocí jiného protokolu, jako je například HTTP nebo jiné služby.</span><span class="sxs-lookup"><span data-stu-id="bb004-120">tooverify network connectivity, check hello configured endpoints and see if you can reach hello VM through another protocol, such as HTTP or another service.</span></span>

<span data-ttu-id="bb004-121">Po provedení těchto kroků zkuste to znovu připojení SSH hello.</span><span class="sxs-lookup"><span data-stu-id="bb004-121">After these steps, try hello SSH connection again.</span></span>

## <a name="find-hello-source-of-hello-issue"></a><span data-ttu-id="bb004-122">Najít hello zdroj problému hello</span><span class="sxs-lookup"><span data-stu-id="bb004-122">Find hello source of hello issue</span></span>
<span data-ttu-id="bb004-123">Klient SSH Hello ve vašem počítači může selhat tooreach hello SSH službu na hello virtuálního počítače Azure kvůli tooissues nebo nesprávné konfigurace v hello následující oblasti:</span><span class="sxs-lookup"><span data-stu-id="bb004-123">hello SSH client on your computer might fail tooreach hello SSH service on hello Azure VM due tooissues or misconfigurations in hello following areas:</span></span>

* [<span data-ttu-id="bb004-124">Klientský počítač SSH</span><span class="sxs-lookup"><span data-stu-id="bb004-124">SSH client computer</span></span>](#source-1-ssh-client-computer)
* [<span data-ttu-id="bb004-125">Hraniční zařízení organizace</span><span class="sxs-lookup"><span data-stu-id="bb004-125">Organization edge device</span></span>](#source-2-organization-edge-device)
* [<span data-ttu-id="bb004-126">Koncový bod služby v cloudu a přístup k seznamu řízení (ACL)</span><span class="sxs-lookup"><span data-stu-id="bb004-126">Cloud service endpoint and access control list (ACL)</span></span>](#source-3-cloud-service-endpoint-and-acl)
* [<span data-ttu-id="bb004-127">Skupiny zabezpečení sítě</span><span class="sxs-lookup"><span data-stu-id="bb004-127">Network security groups</span></span>](#source-4-network-security-groups)
* [<span data-ttu-id="bb004-128">Na základě Linux virtuálního počítače Azure</span><span class="sxs-lookup"><span data-stu-id="bb004-128">Linux-based Azure VM</span></span>](#source-5-linux-based-azure-virtual-machine)

## <a name="source-1-ssh-client-computer"></a><span data-ttu-id="bb004-129">Zdroj 1: SSH klientského počítače</span><span class="sxs-lookup"><span data-stu-id="bb004-129">Source 1: SSH client computer</span></span>
<span data-ttu-id="bb004-130">tooeliminate počítače jako zdroj hello hello nezdaří, ověřte, že mohl zajistit SSH připojení tooanother místní, počítač se systémem Linux.</span><span class="sxs-lookup"><span data-stu-id="bb004-130">tooeliminate your computer as hello source of hello failure, verify that it can make SSH connections tooanother on-premises, Linux-based computer.</span></span>

![Diagram, který označuje SSH klientské počítače komponenty](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot2.png)

<span data-ttu-id="bb004-132">Pokud hello připojení nezdaří, zkontrolujte hello ve vašem počítači následující problémy:</span><span class="sxs-lookup"><span data-stu-id="bb004-132">If hello connection fails, check for hello following issues on your computer:</span></span>

* <span data-ttu-id="bb004-133">Nastavení místní brány firewall, která blokuje příchozí nebo odchozí SSH provoz (port TCP 22)</span><span class="sxs-lookup"><span data-stu-id="bb004-133">A local firewall setting that is blocking inbound or outbound SSH traffic (TCP 22)</span></span>
* <span data-ttu-id="bb004-134">Místně nainstalován klientský software proxy serveru, který brání připojení SSH.</span><span class="sxs-lookup"><span data-stu-id="bb004-134">Locally installed client proxy software that is preventing SSH connections</span></span>
* <span data-ttu-id="bb004-135">Místně nainstalovaný software, který brání připojení SSH monitorování sítě</span><span class="sxs-lookup"><span data-stu-id="bb004-135">Locally installed network monitoring software that is preventing SSH connections</span></span>
* <span data-ttu-id="bb004-136">Jiné typy zabezpečení softwaru, které monitorování provozu nebo povolí nebo zakáže určité typy přenosů</span><span class="sxs-lookup"><span data-stu-id="bb004-136">Other types of security software that either monitor traffic or allow/disallow specific types of traffic</span></span>

<span data-ttu-id="bb004-137">Pokud platí jedna z těchto podmínek, dočasně zakázat hello softwaru a akci SSH připojení tooan místní počítač toofind out příčiny hello hello připojení je blokován ve vašem počítači.</span><span class="sxs-lookup"><span data-stu-id="bb004-137">If one of these conditions apply, temporarily disable hello software and try an SSH connection tooan on-premises computer toofind out hello reason hello connection is being blocked on your computer.</span></span> <span data-ttu-id="bb004-138">Potom spolupracovat s vaší sítě Správce toocorrect hello softwaru nastavení tooallow připojení SSH.</span><span class="sxs-lookup"><span data-stu-id="bb004-138">Then work with your network administrator toocorrect hello software settings tooallow SSH connections.</span></span>

<span data-ttu-id="bb004-139">Pokud používáte ověřování pomocí certifikátu, ověřte, zda máte tyto složky .ssh toohello oprávnění v domovském adresáři:</span><span class="sxs-lookup"><span data-stu-id="bb004-139">If you are using certificate authentication, verify that you have these permissions toohello .ssh folder in your home directory:</span></span>

* <span data-ttu-id="bb004-140">Chmod – 700 ~/.ssh</span><span class="sxs-lookup"><span data-stu-id="bb004-140">Chmod 700 ~/.ssh</span></span>
* <span data-ttu-id="bb004-141">Chmod – 644 ~/.ssh/\*.pub</span><span class="sxs-lookup"><span data-stu-id="bb004-141">Chmod 644 ~/.ssh/\*.pub</span></span>
* <span data-ttu-id="bb004-142">Chmod – 600 ~/.ssh/id_rsa (nebo všechny soubory, které mají vaši privátní klíče uložené v nich)</span><span class="sxs-lookup"><span data-stu-id="bb004-142">Chmod 600 ~/.ssh/id_rsa (or any other files that have your private keys stored in them)</span></span>
* <span data-ttu-id="bb004-143">Chmod – 644 ~/.ssh/known_hosts (obsahuje hostitele, že jste připojeni toovia SSH)</span><span class="sxs-lookup"><span data-stu-id="bb004-143">Chmod 644 ~/.ssh/known_hosts (contains hosts that you’ve connected toovia SSH)</span></span>

## <a name="source-2-organization-edge-device"></a><span data-ttu-id="bb004-144">Zdroj 2: Hraniční zařízení organizace</span><span class="sxs-lookup"><span data-stu-id="bb004-144">Source 2: Organization edge device</span></span>
<span data-ttu-id="bb004-145">tooeliminate vaší organizace hraniční zařízení jako zdroj hello hello nezdaří, ověřte, že počítač, který je přímo připojených toohello Internet provádět tooyour připojení SSH virtuálního počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="bb004-145">tooeliminate your organization edge device as hello source of hello failure, verify that a computer that's directly connected toohello Internet can make SSH connections tooyour Azure VM.</span></span> <span data-ttu-id="bb004-146">Pokud se připojujete hello virtuálních počítačů přes síť site-to-site VPN nebo připojení k Azure ExpressRoute, přeskočte příliš[zdroj 4: skupin zabezpečení sítě](#nsg).</span><span class="sxs-lookup"><span data-stu-id="bb004-146">If you are accessing hello VM over a site-to-site VPN or an Azure ExpressRoute connection, skip too[Source 4: Network security groups](#nsg).</span></span>

![Diagram, který označuje organizace hraniční zařízení](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot3.png)

<span data-ttu-id="bb004-148">Pokud nemáte počítač, který je přímo připojený toohello Internet, vytvořte nový virtuální počítač Azure v jeho vlastní prostředek skupiny nebo cloudovou službu a použít ho.</span><span class="sxs-lookup"><span data-stu-id="bb004-148">If you don't have a computer that is directly connected toohello Internet, create a new Azure VM in its own resource group or cloud service and use it.</span></span> <span data-ttu-id="bb004-149">Další informace najdete v tématu [vytvoření virtuálního počítače s Linuxem v Azure](quick-create-cli.md).</span><span class="sxs-lookup"><span data-stu-id="bb004-149">For more information, see [Create a virtual machine running Linux in Azure](quick-create-cli.md).</span></span> <span data-ttu-id="bb004-150">Odstraňte skupinu nebo virtuálního počítače a cloudové služby prostředků hello, když jste hotovi s testování.</span><span class="sxs-lookup"><span data-stu-id="bb004-150">Delete hello resource group or VM and cloud service when you're done with your testing.</span></span>

<span data-ttu-id="bb004-151">Pokud vytvoříte připojení SSH s počítači, který je přímo připojených toohello Internetu Zkontrolujte vaše organizace hraniční zařízení pro:</span><span class="sxs-lookup"><span data-stu-id="bb004-151">If you can create an SSH connection with a computer that's directly connected toohello Internet, check your organization edge device for:</span></span>

* <span data-ttu-id="bb004-152">Vnitřní brána firewall, která blokuje provoz SSH s hello Internetu</span><span class="sxs-lookup"><span data-stu-id="bb004-152">An internal firewall that's blocking SSH traffic with hello Internet</span></span>
* <span data-ttu-id="bb004-153">Proxy server, který brání připojení SSH.</span><span class="sxs-lookup"><span data-stu-id="bb004-153">A proxy server that's preventing SSH connections</span></span>
* <span data-ttu-id="bb004-154">Zjišťování neoprávněných vniknutí nebo software spuštěný na zařízeních ve vaší hraniční síť, která brání připojení SSH monitorování sítě</span><span class="sxs-lookup"><span data-stu-id="bb004-154">Intrusion detection or network monitoring software running on devices in your edge network that's preventing SSH connections</span></span>

<span data-ttu-id="bb004-155">Nastavení sítě Správce toocorrect hello vaší organizace hraniční zařízení tooallow SSH provozu s hello Internetu pracovat.</span><span class="sxs-lookup"><span data-stu-id="bb004-155">Work with your network administrator toocorrect hello settings of your organization edge devices tooallow SSH traffic with hello Internet.</span></span>

## <a name="source-3-cloud-service-endpoint-and-acl"></a><span data-ttu-id="bb004-156">Zdroj 3: Koncový bod služby Cloud a seznamu ACL</span><span class="sxs-lookup"><span data-stu-id="bb004-156">Source 3: Cloud service endpoint and ACL</span></span>
> [!NOTE]
> <span data-ttu-id="bb004-157">Tento zdroj platí pouze tooVMs, které se vytvořily s použitím modelu nasazení classic hello.</span><span class="sxs-lookup"><span data-stu-id="bb004-157">This source applies only tooVMs that were created by using hello classic deployment model.</span></span> <span data-ttu-id="bb004-158">Pro virtuální počítače, které byly vytvořeny pomocí Resource Manageru, přeskočte příliš[zdroje 4: skupin zabezpečení sítě](#nsg).</span><span class="sxs-lookup"><span data-stu-id="bb004-158">For VMs that were created by using Resource Manager, skip too[source 4: Network security groups](#nsg).</span></span>

<span data-ttu-id="bb004-159">koncový bod tooeliminate hello cloudové služby a seznamu ACL jako zdroj hello hello nezdaří, ověřte jiný virtuální počítač Azure v hello stejné virtuální sítě můžete provést tooyour připojení SSH virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="bb004-159">tooeliminate hello cloud service endpoint and ACL as hello source of hello failure, verify that another Azure VM in hello same virtual network can make SSH connections tooyour VM.</span></span>

![Diagram, který označuje koncového bodu služby cloud a seznamu ACL](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot4.png)

<span data-ttu-id="bb004-161">Pokud nemáte jiným virtuálním Počítačem v hello stejné virtuální síti, můžete snadno vytvořit jednu.</span><span class="sxs-lookup"><span data-stu-id="bb004-161">If you don't have another VM in hello same virtual network, you can easily create one.</span></span> <span data-ttu-id="bb004-162">Další informace najdete v tématu [vytvoření virtuálního počítače s Linuxem v Azure pomocí rozhraní příkazového řádku hello](quick-create-cli.md).</span><span class="sxs-lookup"><span data-stu-id="bb004-162">For more information, see [Create a Linux VM on Azure using hello CLI](quick-create-cli.md).</span></span> <span data-ttu-id="bb004-163">Odstranit hello navíc virtuálních počítačů, když jste hotovi s testování.</span><span class="sxs-lookup"><span data-stu-id="bb004-163">Delete hello extra VM when you are done with your testing.</span></span>

<span data-ttu-id="bb004-164">Pokud vytvoříte připojení SSH s virtuálním Počítačem v hello stejné virtuální síť, zkontrolujte hello následující oblasti:</span><span class="sxs-lookup"><span data-stu-id="bb004-164">If you can create an SSH connection with a VM in hello same virtual network, check hello following areas:</span></span>

* <span data-ttu-id="bb004-165">**konfigurace koncového bodu Hello komunikaci SSH na hello cílovém virtuálním počítači.**</span><span class="sxs-lookup"><span data-stu-id="bb004-165">**hello endpoint configuration for SSH traffic on hello target VM.**</span></span> <span data-ttu-id="bb004-166">Hello privátní port TCP koncového bodu hello by měl odpovídat hello TCP port, na které hello SSH je přijímá služba na hello virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="bb004-166">hello private TCP port of hello endpoint should match hello TCP port on which hello SSH service on hello VM is listening.</span></span> <span data-ttu-id="bb004-167">(hello výchozí port je 22).</span><span class="sxs-lookup"><span data-stu-id="bb004-167">(hello default port is 22).</span></span> <span data-ttu-id="bb004-168">Zkontrolujte číslo portu SSH TCP hello hello portálu Azure tak, že vyberete **virtuální počítače** > *název virtuálního počítače* > **nastavení**  >  **Koncové body**.</span><span class="sxs-lookup"><span data-stu-id="bb004-168">Verify hello SSH TCP port number in hello Azure portal by selecting **Virtual machines** > *VM name* > **Settings** > **Endpoints**.</span></span>
* <span data-ttu-id="bb004-169">**Hello seznamu ACL pro koncový bod provoz SSH hello na hello cílového virtuálního počítače.**</span><span class="sxs-lookup"><span data-stu-id="bb004-169">**hello ACL for hello SSH traffic endpoint on hello target virtual machine.**</span></span> <span data-ttu-id="bb004-170">Seznam ACL umožňuje toospecify povolené nebo zakázané příchozí přenosy z hello Internetu, na základě jeho zdrojové IP adresy.</span><span class="sxs-lookup"><span data-stu-id="bb004-170">An ACL enables you toospecify allowed or denied incoming traffic from hello Internet, based on its source IP address.</span></span> <span data-ttu-id="bb004-171">Nesprávně nakonfigurované seznamy ACL můžete zabránit příchozí SSH provoz toohello koncový bod.</span><span class="sxs-lookup"><span data-stu-id="bb004-171">Misconfigured ACLs can prevent incoming SSH traffic toohello endpoint.</span></span> <span data-ttu-id="bb004-172">Zkontrolujte vaší tooensure seznamy ACL, který je povolen příchozí provoz z hello veřejné IP adresy proxy nebo jiný server edge.</span><span class="sxs-lookup"><span data-stu-id="bb004-172">Check your ACLs tooensure that incoming traffic from hello public IP addresses of your proxy or other edge server is allowed.</span></span> <span data-ttu-id="bb004-173">Další informace najdete v tématu [o přístup k síti řízení seznamy ACL](../../virtual-network/virtual-networks-acl.md).</span><span class="sxs-lookup"><span data-stu-id="bb004-173">For more information, see [About network access control lists (ACLs)](../../virtual-network/virtual-networks-acl.md).</span></span>

<span data-ttu-id="bb004-174">koncový bod hello tooeliminate jako zdroj problému hello, odeberte hello aktuální koncový bod, vytvořte jiný koncový bod a zadejte jméno SSH hello (port TCP 22 pro veřejné a privátní port číslo hello).</span><span class="sxs-lookup"><span data-stu-id="bb004-174">tooeliminate hello endpoint as a source of hello problem, remove hello current endpoint, create another endpoint, and specify hello SSH name (TCP port 22 for hello public and private port number).</span></span> <span data-ttu-id="bb004-175">Další informace najdete v tématu [nastavení koncových bodů na virtuálním počítači v Azure](../windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="bb004-175">For more information, see [Set up endpoints on a virtual machine in Azure](../windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>

<a id="nsg"></a>

## <a name="source-4-network-security-groups"></a><span data-ttu-id="bb004-176">Zdroje 4: Skupiny zabezpečení sítě</span><span class="sxs-lookup"><span data-stu-id="bb004-176">Source 4: Network security groups</span></span>
<span data-ttu-id="bb004-177">Skupiny zabezpečení sítě umožňují toohave členitější řízení toho povolené příchozí a odchozí přenosy.</span><span class="sxs-lookup"><span data-stu-id="bb004-177">Network security groups enable you toohave more granular control of allowed inbound and outbound traffic.</span></span> <span data-ttu-id="bb004-178">Můžete vytvořit pravidla, která span podsítě a cloudových služeb v virtuální sítě Azure.</span><span class="sxs-lookup"><span data-stu-id="bb004-178">You can create rules that span subnets and cloud services in an Azure virtual network.</span></span> <span data-ttu-id="bb004-179">Zkontrolujte že tooand SSH přenosy z Internetu je povoleno hello tooensure pravidel skupiny zabezpečení vaší sítě.</span><span class="sxs-lookup"><span data-stu-id="bb004-179">Check your network security group rules tooensure that SSH traffic tooand from hello Internet is allowed.</span></span>
<span data-ttu-id="bb004-180">Další informace najdete v tématu [o skupinách zabezpečení sítě](../../virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="bb004-180">For more information, see [About network security groups](../../virtual-network/virtual-networks-nsg.md).</span></span>

<span data-ttu-id="bb004-181">Můžete také použít ověření IP toovalidate hello NSG konfigurace.</span><span class="sxs-lookup"><span data-stu-id="bb004-181">You can also use IP Verify toovalidate hello NSG configuration.</span></span> <span data-ttu-id="bb004-182">Další informace najdete v tématu [síť Azure Přehled monitorování](https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-monitoring-overview).</span><span class="sxs-lookup"><span data-stu-id="bb004-182">For more information, see [Azure network monitoring overview](https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-monitoring-overview).</span></span> 

## <a name="source-5-linux-based-azure-virtual-machine"></a><span data-ttu-id="bb004-183">Zdroj 5: Systémem Linux virtuálního počítače Azure</span><span class="sxs-lookup"><span data-stu-id="bb004-183">Source 5: Linux-based Azure virtual machine</span></span>
<span data-ttu-id="bb004-184">Poslední zdroj Hello možných problémů je hello Azure samotného virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="bb004-184">hello last source of possible problems is hello Azure virtual machine itself.</span></span>

![Diagram, který označuje systémem Linux virtuálního počítače Azure](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot5.png)

<span data-ttu-id="bb004-186">Pokud jste tak ještě neučinili, postupujte podle pokynů hello [tooreset heslo nebo SSH pro virtuální počítače se systémem Linux](classic/reset-access.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="bb004-186">If you haven't done so already, follow hello instructions [tooreset a password or SSH for Linux-based virtual machines](classic/reset-access.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>

<span data-ttu-id="bb004-187">Zkuste se znovu připojit z vašeho počítače.</span><span class="sxs-lookup"><span data-stu-id="bb004-187">Try connecting from your computer again.</span></span> <span data-ttu-id="bb004-188">Pokud stále nedaří, hello Následují některé hello informace o možných problémech:</span><span class="sxs-lookup"><span data-stu-id="bb004-188">If it still fails, hello following are some of hello possible issues:</span></span>

* <span data-ttu-id="bb004-189">Hello SSH service není spuštěna na hello cílového virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="bb004-189">hello SSH service is not running on hello target virtual machine.</span></span>
* <span data-ttu-id="bb004-190">Hello SSH služby není naslouchá na portu TCP 22.</span><span class="sxs-lookup"><span data-stu-id="bb004-190">hello SSH service is not listening on TCP port 22.</span></span> <span data-ttu-id="bb004-191">tootest, nainstalujte klient služby telnet v místním počítači a spusťte "telnet *cloudServiceName*. cloudapp.net 22".</span><span class="sxs-lookup"><span data-stu-id="bb004-191">tootest, install a telnet client on your local computer and run "telnet *cloudServiceName*.cloudapp.net 22".</span></span> <span data-ttu-id="bb004-192">Tento krok určuje, pokud je virtuální počítač hello umožňuje koncový bod SSH toohello příchozí a odchozí komunikaci.</span><span class="sxs-lookup"><span data-stu-id="bb004-192">This step determines if hello virtual machine allows inbound and outbound communication toohello SSH endpoint.</span></span>
* <span data-ttu-id="bb004-193">místní brána firewall Hello na hello cílový virtuální počítač obsahuje pravidla, která brání příchozích a odchozích přenosů SSH.</span><span class="sxs-lookup"><span data-stu-id="bb004-193">hello local firewall on hello target virtual machine has rules that are preventing inbound or outbound SSH traffic.</span></span>
* <span data-ttu-id="bb004-194">Zjišťování neoprávněných vniknutí nebo software, který běží na virtuálním počítači Azure hello monitorování sítě brání připojení SSH.</span><span class="sxs-lookup"><span data-stu-id="bb004-194">Intrusion detection or network monitoring software that's running on hello Azure virtual machine is preventing SSH connections.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="bb004-195">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="bb004-195">Additional resources</span></span>
<span data-ttu-id="bb004-196">Další informace o odstraňování potíží s přístup k aplikaci najdete v tématu [Poradce při potížích přístup tooan aplikace běžící na virtuálním počítači Azure](troubleshoot-app-connection.md)</span><span class="sxs-lookup"><span data-stu-id="bb004-196">For more information about troubleshooting application access, see [Troubleshoot access tooan application running on an Azure virtual machine](troubleshoot-app-connection.md)</span></span>
