---
title: "aaaStorage řešení pro virtuální počítače s Linuxem v Azure | Microsoft Docs"
description: "Další informace o hello klíče návrhu a implementace pokyny pro nasazení řešení úložiště ve službách infrastruktury Azure."
documentationcenter: 
services: virtual-machines-linux
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 3c368f07-189b-4520-bbe2-f4080253bbf2
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: d270c4786d7b55b18b011aa345063b6816a80876
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="azure-storage-infrastructure-guidelines-for-linux-vms"></a><span data-ttu-id="8ba41-103">Pokyny infrastruktury úložiště Azure pro virtuální počítače s Linuxem</span><span class="sxs-lookup"><span data-stu-id="8ba41-103">Azure storage infrastructure guidelines for Linux VMs</span></span>

[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-intro](../../../includes/virtual-machines-linux-infrastructure-guidelines-intro.md)]

<span data-ttu-id="8ba41-104">Tento článek se zaměřuje na rozumět potřebám úložiště a aspekty návrhu pro dosažení optimálního virtuální počítač (VM) výkonu.</span><span class="sxs-lookup"><span data-stu-id="8ba41-104">This article focuses on understanding storage needs and design considerations for achieving optimum virtual machine (VM) performance.</span></span>

## <a name="implementation-guidelines-for-storage"></a><span data-ttu-id="8ba41-105">Postup implementace pro úložiště</span><span class="sxs-lookup"><span data-stu-id="8ba41-105">Implementation guidelines for storage</span></span>
<span data-ttu-id="8ba41-106">Rozhodnutí:</span><span class="sxs-lookup"><span data-stu-id="8ba41-106">Decisions:</span></span>

* <span data-ttu-id="8ba41-107">Budete toouse disky Azure spravované nebo nespravované disky?</span><span class="sxs-lookup"><span data-stu-id="8ba41-107">Are you going toouse Azure Managed Disks or unmanaged disks?</span></span>
* <span data-ttu-id="8ba41-108">Potřebujete toouse Standard nebo Premium úložiště pro úlohy?</span><span class="sxs-lookup"><span data-stu-id="8ba41-108">Do you need toouse Standard or Premium storage for your workload?</span></span>
* <span data-ttu-id="8ba41-109">Potřebujete disky toocreate proložení disku větší než 4TB?</span><span class="sxs-lookup"><span data-stu-id="8ba41-109">Do you need disk striping toocreate disks larger than 4TB?</span></span>
* <span data-ttu-id="8ba41-110">Potřebujete pro úlohy proložení tooachieve optimální vstupně-výstupní výkon disku?</span><span class="sxs-lookup"><span data-stu-id="8ba41-110">Do you need disk striping tooachieve optimal I/O performance for your workload?</span></span>
* <span data-ttu-id="8ba41-111">Jaká sada účtů úložiště potřebujete toohost IT zatížení nebo infrastrukturu?</span><span class="sxs-lookup"><span data-stu-id="8ba41-111">What set of storage accounts do you need toohost your IT workload or infrastructure?</span></span>

<span data-ttu-id="8ba41-112">Úlohy:</span><span class="sxs-lookup"><span data-stu-id="8ba41-112">Tasks:</span></span>

* <span data-ttu-id="8ba41-113">Zkontrolujte požadavky na vstupně-výstupních operací aplikace hello nasazujete a plánování hello odpovídající počet a typ úložiště účtů.</span><span class="sxs-lookup"><span data-stu-id="8ba41-113">Review I/O demands of hello applications you are deploying and plan hello appropriate number and type of storage accounts.</span></span>
* <span data-ttu-id="8ba41-114">Vytvořte sadu hello účty úložiště používající zásady vytváření názvů.</span><span class="sxs-lookup"><span data-stu-id="8ba41-114">Create hello set of storage accounts using your naming convention.</span></span> <span data-ttu-id="8ba41-115">Můžete použít portál Azure CLI nebo hello hello.</span><span class="sxs-lookup"><span data-stu-id="8ba41-115">You can use hello Azure CLI or hello portal.</span></span>

## <a name="storage"></a><span data-ttu-id="8ba41-116">Úložiště</span><span class="sxs-lookup"><span data-stu-id="8ba41-116">Storage</span></span>
<span data-ttu-id="8ba41-117">Azure Storage je klíčovou součástí nasazení a správa virtuálních počítačů (VM) a aplikací.</span><span class="sxs-lookup"><span data-stu-id="8ba41-117">Azure Storage is a key part of deploying and managing virtual machines (VMs) and applications.</span></span> <span data-ttu-id="8ba41-118">Úložiště Azure poskytuje služby pro ukládání dat souboru, nestrukturovaných dat a zprávy, který je taky součástí hello infrastruktury pro podporu virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="8ba41-118">Azure Storage provides services for storing file data, unstructured data, and messages, and it is also part of hello infrastructure supporting VMs.</span></span>

<span data-ttu-id="8ba41-119">[Disky systému Azure spravované](../../storage/storage-managed-disks-overview.md) zpracovává úložiště pro vás pozadí hello.</span><span class="sxs-lookup"><span data-stu-id="8ba41-119">[Azure Managed Disks](../../storage/storage-managed-disks-overview.md) handles storage for you behind hello scenes.</span></span> <span data-ttu-id="8ba41-120">S nespravované disky můžete vytvořit účty úložiště toohold hello disky (soubory VHD) pro virtuální počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="8ba41-120">With unmanaged disks, you create storage accounts toohold hello disks (VHD files) for your Azure VMs.</span></span> <span data-ttu-id="8ba41-121">Při rozšiřování prostředků, musíte se ujistit, že kterou jste vytvořili další účty úložiště, takže nepřekračují hello limit IOPS pro úložiště s žádným disky.</span><span class="sxs-lookup"><span data-stu-id="8ba41-121">When scaling up, you must make sure you created additional storage accounts so you don’t exceed hello IOPS limit for storage with any of your disks.</span></span> <span data-ttu-id="8ba41-122">S spravované disky zpracování úložiště, můžete se už není omezené podle hello limity účtu úložiště (například 20 000 IOPS / účet).</span><span class="sxs-lookup"><span data-stu-id="8ba41-122">With Managed Disks handling storage, you are no longer limited by hello storage account limits (such as 20,000 IOPS / account).</span></span> <span data-ttu-id="8ba41-123">Také již máte toocopy účtů úložiště toomultiple vlastních bitových kopií (soubory VHD).</span><span class="sxs-lookup"><span data-stu-id="8ba41-123">You also no longer have toocopy your custom images (VHD files) toomultiple storage accounts.</span></span> <span data-ttu-id="8ba41-124">Můžete spravovat v centrálním umístění – jeden účet úložiště podle oblasti Azure – a použít je toocreate stovky virtuálních počítačů v předplatném.</span><span class="sxs-lookup"><span data-stu-id="8ba41-124">You can manage them in a central location – one storage account per Azure region – and use them toocreate hundreds of VMs in a subscription.</span></span> <span data-ttu-id="8ba41-125">Doporučujeme že používat spravované disky pro nová nasazení.</span><span class="sxs-lookup"><span data-stu-id="8ba41-125">We recommend you use Managed Disks for new deployments.</span></span>

<span data-ttu-id="8ba41-126">K dispozici pro podporu virtuálních počítačů existují dva typy účtů úložiště:</span><span class="sxs-lookup"><span data-stu-id="8ba41-126">There are two types of storage accounts available for supporting VMs:</span></span>

* <span data-ttu-id="8ba41-127">Udělte účty úložiště Standard storage přístup tooblob úložiště (používá se pro ukládání virtuálních počítačů Azure disky), tabulky úložiště, fronty úložiště a úložiště souborů.</span><span class="sxs-lookup"><span data-stu-id="8ba41-127">Standard storage accounts give you access tooblob storage (used for storing Azure VM disks), table storage, queue storage, and file storage.</span></span>
* <span data-ttu-id="8ba41-128">[Storage úrovně Premium](../../storage/storage-premium-storage.md) účty poskytovat podporu disků vysoce výkonné, nízká latence pro zatížení s intenzivním vstupně-výstupních operací, jako je například horizontálně dělené MongoDB clusteru.</span><span class="sxs-lookup"><span data-stu-id="8ba41-128">[Premium storage](../../storage/storage-premium-storage.md) accounts deliver high-performance, low-latency disk support for I/O intensive workloads, such as MongoDB Sharded cluster.</span></span> <span data-ttu-id="8ba41-129">Storage úrovně Premium aktuálně podporuje jen disky virtuálního počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="8ba41-129">Premium storage currently supports Azure VM disks only.</span></span>

<span data-ttu-id="8ba41-130">Azure vytvoří virtuální počítače s diskem operačního systému, dočasným diskovým a nula nebo více disků volitelnými daty.</span><span class="sxs-lookup"><span data-stu-id="8ba41-130">Azure creates VMs with an operating system disk, a temporary disk, and zero or more optional data disks.</span></span> <span data-ttu-id="8ba41-131">Hello disk operačního systému a datové disky jsou objekty BLOB stránky Azure, zatímco dočasným diskovým hello uložených místně na uzlu hello tam, kde počítač hello platný.</span><span class="sxs-lookup"><span data-stu-id="8ba41-131">hello operating system disk and data disks are Azure page blobs, whereas hello temporary disk is stored locally on hello node where hello machine lives.</span></span> <span data-ttu-id="8ba41-132">Vezměte v potaz při návrhu aplikace tooonly použít toto dočasný disku pro dočasnou data jako hello, může použít k migraci virtuálních počítačů mezi hostiteli během údržby.</span><span class="sxs-lookup"><span data-stu-id="8ba41-132">Take care when designing applications tooonly use this temporary disk for non-persistent data as hello VM may be migrated between hosts during a maintenance event.</span></span> <span data-ttu-id="8ba41-133">Všechna data uložená na disku dočasné hello bude ztracena.</span><span class="sxs-lookup"><span data-stu-id="8ba41-133">Any data stored on hello temporary disk would be lost.</span></span>

<span data-ttu-id="8ba41-134">Odolnost a vysoká dostupnost zajišťuje hello tooensure prostředí základní Azure Storage, aby vaše data i nadále chráněn proti neplánované údržby nebo k selhání hardwaru.</span><span class="sxs-lookup"><span data-stu-id="8ba41-134">Durability and high availability is provided by hello underlying Azure Storage environment tooensure that your data remains protected against unplanned maintenance or hardware failures.</span></span> <span data-ttu-id="8ba41-135">Při navrhování prostředí Azure Storage, můžete zvolit tooreplicate úložiště virtuálního počítače:</span><span class="sxs-lookup"><span data-stu-id="8ba41-135">As you design your Azure Storage environment, you can choose tooreplicate VM storage:</span></span>

* <span data-ttu-id="8ba41-136">místně v rámci dané datové centrum Azure</span><span class="sxs-lookup"><span data-stu-id="8ba41-136">locally within a given Azure datacenter</span></span>
* <span data-ttu-id="8ba41-137">v datových centrech Azure v rámci dané oblasti</span><span class="sxs-lookup"><span data-stu-id="8ba41-137">across Azure datacenters within a given region</span></span>
* <span data-ttu-id="8ba41-138">v datových centrech Azure v různých oblastech.</span><span class="sxs-lookup"><span data-stu-id="8ba41-138">across Azure datacenters across different regions.</span></span>

<span data-ttu-id="8ba41-139">Můžete si přečíst [Další informace o možnostech replikace hello pro zajištění vysoké dostupnosti](../../storage/storage-introduction.md#replication-for-durability-and-high-availability).</span><span class="sxs-lookup"><span data-stu-id="8ba41-139">You can read [more about hello replication options for high availability](../../storage/storage-introduction.md#replication-for-durability-and-high-availability).</span></span>

<span data-ttu-id="8ba41-140">Disky operačního systému a datové disky mají maximální velikost 4 TB.</span><span class="sxs-lookup"><span data-stu-id="8ba41-140">Operating system disks and data disks have a maximum size of 4TB.</span></span> <span data-ttu-id="8ba41-141">Toosurpass Manager logické svazek (LVM) můžete použít tento limit podle sdružování společně datové disky toopresent logické svazky větší než 1023GB tooyour virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="8ba41-141">You can use Logical Volume Manager (LVM) toosurpass this limit by pooling together data disks toopresent logical volumes larger than 1023GB tooyour VM.</span></span>

<span data-ttu-id="8ba41-142">Existují některá omezení škálovatelnosti při návrhu nasazení Azure Storage – Další informace najdete v tématu [limitů předplatného a služby Microsoft Azure, kvóty a omezení](../../azure-subscription-service-limits.md#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="8ba41-142">There are some scalability limits when designing your Azure Storage deployments - for more information, see [Microsoft Azure subscription and service limits, quotas, and constraints](../../azure-subscription-service-limits.md#storage-limits).</span></span> <span data-ttu-id="8ba41-143">Viz také [úložiště Azure škálovatelnosti a cílech výkonnosti](../../storage/storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="8ba41-143">Also see [Azure storage scalability and performance targets](../../storage/storage-scalability-targets.md).</span></span>

<span data-ttu-id="8ba41-144">Pro uložení aplikace můžete uložit nestrukturovaných dat, jako jsou dokumenty, obrázky, zálohování, konfigurační data, protokoly, atd.</span><span class="sxs-lookup"><span data-stu-id="8ba41-144">For application storage, you can store unstructured object data such as documents, images, backups, configuration data, logs, etc.</span></span> <span data-ttu-id="8ba41-145">Pomocí úložiště objektů blob.</span><span class="sxs-lookup"><span data-stu-id="8ba41-145">using blob storage.</span></span> <span data-ttu-id="8ba41-146">Namísto aplikace zápis toohello tooa připojen virtuální disk virtuálního počítače může aplikace hello přímo zapisovat tooAzure úložiště objektů blob.</span><span class="sxs-lookup"><span data-stu-id="8ba41-146">Rather than your application writing tooa virtual disk attached toohello VM, hello application can write directly tooAzure blob storage.</span></span> <span data-ttu-id="8ba41-147">Úložiště objektů BLOB také poskytuje možnost hello [za provozu a cool vrstvy úložiště](../../storage/storage-blob-storage-tiers.md) v závislosti na dostupnosti požadavky a náklady na omezení.</span><span class="sxs-lookup"><span data-stu-id="8ba41-147">Blob storage also provides hello option of [hot and cool storage tiers](../../storage/storage-blob-storage-tiers.md) depending on your availability needs and cost constraints.</span></span>

## <a name="striped-disks"></a><span data-ttu-id="8ba41-148">Prokládané disky</span><span class="sxs-lookup"><span data-stu-id="8ba41-148">Striped disks</span></span>
<span data-ttu-id="8ba41-149">Kromě toho, abyste toocreate disky větší než 1023 GB v velký počet instancí, pomocí proložení pro datové disky zlepšuje výkon tím, že několik objektů BLOB tooback hello úložiště pro jeden svazek.</span><span class="sxs-lookup"><span data-stu-id="8ba41-149">Besides allowing you toocreate disks larger than 1023 GB, in many instances, using striping for data disks enhances performance by allowing multiple blobs tooback hello storage for a single volume.</span></span> <span data-ttu-id="8ba41-150">S proložení, hello vstupně-výstupní operace vyžaduje toowrite a čtení dat z jednoho logického disku pokračuje paralelně.</span><span class="sxs-lookup"><span data-stu-id="8ba41-150">With striping, hello I/O required toowrite and read data from a single logical disk proceeds in parallel.</span></span>

<span data-ttu-id="8ba41-151">Systému Azure vynucuje omezení pro hello počet datových disků a k dispozici, v závislosti na velikosti virtuálního počítače hello šířku pásma.</span><span class="sxs-lookup"><span data-stu-id="8ba41-151">Azure imposes limits on hello number of data disks and amount of bandwidth available, depending on hello VM size.</span></span> <span data-ttu-id="8ba41-152">Podrobnosti najdete v tématu [velikosti virtuálních počítačů](sizes.md)</span><span class="sxs-lookup"><span data-stu-id="8ba41-152">For details, see [Sizes for virtual machines](sizes.md)</span></span>

<span data-ttu-id="8ba41-153">Pokud používáte disk proložení pro Azure datových disků, vezměte v úvahu hello následující pokyny:</span><span class="sxs-lookup"><span data-stu-id="8ba41-153">If you are using disk striping for Azure data disks, consider hello following guidelines:</span></span>

* <span data-ttu-id="8ba41-154">Připojte hello maximální datových disků povolená pro hello velikost virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="8ba41-154">Attach hello maximum data disks allowed for hello VM size.</span></span>
* <span data-ttu-id="8ba41-155">Použijte LVM.</span><span class="sxs-lookup"><span data-stu-id="8ba41-155">Use LVM.</span></span>
* <span data-ttu-id="8ba41-156">Nepoužívejte možnosti ukládání do mezipaměti Azure datový disk (ukládání do mezipaměti zásad = None).</span><span class="sxs-lookup"><span data-stu-id="8ba41-156">Avoid using Azure data disk caching options (caching policy = None).</span></span>

<span data-ttu-id="8ba41-157">Další informace najdete v tématu [konfigurace LVM na virtuální počítač s Linuxem](configure-lvm.md).</span><span class="sxs-lookup"><span data-stu-id="8ba41-157">For more information, see [Configuring LVM on a Linux VM](configure-lvm.md).</span></span>

## <a name="multiple-storage-accounts"></a><span data-ttu-id="8ba41-158">Více účtů úložiště</span><span class="sxs-lookup"><span data-stu-id="8ba41-158">Multiple storage accounts</span></span>
<span data-ttu-id="8ba41-159">Tato část se nevztahuje příliš[Azure spravované disky](../../storage/storage-managed-disks-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), protože nelze vytvořit samostatné úložiště účtů.</span><span class="sxs-lookup"><span data-stu-id="8ba41-159">This section does not apply too[Azure Managed Disks](../../storage/storage-managed-disks-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), as you do not create separate storage accounts.</span></span> 

<span data-ttu-id="8ba41-160">Když navrhujete prostředí Azure Storage pro nespravovaná disky, můžete použít více účtů úložiště jako hello počet virtuálních počítačů můžete nasadit zvyšuje.</span><span class="sxs-lookup"><span data-stu-id="8ba41-160">When designing your Azure Storage environment for unmanaged disks, you can use multiple storage accounts as hello number of VMs you deploy increases.</span></span> <span data-ttu-id="8ba41-161">Tento přístup pomáhá distribuovat out hello vstupně-výstupní operace přes hello základní Azure Storage infrastruktury toomaintain optimálního výkonu pro virtuální počítače a aplikace.</span><span class="sxs-lookup"><span data-stu-id="8ba41-161">This approach helps distribute out hello I/O across hello underlying Azure Storage infrastructure toomaintain optimum performance for your VMs and applications.</span></span> <span data-ttu-id="8ba41-162">Při navrhování hello aplikace, které nasazujete, zvažte hello vstupně-výstupních operací požadavky, které má každý virtuální počítač a vyrovnávat na těchto virtuálních počítačů mezi různými účty úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="8ba41-162">As you design hello applications that you are deploying, consider hello I/O requirements each VM has and balance out those VMs across Azure Storage accounts.</span></span> <span data-ttu-id="8ba41-163">Zkuste tooavoid seskupení všech hello vysoké vstupně-výstupních operací náročných v účtech úložiště toojust jeden nebo dva virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="8ba41-163">Try tooavoid grouping all hello high I/O demanding VMs in toojust one or two storage accounts.</span></span>

<span data-ttu-id="8ba41-164">Další informace o funkcích hello vstupně-výstupních operací hello různých možností úložiště Azure a některé doporučujeme maximální možné limity, najdete v části [úložiště Azure škálovatelnosti a cílech výkonnosti](../../storage/storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="8ba41-164">For more information about hello I/O capabilities of hello different Azure Storage options and some recommend maximums, see [Azure storage scalability and performance targets](../../storage/storage-scalability-targets.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="8ba41-165">Další kroky</span><span class="sxs-lookup"><span data-stu-id="8ba41-165">Next steps</span></span>
[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-linux-infrastructure-guidelines-next-steps.md)]

