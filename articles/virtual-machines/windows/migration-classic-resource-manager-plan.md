---
title: "Plánování migrace prostředky infrastruktury z klasického do Azure Resource Manageru | Microsoft Docs"
description: "Plánování migrace z klasického do Azure Resource Manageru prostředků IaaS"
services: virtual-machines-windows
documentationcenter: 
author: singhkays
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 78492a2c-2694-4023-a7b8-c97d3708dcb7
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 04/01/2017
ms.author: kasing
ms.openlocfilehash: db23eba9ff8debd5268cd02bc4f37c4e6501bfac
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="planning-for-migration-of-iaas-resources-from-classic-to-azure-resource-manager"></a><span data-ttu-id="b059f-103">Plánování migrace z klasického do Azure Resource Manageru prostředků IaaS</span><span class="sxs-lookup"><span data-stu-id="b059f-103">Planning for migration of IaaS resources from classic to Azure Resource Manager</span></span>
<span data-ttu-id="b059f-104">Zatímco Azure Resource Manager nabízí mnoho funkcí úžasné, je důležité k naplánování vaší cesty migrace zkontrolujte, zda věcí bezproblémové.</span><span class="sxs-lookup"><span data-stu-id="b059f-104">While Azure Resource Manager offers many amazing features, it is critical to plan out your migration journey to make sure things go smoothly.</span></span> <span data-ttu-id="b059f-105">Výdaje čas na plánování zajistí nedochází chybám při provádění migrace aktivity.</span><span class="sxs-lookup"><span data-stu-id="b059f-105">Spending time on planning will ensure that you do not encounter issues while executing migration activities.</span></span>

> [!NOTE]
> <span data-ttu-id="b059f-106">Následující pokyny se výraznou přispěli k Azure zákazníka poradní tým a řešení cloudové architekty práce s zákazníků v rozsáhlých prostředích migrace.</span><span class="sxs-lookup"><span data-stu-id="b059f-106">The following guidance was heavily contributed to by the Azure Customer Advisory team and Cloud Solution architects working with customers on migrating large environments.</span></span> <span data-ttu-id="b059f-107">Jako takový tohoto dokumentu bude nadále získat aktualizovat, protože vznikat nové vzorce úspěšné, tak to zkuste od času na dobu, pokud jsou k dispozici žádná nová doporučení.</span><span class="sxs-lookup"><span data-stu-id="b059f-107">As such this document will continue to get updated as new patterns of success emerge, so check back from time to time to see if there are any new recommendations.</span></span>

<span data-ttu-id="b059f-108">Existují čtyři obecné fáze migrace cesty:</span><span class="sxs-lookup"><span data-stu-id="b059f-108">There are four general phases of the migration journey:</span></span><br>

![Migrace fáze](../media/virtual-machines-windows-migration-classic-resource-manager/plan-labtest-migrate-beyond.png)

## <a name="plan"></a><span data-ttu-id="b059f-110">Plánování</span><span class="sxs-lookup"><span data-stu-id="b059f-110">Plan</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="b059f-111">Technické aspekty a kompromisy</span><span class="sxs-lookup"><span data-stu-id="b059f-111">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="b059f-112">V závislosti na velikosti technické požadavky, zeměpisných a provozní postupy je vhodné zvážit:</span><span class="sxs-lookup"><span data-stu-id="b059f-112">Depending on your technical requirements size, geographies and operational practices, you might want to consider:</span></span>

1. <span data-ttu-id="b059f-113">Proč se Azure Resource Manager požaduje pro vaši organizaci?</span><span class="sxs-lookup"><span data-stu-id="b059f-113">Why is Azure Resource Manager desired for your organization?</span></span>  <span data-ttu-id="b059f-114">Jaké jsou obchodní důvody pro migraci?</span><span class="sxs-lookup"><span data-stu-id="b059f-114">What are the business reasons for a migration?</span></span>
2. <span data-ttu-id="b059f-115">Jaké jsou technické důvody pro Azure Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="b059f-115">What are the technical reasons for Azure Resource Manager?</span></span>  <span data-ttu-id="b059f-116">Co (pokud existuje) další služby Azure Pokud chcete využít?</span><span class="sxs-lookup"><span data-stu-id="b059f-116">What (if any) additional Azure services would you like to leverage?</span></span>
3. <span data-ttu-id="b059f-117">Které aplikace (nebo sady virtuálních počítačů) je součástí migrace?</span><span class="sxs-lookup"><span data-stu-id="b059f-117">Which application (or sets of virtual machines) is included in the migration?</span></span>
4. <span data-ttu-id="b059f-118">Jaké scénáře jsou podporovány migrace rozhraní API?</span><span class="sxs-lookup"><span data-stu-id="b059f-118">Which scenarios are supported with the migration API?</span></span>  <span data-ttu-id="b059f-119">Zkontrolujte [nepodporované funkce a konfigurace](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations).</span><span class="sxs-lookup"><span data-stu-id="b059f-119">Review the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations).</span></span>
5. <span data-ttu-id="b059f-120">Týmům provozní nyní podporuje aplikace nebo virtuální počítače v Classic a Azure Resource Manager?</span><span class="sxs-lookup"><span data-stu-id="b059f-120">Will your operational teams now support applications/VMs in both Classic and Azure Resource Manager?</span></span>
6. <span data-ttu-id="b059f-121">Jak (pokud vůbec) Azure Resource Manager mění nasazení virtuálního počítače, správu, monitorování a vytváření sestav procesy?</span><span class="sxs-lookup"><span data-stu-id="b059f-121">How (if at all) does Azure Resource Manager change your VM deployment, management, monitoring, and reporting processes?</span></span>  <span data-ttu-id="b059f-122">Skripty nasazení potřebujete aktualizovat?</span><span class="sxs-lookup"><span data-stu-id="b059f-122">Do your deployment scripts need to be updated?</span></span>
7. <span data-ttu-id="b059f-123">Co je komunikace plánu výstrahy zúčastněným stranám (koncovým uživatelům, vlastníci aplikace a vlastníkům infrastruktury)?</span><span class="sxs-lookup"><span data-stu-id="b059f-123">What is the communications plan to alert stakeholders (end users, application owners, and infrastructure owners)?</span></span>
8. <span data-ttu-id="b059f-124">V závislosti na složitosti prostředí mělo by být období údržby kde aplikace je k dispozici koncovým uživatelům a vlastníkům aplikace?</span><span class="sxs-lookup"><span data-stu-id="b059f-124">Depending on the complexity of the environment, should there be a maintenance period where the application is unavailable to end users and to application owners?</span></span>  <span data-ttu-id="b059f-125">Pokud ano, jak dlouho?</span><span class="sxs-lookup"><span data-stu-id="b059f-125">If so, for how long?</span></span>
9. <span data-ttu-id="b059f-126">Co je plán školení zajistit zúčastněným stranám znalostmi a znalosti ve službě Správce prostředků Azure?</span><span class="sxs-lookup"><span data-stu-id="b059f-126">What is the training plan to ensure stakeholders are knowledgeable and proficient in Azure Resource Manager?</span></span>
10. <span data-ttu-id="b059f-127">Co je program správy nebo správy plánu projektu pro migraci?</span><span class="sxs-lookup"><span data-stu-id="b059f-127">What is the program management or project management plan for the migration?</span></span>
11. <span data-ttu-id="b059f-128">Jaké jsou časové osy pro migraci správce prostředků Azure a další související technologie silniční mapy?</span><span class="sxs-lookup"><span data-stu-id="b059f-128">What are the timelines for the Azure Resource Manager migration and other related technology road maps?</span></span>  <span data-ttu-id="b059f-129">Je jejich optimálně zarovnán?</span><span class="sxs-lookup"><span data-stu-id="b059f-129">Are they optimally aligned?</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="b059f-130">Vzory úspěch</span><span class="sxs-lookup"><span data-stu-id="b059f-130">Patterns of success</span></span>

<span data-ttu-id="b059f-131">Úspěšné zákazníkům obsahují podrobné plány, kde jsou popsané, zdokumentované a řídí předchozí dotazy.</span><span class="sxs-lookup"><span data-stu-id="b059f-131">Successful customers have detailed plans where the preceding questions are discussed, documented and governed.</span></span>  <span data-ttu-id="b059f-132">Zajistěte, aby že plány migrace se široce předávají u sponzorů a zúčastněnými stranami.</span><span class="sxs-lookup"><span data-stu-id="b059f-132">Ensure the migration plans are broadly communicated to sponsors and stakeholders.</span></span>  <span data-ttu-id="b059f-133">Vybavit sami s informací o možnostech migrace; čtení tímto dokumentem migrace nastavit níže důrazně doporučujeme.</span><span class="sxs-lookup"><span data-stu-id="b059f-133">Equip yourself with knowledge about your migration options; reading through this migration document set below is highly recommended.</span></span>

* [<span data-ttu-id="b059f-134">Přehled platformy podporované migrace z klasického do Azure Resource Manageru prostředků IaaS</span><span class="sxs-lookup"><span data-stu-id="b059f-134">Overview of platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-135">Technické podrobné informace o platformy podporované migrace z klasického do Azure Resource Manageru</span><span class="sxs-lookup"><span data-stu-id="b059f-135">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-deep-dive.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-136">Plánování migrace prostředků IaaS z nasazení Classic do Azure Resource Manageru</span><span class="sxs-lookup"><span data-stu-id="b059f-136">Planning for migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-plan.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-137">Migrace prostředků IaaS z klasického do Azure Resource Manageru pomocí prostředí PowerShell</span><span class="sxs-lookup"><span data-stu-id="b059f-137">Use PowerShell to migrate IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-ps.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-138">Pomocí rozhraní příkazového řádku můžete migrovat prostředky infrastruktury z classic do Azure Resource Manageru</span><span class="sxs-lookup"><span data-stu-id="b059f-138">Use CLI to migrate IaaS resources from classic to Azure Resource Manager</span></span>](../linux/migration-classic-resource-manager-cli.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-139">Komunita nástroje asistence s migrace z klasického do Azure Resource Manageru prostředků IaaS</span><span class="sxs-lookup"><span data-stu-id="b059f-139">Community tools for assisting with migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-community-tools.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-140">Běžné chyby při migraci</span><span class="sxs-lookup"><span data-stu-id="b059f-140">Review most common migration errors</span></span>](migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-141">Přečtěte si nejčastější dotazy o migraci prostředky infrastruktury jako služby z klasického do Azure Resource Manageru</span><span class="sxs-lookup"><span data-stu-id="b059f-141">Review the most frequently asked questions about migrating IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-faq.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="b059f-142">Aby se zabránilo nástrahy</span><span class="sxs-lookup"><span data-stu-id="b059f-142">Pitfalls to avoid</span></span>

- <span data-ttu-id="b059f-143">Chyba při plánování.</span><span class="sxs-lookup"><span data-stu-id="b059f-143">Failure to plan.</span></span>  <span data-ttu-id="b059f-144">Technologie kroky pro migraci jsou ověřené a výsledek je předvídatelný.</span><span class="sxs-lookup"><span data-stu-id="b059f-144">The technology steps of this migration are proven and the outcome is predictable.</span></span>
- <span data-ttu-id="b059f-145">Předpokládá, že platforma podporovaná migrace rozhraní API bude účet pro všechny scénáře.</span><span class="sxs-lookup"><span data-stu-id="b059f-145">Assumption that the platform supported migration API will account for all scenarios.</span></span> <span data-ttu-id="b059f-146">Pro čtení [nepodporované funkce a konfigurace](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) pochopit, jaké postupy se podporují.</span><span class="sxs-lookup"><span data-stu-id="b059f-146">Read the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) to understand what scenarios are supported.</span></span>
- <span data-ttu-id="b059f-147">Není plánování potenciální výpadek aplikace pro koncové uživatele.</span><span class="sxs-lookup"><span data-stu-id="b059f-147">Not planning potential application outage for end users.</span></span>  <span data-ttu-id="b059f-148">Naplánujte nedostatek vyrovnávací paměti adekvátní varování před koncovým uživatelům doba potenciálně není k dispozici aplikace.</span><span class="sxs-lookup"><span data-stu-id="b059f-148">Plan enough buffer to adequately warn end users of potentially unavailable application time.</span></span>


## <a name="lab-test"></a><span data-ttu-id="b059f-149">Testovací laboratoře</span><span class="sxs-lookup"><span data-stu-id="b059f-149">Lab Test</span></span>

<span data-ttu-id="b059f-150">**Replikovat vaše prostředí a provést migraci testu**</span><span class="sxs-lookup"><span data-stu-id="b059f-150">**Replicate your environment and do a test migration**</span></span>
  > [!NOTE]
  > <span data-ttu-id="b059f-151">Přesný replikace vaše stávající prostředí se spustí pomocí nástroje podílí komunity, který není oficiálně podporován Microsoft Support.</span><span class="sxs-lookup"><span data-stu-id="b059f-151">Exact replication of your existing environment is executed by using a community-contributed tool which is not officially supported by Microsoft Support.</span></span> <span data-ttu-id="b059f-152">Proto je **volitelné** krok, ale je nejlepší způsob, jak zjistit problémy bez zásahu do provozní prostředí.</span><span class="sxs-lookup"><span data-stu-id="b059f-152">Therefore, it is an **optional** step but it is the best way to find out issues without touching your production environments.</span></span> <span data-ttu-id="b059f-153">Pokud pomocí nástroje podílí komunity není možné, přečtěte si o ověření a příprava nebo zrušit vyzkoušet vysílání doporučení níže.</span><span class="sxs-lookup"><span data-stu-id="b059f-153">If using a community-contributed tool is not an option, then read about the Validate/Prepare/Abort Dry Run recommendation below.</span></span>
  >

  <span data-ttu-id="b059f-154">Provádění testu testovacího prostředí vaší přesný scénář (výpočty, síť a úložiště) je nejlepší způsob, jak zajistit bezproblémovou migraci.</span><span class="sxs-lookup"><span data-stu-id="b059f-154">Conducting a lab test of your exact scenario (compute, networking, and storage) is the best way to ensure a smooth migration.</span></span> <span data-ttu-id="b059f-155">To pomůže zajistit:</span><span class="sxs-lookup"><span data-stu-id="b059f-155">This will help ensure:</span></span>

  - <span data-ttu-id="b059f-156">Zcela samostatné testovacího prostředí nebo stávajícího mimo produkční prostředí pro testování.</span><span class="sxs-lookup"><span data-stu-id="b059f-156">A wholly separate lab or an existing non-production environment to test.</span></span> <span data-ttu-id="b059f-157">Doporučujeme, abyste zcela samostatné testovacím prostředí, které mohou být migrovány opakovaně a nelze jej destructively změnit.</span><span class="sxs-lookup"><span data-stu-id="b059f-157">We recommend a wholly separate lab that can be migrated repeatedly and can be destructively modified.</span></span>  <span data-ttu-id="b059f-158">Skripty za účelem shromažďování nebo hydrát metadata z reálného odběry jsou uvedeny níže.</span><span class="sxs-lookup"><span data-stu-id="b059f-158">Scripts to collect/hydrate metadata from the real subscriptions are listed below.</span></span>
  - <span data-ttu-id="b059f-159">Je vhodné vytvořit testovací prostředí v samostatné předplatné.</span><span class="sxs-lookup"><span data-stu-id="b059f-159">It's a good idea to create the lab in a separate subscription.</span></span> <span data-ttu-id="b059f-160">Důvodem je, že testovací prostředí se opakovaně deaktivuje a s samostatné, izolované předplatné snížíte pravděpodobnost, že něco skutečných získat omylem odstraní.</span><span class="sxs-lookup"><span data-stu-id="b059f-160">The reason is that the lab will be torn down repeatedly, and having a separate, isolated subscription will reduce the chance that something real will get accidentally deleted.</span></span>

  <span data-ttu-id="b059f-161">To můžete udělat pomocí nástroje AsmMetadataParser.</span><span class="sxs-lookup"><span data-stu-id="b059f-161">This can be accomplished by using the AsmMetadataParser tool.</span></span> [<span data-ttu-id="b059f-162">Další informace o tomto nástroji sem</span><span class="sxs-lookup"><span data-stu-id="b059f-162">Read more about this tool here</span></span>](https://github.com/Azure/classic-iaas-resourcemanager-migration/tree/master/AsmToArmMigrationApiToolset)

### <a name="patterns-of-success"></a><span data-ttu-id="b059f-163">Vzory úspěch</span><span class="sxs-lookup"><span data-stu-id="b059f-163">Patterns of success</span></span>

<span data-ttu-id="b059f-164">Následující byly problémy zjištěné v mnoha větší migrace.</span><span class="sxs-lookup"><span data-stu-id="b059f-164">The following were issues discovered in many of the larger migrations.</span></span> <span data-ttu-id="b059f-165">Nejedná se o vyčerpávající seznam a by měla odkazovat na [nepodporované funkce a konfigurace](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) další podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="b059f-165">This is not an exhaustive list and you should refer to the [unsupported features and configurations](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json#unsupported-features-and-configurations) for more detail.</span></span>  <span data-ttu-id="b059f-166">Může nebo nemusí dojde tyto technické problémy, ale v takovém případě tyto před pokusem o migraci řešení zajistí plynulejší práci.</span><span class="sxs-lookup"><span data-stu-id="b059f-166">You may or may not encounter these technical issues but if you do solving these before attempting migration will ensure a smoother experience.</span></span>

- <span data-ttu-id="b059f-167">**Proveďte vyzkoušet vysílání ověřením a příprava nebo zrušit** -Toto je možná nejdůležitější krok zajistit Classic na úspěšné provedení migrace správce prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="b059f-167">**Do a Validate/Prepare/Abort Dry Run** -  This is perhaps the most important step to ensure Classic to Azure Resource Manager migration success.</span></span> <span data-ttu-id="b059f-168">Migrace rozhraní API obsahuje tři hlavní kroky: ověření, přípravě a provést.</span><span class="sxs-lookup"><span data-stu-id="b059f-168">The migration API has three main steps: Validate, Prepare and Commit.</span></span> <span data-ttu-id="b059f-169">Ověření se načíst stav prostředí classic a vrátit výsledek všechny problémy.</span><span class="sxs-lookup"><span data-stu-id="b059f-169">Validate will read the state of your classic environment and return a result of all issues.</span></span> <span data-ttu-id="b059f-170">Ale vzhledem k tomu, že některé problémy mohou existovat v zásobníku Azure Resource Manager, ověřit nebude catch vše.</span><span class="sxs-lookup"><span data-stu-id="b059f-170">However, because some issues might exist in the Azure Resource Manager stack, Validate will not catch everything.</span></span> <span data-ttu-id="b059f-171">Dalším krokem v procesu migrace, Příprava vám pomůže zveřejnění těchto problémů.</span><span class="sxs-lookup"><span data-stu-id="b059f-171">The next step in migration process, Prepare will help expose those issues.</span></span> <span data-ttu-id="b059f-172">Příprava bude přesunout metadata z Classic do Azure Resource Manager, ale nebude Potvrdit přesunutí a není odebrat ani změnit nic na straně Classic.</span><span class="sxs-lookup"><span data-stu-id="b059f-172">Prepare will move the metadata from Classic to Azure Resource Manager, but will not commit the move, and will not remove or change anything on the Classic side.</span></span> <span data-ttu-id="b059f-173">Vyzkoušet vysílání zahrnuje přípravy migrace, pak přerušení (**není potvrzení**) Příprava na migraci.</span><span class="sxs-lookup"><span data-stu-id="b059f-173">The dry run involves preparing the migration, then aborting (**not committing**) the migration prepare.</span></span> <span data-ttu-id="b059f-174">Cílem ověření a příprava nebo zrušit vyzkoušet vysílání je chcete zobrazit všechny metadat v zásobníku Azure Resource Manager, jej prozkoumat (*prostřednictvím kódu programu nebo portálu*) a ověřte, že všechno migruje správně a fungovat prostřednictvím technical problémy.</span><span class="sxs-lookup"><span data-stu-id="b059f-174">The goal of validate/prepare/abort dry run is to see all of the metadata in the Azure Resource Manager stack, examine it (*programmatically or in Portal*), and verify that everything migrates correctly, and work through technical issues.</span></span>  <span data-ttu-id="b059f-175">Je také získáte představu o dobou trvání migrace, podle toho naplánovat výpadek.</span><span class="sxs-lookup"><span data-stu-id="b059f-175">It will also give you a sense of migration duration so you can plan for downtime accordingly.</span></span>  <span data-ttu-id="b059f-176">Ověření a příprava nebo zrušit nezpůsobí žádné výpadky uživatele; je proto pro použití aplikací omezovaly.</span><span class="sxs-lookup"><span data-stu-id="b059f-176">A validate/prepare/abort does not cause any user downtime; therefore, it is non-disruptive to application usage.</span></span>
  - <span data-ttu-id="b059f-177">Níže uvedených položek bude muset být vyřešeny před vyzkoušet vysílání, ale testu vyzkoušet vysílání se taky bezpečně vyprázdní se tyto přípravné kroky, pokud jejich provedena.</span><span class="sxs-lookup"><span data-stu-id="b059f-177">The items below will need to be solved before the dry run, but a dry run test will also safely flush out these preparation steps if they are missed.</span></span> <span data-ttu-id="b059f-178">Během migrace enterprise jsme zjistili vyzkoušet vysílání zajistit bezpečnost a neocenitelnou pomocí způsob, jak zajistit přípravu migrace.</span><span class="sxs-lookup"><span data-stu-id="b059f-178">During enterprise migration, we've found the dry run to be a safe and invaluable way to ensure migration readiness.</span></span>
  - <span data-ttu-id="b059f-179">Při přípravě běží ovládacího prvku se uzamkne roviny (Azure management operace) pro celý virtuální síť, tak na metadata virtuálního počítače můžete provedeny žádné změny během ověření a příprava nebo zrušit.</span><span class="sxs-lookup"><span data-stu-id="b059f-179">When prepare is running, the control plane (Azure management operations) will be locked for the whole virtual network, so no changes can be made to VM metadata during validate/prepare/abort.</span></span>  <span data-ttu-id="b059f-180">Jinak, ale všechny funkce aplikací (VP, virtuálních počítačů využití, atd.), zůstanou beze změn.</span><span class="sxs-lookup"><span data-stu-id="b059f-180">But otherwise any application function (RD, VM usage, etc.) will be unaffected.</span></span>  <span data-ttu-id="b059f-181">Uživatelé virtuální počítače nebude vědět, že vyzkoušet vysílání je spouštěna.</span><span class="sxs-lookup"><span data-stu-id="b059f-181">Users of the VMs will not know that the dry run is being executed.</span></span>

- <span data-ttu-id="b059f-182">**Express okruhy směrování a síť VPN**.</span><span class="sxs-lookup"><span data-stu-id="b059f-182">**Express Route Circuits and VPN**.</span></span> <span data-ttu-id="b059f-183">Aktuálně Express trasy brány s autorizace odkazy se nedají migrovat bez výpadků.</span><span class="sxs-lookup"><span data-stu-id="b059f-183">Currently Express Route Gateways with authorization links cannot be migrated without downtime.</span></span> <span data-ttu-id="b059f-184">Alternativní řešení, najdete v části [okruhy ExpressRoute migrovat a přidružené virtuální sítě z klasického modelu nasazení Resource Manager](../../expressroute/expressroute-migration-classic-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="b059f-184">For the workaround, see [Migrate ExpressRoute circuits and associated virtual networks from the classic to the Resource Manager deployment model](../../expressroute/expressroute-migration-classic-resource-manager.md).</span></span>

- <span data-ttu-id="b059f-185">**Rozšíření virtuálního počítače** -rozšíření virtuálního počítače jsou potenciálně jeden z největších roadblocks migrace spuštěné virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="b059f-185">**VM Extensions** - Virtual Machine extensions are potentially one of the biggest roadblocks to migrating running VMs.</span></span> <span data-ttu-id="b059f-186">Náprava rozšíření virtuálního počítače může trvat upwards of 1 – 2 dny, takže Plánujte odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="b059f-186">Remediation of VM Extensions could take upwards of 1-2 days, so plan accordingly.</span></span>  <span data-ttu-id="b059f-187">Funkční Azure agent je potřeba k hlášení zpět stav rozšíření virtuálního počítače spuštěných virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="b059f-187">A working Azure agent is needed to report back VM Extension status of running VMs.</span></span> <span data-ttu-id="b059f-188">Pokud stav, je vrácen chybný pro spuštění virtuálního počítače, to se zastaví migrace.</span><span class="sxs-lookup"><span data-stu-id="b059f-188">If the status comes back as bad for a running VM, this will halt migration.</span></span> <span data-ttu-id="b059f-189">Vlastní agent není nutné, aby pracovní povolte migraci, ale pokud rozšíření ve virtuálním počítači, pak oba pracovní agenta a odchozí připojení k Internetu (pomocí DNS) bude potřeba k migraci přejdete na následující.</span><span class="sxs-lookup"><span data-stu-id="b059f-189">The agent itself does not need to be in working order to enable migration, but if extensions exist on the VM, then both a working agent AND outbound internet connectivity (with DNS) will be needed for migration to move forward.</span></span>
  - <span data-ttu-id="b059f-190">Pokud během migrace, všechna rozšíření virtuálních počítačů s výjimkou BGInfo verze 1 se ztratí připojení k serveru DNS. \* nutné nejprve odebrat z každý virtuální počítač před Příprava migrace a následně znovu přidat zpět do virtuálního počítače po migraci správce prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="b059f-190">If connectivity to a DNS server is lost during migration, all VM Extensions except BGInfo version 1.\* need to first be removed from every VM before migration prepare, and subsequently re-added back to the VM after Azure Resource Manager migration.</span></span>  <span data-ttu-id="b059f-191">**Toto je pouze pro virtuální počítače, které jsou spuštěné.**</span><span class="sxs-lookup"><span data-stu-id="b059f-191">**This is only for VMs that are running.**</span></span>  <span data-ttu-id="b059f-192">Pokud virtuální počítače jsou zastaveny deallocated, rozšíření virtuálního počítače není třeba je odebrat.</span><span class="sxs-lookup"><span data-stu-id="b059f-192">If the VMs are stopped deallocated, VM Extensions do not need to be removed.</span></span>

  > [!NOTE]
  > <span data-ttu-id="b059f-193">Mnoho rozšíření, jako jsou Azure diagnostics a security center monitorování bude přeinstalovat sami po migraci, odebrání, takže se nejedná o problém.</span><span class="sxs-lookup"><span data-stu-id="b059f-193">Many extensions like Azure diagnostics and security center monitoring will reinstall themselves after migration, so removing them is not a problem.</span></span>

  - <span data-ttu-id="b059f-194">Kromě toho se ujistěte, skupiny zabezpečení sítě nejsou omezení odchozí přístup k Internetu.</span><span class="sxs-lookup"><span data-stu-id="b059f-194">In addition, make sure Network Security Groups are not restricting outbound internet access.</span></span> <span data-ttu-id="b059f-195">K tomu dochází s některé konfigurace skupin zabezpečení sítě.</span><span class="sxs-lookup"><span data-stu-id="b059f-195">This can happen with some Network Security Groups configurations.</span></span> <span data-ttu-id="b059f-196">Odchozí přístup k Internetu (a DNS) je potřeba pro rozšíření virtuálního počítače, který se má migrovat na Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b059f-196">Outbound internet access (and DNS) is needed for VM Extensions to be migrated to Azure Resource Manager.</span></span>
  - <span data-ttu-id="b059f-197">Dvě verze rozšíření BGInfo neexistuje a se nazývají verze 1 a 2.</span><span class="sxs-lookup"><span data-stu-id="b059f-197">Two versions of the BGInfo extension exist and are called versions 1 and 2.</span></span>  

      - <span data-ttu-id="b059f-198">Pokud virtuální počítač používá rozšíření BGInfo verze 1, můžete ponechat toto rozšíření, jako je.</span><span class="sxs-lookup"><span data-stu-id="b059f-198">If the VM is using the BGInfo version 1 extension, you can leave this extension as is.</span></span> <span data-ttu-id="b059f-199">Migrace API přeskočí toto rozšíření.</span><span class="sxs-lookup"><span data-stu-id="b059f-199">The migration API skips this extension.</span></span> <span data-ttu-id="b059f-200">Rozšíření BGInfo mohou být přidány po migraci.</span><span class="sxs-lookup"><span data-stu-id="b059f-200">The BGInfo extension can be added after migration.</span></span>
      - <span data-ttu-id="b059f-201">Pokud virtuální počítač používá rozšíření verze 2 na základě JSON BGInfo, virtuální počítač byl vytvořen pomocí portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="b059f-201">If the VM is using the JSON-based BGInfo version 2 extension, the VM was created using the Azure portal.</span></span> <span data-ttu-id="b059f-202">Migrace rozhraní API obsahuje toto rozšíření při migraci na Azure Resource Manager, agent funguje a má odchozí přístup k Internetu (a DNS).</span><span class="sxs-lookup"><span data-stu-id="b059f-202">The migration API includes this extension in the migration to Azure Resource Manager, provided the agent is working and has outbound internet access (and DNS).</span></span>

  - <span data-ttu-id="b059f-203">**Možnost nápravy 1**.</span><span class="sxs-lookup"><span data-stu-id="b059f-203">**Remediation Option 1**.</span></span> <span data-ttu-id="b059f-204">Pokud víte, že virtuální počítače nebudou mít odchozí přístupem k Internetu, funkční službu DNS a práci agenty Azure na virtuálních počítačích, pak odinstalovat všechny rozšíření virtuálního počítače jako součást migrace před Příprava, znovu nainstalujte rozšíření virtuálního počítače po dokončení migrace.</span><span class="sxs-lookup"><span data-stu-id="b059f-204">If you know your VMs will not have outbound internet access, a working DNS service, and working Azure agents on the VMs, then uninstall all VM extensions as part of the migration before Prepare, then reinstall the VM Extensions after migration.</span></span>
  - <span data-ttu-id="b059f-205">**Možnost nápravy 2**.</span><span class="sxs-lookup"><span data-stu-id="b059f-205">**Remediation Option 2**.</span></span> <span data-ttu-id="b059f-206">Pokud rozšíření virtuálního počítače z mezní příliš velký, Další možností je vypnutí nebo navrácení všechny virtuální počítače před migrací.</span><span class="sxs-lookup"><span data-stu-id="b059f-206">If VM extensions are too big of a hurdle, another option is to shutdown/deallocate all VMs before migration.</span></span> <span data-ttu-id="b059f-207">Migrace deallocated virtuálních počítačů a potom je znovu spustit na straně Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b059f-207">Migrate the deallocated VMs, then restart them on the Azure Resource Manager side.</span></span> <span data-ttu-id="b059f-208">Zde výhodou je, že bude migrovat rozšíření virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="b059f-208">The benefit here is that VM extensions will migrate.</span></span> <span data-ttu-id="b059f-209">Nevýhodou je, že budou ztraceny všechny veřejných virtuálních IP adres (to může být jiný starter), a samozřejmě se zastaví virtuální počítače způsobuje mnohem větší vliv na pracovní aplikace.</span><span class="sxs-lookup"><span data-stu-id="b059f-209">The downside is that all public facing Virtual IPs will be lost (this may be a non-starter), and obviously the VMs will shut down causing a much greater impact on working applications.</span></span>

    > [!NOTE]
    > <span data-ttu-id="b059f-210">Pokud zásady služby Azure Security Center je nakonfigurovaná pro virtuální počítače běžící migrovaného, zásady zabezpečení musí být zastaven před odebráním rozšíření, jinak zabezpečení rozšíření monitorování bude nutné přeinstalovat automaticky na virtuální počítač po odebrání.</span><span class="sxs-lookup"><span data-stu-id="b059f-210">If an Azure Security Center policy is configured against the running VMs being migrated, the security policy needs to be stopped before removing extensions, otherwise the security monitoring extension will be reinstalled automatically on the VM after removing it.</span></span>

- <span data-ttu-id="b059f-211">**Skupiny dostupnosti** – pro virtuální síť (vNet) migrovat na Azure Resource Manager, obsahují virtuální počítače musí být v jedné sadě dostupnosti nasazení Classic (tj. Cloudová služba) nebo virtuální počítače nesmí být v žádné sadě dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="b059f-211">**Availability Sets** - For a virtual network (vNet) to be migrated to Azure Resource Manager, the Classic deployment (i.e. cloud service) contained VMs must all be in one availability set, or the VMs must all not be in any availability set.</span></span> <span data-ttu-id="b059f-212">S více než jeden dostupnosti v rámci cloudové služby není kompatibilní s Azure Resource Manager a migrace se zastaví.</span><span class="sxs-lookup"><span data-stu-id="b059f-212">Having more than one availability set in the cloud service is not compatible with Azure Resource Manager and will halt migration.</span></span>  <span data-ttu-id="b059f-213">Kromě toho nemůže být některé virtuální počítače v nastavení dostupnosti a některé virtuální počítače není v nastavení dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="b059f-213">Additionally, there cannot be some VMs in an availability set, and some VMs not in an availability set.</span></span> <span data-ttu-id="b059f-214">Chcete-li tento problém vyřešili, musíte k nápravě nebo změnit pořadí cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="b059f-214">To resolve this, you will need to remediate or reshuffle your cloud service.</span></span>  <span data-ttu-id="b059f-215">Naplánujte podle toho, jak to může být časově náročná.</span><span class="sxs-lookup"><span data-stu-id="b059f-215">Plan accordingly as this might be time consuming.</span></span>

- <span data-ttu-id="b059f-216">**Nasazení Role web nebo Worker** -obsahující webové a pracovní role cloudové služby nelze provést migraci na Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b059f-216">**Web/Worker Role Deployments** -  Cloud Services containing web and worker roles cannot migrate to Azure Resource Manager.</span></span> <span data-ttu-id="b059f-217">Role web nebo worker musí být nejprve odebrány z virtuální sítě, aby bylo možné spustit migraci.</span><span class="sxs-lookup"><span data-stu-id="b059f-217">The web/worker roles must first be removed from the virtual network before migration can start.</span></span>  <span data-ttu-id="b059f-218">Typické řešením je právě instance role web nebo worker přesunout do samostatných klasické virtuální sítě, která souvisí s okruhem ExpressRoute, nebo k migraci kód na novější PaaS App Services (Toto pojednání je nad rámec tohoto dokumentu).</span><span class="sxs-lookup"><span data-stu-id="b059f-218">A typical solution is to just move web/worker role instances to a separate Classic virtual network that is also linked to an ExpressRoute circuit, or to migrate the code to newer PaaS App Services (this discussion is beyond the scope of this document).</span></span> <span data-ttu-id="b059f-219">V první znovu nasaďte případu, vytvořit novou virtuální síť v klasickém, přesunutí nebo opětovném nasazení role web nebo worker do této nové virtuální sítě a pak odstranit nasazení z virtuální sítě přesouvání.</span><span class="sxs-lookup"><span data-stu-id="b059f-219">In the former redeploy case, create a new Classic virtual network, move/redeploy the web/worker roles to that new virtual network, then delete the deployments from the virtual network being moved.</span></span> <span data-ttu-id="b059f-220">Bez nutnosti změn kódu.</span><span class="sxs-lookup"><span data-stu-id="b059f-220">No code changes required.</span></span> <span data-ttu-id="b059f-221">Nové [partnerský vztah virtuální sítě](../../virtual-network/virtual-network-peering-overview.md) funkce slouží k peer společně klasickou virtuální síť obsahuje role pro web nebo worker a jiných virtuálních sítí ve stejné oblasti Azure, jako je například virtuální sítě se migrovat (**po dokončení migrace virtuální sítě, jako peered virtuální sítě se nedají migrovat**), proto poskytuje stejné funkce s nedošlo ke ztrátě výkonu a žádné postihy latenci nebo šířky pásma.</span><span class="sxs-lookup"><span data-stu-id="b059f-221">The new [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md) capability can be used to peer together the classic virtual network containing the web/worker roles and other virtual networks in the same Azure region such as the virtual network being migrated (**after virtual network migration is completed as peered virtual networks cannot be migrated**), hence providing the same capabilities with no performance loss and no latency/bandwidth penalties.</span></span> <span data-ttu-id="b059f-222">Zadané přidání [partnerský vztah virtuální sítě](../../virtual-network/virtual-network-peering-overview.md), nasazení role web nebo worker lze nyní snadno zmírnit a nejsou blokovány migrace do Azure Resource Manageru.</span><span class="sxs-lookup"><span data-stu-id="b059f-222">Given the addition of [Virtual Network Peering](../../virtual-network/virtual-network-peering-overview.md), web/worker role deployments can now easily be mitigated and not block the migration to Azure Resource Manager.</span></span>

- <span data-ttu-id="b059f-223">**Azure kvóty správce prostředků** -oblastí Azure mají samostatné kvóty nebo limity pro Classic a Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="b059f-223">**Azure Resource Manager Quotas** - Azure regions have separate quotas/limits for both Classic and Azure Resource Manager.</span></span> <span data-ttu-id="b059f-224">I když ve scénáři migrace není spotřebovávanou nový hardware *(jsme se vzájemná záměna existujících virtuálních počítačů z klasického do Azure Resource Manageru)*, stále musí být v místě s dostatečnou kapacitu než kvóty správce prostředků Azure migrace můžete začít.</span><span class="sxs-lookup"><span data-stu-id="b059f-224">Even though in a migration scenario new hardware isn't being consumed *(we're swapping existing VMs from Classic to Azure Resource Manager)*, Azure Resource Manager quotas still need to be in place with enough capacity before migration can start.</span></span> <span data-ttu-id="b059f-225">V následujícím seznamu jsou, že hlavní omezení, které jsme viděli způsobit problémy.</span><span class="sxs-lookup"><span data-stu-id="b059f-225">Listed below are the major limits we've seen cause problems.</span></span>  <span data-ttu-id="b059f-226">Otevřete lístek podpory kvótu zvýšit limity.</span><span class="sxs-lookup"><span data-stu-id="b059f-226">Open a quota support ticket to raise the limits.</span></span>

    > [!NOTE]
    > <span data-ttu-id="b059f-227">Tyto limity potřebovat má být aktivována ve stejné oblasti jako vaše aktuální prostředí a migrovat.</span><span class="sxs-lookup"><span data-stu-id="b059f-227">These limits need to be raised in the same region as your current environment to be migrated.</span></span>
    >

    - <span data-ttu-id="b059f-228">Síťová rozhraní</span><span class="sxs-lookup"><span data-stu-id="b059f-228">Network Interfaces</span></span>
    - <span data-ttu-id="b059f-229">Nástroje pro vyrovnávání zatížení</span><span class="sxs-lookup"><span data-stu-id="b059f-229">Load Balancers</span></span>
    - <span data-ttu-id="b059f-230">Veřejné IP adresy</span><span class="sxs-lookup"><span data-stu-id="b059f-230">Public IPs</span></span>
    - <span data-ttu-id="b059f-231">Statické veřejné IP adresy</span><span class="sxs-lookup"><span data-stu-id="b059f-231">Static Public IPs</span></span>
    - <span data-ttu-id="b059f-232">Jádra</span><span class="sxs-lookup"><span data-stu-id="b059f-232">Cores</span></span>
    - <span data-ttu-id="b059f-233">Network Security Groups (Skupiny zabezpečení sítě)</span><span class="sxs-lookup"><span data-stu-id="b059f-233">Network Security Groups</span></span>
    - <span data-ttu-id="b059f-234">Směrovací tabulky</span><span class="sxs-lookup"><span data-stu-id="b059f-234">Route Tables</span></span>

    <span data-ttu-id="b059f-235">Můžete zkontrolovat vaše aktuální kvóty správce prostředků Azure pomocí následujících příkazů s nejnovější verzi prostředí Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b059f-235">You can check your current Azure Resource Manager quotas using the following commands with the latest version of Azure PowerShell.</span></span>

    <span data-ttu-id="b059f-236">**Výpočetní** *(jádra, skupiny dostupnosti)*</span><span class="sxs-lookup"><span data-stu-id="b059f-236">**Compute** *(Cores, Availability Sets)*</span></span>

    ```powershell
    Get-AzureRmVMUsage -Location <azure-region>
    ```

    <span data-ttu-id="b059f-237">**Síť** *(virtuální sítě, statické veřejné IP adresy, veřejné IP adresy, skupin zabezpečení sítě, síťové rozhraní, nástroje pro vyrovnávání zatížení, směrovací tabulky)*</span><span class="sxs-lookup"><span data-stu-id="b059f-237">**Network** *(Virtual Networks, Static Public IPs, Public IPs, Network Security Groups, Network Interfaces, Load Balancers, Route Tables)*</span></span>

    ```powershell
    Get-AzureRmUsage /subscriptions/<subscription-id>/providers/Microsoft.Network/locations/<azure-region> -ApiVersion 2016-03-30 | Format-Table
    ```

    <span data-ttu-id="b059f-238">**Úložiště** *(účet úložiště)*</span><span class="sxs-lookup"><span data-stu-id="b059f-238">**Storage** *(Storage Account)*</span></span>

    ```powershell
    Get-AzureRmStorageUsage
    ```

- <span data-ttu-id="b059f-239">**Azure Resource Manager API omezení** – Pokud máte prostředí dostatečně velký (např.</span><span class="sxs-lookup"><span data-stu-id="b059f-239">**Azure Resource Manager API throttling limits** - If you have a large enough environment (eg.</span></span> <span data-ttu-id="b059f-240">> 400 virtuální počítače ve virtuální síti), může dosáhl rozhraní API výchozí omezení pro zápis (aktuálně `1200 writes/hour`) ve službě Správce prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="b059f-240">> 400 VMs in a VNET), you might hit the default API throttling limits for writes (currently `1200 writes/hour`) in Azure Resource Manager.</span></span> <span data-ttu-id="b059f-241">Před zahájením migrace, by měla vyvolat lístek podpory zvýšit tento limit pro vaše předplatné.</span><span class="sxs-lookup"><span data-stu-id="b059f-241">Before starting migration, you should raise a support ticket to increase this limit for your subscription.</span></span>


- <span data-ttu-id="b059f-242">**Došlo k vypršení časového limitu virtuálních počítačů Stav zřizování** – v případě, že všechny virtuální počítač má stav `provisioning timed out`, to je potřeba vyřešit před migrací.</span><span class="sxs-lookup"><span data-stu-id="b059f-242">**Provisioning Timed Out VM Status** - If any VM has the status of `provisioning timed out`, this needs to be resolved pre-migration.</span></span> <span data-ttu-id="b059f-243">Jediným způsobem, jak to udělat, je s výpadky zrušení zřízení nebo reprovisioning virtuálního počítače (delete, zachovat disku a znovu vytvořte virtuální počítač).</span><span class="sxs-lookup"><span data-stu-id="b059f-243">The only way to do this is with downtime by deprovisioning/reprovisioning the VM (delete it, keep the disk, and recreate the VM).</span></span>

- <span data-ttu-id="b059f-244">**Stav virtuálního počítače RoleStateUnknown** – Pokud migrace zastaví z důvodu `role state unknown` chybová zpráva, zkontrolujte virtuálního počítače pomocí portálu a ujistěte se, jestli běží.</span><span class="sxs-lookup"><span data-stu-id="b059f-244">**RoleStateUnknown VM Status** - If migration halts due to a `role state unknown` error message, inspect the VM using the portal and ensure it is running.</span></span> <span data-ttu-id="b059f-245">Tato chyba obvykle zmizí jeho vlastní (žádná náprava vyžaduje) po několika minutách a je často typu přechodný často můžou vyskytnout během virtuálního počítače `start`, `stop`, `restart` operace.</span><span class="sxs-lookup"><span data-stu-id="b059f-245">This error will typically go away on its own (no remediation required) after a few minutes and is often a transient type often seen during a Virtual Machine `start`, `stop`, `restart` operations.</span></span> <span data-ttu-id="b059f-246">**Doporučená praxe:** znovu zkuste migrovat znovu za několik minut.</span><span class="sxs-lookup"><span data-stu-id="b059f-246">**Recommended practice:** re-try migration again after a few minutes.</span></span>

- <span data-ttu-id="b059f-247">**Fabric Cluster neexistuje** – v některých případech některé virtuální počítače nelze migrovat z různých důvodů liché.</span><span class="sxs-lookup"><span data-stu-id="b059f-247">**Fabric Cluster does not exist** -  In some cases, certain VMs cannot be migrated for various odd reasons.</span></span> <span data-ttu-id="b059f-248">Jednu z těchto známé případech je pokud virtuální počítač byl nedávno vytvořili (v rámci poslední týden nebo tak) a přispěly ke clusteru služby Azure, který ještě není vybaven pro úlohy Azure Resource Manager nebude zobrazovat.</span><span class="sxs-lookup"><span data-stu-id="b059f-248">One of these known cases is if the VM was recently created (within the last week or so) and happened to land an Azure cluster that is not yet equipped for Azure Resource Manager workloads.</span></span>  <span data-ttu-id="b059f-249">Obdržíte chybu, která uvádí, že `fabric cluster does not exist` a virtuální počítač nelze migrovat.</span><span class="sxs-lookup"><span data-stu-id="b059f-249">You will get an error that says `fabric cluster does not exist` and the VM cannot be migrated.</span></span> <span data-ttu-id="b059f-250">Čeká se na několik dní se obvykle konkrétní problém vyřešit jako cluster bude brzy získat Azure Resource Manager povolena.</span><span class="sxs-lookup"><span data-stu-id="b059f-250">Waiting a couple of days will usually resolve this particular problem as the cluster will soon get Azure Resource Manager enabled.</span></span> <span data-ttu-id="b059f-251">Ale jeden okamžitou řešením je `stop-deallocate` virtuální počítač, pak pokračovat dál migrace a spusťte virtuální počítač zálohování ve službě Správce prostředků Azure po migraci.</span><span class="sxs-lookup"><span data-stu-id="b059f-251">However, one immediate workaround is to `stop-deallocate` the VM, then continue forward with migration, and start the VM back up in Azure Resource Manager after migrating.</span></span>

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="b059f-252">Aby se zabránilo nástrahy</span><span class="sxs-lookup"><span data-stu-id="b059f-252">Pitfalls to avoid</span></span>

- <span data-ttu-id="b059f-253">Nezadávejte klávesové zkratky a migrace ověřením a příprava nebo zrušit vyzkoušet vysílání vynechejte.</span><span class="sxs-lookup"><span data-stu-id="b059f-253">Do not take shortcuts and omit the validate/prepare/abort dry run migrations.</span></span>
- <span data-ttu-id="b059f-254">Většina, pokud nejsou všechny surface bude vaše potenciální problémy během ověření a příprava nebo zrušit.</span><span class="sxs-lookup"><span data-stu-id="b059f-254">Most, if not all, of your potential issues will surface during the validate/prepare/abort steps.</span></span>

## <a name="migration"></a><span data-ttu-id="b059f-255">Migrace</span><span class="sxs-lookup"><span data-stu-id="b059f-255">Migration</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="b059f-256">Technické aspekty a kompromisy</span><span class="sxs-lookup"><span data-stu-id="b059f-256">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="b059f-257">Nyní jste připraveni vzhledem k tomu, že jste již dříve pracovali prostřednictvím známé problémy s vaším prostředím.</span><span class="sxs-lookup"><span data-stu-id="b059f-257">Now you are ready because you have worked through the known issues with your environment.</span></span>

<span data-ttu-id="b059f-258">Pro skutečné migrace můžete chtít zvážit:</span><span class="sxs-lookup"><span data-stu-id="b059f-258">For the real migrations, you might want to consider:</span></span>

1. <span data-ttu-id="b059f-259">Plánování a plánování virtuální sítě (nejmenší unit migrace) s zvýšení priority.</span><span class="sxs-lookup"><span data-stu-id="b059f-259">Plan and schedule the virtual network (smallest unit of migration) with increasing priority.</span></span>  <span data-ttu-id="b059f-260">Nejprve proveďte jednoduchý virtuální sítě a průběhu s složitější virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="b059f-260">Do the simple virtual networks first, and progress with the more complicated virtual networks.</span></span>
2. <span data-ttu-id="b059f-261">Většina zákazníků bude mít mimo produkční a provozní prostředí.</span><span class="sxs-lookup"><span data-stu-id="b059f-261">Most customers will have non-production and production environments.</span></span>  <span data-ttu-id="b059f-262">Poslední naplánujte produkční.</span><span class="sxs-lookup"><span data-stu-id="b059f-262">Schedule production last.</span></span>
3. <span data-ttu-id="b059f-263">**(VOLITELNÉ)**  Plánu údržby výpadek s dostatkem vyrovnávací paměti v případě, že se vyskytnout potíže se neočekávané.</span><span class="sxs-lookup"><span data-stu-id="b059f-263">**(OPTIONAL)** Schedule a maintenance downtime with plenty of buffer in case unexpected issues arise.</span></span>
4. <span data-ttu-id="b059f-264">Komunikovat s a zarovnané s vaší týmy podpory v případě, že se vyskytnout potíže.</span><span class="sxs-lookup"><span data-stu-id="b059f-264">Communicate with and align with your support teams in case issues arise.</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="b059f-265">Vzory úspěch</span><span class="sxs-lookup"><span data-stu-id="b059f-265">Patterns of success</span></span>

<span data-ttu-id="b059f-266">Technické pokyny z _testovací laboratoře_ část by měla být považovány za a omezeny před skutečné migrace.</span><span class="sxs-lookup"><span data-stu-id="b059f-266">The technical guidance from the _Lab Test_ section should be considered and mitigated prior to a real migration.</span></span>  <span data-ttu-id="b059f-267">S odpovídající testování, je migrace ve skutečnosti událostmi.</span><span class="sxs-lookup"><span data-stu-id="b059f-267">With adequate testing, the migration is actually a non-event.</span></span>  <span data-ttu-id="b059f-268">Pro produkční prostředí může být užitečné získat další podporu, jako je například důvěryhodné partnera společnosti Microsoft nebo služby Microsoft Premier.</span><span class="sxs-lookup"><span data-stu-id="b059f-268">For production environments, it might be helpful to have additional support, such as a trusted Microsoft partner or Microsoft Premier services.</span></span>

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="b059f-269">Aby se zabránilo nástrahy</span><span class="sxs-lookup"><span data-stu-id="b059f-269">Pitfalls to avoid</span></span>

<span data-ttu-id="b059f-270">Testování není plně může způsobit problémy a zpoždění při migraci.</span><span class="sxs-lookup"><span data-stu-id="b059f-270">Not fully testing may cause issues and delay in the migration.</span></span>  

## <a name="beyond-migration"></a><span data-ttu-id="b059f-271">Nad rámec migrace</span><span class="sxs-lookup"><span data-stu-id="b059f-271">Beyond Migration</span></span>

### <a name="technical-considerations-and-tradeoffs"></a><span data-ttu-id="b059f-272">Technické aspekty a kompromisy</span><span class="sxs-lookup"><span data-stu-id="b059f-272">Technical considerations and tradeoffs</span></span>

<span data-ttu-id="b059f-273">Teď, když jste ve službě Správce prostředků Azure, maximalizujte platformu.</span><span class="sxs-lookup"><span data-stu-id="b059f-273">Now that you are in Azure Resource Manager, maximize the platform.</span></span>  <span data-ttu-id="b059f-274">Pro čtení [přehled nástroje Azure Resource Manager](../../azure-resource-manager/resource-group-overview.md) informace o další výhody.</span><span class="sxs-lookup"><span data-stu-id="b059f-274">Read the [overview of Azure Resource Manager](../../azure-resource-manager/resource-group-overview.md) to find out about additional benefits.</span></span>

<span data-ttu-id="b059f-275">Co je třeba zvážit:</span><span class="sxs-lookup"><span data-stu-id="b059f-275">Things to consider:</span></span>

- <span data-ttu-id="b059f-276">Sdružování migrace s ostatními aktivitami.</span><span class="sxs-lookup"><span data-stu-id="b059f-276">Bundling the migration with other activities.</span></span>  <span data-ttu-id="b059f-277">Většina zákazníků zvolit okna údržby aplikace.</span><span class="sxs-lookup"><span data-stu-id="b059f-277">Most customers opt for an application maintenance window.</span></span>  <span data-ttu-id="b059f-278">Pokud ano, můžete chtít povolit další možnosti Azure Resource Manager například šifrování a migrace na discích spravovaných pomocí tento výpadek.</span><span class="sxs-lookup"><span data-stu-id="b059f-278">If so, you might want to use this downtime to enable other Azure Resource Manager capabilities like encryption and migration to Managed Disks.</span></span>
- <span data-ttu-id="b059f-279">Pokroku technické a podnikové důvody pro Azure Resource Manager; Povolte další k dispozici pouze na Azure Resource Manager služby, které se vztahují k vašemu prostředí.</span><span class="sxs-lookup"><span data-stu-id="b059f-279">Revisit the technical and business reasons for Azure Resource Manager; enable the additional services available only on Azure Resource Manager that apply to your environment.</span></span>
- <span data-ttu-id="b059f-280">Modernizovat prostředí s PaaS služby.</span><span class="sxs-lookup"><span data-stu-id="b059f-280">Modernize your environment with PaaS services.</span></span>

### <a name="patterns-of-success"></a><span data-ttu-id="b059f-281">Vzory úspěch</span><span class="sxs-lookup"><span data-stu-id="b059f-281">Patterns of success</span></span>

<span data-ttu-id="b059f-282">Být záměrné na jaké služby, které teď chcete povolit ve službě Správce prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="b059f-282">Be purposeful on what services you now want to enable in Azure Resource Manager.</span></span>  <span data-ttu-id="b059f-283">Mnoho zákazníků najít níže atraktivní, kterou pro jejich prostředí Azure:</span><span class="sxs-lookup"><span data-stu-id="b059f-283">Many customers find the below compelling for their Azure environments:</span></span>

- <span data-ttu-id="b059f-284">[Řízení přístupu podle rolí](../../azure-resource-manager/resource-group-overview.md#access-control).</span><span class="sxs-lookup"><span data-stu-id="b059f-284">[Role Based Access Control](../../azure-resource-manager/resource-group-overview.md#access-control).</span></span>
- <span data-ttu-id="b059f-285">[Šablony Azure Resource Manageru pro snazší a víc řízené nasazení](../../azure-resource-manager/resource-group-overview.md#template-deployment).</span><span class="sxs-lookup"><span data-stu-id="b059f-285">[Azure Resource Manager templates for easier and more controlled deployment](../../azure-resource-manager/resource-group-overview.md#template-deployment).</span></span>
- <span data-ttu-id="b059f-286">[Značky](../../azure-resource-manager/resource-group-using-tags.md).</span><span class="sxs-lookup"><span data-stu-id="b059f-286">[Tags](../../azure-resource-manager/resource-group-using-tags.md).</span></span>
- [<span data-ttu-id="b059f-287">Ovládací prvek aktivity</span><span class="sxs-lookup"><span data-stu-id="b059f-287">Activity Control</span></span>](../../azure-resource-manager/resource-group-audit.md)
- [<span data-ttu-id="b059f-288">Zásady prostředků</span><span class="sxs-lookup"><span data-stu-id="b059f-288">Resource Policies</span></span>](../../azure-resource-manager/resource-manager-policy.md)

### <a name="pitfalls-to-avoid"></a><span data-ttu-id="b059f-289">Aby se zabránilo nástrahy</span><span class="sxs-lookup"><span data-stu-id="b059f-289">Pitfalls to avoid</span></span>

<span data-ttu-id="b059f-290">Mějte na paměti, proč jste spustili tento Classic do cesty migrace správce prostředků Azure.</span><span class="sxs-lookup"><span data-stu-id="b059f-290">Remember why you started this Classic to Azure Resource Manager migration journey.</span></span>  <span data-ttu-id="b059f-291">Jaké byly obchodních důvodů, proč původní?</span><span class="sxs-lookup"><span data-stu-id="b059f-291">What were the original business reasons?</span></span> <span data-ttu-id="b059f-292">Dosáhnout obchodního důvodu?</span><span class="sxs-lookup"><span data-stu-id="b059f-292">Did you achieve the business reason?</span></span>


## <a name="next-steps"></a><span data-ttu-id="b059f-293">Další kroky</span><span class="sxs-lookup"><span data-stu-id="b059f-293">Next steps</span></span>

* [<span data-ttu-id="b059f-294">Přehled platformy podporované migrace z klasického do Azure Resource Manageru prostředků IaaS</span><span class="sxs-lookup"><span data-stu-id="b059f-294">Overview of platform-supported migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-295">Technické podrobné informace o platformy podporované migrace z klasického do Azure Resource Manageru</span><span class="sxs-lookup"><span data-stu-id="b059f-295">Technical deep dive on platform-supported migration from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-deep-dive.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-296">Migrace prostředků IaaS z klasického do Azure Resource Manageru pomocí prostředí PowerShell</span><span class="sxs-lookup"><span data-stu-id="b059f-296">Use PowerShell to migrate IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-ps.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-297">Pomocí rozhraní příkazového řádku můžete migrovat prostředky infrastruktury z classic do Azure Resource Manageru</span><span class="sxs-lookup"><span data-stu-id="b059f-297">Use CLI to migrate IaaS resources from classic to Azure Resource Manager</span></span>](../linux/migration-classic-resource-manager-cli.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-298">Komunita nástroje asistence s migrace z klasického do Azure Resource Manageru prostředků IaaS</span><span class="sxs-lookup"><span data-stu-id="b059f-298">Community tools for assisting with migration of IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-community-tools.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-299">Běžné chyby při migraci</span><span class="sxs-lookup"><span data-stu-id="b059f-299">Review most common migration errors</span></span>](migration-classic-resource-manager-errors.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
* [<span data-ttu-id="b059f-300">Přečtěte si nejčastější dotazy o migraci prostředky infrastruktury jako služby z klasického do Azure Resource Manageru</span><span class="sxs-lookup"><span data-stu-id="b059f-300">Review the most frequently asked questions about migrating IaaS resources from classic to Azure Resource Manager</span></span>](migration-classic-resource-manager-faq.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json)
