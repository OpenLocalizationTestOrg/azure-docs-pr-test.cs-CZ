---
title: "aaaMigrate tooSQL databáze serveru SQL Server na virtuálním počítači | Microsoft Docs"
description: "Informace o tom, jak toomigrate místního uživatele databáze tooSQL Server ve virtuálním počítači Azure."
services: virtual-machines-windows
documentationcenter: 
author: sabotta
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: 00fd08c6-98fa-4d62-a3b8-ca20aa5246b1
ms.service: virtual-machines-sql
ms.workload: iaas-sql-server
ms.tgt_pltfrm: vm-windows-sql-server
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: carlasab
ms.openlocfilehash: 9c7aba30304ea40796412d2ddc885f6d4a58be2a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="migrate-a-sql-server-database-toosql-server-in-an-azure-vm"></a><span data-ttu-id="683b2-103">Migrace tooSQL databáze serveru SQL Server ve virtuálním počítači Azure</span><span class="sxs-lookup"><span data-stu-id="683b2-103">Migrate a SQL Server database tooSQL Server in an Azure VM</span></span>

<span data-ttu-id="683b2-104">Existuje několik metod toomigrate tooSQL uživatele databáze systému SQL Server na místní Server ve virtuálním počítači Azure.</span><span class="sxs-lookup"><span data-stu-id="683b2-104">There are a number of methods toomigrate an on-premises SQL Server user database tooSQL Server in an Azure VM.</span></span> <span data-ttu-id="683b2-105">Tento článek se stručně popisují různé metody a doporučujeme hello nejlepší metody pro různé scénáře.</span><span class="sxs-lookup"><span data-stu-id="683b2-105">This article will briefly discuss various methods and recommend hello best method for various scenarios.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="what-are-hello-primary-migration-methods"></a><span data-ttu-id="683b2-106">Jaké jsou metody primární migrace hello?</span><span class="sxs-lookup"><span data-stu-id="683b2-106">What are hello primary migration methods?</span></span>
<span data-ttu-id="683b2-107">Hello primární migrace metody jsou následující:</span><span class="sxs-lookup"><span data-stu-id="683b2-107">hello primary migration methods are:</span></span>

* <span data-ttu-id="683b2-108">Místní zálohování pomocí komprese a ručně kopírovat hello záložní soubor do hello virtuální počítač Azure</span><span class="sxs-lookup"><span data-stu-id="683b2-108">Perform on-premises backup using compression and manually copy hello backup file into hello Azure virtual machine</span></span>
* <span data-ttu-id="683b2-109">Proveďte zálohování tooURL a obnovení do hello virtuální počítač Azure z adresy URL hello</span><span class="sxs-lookup"><span data-stu-id="683b2-109">Perform a backup tooURL and restore into hello Azure virtual machine from hello URL</span></span>
* <span data-ttu-id="683b2-110">Odpojte a pak zkopírujte hello protokolu a data souborů tooAzure úložiště objektů blob a pak připojte tooSQL Server ve virtuálním počítači Azure z adresy URL</span><span class="sxs-lookup"><span data-stu-id="683b2-110">Detach and then copy hello data and log files tooAzure blob storage and then attach tooSQL Server in Azure VM from URL</span></span>
* <span data-ttu-id="683b2-111">Převést fyzický místní počítač tooHyper-V virtuální pevný disk, nahrajte tooAzure úložiště objektů Blob a pak nasadit jako nový virtuální počítač pomocí nahrát virtuální pevný disk</span><span class="sxs-lookup"><span data-stu-id="683b2-111">Convert on-premises physical machine tooHyper-V VHD, upload tooAzure Blob storage, and then deploy as new VM using uploaded VHD</span></span>
* <span data-ttu-id="683b2-112">Dodávat pevný disk pomocí služby Windows importu a exportu</span><span class="sxs-lookup"><span data-stu-id="683b2-112">Ship hard drive using Windows Import/Export Service</span></span>
* <span data-ttu-id="683b2-113">Pokud máte nasazení AlwaysOn místně, použijte hello [Průvodce přidáním Azure repliky](../classic/sql-onprem-availability.md) toocreate repliky ve službě Azure a pak převzetí služeb při selhání, odkazující instance databáze Azure toohello uživatelů</span><span class="sxs-lookup"><span data-stu-id="683b2-113">If you have an AlwaysOn deployment on-premises, use hello [Add Azure Replica Wizard](../classic/sql-onprem-availability.md) toocreate a replica in Azure and then failover, pointing users toohello Azure database instance</span></span>
* <span data-ttu-id="683b2-114">Pomocí systému SQL Server [transakční replikace](https://msdn.microsoft.com/library/ms151176.aspx) tooconfigure hello Azure SQL Server instance jako odběratel a potom zakažte replikaci, odkazující instance databáze Azure toohello uživatelů</span><span class="sxs-lookup"><span data-stu-id="683b2-114">Use SQL Server [transactional replication](https://msdn.microsoft.com/library/ms151176.aspx) tooconfigure hello Azure SQL Server instance as a subscriber and then disable replication, pointing users toohello Azure database instance</span></span>

> [!TIP]
> <span data-ttu-id="683b2-115">Můžete také použít tyto stejné databáze toomove techniky mezi virtuálním počítačům systému SQL Server v Azure.</span><span class="sxs-lookup"><span data-stu-id="683b2-115">You can also use these same techniques toomove databases between SQL Server VMs in Azure.</span></span> <span data-ttu-id="683b2-116">Není třeba žádné podporované způsob tooupgrade Galerie image virtuálního počítače systému SQL Server z jednoho tooanother verzi nebo edici.</span><span class="sxs-lookup"><span data-stu-id="683b2-116">For example, there is no supported way tooupgrade a SQL Server gallery-image VM from one version/edition tooanother.</span></span> <span data-ttu-id="683b2-117">V takovém případě by měl vytvořit nový virtuální počítač SQL Server s novou verzi nebo edici hello a pak použijte jednu z techniky hello migrace v této toomove článku vaší databáze.</span><span class="sxs-lookup"><span data-stu-id="683b2-117">In this case, you should create a new SQL Server VM with hello new version/edition, and then use one of hello migration techniques in this article toomove your databases.</span></span> 

## <a name="choosing-your-migration-method"></a><span data-ttu-id="683b2-118">Volba způsob migrace</span><span class="sxs-lookup"><span data-stu-id="683b2-118">Choosing your migration method</span></span>
<span data-ttu-id="683b2-119">Pro optimální data výkonu přenosu migrace hello soubory databáze do hello virtuálního počítače Azure pomocí komprimovaný soubor zálohy.</span><span class="sxs-lookup"><span data-stu-id="683b2-119">For optimum data transfer performance, migrate hello database files into hello Azure VM using a compressed backup file.</span></span>

<span data-ttu-id="683b2-120">výpadek toominimize během procesu migrace databáze hello, použijte buď hello AlwaysOn možnost nebo hello transakční replikace.</span><span class="sxs-lookup"><span data-stu-id="683b2-120">toominimize downtime during hello database migration process, use either hello AlwaysOn option or hello transactional replication option.</span></span>

<span data-ttu-id="683b2-121">Pokud není možné toouse hello výše metody, ruční migraci databáze.</span><span class="sxs-lookup"><span data-stu-id="683b2-121">If it is not possible toouse hello above methods, manually migrate your database.</span></span> <span data-ttu-id="683b2-122">Tuto metodu použijete, se obecně začínat zálohu databáze, za nímž následuje kopii zálohy databáze hello do Azure a poté proveďte obnovení databáze.</span><span class="sxs-lookup"><span data-stu-id="683b2-122">Using this method, you will generally start with a database backup followed by a copy of hello database backup into Azure and then perform a database restore.</span></span> <span data-ttu-id="683b2-123">Můžete také zkopírovat soubory databáze hello, sami do Azure a připojte je.</span><span class="sxs-lookup"><span data-stu-id="683b2-123">You can also copy hello database files themselves into Azure and then attach them.</span></span> <span data-ttu-id="683b2-124">Existuje několik metod, které můžete provést tento ruční proces migrace databáze do virtuálního počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="683b2-124">There are several methods by which you can accomplish this manual process of migrating a database into an Azure VM.</span></span>

> [!NOTE]
> <span data-ttu-id="683b2-125">Když upgradujete tooSQL Server 2014 nebo SQL Server 2016 ze starších verzí systému SQL Server, měli byste zvážit, zda je nutné provést změny.</span><span class="sxs-lookup"><span data-stu-id="683b2-125">When you upgrade tooSQL Server 2014 or SQL Server 2016 from older versions of SQL Server, you should consider whether changes are needed.</span></span> <span data-ttu-id="683b2-126">Doporučujeme, abyste předem vyřešili všechny závislosti na funkcích nepodporuje hello novou verzi systému SQL Server jako součást migrace projektu.</span><span class="sxs-lookup"><span data-stu-id="683b2-126">We recommend that you address all dependencies on features not supported by hello new version of SQL Server as part of your migration project.</span></span> <span data-ttu-id="683b2-127">Další informace o hello podporována edice a scénáře, najdete v části [Upgrade tooSQL Server](https://msdn.microsoft.com/library/bb677622.aspx).</span><span class="sxs-lookup"><span data-stu-id="683b2-127">For more information on hello supported editions and scenarios, see [Upgrade tooSQL Server](https://msdn.microsoft.com/library/bb677622.aspx).</span></span>

<span data-ttu-id="683b2-128">Hello následující tabulka obsahuje seznam všech metod hello primární migrace a popisuje, když je nejvhodnější hello použití každé metody.</span><span class="sxs-lookup"><span data-stu-id="683b2-128">hello following table lists each of hello primary migration methods and discusses when hello use of each method is most appropriate.</span></span>

| <span data-ttu-id="683b2-129">Metoda</span><span class="sxs-lookup"><span data-stu-id="683b2-129">Method</span></span> | <span data-ttu-id="683b2-130">Verze databáze zdroje</span><span class="sxs-lookup"><span data-stu-id="683b2-130">Source database version</span></span> | <span data-ttu-id="683b2-131">Verze cíle pro databáze</span><span class="sxs-lookup"><span data-stu-id="683b2-131">Destination database version</span></span> | <span data-ttu-id="683b2-132">Omezení velikosti zálohy zdrojové databáze</span><span class="sxs-lookup"><span data-stu-id="683b2-132">Source database backup size constraint</span></span> | <span data-ttu-id="683b2-133">Poznámky</span><span class="sxs-lookup"><span data-stu-id="683b2-133">Notes</span></span> |
| --- | --- | --- | --- | --- |
| [<span data-ttu-id="683b2-134">Místní zálohování pomocí komprese a ručně kopírovat hello záložní soubor do hello virtuální počítač Azure</span><span class="sxs-lookup"><span data-stu-id="683b2-134">Perform on-premises backup using compression and manually copy hello backup file into hello Azure virtual machine</span></span>](#backup-and-restore) |<span data-ttu-id="683b2-135">SQL Server 2005 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-135">SQL Server 2005 or greater</span></span> |<span data-ttu-id="683b2-136">SQL Server 2005 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-136">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="683b2-137">Azure limitu úložiště virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="683b2-137">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) | <span data-ttu-id="683b2-138">To je velmi jednoduché a dobře otestované technika pro přesunutí databází mezi počítače.</span><span class="sxs-lookup"><span data-stu-id="683b2-138">This is a very simple and well-tested technique for moving databases across machines.</span></span> |
| [<span data-ttu-id="683b2-139">Proveďte zálohování tooURL a obnovení do hello virtuální počítač Azure z adresy URL hello</span><span class="sxs-lookup"><span data-stu-id="683b2-139">Perform a backup tooURL and restore into hello Azure virtual machine from hello URL</span></span>](#backup-to-url-and-restore) |<span data-ttu-id="683b2-140">SQL Server 2012 SP1 CU2 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-140">SQL Server 2012 SP1 CU2 or greater</span></span> |<span data-ttu-id="683b2-141">SQL Server 2012 SP1 CU2 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-141">SQL Server 2012 SP1 CU2 or greater</span></span> |<span data-ttu-id="683b2-142">< 12,8 TB pro SQL Server 2016, jinak < 1 TB</span><span class="sxs-lookup"><span data-stu-id="683b2-142">< 12.8 TB for SQL Server 2016, otherwise < 1 TB</span></span> | <span data-ttu-id="683b2-143">Tato metoda je jenom další způsob toomove hello záložní soubor toohello virtuálních počítačů pomocí úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="683b2-143">This method is just another way toomove hello backup file toohello VM using Azure storage.</span></span> |
| [<span data-ttu-id="683b2-144">Odpojte a pak zkopírujte hello protokolu a data souborů tooAzure úložiště objektů blob a pak připojte tooSQL Server ve virtuálním počítači Azure z adresy URL</span><span class="sxs-lookup"><span data-stu-id="683b2-144">Detach and then copy hello data and log files tooAzure blob storage and then attach tooSQL Server in Azure virtual machine from URL</span></span>](#detach-and-attach-from-url) |<span data-ttu-id="683b2-145">SQL Server 2005 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-145">SQL Server 2005 or greater</span></span> |<span data-ttu-id="683b2-146">SQL Server 2014 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-146">SQL Server 2014 or greater</span></span> |[<span data-ttu-id="683b2-147">Azure limitu úložiště virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="683b2-147">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="683b2-148">Tuto metodu použijte, když plánujete příliš[ukládání těchto souborů pomocí služby Azure Blob storage hello](https://msdn.microsoft.com/library/dn385720.aspx) a připojte je tooSQL serveru spuštěna ve virtuálním počítači Azure, zejména s velmi velké databáze</span><span class="sxs-lookup"><span data-stu-id="683b2-148">Use this method when you plan too[store these files using hello Azure Blob storage service](https://msdn.microsoft.com/library/dn385720.aspx) and attach them tooSQL Server running in an Azure VM, particularly with very large databases</span></span> |
| [<span data-ttu-id="683b2-149">Převést na místní počítač tooHyper-V virtuální pevné disky, nahrání tooAzure úložiště objektů Blob a potom nasazení nového virtuálního počítače pomocí nahraný virtuální pevný disk</span><span class="sxs-lookup"><span data-stu-id="683b2-149">Convert on-premises machine tooHyper-V VHDs, upload tooAzure Blob storage, and then deploy a new virtual machine using uploaded VHD</span></span>](#convert-to-vm-and-upload-to-url-and-deploy-as-new-vm) |<span data-ttu-id="683b2-150">SQL Server 2005 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-150">SQL Server 2005 or greater</span></span> |<span data-ttu-id="683b2-151">SQL Server 2005 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-151">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="683b2-152">Azure limitu úložiště virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="683b2-152">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="683b2-153">Použijte, když [přinesou vlastní licenci na SQL Server](../../../sql-database/sql-database-paas-vs-sql-server-iaas.md), když migrace databáze, který se spustí ve starší verzi systému SQL Server, nebo když migrace systému a uživatelských databází společně jako součást migrace databáze závislý na dalších hello uživatel databáze nebo systémové databáze.</span><span class="sxs-lookup"><span data-stu-id="683b2-153">Use when [bringing your own SQL Server license](../../../sql-database/sql-database-paas-vs-sql-server-iaas.md), when migrating a database that you will run on an older version of SQL Server, or when migrating system and user databases together as part of hello migration of database dependent on other user databases and/or system databases.</span></span> |
| [<span data-ttu-id="683b2-154">Dodávat pevný disk pomocí služby Windows importu a exportu</span><span class="sxs-lookup"><span data-stu-id="683b2-154">Ship hard drive using Windows Import/Export Service</span></span>](#ship-hard-drive) |<span data-ttu-id="683b2-155">SQL Server 2005 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-155">SQL Server 2005 or greater</span></span> |<span data-ttu-id="683b2-156">SQL Server 2005 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-156">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="683b2-157">Azure limitu úložiště virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="683b2-157">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="683b2-158">Použití hello [importu/exportu služby systému Windows](../../../storage/common/storage-import-export-service.md) po příliš pomalé, například s velmi velké databáze ruční copy – metoda</span><span class="sxs-lookup"><span data-stu-id="683b2-158">Use hello [Windows Import/Export Service](../../../storage/common/storage-import-export-service.md) when manual copy method is too slow, such as with very large databases</span></span> |
| [<span data-ttu-id="683b2-159">Použití hello Průvodce přidáním Azure repliky</span><span class="sxs-lookup"><span data-stu-id="683b2-159">Use hello Add Azure Replica Wizard</span></span>](../classic/sql-onprem-availability.md) |<span data-ttu-id="683b2-160">SQL Server 2012 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-160">SQL Server 2012 or greater</span></span> |<span data-ttu-id="683b2-161">SQL Server 2012 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-161">SQL Server 2012 or greater</span></span> |[<span data-ttu-id="683b2-162">Azure limitu úložiště virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="683b2-162">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="683b2-163">Minimalizuje prostoje, použijte v případě nasazení místní AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="683b2-163">Minimizes downtime, use when you have an AlwaysOn on-premises deployment</span></span> |
| [<span data-ttu-id="683b2-164">Pomocí transakční replikace systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="683b2-164">Use SQL Server transactional replication</span></span>](https://msdn.microsoft.com/library/ms151176.aspx) |<span data-ttu-id="683b2-165">SQL Server 2005 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-165">SQL Server 2005 or greater</span></span> |<span data-ttu-id="683b2-166">SQL Server 2005 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="683b2-166">SQL Server 2005 or greater</span></span> |[<span data-ttu-id="683b2-167">Azure limitu úložiště virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="683b2-167">Azure VM storage limit</span></span>](https://azure.microsoft.com/documentation/articles/azure-subscription-service-limits/) |<span data-ttu-id="683b2-168">Použijte v případě, že potřebujete toominimize výpadky a nemají místní nasazení AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="683b2-168">Use when you need toominimize downtime and do not have an AlwaysOn on-premises deployment</span></span> |

## <a name="backup-and-restore"></a><span data-ttu-id="683b2-169">Zálohování a obnovení</span><span class="sxs-lookup"><span data-stu-id="683b2-169">Backup and restore</span></span>
<span data-ttu-id="683b2-170">Zálohovat databázi s kompresí zkopírujte hello zálohování toohello virtuálních počítačů a potom obnovte databáze hello.</span><span class="sxs-lookup"><span data-stu-id="683b2-170">Back up your database with compression, copy hello backup toohello VM, and then restore hello database.</span></span> <span data-ttu-id="683b2-171">Pokud záložní soubor je větší než 1 TB, musí rozkládají protože hello maximální velikost disku virtuálního počítače je 1 TB.</span><span class="sxs-lookup"><span data-stu-id="683b2-171">If your backup file is larger than 1 TB, you must stripe it because hello maximum size of a VM disk is 1 TB.</span></span> <span data-ttu-id="683b2-172">Použijte následující obecné kroky toomigrate uživatele databáze pomocí této metody Ruční hello:</span><span class="sxs-lookup"><span data-stu-id="683b2-172">Use hello following general steps toomigrate a user database using this manual method:</span></span>

1. <span data-ttu-id="683b2-173">Proveďte úplnou databázi zálohování tooan místní umístění.</span><span class="sxs-lookup"><span data-stu-id="683b2-173">Perform a full database backup tooan on-premises location.</span></span>
2. <span data-ttu-id="683b2-174">Vytvořit nebo nahrát virtuální počítač s hello verzi systému SQL Server potřeby.</span><span class="sxs-lookup"><span data-stu-id="683b2-174">Create or upload a virtual machine with hello version of SQL Server desired.</span></span>
3. <span data-ttu-id="683b2-175">Nastavte připojení podle svých požadavků.</span><span class="sxs-lookup"><span data-stu-id="683b2-175">Setup connectivity based on your requirements.</span></span> <span data-ttu-id="683b2-176">V tématu [připojit tooa virtuálního počítače systému SQL Server na platformě Azure (Resource Manager)](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="683b2-176">See [Connect tooa SQL Server Virtual Machine on Azure (Resource Manager)](virtual-machines-windows-sql-connect.md).</span></span>
4. <span data-ttu-id="683b2-177">Zkopírujte vaší tooyour záložní soubory virtuálního počítače pomocí vzdálené plochy, Průzkumníka Windows nebo hello kopie příkazu z příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="683b2-177">Copy your backup file(s) tooyour VM using remote desktop, Windows Explorer or hello copy command from a command prompt.</span></span>

## <a name="backup-toourl-and-restore"></a><span data-ttu-id="683b2-178">TooURL zálohování a obnovení</span><span class="sxs-lookup"><span data-stu-id="683b2-178">Backup tooURL and restore</span></span>
<span data-ttu-id="683b2-179">Namísto místního souboru tooa zálohování, můžete použít hello [zálohování tooURL](https://msdn.microsoft.com/library/dn435916.aspx) a potom obnovte z adresy URL toohello virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="683b2-179">Instead of backing up tooa local file, you can use hello [backup tooURL](https://msdn.microsoft.com/library/dn435916.aspx) and then restore from URL toohello VM.</span></span> <span data-ttu-id="683b2-180">Prokládané zálohovací sklady s SQL Server 2016, jsou podporovány, – se doporučují pro výkon a vyžaduje omezení velikosti hello tooexceed na objekt blob.</span><span class="sxs-lookup"><span data-stu-id="683b2-180">With SQL Server 2016, striped backup sets are supported, are recommended for performance, and required tooexceed hello size limits per blob.</span></span> <span data-ttu-id="683b2-181">Pro velké databáze hello použití hello [importu/exportu služby systému Windows](../../../storage/common/storage-import-export-service.md) se doporučuje.</span><span class="sxs-lookup"><span data-stu-id="683b2-181">For very large databases, hello use of hello [Windows Import/Export Service](../../../storage/common/storage-import-export-service.md) is recommended.</span></span>

## <a name="detach-and-attach-from-url"></a><span data-ttu-id="683b2-182">Odpojit a připojit z adresy URL</span><span class="sxs-lookup"><span data-stu-id="683b2-182">Detach and attach from URL</span></span>
<span data-ttu-id="683b2-183">Odpojení vaší databáze a soubory protokolu a přenos je příliš[úložiště objektů Azure Blob](https://msdn.microsoft.com/library/dn385720.aspx).</span><span class="sxs-lookup"><span data-stu-id="683b2-183">Detach your database and log files and transfer them too[Azure Blob storage](https://msdn.microsoft.com/library/dn385720.aspx).</span></span> <span data-ttu-id="683b2-184">Pak připojte databázi hello z adresy URL hello na vašem virtuálním počítači Azure.</span><span class="sxs-lookup"><span data-stu-id="683b2-184">Then attach hello database from hello URL on your Azure VM.</span></span> <span data-ttu-id="683b2-185">Použijte, pokud chcete, aby tooreside soubory hello fyzická databáze v úložišti objektů Blob.</span><span class="sxs-lookup"><span data-stu-id="683b2-185">Use this if you want hello physical database files tooreside in Blob storage.</span></span> <span data-ttu-id="683b2-186">To může být užitečná pro velké databáze.</span><span class="sxs-lookup"><span data-stu-id="683b2-186">This might be useful for very large databases.</span></span> <span data-ttu-id="683b2-187">Použijte následující obecné kroky toomigrate uživatele databáze pomocí této metody Ruční hello:</span><span class="sxs-lookup"><span data-stu-id="683b2-187">Use hello following general steps toomigrate a user database using this manual method:</span></span>

1. <span data-ttu-id="683b2-188">Odpojte hello soubory databáze z instance hello místní databáze.</span><span class="sxs-lookup"><span data-stu-id="683b2-188">Detach hello database files from hello on-premises database instance.</span></span>
2. <span data-ttu-id="683b2-189">Zkopírujte soubory databáze hello odpojit do Azure blob storage pomocí hello [příkazového řádku azcopy](../../../storage/common/storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="683b2-189">Copy hello detached database files into Azure blob storage using hello [AZCopy command-line utility](../../../storage/common/storage-use-azcopy.md).</span></span>
3. <span data-ttu-id="683b2-190">Připojte soubory databáze hello z instance systému SQL Server toohello hello adresy URL Azure v hello virtuálního počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="683b2-190">Attach hello database files from hello Azure URL toohello SQL Server instance in hello Azure VM.</span></span>

## <a name="convert-toovm-and-upload-toourl-and-deploy-as-new-vm"></a><span data-ttu-id="683b2-191">Převést tooVM a tooURL nahrát a nasadit jako nový virtuální počítač</span><span class="sxs-lookup"><span data-stu-id="683b2-191">Convert tooVM and upload tooURL and deploy as new VM</span></span>
<span data-ttu-id="683b2-192">Na virtuálním počítači místní instance systému SQL Server tooAzure pomocí toomigrate tato metoda všechny systémové a uživatelské databáze.</span><span class="sxs-lookup"><span data-stu-id="683b2-192">Use this method toomigrate all system and user databases in an on-premises SQL Server instance tooAzure virtual machine.</span></span> <span data-ttu-id="683b2-193">Použijte následující obecné kroky toomigrate instanci systému SQL Server pomocí této metody Ruční hello:</span><span class="sxs-lookup"><span data-stu-id="683b2-193">Use hello following general steps toomigrate an entire SQL Server instance using this manual method:</span></span>

1. <span data-ttu-id="683b2-194">Převést fyzický nebo virtuální počítače, virtuální pevné disky tooHyper-V pomocí [Microsoft Virtual Machine Converter](https://technet.microsoft.com/library/dn874008(v=ws.11).aspx).</span><span class="sxs-lookup"><span data-stu-id="683b2-194">Convert physical or virtual machines tooHyper-V VHDs by using [Microsoft Virtual Machine Converter](https://technet.microsoft.com/library/dn874008(v=ws.11).aspx).</span></span>
2. <span data-ttu-id="683b2-195">Nahrání virtuálního pevného disku soubory tooAzure úložiště pomocí hello [rutinu Add-AzureVHD](https://msdn.microsoft.com/library/windowsazure/dn495173.aspx).</span><span class="sxs-lookup"><span data-stu-id="683b2-195">Upload VHD files tooAzure Storage by using hello [Add-AzureVHD cmdlet](https://msdn.microsoft.com/library/windowsazure/dn495173.aspx).</span></span>
3. <span data-ttu-id="683b2-196">Nasazení nového virtuálního počítače pomocí hello nahrát virtuální pevný disk.</span><span class="sxs-lookup"><span data-stu-id="683b2-196">Deploy a new virtual machine by using hello uploaded VHD.</span></span>

> [!NOTE]
> <span data-ttu-id="683b2-197">toomigrate celou aplikaci, zvažte použití [Azure Site Recovery](../../../site-recovery/site-recovery-overview.md)].</span><span class="sxs-lookup"><span data-stu-id="683b2-197">toomigrate an entire application, consider using [Azure Site Recovery](../../../site-recovery/site-recovery-overview.md)].</span></span>

## <a name="ship-hard-drive"></a><span data-ttu-id="683b2-198">Dodávat pevný disk</span><span class="sxs-lookup"><span data-stu-id="683b2-198">Ship hard drive</span></span>
<span data-ttu-id="683b2-199">Použití hello [metoda importu/exportu služby systému Windows](../../../storage/common/storage-import-export-service.md) tootransfer velkých objemů dat tooAzure soubor úložiště objektů Blob v situacích, kde odesílání přes síť hello je výtažkovými nebo není vhodný.</span><span class="sxs-lookup"><span data-stu-id="683b2-199">Use hello [Windows Import/Export Service method](../../../storage/common/storage-import-export-service.md) tootransfer large amounts of file data tooAzure Blob storage in situations where uploading over hello network is prohibitively expensive or not feasible.</span></span> <span data-ttu-id="683b2-200">S touto službou soubor odešlete jeden nebo více pevné disky obsahující data tooan Azure datového centra, kde budou data tooyour účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="683b2-200">With this service, you send one or more hard drives containing that data tooan Azure data center, where your data will be uploaded tooyour storage account.</span></span>

## <a name="next-steps"></a><span data-ttu-id="683b2-201">Další kroky</span><span class="sxs-lookup"><span data-stu-id="683b2-201">Next Steps</span></span>
<span data-ttu-id="683b2-202">Další informace o spuštění systému SQL Server na virtuálních počítačích Azure najdete v tématu [SQL Server na virtuálních počítačích Azure přehled](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="683b2-202">For more information about running SQL Server on Azure Virtual Machines, see [SQL Server on Azure Virtual Machines overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

<span data-ttu-id="683b2-203">Pokyny pro vytvoření virtuálního počítače serveru SQL Azure ze zaznamenané bitové kopie, naleznete v části [tipy a triky na klonování virtuálních počítačích Azure SQL ze zaznamenané bitové kopie](https://blogs.msdn.microsoft.com/psssql/2016/07/06/tips-tricks-on-cloning-azure-sql-virtual-machines-from-captured-images/) na blogu šablon stylů CSS SQL serveru technici hello.</span><span class="sxs-lookup"><span data-stu-id="683b2-203">For instructions on creating an Azure SQL Server Virtual Machine from a captured image, see [Tips & Tricks on ‘cloning’ Azure SQL virtual machines from captured images](https://blogs.msdn.microsoft.com/psssql/2016/07/06/tips-tricks-on-cloning-azure-sql-virtual-machines-from-captured-images/) on hello CSS SQL Server Engineers blog.</span></span>

