---
title: "Osvědčené postupy z hlediska výkonu pro SQL Server v Azure | Microsoft Docs"
description: "Obsahuje osvědčené postupy pro optimalizaci výkonu serveru SQL Server ve virtuálních počítačích Microsoft Azure."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: a0c85092-2113-4982-b73a-4e80160bac36
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/27/2017
ms.author: jroth
ms.openlocfilehash: 5595ea016ab01d20cee82b75f56623bb0727a1b3
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="performance-best-practices-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="4ef70-103">Osvědčené postupy z hlediska výkonu pro SQL Server na Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="4ef70-103">Performance best practices for SQL Server in Azure Virtual Machines</span></span>

## <a name="overview"></a><span data-ttu-id="4ef70-104">Přehled</span><span class="sxs-lookup"><span data-stu-id="4ef70-104">Overview</span></span>

<span data-ttu-id="4ef70-105">Toto téma obsahuje osvědčené postupy pro optimalizaci výkonu systému SQL Server na virtuálním počítači Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="4ef70-105">This topic provides best practices for optimizing SQL Server performance in Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="4ef70-106">Při spuštění systému SQL Server v Azure Virtual Machines, doporučujeme pokračovat pomocí stejného výkonu databáze ladění možnosti, které se vztahují k systému SQL Server v prostředí místní server.</span><span class="sxs-lookup"><span data-stu-id="4ef70-106">While running SQL Server in Azure Virtual Machines, we recommend that you continue using the same database performance tuning options that are applicable to SQL Server in on-premises server environment.</span></span> <span data-ttu-id="4ef70-107">Výkon relační databáze ve veřejném cloudu však závisí na mnoha faktorech, například velikost virtuálního počítače a konfiguraci datových disků.</span><span class="sxs-lookup"><span data-stu-id="4ef70-107">However, the performance of a relational database in a public cloud depends on many factors such as the size of a virtual machine, and the configuration of the data disks.</span></span>

<span data-ttu-id="4ef70-108">Při vytváření bitové kopie systému SQL Server, [zvažte zřizování virtuálních počítačů na portálu Azure](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="4ef70-108">When creating SQL Server images, [consider provisioning your VMs in the Azure portal](virtual-machines-windows-portal-sql-server-provision.md).</span></span> <span data-ttu-id="4ef70-109">Zřízené v portálu s Resource Managerem virtuálním počítačům systému SQL Server implementovat všechny tyto osvědčené postupy, včetně konfigurace úložiště.</span><span class="sxs-lookup"><span data-stu-id="4ef70-109">SQL Server VMs provisioned in the Portal with Resource Manager implement all these best practices, including the storage configuration.</span></span>

<span data-ttu-id="4ef70-110">Tento článek se zaměřuje na získávání *nejlepší* výkonu pro SQL Server na virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="4ef70-110">This article is focused on getting the *best* performance for SQL Server on Azure VMs.</span></span> <span data-ttu-id="4ef70-111">Pokud vaše úlohy je méně náročné, nemusejí být nutné každých optimalizace uvedené níže.</span><span class="sxs-lookup"><span data-stu-id="4ef70-111">If your workload is less demanding, you might not require every optimization listed below.</span></span> <span data-ttu-id="4ef70-112">Zvažte požadavkům na výkon a vzory úlohy, jak vyhodnotit tato doporučení.</span><span class="sxs-lookup"><span data-stu-id="4ef70-112">Consider your performance needs and workload patterns as you evaluate these recommendations.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="quick-check-list"></a><span data-ttu-id="4ef70-113">Rychlá kontrola seznamu</span><span class="sxs-lookup"><span data-stu-id="4ef70-113">Quick check list</span></span>

<span data-ttu-id="4ef70-114">Následuje seznam Rychlá kontrola pro optimální výkon systému SQL Server na virtuálních počítačích Azure:</span><span class="sxs-lookup"><span data-stu-id="4ef70-114">The following is a quick check list for optimal performance of SQL Server on Azure Virtual Machines:</span></span>

| <span data-ttu-id="4ef70-115">Oblast</span><span class="sxs-lookup"><span data-stu-id="4ef70-115">Area</span></span> | <span data-ttu-id="4ef70-116">Optimalizace</span><span class="sxs-lookup"><span data-stu-id="4ef70-116">Optimizations</span></span> |
| --- | --- |
| [<span data-ttu-id="4ef70-117">Velikost virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="4ef70-117">VM size</span></span>](#vm-size-guidance) |<span data-ttu-id="4ef70-118">[DS3](../../virtual-machines-windows-sizes-memory.md) nebo vyšší pro SQL Enterprise edition.</span><span class="sxs-lookup"><span data-stu-id="4ef70-118">[DS3](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Enterprise edition.</span></span><br/><br/><span data-ttu-id="4ef70-119">[DS2](../../virtual-machines-windows-sizes-memory.md) nebo vyšší verze SQL Standard a Web.</span><span class="sxs-lookup"><span data-stu-id="4ef70-119">[DS2](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Standard and Web editions.</span></span> |
| [<span data-ttu-id="4ef70-120">Storage</span><span class="sxs-lookup"><span data-stu-id="4ef70-120">Storage</span></span>](#storage-guidance) |<span data-ttu-id="4ef70-121">Použití [Storage úrovně Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="4ef70-121">Use [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="4ef70-122">Standardní úložiště se doporučuje jenom pro vývojové a testovací.</span><span class="sxs-lookup"><span data-stu-id="4ef70-122">Standard storage is only recommended for dev/test.</span></span><br/><br/><span data-ttu-id="4ef70-123">Zachovat [účet úložiště](../../../storage/common/storage-create-storage-account.md) a virtuální počítač SQL Server ve stejné oblasti.</span><span class="sxs-lookup"><span data-stu-id="4ef70-123">Keep the [storage account](../../../storage/common/storage-create-storage-account.md) and SQL Server VM in the same region.</span></span><br/><br/><span data-ttu-id="4ef70-124">Zakázat Azure [geograficky redundantní úložiště](../../../storage/common/storage-redundancy.md) (geografická replikace) na účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="4ef70-124">Disable Azure [geo-redundant storage](../../../storage/common/storage-redundancy.md) (geo-replication) on the storage account.</span></span> |
| [<span data-ttu-id="4ef70-125">Disky</span><span class="sxs-lookup"><span data-stu-id="4ef70-125">Disks</span></span>](#disks-guidance) |<span data-ttu-id="4ef70-126">Použití minimálně 2 [P30 disky](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 pro soubory protokolů, 1 pro datové soubory a databáze TempDB).</span><span class="sxs-lookup"><span data-stu-id="4ef70-126">Use a minimum of 2 [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 for log files; 1 for data files and TempDB).</span></span><br/><br/><span data-ttu-id="4ef70-127">Vyhněte se použití operačního systému nebo dočasné disků pro úložiště databáze nebo protokolování.</span><span class="sxs-lookup"><span data-stu-id="4ef70-127">Avoid using operating system or temporary disks for database storage or logging.</span></span><br/><br/><span data-ttu-id="4ef70-128">Povolit čtení ukládání do mezipaměti na disky hostující databázi TempDB a datových souborů.</span><span class="sxs-lookup"><span data-stu-id="4ef70-128">Enable read caching on the disk(s) hosting the data files and TempDB.</span></span><br/><br/><span data-ttu-id="4ef70-129">Nepovolujte ukládání do mezipaměti na disky hostování souboru protokolu.</span><span class="sxs-lookup"><span data-stu-id="4ef70-129">Do not enable caching on disk(s) hosting the log file.</span></span><br/><br/><span data-ttu-id="4ef70-130">Důležité: Zastavte službu systému SQL Server při změně nastavení do mezipaměti pro disk pro virtuální počítač Azure.</span><span class="sxs-lookup"><span data-stu-id="4ef70-130">Important: Stop the SQL Server service when changing the cache settings for an Azure VM disk.</span></span><br/><br/><span data-ttu-id="4ef70-131">Prokládané více Azure datových disků získat vyšší propustnost vstupně-výstupní operace.</span><span class="sxs-lookup"><span data-stu-id="4ef70-131">Stripe multiple Azure data disks to get increased IO throughput.</span></span><br/><br/><span data-ttu-id="4ef70-132">Formát s velikostí zdokumentovaných přidělení.</span><span class="sxs-lookup"><span data-stu-id="4ef70-132">Format with documented allocation sizes.</span></span> |
| [<span data-ttu-id="4ef70-133">VSTUPNĚ-VÝSTUPNÍCH OPERACÍ</span><span class="sxs-lookup"><span data-stu-id="4ef70-133">I/O</span></span>](#io-guidance) |<span data-ttu-id="4ef70-134">Povolte kompresi stránky databáze.</span><span class="sxs-lookup"><span data-stu-id="4ef70-134">Enable database page compression.</span></span><br/><br/><span data-ttu-id="4ef70-135">Povolte rychlé soubor inicializace pro datové soubory.</span><span class="sxs-lookup"><span data-stu-id="4ef70-135">Enable instant file initialization for data files.</span></span><br/><br/><span data-ttu-id="4ef70-136">Omezit nebo zakázat automatické zvětšování v databázi.</span><span class="sxs-lookup"><span data-stu-id="4ef70-136">Limit or disable autogrow on the database.</span></span><br/><br/><span data-ttu-id="4ef70-137">Zakažte autoshrink v databázi.</span><span class="sxs-lookup"><span data-stu-id="4ef70-137">Disable autoshrink on the database.</span></span><br/><br/><span data-ttu-id="4ef70-138">Přesunete všechny databáze na datové disky, včetně systémové databáze.</span><span class="sxs-lookup"><span data-stu-id="4ef70-138">Move all databases to data disks, including system databases.</span></span><br/><br/><span data-ttu-id="4ef70-139">Přesun serveru SQL Server chyba protokolu a trasování souboru adresářů do datových disků.</span><span class="sxs-lookup"><span data-stu-id="4ef70-139">Move SQL Server error log and trace file directories to data disks.</span></span><br/><br/><span data-ttu-id="4ef70-140">Nastavte výchozí zálohování a databáze umístění souborů.</span><span class="sxs-lookup"><span data-stu-id="4ef70-140">Setup default backup and database file locations.</span></span><br/><br/><span data-ttu-id="4ef70-141">Povolte uzamčených stránek.</span><span class="sxs-lookup"><span data-stu-id="4ef70-141">Enable locked pages.</span></span><br/><br/><span data-ttu-id="4ef70-142">Použijte opravy výkonu systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ef70-142">Apply SQL Server performance fixes.</span></span> |
| [<span data-ttu-id="4ef70-143">Konkrétní funkce</span><span class="sxs-lookup"><span data-stu-id="4ef70-143">Feature specific</span></span>](#feature-specific-guidance) |<span data-ttu-id="4ef70-144">Zálohovat přímo do úložiště objektů blob.</span><span class="sxs-lookup"><span data-stu-id="4ef70-144">Back up directly to blob storage.</span></span> |

<span data-ttu-id="4ef70-145">Další informace o *jak* a *proč* Chcete-li tyto optimalizace, přečtěte si podrobné informace a pokyny, které jsou uvedeny v následujících částech.</span><span class="sxs-lookup"><span data-stu-id="4ef70-145">For more information on *how* and *why* to make these optimizations, please review the details and guidance provided in following sections.</span></span>

## <a name="vm-size-guidance"></a><span data-ttu-id="4ef70-146">Pokyny velikost virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="4ef70-146">VM size guidance</span></span>

<span data-ttu-id="4ef70-147">Výkon citlivých aplikací, je doporučeno používat následující [velikosti virtuálních počítačů](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span><span class="sxs-lookup"><span data-stu-id="4ef70-147">For performance sensitive applications, it’s recommended that you use the following [virtual machines sizes](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span></span>

* <span data-ttu-id="4ef70-148">**SQL Server Enterprise Edition**: DS3 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="4ef70-148">**SQL Server Enterprise Edition**: DS3 or higher</span></span>
* <span data-ttu-id="4ef70-149">**SQL Server Standard a Web edice**: DS2 nebo vyšší</span><span class="sxs-lookup"><span data-stu-id="4ef70-149">**SQL Server Standard and Web Editions**: DS2 or higher</span></span>

## <a name="storage-guidance"></a><span data-ttu-id="4ef70-150">Pokynů pro virtualizované úložiště</span><span class="sxs-lookup"><span data-stu-id="4ef70-150">Storage guidance</span></span>

<span data-ttu-id="4ef70-151">Podpora virtuálních počítačů služby DS-series (spolu s DSv2-series a GS-series) [Storage úrovně Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="4ef70-151">DS-series (along with DSv2-series and GS-series) VMs support [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="4ef70-152">Storage úrovně Premium se doporučuje pro všechny úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="4ef70-152">Premium Storage is recommended for all production workloads.</span></span>

> [!WARNING]
> <span data-ttu-id="4ef70-153">Standardní úložiště má různou latenci a šířky pásma a doporučuje se pouze pro procesy vývoje/testování.</span><span class="sxs-lookup"><span data-stu-id="4ef70-153">Standard Storage has varying latencies and bandwidth and is only recommended for dev/test workloads.</span></span> <span data-ttu-id="4ef70-154">Úlohy v produkčním prostředí by měl používat úložiště úrovně Premium.</span><span class="sxs-lookup"><span data-stu-id="4ef70-154">Production workloads should use Premium Storage.</span></span>

<span data-ttu-id="4ef70-155">Kromě toho doporučujeme vytvoření účtu úložiště Azure ve stejném datovém centru jako virtuální počítače systému SQL Server k přenosu zpožděním.</span><span class="sxs-lookup"><span data-stu-id="4ef70-155">In addition, we recommend that you create your Azure storage account in the same data center as your SQL Server virtual machines to reduce transfer delays.</span></span> <span data-ttu-id="4ef70-156">Při vytváření účtu úložiště, zakážete geografická replikace není zaručena pořadí konzistentní zápisu na více disků.</span><span class="sxs-lookup"><span data-stu-id="4ef70-156">When creating a storage account, disable geo-replication as consistent write order across multiple disks is not guaranteed.</span></span> <span data-ttu-id="4ef70-157">Místo toho zvažte nakonfigurování technologie obnovení po havárii systému SQL Server mezi dvěma datových center Azure.</span><span class="sxs-lookup"><span data-stu-id="4ef70-157">Instead, consider configuring a SQL Server disaster recovery technology between two Azure data centers.</span></span> <span data-ttu-id="4ef70-158">Další informace najdete v tématu [vysokou dostupnost a zotavení po havárii pro SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="4ef70-158">For more information, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="disks-guidance"></a><span data-ttu-id="4ef70-159">Disky pokyny</span><span class="sxs-lookup"><span data-stu-id="4ef70-159">Disks guidance</span></span>

<span data-ttu-id="4ef70-160">Existují tři typy hlavní disku na virtuální počítač Azure:</span><span class="sxs-lookup"><span data-stu-id="4ef70-160">There are three main disk types on an Azure VM:</span></span>

* <span data-ttu-id="4ef70-161">**Disk s operačním systémem**: při vytváření virtuálního počítače Azure připojí platformou alespoň jeden disk (označený jako **C** jednotky) na virtuální počítač pro disk operačního systému.</span><span class="sxs-lookup"><span data-stu-id="4ef70-161">**OS disk**: When you create an Azure Virtual Machine, the platform will attach at least one disk (labeled as the **C** drive) to the VM for your operating system disk.</span></span> <span data-ttu-id="4ef70-162">Tento disk je virtuální pevný disk uložený jako objekt blob stránky v úložišti.</span><span class="sxs-lookup"><span data-stu-id="4ef70-162">This disk is a VHD stored as a page blob in storage.</span></span>
* <span data-ttu-id="4ef70-163">**Dočasným diskovým**: virtuální počítače Azure obsahovat jiné disku s názvem dočasným diskovým (označené jako **D**: jednotku).</span><span class="sxs-lookup"><span data-stu-id="4ef70-163">**Temporary disk**: Azure Virtual Machines contain another disk called the temporary disk (labeled as the **D**: drive).</span></span> <span data-ttu-id="4ef70-164">Toto je disk na uzlu, který lze použít pro pomocné místo.</span><span class="sxs-lookup"><span data-stu-id="4ef70-164">This is a disk on the node that can be used for scratch space.</span></span>
* <span data-ttu-id="4ef70-165">**Datové disky**: dalších disků. můžete také připojit k virtuálnímu počítači jako datové disky, a ty budou uloženy v úložišti jako objekty BLOB stránky.</span><span class="sxs-lookup"><span data-stu-id="4ef70-165">**Data disks**: You can also attach additional disks to your virtual machine as data disks, and these will be stored in storage as page blobs.</span></span>

<span data-ttu-id="4ef70-166">Následující části popisují doporučení pro používání těchto různých disků.</span><span class="sxs-lookup"><span data-stu-id="4ef70-166">The following sections describe recommendations for using these different disks.</span></span>

### <a name="operating-system-disk"></a><span data-ttu-id="4ef70-167">Disk operačním systému</span><span class="sxs-lookup"><span data-stu-id="4ef70-167">Operating system disk</span></span>

<span data-ttu-id="4ef70-168">Disk operačního systému je virtuální pevný disk, který můžete spustit a připojit jako spuštěné verze operačního systému a je označený jako **C** jednotky.</span><span class="sxs-lookup"><span data-stu-id="4ef70-168">An operating system disk is a VHD that you can boot and mount as a running version of an operating system and is labeled as **C** drive.</span></span>

<span data-ttu-id="4ef70-169">Výchozí nastavení ukládání do mezipaměti zásady na disk s operačním systémem je **pro čtení a zápis**.</span><span class="sxs-lookup"><span data-stu-id="4ef70-169">Default caching policy on the operating system disk is **Read/Write**.</span></span> <span data-ttu-id="4ef70-170">Pro citlivé aplikace výkonu doporučujeme používat datových disků místo disku operačního systému.</span><span class="sxs-lookup"><span data-stu-id="4ef70-170">For performance sensitive applications, we recommend that you use data disks instead of the operating system disk.</span></span> <span data-ttu-id="4ef70-171">Najdete v části na datové disky níže.</span><span class="sxs-lookup"><span data-stu-id="4ef70-171">See the section on Data Disks below.</span></span>

### <a name="temporary-disk"></a><span data-ttu-id="4ef70-172">Dočasné disku</span><span class="sxs-lookup"><span data-stu-id="4ef70-172">Temporary disk</span></span>

<span data-ttu-id="4ef70-173">Na jednotce dočasné úložiště s názvem bez přípony, jako **D**: disk, není trvalý do Azure blob storage.</span><span class="sxs-lookup"><span data-stu-id="4ef70-173">The temporary storage drive, labeled as the **D**: drive, is not persisted to Azure blob storage.</span></span> <span data-ttu-id="4ef70-174">Neukládejte databázové soubory uživatelů nebo souborů protokolů transakci uživatele na **D**: jednotky.</span><span class="sxs-lookup"><span data-stu-id="4ef70-174">Do not store your user database files or user transaction log files on the **D**: drive.</span></span>

<span data-ttu-id="4ef70-175">D-series, Dv2-series a virtuální počítače G-series jednotku na těchto virtuálních počítačích je založená na SSD.</span><span class="sxs-lookup"><span data-stu-id="4ef70-175">For D-series, Dv2-series, and G-series VMs, the temporary drive on these VMs is SSD-based.</span></span> <span data-ttu-id="4ef70-176">Pokud vaše úlohy provede výrazně využívá databáze TempDB (např. pro dočasné objekty nebo komplexní spojení), ukládání databáze TempDB na **D** jednotky může mít za následek vyšší propustnost databáze TempDB a snížení latence databázi TempDB.</span><span class="sxs-lookup"><span data-stu-id="4ef70-176">If your workload makes heavy use of TempDB (e.g. for temporary objects or complex joins), storing TempDB on the **D** drive could result in higher TempDB throughput and lower TempDB latency.</span></span>

<span data-ttu-id="4ef70-177">Pro virtuální počítače, které podporují službu Premium Storage (DS-series, DSv2-series a GS-series) doporučujeme uložit databázi TempDB na disk, který podporuje službu Premium Storage s čtení povoleno ukládání do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="4ef70-177">For VMs that support Premium Storage (DS-series, DSv2-series, and GS-series), we recommend storing TempDB on a disk that supports Premium Storage with read caching enabled.</span></span> <span data-ttu-id="4ef70-178">Existuje jedna výjimka do tohoto doporučení; Pokud vaše databáze TempDB využití je náročné na zápis, můžete dosáhnout vyšší výkon uložením databáze TempDB na místní **D** disku, který je taky založená na SSD na velikosti těchto počítačů.</span><span class="sxs-lookup"><span data-stu-id="4ef70-178">There is one exception to this recommendation; if your TempDB usage is write-intensive, you can achieve higher performance by storing TempDB on the local **D** drive, which is also SSD-based on these machine sizes.</span></span>

### <a name="data-disks"></a><span data-ttu-id="4ef70-179">Datové disky</span><span class="sxs-lookup"><span data-stu-id="4ef70-179">Data disks</span></span>

* <span data-ttu-id="4ef70-180">**Použití datových disků pro soubory protokolu a data**: minimálně používat 2 úložiště úrovně Premium [P30 disky](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) kde jeden disk obsahuje soubory protokolu a dalších obsahuje data a soubory databáze TempDB.</span><span class="sxs-lookup"><span data-stu-id="4ef70-180">**Use data disks for data and log files**: At a minimum, use 2 Premium Storage [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) where one disk contains the log file(s) and the other contains the data and TempDB file(s).</span></span> <span data-ttu-id="4ef70-181">Každý disk úložiště Premium poskytuje řadu IOPs a šířky pásma (MB/s) v závislosti na jeho velikosti, jak je popsáno v následujícím článku: [pomocí úložiště Premium pro disky](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="4ef70-181">Each Premium Storage disk provides a number of IOPs and bandwidth (MB/s) depending on its size, as described in the following article: [Using Premium Storage for Disks](../../../storage/common/storage-premium-storage.md).</span></span>

* <span data-ttu-id="4ef70-182">**Disk proložení**: pro další propustnosti, můžete přidat další datové disky a používat prokládání disků.</span><span class="sxs-lookup"><span data-stu-id="4ef70-182">**Disk Striping**: For more throughput, you can add additional data disks and use Disk Striping.</span></span> <span data-ttu-id="4ef70-183">Pokud chcete určit počet datových disků, potřebujete analyzovat počtu IOPS a šířky pásma požadované pro soubory protokolu a pro data a soubory databáze TempDB.</span><span class="sxs-lookup"><span data-stu-id="4ef70-183">To determine the number of data disks, you need to analyze the number of IOPS and bandwidth required for your log file(s), and for your data and TempDB file(s).</span></span> <span data-ttu-id="4ef70-184">Všimněte si, že různé velikosti virtuálních počítačů mají různé limity počtu IOPs a šířky pásma, které jsou podporovány, podívejte se na tabulky na IOPS na [velikost virtuálního počítače](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="4ef70-184">Notice that different VM sizes have different limits on the number of IOPs and bandwidth supported, see the tables on IOPS per [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="4ef70-185">Pomocí následujících pokynů:</span><span class="sxs-lookup"><span data-stu-id="4ef70-185">Use the following guidelines:</span></span>

  * <span data-ttu-id="4ef70-186">Pro Windows 8 nebo Windows Server 2012 nebo novější, použijte [prostory úložiště](https://technet.microsoft.com/library/hh831739.aspx) přitom následující pokyny:</span><span class="sxs-lookup"><span data-stu-id="4ef70-186">For Windows 8/Windows Server 2012 or later, use [Storage Spaces](https://technet.microsoft.com/library/hh831739.aspx) with the following guidelines:</span></span>

      1. <span data-ttu-id="4ef70-187">Prokládání (stripe velikost) nastavte na 64 KB (65536 bajtů) pro zatížení OLTP a 256 KB (262 144 bajtů) pro úlohy datového skladu s cílem vyhnout vlivu na výkon z důvodu chybné zarovnání oddílu.</span><span class="sxs-lookup"><span data-stu-id="4ef70-187">Set the interleave (stripe size) to 64 KB (65536 bytes) for OLTP workloads and 256 KB (262144 bytes) for data warehousing workloads to avoid performance impact due to partition misalignment.</span></span> <span data-ttu-id="4ef70-188">Toto musí být nastavena v prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="4ef70-188">This must be set with PowerShell.</span></span>
      1. <span data-ttu-id="4ef70-189">Nastavit počet sloupců = počet fyzických disků.</span><span class="sxs-lookup"><span data-stu-id="4ef70-189">Set column count = number of physical disks.</span></span> <span data-ttu-id="4ef70-190">Při konfiguraci maximálně 8 disky (ne uživatelského rozhraní správce serveru), pomocí prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="4ef70-190">Use PowerShell when configuring more than 8 disks (not Server Manager UI).</span></span> 

    <span data-ttu-id="4ef70-191">Například následující prostředí PowerShell vytvoří nový fond úložiště s velikostí prokládání 64 KB a počet sloupců na 2:</span><span class="sxs-lookup"><span data-stu-id="4ef70-191">For example, the following PowerShell creates a new storage pool with the interleave size to 64 KB and the number of columns to 2:</span></span>

    ```powershell
    $PoolCount = Get-PhysicalDisk -CanPool $True
    $PhysicalDisks = Get-PhysicalDisk | Where-Object {$_.FriendlyName -like "*2" -or $_.FriendlyName -like "*3"}

    New-StoragePool -FriendlyName "DataFiles" -StorageSubsystemFriendlyName "Storage Spaces*" -PhysicalDisks $PhysicalDisks | New-VirtualDisk -FriendlyName "DataFiles" -Interleave 65536 -NumberOfColumns 2 -ResiliencySettingName simple –UseMaximumSize |Initialize-Disk -PartitionStyle GPT -PassThru |New-Partition -AssignDriveLetter -UseMaximumSize |Format-Volume -FileSystem NTFS -NewFileSystemLabel "DataDisks" -AllocationUnitSize 65536 -Confirm:$false 
    ```

  * <span data-ttu-id="4ef70-192">Windows 2008 R2 nebo starší můžete použít dynamické disky (OS prokládané svazky) a velikost stripe je vždy 64 KB.</span><span class="sxs-lookup"><span data-stu-id="4ef70-192">For Windows 2008 R2 or earlier, you can use dynamic disks (OS striped volumes) and the stripe size is always 64 KB.</span></span> <span data-ttu-id="4ef70-193">Všimněte si, že tato možnost je zastaralé od verze Windows 8 nebo Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="4ef70-193">Note that this option is deprecated as of Windows 8/Windows Server 2012.</span></span> <span data-ttu-id="4ef70-194">Informace najdete v tématu příkazu podpory v [virtuální disková služba je přechodu do rozhraní API správy úložišť systému Windows](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span><span class="sxs-lookup"><span data-stu-id="4ef70-194">For information, see the support statement at [Virtual Disk Service is transitioning to Windows Storage Management API](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span></span>

  * <span data-ttu-id="4ef70-195">Pokud vaše úlohy není náročné protokol a nemusí vyhrazené IOPs, můžete nakonfigurovat pouze jeden fond úložiště.</span><span class="sxs-lookup"><span data-stu-id="4ef70-195">If your workload is not log intensive and does not need dedicated IOPs, you can configure just one storage pool.</span></span> <span data-ttu-id="4ef70-196">Jinak vytvořte dva fondy úložiště, jeden pro soubory protokolu a jiného fondu úložiště pro data souborů a databáze TempDB.</span><span class="sxs-lookup"><span data-stu-id="4ef70-196">Otherwise, create two storage pools, one for the log file(s) and another storage pool for the data file(s) and TempDB.</span></span> <span data-ttu-id="4ef70-197">Určete počet disků přidružených každý fond úložiště založený na vaše očekávání zatížení.</span><span class="sxs-lookup"><span data-stu-id="4ef70-197">Determine the number of disks associated with each storage pool based on your load expectations.</span></span> <span data-ttu-id="4ef70-198">Uvědomte si, že různé velikosti virtuálních počítačů povolit různý počet připojených datových disků.</span><span class="sxs-lookup"><span data-stu-id="4ef70-198">Keep in mind that different VM sizes allow different numbers of attached data disks.</span></span> <span data-ttu-id="4ef70-199">Další informace najdete v tématu [velikosti virtuálních počítačů](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="4ef70-199">For more information, see [Sizes for Virtual Machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

  * <span data-ttu-id="4ef70-200">Pokud nepoužíváte Storage úrovně Premium (scénáře vývoje/testování), doporučuje se přidat maximální počet datových disků, které podporuje vaše [velikost virtuálního počítače](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) a používat prokládání disků.</span><span class="sxs-lookup"><span data-stu-id="4ef70-200">If you are not using Premium Storage (dev/test scenarios), the recommendation is to add the maximum number of data disks supported by your [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and use Disk Striping.</span></span>

* <span data-ttu-id="4ef70-201">**Ukládání do mezipaměti zásad**: datových disků pro Storage úrovně Premium, povolit čtení ukládání do mezipaměti na datové disky pouze hostování datové soubory a databáze TempDB.</span><span class="sxs-lookup"><span data-stu-id="4ef70-201">**Caching policy**: For Premium Storage data disks, enable read caching on the data disks hosting your data files and TempDB only.</span></span> <span data-ttu-id="4ef70-202">Pokud nepoužíváte Storage úrovně Premium, nepovolujte žádné ukládání do mezipaměti na všech datových disků.</span><span class="sxs-lookup"><span data-stu-id="4ef70-202">If you are not using Premium Storage, do not enable any caching on any data disks.</span></span> <span data-ttu-id="4ef70-203">Pokyny ke konfiguraci disku ukládání do mezipaměti, naleznete v následujících tématech: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) a [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span><span class="sxs-lookup"><span data-stu-id="4ef70-203">For instructions on configuring disk caching, see the following topics: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) and [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span></span>

  > [!WARNING]
  > <span data-ttu-id="4ef70-204">Zastavte službu systému SQL Server při změně nastavení mezipaměti disků virtuálního počítače Azure, aby se zabránilo možnost nedošlo k poškození databáze.</span><span class="sxs-lookup"><span data-stu-id="4ef70-204">Stop the SQL Server service when changing the cache setting of Azure VM disks to avoid the possibility of any database corruption.</span></span>

* <span data-ttu-id="4ef70-205">**Velikost alokační jednotky systému souborů NTFS**: při formátování datový disk, je doporučeno používat velikost 64 KB alokační jednotky pro data a soubory protokolu, jakož i databáze TempDB.</span><span class="sxs-lookup"><span data-stu-id="4ef70-205">**NTFS allocation unit size**: When formatting the data disk, it is recommended that you use a 64-KB allocation unit size for data and log files as well as TempDB.</span></span>

* <span data-ttu-id="4ef70-206">**Osvědčené postupy správy na disku**: Při odebrání datový disk nebo změna jeho typ mezipaměti zastavit službu systému SQL Server během změny.</span><span class="sxs-lookup"><span data-stu-id="4ef70-206">**Disk management best practices**: When removing a data disk or changing its cache type, stop the SQL Server service during the change.</span></span> <span data-ttu-id="4ef70-207">Při nastavení ukládání do mezipaměti se změnilo na disk operačního systému, Azure zastaví virtuální počítač, změní typ mezipaměti a restartuje virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="4ef70-207">When the caching settings are changed on the OS disk, Azure stops the VM, changes the cache type, and restarts the VM.</span></span> <span data-ttu-id="4ef70-208">Při změně nastavení mezipaměti na datový disk, virtuálního počítače nebyla zastavena, ale je odpojený od virtuálního počítače během změny a pak znovu připojit datový disk.</span><span class="sxs-lookup"><span data-stu-id="4ef70-208">When the cache settings of a data disk are changed, the VM is not stopped, but the data disk is detached from the VM during the change and then reattached.</span></span>

  > [!WARNING]
  > <span data-ttu-id="4ef70-209">Nepodařilo se zastavit službu systému SQL Server během těchto operací může způsobit poškození databáze.</span><span class="sxs-lookup"><span data-stu-id="4ef70-209">Failure to stop the SQL Server service during these operations can cause database corruption.</span></span>

## <a name="io-guidance"></a><span data-ttu-id="4ef70-210">Pokyny vstupně-výstupních operací</span><span class="sxs-lookup"><span data-stu-id="4ef70-210">I/O guidance</span></span>

* <span data-ttu-id="4ef70-211">Nejlepších výsledků Storage úrovně Premium jsou dosáhnete, když paralelní aplikace a požadavky.</span><span class="sxs-lookup"><span data-stu-id="4ef70-211">The best results with Premium Storage are achieved when you parallelize your application and requests.</span></span> <span data-ttu-id="4ef70-212">Storage úrovně Premium je určen pro scénáře, kde je hloubka fronty vstupně-výstupní operace větší než 1, takže uvidíte žádné nebo téměř žádné zvýšení výkonu pro jednovláknové sériové požadavky (i když jsou náročné na úložiště).</span><span class="sxs-lookup"><span data-stu-id="4ef70-212">Premium Storage is designed for scenarios where the IO queue depth is greater than 1, so you will see little or no performance gains for single-threaded serial requests (even if they are storage intensive).</span></span> <span data-ttu-id="4ef70-213">Například to by mohlo mít vliv výsledky testů jednovláknové nástrojů pro analýzu výkonu, jako je například SQLIO.</span><span class="sxs-lookup"><span data-stu-id="4ef70-213">For example, this could impact the single-threaded test results of performance analysis tools, such as SQLIO.</span></span>

* <span data-ttu-id="4ef70-214">Zvažte použití [databáze stránky komprese](https://msdn.microsoft.com/library/cc280449.aspx) jako může zvýšit výkon zatížení s intenzivním vstupně-výstupní operace.</span><span class="sxs-lookup"><span data-stu-id="4ef70-214">Consider using [database page compression](https://msdn.microsoft.com/library/cc280449.aspx) as it can help improve performance of I/O intensive workloads.</span></span> <span data-ttu-id="4ef70-215">Komprese dat se však může zvýšit spotřeby procesoru na serveru databáze.</span><span class="sxs-lookup"><span data-stu-id="4ef70-215">However, the data compression might increase the CPU consumption on the database server.</span></span>

* <span data-ttu-id="4ef70-216">Zvažte povolení inicializace rychlých souboru zkrátit dobu, která je požadována pro počáteční soubor přidělení.</span><span class="sxs-lookup"><span data-stu-id="4ef70-216">Consider enabling instant file initialization to reduce the time that is required for initial file allocation.</span></span> <span data-ttu-id="4ef70-217">Abyste mohli využívat inicializace rychlých souboru, udělení účtu služby SQL Server (MSSQLSERVER) s SE_MANAGE_VOLUME_NAME a přidejte ho do **provádět úlohy údržby svazku** zásady zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="4ef70-217">To take advantage of instant file initialization, you grant the SQL Server (MSSQLSERVER) service account with SE_MANAGE_VOLUME_NAME and add it to the **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="4ef70-218">Pokud používáte image platformy SQL Server pro Azure, účet služby výchozí (NT Service\MSSQLSERVER) není přidán do **provádět úlohy údržby svazku** zásady zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="4ef70-218">If you are using a SQL Server platform image for Azure, the default service account (NT Service\MSSQLSERVER) isn’t added to the **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="4ef70-219">Jinými slovy inicializace rychlých souboru není povoleno v imagi platformy SQL Server Azure.</span><span class="sxs-lookup"><span data-stu-id="4ef70-219">In other words, instant file initialization is not enabled in a SQL Server Azure platform image.</span></span> <span data-ttu-id="4ef70-220">Po přidání účtu služby SQL Server k **provádět úlohy údržby svazku** zásady zabezpečení, restartujte službu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4ef70-220">After adding the SQL Server service account to the **Perform Volume Maintenance Tasks** security policy, restart the SQL Server service.</span></span> <span data-ttu-id="4ef70-221">Je možné, úvahy o zabezpečení pro použití této funkce.</span><span class="sxs-lookup"><span data-stu-id="4ef70-221">There could be security considerations for using this feature.</span></span> <span data-ttu-id="4ef70-222">Další informace najdete v tématu [inicializace souboru databáze](https://msdn.microsoft.com/library/ms175935.aspx).</span><span class="sxs-lookup"><span data-stu-id="4ef70-222">For more information, see [Database File Initialization](https://msdn.microsoft.com/library/ms175935.aspx).</span></span>

* <span data-ttu-id="4ef70-223">**operace autogrow** se považuje za jenom možnost pro neočekávané růstu.</span><span class="sxs-lookup"><span data-stu-id="4ef70-223">**autogrow** is considered to be merely a contingency for unexpected growth.</span></span> <span data-ttu-id="4ef70-224">Řízení nebyla růstu protokolu a data na základě každodenní s automaticky zvětšovat.</span><span class="sxs-lookup"><span data-stu-id="4ef70-224">Do not manage your data and log growth on a day-to-day basis with autogrow.</span></span> <span data-ttu-id="4ef70-225">Pokud se používá k automatické zvětšování, předem zvětšení pomocí přepínače velikost souboru.</span><span class="sxs-lookup"><span data-stu-id="4ef70-225">If autogrow is used, pre-grow the file using the Size switch.</span></span>

* <span data-ttu-id="4ef70-226">Zajistěte, aby **autoshrink** vypnutá, aby se zabránilo zbytečným režijní náklady, který může negativně ovlivnit výkon.</span><span class="sxs-lookup"><span data-stu-id="4ef70-226">Make sure **autoshrink** is disabled to avoid unnecessary overhead that can negatively affect performance.</span></span>

* <span data-ttu-id="4ef70-227">Přesunete všechny databáze na datové disky, včetně systémové databáze.</span><span class="sxs-lookup"><span data-stu-id="4ef70-227">Move all databases to data disks, including system databases.</span></span> <span data-ttu-id="4ef70-228">Další informace najdete v tématu [přesunout systémové databáze](https://msdn.microsoft.com/library/ms345408.aspx).</span><span class="sxs-lookup"><span data-stu-id="4ef70-228">For more information, see [Move System Databases](https://msdn.microsoft.com/library/ms345408.aspx).</span></span>

* <span data-ttu-id="4ef70-229">Přesun serveru SQL Server chyba protokolu a trasování souboru adresářů do datových disků.</span><span class="sxs-lookup"><span data-stu-id="4ef70-229">Move SQL Server error log and trace file directories to data disks.</span></span> <span data-ttu-id="4ef70-230">To můžete provést v nástroji SQL Server Configuration Manager tak, že kliknete pravým tlačítkem na instanci serveru SQL a výběr vlastností.</span><span class="sxs-lookup"><span data-stu-id="4ef70-230">This can be done in SQL Server Configuration Manager by right-clicking your SQL Server instance and selecting properties.</span></span> <span data-ttu-id="4ef70-231">Chyba nastavení souboru protokolu a trasování lze změnit v **parametry spuštění** kartě. Adresář Dump je uveden v **Upřesnit** kartě. Následující snímek obrazovky ukazuje, kde má být vyhledán parametr spuštění protokolu chyby.</span><span class="sxs-lookup"><span data-stu-id="4ef70-231">The error log and trace file settings can be changed in the **Startup Parameters** tab. The Dump Directory is specified in the **Advanced** tab. The following screenshot shows where to look for the error log startup parameter.</span></span>

    ![Snímek obrazovky protokolu chyb SQL](./media/virtual-machines-windows-sql-performance/sql_server_error_log_location.png)

* <span data-ttu-id="4ef70-233">Nastavte výchozí zálohování a databáze umístění souborů.</span><span class="sxs-lookup"><span data-stu-id="4ef70-233">Setup default backup and database file locations.</span></span> <span data-ttu-id="4ef70-234">Použijte doporučení v tomto tématu a proveďte změny v okně vlastností serveru.</span><span class="sxs-lookup"><span data-stu-id="4ef70-234">Use the recommendations in this topic, and make the changes in the Server properties window.</span></span> <span data-ttu-id="4ef70-235">Pokyny najdete v tématu [zobrazit nebo změnit výchozí umístění pro Data a soubory protokolů (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span><span class="sxs-lookup"><span data-stu-id="4ef70-235">For instructions, see [View or Change the Default Locations for Data and Log Files (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span></span> <span data-ttu-id="4ef70-236">Následující snímek obrazovky ukazuje, kde k provedení těchto změn.</span><span class="sxs-lookup"><span data-stu-id="4ef70-236">The following screenshot demonstrates where to make these changes.</span></span>

    ![Soubory protokolu SQL dat a zálohování](./media/virtual-machines-windows-sql-performance/sql_server_default_data_log_backup_locations.png)
* <span data-ttu-id="4ef70-238">Povolte uzamčených stránek ke snížení vstupně-výstupní operace a všech aktivit stránkování.</span><span class="sxs-lookup"><span data-stu-id="4ef70-238">Enable locked pages to reduce IO and any paging activities.</span></span> <span data-ttu-id="4ef70-239">Další informace najdete v tématu [Povolit zámek stránky v možnosti paměti (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span><span class="sxs-lookup"><span data-stu-id="4ef70-239">For more information, see [Enable the Lock Pages in Memory Option (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span></span>

* <span data-ttu-id="4ef70-240">Pokud používáte systém SQL Server 2012, nainstalujte Service Pack 1 kumulativní aktualizací 10.</span><span class="sxs-lookup"><span data-stu-id="4ef70-240">If you are running SQL Server 2012, install Service Pack 1 Cumulative Update 10.</span></span> <span data-ttu-id="4ef70-241">Tato aktualizace obsahuje opravy pro nízký výkon na vstupně-výstupní operace při spuštění vyberte Select dočasné tabulky v systému SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="4ef70-241">This update contains the fix for poor performance on I/O when you execute select into temporary table statement in SQL Server 2012.</span></span> <span data-ttu-id="4ef70-242">Informace najdete v tématu to [článku znalostní báze](http://support.microsoft.com/kb/2958012).</span><span class="sxs-lookup"><span data-stu-id="4ef70-242">For information, see this [knowledge base article](http://support.microsoft.com/kb/2958012).</span></span>

* <span data-ttu-id="4ef70-243">Vezměte v úvahu všechny datové soubory byla zahájena komprese při přenosu a konec Azure.</span><span class="sxs-lookup"><span data-stu-id="4ef70-243">Consider compressing any data files when transferring in/out of Azure.</span></span>

## <a name="feature-specific-guidance"></a><span data-ttu-id="4ef70-244">Konkrétní pokyny funkce</span><span class="sxs-lookup"><span data-stu-id="4ef70-244">Feature specific guidance</span></span>

<span data-ttu-id="4ef70-245">Některá nasazení může dosáhnout výhody další výkonu pomocí složitější postupy konfigurace.</span><span class="sxs-lookup"><span data-stu-id="4ef70-245">Some deployments may achieve additional performance benefits using more advanced configuration techniques.</span></span> <span data-ttu-id="4ef70-246">V následujícím seznamu jsou uvedeny některé funkce serveru SQL Server, které vám může pomoct můžete dosáhnout lepšího výkonu:</span><span class="sxs-lookup"><span data-stu-id="4ef70-246">The following list highlights some SQL Server features that can help you to achieve better performance:</span></span>

* <span data-ttu-id="4ef70-247">**Zálohování do úložiště Azure**: při provádění zálohování pro SQL Server běžící na virtuálních počítačích Azure, můžete použít [zálohování systému SQL Server na adresu URL](https://msdn.microsoft.com/library/dn435916.aspx).</span><span class="sxs-lookup"><span data-stu-id="4ef70-247">**Backup to Azure storage**: When performing backups for SQL Server running in Azure virtual machines, you can use [SQL Server Backup to URL](https://msdn.microsoft.com/library/dn435916.aspx).</span></span> <span data-ttu-id="4ef70-248">Tato funkce je k dispozici od verze SQL Server 2012 SP1 CU2 a doporučené pro zálohování na disky připojené data.</span><span class="sxs-lookup"><span data-stu-id="4ef70-248">This feature is available starting with SQL Server 2012 SP1 CU2 and recommended for backing up to the attached data disks.</span></span> <span data-ttu-id="4ef70-249">Pokud je zálohování a obnovení do nebo ze služby Azure storage, postupujte podle doporučení uvedených v [SQL serveru zálohování na adresu URL osvědčené postupy a řešení potíží a obnovení ze zálohy uložené ve službě Azure Storage](https://msdn.microsoft.com/library/jj919149.aspx).</span><span class="sxs-lookup"><span data-stu-id="4ef70-249">When you backup/restore to/from Azure storage, follow the recommendations provided at [SQL Server Backup to URL Best Practices and Troubleshooting and Restoring from Backups Stored in Azure Storage](https://msdn.microsoft.com/library/jj919149.aspx).</span></span> <span data-ttu-id="4ef70-250">Můžete také automatizovat tyto zálohy pomocí [automatizované zálohování pro SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="4ef70-250">You can also automate these backups using [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

    <span data-ttu-id="4ef70-251">Starších než SQL Server 2012, můžete použít [zálohování systému SQL Server pro nástroj Azure](https://www.microsoft.com/download/details.aspx?id=40740).</span><span class="sxs-lookup"><span data-stu-id="4ef70-251">Prior to SQL Server 2012, you can use [SQL Server Backup to Azure Tool](https://www.microsoft.com/download/details.aspx?id=40740).</span></span> <span data-ttu-id="4ef70-252">Tento nástroj může pomoci zvýšit zálohování propustnost pomocí více cílů zálohování stripe.</span><span class="sxs-lookup"><span data-stu-id="4ef70-252">This tool can help to increase backup throughput using multiple backup stripe targets.</span></span>

* <span data-ttu-id="4ef70-253">**Datové soubory SQL serveru v Azure**: Tato nová funkce [datových souborů SQL serveru v Azure](https://msdn.microsoft.com/library/dn385720.aspx), je k dispozici od verze SQL Server 2014.</span><span class="sxs-lookup"><span data-stu-id="4ef70-253">**SQL Server Data Files in Azure**: This new feature, [SQL Server Data Files in Azure](https://msdn.microsoft.com/library/dn385720.aspx), is available starting with SQL Server 2014.</span></span> <span data-ttu-id="4ef70-254">Ukazuje vlastnosti porovnatelný z hlediska výkonu jako pomocí Azure datových disků, systémem SQL Server s datovými soubory v Azure.</span><span class="sxs-lookup"><span data-stu-id="4ef70-254">Running SQL Server with data files in Azure demonstrates comparable performance characteristics as using Azure data disks.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4ef70-255">Další kroky</span><span class="sxs-lookup"><span data-stu-id="4ef70-255">Next Steps</span></span>

<span data-ttu-id="4ef70-256">Osvědčené postupy zabezpečení, najdete v části [důležité informace o zabezpečení pro SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span><span class="sxs-lookup"><span data-stu-id="4ef70-256">For security best practices, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

<span data-ttu-id="4ef70-257">Přečtěte si další témata virtuálního počítače systému SQL Server na [SQL Server na Přehled virtuálních počítačů Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4ef70-257">Review other SQL Server Virtual Machine topics at [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
