---
title: "aaaSQL vzory aplikace Server na virtuálních počítačích | Microsoft Docs"
description: "Tento článek se zabývá vzory aplikace pro systém SQL Server na virtuálních počítačích Azure. Poskytuje řešení architekty a vývojáře základ pro dobrý aplikace architektury a návrhu."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
editor: 
tags: azure-service-management,azure-resource-manager
ms.assetid: 41863c8d-f3a3-4584-ad86-b95094365e05
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 05/31/2017
ms.author: ninarn
ms.openlocfilehash: e18597598fdf9fe534ed07331d6f531d4dca0601
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="application-patterns-and-development-strategies-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="c3994-104">Modely aplikací a vývojové strategie pro SQL Server v Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="c3994-104">Application Patterns and Development Strategies for SQL Server in Azure Virtual Machines</span></span>
[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="summary"></a><span data-ttu-id="c3994-105">Shrnutí:</span><span class="sxs-lookup"><span data-stu-id="c3994-105">Summary:</span></span>
<span data-ttu-id="c3994-106">Určení, které vzor aplikací nebo toouse vzory pro vaše aplikace na serveru SQL v Azure prostředí je rozhodnutí o návrhu důležité a vyžaduje důkladná znalost jak spolupracují systému SQL Server a jednotlivé komponenty infrastruktury Azure .</span><span class="sxs-lookup"><span data-stu-id="c3994-106">Determining which application pattern or patterns toouse for your SQL-Server-based applications in Azure environment is an important design decision and it requires a solid understanding of how SQL Server and each infrastructure component of Azure work together.</span></span> <span data-ttu-id="c3994-107">Se systémem SQL Server ve službách infrastruktury Azure můžete snadno migrovat, údržbu a monitorování vaší existující systém SQL Server aplikací postavené na systému Windows Server toovirtual počítačů v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-107">With SQL Server in Azure Infrastructure Services, you can easily migrate, maintain, and monitor your existing SQL Server applications built-on Windows Server toovirtual machines in Azure.</span></span>

<span data-ttu-id="c3994-108">Hello cílem tohoto článku je tooprovide řešení architekty a vývojáře a základ pro dobrý aplikace architektury a návrhu, které může kliknout, při migraci stávající aplikace tooAzure jako jako vývoj nových aplikací v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-108">hello goal of this article is tooprovide solution architects and developers a foundation for good application architecture and design, which they can follow when migrating existing applications tooAzure as well as developing new applications in Azure.</span></span>

<span data-ttu-id="c3994-109">Pro každou aplikaci vzor zjistíte, místní scénář, jeho odpovídající řešení využívajících cloud, a hello související technických doporučení.</span><span class="sxs-lookup"><span data-stu-id="c3994-109">For each application pattern, you will find an on-premises scenario, its respective cloud-enabled solution, and hello related technical recommendations.</span></span> <span data-ttu-id="c3994-110">Kromě toho hello článek popisuje specifické pro Azure vývoj strategie tak, aby vaše aplikace můžete navrhnout správně.</span><span class="sxs-lookup"><span data-stu-id="c3994-110">In addition, hello article discusses Azure-specific development strategies so that you can design your applications correctly.</span></span> <span data-ttu-id="c3994-111">Kvůli toohello mnoha schémat možné aplikace, se doporučuje architekty a vývojáře se by měl vybrat nejvhodnější vzor hello jejich aplikace a uživatele.</span><span class="sxs-lookup"><span data-stu-id="c3994-111">Due toohello many possible application patterns, it’s recommended that architects and developers should choose hello most appropriate pattern for their applications and users.</span></span>

<span data-ttu-id="c3994-112">**Přispěvatele do technického:** Leoš Carlos Vargas sleďů, Madhan Arumugam Ramakrishnan</span><span class="sxs-lookup"><span data-stu-id="c3994-112">**Technical Contributors:** Luis Carlos Vargas Herring, Madhan Arumugam Ramakrishnan</span></span>

<span data-ttu-id="c3994-113">**Odborní recenzenti:** Corey Sanders, Drew McDaniel, Narayan Annamalai, Nir Mashkowski, Sanjay Mishra, Silvano Coriani, Stefan Schackow Tim Hickey, Tim Wieman, Xin Jin</span><span class="sxs-lookup"><span data-stu-id="c3994-113">**Technical Reviewers:** Corey Sanders, Drew McDaniel, Narayan Annamalai, Nir Mashkowski, Sanjay Mishra, Silvano Coriani, Stefan Schackow, Tim Hickey, Tim Wieman, Xin Jin</span></span>

## <a name="introduction"></a><span data-ttu-id="c3994-114">Úvod</span><span class="sxs-lookup"><span data-stu-id="c3994-114">Introduction</span></span>
<span data-ttu-id="c3994-115">Mnoho typů vícevrstvé aplikace můžete vyvíjet oddělením hello součástí hello jinou aplikaci vrstvy na různé počítače stejně jako samostatné součásti.</span><span class="sxs-lookup"><span data-stu-id="c3994-115">You can develop many types of n-tier applications by separating hello components of hello different application layers on different machines as well as in separate components.</span></span> <span data-ttu-id="c3994-116">Například můžete umístit hello klientská aplikace a obchodní pravidla součásti v jeden počítač, front-end webové vrstvy a součásti úroveň přístupu dat v jiném počítači a vrstvu databázi back-end v jiném počítači.</span><span class="sxs-lookup"><span data-stu-id="c3994-116">For example, you can place hello client application and business rules components in one machine, front-end web tier and data access tier components in another machine, and a back-end database tier in another machine.</span></span> <span data-ttu-id="c3994-117">Tento druh strukturování pomáhá izolovat jednotlivých úrovní od sebe navzájem.</span><span class="sxs-lookup"><span data-stu-id="c3994-117">This kind of structuring helps isolate each tier from each other.</span></span> <span data-ttu-id="c3994-118">Pokud změníte, kde vycházejí z data, není potřeba toochange hello klienta nebo webovou aplikaci ale pouze hello součásti úroveň přístupu data.</span><span class="sxs-lookup"><span data-stu-id="c3994-118">If you change where data comes from, you don’t need toochange hello client or web application but only hello data access tier components.</span></span>

<span data-ttu-id="c3994-119">Typické *n vrstvá* aplikace obsahuje hello prezentační vrstvy, hello obchodní vrstvou a datovou vrstvou hello:</span><span class="sxs-lookup"><span data-stu-id="c3994-119">A typical *n-tier* application includes hello presentation tier, hello business tier, and hello data tier:</span></span>

| <span data-ttu-id="c3994-120">Úroveň</span><span class="sxs-lookup"><span data-stu-id="c3994-120">Tier</span></span> | <span data-ttu-id="c3994-121">Popis</span><span class="sxs-lookup"><span data-stu-id="c3994-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c3994-122">**Prezentace**</span><span class="sxs-lookup"><span data-stu-id="c3994-122">**Presentation**</span></span> |<span data-ttu-id="c3994-123">Hello *prezentační vrstvy* (webová vrstva z vrstvy front-end) je hello vrstvy, ve kterém uživatelé pracují s aplikací.</span><span class="sxs-lookup"><span data-stu-id="c3994-123">hello *presentation tier* (web tier, front-end tier) is hello layer in which users interact with an application.</span></span> |
| <span data-ttu-id="c3994-124">**Firmy**</span><span class="sxs-lookup"><span data-stu-id="c3994-124">**Business**</span></span> |<span data-ttu-id="c3994-125">Hello *obchodní vrstvy* (střední úroveň) je vrstva hello této hello prezentační vrstvou a hello data vrstvy použití toocommunicate mezi sebou a zahrnuje hello základní funkce systému hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-125">hello *business tier* (middle tier) is hello layer that hello presentation tier and hello data tier use toocommunicate with each other and includes hello core functionality of hello system.</span></span> |
| <span data-ttu-id="c3994-126">**Data**</span><span class="sxs-lookup"><span data-stu-id="c3994-126">**Data**</span></span> |<span data-ttu-id="c3994-127">Hello *datové vrstvy* je v podstatě hello serveru, která ukládá data aplikace (například serveru se systémem SQL Server).</span><span class="sxs-lookup"><span data-stu-id="c3994-127">hello *data tier* is basically hello server that stores an application's data (for example, a server running SQL Server).</span></span> |

<span data-ttu-id="c3994-128">Aplikačními vrstvami popisují hello logická seskupení hello funkce a součásti v aplikaci; zatímco vrstev popisují hello fyzické distribuce hello funkce a součásti na samostatné fyzické servery, počítače, sítě nebo vzdálené umístění.</span><span class="sxs-lookup"><span data-stu-id="c3994-128">Application layers describe hello logical groupings of hello functionality and components in an application; whereas tiers describe hello physical distribution of hello functionality and components on separate physical servers, computers, networks, or remote locations.</span></span> <span data-ttu-id="c3994-129">Hello vrstvy aplikace může nacházet v hello stejný fyzický počítač (hello stejné vrstvě) nebo mohou být distribuovány v samostatných počítačích (n vrstvá) a hello součásti v každé vrstvě komunikovat s komponentami v jiných vrstev prostřednictvím dobře definovaných rozhraní.</span><span class="sxs-lookup"><span data-stu-id="c3994-129">hello layers of an application may reside on hello same physical computer (hello same tier) or may be distributed over separate computers (n-tier), and hello components in each layer communicate with components in other layers through well-defined interfaces.</span></span> <span data-ttu-id="c3994-130">Si můžete představit hello termín vrstvy jako odkazující toophysical distribuční vzory, jako je dvouvrstvá a třívrstvá, n vrstvá.</span><span class="sxs-lookup"><span data-stu-id="c3994-130">You can think of hello term tier as referring toophysical distribution patterns such as two-tier, three-tier, and n-tier.</span></span> <span data-ttu-id="c3994-131">A **2vrstvý vzor aplikací** obsahuje dvě úrovně aplikace: aplikační server a databázový server.</span><span class="sxs-lookup"><span data-stu-id="c3994-131">A **2-tier application pattern** contains two application tiers: application server and database server.</span></span> <span data-ttu-id="c3994-132">dochází k Hello přímou komunikaci mezi hello aplikační server a databázový server hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-132">hello direct communication happens between hello application server and hello database server.</span></span> <span data-ttu-id="c3994-133">Hello aplikační server obsahuje součásti webovou vrstvu a obchodní vrstvy.</span><span class="sxs-lookup"><span data-stu-id="c3994-133">hello application server contains both web-tier and business-tier components.</span></span> <span data-ttu-id="c3994-134">V **3vrstvý vzor aplikací**, existují tři aplikačními vrstvami: webový server, aplikační server, který obsahuje vrstvu obchodní logiky hello nebo součástí obchodní vrstvy data access components a databázový server hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-134">In **3-tier application pattern**, there are three application tiers: web server, application server, which contains hello business logic tier and/or business tier data access components, and hello database server.</span></span> <span data-ttu-id="c3994-135">přes hello aplikační server se stane Hello komunikace mezi hello webový server a databázový server hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-135">hello communication between hello web server and hello database server happens over hello application server.</span></span> <span data-ttu-id="c3994-136">Podrobné informace o aplikaci vrstvy a vrstvy, najdete v části [Průvodce architekturou aplikace Microsoft](https://msdn.microsoft.com/library/ff650706.aspx).</span><span class="sxs-lookup"><span data-stu-id="c3994-136">For detailed information on application layers and tiers, see [Microsoft Application Architecture Guide](https://msdn.microsoft.com/library/ff650706.aspx).</span></span>

<span data-ttu-id="c3994-137">Než začnete přečtení tohoto článku, měli byste mít znalosti na základní koncepty hello systému SQL Server a Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-137">Before you start reading this article, you should have knowledge on hello fundamental concepts of SQL Server and Azure.</span></span> <span data-ttu-id="c3994-138">Informace najdete v tématu [SQL Server Books Online](https://msdn.microsoft.com/library/bb545450.aspx), [systému SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) a [Azure.com](https://azure.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="c3994-138">For information, see [SQL Server Books Online](https://msdn.microsoft.com/library/bb545450.aspx), [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and [Azure.com](https://azure.microsoft.com/).</span></span>

<span data-ttu-id="c3994-139">Tento článek popisuje několik vzory aplikace, které může být vhodné pro vaše jednoduché aplikace, jakož i hello vysoce komplexní podnikové aplikace.</span><span class="sxs-lookup"><span data-stu-id="c3994-139">This article describes several application patterns that can be suitable for your simple applications as well as hello highly complex enterprise applications.</span></span> <span data-ttu-id="c3994-140">Před s podrobnostmi o jednotlivých vzor, doporučujeme, aby byste si měli přečíst s hello dostupných dat služby úložiště v Azure, jako například [Azure Storage](../../../storage/common/storage-introduction.md), [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md), a [ SQL Server ve virtuálním počítači Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-140">Before detailing each pattern, we recommend that you should familiarize yourself with hello available data storage services in Azure, such as [Azure Storage](../../../storage/common/storage-introduction.md), [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md), and [SQL Server in an Azure Virtual Machine](virtual-machines-windows-sql-server-iaas-overview.md).</span></span> <span data-ttu-id="c3994-141">toomake hello nejlepší rozhodnutí o návrhu pro vaše aplikace a pochopit, kdy toouse, jaké úložiště dat služby jasně.</span><span class="sxs-lookup"><span data-stu-id="c3994-141">toomake hello best design decisions for your applications, understand when toouse which data storage service clearly.</span></span>

### <a name="choose-sql-server-in-an-azure-virtual-machine-when"></a><span data-ttu-id="c3994-142">Zvolte systému SQL Server ve virtuálním počítači Azure, když:</span><span class="sxs-lookup"><span data-stu-id="c3994-142">Choose SQL Server in an Azure Virtual Machine, when:</span></span>
* <span data-ttu-id="c3994-143">Je nutné ovládací prvek v systému SQL Server a Windows.</span><span class="sxs-lookup"><span data-stu-id="c3994-143">You need control on SQL Server and Windows.</span></span> <span data-ttu-id="c3994-144">Například to může zahrnovat hello verze systému SQL Server, speciální opravy hotfix, konfigurace výkonu atd.</span><span class="sxs-lookup"><span data-stu-id="c3994-144">For example, this might include hello SQL Server version, special hotfixes, performance configuration, etc.</span></span>
* <span data-ttu-id="c3994-145">Potřebujete úplnou kompatibilitu s místním SQL serverem a mají toomove existující aplikace tooAzure jako-je.</span><span class="sxs-lookup"><span data-stu-id="c3994-145">You need a full compatibility with SQL Server on-premises and want toomove existing applications tooAzure as-is.</span></span>
* <span data-ttu-id="c3994-146">Chcete tooleverage hello možnosti hello prostředí Azure, ale Azure SQL Database nepodporuje všechny funkce hello, které vaše aplikace vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="c3994-146">You want tooleverage hello capabilities of hello Azure environment but Azure SQL Database does not support all hello features that your application requires.</span></span> <span data-ttu-id="c3994-147">To může zahrnovat hello následující oblasti:</span><span class="sxs-lookup"><span data-stu-id="c3994-147">This could include hello following areas:</span></span>
  
  * <span data-ttu-id="c3994-148">**Velikost databáze**: během hello Tento článek byl aktualizován, databáze SQL podporuje až too1 TB dat databázi systému.</span><span class="sxs-lookup"><span data-stu-id="c3994-148">**Database size**: At hello time this article was updated, SQL Database supports a database of up too1 TB of data.</span></span> <span data-ttu-id="c3994-149">Pokud vaše aplikace vyžaduje více než 1 TB dat a nechcete, aby tooimplement vlastní horizontálního dělení řešení, doporučuje se použití systému SQL Server v virtuálního počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-149">If your application requires more than 1 TB of data and you don’t want tooimplement custom sharding solutions, it’s recommended that you use SQL Server in an Azure Virtual Machine.</span></span> <span data-ttu-id="c3994-150">Hello nejnovější informace najdete v tématu [škálování se databáze SQL Azure](https://msdn.microsoft.com/library/azure/dn495641.aspx) a [úrovních služby databáze SQL Azure a úrovně výkonu](../../../sql-database/sql-database-service-tiers.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-150">For hello latest information, see [Scaling Out Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn495641.aspx) and [Azure SQL Database Service Tiers and Performance Levels](../../../sql-database/sql-database-service-tiers.md).</span></span>
  * <span data-ttu-id="c3994-151">**Dodržování předpisů HIPAA**: zdravotní péče zákazníků a nezávislí výrobci softwaru (ISV) mohou vybrat [systému SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) místo [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md) protože SQL Server virtuálním počítači Azure je zahrnutý ve HIPAA obchodní přidružit smlouvy (BÁ).</span><span class="sxs-lookup"><span data-stu-id="c3994-151">**HIPAA compliance**: Healthcare customers and Independent Software Vendors (ISVs) might choose [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) instead of [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md) because SQL Server in an Azure Virtual Machine is covered by HIPAA Business Associate Agreement (BAA).</span></span> <span data-ttu-id="c3994-152">Informace o dodržování předpisů najdete v tématu [Microsoft Azure Trust Center: dodržování předpisů](https://azure.microsoft.com/support/trust-center/compliance/).</span><span class="sxs-lookup"><span data-stu-id="c3994-152">For information on compliance, see [Microsoft Azure Trust Center: Compliance](https://azure.microsoft.com/support/trust-center/compliance/).</span></span>
  * <span data-ttu-id="c3994-153">**Funkce na úrovni instance**: V tomto okamžiku SQL Database nepodporuje funkce, které za provozu mimo hello databáze (například odkazované servery agenta úlohy, FileStream, služby Service Broker, atd.).</span><span class="sxs-lookup"><span data-stu-id="c3994-153">**Instance-level features**: At this time, SQL Database doesn’t support features that live outside of hello database (such as Linked Servers, Agent jobs, FileStream, Service Broker, etc.).</span></span> <span data-ttu-id="c3994-154">Další informace najdete v tématu [pokyny databáze SQL Azure a omezení](https://msdn.microsoft.com/library/azure/ff394102.aspx).</span><span class="sxs-lookup"><span data-stu-id="c3994-154">For more information, see [Azure SQL Database Guidelines and Limitations](https://msdn.microsoft.com/library/azure/ff394102.aspx).</span></span>

## <a name="1-tier-simple-single-virtual-machine"></a><span data-ttu-id="c3994-155">vrstvě 1 (jednoduchý): jeden virtuální počítač</span><span class="sxs-lookup"><span data-stu-id="c3994-155">1-tier (simple): single virtual machine</span></span>
<span data-ttu-id="c3994-156">V tomto vzoru aplikaci nasadíte aplikaci systému SQL Server a databáze tooa samostatný virtuální počítač v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-156">In this application pattern, you deploy your SQL Server application and database tooa standalone virtual machine in Azure.</span></span> <span data-ttu-id="c3994-157">Hello stejný virtuální počítač obsahuje klienta nebo webové aplikace, komponenty business, vrstva přístupu k datům a databázový server hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-157">hello same virtual machine contains your client/web application, business components, data access layer, and hello database server.</span></span> <span data-ttu-id="c3994-158">Hello prezentační, obchodní a datové přístupového kódu jsou logicky oddělené ale se fyzicky nacházejí v počítači s jedním serverem.</span><span class="sxs-lookup"><span data-stu-id="c3994-158">hello presentation, business, and data access code are logically separated but are physically located in a single-server machine.</span></span> <span data-ttu-id="c3994-159">Většina zákazníků začínat tento vzor aplikací a pak škálovat tak, že přidáte další webové role nebo virtuálních počítačů systému tootheir.</span><span class="sxs-lookup"><span data-stu-id="c3994-159">Most customers start with this application pattern and then, they scale out by adding more web roles or virtual machines tootheir system.</span></span>

<span data-ttu-id="c3994-160">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="c3994-160">This application pattern is useful when:</span></span>

* <span data-ttu-id="c3994-161">Chcete tooperform Jednoduchá migrace tooAzure platformy tooevaluate zda hello platformy přijme požadavky na aplikace, nebo ne.</span><span class="sxs-lookup"><span data-stu-id="c3994-161">You want tooperform a simple migration tooAzure platform tooevaluate whether hello platform answers your application’s requirements or not.</span></span>
* <span data-ttu-id="c3994-162">Chcete tookeep všechny hello aplikačními vrstvami hostované v hello stejné virtuální počítače v hello stejné Azure datového centra tooreduce hello latenci mezi vrstvami.</span><span class="sxs-lookup"><span data-stu-id="c3994-162">You want tookeep all hello application tiers hosted in hello same virtual machine in hello same Azure data center tooreduce hello latency between tiers.</span></span>
* <span data-ttu-id="c3994-163">Chcete tooquickly zřídit vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="c3994-163">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c3994-164">Chcete tooperform zátěžové testování u různých úrovně zatížení, ale ve stejnou dobu, není vhodné tooown a udržovat mnoho fyzického počítače celou dobu hello hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-164">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>

<span data-ttu-id="c3994-165">Hello následující diagram ukazuje jednoduchý místní scénář a nasazení jeho řešení cloud povolené na jednom virtuálním počítači v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-165">hello following diagram demonstrates a simple on-premises scenario and how you can deploy its cloud enabled solution in a single virtual machine in Azure.</span></span>

![1vrstvý vzor aplikací](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728008.png)

<span data-ttu-id="c3994-167">Nasazení hello obchodní vrstvy (obchodní logiku a data přístup k součástem) na hello stejné fyzické vrstvě jako hello prezentační vrstva můžete zvýšit výkon aplikace, pokud je nutné použít samostatné vrstvy kvůli tooscalability nebo bezpečnostní otázky.</span><span class="sxs-lookup"><span data-stu-id="c3994-167">Deploying hello business layer (business logic and data access components) on hello same physical tier as hello presentation layer can maximize application performance, unless you must use a separate tier due tooscalability or security concerns.</span></span>

<span data-ttu-id="c3994-168">Vzhledem k tomu, že to je velmi běžné toostart vzor s, můžete se setkat hello následujícího článku na migraci užitečná pro přesun vaše data tooyour virtuální počítač SQL Server: [migrace databáze tooSQL Server na virtuálním počítači Azure](virtual-machines-windows-migrate-sql.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-168">Since this is a very common pattern toostart with, you might find hello following article on migration useful for moving your data tooyour SQL Server VM: [Migrating a Database tooSQL Server on an Azure VM](virtual-machines-windows-migrate-sql.md).</span></span>

## <a name="3-tier-simple-multiple-virtual-machines"></a><span data-ttu-id="c3994-169">3vrstvá (jednoduchý): více virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="c3994-169">3-tier (simple): multiple virtual machines</span></span>
<span data-ttu-id="c3994-170">V tomto vzoru aplikace nasadit 3vrstvé aplikace v Azure tak, že každý aplikační vrstvě jiný virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="c3994-170">In this application pattern, you deploy a 3-tier application in Azure by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="c3994-171">To poskytuje flexibilní prostředí pro snadné škálování zatížení a škálování scénáře.</span><span class="sxs-lookup"><span data-stu-id="c3994-171">This provides a flexible environment for an easy scale-up and scale-out scenarios.</span></span> <span data-ttu-id="c3994-172">Pokud jeden virtuální počítač obsahuje klienta nebo webové aplikace, hello jiného hostitelem součásti vaší firmy a hello další databázový server hello jednoho hostitele.</span><span class="sxs-lookup"><span data-stu-id="c3994-172">When one virtual machine contains your client/web application, hello other one hosts your business components, and hello other one hosts hello database server.</span></span>

<span data-ttu-id="c3994-173">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="c3994-173">This application pattern is useful when:</span></span>

* <span data-ttu-id="c3994-174">Chcete tooperform migrace komplexní databáze aplikace tooAzure virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="c3994-174">You want tooperform a migration of complex database applications tooAzure Virtual Machines.</span></span>
* <span data-ttu-id="c3994-175">Chcete toobe vrstev různé aplikace hostované v různých oblastech.</span><span class="sxs-lookup"><span data-stu-id="c3994-175">You want different application tiers toobe hosted in different regions.</span></span> <span data-ttu-id="c3994-176">Může mít například sdílené databáze, které jsou nasazené toomultiple oblasti pro účely vytváření sestav.</span><span class="sxs-lookup"><span data-stu-id="c3994-176">For example, you might have shared databases that are deployed toomultiple regions for reporting purposes.</span></span>
* <span data-ttu-id="c3994-177">Budete chtít toomove podnikové aplikace z místního virtualizované platformy tooAzure virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="c3994-177">You want toomove enterprise applications from on-premises virtualized platforms tooAzure Virtual Machines.</span></span> <span data-ttu-id="c3994-178">Podrobné informace o podnikové aplikace, najdete v části [co je podniková aplikace](https://msdn.microsoft.com/library/aa267045.aspx).</span><span class="sxs-lookup"><span data-stu-id="c3994-178">For a detailed discussion on enterprise applications, see [What is an Enterprise Application](https://msdn.microsoft.com/library/aa267045.aspx).</span></span>
* <span data-ttu-id="c3994-179">Chcete tooquickly zřídit vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="c3994-179">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c3994-180">Chcete tooperform zátěžové testování u různých úrovně zatížení, ale ve stejnou dobu, není vhodné tooown a udržovat mnoho fyzického počítače celou dobu hello hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-180">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>

<span data-ttu-id="c3994-181">Hello následující diagram ukazuje, jak můžete umístit jednoduché 3vrstvé aplikace v Azure tak, že každý aplikační vrstvě jiný virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="c3994-181">hello following diagram demonstrates how you can place a simple 3-tier application in Azure by placing each application tier in a different virtual machine.</span></span>

![vzor 3vrstvé aplikace](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728009.png)

<span data-ttu-id="c3994-183">V tomto vzoru aplikace není v jednotlivých vrstvách jenom jeden virtuální počítač (VM).</span><span class="sxs-lookup"><span data-stu-id="c3994-183">In this application pattern, there is only one virtual machine (VM) in each tier.</span></span> <span data-ttu-id="c3994-184">Pokud máte víc virtuálních počítačů v Azure, doporučujeme, abyste nastavili virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="c3994-184">If you have multiple VMs in Azure, we recommend that you set up a virtual network.</span></span> <span data-ttu-id="c3994-185">[Virtuální síť Azure](../../../virtual-network/virtual-networks-overview.md) vytvoří hranici zabezpečení pro důvěryhodné a zároveň umožňuje toocommunicate virtuální počítače mezi sebou přes hello privátní IP adresu.</span><span class="sxs-lookup"><span data-stu-id="c3994-185">[Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) creates a trusted security boundary and also allows VMs toocommunicate among themselves over hello private IP address.</span></span> <span data-ttu-id="c3994-186">Kromě toho vždy ujistěte se, že všechna připojení k Internetu, jdou pouze toohello prezentační vrstvy.</span><span class="sxs-lookup"><span data-stu-id="c3994-186">In addition, always make sure that all Internet connections only go toohello presentation tier.</span></span> <span data-ttu-id="c3994-187">Podle tohoto vzoru aplikace, spravovat hello zabezpečení skupiny pravidel toocontrol přístup k síti.</span><span class="sxs-lookup"><span data-stu-id="c3994-187">When following this application pattern, manage hello network security group rules toocontrol access.</span></span> <span data-ttu-id="c3994-188">Další informace najdete v tématu [povolit externí přístup tooyour virtuální počítač pomocí portálu Azure hello](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c3994-188">For more information, see [Allow external access tooyour VM using hello Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="c3994-189">V diagramu hello může být Internetové protokoly TCP, UDP, HTTP nebo HTTPS.</span><span class="sxs-lookup"><span data-stu-id="c3994-189">In hello diagram, Internet Protocols can be TCP, UDP, HTTP, or HTTPS.</span></span>

> [!NOTE]
> <span data-ttu-id="c3994-190">Nastavení virtuální sítě v Azure je zdarma.</span><span class="sxs-lookup"><span data-stu-id="c3994-190">Setting up a virtual network in Azure is free of charge.</span></span> <span data-ttu-id="c3994-191">Však budou účtovat hello brány VPN, který se připojuje tooon místní.</span><span class="sxs-lookup"><span data-stu-id="c3994-191">However, you are charged for hello VPN gateway that connects tooon-premises.</span></span> <span data-ttu-id="c3994-192">Tento poplatek je založena na hello množství času, který je zřízený a dostupné připojení.</span><span class="sxs-lookup"><span data-stu-id="c3994-192">This charge is based on hello amount of time that connection is provisioned and available.</span></span>
> 
> 

## <a name="2-tier-and-3-tier-with-presentation-tier-scale-out"></a><span data-ttu-id="c3994-193">úroveň 2 a 3 úrovně s prezentační vrstvy Škálováním na více systémů</span><span class="sxs-lookup"><span data-stu-id="c3994-193">2-tier and 3-tier with presentation tier scale-out</span></span>
<span data-ttu-id="c3994-194">V tomto vzoru aplikace nasadit vrstvy 2 nebo 3 úrovně databáze aplikace tooAzure virtuální počítače tak, že každý aplikační vrstvě jiný virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="c3994-194">In this application pattern, you deploy 2-tier or 3-tier database application tooAzure Virtual Machines by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="c3994-195">Kromě toho můžete škálovat hello prezentační vrstvy kvůli tooincreased objem příchozích požadavků klienta.</span><span class="sxs-lookup"><span data-stu-id="c3994-195">In addition, you scale out hello presentation tier due tooincreased volume of incoming client requests.</span></span>

<span data-ttu-id="c3994-196">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="c3994-196">This application pattern is useful when:</span></span>

* <span data-ttu-id="c3994-197">Budete chtít toomove podnikové aplikace z místního virtualizované platformy tooAzure virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="c3994-197">You want toomove enterprise applications from on-premises virtualized platforms tooAzure Virtual Machines.</span></span>
* <span data-ttu-id="c3994-198">Chcete tooscale out hello prezentační vrstvy kvůli tooincreased objem příchozích požadavků klienta.</span><span class="sxs-lookup"><span data-stu-id="c3994-198">You want tooscale out hello presentation tier due tooincreased volume of incoming client requests.</span></span>
* <span data-ttu-id="c3994-199">Chcete tooquickly zřídit vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="c3994-199">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c3994-200">Chcete tooperform zátěžové testování u různých úrovně zatížení, ale ve stejnou dobu, není vhodné tooown a udržovat mnoho fyzického počítače celou dobu hello hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-200">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>
* <span data-ttu-id="c3994-201">Chcete tooown prostředí infrastruktury, které můžete škálovat nahoru a dolů na vyžádání.</span><span class="sxs-lookup"><span data-stu-id="c3994-201">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="c3994-202">Hello následující diagram ukazuje, jak můžete umístit hello aplikačními vrstvami ve více virtuálních počítačů v Azure pomocí škálování hello prezentační vrstvy kvůli tooincreased objem příchozích požadavků klienta.</span><span class="sxs-lookup"><span data-stu-id="c3994-202">hello following diagram demonstrates how you can place hello application tiers in multiple virtual machines in Azure by scaling out hello presentation tier due tooincreased volume of incoming client requests.</span></span> <span data-ttu-id="c3994-203">Jak je vidět v diagramu hello, je zodpovědná za distribuci přenosů mezi několik virtuálních počítačů a také určit, které tooconnect webového serveru na Vyrovnávání zatížení Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-203">As seen in hello diagram, Azure Load Balancer is responsible for distributing traffic across multiple virtual machines and also determining which web server tooconnect to.</span></span> <span data-ttu-id="c3994-204">S více instancí hello webových serverů za službou Vyrovnávání zatížení zajistí vysokou dostupnost hello hello prezentační vrstvy.</span><span class="sxs-lookup"><span data-stu-id="c3994-204">Having multiple instances of hello web servers behind a load balancer ensures hello high availability of hello presentation tier.</span></span>

![Vzor aplikací – prezentační vrstvy s více instancemi](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728010.png)

### <a name="best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier"></a><span data-ttu-id="c3994-206">Osvědčené postupy pro vrstvy 2, 3 úrovně nebo n vrstvá vzorů, které mají víc virtuálních počítačů v jedné vrstvy</span><span class="sxs-lookup"><span data-stu-id="c3994-206">Best practices for 2-tier, 3-tier, or n-tier patterns that have multiple VMs in one tier</span></span>
<span data-ttu-id="c3994-207">Doporučujeme umístit hello virtuálních počítačů, které patří toohello stejné vrstvy v hello stejné cloudové služby a v hello stejné hello sady dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="c3994-207">It’s recommended that you place hello virtual machines that belong toohello same tier in hello same cloud service and in hello same hello availability set.</span></span> <span data-ttu-id="c3994-208">Například, umístěte sadu webové servery v **CloudService1** a **AvailabilitySet1** a sada databázových serverů v **CloudService2** a  **AvailabilitySet2**.</span><span class="sxs-lookup"><span data-stu-id="c3994-208">For example, place a set of web servers in **CloudService1** and **AvailabilitySet1** and a set of database servers in **CloudService2** and **AvailabilitySet2**.</span></span> <span data-ttu-id="c3994-209">V Azure sadu dostupnosti umožňuje tooplace hello vysokou dostupnost uzly do samostatné selhání domén a domén upgradu.</span><span class="sxs-lookup"><span data-stu-id="c3994-209">An availability set in Azure enables you tooplace hello high availability nodes into separate fault domains and upgrade domains.</span></span>

<span data-ttu-id="c3994-210">tooleverage více instancí virtuálního počítače z vrstvy, je nutné tooconfigure nástroj pro vyrovnávání zatížení Azure mezi aplikačními vrstvami.</span><span class="sxs-lookup"><span data-stu-id="c3994-210">tooleverage multiple VM instances of a tier, you need tooconfigure Azure Load Balancer between application tiers.</span></span> <span data-ttu-id="c3994-211">tooconfigure Vyrovnávání zatížení na jednotlivých úrovních samostatně vytvořit koncový bod Vyrovnávání zatížení na jednotlivých úrovních virtuálních počítačích.</span><span class="sxs-lookup"><span data-stu-id="c3994-211">tooconfigure Load Balancer in each tier, create a load-balanced endpoint on each tier’s VMs separately.</span></span> <span data-ttu-id="c3994-212">Pro konkrétní úroveň, nejprve vytvořit virtuální počítače v hello stejné cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="c3994-212">For a specific tier, first create VMs in hello same cloud service.</span></span> <span data-ttu-id="c3994-213">To zajistí, že budou mít hello stejné veřejná virtuální IP adresy.</span><span class="sxs-lookup"><span data-stu-id="c3994-213">This ensures that they have hello same public Virtual IP address.</span></span> <span data-ttu-id="c3994-214">Dále vytvořte koncový bod na jednom z hello virtuální počítače v této vrstvě.</span><span class="sxs-lookup"><span data-stu-id="c3994-214">Next, create an endpoint on one of hello virtual machines on that tier.</span></span> <span data-ttu-id="c3994-215">Pak přiřaďte hello stejný koncový bod toohello jinými virtuálními počítači v této vrstvě služby Vyrovnávání zatížení.</span><span class="sxs-lookup"><span data-stu-id="c3994-215">Then, assign hello same endpoint toohello other virtual machines on that tier for load balancing.</span></span> <span data-ttu-id="c3994-216">Vytvořením sady vyrovnáváním zatížení distribuovat provoz napříč více virtuálních počítačů a také povolit hello Vyrovnávání zatížení toodetermine které tooconnect uzlu při selhání uzlu virtuálního počítače back-end.</span><span class="sxs-lookup"><span data-stu-id="c3994-216">By creating a load-balanced set, you distribute traffic across multiple virtual machines and also allow hello Load Balancer toodetermine which node tooconnect when a backend VM node fails.</span></span> <span data-ttu-id="c3994-217">Například s více instancí hello webových serverů za službou Vyrovnávání zatížení zajistí vysokou dostupnost hello hello prezentační vrstvy.</span><span class="sxs-lookup"><span data-stu-id="c3994-217">For example, having multiple instances of hello web servers behind a load balancer ensures hello high availability of hello presentation tier.</span></span>

<span data-ttu-id="c3994-218">Jako osvědčený postup vždy ujistěte, že všechna připojení k Internetu nejprve přejděte toohello prezentační vrstvy.</span><span class="sxs-lookup"><span data-stu-id="c3994-218">As a best practice, always make sure that all internet connections first go toohello presentation tier.</span></span> <span data-ttu-id="c3994-219">Prezentační vrstva Hello přistupuje k hello obchodní vrstvy a následně hello obchodní vrstvy přistupuje k hello datové vrstvy.</span><span class="sxs-lookup"><span data-stu-id="c3994-219">hello presentation layer accesses hello business tier, and then hello business tier accesses hello data tier.</span></span> <span data-ttu-id="c3994-220">Další informace o přístupu toohello prezentační vrstvy tooallow najdete v tématu [povolit externí přístup tooyour virtuální počítač pomocí portálu Azure hello](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c3994-220">For more information on how tooallow access toohello presentation layer, see [Allow external access tooyour VM using hello Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="c3994-221">Všimněte si, že hello Vyrovnávání zatížení v Azure funguje podobně jako tooload vyrovnávání v místním prostředí.</span><span class="sxs-lookup"><span data-stu-id="c3994-221">Note that hello Load Balancer in Azure works similar tooload balancers in an on-premises environment.</span></span> <span data-ttu-id="c3994-222">Další informace najdete v tématu [pro infrastrukturu Azure služby Vyrovnávání zatížení](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c3994-222">For more information, see [Load balancing for Azure infrastructure services](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="c3994-223">Kromě toho doporučujeme, abyste nastavili privátní sítě pro virtuální počítače pomocí Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="c3994-223">In addition, we recommend that you set up a private network for your virtual machines by using Azure Virtual Network.</span></span> <span data-ttu-id="c3994-224">To jim umožňuje toocommunicate mezi sebou přes hello privátní IP adresu.</span><span class="sxs-lookup"><span data-stu-id="c3994-224">This allows them toocommunicate among themselves over hello private IP address.</span></span> <span data-ttu-id="c3994-225">Další informace najdete v tématu [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-225">For more information, see [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span>

## <a name="2-tier-and-3-tier-with-business-tier-scale-out"></a><span data-ttu-id="c3994-226">úroveň 2 a 3 úrovně s obchodní vrstvy Škálováním na více systémů</span><span class="sxs-lookup"><span data-stu-id="c3994-226">2-tier and 3-tier with business tier scale-out</span></span>
<span data-ttu-id="c3994-227">V tomto vzoru aplikace nasadit vrstvy 2 nebo 3 úrovně databáze aplikace tooAzure virtuální počítače tak, že každý aplikační vrstvě jiný virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="c3994-227">In this application pattern, you deploy 2-tier or 3-tier database application tooAzure Virtual Machines by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="c3994-228">Kromě toho můžete chtít toodistribute hello aplikace server součásti toomultiple virtuálních počítačů z důvodu složitosti toohello vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="c3994-228">In addition, you might want toodistribute hello application server components toomultiple virtual machines due toohello complexity of your application.</span></span>

<span data-ttu-id="c3994-229">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="c3994-229">This application pattern is useful when:</span></span>

* <span data-ttu-id="c3994-230">Budete chtít toomove podnikové aplikace z místního virtualizované platformy tooAzure virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="c3994-230">You want toomove enterprise applications from on-premises virtualized platforms tooAzure Virtual Machines.</span></span>
* <span data-ttu-id="c3994-231">Chcete toodistribute hello aplikace server součásti toomultiple virtuálních počítačů z důvodu složitosti toohello vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="c3994-231">You want toodistribute hello application server components toomultiple virtual machines due toohello complexity of your application.</span></span>
* <span data-ttu-id="c3994-232">Chcete toomove obchodní logiky velkou místní LOB (-obchodní) aplikace tooAzure virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="c3994-232">You want toomove business logic heavy on-premises LOB (line-of-business) applications tooAzure Virtual Machines.</span></span> <span data-ttu-id="c3994-233">Aplikace LOB jsou sady důležitá počítačová aplikace, které jsou důležité toorunning podniku, jako jsou monitorování účtů, lidských zdrojů, mzdy, řízení a prostředek plánování aplikace.</span><span class="sxs-lookup"><span data-stu-id="c3994-233">LOB applications are a set of critical computer applications that are vital toorunning an enterprise, such as accounting, human resources (HR), payroll, supply chain management, and resource planning applications.</span></span>
* <span data-ttu-id="c3994-234">Chcete tooquickly zřídit vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="c3994-234">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c3994-235">Chcete tooperform zátěžové testování u různých úrovně zatížení, ale ve stejnou dobu, není vhodné tooown a udržovat mnoho fyzického počítače celou dobu hello hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-235">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>
* <span data-ttu-id="c3994-236">Chcete tooown prostředí infrastruktury, které můžete škálovat nahoru a dolů na vyžádání.</span><span class="sxs-lookup"><span data-stu-id="c3994-236">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="c3994-237">Hello následující diagram ukazuje scénářem místní a jeho řešení pro cloud povolené.</span><span class="sxs-lookup"><span data-stu-id="c3994-237">hello following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="c3994-238">V tomto scénáři umístit hello aplikačními vrstvami ve více virtuálních počítačů v Azure pomocí škálování hello obchodní vrstvy, obsahující hello vrstvu obchodní logiky a součásti přístup k datům.</span><span class="sxs-lookup"><span data-stu-id="c3994-238">In this scenario, you place hello application tiers in multiple virtual machines in Azure by scaling out hello business tier, which contains hello business logic tier and data access components.</span></span> <span data-ttu-id="c3994-239">Jak je vidět v diagramu hello, je zodpovědná za distribuci přenosů mezi několik virtuálních počítačů a také určit, které tooconnect webového serveru na Vyrovnávání zatížení Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-239">As seen in hello diagram, Azure Load Balancer is responsible for distributing traffic across multiple virtual machines and also determining which web server tooconnect to.</span></span> <span data-ttu-id="c3994-240">Má několik instancí serverů aplikace hello za službou Vyrovnávání zatížení zajistí vysokou dostupnost hello hello obchodní vrstvy.</span><span class="sxs-lookup"><span data-stu-id="c3994-240">Having multiple instances of hello application servers behind a load balancer ensures hello high availability of hello business tier.</span></span> <span data-ttu-id="c3994-241">Další informace najdete v tématu [osvědčené postupy pro vzory vrstvy 2, 3 úrovně nebo vícevrstvé aplikace, které mají více virtuálních počítačů v jedné vrstvy](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).</span><span class="sxs-lookup"><span data-stu-id="c3994-241">For more information, see [Best practices for 2-tier, 3-tier, or n-tier application patterns that have multiple virtual machines in one tier](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).</span></span>

![Vzor aplikací s obchodní vrstvy s více instancemi](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728011.png)

## <a name="2-tier-and-3-tier-with-presentation-and-business-tiers-scale-out-and-hadr"></a><span data-ttu-id="c3994-243">úroveň 2 a 3 úrovně s prezentační a obchodní vrstvy Škálováním na více systémů a funkci hadr současně</span><span class="sxs-lookup"><span data-stu-id="c3994-243">2-tier and 3-tier with presentation and business tiers scale-out and HADR</span></span>
<span data-ttu-id="c3994-244">V tomto vzoru aplikace distribuci hello prezentační vrstvy (webový server) nasadit vrstvy 2 nebo 3 úrovně databáze aplikace tooAzure virtuální počítače a hello virtuální počítače součásti toomultiple obchodní vrstvy (aplikačního serveru).</span><span class="sxs-lookup"><span data-stu-id="c3994-244">In this application pattern, you deploy 2-tier or 3-tier database application tooAzure Virtual Machines by distributing hello presentation tier (web server) and hello business tier (application server) components toomultiple virtual machines.</span></span> <span data-ttu-id="c3994-245">Kromě toho implementovat řešení pro zotavení vysokou dostupnost a po havárii pro vaše databáze ve virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-245">In addition, you implement high-availability and disaster recovery solutions for your databases in Azure virtual machines.</span></span>

<span data-ttu-id="c3994-246">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="c3994-246">This application pattern is useful when:</span></span>

* <span data-ttu-id="c3994-247">Chcete toomove podnikové aplikace z virtualizované platformy místní tooAzure implementací systému SQL Server vysokou dostupnost a po havárii možnosti obnovení.</span><span class="sxs-lookup"><span data-stu-id="c3994-247">You want toomove enterprise applications from virtualized platforms on-premises tooAzure by implementing SQL Server high availability and disaster recovery capabilities.</span></span>
* <span data-ttu-id="c3994-248">Chcete tooscale hello prezentační vrstvou a obchodní vrstvou hello kvůli tooincreased objem příchozí žádosti klientů a složitost hello vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="c3994-248">You want tooscale out hello presentation tier and hello business tier due tooincreased volume of incoming client requests and hello complexity of your application.</span></span>
* <span data-ttu-id="c3994-249">Chcete tooquickly zřídit vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="c3994-249">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c3994-250">Chcete tooperform zátěžové testování u různých úrovně zatížení, ale ve stejnou dobu, není vhodné tooown a udržovat mnoho fyzického počítače celou dobu hello hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-250">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>
* <span data-ttu-id="c3994-251">Chcete tooown prostředí infrastruktury, které můžete škálovat nahoru a dolů na vyžádání.</span><span class="sxs-lookup"><span data-stu-id="c3994-251">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="c3994-252">Hello následující diagram ukazuje scénářem místní a jeho řešení pro cloud povolené.</span><span class="sxs-lookup"><span data-stu-id="c3994-252">hello following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="c3994-253">V tomto scénáři můžete škálovat hello prezentační vrstvou a součásti vrstvy hello firmy v více virtuálních počítačů v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-253">In this scenario, you scale out hello presentation tier and hello business tier components in multiple virtual machines in Azure.</span></span> <span data-ttu-id="c3994-254">Kromě toho implementovat vysokou dostupnost a po havárii obnovení (HADR) techniky pro databáze serveru SQL v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-254">In addition, you implement high availability and disaster recovery (HADR) techniques for SQL Server databases in Azure.</span></span>

<span data-ttu-id="c3994-255">Více kopií aplikace spuštěné v různých virtuálních počítačů Ujistěte se, že jste Vyrovnávání zatížení požadavky napříč je.</span><span class="sxs-lookup"><span data-stu-id="c3994-255">Running multiple copies of an application in different VMs make sure that you are load balancing requests across them.</span></span> <span data-ttu-id="c3994-256">Pokud máte více virtuálních počítačů, je potřeba toomake se, že všechny virtuální počítače jsou přístupné a spuštěné v jednom bodě v čase.</span><span class="sxs-lookup"><span data-stu-id="c3994-256">When you have multiple virtual machines, you need toomake sure that all your VMs are accessible and running at one point in time.</span></span> <span data-ttu-id="c3994-257">Při konfiguraci služby Vyrovnávání zatížení, Vyrovnávání zatížení Azure sleduje hello stavu virtuálních počítačů a směruje příchozí volání toohello pořádku funkční virtuálních počítačů uzly správně.</span><span class="sxs-lookup"><span data-stu-id="c3994-257">If you configure load balancing, Azure Load Balancer tracks hello health of VMs and directs incoming calls toohello healthy functioning VM nodes properly.</span></span> <span data-ttu-id="c3994-258">Informace o tom najdete v části tooset až Vyrovnávání zatížení hello virtuálních počítačů, [pro infrastrukturu Azure služby Vyrovnávání zatížení](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c3994-258">For information on how tooset up load balancing of hello virtual machines, see [Load balancing for Azure infrastructure services](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="c3994-259">S více instancí webové a aplikační servery za službou Vyrovnávání zatížení zajistí vysokou dostupnost hello hello prezentační a obchodní vrstvy.</span><span class="sxs-lookup"><span data-stu-id="c3994-259">Having multiple instances of web and application servers behind a load balancer ensures hello high availability of hello presentation and business tiers.</span></span>

![Škálováním na více systémů a vysoké dostupnosti](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728012.png)

### <a name="best-practices-for-application-patterns-requiring-sql-hadr"></a><span data-ttu-id="c3994-261">Osvědčené postupy pro vzory aplikace vyžadující SQL HADR</span><span class="sxs-lookup"><span data-stu-id="c3994-261">Best practices for application patterns requiring SQL HADR</span></span>
<span data-ttu-id="c3994-262">Při nastavování vysoká dostupnost SQL serveru a řešení zotavení po havárii v Azure Virtual Machines, nastavení virtuální sítě pro virtuální počítače pomocí [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) je povinný.</span><span class="sxs-lookup"><span data-stu-id="c3994-262">When you set up SQL Server high availability and disaster recovery solutions in Azure Virtual Machines, setting up a virtual network for your virtual machines using [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) is mandatory.</span></span>  <span data-ttu-id="c3994-263">Virtuální počítače v rámci virtuální sítě i po výpadku služby bude mít stabilní privátní IP adresy, proto se můžete vyhnout hello aktualizace čas potřebný pro překlad názvu DNS.</span><span class="sxs-lookup"><span data-stu-id="c3994-263">Virtual machines within a Virtual Network will have a stable private IP address even after a service downtime, thus you can avoid hello update time required for DNS name resolution.</span></span> <span data-ttu-id="c3994-264">Kromě toho hello virtuální sítě vám umožní tooextend místní sítě tooAzure a vytvoří hranici zabezpečení důvěryhodné.</span><span class="sxs-lookup"><span data-stu-id="c3994-264">In addition, hello virtual network allows you tooextend your on-premises network tooAzure and creates a trusted security boundary.</span></span> <span data-ttu-id="c3994-265">Pokud aplikace obsahuje omezení podnikové doméně (například ověřování systému Windows, služby Active Directory), například nastavení [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) je nezbytné.</span><span class="sxs-lookup"><span data-stu-id="c3994-265">For example, if your application has corporate domain restrictions (such as, Windows authentication, Active Directory), setting up [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) is necessary.</span></span>

<span data-ttu-id="c3994-266">Většina zákazníků, kteří běží produkčním kódu v Azure, jsou udržuje primární a sekundární repliky v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-266">Most of customers, who are running production code on Azure, are keeping both primary and secondary replicas in Azure.</span></span>

<span data-ttu-id="c3994-267">Kurzy o vysoké dostupnosti a techniky pro zotavení po havárii a komplexní informace najdete v tématu [vysokou dostupnost a zotavení po havárii pro SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-267">For comprehensive information and tutorials on high availability and disaster recovery techniques, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="2-tier-and-3-tier-using-azure-vms-and-cloud-services"></a><span data-ttu-id="c3994-268">úroveň 2 a 3 vrstvě pomocí cloudových služeb a virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="c3994-268">2-tier and 3-tier using Azure VMs and Cloud Services</span></span>
<span data-ttu-id="c3994-269">V tomto vzoru aplikace můžete nasadit aplikace vrstvy 2 nebo 3 úrovně tooAzure pomocí obě [Azure Cloud Services](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (webových a pracovních rolí – platforma jako služba (PaaS)) a [virtuální počítače Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) () Infrastruktura jako služba (IaaS)).</span><span class="sxs-lookup"><span data-stu-id="c3994-269">In this application pattern, you deploy 2-tier or 3-tier application tooAzure by using both [Azure Cloud Services](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (web and worker roles - Platform as a Service (PaaS)) and [Azure Virtual Machines](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) (Infrastructure as a Service (IaaS)).</span></span> <span data-ttu-id="c3994-270">Pomocí [Azure Cloud Services](https://azure.microsoft.com/documentation/services/cloud-services/) pro hello prezentační vrstvy nebo obchodní vrstvou a SQL Server v [virtuální počítače Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) pro hello data úroveň je výhodné pro většinu aplikací běžících v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-270">Using [Azure Cloud Services](https://azure.microsoft.com/documentation/services/cloud-services/) for hello presentation tier/business tier and SQL Server in [Azure Virtual Machines](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) for hello data tier is beneficial for most applications running on Azure.</span></span> <span data-ttu-id="c3994-271">Hello důvodem je, že má do výpočetní instance spuštěné v cloudové služby poskytuje snadnou správu, nasazení, monitorování a Škálováním na více systémů.</span><span class="sxs-lookup"><span data-stu-id="c3994-271">hello reason is that having a compute instance running on Cloud Services provides an easy management, deployment, monitoring, and scale-out.</span></span>

<span data-ttu-id="c3994-272">S cloudovými službami Azure udržuje hello infrastruktury pro vás, provádí se pravidelná údržba, opravy hello operačních systémů a pokusí toorecover selhání služby a hardwaru.</span><span class="sxs-lookup"><span data-stu-id="c3994-272">With Cloud Services, Azure maintains hello infrastructure for you, performs routine maintenance, patches hello operating systems, and attempts toorecover from service and hardware failures.</span></span> <span data-ttu-id="c3994-273">Pokud aplikace potřebuje Škálováním na více systémů, automatickou a ruční škálování možnosti jsou dostupné pro projekt cloudové služby zvýšením nebo snížením hello počet instancí nebo virtuálních počítačů, které jsou používány vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="c3994-273">When your application needs scale-out, automatic, and manual scale-out options are available for your cloud service project by increasing or decreasing hello number of instances or virtual machines that are used by your application.</span></span> <span data-ttu-id="c3994-274">Kromě toho můžete vytvořit místní sady Visual Studio toodeploy projekt aplikace tooa cloudové služby v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-274">In addition, you can use on-premises Visual Studio toodeploy your application tooa cloud service project in Azure.</span></span>

<span data-ttu-id="c3994-275">V souhrnu Pokud nechcete, aby tooown rozsáhlé úlohy správy pro hello prezentace nebo obchodní vrstvou a aplikace nevyžaduje žádné složité konfiguraci softwaru nebo hello operačního systému, použijte Azure Cloud Services.</span><span class="sxs-lookup"><span data-stu-id="c3994-275">In summary, if you don’t want tooown extensive administrative tasks for hello presentation/business tier and your application does not require any complex configuration of software or hello operating system, use Azure Cloud Services.</span></span> <span data-ttu-id="c3994-276">Pokud Azure SQL Database nepodporuje všechny funkce hello, které hledáte, použití systému SQL Server v Azure virtuálního počítače pro hello datové vrstvy.</span><span class="sxs-lookup"><span data-stu-id="c3994-276">If Azure SQL Database does not support all hello features you are looking for, use SQL Server in an Azure Virtual Machine for hello data tier.</span></span> <span data-ttu-id="c3994-277">Spuštění aplikace na Azure Cloud Services a ukládání dat v Azure Virtual Machines kombinuje výhody hello obě služby.</span><span class="sxs-lookup"><span data-stu-id="c3994-277">Running an application on Azure Cloud Services and storing data in Azure Virtual Machines combines hello benefits of both services.</span></span> <span data-ttu-id="c3994-278">Podrobné porovnání najdete v tématu hello části v tomto tématu na [porovnávání vývoj strategie v Azure](#comparing-web-development-strategies-in-azure).</span><span class="sxs-lookup"><span data-stu-id="c3994-278">For a detailed comparison, see hello section in this topic on [Comparing development strategies in Azure](#comparing-web-development-strategies-in-azure).</span></span>

<span data-ttu-id="c3994-279">V tomto vzoru aplikace hello prezentační vrstva obsahuje webové role, která v prostředí Azure provádění hello běží komponentu cloudové služby a je přizpůsobené pro programování webové aplikace podporuje službu IIS a ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c3994-279">In this application pattern, hello presentation tier includes a web role, which is a Cloud Services component running in hello Azure execution environment and it is customized for web application programming as supported by IIS and ASP.NET.</span></span> <span data-ttu-id="c3994-280">úroveň Hello firmy nebo back-end zahrnuje roli pracovního procesu, který komponentu cloudové služby běží v prostředí Azure provádění hello a je vhodný pro vývoj zobecněný a může provádět zpracování na pozadí pro webovou roli.</span><span class="sxs-lookup"><span data-stu-id="c3994-280">hello business or backend tier includes a worker role, which is a Cloud Services component running in hello Azure execution environment and it is useful for generalized development, and may perform background processing for a web role.</span></span> <span data-ttu-id="c3994-281">Hello databázové vrstvy se nachází v virtuálního počítače s SQL serverem v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-281">hello database tier resides in a SQL Server virtual machine in Azure.</span></span> <span data-ttu-id="c3994-282">Hello komunikace mezi hello prezentační vrstvou a databázové vrstvy hello se stane, přímo nebo přes hello obchodní vrstvy – součásti role pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="c3994-282">hello communication between hello presentation tier and hello database tier happens directly or over hello business tier – worker role components.</span></span>

<span data-ttu-id="c3994-283">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="c3994-283">This application pattern is useful when:</span></span>

* <span data-ttu-id="c3994-284">Chcete toomove podnikové aplikace z virtualizované platformy místní tooAzure implementací systému SQL Server vysokou dostupnost a po havárii možnosti obnovení.</span><span class="sxs-lookup"><span data-stu-id="c3994-284">You want toomove enterprise applications from virtualized platforms on-premises tooAzure by implementing SQL Server high availability and disaster recovery capabilities.</span></span>
* <span data-ttu-id="c3994-285">Chcete tooown prostředí infrastruktury, které můžete škálovat nahoru a dolů na vyžádání.</span><span class="sxs-lookup"><span data-stu-id="c3994-285">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>
* <span data-ttu-id="c3994-286">Azure SQL Database nepodporuje všechny funkce hello, které musí vaše aplikace nebo databáze.</span><span class="sxs-lookup"><span data-stu-id="c3994-286">Azure SQL Database does not support all hello features that your application or database needs.</span></span>
* <span data-ttu-id="c3994-287">Chcete tooperform zátěžové testování u různých úrovně zatížení, ale ve stejnou dobu, není vhodné tooown a udržovat mnoho fyzického počítače celou dobu hello hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-287">You want tooperform stress testing for varying workload levels but at hello same time you do not want tooown and maintain many physical machines all hello time.</span></span>

<span data-ttu-id="c3994-288">Hello následující diagram ukazuje scénářem místní a jeho řešení pro cloud povolené.</span><span class="sxs-lookup"><span data-stu-id="c3994-288">hello following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="c3994-289">V tomto scénáři můžete umístit hello prezentační vrstvy v webové role, vrstvy obchodní hello rolí pracovního procesu, ale hello datové vrstvy ve virtuálních počítačích v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-289">In this scenario, you place hello presentation tier in web roles, hello business tier in worker roles but hello data tier in virtual machines in Azure.</span></span> <span data-ttu-id="c3994-290">Tooload vyrovnávat požadavky na spuštění více kopií hello prezentační vrstvy v jiných webových rolí zajišťuje mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="c3994-290">Running multiple copies of hello presentation tier in different web roles ensures tooload balance requests across them.</span></span> <span data-ttu-id="c3994-291">Když zkombinujete Azure Cloud Services pomocí Azure Virtual Machines, doporučujeme, abyste nastavili [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) také.</span><span class="sxs-lookup"><span data-stu-id="c3994-291">When you combine Azure Cloud Services with Azure Virtual Machines, we recommend that you set up [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) as well.</span></span> <span data-ttu-id="c3994-292">S [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), může mít stabilní a trvalé privátní IP adresy v rámci stejné cloudové služby v hello hello cloudu.</span><span class="sxs-lookup"><span data-stu-id="c3994-292">With [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), you can have stable and persistent private IP addresses within hello same cloud service in hello cloud.</span></span> <span data-ttu-id="c3994-293">Jakmile definovat virtuální sítě pro virtuální počítače a cloudové služby, můžou spustit komunikaci mezi sebou přes hello privátní IP adresu.</span><span class="sxs-lookup"><span data-stu-id="c3994-293">Once you define a virtual network for your virtual machines and cloud services, they can start communicating among themselves over hello private IP address.</span></span> <span data-ttu-id="c3994-294">Kromě toho mají virtuální počítače a Azure web/role pracovního procesu v hello stejné [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) zajišťuje nízkou latencí a bezpečnější připojení.</span><span class="sxs-lookup"><span data-stu-id="c3994-294">In addition, having virtual machines and Azure web/worker roles in hello same [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) provides low latency and more secure connectivity.</span></span> <span data-ttu-id="c3994-295">Další informace najdete v tématu [co je Cloudová služba](../../../cloud-services/cloud-services-choose-me.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-295">For more information, see [What is a cloud service](../../../cloud-services/cloud-services-choose-me.md).</span></span>

<span data-ttu-id="c3994-296">Jak je vidět v diagramu hello, nástroj pro vyrovnávání zatížení Azure rozděluje zatížení mezi více virtuálních počítačů a také určuje, které webový server nebo aplikačního serveru tooconnect k.</span><span class="sxs-lookup"><span data-stu-id="c3994-296">As seen in hello diagram, Azure Load Balancer distributes traffic across multiple virtual machines and also determines which web server or application server tooconnect to.</span></span> <span data-ttu-id="c3994-297">S více instancí hello webové a aplikační servery za službou Vyrovnávání zatížení zajistí vysokou dostupnost hello hello prezentační vrstvou a obchodní vrstvou hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-297">Having multiple instances of hello web and application servers behind a load balancer ensures hello high availability of hello presentation tier and hello business tier.</span></span> <span data-ttu-id="c3994-298">Další informace najdete v tématu [osvědčených postupů pro aplikace vzory vyžadují SQL HADR](#best-practices-for-application-patterns-requiring-sql-hadr).</span><span class="sxs-lookup"><span data-stu-id="c3994-298">For more information, see [Best practices for application patterns requiring SQL HADR](#best-practices-for-application-patterns-requiring-sql-hadr).</span></span>

![Vzory aplikace s cloudovými službami](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728013.png)

<span data-ttu-id="c3994-300">Jiný přístup tooimplement tento vzor aplikací je toouse konsolidované webovou roli, která obsahuje prezentační vrstvou a obchodní vrstvy součásti, jak je znázorněno v následující hello diagram.</span><span class="sxs-lookup"><span data-stu-id="c3994-300">Another approach tooimplement this application pattern is toouse a consolidated web role that contains both presentation tier and business tier components as shown in hello following diagram.</span></span> <span data-ttu-id="c3994-301">Tento vzor aplikací je užitečná pro aplikace, které vyžadují stavová návrhu.</span><span class="sxs-lookup"><span data-stu-id="c3994-301">This application pattern is useful for applications that require stateful design.</span></span> <span data-ttu-id="c3994-302">Vzhledem k tomu, že Azure poskytuje bezstavové výpočetní uzly na webových a pracovních rolí, doporučujeme implementovat logiku toostore relace stavu pomocí jedné z následujících technologií hello: [ukládání do mezipaměti Azure](https://azure.microsoft.com/documentation/services/redis-cache/), [Azure Table Storage](../../../cosmos-db/table-storage-how-to-use-dotnet.md) nebo [databáze Azure SQL](../../../sql-database/sql-database-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-302">Since Azure provides stateless compute nodes on web and worker roles, we recommend that you implement a logic toostore session state using one of hello following technologies: [Azure Caching](https://azure.microsoft.com/documentation/services/redis-cache/), [Azure Table Storage](../../../cosmos-db/table-storage-how-to-use-dotnet.md) or [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span></span>

![Vzory aplikace s cloudovými službami](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728014.png)

## <a name="pattern-with-azure-vms-azure-sql-database-and-azure-app-service-web-apps"></a><span data-ttu-id="c3994-304">Vzor s virtuální počítače Azure, Azure SQL Database a Azure App Service (webové aplikace)</span><span class="sxs-lookup"><span data-stu-id="c3994-304">Pattern with Azure VMs, Azure SQL Database, and Azure App Service (Web Apps)</span></span>
<span data-ttu-id="c3994-305">primární cílem Hello tohoto vzoru aplikace je tooshow můžete jak toocombine infrastrukturu Azure jako součásti služby (IaaS) s Azure součásti platformy jako služby (PaaS) ve vašem řešení.</span><span class="sxs-lookup"><span data-stu-id="c3994-305">hello primary goal of this application pattern is tooshow you how toocombine Azure infrastructure as a service (IaaS) components with Azure platform-as-a-service components (PaaS) in your solution.</span></span> <span data-ttu-id="c3994-306">Tento vzor se zaměřuje na Azure SQL Database pro relační datové úložiště.</span><span class="sxs-lookup"><span data-stu-id="c3994-306">This pattern is focused on Azure SQL Database for relational data storage.</span></span> <span data-ttu-id="c3994-307">Neobsahuje systému SQL Server ve virtuálním počítači Azure, který je součástí hello infrastrukturu Azure jako nabídky služeb.</span><span class="sxs-lookup"><span data-stu-id="c3994-307">It does not include SQL Server in an Azure virtual machine, which is part of hello Azure infrastructure as a service offering.</span></span>

<span data-ttu-id="c3994-308">V tomto vzoru aplikaci nasadíte tooAzure aplikace databáze tím, že umístíte hello prezentace a hello podnikové úrovně ve stejné virtuální počítač a přístup k databázi v servery Azure SQL Database (databáze SQL).</span><span class="sxs-lookup"><span data-stu-id="c3994-308">In this application pattern, you deploy a database application tooAzure by placing hello presentation and business tiers in hello same virtual machine and accessing a database in Azure SQL Database (SQL Database) servers.</span></span> <span data-ttu-id="c3994-309">Prezentační vrstva hello můžete implementovat pomocí tradičních webovou službu IIS řešení.</span><span class="sxs-lookup"><span data-stu-id="c3994-309">You can implement hello presentation tier by using traditional IIS-based web solutions.</span></span> <span data-ttu-id="c3994-310">Nebo můžete implementovat kombinované prezentační a obchodní vrstvou pomocí [Azure Web Apps](https://azure.microsoft.com/documentation/services/app-service/web/).</span><span class="sxs-lookup"><span data-stu-id="c3994-310">Or, you can implement a combined presentation and business tier by using [Azure Web Apps](https://azure.microsoft.com/documentation/services/app-service/web/).</span></span>

<span data-ttu-id="c3994-311">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="c3994-311">This application pattern is useful when:</span></span>

* <span data-ttu-id="c3994-312">Už máte existující databázi SQL server nakonfigurovaný v Azure a chcete tootest aplikace rychle.</span><span class="sxs-lookup"><span data-stu-id="c3994-312">You already have an existing SQL Database server configured in Azure and you want tootest your application quickly.</span></span>
* <span data-ttu-id="c3994-313">Chcete tootest hello možnosti prostředí Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-313">You want tootest hello capabilities of Azure environment.</span></span>
* <span data-ttu-id="c3994-314">Chcete tooquickly zřídit vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="c3994-314">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c3994-315">Vaše obchodní logiku a data komponenty přístup může být obsaženy v rámci webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="c3994-315">Your business logic and data access components can be self-contained within a web application.</span></span>

<span data-ttu-id="c3994-316">Hello následující diagram ukazuje scénářem místní a jeho řešení pro cloud povolené.</span><span class="sxs-lookup"><span data-stu-id="c3994-316">hello following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="c3994-317">V tomto scénáři můžete umístit hello aplikačními vrstvami na jednom virtuálním počítači v Azure a přístup dat ve službě Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="c3994-317">In this scenario, you place hello application tiers in a single virtual machine in Azure and access data in Azure SQL Database.</span></span>

![Vzor smíšený aplikací](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728015.png)

<span data-ttu-id="c3994-319">Pokud se rozhodnete tooimplement kombinované webové a aplikační vrstvy pomocí Azure Web Apps, doporučujeme zachovat úroveň střední vrstvy nebo aplikace hello jako dynamické knihovny (DLL) v kontextu hello webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="c3994-319">If you choose tooimplement a combined web and application tier by using Azure Web Apps, we recommend that you keep hello middle-tier or application tier as dynamic-link libraries (DLLs) in hello context of a web application.</span></span>

<span data-ttu-id="c3994-320">Kromě toho zkontrolujte hello doporučení uvedených v hello [porovnávání webové vývoj strategie v Azure](#comparing-web-development-strategies-in-azure) části na hello konci tohoto článku toolearn informace o programování techniky.</span><span class="sxs-lookup"><span data-stu-id="c3994-320">In addition, review hello recommendations given in hello [Comparing web development strategies in Azure](#comparing-web-development-strategies-in-azure) section at hello end of this article toolearn more about programming techniques.</span></span>

## <a name="n-tier-hybrid-application-pattern"></a><span data-ttu-id="c3994-321">Vzor hybridní vícevrstvé aplikace</span><span class="sxs-lookup"><span data-stu-id="c3994-321">N-tier hybrid application pattern</span></span>
<span data-ttu-id="c3994-322">V hybridní vícevrstvé aplikace vzoru implementovat aplikaci na více úrovních distribuovány mezi místními a Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-322">In n-tier hybrid application pattern, you implement your application in multiple tiers distributed between on-premises and Azure.</span></span> <span data-ttu-id="c3994-323">Proto je flexibilní a opakovaně použitelné hybridní systému, kterou můžete změnit nebo přidat vytvořit konkrétní úroveň beze změny hello jiných vrstev.</span><span class="sxs-lookup"><span data-stu-id="c3994-323">Therefore, you create a flexible and reusable hybrid system, which you can modify or add a specific tier without changing hello other tiers.</span></span> <span data-ttu-id="c3994-324">cloud tooextend toohello vaší podnikové síti, je použít [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) služby.</span><span class="sxs-lookup"><span data-stu-id="c3994-324">tooextend your corporate network toohello cloud, you use [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) service.</span></span>

<span data-ttu-id="c3994-325">Tento vzor hybridní aplikace je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="c3994-325">This hybrid application pattern is useful when:</span></span>

* <span data-ttu-id="c3994-326">Chcete toobuild aplikace, které běží částečně v cloudu hello a částečně místně.</span><span class="sxs-lookup"><span data-stu-id="c3994-326">You want toobuild applications that run partly in hello cloud and partly on-premises.</span></span>
* <span data-ttu-id="c3994-327">Chcete toomigrate některé nebo všechny elementy ve stávající místní aplikace toohello cloudu.</span><span class="sxs-lookup"><span data-stu-id="c3994-327">You want toomigrate some or all elements of an existing on-premises application toohello cloud.</span></span>
* <span data-ttu-id="c3994-328">Chcete toomove podnikové aplikace z místní virtualizované tooAzure platformy.</span><span class="sxs-lookup"><span data-stu-id="c3994-328">You want toomove enterprise applications from on-premises virtualized platforms tooAzure.</span></span>
* <span data-ttu-id="c3994-329">Chcete tooown prostředí infrastruktury, které můžete škálovat nahoru a dolů na vyžádání.</span><span class="sxs-lookup"><span data-stu-id="c3994-329">You want tooown an infrastructure environment that can scale up and down on demand.</span></span>
* <span data-ttu-id="c3994-330">Chcete tooquickly zřídit vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="c3994-330">You want tooquickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="c3994-331">Chcete cenově dostupný způsob tootake zálohy pro podnikové aplikace databáze.</span><span class="sxs-lookup"><span data-stu-id="c3994-331">You want a cost effective way tootake backups for enterprise database applications.</span></span>

<span data-ttu-id="c3994-332">Hello následující diagram ukazuje vzor aplikací hybridní n vrstvá, které platí pro místní a Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-332">hello following diagram demonstrates an n-tier hybrid application pattern that spans across on-premises and Azure.</span></span> <span data-ttu-id="c3994-333">Jak je vidět v diagramu hello, místní infrastruktury patří [Active Directory Domain Services](https://technet.microsoft.com/library/hh831484.aspx) ověření uživatele toosupport řadiče domény a autorizaci.</span><span class="sxs-lookup"><span data-stu-id="c3994-333">As shown in hello diagram, on-premises infrastructure includes [Active Directory Domain Services](https://technet.microsoft.com/library/hh831484.aspx) domain controller toosupport user authentication and authorization.</span></span> <span data-ttu-id="c3994-334">Všimněte si, že hello diagram ukazuje scénář, kde některé části hello datové vrstvy za provozu v datovém centru místní zatímco některé části hello datové vrstvy za provozu v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-334">Note that hello diagram demonstrates a scenario, where some parts of hello data tier live in an on-premises data center whereas some parts of hello data tier live in Azure.</span></span> <span data-ttu-id="c3994-335">V závislosti na potřebách vaší aplikace můžete implementovat několik dalších hybridní scénáře.</span><span class="sxs-lookup"><span data-stu-id="c3994-335">Depending on your application’s needs, you can implement several other hybrid scenarios.</span></span> <span data-ttu-id="c3994-336">Například může uchovávat hello prezentační vrstvou a obchodní vrstvou hello v vrstvou místní prostředí, ale hello dat v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-336">For example, you might keep hello presentation tier and hello business tier in an on-premises environment but hello data tier in Azure.</span></span>

![N-vrstvý vzor aplikací](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728016.png)

<span data-ttu-id="c3994-338">V Azure, můžete použít služby Active Directory jako samostatné cloudu adresář pro vaši organizaci, nebo můžete také integrovat existující místní služby Active Directory s [Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="c3994-338">In Azure, you can use Active Directory as a standalone cloud directory for your organization, or you can also integrate existing on-premises Active Directory with [Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/).</span></span> <span data-ttu-id="c3994-339">Jak je vidět v diagramu hello, hello obchodní vrstvy součásti můžete přístup k toomultiple datových zdrojů, například příliš[systému SQL Server v Azure](virtual-machines-windows-sql-server-iaas-overview.md) prostřednictvím privátní interní IP adresy, tooon místní SQL Server prostřednictvím [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), nebo příliš[SQL Database](../../../sql-database/sql-database-technical-overview.md) pomocí technologie zprostředkovatele dat .NET Framework hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-339">As seen in hello diagram, hello business tier components can access toomultiple data sources, such as too[SQL Server in Azure](virtual-machines-windows-sql-server-iaas-overview.md) via a private internal IP address, tooon-premises SQL Server via [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), or too[SQL Database](../../../sql-database/sql-database-technical-overview.md) using hello .NET Framework data provider technologies.</span></span> <span data-ttu-id="c3994-340">V tomto diagramu je Azure SQL Database služby storage volitelnými daty.</span><span class="sxs-lookup"><span data-stu-id="c3994-340">In this diagram, Azure SQL Database is an optional data storage service.</span></span>

<span data-ttu-id="c3994-341">Ve vzoru hybridní vícevrstvé aplikace můžete implementovat hello následující pracovní postup v uvedeném pořadí hello:</span><span class="sxs-lookup"><span data-stu-id="c3994-341">In n-tier hybrid application pattern, you can implement hello following workflow in hello order specified:</span></span>

1. <span data-ttu-id="c3994-342">Identifikovat enterprise databázové aplikace, které je třeba přesunout nahoru toocloud pomocí hello toobe [Microsoft Assessment and Planning (MAP) Toolkit](http://microsoft.com/map).</span><span class="sxs-lookup"><span data-stu-id="c3994-342">Identify enterprise database applications that need toobe moved up toocloud by using hello [Microsoft Assessment and Planning (MAP) Toolkit](http://microsoft.com/map).</span></span> <span data-ttu-id="c3994-343">Hello MAP Toolkit shromáždí data inventáře a výkonu z počítačů, které je třeba zajistit pro virtualizaci a obsahuje doporučení týkající se kapacity a plánování hodnocení.</span><span class="sxs-lookup"><span data-stu-id="c3994-343">hello MAP Toolkit gathers inventory and performance data from computers you are considering for virtualization and provides recommendations on capacity and assessment planning.</span></span>
2. <span data-ttu-id="c3994-344">Plánování hello prostředků a konfigurace je potřeba v hello platformy Azure, jako je například účty úložiště a virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="c3994-344">Plan hello resources and configuration needed in hello Azure platform, such as storage accounts and virtual machines.</span></span>
3. <span data-ttu-id="c3994-345">Nastavit připojení k síti mezi hello podnikové sítě na místě a [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-345">Set up network connectivity between hello corporate network on-premises and [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="c3994-346">tooset se hello propojení mezi hello podnikové síti místní a virtuální počítač v Azure, použijte jednu z následujících dvou metod hello:</span><span class="sxs-lookup"><span data-stu-id="c3994-346">tooset up hello connection between hello corporate network on-premises and a virtual machine in Azure, use one of hello following two methods:</span></span>
   
   1. <span data-ttu-id="c3994-347">Navázat připojení mezi místními a Azure prostřednictvím veřejné koncové body na virtuálním počítači v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-347">Establish a connection between on-premises and Azure via public end points on a virtual machine in Azure.</span></span> <span data-ttu-id="c3994-348">Tato metoda poskytuje snadno instalační program a umožní vám toouse ověřování serveru SQL Server ve virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="c3994-348">This method provides an easy setup and enables you toouse SQL Server authentication in your virtual machine.</span></span> <span data-ttu-id="c3994-349">Kromě toho nastavte toohello toocontrol veřejné provoz vaší sítě zabezpečení skupiny pravidel virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="c3994-349">In addition, set up your network security group rules toocontrol public traffic toohello VM.</span></span> <span data-ttu-id="c3994-350">Další informace najdete v tématu [povolit externí přístup tooyour virtuální počítač pomocí portálu Azure hello](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c3994-350">For more information, see [Allow external access tooyour VM using hello Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>
   2. <span data-ttu-id="c3994-351">Navázat připojení mezi místními a Azure přes tunelové propojení Azure virtuální privátní sítě (VPN).</span><span class="sxs-lookup"><span data-stu-id="c3994-351">Establish a connection between on-premises and Azure via Azure Virtual Private network (VPN) tunnel.</span></span> <span data-ttu-id="c3994-352">Tato metoda vám umožní tooextend domény zásady tooa virtuálního počítače v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-352">This method allows you tooextend domain policies tooa virtual machine in Azure.</span></span> <span data-ttu-id="c3994-353">Kromě toho můžete nastavit pravidla brány firewall a použít ověřování systému Windows ve virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="c3994-353">In addition, you can set up firewall rules and use Windows authentication in your virtual machine.</span></span> <span data-ttu-id="c3994-354">Azure v současné době podporuje bezpečné site-to-site VPN a připojení point-to-site VPN:</span><span class="sxs-lookup"><span data-stu-id="c3994-354">Currently, Azure supports secure site-to-site VPN and point-to-site VPN connections:</span></span>
      
      * <span data-ttu-id="c3994-355">S zabezpečené připojení site-to-site můžete vytvořit připojení k síti mezi vaší místní sítí a virtuální sítí v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-355">With secure site-to-site connection, you can establish network connectivity between your on-premises network and your virtual network in Azure.</span></span> <span data-ttu-id="c3994-356">Doporučuje se pro připojení vaší místní data center prostředí tooAzure.</span><span class="sxs-lookup"><span data-stu-id="c3994-356">It is recommended for connecting your on-premises data center environment tooAzure.</span></span>
      * <span data-ttu-id="c3994-357">S zabezpečené připojení point-to-site můžete vytvořit připojení k síti mezi vaší virtuální sítě v Azure a vaše jednotlivé počítače se systémem kdekoli.</span><span class="sxs-lookup"><span data-stu-id="c3994-357">With secure point-to-site connection, you can establish network connectivity between your virtual network in Azure and your individual computers running anywhere.</span></span> <span data-ttu-id="c3994-358">Většinou doporučujeme pro vývojová a testovací účely.</span><span class="sxs-lookup"><span data-stu-id="c3994-358">It is mostly recommended for development and test purposes.</span></span>
      
      <span data-ttu-id="c3994-359">Informace o tom tooconnect tooSQL Server v Azure, najdete v části [připojit tooa virtuálního počítače systému SQL Server na platformě Azure](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-359">For information on how tooconnect tooSQL Server in Azure, see [Connect tooa SQL Server Virtual Machine on Azure](virtual-machines-windows-sql-connect.md).</span></span>
4. <span data-ttu-id="c3994-360">Nastavte naplánované úlohy a výstrahy, které zálohovat data místně v disku virtuálního počítače v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-360">Set up scheduled jobs and alerts that back up on-premises data in a virtual machine disk in Azure.</span></span> <span data-ttu-id="c3994-361">Další informace najdete v tématu [zálohování systému SQL Server a obnovení služby úložiště objektů Blob Azure](https://msdn.microsoft.com/library/jj919148.aspx) a [zálohování a obnovení pro SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-361">For more information, see [SQL Server Backup and Restore with Azure Blob Storage Service](https://msdn.microsoft.com/library/jj919148.aspx) and [Backup and Restore for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span></span>
5. <span data-ttu-id="c3994-362">V závislosti na potřebách vaší aplikace můžete implementovat jednu hello následující tři běžné scénáře:</span><span class="sxs-lookup"><span data-stu-id="c3994-362">Depending on your application’s needs, you can implement one of hello following three common scenarios:</span></span>
   
   1. <span data-ttu-id="c3994-363">Na databázovém serveru v Azure můžete chránit váš webový server, aplikační server a malých a velkých písmen data, zatímco zachovat hello citlivá data místně.</span><span class="sxs-lookup"><span data-stu-id="c3994-363">You can keep your web server, application server, and insensitive data in a database server in Azure whereas you keep hello sensitive data on-premises.</span></span>
   2. <span data-ttu-id="c3994-364">Abyste zajistili, že váš webový server a aplikační server místní vzhledem k tomu hello databázový server ve virtuálním počítači v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-364">You can keep your web server and application server on-premises whereas hello database server in a virtual machine in Azure.</span></span>
   3. <span data-ttu-id="c3994-365">Můžete ponechat databázového serveru, webového serveru a aplikačního serveru místní zatímco zachovat repliky databáze hello ve virtuálních počítačích v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-365">You can keep your database server, web server, and application server on-premises whereas you keep hello database replicas in virtual machines in Azure.</span></span> <span data-ttu-id="c3994-366">Toto nastavení umožňuje hello místní webové servery nebo vytváření sestav aplikace tooaccess hello repliky databáze v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-366">This setting allows hello on-premises web servers or reporting applications tooaccess hello database replicas in Azure.</span></span> <span data-ttu-id="c3994-367">Proto můžete dosáhnout toolower hello zatížení v místní databázi.</span><span class="sxs-lookup"><span data-stu-id="c3994-367">Therefore, you can achieve toolower hello workload in an on-premises database.</span></span> <span data-ttu-id="c3994-368">Doporučujeme vám, že můžete implementovat tento scénář pro těžký číst úlohy a pro účely vývoje.</span><span class="sxs-lookup"><span data-stu-id="c3994-368">We recommend that you implement this scenario for heavy read workloads and developmental purposes.</span></span> <span data-ttu-id="c3994-369">Informace o vytvoření repliky databáze v Azure najdete v tématu skupiny dostupnosti AlwaysOn v [vysokou dostupnost a zotavení po havárii pro SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-369">For information on creating database replicas in Azure, see AlwaysOn Availability Groups at [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="comparing-web-development-strategies-in-azure"></a><span data-ttu-id="c3994-370">Porovnání webových vývoj strategie v Azure</span><span class="sxs-lookup"><span data-stu-id="c3994-370">Comparing web development strategies in Azure</span></span>
<span data-ttu-id="c3994-371">tooimplement a nasazovat vícevrstvé aplikace založené na systému SQL Server v Azure, můžete použít jednu z následujících dvou metod programovací hello:</span><span class="sxs-lookup"><span data-stu-id="c3994-371">tooimplement and deploy a multi-tier SQL Server-based application in Azure, you can use one of hello following two programming methods:</span></span>

* <span data-ttu-id="c3994-372">V databázích Azure a přístup v systému SQL Server v Azure Virtual Machines nastavte tradiční webový server (IIS - Internetová informační služba).</span><span class="sxs-lookup"><span data-stu-id="c3994-372">Set up a traditional web server (IIS - Internet Information Services) in Azure and access databases in SQL Server in Azure Virtual Machines.</span></span>
* <span data-ttu-id="c3994-373">Implementace a nasaďte tooAzure cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="c3994-373">Implement and deploy a cloud service tooAzure.</span></span> <span data-ttu-id="c3994-374">Pak se ujistěte, že tuto cloudovou službu můžete přístup k databází v systému SQL Server v Azure virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="c3994-374">Then, make sure that this cloud service can access databases in SQL Server in Azure Virtual machines.</span></span> <span data-ttu-id="c3994-375">Cloudové služby může obsahovat několik webových a pracovních rolí.</span><span class="sxs-lookup"><span data-stu-id="c3994-375">A cloud service can include multiple web and worker roles.</span></span>

<span data-ttu-id="c3994-376">Hello následující tabulka obsahuje porovnání tradiční webové vývoj s Azure Cloud Services a Azure Web Apps s ohledem tooSQL Server v Azure Virtual Machines.</span><span class="sxs-lookup"><span data-stu-id="c3994-376">hello following table provides a comparison of traditional web development with Azure Cloud Services and Azure Web Apps with respect tooSQL Server in Azure Virtual Machines.</span></span> <span data-ttu-id="c3994-377">Hello tabulka obsahuje Azure Web Apps, protože je možné toouse systému SQL Server ve virtuálním počítači Azure jako zdroj dat pro webové aplikace Azure přes jeho veřejné virtuální IP adresa nebo název DNS.</span><span class="sxs-lookup"><span data-stu-id="c3994-377">hello table includes Azure Web Apps as it is possible toouse SQL Server in Azure VM as a data source for Azure Web Apps via its public virtual IP address or DNS name.</span></span>

|  | <span data-ttu-id="c3994-378">Vývoj tradiční webu v Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="c3994-378">Traditional web development in Azure Virtual Machines</span></span> | <span data-ttu-id="c3994-379">Cloudové služby v Azure</span><span class="sxs-lookup"><span data-stu-id="c3994-379">Cloud Services in Azure</span></span> | <span data-ttu-id="c3994-380">Webového hostingu s webové aplikace Azure</span><span class="sxs-lookup"><span data-stu-id="c3994-380">Web Hosting with Azure Web Apps</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="c3994-381">**Migrace aplikací z místní**</span><span class="sxs-lookup"><span data-stu-id="c3994-381">**Application Migration from on-premises**</span></span> |<span data-ttu-id="c3994-382">Existující aplikace jako-je.</span><span class="sxs-lookup"><span data-stu-id="c3994-382">Existing applications as-is.</span></span> |<span data-ttu-id="c3994-383">Aplikace potřebují webových a pracovních rolí.</span><span class="sxs-lookup"><span data-stu-id="c3994-383">Applications need web and worker roles.</span></span> |<span data-ttu-id="c3994-384">Existující aplikace jako-ale hodí se pro samostatný webové aplikace a webové služby, které vyžadují rychlou škálovatelnost.</span><span class="sxs-lookup"><span data-stu-id="c3994-384">Existing applications as-is but suited for self-contained web applications and web services that require quick scalability.</span></span> |
| <span data-ttu-id="c3994-385">**Vývoj a nasazení**</span><span class="sxs-lookup"><span data-stu-id="c3994-385">**Development and Deployment**</span></span> |<span data-ttu-id="c3994-386">Visual Studio, služba WebMatrix, Visual Web Developer, WebDeploy, FTP, sady TFS, Správce služby IIS, prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c3994-386">Visual Studio, WebMatrix, Visual Web Developer, WebDeploy, FTP, TFS, IIS Manager, PowerShell.</span></span> |<span data-ttu-id="c3994-387">Visual Studio, Azure SDK a sady TFS, prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c3994-387">Visual Studio, Azure SDK, TFS, PowerShell.</span></span> <span data-ttu-id="c3994-388">Jednotlivých cloudových služeb má dva toowhich prostředí můžete nasadit balíček služby a konfigurace: pracovní a provozní.</span><span class="sxs-lookup"><span data-stu-id="c3994-388">Each cloud service has two environments toowhich you can deploy your service package and configuration: staging and production.</span></span> <span data-ttu-id="c3994-389">Můžete nasadit cloudové služby toohello pracovní prostředí tootest ho před zvýšením úrovně je tooproduction.</span><span class="sxs-lookup"><span data-stu-id="c3994-389">You can deploy a cloud service toohello staging environment tootest it before you promote it tooproduction.</span></span> |<span data-ttu-id="c3994-390">Visual Studio, služba WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, Githubu, Mercurial, sady TFS, webové nasadit, prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c3994-390">Visual Studio, WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, Web Deploy, PowerShell.</span></span> |
| <span data-ttu-id="c3994-391">**Správa a instalace**</span><span class="sxs-lookup"><span data-stu-id="c3994-391">**Administration and Setup**</span></span> |<span data-ttu-id="c3994-392">Jste zodpovědní za správu úlohy na hello aplikace, data, pravidla brány firewall, virtuální sítě a operačního systému.</span><span class="sxs-lookup"><span data-stu-id="c3994-392">You are responsible for administrative tasks on hello application, data, firewall rules, virtual network, and operating system.</span></span> |<span data-ttu-id="c3994-393">Jste zodpovědní za správu úlohy na hello aplikace, data, pravidla brány firewall a virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="c3994-393">You are responsible for administrative tasks on hello application, data, firewall rules, and virtual network.</span></span> |<span data-ttu-id="c3994-394">Jste zodpovědní za úlohy správy na hello aplikace a pouze data.</span><span class="sxs-lookup"><span data-stu-id="c3994-394">You are responsible for administrative tasks on hello application and data only.</span></span> |
| <span data-ttu-id="c3994-395">**Vysoká dostupnost a zotavení po havárii (HADR)**</span><span class="sxs-lookup"><span data-stu-id="c3994-395">**High Availability and Disaster Recovery (HADR)**</span></span> |<span data-ttu-id="c3994-396">Doporučujeme umísťovat virtuální počítače v hello stejné dostupnosti nastavení a v hello stejné cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="c3994-396">We recommend that you place virtual machines in hello same availability set and in hello same cloud service.</span></span> <span data-ttu-id="c3994-397">Zachovat virtuální počítače stejné hello sady dostupnosti. umožňuje Azure tooplace hello vysokou dostupnost uzly do samostatné selhání domén a domén upgradu.</span><span class="sxs-lookup"><span data-stu-id="c3994-397">Keeping your VMs in hello same availability set allows Azure tooplace hello high availability nodes into separate fault domains and upgrade domains.</span></span> <span data-ttu-id="c3994-398">Podobně zachovat virtuální počítače v hello stejné cloudové služby umožňuje Vyrovnávání zatížení a virtuální počítače může komunikovat přímo mezi sebou hello místní síti v rámci datové centrum Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-398">Similarly, keeping your VMs in hello same cloud service enables load balancing and VMs can communicate directly with one another over hello local network within an Azure data center.</span></span><br/><br/><span data-ttu-id="c3994-399">Jste zodpovědní za implementaci vysoké dostupnosti a po havárii řešení obnovení pro SQL Server v Azure Virtual Machines tooavoid žádné výpadky.</span><span class="sxs-lookup"><span data-stu-id="c3994-399">You are responsible for implementing a high availability and disaster recovery solution for SQL Server in Azure Virtual Machines tooavoid any downtime.</span></span> <span data-ttu-id="c3994-400">Podporované HADR technologií, najdete v části [vysokou dostupnost a zotavení po havárii pro SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-400">For supported HADR technologies, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span><br/><br/><span data-ttu-id="c3994-401">Jste zodpovědní za zálohování dat a aplikací.</span><span class="sxs-lookup"><span data-stu-id="c3994-401">You are responsible for backing up your own data and application.</span></span><br/><br/><span data-ttu-id="c3994-402">Azure můžete přesunout virtuální počítače, pokud hello hostitelský počítač v datovém centru hello nezdaří z důvodu toohardware problémy.</span><span class="sxs-lookup"><span data-stu-id="c3994-402">Azure can move your virtual machines if hello host machine in hello data center fails due toohardware issues.</span></span> <span data-ttu-id="c3994-403">Kromě toho je možné, plánované výpadky vašeho virtuálního počítače po aktualizaci hello hostitelský počítač pro zabezpečení nebo softwarové aktualizace.</span><span class="sxs-lookup"><span data-stu-id="c3994-403">In addition, there could be planned downtime of your VM when hello host machine is updated for security or software updates.</span></span> <span data-ttu-id="c3994-404">Proto doporučujeme udržovat aspoň dva virtuální počítače v jednotlivých vrstvy tooensure hello nepřetržité dostupnosti aplikace.</span><span class="sxs-lookup"><span data-stu-id="c3994-404">Therefore, we recommend that you maintain at least two VMs in each application tier tooensure hello continuous availability.</span></span> <span data-ttu-id="c3994-405">Azure neposkytuje SLA pro jeden virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="c3994-405">Azure does not provide SLA for a single virtual machine.</span></span> <span data-ttu-id="c3994-406">Další informace najdete v tématu [technické pokyny Azure odolnosti](../../../resiliency/resiliency-technical-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-406">For more information, see [Azure resiliency technical guidance](../../../resiliency/resiliency-technical-guidance.md).</span></span> |<span data-ttu-id="c3994-407">Spravuje Azure hello selhání vyplývající z hello základní hardware nebo operační systém softwaru.</span><span class="sxs-lookup"><span data-stu-id="c3994-407">Azure manages hello failures resulting from hello underlying hardware or operating system software.</span></span> <span data-ttu-id="c3994-408">Doporučujeme vám, že můžete implementovat několik instancí web nebo worker role tooensure hello vysokou dostupnost vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="c3994-408">We recommend that you implement multiple instances of a web or worker role tooensure hello high availability of your application.</span></span> <span data-ttu-id="c3994-409">Informace najdete v tématu [cloudové služby, virtuální počítače a virtuální sítě smlouvy o úrovni služeb](http://www.microsoft.com/download/details.aspx?id=38427) a [zotavení po havárii a vysoká dostupnost pro aplikace Azure](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)</span><span class="sxs-lookup"><span data-stu-id="c3994-409">For information, see [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) and [Disaster recovery and high availability for Azure applications](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)</span></span><br/><br/><span data-ttu-id="c3994-410">Jste zodpovědní za zálohování dat a aplikací.</span><span class="sxs-lookup"><span data-stu-id="c3994-410">You are responsible for backing up your own data and application.</span></span><br/><br/><span data-ttu-id="c3994-411">Pro databáze, které se nacházejí v databázi systému SQL Server ve virtuálním počítači Azure jste zodpovědní za implementaci vysokou dostupnost a po havárii obnovení řešení tooavoid žádné výpadky.</span><span class="sxs-lookup"><span data-stu-id="c3994-411">For databases residing in a SQL Server database in an Azure VM, you are responsible for implementing a high availability and disaster recovery solution tooavoid any downtime.</span></span> <span data-ttu-id="c3994-412">Podporované HDAR technologií najdete v části vysokou dostupnost a zotavení po havárii pro SQL Server v Azure Virtual Machines.</span><span class="sxs-lookup"><span data-stu-id="c3994-412">For supported HDAR technologies, see High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines.</span></span><br/><br/><span data-ttu-id="c3994-413">**Zrcadlení databáze serveru SQL**: použití se službou Azure Cloud Services (webové/role pracovního procesu).</span><span class="sxs-lookup"><span data-stu-id="c3994-413">**SQL Server Database Mirroring**: Use with Azure Cloud Services (web/worker roles).</span></span> <span data-ttu-id="c3994-414">Virtuálním počítačům systému SQL Server a projekt cloudové služby může být v hello stejné virtuální síti Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-414">SQL Server VMs and a cloud service project can be in hello same Azure Virtual Network.</span></span> <span data-ttu-id="c3994-415">Pokud virtuální počítač SQL Server není ve stejné virtuální síti text hello, musíte toocreate zástupce serveru SQL tooroute komunikace toohello instance systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c3994-415">If SQL Server VM is not in hello same Virtual Network, you need toocreate a SQL Server Alias tooroute communication toohello instance of SQL Server.</span></span> <span data-ttu-id="c3994-416">Název aliasu hello kromě toho musí odpovídat názvu systému SQL Server hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-416">In addition, hello alias name must match hello SQL Server name.</span></span> |<span data-ttu-id="c3994-417">Zajištění vysoké dostupnosti je zděděn z role pracovního procesu systému Azure, Azure blob storage a Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="c3994-417">High Availability is inherited from Azure worker roles, Azure blob storage, and Azure SQL Database.</span></span> <span data-ttu-id="c3994-418">Například Azure úložiště udržuje tři repliky všech objektů blob, tabulky a fronty data.</span><span class="sxs-lookup"><span data-stu-id="c3994-418">For example, Azure Storage maintains three replicas of all blob, table, and queue data.</span></span> <span data-ttu-id="c3994-419">Současně, Azure SQL Database udržuje tři repliky dat systémem – jedna primární replika a dvě sekundární repliky.</span><span class="sxs-lookup"><span data-stu-id="c3994-419">At any one time, Azure SQL Database keeps three replicas of data running—one primary replica and two secondary replicas.</span></span> <span data-ttu-id="c3994-420">Další informace najdete v tématu [Azure Storage](https://azure.microsoft.com/documentation/services/storage/) a [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-420">For more information, see [Azure Storage](https://azure.microsoft.com/documentation/services/storage/) and [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span></span><br/><br/><span data-ttu-id="c3994-421">Při použití SQL serveru ve virtuálním počítači Azure jako zdroj dat pro Azure Web Apps, mějte na paměti, že Azure Web Apps nepodporuje virtuální sítě Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-421">When using SQL Server in Azure VM as a data source for Azure Web Apps, keep in mind that Azure Web Apps does not support Azure Virtual Network.</span></span> <span data-ttu-id="c3994-422">Jinými slovy všechna připojení z Azure Web Apps tooSQL serveru virtuálních počítačů v Azure musí projít veřejné koncové body virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="c3994-422">In other words, all connections from Azure Web Apps tooSQL Server VMs in Azure must go through public end points of virtual machines.</span></span> <span data-ttu-id="c3994-423">To může způsobit určitá omezení pro vysokou dostupnost a scénářů zotavení po havárii.</span><span class="sxs-lookup"><span data-stu-id="c3994-423">This might cause some limitations for high availability and disaster recovery scenarios.</span></span> <span data-ttu-id="c3994-424">Hello klientskou aplikaci v Azure Web Apps připojení tooSQL virtuální počítač Server s zrcadlení databáze například nebude možné tooconnect toohello novým primárním serverem, protože zrcadlení databáze vyžaduje, abyste nastavili Azure Virtual Network mezi virtuálními počítači hostitele systému SQL Server v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-424">For example, hello client application on Azure Web Apps connecting tooSQL Server VM with database mirroring would not be able tooconnect toohello new primary server as database mirroring requires that you set up Azure Virtual Network between SQL Server host VMs in Azure.</span></span> <span data-ttu-id="c3994-425">Proto pomocí **zrcadlení databáze serveru SQL** s webovými aplikacemi Azure v současné době nepodporují.</span><span class="sxs-lookup"><span data-stu-id="c3994-425">Therefore, using **SQL Server Database Mirroring** with Azure Web Apps is not supported currently.</span></span><br/><br/><span data-ttu-id="c3994-426">**Skupiny dostupnosti AlwaysOn serveru SQL**: skupiny dostupnosti AlwaysOn můžete nastavit při používání Azure Web Apps s virtuálním počítačům systému SQL Server v Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-426">**SQL Server AlwaysOn Availability Groups**: You can set up AlwaysOn Availability Groups when using Azure Web Apps with SQL Server VMs in Azure.</span></span> <span data-ttu-id="c3994-427">Ale musíte tooconfigure naslouchací proces skupiny dostupnosti AlwaysOn tooroute hello komunikace toohello primární repliky prostřednictvím veřejných koncových bodů s vyrovnáváním zatížení.</span><span class="sxs-lookup"><span data-stu-id="c3994-427">But you need tooconfigure AlwaysOn Availability Group Listener tooroute hello communication toohello primary replica via public load-balanced endpoints.</span></span> |
| <span data-ttu-id="c3994-428">**Připojení mezi různými místy**</span><span class="sxs-lookup"><span data-stu-id="c3994-428">**cross-premises Connectivity**</span></span> |<span data-ttu-id="c3994-429">Můžete použít místní tooon tooconnect Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="c3994-429">You can use Azure Virtual Network tooconnect tooon-premises.</span></span> |<span data-ttu-id="c3994-430">Můžete použít místní tooon tooconnect Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="c3994-430">You can use Azure Virtual Network tooconnect tooon-premises.</span></span> |<span data-ttu-id="c3994-431">Virtuální síť Azure je podporováno.</span><span class="sxs-lookup"><span data-stu-id="c3994-431">Azure Virtual Network is supported.</span></span> <span data-ttu-id="c3994-432">Další informace najdete v tématu [integrace virtuální sítě webové aplikace](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/).</span><span class="sxs-lookup"><span data-stu-id="c3994-432">For more information, see [Web Apps Virtual Network Integration](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/).</span></span> |
| <span data-ttu-id="c3994-433">**Škálovatelnost**</span><span class="sxs-lookup"><span data-stu-id="c3994-433">**Scalability**</span></span> |<span data-ttu-id="c3994-434">Škálování je k dispozici zvýšením velikosti virtuálních počítačů hello nebo přidání více disků.</span><span class="sxs-lookup"><span data-stu-id="c3994-434">Scale-up is available by increasing hello virtual machine sizes or adding more disks.</span></span> <span data-ttu-id="c3994-435">Další informace o velikosti virtuálních počítačů najdete v tématu [velikostí virtuálních počítačů pro Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c3994-435">For more information about virtual machine sizes, see [Virtual Machine Sizes for Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span><br/><br/><span data-ttu-id="c3994-436">**Pro Server databáze**: Škálováním na více systémů je k dispozici prostřednictvím rozdělení techniky databáze a skupiny dostupnosti AlwaysOn serveru SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c3994-436">**For Database Server**: Scale-out is available via database partitioning techniques and SQL Server AlwaysOn Availability groups.</span></span><br/><br/><span data-ttu-id="c3994-437">Pro náročných úloh pro čtení, můžete použít [skupiny dostupnosti AlwaysOn](https://msdn.microsoft.com/library/hh510230.aspx) na více sekundární uzly také replikace SQL serveru.</span><span class="sxs-lookup"><span data-stu-id="c3994-437">For heavy read workloads, you can use [AlwaysOn Availability Groups](https://msdn.microsoft.com/library/hh510230.aspx) on multiple secondary nodes as well as SQL Server Replication.</span></span><br/><br/><span data-ttu-id="c3994-438">Pro úlohy velkou zápisu můžete implementovat vodorovné rozdělení dat mezi několik fyzických serverů tooprovide aplikace Škálováním na více systémů.</span><span class="sxs-lookup"><span data-stu-id="c3994-438">For heavy write workloads, you can implement horizontal partitioning data across multiple physical servers tooprovide application scale-out.</span></span><br/><br/><span data-ttu-id="c3994-439">Kromě toho můžete implementovat Škálováním na více systémů pomocí [systému SQL Server se směrováním závislé Data](https://technet.microsoft.com/library/cc966448.aspx).</span><span class="sxs-lookup"><span data-stu-id="c3994-439">In addition, you can implement a scale-out by using [SQL Server with Data Dependent Routing](https://technet.microsoft.com/library/cc966448.aspx).</span></span> <span data-ttu-id="c3994-440">S dat závislé směrování (DDR), budete potřebovat tooimplement hello dělení mechanismus v aplikaci klienta hello, obvykle ve vrstvě vrstvy hello firmy, databáze hello tooroute požadavky toomultiple uzlů serveru SQL.</span><span class="sxs-lookup"><span data-stu-id="c3994-440">With Data Dependent Routing (DDR), you need tooimplement hello partitioning mechanism in hello client application, typically in hello business tier layer, tooroute hello database requests toomultiple SQL Server nodes.</span></span> <span data-ttu-id="c3994-441">Hello obchodní vrstva obsahuje mapování toohow hello dat je rozdělena na oddíly a který uzel obsahuje hello data.</span><span class="sxs-lookup"><span data-stu-id="c3994-441">hello business tier contains mappings toohow hello data is partitioned and which node contains hello data.</span></span><br/><br/><span data-ttu-id="c3994-442">Je možné škálovat aplikace, které jsou spuštěné virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="c3994-442">You can scale applications that are running virtual machines.</span></span> <span data-ttu-id="c3994-443">Další informace najdete v tématu [jak tooScale aplikace](../../../cloud-services/cloud-services-how-to-scale.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-443">For more information, see [How tooScale an Application](../../../cloud-services/cloud-services-how-to-scale.md).</span></span><br/><br/><span data-ttu-id="c3994-444">**Důležitá poznámka**: hello **škálování** funkce v Azure vám umožní tooautomatically zvýšení nebo snížení hello virtuálních počítačů, které jsou používány vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="c3994-444">**Important Note**: hello **AutoScale** feature in Azure allows you tooautomatically increase or decrease hello Virtual Machines that are used by your application.</span></span> <span data-ttu-id="c3994-445">Tato funkce zaručuje, že činnost koncového uživatele hello nemá negativní vliv špičky a jsou virtuální počítače vypnout při nízkém vyžádání hello.</span><span class="sxs-lookup"><span data-stu-id="c3994-445">This feature guarantees that hello end-user experience is not affected negatively during peak periods, and VMs are shut down when hello demand is low.</span></span> <span data-ttu-id="c3994-446">Doporučujeme, nenastavujte možnost škálování hello vaší cloudové služby, pokud obsahuje virtuálním počítačům systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c3994-446">It’s recommended that you do not set hello AutoScale option for your cloud service if it includes SQL Server VMs.</span></span> <span data-ttu-id="c3994-447">Hello důvodem je, že funkci škálování hello umožní Azure tooturn na virtuálním počítači v případě hello využití procesoru v tohoto virtuálního počítače je vyšší než některé prahovou hodnotu a tooturn vypnout virtuální počítač přejde hello využití procesoru nižší než.</span><span class="sxs-lookup"><span data-stu-id="c3994-447">hello reason is that hello AutoScale feature lets Azure tooturn on a virtual machine when hello CPU usage in that VM is higher than some threshold, and tooturn off a virtual machine when hello CPU usage goes lower than it.</span></span> <span data-ttu-id="c3994-448">funkce škálování Hello je užitečná pro bezstavové aplikace, jako jsou třeba webové servery, kde žádné virtuální počítače můžete spravovat hello zatížení bez jakékoli odkazy tooany předchozího stavu.</span><span class="sxs-lookup"><span data-stu-id="c3994-448">hello AutoScale feature is useful for stateless applications, such as web servers, where any VM can manage hello workload without any references tooany previous state.</span></span> <span data-ttu-id="c3994-449">Funkce škálování hello však není užitečné stavových aplikací, jako je SQL Server, kde pouze jedna instance umožňuje zápis toohello databáze.</span><span class="sxs-lookup"><span data-stu-id="c3994-449">However, hello AutoScale feature is not useful for stateful applications, such as SQL Server, where only one instance allows writing toohello database.</span></span> |<span data-ttu-id="c3994-450">Škálování je k dispozici v několika webových a pracovních rolí.</span><span class="sxs-lookup"><span data-stu-id="c3994-450">Scale-up is available by using multiple web and worker roles.</span></span> <span data-ttu-id="c3994-451">Další informace o velikosti virtuálních počítačů pro webových rolí a rolí pracovního procesu naleznete v tématu [konfigurace velikosti pro cloudové služby](../../../cloud-services/cloud-services-sizes-specs.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-451">For more information about virtual machine sizes for web roles and worker roles, see [Configure Sizes for Cloud Services](../../../cloud-services/cloud-services-sizes-specs.md).</span></span><br/><br/><span data-ttu-id="c3994-452">Při použití **cloudové služby**, můžete definovat více rolí toodistribute zpracování a také dosáhnout flexibilní škálování aplikace.</span><span class="sxs-lookup"><span data-stu-id="c3994-452">When using **Cloud Services**, you can define multiple roles toodistribute processing and also achieve flexible scaling of your application.</span></span> <span data-ttu-id="c3994-453">Jednotlivých cloudových služeb obsahuje jeden nebo více webové role nebo rolí pracovního procesu, každou s vlastní soubory aplikace a konfigurace.</span><span class="sxs-lookup"><span data-stu-id="c3994-453">Each cloud service includes one or more web roles and/or worker roles, each with its own application files and configuration.</span></span> <span data-ttu-id="c3994-454">Můžete škálování cloudové služby zvýšením hello počet instancí role (virtuálních počítačů), nasazení pro roli a vertikální snížení kapacity Cloudová služba, a tím snižují hello počet instancí role.</span><span class="sxs-lookup"><span data-stu-id="c3994-454">You can scale-up a cloud service by increasing hello number of role instances (virtual machines) deployed for a role and scale-down a cloud service by decreasing hello number of role instances.</span></span> <span data-ttu-id="c3994-455">Podrobné informace najdete v tématu [Azure provádění modely](../../../cloud-services/cloud-services-choose-me.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-455">For detailed information, see [Azure Execution Models](../../../cloud-services/cloud-services-choose-me.md).</span></span><br/><br/><span data-ttu-id="c3994-456">Škálováním na více systémů je k dispozici prostřednictvím podpory Azure integrovanou vysokou dostupnost prostřednictvím [cloudové služby, virtuální počítače a virtuální sítě smlouvy o úrovni služeb](http://www.microsoft.com/download/details.aspx?id=38427) a nástroj pro vyrovnávání zatížení.</span><span class="sxs-lookup"><span data-stu-id="c3994-456">Scale-out is available via built-in Azure high availability support through [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) and Load Balancer.</span></span><br/><br/><span data-ttu-id="c3994-457">Vícevrstvé aplikace doporučujeme připojení serveru aplikací toodatabase web nebo worker role virtuálních počítačů prostřednictvím Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="c3994-457">For a multi-tier application, we recommend that you connect web/worker roles application toodatabase server VMs via Azure Virtual Network.</span></span> <span data-ttu-id="c3994-458">Kromě toho Azure poskytuje Vyrovnávání zatížení pro virtuální počítače v hello stejné cloudové služby, šíření požadavky uživatelů mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="c3994-458">In addition, Azure provides load balancing for VMs in hello same cloud service, spreading user requests across them.</span></span> <span data-ttu-id="c3994-459">Virtuální počítače připojené tímto způsobem může komunikovat přímo s navzájem hello místní síti v rámci datové centrum Azure.</span><span class="sxs-lookup"><span data-stu-id="c3994-459">Virtual machines connected in this way can communicate directly with one another over hello local network within an Azure data center.</span></span><br/><br/><span data-ttu-id="c3994-460">Můžete nastavit **škálování** na hello portál Azure a také hello plánování doby.</span><span class="sxs-lookup"><span data-stu-id="c3994-460">You can set up **AutoScale** on hello Azure portal as well as hello schedule times.</span></span> <span data-ttu-id="c3994-461">Další informace najdete v tématu [jak tooconfigure automatické škálování pro cloudové služby v rámci portálu hello](../../../cloud-services/cloud-services-how-to-scale-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-461">For more information, see [How tooconfigure auto scaling for a Cloud Service in hello portal](../../../cloud-services/cloud-services-how-to-scale-portal.md).</span></span> |<span data-ttu-id="c3994-462">**Škálovat nahoru a dolů**: můžete můžete zvětšit nebo zmenšit hello velikost instance hello (VM) vyhrazena pro svůj web.</span><span class="sxs-lookup"><span data-stu-id="c3994-462">**Scale up and down**: You can increase/decrease hello size of hello instance (VM) reserved for your web site.</span></span><br/><br/><span data-ttu-id="c3994-463">Horizontální navýšení kapacity: můžete přidat více vyhrazenou instancí (VM) pro svůj web.</span><span class="sxs-lookup"><span data-stu-id="c3994-463">Scale out: You can add more reserved instances (VMs) for your web site.</span></span><br/><br/><span data-ttu-id="c3994-464">Můžete nastavit **škálování** na portál hello, jakož i hello plánování doby.</span><span class="sxs-lookup"><span data-stu-id="c3994-464">You can set up **AutoScale** on hello portal as well as hello schedule times.</span></span> <span data-ttu-id="c3994-465">Další informace najdete v tématu [jak tooScale webové aplikace](../../../app-service-web/web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-465">For more information, see [How tooScale Web Apps](../../../app-service-web/web-sites-scale.md).</span></span> |

<span data-ttu-id="c3994-466">Další informace o výběru mezi tyto programovací metody naleznete v tématu [Azure Web Apps, cloudové služby a virtuální počítače: když toouse který](../../../app-service-web/choose-web-site-cloud-service-vm.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-466">For more information on choosing between these programming methods, see [Azure Web Apps, Cloud Services, and VMs: When toouse which](../../../app-service-web/choose-web-site-cloud-service-vm.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="c3994-467">Další kroky</span><span class="sxs-lookup"><span data-stu-id="c3994-467">Next Steps</span></span>
<span data-ttu-id="c3994-468">Další informace o spouštění systému SQL Server v Azure virtuální počítače, naleznete v části [SQL Server na Přehled virtuálních počítačů Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c3994-468">For more information on running SQL Server in Azure Virtual machines, see [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

