---
title: "Vzory aplikace SQL Server na virtuálních počítačích | Microsoft Docs"
description: "Tento článek se zabývá vzory aplikace pro systém SQL Server na virtuálních počítačích Azure. Poskytuje řešení architekty a vývojáře základ pro dobrý aplikace architektury a návrhu."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
editor: 
tags: azure-service-management,azure-resource-manager
ms.assetid: 41863c8d-f3a3-4584-ad86-b95094365e05
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 05/31/2017
ms.author: ninarn
ms.openlocfilehash: a716de21e21148a082f49f0f416b14ca0eaa8192
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="application-patterns-and-development-strategies-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="64a99-104">Modely aplikací a vývojové strategie pro SQL Server v Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="64a99-104">Application Patterns and Development Strategies for SQL Server in Azure Virtual Machines</span></span>
[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="summary"></a><span data-ttu-id="64a99-105">Shrnutí:</span><span class="sxs-lookup"><span data-stu-id="64a99-105">Summary:</span></span>
<span data-ttu-id="64a99-106">Určení, které vzor aplikací nebo vzory použít pro vaše aplikace na serveru SQL v Azure prostředí je rozhodnutí o návrhu důležité a vyžaduje důkladná znalost jak spolupracují systému SQL Server a jednotlivé komponenty infrastruktury Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-106">Determining which application pattern or patterns to use for your SQL-Server-based applications in Azure environment is an important design decision and it requires a solid understanding of how SQL Server and each infrastructure component of Azure work together.</span></span> <span data-ttu-id="64a99-107">Se systémem SQL Server ve službách infrastruktury Azure můžete snadno migrovat, údržbu a monitorování existující aplikace SQL Server vytvořené v systému Windows Server na virtuální počítače v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-107">With SQL Server in Azure Infrastructure Services, you can easily migrate, maintain, and monitor your existing SQL Server applications built-on Windows Server to virtual machines in Azure.</span></span>

<span data-ttu-id="64a99-108">Cílem tohoto článku je k zajištění řešení architekty a vývojáře základ pro funkční aplikaci architektury a návrhu, které může kliknout, při migraci stávajících aplikací Azure a také vývoji nových aplikací v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-108">The goal of this article is to provide solution architects and developers a foundation for good application architecture and design, which they can follow when migrating existing applications to Azure as well as developing new applications in Azure.</span></span>

<span data-ttu-id="64a99-109">Pro každou aplikaci vzor zjistíte scénářem místní, jeho odpovídající řešení využívajících cloud a související technických doporučení.</span><span class="sxs-lookup"><span data-stu-id="64a99-109">For each application pattern, you will find an on-premises scenario, its respective cloud-enabled solution, and the related technical recommendations.</span></span> <span data-ttu-id="64a99-110">Kromě toho článek popisuje specifické pro Azure vývoj strategie tak, aby vaše aplikace můžete navrhnout správně.</span><span class="sxs-lookup"><span data-stu-id="64a99-110">In addition, the article discusses Azure-specific development strategies so that you can design your applications correctly.</span></span> <span data-ttu-id="64a99-111">Z důvodu mnoha schémat možné aplikace se doporučuje, že architekty a vývojáře by měl vybrat nejvhodnější vzor pro své aplikace a uživatelé.</span><span class="sxs-lookup"><span data-stu-id="64a99-111">Due to the many possible application patterns, it’s recommended that architects and developers should choose the most appropriate pattern for their applications and users.</span></span>

<span data-ttu-id="64a99-112">**Přispěvatele do technického:** Leoš Carlos Vargas sleďů, Madhan Arumugam Ramakrishnan</span><span class="sxs-lookup"><span data-stu-id="64a99-112">**Technical Contributors:** Luis Carlos Vargas Herring, Madhan Arumugam Ramakrishnan</span></span>

<span data-ttu-id="64a99-113">**Odborní recenzenti:** Corey Sanders, Drew McDaniel, Narayan Annamalai, Nir Mashkowski, Sanjay Mishra, Silvano Coriani, Stefan Schackow Tim Hickey, Tim Wieman, Xin Jin</span><span class="sxs-lookup"><span data-stu-id="64a99-113">**Technical Reviewers:** Corey Sanders, Drew McDaniel, Narayan Annamalai, Nir Mashkowski, Sanjay Mishra, Silvano Coriani, Stefan Schackow, Tim Hickey, Tim Wieman, Xin Jin</span></span>

## <a name="introduction"></a><span data-ttu-id="64a99-114">Úvod</span><span class="sxs-lookup"><span data-stu-id="64a99-114">Introduction</span></span>
<span data-ttu-id="64a99-115">Mnoho typů vícevrstvé aplikace můžete vyvíjet oddělením součástí vrstvy jiné aplikace na různé počítače stejně jako samostatné součásti.</span><span class="sxs-lookup"><span data-stu-id="64a99-115">You can develop many types of n-tier applications by separating the components of the different application layers on different machines as well as in separate components.</span></span> <span data-ttu-id="64a99-116">Například můžete umístit klientská aplikace a obchodní pravidla součásti v jeden počítač, front-end webové vrstvy a součásti úroveň přístupu dat v jiném počítači a vrstvu databázi back-end v jiném počítači.</span><span class="sxs-lookup"><span data-stu-id="64a99-116">For example, you can place the client application and business rules components in one machine, front-end web tier and data access tier components in another machine, and a back-end database tier in another machine.</span></span> <span data-ttu-id="64a99-117">Tento druh strukturování pomáhá izolovat jednotlivých úrovní od sebe navzájem.</span><span class="sxs-lookup"><span data-stu-id="64a99-117">This kind of structuring helps isolate each tier from each other.</span></span> <span data-ttu-id="64a99-118">Pokud změníte, kde se data pocházejí z, nemusíte měnit klienta nebo webovou aplikaci, ale pouze komponenty vrstvy data access.</span><span class="sxs-lookup"><span data-stu-id="64a99-118">If you change where data comes from, you don’t need to change the client or web application but only the data access tier components.</span></span>

<span data-ttu-id="64a99-119">Typické *n vrstvá* aplikace obsahuje prezentační vrstvy, obchodní vrstvou a datovou vrstvou:</span><span class="sxs-lookup"><span data-stu-id="64a99-119">A typical *n-tier* application includes the presentation tier, the business tier, and the data tier:</span></span>

| <span data-ttu-id="64a99-120">Úroveň</span><span class="sxs-lookup"><span data-stu-id="64a99-120">Tier</span></span> | <span data-ttu-id="64a99-121">Popis</span><span class="sxs-lookup"><span data-stu-id="64a99-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="64a99-122">**Prezentace**</span><span class="sxs-lookup"><span data-stu-id="64a99-122">**Presentation**</span></span> |<span data-ttu-id="64a99-123">*Prezentační vrstvy* (webová vrstva z vrstvy front-end) je vrstvy, ve kterém uživatelé pracují s aplikací.</span><span class="sxs-lookup"><span data-stu-id="64a99-123">The *presentation tier* (web tier, front-end tier) is the layer in which users interact with an application.</span></span> |
| <span data-ttu-id="64a99-124">**Firmy**</span><span class="sxs-lookup"><span data-stu-id="64a99-124">**Business**</span></span> |<span data-ttu-id="64a99-125">*Obchodní vrstvy* (střední úroveň) je vrstva, která prezentační vrstvy a datovou vrstvu používají ke komunikaci mezi sebou a obsahuje základní funkce systému.</span><span class="sxs-lookup"><span data-stu-id="64a99-125">The *business tier* (middle tier) is the layer that the presentation tier and the data tier use to communicate with each other and includes the core functionality of the system.</span></span> |
| <span data-ttu-id="64a99-126">**Data**</span><span class="sxs-lookup"><span data-stu-id="64a99-126">**Data**</span></span> |<span data-ttu-id="64a99-127">*Datové vrstvy* je v podstatě serveru, která ukládá data aplikace (například serveru se systémem SQL Server).</span><span class="sxs-lookup"><span data-stu-id="64a99-127">The *data tier* is basically the server that stores an application's data (for example, a server running SQL Server).</span></span> |

<span data-ttu-id="64a99-128">Aplikačními vrstvami popisují logická seskupení funkce a součásti v aplikaci; zatímco vrstev popisují fyzické distribuci funkce a součásti na samostatné fyzické servery, počítače, sítě nebo vzdálené umístění.</span><span class="sxs-lookup"><span data-stu-id="64a99-128">Application layers describe the logical groupings of the functionality and components in an application; whereas tiers describe the physical distribution of the functionality and components on separate physical servers, computers, networks, or remote locations.</span></span> <span data-ttu-id="64a99-129">Vrstvy, které aplikace může nacházet na stejném fyzickém počítači (stejnou úroveň) nebo mohou být distribuovány v samostatných počítačích (n vrstvá), a komponenty v každé vrstvě komunikovat s součásti v jiných vrstev prostřednictvím dobře definovaných rozhraní.</span><span class="sxs-lookup"><span data-stu-id="64a99-129">The layers of an application may reside on the same physical computer (the same tier) or may be distributed over separate computers (n-tier), and the components in each layer communicate with components in other layers through well-defined interfaces.</span></span> <span data-ttu-id="64a99-130">Si můžete představit jako fyzické distribuční vzorů například dvouvrstvá a třívrstvá, n vrstvá vrstvy termín.</span><span class="sxs-lookup"><span data-stu-id="64a99-130">You can think of the term tier as referring to physical distribution patterns such as two-tier, three-tier, and n-tier.</span></span> <span data-ttu-id="64a99-131">A **2vrstvý vzor aplikací** obsahuje dvě úrovně aplikace: aplikační server a databázový server.</span><span class="sxs-lookup"><span data-stu-id="64a99-131">A **2-tier application pattern** contains two application tiers: application server and database server.</span></span> <span data-ttu-id="64a99-132">Dochází k přímé komunikaci mezi aplikační server a databázový server.</span><span class="sxs-lookup"><span data-stu-id="64a99-132">The direct communication happens between the application server and the database server.</span></span> <span data-ttu-id="64a99-133">Aplikační server obsahuje součásti webovou vrstvu a obchodní vrstvy.</span><span class="sxs-lookup"><span data-stu-id="64a99-133">The application server contains both web-tier and business-tier components.</span></span> <span data-ttu-id="64a99-134">V **3vrstvý vzor aplikací**, existují tři aplikačními vrstvami: webového serveru, aplikačního serveru, který obsahuje vrstvu obchodní logiky a/nebo součástí obchodní vrstvy data access components a databázový server.</span><span class="sxs-lookup"><span data-stu-id="64a99-134">In **3-tier application pattern**, there are three application tiers: web server, application server, which contains the business logic tier and/or business tier data access components, and the database server.</span></span> <span data-ttu-id="64a99-135">Komunikace mezi webovým serverem a serverem databáze se stane přes aplikačního serveru.</span><span class="sxs-lookup"><span data-stu-id="64a99-135">The communication between the web server and the database server happens over the application server.</span></span> <span data-ttu-id="64a99-136">Podrobné informace o aplikaci vrstvy a vrstvy, najdete v části [Průvodce architekturou aplikace Microsoft](https://msdn.microsoft.com/library/ff650706.aspx).</span><span class="sxs-lookup"><span data-stu-id="64a99-136">For detailed information on application layers and tiers, see [Microsoft Application Architecture Guide](https://msdn.microsoft.com/library/ff650706.aspx).</span></span>

<span data-ttu-id="64a99-137">Než začnete přečtení tohoto článku, měli byste mít znalosti na základní koncepty systému SQL Server a Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-137">Before you start reading this article, you should have knowledge on the fundamental concepts of SQL Server and Azure.</span></span> <span data-ttu-id="64a99-138">Informace najdete v tématu [SQL Server Books Online](https://msdn.microsoft.com/library/bb545450.aspx), [systému SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) a [Azure.com](https://azure.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="64a99-138">For information, see [SQL Server Books Online](https://msdn.microsoft.com/library/bb545450.aspx), [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) and [Azure.com](https://azure.microsoft.com/).</span></span>

<span data-ttu-id="64a99-139">Tento článek popisuje několik vzory aplikace, které může být vhodný pro jednoduché aplikace a také vysoce komplexní podnikové aplikace.</span><span class="sxs-lookup"><span data-stu-id="64a99-139">This article describes several application patterns that can be suitable for your simple applications as well as the highly complex enterprise applications.</span></span> <span data-ttu-id="64a99-140">Před s podrobnostmi o jednotlivých vzor, doporučujeme, aby byste si měli přečíst s dostupnými daty služby úložiště v Azure, jako například [Azure Storage](../../../storage/common/storage-introduction.md), [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md), a [SQL Server ve virtuálním počítači Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-140">Before detailing each pattern, we recommend that you should familiarize yourself with the available data storage services in Azure, such as [Azure Storage](../../../storage/common/storage-introduction.md), [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md), and [SQL Server in an Azure Virtual Machine](virtual-machines-windows-sql-server-iaas-overview.md).</span></span> <span data-ttu-id="64a99-141">Chcete-li nejlepší rozhodnutí o návrhu pro vaše aplikace, Pochopte, kdy používat služby úložiště dat, která jasně.</span><span class="sxs-lookup"><span data-stu-id="64a99-141">To make the best design decisions for your applications, understand when to use which data storage service clearly.</span></span>

### <a name="choose-sql-server-in-an-azure-virtual-machine-when"></a><span data-ttu-id="64a99-142">Zvolte systému SQL Server ve virtuálním počítači Azure, když:</span><span class="sxs-lookup"><span data-stu-id="64a99-142">Choose SQL Server in an Azure Virtual Machine, when:</span></span>
* <span data-ttu-id="64a99-143">Je nutné ovládací prvek v systému SQL Server a Windows.</span><span class="sxs-lookup"><span data-stu-id="64a99-143">You need control on SQL Server and Windows.</span></span> <span data-ttu-id="64a99-144">Například to může zahrnovat verze systému SQL Server, speciální opravy hotfix, konfigurace výkonu atd.</span><span class="sxs-lookup"><span data-stu-id="64a99-144">For example, this might include the SQL Server version, special hotfixes, performance configuration, etc.</span></span>
* <span data-ttu-id="64a99-145">Potřebujete úplnou kompatibilitu s místním SQL serverem a chcete přesunout existujících aplikací do Azure jako-je.</span><span class="sxs-lookup"><span data-stu-id="64a99-145">You need a full compatibility with SQL Server on-premises and want to move existing applications to Azure as-is.</span></span>
* <span data-ttu-id="64a99-146">Chcete využít možnosti prostředí Azure, ale Azure SQL Database nepodporuje všechny funkce, které vaše aplikace vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="64a99-146">You want to leverage the capabilities of the Azure environment but Azure SQL Database does not support all the features that your application requires.</span></span> <span data-ttu-id="64a99-147">To může zahrnovat tyto oblasti:</span><span class="sxs-lookup"><span data-stu-id="64a99-147">This could include the following areas:</span></span>
  
  * <span data-ttu-id="64a99-148">**Velikost databáze**: během Tento článek byl aktualizován, databáze SQL podporuje až 1 TB dat v databázi.</span><span class="sxs-lookup"><span data-stu-id="64a99-148">**Database size**: At the time this article was updated, SQL Database supports a database of up to 1 TB of data.</span></span> <span data-ttu-id="64a99-149">Pokud vaše aplikace vyžaduje více než 1 TB dat a nechcete, aby k implementaci vlastních horizontálního dělení řešení, doporučuje se použití systému SQL Server v virtuálního počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-149">If your application requires more than 1 TB of data and you don’t want to implement custom sharding solutions, it’s recommended that you use SQL Server in an Azure Virtual Machine.</span></span> <span data-ttu-id="64a99-150">Nejnovější informace najdete v tématu [škálování se databáze SQL Azure](https://msdn.microsoft.com/library/azure/dn495641.aspx) a [úrovních služby databáze SQL Azure a úrovně výkonu](../../../sql-database/sql-database-service-tiers.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-150">For the latest information, see [Scaling Out Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn495641.aspx) and [Azure SQL Database Service Tiers and Performance Levels](../../../sql-database/sql-database-service-tiers.md).</span></span>
  * <span data-ttu-id="64a99-151">**Dodržování předpisů HIPAA**: zdravotní péče zákazníků a nezávislí výrobci softwaru (ISV) mohou vybrat [systému SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) místo [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md) protože SQL Server virtuálním počítači Azure je zahrnutý ve HIPAA obchodní přidružit smlouvy (BÁ).</span><span class="sxs-lookup"><span data-stu-id="64a99-151">**HIPAA compliance**: Healthcare customers and Independent Software Vendors (ISVs) might choose [SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md) instead of [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md) because SQL Server in an Azure Virtual Machine is covered by HIPAA Business Associate Agreement (BAA).</span></span> <span data-ttu-id="64a99-152">Informace o dodržování předpisů najdete v tématu [Microsoft Azure Trust Center: dodržování předpisů](https://azure.microsoft.com/support/trust-center/compliance/).</span><span class="sxs-lookup"><span data-stu-id="64a99-152">For information on compliance, see [Microsoft Azure Trust Center: Compliance](https://azure.microsoft.com/support/trust-center/compliance/).</span></span>
  * <span data-ttu-id="64a99-153">**Funkce na úrovni instance**: V tomto okamžiku SQL Database nepodporuje funkce, které za provozu mimo databázi (například odkazované servery agenta úlohy, FileStream, služby Service Broker, atd.).</span><span class="sxs-lookup"><span data-stu-id="64a99-153">**Instance-level features**: At this time, SQL Database doesn’t support features that live outside of the database (such as Linked Servers, Agent jobs, FileStream, Service Broker, etc.).</span></span> <span data-ttu-id="64a99-154">Další informace najdete v tématu [pokyny databáze SQL Azure a omezení](https://msdn.microsoft.com/library/azure/ff394102.aspx).</span><span class="sxs-lookup"><span data-stu-id="64a99-154">For more information, see [Azure SQL Database Guidelines and Limitations](https://msdn.microsoft.com/library/azure/ff394102.aspx).</span></span>

## <a name="1-tier-simple-single-virtual-machine"></a><span data-ttu-id="64a99-155">vrstvě 1 (jednoduchý): jeden virtuální počítač</span><span class="sxs-lookup"><span data-stu-id="64a99-155">1-tier (simple): single virtual machine</span></span>
<span data-ttu-id="64a99-156">V tomto vzoru aplikace můžete nasadit aplikaci systému SQL Server a databáze pro samostatný virtuální počítač v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-156">In this application pattern, you deploy your SQL Server application and database to a standalone virtual machine in Azure.</span></span> <span data-ttu-id="64a99-157">Na stejný virtuální počítač obsahuje klienta nebo webové aplikace, komponenty business, vrstva přístupu k datům a databázový server.</span><span class="sxs-lookup"><span data-stu-id="64a99-157">The same virtual machine contains your client/web application, business components, data access layer, and the database server.</span></span> <span data-ttu-id="64a99-158">Prezentační, obchodní a datové přístupového kódu jsou logicky oddělené ale se fyzicky nacházejí v počítači s jedním serverem.</span><span class="sxs-lookup"><span data-stu-id="64a99-158">The presentation, business, and data access code are logically separated but are physically located in a single-server machine.</span></span> <span data-ttu-id="64a99-159">Většina zákazníků začínat tento vzor aplikací a pak škálovat tak, že přidáte další webové role nebo virtuální počítače do svého systému.</span><span class="sxs-lookup"><span data-stu-id="64a99-159">Most customers start with this application pattern and then, they scale out by adding more web roles or virtual machines to their system.</span></span>

<span data-ttu-id="64a99-160">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="64a99-160">This application pattern is useful when:</span></span>

* <span data-ttu-id="64a99-161">Chcete provádět jednoduché migrace pro platformu Azure k vyhodnocení, zda platformou přijme požadavky na aplikace, nebo ne.</span><span class="sxs-lookup"><span data-stu-id="64a99-161">You want to perform a simple migration to Azure platform to evaluate whether the platform answers your application’s requirements or not.</span></span>
* <span data-ttu-id="64a99-162">Chcete zachovat všechny úrovně aplikace hostované ve stejné virtuální počítač stejném datovém centru Azure k snížit latenci mezi vrstvami.</span><span class="sxs-lookup"><span data-stu-id="64a99-162">You want to keep all the application tiers hosted in the same virtual machine in the same Azure data center to reduce the latency between tiers.</span></span>
* <span data-ttu-id="64a99-163">Chcete rychle zřizovat vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="64a99-163">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="64a99-164">Chcete provést zátěžové testování pro různé úrovně zatížení, ale současně nechcete vlastníte a udržovat vždy velký počet fyzických počítačů.</span><span class="sxs-lookup"><span data-stu-id="64a99-164">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>

<span data-ttu-id="64a99-165">Následující diagram ukazuje jednoduchý místní scénář a nasazení jeho řešení cloud povolené na jednom virtuálním počítači v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-165">The following diagram demonstrates a simple on-premises scenario and how you can deploy its cloud enabled solution in a single virtual machine in Azure.</span></span>

![1vrstvý vzor aplikací](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728008.png)

<span data-ttu-id="64a99-167">Nasazení vrstvě podnikání (obchodní logiku a data přístup k součástem) ve stejné fyzické vrstvě jako prezentační vrstvy, můžete zvýšit výkon aplikace, pokud je nutné použít samostatné vrstvy kvůli škálovatelnosti ani bezpečnostní otázky.</span><span class="sxs-lookup"><span data-stu-id="64a99-167">Deploying the business layer (business logic and data access components) on the same physical tier as the presentation layer can maximize application performance, unless you must use a separate tier due to scalability or security concerns.</span></span>

<span data-ttu-id="64a99-168">Protože se jedná o velmi běžný vzor začínat, mohou být užitečné v následujícím článku na migrace pro přesun dat do virtuálního počítače SQL serveru: [migrace databáze do systému SQL Server na virtuálním počítači Azure](virtual-machines-windows-migrate-sql.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-168">Since this is a very common pattern to start with, you might find the following article on migration useful for moving your data to your SQL Server VM: [Migrating a Database to SQL Server on an Azure VM](virtual-machines-windows-migrate-sql.md).</span></span>

## <a name="3-tier-simple-multiple-virtual-machines"></a><span data-ttu-id="64a99-169">3vrstvá (jednoduchý): více virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="64a99-169">3-tier (simple): multiple virtual machines</span></span>
<span data-ttu-id="64a99-170">V tomto vzoru aplikace nasadit 3vrstvé aplikace v Azure tak, že každý aplikační vrstvě jiný virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="64a99-170">In this application pattern, you deploy a 3-tier application in Azure by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="64a99-171">To poskytuje flexibilní prostředí pro snadné škálování zatížení a škálování scénáře.</span><span class="sxs-lookup"><span data-stu-id="64a99-171">This provides a flexible environment for an easy scale-up and scale-out scenarios.</span></span> <span data-ttu-id="64a99-172">Pokud jeden virtuální počítač obsahuje klienta nebo webové aplikace, jiného hostitelem součásti vaší firmy a jiného hostitelem databázového serveru.</span><span class="sxs-lookup"><span data-stu-id="64a99-172">When one virtual machine contains your client/web application, the other one hosts your business components, and the other one hosts the database server.</span></span>

<span data-ttu-id="64a99-173">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="64a99-173">This application pattern is useful when:</span></span>

* <span data-ttu-id="64a99-174">Chcete provést migraci složité databázové aplikace na virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-174">You want to perform a migration of complex database applications to Azure Virtual Machines.</span></span>
* <span data-ttu-id="64a99-175">Chcete vrstev jinou aplikaci pro hostování v různých oblastech.</span><span class="sxs-lookup"><span data-stu-id="64a99-175">You want different application tiers to be hosted in different regions.</span></span> <span data-ttu-id="64a99-176">Může mít například sdílené databáze, které jsou nasazeny do několika oblastí pro účely vytváření sestav.</span><span class="sxs-lookup"><span data-stu-id="64a99-176">For example, you might have shared databases that are deployed to multiple regions for reporting purposes.</span></span>
* <span data-ttu-id="64a99-177">Chcete přesunout podnikové aplikace z virtualizované platformami na virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-177">You want to move enterprise applications from on-premises virtualized platforms to Azure Virtual Machines.</span></span> <span data-ttu-id="64a99-178">Podrobné informace o podnikové aplikace, najdete v části [co je podniková aplikace](https://msdn.microsoft.com/library/aa267045.aspx).</span><span class="sxs-lookup"><span data-stu-id="64a99-178">For a detailed discussion on enterprise applications, see [What is an Enterprise Application](https://msdn.microsoft.com/library/aa267045.aspx).</span></span>
* <span data-ttu-id="64a99-179">Chcete rychle zřizovat vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="64a99-179">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="64a99-180">Chcete provést zátěžové testování pro různé úrovně zatížení, ale současně nechcete vlastníte a udržovat vždy velký počet fyzických počítačů.</span><span class="sxs-lookup"><span data-stu-id="64a99-180">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>

<span data-ttu-id="64a99-181">Následující diagram ukazuje, jak můžete umístit jednoduché 3vrstvé aplikace v Azure tak, že každý aplikační vrstvě jiný virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="64a99-181">The following diagram demonstrates how you can place a simple 3-tier application in Azure by placing each application tier in a different virtual machine.</span></span>

![vzor 3vrstvé aplikace](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728009.png)

<span data-ttu-id="64a99-183">V tomto vzoru aplikace není v jednotlivých vrstvách jenom jeden virtuální počítač (VM).</span><span class="sxs-lookup"><span data-stu-id="64a99-183">In this application pattern, there is only one virtual machine (VM) in each tier.</span></span> <span data-ttu-id="64a99-184">Pokud máte víc virtuálních počítačů v Azure, doporučujeme, abyste nastavili virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="64a99-184">If you have multiple VMs in Azure, we recommend that you set up a virtual network.</span></span> <span data-ttu-id="64a99-185">[Virtuální síť Azure](../../../virtual-network/virtual-networks-overview.md) vytvoří hranici zabezpečení pro důvěryhodné a také umožňuje virtuálním počítačům pro komunikaci mezi sebou pomocí privátní IP adresu.</span><span class="sxs-lookup"><span data-stu-id="64a99-185">[Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) creates a trusted security boundary and also allows VMs to communicate among themselves over the private IP address.</span></span> <span data-ttu-id="64a99-186">Kromě toho vždy ujistěte se, že všechna připojení k Internetu jenom přejít na prezentační vrstvy.</span><span class="sxs-lookup"><span data-stu-id="64a99-186">In addition, always make sure that all Internet connections only go to the presentation tier.</span></span> <span data-ttu-id="64a99-187">Podle tohoto vzoru aplikace, spravovat pravidla skupiny zabezpečení sítě pro řízení přístupu.</span><span class="sxs-lookup"><span data-stu-id="64a99-187">When following this application pattern, manage the network security group rules to control access.</span></span> <span data-ttu-id="64a99-188">Další informace najdete v tématu [povolit externí přístup k virtuálnímu počítači pomocí portálu Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="64a99-188">For more information, see [Allow external access to your VM using the Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="64a99-189">V diagramu může být Internetové protokoly TCP, UDP, HTTP nebo HTTPS.</span><span class="sxs-lookup"><span data-stu-id="64a99-189">In the diagram, Internet Protocols can be TCP, UDP, HTTP, or HTTPS.</span></span>

> [!NOTE]
> <span data-ttu-id="64a99-190">Nastavení virtuální sítě v Azure je zdarma.</span><span class="sxs-lookup"><span data-stu-id="64a99-190">Setting up a virtual network in Azure is free of charge.</span></span> <span data-ttu-id="64a99-191">Však budou účtovat bránu VPN, který se připojuje k místnímu.</span><span class="sxs-lookup"><span data-stu-id="64a99-191">However, you are charged for the VPN gateway that connects to on-premises.</span></span> <span data-ttu-id="64a99-192">Tento poplatek podle množství času, který je zřízený a dostupné připojení.</span><span class="sxs-lookup"><span data-stu-id="64a99-192">This charge is based on the amount of time that connection is provisioned and available.</span></span>
> 
> 

## <a name="2-tier-and-3-tier-with-presentation-tier-scale-out"></a><span data-ttu-id="64a99-193">úroveň 2 a 3 úrovně s prezentační vrstvy Škálováním na více systémů</span><span class="sxs-lookup"><span data-stu-id="64a99-193">2-tier and 3-tier with presentation tier scale-out</span></span>
<span data-ttu-id="64a99-194">V tomto vzoru aplikace nasadit aplikaci vrstvy 2 nebo 3 úrovně databáze na virtuálních počítačích Azure tak, že každý aplikační vrstvě jiný virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="64a99-194">In this application pattern, you deploy 2-tier or 3-tier database application to Azure Virtual Machines by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="64a99-195">Kromě toho můžete škálovat prezentační vrstvu kvůli zvýšenému objemu příchozí žádosti klientů.</span><span class="sxs-lookup"><span data-stu-id="64a99-195">In addition, you scale out the presentation tier due to increased volume of incoming client requests.</span></span>

<span data-ttu-id="64a99-196">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="64a99-196">This application pattern is useful when:</span></span>

* <span data-ttu-id="64a99-197">Chcete přesunout podnikové aplikace z virtualizované platformami na virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-197">You want to move enterprise applications from on-premises virtualized platforms to Azure Virtual Machines.</span></span>
* <span data-ttu-id="64a99-198">Chcete-li škálovat vrstvu prezentace kvůli zvýšenému objemu příchozí žádosti klientů.</span><span class="sxs-lookup"><span data-stu-id="64a99-198">You want to scale out the presentation tier due to increased volume of incoming client requests.</span></span>
* <span data-ttu-id="64a99-199">Chcete rychle zřizovat vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="64a99-199">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="64a99-200">Chcete provést zátěžové testování pro různé úrovně zatížení, ale současně nechcete vlastníte a udržovat vždy velký počet fyzických počítačů.</span><span class="sxs-lookup"><span data-stu-id="64a99-200">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>
* <span data-ttu-id="64a99-201">Chcete vlastní prostředí infrastruktury, které můžete škálovat nahoru a dolů na vyžádání.</span><span class="sxs-lookup"><span data-stu-id="64a99-201">You want to own an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="64a99-202">Následující diagram ukazuje, jak můžete umístit aplikačními vrstvami ve více virtuálních počítačů v Azure pomocí škálování prezentační vrstvou kvůli zvýšenému objemu příchozích požadavků klienta.</span><span class="sxs-lookup"><span data-stu-id="64a99-202">The following diagram demonstrates how you can place the application tiers in multiple virtual machines in Azure by scaling out the presentation tier due to increased volume of incoming client requests.</span></span> <span data-ttu-id="64a99-203">Jak je vidět v diagramu, je zodpovědný za distribuci přenosů mezi několik virtuálních počítačů a také určit, které webový server pro připojení k vyrovnávání zatížení Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-203">As seen in the diagram, Azure Load Balancer is responsible for distributing traffic across multiple virtual machines and also determining which web server to connect to.</span></span> <span data-ttu-id="64a99-204">S více instancí webové servery za službou Vyrovnávání zatížení zajistí vysokou dostupnost prezentační vrstvy.</span><span class="sxs-lookup"><span data-stu-id="64a99-204">Having multiple instances of the web servers behind a load balancer ensures the high availability of the presentation tier.</span></span>

![Vzor aplikací – prezentační vrstvy s více instancemi](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728010.png)

### <a name="best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier"></a><span data-ttu-id="64a99-206">Osvědčené postupy pro vrstvy 2, 3 úrovně nebo n vrstvá vzorů, které mají víc virtuálních počítačů v jedné vrstvy</span><span class="sxs-lookup"><span data-stu-id="64a99-206">Best practices for 2-tier, 3-tier, or n-tier patterns that have multiple VMs in one tier</span></span>
<span data-ttu-id="64a99-207">Doporučujeme umístit virtuální počítače, které patří do stejné vrstvy v rámci stejné cloudové služby a ve stejné dostupnost nastavit.</span><span class="sxs-lookup"><span data-stu-id="64a99-207">It’s recommended that you place the virtual machines that belong to the same tier in the same cloud service and in the same the availability set.</span></span> <span data-ttu-id="64a99-208">Například, umístěte sadu webové servery v **CloudService1** a **AvailabilitySet1** a sada databázových serverů v **CloudService2** a  **AvailabilitySet2**.</span><span class="sxs-lookup"><span data-stu-id="64a99-208">For example, place a set of web servers in **CloudService1** and **AvailabilitySet1** and a set of database servers in **CloudService2** and **AvailabilitySet2**.</span></span> <span data-ttu-id="64a99-209">V Azure sadu dostupnosti umožňuje umístěte do domén samostatné selhání uzlů vysokou dostupnost a upgradovacích domén.</span><span class="sxs-lookup"><span data-stu-id="64a99-209">An availability set in Azure enables you to place the high availability nodes into separate fault domains and upgrade domains.</span></span>

<span data-ttu-id="64a99-210">Využívat více instancí virtuálního počítače vrstvy, musíte nakonfigurovat nástroj pro vyrovnávání zatížení Azure mezi aplikačními vrstvami.</span><span class="sxs-lookup"><span data-stu-id="64a99-210">To leverage multiple VM instances of a tier, you need to configure Azure Load Balancer between application tiers.</span></span> <span data-ttu-id="64a99-211">Ke konfiguraci Vyrovnávání zatížení na jednotlivých úrovních, vytvořte koncový bod Vyrovnávání zatížení na jednotlivých úrovních virtuálních počítačích samostatně.</span><span class="sxs-lookup"><span data-stu-id="64a99-211">To configure Load Balancer in each tier, create a load-balanced endpoint on each tier’s VMs separately.</span></span> <span data-ttu-id="64a99-212">Pro konkrétní úroveň nejprve vytvořte virtuální počítače v rámci stejné cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="64a99-212">For a specific tier, first create VMs in the same cloud service.</span></span> <span data-ttu-id="64a99-213">To zajistí, že mají stejný veřejná virtuální IP adresa.</span><span class="sxs-lookup"><span data-stu-id="64a99-213">This ensures that they have the same public Virtual IP address.</span></span> <span data-ttu-id="64a99-214">Dále vytvořte koncový bod na jednom z virtuálních počítačů v této vrstvě.</span><span class="sxs-lookup"><span data-stu-id="64a99-214">Next, create an endpoint on one of the virtual machines on that tier.</span></span> <span data-ttu-id="64a99-215">Potom přiřadíte stejný koncový bod jinými virtuálními počítači v této vrstvě služby Vyrovnávání zatížení.</span><span class="sxs-lookup"><span data-stu-id="64a99-215">Then, assign the same endpoint to the other virtual machines on that tier for load balancing.</span></span> <span data-ttu-id="64a99-216">Vytvořením sady Vyrovnávání zatížení sítě provoz distribuovat mezi více virtuálních počítačů a taky umožnit nástroje pro vyrovnávání zatížení určit, který uzel k připojení při selhání uzlu virtuálního počítače back-end.</span><span class="sxs-lookup"><span data-stu-id="64a99-216">By creating a load-balanced set, you distribute traffic across multiple virtual machines and also allow the Load Balancer to determine which node to connect when a backend VM node fails.</span></span> <span data-ttu-id="64a99-217">Například s více instancí webové servery za službou Vyrovnávání zatížení zajistí vysokou dostupnost prezentační vrstvy.</span><span class="sxs-lookup"><span data-stu-id="64a99-217">For example, having multiple instances of the web servers behind a load balancer ensures the high availability of the presentation tier.</span></span>

<span data-ttu-id="64a99-218">Jako osvědčený postup vždy ujistěte, že všechna připojení k Internetu nejdřív přejít na prezentační vrstvy.</span><span class="sxs-lookup"><span data-stu-id="64a99-218">As a best practice, always make sure that all internet connections first go to the presentation tier.</span></span> <span data-ttu-id="64a99-219">Prezentační vrstva přistupuje k obchodní vrstvou a následně obchodní vrstvou přistupuje k datové vrstvy.</span><span class="sxs-lookup"><span data-stu-id="64a99-219">The presentation layer accesses the business tier, and then the business tier accesses the data tier.</span></span> <span data-ttu-id="64a99-220">Další informace o tom, jak povolit přístup k prezentační vrstvy najdete v tématu [povolit externí přístup k virtuálnímu počítači pomocí portálu Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="64a99-220">For more information on how to allow access to the presentation layer, see [Allow external access to your VM using the Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="64a99-221">Všimněte si, že nástroj pro vyrovnávání zatížení v Azure funguje podobně jako v místním prostředí vyrovnávání zatížení.</span><span class="sxs-lookup"><span data-stu-id="64a99-221">Note that the Load Balancer in Azure works similar to load balancers in an on-premises environment.</span></span> <span data-ttu-id="64a99-222">Další informace najdete v tématu [pro infrastrukturu Azure služby Vyrovnávání zatížení](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="64a99-222">For more information, see [Load balancing for Azure infrastructure services](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="64a99-223">Kromě toho doporučujeme, abyste nastavili privátní sítě pro virtuální počítače pomocí Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="64a99-223">In addition, we recommend that you set up a private network for your virtual machines by using Azure Virtual Network.</span></span> <span data-ttu-id="64a99-224">To umožňuje, aby mohla mezi sebou komunikovat přes privátní IP adresu.</span><span class="sxs-lookup"><span data-stu-id="64a99-224">This allows them to communicate among themselves over the private IP address.</span></span> <span data-ttu-id="64a99-225">Další informace najdete v tématu [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-225">For more information, see [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span>

## <a name="2-tier-and-3-tier-with-business-tier-scale-out"></a><span data-ttu-id="64a99-226">úroveň 2 a 3 úrovně s obchodní vrstvy Škálováním na více systémů</span><span class="sxs-lookup"><span data-stu-id="64a99-226">2-tier and 3-tier with business tier scale-out</span></span>
<span data-ttu-id="64a99-227">V tomto vzoru aplikace nasadit aplikaci vrstvy 2 nebo 3 úrovně databáze na virtuálních počítačích Azure tak, že každý aplikační vrstvě jiný virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="64a99-227">In this application pattern, you deploy 2-tier or 3-tier database application to Azure Virtual Machines by placing each application tier in a different virtual machine.</span></span> <span data-ttu-id="64a99-228">Kromě toho můžete distribuovat serveru součásti aplikace ke více virtuálních počítačů z důvodu složitosti vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="64a99-228">In addition, you might want to distribute the application server components to multiple virtual machines due to the complexity of your application.</span></span>

<span data-ttu-id="64a99-229">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="64a99-229">This application pattern is useful when:</span></span>

* <span data-ttu-id="64a99-230">Chcete přesunout podnikové aplikace z virtualizované platformami na virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-230">You want to move enterprise applications from on-premises virtualized platforms to Azure Virtual Machines.</span></span>
* <span data-ttu-id="64a99-231">Chcete distribuovat serveru součásti aplikace ke více virtuálních počítačů z důvodu složitosti vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="64a99-231">You want to distribute the application server components to multiple virtual machines due to the complexity of your application.</span></span>
* <span data-ttu-id="64a99-232">Chcete přesunout obchodní logiky těžký místní aplikace LOB (-obchodní) na virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-232">You want to move business logic heavy on-premises LOB (line-of-business) applications to Azure Virtual Machines.</span></span> <span data-ttu-id="64a99-233">Aplikace LOB jsou sady důležitá počítačová aplikace, které jsou fungování organizace nezbytná podniku, jako jsou monitorování účtů, lidských zdrojů, mzdy, řízení a prostředek plánování aplikace.</span><span class="sxs-lookup"><span data-stu-id="64a99-233">LOB applications are a set of critical computer applications that are vital to running an enterprise, such as accounting, human resources (HR), payroll, supply chain management, and resource planning applications.</span></span>
* <span data-ttu-id="64a99-234">Chcete rychle zřizovat vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="64a99-234">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="64a99-235">Chcete provést zátěžové testování pro různé úrovně zatížení, ale současně nechcete vlastníte a udržovat vždy velký počet fyzických počítačů.</span><span class="sxs-lookup"><span data-stu-id="64a99-235">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>
* <span data-ttu-id="64a99-236">Chcete vlastní prostředí infrastruktury, které můžete škálovat nahoru a dolů na vyžádání.</span><span class="sxs-lookup"><span data-stu-id="64a99-236">You want to own an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="64a99-237">Následující diagram ukazuje scénářem místní a jeho řešení pro cloud povolené.</span><span class="sxs-lookup"><span data-stu-id="64a99-237">The following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="64a99-238">V tomto scénáři umístit aplikačními vrstvami ve více virtuálních počítačů v Azure pomocí škálování obchodní vrstvy, který obsahuje vrstvu obchodní logiky a součásti pro přístup k datům.</span><span class="sxs-lookup"><span data-stu-id="64a99-238">In this scenario, you place the application tiers in multiple virtual machines in Azure by scaling out the business tier, which contains the business logic tier and data access components.</span></span> <span data-ttu-id="64a99-239">Jak je vidět v diagramu, je zodpovědný za distribuci přenosů mezi několik virtuálních počítačů a také určit, které webový server pro připojení k vyrovnávání zatížení Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-239">As seen in the diagram, Azure Load Balancer is responsible for distributing traffic across multiple virtual machines and also determining which web server to connect to.</span></span> <span data-ttu-id="64a99-240">S více instancí aplikačních serverů za službou Vyrovnávání zatížení zajistí vysokou dostupnost obchodní vrstvy.</span><span class="sxs-lookup"><span data-stu-id="64a99-240">Having multiple instances of the application servers behind a load balancer ensures the high availability of the business tier.</span></span> <span data-ttu-id="64a99-241">Další informace najdete v tématu [osvědčené postupy pro vzory vrstvy 2, 3 úrovně nebo vícevrstvé aplikace, které mají více virtuálních počítačů v jedné vrstvy](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).</span><span class="sxs-lookup"><span data-stu-id="64a99-241">For more information, see [Best practices for 2-tier, 3-tier, or n-tier application patterns that have multiple virtual machines in one tier](#best-practices-for-2-tier-3-tier-or-n-tier-patterns-that-have-multiple-vms-in-one-tier).</span></span>

![Vzor aplikací s obchodní vrstvy s více instancemi](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728011.png)

## <a name="2-tier-and-3-tier-with-presentation-and-business-tiers-scale-out-and-hadr"></a><span data-ttu-id="64a99-243">úroveň 2 a 3 úrovně s prezentační a obchodní vrstvy Škálováním na více systémů a funkci hadr současně</span><span class="sxs-lookup"><span data-stu-id="64a99-243">2-tier and 3-tier with presentation and business tiers scale-out and HADR</span></span>
<span data-ttu-id="64a99-244">V tomto vzoru aplikace nasadit aplikaci vrstvy 2 nebo 3 úrovně databáze na virtuálních počítačích Azure distribucí prezentační vrstvy (webový server) a součástí obchodní vrstvy (Aplikační server) do více virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="64a99-244">In this application pattern, you deploy 2-tier or 3-tier database application to Azure Virtual Machines by distributing the presentation tier (web server) and the business tier (application server) components to multiple virtual machines.</span></span> <span data-ttu-id="64a99-245">Kromě toho implementovat řešení pro zotavení vysokou dostupnost a po havárii pro vaše databáze ve virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-245">In addition, you implement high-availability and disaster recovery solutions for your databases in Azure virtual machines.</span></span>

<span data-ttu-id="64a99-246">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="64a99-246">This application pattern is useful when:</span></span>

* <span data-ttu-id="64a99-247">Chcete přesunout podnikové aplikace z virtualizované platformy místně do Azure implementací vysoká dostupnost SQL serveru a funkcím pro obnovení po havárii.</span><span class="sxs-lookup"><span data-stu-id="64a99-247">You want to move enterprise applications from virtualized platforms on-premises to Azure by implementing SQL Server high availability and disaster recovery capabilities.</span></span>
* <span data-ttu-id="64a99-248">Chcete škálovat prezentační vrstvou a obchodní vrstvou kvůli zvýšenému objemu příchozí žádosti klientů a složitost vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="64a99-248">You want to scale out the presentation tier and the business tier due to increased volume of incoming client requests and the complexity of your application.</span></span>
* <span data-ttu-id="64a99-249">Chcete rychle zřizovat vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="64a99-249">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="64a99-250">Chcete provést zátěžové testování pro různé úrovně zatížení, ale současně nechcete vlastníte a udržovat vždy velký počet fyzických počítačů.</span><span class="sxs-lookup"><span data-stu-id="64a99-250">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>
* <span data-ttu-id="64a99-251">Chcete vlastní prostředí infrastruktury, které můžete škálovat nahoru a dolů na vyžádání.</span><span class="sxs-lookup"><span data-stu-id="64a99-251">You want to own an infrastructure environment that can scale up and down on demand.</span></span>

<span data-ttu-id="64a99-252">Následující diagram ukazuje scénářem místní a jeho řešení pro cloud povolené.</span><span class="sxs-lookup"><span data-stu-id="64a99-252">The following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="64a99-253">V tomto scénáři můžete škálovat prezentační vrstvou a obchodní vrstvy komponenty více virtuálních počítačů v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-253">In this scenario, you scale out the presentation tier and the business tier components in multiple virtual machines in Azure.</span></span> <span data-ttu-id="64a99-254">Kromě toho implementovat vysokou dostupnost a po havárii obnovení (HADR) techniky pro databáze serveru SQL v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-254">In addition, you implement high availability and disaster recovery (HADR) techniques for SQL Server databases in Azure.</span></span>

<span data-ttu-id="64a99-255">Více kopií aplikace spuštěné v různých virtuálních počítačů Ujistěte se, že jste Vyrovnávání zatížení požadavky napříč je.</span><span class="sxs-lookup"><span data-stu-id="64a99-255">Running multiple copies of an application in different VMs make sure that you are load balancing requests across them.</span></span> <span data-ttu-id="64a99-256">Pokud máte více virtuálních počítačů, musíte zajistit, že všechny virtuální počítače jsou přístupná a spuštěné v jednom bodě v čase.</span><span class="sxs-lookup"><span data-stu-id="64a99-256">When you have multiple virtual machines, you need to make sure that all your VMs are accessible and running at one point in time.</span></span> <span data-ttu-id="64a99-257">Při konfiguraci služby Vyrovnávání zatížení, Vyrovnávání zatížení Azure sleduje stav virtuálních počítačů a směruje příchozí volání do pořádku funkční uzlů virtuálního počítače správně.</span><span class="sxs-lookup"><span data-stu-id="64a99-257">If you configure load balancing, Azure Load Balancer tracks the health of VMs and directs incoming calls to the healthy functioning VM nodes properly.</span></span> <span data-ttu-id="64a99-258">Informace o tom, jak nastavit vyrovnávání zatížení virtuálních počítačů najdete v tématu [pro infrastrukturu Azure služby Vyrovnávání zatížení](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="64a99-258">For information on how to set up load balancing of the virtual machines, see [Load balancing for Azure infrastructure services](../tutorial-load-balancer.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="64a99-259">S více instancí webové a aplikační servery za službou Vyrovnávání zatížení zajistí vysokou dostupnost prezentační a obchodní vrstvy.</span><span class="sxs-lookup"><span data-stu-id="64a99-259">Having multiple instances of web and application servers behind a load balancer ensures the high availability of the presentation and business tiers.</span></span>

![Škálováním na více systémů a vysoké dostupnosti](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728012.png)

### <a name="best-practices-for-application-patterns-requiring-sql-hadr"></a><span data-ttu-id="64a99-261">Osvědčené postupy pro vzory aplikace vyžadující SQL HADR</span><span class="sxs-lookup"><span data-stu-id="64a99-261">Best practices for application patterns requiring SQL HADR</span></span>
<span data-ttu-id="64a99-262">Při nastavování vysoká dostupnost SQL serveru a řešení zotavení po havárii v Azure Virtual Machines, nastavení virtuální sítě pro virtuální počítače pomocí [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) je povinný.</span><span class="sxs-lookup"><span data-stu-id="64a99-262">When you set up SQL Server high availability and disaster recovery solutions in Azure Virtual Machines, setting up a virtual network for your virtual machines using [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) is mandatory.</span></span>  <span data-ttu-id="64a99-263">Virtuální počítače v rámci virtuální sítě i po výpadku služby bude mít stabilní privátní IP adresy, proto se můžete vyhnout aktualizace čas potřebný pro překlad názvu DNS.</span><span class="sxs-lookup"><span data-stu-id="64a99-263">Virtual machines within a Virtual Network will have a stable private IP address even after a service downtime, thus you can avoid the update time required for DNS name resolution.</span></span> <span data-ttu-id="64a99-264">Kromě toho virtuální sítě vám umožní rozšiřovat do místní sítě do Azure a vytvoří hranici zabezpečení důvěryhodné.</span><span class="sxs-lookup"><span data-stu-id="64a99-264">In addition, the virtual network allows you to extend your on-premises network to Azure and creates a trusted security boundary.</span></span> <span data-ttu-id="64a99-265">Pokud aplikace obsahuje omezení podnikové doméně (například ověřování systému Windows, služby Active Directory), například nastavení [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) je nezbytné.</span><span class="sxs-lookup"><span data-stu-id="64a99-265">For example, if your application has corporate domain restrictions (such as, Windows authentication, Active Directory), setting up [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) is necessary.</span></span>

<span data-ttu-id="64a99-266">Většina zákazníků, kteří běží produkčním kódu v Azure, jsou udržuje primární a sekundární repliky v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-266">Most of customers, who are running production code on Azure, are keeping both primary and secondary replicas in Azure.</span></span>

<span data-ttu-id="64a99-267">Kurzy o vysoké dostupnosti a techniky pro zotavení po havárii a komplexní informace najdete v tématu [vysokou dostupnost a zotavení po havárii pro SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-267">For comprehensive information and tutorials on high availability and disaster recovery techniques, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="2-tier-and-3-tier-using-azure-vms-and-cloud-services"></a><span data-ttu-id="64a99-268">úroveň 2 a 3 vrstvě pomocí cloudových služeb a virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="64a99-268">2-tier and 3-tier using Azure VMs and Cloud Services</span></span>
<span data-ttu-id="64a99-269">V tomto vzoru aplikaci nasadíte vrstvy 2 nebo 3 úrovně aplikaci do Azure pomocí obou [Azure Cloud Services](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (webových a pracovních rolí – platforma jako služba (PaaS)) a [virtuální počítače Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) () Infrastruktura jako služba (IaaS)).</span><span class="sxs-lookup"><span data-stu-id="64a99-269">In this application pattern, you deploy 2-tier or 3-tier application to Azure by using both [Azure Cloud Services](../../../cloud-services/cloud-services-choose-me.md#tellmecs) (web and worker roles - Platform as a Service (PaaS)) and [Azure Virtual Machines](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) (Infrastructure as a Service (IaaS)).</span></span> <span data-ttu-id="64a99-270">Pomocí [Azure Cloud Services](https://azure.microsoft.com/documentation/services/cloud-services/) pro prezentační vrstvy nebo obchodní vrstvou a SQL Server v [virtuální počítače Azure](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) pro data úroveň je výhodné pro většinu aplikací běžících v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-270">Using [Azure Cloud Services](https://azure.microsoft.com/documentation/services/cloud-services/) for the presentation tier/business tier and SQL Server in [Azure Virtual Machines](../overview.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) for the data tier is beneficial for most applications running on Azure.</span></span> <span data-ttu-id="64a99-271">Důvodem je, že má do výpočetní instance spuštěné v cloudové služby poskytuje snadnou správu, nasazení, monitorování a Škálováním na více systémů.</span><span class="sxs-lookup"><span data-stu-id="64a99-271">The reason is that having a compute instance running on Cloud Services provides an easy management, deployment, monitoring, and scale-out.</span></span>

<span data-ttu-id="64a99-272">S cloudovými službami Azure udržuje infrastruktury pro vás, provádí se pravidelná údržba, opravy operační systémy a pokusí se zotavit po selhání služby a hardwaru.</span><span class="sxs-lookup"><span data-stu-id="64a99-272">With Cloud Services, Azure maintains the infrastructure for you, performs routine maintenance, patches the operating systems, and attempts to recover from service and hardware failures.</span></span> <span data-ttu-id="64a99-273">Pokud aplikace potřebuje Škálováním na více systémů, automatickou a ruční škálování možnosti jsou dostupné pro projekt cloudové služby zvýšením nebo snížením počtu instancí nebo virtuálních počítačů, které jsou používány vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="64a99-273">When your application needs scale-out, automatic, and manual scale-out options are available for your cloud service project by increasing or decreasing the number of instances or virtual machines that are used by your application.</span></span> <span data-ttu-id="64a99-274">Kromě toho můžete použít místní Visual Studio k nasazení vaší aplikace do projektu cloudové služby v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-274">In addition, you can use on-premises Visual Studio to deploy your application to a cloud service project in Azure.</span></span>

<span data-ttu-id="64a99-275">V souhrnu, pokud nechcete, aby udělil rozsáhlé úlohy správy pro prezentaci nebo obchodní vrstvy, a aplikace není nutná žádná komplexní konfigurace softwaru nebo operačního systému, použijte Azure Cloud Services.</span><span class="sxs-lookup"><span data-stu-id="64a99-275">In summary, if you don’t want to own extensive administrative tasks for the presentation/business tier and your application does not require any complex configuration of software or the operating system, use Azure Cloud Services.</span></span> <span data-ttu-id="64a99-276">Pokud Azure SQL Database nepodporuje všechny funkce, které hledáte, použití systému SQL Server v Azure virtuálního počítače pro datovou vrstvu.</span><span class="sxs-lookup"><span data-stu-id="64a99-276">If Azure SQL Database does not support all the features you are looking for, use SQL Server in an Azure Virtual Machine for the data tier.</span></span> <span data-ttu-id="64a99-277">Spuštění aplikace na Azure Cloud Services a ukládání dat v Azure Virtual Machines kombinuje výhody obou služeb.</span><span class="sxs-lookup"><span data-stu-id="64a99-277">Running an application on Azure Cloud Services and storing data in Azure Virtual Machines combines the benefits of both services.</span></span> <span data-ttu-id="64a99-278">Podrobné porovnání najdete v části v tomto tématu na [porovnávání vývoj strategie v Azure](#comparing-web-development-strategies-in-azure).</span><span class="sxs-lookup"><span data-stu-id="64a99-278">For a detailed comparison, see the section in this topic on [Comparing development strategies in Azure](#comparing-web-development-strategies-in-azure).</span></span>

<span data-ttu-id="64a99-279">V tomto vzoru aplikace obsahuje prezentační vrstvy webové role, která v prostředí Azure provádění běží komponentu cloudové služby a je přizpůsobené pro programování webové aplikace podporuje službu IIS a ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="64a99-279">In this application pattern, the presentation tier includes a web role, which is a Cloud Services component running in the Azure execution environment and it is customized for web application programming as supported by IIS and ASP.NET.</span></span> <span data-ttu-id="64a99-280">Vrstvu obchodní nebo back-end zahrnuje roli pracovního procesu, který komponentu cloudové služby běží v prostředí Azure provádění a je vhodný pro vývoj zobecněný a může provádět zpracování na pozadí pro webovou roli.</span><span class="sxs-lookup"><span data-stu-id="64a99-280">The business or backend tier includes a worker role, which is a Cloud Services component running in the Azure execution environment and it is useful for generalized development, and may perform background processing for a web role.</span></span> <span data-ttu-id="64a99-281">Úroveň databáze se nachází ve virtuální počítače s SQL serverem v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-281">The database tier resides in a SQL Server virtual machine in Azure.</span></span> <span data-ttu-id="64a99-282">Komunikace mezi prezentační vrstvou a databázové vrstvy se stane, přímo nebo přes obchodní vrstvou – součásti role pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="64a99-282">The communication between the presentation tier and the database tier happens directly or over the business tier – worker role components.</span></span>

<span data-ttu-id="64a99-283">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="64a99-283">This application pattern is useful when:</span></span>

* <span data-ttu-id="64a99-284">Chcete přesunout podnikové aplikace z virtualizované platformy místně do Azure implementací vysoká dostupnost SQL serveru a funkcím pro obnovení po havárii.</span><span class="sxs-lookup"><span data-stu-id="64a99-284">You want to move enterprise applications from virtualized platforms on-premises to Azure by implementing SQL Server high availability and disaster recovery capabilities.</span></span>
* <span data-ttu-id="64a99-285">Chcete vlastní prostředí infrastruktury, které můžete škálovat nahoru a dolů na vyžádání.</span><span class="sxs-lookup"><span data-stu-id="64a99-285">You want to own an infrastructure environment that can scale up and down on demand.</span></span>
* <span data-ttu-id="64a99-286">Azure SQL Database nepodporuje všechny funkce, které musí vaše aplikace nebo databáze.</span><span class="sxs-lookup"><span data-stu-id="64a99-286">Azure SQL Database does not support all the features that your application or database needs.</span></span>
* <span data-ttu-id="64a99-287">Chcete provést zátěžové testování pro různé úrovně zatížení, ale současně nechcete vlastníte a udržovat vždy velký počet fyzických počítačů.</span><span class="sxs-lookup"><span data-stu-id="64a99-287">You want to perform stress testing for varying workload levels but at the same time you do not want to own and maintain many physical machines all the time.</span></span>

<span data-ttu-id="64a99-288">Následující diagram ukazuje scénářem místní a jeho řešení pro cloud povolené.</span><span class="sxs-lookup"><span data-stu-id="64a99-288">The following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="64a99-289">V tomto scénáři můžete umístit prezentační vrstvy v webové role, obchodní vrstvy v rolí pracovního procesu, ale datové vrstvy ve virtuálních počítačích v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-289">In this scenario, you place the presentation tier in web roles, the business tier in worker roles but the data tier in virtual machines in Azure.</span></span> <span data-ttu-id="64a99-290">Spuštění více kopií prezentační vrstvou v jiných webových rolí zajistí načtení vyrovnávat požadavky mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="64a99-290">Running multiple copies of the presentation tier in different web roles ensures to load balance requests across them.</span></span> <span data-ttu-id="64a99-291">Když zkombinujete Azure Cloud Services pomocí Azure Virtual Machines, doporučujeme, abyste nastavili [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) také.</span><span class="sxs-lookup"><span data-stu-id="64a99-291">When you combine Azure Cloud Services with Azure Virtual Machines, we recommend that you set up [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) as well.</span></span> <span data-ttu-id="64a99-292">S [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), budete mít ustájení a trvalé privátní IP adresy v rámci stejné cloudové služby v cloudu.</span><span class="sxs-lookup"><span data-stu-id="64a99-292">With [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), you can have stable and persistent private IP addresses within the same cloud service in the cloud.</span></span> <span data-ttu-id="64a99-293">Jakmile definovat virtuální sítě pro virtuální počítače a cloudové služby, můžou spustit komunikaci mezi sebou přes privátní IP adresu.</span><span class="sxs-lookup"><span data-stu-id="64a99-293">Once you define a virtual network for your virtual machines and cloud services, they can start communicating among themselves over the private IP address.</span></span> <span data-ttu-id="64a99-294">Kromě toho s virtuální počítače a Azure web/role pracovního procesu ve stejné [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) zajišťuje nízkou latencí a bezpečnější připojení.</span><span class="sxs-lookup"><span data-stu-id="64a99-294">In addition, having virtual machines and Azure web/worker roles in the same [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) provides low latency and more secure connectivity.</span></span> <span data-ttu-id="64a99-295">Další informace najdete v tématu [co je Cloudová služba](../../../cloud-services/cloud-services-choose-me.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-295">For more information, see [What is a cloud service](../../../cloud-services/cloud-services-choose-me.md).</span></span>

<span data-ttu-id="64a99-296">Jak je vidět v diagramu, nástroj pro vyrovnávání zatížení Azure rozděluje zatížení mezi více virtuálních počítačů a také určuje, které webový server nebo aplikačního serveru pro připojení k.</span><span class="sxs-lookup"><span data-stu-id="64a99-296">As seen in the diagram, Azure Load Balancer distributes traffic across multiple virtual machines and also determines which web server or application server to connect to.</span></span> <span data-ttu-id="64a99-297">S více instancí webové a aplikační servery za službou Vyrovnávání zatížení zajistí vysokou dostupnost prezentační vrstvou a obchodní vrstvou.</span><span class="sxs-lookup"><span data-stu-id="64a99-297">Having multiple instances of the web and application servers behind a load balancer ensures the high availability of the presentation tier and the business tier.</span></span> <span data-ttu-id="64a99-298">Další informace najdete v tématu [osvědčených postupů pro aplikace vzory vyžadují SQL HADR](#best-practices-for-application-patterns-requiring-sql-hadr).</span><span class="sxs-lookup"><span data-stu-id="64a99-298">For more information, see [Best practices for application patterns requiring SQL HADR](#best-practices-for-application-patterns-requiring-sql-hadr).</span></span>

![Vzory aplikace s cloudovými službami](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728013.png)

<span data-ttu-id="64a99-300">Další postup pro implementaci tohoto vzoru aplikace je použití konsolidované webovou roli, která obsahuje prezentační vrstvou a obchodní vrstvy součásti, jak je znázorněno v následujícím diagramu.</span><span class="sxs-lookup"><span data-stu-id="64a99-300">Another approach to implement this application pattern is to use a consolidated web role that contains both presentation tier and business tier components as shown in the following diagram.</span></span> <span data-ttu-id="64a99-301">Tento vzor aplikací je užitečná pro aplikace, které vyžadují stavová návrhu.</span><span class="sxs-lookup"><span data-stu-id="64a99-301">This application pattern is useful for applications that require stateful design.</span></span> <span data-ttu-id="64a99-302">Vzhledem k tomu, že Azure poskytuje bezstavové výpočetní uzly na webových a pracovních rolí, doporučujeme implementovat logiku pro ukládání stavu relace pomocí jedné z následujících technologií: [ukládání do mezipaměti Azure](https://azure.microsoft.com/documentation/services/redis-cache/), [Azure Table Storage](../../../cosmos-db/table-storage-how-to-use-dotnet.md) nebo [databáze Azure SQL](../../../sql-database/sql-database-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-302">Since Azure provides stateless compute nodes on web and worker roles, we recommend that you implement a logic to store session state using one of the following technologies: [Azure Caching](https://azure.microsoft.com/documentation/services/redis-cache/), [Azure Table Storage](../../../cosmos-db/table-storage-how-to-use-dotnet.md) or [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span></span>

![Vzory aplikace s cloudovými službami](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728014.png)

## <a name="pattern-with-azure-vms-azure-sql-database-and-azure-app-service-web-apps"></a><span data-ttu-id="64a99-304">Vzor s virtuální počítače Azure, Azure SQL Database a Azure App Service (webové aplikace)</span><span class="sxs-lookup"><span data-stu-id="64a99-304">Pattern with Azure VMs, Azure SQL Database, and Azure App Service (Web Apps)</span></span>
<span data-ttu-id="64a99-305">Hlavním cílem tohoto vzoru aplikace je ukazují, jak můžete kombinovat infrastrukturu Azure jako součásti služby (IaaS) s Azure součásti platformy jako služby (PaaS) ve vašem řešení.</span><span class="sxs-lookup"><span data-stu-id="64a99-305">The primary goal of this application pattern is to show you how to combine Azure infrastructure as a service (IaaS) components with Azure platform-as-a-service components (PaaS) in your solution.</span></span> <span data-ttu-id="64a99-306">Tento vzor se zaměřuje na Azure SQL Database pro relační datové úložiště.</span><span class="sxs-lookup"><span data-stu-id="64a99-306">This pattern is focused on Azure SQL Database for relational data storage.</span></span> <span data-ttu-id="64a99-307">Neobsahuje systému SQL Server ve virtuálním počítači Azure, který je součástí infrastruktury Azure jako nabídky služeb.</span><span class="sxs-lookup"><span data-stu-id="64a99-307">It does not include SQL Server in an Azure virtual machine, which is part of the Azure infrastructure as a service offering.</span></span>

<span data-ttu-id="64a99-308">V tomto vzoru aplikace nasadit databázovou aplikaci do Azure tak, že umístění prezentační a obchodní vrstvy do stejného virtuálního počítače a přístup k databázi v servery Azure SQL Database (databáze SQL).</span><span class="sxs-lookup"><span data-stu-id="64a99-308">In this application pattern, you deploy a database application to Azure by placing the presentation and business tiers in the same virtual machine and accessing a database in Azure SQL Database (SQL Database) servers.</span></span> <span data-ttu-id="64a99-309">Prezentační vrstva můžete implementovat pomocí tradičních webovou službu IIS řešení.</span><span class="sxs-lookup"><span data-stu-id="64a99-309">You can implement the presentation tier by using traditional IIS-based web solutions.</span></span> <span data-ttu-id="64a99-310">Nebo můžete implementovat kombinované prezentační a obchodní vrstvou pomocí [Azure Web Apps](https://azure.microsoft.com/documentation/services/app-service/web/).</span><span class="sxs-lookup"><span data-stu-id="64a99-310">Or, you can implement a combined presentation and business tier by using [Azure Web Apps](https://azure.microsoft.com/documentation/services/app-service/web/).</span></span>

<span data-ttu-id="64a99-311">Tento vzor aplikací je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="64a99-311">This application pattern is useful when:</span></span>

* <span data-ttu-id="64a99-312">Už máte existující databázi SQL server nakonfigurovaný v Azure a chcete rychle testování vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="64a99-312">You already have an existing SQL Database server configured in Azure and you want to test your application quickly.</span></span>
* <span data-ttu-id="64a99-313">Chcete testovat funkce prostředí Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-313">You want to test the capabilities of Azure environment.</span></span>
* <span data-ttu-id="64a99-314">Chcete rychle zřizovat vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="64a99-314">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="64a99-315">Vaše obchodní logiku a data komponenty přístup může být obsaženy v rámci webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="64a99-315">Your business logic and data access components can be self-contained within a web application.</span></span>

<span data-ttu-id="64a99-316">Následující diagram ukazuje scénářem místní a jeho řešení pro cloud povolené.</span><span class="sxs-lookup"><span data-stu-id="64a99-316">The following diagram demonstrates an on-premises scenario and its cloud enabled solution.</span></span> <span data-ttu-id="64a99-317">V tomto scénáři můžete umístit aplikačními vrstvami na jednom virtuálním počítači v Azure a přístup dat ve službě Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="64a99-317">In this scenario, you place the application tiers in a single virtual machine in Azure and access data in Azure SQL Database.</span></span>

![Vzor smíšený aplikací](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728015.png)

<span data-ttu-id="64a99-319">Pokud zvolíte možnost implementovat kombinované webové a aplikační vrstvě pomocí Azure Web Apps, doporučujeme ponechat vrstvě střední vrstvy nebo aplikace jako dynamické knihovny (DLL) v kontextu webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="64a99-319">If you choose to implement a combined web and application tier by using Azure Web Apps, we recommend that you keep the middle-tier or application tier as dynamic-link libraries (DLLs) in the context of a web application.</span></span>

<span data-ttu-id="64a99-320">Kromě toho zkontrolujte doporučení v [porovnávání webové vývoj strategie v Azure](#comparing-web-development-strategies-in-azure) na konci tohoto článku Další informace o programování techniky.</span><span class="sxs-lookup"><span data-stu-id="64a99-320">In addition, review the recommendations given in the [Comparing web development strategies in Azure](#comparing-web-development-strategies-in-azure) section at the end of this article to learn more about programming techniques.</span></span>

## <a name="n-tier-hybrid-application-pattern"></a><span data-ttu-id="64a99-321">Vzor hybridní vícevrstvé aplikace</span><span class="sxs-lookup"><span data-stu-id="64a99-321">N-tier hybrid application pattern</span></span>
<span data-ttu-id="64a99-322">V hybridní vícevrstvé aplikace vzoru implementovat aplikaci na více úrovních distribuovány mezi místními a Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-322">In n-tier hybrid application pattern, you implement your application in multiple tiers distributed between on-premises and Azure.</span></span> <span data-ttu-id="64a99-323">Proto vytvořit hybridní flexibilní a opakovaně použitelný systém, kterou můžete změnit nebo přidat konkrétní úroveň beze změny jiných úrovních.</span><span class="sxs-lookup"><span data-stu-id="64a99-323">Therefore, you create a flexible and reusable hybrid system, which you can modify or add a specific tier without changing the other tiers.</span></span> <span data-ttu-id="64a99-324">K rozšíření vaší podnikové síti do cloudu, můžete použít [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) služby.</span><span class="sxs-lookup"><span data-stu-id="64a99-324">To extend your corporate network to the cloud, you use [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md) service.</span></span>

<span data-ttu-id="64a99-325">Tento vzor hybridní aplikace je užitečné, když:</span><span class="sxs-lookup"><span data-stu-id="64a99-325">This hybrid application pattern is useful when:</span></span>

* <span data-ttu-id="64a99-326">Chcete vytvářet aplikace, které běží částečně v cloudu a částečně místně.</span><span class="sxs-lookup"><span data-stu-id="64a99-326">You want to build applications that run partly in the cloud and partly on-premises.</span></span>
* <span data-ttu-id="64a99-327">Chcete migrovat některé nebo všechny elementy stávající místní aplikace do cloudu.</span><span class="sxs-lookup"><span data-stu-id="64a99-327">You want to migrate some or all elements of an existing on-premises application to the cloud.</span></span>
* <span data-ttu-id="64a99-328">Chcete přesunout podnikové aplikace z místní virtualizované platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-328">You want to move enterprise applications from on-premises virtualized platforms to Azure.</span></span>
* <span data-ttu-id="64a99-329">Chcete vlastní prostředí infrastruktury, které můžete škálovat nahoru a dolů na vyžádání.</span><span class="sxs-lookup"><span data-stu-id="64a99-329">You want to own an infrastructure environment that can scale up and down on demand.</span></span>
* <span data-ttu-id="64a99-330">Chcete rychle zřizovat vývoj a testování prostředí na krátkou dobu.</span><span class="sxs-lookup"><span data-stu-id="64a99-330">You want to quickly provision development and test environments for short periods of time.</span></span>
* <span data-ttu-id="64a99-331">Chcete nákladově efektivní způsob, jak provést zálohování pro podnikové aplikace databáze.</span><span class="sxs-lookup"><span data-stu-id="64a99-331">You want a cost effective way to take backups for enterprise database applications.</span></span>

<span data-ttu-id="64a99-332">Následující diagram ukazuje vzor aplikací hybridní n vrstvá, které platí pro místní a Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-332">The following diagram demonstrates an n-tier hybrid application pattern that spans across on-premises and Azure.</span></span> <span data-ttu-id="64a99-333">Jak je vidět v diagramu, místní infrastruktury patří [Active Directory Domain Services](https://technet.microsoft.com/library/hh831484.aspx) řadič domény pro podporu uživatelů ověřování a autorizace.</span><span class="sxs-lookup"><span data-stu-id="64a99-333">As shown in the diagram, on-premises infrastructure includes [Active Directory Domain Services](https://technet.microsoft.com/library/hh831484.aspx) domain controller to support user authentication and authorization.</span></span> <span data-ttu-id="64a99-334">Všimněte si, že diagram ukazuje scénář, kde některé části datové vrstvy za provozu v datovém centru místní zatímco některé části datové vrstvy za provozu v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-334">Note that the diagram demonstrates a scenario, where some parts of the data tier live in an on-premises data center whereas some parts of the data tier live in Azure.</span></span> <span data-ttu-id="64a99-335">V závislosti na potřebách vaší aplikace můžete implementovat několik dalších hybridní scénáře.</span><span class="sxs-lookup"><span data-stu-id="64a99-335">Depending on your application’s needs, you can implement several other hybrid scenarios.</span></span> <span data-ttu-id="64a99-336">Například může uchovávat prezentační vrstvou a obchodní vrstvou v místním prostředí, ale datové vrstvě v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-336">For example, you might keep the presentation tier and the business tier in an on-premises environment but the data tier in Azure.</span></span>

![N-vrstvý vzor aplikací](./media/virtual-machines-windows-sql-server-app-patterns-dev-strategies/IC728016.png)

<span data-ttu-id="64a99-338">V Azure, můžete použít služby Active Directory jako samostatné cloudu adresář pro vaši organizaci, nebo můžete také integrovat existující místní služby Active Directory s [Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="64a99-338">In Azure, you can use Active Directory as a standalone cloud directory for your organization, or you can also integrate existing on-premises Active Directory with [Azure Active Directory](https://azure.microsoft.com/documentation/services/active-directory/).</span></span> <span data-ttu-id="64a99-339">Jak je vidět v diagramu, součástí obchodní vrstvy přístup k více zdrojů dat, například k [systému SQL Server v Azure](virtual-machines-windows-sql-server-iaas-overview.md) prostřednictvím privátní interní IP adresu, na místní SQL Server prostřednictvím [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), nebo [SQL Database](../../../sql-database/sql-database-technical-overview.md) pomocí technologie zprostředkovatele dat .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="64a99-339">As seen in the diagram, the business tier components can access to multiple data sources, such as to [SQL Server in Azure](virtual-machines-windows-sql-server-iaas-overview.md) via a private internal IP address, to on-premises SQL Server via [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md), or to [SQL Database](../../../sql-database/sql-database-technical-overview.md) using the .NET Framework data provider technologies.</span></span> <span data-ttu-id="64a99-340">V tomto diagramu je Azure SQL Database služby storage volitelnými daty.</span><span class="sxs-lookup"><span data-stu-id="64a99-340">In this diagram, Azure SQL Database is an optional data storage service.</span></span>

<span data-ttu-id="64a99-341">Ve vzoru hybridní vícevrstvé aplikace můžete implementovat následující pracovní postup v uvedeném pořadí:</span><span class="sxs-lookup"><span data-stu-id="64a99-341">In n-tier hybrid application pattern, you can implement the following workflow in the order specified:</span></span>

1. <span data-ttu-id="64a99-342">Identifikovat enterprise databázové aplikace, které je třeba jej přesunout nahoru do cloudu pomocí [Microsoft Assessment and Planning (MAP) Toolkit](http://microsoft.com/map).</span><span class="sxs-lookup"><span data-stu-id="64a99-342">Identify enterprise database applications that need to be moved up to cloud by using the [Microsoft Assessment and Planning (MAP) Toolkit](http://microsoft.com/map).</span></span> <span data-ttu-id="64a99-343">MAP Toolkit shromáždí data inventáře a výkonu z počítačů, které je třeba zajistit pro virtualizaci a obsahuje doporučení týkající se kapacity a plánování assessment.</span><span class="sxs-lookup"><span data-stu-id="64a99-343">The MAP Toolkit gathers inventory and performance data from computers you are considering for virtualization and provides recommendations on capacity and assessment planning.</span></span>
2. <span data-ttu-id="64a99-344">Plánování prostředků a konfigurace je potřeba v platformy Azure, jako je například účty úložiště a virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="64a99-344">Plan the resources and configuration needed in the Azure platform, such as storage accounts and virtual machines.</span></span>
3. <span data-ttu-id="64a99-345">Nastavit připojení k síti mezi podnikové sítě na místě a [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-345">Set up network connectivity between the corporate network on-premises and [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="64a99-346">Pokud chcete nastavit připojení mezi podnikové sítě na místní a virtuální počítač v Azure, použijte jednu z následujících dvou metod:</span><span class="sxs-lookup"><span data-stu-id="64a99-346">To set up the connection between the corporate network on-premises and a virtual machine in Azure, use one of the following two methods:</span></span>
   
   1. <span data-ttu-id="64a99-347">Navázat připojení mezi místními a Azure prostřednictvím veřejné koncové body na virtuálním počítači v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-347">Establish a connection between on-premises and Azure via public end points on a virtual machine in Azure.</span></span> <span data-ttu-id="64a99-348">Tato metoda poskytuje snadno instalace a umožňuje používat ověřování serveru SQL Server ve virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="64a99-348">This method provides an easy setup and enables you to use SQL Server authentication in your virtual machine.</span></span> <span data-ttu-id="64a99-349">Kromě toho nastavení pravidel skupiny zabezpečení vaší sítě k řízení veřejné provoz na virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="64a99-349">In addition, set up your network security group rules to control public traffic to the VM.</span></span> <span data-ttu-id="64a99-350">Další informace najdete v tématu [povolit externí přístup k virtuálnímu počítači pomocí portálu Azure](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="64a99-350">For more information, see [Allow external access to your VM using the Azure portal](../nsg-quickstart-portal.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>
   2. <span data-ttu-id="64a99-351">Navázat připojení mezi místními a Azure přes tunelové propojení Azure virtuální privátní sítě (VPN).</span><span class="sxs-lookup"><span data-stu-id="64a99-351">Establish a connection between on-premises and Azure via Azure Virtual Private network (VPN) tunnel.</span></span> <span data-ttu-id="64a99-352">Tato metoda umožňuje rozšířit zásady domény k virtuálnímu počítači v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-352">This method allows you to extend domain policies to a virtual machine in Azure.</span></span> <span data-ttu-id="64a99-353">Kromě toho můžete nastavit pravidla brány firewall a použít ověřování systému Windows ve virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="64a99-353">In addition, you can set up firewall rules and use Windows authentication in your virtual machine.</span></span> <span data-ttu-id="64a99-354">Azure v současné době podporuje bezpečné site-to-site VPN a připojení point-to-site VPN:</span><span class="sxs-lookup"><span data-stu-id="64a99-354">Currently, Azure supports secure site-to-site VPN and point-to-site VPN connections:</span></span>
      
      * <span data-ttu-id="64a99-355">S zabezpečené připojení site-to-site můžete vytvořit připojení k síti mezi vaší místní sítí a virtuální sítí v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-355">With secure site-to-site connection, you can establish network connectivity between your on-premises network and your virtual network in Azure.</span></span> <span data-ttu-id="64a99-356">Doporučuje se pro připojení vaší místní prostředí datového centra Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-356">It is recommended for connecting your on-premises data center environment to Azure.</span></span>
      * <span data-ttu-id="64a99-357">S zabezpečené připojení point-to-site můžete vytvořit připojení k síti mezi vaší virtuální sítě v Azure a vaše jednotlivé počítače se systémem kdekoli.</span><span class="sxs-lookup"><span data-stu-id="64a99-357">With secure point-to-site connection, you can establish network connectivity between your virtual network in Azure and your individual computers running anywhere.</span></span> <span data-ttu-id="64a99-358">Většinou doporučujeme pro vývojová a testovací účely.</span><span class="sxs-lookup"><span data-stu-id="64a99-358">It is mostly recommended for development and test purposes.</span></span>
      
      <span data-ttu-id="64a99-359">Informace o tom, jak se připojit k serveru SQL v Azure najdete v tématu [připojení SQL serveru virtuálnímu počítači na platformě Azure](virtual-machines-windows-sql-connect.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-359">For information on how to connect to SQL Server in Azure, see [Connect to a SQL Server Virtual Machine on Azure](virtual-machines-windows-sql-connect.md).</span></span>
4. <span data-ttu-id="64a99-360">Nastavte naplánované úlohy a výstrahy, které zálohovat data místně v disku virtuálního počítače v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-360">Set up scheduled jobs and alerts that back up on-premises data in a virtual machine disk in Azure.</span></span> <span data-ttu-id="64a99-361">Další informace najdete v tématu [zálohování systému SQL Server a obnovení služby úložiště objektů Blob Azure](https://msdn.microsoft.com/library/jj919148.aspx) a [zálohování a obnovení pro SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-361">For more information, see [SQL Server Backup and Restore with Azure Blob Storage Service](https://msdn.microsoft.com/library/jj919148.aspx) and [Backup and Restore for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span></span>
5. <span data-ttu-id="64a99-362">V závislosti na potřebách vaší aplikace můžete implementovat jednu z následujících tří běžných scénářů:</span><span class="sxs-lookup"><span data-stu-id="64a99-362">Depending on your application’s needs, you can implement one of the following three common scenarios:</span></span>
   
   1. <span data-ttu-id="64a99-363">Na databázovém serveru v Azure můžete chránit váš webový server, aplikační server a malých a velkých písmen data, zatímco zachovat citlivá data v místě.</span><span class="sxs-lookup"><span data-stu-id="64a99-363">You can keep your web server, application server, and insensitive data in a database server in Azure whereas you keep the sensitive data on-premises.</span></span>
   2. <span data-ttu-id="64a99-364">Abyste zajistili, že váš webový server a aplikační server místní vzhledem k tomu databázový server ve virtuálním počítači v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-364">You can keep your web server and application server on-premises whereas the database server in a virtual machine in Azure.</span></span>
   3. <span data-ttu-id="64a99-365">Můžete ponechat databázového serveru, webového serveru a aplikačního serveru místní zatímco zachovat repliky databáze na virtuálních počítačích v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-365">You can keep your database server, web server, and application server on-premises whereas you keep the database replicas in virtual machines in Azure.</span></span> <span data-ttu-id="64a99-366">Toto nastavení umožňuje místní webové servery nebo vytváření sestav aplikace pro přístup k repliky databáze v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-366">This setting allows the on-premises web servers or reporting applications to access the database replicas in Azure.</span></span> <span data-ttu-id="64a99-367">Proto můžete dosáhnout snížení zatížení v místní databázi.</span><span class="sxs-lookup"><span data-stu-id="64a99-367">Therefore, you can achieve to lower the workload in an on-premises database.</span></span> <span data-ttu-id="64a99-368">Doporučujeme vám, že můžete implementovat tento scénář pro těžký číst úlohy a pro účely vývoje.</span><span class="sxs-lookup"><span data-stu-id="64a99-368">We recommend that you implement this scenario for heavy read workloads and developmental purposes.</span></span> <span data-ttu-id="64a99-369">Informace o vytvoření repliky databáze v Azure najdete v tématu skupiny dostupnosti AlwaysOn v [vysokou dostupnost a zotavení po havárii pro SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-369">For information on creating database replicas in Azure, see AlwaysOn Availability Groups at [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="comparing-web-development-strategies-in-azure"></a><span data-ttu-id="64a99-370">Porovnání webových vývoj strategie v Azure</span><span class="sxs-lookup"><span data-stu-id="64a99-370">Comparing web development strategies in Azure</span></span>
<span data-ttu-id="64a99-371">K implementaci a nasazovat vícevrstvé aplikace založené na systému SQL Server v Azure, můžete použít jednu z těchto způsobů programování:</span><span class="sxs-lookup"><span data-stu-id="64a99-371">To implement and deploy a multi-tier SQL Server-based application in Azure, you can use one of the following two programming methods:</span></span>

* <span data-ttu-id="64a99-372">V databázích Azure a přístup v systému SQL Server v Azure Virtual Machines nastavte tradiční webový server (IIS - Internetová informační služba).</span><span class="sxs-lookup"><span data-stu-id="64a99-372">Set up a traditional web server (IIS - Internet Information Services) in Azure and access databases in SQL Server in Azure Virtual Machines.</span></span>
* <span data-ttu-id="64a99-373">Implementace a nasazení cloudové služby Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-373">Implement and deploy a cloud service to Azure.</span></span> <span data-ttu-id="64a99-374">Pak se ujistěte, že tuto cloudovou službu můžete přístup k databází v systému SQL Server v Azure virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="64a99-374">Then, make sure that this cloud service can access databases in SQL Server in Azure Virtual machines.</span></span> <span data-ttu-id="64a99-375">Cloudové služby může obsahovat několik webových a pracovních rolí.</span><span class="sxs-lookup"><span data-stu-id="64a99-375">A cloud service can include multiple web and worker roles.</span></span>

<span data-ttu-id="64a99-376">Následující tabulka obsahuje porovnání tradiční webové vývoj s Azure Cloud Services a Azure Web Apps s ohledem na SQL Server v Azure Virtual Machines.</span><span class="sxs-lookup"><span data-stu-id="64a99-376">The following table provides a comparison of traditional web development with Azure Cloud Services and Azure Web Apps with respect to SQL Server in Azure Virtual Machines.</span></span> <span data-ttu-id="64a99-377">Tabulka obsahuje Azure Web Apps, protože to je možné použít k systému SQL Server ve virtuálním počítači Azure jako zdroj dat pro webové aplikace Azure přes jeho veřejné virtuální IP adresa nebo název DNS.</span><span class="sxs-lookup"><span data-stu-id="64a99-377">The table includes Azure Web Apps as it is possible to use SQL Server in Azure VM as a data source for Azure Web Apps via its public virtual IP address or DNS name.</span></span>

|  | <span data-ttu-id="64a99-378">Vývoj tradiční webu v Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="64a99-378">Traditional web development in Azure Virtual Machines</span></span> | <span data-ttu-id="64a99-379">Cloudové služby v Azure</span><span class="sxs-lookup"><span data-stu-id="64a99-379">Cloud Services in Azure</span></span> | <span data-ttu-id="64a99-380">Webového hostingu s webové aplikace Azure</span><span class="sxs-lookup"><span data-stu-id="64a99-380">Web Hosting with Azure Web Apps</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="64a99-381">**Migrace aplikací z místní**</span><span class="sxs-lookup"><span data-stu-id="64a99-381">**Application Migration from on-premises**</span></span> |<span data-ttu-id="64a99-382">Existující aplikace jako-je.</span><span class="sxs-lookup"><span data-stu-id="64a99-382">Existing applications as-is.</span></span> |<span data-ttu-id="64a99-383">Aplikace potřebují webových a pracovních rolí.</span><span class="sxs-lookup"><span data-stu-id="64a99-383">Applications need web and worker roles.</span></span> |<span data-ttu-id="64a99-384">Existující aplikace jako-ale hodí se pro samostatný webové aplikace a webové služby, které vyžadují rychlou škálovatelnost.</span><span class="sxs-lookup"><span data-stu-id="64a99-384">Existing applications as-is but suited for self-contained web applications and web services that require quick scalability.</span></span> |
| <span data-ttu-id="64a99-385">**Vývoj a nasazení**</span><span class="sxs-lookup"><span data-stu-id="64a99-385">**Development and Deployment**</span></span> |<span data-ttu-id="64a99-386">Visual Studio, služba WebMatrix, Visual Web Developer, WebDeploy, FTP, sady TFS, Správce služby IIS, prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="64a99-386">Visual Studio, WebMatrix, Visual Web Developer, WebDeploy, FTP, TFS, IIS Manager, PowerShell.</span></span> |<span data-ttu-id="64a99-387">Visual Studio, Azure SDK a sady TFS, prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="64a99-387">Visual Studio, Azure SDK, TFS, PowerShell.</span></span> <span data-ttu-id="64a99-388">Jednotlivých cloudových služeb má dvě prostředí, do kterých můžete nasadit balíček služby a konfigurace: pracovní a provozní.</span><span class="sxs-lookup"><span data-stu-id="64a99-388">Each cloud service has two environments to which you can deploy your service package and configuration: staging and production.</span></span> <span data-ttu-id="64a99-389">Cloudové služby můžete nasadit do fázovacího prostředí otestovat ho, než ho přesunout do výroby.</span><span class="sxs-lookup"><span data-stu-id="64a99-389">You can deploy a cloud service to the staging environment to test it before you promote it to production.</span></span> |<span data-ttu-id="64a99-390">Visual Studio, služba WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, Githubu, Mercurial, sady TFS, webové nasadit, prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="64a99-390">Visual Studio, WebMatrix, Visual Web Developer, FTP, GIT, BitBucket, CodePlex, DropBox, GitHub, Mercurial, TFS, Web Deploy, PowerShell.</span></span> |
| <span data-ttu-id="64a99-391">**Správa a instalace**</span><span class="sxs-lookup"><span data-stu-id="64a99-391">**Administration and Setup**</span></span> |<span data-ttu-id="64a99-392">Jste zodpovědní za správu úlohy na aplikace, data, pravidla brány firewall, virtuální sítě a operačního systému.</span><span class="sxs-lookup"><span data-stu-id="64a99-392">You are responsible for administrative tasks on the application, data, firewall rules, virtual network, and operating system.</span></span> |<span data-ttu-id="64a99-393">Jste zodpovědní za správu úlohy na aplikace, data, pravidla brány firewall a virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="64a99-393">You are responsible for administrative tasks on the application, data, firewall rules, and virtual network.</span></span> |<span data-ttu-id="64a99-394">Jste zodpovědní za úlohy správy v aplikaci a pouze data.</span><span class="sxs-lookup"><span data-stu-id="64a99-394">You are responsible for administrative tasks on the application and data only.</span></span> |
| <span data-ttu-id="64a99-395">**Vysoká dostupnost a zotavení po havárii (HADR)**</span><span class="sxs-lookup"><span data-stu-id="64a99-395">**High Availability and Disaster Recovery (HADR)**</span></span> |<span data-ttu-id="64a99-396">Doporučujeme umísťovat virtuální počítače ve stejné sadě dostupnosti a v rámci stejné cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="64a99-396">We recommend that you place virtual machines in the same availability set and in the same cloud service.</span></span> <span data-ttu-id="64a99-397">Zachovat virtuální počítače ve stejné skupině dostupnosti umožňuje Azure a umístěte do domén samostatné selhání uzlů vysokou dostupnost a upgradu domén.</span><span class="sxs-lookup"><span data-stu-id="64a99-397">Keeping your VMs in the same availability set allows Azure to place the high availability nodes into separate fault domains and upgrade domains.</span></span> <span data-ttu-id="64a99-398">Podobně zachovat virtuální počítače v rámci stejné cloudové služby umožňuje Vyrovnávání zatížení a virtuální počítače může komunikovat přímo mezi sebou v místní síti v rámci datové centrum Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-398">Similarly, keeping your VMs in the same cloud service enables load balancing and VMs can communicate directly with one another over the local network within an Azure data center.</span></span><br/><br/><span data-ttu-id="64a99-399">Jste zodpovědní za implementaci vysoké dostupnosti a řešení zotavení po havárii pro SQL Server v Azure Virtual Machines žádné výpadky.</span><span class="sxs-lookup"><span data-stu-id="64a99-399">You are responsible for implementing a high availability and disaster recovery solution for SQL Server in Azure Virtual Machines to avoid any downtime.</span></span> <span data-ttu-id="64a99-400">Podporované HADR technologií, najdete v části [vysokou dostupnost a zotavení po havárii pro SQL Server v Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-400">For supported HADR technologies, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span><br/><br/><span data-ttu-id="64a99-401">Jste zodpovědní za zálohování dat a aplikací.</span><span class="sxs-lookup"><span data-stu-id="64a99-401">You are responsible for backing up your own data and application.</span></span><br/><br/><span data-ttu-id="64a99-402">Azure můžete přesunout virtuální počítače, pokud se hostitelský počítač v datovém centru nezdaří kvůli problémům s hardwarem.</span><span class="sxs-lookup"><span data-stu-id="64a99-402">Azure can move your virtual machines if the host machine in the data center fails due to hardware issues.</span></span> <span data-ttu-id="64a99-403">Kromě toho je možné, plánované výpadky vašeho virtuálního počítače po aktualizaci hostitelský počítač pro zabezpečení nebo softwarové aktualizace.</span><span class="sxs-lookup"><span data-stu-id="64a99-403">In addition, there could be planned downtime of your VM when the host machine is updated for security or software updates.</span></span> <span data-ttu-id="64a99-404">Proto doporučujeme udržovat aspoň dva virtuální počítače v jednotlivých vrstvách aplikace k zajištění nepřetržité dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="64a99-404">Therefore, we recommend that you maintain at least two VMs in each application tier to ensure the continuous availability.</span></span> <span data-ttu-id="64a99-405">Azure neposkytuje SLA pro jeden virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="64a99-405">Azure does not provide SLA for a single virtual machine.</span></span> <span data-ttu-id="64a99-406">Další informace najdete v tématu [technické pokyny Azure odolnosti](../../../resiliency/resiliency-technical-guidance.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-406">For more information, see [Azure resiliency technical guidance](../../../resiliency/resiliency-technical-guidance.md).</span></span> |<span data-ttu-id="64a99-407">Spravuje Azure chyby způsobené základní softwaru hardwaru nebo operačního systému.</span><span class="sxs-lookup"><span data-stu-id="64a99-407">Azure manages the failures resulting from the underlying hardware or operating system software.</span></span> <span data-ttu-id="64a99-408">Doporučujeme vám, že můžete implementovat několik instancí role web nebo pracovní proces pro zajištění vysoké dostupnosti vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="64a99-408">We recommend that you implement multiple instances of a web or worker role to ensure the high availability of your application.</span></span> <span data-ttu-id="64a99-409">Informace najdete v tématu [cloudové služby, virtuální počítače a virtuální sítě smlouvy o úrovni služeb](http://www.microsoft.com/download/details.aspx?id=38427) a [zotavení po havárii a vysoká dostupnost pro aplikace Azure](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)</span><span class="sxs-lookup"><span data-stu-id="64a99-409">For information, see [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) and [Disaster recovery and high availability for Azure applications](../../../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)</span></span><br/><br/><span data-ttu-id="64a99-410">Jste zodpovědní za zálohování dat a aplikací.</span><span class="sxs-lookup"><span data-stu-id="64a99-410">You are responsible for backing up your own data and application.</span></span><br/><br/><span data-ttu-id="64a99-411">Pro databáze, které se nacházejí v databázi systému SQL Server ve virtuálním počítači Azure jste zodpovědní za implementaci vysoké dostupnosti a po havárii řešení obnovení žádné výpadky.</span><span class="sxs-lookup"><span data-stu-id="64a99-411">For databases residing in a SQL Server database in an Azure VM, you are responsible for implementing a high availability and disaster recovery solution to avoid any downtime.</span></span> <span data-ttu-id="64a99-412">Podporované HDAR technologií najdete v části vysokou dostupnost a zotavení po havárii pro SQL Server v Azure Virtual Machines.</span><span class="sxs-lookup"><span data-stu-id="64a99-412">For supported HDAR technologies, see High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines.</span></span><br/><br/><span data-ttu-id="64a99-413">**Zrcadlení databáze serveru SQL**: použití se službou Azure Cloud Services (webové/role pracovního procesu).</span><span class="sxs-lookup"><span data-stu-id="64a99-413">**SQL Server Database Mirroring**: Use with Azure Cloud Services (web/worker roles).</span></span> <span data-ttu-id="64a99-414">Virtuálním počítačům systému SQL Server a projekt cloudové služby může být ve stejné virtuální síti Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-414">SQL Server VMs and a cloud service project can be in the same Azure Virtual Network.</span></span> <span data-ttu-id="64a99-415">Pokud virtuální počítač SQL Server není ve stejné virtuální síti, budete muset vytvořit Alias SQL Server pro směrování komunikace na instanci systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="64a99-415">If SQL Server VM is not in the same Virtual Network, you need to create a SQL Server Alias to route communication to the instance of SQL Server.</span></span> <span data-ttu-id="64a99-416">Název aliasu kromě toho musí odpovídat názvu systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="64a99-416">In addition, the alias name must match the SQL Server name.</span></span> |<span data-ttu-id="64a99-417">Zajištění vysoké dostupnosti je zděděn z role pracovního procesu systému Azure, Azure blob storage a Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="64a99-417">High Availability is inherited from Azure worker roles, Azure blob storage, and Azure SQL Database.</span></span> <span data-ttu-id="64a99-418">Například Azure úložiště udržuje tři repliky všech objektů blob, tabulky a fronty data.</span><span class="sxs-lookup"><span data-stu-id="64a99-418">For example, Azure Storage maintains three replicas of all blob, table, and queue data.</span></span> <span data-ttu-id="64a99-419">Současně, Azure SQL Database udržuje tři repliky dat systémem – jedna primární replika a dvě sekundární repliky.</span><span class="sxs-lookup"><span data-stu-id="64a99-419">At any one time, Azure SQL Database keeps three replicas of data running—one primary replica and two secondary replicas.</span></span> <span data-ttu-id="64a99-420">Další informace najdete v tématu [Azure Storage](https://azure.microsoft.com/documentation/services/storage/) a [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-420">For more information, see [Azure Storage](https://azure.microsoft.com/documentation/services/storage/) and [Azure SQL Database](../../../sql-database/sql-database-technical-overview.md).</span></span><br/><br/><span data-ttu-id="64a99-421">Při použití SQL serveru ve virtuálním počítači Azure jako zdroj dat pro Azure Web Apps, mějte na paměti, že Azure Web Apps nepodporuje virtuální sítě Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-421">When using SQL Server in Azure VM as a data source for Azure Web Apps, keep in mind that Azure Web Apps does not support Azure Virtual Network.</span></span> <span data-ttu-id="64a99-422">Jinými slovy všechna připojení z Azure Web Apps k virtuálním počítačům systému SQL Server v Azure musí projít veřejné koncové body virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="64a99-422">In other words, all connections from Azure Web Apps to SQL Server VMs in Azure must go through public end points of virtual machines.</span></span> <span data-ttu-id="64a99-423">To může způsobit určitá omezení pro vysokou dostupnost a scénářů zotavení po havárii.</span><span class="sxs-lookup"><span data-stu-id="64a99-423">This might cause some limitations for high availability and disaster recovery scenarios.</span></span> <span data-ttu-id="64a99-424">Klientská aplikace na Azure Web Apps připojení k virtuální počítač s SQL serverem s zrcadlení databáze například nebude moci připojit k novým primárním serverem, protože zrcadlení databáze vyžaduje, abyste nastavili Azure Virtual Network mezi virtuálními počítači hostitele systému SQL Server v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-424">For example, the client application on Azure Web Apps connecting to SQL Server VM with database mirroring would not be able to connect to the new primary server as database mirroring requires that you set up Azure Virtual Network between SQL Server host VMs in Azure.</span></span> <span data-ttu-id="64a99-425">Proto pomocí **zrcadlení databáze serveru SQL** s webovými aplikacemi Azure v současné době nepodporují.</span><span class="sxs-lookup"><span data-stu-id="64a99-425">Therefore, using **SQL Server Database Mirroring** with Azure Web Apps is not supported currently.</span></span><br/><br/><span data-ttu-id="64a99-426">**Skupiny dostupnosti AlwaysOn serveru SQL**: skupiny dostupnosti AlwaysOn můžete nastavit při používání Azure Web Apps s virtuálním počítačům systému SQL Server v Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-426">**SQL Server AlwaysOn Availability Groups**: You can set up AlwaysOn Availability Groups when using Azure Web Apps with SQL Server VMs in Azure.</span></span> <span data-ttu-id="64a99-427">Ale budete muset nakonfigurovat naslouchací proces skupiny dostupnosti AlwaysOn směrovat komunikaci na primární repliku prostřednictvím veřejných koncových bodů s vyrovnáváním zatížení.</span><span class="sxs-lookup"><span data-stu-id="64a99-427">But you need to configure AlwaysOn Availability Group Listener to route the communication to the primary replica via public load-balanced endpoints.</span></span> |
| <span data-ttu-id="64a99-428">**Připojení mezi různými místy**</span><span class="sxs-lookup"><span data-stu-id="64a99-428">**cross-premises Connectivity**</span></span> |<span data-ttu-id="64a99-429">Můžete se připojit k místní virtuální síť Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-429">You can use Azure Virtual Network to connect to on-premises.</span></span> |<span data-ttu-id="64a99-430">Můžete se připojit k místní virtuální síť Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-430">You can use Azure Virtual Network to connect to on-premises.</span></span> |<span data-ttu-id="64a99-431">Virtuální síť Azure je podporováno.</span><span class="sxs-lookup"><span data-stu-id="64a99-431">Azure Virtual Network is supported.</span></span> <span data-ttu-id="64a99-432">Další informace najdete v tématu [integrace virtuální sítě webové aplikace](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/).</span><span class="sxs-lookup"><span data-stu-id="64a99-432">For more information, see [Web Apps Virtual Network Integration](https://azure.microsoft.com/blog/2014/09/15/azure-websites-virtual-network-integration/).</span></span> |
| <span data-ttu-id="64a99-433">**Škálovatelnost**</span><span class="sxs-lookup"><span data-stu-id="64a99-433">**Scalability**</span></span> |<span data-ttu-id="64a99-434">Škálování je k dispozici zvýšením velikosti virtuálních počítačů nebo přidání více disků.</span><span class="sxs-lookup"><span data-stu-id="64a99-434">Scale-up is available by increasing the virtual machine sizes or adding more disks.</span></span> <span data-ttu-id="64a99-435">Další informace o velikosti virtuálních počítačů najdete v tématu [velikostí virtuálních počítačů pro Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="64a99-435">For more information about virtual machine sizes, see [Virtual Machine Sizes for Azure](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span><br/><br/><span data-ttu-id="64a99-436">**Pro Server databáze**: Škálováním na více systémů je k dispozici prostřednictvím rozdělení techniky databáze a skupiny dostupnosti AlwaysOn serveru SQL Server.</span><span class="sxs-lookup"><span data-stu-id="64a99-436">**For Database Server**: Scale-out is available via database partitioning techniques and SQL Server AlwaysOn Availability groups.</span></span><br/><br/><span data-ttu-id="64a99-437">Pro náročných úloh pro čtení, můžete použít [skupiny dostupnosti AlwaysOn](https://msdn.microsoft.com/library/hh510230.aspx) na více sekundární uzly také replikace SQL serveru.</span><span class="sxs-lookup"><span data-stu-id="64a99-437">For heavy read workloads, you can use [AlwaysOn Availability Groups](https://msdn.microsoft.com/library/hh510230.aspx) on multiple secondary nodes as well as SQL Server Replication.</span></span><br/><br/><span data-ttu-id="64a99-438">Pro úlohy velkou zápisu můžete implementovat vodorovné rozdělení dat napříč více fyzických serverů zajistit aplikace Škálováním na více systémů.</span><span class="sxs-lookup"><span data-stu-id="64a99-438">For heavy write workloads, you can implement horizontal partitioning data across multiple physical servers to provide application scale-out.</span></span><br/><br/><span data-ttu-id="64a99-439">Kromě toho můžete implementovat Škálováním na více systémů pomocí [systému SQL Server se směrováním závislé Data](https://technet.microsoft.com/library/cc966448.aspx).</span><span class="sxs-lookup"><span data-stu-id="64a99-439">In addition, you can implement a scale-out by using [SQL Server with Data Dependent Routing](https://technet.microsoft.com/library/cc966448.aspx).</span></span> <span data-ttu-id="64a99-440">S dat závislé směrování (DDR), potřebujete implementovat rozdělení mechanismus klientské aplikace, obvykle ve vrstvě obchodní vrstvy pro směrování požadavků databáze do více uzlů serveru SQL Server.</span><span class="sxs-lookup"><span data-stu-id="64a99-440">With Data Dependent Routing (DDR), you need to implement the partitioning mechanism in the client application, typically in the business tier layer, to route the database requests to multiple SQL Server nodes.</span></span> <span data-ttu-id="64a99-441">Obchodní vrstva obsahuje mapování data jak je rozdělena na oddíly a který uzel obsahuje data.</span><span class="sxs-lookup"><span data-stu-id="64a99-441">The business tier contains mappings to how the data is partitioned and which node contains the data.</span></span><br/><br/><span data-ttu-id="64a99-442">Je možné škálovat aplikace, které jsou spuštěné virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="64a99-442">You can scale applications that are running virtual machines.</span></span> <span data-ttu-id="64a99-443">Další informace najdete v tématu [postup škálování aplikace](../../../cloud-services/cloud-services-how-to-scale.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-443">For more information, see [How to Scale an Application](../../../cloud-services/cloud-services-how-to-scale.md).</span></span><br/><br/><span data-ttu-id="64a99-444">**Důležitá poznámka**: **škálování** funkce v Azure umožňuje automaticky zvětšit nebo zmenšit virtuální počítače, které jsou používány vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="64a99-444">**Important Note**: The **AutoScale** feature in Azure allows you to automatically increase or decrease the Virtual Machines that are used by your application.</span></span> <span data-ttu-id="64a99-445">Tato funkce zaručuje, že činnost koncového uživatele není ovlivněná negativně špičky a jsou virtuální počítače vypnout při nízkém zatížení.</span><span class="sxs-lookup"><span data-stu-id="64a99-445">This feature guarantees that the end-user experience is not affected negatively during peak periods, and VMs are shut down when the demand is low.</span></span> <span data-ttu-id="64a99-446">Doporučujeme, nenastavujte možnost automatického škálování pro cloudové služby, pokud obsahuje virtuálním počítačům systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="64a99-446">It’s recommended that you do not set the AutoScale option for your cloud service if it includes SQL Server VMs.</span></span> <span data-ttu-id="64a99-447">Důvodem je, že umožňuje, aby funkce automatického škálování Azure zapnout na virtuálním počítači, když je vyšší než některé prahová hodnota využití procesoru v tohoto virtuálního počítače a chcete-li vypnout virtuální počítač, kdy přestane využití procesoru nižší než.</span><span class="sxs-lookup"><span data-stu-id="64a99-447">The reason is that the AutoScale feature lets Azure to turn on a virtual machine when the CPU usage in that VM is higher than some threshold, and to turn off a virtual machine when the CPU usage goes lower than it.</span></span> <span data-ttu-id="64a99-448">Funkce automatického škálování je užitečná pro bezstavové aplikace, jako jsou třeba webové servery, kde žádné virtuální počítače můžete spravovat úlohy bez všechny odkazy na všechny předchozího stavu.</span><span class="sxs-lookup"><span data-stu-id="64a99-448">The AutoScale feature is useful for stateless applications, such as web servers, where any VM can manage the workload without any references to any previous state.</span></span> <span data-ttu-id="64a99-449">Funkce škálování však není užitečné stavových aplikací, jako je SQL Server, kde pouze jedna instance umožňuje zápis do databáze.</span><span class="sxs-lookup"><span data-stu-id="64a99-449">However, the AutoScale feature is not useful for stateful applications, such as SQL Server, where only one instance allows writing to the database.</span></span> |<span data-ttu-id="64a99-450">Škálování je k dispozici v několika webových a pracovních rolí.</span><span class="sxs-lookup"><span data-stu-id="64a99-450">Scale-up is available by using multiple web and worker roles.</span></span> <span data-ttu-id="64a99-451">Další informace o velikosti virtuálních počítačů pro webových rolí a rolí pracovního procesu naleznete v tématu [konfigurace velikosti pro cloudové služby](../../../cloud-services/cloud-services-sizes-specs.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-451">For more information about virtual machine sizes for web roles and worker roles, see [Configure Sizes for Cloud Services](../../../cloud-services/cloud-services-sizes-specs.md).</span></span><br/><br/><span data-ttu-id="64a99-452">Při použití **cloudové služby**, můžete definovat víc rolí distribuce zpracování a také dosáhnout flexibilní škálování aplikace.</span><span class="sxs-lookup"><span data-stu-id="64a99-452">When using **Cloud Services**, you can define multiple roles to distribute processing and also achieve flexible scaling of your application.</span></span> <span data-ttu-id="64a99-453">Jednotlivých cloudových služeb obsahuje jeden nebo více webové role nebo rolí pracovního procesu, každou s vlastní soubory aplikace a konfigurace.</span><span class="sxs-lookup"><span data-stu-id="64a99-453">Each cloud service includes one or more web roles and/or worker roles, each with its own application files and configuration.</span></span> <span data-ttu-id="64a99-454">Můžete škálování cloudové služby zvýšením počtu instancí role (virtuálních počítačů), nasazení pro roli a vertikální snížení kapacity Cloudová služba, a tím snižují počet instancí role.</span><span class="sxs-lookup"><span data-stu-id="64a99-454">You can scale-up a cloud service by increasing the number of role instances (virtual machines) deployed for a role and scale-down a cloud service by decreasing the number of role instances.</span></span> <span data-ttu-id="64a99-455">Podrobné informace najdete v tématu [Azure provádění modely](../../../cloud-services/cloud-services-choose-me.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-455">For detailed information, see [Azure Execution Models](../../../cloud-services/cloud-services-choose-me.md).</span></span><br/><br/><span data-ttu-id="64a99-456">Škálováním na více systémů je k dispozici prostřednictvím podpory Azure integrovanou vysokou dostupnost prostřednictvím [cloudové služby, virtuální počítače a virtuální sítě smlouvy o úrovni služeb](http://www.microsoft.com/download/details.aspx?id=38427) a nástroj pro vyrovnávání zatížení.</span><span class="sxs-lookup"><span data-stu-id="64a99-456">Scale-out is available via built-in Azure high availability support through [Cloud Services, Virtual Machines, and Virtual Network Service Level Agreement](http://www.microsoft.com/download/details.aspx?id=38427) and Load Balancer.</span></span><br/><br/><span data-ttu-id="64a99-457">Vícevrstvé aplikace doporučujeme připojení aplikace role web nebo worker do databáze serveru virtuálních počítačů prostřednictvím Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="64a99-457">For a multi-tier application, we recommend that you connect web/worker roles application to database server VMs via Azure Virtual Network.</span></span> <span data-ttu-id="64a99-458">Kromě toho Azure poskytuje Vyrovnávání zatížení pro virtuální počítače ve stejné cloudové služby, šíření požadavky uživatelů mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="64a99-458">In addition, Azure provides load balancing for VMs in the same cloud service, spreading user requests across them.</span></span> <span data-ttu-id="64a99-459">Virtuální počítače připojené tímto způsobem může komunikovat přímo s navzájem v místní síti v rámci datové centrum Azure.</span><span class="sxs-lookup"><span data-stu-id="64a99-459">Virtual machines connected in this way can communicate directly with one another over the local network within an Azure data center.</span></span><br/><br/><span data-ttu-id="64a99-460">Můžete nastavit **škálování** na portálu Azure a také dobu plán.</span><span class="sxs-lookup"><span data-stu-id="64a99-460">You can set up **AutoScale** on the Azure portal as well as the schedule times.</span></span> <span data-ttu-id="64a99-461">Další informace najdete v tématu [postup konfigurace automatického škálování pro cloudové služby na portálu](../../../cloud-services/cloud-services-how-to-scale-portal.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-461">For more information, see [How to configure auto scaling for a Cloud Service in the portal](../../../cloud-services/cloud-services-how-to-scale-portal.md).</span></span> |<span data-ttu-id="64a99-462">**Škálovat nahoru a dolů**: můžete můžete zvětšit nebo zmenšit velikost instance (VM) vyhrazena pro svůj web.</span><span class="sxs-lookup"><span data-stu-id="64a99-462">**Scale up and down**: You can increase/decrease the size of the instance (VM) reserved for your web site.</span></span><br/><br/><span data-ttu-id="64a99-463">Horizontální navýšení kapacity: můžete přidat více vyhrazenou instancí (VM) pro svůj web.</span><span class="sxs-lookup"><span data-stu-id="64a99-463">Scale out: You can add more reserved instances (VMs) for your web site.</span></span><br/><br/><span data-ttu-id="64a99-464">Můžete nastavit **škálování** na portálu, jakož i plán časy.</span><span class="sxs-lookup"><span data-stu-id="64a99-464">You can set up **AutoScale** on the portal as well as the schedule times.</span></span> <span data-ttu-id="64a99-465">Další informace najdete v tématu [postup škálování webové aplikace](../../../app-service-web/web-sites-scale.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-465">For more information, see [How to Scale Web Apps](../../../app-service-web/web-sites-scale.md).</span></span> |

<span data-ttu-id="64a99-466">Další informace o výběru mezi tyto programovací metody naleznete v tématu [Azure Web Apps, cloudové služby a virtuální počítače: volba aplikace](../../../app-service-web/choose-web-site-cloud-service-vm.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-466">For more information on choosing between these programming methods, see [Azure Web Apps, Cloud Services, and VMs: When to use which](../../../app-service-web/choose-web-site-cloud-service-vm.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="64a99-467">Další kroky</span><span class="sxs-lookup"><span data-stu-id="64a99-467">Next Steps</span></span>
<span data-ttu-id="64a99-468">Další informace o spouštění systému SQL Server v Azure virtuální počítače, naleznete v části [SQL Server na Přehled virtuálních počítačů Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="64a99-468">For more information on running SQL Server in Azure Virtual machines, see [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

