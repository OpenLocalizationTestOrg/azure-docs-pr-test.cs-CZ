---
title: "Konfiguraci úložiště pro virtuální počítače SQL serveru | Microsoft Docs"
description: "Toto téma popisuje, jak Azure konfiguruje úložiště pro virtuální počítače SQL serveru při zřizování (modelu nasazení Resource Manager). Také vysvětluje, jak konfigurace úložiště pro existující virtuální počítače SQL serveru."
services: virtual-machines-windows
documentationcenter: na
author: ninarn
manager: jhubbard
tags: azure-resource-manager
ms.assetid: 169fc765-3269-48fa-83f1-9fe3e4e40947
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 01/31/2017
ms.author: ninarn
ms.openlocfilehash: f10bac1189c94a581487d19fc0cc129acec6a636
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="storage-configuration-for-sql-server-vms"></a><span data-ttu-id="b1e08-104">Konfiguraci úložiště pro virtuální počítače serveru SQL</span><span class="sxs-lookup"><span data-stu-id="b1e08-104">Storage configuration for SQL Server VMs</span></span>
<span data-ttu-id="b1e08-105">Když konfigurujete image virtuálního počítače systému SQL Server v Azure, pomáhá automatizovat konfiguraci úložiště na portálu.</span><span class="sxs-lookup"><span data-stu-id="b1e08-105">When you configure a SQL Server virtual machine image in Azure, the Portal helps to automate your storage configuration.</span></span> <span data-ttu-id="b1e08-106">Jedná se o připojení k virtuálnímu počítači, zpřístupnění této úložiště pro SQL Server a nakonfigurovat jej pro optimalizaci pro vašim požadavkům na výkon konkrétní úložiště.</span><span class="sxs-lookup"><span data-stu-id="b1e08-106">This includes attaching storage to the VM, making that storage accessible to SQL Server, and configuring it to optimize for your specific performance requirements.</span></span>

<span data-ttu-id="b1e08-107">Toto téma vysvětluje, jak nakonfiguruje Azure úložiště pro virtuální počítače SQL serveru při zřizování i pro existující virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="b1e08-107">This topic explains how Azure configures storage for your SQL Server VMs both during provisioning and for existing VMs.</span></span> <span data-ttu-id="b1e08-108">Tato konfigurace je založená na [osvědčené postupy z hlediska výkonu](virtual-machines-windows-sql-performance.md) pro virtuální počítače Azure se systémem SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b1e08-108">This configuration is based on the [performance best practices](virtual-machines-windows-sql-performance.md) for Azure VMs running SQL Server.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

## <a name="prerequisites"></a><span data-ttu-id="b1e08-109">Požadavky</span><span class="sxs-lookup"><span data-stu-id="b1e08-109">Prerequisites</span></span>
<span data-ttu-id="b1e08-110">Pokud chcete použít nastavení konfigurace automatizované úložiště, virtuální počítač vyžaduje následující vlastnosti:</span><span class="sxs-lookup"><span data-stu-id="b1e08-110">To use the automated storage configuration settings, your virtual machine requires the following characteristics:</span></span>

* <span data-ttu-id="b1e08-111">Zřízená [image SQL serveru Galerie](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span><span class="sxs-lookup"><span data-stu-id="b1e08-111">Provisioned with a [SQL Server gallery image](virtual-machines-windows-sql-server-iaas-overview.md#option-1-create-a-sql-vm-with-per-minute-licensing).</span></span>
* <span data-ttu-id="b1e08-112">Používá [modelu nasazení Resource Manager](../../../azure-resource-manager/resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="b1e08-112">Uses the [Resource Manager deployment model](../../../azure-resource-manager/resource-manager-deployment-model.md).</span></span>
* <span data-ttu-id="b1e08-113">Používá [Storage úrovně Premium](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="b1e08-113">Uses [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span>

## <a name="new-vms"></a><span data-ttu-id="b1e08-114">Nové virtuální počítače</span><span class="sxs-lookup"><span data-stu-id="b1e08-114">New VMs</span></span>
<span data-ttu-id="b1e08-115">Následující části popisují postup konfigurace úložiště pro nový virtuální počítače systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b1e08-115">The following sections describe how to configure storage for new SQL Server virtual machines.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="b1e08-116">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="b1e08-116">Azure Portal</span></span>
<span data-ttu-id="b1e08-117">Při zřizování virtuálního počítače Azure pomocí Galerie bitovou kopii systému SQL Server, můžete pro automatickou konfiguraci úložiště pro nový virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="b1e08-117">When provisioning an Azure VM using a SQL Server gallery image, you can choose to automatically configure the storage for your new VM.</span></span> <span data-ttu-id="b1e08-118">Určete velikost úložiště, výkon a typ úlohy.</span><span class="sxs-lookup"><span data-stu-id="b1e08-118">You specify the storage size, performance limits, and workload type.</span></span> <span data-ttu-id="b1e08-119">Následující snímek obrazovky ukazuje okno Konfigurace úložiště používá během virtuální počítač SQL zřizování.</span><span class="sxs-lookup"><span data-stu-id="b1e08-119">The following screenshot shows the Storage configuration blade used during SQL VM provisioning.</span></span>

![Konfigurace úložiště virtuálního počítače SQL serveru při zřizování](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-provisioning.png)

<span data-ttu-id="b1e08-121">Podle vaší volby, Azure provádí následující úkoly konfigurace úložiště po vytvoření virtuálního počítače:</span><span class="sxs-lookup"><span data-stu-id="b1e08-121">Based on your choices, Azure performs the following storage configuration tasks after creating the VM:</span></span>

* <span data-ttu-id="b1e08-122">Vytvoří a připojí premium storage datových disků k virtuálnímu počítači.</span><span class="sxs-lookup"><span data-stu-id="b1e08-122">Creates and attaches premium storage data disks to the virtual machine.</span></span>
* <span data-ttu-id="b1e08-123">Nakonfiguruje datových disků byla přístupná pro SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b1e08-123">Configures the data disks to be accessible to SQL Server.</span></span>
* <span data-ttu-id="b1e08-124">Nakonfiguruje datových disků do fondu úložiště na základě zadané velikosti a výkonu (IOPS a propustnost) požadavků.</span><span class="sxs-lookup"><span data-stu-id="b1e08-124">Configures the data disks into a storage pool based on the specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="b1e08-125">Přidruží fondu úložiště na nový disk ve virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="b1e08-125">Associates the storage pool with a new drive on the virtual machine.</span></span>
* <span data-ttu-id="b1e08-126">Optimalizuje tento nový disk, na základě vašeho typu zadané úlohy (datové sklady, zpracování transakcí nebo Obecné).</span><span class="sxs-lookup"><span data-stu-id="b1e08-126">Optimizes this new drive based on your specified workload type (Data warehousing, Transactional processing, or General).</span></span>

<span data-ttu-id="b1e08-127">Další informace o tom, jak Azure nakonfiguruje nastavení úložiště, najdete v článku [úložiště konfigurační oddíl](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="b1e08-127">For further details on how Azure configures storage settings, see the [Storage configuration section](#storage-configuration).</span></span> <span data-ttu-id="b1e08-128">Úplné návod, jak vytvořit virtuální počítač SQL Server na portálu Azure, najdete v části [kurzu zřizování](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="b1e08-128">For a full walkthrough of how to create a SQL Server VM in the Azure Portal, see [the provisioning tutorial](virtual-machines-windows-portal-sql-server-provision.md).</span></span>

### <a name="resource-manage-templates"></a><span data-ttu-id="b1e08-129">Spravovat šablony prostředků</span><span class="sxs-lookup"><span data-stu-id="b1e08-129">Resource Manage templates</span></span>
<span data-ttu-id="b1e08-130">Pokud chcete použít následující šablony Resource Manageru, jsou připojené dva premium datových disků ve výchozím nastavení se žádné konfigurace fondu úložiště.</span><span class="sxs-lookup"><span data-stu-id="b1e08-130">If you use the following Resource Manager templates, two premium data disks are attached by default, with no storage pool configuration.</span></span> <span data-ttu-id="b1e08-131">Tyto šablony, chcete-li změnit počet datových disků premium, které jsou připojené k virtuálnímu počítači však můžete přizpůsobit.</span><span class="sxs-lookup"><span data-stu-id="b1e08-131">However, you can customize these templates to change the number of premium data disks that are attached to the virtual machine.</span></span>

* [<span data-ttu-id="b1e08-132">Vytvoření virtuálního počítače s automatizované zálohování</span><span class="sxs-lookup"><span data-stu-id="b1e08-132">Create VM with Automated Backup</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autobackup)
* [<span data-ttu-id="b1e08-133">Vytvoření virtuálního počítače s automatizované opravy</span><span class="sxs-lookup"><span data-stu-id="b1e08-133">Create VM with Automated Patching</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-autopatching)
* [<span data-ttu-id="b1e08-134">Vytvoření virtuálního počítače s integrace se službou AZURE</span><span class="sxs-lookup"><span data-stu-id="b1e08-134">Create VM with AKV Integration</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-sql-full-keyvault)

## <a name="existing-vms"></a><span data-ttu-id="b1e08-135">Existující virtuální počítače</span><span class="sxs-lookup"><span data-stu-id="b1e08-135">Existing VMs</span></span>
<span data-ttu-id="b1e08-136">Pro existující virtuální počítače SQL serveru můžete upravit některé nastavení úložiště na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="b1e08-136">For existing SQL Server VMs, you can modify some storage settings in the Azure portal.</span></span> <span data-ttu-id="b1e08-137">Vyberte virtuální počítač, přejděte do oblasti nastavení a pak vyberte konfiguraci systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b1e08-137">Select your VM, go to the Settings area, and then select SQL Server Configuration.</span></span> <span data-ttu-id="b1e08-138">V okně Konfigurace serveru SQL Server je zobrazeno aktuální využití úložiště virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="b1e08-138">The SQL Server Configuration blade shows the current storage usage of your VM.</span></span> <span data-ttu-id="b1e08-139">V tomto grafu se zobrazují všechny jednotky, které existují na vašem virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="b1e08-139">All drives that exist on your VM are displayed in this chart.</span></span> <span data-ttu-id="b1e08-140">Pro každou jednotku v prostoru úložiště zobrazí v čtyři části:</span><span class="sxs-lookup"><span data-stu-id="b1e08-140">For each drive, the storage space displays in four sections:</span></span>

* <span data-ttu-id="b1e08-141">SQL data</span><span class="sxs-lookup"><span data-stu-id="b1e08-141">SQL data</span></span>
* <span data-ttu-id="b1e08-142">Protokolu databáze SQL</span><span class="sxs-lookup"><span data-stu-id="b1e08-142">SQL log</span></span>
* <span data-ttu-id="b1e08-143">Jiné (mimo SQL úložiště)</span><span class="sxs-lookup"><span data-stu-id="b1e08-143">Other (non-SQL storage)</span></span>
* <span data-ttu-id="b1e08-144">Dostupné</span><span class="sxs-lookup"><span data-stu-id="b1e08-144">Available</span></span>

![Konfigurace úložiště pro existující systém SQL Server virtuálního počítače](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-existing.png)

<span data-ttu-id="b1e08-146">Konfigurace úložiště, které chcete přidat nový disk nebo rozšířit existující jednotce, klikněte na odkaz upravit výše grafu.</span><span class="sxs-lookup"><span data-stu-id="b1e08-146">To configure the storage to add a new drive or extend an existing drive, click the Edit link above the chart.</span></span>

<span data-ttu-id="b1e08-147">Možnosti konfigurace, které se zobrazí, se liší v závislosti na tom, jestli se mají použít tuto funkci před.</span><span class="sxs-lookup"><span data-stu-id="b1e08-147">The configuration options that you see varies depending on whether you have used this feature before.</span></span> <span data-ttu-id="b1e08-148">Pokud používáte poprvé, můžete určit požadavky na úložiště pro nový disk.</span><span class="sxs-lookup"><span data-stu-id="b1e08-148">When using for the first time, you can specify your storage requirements for a new drive.</span></span> <span data-ttu-id="b1e08-149">Pokud chcete vytvořit jednotku jste dříve používali tuto funkci, můžete rozšířit úložiště tuto jednotku.</span><span class="sxs-lookup"><span data-stu-id="b1e08-149">If you previously used this feature to create a drive, you can choose to extend that drive’s storage.</span></span>

### <a name="use-for-the-first-time"></a><span data-ttu-id="b1e08-150">Použití první</span><span class="sxs-lookup"><span data-stu-id="b1e08-150">Use for the first time</span></span>
<span data-ttu-id="b1e08-151">Pokud je poprvé pomocí této funkce, můžete zadat omezení velikosti a výkonu úložiště pro nový disk.</span><span class="sxs-lookup"><span data-stu-id="b1e08-151">If it is your first time using this feature, you can specify the storage size and performance limits for a new drive.</span></span> <span data-ttu-id="b1e08-152">Toto prostředí je podobná by najdete na zřizování čas.</span><span class="sxs-lookup"><span data-stu-id="b1e08-152">This experience is similar to what you would see at provisioning time.</span></span> <span data-ttu-id="b1e08-153">Hlavní rozdíl je, že nemáte oprávnění k určení typu úlohy.</span><span class="sxs-lookup"><span data-stu-id="b1e08-153">The main difference is that you are not permitted to specify the workload type.</span></span> <span data-ttu-id="b1e08-154">Toto omezení zabrání přerušení všechny existující konfigurace systému SQL Server na virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="b1e08-154">This restriction prevents disrupting any existing SQL Server configurations on the virtual machine.</span></span>

![Konfigurace SQL serveru úložiště posuvníky](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-usage-sliders.png)

<span data-ttu-id="b1e08-156">Azure vytvoří na nový disk podle vašich požadavků.</span><span class="sxs-lookup"><span data-stu-id="b1e08-156">Azure creates a new drive based on your specifications.</span></span> <span data-ttu-id="b1e08-157">V tomto scénáři Azure provádí následující úkoly konfigurace úložiště:</span><span class="sxs-lookup"><span data-stu-id="b1e08-157">In this scenario, Azure performs the following storage configuration tasks:</span></span>

* <span data-ttu-id="b1e08-158">Vytvoří a připojí premium storage datových disků k virtuálnímu počítači.</span><span class="sxs-lookup"><span data-stu-id="b1e08-158">Creates and attaches premium storage data disks to the virtual machine.</span></span>
* <span data-ttu-id="b1e08-159">Nakonfiguruje datových disků byla přístupná pro SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b1e08-159">Configures the data disks to be accessible to SQL Server.</span></span>
* <span data-ttu-id="b1e08-160">Nakonfiguruje datových disků do fondu úložiště na základě zadané velikosti a výkonu (IOPS a propustnost) požadavků.</span><span class="sxs-lookup"><span data-stu-id="b1e08-160">Configures the data disks into a storage pool based on the specified size and performance (IOPS and throughput) requirements.</span></span>
* <span data-ttu-id="b1e08-161">Přidruží fondu úložiště na nový disk ve virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="b1e08-161">Associates the storage pool with a new drive on the virtual machine.</span></span>

<span data-ttu-id="b1e08-162">Další informace o tom, jak Azure nakonfiguruje nastavení úložiště, najdete v článku [úložiště konfigurační oddíl](#storage-configuration).</span><span class="sxs-lookup"><span data-stu-id="b1e08-162">For further details on how Azure configures storage settings, see the [Storage configuration section](#storage-configuration).</span></span>

### <a name="add-a-new-drive"></a><span data-ttu-id="b1e08-163">Přidat nový disk</span><span class="sxs-lookup"><span data-stu-id="b1e08-163">Add a new drive</span></span>
<span data-ttu-id="b1e08-164">Pokud jste již nakonfigurovali úložiště na virtuální počítač s SQL serverem, rozšíření úložiště zobrazí dvě nové možnosti.</span><span class="sxs-lookup"><span data-stu-id="b1e08-164">If you have already configured storage on your SQL Server VM, expanding storage brings up two new options.</span></span> <span data-ttu-id="b1e08-165">První možností je přidat nový disk, což může zvýšit úroveň výkonu virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="b1e08-165">The first option is to add a new drive, which can increase the performance level of your VM.</span></span>

![Přidat nový disk do virtuálního počítače s SQL](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-configuration-add-new-drive.png)

<span data-ttu-id="b1e08-167">Po přidání jednotky, ale musí provést některé velmi ruční konfigurace dosáhnout zvýšení výkonu.</span><span class="sxs-lookup"><span data-stu-id="b1e08-167">However, after adding the drive, you must perform some extra manual configuration to achieve the performance increase.</span></span>

### <a name="extend-the-drive"></a><span data-ttu-id="b1e08-168">Rozšíření jednotku</span><span class="sxs-lookup"><span data-stu-id="b1e08-168">Extend the drive</span></span>
<span data-ttu-id="b1e08-169">Další možností pro rozšíření úložiště je rozšířit existující jednotce.</span><span class="sxs-lookup"><span data-stu-id="b1e08-169">The other option for expanding storage is to extend the existing drive.</span></span> <span data-ttu-id="b1e08-170">Tato možnost zvyšuje úložiště k dispozici pro vašeho disku, ale nezvyšuje výkon.</span><span class="sxs-lookup"><span data-stu-id="b1e08-170">This option increases the available storage for your drive, but it does not increase performance.</span></span> <span data-ttu-id="b1e08-171">Díky fondům úložiště nelze změnit počet sloupců, po vytvoření fondu úložiště.</span><span class="sxs-lookup"><span data-stu-id="b1e08-171">With storage pools, you cannot alter the number of columns after the storage pool is created.</span></span> <span data-ttu-id="b1e08-172">Počet sloupců určuje počet paralelní zápisy, které může být rozdělená mezi datových disků.</span><span class="sxs-lookup"><span data-stu-id="b1e08-172">The number of columns determines the number of parallel writes, which can be striped across the data disks.</span></span> <span data-ttu-id="b1e08-173">Proto všechny disky přidané dat nelze zvýšit výkon.</span><span class="sxs-lookup"><span data-stu-id="b1e08-173">Therefore, any added data disks cannot increase performance.</span></span> <span data-ttu-id="b1e08-174">Můžete pouze poskytují další úložiště pro zapisovaných.</span><span class="sxs-lookup"><span data-stu-id="b1e08-174">They can only provide more storage for the data being written.</span></span> <span data-ttu-id="b1e08-175">Toto omezení také znamená, že když rozšíření jednotku, počet sloupců Určuje minimální počet datových disků, které můžete přidat.</span><span class="sxs-lookup"><span data-stu-id="b1e08-175">This limitation also means that, when extending the drive, the number of columns determines the minimum number of data disks that you can add.</span></span> <span data-ttu-id="b1e08-176">Proto pokud vytvoříte fond úložiště s čtyři datových disků, počet sloupců je také čtyři.</span><span class="sxs-lookup"><span data-stu-id="b1e08-176">So if you create a storage pool with four data disks, the number of columns is also four.</span></span> <span data-ttu-id="b1e08-177">Kdykoli můžete rozšířit úložiště, je nutné přidat alespoň čtyři datových disků.</span><span class="sxs-lookup"><span data-stu-id="b1e08-177">Any time you extend the storage, you must add at least four data disks.</span></span>

![Rozšíření pro virtuální počítač SQL na jednotku](./media/virtual-machines-windows-sql-storage-configuration/sql-vm-storage-extend-a-drive.png)

## <a name="storage-configuration"></a><span data-ttu-id="b1e08-179">Konfigurace úložiště</span><span class="sxs-lookup"><span data-stu-id="b1e08-179">Storage configuration</span></span>
<span data-ttu-id="b1e08-180">Tato část obsahuje odkaz pro změny konfigurace úložiště, které Azure automaticky provede při zřizování virtuálních počítačů SQL nebo konfigurace na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="b1e08-180">This section provides a reference for the storage configuration changes that Azure automatically performs during SQL VM provisioning or configuration in the Azure Portal.</span></span>

* <span data-ttu-id="b1e08-181">Pokud vyberete méně než dvě TBs úložiště pro virtuální počítač Azure nevytvoří fondu úložiště.</span><span class="sxs-lookup"><span data-stu-id="b1e08-181">If you have selected fewer than two TBs of storage for your VM, Azure does not create a storage pool.</span></span>
* <span data-ttu-id="b1e08-182">Pokud vyberete aspoň dva TBs úložiště pro virtuální počítač Azure nakonfiguruje fond úložiště.</span><span class="sxs-lookup"><span data-stu-id="b1e08-182">If you have selected at least two TBs of storage for your VM, Azure configures a storage pool.</span></span> <span data-ttu-id="b1e08-183">V další části tohoto tématu poskytuje podrobnosti o konfiguraci fondu úložiště.</span><span class="sxs-lookup"><span data-stu-id="b1e08-183">The next section of this topic provides the details of the storage pool configuration.</span></span>
* <span data-ttu-id="b1e08-184">Konfigurace automatického úložiště vždy používá [storage úrovně premium](../../../storage/common/storage-premium-storage.md) P30 datových disků.</span><span class="sxs-lookup"><span data-stu-id="b1e08-184">Automatic storage configuration always uses [premium storage](../../../storage/common/storage-premium-storage.md) P30 data disks.</span></span> <span data-ttu-id="b1e08-185">Proto je mapování 1:1 mezi vaší vybraný počet terabajtů a počet datových disků připojených k virtuálnímu počítači.</span><span class="sxs-lookup"><span data-stu-id="b1e08-185">Consequently, there is a 1:1 mapping between your selected number of Terabytes and the number of data disks attached to your VM.</span></span>

<span data-ttu-id="b1e08-186">Informace o cenách najdete v článku [Storage – ceny](https://azure.microsoft.com/pricing/details/storage) stránky na **diskového úložiště** kartě.</span><span class="sxs-lookup"><span data-stu-id="b1e08-186">For pricing information, see the [Storage pricing](https://azure.microsoft.com/pricing/details/storage) page on the **Disk Storage** tab.</span></span>

### <a name="creation-of-the-storage-pool"></a><span data-ttu-id="b1e08-187">Vytvoření fondu úložiště</span><span class="sxs-lookup"><span data-stu-id="b1e08-187">Creation of the storage pool</span></span>
<span data-ttu-id="b1e08-188">Azure používá následující nastavení k vytvoření fondu úložiště na virtuálních počítačích SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b1e08-188">Azure uses the following settings to create the storage pool on SQL Server VMs.</span></span>

| <span data-ttu-id="b1e08-189">Nastavení</span><span class="sxs-lookup"><span data-stu-id="b1e08-189">Setting</span></span> | <span data-ttu-id="b1e08-190">Hodnota</span><span class="sxs-lookup"><span data-stu-id="b1e08-190">Value</span></span> |
| --- | --- |
| <span data-ttu-id="b1e08-191">Velikost stripe</span><span class="sxs-lookup"><span data-stu-id="b1e08-191">Stripe size</span></span> |<span data-ttu-id="b1e08-192">256 KB (datové sklady); 64 KB (transakcí)</span><span class="sxs-lookup"><span data-stu-id="b1e08-192">256 KB (Data warehousing); 64 KB (Transactional)</span></span> |
| <span data-ttu-id="b1e08-193">Velikost disků</span><span class="sxs-lookup"><span data-stu-id="b1e08-193">Disk sizes</span></span> |<span data-ttu-id="b1e08-194">1 TB</span><span class="sxs-lookup"><span data-stu-id="b1e08-194">1 TB each</span></span> |
| <span data-ttu-id="b1e08-195">Mezipaměť</span><span class="sxs-lookup"><span data-stu-id="b1e08-195">Cache</span></span> |<span data-ttu-id="b1e08-196">Čtení</span><span class="sxs-lookup"><span data-stu-id="b1e08-196">Read</span></span> |
| <span data-ttu-id="b1e08-197">Velikost alokační</span><span class="sxs-lookup"><span data-stu-id="b1e08-197">Allocation size</span></span> |<span data-ttu-id="b1e08-198">Velikost alokační jednotky 64 KB systému souborů NTFS</span><span class="sxs-lookup"><span data-stu-id="b1e08-198">64 KB NTFS allocation unit size</span></span> |
| <span data-ttu-id="b1e08-199">Inicializace rychlých souboru</span><span class="sxs-lookup"><span data-stu-id="b1e08-199">Instant file initialization</span></span> |<span data-ttu-id="b1e08-200">Povoleno</span><span class="sxs-lookup"><span data-stu-id="b1e08-200">Enabled</span></span> |
| <span data-ttu-id="b1e08-201">Zamknout stránky paměti</span><span class="sxs-lookup"><span data-stu-id="b1e08-201">Lock pages in memory</span></span> |<span data-ttu-id="b1e08-202">Povoleno</span><span class="sxs-lookup"><span data-stu-id="b1e08-202">Enabled</span></span> |
| <span data-ttu-id="b1e08-203">Obnovení</span><span class="sxs-lookup"><span data-stu-id="b1e08-203">Recovery</span></span> |<span data-ttu-id="b1e08-204">Obnovení Simple (bez odolnosti)</span><span class="sxs-lookup"><span data-stu-id="b1e08-204">Simple recovery (no resiliency)</span></span> |
| <span data-ttu-id="b1e08-205">Počet sloupců</span><span class="sxs-lookup"><span data-stu-id="b1e08-205">Number of columns</span></span> |<span data-ttu-id="b1e08-206">Počet datových disků<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="b1e08-206">Number of data disks<sup>1</sup></span></span> |
| <span data-ttu-id="b1e08-207">Umístění databáze TempDB</span><span class="sxs-lookup"><span data-stu-id="b1e08-207">TempDB location</span></span> |<span data-ttu-id="b1e08-208">Uložené na datové disky<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="b1e08-208">Stored on data disks<sup>2</sup></span></span> |

<span data-ttu-id="b1e08-209"><sup>1</sup> po vytvoření fondu úložiště nelze změnit počet sloupců ve fondu úložiště.</span><span class="sxs-lookup"><span data-stu-id="b1e08-209"><sup>1</sup> After the storage pool is created, you cannot alter the number of columns in the storage pool.</span></span>

<span data-ttu-id="b1e08-210"><sup>2</sup> toto nastavení platí jenom pro první disk můžete vytvořit pomocí funkce Konfigurace úložiště.</span><span class="sxs-lookup"><span data-stu-id="b1e08-210"><sup>2</sup> This setting only applies to the first drive you create using the storage configuration feature.</span></span>

## <a name="workload-optimization-settings"></a><span data-ttu-id="b1e08-211">Nastavení úloh optimalizace</span><span class="sxs-lookup"><span data-stu-id="b1e08-211">Workload optimization settings</span></span>
<span data-ttu-id="b1e08-212">Následující tabulka popisuje možnosti Typ tři úlohy dostupné a jejich odpovídající optimalizace:</span><span class="sxs-lookup"><span data-stu-id="b1e08-212">The following table describes the three workload type options available and their corresponding optimizations:</span></span>

| <span data-ttu-id="b1e08-213">Typ úlohy</span><span class="sxs-lookup"><span data-stu-id="b1e08-213">Workload type</span></span> | <span data-ttu-id="b1e08-214">Popis</span><span class="sxs-lookup"><span data-stu-id="b1e08-214">Description</span></span> | <span data-ttu-id="b1e08-215">Optimalizace</span><span class="sxs-lookup"><span data-stu-id="b1e08-215">Optimizations</span></span> |
| --- | --- | --- |
| <span data-ttu-id="b1e08-216">**Obecné**</span><span class="sxs-lookup"><span data-stu-id="b1e08-216">**General**</span></span> |<span data-ttu-id="b1e08-217">Výchozí nastavení, která podporuje většinu úloh</span><span class="sxs-lookup"><span data-stu-id="b1e08-217">Default setting that supports most workloads</span></span> |<span data-ttu-id="b1e08-218">Žádný</span><span class="sxs-lookup"><span data-stu-id="b1e08-218">None</span></span> |
| <span data-ttu-id="b1e08-219">**Zpracování transakcí**</span><span class="sxs-lookup"><span data-stu-id="b1e08-219">**Transactional processing**</span></span> |<span data-ttu-id="b1e08-220">Optimalizuje úložiště pro standardní úlohy databází OLTP</span><span class="sxs-lookup"><span data-stu-id="b1e08-220">Optimizes the storage for traditional database OLTP workloads</span></span> |<span data-ttu-id="b1e08-221">Příznak trasování. 1117</span><span class="sxs-lookup"><span data-stu-id="b1e08-221">Trace Flag 1117</span></span><br/><span data-ttu-id="b1e08-222">Příznak trasování 1118</span><span class="sxs-lookup"><span data-stu-id="b1e08-222">Trace Flag 1118</span></span> |
| <span data-ttu-id="b1e08-223">**Datového skladu**</span><span class="sxs-lookup"><span data-stu-id="b1e08-223">**Data warehousing**</span></span> |<span data-ttu-id="b1e08-224">Optimalizuje úložiště pro úlohy analýz a generování sestav</span><span class="sxs-lookup"><span data-stu-id="b1e08-224">Optimizes the storage for analytic and reporting workloads</span></span> |<span data-ttu-id="b1e08-225">Příznak trasování 610</span><span class="sxs-lookup"><span data-stu-id="b1e08-225">Trace Flag 610</span></span><br/><span data-ttu-id="b1e08-226">Příznak trasování. 1117</span><span class="sxs-lookup"><span data-stu-id="b1e08-226">Trace Flag 1117</span></span> |

> [!NOTE]
> <span data-ttu-id="b1e08-227">Typ úlohy lze zadat pouze při zřizování virtuálního počítače systému SQL tak, že ji vyberete v kroku konfigurace úložiště.</span><span class="sxs-lookup"><span data-stu-id="b1e08-227">You can only specify the workload type when you provision a SQL virtual machine by selecting it in the storage configuration step.</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="b1e08-228">Další kroky</span><span class="sxs-lookup"><span data-stu-id="b1e08-228">Next steps</span></span>
<span data-ttu-id="b1e08-229">Další témata související se systémem SQL Server ve virtuálních počítačích Azure, najdete v části [systému SQL Server na virtuálních počítačích Azure](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b1e08-229">For other topics related to running SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
