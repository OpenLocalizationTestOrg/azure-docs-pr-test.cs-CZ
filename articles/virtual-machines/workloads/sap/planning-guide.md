---
title: "Azure virtuálních počítačů, plánování a implementace pro SAP NetWeaver | Microsoft Docs"
description: "Azure virtuálních počítačů, plánování a implementace pro SAP NetWeaver"
services: virtual-machines-linux,virtual-machines-windows
documentationcenter: 
author: MSSedusch
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: d7c59cc1-b2d0-4d90-9126-628f9c7a5538
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 11/08/2016
ms.author: sedusch
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 17b2277de7df2ce534896c73bc9a682b9e72196f
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="azure-virtual-machines-planning-and-implementation-for-sap-netweaver"></a><span data-ttu-id="55a46-103">Azure virtuálních počítačů, plánování a implementace pro SAP NetWeaver</span><span class="sxs-lookup"><span data-stu-id="55a46-103">Azure Virtual Machines planning and implementation for SAP NetWeaver</span></span>
[767598]:https://launchpad.support.sap.com/#/notes/767598
[773830]:https://launchpad.support.sap.com/#/notes/773830
[826037]:https://launchpad.support.sap.com/#/notes/826037
[965908]:https://launchpad.support.sap.com/#/notes/965908
[1031096]:https://launchpad.support.sap.com/#/notes/1031096
[1139904]:https://launchpad.support.sap.com/#/notes/1139904
[1173395]:https://launchpad.support.sap.com/#/notes/1173395
[1245200]:https://launchpad.support.sap.com/#/notes/1245200
[1409604]:https://launchpad.support.sap.com/#/notes/1409604
[1558958]:https://launchpad.support.sap.com/#/notes/1558958
[1585981]:https://launchpad.support.sap.com/#/notes/1585981
[1588316]:https://launchpad.support.sap.com/#/notes/1588316
[1590719]:https://launchpad.support.sap.com/#/notes/1590719
[1597355]:https://launchpad.support.sap.com/#/notes/1597355
[1605680]:https://launchpad.support.sap.com/#/notes/1605680
[1619720]:https://launchpad.support.sap.com/#/notes/1619720
[1619726]:https://launchpad.support.sap.com/#/notes/1619726
[1619967]:https://launchpad.support.sap.com/#/notes/1619967
[1750510]:https://launchpad.support.sap.com/#/notes/1750510
[1752266]:https://launchpad.support.sap.com/#/notes/1752266
[1757924]:https://launchpad.support.sap.com/#/notes/1757924
[1757928]:https://launchpad.support.sap.com/#/notes/1757928
[1758182]:https://launchpad.support.sap.com/#/notes/1758182
[1758496]:https://launchpad.support.sap.com/#/notes/1758496
[1772688]:https://launchpad.support.sap.com/#/notes/1772688
[1814258]:https://launchpad.support.sap.com/#/notes/1814258
[1882376]:https://launchpad.support.sap.com/#/notes/1882376
[1909114]:https://launchpad.support.sap.com/#/notes/1909114
[1922555]:https://launchpad.support.sap.com/#/notes/1922555
[1928533]:https://launchpad.support.sap.com/#/notes/1928533
[1941500]:https://launchpad.support.sap.com/#/notes/1941500
[1956005]:https://launchpad.support.sap.com/#/notes/1956005
[1973241]:https://launchpad.support.sap.com/#/notes/1973241
[1984787]:https://launchpad.support.sap.com/#/notes/1984787
[1999351]:https://launchpad.support.sap.com/#/notes/1999351
[2002167]:https://launchpad.support.sap.com/#/notes/2002167
[2015553]:https://launchpad.support.sap.com/#/notes/2015553
[2039619]:https://launchpad.support.sap.com/#/notes/2039619
[2069760]:https://launchpad.support.sap.com/#/notes/2069760
[2121797]:https://launchpad.support.sap.com/#/notes/2121797
[2134316]:https://launchpad.support.sap.com/#/notes/2134316
[2178632]:https://launchpad.support.sap.com/#/notes/2178632
[2191498]:https://launchpad.support.sap.com/#/notes/2191498
[2233094]:https://launchpad.support.sap.com/#/notes/2233094
[2243692]:https://launchpad.support.sap.com/#/notes/2243692

[azure-cli]:../../../cli-install-nodejs.md
[azure-portal]:https://portal.azure.com
[azure-ps]:/powershell/azureps-cmdlets-docs
[azure-quickstart-templates-github]:https://github.com/Azure/azure-quickstart-templates
[azure-script-ps]:https://go.microsoft.com/fwlink/p/?LinkID=395017
[azure-subscription-service-limits]:../../../azure-subscription-service-limits.md
[azure-subscription-service-limits-subscription]:../../../azure-subscription-service-limits.md#subscription-limits

[dbms-guide]:dbms-guide.md
[dbms-guide-2.1]:dbms-guide.md#c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f
[dbms-guide-2.2]:dbms-guide.md#c8e566f9-21b7-4457-9f7f-126036971a91
[dbms-guide-2.3]:dbms-guide.md#10b041ef-c177-498a-93ed-44b3441ab152
[dbms-guide-2]:dbms-guide.md#65fa79d6-a85f-47ee-890b-22e794f51a64
[dbms-guide-3]:dbms-guide.md#871dfc27-e509-4222-9370-ab1de77021c3
[dbms-guide-5.5.1]:dbms-guide.md#0fef0e79-d3fe-4ae2-85af-73666a6f7268
[dbms-guide-5.5.2]:dbms-guide.md#f9071eff-9d72-4f47-9da4-1852d782087b
[dbms-guide-5.6]:dbms-guide.md#1b353e38-21b3-4310-aeb6-a77e7c8e81c8
[dbms-guide-5.8]:dbms-guide.md#9053f720-6f3b-4483-904d-15dc54141e30
[dbms-guide-5]:dbms-guide.md#3264829e-075e-4d25-966e-a49dad878737
[dbms-guide-8.4.1]:dbms-guide.md#b48cfe3b-48e9-4f5b-a783-1d29155bd573
[dbms-guide-8.4.2]:dbms-guide.md#23c78d3b-ca5a-4e72-8a24-645d141a3f5d
[dbms-guide-8.4.3]:dbms-guide.md#77cd2fbb-307e-4cbf-a65f-745553f72d2c
[dbms-guide-8.4.4]:dbms-guide.md#f77c1436-9ad8-44fb-a331-8671342de818
[dbms-guide-900-sap-cache-server-on-premises]:dbms-guide.md#642f746c-e4d4-489d-bf63-73e80177a0a8

[dbms-guide-figure-100]:media/virtual-machines-shared-sap-dbms-guide/100_storage_account_types.png
[dbms-guide-figure-200]:media/virtual-machines-shared-sap-dbms-guide/200-ha-set-for-dbms-ha.png
[dbms-guide-figure-300]:media/virtual-machines-shared-sap-dbms-guide/300-reference-config-iaas.png
[dbms-guide-figure-400]:media/virtual-machines-shared-sap-dbms-guide/400-sql-2012-backup-to-blob-storage.png
[dbms-guide-figure-500]:media/virtual-machines-shared-sap-dbms-guide/500-sql-2012-backup-to-blob-storage-different-containers.png
[dbms-guide-figure-600]:media/virtual-machines-shared-sap-dbms-guide/600-iaas-maxdb.png
[dbms-guide-figure-700]:media/virtual-machines-shared-sap-dbms-guide/700-livecach-prod.png
[dbms-guide-figure-800]:media/virtual-machines-shared-sap-dbms-guide/800-azure-vm-sap-content-server.png
[dbms-guide-figure-900]:media/virtual-machines-shared-sap-dbms-guide/900-sap-cache-server-on-premises.png

[deployment-guide]:deployment-guide.md
[deployment-guide-2.2]:deployment-guide.md#42ee2bdb-1efc-4ec7-ab31-fe4c22769b94
[deployment-guide-3.1.2]:deployment-guide.md#3688666f-281f-425b-a312-a77e7db2dfab
[deployment-guide-3.2]:deployment-guide.md#db477013-9060-4602-9ad4-b0316f8bb281
[deployment-guide-3.3]:deployment-guide.md#54a1fc6d-24fd-4feb-9c57-ac588a55dff2
[deployment-guide-3.4]:deployment-guide.md#a9a60133-a763-4de8-8986-ac0fa33aa8c1
[deployment-guide-3]:deployment-guide.md#b3253ee3-d63b-4d74-a49b-185e76c4088e
[deployment-guide-4.1]:deployment-guide.md#604bcec2-8b6e-48d2-a944-61b0f5dee2f7
[deployment-guide-4.2]:deployment-guide.md#7ccf6c3e-97ae-4a7a-9c75-e82c37beb18e
[deployment-guide-4.3]:deployment-guide.md#31d9ecd6-b136-4c73-b61e-da4a29bbc9cc
[deployment-guide-4.4.2]:deployment-guide.md#6889ff12-eaaf-4f3c-97e1-7c9edc7f7542
[deployment-guide-4.4]:deployment-guide.md#c7cbb0dc-52a4-49db-8e03-83e7edc2927d
[deployment-guide-4.5.1]:deployment-guide.md#987cf279-d713-4b4c-8143-6b11589bb9d4
[deployment-guide-4.5.2]:deployment-guide.md#408f3779-f422-4413-82f8-c57a23b4fc2f
[deployment-guide-4.5]:deployment-guide.md#d98edcd3-f2a1-49f7-b26a-07448ceb60ca
[deployment-guide-5.1]:deployment-guide.md#bb61ce92-8c5c-461f-8c53-39f5e5ed91f2
[deployment-guide-5.2]:deployment-guide.md#e2d592ff-b4ea-4a53-a91a-e5521edb6cd1
[deployment-guide-5.3]:deployment-guide.md#fe25a7da-4e4e-4388-8907-8abc2d33cfd8

[deployment-guide-configure-monitoring-scenario-1]:deployment-guide.md#ec323ac3-1de9-4c3a-b770-4ff701def65b
[deployment-guide-configure-proxy]:deployment-guide.md#baccae00-6f79-4307-ade4-40292ce4e02d
[deployment-guide-figure-100]:media/virtual-machines-shared-sap-deployment-guide/100-deploy-vm-image.png
[deployment-guide-figure-1000]:media/virtual-machines-shared-sap-deployment-guide/1000-service-properties.png
[deployment-guide-figure-11]:deployment-guide.md#figure-11
[deployment-guide-figure-1100]:media/virtual-machines-shared-sap-deployment-guide/1100-azperflib.png
[deployment-guide-figure-1200]:media/virtual-machines-shared-sap-deployment-guide/1200-cmd-test-login.png
[deployment-guide-figure-1300]:media/virtual-machines-shared-sap-deployment-guide/1300-cmd-test-executed.png
[deployment-guide-figure-14]:deployment-guide.md#figure-14
[deployment-guide-figure-1400]:media/virtual-machines-shared-sap-deployment-guide/1400-azperflib-error-servicenotstarted.png
[deployment-guide-figure-300]:media/virtual-machines-shared-sap-deployment-guide/300-deploy-private-image.png
[deployment-guide-figure-400]:media/virtual-machines-shared-sap-deployment-guide/400-deploy-using-disk.png
[deployment-guide-figure-5]:deployment-guide.md#figure-5
[deployment-guide-figure-50]:media/virtual-machines-shared-sap-deployment-guide/50-forced-tunneling-suse.png
[deployment-guide-figure-500]:media/virtual-machines-shared-sap-deployment-guide/500-install-powershell.png
[deployment-guide-figure-6]:deployment-guide.md#figure-6
[deployment-guide-figure-600]:media/virtual-machines-shared-sap-deployment-guide/600-powershell-version.png
[deployment-guide-figure-7]:deployment-guide.md#figure-7
[deployment-guide-figure-700]:media/virtual-machines-shared-sap-deployment-guide/700-install-powershell-installed.png
[deployment-guide-figure-760]:media/virtual-machines-shared-sap-deployment-guide/760-azure-cli-version.png
[deployment-guide-figure-900]:media/virtual-machines-shared-sap-deployment-guide/900-cmd-update-executed.png
[deployment-guide-figure-azure-cli-installed]:deployment-guide.md#402488e5-f9bb-4b29-8063-1c5f52a892d0
[deployment-guide-figure-azure-cli-version]:deployment-guide.md#0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda
[deployment-guide-install-vm-agent-windows]:deployment-guide.md#b2db5c9a-a076-42c6-9835-16945868e866
[deployment-guide-troubleshooting-chapter]:deployment-guide.md#564adb4f-5c95-4041-9616-6635e83a810b

[deploy-template-cli]:../../../resource-group-template-deploy-cli.md
[deploy-template-portal]:../../../resource-group-template-deploy-portal.md
[deploy-template-powershell]:../../../resource-group-template-deploy.md

[dr-guide-classic]:http://go.microsoft.com/fwlink/?LinkID=521971

[getting-started]:get-started.md
[getting-started-dbms]:get-started.md#1343ffe1-8021-4ce6-a08d-3a1553a4db82
[getting-started-deployment]:get-started.md#6aadadd2-76b5-46d8-8713-e8d63630e955
[getting-started-planning]:get-started.md#3da0389e-708b-4e82-b2a2-e92f132df89c

[getting-started-windows-classic]:../../virtual-machines-windows-classic-sap-get-started.md
[getting-started-windows-classic-dbms]:../../virtual-machines-windows-classic-sap-get-started.md#c5b77a14-f6b4-44e9-acab-4d28ff72a930
[getting-started-windows-classic-deployment]:../../virtual-machines-windows-classic-sap-get-started.md#f84ea6ce-bbb4-41f7-9965-34d31b0098ea
[getting-started-windows-classic-dr]:../../virtual-machines-windows-classic-sap-get-started.md#cff10b4a-01a5-4dc3-94b6-afb8e55757d3
[getting-started-windows-classic-ha-sios]:../../virtual-machines-windows-classic-sap-get-started.md#4bb7512c-0fa0-4227-9853-4004281b1037
[getting-started-windows-classic-planning]:../../virtual-machines-windows-classic-sap-get-started.md#f2a5e9d8-49e4-419e-9900-af783173481c

[ha-guide-classic]:http://go.microsoft.com/fwlink/?LinkId=613056

[install-extension-cli]:virtual-machines-linux-enable-aem.md

[Logo_Linux]:media/virtual-machines-shared-sap-shared/Linux.png
[Logo_Windows]:media/virtual-machines-shared-sap-shared/Windows.png

[msdn-set-azurermvmaemextension]:https://msdn.microsoft.com/library/azure/mt670598.aspx

[planning-guide]:planning-guide.md  
[planning-guide-1.2]:planning-guide.md#e55d1e22-c2c8-460b-9897-64622a34fdff
[planning-guide-11]:planning-guide.md#7cf991a1-badd-40a9-944e-7baae842a058
[planning-guide-11.4.1]:planning-guide.md#5d9d36f9-9058-435d-8367-5ad05f00de77
[planning-guide-11.5]:planning-guide.md#4e165b58-74ca-474f-a7f4-5e695a93204f
[planning-guide-2.1]:planning-guide.md#1625df66-4cc6-4d60-9202-de8a0b77f803
[planning-guide-2.2]:planning-guide.md#f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10
[planning-guide-3.1]:planning-guide.md#be80d1b9-a463-4845-bd35-f4cebdb5424a
[planning-guide-3.2.1]:planning-guide.md#df49dc09-141b-4f34-a4a2-990913b30358
[planning-guide-3.2.2]:planning-guide.md#fc1ac8b2-e54a-487c-8581-d3cc6625e560
[planning-guide-3.2.3]:planning-guide.md#18810088-f9be-4c97-958a-27996255c665
[planning-guide-3.2]:planning-guide.md#8d8ad4b8-6093-4b91-ac36-ea56d80dbf77
[planning-guide-3.3.2]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92
[planning-guide-5.1.1]:planning-guide.md#4d175f1b-7353-4137-9d2f-817683c26e53
[planning-guide-5.1.2]:planning-guide.md#e18f7839-c0e2-4385-b1e6-4538453a285c
[planning-guide-5.2.1]:planning-guide.md#1b287330-944b-495d-9ea7-94b83aff73ef
[planning-guide-5.2.2]:planning-guide.md#57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3
[planning-guide-5.2]:planning-guide.md#6ffb9f41-a292-40bf-9e70-8204448559e7
[planning-guide-5.3.1]:planning-guide.md#6e835de8-40b1-4b71-9f18-d45b20959b79
[planning-guide-5.3.2]:planning-guide.md#a43e40e6-1acc-4633-9816-8f095d5a7b6a
[planning-guide-5.4.2]:planning-guide.md#9789b076-2011-4afa-b2fe-b07a8aba58a1
[planning-guide-5.5.1]:planning-guide.md#4efec401-91e0-40c0-8e64-f2dceadff646
[planning-guide-5.5.3]:planning-guide.md#17e0d543-7e8c-4160-a7da-dd7117a1ad9d
[planning-guide-7.1]:planning-guide.md#3e9c3690-da67-421a-bc3f-12c520d99a30
[planning-guide-7]:planning-guide.md#96a77628-a05e-475d-9df3-fb82217e8f14
[planning-guide-9.1]:planning-guide.md#6f0a47f3-a289-4090-a053-2521618a28c3
[planning-guide-azure-premium-storage]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92

[planning-guide-figure-100]:media/virtual-machines-shared-sap-planning-guide/100-single-vm-in-azure.png
[planning-guide-figure-1300]:media/virtual-machines-shared-sap-planning-guide/1300-ref-config-iaas-for-sap.png
[planning-guide-figure-1400]:media/virtual-machines-shared-sap-planning-guide/1400-attach-detach-disks.png
[planning-guide-figure-1600]:media/virtual-machines-shared-sap-planning-guide/1600-firewall-port-rule.png
[planning-guide-figure-1700]:media/virtual-machines-shared-sap-planning-guide/1700-single-vm-demo.png
[planning-guide-figure-1900]:media/virtual-machines-shared-sap-planning-guide/1900-vm-set-vnet.png
[planning-guide-figure-200]:media/virtual-machines-shared-sap-planning-guide/200-multiple-vms-in-azure.png
[planning-guide-figure-2100]:media/virtual-machines-shared-sap-planning-guide/2100-s2s.png
[planning-guide-figure-2200]:media/virtual-machines-shared-sap-planning-guide/2200-network-printing.png
[planning-guide-figure-2300]:media/virtual-machines-shared-sap-planning-guide/2300-sapgui-stms.png
[planning-guide-figure-2400]:media/virtual-machines-shared-sap-planning-guide/2400-vm-extension-overview.png
[planning-guide-figure-2500]:media/virtual-machines-shared-sap-planning-guide/planning-monitoring-overview-2502.png
[planning-guide-figure-2600]:media/virtual-machines-shared-sap-planning-guide/2600-sap-router-connection.png
[planning-guide-figure-2700]:media/virtual-machines-shared-sap-planning-guide/2700-exposed-sap-portal.png
[planning-guide-figure-2800]:media/virtual-machines-shared-sap-planning-guide/2800-endpoint-config.png
[planning-guide-figure-2900]:media/virtual-machines-shared-sap-planning-guide/2900-azure-ha-sap-ha.png
[planning-guide-figure-2901]:media/virtual-machines-shared-sap-planning-guide/2901-azure-ha-sap-ha-md.png
[planning-guide-figure-300]:media/virtual-machines-shared-sap-planning-guide/300-vpn-s2s.png
[planning-guide-figure-3000]:media/virtual-machines-shared-sap-planning-guide/3000-sap-ha-on-azure.png
[planning-guide-figure-3200]:media/virtual-machines-shared-sap-planning-guide/3200-sap-ha-with-sql.png
[planning-guide-figure-3201]:media/virtual-machines-shared-sap-planning-guide/3201-sap-ha-with-sql-md.png
[planning-guide-figure-400]:media/virtual-machines-shared-sap-planning-guide/400-vm-services.png
[planning-guide-figure-600]:media/virtual-machines-shared-sap-planning-guide/600-s2s-details.png
[planning-guide-figure-700]:media/virtual-machines-shared-sap-planning-guide/700-decision-tree-deploy-to-azure.png
[planning-guide-figure-800]:media/virtual-machines-shared-sap-planning-guide/800-portal-vm-overview.png
[planning-guide-microsoft-azure-networking]:planning-guide.md#61678387-8868-435d-9f8c-450b2424f5bd
[planning-guide-storage-microsoft-azure-storage-and-data-disks]:planning-guide.md#a72afa26-4bf4-4a25-8cf7-855d6032157f

[powershell-install-configure]:https://docs.microsoft.com/powershell/azure/install-azurerm-ps
[resource-group-authoring-templates]:../../../resource-group-authoring-templates.md
[resource-group-overview]:../../../azure-resource-manager/resource-group-overview.md
[resource-groups-networking]:../../../virtual-network/resource-groups-networking.md
[sap-pam]:https://support.sap.com/pam
[sap-templates-2-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-2-tier-os-disk]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-disk%2Fazuredeploy.json
[sap-templates-2-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-image%2Fazuredeploy.json
[sap-templates-3-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-3-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-user-image%2Fazuredeploy.json
[storage-azure-cli]:../../../storage/common/storage-azure-cli.md
[storage-azure-cli-copy-blobs]:../../../storage/common/storage-azure-cli.md#copy-blobs
[storage-introduction]:../../../storage/common/storage-introduction.md
[storage-powershell-guide-full-copy-vhd]:../../../storage/common/storage-powershell-guide-full.md#how-to-copy-blobs-from-one-storage-container-to-another
[storage-premium-storage-preview-portal]:../../../storage/common/storage-premium-storage.md
[storage-redundancy]:../../../storage/common/storage-redundancy.md
[storage-scalability-targets]:../../../storage/common/storage-scalability-targets.md
[storage-use-azcopy]:../../../storage/common/storage-use-azcopy.md
[template-201-vm-from-specialized-vhd]:https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-from-specialized-vhd
[templates-101-simple-windows-vm]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-simple-windows-vm
[templates-101-vm-from-user-image]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image
[virtual-machines-linux-attach-disk-portal]:../../linux/attach-disk-portal.md
[virtual-machines-azure-resource-manager-architecture]:../../../resource-manager-deployment-model.md
[virtual-machines-azurerm-versus-azuresm]:virtual-machines-linux-compare-deployment-models.md
[virtual-machines-windows-classic-configure-oracle-data-guard]:../../virtual-machines-windows-classic-configure-oracle-data-guard.md
[virtual-machines-linux-cli-deploy-templates]:../../linux/cli-deploy-templates.md
[virtual-machines-deploy-rmtemplates-powershell]:../../virtual-machines-windows-ps-manage.md
[virtual-machines-linux-agent-user-guide]:../../linux/agent-user-guide.md
[virtual-machines-linux-agent-user-guide-command-line-options]:../../linux/agent-user-guide.md#command-line-options
[virtual-machines-linux-capture-image]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager-capture]:../../linux/capture-image.md#step-2-capture-the-vm
[virtual-machines-windows-capture-image-resource-manager]:../../windows/capture-image.md
[virtual-machines-windows-capture-image]:../../virtual-machines-windows-generalize-vhd.md
[virtual-machines-windows-capture-image-prepare-the-vm-for-image-capture]:../../virtual-machines-windows-generalize-vhd.md
[virtual-machines-linux-configure-raid]:../../linux/configure-raid.md
[virtual-machines-linux-configure-lvm]:../../linux/configure-lvm.md
[virtual-machines-linux-classic-create-upload-vhd-step-1]:../../virtual-machines-linux-classic-create-upload-vhd.md#step-1-prepare-the-image-to-be-uploaded
[virtual-machines-linux-create-upload-vhd-suse]:../../linux/suse-create-upload-vhd.md
[virtual-machines-linux-create-upload-vhd-oracle]:../../linux/oracle-create-upload-vhd.md
[virtual-machines-linux-redhat-create-upload-vhd]:../../linux/redhat-create-upload-vhd.md
[virtual-machines-linux-how-to-attach-disk]:../../linux/add-disk.md
[virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]:../../linux/add-disk.md#connect-to-the-linux-vm-to-mount-the-new-disk
[virtual-machines-linux-tutorial]:../../linux/quick-create-cli.md
[virtual-machines-linux-update-agent]:../../linux/update-agent.md
[virtual-machines-manage-availability]:../../linux/manage-availability.md
[virtual-machines-ps-create-preconfigure-windows-resource-manager-vms]:virtual-machines-windows-create-powershell.md
[virtual-machines-sizes-linux]:../../linux/sizes.md
[virtual-machines-sizes-windows]:../../windows/sizes.md
[virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-alwayson-availability-groups.md
[virtual-machines-windows-classic-ps-sql-int-listener]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-int-listener.md
[virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]:./../../windows/sql/virtual-machines-windows-sql-high-availability-dr.md
[virtual-machines-sql-server-infrastructure-services]:./../../windows/sql/virtual-machines-windows-sql-server-iaas-overview.md
[virtual-machines-sql-server-performance-best-practices]:./../../windows/sql/virtual-machines-windows-sql-performance.md
[virtual-machines-upload-image-windows-resource-manager]:../../virtual-machines-windows-upload-image.md
[virtual-machines-windows-tutorial]:../../virtual-machines-windows-hero-tutorial.md
[virtual-machines-workload-template-sql-alwayson]:https://azure.microsoft.com/documentation/templates/sql-server-2014-alwayson-dsc/
[virtual-network-deploy-multinic-arm-cli]:../../../virtual-network/virtual-network-deploy-multinic-arm-cli.md
[virtual-network-deploy-multinic-arm-ps]:../../../virtual-network/virtual-network-deploy-multinic-arm-ps.md
[virtual-network-deploy-multinic-arm-template]:../../../virtual-network/virtual-network-deploy-multinic-arm-template.md
[virtual-networks-configure-vnet-to-vnet-connection]:../../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md
[virtual-networks-create-vnet-arm-pportal]:../../../virtual-network/virtual-networks-create-vnet-arm-pportal.md
[virtual-networks-manage-dns-in-vnet]:../../../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md
[virtual-networks-multiple-nics-windows]:../../windows/multiple-nics.md
[virtual-networks-multiple-nics-linux]:../../linux/multiple-nics.md
[virtual-networks-nsg]:../../../virtual-network/virtual-networks-nsg.md
[virtual-networks-reserved-private-ip]:../../../virtual-network/virtual-networks-static-private-ip-arm-ps.md
[virtual-networks-static-private-ip-arm-pportal]:../../../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[virtual-networks-udr-overview]:../../../virtual-network/virtual-networks-udr-overview.md
[vpn-gateway-about-vpn-devices]:../../../vpn-gateway/vpn-gateway-about-vpn-devices.md
[vpn-gateway-create-site-to-site-rm-powershell]:../../../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md
[vpn-gateway-cross-premises-options]:../../../vpn-gateway/vpn-gateway-plan-design.md
[vpn-gateway-site-to-site-create]:../../../vpn-gateway/vpn-gateway-site-to-site-create.md
[vpn-gateway-vpn-faq]:../../../vpn-gateway/vpn-gateway-vpn-faq.md
[xplat-cli]:../../../cli-install-nodejs.md
[xplat-cli-azure-resource-manager]:../../../xplat-cli-azure-resource-manager.md
[capture-image-linux-step-2-create-vm-image]:../../linux/capture-image.md#step-2-create-vm-image

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

<span data-ttu-id="55a46-117">Microsoft Azure umožňuje společnostem získat výpočetní a úložnou kapacitu v minimálním čase bez zdlouhavé nákup cykly.</span><span class="sxs-lookup"><span data-stu-id="55a46-117">Microsoft Azure enables companies to acquire compute and storage resources in minimal time without lengthy procurement cycles.</span></span> <span data-ttu-id="55a46-118">Virtuální počítače Azure umožňují společnostem klasického aplikace, můžete nasadit jako SAP NetWeaver na základě aplikace do Azure a rozšířit jejich spolehlivosti a dostupnosti bez nutnosti další prostředky k dispozici místně.</span><span class="sxs-lookup"><span data-stu-id="55a46-118">Azure Virtual Machines allow companies to deploy classical applications, like SAP NetWeaver based applications into Azure and extend their reliability and availability without having further resources available on-premises.</span></span> <span data-ttu-id="55a46-119">Služby virtuálního počítače Azure také podporuje připojení mezi různými místy, která umožňuje společnostem aktivně integrovat virtuálních počítačích Azure do místní domény, jejich privátních Cloudů a jejich šířku systému SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-119">Azure Virtual Machine Services also supports cross-premises connectivity, which enables companies to actively integrate Azure Virtual Machines into their on-premises domains, their Private Clouds and their SAP System Landscape.</span></span>
<span data-ttu-id="55a46-120">Tento dokument popisuje základní informace o virtuálním počítači Microsoft Azure a poskytuje návod aspekty plánování a implementace pro SAP NetWeaver instalace v Azure a jako takový musí být dokument k načtení před zahájením skutečné nasazení SAP NetWeaver v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-120">This white paper describes the fundamentals of Microsoft Azure Virtual Machine and provides a walk-through of planning and implementation considerations for SAP NetWeaver installations in Azure and as such should be the document to read before starting actual deployments of SAP NetWeaver on Azure.</span></span>
<span data-ttu-id="55a46-121">Dokumentu doplňuje SAP instalace dokumentace a poznámky k SAP, které představují primární prostředky pro instalace a nasazení SAP softwaru na dané platformy.</span><span class="sxs-lookup"><span data-stu-id="55a46-121">The paper complements the SAP Installation Documentation and SAP Notes, which represent the primary resources for installations and deployments of SAP software on given platforms.</span></span>

## <a name="summary"></a><span data-ttu-id="55a46-122">Souhrn</span><span class="sxs-lookup"><span data-stu-id="55a46-122">Summary</span></span>
<span data-ttu-id="55a46-123">Cloud Computing je často používaný výrazu, který je získání více důležitost v IT odvětví, z malých společností až velkých a mezinárodních společnosti.</span><span class="sxs-lookup"><span data-stu-id="55a46-123">Cloud Computing is a widely used term, which is gaining more and more importance within the IT industry, from small companies up to large and multinational corporations.</span></span>

<span data-ttu-id="55a46-124">Microsoft Azure je Cloudová platforma služby společnosti Microsoft, který nabízí široké spektrum nové možnosti.</span><span class="sxs-lookup"><span data-stu-id="55a46-124">Microsoft Azure is the Cloud Services Platform from Microsoft, which offers a wide spectrum of new possibilities.</span></span> <span data-ttu-id="55a46-125">Nyní zákazníci mohou rychle zřizovat a deaktivace zřízení aplikace jako službu v cloudu, takže nejsou omezeny na technické nebo rozpočet omezení.</span><span class="sxs-lookup"><span data-stu-id="55a46-125">Now customers are able to rapidly provision and de-provision applications as a service in the cloud, so they are not limited to technical or budgeting restrictions.</span></span> <span data-ttu-id="55a46-126">Společnosti můžete místo času a investovat do hardwaru infrastruktury, soustředit na aplikace, podnikové procesy a jeho výhody pro zákazníky a uživatele.</span><span class="sxs-lookup"><span data-stu-id="55a46-126">Instead of investing time and budget into hardware infrastructure, companies can focus on the application, business processes, and its benefits for customers and users.</span></span>

<span data-ttu-id="55a46-127">Pomocí služeb Microsoft Azure pro virtuální počítače nabízí společnost Microsoft komplexní platformu infrastruktury jako služby (IaaS).</span><span class="sxs-lookup"><span data-stu-id="55a46-127">With Microsoft Azure Virtual Machine Services, Microsoft offers a comprehensive Infrastructure as a Service (IaaS) platform.</span></span> <span data-ttu-id="55a46-128">Služba Azure Virtual Machines teď v rámci IaaS podporuje aplikace využívající SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="55a46-128">SAP NetWeaver based applications are supported on Azure Virtual Machines (IaaS).</span></span> <span data-ttu-id="55a46-129">Tento dokument White Paper popisuje, jak naplánovat a implementovat SAP NetWeaver na základě aplikací v rámci Microsoft Azure jako platformu výběru.</span><span class="sxs-lookup"><span data-stu-id="55a46-129">This whitepaper describes how to plan and implement SAP NetWeaver based applications within Microsoft Azure as the platform of choice.</span></span>

<span data-ttu-id="55a46-130">Dokument, samotné se zaměřuje na dvě hlavní aspekty:</span><span class="sxs-lookup"><span data-stu-id="55a46-130">The paper itself focuses on two main aspects:</span></span>

* <span data-ttu-id="55a46-131">První část popisuje dva vzory podporované nasazení SAP NetWeaver na základě aplikací na platformě Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-131">The first part describes two supported deployment patterns for SAP NetWeaver based applications on Azure.</span></span> <span data-ttu-id="55a46-132">Také popisuje obecné zpracování Azure s nasazení SAP v paměti.</span><span class="sxs-lookup"><span data-stu-id="55a46-132">It also describes general handling of Azure with SAP deployments in mind.</span></span>
* <span data-ttu-id="55a46-133">Druhá část Podrobnosti implementace dva různé scénáře, které jsou popsané v první části.</span><span class="sxs-lookup"><span data-stu-id="55a46-133">The second part details implementing the two different scenarios described in the first part.</span></span>

<span data-ttu-id="55a46-134">Další zdroje naleznete v kapitole [prostředky] [ planning-guide-1.2] v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-134">For additional resources see chapter [Resources][planning-guide-1.2] in this document.</span></span>

### <a name="definitions-upfront"></a><span data-ttu-id="55a46-135">Definice předem</span><span class="sxs-lookup"><span data-stu-id="55a46-135">Definitions upfront</span></span>
<span data-ttu-id="55a46-136">V dokumentu můžeme použít následující podmínky:</span><span class="sxs-lookup"><span data-stu-id="55a46-136">Throughout the document, we use the following terms:</span></span>

* <span data-ttu-id="55a46-137">IaaS: Infrastruktury jako služby</span><span class="sxs-lookup"><span data-stu-id="55a46-137">IaaS: Infrastructure as a Service</span></span>
* <span data-ttu-id="55a46-138">PaaS: Platforma jako služba</span><span class="sxs-lookup"><span data-stu-id="55a46-138">PaaS: Platform as a Service</span></span>
* <span data-ttu-id="55a46-139">SaaS: Software jako služba</span><span class="sxs-lookup"><span data-stu-id="55a46-139">SaaS: Software as a Service</span></span>
* <span data-ttu-id="55a46-140">ARM: Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="55a46-140">ARM: Azure Resource Manager</span></span>
* <span data-ttu-id="55a46-141">Součást SAP: jednotlivých SAP aplikace například ECC, BW, správce řešení nebo podnikovém portálu.</span><span class="sxs-lookup"><span data-stu-id="55a46-141">SAP Component: an individual SAP application such as ECC, BW, Solution Manager, or EP.</span></span>  <span data-ttu-id="55a46-142">SAP součástí může být založen na tradičních technologií ABAP nebo Java nebo jiných NetWeaver na základě aplikaci, například obchodních objektů.</span><span class="sxs-lookup"><span data-stu-id="55a46-142">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span></span>
* <span data-ttu-id="55a46-143">Prostředí SAP: jeden nebo více součástí SAP logicky seskupeny provést obchodní funkce jako je například vývoj, QAS, školení, zotavení po Havárii nebo produkční.</span><span class="sxs-lookup"><span data-stu-id="55a46-143">SAP Environment: one or more SAP components logically grouped to perform a business function such as Development, QAS, Training, DR, or Production.</span></span>
* <span data-ttu-id="55a46-144">SAP na šířku: Vztahuje se k celé SAP prostředků v zákazníka na šířku IT.</span><span class="sxs-lookup"><span data-stu-id="55a46-144">SAP Landscape: This refers to the entire SAP assets in a customer’s IT landscape.</span></span> <span data-ttu-id="55a46-145">Na šířku SAP zahrnuje všechny produkční a mimo provozní prostředí.</span><span class="sxs-lookup"><span data-stu-id="55a46-145">The SAP landscape includes all production and non-production environments.</span></span>
* <span data-ttu-id="55a46-146">Systém SAP: Kombinace databázového systému vrstvu a aplikační vrstvu služby, například SAP ERP vývojového systému SAP BW testovací systém, produkční systému SAP CRM, atd...</span><span class="sxs-lookup"><span data-stu-id="55a46-146">SAP System: The combination of DBMS layer and application layer of, for example, an SAP ERP development system, SAP BW test system, SAP CRM production system, etc..</span></span> <span data-ttu-id="55a46-147">V nasazeních Azure není možné rozdělit tyto dvě vrstvy mezi místními a Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-147">In Azure deployments, it is not supported to divide these two layers between on-premises and Azure.</span></span> <span data-ttu-id="55a46-148">To znamená, že systému SAP buď je nasazena místně nebo je nasazené v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-148">This means an SAP system is either deployed on-premises or it is deployed in Azure.</span></span> <span data-ttu-id="55a46-149">Můžete však nasadit různých systémech šířku SAP do Azure nebo místní.</span><span class="sxs-lookup"><span data-stu-id="55a46-149">However, you can deploy the different systems of an SAP landscape into either Azure or on-premises.</span></span> <span data-ttu-id="55a46-150">Můžete například nasazení SAP CRM vývoj a testování systémy v Azure, ale SAP CRM produkční systému místní.</span><span class="sxs-lookup"><span data-stu-id="55a46-150">For example, you could deploy the SAP CRM development and test systems in Azure but the SAP CRM production system on-premises.</span></span>
* <span data-ttu-id="55a46-151">Nasazení jenom cloudu: nasazení, kde není připojen k předplatnému Azure prostřednictvím site-to-site nebo připojením ExpressRoute na místní infrastrukturu sítě.</span><span class="sxs-lookup"><span data-stu-id="55a46-151">Cloud-Only deployment: A deployment where the Azure subscription is not connected via a site-to-site or ExpressRoute connection to the on-premises network infrastructure.</span></span> <span data-ttu-id="55a46-152">Společné dokumentace k Azure tyto typy nasazení jsou také popsány jako 'jenom pro Cloud, nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-152">In common Azure documentation these kinds of deployments are also described as ‘Cloud-Only’ deployments.</span></span> <span data-ttu-id="55a46-153">Virtuální počítače nasazené pomocí této metody jsou přístupné prostřednictvím Internetu a veřejnou IP adresu nebo veřejný název DNS přiřazené k virtuálním počítačům v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-153">Virtual Machines deployed with this method are accessed through the internet and a public IP address and/or a public DNS name assigned to the VMs in Azure.</span></span> <span data-ttu-id="55a46-154">Pro Microsoft Windows v místní službě Active Directory (AD) a DNS není rozšířené k Azure v těchto typů nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-154">For Microsoft Windows the on-premises Active Directory (AD) and DNS is not extended to Azure in these types of deployments.</span></span> <span data-ttu-id="55a46-155">Proto virtuální počítače nejsou součástí místní služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="55a46-155">Hence the VMs are not part of the on-premises Active Directory.</span></span> <span data-ttu-id="55a46-156">Totéž platí pro implementace Linux, například pomocí OpenLDAP + protokolu Kerberos.</span><span class="sxs-lookup"><span data-stu-id="55a46-156">Same is true for Linux implementations using, for example, OpenLDAP + Kerberos.</span></span>

> [!NOTE]
> <span data-ttu-id="55a46-157">Čistě cloudové nasazení v tomto dokumentu je definován jako dokončení krajiny SAP běží výhradně v Azure bez přípony služby Active Directory nebo OpenLDAP nebo překladu názvů z místní do veřejného cloudu.</span><span class="sxs-lookup"><span data-stu-id="55a46-157">Cloud-Only deployment in this document is defined as complete SAP landscapes are running exclusively in Azure without extension of Active Directory / OpenLDAP  or name resolution from on-premises into public cloud.</span></span> <span data-ttu-id="55a46-158">Jenom pro cloud konfigurace nejsou podporovány pro produkční systémy SAP nebo konfigurace, kdy moduly STM SAP nebo jiných místních prostředků je potřeba použít mezi systémy SAP hostované v Azure a prostředky, které se nacházejí na místní.</span><span class="sxs-lookup"><span data-stu-id="55a46-158">Cloud-Only configurations are not supported for production SAP systems or configurations where SAP STMS or other on-premises resources need to be used between SAP systems hosted on Azure and resources residing on-premises.</span></span>
>
>

* <span data-ttu-id="55a46-159">Mezi různými místy: Popisuje scénář, kde jsou nasazené virtuální počítače k předplatnému Azure, který má site-to-site, více lokalit nebo připojení ExpressRoute mezi místní datových centrech a Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-159">Cross-premises: Describes a scenario where VMs are deployed to an Azure subscription that has site-to-site, multi-site, or ExpressRoute connectivity between the on-premises datacenter(s) and Azure.</span></span> <span data-ttu-id="55a46-160">Dokumentace k společné Azure, tyto typy nasazení jsou také popsány jako mezi různými místy scénáře.</span><span class="sxs-lookup"><span data-stu-id="55a46-160">In common Azure documentation, these kinds of deployments are also described as cross-premises scenarios.</span></span> <span data-ttu-id="55a46-161">Z důvodu pro připojení je rozšířit místní domény, OpenLDAP Active Directory v místě a místní DNS do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-161">The reason for the connection is to extend on-premises domains, on-premises Active Directory/OpenLDAP, and on-premises DNS into Azure.</span></span> <span data-ttu-id="55a46-162">Na šířku místní je rozšířeno na Azure prostředky předplatného.</span><span class="sxs-lookup"><span data-stu-id="55a46-162">The on-premises landscape is extended to the Azure assets of the subscription.</span></span> <span data-ttu-id="55a46-163">S touto příponou, virtuálních počítačů může být součástí místní domény.</span><span class="sxs-lookup"><span data-stu-id="55a46-163">Having this extension, the VMs can be part of the on-premises domain.</span></span> <span data-ttu-id="55a46-164">Uživatelé domény místní domény, můžete přístup k serverům a službu lze spouštět na těchto virtuálních počítačů (např. služby databázového systému).</span><span class="sxs-lookup"><span data-stu-id="55a46-164">Domain users of the on-premises domain can access the servers and can run services on those VMs (like DBMS services).</span></span> <span data-ttu-id="55a46-165">Komunikace a název rozlišení mezi virtuální počítače nasazené na místě a nasazené virtuální počítače Azure je možné.</span><span class="sxs-lookup"><span data-stu-id="55a46-165">Communication and name resolution between VMs deployed on-premises and Azure deployed VMs is possible.</span></span> <span data-ttu-id="55a46-166">Je tento scénář Očekáváme, že většina SAP prostředky se mají nasadit v.</span><span class="sxs-lookup"><span data-stu-id="55a46-166">This is the scenario we expect most SAP assets to be deployed in.</span></span> <span data-ttu-id="55a46-167">Další informace najdete v tématu [to] [ vpn-gateway-cross-premises-options] článku a [to][vpn-gateway-site-to-site-create].</span><span class="sxs-lookup"><span data-stu-id="55a46-167">For more information, see [this][vpn-gateway-cross-premises-options] article and [this][vpn-gateway-site-to-site-create].</span></span>

> [!NOTE]
> <span data-ttu-id="55a46-168">Mezi různými místy nasazení SAP systémy, kde Azure Virtual Machines s SAP systémy jsou členy místní domény jsou podporovány pro produkční systémy SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-168">Cross-premises deployments of SAP systems where Azure Virtual Machines running SAP systems are members of an on-premises domain are supported for production SAP systems.</span></span> <span data-ttu-id="55a46-169">Konfigurace mezi různými místy jsou podporovány pro nasazení částí nebo dokončení krajiny SAP do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-169">Cross-premises configurations are supported for deploying parts or complete SAP landscapes into Azure.</span></span> <span data-ttu-id="55a46-170">I spuštění povahu dokončení SAP v Azure vyžaduje, že tyto virtuální počítače byly součástí místní domény a služby Active Directory nebo OpenLDAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-170">Even running the complete SAP landscape in Azure requires having those VMs being part of on-premises domain and ADS/OpenLDAP.</span></span> <span data-ttu-id="55a46-171">V předchozí verze dokumentace už jsme mluvili o IT hybridní scénáře, kde je termín "Hybridní" integrován do skutečnost, že je připojení mezi různými místy mezi místními a Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-171">In former versions of the documentation, we talked about Hybrid-IT scenarios, where the term ‘Hybrid’ is rooted in the fact that there is a cross-premises connectivity between on-premises and Azure.</span></span> <span data-ttu-id="55a46-172">Plus skutečnost, že virtuální počítače v Azure jsou součástí služby Active Directory v místě nebo OpenLDAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-172">Plus, the fact that the VMs in Azure are part of the on-premises Active Directory / OpenLDAP.</span></span>
>
>

<span data-ttu-id="55a46-173">Některé dokumentaci Microsoft popisuje scénáře mezi různými místy trochu jinak, zejména pro konfigurace HA databázového systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-173">Some Microsoft documentation describes cross-premises scenarios a bit differently, especially for DBMS HA configurations.</span></span> <span data-ttu-id="55a46-174">V případě SAP související dokumenty mezi různými místy scénář právě boils na situaci, kdy site-to-site nebo připojení k privátní (ExpressRoute) a fakt, že je povahu SAP distribuovat mezi místními a Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-174">In the case of the SAP-related documents, the cross-premises scenario just boils down to having a site-to-site or private (ExpressRoute) connectivity and the fact that the SAP landscape is distributed between on-premises and Azure.</span></span>  

### <span data-ttu-id="55a46-175"><a name="e55d1e22-c2c8-460b-9897-64622a34fdff"></a>Prostředky</span><span class="sxs-lookup"><span data-stu-id="55a46-175"><a name="e55d1e22-c2c8-460b-9897-64622a34fdff"></a>Resources</span></span>
<span data-ttu-id="55a46-176">Následující další příručky jsou k dispozici pro téma nasazení SAP v Azure:</span><span class="sxs-lookup"><span data-stu-id="55a46-176">The following additional guides are available for the topic of SAP deployments on Azure:</span></span>

* <span data-ttu-id="55a46-177">[Azure virtuálních počítačů, plánování a implementace pro SAP NetWeaver (Tento dokument)][planning-guide]</span><span class="sxs-lookup"><span data-stu-id="55a46-177">[Azure Virtual Machines planning and implementation for SAP NetWeaver (this document)][planning-guide]</span></span>
* <span data-ttu-id="55a46-178">[Nasazení virtuálních počítačů Azure pro SAP NetWeaver][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="55a46-178">[Azure Virtual Machines deployment for SAP NetWeaver][deployment-guide]</span></span>
* <span data-ttu-id="55a46-179">[Nasazení virtuálních počítačů databázového systému Azure pro SAP NetWeaver][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="55a46-179">[Azure Virtual Machines DBMS deployment for SAP NetWeaver][dbms-guide]</span></span>

> [!IMPORTANT]
> <span data-ttu-id="55a46-180">Kdekoli možné odkaz odkazující Instalační příručka slouží (referenční dokumentace InstGuide-01, najdete v části <http://service.sap.com/instguides>).</span><span class="sxs-lookup"><span data-stu-id="55a46-180">Wherever possible a link to the referring SAP Installation Guide is used (Reference InstGuide-01, see <http://service.sap.com/instguides>).</span></span> <span data-ttu-id="55a46-181">Pokud jde o proces instalace a požadavky, příručky SAP NetWeaver instalace by měla vždycky číst pečlivě, tento dokument popisuje jenom konkrétní úlohy pro SAP NetWeaver systémy nainstalované v virtuální počítač Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-181">When it comes to the prerequisites and installation process, the SAP NetWeaver Installation Guides should always be read carefully, as this document only covers specific tasks for SAP NetWeaver systems installed in a Microsoft Azure Virtual Machine.</span></span>
>
>

<span data-ttu-id="55a46-182">Následující poznámky k SAP souvisí s tématem SAP v Azure:</span><span class="sxs-lookup"><span data-stu-id="55a46-182">The following SAP Notes are related to the topic of SAP on Azure:</span></span>

| <span data-ttu-id="55a46-183">Poznámka: číslo</span><span class="sxs-lookup"><span data-stu-id="55a46-183">Note number</span></span> | <span data-ttu-id="55a46-184">Název</span><span class="sxs-lookup"><span data-stu-id="55a46-184">Title</span></span> |
| --- | --- |
| <span data-ttu-id="55a46-185">[1928533]</span><span class="sxs-lookup"><span data-stu-id="55a46-185">[1928533]</span></span> |<span data-ttu-id="55a46-186">Aplikace SAP v Azure: podporované produkty a velikosti</span><span class="sxs-lookup"><span data-stu-id="55a46-186">SAP Applications on Azure: Supported Products and Sizing</span></span> |
| <span data-ttu-id="55a46-187">[2015553]</span><span class="sxs-lookup"><span data-stu-id="55a46-187">[2015553]</span></span> |<span data-ttu-id="55a46-188">SAP na platformě Microsoft Azure: podporovat požadavky</span><span class="sxs-lookup"><span data-stu-id="55a46-188">SAP on Microsoft Azure: Support Prerequisites</span></span> |
| <span data-ttu-id="55a46-189">[1999351]</span><span class="sxs-lookup"><span data-stu-id="55a46-189">[1999351]</span></span> |<span data-ttu-id="55a46-190">Řešení potíží s rozšířenou Azure monitorování pro SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-190">Troubleshooting Enhanced Azure Monitoring for SAP</span></span> |
| <span data-ttu-id="55a46-191">[2178632]</span><span class="sxs-lookup"><span data-stu-id="55a46-191">[2178632]</span></span> |<span data-ttu-id="55a46-192">Klíč monitorování metriky pro SAP na platformě Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-192">Key Monitoring Metrics for SAP on Microsoft Azure</span></span> |
| <span data-ttu-id="55a46-193">[1409604]</span><span class="sxs-lookup"><span data-stu-id="55a46-193">[1409604]</span></span> |<span data-ttu-id="55a46-194">Virtualizace v systému Windows: rozšířené monitorování</span><span class="sxs-lookup"><span data-stu-id="55a46-194">Virtualization on Windows: Enhanced Monitoring</span></span> |
| <span data-ttu-id="55a46-195">[2191498]</span><span class="sxs-lookup"><span data-stu-id="55a46-195">[2191498]</span></span> |<span data-ttu-id="55a46-196">SAP v systému Linux s Azure: rozšířené monitorování</span><span class="sxs-lookup"><span data-stu-id="55a46-196">SAP on Linux with Azure: Enhanced Monitoring</span></span> |
| <span data-ttu-id="55a46-197">[2243692]</span><span class="sxs-lookup"><span data-stu-id="55a46-197">[2243692]</span></span> |<span data-ttu-id="55a46-198">Linux na Microsoft Azure (IaaS) virtuálních počítačů: problémy licence SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-198">Linux on Microsoft Azure (IaaS) VM: SAP license issues</span></span> |
| <span data-ttu-id="55a46-199">[1984787]</span><span class="sxs-lookup"><span data-stu-id="55a46-199">[1984787]</span></span> |<span data-ttu-id="55a46-200">Systému SUSE LINUX Enterprise Server 12: Poznámky k instalaci</span><span class="sxs-lookup"><span data-stu-id="55a46-200">SUSE LINUX Enterprise Server 12: Installation notes</span></span> |
| <span data-ttu-id="55a46-201">[2002167]</span><span class="sxs-lookup"><span data-stu-id="55a46-201">[2002167]</span></span> |<span data-ttu-id="55a46-202">Red Hat Enterprise Linux 7.x: instalace a Upgrade</span><span class="sxs-lookup"><span data-stu-id="55a46-202">Red Hat Enterprise Linux 7.x: Installation and Upgrade</span></span> |
| <span data-ttu-id="55a46-203">[2069760]</span><span class="sxs-lookup"><span data-stu-id="55a46-203">[2069760]</span></span> |<span data-ttu-id="55a46-204">Oracle Linux 7.x SAP instalace a Upgrade</span><span class="sxs-lookup"><span data-stu-id="55a46-204">Oracle Linux 7.x SAP Installation and Upgrade</span></span> |
| <span data-ttu-id="55a46-205">[1597355]</span><span class="sxs-lookup"><span data-stu-id="55a46-205">[1597355]</span></span> |<span data-ttu-id="55a46-206">Doporučení odkládacího prostoru pro Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-206">Swap-space recommendation for Linux</span></span> |

<span data-ttu-id="55a46-207">Přečíst také [oznámení změny stavu Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) obsahující všechny SAP poznámky pro Linux.</span><span class="sxs-lookup"><span data-stu-id="55a46-207">Also read the [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) that contains all SAP Notes for Linux.</span></span>

<span data-ttu-id="55a46-208">Obecné výchozí omezení a maximální omezení předplatná Azure naleznete v [v tomto článku][azure-subscription-service-limits-subscription].</span><span class="sxs-lookup"><span data-stu-id="55a46-208">General default limitations and maximum limitations of Azure subscriptions can be found in [this article][azure-subscription-service-limits-subscription].</span></span>

## <a name="possible-scenarios"></a><span data-ttu-id="55a46-209">Možné scénáře</span><span class="sxs-lookup"><span data-stu-id="55a46-209">Possible Scenarios</span></span>
<span data-ttu-id="55a46-210">SAP je často považovat za jednu z nejvíce důležitých aplikací v rámci firmy.</span><span class="sxs-lookup"><span data-stu-id="55a46-210">SAP is often seen as one of the most mission-critical applications within enterprises.</span></span> <span data-ttu-id="55a46-211">Operace těchto aplikací a architektura je většinou velmi složitý a zajistíte, že splňujete požadavky na dostupnosti a výkonu je důležité.</span><span class="sxs-lookup"><span data-stu-id="55a46-211">The architecture and operations of these applications is mostly very complex and ensuring that you meet requirements on availability and performance is important.</span></span>

<span data-ttu-id="55a46-212">Proto podniků má zamyslet pečlivě o tom, které aplikace lze spustit v prostředí veřejného cloudu, nezávisle na poskytovateli zvolený cloud.</span><span class="sxs-lookup"><span data-stu-id="55a46-212">Thus enterprises have to think carefully about which applications can be run in a public cloud environment, independent of the chosen cloud provider.</span></span>

<span data-ttu-id="55a46-213">Typy možné systému pro nasazení SAP NetWeaver na základě aplikací v rámci veřejného cloudu, prostředí, které jsou uvedeny níže:</span><span class="sxs-lookup"><span data-stu-id="55a46-213">Possible system types for deploying SAP NetWeaver based applications within public cloud environments are listed below:</span></span>

1. <span data-ttu-id="55a46-214">Střední produkční systémy.</span><span class="sxs-lookup"><span data-stu-id="55a46-214">Medium-sized production systems</span></span>
2. <span data-ttu-id="55a46-215">Vývoj pro systémy</span><span class="sxs-lookup"><span data-stu-id="55a46-215">Development systems</span></span>
3. <span data-ttu-id="55a46-216">Testování systémy</span><span class="sxs-lookup"><span data-stu-id="55a46-216">Testing systems</span></span>
4. <span data-ttu-id="55a46-217">Systémy prototypu</span><span class="sxs-lookup"><span data-stu-id="55a46-217">Prototype systems</span></span>
5. <span data-ttu-id="55a46-218">Učení / ukázkový systémy</span><span class="sxs-lookup"><span data-stu-id="55a46-218">Learning / Demonstration systems</span></span>

<span data-ttu-id="55a46-219">Chcete-li úspěšně nasadit systémy SAP do Azure IaaS nebo IaaS obecně, je důležité si uvědomit, významné rozdíly mezi nabídky tradiční outsourcers nebo hostitelé a nabídkou IaaS.</span><span class="sxs-lookup"><span data-stu-id="55a46-219">In order to successfully deploy SAP systems into either Azure IaaS or IaaS in general, it is important to understand the significant differences between the offerings of traditional outsourcers or hosters and IaaS offerings.</span></span> <span data-ttu-id="55a46-220">Zatímco tradiční hostitel nebo pro externí dodavatele přizpůsobuje infrastrukturu (typ sítě, úložiště a server) pro zatížení, které chce zákazník hostitele, se místo toho odpovědnosti zákazníka vybrat správné zatížení pro nasazení IaaS.</span><span class="sxs-lookup"><span data-stu-id="55a46-220">Whereas the traditional hoster or outsourcer adapts infrastructure (network, storage and server type) to the workload a customer wants to host, it is instead the customer’s responsibility to choose the right workload for IaaS deployments.</span></span>

<span data-ttu-id="55a46-221">Jako první krok potřeba zákazníků, zkontrolujte následující položky:</span><span class="sxs-lookup"><span data-stu-id="55a46-221">As a first step, customers need to verify the following items:</span></span>

* <span data-ttu-id="55a46-222">SAP podporované typy virtuálních počítačů Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-222">The SAP supported VM types of Azure</span></span>
* <span data-ttu-id="55a46-223">SAP podporované produkty/verze v Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-223">The SAP supported products/releases on Azure</span></span>
* <span data-ttu-id="55a46-224">Podporované operační systém a databázového systému verze pro konkrétní verze SAP v Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-224">The supported OS and DBMS releases for the specific SAP releases in Azure</span></span>
* <span data-ttu-id="55a46-225">Protokoly SAP propustnost poskytované různé identifikátory SKU Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-225">SAPS throughput provided by different Azure SKUs</span></span>

<span data-ttu-id="55a46-226">Odpovědi na tyto otázky lze číst v Poznámka SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="55a46-226">The answers to these questions can be read in SAP Note [1928533].</span></span>

<span data-ttu-id="55a46-227">Jako druhý krok musí být porovnáno více prostředků skutečné spotřebě místních systémů Azure omezení prostředků a šířku pásma.</span><span class="sxs-lookup"><span data-stu-id="55a46-227">As a second step, Azure resource and bandwidth limitations need to be compared to actual resource consumption of on-premises systems.</span></span> <span data-ttu-id="55a46-228">Zákazníci proto musí být obeznámeni s jinou možností Azure typy podporované s SAP v oblasti:</span><span class="sxs-lookup"><span data-stu-id="55a46-228">Therefore, customers need to be familiar with the different capabilities of the Azure types supported with SAP in the area of:</span></span>

* <span data-ttu-id="55a46-229">Prostředky procesoru a paměti různých typů virtuálních počítačů a</span><span class="sxs-lookup"><span data-stu-id="55a46-229">CPU and memory resources of different VM types and</span></span>
* <span data-ttu-id="55a46-230">Šířka pásma IOPS různé typy virtuálních počítačů a</span><span class="sxs-lookup"><span data-stu-id="55a46-230">IOPS bandwidth of different VM types and</span></span>
* <span data-ttu-id="55a46-231">Možnosti sítě různých typů virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-231">Network capabilities of different VM types.</span></span>

<span data-ttu-id="55a46-232">Většina těchto dat lze nalézt [zde (Linux)] [ virtual-machines-sizes-linux] a [zde (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="55a46-232">Most of that data can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="55a46-233">Mějte na paměti, že omezení uvedená v výše uvedený odkaz jsou horní meze.</span><span class="sxs-lookup"><span data-stu-id="55a46-233">Keep in mind that the limits listed in the link above are upper limits.</span></span> <span data-ttu-id="55a46-234">Neznamená to, omezení pro některý ze zdrojů, například IOPS lze zadat za všech okolností.</span><span class="sxs-lookup"><span data-stu-id="55a46-234">It does not mean that the limits for any of the resources, for example IOPS can be provided under all circumstances.</span></span> <span data-ttu-id="55a46-235">Výjimky, když jsou prostředky procesoru a paměti typu zvolené virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-235">The exceptions though are the CPU and memory resources of a chosen VM type.</span></span> <span data-ttu-id="55a46-236">Pro typy virtuálních počítačů nepodporuje SAP prostředky procesoru a paměti jsou vyhrazeny a jako takový k dispozici v libovolném bodě v čase pro používání v rámci virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-236">For the VM types supported by SAP, the CPU and memory resources are reserved and as such available at any point in time for consumption within the VM.</span></span>

<span data-ttu-id="55a46-237">Platforma Microsoft Azure jako jiné platformy IaaS je platforma pro více klientů.</span><span class="sxs-lookup"><span data-stu-id="55a46-237">The Microsoft Azure platform like other IaaS platforms is a multi-tenant platform.</span></span> <span data-ttu-id="55a46-238">To znamená, že jsou mezi klienty sdílené úložiště, sítě a dalším prostředkům.</span><span class="sxs-lookup"><span data-stu-id="55a46-238">This means that storage, network, and other resources are shared between tenants.</span></span> <span data-ttu-id="55a46-239">Inteligentní omezení a kvóty logiku se používá k jednoho klienta zabrání závažný způsobem, které mají vliv na výkon jiného klienta (aktivní sousedním).</span><span class="sxs-lookup"><span data-stu-id="55a46-239">Intelligent throttling and quota logic is used to prevent one tenant from impacting the performance of another tenant (noisy neighbor) in a drastic way.</span></span> <span data-ttu-id="55a46-240">Přestože logiku v Azure se pokusí zachovat odchylky v šířky pásma došlo malé, vysoce sdílené platformy zpravidla zavádět větší odchylky v dostupnosti prostředků nebo šířky pásma, než mnoho zákazníků se používají k v jejich nasazeních v místě.</span><span class="sxs-lookup"><span data-stu-id="55a46-240">Though logic in Azure tries to keep variances in bandwidth experienced small, highly shared platforms tend to introduce larger variances in resource/bandwidth availability than many customers are used to in their on-premises deployments.</span></span> <span data-ttu-id="55a46-241">V důsledku toho může dojít k různých úrovních šířky pásma týkající se sítěmi nebo úložištěm vstupně-výstupní operace (na svazku a také latence) z minutu minutu.</span><span class="sxs-lookup"><span data-stu-id="55a46-241">As a result, you might experience different levels of bandwidth regarding networking or storage I/O (the volume as well as latency) from minute to minute.</span></span> <span data-ttu-id="55a46-242">Pravděpodobnost, že systému SAP v Azure může na základě zkušeností uživatelů odchylky větší než v místním systému je potřeba vzít v úvahu.</span><span class="sxs-lookup"><span data-stu-id="55a46-242">The probability that an SAP system on Azure could experience larger variances than in an on-premises system needs to be taken into account.</span></span>

<span data-ttu-id="55a46-243">Posledním krokem je k vyhodnocení požadavků na dostupnost.</span><span class="sxs-lookup"><span data-stu-id="55a46-243">A last step is to evaluate availability requirements.</span></span> <span data-ttu-id="55a46-244">Může se stát, že základní infrastrukturu Azure potřebuje aktualizovat a vyžaduje spuštěných virtuálních počítačů až po restartování hostitele.</span><span class="sxs-lookup"><span data-stu-id="55a46-244">It can happen, that the underlying Azure infrastructure needs to get updated and requires the hosts running VMs to be rebooted.</span></span> <span data-ttu-id="55a46-245">V těchto případech by se vypínají a restartují i virtuálních počítačů spuštěných na těchto hostitelích.</span><span class="sxs-lookup"><span data-stu-id="55a46-245">In these cases, VMs running on those hosts would be shut down and restarted as well.</span></span> <span data-ttu-id="55a46-246">Načasování takové údržby se provádí v pracovní době vedlejší pro konkrétní oblasti, ale je poměrně široké okno potenciální několik hodin, během které dojde k restartování.</span><span class="sxs-lookup"><span data-stu-id="55a46-246">The timing of such maintenance is done during non-core business hours for a particular region but the potential window of a few hours during which a restart will occur is relatively wide.</span></span> <span data-ttu-id="55a46-247">Existují různé technologie v rámci Azure platformy, na které je možné nakonfigurovat na zmírnit některé nebo všechny dopad tyto aktualizace.</span><span class="sxs-lookup"><span data-stu-id="55a46-247">There are various technologies within the Azure platform that can be configured to mitigate some or all of the impact of such updates.</span></span> <span data-ttu-id="55a46-248">Budoucí vylepšení platformy Azure, databázového systému a SAP aplikací navržených pro minimalizaci dopadů takové restartování.</span><span class="sxs-lookup"><span data-stu-id="55a46-248">Future enhancements of the Azure platform, DBMS, and SAP application are designed to minimize the impact of such restarts.</span></span>

<span data-ttu-id="55a46-249">Chcete-li úspěšně nasadit systém SAP do Azure, místní SAP systémy operační systém, databáze a aplikace SAP musí být na matici podpory SAP Azure, nevejde se v rámci prostředků Azure může poskytnout infrastruktury a který můžete pracovat s nabídkami dostupnost SLA Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-249">In order to successfully deploy an SAP system onto Azure, the on-premises SAP system(s) Operating System, Database, and SAP applications must appear on the SAP Azure support matrix, fit within the resources the Azure infrastructure can provide and which can work with the Availability SLAs Microsoft Azure offers.</span></span> <span data-ttu-id="55a46-250">Tyto systémy jsou určeny, musíte při rozhodování o jednu z následujících scénářů dvě nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-250">As those systems are identified, you need to decide on one of the following two deployment scenarios.</span></span>

### <span data-ttu-id="55a46-251"><a name="1625df66-4cc6-4d60-9202-de8a0b77f803"></a>Jenom pro cloud - nasazení virtuálních počítačů do Azure bez závislosti na místní sítě zákazníka</span><span class="sxs-lookup"><span data-stu-id="55a46-251"><a name="1625df66-4cc6-4d60-9202-de8a0b77f803"></a>Cloud-Only - Virtual Machine deployments into Azure without dependencies on the on-premises customer network</span></span>
![Jeden virtuální počítač s ukázkovou SAP nebo scénáře školení nasazené v Azure][planning-guide-figure-100]

<span data-ttu-id="55a46-253">Tento scénář je typické pro školení nebo ukázku systémy, kde jsou nainstalovány všechny součásti SAP a softwaru jiných SAP v rámci jednoho virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-253">This scenario is typical for trainings or demo systems, where all the components of SAP and non-SAP software are installed within a single VM.</span></span> <span data-ttu-id="55a46-254">Produkční SAP systémy nejsou podporovány v tomto scénáři nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-254">Production SAP systems are not supported in this deployment scenario.</span></span> <span data-ttu-id="55a46-255">Obecně platí tento scénář splňuje následující požadavky:</span><span class="sxs-lookup"><span data-stu-id="55a46-255">In general, this scenario meets the following requirements:</span></span>

* <span data-ttu-id="55a46-256">Vlastních virtuálních počítačů jsou přístupné přes veřejnou síť.</span><span class="sxs-lookup"><span data-stu-id="55a46-256">The VMs themselves are accessible over the public network.</span></span> <span data-ttu-id="55a46-257">Přímé připojení pro aplikace spuštěné v rámci virtuálních počítačů k místní síti společnosti vlastnící demoaplikace nebo školení obsah nebo zákazník není nutné.</span><span class="sxs-lookup"><span data-stu-id="55a46-257">Direct network connectivity for the applications running within the VMs to the on-premises network of either the company owning the demos or trainings content or the customer is not necessary.</span></span>
* <span data-ttu-id="55a46-258">V případě představující školení nebo ukázkový scénář několika virtuálních počítačů síťové komunikace a název řešení musí fungovat mezi virtuálními počítači.</span><span class="sxs-lookup"><span data-stu-id="55a46-258">In case of multiple VMs representing the trainings or demo scenario, network communications and name resolution needs to work between the VMs.</span></span> <span data-ttu-id="55a46-259">Ale komunikace mezi sadu virtuálních počítačů musí být izolované tak, aby několik sady virtuálních počítačů můžete nasadit vedle sebe bez narušení.</span><span class="sxs-lookup"><span data-stu-id="55a46-259">But communications between the set of VMs need to be isolated so that several sets of VMs can be deployed side by side without interference.</span></span>  
* <span data-ttu-id="55a46-260">Připojení k Internetu je vyžadována pro koncového uživatele na vzdálené přihlášení do pro virtuální počítače hostované v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-260">Internet connectivity is required for the end user to remote login into to the VMs hosted in Azure.</span></span> <span data-ttu-id="55a46-261">V závislosti na hostovaného operačního systému, Terminálové služby a služby RDS nebo VNC na ssh slouží k přístupu virtuálních počítačů pro splnění úlohy školení nebo provést ukázky.</span><span class="sxs-lookup"><span data-stu-id="55a46-261">Depending on the guest OS, Terminal Services/RDS or VNC/ssh is used to access the VM to either fulfill the training tasks or perform the demos.</span></span> <span data-ttu-id="55a46-262">Pokud SAP porty například 3200, 3300 & 3600 může také zpřístupnit instance aplikace na SAP je přístupná na jakémkoli počítači připojené Internetu.</span><span class="sxs-lookup"><span data-stu-id="55a46-262">If SAP ports such as 3200, 3300 & 3600 can also be exposed the SAP application instance can be accessed from any Internet connected desktop.</span></span>
* <span data-ttu-id="55a46-263">Systémy SAP (a VM(s)) představují samostatné scénář v Azure, což pouze veřejné připojení k Internetu vyžaduje pro přístup koncových uživatelů a nevyžaduje připojení k ostatním virtuálním počítačům v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-263">The SAP system(s) (and VM(s)) represent a standalone scenario in Azure, which only requires public internet connectivity for end-user access and does not require a connection to other VMs in Azure.</span></span>
* <span data-ttu-id="55a46-264">SAPGUI a prohlížeče jsou nainstalovat a spustit přímo na virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="55a46-264">SAPGUI and a browser are installed and run directly on the VM.</span></span>
* <span data-ttu-id="55a46-265">Je vyžadován rychlé resetování virtuálního počítače do původního stavu a opakujte nové nasazení tohoto původního stavu.</span><span class="sxs-lookup"><span data-stu-id="55a46-265">A fast reset of a VM to the original state and new deployment of that original state again is required.</span></span>
* <span data-ttu-id="55a46-266">V případě scénáře školení a ukázku, která jsou rozpoznat v několika virtuálních počítačů, služby Active Directory / OpenLDAP nebo DNS služby je zapotřebí pro každou sadu virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-266">In the case of demo and training scenarios, which are realized in multiple VMs, an Active Directory / OpenLDAP and/or DNS service is required for each set of VMs.</span></span>

![Skupinu Virtuálního počítače představující jednu ukázku nebo školení scénář v cloudové službě Azure][planning-guide-figure-200]

<span data-ttu-id="55a46-268">Je důležité mít na paměti, že virtuální počítače v jednotlivých sad musí být nasazeny současně, kde názvy virtuálních počítačů v každé sady jsou stejné.</span><span class="sxs-lookup"><span data-stu-id="55a46-268">It is important to keep in mind that the VM(s) in each of the sets need to be deployed in parallel, where the VM names in each of the set are the same.</span></span>

### <span data-ttu-id="55a46-269"><a name="f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10"></a>Mezi různými místy - nasazení jedné nebo více virtuálních počítačů SAP do Azure s požadavkem je plně integrován do místní sítě</span><span class="sxs-lookup"><span data-stu-id="55a46-269"><a name="f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10"></a>Cross-Premises - Deployment of single or multiple SAP VMs into Azure with the requirement of being fully integrated into the on-premises network</span></span>
![Síť VPN se připojení Site-To-Site (mezi různými místy)][planning-guide-figure-300]

<span data-ttu-id="55a46-271">Tento scénář je mezi různými místy scénář s mnoha schémat možné nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-271">This scenario is a cross-premises scenario with many possible deployment patterns.</span></span> <span data-ttu-id="55a46-272">Lze popsat jednoduše systémem některé části SAP šířku místní a dalšími částmi sady SAP šířku v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-272">It can be described as simply as running some parts of the SAP landscape on-premises and other parts of the SAP landscape on Azure.</span></span> <span data-ttu-id="55a46-273">Všechny aspekty skutečnost, že součástí komponent SAP běží v Azure by měl být transparentní pro koncové uživatele.</span><span class="sxs-lookup"><span data-stu-id="55a46-273">All aspects of the fact that part of the SAP components are running on Azure should be transparent for end users.</span></span> <span data-ttu-id="55a46-274">Proto přenosu oprava systému (moduly STM) SAP, RFC komunikace, tisk, zabezpečení (jako je jednotné přihlašování) atd fungovat bez problémů systémů SAP spuštěné v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-274">Hence the SAP Transport Correction System (STMS), RFC Communication, Printing, Security (like SSO), etc. work seamlessly for the SAP systems running on Azure.</span></span> <span data-ttu-id="55a46-275">Ale mezi různými místy scénář také popisuje scénář, kde povahu dokončení SAP spuštění v Azure s doménou zákazníka a DNS rozšířit do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-275">But the cross-premises scenario also describes a scenario where the complete SAP landscape runs in Azure with the customer’s domain and DNS extended into Azure.</span></span>

> [!NOTE]
> <span data-ttu-id="55a46-276">Toto je tento scénář nasazení, který je podporován pro produktivní systémem SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-276">This is the deployment scenario, which is supported for running productive SAP systems.</span></span>
>
>

<span data-ttu-id="55a46-277">Čtení [v tomto článku] [ vpn-gateway-create-site-to-site-rm-powershell] Další informace o tom, jak připojit místní sítě k Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-277">Read [this article][vpn-gateway-create-site-to-site-rm-powershell] for more information on how to connect your on-premises network to Microsoft Azure</span></span>

> [!IMPORTANT]
> <span data-ttu-id="55a46-278">Když jsme mluvíme o scénářích mezi různými místy mezi Azure a místními zákaznických nasazení, jsme před sebou členitost celou systémy SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-278">When we are talking about cross-premises scenarios between Azure and on-premises customer deployments, we are looking at the granularity of whole SAP systems.</span></span> <span data-ttu-id="55a46-279">Scénáře, které jsou *nepodporuje* pro mezi různými místy scénáře jsou:</span><span class="sxs-lookup"><span data-stu-id="55a46-279">Scenarios which are *not supported* for cross-premises scenarios are:</span></span>
>
> * <span data-ttu-id="55a46-280">Spuštění různých úrovní aplikace SAP v různých metod nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-280">Running different layers of SAP applications in different deployment methods.</span></span> <span data-ttu-id="55a46-281">Například spuštění databázového systému vrstvy místní, ale aplikační vrstvu SAP ve virtuálních počítačích nasazených ve virtuálních počítačích Azure a naopak.</span><span class="sxs-lookup"><span data-stu-id="55a46-281">For example running the DBMS layer on-premises, but the SAP application layer in VMs deployed as Azure VMs or vice versa.</span></span>
> * <span data-ttu-id="55a46-282">Některé součásti SAP vrstvy v Azure a některé na místě.</span><span class="sxs-lookup"><span data-stu-id="55a46-282">Some components of an SAP layer in Azure and some on-premises.</span></span> <span data-ttu-id="55a46-283">Příklad rozdělení instance SAP aplikační vrstvy mezi místní a virtuální počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-283">For example splitting Instances of the SAP application layer between on-premises and Azure VMs.</span></span>
> * <span data-ttu-id="55a46-284">Není dostupná podpora distribuce virtuálních počítačů spuštěné instance SAP jeden systém nad několika oblastmi Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-284">Distribution of VMs running SAP instances of one system over multiple Azure Regions is not supported.</span></span>
>
> <span data-ttu-id="55a46-285">Důvod tato omezení je požadavkem pro vysoce výkonné síť s velmi nízkou latencí v rámci jednoho systému SAP, zejména mezi instancemi aplikace a vrstva databázového systému SAP systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-285">The reason for these restrictions is the requirement for a very low latency high-performance network within one SAP system, especially between the application instances and the DBMS layer of an SAP system.</span></span>
>
>

### <a name="supported-os-and-database-releases"></a><span data-ttu-id="55a46-286">Podporované operační systém a verze databáze</span><span class="sxs-lookup"><span data-stu-id="55a46-286">Supported OS and Database Releases</span></span>
* <span data-ttu-id="55a46-287">Podporované služby virtuálního počítače Azure je uvedené v tomto článku serverového softwaru společnosti Microsoft: <http://support.microsoft.com/kb/2721672>.</span><span class="sxs-lookup"><span data-stu-id="55a46-287">Microsoft server software supported for Azure Virtual Machine Services is listed in this article: <http://support.microsoft.com/kb/2721672>.</span></span>
* <span data-ttu-id="55a46-288">Podporované operační systém verze, vydání systému databáze podporované na služby virtuálního počítače Azure ve spojení s SAP softwaru jsou popsané v Poznámka SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="55a46-288">Supported operating system releases, database system releases supported on Azure Virtual Machine Services in conjunction with SAP software are documented in SAP Note [1928533].</span></span>
* <span data-ttu-id="55a46-289">Aplikace SAP a verzí podporované na virtuální počítač služby Azure jsou dokumentovány v článku Poznámka SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="55a46-289">SAP applications and releases supported on Azure Virtual Machine Services are documented in SAP Note [1928533].</span></span>
* <span data-ttu-id="55a46-290">Ke spuštění jako virtuální počítače hostované v Azure pro SAP scénáře jsou podporované Image pouze 64bitové.</span><span class="sxs-lookup"><span data-stu-id="55a46-290">Only 64Bit images are supported to run as Guest VMs in Azure for SAP scenarios.</span></span> <span data-ttu-id="55a46-291">Také to znamená, že jsou podporovány pouze 64bitové aplikace SAP a databází.</span><span class="sxs-lookup"><span data-stu-id="55a46-291">This also means that only 64-bit SAP applications and databases are supported.</span></span>

## <a name="microsoft-azure-virtual-machine-services"></a><span data-ttu-id="55a46-292">Služby virtuálního počítače Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-292">Microsoft Azure Virtual Machine Services</span></span>
<span data-ttu-id="55a46-293">Platformy Microsoft Azure je platforma internetových cloudové služby hostované a pracuje v datových centrech společnosti Microsoft.</span><span class="sxs-lookup"><span data-stu-id="55a46-293">The Microsoft Azure platform is an internet-scale cloud services platform hosted and operated in Microsoft data centers.</span></span> <span data-ttu-id="55a46-294">Platforma obsahuje virtuální počítač služby Microsoft Azure (infrastruktura jako služba nebo IaaS) a sadu bohaté platforma jako služba (PaaS) možnosti.</span><span class="sxs-lookup"><span data-stu-id="55a46-294">The platform includes the Microsoft Azure Virtual Machine Services (Infrastructure as a Service, or IaaS) and a set of rich Platform as a Service (PaaS) capabilities.</span></span>

<span data-ttu-id="55a46-295">Platformy Azure omezuje potřebu počáteční technologie a nákupech infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="55a46-295">The Azure platform reduces the need for up-front technology and infrastructure purchases.</span></span> <span data-ttu-id="55a46-296">Zjednodušuje údržbu a provoz aplikace tím, že poskytuje na vyžádání výpočetního prostředí a úložiště pro hostování, škálování a Správa webové aplikace a propojených aplikací.</span><span class="sxs-lookup"><span data-stu-id="55a46-296">It simplifies maintaining and operating applications by providing on-demand compute and storage to host, scale, and manage web application and connected applications.</span></span> <span data-ttu-id="55a46-297">Správu infrastruktury je automatické s platformu, která je určená pro vysokou dostupnost a dynamické škálování tak, aby odpovídaly potřebám použití s parametrem průběžnými platbami cenový model.</span><span class="sxs-lookup"><span data-stu-id="55a46-297">Infrastructure management is automated with a platform that is designed for high availability and dynamic scaling to match usage needs with the option of a pay-as-you-go pricing model.</span></span>

![Umístění služby virtuálního počítače Microsoft Azure][planning-guide-figure-400]

<span data-ttu-id="55a46-299">Pomocí služby virtuálního počítače Azure je povolení Microsoft nasadit bitové kopie vlastní server do Azure jako instance IaaS (viz obrázek 4).</span><span class="sxs-lookup"><span data-stu-id="55a46-299">With Azure Virtual Machine Services, Microsoft is enabling you to deploy custom server images to Azure as IaaS instances (see Figure 4).</span></span> <span data-ttu-id="55a46-300">Virtuální počítače v Azure jsou založené na technologii Hyper-V virtuální pevné disky (VHD) a je možné spouštět různé operační systémy jako hostovaného operačního systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-300">The Virtual Machines in Azure are based on Hyper-V virtual hard drives (VHD) and are able to run different operating systems as Guest OS.</span></span>

<span data-ttu-id="55a46-301">Z provozního hlediska nabízí služba virtuálního počítače Azure podobné možnosti jako virtuální počítače nasazené na místní.</span><span class="sxs-lookup"><span data-stu-id="55a46-301">From an operational perspective, the Azure Virtual Machine Service offers similar experiences as virtual machines deployed on premises.</span></span> <span data-ttu-id="55a46-302">Ale má významné výhody, který nemusíte zakoupit, spravovat a správě infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="55a46-302">However, it has the significant advantage that you don’t need to procure, administer, and manage the infrastructure.</span></span> <span data-ttu-id="55a46-303">Vývojáři a správci mít plnou kontrolu nad bitovou kopii operačního systému v rámci těchto virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-303">Developers and Administrators have full control of the operating system image within these virtual machines.</span></span> <span data-ttu-id="55a46-304">Správci můžou na přihlásit vzdáleně těchto virtuálních počítačů k provádění údržby a řešení potíží s úlohy a také úlohy nasazení softwaru.</span><span class="sxs-lookup"><span data-stu-id="55a46-304">Administrators can log on remotely in to those virtual machines to perform maintenance and troubleshooting tasks as well as software deployment tasks.</span></span> <span data-ttu-id="55a46-305">S ohledem na nasazení jsou pouze omezení velikosti a možnosti virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-305">In regard to deployment, the only restrictions are the sizes and capabilities of Azure VMs.</span></span> <span data-ttu-id="55a46-306">Nemusí se jednat o jako jemné granulární v konfiguraci, jako tomu lze místně.</span><span class="sxs-lookup"><span data-stu-id="55a46-306">These may not be as fine granular in configuration as this could be done on premises.</span></span> <span data-ttu-id="55a46-307">Při volbě typů virtuálních počítačů, které představují kombinaci:</span><span class="sxs-lookup"><span data-stu-id="55a46-307">There is a choice of VM types that represent a combination of:</span></span>

* <span data-ttu-id="55a46-308">Počet Vcpu,</span><span class="sxs-lookup"><span data-stu-id="55a46-308">Number of vCPUs,</span></span>
* <span data-ttu-id="55a46-309">Paměť</span><span class="sxs-lookup"><span data-stu-id="55a46-309">Memory,</span></span>
* <span data-ttu-id="55a46-310">Počet virtuálních pevných disků, které je možné připojit,</span><span class="sxs-lookup"><span data-stu-id="55a46-310">Number of VHDs that can be attached,</span></span>
* <span data-ttu-id="55a46-311">Šířek pásma sítě a úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-311">Network and Storage bandwidths.</span></span>

<span data-ttu-id="55a46-312">Velikost a omezení velikostí různé virtuální počítače různých nabízí, můžete zobrazit v tabulce v [v tomto článku (Linux)] [ virtual-machines-sizes-linux] a [v tomto článku (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="55a46-312">The size and limitations of various different virtual machines sizes offered can be seen in a table in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="55a46-313">Jak si myslíte, existují různé rodiny nebo řadu virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-313">As you realize, there are different families or series of virtual machines.</span></span> <span data-ttu-id="55a46-314">Možné rozlišit následující rodiny virtuálních počítačů:</span><span class="sxs-lookup"><span data-stu-id="55a46-314">You can distinguish the following families of VMs:</span></span>

* <span data-ttu-id="55a46-315">Virtuální počítač a0 A7 typy: Ne všechny z nich jsou certifikovány pro SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-315">A0-A7 VM types: Not all of those are certified for SAP.</span></span> <span data-ttu-id="55a46-316">První virtuální počítač série, která získali zavedené Azure IaaS.</span><span class="sxs-lookup"><span data-stu-id="55a46-316">First VM series that Azure IaaS got introduced with.</span></span>
* <span data-ttu-id="55a46-317">Virtuální počítač a8-A11 typy: instance s vysokým výkonem.</span><span class="sxs-lookup"><span data-stu-id="55a46-317">A8-A11 VM types: High Performance computing instances.</span></span> <span data-ttu-id="55a46-318">Běžet na různých lepší provádění výpočetní hostitelů než ostatní virtuální počítače A-series.</span><span class="sxs-lookup"><span data-stu-id="55a46-318">Running on different better performing compute hosts than other A-series VMs.</span></span>
* <span data-ttu-id="55a46-319">Počítač D/Dv2-Series typy: lépe než A0 A7 provádění.</span><span class="sxs-lookup"><span data-stu-id="55a46-319">D/Dv2-Series VM types: Better performing than A0-A7.</span></span> <span data-ttu-id="55a46-320">Ne všechny typy virtuálních počítačů jsou certifikované s SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-320">Not all of the VM types are certified with SAP.</span></span>
* <span data-ttu-id="55a46-321">Typy virtuálních počítačů služby DS, DSv2-Series: podobná D/Dv2-series, ale jsou možné se připojit k Azure Premium Storage (naleznete v kapitole [Azure Premium Storage] [ planning-guide-3.3.2] tohoto dokumentu).</span><span class="sxs-lookup"><span data-stu-id="55a46-321">DS/DSv2-Series VM types: Similar to D/Dv2-series, but are able to connect to Azure Premium Storage (see chapter [Azure Premium Storage][planning-guide-3.3.2] of this document).</span></span> <span data-ttu-id="55a46-322">Znovu ne všechny typy virtuálních počítačů, které jsou certifikované s SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-322">Again not all VM types are certified with SAP.</span></span>
* <span data-ttu-id="55a46-323">Virtuální počítač G-Series typy: typy vysokého využití paměti virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-323">G-Series VM types: High memory VM types.</span></span>
* <span data-ttu-id="55a46-324">Virtuální počítač GS-Series typy: jako G-Series, ale včetně možnosti používání Azure Premium Storage (naleznete v kapitole [Azure Premium Storage] [ planning-guide-3.3.2] tohoto dokumentu).</span><span class="sxs-lookup"><span data-stu-id="55a46-324">GS-Series VM types: like G-Series but including the option to use Azure Premium Storage (see chapter [Azure Premium Storage][planning-guide-3.3.2] of this document).</span></span> <span data-ttu-id="55a46-325">Při používání virtuálních počítačů GS-Series jako databázové servery, je nutné používat úložiště úrovně Premium pro soubory protokolů databáze dat a transakce</span><span class="sxs-lookup"><span data-stu-id="55a46-325">When using GS-Series VMs as database servers, it's mandatory to use Premium Storage for DB data and transaction log files</span></span>

<span data-ttu-id="55a46-326">V řadě různých virtuálních počítačů můžete zjistit stejném procesoru a paměti konfigurace.</span><span class="sxs-lookup"><span data-stu-id="55a46-326">You may find the same CPU and memory configurations in different VM series.</span></span> <span data-ttu-id="55a46-327">Nicméně když hledáte propustnost těchto virtuálních počítačů mimo jiné řady se mohou výrazně lišit.</span><span class="sxs-lookup"><span data-stu-id="55a46-327">Nevertheless, when you look up the throughput performance of these VMs out of the different series they might differ significantly.</span></span> <span data-ttu-id="55a46-328">Přes stejnou konfiguraci procesoru a paměti.</span><span class="sxs-lookup"><span data-stu-id="55a46-328">Despite having the same CPU and memory configuration.</span></span> <span data-ttu-id="55a46-329">Důvodem je, že základní hardware serveru hostitele na zavedení různé typy virtuálních počítačů mají různé propustnost vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="55a46-329">Reason is that the underlying host server hardware at the introduction of the different VM types had different throughput characteristics.</span></span>  <span data-ttu-id="55a46-330">Obvykle rozdíl ukazuje propustnost je odráží rovněž v cenu různé virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-330">Usually the difference shown in throughput performance also is reflected in the price of the different VMs.</span></span>

<span data-ttu-id="55a46-331">Ne všechny řady různých virtuálních počítačů může nabízena v každé z nich oblastí Azure (pro oblasti Azure naleznete v kapitole Další).</span><span class="sxs-lookup"><span data-stu-id="55a46-331">Not all different VM series might be offered in each one of the Azure Regions (for Azure Regions see next chapter).</span></span> <span data-ttu-id="55a46-332">Nezapomínejte, že ne všechny virtuální počítače nebo řadu virtuálních počítačů jsou certifikovány pro SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-332">Also be aware that not all VMs or VM-Series are certified for SAP.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="55a46-333">Pro používání SAP NetWeaver na základě aplikací, pouze podmnožinu typy virtuálních počítačů a konfigurace uvedené v Poznámka SAP [1928533] jsou podporovány.</span><span class="sxs-lookup"><span data-stu-id="55a46-333">For the use of SAP NetWeaver based applications, only the subset of VM types and configurations listed in SAP Note [1928533] are supported.</span></span>
>
>

### <span data-ttu-id="55a46-334"><a name="be80d1b9-a463-4845-bd35-f4cebdb5424a"></a>Oblasti Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-334"><a name="be80d1b9-a463-4845-bd35-f4cebdb5424a"></a>Azure Regions</span></span>
<span data-ttu-id="55a46-335">Microsoft umožňuje nasazení virtuálních počítačů do tak volané Azure oblasti.</span><span class="sxs-lookup"><span data-stu-id="55a46-335">Microsoft allows to deploy Virtual Machines into so called ‘Azure Regions’.</span></span> <span data-ttu-id="55a46-336">Oblast Azure může být jeden nebo více datových center, které se nacházejí v těsné blízkosti.</span><span class="sxs-lookup"><span data-stu-id="55a46-336">An Azure Region may be one or multiple data centers that are located in close proximity.</span></span> <span data-ttu-id="55a46-337">Pro většinu geopolitické oblasti na světě. Společnost Microsoft nemá alespoň dva oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-337">For most of the geopolitical regions in the world Microsoft has at least two Azure Regions.</span></span> <span data-ttu-id="55a46-338">Například v Evropě není oblast Azure, Severní Evropa, a jednu z "Západní Evropa".</span><span class="sxs-lookup"><span data-stu-id="55a46-338">For example, in Europe there is an Azure Region of ‘North Europe’ and one of ‘West Europe’.</span></span> <span data-ttu-id="55a46-339">Tyto dvě Azure oblastem v geopolitické oblasti jsou odděleny dostatečně velkou vzdálenost tak, aby přírodních nebo technických havárie neovlivní obou oblastí Azure ve stejné geopolitické oblasti.</span><span class="sxs-lookup"><span data-stu-id="55a46-339">Such two Azure Regions within a geopolitical region are separated by significant enough distance so that natural or technical disasters do not affect both Azure Regions in the same geopolitical region.</span></span> <span data-ttu-id="55a46-340">Vzhledem k tomu, že Microsoft vytrvale vytváří se nové oblasti Azure v různých oblastech geopolitické globálně, počet tyto oblasti vytrvale roste a od prosince 2015 dosaženo počtu 20 oblasti Azure s další oblasti oznámeno již.</span><span class="sxs-lookup"><span data-stu-id="55a46-340">Since Microsoft is steadily building out new Azure Regions in different geopolitical regions globally, the number of these regions is steadily growing and as of Dec 2015 reached the number of 20 Azure Regions with additional Regions announced already.</span></span> <span data-ttu-id="55a46-341">Systémy SAP vy jako zákazník můžete nasadit do všech těchto oblastech, včetně dvou oblastí Azure v Číně.</span><span class="sxs-lookup"><span data-stu-id="55a46-341">You as a customer can deploy SAP systems into all these regions, including the two Azure Regions in China.</span></span> <span data-ttu-id="55a46-342">Aktuální aktuální informace o oblastech Azure najdete v tomto webu: <https://azure.microsoft.com/regions/></span><span class="sxs-lookup"><span data-stu-id="55a46-342">For current up-to-date information about Azure regions see this website: <https://azure.microsoft.com/regions/></span></span>

### <span data-ttu-id="55a46-343"><a name="8d8ad4b8-6093-4b91-ac36-ea56d80dbf77"></a>Koncept virtuálního počítače Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-343"><a name="8d8ad4b8-6093-4b91-ac36-ea56d80dbf77"></a>The Microsoft Azure Virtual Machine Concept</span></span>
<span data-ttu-id="55a46-344">Microsoft Azure nabízí infrastruktura jako služba (IaaS) řešení hostitele virtuálních počítačů s podobné funkce jako místní řešení virtualizace.</span><span class="sxs-lookup"><span data-stu-id="55a46-344">Microsoft Azure offers an Infrastructure as a Service (IaaS) solution to host Virtual Machines with similar functionalities as an on-premises virtualization solution.</span></span> <span data-ttu-id="55a46-345">Budete moci vytvářet virtuální počítače z portálu Azure, PowerShell nebo rozhraní příkazového řádku, které také nabízí nasazení a možnosti správy.</span><span class="sxs-lookup"><span data-stu-id="55a46-345">You are able to create Virtual Machines from within the Azure portal, PowerShell or CLI, which also offer deployment and management capabilities.</span></span>

<span data-ttu-id="55a46-346">Azure Resource Manager umožňuje zřizovat aplikace pomocí deklarativní šablony.</span><span class="sxs-lookup"><span data-stu-id="55a46-346">Azure Resource Manager allows you to provision your applications using a declarative template.</span></span> <span data-ttu-id="55a46-347">S jednou šablonou můžete nasadit několik služeb společně s jejich závislostmi.</span><span class="sxs-lookup"><span data-stu-id="55a46-347">In a single template, you can deploy multiple services along with their dependencies.</span></span> <span data-ttu-id="55a46-348">Použijete stejné šablony k opakovaně nasazovat aplikace během každé fáze životního cyklu aplikace.</span><span class="sxs-lookup"><span data-stu-id="55a46-348">You use the same template to repeatedly deploy your application during every stage of the application life cycle.</span></span>

<span data-ttu-id="55a46-349">Další informace o používání šablon Resource Manageru naleznete zde:</span><span class="sxs-lookup"><span data-stu-id="55a46-349">More information about using Resource Manager templates can be found here:</span></span>

* <span data-ttu-id="55a46-350">[Nasadit a spravovat virtuální počítače pomocí šablony Azure Resource Manager a rozhraní příkazového řádku Azure] [.. /.. / linux/create-ssh-secured-vm-from-template.md]</span><span class="sxs-lookup"><span data-stu-id="55a46-350">[Deploy and manage virtual machines by using Azure Resource Manager templates and the Azure CLI][../../linux/create-ssh-secured-vm-from-template.md]</span></span>
* <span data-ttu-id="55a46-351">[Správa virtuálních počítačů pomocí Azure Resource Manageru a prostředí PowerShell][virtual-machines-deploy-rmtemplates-powershell]</span><span class="sxs-lookup"><span data-stu-id="55a46-351">[Manage virtual machines using Azure Resource Manager and PowerShell][virtual-machines-deploy-rmtemplates-powershell]</span></span>
* <span data-ttu-id="55a46-352"><https://Azure.microsoft.com/documentation/Templates/></span><span class="sxs-lookup"><span data-stu-id="55a46-352"><https://azure.microsoft.com/documentation/templates/></span></span>

<span data-ttu-id="55a46-353">Jiné zajímavé funkce je možnost vytvářet bitové kopie z virtuálních počítačů, které umožňuje připravit určité úložiště, ze kterých budete moci rychle nasadit instancí virtuálního počítače, které odpovídají vašim požadavkům.</span><span class="sxs-lookup"><span data-stu-id="55a46-353">Another interesting feature is the ability to create images from Virtual Machines, which allows you to prepare certain repositories from which you are able to quickly deploy Virtual machine instances, which meet your requirements.</span></span>

<span data-ttu-id="55a46-354">Další informace o vytváření bitové kopie z virtuálních počítačů naleznete v [v tomto článku (Linux)] [ virtual-machines-linux-capture-image-resource-manager] a [v tomto článku (Windows)][virtual-machines-windows-capture-image-resource-manager].</span><span class="sxs-lookup"><span data-stu-id="55a46-354">More information about creating images from Virtual Machines can be found in [this article (Linux)][virtual-machines-linux-capture-image-resource-manager] and [this article (Windows)][virtual-machines-windows-capture-image-resource-manager].</span></span>

#### <span data-ttu-id="55a46-355"><a name="df49dc09-141b-4f34-a4a2-990913b30358"></a>Domén selhání</span><span class="sxs-lookup"><span data-stu-id="55a46-355"><a name="df49dc09-141b-4f34-a4a2-990913b30358"></a>Fault Domains</span></span>
<span data-ttu-id="55a46-356">Fyzická jednotka nezdaří, velmi úzce související fyzické infrastruktuře obsažené v datových centrech, a když fyzické okno nebo rack lze považovat za domény selhání představují domén selhání, neexistuje žádné přímé mapování 1: 1 mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="55a46-356">Fault Domains represent a physical unit of failure, very closely related to the physical infrastructure contained in data centers, and while a physical blade or rack can be considered a Fault Domain, there is no direct one-to-one mapping between the two.</span></span>

<span data-ttu-id="55a46-357">Při nasazení více virtuálních počítačů v rámci jednoho systému SAP v služeb virtuálního počítače Microsoft Azure, můžete ovlivnit Kontroleru prostředků infrastruktury Azure k nasazení aplikace do různých domén selhání, a tím splňující požadavky smlouvy SLA pro Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-357">When you deploy multiple Virtual Machines as part of one SAP system in Microsoft Azure Virtual Machine Services, you can influence the Azure Fabric Controller to deploy your application into different Fault Domains, thereby meeting the requirements of the Microsoft Azure SLA.</span></span> <span data-ttu-id="55a46-358">Distribuce domén selhání v jednotky škálování služby Azure (shromažďování stovky výpočetních uzlů nebo uzlů úložiště a sítě) nebo přiřazení virtuálních počítačů do konkrétní domény selhání je však něco přes které nemají přímou kontrolu.</span><span class="sxs-lookup"><span data-stu-id="55a46-358">However, the distribution of Fault Domains over an Azure Scale Unit (collection of hundreds of Compute nodes or Storage nodes and networking) or the assignment of VMs to a specific Fault Domain is something over which you do not have direct control.</span></span> <span data-ttu-id="55a46-359">Aby bylo možné směrovat kontroleru prostředků infrastruktury Azure k nasazení sadu virtuálních počítačů přes různých domén selhání, budete muset přiřadit skupiny dostupnosti Azure virtuální počítače v době nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-359">In order to direct the Azure fabric controller to deploy a set of VMs over different Fault Domains, you need to assign an Azure Availability Set to the VMs at deployment time.</span></span> <span data-ttu-id="55a46-360">Další informace o Azure skupiny dostupnosti, naleznete v kapitole [skupiny dostupnosti Azure] [ planning-guide-3.2.3] v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-360">For more information on Azure Availability Sets, see chapter [Azure Availability Sets][planning-guide-3.2.3] in this document.</span></span>

#### <span data-ttu-id="55a46-361"><a name="fc1ac8b2-e54a-487c-8581-d3cc6625e560"></a>Domén upgradu</span><span class="sxs-lookup"><span data-stu-id="55a46-361"><a name="fc1ac8b2-e54a-487c-8581-d3cc6625e560"></a>Upgrade Domains</span></span>
<span data-ttu-id="55a46-362">Domén upgradu představují logické jednotce, která vám pomoci určit, jak se virtuální počítač v rámci systému SAP, která se skládá z instancí SAP spuštěných v několika virtuálními počítači, aktualizuje.</span><span class="sxs-lookup"><span data-stu-id="55a46-362">Upgrade Domains represent a logical unit that help to determine how a VM within an SAP system, that consists of SAP instances running in multiple VMs, is updated.</span></span> <span data-ttu-id="55a46-363">Když dojde k upgradu, Microsoft Azure projde proces aktualizace těchto domén upgradu po jednom.</span><span class="sxs-lookup"><span data-stu-id="55a46-363">When an upgrade occurs, Microsoft Azure goes through the process of updating these Upgrade Domains one by one.</span></span> <span data-ttu-id="55a46-364">Tak, že se virtuální počítače v době nasazení v různých doménách upgradu, můžete chránit váš systém SAP částečně z potenciální výpadek.</span><span class="sxs-lookup"><span data-stu-id="55a46-364">By spreading VMs at deployment time over different Upgrade Domains, you can protect your SAP system partly from potential downtime.</span></span> <span data-ttu-id="55a46-365">Chcete-li vynutit Azure k nasazení virtuálních počítačů v různých doménách Upgrade systému SAP, budete muset nastavit konkrétní atribut v době nasazení každého virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-365">In order to force Azure to deploy the VMs of an SAP system spread over different Upgrade Domains, you need to set a specific attribute at deployment time of each VM.</span></span> <span data-ttu-id="55a46-366">Podobně jako u domén selhání, představuje jednotku škálování Azure je rozdělené do několika domén upgradu.</span><span class="sxs-lookup"><span data-stu-id="55a46-366">Similar to Fault Domains, an Azure Scale Unit is divided into multiple Upgrade Domains.</span></span> <span data-ttu-id="55a46-367">Aby bylo možné směrovat řadičem prostředků infrastruktury Azure k nasazení sadu virtuálních počítačů v různých doménách upgradu, budete muset přiřadit skupiny dostupnosti Azure virtuální počítače v době nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-367">In order to direct the Azure fabric controller to deploy a set of VMs over different Upgrade Domains, you need to assign an Azure Availability Set to the VMs at deployment time.</span></span> <span data-ttu-id="55a46-368">Další informace o Azure skupiny dostupnosti, naleznete v kapitole [skupiny dostupnosti Azure] [ planning-guide-3.2.3] níže.</span><span class="sxs-lookup"><span data-stu-id="55a46-368">For more information on Azure Availability Sets, see chapter [Azure Availability Sets][planning-guide-3.2.3] below.</span></span>

#### <span data-ttu-id="55a46-369"><a name="18810088-f9be-4c97-958a-27996255c665"></a>Skupiny dostupnosti Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-369"><a name="18810088-f9be-4c97-958a-27996255c665"></a>Azure Availability Sets</span></span>
<span data-ttu-id="55a46-370">Virtuální počítače Azure v rámci jedné skupiny dostupnosti Azure rozdělené podle Kontroleru prostředků infrastruktury Azure přes různé selhání a upgradu domény.</span><span class="sxs-lookup"><span data-stu-id="55a46-370">Azure Virtual Machines within one Azure Availability Set are distributed by the Azure Fabric Controller over different Fault and Upgrade Domains.</span></span> <span data-ttu-id="55a46-371">Účelem distribuce přes různé selhání a upgradu domény je zabránit vypnut v případě údržbu infrastruktury nebo selhání v jedné doméně selhání všech virtuálních počítačů systému SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-371">The purpose of the distribution over different Fault and Upgrade Domains is to prevent all VMs of an SAP system from being shut down in the case of infrastructure maintenance or a failure within one Fault Domain.</span></span> <span data-ttu-id="55a46-372">Ve výchozím nastavení virtuální počítače nejsou součástí skupiny dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="55a46-372">By default, VMs are not part of an Availability Set.</span></span> <span data-ttu-id="55a46-373">Zapojení virtuálního počítače do skupiny dostupnosti je definována v době nasazení nebo později tak, že změna konfigurace a opětovné nasazení virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-373">The participation of a VM in an Availability Set is defined at deployment time or later on by a reconfiguration and re-deployment of a VM.</span></span>

<span data-ttu-id="55a46-374">Porozumět koncepci skupinami dostupnosti služby Azure a způsob, jakým skupiny dostupnosti se týkají selhání a upgradu domény, přečtěte si [v tomto článku][virtual-machines-manage-availability]</span><span class="sxs-lookup"><span data-stu-id="55a46-374">To understand the concept of Azure Availability Sets and the way Availability Sets relate to Fault and Upgrade Domains, read [this article][virtual-machines-manage-availability]</span></span>

<span data-ttu-id="55a46-375">Definovat skupiny dostupnosti pro ARM prostřednictvím šablonu json najdete v tématu [specifikace rozhraní rest api](https://github.com/Azure/azure-rest-api-specs/blob/master/arm-compute/2015-06-15/swagger/compute.json) a vyhledejte "dostupnosti".</span><span class="sxs-lookup"><span data-stu-id="55a46-375">To define availability sets for ARM via a json template see [the rest-api specs](https://github.com/Azure/azure-rest-api-specs/blob/master/arm-compute/2015-06-15/swagger/compute.json) and search for "availability".</span></span>

### <span data-ttu-id="55a46-376"><a name="a72afa26-4bf4-4a25-8cf7-855d6032157f"></a>Úložiště: Microsoft Azure Storage a datové disky</span><span class="sxs-lookup"><span data-stu-id="55a46-376"><a name="a72afa26-4bf4-4a25-8cf7-855d6032157f"></a>Storage: Microsoft Azure Storage and Data Disks</span></span>
<span data-ttu-id="55a46-377">Microsoft Azure virtuální počítače využívat různé typy úložišť.</span><span class="sxs-lookup"><span data-stu-id="55a46-377">Microsoft Azure Virtual Machines utilize different storage types.</span></span> <span data-ttu-id="55a46-378">Při implementaci SAP na služby virtuálního počítače Azure, je důležité znát rozdíly mezi tyto dva hlavní typy úložiště:</span><span class="sxs-lookup"><span data-stu-id="55a46-378">When implementing SAP on Azure Virtual Machine Services, it is important to understand the differences between these two main types of storage:</span></span>

* <span data-ttu-id="55a46-379">Bez trvalé, volatile úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-379">Non-Persistent, volatile storage.</span></span>
* <span data-ttu-id="55a46-380">Trvalé úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-380">Persistent storage.</span></span>

<span data-ttu-id="55a46-381">Dočasnou úložiště je přímo připojený k běžící virtuální počítače a se nachází na výpočetních uzlech sami – místní instance úložiště (dočasné úložiště).</span><span class="sxs-lookup"><span data-stu-id="55a46-381">The non-persistent storage is directly attached to the running Virtual Machines and resides on the compute nodes themselves – the local instance storage (temporary storage).</span></span> <span data-ttu-id="55a46-382">Velikost závisí na velikosti virtuálního počítače, které vybrali při spuštění nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-382">The size depends on the size of the Virtual Machine chosen when the deployment started.</span></span> <span data-ttu-id="55a46-383">Tento typ úložiště je volatile a proto je disk inicializován při restartování instanci virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-383">This storage type is volatile and therefore the disk is initialized when a Virtual Machine instance is restarted.</span></span> <span data-ttu-id="55a46-384">Stránkovací soubor pro operační systém se obvykle nachází na toto dočasný disku.</span><span class="sxs-lookup"><span data-stu-id="55a46-384">Typically, the pagefile for the operating system is located on this temporary disk.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-386">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-386">Windows</span></span>
>
> <span data-ttu-id="55a46-387">Na virtuálních počítačích Windows je dočasná disk připojit jako jednotku D:\ v nasazených virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-387">On Windows VMs the temp drive is mounted as drive D:\ in a deployed VM.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-389">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-389">Linux</span></span>
>
> <span data-ttu-id="55a46-390">Na virtuální počítače s Linuxem je připojené jako /mnt/resource nebo /mnt.</span><span class="sxs-lookup"><span data-stu-id="55a46-390">On Linux VMs, it's mounted as /mnt/resource or /mnt.</span></span> <span data-ttu-id="55a46-391">Naleznete zde podrobnosti:</span><span class="sxs-lookup"><span data-stu-id="55a46-391">See more details here:</span></span>
>
> * <span data-ttu-id="55a46-392">[Tom, jak připojit datový Disk pro virtuální počítač s Linuxem][virtual-machines-linux-how-to-attach-disk]</span><span class="sxs-lookup"><span data-stu-id="55a46-392">[How to Attach a Data Disk to a Linux Virtual Machine][virtual-machines-linux-how-to-attach-disk]</span></span>
> * <span data-ttu-id="55a46-393"><https://docs.microsoft.com/Azure/Storage/Storage-About-Disks-and-vhds-Linux#Temporary-disk></span><span class="sxs-lookup"><span data-stu-id="55a46-393"><https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux#temporary-disk></span></span>
>
>

- - -
<span data-ttu-id="55a46-394">Skutečné jednotka je volatile, protože je získávání uložený na samotném serveru hostitele.</span><span class="sxs-lookup"><span data-stu-id="55a46-394">The actual drive is volatile because it is getting stored on the host server itself.</span></span> <span data-ttu-id="55a46-395">Pokud se přesune virtuální počítač v opětovné nasazení (například z důvodu údržby v hostiteli nebo vypnutí a restartování) obsah disku dojde ke ztrátě.</span><span class="sxs-lookup"><span data-stu-id="55a46-395">If the VM moved in a redeployment (for example due to maintenance on the host or shutdown and restart) the content of the drive is lost.</span></span> <span data-ttu-id="55a46-396">Proto není možnost k ukládání důležitých dat na této jednotce.</span><span class="sxs-lookup"><span data-stu-id="55a46-396">Therefore, it is not an option to store any important data on this drive.</span></span> <span data-ttu-id="55a46-397">Typ média pro tento typ úložiště použít se liší mezi jinou sérii virtuálních počítačů se příliš neliší výkonové charakteristiky, které od června 2015 vypadat podobně jako:</span><span class="sxs-lookup"><span data-stu-id="55a46-397">The type of media used for this type of storage differs between different VM series with very different performance characteristics which as of June 2015 look like:</span></span>

* <span data-ttu-id="55a46-398">A5-A7: Velmi omezená výkonu.</span><span class="sxs-lookup"><span data-stu-id="55a46-398">A5-A7: Very limited performance.</span></span> <span data-ttu-id="55a46-399">Není doporučeno pro všechno, co je nad rámec stránkovacího souboru</span><span class="sxs-lookup"><span data-stu-id="55a46-399">Not recommended for anything beyond page file</span></span>
* <span data-ttu-id="55a46-400">A8-A11: Velmi dobré výkonové charakteristiky se některé deset tisíc IOPS a > propustnost 1GB/s.</span><span class="sxs-lookup"><span data-stu-id="55a46-400">A8-A11: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="55a46-401">D-Series: Velmi dobré výkonové charakteristiky se některé pak tisíců IOPS a > propustnost 1GB/s.</span><span class="sxs-lookup"><span data-stu-id="55a46-401">D-Series: Very good performance characteristics with some then thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="55a46-402">DS-Series: Velmi dobré výkonové charakteristiky se některé deset tisíc IOPS a > propustnost 1GB/s.</span><span class="sxs-lookup"><span data-stu-id="55a46-402">DS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="55a46-403">G-Series: Velmi dobré výkonové charakteristiky se některé deset tisíc IOPS a > propustnost 1GB/s.</span><span class="sxs-lookup"><span data-stu-id="55a46-403">G-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>
* <span data-ttu-id="55a46-404">GS-Series: Velmi dobré výkonové charakteristiky se některé deset tisíc IOPS a > propustnost 1GB/s.</span><span class="sxs-lookup"><span data-stu-id="55a46-404">GS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput.</span></span>

<span data-ttu-id="55a46-405">Výše uvedené příkazy se má použít pro typy virtuálních počítačů, které jsou certifikované s SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-405">Statements above are applying to the VM types that are certified with SAP.</span></span> <span data-ttu-id="55a46-406">Virtuální počítač series s vynikající IOPS a propustnost dosáhlo nároku na využívání některé funkce databázového systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-406">The VM-series with excellent IOPS and throughput qualify for leverage by some DBMS features.</span></span> <span data-ttu-id="55a46-407">Další informace najdete v tématu [Průvodce nasazením databázového systému][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-407">For more information, see the [DBMS Deployment Guide][dbms-guide].</span></span>

<span data-ttu-id="55a46-408">Microsoft Azure Storage poskytuje trvalou úložiště a typické úrovně ochrany a redundance jsme si ukazovali tady úložiště SAN.</span><span class="sxs-lookup"><span data-stu-id="55a46-408">Microsoft Azure Storage provides persisted storage and the typical levels of protection and redundancy seen on SAN storage.</span></span> <span data-ttu-id="55a46-409">Disky založené na Azure Storage jsou virtuální pevný disk (VHD) v služby Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="55a46-409">Disks based on Azure Storage are virtual hard disk (VHDs) located in the Azure Storage Services.</span></span> <span data-ttu-id="55a46-410">Místní Disk operačního systému (Windows C:\, Linux/dev/sda1) je uložen v úložišti Azure, a další svazky nebo disky připojené k virtuálnímu počítači získat v ní uloženy, příliš.</span><span class="sxs-lookup"><span data-stu-id="55a46-410">The local OS-Disk (Windows C:\, Linux /dev/sda1) is stored on the Azure Storage, and additional Volumes/Disks mounted to the VM get stored there, too.</span></span>

<span data-ttu-id="55a46-411">Je možné nahrát existující virtuální pevný disk z místní nebo prázdných z v rámci Azure a vytvořte do nasazené virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-411">It is possible to upload an existing VHD from on-premises or create empty ones from within Azure and attach those to deployed VMs.</span></span>

<span data-ttu-id="55a46-412">Po vytvoření nebo odesílání virtuálního pevného disku do úložiště Azure, je možné připojit a připojit, aby se stávající virtuální počítač a zkopírovat stávající virtuální pevný disk (nepřipojené).</span><span class="sxs-lookup"><span data-stu-id="55a46-412">After creating or uploading a VHD into Azure Storage, it is possible to mount and attach those to an existing Virtual Machine and to copy existing (unmounted) VHD.</span></span>

<span data-ttu-id="55a46-413">Tyto virtuální pevné disky jsou nastavené jako trvalé, data a změny v těch, které jsou bezpečné při restartování a znovu vytvořit instanci virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-413">As those VHDs are persisted, data and changes within those are safe when rebooting and recreating a Virtual Machine instance.</span></span> <span data-ttu-id="55a46-414">I když je odstraněna instance, tyto virtuální pevné disky zůstal v bezpečí a můžete znovu nasadit nebo v případě disky bez operačního systému může být připojen k ostatním virtuálním počítačům.</span><span class="sxs-lookup"><span data-stu-id="55a46-414">Even if an instance is deleted, these VHDs stay safe and can be redeployed or in case of non-OS disks can be mounted to other VMs.</span></span>

<span data-ttu-id="55a46-415">V rámci sítě Azure Storage, můžete nakonfigurovat různé redundance úrovně:</span><span class="sxs-lookup"><span data-stu-id="55a46-415">Within the network of Azure Storage different redundancy levels can be configured:</span></span>

* <span data-ttu-id="55a46-416">Minimální úroveň, kterou je možné vybrat je 'místní redundanci', která je ekvivalentní tři repliky dat ve stejném datovém centru oblast Azure (naleznete v kapitole [oblasti Azure][planning-guide-3.1]).</span><span class="sxs-lookup"><span data-stu-id="55a46-416">Minimum level that can be selected is ‘local redundancy’, which is equivalent to three-replica of the data within the same data center of an Azure Region (see chapter [Azure Regions][planning-guide-3.1]).</span></span>
* <span data-ttu-id="55a46-417">Redundantní úložiště zóny, které šíří tři Image přes různé datové centra v rámci stejné oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-417">Zone redundant storage, which spreads the three images over different data centers within the same Azure Region.</span></span>
* <span data-ttu-id="55a46-418">Výchozí úroveň redundance je geografická redundance, která asynchronně replikuje obsahu do jiného tři bitové kopie dat do jiné oblasti Azure, který je hostován ve stejné geopolitické oblasti.</span><span class="sxs-lookup"><span data-stu-id="55a46-418">Default redundancy level is geographic redundancy, which asynchronously replicates the content into another three images of the data into another Azure Region, which is hosted in the same geopolitical region.</span></span>

<span data-ttu-id="55a46-419">Také najdete v tabulce v tomto článku týkající se možnosti různých redundance: <https://azure.microsoft.com/pricing/details/storage/></span><span class="sxs-lookup"><span data-stu-id="55a46-419">Also see the table on top of this article regarding the different redundancy options: <https://azure.microsoft.com/pricing/details/storage/></span></span>

<span data-ttu-id="55a46-420">Další informace o službě Azure Storage naleznete zde:</span><span class="sxs-lookup"><span data-stu-id="55a46-420">More information about Azure Storage can be found here:</span></span>

* <span data-ttu-id="55a46-421"><https://Azure.microsoft.com/documentation/Services/Storage/></span><span class="sxs-lookup"><span data-stu-id="55a46-421"><https://azure.microsoft.com/documentation/services/storage/></span></span>
* <span data-ttu-id="55a46-422"><https://Azure.microsoft.com/Services/Site-Recovery></span><span class="sxs-lookup"><span data-stu-id="55a46-422"><https://azure.microsoft.com/services/site-recovery></span></span>
* <span data-ttu-id="55a46-423"><https://docs.microsoft.com/REST/API/storageservices/Understanding-Block-BLOBS--append-BLOBS--and-Page-BLOBS></span><span class="sxs-lookup"><span data-stu-id="55a46-423"><https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs></span></span>
* <span data-ttu-id="55a46-424"><https://blogs.msdn.com/b/azuresecurity/archive/2015/11/17/Azure-disk-Encryption-for-Linux-and-Windows-Virtual-Machines-Public-Preview.aspx></span><span class="sxs-lookup"><span data-stu-id="55a46-424"><https://blogs.msdn.com/b/azuresecurity/archive/2015/11/17/azure-disk-encryption-for-linux-and-windows-virtual-machines-public-preview.aspx></span></span>

#### <a name="azure-standard-storage"></a><span data-ttu-id="55a46-425">Úložiště Azure úrovně Standard</span><span class="sxs-lookup"><span data-stu-id="55a46-425">Azure Standard Storage</span></span>
<span data-ttu-id="55a46-426">Standardní úložiště Azure se typ úložiště, které jsou k dispozici, pokud byl vydán Azure IaaS.</span><span class="sxs-lookup"><span data-stu-id="55a46-426">Azure Standard storage was the type of storage available when Azure IaaS was released.</span></span> <span data-ttu-id="55a46-427">Nebyly IOPS kvóty na jednom disku.</span><span class="sxs-lookup"><span data-stu-id="55a46-427">There were IOPS quotas enforced per single disk.</span></span> <span data-ttu-id="55a46-428">Latence došlo nebyla ve stejné třídy jako zařízení sítě SAN nebo NAS obvykle nasazuje pro vyšší kategorie systémy SAP hostované na místě.</span><span class="sxs-lookup"><span data-stu-id="55a46-428">Latency experienced was not in the same class as SAN/NAS devices typically deployed for high-end SAP systems hosted on-premises.</span></span> <span data-ttu-id="55a46-429">Azure Standard Storage ukázalo dostatečná pro mnoho stovky systémy SAP mezitím nasazené v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-429">Nevertheless, the Azure Standard Storage proved sufficient for many hundreds SAP systems meanwhile deployed in Azure.</span></span>

<span data-ttu-id="55a46-430">Disky, které jsou uložené na standardních účtech úložiště Azure budou účtovat podle skutečné data, která je uložená, objem transakce úložiště, odchozí přenosy dat a zvolená možnost redundance.</span><span class="sxs-lookup"><span data-stu-id="55a46-430">Disks that are stored on Azure Standard Storage Accounts are charged based on the actual data that is stored, the volume of storage transactions, outbound data transfers, and redundancy option chosen.</span></span> <span data-ttu-id="55a46-431">Mnoho disky se dají vytvořit v maximální 1TB, velikost, ale také ty zůstat prázdné je bezplatná.</span><span class="sxs-lookup"><span data-stu-id="55a46-431">Many disks can be created at the maximum 1TB in size, but as long as those remain empty there is no charge.</span></span> <span data-ttu-id="55a46-432">Pokud pak zadejte jeden virtuální pevný disk s 100GB, budou se účtovat pro ukládání 100GB a ne pro nominální velikost, které s nebyl vytvořen virtuální pevný disk.</span><span class="sxs-lookup"><span data-stu-id="55a46-432">If you then fill one VHD with 100GB each, you are charged for storing 100GB and not for the nominal size the VHD got created with.</span></span>

#### <span data-ttu-id="55a46-433"><a name="ff5ad0f9-f7f4-4022-9102-af07aef3bc92"></a>Azure Premium Storage</span><span class="sxs-lookup"><span data-stu-id="55a46-433"><a name="ff5ad0f9-f7f4-4022-9102-af07aef3bc92"></a>Azure Premium Storage</span></span>
<span data-ttu-id="55a46-434">V duben 2015 zavedl Microsoft Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="55a46-434">In April 2015, Microsoft introduced Azure Premium Storage.</span></span> <span data-ttu-id="55a46-435">Storage úrovně Premium získali zavedl s cílem zajistit:</span><span class="sxs-lookup"><span data-stu-id="55a46-435">Premium Storage got introduced with the goal to provide:</span></span>

* <span data-ttu-id="55a46-436">Lepší latence vstupně-výstupní operace.</span><span class="sxs-lookup"><span data-stu-id="55a46-436">Better I/O latency.</span></span>
* <span data-ttu-id="55a46-437">Lepší propustnost.</span><span class="sxs-lookup"><span data-stu-id="55a46-437">Better throughput.</span></span>
* <span data-ttu-id="55a46-438">Menší je jejich variabilita latence vstupně-výstupní operace.</span><span class="sxs-lookup"><span data-stu-id="55a46-438">Less variability in I/O latency.</span></span>

<span data-ttu-id="55a46-439">K tomuto účelu mnoho změn zavedených nejvýznamnějších dva jsou:</span><span class="sxs-lookup"><span data-stu-id="55a46-439">For that purpose, many changes were introduced of which the two most significant are:</span></span>

* <span data-ttu-id="55a46-440">Využití disků SSD na uzlech Azure Storage</span><span class="sxs-lookup"><span data-stu-id="55a46-440">Usage of SSD disks in the Azure Storage nodes</span></span>
* <span data-ttu-id="55a46-441">Nový číst mezipaměti, které je založeno na místní SSD Azure výpočetního uzlu</span><span class="sxs-lookup"><span data-stu-id="55a46-441">A new read cache that is backed by the local SSD of an Azure compute node</span></span>

<span data-ttu-id="55a46-442">V opačném standardního úložiště, kde se nezměnila možnosti závisí na velikosti disku (nebo VHD), Storage úrovně Premium aktuálně má tří kategorií jiný disk, které jsou uvedeny v tomto článku: <https://azure.microsoft.com/pricing/details/storage/unmanaged-disks/></span><span class="sxs-lookup"><span data-stu-id="55a46-442">In opposite to Standard storage where capabilities did not change dependent on the size of the disk (or VHD), Premium Storage currently has three different disk categories, which are shown in this article: <https://azure.microsoft.com/pricing/details/storage/unmanaged-disks/></span></span>

<span data-ttu-id="55a46-443">Uvidíte, zda jsou závislé na kategorii velikost disků nebo disku a disku propustnost nebo disku</span><span class="sxs-lookup"><span data-stu-id="55a46-443">You see that IOPS/disk and disk throughput/disk are dependent on the size category of the disks</span></span>

<span data-ttu-id="55a46-444">Základní náklady v případě Storage úrovně Premium není svazek skutečná data uložená v těchto discích, ale velikost kategorii takový disk, nezávisle na množství dat, která jsou uložená v disku.</span><span class="sxs-lookup"><span data-stu-id="55a46-444">Cost basis in the case of Premium Storage is not the actual data volume stored in such disks, but the size category of such a disk, independent of the amount of the data that is stored within the disk.</span></span>

<span data-ttu-id="55a46-445">Také můžete vytvořit disky na Storage úrovně Premium, které nejsou přímo mapování do kategorií velikost vidět.</span><span class="sxs-lookup"><span data-stu-id="55a46-445">You also can create disks on Premium Storage that are not directly mapping into the size categories shown.</span></span> <span data-ttu-id="55a46-446">To může být případ, zejména v případě, že kopírování disků ze standardního úložiště do úložiště úrovně Premium.</span><span class="sxs-lookup"><span data-stu-id="55a46-446">This may be the case, especially when copying disks from Standard Storage into Premium Storage.</span></span> <span data-ttu-id="55a46-447">V takových případech se provádí mapování na možnost další disk největší Storage úrovně Premium.</span><span class="sxs-lookup"><span data-stu-id="55a46-447">In such cases a mapping to the next largest Premium Storage disk option is performed.</span></span>

<span data-ttu-id="55a46-448">Upozorňujeme, že pouze určité řadu virtuálních počítačů mohou těžit z výhod Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="55a46-448">Be aware that only certain VM series can benefit from the Azure Premium Storage.</span></span> <span data-ttu-id="55a46-449">Od prosince 2015 jedná se o řady GS a DS.</span><span class="sxs-lookup"><span data-stu-id="55a46-449">As of Dec 2015, these are the DS- and GS-series.</span></span> <span data-ttu-id="55a46-450">DS-series je v podstatě stejný jako D-series s tím rozdílem, že DS-series má schopnost Storage úrovně Premium připojení virtuálních počítačů kromě na disky, které jsou hostované na základě Azure Standard Storage.</span><span class="sxs-lookup"><span data-stu-id="55a46-450">The DS-series is basically the same as D-series with the exception that DS-series has the ability to mount Premium Storage based VMs additionally to disks that are hosted on Azure Standard Storage.</span></span> <span data-ttu-id="55a46-451">Totéž platí pro G-series ve srovnání s GS-series.</span><span class="sxs-lookup"><span data-stu-id="55a46-451">Same thing is valid for G-series compared to GS-series.</span></span>

<span data-ttu-id="55a46-452">Pokud se odhlašuje součástí DS-series virtuálních počítačů v [v tomto článku (Linux)] [ virtual-machines-sizes-linux] a [v tomto článku (Windows)][virtual-machines-sizes-windows], si myslíte, že jsou data svazku omezení na Storage úrovně Premium disky na členitost úroveň virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-452">If you are checking out the part of the DS-series VMs in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows], you realize that there are data volume limitations to Premium Storage disks on the granularity of the VM level.</span></span> <span data-ttu-id="55a46-453">Různé DS-series nebo GS-series virtuálních počítačů také mít různá omezení namapoval počet datových disků, které může být připojen.</span><span class="sxs-lookup"><span data-stu-id="55a46-453">Different DS-series or GS-series VMs also have different limitations in regards to the number of data disks that can be mounted.</span></span> <span data-ttu-id="55a46-454">Tato omezení jsou popsané v článku také uvedených výše.</span><span class="sxs-lookup"><span data-stu-id="55a46-454">These limits are documented in the article mentioned above as well.</span></span> <span data-ttu-id="55a46-455">Ale v podstatě znamená, že pokud, například připojíte 32 x P30 disků, aby se jeden virtuální počítač DS14 není získáte 32 x maximální propustnost P30 disku.</span><span class="sxs-lookup"><span data-stu-id="55a46-455">But in essence it means that if you, for example, mount 32 x P30 disks to a single DS14 VM you can NOT get 32 x the maximum throughput of a P30 disk.</span></span> <span data-ttu-id="55a46-456">Místo toho maximální propustnost na úrovni virtuálních počítačů, jak je uvedeno v následujícím článku omezuje propustnost dat.</span><span class="sxs-lookup"><span data-stu-id="55a46-456">Instead the maximum throughput on VM level as documented in the article limits data throughput.</span></span>

<span data-ttu-id="55a46-457">Další informace o Storage úrovně Premium naleznete zde: <http://azure.microsoft.com/blog/2015/04/16/azure-premium-storage-now-generally-available-2></span><span class="sxs-lookup"><span data-stu-id="55a46-457">More information on Premium Storage can be found here: <http://azure.microsoft.com/blog/2015/04/16/azure-premium-storage-now-generally-available-2></span></span>

#### <span data-ttu-id="55a46-458"><a name="c55b2c6e-3ca1-4476-be16-16c81927550f"></a>Spravované disky</span><span class="sxs-lookup"><span data-stu-id="55a46-458"><a name="c55b2c6e-3ca1-4476-be16-16c81927550f"></a>Managed Disks</span></span>
<span data-ttu-id="55a46-459">Spravované disky jsou nového typu prostředku v Azure Resource Manager, který lze použít místo virtuální pevné disky, které jsou uložené v účtech úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-459">Managed Disks are a new resource type in Azure Resource Manager that can be used instead of VHDs that are stored in Azure Storage Accounts.</span></span> <span data-ttu-id="55a46-460">Spravované disky automaticky zarovnané s skupina dostupnosti virtuálního počítače, které jsou připojené k a proto zvýšit dostupnost virtuálního počítače a služby, které jsou spuštěny na virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="55a46-460">Managed Disks automatically align with the Availability Set of the virtual machine they are attached to and therefore increase the availability of your virtual machine and the services that are running on the virtual machine.</span></span> <span data-ttu-id="55a46-461">Další informace najdete v tématu [článek s přehledem](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span><span class="sxs-lookup"><span data-stu-id="55a46-461">For more information, read the [overview article](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span></span>

<span data-ttu-id="55a46-462">Doporučujeme použít spravované disku, protože se zjednodušit nasazení a správu virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-462">We recommend to you use Managed disk, because they simplify the deployment and management of your virtual machines.</span></span>
<span data-ttu-id="55a46-463">SAP aktuálně podporuje jenom disky spravované Premium.</span><span class="sxs-lookup"><span data-stu-id="55a46-463">SAP currently only supports Premium Managed Disks.</span></span> <span data-ttu-id="55a46-464">Další informace najdete v tématu Poznámka SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="55a46-464">For more information, read SAP Note [1928533].</span></span>

#### <a name="azure-storage-accounts"></a><span data-ttu-id="55a46-465">Účty služby Azure Storage</span><span class="sxs-lookup"><span data-stu-id="55a46-465">Azure Storage Accounts</span></span>
<span data-ttu-id="55a46-466">Při nasazování služeb nebo virtuálních počítačů v Azure, mohou být uspořádány nasazení virtuální pevné disky a Image virtuálních počítačů v jednotek nazývaných účtech úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-466">When deploying services or VMs in Azure, deployment of VHDs and VM Images can be organized in units called Azure Storage Accounts.</span></span> <span data-ttu-id="55a46-467">Při plánování nasazení služby Azure, budete muset pečlivě zvažte omezení Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-467">When planning an Azure deployment, you need to carefully consider the restrictions of Azure.</span></span> <span data-ttu-id="55a46-468">Na jedné straně je omezený počet účtů úložiště podle předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-468">On the one side, there is a limited number of Storage Accounts per Azure subscription.</span></span> <span data-ttu-id="55a46-469">I když každý účet úložiště Azure pojme velký počet soubory virtuálního pevného disku, je pevný limit na celkový počet IOPS na účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-469">Although each Azure Storage Account can hold a large number of VHD files, there is a fixed limit on the total IOPS per Storage Account.</span></span> <span data-ttu-id="55a46-470">Při nasazování stovky SAP virtuálních počítačů se systémy databázového systému vytváření významné volání vstupně-výstupní operace, se doporučuje distribuovat vysoké databázového systému virtuální počítače IOPS mezi více účtů úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-470">When deploying hundreds of SAP VMs with DBMS systems creating significant IO calls, it is recommended to distribute high IOPS DBMS VMs between multiple Azure Storage Accounts.</span></span> <span data-ttu-id="55a46-471">Musí dát pozor nechcete překračovat aktuální limit účtech úložiště Azure za předplatné.</span><span class="sxs-lookup"><span data-stu-id="55a46-471">Care must be taken not to exceed the current limit of Azure Storage Accounts per subscription.</span></span> <span data-ttu-id="55a46-472">Vzhledem k tomu, že úložiště je důležitou součástí nasazení databáze systému SAP, tento koncept je podrobněji popsána v již odkazovaná [Průvodce nasazením databázového systému][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-472">Because storage is a vital part of the database deployment for an SAP system, this concept is discussed in more detail in the already referenced [DBMS Deployment Guide][dbms-guide].</span></span>

<span data-ttu-id="55a46-473">Další informace o účtech Azure Storage najdete v [v tomto článku][storage-scalability-targets].</span><span class="sxs-lookup"><span data-stu-id="55a46-473">More information about Azure Storage Accounts can be found in [this article][storage-scalability-targets].</span></span> <span data-ttu-id="55a46-474">Přečtení tohoto článku, zjistíte, že nejsou v omezení rozdíly mezi standardních účtech úložiště Azure a účty úložiště Premium.</span><span class="sxs-lookup"><span data-stu-id="55a46-474">Reading this article, you realize that there are differences in the limitations between Azure Standard Storage Accounts and Premium Storage Accounts.</span></span> <span data-ttu-id="55a46-475">Hlavní rozdíly mezi nimi jsou objem dat, které můžou být uložené v rámci účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-475">Major differences are the volume of data that can be stored within such a Storage Account.</span></span> <span data-ttu-id="55a46-476">V Standard Storage svazek je větší než Storage úrovně Premium rozsahem.</span><span class="sxs-lookup"><span data-stu-id="55a46-476">In Standard Storage the volume is a magnitude larger than with Premium Storage.</span></span> <span data-ttu-id="55a46-477">Na druhé straně standardní účet úložiště je vážně omezená IOPS (viz sloupec 'Celkový počet požadavků'), zatímco prémiový účet úložiště Azure má žádné takové omezení.</span><span class="sxs-lookup"><span data-stu-id="55a46-477">On the other side, the Standard Storage Account is severely limited in IOPS (see column ‘Total Request Rate’), whereas the Azure Premium Storage Account has no such limitation.</span></span> <span data-ttu-id="55a46-478">Se budeme zabývat podrobnosti a výsledky tyto rozdíly když hovoříte o nasazení SAP systémy, hlavně servery databázového systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-478">We will discuss details and results of these differences when discussing the deployments of SAP systems, especially the DBMS servers.</span></span>

<span data-ttu-id="55a46-479">V rámci účtu úložiště máte možnost vytvořit různé kontejnery za účelem uspořádání a kategorizaci jiný virtuální pevné disky.</span><span class="sxs-lookup"><span data-stu-id="55a46-479">Within a Storage Account, you have the possibility to create different containers for the purpose of organizing and categorizing different VHDs.</span></span> <span data-ttu-id="55a46-480">Tyto kontejnery se obvykle používají k například samostatné virtuální pevné disky různé virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-480">These containers are usually used to, for example, separate VHDs of different VMs.</span></span> <span data-ttu-id="55a46-481">Neexistují žádné ovlivnit výkon při použití kontejner jenom jeden nebo více kontejnerů pod jeden účet úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-481">There are no performance implications in using just one container or multiple containers underneath a single Azure Storage Account.</span></span>

<span data-ttu-id="55a46-482">Název disku VHD v rámci Azure zahrnuje následující pojmenování připojení, které je potřeba zadat jedinečný název pro virtuální pevný disk v rámci Azure:</span><span class="sxs-lookup"><span data-stu-id="55a46-482">Within Azure a VHD name follows the following naming connection that needs to provide a unique name for the VHD within Azure:</span></span>

    http(s)://<storage account name>.blob.core.windows.net/<container name>/<vhd name>

<span data-ttu-id="55a46-483">Jak je uvedeno výše řetězec musí k jednoznačné identifikaci virtuální pevný disk, který je uložen v úložišti Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-483">As mentioned the string above needs to uniquely identify the VHD that is stored on Azure Storage.</span></span>

### <span data-ttu-id="55a46-484"><a name="61678387-8868-435d-9f8c-450b2424f5bd"></a>Sítě Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-484"><a name="61678387-8868-435d-9f8c-450b2424f5bd"></a>Microsoft Azure Networking</span></span>
<span data-ttu-id="55a46-485">Microsoft Azure poskytuje síťovou infrastrukturu, která umožňuje mapování všechny scénáře, které chceme mějte na paměti SAP softwarem.</span><span class="sxs-lookup"><span data-stu-id="55a46-485">Microsoft Azure provides a network infrastructure, which allows the mapping of all scenarios, which we want to realize with SAP software.</span></span> <span data-ttu-id="55a46-486">Možnosti jsou:</span><span class="sxs-lookup"><span data-stu-id="55a46-486">The capabilities are:</span></span>

* <span data-ttu-id="55a46-487">Přístup z venku, přímo k virtuálním počítačům prostřednictvím Terminálová služba systému Windows nebo ssh/VNC</span><span class="sxs-lookup"><span data-stu-id="55a46-487">Access from the outside, directly to the VMs via Windows Terminal Services or ssh/VNC</span></span>
* <span data-ttu-id="55a46-488">Přístup ke službám a určité porty používané aplikacemi v rámci virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="55a46-488">Access to services and specific ports used by applications within the VMs</span></span>
* <span data-ttu-id="55a46-489">Interní komunikaci a překlad mezi skupinou virtuální počítače nasazené jako virtuální počítače Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-489">Internal Communication and Name Resolution between a group of VMs deployed as Azure VMs</span></span>
* <span data-ttu-id="55a46-490">Připojení mezi různými místy mezi místní sítí zákazníka a síť Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-490">Cross-premises Connectivity between a customer’s on-premises network and the Azure network</span></span>
* <span data-ttu-id="55a46-491">Křížové oblast Azure nebo datových center připojení mezi sítěmi Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-491">Cross Azure Region or data center connectivity between Azure sites</span></span>

<span data-ttu-id="55a46-492">Další informace naleznete zde: <https://azure.microsoft.com/documentation/services/virtual-network/></span><span class="sxs-lookup"><span data-stu-id="55a46-492">More information can be found here: <https://azure.microsoft.com/documentation/services/virtual-network/></span></span>

<span data-ttu-id="55a46-493">Existuje mnoho různých možností, jak konfigurovat název a IP řešení v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-493">There are many different possibilities to configure name and IP resolution in Azure.</span></span> <span data-ttu-id="55a46-494">V tomto dokumentu jenom pro Cloud scénáře spoléhají na výchozí hodnotu pomocí Azure DNS (na rozdíl od definování vlastní služby DNS).</span><span class="sxs-lookup"><span data-stu-id="55a46-494">In this document, Cloud-Only scenarios rely on the default of using Azure DNS (in contrast to defining an own DNS service).</span></span> <span data-ttu-id="55a46-495">Je také novou službu Azure DNS, který může být použit místo nastavení serveru DNS.</span><span class="sxs-lookup"><span data-stu-id="55a46-495">There is also a new Azure DNS service, which can be used instead of setting up your own DNS server.</span></span> <span data-ttu-id="55a46-496">Další informace naleznete v [v tomto článku] [ virtual-networks-manage-dns-in-vnet] a na [tuto stránku](https://azure.microsoft.com/services/dns/).</span><span class="sxs-lookup"><span data-stu-id="55a46-496">More information can be found in [this article][virtual-networks-manage-dns-in-vnet] and on [this page](https://azure.microsoft.com/services/dns/).</span></span>

<span data-ttu-id="55a46-497">Pro scénáře mezi různými místy, jsme se spoléhat na fakt, na který místní AD a OpenLDAP/DNS bylo rozšířeno prostřednictvím sítě VPN nebo privátní připojení do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-497">For cross-premises scenarios, we are relying on the fact that the on-premises AD/OpenLDAP/DNS has been extended via VPN or private connection to Azure.</span></span> <span data-ttu-id="55a46-498">Pro určité scénáře podle postupu uvedeného v tomto poli může být potřeba mít repliku AD nebo OpenLDAP nainstalován v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-498">For certain scenarios as documented here, it might be necessary to have an AD/OpenLDAP replica installed in Azure.</span></span>

<span data-ttu-id="55a46-499">Protože sítě a překladu je důležitou součástí nasazení databáze systému SAP, tento koncept je podrobněji popsána v [Průvodce nasazením databázového systému][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-499">Because networking and name resolution is a vital part of the database deployment for an SAP system, this concept is discussed in more detail in the [DBMS Deployment Guide][dbms-guide].</span></span>

##### <a name="azure-virtual-networks"></a><span data-ttu-id="55a46-500">Virtuální sítě Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-500">Azure Virtual Networks</span></span>
<span data-ttu-id="55a46-501">Sestavením virtuální síť Azure, můžete definovat rozsah adres privátní IP adresy přidělené funkce Azure protokolu DHCP.</span><span class="sxs-lookup"><span data-stu-id="55a46-501">By building up an Azure Virtual Network, you can define the address range of the private IP addresses allocated by Azure DHCP functionality.</span></span> <span data-ttu-id="55a46-502">Ve scénářích mezi různými místy rozsah IP adres definované je pořád ještě přidělená použití protokolu DHCP v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-502">In cross-premises scenarios, the IP address range defined is still allocated using DHCP by Azure.</span></span> <span data-ttu-id="55a46-503">Ale překlad názvu domény se provádí místně (za předpokladu, že virtuální počítače jsou součástí místní domény) a proto může překládat adresy mimo jiné cloudové služby Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-503">However, Domain Name resolution is done on-premises (assuming that the VMs are a part of an on-premises domain) and hence can resolve addresses beyond different Azure Cloud Services.</span></span>

<span data-ttu-id="55a46-504">Každý virtuální počítač v Azure musí být připojen k virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="55a46-504">Every Virtual Machine in Azure needs to be connected to a Virtual Network.</span></span>

<span data-ttu-id="55a46-505">Další podrobnosti naleznete v [v tomto článku] [ resource-groups-networking] a na [tuto stránku](https://azure.microsoft.com/documentation/services/virtual-network/).</span><span class="sxs-lookup"><span data-stu-id="55a46-505">More details can be found in [this article][resource-groups-networking] and on [this page](https://azure.microsoft.com/documentation/services/virtual-network/).</span></span>

[comment]: <> (MShermannd TODO nelze nalézt článek, který obsahuje téma OpenLDAP + ARM;)
[comment]: <> (MSSedusch < https://channel9.msdn.com/Blogs/Open/Load-balancing-highly-available-Linux-services-on-Windows-Azure-OpenLDAP-and-MySQL>)

> [!NOTE]
> <span data-ttu-id="55a46-508">Ve výchozím nastavení Jakmile je nasazen virtuální počítač nejde změnit konfiguraci virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="55a46-508">By default, once a VM is deployed you cannot change the Virtual Network configuration.</span></span> <span data-ttu-id="55a46-509">Nastavení protokolu TCP/IP musí být ponechány na server Azure DHCP.</span><span class="sxs-lookup"><span data-stu-id="55a46-509">The TCP/IP settings must be left to the Azure DHCP server.</span></span> <span data-ttu-id="55a46-510">Výchozí chování je přiřazování dynamické IP adres.</span><span class="sxs-lookup"><span data-stu-id="55a46-510">Default behavior is Dynamic IP assignment.</span></span>
>
>

<span data-ttu-id="55a46-511">Adresa MAC virtuální síťové karty může například změnit po změny velikosti a systému Windows nebo Linux hostovaného operačního systému převezme nové síťové karty a automaticky používá protokol DHCP k přiřazení adres IP a DNS v tomto případě.</span><span class="sxs-lookup"><span data-stu-id="55a46-511">The MAC address of the virtual network card may change, for example after resize and the Windows or Linux guest OS picks up the new network card and automatically uses DHCP to assign the IP and DNS addresses in this case.</span></span>

##### <a name="static-ip-assignment"></a><span data-ttu-id="55a46-512">Přiřazování statických IP adres</span><span class="sxs-lookup"><span data-stu-id="55a46-512">Static IP Assignment</span></span>
<span data-ttu-id="55a46-513">Je možné přiřadit pevné nebo vyhrazené IP adresy k virtuálním počítačům ve virtuální síti Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-513">It is possible to assign fixed or reserved IP addresses to VMs within an Azure Virtual Network.</span></span> <span data-ttu-id="55a46-514">Spuštění virtuálních počítačů v Azure Virtual Network otevře skvělé možnost využít tuto funkci, pokud potřebné nebo požadované pro některé scénáře.</span><span class="sxs-lookup"><span data-stu-id="55a46-514">Running the VMs in an Azure Virtual Network opens a great possibility to leverage this functionality if needed or required for some scenarios.</span></span> <span data-ttu-id="55a46-515">Přiřazování IP adres zůstává v platnosti po existenci virtuální počítač, nezávisle na tom, jestli je virtuální počítač, spuštění nebo vypnutí.</span><span class="sxs-lookup"><span data-stu-id="55a46-515">The IP assignment remains valid throughout the existence of the VM, independent of whether the VM is running or shutdown.</span></span> <span data-ttu-id="55a46-516">V důsledku toho budete muset provést celkový počet virtuálních počítačů (virtuálních počítačů spuštěných a zastavených) v úvahu při definování rozsahu IP adres pro virtuální síť.</span><span class="sxs-lookup"><span data-stu-id="55a46-516">As a result, you need to take the overall number of VMs (running and stopped VMS) into account when defining the range of IP addresses for the Virtual Network.</span></span> <span data-ttu-id="55a46-517">IP adresa zůstane přiřazená až do odstranění virtuálního počítače a jeho síťové rozhraní, nebo dokud nebude IP adresa získá zrušte znovu přiřadit.</span><span class="sxs-lookup"><span data-stu-id="55a46-517">The IP address remains assigned either until the VM and its Network Interface is deleted or until the IP address gets de-assigned again.</span></span> <span data-ttu-id="55a46-518">Další informace najdete v tématu [v tomto článku][virtual-networks-static-private-ip-arm-pportal].</span><span class="sxs-lookup"><span data-stu-id="55a46-518">For more information, read [this article][virtual-networks-static-private-ip-arm-pportal].</span></span>

##### <a name="multiple-nics-per-vm"></a><span data-ttu-id="55a46-519">Několik síťových adaptérů na virtuální počítač</span><span class="sxs-lookup"><span data-stu-id="55a46-519">Multiple NICs per VM</span></span>
<span data-ttu-id="55a46-520">Můžete definovat několik virtuálních síťových karet (vNIC) pro virtuální počítač Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-520">You can define multiple virtual network interface cards (vNIC) for an Azure Virtual Machine.</span></span> <span data-ttu-id="55a46-521">Možnost mít více vNICs, které lze spustit nastavit síťový provoz oddělení, kde, například přenosy klienta směrován přes jednu vNIC a back-end provoz směrován přes druhý vNIC.</span><span class="sxs-lookup"><span data-stu-id="55a46-521">With the ability to have multiple vNICs you can start to set up network traffic separation where, for example, client traffic is routed through one vNIC and backend traffic is routed through a second vNIC.</span></span> <span data-ttu-id="55a46-522">Závisí na typu virtuálního počítače existuje jiný omezení jsou namapoval počet vNICs.</span><span class="sxs-lookup"><span data-stu-id="55a46-522">Dependent on the type of VM there are different limitations in regards to the number of vNICs.</span></span> <span data-ttu-id="55a46-523">Přesné podrobnosti, funkce a omezení naleznete v těchto článcích:</span><span class="sxs-lookup"><span data-stu-id="55a46-523">Exact details, functionality, and restrictions can be found in these articles:</span></span>

* <span data-ttu-id="55a46-524">[Vytvoření virtuálního počítače s Windows s více síťovými kartami][virtual-networks-multiple-nics-windows]</span><span class="sxs-lookup"><span data-stu-id="55a46-524">[Create a Windows VM with multiple NICs][virtual-networks-multiple-nics-windows]</span></span>
* <span data-ttu-id="55a46-525">[Vytvoření virtuálního počítače s Linuxem s více síťovými kartami][virtual-networks-multiple-nics-linux]</span><span class="sxs-lookup"><span data-stu-id="55a46-525">[Create a Linux VM with multiple NICs][virtual-networks-multiple-nics-linux]</span></span>
* <span data-ttu-id="55a46-526">[Nasazení více seskupování virtuálních počítačů pomocí šablony][virtual-network-deploy-multinic-arm-template]</span><span class="sxs-lookup"><span data-stu-id="55a46-526">[Deploy multi NIC VMs using a template][virtual-network-deploy-multinic-arm-template]</span></span>
* <span data-ttu-id="55a46-527">[Nasazení více seskupování virtuálních počítačů pomocí prostředí PowerShell][virtual-network-deploy-multinic-arm-ps]</span><span class="sxs-lookup"><span data-stu-id="55a46-527">[Deploy multi NIC VMs using PowerShell][virtual-network-deploy-multinic-arm-ps]</span></span>
* <span data-ttu-id="55a46-528">[Nasazení více seskupování virtuálních počítačů pomocí rozhraní příkazového řádku Azure][virtual-network-deploy-multinic-arm-cli]</span><span class="sxs-lookup"><span data-stu-id="55a46-528">[Deploy multi NIC VMs using the Azure CLI][virtual-network-deploy-multinic-arm-cli]</span></span>

#### <a name="site-to-site-connectivity"></a><span data-ttu-id="55a46-529">Připojení Site-to-Site</span><span class="sxs-lookup"><span data-stu-id="55a46-529">Site-to-Site Connectivity</span></span>
<span data-ttu-id="55a46-530">Mezi různými místy je virtuálních počítačích Azure a místními propojené s transparentní, trvalé připojení VPN.</span><span class="sxs-lookup"><span data-stu-id="55a46-530">Cross-premises is Azure VMs and On-Premises linked with a transparent and permanent VPN connection.</span></span> <span data-ttu-id="55a46-531">Očekává se stane Nejběžnější vzor nasazení SAP v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-531">It is expected to become the most common SAP deployment pattern in Azure.</span></span> <span data-ttu-id="55a46-532">Předpokladem je, že by měl transparentně fungovat provozních postupů a procesů pomocí instance SAP v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-532">The assumption is that operational procedures and processes with SAP instances in Azure should work transparently.</span></span> <span data-ttu-id="55a46-533">Tyto prostředky, které byste měli nelze tisknout z těchto systémů stejně jako použití SAP přenosu správu systému (TMS) k přenosu změní z vývojového systému v Azure na testovací systém, který je nasazen na místě.</span><span class="sxs-lookup"><span data-stu-id="55a46-533">This means you should be able to print out of these systems as well as use the SAP Transport Management System (TMS) to transport changes from a development system in Azure to a test system, which is deployed on-premises.</span></span> <span data-ttu-id="55a46-534">Další dokumentaci ohledně site-to-site lze nalézt v [v tomto článku][vpn-gateway-create-site-to-site-rm-powershell]</span><span class="sxs-lookup"><span data-stu-id="55a46-534">More documentation around site-to-site can be found in [this article][vpn-gateway-create-site-to-site-rm-powershell]</span></span>

##### <a name="vpn-tunnel-device"></a><span data-ttu-id="55a46-535">Zařízení tunelové propojení VPN</span><span class="sxs-lookup"><span data-stu-id="55a46-535">VPN Tunnel Device</span></span>
<span data-ttu-id="55a46-536">Chcete-li vytvořit připojení site-to-site (místního datového centra k datovému centru Azure), musíte buď získat a nakonfigurovat zařízení VPN nebo použít směrování a vzdálený přístup (RRAS) zavedenou jako součást softwaru se systémem Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="55a46-536">In order to create a site-to-site connection (on-premises data center to Azure data center), you need to either obtain and configure a VPN device, or use Routing and Remote Access Service (RRAS) which was introduced as a software component with Windows Server 2012.</span></span>

* <span data-ttu-id="55a46-537">[Vytvoření virtuální sítě s připojením VPN typu site-to-site pomocí prostředí PowerShell][vpn-gateway-create-site-to-site-rm-powershell]</span><span class="sxs-lookup"><span data-stu-id="55a46-537">[Create a virtual network with a site-to-site VPN connection using PowerShell][vpn-gateway-create-site-to-site-rm-powershell]</span></span>
* <span data-ttu-id="55a46-538">[Informace o zařízeních VPN pro připojení Site-to-Site VPN Gateway][vpn-gateway-about-vpn-devices]</span><span class="sxs-lookup"><span data-stu-id="55a46-538">[About VPN devices for Site-to-Site VPN Gateway connections][vpn-gateway-about-vpn-devices]</span></span>
* <span data-ttu-id="55a46-539">[Nejčastější dotazy k branám VPN][vpn-gateway-vpn-faq]</span><span class="sxs-lookup"><span data-stu-id="55a46-539">[VPN Gateway FAQ][vpn-gateway-vpn-faq]</span></span>

![Připojení Site-to-site mezi místními a Azure][planning-guide-figure-600]

<span data-ttu-id="55a46-541">Výše uvedené schéma ukazuje, že dvě předplatná Azure podrozsahů na adresu IP, které jsou vyhrazené pro použití ve virtuálních sítích v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-541">The Figure above shows two Azure subscriptions have IP address subranges reserved for usage in Virtual Networks in Azure.</span></span> <span data-ttu-id="55a46-542">Prostřednictvím sítě VPN je vytvořeno připojení z místní sítě do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-542">The connectivity from the on-premises network to Azure is established via VPN.</span></span>

#### <a name="point-to-site-vpn"></a><span data-ttu-id="55a46-543">Point-to-Site VPN</span><span class="sxs-lookup"><span data-stu-id="55a46-543">Point-to-Site VPN</span></span>
<span data-ttu-id="55a46-544">Point-to-site VPN vyžaduje každý klientský počítač se připojit s vlastním VPN do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-544">Point-to-site VPN requires every client machine to connect with its own VPN into Azure.</span></span> <span data-ttu-id="55a46-545">Pro scénáře SAP, které jsme prohlížení není praktické připojení point-to-site.</span><span class="sxs-lookup"><span data-stu-id="55a46-545">For the SAP scenarios we are looking at, point-to-site connectivity is not practical.</span></span> <span data-ttu-id="55a46-546">Proto jsou uvedeny žádné další odkazy k připojení k síti VPN point-to-site.</span><span class="sxs-lookup"><span data-stu-id="55a46-546">Therefore, no further references are given to point-to-site VPN connectivity.</span></span>

<span data-ttu-id="55a46-547">Další informace naleznete zde</span><span class="sxs-lookup"><span data-stu-id="55a46-547">More information can be found here</span></span>
* [<span data-ttu-id="55a46-548">Konfigurace připojení typu Point-to-Site k virtuální síti pomocí webu Azure Portal</span><span class="sxs-lookup"><span data-stu-id="55a46-548">Configure a Point-to-Site connection to a VNet using the Azure portal</span></span>](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-resource-manager-portal)
* [<span data-ttu-id="55a46-549">Konfigurace připojení typu Point-to-Site k virtuální síti pomocí PowerShellu</span><span class="sxs-lookup"><span data-stu-id="55a46-549">Configure a Point-to-Site connection to a VNet using PowerShell</span></span>](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-howto-point-to-site-rm-ps)

#### <a name="multi-site-vpn"></a><span data-ttu-id="55a46-550">Více servery VPN</span><span class="sxs-lookup"><span data-stu-id="55a46-550">Multi-Site VPN</span></span>
<span data-ttu-id="55a46-551">Azure v současné době také nabízí možnost vytvořit připojení VPN více lokalit pro jedno předplatné.</span><span class="sxs-lookup"><span data-stu-id="55a46-551">Azure also nowadays offers the possibility to create Multi-Site VPN connectivity for one Azure subscription.</span></span> <span data-ttu-id="55a46-552">V rámci jednoho předplatného dříve omezovala na jedno připojení site-to-site VPN.</span><span class="sxs-lookup"><span data-stu-id="55a46-552">Previously a single subscription was limited to one site-to-site VPN connection.</span></span> <span data-ttu-id="55a46-553">Toto omezení se rychle s připojeními VPN typu více lokalit pro v rámci jednoho předplatného.</span><span class="sxs-lookup"><span data-stu-id="55a46-553">This limitation went away with Multi-Site VPN connections for a single subscription.</span></span> <span data-ttu-id="55a46-554">Díky tomu je možné využívat více než jedné oblasti Azure pro konkrétní předplatné prostřednictvím konfigurace mezi různými místy.</span><span class="sxs-lookup"><span data-stu-id="55a46-554">This makes it possible to leverage more than one Azure Region for a specific subscription through cross-premises configurations.</span></span>

<span data-ttu-id="55a46-555">Další dokumentaci, najdete v tématu [v tomto článku][vpn-gateway-create-site-to-site-rm-powershell]</span><span class="sxs-lookup"><span data-stu-id="55a46-555">For more documentation, please see [this article][vpn-gateway-create-site-to-site-rm-powershell]</span></span>

[comment]: <> (MShermannd TODO nalezen žádný odkaz doku ARM)

#### <a name="vnet-to-vnet-connection"></a><span data-ttu-id="55a46-557">Virtuální síť připojení virtuální sítě</span><span class="sxs-lookup"><span data-stu-id="55a46-557">VNet to VNet Connection</span></span>
<span data-ttu-id="55a46-558">Použití více servery VPN, musíte nakonfigurovat samostatné virtuální sítě Azure v každé z oblastí.</span><span class="sxs-lookup"><span data-stu-id="55a46-558">Using Multi-Site VPN, you need to configure a separate Azure Virtual Network in each of the regions.</span></span> <span data-ttu-id="55a46-559">Máte ale velmi často požadavek, který by měl vzájemně komunikovat softwarové komponenty v různých oblastech.</span><span class="sxs-lookup"><span data-stu-id="55a46-559">However very often you have the requirement that the software components in the different regions should communicate with each other.</span></span> <span data-ttu-id="55a46-560">V ideálním případě tato komunikace by neměl směrovat z jedné oblasti Azure k místnímu a z ní do jiné oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-560">Ideally this communication should not be routed from one Azure Region to on-premises and from there to the other Azure Region.</span></span> <span data-ttu-id="55a46-561">Na zástupce Azure nabízí možnost konfigurace připojení z jedné virtuální sítě Azure v jedné oblasti s jinou virtuální sítí Azure hostovaná v jiné oblasti.</span><span class="sxs-lookup"><span data-stu-id="55a46-561">To shortcut, Azure offers the possibility to configure a connection from one Azure Virtual Network in one region to another Azure Virtual Network hosted in another region.</span></span> <span data-ttu-id="55a46-562">Tato funkce je volána připojení VNet-to-VNet.</span><span class="sxs-lookup"><span data-stu-id="55a46-562">This functionality is called VNet-to-VNet connection.</span></span> <span data-ttu-id="55a46-563">Další podrobnosti o této funkci naleznete zde: <https://azure.microsoft.com/documentation/articles/vpn-gateway-vnet-vnet-rm-ps/>.</span><span class="sxs-lookup"><span data-stu-id="55a46-563">More details on this functionality can be found here: <https://azure.microsoft.com/documentation/articles/vpn-gateway-vnet-vnet-rm-ps/>.</span></span>

#### <a name="private-connection-to-azure--expressroute"></a><span data-ttu-id="55a46-564">Privátní připojení k Azure – ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="55a46-564">Private Connection to Azure – ExpressRoute</span></span>
<span data-ttu-id="55a46-565">Microsoft Azure ExpressRoute umožňuje vytvářet privátní připojení mezi datových center Azure a buď místní infrastruktury zákazníka nebo v prostředí ve společném umístění.</span><span class="sxs-lookup"><span data-stu-id="55a46-565">Microsoft Azure ExpressRoute allows the creation of private connections between Azure data centers and either the customer's on-premises infrastructure or in a co-location environment.</span></span> <span data-ttu-id="55a46-566">ExpressRoute nabízí různé MPLS poskytovatelé sítě VPN (přepínáním paketů) nebo jiní poskytovatelé služeb sítě.</span><span class="sxs-lookup"><span data-stu-id="55a46-566">ExpressRoute is offered by various MPLS (packet switched) VPN providers or other Network Service Providers.</span></span> <span data-ttu-id="55a46-567">Připojení ExpressRoute se nepřenášejí prostřednictvím veřejného internetu.</span><span class="sxs-lookup"><span data-stu-id="55a46-567">ExpressRoute connections do not go over the public Internet.</span></span> <span data-ttu-id="55a46-568">Připojení ExpressRoute nabízejí vyšší zabezpečení, spolehlivost další prostřednictvím více paralelních okruhů, vyšší rychlost a nižší latenci než Typická připojení přes Internet.</span><span class="sxs-lookup"><span data-stu-id="55a46-568">ExpressRoute connections offer higher security, more reliability through multiple parallel circuits, faster speeds, and lower latencies than typical connections over the Internet.</span></span>

<span data-ttu-id="55a46-569">Najdete další informace o Azure ExpressRoute a nabídky tady:</span><span class="sxs-lookup"><span data-stu-id="55a46-569">Find more details on Azure ExpressRoute and offerings here:</span></span>

* <span data-ttu-id="55a46-570"><https://Azure.microsoft.com/documentation/Services/expressroute/></span><span class="sxs-lookup"><span data-stu-id="55a46-570"><https://azure.microsoft.com/documentation/services/expressroute/></span></span>
* <span data-ttu-id="55a46-571"><https://Azure.microsoft.com/pricing/details/expressroute/></span><span class="sxs-lookup"><span data-stu-id="55a46-571"><https://azure.microsoft.com/pricing/details/expressroute/></span></span>
* <span data-ttu-id="55a46-572"><https://Azure.microsoft.com/documentation/articles/expressroute-faqs/></span><span class="sxs-lookup"><span data-stu-id="55a46-572"><https://azure.microsoft.com/documentation/articles/expressroute-faqs/></span></span>

<span data-ttu-id="55a46-573">Express Route umožňuje víc předplatných Azure prostřednictvím jeden okruh ExpressRoute, jak je uvedeno v tomto poli</span><span class="sxs-lookup"><span data-stu-id="55a46-573">Express Route enables multiple Azure subscriptions through one ExpressRoute circuit as documented here</span></span>

* <span data-ttu-id="55a46-574"><https://Azure.microsoft.com/documentation/articles/expressroute-howto-linkvnet-arm/></span><span class="sxs-lookup"><span data-stu-id="55a46-574"><https://azure.microsoft.com/documentation/articles/expressroute-howto-linkvnet-arm/></span></span>
* <span data-ttu-id="55a46-575"><https://Azure.microsoft.com/documentation/articles/expressroute-howto-Circuit-arm/></span><span class="sxs-lookup"><span data-stu-id="55a46-575"><https://azure.microsoft.com/documentation/articles/expressroute-howto-circuit-arm/></span></span>

#### <a name="forced-tunneling-in-case-of-cross-premises"></a><span data-ttu-id="55a46-576">Vynucené tunelování v případě mezi různými místy</span><span class="sxs-lookup"><span data-stu-id="55a46-576">Forced tunneling in case of cross-premises</span></span>
<span data-ttu-id="55a46-577">Pro virtuální počítače připojení k doménám místní prostřednictvím site-to-site, point-to-site nebo ExpressRoute budete muset nastavení internetového proxy serveru jsou získávání nasazení pro všechny uživatele v těchto virtuálních počítačů i.</span><span class="sxs-lookup"><span data-stu-id="55a46-577">For VMs joining on-premises domains through site-to-site, point-to-site or ExpressRoute, you need to make sure that the Internet proxy settings are getting deployed for all the users in those VMs as well.</span></span> <span data-ttu-id="55a46-578">Ve výchozím nastavení software na těchto virtuálních počítačů nebo uživatelů pro přístup k Internetu pomocí prohlížeče by jít přes proxy server společnosti, ale by připojení přímo přes Azure k Internetu.</span><span class="sxs-lookup"><span data-stu-id="55a46-578">By default, software running in those VMs or users using a browser to access the internet would not go through the company proxy, but would connect straight through Azure to the internet.</span></span> <span data-ttu-id="55a46-579">Ale i nastavení proxy není 100 % řešení pro řízení provozu prostřednictvím proxy serveru společnosti, protože se jedná o odpovědnost softwaru a služeb ke kontrole pro proxy server.</span><span class="sxs-lookup"><span data-stu-id="55a46-579">But even the proxy setting is not a 100% solution to direct the traffic through the company proxy since it is responsibility of software and services to check for the proxy.</span></span> <span data-ttu-id="55a46-580">Pokud software spuštěný ve virtuálním počítači není učinit nebo správce manipuluje nastavení, provoz na Internetu může znovu detoured přímo přes Azure k Internetu.</span><span class="sxs-lookup"><span data-stu-id="55a46-580">If software running in the VM is not doing that or an administrator manipulates the settings, traffic to the Internet can be detoured again directly through Azure to the Internet.</span></span>

<span data-ttu-id="55a46-581">Chcete-li předejít, můžete nakonfigurovat vynucené tunelování připojení site-to-site mezi místními a Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-581">In order to avoid this, you can configure Forced Tunneling with site-to-site connectivity between on-premises and Azure.</span></span> <span data-ttu-id="55a46-582">Podrobný popis funkce vynucené tunelování je publikována zde <https://azure.microsoft.com/documentation/articles/vpn-gateway-forced-tunneling-rm/></span><span class="sxs-lookup"><span data-stu-id="55a46-582">The detailed description of the Forced Tunneling feature is published here <https://azure.microsoft.com/documentation/articles/vpn-gateway-forced-tunneling-rm/></span></span>

<span data-ttu-id="55a46-583">Vynucené tunelové připojení s ExpressRoute je povoleno zákazníci inzeruje výchozí trasu prostřednictvím relace partnerského vztahu protokolu BGP ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="55a46-583">Forced Tunneling with ExpressRoute is enabled by customers advertising a default route via the ExpressRoute BGP peering sessions.</span></span>

#### <a name="summary-of-azure-networking"></a><span data-ttu-id="55a46-584">Shrnutí sítě Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-584">Summary of Azure Networking</span></span>
<span data-ttu-id="55a46-585">Tato kapitola obsahuje mnoho důležitých bodů o sítí Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-585">This chapter contained many important points about Azure Networking.</span></span> <span data-ttu-id="55a46-586">Zde je souhrn hlavní body:</span><span class="sxs-lookup"><span data-stu-id="55a46-586">Here is a summary of the main points:</span></span>

* <span data-ttu-id="55a46-587">Virtuální sítě Azure umožňuje nastavení sítě podle vlastních potřeb</span><span class="sxs-lookup"><span data-stu-id="55a46-587">Azure Virtual Networks allows to set up the network according to your own needs</span></span>
* <span data-ttu-id="55a46-588">Virtuální sítě Azure můžete využít k přiřazení rozsahy IP adres k virtuálním počítačům nebo přiřadit pevné IP adresy virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="55a46-588">Azure Virtual Networks can be leveraged to assign IP address ranges to VMs or assign fixed IP addresses to VMs</span></span>
* <span data-ttu-id="55a46-589">Nastavení připojení Site-To-Site nebo Point-To-Site, musíte nejprve vytvořit virtuální síť Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-589">To set up a Site-To-Site or Point-To-Site connection you need to create an Azure Virtual Network first</span></span>
* <span data-ttu-id="55a46-590">Po nasazení virtuálního počítače se už nedají změnit ve virtuální síti přiřazené k virtuálnímu počítači</span><span class="sxs-lookup"><span data-stu-id="55a46-590">Once a virtual machine has been deployed, it is no longer possible to change the Virtual Network assigned to the VM</span></span>

### <a name="quotas-in-azure-virtual-machine-services"></a><span data-ttu-id="55a46-591">Kvóty pro služby Azure virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="55a46-591">Quotas in Azure Virtual Machine Services</span></span>
<span data-ttu-id="55a46-592">Je potřeba mít o fakt, že úložiště a síťové infrastruktury jsou sdílena mezi virtuálních počítačů spuštěných v infrastruktuře Azure řady služeb.</span><span class="sxs-lookup"><span data-stu-id="55a46-592">We need to be clear about the fact that the storage and network infrastructure is shared between VMs running a variety of services in the Azure infrastructure.</span></span> <span data-ttu-id="55a46-593">A stejně jako v datových centrech vlastní zákazníka, předimenzování některých prostředky infrastruktury v míře.</span><span class="sxs-lookup"><span data-stu-id="55a46-593">And just as in the customer’s own data centers, over-provisioning of some of the infrastructure resources does take place to a degree.</span></span> <span data-ttu-id="55a46-594">Platforma Microsoft Azure používá disk, procesoru, sítě a jiných kvóty pro omezení spotřeby prostředků a chcete zachovat výkon konzistentní a deterministický.</span><span class="sxs-lookup"><span data-stu-id="55a46-594">The Microsoft Azure Platform uses disk, CPU, network, and other quotas to limit the resource consumption and to preserve consistent and deterministic performance.</span></span>  <span data-ttu-id="55a46-595">Různé typy virtuálních počítačů (A5, A6 atd.) mají různé kvóty pro počet disků, procesoru, paměti RAM a sítě.</span><span class="sxs-lookup"><span data-stu-id="55a46-595">The different VM types (A5, A6, etc.) have different quotas for the number of disks, CPU, RAM, and Network.</span></span>

> [!NOTE]
> <span data-ttu-id="55a46-596">Prostředky procesoru a paměti typů virtuálních počítačů nepodporuje SAP jsou předběžně přidělených v hostitelských uzlech.</span><span class="sxs-lookup"><span data-stu-id="55a46-596">CPU and memory resources of the VM types supported by SAP are pre-allocated on the host nodes.</span></span> <span data-ttu-id="55a46-597">To znamená, že po nasazení virtuálního počítače prostředků na hostiteli jsou k dispozici, jak jsou definovány podle typu virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-597">This means that once the VM is deployed, the resources on the host are available as defined by the VM type.</span></span>
>
>

<span data-ttu-id="55a46-598">Při plánování a změna velikosti SAP na řešení Azure je třeba zvážit kvóty pro každou velikost virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-598">When planning and sizing SAP on Azure solutions the quotas for each virtual machine size must be considered.</span></span> <span data-ttu-id="55a46-599">Kvóty virtuálního počítače jsou popsány [zde (Linux)] [ virtual-machines-sizes-linux] a [zde (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="55a46-599">The VM quotas are described [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="55a46-600">Kvót popsané představují teoretický maximální hodnoty.</span><span class="sxs-lookup"><span data-stu-id="55a46-600">The quotas described represent the theoretical maximum values.</span></span>  <span data-ttu-id="55a46-601">Limit IOPS na disku lze dosáhnout s malé IOs (8kb), ale pravděpodobně nemusí být dosaženo s velké IOs (1 Mb).</span><span class="sxs-lookup"><span data-stu-id="55a46-601">The limit of IOPS per disk may be achieved with small IOs (8kb) but possibly may not be achieved with large IOs (1Mb).</span></span>  <span data-ttu-id="55a46-602">IOPS limit se vynucuje u členitost jediný disk.</span><span class="sxs-lookup"><span data-stu-id="55a46-602">The IOPS limit is enforced on the granularity of single disk.</span></span>

<span data-ttu-id="55a46-603">Jako hrubý rozhodovací strom rozhodnout, jestli se systému SAP zapadá do služby virtuálního počítače Azure a jeho funkce nebo jestli stávajícího systému musí být nakonfigurována jinak než k nasazení systému v Azure se dají použít rozhodovacího stromu níže:</span><span class="sxs-lookup"><span data-stu-id="55a46-603">As a rough decision tree to decide whether an SAP system fits into Azure Virtual Machine Services and its capabilities or whether an existing system needs to be configured differently in order to deploy the system on Azure, the decision tree below can be used:</span></span>

![Rozhodovací strom k rozhodování o možnost nasazení SAP v Azure][planning-guide-figure-700]

<span data-ttu-id="55a46-605">**Krok 1**: nejdůležitější informace je spustit s protokoly SAP požadavkem pro daný systém SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-605">**Step 1**: The most important information to start with is the SAPS requirement for a given SAP system.</span></span> <span data-ttu-id="55a46-606">Požadavky na protokoly SAP musí být oddělené do části databázového systému a část aplikace SAP, i v případě, že je v systému SAP již nasadit místně v konfiguraci vrstvy 2.</span><span class="sxs-lookup"><span data-stu-id="55a46-606">The SAPS requirements need to be separated out into the DBMS part and the SAP application part, even if the SAP system is already deployed on-premises in a 2-tier configuration.</span></span> <span data-ttu-id="55a46-607">Stávajících systémů můžete určit nebo odhadované podle existující srovnávacích testů SAP přístupové body související do hardwaru, který používá často.</span><span class="sxs-lookup"><span data-stu-id="55a46-607">For existing systems, the SAPS related to the hardware in use often can be determined or estimated based on existing SAP benchmarks.</span></span> <span data-ttu-id="55a46-608">Výsledky naleznete zde: <http://global.sap.com/campaigns/benchmark/index.epx>.</span><span class="sxs-lookup"><span data-stu-id="55a46-608">The results can be found here: <http://global.sap.com/campaigns/benchmark/index.epx>.</span></span>
<span data-ttu-id="55a46-609">Pro nově nasazené systémy SAP by měl prošli velikosti cvičení, které by měl určit požadavky na protokoly SAP systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-609">For newly deployed SAP systems, you should have gone through a sizing exercise, which should determine the SAPS requirements of the system.</span></span>
<span data-ttu-id="55a46-610">Viz také tomto blogu a přiložený dokument pro SAP velikosti v Azure: <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span><span class="sxs-lookup"><span data-stu-id="55a46-610">See also this blog and attached document for SAP sizing on Azure: <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span></span>

<span data-ttu-id="55a46-611">**Krok 2**: stávajících systémů svazek vstupně-výstupních operací a vstupně-výstupních operací za sekundu na serveru databázového systému by se mělo měřit.</span><span class="sxs-lookup"><span data-stu-id="55a46-611">**Step 2**: For existing systems, the I/O volume and I/O operations per second on the DBMS server should be measured.</span></span> <span data-ttu-id="55a46-612">Pro nově plánované systémy cvičení nastavení velikosti pro nový systém také měl dát hrubý nápady požadavky na vstupně-výstupních operací na straně databázového systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-612">For newly planned systems, the sizing exercise for the new system also should give rough ideas of the I/O requirements on the DBMS side.</span></span> <span data-ttu-id="55a46-613">Pokud si jisti, nakonec potřebujete provést testování konceptu.</span><span class="sxs-lookup"><span data-stu-id="55a46-613">If unsure, you eventually need to conduct a Proof of Concept.</span></span>

<span data-ttu-id="55a46-614">**Krok 3**: porovnejte protokoly SAP požadavky pro server databázového systému s přístupové body, můžete zadat různé typy virtuálních počítačů Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-614">**Step 3**: Compare the SAPS requirement for the DBMS server with the SAPS the different VM types of Azure can provide.</span></span> <span data-ttu-id="55a46-615">Informace o protokoly SAP různých typů virtuální počítač Azure je popsána v Poznámka SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="55a46-615">The information on SAPS of the different Azure VM types is documented in SAP Note [1928533].</span></span> <span data-ttu-id="55a46-616">Fokus musí být ve virtuálním počítači databázového systému nejprve vzhledem k tomu, že v databázové vrstvě je vrstva SAP NetWeaver systému, které není horizontální navýšení kapacity pro většinu nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-616">The focus should be on the DBMS VM first since the database layer is the layer in an SAP NetWeaver system that does not scale out in the majority of deployments.</span></span> <span data-ttu-id="55a46-617">Naproti tomu SAP aplikační vrstvu lze škálovat. Pokud žádná z SAP podporované typy virtuální počítač Azure může poskytnout požadovaná přístupové body, zatížení plánované systému SAP nelze spustit v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-617">In contrast, the SAP application layer can be scaled out. If none of the SAP supported Azure VM types can deliver the required SAPS, the workload of the planned SAP system can’t be run on Azure.</span></span> <span data-ttu-id="55a46-618">Buď musíte k nasazení systému místní nebo budete muset změnit svazek zatížení systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-618">You either need to deploy the system on-premises or you need to change the workload volume for the system.</span></span>

<span data-ttu-id="55a46-619">**Krok 4**: jak se píše [zde (Linux)] [ virtual-machines-sizes-linux] a [zde (Windows)][virtual-machines-sizes-windows], Azure vynucuje kvóty IOPS na disk nezávislé zda používat úložiště úrovně Standard nebo Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="55a46-619">**Step 4**: As documented [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows], Azure enforces an IOPS quota per disk independent whether you use Standard Storage or Premium Storage.</span></span> <span data-ttu-id="55a46-620">Závisí na typu virtuálního počítače, počet datových disků, které může být připojen se liší.</span><span class="sxs-lookup"><span data-stu-id="55a46-620">Dependent on the VM type, the number of data disks, which can be mounted varies.</span></span> <span data-ttu-id="55a46-621">V důsledku toho můžete vypočítat maximální IOPS číslo, které lze dosáhnout s jednotlivými různé typy virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-621">As a result, you can calculate a maximum IOPS number that can be achieved with each of the different VM types.</span></span> <span data-ttu-id="55a46-622">Závisí na rozložení souboru databáze, vám může rozkládají disky se jeden svazek v hostovaný operační systém.</span><span class="sxs-lookup"><span data-stu-id="55a46-622">Dependent on the database file layout, you can stripe disks to become one volume in the guest OS.</span></span> <span data-ttu-id="55a46-623">Ale pokud aktuální svazek IOPS nasazené systému SAP překračuje počítané omezení typu největší virtuálních počítačů Azure a pokud neexistuje možnost odpovídajícím způsobem s více paměti, zatížení systému SAP ovlivněné můžou být vážně.</span><span class="sxs-lookup"><span data-stu-id="55a46-623">However, if the current IOPS volume of a deployed SAP system exceeds the calculated limits of the largest VM type of Azure and if there is no chance to compensate with more memory, the workload of the SAP system can be impacted severely.</span></span> <span data-ttu-id="55a46-624">V takových případech můžete dosáhl bodu, kde není vhodné nasazovat systému v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-624">In such cases, you can hit a point where you should not deploy the system on Azure.</span></span>

<span data-ttu-id="55a46-625">**Krok 5**: hlavně v systémech SAP, které jsou nasazené na místě v konfiguracích vrstvě 2, pravděpodobné, systém může být potřeba nakonfigurovat v Azure v konfiguraci vrstvy 3.</span><span class="sxs-lookup"><span data-stu-id="55a46-625">**Step 5**: Especially in SAP systems, which are deployed on-premises in 2-Tier configurations, the chances are that the system might need to be configured on Azure in a 3-Tier configuration.</span></span> <span data-ttu-id="55a46-626">V tomto kroku budete muset zkontrolovat, zda je součást v aplikační vrstvě SAP, který nelze škálovat na více systémů a který by začlenit do prostředků procesoru a paměti, které nabízejí různé typy virtuálního počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-626">In this step, you need to check whether there is a component in the SAP application layer, which can’t be scaled out and which would not fit into the CPU and memory resources the different Azure VM types offer.</span></span> <span data-ttu-id="55a46-627">Pokud skutečně existuje takový komponentu, SAP systému a jeho úlohy nelze nasadit do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-627">If there indeed is such a component, the SAP system and its workload can’t be deployed into Azure.</span></span> <span data-ttu-id="55a46-628">Ale pokud můžete škálovat součásti aplikace SAP do více virtuálních počítačů Azure, systém lze nasadit do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-628">But if you can scale out the SAP application components into multiple Azure VMs, the system can be deployed into Azure.</span></span>

<span data-ttu-id="55a46-629">**Krok 6**: Pokud databázového systému a SAP součásti vrstvy aplikace lze spustit ve virtuálních počítačích Azure, musí být definován s ohledem na konfiguraci:</span><span class="sxs-lookup"><span data-stu-id="55a46-629">**Step 6**: If the DBMS and SAP application layer components can be run in Azure VMs, the configuration needs to be defined with regard to:</span></span>

* <span data-ttu-id="55a46-630">Počet virtuálních počítačů Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-630">Number of Azure VMs</span></span>
* <span data-ttu-id="55a46-631">Typy virtuálních počítačů pro jednotlivé součásti</span><span class="sxs-lookup"><span data-stu-id="55a46-631">VM types for the individual components</span></span>
* <span data-ttu-id="55a46-632">Počet virtuálních pevných disků ve virtuálním počítači databázového systému zajistit dostatek IOPS</span><span class="sxs-lookup"><span data-stu-id="55a46-632">Number of VHDs in DBMS VM to provide enough IOPS</span></span>

## <a name="managing-azure-assets"></a><span data-ttu-id="55a46-633">Správa prostředků Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-633">Managing Azure Assets</span></span>
### <a name="azure-portal"></a><span data-ttu-id="55a46-634">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="55a46-634">Azure Portal</span></span>
<span data-ttu-id="55a46-635">Portál Azure je jedním z tři rozhraní pro správu nasazení virtuálního počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-635">The Azure portal is one of three interfaces to manage Azure VM deployments.</span></span> <span data-ttu-id="55a46-636">Základní správu úkoly, jako je nasazení virtuálních počítačů z bitové kopie, lze provést prostřednictvím portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-636">The basic management tasks, like deploying VMs from images, can be done through the Azure portal.</span></span> <span data-ttu-id="55a46-637">Kromě toho vytváření účtů úložiště, virtuální sítě a jiných součástí Azure jsou také úlohy, které na portálu Azure může zpracovat velmi dobře.</span><span class="sxs-lookup"><span data-stu-id="55a46-637">In addition, the creation of Storage Accounts, Virtual Networks, and other Azure components are also tasks the Azure portal can handle very well.</span></span> <span data-ttu-id="55a46-638">Funkce, jako jsou virtuální pevné disky nahrávat z místního do Azure nebo kopírování virtuálního pevného disku v rámci Azure jsou však úlohy, které vyžadují nástroje třetích stran nebo správu pomocí prostředí PowerShell nebo rozhraní příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="55a46-638">However, functionality like uploading VHDs from on-premises to Azure or copying a VHD within Azure are tasks, which require either third-party tools or administration through PowerShell or CLI.</span></span>

![Portál Microsoft Azure – Přehled virtuálních počítačů][planning-guide-figure-800]

[comment]: <> (MSSedusch * < https://azure.microsoft.com/documentation/articles/virtual-networks-create-vnet-arm-pportal/>)
[comment]: <> (MSSedusch * < https://azure.microsoft.com/documentation/articles/virtual-machines-windows-tutorial/>)

<span data-ttu-id="55a46-642">Úlohy správy a konfigurace pro instanci virtuálního počítače je možné z portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-642">Administration and configuration tasks for the Virtual Machine instance are possible from within the Azure portal.</span></span>

<span data-ttu-id="55a46-643">Kromě toho, restartování a vypínání virtuálního počítače můžete připojit, odpojte a vytvořte datových disků pro instanci virtuálního počítače, k zaznamenání instance pro přípravy bitové kopie a nakonfigurujte velikost instance virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-643">Besides restarting and shutting down a Virtual Machine you can also attach, detach, and create data disks for the Virtual Machine instance, to capture the instance for image preparation and configure the size of the Virtual Machine instance.</span></span>

<span data-ttu-id="55a46-644">Portál Azure poskytuje základní funkce můžete nasadit a nakonfigurovat virtuální počítače a mnoha dalším službám Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-644">The Azure portal provides basic functionality to deploy and configure VMs and many other Azure services.</span></span> <span data-ttu-id="55a46-645">Ale ne všechny dostupné funkce se vztahuje na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-645">However not all available functionality is covered by the Azure portal.</span></span> <span data-ttu-id="55a46-646">Na portálu Azure není možné provést úkoly, jako je:</span><span class="sxs-lookup"><span data-stu-id="55a46-646">In the Azure portal, it’s not possible to perform tasks like:</span></span>

* <span data-ttu-id="55a46-647">Virtuální pevné disky se nahrávají na Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-647">Uploading VHDs to Azure</span></span>
* <span data-ttu-id="55a46-648">Kopírování virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="55a46-648">Copying VMs</span></span>

[comment]: <> (MShermannd TODO, co o automatizaci služby pro SAP virtuální počítače?)
[comment]: <> (MSSedusch nasazení více virtuálních počítačů os mezitím možné)
[comment]: <> (Jakýkoli typ automatizace týkající se nasazení také MSSedusch není možné pomocí portálu Azure. Úlohy, jako je skriptované nasazení více virtuálních počítačů není možná prostřednictvím portálu Azure.)

### <a name="management-via-microsoft-azure-powershell-cmdlets"></a><span data-ttu-id="55a46-652">Správa pomocí rutin prostředí PowerShell Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-652">Management via Microsoft Azure PowerShell cmdlets</span></span>
<span data-ttu-id="55a46-653">Prostředí Windows PowerShell je výkonný a rozšiřitelný rámec, který má byla široce přijat zákazníky, kteří instalují velký počet systémů v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-653">Windows PowerShell is a powerful and extensible framework that has been widely adopted by customers deploying larger numbers of systems in Azure.</span></span> <span data-ttu-id="55a46-654">Po instalaci rutin prostředí PowerShell na plochu, přenosných počítačů nebo vyhrazené správy stanice dá se spouštět rutiny prostředí PowerShell vzdáleně.</span><span class="sxs-lookup"><span data-stu-id="55a46-654">After the installation of PowerShell cmdlets on a desktop, laptop or dedicated management station, the PowerShell cmdlets can be run remotely.</span></span>

<span data-ttu-id="55a46-655">Povolit místní desktop nebo přenosný počítač pro použití rutin prostředí Azure PowerShell a postup konfigurace těch, které pro použití s předplatná Azure je popsaná v procesu [v tomto článku][powershell-install-configure].</span><span class="sxs-lookup"><span data-stu-id="55a46-655">The process to enable a local desktop/laptop for the usage of Azure PowerShell cmdlets and how to configure those for the usage with the Azure subscription(s) is described in [this article][powershell-install-configure].</span></span>

<span data-ttu-id="55a46-656">Podrobnější postup k instalaci, aktualizaci a nakonfigurovat Azure PowerShell rutin najdete také v [této kapitoly v Průvodci nasazením][deployment-guide-4.1].</span><span class="sxs-lookup"><span data-stu-id="55a46-656">More detailed steps on how to install, update, and configure the Azure PowerShell cmdlets can also be found in [this chapter of the Deployment Guide][deployment-guide-4.1].</span></span>

<span data-ttu-id="55a46-657">Zkušeností zákazníků, pokud byl prostředí PowerShell (PS) je určitě více výkonný nástroj pro nasazení virtuálních počítačů a vytvořit vlastní kroky v nasazení virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-657">Customer experience so far has been that PowerShell (PS) is certainly the more powerful tool to deploy VMs and to create custom steps in the deployment of VMs.</span></span> <span data-ttu-id="55a46-658">Všechny zákazníky spuštěné instance SAP v Azure používají rutiny PS doplníte úlohy správy udělat na portálu Azure, případně i pomocí rutiny PS výhradně ke správě jejich nasazeních v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-658">All of the customers running SAP instances in Azure are using PS cmdlets to supplement management tasks they do in the Azure portal or are even using PS cmdlets exclusively to manage their deployments in Azure.</span></span> <span data-ttu-id="55a46-659">Protože rutiny specifické pro Azure sdílet stejné zásady vytváření názvů jako více než 2000 rutiny související s Windows, není jednoduchý úkol správcům systému Windows využívají tyto rutiny.</span><span class="sxs-lookup"><span data-stu-id="55a46-659">Since the Azure-specific cmdlets share the same naming convention as the more than 2000 Windows-related cmdlets, it is an easy task for Windows administrators to leverage those cmdlets.</span></span>

<span data-ttu-id="55a46-660">Podívejte se sem příklad: <http://blogs.technet.com/b/keithmayer/archive/2015/07/07/18-steps-for-end-to-end-iaas-provisioning-in-the-cloud-with-azure-resource-manager-arm-powershell-and-desired-state-configuration-dsc.aspx></span><span class="sxs-lookup"><span data-stu-id="55a46-660">See example here: <http://blogs.technet.com/b/keithmayer/archive/2015/07/07/18-steps-for-end-to-end-iaas-provisioning-in-the-cloud-with-azure-resource-manager-arm-powershell-and-desired-state-configuration-dsc.aspx></span></span>

[comment]: <> (MShermannd TODO popisují nový příkaz rozhraní příkazového řádku při testování)
<span data-ttu-id="55a46-662">Nasazení rozšíření monitorování Azure pro SAP (naleznete v kapitole [řešením pro monitorování Azure pro SAP] [ planning-guide-9.1] v tomto dokumentu) je možné pouze prostřednictvím prostředí PowerShell nebo rozhraní příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="55a46-662">Deployment of the Azure Monitoring Extension for SAP (see chapter [Azure Monitoring Solution for SAP][planning-guide-9.1] in this document) is only possible via PowerShell or CLI.</span></span> <span data-ttu-id="55a46-663">Proto je nutné vytvořit a nakonfigurovat prostředí PowerShell nebo rozhraní příkazového řádku pro nasazování nebo správu systém SAP NetWeaver v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-663">Therefore it is mandatory to set up and configure PowerShell or CLI when deploying or administering an SAP NetWeaver system in Azure.</span></span>  

<span data-ttu-id="55a46-664">Jak Azure poskytuje další funkce, nové rutiny PS se chystáte přidat, který vyžaduje aktualizace rutin.</span><span class="sxs-lookup"><span data-stu-id="55a46-664">As Azure provides more functionality, new PS cmdlets are going to be added that requires an update of the cmdlets.</span></span> <span data-ttu-id="55a46-665">Proto má smysl na serveru Azure stáhnout alespoň jednou v měsíci <https://azure.microsoft.com/downloads/> pro novou verzi rutiny.</span><span class="sxs-lookup"><span data-stu-id="55a46-665">Therefore it makes sense to check the Azure Download site at least once the month <https://azure.microsoft.com/downloads/> for a new version of the cmdlets.</span></span> <span data-ttu-id="55a46-666">Nainstaluje se nová verze na starší verzi.</span><span class="sxs-lookup"><span data-stu-id="55a46-666">The new version is installed on top of the older version.</span></span>

<span data-ttu-id="55a46-667">Obecnější seznam souvisejících s Azure PowerShell příkazy najdete tady: <https://docs.microsoft.com/powershell/azure/overview>.</span><span class="sxs-lookup"><span data-stu-id="55a46-667">For a general list of Azure-related PowerShell commands check here: <https://docs.microsoft.com/powershell/azure/overview>.</span></span>

### <a name="management-via-microsoft-azure-cli-commands"></a><span data-ttu-id="55a46-668">Správu prostřednictvím Microsoft rozhraní příkazového řádku Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-668">Management via Microsoft Azure CLI commands</span></span>
<span data-ttu-id="55a46-669">Pro zákazníky, kteří použijte Linux a chcete spravovat Azure nemusí být prostředků Powershell možnost.</span><span class="sxs-lookup"><span data-stu-id="55a46-669">For customers who use Linux and want to manage Azure resources Powershell might not be an option.</span></span> <span data-ttu-id="55a46-670">Společnost Microsoft nabízí jako alternativu rozhraní příkazového řádku Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-670">Microsoft offers Azure CLI as an alternative.</span></span>
<span data-ttu-id="55a46-671">Rozhraní příkazového řádku Azure poskytuje sadu softwaru open source, příkazy a platformy pro práci s platformou Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-671">The Azure CLI provides a set of open source, cross-platform commands for working with the Azure Platform.</span></span> <span data-ttu-id="55a46-672">Rozhraní příkazového řádku Azure poskytuje mnohem stejné funkce najít na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-672">The Azure CLI provides much of the same functionality found in the Azure portal.</span></span>

<span data-ttu-id="55a46-673">Informace o instalaci, konfiguraci a používání rozhraní příkazového řádku najdete v části příkazy k provádění úloh Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-673">For information about installation, configuration and how to use CLI commands to accomplish Azure tasks see</span></span>

* <span data-ttu-id="55a46-674">[Instalace rozhraní příkazového řádku Azure CLI][xplat-cli]</span><span class="sxs-lookup"><span data-stu-id="55a46-674">[Install the Azure CLI][xplat-cli]</span></span>
* <span data-ttu-id="55a46-675">[Nasadit a spravovat virtuální počítače pomocí šablony Azure Resource Manager a rozhraní příkazového řádku Azure] [.. /.. / linux/create-ssh-secured-vm-from-template.md]</span><span class="sxs-lookup"><span data-stu-id="55a46-675">[Deploy and manage virtual machines by using Azure Resource Manager templates and the Azure CLI][../../linux/create-ssh-secured-vm-from-template.md]</span></span>
* <span data-ttu-id="55a46-676">[Použití Azure CLI pro Mac, Linux a Windows pomocí Azure Resource Manageru][xplat-cli-azure-resource-manager]</span><span class="sxs-lookup"><span data-stu-id="55a46-676">[Use the Azure CLI for Mac, Linux, and Windows with Azure Resource Manager][xplat-cli-azure-resource-manager]</span></span>

<span data-ttu-id="55a46-677">Také číst kapitoly [rozhraní příkazového řádku Azure pro virtuální počítače s Linuxem] [ deployment-guide-4.5.2] v [Průvodce nasazením] [ planning-guide] týkající se používání rozhraní příkazového řádku Azure k nasazení rozšíření monitorování Azure pro SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-677">Also read chapter [Azure CLI for Linux VMs][deployment-guide-4.5.2] in the [Deployment Guide][planning-guide] on how to use Azure CLI to deploy the Azure Monitoring Extension for SAP.</span></span>

## <a name="different-ways-to-deploy-vms-for-sap-in-azure"></a><span data-ttu-id="55a46-678">Různé způsoby k nasazení virtuálních počítačů pro SAP v Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-678">Different ways to deploy VMs for SAP in Azure</span></span>
<span data-ttu-id="55a46-679">V této kapitoly zjistíte různé způsoby, jak nasadit virtuální počítač v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-679">In this chapter, you learn the different ways to deploy a VM in Azure.</span></span> <span data-ttu-id="55a46-680">V této kapitole jsou popsané postupy další přípravy, jakož i zpracování virtuální pevné disky a virtuální počítače v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-680">Additional preparation procedures, as well as handling of VHDs and VMs in Azure are covered in this chapter.</span></span>

### <a name="deployment-of-vms-for-sap"></a><span data-ttu-id="55a46-681">Nasazení virtuálních počítačů pro SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-681">Deployment of VMs for SAP</span></span>
<span data-ttu-id="55a46-682">Microsoft Azure nabízí několik způsobů pro nasazení virtuálních počítačů a přidruženými disky.</span><span class="sxs-lookup"><span data-stu-id="55a46-682">Microsoft Azure offers multiple ways to deploy VMs and associated disks.</span></span> <span data-ttu-id="55a46-683">Proto je důležité pochopit rozdíly, od přípravy virtuálních počítačů se můžou lišit v závislosti na metodě nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-683">Thus it is very important to understand the differences since preparations of the VMs might differ depending on the method of deployment.</span></span> <span data-ttu-id="55a46-684">Obecně platí jsme podívejte se na následující scénáře:</span><span class="sxs-lookup"><span data-stu-id="55a46-684">In general, we take a look at the following scenarios:</span></span>

#### <span data-ttu-id="55a46-685"><a name="4d175f1b-7353-4137-9d2f-817683c26e53"></a>Přesunutí virtuálního počítače z místního do Azure s diskem zobecněn</span><span class="sxs-lookup"><span data-stu-id="55a46-685"><a name="4d175f1b-7353-4137-9d2f-817683c26e53"></a>Moving a VM from on-premises to Azure with a non-generalized disk</span></span>
<span data-ttu-id="55a46-686">Máte v úmyslu přesunout z místní konkrétního systému SAP do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-686">You plan to move a specific SAP system from on-premises to Azure.</span></span> <span data-ttu-id="55a46-687">Tento krok můžete provést tím, že nahrajete virtuální pevný disk, který obsahuje operační systém, SAP binární soubory a binární soubory databázového systému plus virtuální pevné disky se soubory protokolu a data z databázového systému Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-687">This can be done by uploading the VHD, which contains the OS, the SAP Binaries, and DBMS binaries plus the VHDs with the data and log files of the DBMS to Azure.</span></span> <span data-ttu-id="55a46-688">Rozdíl k [scénář #2 níže][planning-guide-5.1.2], zachovat název hostitele, identifikátor SID SAP, a SAP uživatelských účtů ve virtuálním počítači Azure, jak byla nakonfigurována v místním prostředí.</span><span class="sxs-lookup"><span data-stu-id="55a46-688">In contrast to [scenario #2 below][planning-guide-5.1.2], you keep the hostname, SAP SID, and SAP user accounts in the Azure VM as they were configured in the on-premises environment.</span></span> <span data-ttu-id="55a46-689">Proto generalizací bitovou kopii není nutné.</span><span class="sxs-lookup"><span data-stu-id="55a46-689">Therefore, generalizing the image is not necessary.</span></span> <span data-ttu-id="55a46-690">Najdete v kapitolách [přípravy pro přesun virtuálního počítače z místního do Azure s diskem zobecněn] [ planning-guide-5.2.1] tohoto dokumentu pro místní přípravné kroky a odesílání-zobecněný virtuální počítače nebo virtuální pevné disky do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-690">See chapters [Preparation for moving a VM from on-premises to Azure with a non-generalized disk][planning-guide-5.2.1] of this document for on-premises preparation steps and upload of non-generalized VMs or VHDs to Azure.</span></span> <span data-ttu-id="55a46-691">Čtení kapitoly [scénář 3: přesunutí virtuálního počítače z místního virtuálního pevného disku není zobecněný Azure pomocí SAP] [ deployment-guide-3.4] v [Průvodce nasazením] [ deployment-guide] podrobný postup nasazení takové bitovou kopii v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-691">Read chapter [Scenario 3: Moving a VM from on-premises using a non-generalized Azure VHD with SAP][deployment-guide-3.4] in the [Deployment Guide][deployment-guide] for detailed steps of deploying such an image in Azure.</span></span>

#### <span data-ttu-id="55a46-692"><a name="e18f7839-c0e2-4385-b1e6-4538453a285c"></a>Nasazení virtuálního počítače s bitovou kopii zákaznické</span><span class="sxs-lookup"><span data-stu-id="55a46-692"><a name="e18f7839-c0e2-4385-b1e6-4538453a285c"></a>Deploying a VM with a customer-specific image</span></span>
<span data-ttu-id="55a46-693">Z důvodu opravy specifické požadavky vaší verzí operačního systému nebo databázového systému nemusí zadané bitové kopie v Azure Marketplace podle vašich potřeb.</span><span class="sxs-lookup"><span data-stu-id="55a46-693">Due to specific patch requirements of your OS or DBMS version, the provided images in the Azure Marketplace might not fit your needs.</span></span> <span data-ttu-id="55a46-694">Proto může být potřeba vytvořit virtuální počítač pomocí vlastní "privátní" image operačního systému nebo databázového systému virtuálního počítače, které mohou být nasazeny několikrát později.</span><span class="sxs-lookup"><span data-stu-id="55a46-694">Therefore, you might need to create a VM using your own ‘private’ OS/DBMS VM image, which can be deployed several times afterwards.</span></span> <span data-ttu-id="55a46-695">Pro přípravu "privátní" image pro duplikaci, musí být považovány za následující položky:</span><span class="sxs-lookup"><span data-stu-id="55a46-695">To prepare such a ‘private’ image for duplication, the following items have to be considered:</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-697">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-697">Windows</span></span>
>
> <span data-ttu-id="55a46-698">Zobrazte další podrobnosti zde: <https://docs.microsoft.com/azure/virtual-machines/windows/upload-generalized-managed> nastavení systému Windows (např. Windows SID a název hostitele) musí být zobecněn na místní virtuální počítač pomocí příkazu sysprep jejich abstrahované.</span><span class="sxs-lookup"><span data-stu-id="55a46-698">See more details here: <https://docs.microsoft.com/azure/virtual-machines/windows/upload-generalized-managed> The Windows settings (like Windows SID and hostname) must be abstracted/generalized on the on-premises VM via the sysprep command.</span></span>
>
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-700">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-700">Linux</span></span>
>
> <span data-ttu-id="55a46-701">Postupujte podle kroků popsaných v těchto článcích pro [SUSE][virtual-machines-linux-create-upload-vhd-suse], [Red Hat][virtual-machines-linux-redhat-create-upload-vhd], nebo [Oracle Linux][virtual-machines-linux-create-upload-vhd-oracle], připravit virtuální pevný disk má nahrát do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-701">Follow the steps described in these articles for [SUSE][virtual-machines-linux-create-upload-vhd-suse], [Red Hat][virtual-machines-linux-redhat-create-upload-vhd], or [Oracle Linux][virtual-machines-linux-create-upload-vhd-oracle], to prepare a VHD to be uploaded to Azure.</span></span>
>
>

- - -
<span data-ttu-id="55a46-702">Pokud jste již nainstalovali SAP obsah v místní virtuální počítač (hlavně u systémy vrstvě 2), můžete upravit nastavení systému SAP po nasazení virtuálního počítače Azure pomocí instance přejmenovat postup nepodporuje správce zřizování softwaru SAP (Poznámka SAP [1619720]).</span><span class="sxs-lookup"><span data-stu-id="55a46-702">If you have already installed SAP content in your on-premises VM (especially for 2-Tier systems), you can adapt the SAP system settings after the deployment of the Azure VM through the instance rename procedure supported by the SAP Software Provisioning Manager (SAP Note [1619720]).</span></span> <span data-ttu-id="55a46-703">Najdete v kapitolách [přípravy pro nasazení virtuálního počítače s bitovou kopii zákaznické pro SAP] [ planning-guide-5.2.2] a [odesílání virtuálního pevného disku z místního do Azure] [ planning-guide-5.3.2] tohoto dokumentu pro místní přípravné kroky a odesílání zobecněný virtuální počítač do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-703">See chapters [Preparation for deploying a VM with a customer-specific image for SAP][planning-guide-5.2.2] and [Uploading a VHD from on-premises to Azure][planning-guide-5.3.2] of this document for on-premises preparation steps and upload of a generalized VM to Azure.</span></span> <span data-ttu-id="55a46-704">Čtení kapitoly [scénář 2: nasazení virtuálního počítače s vlastní image pro SAP] [ deployment-guide-3.3] v [Průvodce nasazením] [ deployment-guide] podrobný postup nasazení takové bitovou kopii v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-704">Read chapter [Scenario 2: Deploying a VM with a custom image for SAP][deployment-guide-3.3] in the [Deployment Guide][deployment-guide] for detailed steps of deploying such an image in Azure.</span></span>

#### <a name="deploying-a-vm-out-of-the-azure-marketplace"></a><span data-ttu-id="55a46-705">Nasazení virtuálních počítačů z Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="55a46-705">Deploying a VM out of the Azure Marketplace</span></span>
<span data-ttu-id="55a46-706">Chcete používat Microsoft nebo třetích stran, pokud image virtuálního počítače v Azure Marketplace pro nasazení virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-706">You would like to use a Microsoft or third-party provided VM image from the Azure Marketplace to deploy your VM.</span></span> <span data-ttu-id="55a46-707">Po nasazení virtuálního počítače v Azure použijte stejné pokyny a nástroje pro instalaci softwaru SAP nebo databázového systému uvnitř virtuálního počítače, jako byste to udělali v místním prostředí.</span><span class="sxs-lookup"><span data-stu-id="55a46-707">After you deployed your VM in Azure, you follow the same guidelines and tools to install the SAP software and/or DBMS inside your VM as you would do in an on-premises environment.</span></span> <span data-ttu-id="55a46-708">Podrobnější popis nasazení, získáte v kapitole [scénář 1: nasazení virtuálního počítače z Azure Marketplace pro SAP] [ deployment-guide-3.2] v [Průvodce nasazením][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-708">For more detailed deployment description, please see chapter [Scenario 1: Deploying a VM out of the Azure Marketplace for SAP][deployment-guide-3.2] in the [Deployment Guide][deployment-guide].</span></span>

### <span data-ttu-id="55a46-709"><a name="6ffb9f41-a292-40bf-9e70-8204448559e7"></a>Příprava na Azure virtuálních počítačů s SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-709"><a name="6ffb9f41-a292-40bf-9e70-8204448559e7"></a>Preparing VMs with SAP for Azure</span></span>
<span data-ttu-id="55a46-710">Před nahráním virtuálních počítačů do Azure, budete muset zajistěte, aby virtuální počítače a virtuální pevné disky splnit určité požadavky.</span><span class="sxs-lookup"><span data-stu-id="55a46-710">Before uploading VMs into Azure you need to make sure the VMs and VHDs fulfill certain requirements.</span></span> <span data-ttu-id="55a46-711">Existují malé rozdíly v závislosti na metodě nasazení, který se používá.</span><span class="sxs-lookup"><span data-stu-id="55a46-711">There are small differences depending on the deployment method that is used.</span></span>

#### <span data-ttu-id="55a46-712"><a name="1b287330-944b-495d-9ea7-94b83aff73ef"></a>Příprava pro přesun virtuálního počítače z místního do Azure s diskem zobecněn</span><span class="sxs-lookup"><span data-stu-id="55a46-712"><a name="1b287330-944b-495d-9ea7-94b83aff73ef"></a>Preparation for moving a VM from on-premises to Azure with a non-generalized disk</span></span>
<span data-ttu-id="55a46-713">Běžnou metodu nasazení je přesunout existující virtuální počítač, na kterém běží systém SAP z místního do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-713">A common deployment method is to move an existing VM which runs an SAP system from on-premises to Azure.</span></span> <span data-ttu-id="55a46-714">Tento virtuální počítač a SAP systém ve virtuálním počítači právě měli spustit v Azure pomocí stejný název hostitele a velmi pravděpodobně stejným identifikátorem SID SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-714">That VM and the SAP system in the VM just should run in Azure using the same hostname and very likely the same SAP SID.</span></span> <span data-ttu-id="55a46-715">V takovém případě by neměl být zobecněn hostovaného operačního systému virtuálního počítače pro více nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-715">In this case the guest OS of VM should not be generalized for multiple deployments.</span></span> <span data-ttu-id="55a46-716">Pokud je tu rozšířené místní sítě do Azure (naleznete v kapitole [mezi různými místy - nasazení jedné nebo více virtuálních počítačů SAP do Azure s požadavkem je plně integrován do místní sítě] [ planning-guide-2.2] v tomto dokumentu), pak i stejné účty domény je možné v rámci virtuálního počítače jako těch, které byly používány před místně.</span><span class="sxs-lookup"><span data-stu-id="55a46-716">If the on-premises network got extended into Azure (see chapter [cross-premises - Deployment of single or multiple SAP VMs into Azure with the requirement of being fully integrated into the on-premises network][planning-guide-2.2] in this document), then even the same domain accounts can be used within the VM as those were used before on-premises.</span></span>

<span data-ttu-id="55a46-717">Požadavky při přípravě vlastní disku virtuálního počítače Azure jsou:</span><span class="sxs-lookup"><span data-stu-id="55a46-717">Requirements when preparing your own Azure VM Disk are:</span></span>

* <span data-ttu-id="55a46-718">Maximální velikost 127GB pouze může být původně virtuálního pevného disku obsahující operační systém.</span><span class="sxs-lookup"><span data-stu-id="55a46-718">Originally the VHD containing the operating system could have a maximum size of 127GB only.</span></span> <span data-ttu-id="55a46-719">Toto omezení získali eliminovat na konci března 2015.</span><span class="sxs-lookup"><span data-stu-id="55a46-719">This limitation got eliminated at the end of March 2015.</span></span> <span data-ttu-id="55a46-720">Virtuální pevný disk obsahující operační systém nyní může být velikost až 1TB, jako ostatní Azure Storage i hostované virtuální pevný disk.</span><span class="sxs-lookup"><span data-stu-id="55a46-720">Now the VHD containing the operating system can be up to 1TB in size as any other Azure Storage hosted VHD as well.</span></span>
* <span data-ttu-id="55a46-721">Musí se jednat o ve formátu pevný virtuální pevný disk.</span><span class="sxs-lookup"><span data-stu-id="55a46-721">It needs to be in the fixed VHD format.</span></span> <span data-ttu-id="55a46-722">Dynamické virtuální pevné disky nebo virtuální pevné disky ve formátu VHDx se ještě nepodporují v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-722">Dynamic VHDs or VHDs in VHDx format are not yet supported on Azure.</span></span> <span data-ttu-id="55a46-723">Dynamické virtuální pevné disky budou převedeny na statický virtuálních pevných disků při nahrávání virtuální pevný disk pomocí rutiny prostředí PowerShell nebo rozhraní příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="55a46-723">Dynamic VHDs will be converted to static VHDs when you upload the VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="55a46-724">Virtuální pevné disky, které jsou připojené k virtuálnímu počítači a musí být připojené znovu v Azure do virtuálního počítače potřeba mít také pevné Formát virtuálního pevného disku.</span><span class="sxs-lookup"><span data-stu-id="55a46-724">VHDs which are mounted to the VM and should be mounted again in Azure to the VM need to be in a fixed VHD format as well.</span></span> <span data-ttu-id="55a46-725">Přečtěte si prosím [v tomto článku (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) a [v tomto článku (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) pro omezení velikosti datových disků.</span><span class="sxs-lookup"><span data-stu-id="55a46-725">Please read [this article (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) and [this article (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) for size limits of data disks.</span></span> <span data-ttu-id="55a46-726">Dynamické virtuální pevné disky budou převedeny na statický virtuálních pevných disků při nahrávání virtuální pevný disk pomocí rutiny prostředí PowerShell nebo rozhraní příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="55a46-726">Dynamic VHDs will be converted to static VHDs when you upload the VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="55a46-727">Přidáte, může být použit jiný místní účet s oprávněními správce, které mohou být využívána podpory společnosti Microsoft nebo které lze přiřadit jako kontext pro služeb a aplikací na spouštění v, dokud je virtuální počítač nasazen a více příslušné uživatele.</span><span class="sxs-lookup"><span data-stu-id="55a46-727">Add another local account with administrator privileges which can be used by Microsoft support or which can be assigned as context for services and applications to run in until the VM is deployed and more appropriate users can be used.</span></span>
* <span data-ttu-id="55a46-728">Pro případ použití scénáři jenom pro Cloud nasazení (naleznete v kapitole [jenom pro Cloud - nasazení virtuálních počítačů do Azure bez závislosti na místní sítě zákazníka] [ planning-guide-2.1] tohoto dokumentu) v kombinaci s Tato metoda nasazení, účtů domény nemusí fungovat po disku Azure je nasazené v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-728">For the case of using a Cloud-Only deployment scenario (see chapter [Cloud-Only - Virtual Machine deployments into Azure without dependencies on the on-premises customer network][planning-guide-2.1] of this document) in combination with this deployment method, domain accounts might not work once the Azure Disk is deployed in Azure.</span></span> <span data-ttu-id="55a46-729">To platí hlavně pro účty, které se používají ke spouštění služeb jako databázového systému nebo SAP aplikací.</span><span class="sxs-lookup"><span data-stu-id="55a46-729">This is especially true for accounts which are used to run services like the DBMS or SAP applications.</span></span> <span data-ttu-id="55a46-730">Proto musíte pro tyto účty domény nahraďte místní účty virtuálního počítače a odstranění místních účtů domény ve virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="55a46-730">Therefore you need to replace such domain accounts with VM local accounts and delete the on-premises domain accounts in the VM.</span></span> <span data-ttu-id="55a46-731">Zachování místní domény uživatele do bitové kopie virtuálního počítače se nejedná o problém při je virtuální počítač nasazen ve scénáři mezi různými místy, jak je popsáno v kapitole [mezi různými místy - nasazení jedné nebo více virtuálních počítačů SAP do Azure s požadavkem je plně integrován do místní sítě] [ planning-guide-2.2] v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-731">Keeping on-premises domain users in the VM image is not an issue when the VM is deployed in the cross-premises scenario as described in chapter [Cross-Premises - Deployment of single or multiple SAP VMs into Azure with the requirement of being fully integrated into the on-premises network][planning-guide-2.2] in this document.</span></span>
* <span data-ttu-id="55a46-732">Pokud se při spuštění systému na místě a tyto virtuální počítače jsou by měl být nasazen v čistě cloudové scénáře účty domény používaly jako databázového systému přihlášení nebo uživatelé, třeba odstranit uživatele domény.</span><span class="sxs-lookup"><span data-stu-id="55a46-732">If domain accounts were used as DBMS logins or users when running the system on-premises and those VMs are supposed to be deployed in Cloud-Only scenarios, the domain users need to be deleted.</span></span> <span data-ttu-id="55a46-733">Musíte zajistit, že místní správce a jiný virtuální počítač místní uživatel je přidán jako přihlášení uživatele do databázového systému jako správci.</span><span class="sxs-lookup"><span data-stu-id="55a46-733">You need to make sure that the local administrator plus another VM local user is added as a login/user into the DBMS as administrators.</span></span>
* <span data-ttu-id="55a46-734">Přidejte další místní účty, jak těch, které mohou být potřebné pro tento scénář konkrétní nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-734">Add other local accounts as those might be needed for the specific deployment scenario.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-736">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-736">Windows</span></span>
>
> <span data-ttu-id="55a46-737">V tomto scénáři žádné generalizace (sysprep) virtuálního počítače je potřeba nahrát a nasadit virtuální počítač na platformě Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-737">In this scenario no generalization (sysprep) of the VM is required to upload and deploy the VM on Azure.</span></span>
> <span data-ttu-id="55a46-738">Ujistěte se, že jednotku, kterou nepoužívá D:\.</span><span class="sxs-lookup"><span data-stu-id="55a46-738">Make sure that drive D:\ is not used.</span></span>
> <span data-ttu-id="55a46-739">Nastavení automatického připojení disku pro připojené disky, jak je popsáno v kapitole [nastavení automatického připojení pro připojené disky] [ planning-guide-5.5.3] v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-739">Set disk automount for attached disks as described in chapter [Setting automount for attached disks][planning-guide-5.5.3] in this document.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-741">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-741">Linux</span></span>
>
> <span data-ttu-id="55a46-742">V tomto scénáři žádné generalizace (příkaz waagent-deprovision) virtuálního počítače je potřeba nahrát a nasadit virtuální počítač na platformě Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-742">In this scenario no generalization (waagent -deprovision) of the VM is required to upload and deploy the VM on Azure.</span></span>
> <span data-ttu-id="55a46-743">Ujistěte se, zda se nepoužívá/mnt nebo prostředků a že jsou všechny disky připojené přes uuid.</span><span class="sxs-lookup"><span data-stu-id="55a46-743">Make sure that /mnt/resource is not used and that ALL disks are mounted via uuid.</span></span> <span data-ttu-id="55a46-744">Pro disk operačního systému ověřte, že položka zaváděcí program pro spouštění také změna připojení na základě uuid.</span><span class="sxs-lookup"><span data-stu-id="55a46-744">For the OS disk, make sure that the bootloader entry also reflects the uuid-based mount.</span></span>
>
>

- - -
#### <span data-ttu-id="55a46-745"><a name="57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3"></a>Příprava pro nasazení virtuálního počítače s bitovou kopii zákaznické pro SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-745"><a name="57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3"></a>Preparation for deploying a VM with a customer-specific image for SAP</span></span>
<span data-ttu-id="55a46-746">Soubory virtuálního pevného disku, které obsahují zobecněný operačního systému jsou uloženy v kontejnery v účtech úložiště Azure nebo jako spravované diskové Image.</span><span class="sxs-lookup"><span data-stu-id="55a46-746">VHD files that contain a generalized OS are stored in containers on Azure Storage Accounts or as Managed Disk images.</span></span> <span data-ttu-id="55a46-747">Můžete nasadit nový virtuální počítač z takových bitové kopie odkazující na bitovou kopii virtuálního pevného disku nebo Disk spravované jako zdroj v souborech šablony nasazení, jak je popsáno v kapitole [scénář 2: nasazení virtuálního počítače s vlastní image pro SAP] [ deployment-guide-3.3] z [Průvodce nasazením][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-747">You can deploy a new VM from such an image by referencing the VHD or Managed Disk image as a source in your deployment template files as described in chapter [Scenario 2: Deploying a VM with a custom image for SAP][deployment-guide-3.3] of the [Deployment Guide][deployment-guide].</span></span>

<span data-ttu-id="55a46-748">Požadavky při přípravě vlastní Image virtuálního počítače Azure jsou:</span><span class="sxs-lookup"><span data-stu-id="55a46-748">Requirements when preparing your own Azure VM Image are:</span></span>

* <span data-ttu-id="55a46-749">Maximální velikost 127GB pouze může být původně virtuálního pevného disku obsahující operační systém.</span><span class="sxs-lookup"><span data-stu-id="55a46-749">Originally the VHD containing the operating system could have a maximum size of 127GB only.</span></span> <span data-ttu-id="55a46-750">Toto omezení získali eliminovat na konci března 2015.</span><span class="sxs-lookup"><span data-stu-id="55a46-750">This limitation got eliminated at the end of March 2015.</span></span> <span data-ttu-id="55a46-751">Virtuální pevný disk obsahující operační systém nyní může být velikost až 1TB, jako ostatní Azure Storage i hostované virtuální pevný disk.</span><span class="sxs-lookup"><span data-stu-id="55a46-751">Now the VHD containing the operating system can be up to 1TB in size as any other Azure Storage hosted VHD as well.</span></span>
* <span data-ttu-id="55a46-752">Musí se jednat o ve formátu pevný virtuální pevný disk.</span><span class="sxs-lookup"><span data-stu-id="55a46-752">It needs to be in the fixed VHD format.</span></span> <span data-ttu-id="55a46-753">Dynamické virtuální pevné disky nebo virtuální pevné disky ve formátu VHDx se ještě nepodporují v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-753">Dynamic VHDs or VHDs in VHDx format are not yet supported on Azure.</span></span> <span data-ttu-id="55a46-754">Dynamické virtuální pevné disky budou převedeny na statický virtuálních pevných disků při nahrávání virtuální pevný disk pomocí rutiny prostředí PowerShell nebo rozhraní příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="55a46-754">Dynamic VHDs will be converted to static VHDs when you upload the VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="55a46-755">Virtuální pevné disky, které jsou připojené k virtuálnímu počítači a musí být připojené znovu v Azure do virtuálního počítače potřeba mít také pevné Formát virtuálního pevného disku.</span><span class="sxs-lookup"><span data-stu-id="55a46-755">VHDs which are mounted to the VM and should be mounted again in Azure to the VM need to be in a fixed VHD format as well.</span></span> <span data-ttu-id="55a46-756">Přečtěte si prosím [v tomto článku (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) a [v tomto článku (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) pro omezení velikosti datových disků.</span><span class="sxs-lookup"><span data-stu-id="55a46-756">Please read [this article (Linux)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-linux) and [this article (Windows)](https://docs.microsoft.com/azure/storage/storage-about-disks-and-vhds-windows) for size limits of data disks.</span></span> <span data-ttu-id="55a46-757">Dynamické virtuální pevné disky budou převedeny na statický virtuálních pevných disků při nahrávání virtuální pevný disk pomocí rutiny prostředí PowerShell nebo rozhraní příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="55a46-757">Dynamic VHDs will be converted to static VHDs when you upload the VHD with PowerShell commandlets or CLI</span></span>
* <span data-ttu-id="55a46-758">Vzhledem k tomu, že všichni uživatelé domény registrovaný jako uživatelům ve virtuálním počítači nebude existovat ve scénáři jenom pro Cloud (naleznete v kapitole [jenom pro Cloud - nasazení virtuálních počítačů do Azure bez závislosti na místní sítě zákazníka] [ planning-guide-2.1] tohoto dokumentu), služby pomocí takové domény účty nemusí fungovat po bitovou kopii je nasazené v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-758">Since all the Domain users registered as users in the VM will not exist in a Cloud-Only scenario (see chapter [Cloud-Only - Virtual Machine deployments into Azure without dependencies on the on-premises customer network][planning-guide-2.1] of this document), services using such domain accounts might not work once the Image is deployed in Azure.</span></span> <span data-ttu-id="55a46-759">To platí hlavně pro účty, které se používají ke spouštění služeb jako databázového systému nebo SAP aplikací.</span><span class="sxs-lookup"><span data-stu-id="55a46-759">This is especially true for accounts which are used to run services like DBMS or SAP applications.</span></span> <span data-ttu-id="55a46-760">Proto musíte pro tyto účty domény nahraďte místní účty virtuálního počítače a odstranění místních účtů domény ve virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="55a46-760">Therefore you need to replace such domain accounts with VM local accounts and delete the on-premises domain accounts in the VM.</span></span> <span data-ttu-id="55a46-761">Zachování místní domény uživatele do bitové kopie virtuálního počítače nemusí být problém, když je virtuální počítač nasazen ve scénáři mezi různými místy, jak je popsáno v kapitole [mezi různými místy - nasazení jedné nebo více virtuálních počítačů SAP do Azure s požadavkem je plně integrován do místní sítě] [ planning-guide-2.2] v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-761">Keeping on-premises domain users in the VM image might not be an issue when the VM is deployed in the cross-premises scenario as described in chapter [Cross-Premises - Deployment of single or multiple SAP VMs into Azure with the requirement of being fully integrated into the on-premises network][planning-guide-2.2] in this document.</span></span>
* <span data-ttu-id="55a46-762">Přidáte, může být použit jiný místní účet s oprávněními správce, které mohou být využívána podpory společnosti Microsoft v vyšetřování problém nebo které lze přiřadit jako kontext pro služeb a aplikací na spouštění v, dokud je virtuální počítač nasazen a více příslušné uživatele.</span><span class="sxs-lookup"><span data-stu-id="55a46-762">Add another local account with administrator privileges which can be used by Microsoft support in problem investigations or which can be assigned as context for services and applications to run in until the VM is deployed and more appropriate users can be used.</span></span>
* <span data-ttu-id="55a46-763">V nasazení jenom pro Cloud a kde účty domény používaly jako databázového systému přihlášení nebo uživatelé při spuštění systému na místě měli byste odstranit uživatele domény.</span><span class="sxs-lookup"><span data-stu-id="55a46-763">In Cloud-Only deployments and where domain accounts were used as DBMS logins or users when running the system on-premises, the domain users should be deleted.</span></span> <span data-ttu-id="55a46-764">Musíte zajistit, že místní správce a jiný uživatel místní počítač přidán jako přihlášení nebo uživatel databázového systému jako správci.</span><span class="sxs-lookup"><span data-stu-id="55a46-764">You need to make sure that the local administrator plus another VM local user is added as a login/user of the DBMS as administrators.</span></span>
* <span data-ttu-id="55a46-765">Přidejte další místní účty, jak těch, které mohou být potřebné pro tento scénář konkrétní nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-765">Add other local accounts as those might be needed for the specific deployment scenario.</span></span>
* <span data-ttu-id="55a46-766">Pokud bitová kopie obsahuje instalace SAP NetWeaver a přejmenování názvu hostitele z původní název v okamžiku nasazení Azure je pravděpodobné, že doporučuje se nejnovější verze SAP softwaru zřizování Manager DVD zkopírovat do šablony.</span><span class="sxs-lookup"><span data-stu-id="55a46-766">If the image contains an installation of SAP NetWeaver and renaming of the host name from the original name at the point of the Azure deployment is likely, it is recommended to copy the latest versions of the SAP Software Provisioning Manager DVD into the template.</span></span> <span data-ttu-id="55a46-767">To vám umožní snadno použít funkci SAP zadané přejmenování přizpůsobit změněné název hostitele nebo změnit SID systému SAP v nasazené bitové kopie virtuálního počítače, jakmile se spustí novou kopií.</span><span class="sxs-lookup"><span data-stu-id="55a46-767">This will enable you to easily use the SAP provided rename functionality to adapt the changed hostname and/or change the SID of the SAP system within the deployed VM image as soon as a new copy is started.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-769">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-769">Windows</span></span>
>
> <span data-ttu-id="55a46-770">Ujistěte se, že jednotku D:\ není použít automatického připojení disku sady pro připojené disky, jak je popsáno v kapitole [nastavení automatického připojení pro připojené disky] [ planning-guide-5.5.3] v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-770">Make sure that drive D:\ is not used Set disk automount for attached disks as described in chapter [Setting automount for attached disks][planning-guide-5.5.3] in this document.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-772">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-772">Linux</span></span>
>
> <span data-ttu-id="55a46-773">Ujistěte se, zda se nepoužívá/mnt nebo prostředků a že jsou všechny disky připojené přes uuid.</span><span class="sxs-lookup"><span data-stu-id="55a46-773">Make sure that /mnt/resource is not used and that ALL disks are mounted via uuid.</span></span> <span data-ttu-id="55a46-774">Pro disk operačního systému zkontrolujte, zda že položka zaváděcí program pro spouštění také odráží připojení na základě uuid.</span><span class="sxs-lookup"><span data-stu-id="55a46-774">For the OS disk, make sure the bootloader entry also reflects the uuid-based mount.</span></span>
>
>

- - -
* <span data-ttu-id="55a46-775">SAP grafickým uživatelským rozhraním (pro správu a instalační program pro účely) může být předem nainstalován v takové šablonu.</span><span class="sxs-lookup"><span data-stu-id="55a46-775">SAP GUI (for administrative and setup purposes) can be pre-installed in such a template.</span></span>
* <span data-ttu-id="55a46-776">Další potřebné ke spuštění virtuálních počítačů, které jsou úspěšně ve scénářích mezi různými místy software se dá nainstalovat, dokud tento software může spolupracovat s přejmenování virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-776">Other software necessary to run the VMs successfully in cross-premises scenarios can be installed as long as this software can work with the rename of the VM.</span></span>

<span data-ttu-id="55a46-777">Jestliže virtuální počítač je připravená dostatečně obecné a nakonec nezávislé na účty či uživatelů ve scénáři nasazenou Azure není k dispozici, je provedena poslední krok přípravy generalizací takové image.</span><span class="sxs-lookup"><span data-stu-id="55a46-777">If the VM is prepared sufficiently to be generic and eventually independent of accounts/users not available in the targeted Azure deployment scenario, the last preparation step of generalizing such an image is conducted.</span></span>

##### <a name="generalizing-a-vm"></a><span data-ttu-id="55a46-778">Generalizací virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="55a46-778">Generalizing a VM</span></span>
- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-780">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-780">Windows</span></span>
>
> <span data-ttu-id="55a46-781">Posledním krokem je k přihlášení k virtuálnímu počítači pomocí účtu správce.</span><span class="sxs-lookup"><span data-stu-id="55a46-781">The last step is to log in to a VM with an Administrator account.</span></span> <span data-ttu-id="55a46-782">Otevřete příkazové okno Windows jako 'správce.</span><span class="sxs-lookup"><span data-stu-id="55a46-782">Open a Windows command window as ‘administrator’.</span></span> <span data-ttu-id="55a46-783">Přejděte do %windir%\windows\system32\sysprep a provést sysprep.exe.</span><span class="sxs-lookup"><span data-stu-id="55a46-783">Go to %windir%\windows\system32\sysprep and execute sysprep.exe.</span></span>
> <span data-ttu-id="55a46-784">Zobrazí se okno malé.</span><span class="sxs-lookup"><span data-stu-id="55a46-784">A small window will appear.</span></span> <span data-ttu-id="55a46-785">Je důležité zaškrtnutí políčka "Generalizace" (výchozí hodnota je vypnuta) a změnit možnost vypnutí z výchozí hodnoty, restartování' 'Vypnutí'.</span><span class="sxs-lookup"><span data-stu-id="55a46-785">It is important to check the ‘Generalize’ option (the default is un-checked) and change the Shutdown Option from its default of ‘Reboot’ to ‘Shutdown’.</span></span> <span data-ttu-id="55a46-786">Tento postup předpokládá, že procesu nástroje sysprep je spustit místně v hostovaného operačního systému virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-786">This procedure assumes that the sysprep process is executed on-premises in the Guest OS of a VM.</span></span>
> <span data-ttu-id="55a46-787">Pokud chcete provést postup v případě virtuálních počítačů už běží v Azure, postupujte podle kroků popsaných v [v tomto článku](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/capture-image-resource).</span><span class="sxs-lookup"><span data-stu-id="55a46-787">If you want to perform the procedure with a VM already running in Azure, follow the steps described in [this article](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/capture-image-resource).</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-789">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-789">Linux</span></span>
>
> <span data-ttu-id="55a46-790">[Jak zachytit virtuální počítač s Linuxem chcete použít jako šablony Resource Manageru][capture-image-linux-step-2-create-vm-image]</span><span class="sxs-lookup"><span data-stu-id="55a46-790">[How to capture a Linux virtual machine to use as a Resource Manager template][capture-image-linux-step-2-create-vm-image]</span></span>
>
>

- - -
### <a name="transferring-vms-and-vhds-between-on-premises-to-azure"></a><span data-ttu-id="55a46-791">Přenos virtuálních počítačů a virtuálních pevných disků mezi místním nasazením a Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-791">Transferring VMs and VHDs between on-premises to Azure</span></span>
<span data-ttu-id="55a46-792">Vzhledem k tomu, že nahrání Image virtuálních počítačů a disků do Azure není možné prostřednictvím portálu Azure, budete muset použít rutiny prostředí Azure PowerShell nebo rozhraní příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="55a46-792">Since uploading VM images and disks to Azure is not possible via the Azure portal, you need to use Azure PowerShell cmdlets or CLI.</span></span> <span data-ttu-id="55a46-793">Další možností je použití nástroje 'AzCopy'.</span><span class="sxs-lookup"><span data-stu-id="55a46-793">Another possibility is the use of the tool ‘AzCopy’.</span></span> <span data-ttu-id="55a46-794">Nástroj můžete zkopírovat virtuální pevné disky mezi místními a Azure (v obou směrech).</span><span class="sxs-lookup"><span data-stu-id="55a46-794">The tool can copy VHDs between on-premises and Azure (in both directions).</span></span> <span data-ttu-id="55a46-795">Je taky zkopírovat virtuální pevné disky mezi oblastmi Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-795">It also can copy VHDs between Azure Regions.</span></span> <span data-ttu-id="55a46-796">Přečtěte si [této dokumentace] [ storage-use-azcopy] pro stažení a použití nástroje AzCopy.</span><span class="sxs-lookup"><span data-stu-id="55a46-796">Please consult [this documentation][storage-use-azcopy] for download and usage of AzCopy.</span></span>

<span data-ttu-id="55a46-797">Třetí možnost může být použití různých nástrojů orientovaných na grafickém uživatelském rozhraní třetích stran.</span><span class="sxs-lookup"><span data-stu-id="55a46-797">A third alternative would be to use various third-party GUI-oriented tools.</span></span> <span data-ttu-id="55a46-798">Ale ujistěte, že tyto nástroje jsou podpora objekty BLOB stránky Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-798">However, please make sure that these tools are supporting Azure Page Blobs.</span></span> <span data-ttu-id="55a46-799">Pro naše účely potřebujeme používat úložiště objektů Blob stránky Azure (rozdíly jsou popsány zde: <https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>).</span><span class="sxs-lookup"><span data-stu-id="55a46-799">For our purposes we need to use Azure Page Blob store (the differences are described here: <https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>).</span></span> <span data-ttu-id="55a46-800">Také nástroje poskytované subsystémem pro Azure jsou velmi efektivní v kompresi virtuálních počítačů a virtuálních pevných disků, které je třeba k odeslání.</span><span class="sxs-lookup"><span data-stu-id="55a46-800">Also the tools provided by Azure are very efficient in compressing the VMs and VHDs which need to be uploaded.</span></span> <span data-ttu-id="55a46-801">To je důležité, protože této efektivity v komprese snižuje čas odeslání (který se liší přesto podle nahrávání odkaz k Internetu z místní zařízením a cílem nasazení Azure oblast).</span><span class="sxs-lookup"><span data-stu-id="55a46-801">This is important because this efficiency in compression reduces the upload time (which varies anyway depending on the upload link to the internet from the on-premises facility and the Azure deployment region targeted).</span></span> <span data-ttu-id="55a46-802">Je správného předpoklad, že odesílání virtuálního počítače nebo virtuálního pevného disku z Evropského umístění na základě USA Azure dat v centrech bude trvat déle než stejné virtuální počítače nebo virtuální pevné disky se nahrávají na Evropského Azure datová centra.</span><span class="sxs-lookup"><span data-stu-id="55a46-802">It is a fair assumption that uploading a VM or VHD from European location to the U.S.-based Azure data centers will take longer than uploading the same VMs/VHDs to the European Azure data centers.</span></span>

#### <span data-ttu-id="55a46-803"><a name="a43e40e6-1acc-4633-9816-8f095d5a7b6a"></a>Nahrání virtuálního pevného disku z místního do Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-803"><a name="a43e40e6-1acc-4633-9816-8f095d5a7b6a"></a>Uploading a VHD from on-premises to Azure</span></span>
<span data-ttu-id="55a46-804">Nahrát na existující virtuální počítač nebo virtuální pevný disk z místní sítě virtuálních počítačů nebo virtuální pevný disk musí splňovat požadavky uvedené v kapitole [přípravy pro přesun virtuálního počítače z místního do Azure s diskem zobecněn] [ planning-guide-5.2.1] tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-804">To upload an existing VM or VHD from the on-premises network such a VM or VHD needs to meet the requirements as listed in chapter [Preparation for moving a VM from on-premises to Azure with a non-generalized disk][planning-guide-5.2.1] of this document.</span></span>

<span data-ttu-id="55a46-805">Virtuální počítač nemusí být zobecněn a ve stavu a tvar, který se má po vypnutí na straně místní je možné uložit.</span><span class="sxs-lookup"><span data-stu-id="55a46-805">Such a VM does NOT need to be generalized and can be uploaded in the state and shape it has after shutdown on the on-premises side.</span></span> <span data-ttu-id="55a46-806">Totéž platí pro další virtuální pevné disky, které neobsahují žádný operační systém.</span><span class="sxs-lookup"><span data-stu-id="55a46-806">The same is true for additional VHDs which don’t contain any operating system.</span></span>

##### <a name="uploading-a-vhd-and-making-it-an-azure-disk"></a><span data-ttu-id="55a46-807">Nahrání virtuálního pevného disku a jejich zpřístupnění diskem Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-807">Uploading a VHD and making it an Azure Disk</span></span>
<span data-ttu-id="55a46-808">V tomto případě chceme nahrát VHD, s nebo bez operační systém v něm a připojte k virtuálnímu počítači jako datový disk nebo ho používat jako disk s operačním systémem.</span><span class="sxs-lookup"><span data-stu-id="55a46-808">In this case we want to upload a VHD, either with or without an OS in it, and mount it to a VM as a data disk or use it as OS disk.</span></span> <span data-ttu-id="55a46-809">Jedná se o vícekrokový proces</span><span class="sxs-lookup"><span data-stu-id="55a46-809">This is a multi-step process</span></span>

<span data-ttu-id="55a46-810">**Powershell**</span><span class="sxs-lookup"><span data-stu-id="55a46-810">**Powershell**</span></span>

* <span data-ttu-id="55a46-811">Přihlaste se k vašemu předplatnému s *Login-AzureRmAccount*</span><span class="sxs-lookup"><span data-stu-id="55a46-811">Log in to your subscription with *Login-AzureRmAccount*</span></span>
* <span data-ttu-id="55a46-812">Nastavte předplatné váš kontext s *Set-AzureRmContext* a parametr ID předplatného nebo Název_předplatného - <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span><span class="sxs-lookup"><span data-stu-id="55a46-812">Set the subscription of your context with *Set-AzureRmContext* and parameter SubscriptionId or SubscriptionName - see <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span></span>
* <span data-ttu-id="55a46-813">Nahrání virtuálního pevného disku s *přidat AzureRmVhd* účet úložiště Azure - najdete v tématu <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span><span class="sxs-lookup"><span data-stu-id="55a46-813">Upload the VHD with *Add-AzureRmVhd* to an Azure Storage Account - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span></span>
* <span data-ttu-id="55a46-814">(Volitelné) Vytvoření spravované disku z virtuálního pevného disku s *New-AzureRmDisk* -najdete v části <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermdisk></span><span class="sxs-lookup"><span data-stu-id="55a46-814">(Optional) Create a Managed Disk from the VHD with *New-AzureRmDisk*  - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermdisk></span></span>
* <span data-ttu-id="55a46-815">Nastavte disku operačního systému nová konfigurace virtuálního počítače na virtuální pevný disk nebo spravované Disk s *Set-AzureRmVMOSDisk* -najdete v části <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span><span class="sxs-lookup"><span data-stu-id="55a46-815">Set the OS disk of a new VM config to the VHD or Managed Disk with *Set-AzureRmVMOSDisk* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span></span>
* <span data-ttu-id="55a46-816">Vytvoření nového virtuálního počítače z konfigurace virtuálního počítače s *New-AzureRmVM* -najdete v části <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span><span class="sxs-lookup"><span data-stu-id="55a46-816">Create a new VM from the VM config with *New-AzureRmVM* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span></span>
* <span data-ttu-id="55a46-817">Přidat datový disk do nového virtuálního počítače s *přidat AzureRmVMDataDisk* -najdete v části <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvmdatadisk></span><span class="sxs-lookup"><span data-stu-id="55a46-817">Add a data disk to a new VM with *Add-AzureRmVMDataDisk* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvmdatadisk></span></span>

<span data-ttu-id="55a46-818">**Azure CLI 2.0**</span><span class="sxs-lookup"><span data-stu-id="55a46-818">**Azure CLI 2.0**</span></span>

* <span data-ttu-id="55a46-819">Přihlaste se k vašemu předplatnému s *az přihlášení*</span><span class="sxs-lookup"><span data-stu-id="55a46-819">Log in to your subscription with *az login*</span></span>
* <span data-ttu-id="55a46-820">Vyberte předplatné s *nastaven účet az--předplatného`<subscription name or id`>*</span><span class="sxs-lookup"><span data-stu-id="55a46-820">Select your subscription with *az account set --subscription `<subscription name or id`>*</span></span>
* <span data-ttu-id="55a46-821">Nahrání virtuálního pevného disku s *az úložiště objektů blob nahrávání* -najdete v části [použití Azure CLI s Azure Storage][storage-azure-cli]</span><span class="sxs-lookup"><span data-stu-id="55a46-821">Upload the VHD with *az storage blob upload* - see [Using the Azure CLI with Azure Storage][storage-azure-cli]</span></span>
* <span data-ttu-id="55a46-822">(Volitelné) Vytvoření spravované disku z virtuálního pevného disku s *vytvoření disku az* -najdete v části https://docs.microsoft.com/cli/azure/disk#create</span><span class="sxs-lookup"><span data-stu-id="55a46-822">(Optional) Create a Managed Disk from the VHD with *az disk create* - see https://docs.microsoft.com/cli/azure/disk#create</span></span>
* <span data-ttu-id="55a46-823">Vytvoření nového virtuálního počítače zadání nahraný virtuální pevný disk nebo spravované Disk jako disk operačního systému s *vytvořit virtuální počítač az* a parametr *– připojit disk operačního systému*</span><span class="sxs-lookup"><span data-stu-id="55a46-823">Create a new VM specifying the uploaded VHD or Managed Disk as OS disk with *az vm create* and parameter *--attach-os-disk*</span></span>
* <span data-ttu-id="55a46-824">Přidat datový disk do nového virtuálního počítače s *připojit disk virtuálního počítače az* a parametr *– nový*</span><span class="sxs-lookup"><span data-stu-id="55a46-824">Add a data disk to a new VM with *az vm disk attach* and parameter *--new*</span></span>

<span data-ttu-id="55a46-825">**Šablona**</span><span class="sxs-lookup"><span data-stu-id="55a46-825">**Template**</span></span>

* <span data-ttu-id="55a46-826">Nahrání virtuálního pevného disku pomocí prostředí Powershell nebo Azure CLI</span><span class="sxs-lookup"><span data-stu-id="55a46-826">Upload the VHD with Powershell or Azure CLI</span></span>
* <span data-ttu-id="55a46-827">(Volitelné) Vytvoření spravované disku z virtuálního pevného disku pomocí prostředí Powershell, rozhraní příkazového řádku Azure nebo portálu Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-827">(Optional) Create a Managed Disk from the VHD with Powershell, Azure CLI or the Azure portal</span></span>
* <span data-ttu-id="55a46-828">Nasaďte virtuální počítač pomocí šablony JSON odkazující na virtuální pevný disk, jak je znázorněno v [této šablony JSON příklad](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/201-vm-specialized-vhd/azuredeploy.json) nebo pomocí spravovaných disků, jak je znázorněno v [této šablony JSON příklad](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-disk-md/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="55a46-828">Deploy the VM with a JSON template referencing the VHD as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/201-vm-specialized-vhd/azuredeploy.json) or using Managed Disks as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-disk-md/azuredeploy.json).</span></span>

#### <a name="deployment-of-a-vm-image"></a><span data-ttu-id="55a46-829">Nasazení Image virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="55a46-829">Deployment of a VM Image</span></span>
<span data-ttu-id="55a46-830">Nahrát na existující virtuální počítač nebo virtuální pevný disk z místní sítě chcete-li použít bitovou kopii virtuálního počítače Azure virtuálních počítačů nebo virtuální pevný disk budou muset splnit požadavky uvedené v kapitole [přípravy pro nasazení virtuálního počítače s bitovou kopii zákaznické pro SAP] [ planning-guide-5.2.2] tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-830">To upload an existing VM or VHD from the on-premises network in order to use it as an Azure VM image such a VM or VHD need to meet the requirements listed in chapter [Preparation for deploying a VM with a customer-specific image for SAP][planning-guide-5.2.2] of this document.</span></span>

* <span data-ttu-id="55a46-831">Použít *sysprep* v systému Windows nebo *příkaz waagent-deprovision* v systému Linux ke generalizaci virtuálního počítače – viz [technické informace o nástroji Sysprep](https://technet.microsoft.com/library/cc766049.aspx) pro systém Windows nebo [jak zachytit virtuální počítač s Linuxem chcete použít jako šablony Resource Manageru] [ capture-image-linux-step-2-create-vm-image] pro Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-831">Use *sysprep* on Windows or *waagent -deprovision* on Linux to generalize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How to capture a Linux virtual machine to use as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="55a46-832">Přihlaste se k vašemu předplatnému s *Login-AzureRmAccount*</span><span class="sxs-lookup"><span data-stu-id="55a46-832">Log in to your subscription with *Login-AzureRmAccount*</span></span>
* <span data-ttu-id="55a46-833">Nastavte předplatné váš kontext s *Set-AzureRmContext* a parametr ID předplatného nebo Název_předplatného - <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span><span class="sxs-lookup"><span data-stu-id="55a46-833">Set the subscription of your context with *Set-AzureRmContext* and parameter SubscriptionId or SubscriptionName - see <https://docs.microsoft.com/powershell/module/azurerm.profile/set-azurermcontext></span></span>
* <span data-ttu-id="55a46-834">Nahrání virtuálního pevného disku s *přidat AzureRmVhd* účet úložiště Azure - najdete v tématu <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span><span class="sxs-lookup"><span data-stu-id="55a46-834">Upload the VHD with *Add-AzureRmVhd* to an Azure Storage Account - see <https://docs.microsoft.com/powershell/module/azurerm.compute/add-azurermvhd></span></span>
* <span data-ttu-id="55a46-835">(Volitelné) Vytvoření bitové kopie disku spravované z virtuálního pevného disku s *New-AzureRmImage* -najdete v části <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermimage></span><span class="sxs-lookup"><span data-stu-id="55a46-835">(Optional) Create a Managed Disk Image from the VHD with *New-AzureRmImage*  - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermimage></span></span>
* <span data-ttu-id="55a46-836">Nastavit nové konfigurace virtuálního počítače na disku operačního systému</span><span class="sxs-lookup"><span data-stu-id="55a46-836">Set the OS disk of a new VM config to the</span></span>
  * <span data-ttu-id="55a46-837">Virtuální pevný disk s *Set AzureRmVMOSDisk - SourceImageUri - CreateOption fromImage* -najdete v části <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span><span class="sxs-lookup"><span data-stu-id="55a46-837">VHD with *Set-AzureRmVMOSDisk -SourceImageUri -CreateOption fromImage* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmosdisk></span></span>
  * <span data-ttu-id="55a46-838">Spravované bitové kopie disku *Set-AzureRmVMSourceImage* -najdete v části <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmsourceimage></span><span class="sxs-lookup"><span data-stu-id="55a46-838">Managed Disk Image *Set-AzureRmVMSourceImage* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/set-azurermvmsourceimage></span></span>
* <span data-ttu-id="55a46-839">Vytvoření nového virtuálního počítače z konfigurace virtuálního počítače s *New-AzureRmVM* -najdete v části <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span><span class="sxs-lookup"><span data-stu-id="55a46-839">Create a new VM from the VM config with *New-AzureRmVM* - see <https://docs.microsoft.com/powershell/module/azurerm.compute/new-azurermvm></span></span>

<span data-ttu-id="55a46-840">**Azure CLI 2.0**</span><span class="sxs-lookup"><span data-stu-id="55a46-840">**Azure CLI 2.0**</span></span>

* <span data-ttu-id="55a46-841">Použít *sysprep* v systému Windows nebo *příkaz waagent-deprovision* v systému Linux ke generalizaci virtuálního počítače – viz [technické informace o nástroji Sysprep](https://technet.microsoft.com/library/cc766049.aspx) pro systém Windows nebo [jak zachytit virtuální počítač s Linuxem chcete použít jako šablony Resource Manageru] [ capture-image-linux-step-2-create-vm-image] pro Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-841">Use *sysprep* on Windows or *waagent -deprovision* on Linux to generalize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How to capture a Linux virtual machine to use as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="55a46-842">Přihlaste se k vašemu předplatnému s *az přihlášení*</span><span class="sxs-lookup"><span data-stu-id="55a46-842">Log in to your subscription with *az login*</span></span>
* <span data-ttu-id="55a46-843">Vyberte předplatné s *nastaven účet az--předplatného`<subscription name or id`>*</span><span class="sxs-lookup"><span data-stu-id="55a46-843">Select your subscription with *az account set --subscription `<subscription name or id`>*</span></span>
* <span data-ttu-id="55a46-844">Nahrání virtuálního pevného disku s *az úložiště objektů blob nahrávání* -najdete v části [použití Azure CLI s Azure Storage][storage-azure-cli]</span><span class="sxs-lookup"><span data-stu-id="55a46-844">Upload the VHD with *az storage blob upload* - see [Using the Azure CLI with Azure Storage][storage-azure-cli]</span></span>
* <span data-ttu-id="55a46-845">(Volitelné) Vytvoření bitové kopie disku spravované z virtuálního pevného disku s *vytvoření bitové kopie az* -najdete v části https://docs.microsoft.com/cli/azure/image#create</span><span class="sxs-lookup"><span data-stu-id="55a46-845">(Optional) Create a Managed Disk Image from the VHD with *az image create* - see https://docs.microsoft.com/cli/azure/image#create</span></span>
* <span data-ttu-id="55a46-846">Vytvoření nového virtuálního počítače zadání nahraný virtuální pevný disk nebo spravovat bitové kopie disku jako disk operačního systému s *vytvořit virtuální počítač az* a parametr *– bitové kopie*</span><span class="sxs-lookup"><span data-stu-id="55a46-846">Create a new VM specifying the uploaded VHD or Managed Disk Image as OS disk with *az vm create* and parameter *--image*</span></span>

<span data-ttu-id="55a46-847">**Šablona**</span><span class="sxs-lookup"><span data-stu-id="55a46-847">**Template**</span></span>

* <span data-ttu-id="55a46-848">Použít *sysprep* v systému Windows nebo *příkaz waagent-deprovision* v systému Linux ke generalizaci virtuálního počítače – viz [technické informace o nástroji Sysprep](https://technet.microsoft.com/library/cc766049.aspx) pro systém Windows nebo [jak zachytit virtuální počítač s Linuxem chcete použít jako šablony Resource Manageru] [ capture-image-linux-step-2-create-vm-image] pro Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-848">Use *sysprep* on Windows or *waagent -deprovision* on Linux to generalize your VM - see [Sysprep Technical Reference](https://technet.microsoft.com/library/cc766049.aspx) for Windows or [How to capture a Linux virtual machine to use as a Resource Manager template][capture-image-linux-step-2-create-vm-image] for Linux</span></span>
* <span data-ttu-id="55a46-849">Nahrání virtuálního pevného disku pomocí prostředí Powershell nebo Azure CLI</span><span class="sxs-lookup"><span data-stu-id="55a46-849">Upload the VHD with Powershell or Azure CLI</span></span>
* <span data-ttu-id="55a46-850">(Volitelné) Vytvoření bitové kopie disku spravované z virtuálního pevného disku pomocí prostředí Powershell, rozhraní příkazového řádku Azure nebo portálu Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-850">(Optional) Create a Managed Disk Image from the VHD with Powershell, Azure CLI or the Azure portal</span></span>
* <span data-ttu-id="55a46-851">Nasaďte virtuální počítač pomocí šablony JSON odkazující na bitovou kopii virtuálního pevného disku, jak je znázorněno v [této šablony JSON příklad](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-image/azuredeploy.json) nebo pomocí bitové kopie disku spravovat, jak je znázorněno v [této šablony JSON příklad](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-from-user-image/azuredeploy.json).</span><span class="sxs-lookup"><span data-stu-id="55a46-851">Deploy the VM with a JSON template referencing the image VHD as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/sap-2-tier-user-image/azuredeploy.json) or using the Managed Disk Image as shown in [this example JSON template](https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-from-user-image/azuredeploy.json).</span></span>

#### <a name="downloading-vhds-or-managed-disks-to-on-premises"></a><span data-ttu-id="55a46-852">Při stahování virtuální pevné disky nebo spravovaných disků na místní</span><span class="sxs-lookup"><span data-stu-id="55a46-852">Downloading VHDs or Managed Disks to on-premises</span></span>
<span data-ttu-id="55a46-853">Azure infrastruktura jako služba není jednosměrný ulici, kde pouze bude možné nahrát virtuální pevné disky a SAP systémy.</span><span class="sxs-lookup"><span data-stu-id="55a46-853">Azure Infrastructure as a Service is not a one-way street of only being able to upload VHDs and SAP systems.</span></span> <span data-ttu-id="55a46-854">Můžete přesunout SAP systémy z Azure zpět do na místní světě.</span><span class="sxs-lookup"><span data-stu-id="55a46-854">You can move SAP systems from Azure back into the on-premises world as well.</span></span>

<span data-ttu-id="55a46-855">Během doby stahování nemůže být virtuální pevné disky nebo disky spravované aktivní.</span><span class="sxs-lookup"><span data-stu-id="55a46-855">During the time of the download the VHDs or Managed Disks can’t be active.</span></span> <span data-ttu-id="55a46-856">I když stahování disky, které jsou připojené k virtuálním počítačům, musí virtuální počítač vypnout a navrácena.</span><span class="sxs-lookup"><span data-stu-id="55a46-856">Even when downloading disks which are mounted to VMs, the VM needs to be shut down and deallocated.</span></span> <span data-ttu-id="55a46-857">Pokud chcete stáhnout obsah databáze který pak by měla být používána k nastavení nového systému místní a pokud je přijatelné, že během doby stahování a instalace nového systému, aby systém v Azure může být stále provozní, se můžete vyhnout dlouho výpadek komprimované databáze zálohování na disk, jenom stažení tohoto disku místo také stahování základní virtuální počítač operačního systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-857">If you only want to download the database content which then should be used to set up a new system on-premises and if it is acceptable that during the time of the download and the setup of the new system that the system in Azure can still be operational, you could avoid a long downtime by performing a compressed database backup into a disk and just download that disk instead of also downloading the OS base VM.</span></span>

#### <a name="powershell"></a><span data-ttu-id="55a46-858">PowerShell</span><span class="sxs-lookup"><span data-stu-id="55a46-858">Powershell</span></span>

  * <span data-ttu-id="55a46-859">Stahování se spravovaným diskem</span><span class="sxs-lookup"><span data-stu-id="55a46-859">Downloading a Managed Disk</span></span>  
  <span data-ttu-id="55a46-860">Musíte nejprve získat přístup k základní objekt blob spravované disku.</span><span class="sxs-lookup"><span data-stu-id="55a46-860">You first need to get access to the underlying blob of the Managed Disk.</span></span> <span data-ttu-id="55a46-861">Pak můžete zkopírovat základní objekt blob do nového účtu úložiště a stáhnout objekt blob z tohoto účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-861">Then you can copy the underlying blob to a new storage account and download the blob from this storage account.</span></span>

  ```powershell
  $access = Grant-AzureRmDiskAccess -ResourceGroupName <resource group> -DiskName <disk name> -Access Read -DurationInSecond 3600
  $key = (Get-AzureRmStorageAccountKey -ResourceGroupName <resource group> -Name <storage account name>)[0].Value
  $destContext = (New-AzureStorageContext -StorageAccountName <storage account name -StorageAccountKey $key)
  Start-AzureStorageBlobCopy -AbsoluteUri $access.AccessSAS -DestContainer <container name> -DestBlob <blob name> -DestContext $destContext
  # Wait for blob copy to finish
  Get-AzureStorageBlobCopyState -Container <container name> -Blob <blob name> -Context $destContext
  Save-AzureRmVhd -SourceUri <blob in new storage account> -LocalFilePath <local file path> -StorageKey $key
  # Wait for download to finish
  Revoke-AzureRmDiskAccess -ResourceGroupName <resource group> -DiskName <disk name>
  ```

  * <span data-ttu-id="55a46-862">Stahování virtuální pevný disk</span><span class="sxs-lookup"><span data-stu-id="55a46-862">Downloading a VHD</span></span>  
  <span data-ttu-id="55a46-863">Po zastavení systému SAP a virtuální počítač je vypnutý, můžete použít rutinu prostředí PowerShell AzureRmVhd uložit na místní cíl pro stažení disky VHD na světě místní.</span><span class="sxs-lookup"><span data-stu-id="55a46-863">Once the SAP system is stopped and the VM is shut down, you can use the PowerShell cmdlet Save-AzureRmVhd on the on-premises target to download the VHD disks back to the on-premises world.</span></span> <span data-ttu-id="55a46-864">Aby bylo možné provést, že je nutné, aby adresa URL virtuálního pevného disku, které můžete najít v úložiště části portálu Azure (třeba k účtu úložiště a kontejneru úložiště, kde byl vytvořen virtuální pevný disk) a je nutné znát, kam zkopírovat virtuální pevný disk.</span><span class="sxs-lookup"><span data-stu-id="55a46-864">In order to do that, you need the URL of the VHD which you can find in the ‘Storage Section’ of the Azure portal (need to navigate to the Storage Account and the storage container where the VHD was created) and you need to know where the VHD should be copied to.</span></span>

  <span data-ttu-id="55a46-865">Pak můžete použít příkaz definováním jednoduše parametr SourceUri jako adresu URL VHD, který chcete stáhnout a LocalFilePath jako fyzické umístění virtuálního pevného disku (včetně jeho název).</span><span class="sxs-lookup"><span data-stu-id="55a46-865">Then you can leverage the command by simply defining the parameter SourceUri as the URL of the VHD to download and the LocalFilePath as the physical location of the VHD (including its name).</span></span> <span data-ttu-id="55a46-866">Příkaz může vypadat podobně jako:</span><span class="sxs-lookup"><span data-stu-id="55a46-866">The command could look like:</span></span>

  ```powerhell
  Save-AzureRmVhd -ResourceGroupName <resource group name of storage account> -SourceUri http://<storage account name>.blob.core.windows.net/<container name>/sapidedata.vhd -LocalFilePath E:\Azure_downloads\sapidesdata.vhd
  ```

  <span data-ttu-id="55a46-867">Další podrobnosti rutiny AzureRmVhd uložit, zkontrolujte, zde <https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvhd>.</span><span class="sxs-lookup"><span data-stu-id="55a46-867">For more details of the Save-AzureRmVhd cmdlet, please check here <https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvhd>.</span></span>

#### <a name="cli-20"></a><span data-ttu-id="55a46-868">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="55a46-868">CLI 2.0</span></span>
  * <span data-ttu-id="55a46-869">Stahování se spravovaným diskem</span><span class="sxs-lookup"><span data-stu-id="55a46-869">Downloading a Managed Disk</span></span>  
  <span data-ttu-id="55a46-870">Musíte nejprve získat přístup k základní objekt blob spravované disku.</span><span class="sxs-lookup"><span data-stu-id="55a46-870">You first need to get access to the underlying blob of the Managed Disk.</span></span> <span data-ttu-id="55a46-871">Pak můžete zkopírovat základní objekt blob do nového účtu úložiště a stáhnout objekt blob z tohoto účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-871">Then you can copy the underlying blob to a new storage account and download the blob from this storage account.</span></span>
  ```
  az disk grant-access --ids "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" --duration-in-seconds 3600
  az storage blob download --sas-token "<sas token>" --account-name <account name> --container-name <container name> --name <blob name> --file <local file>
  az disk revoke-access --ids "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>"
  ```

  * <span data-ttu-id="55a46-872">Stahování virtuální pevný disk</span><span class="sxs-lookup"><span data-stu-id="55a46-872">Downloading a VHD</span></span>   
  <span data-ttu-id="55a46-873">Po zastavení systému SAP a virtuální počítač je vypnutý, můžete použít příkaz příkazového řádku Azure CLI _úložiště azure blob stažení_ na místní cíl, který má stažení virtuální pevný disk disky zpět na místní world.</span><span class="sxs-lookup"><span data-stu-id="55a46-873">Once the SAP system is stopped and the VM is shut down, you can use the Azure CLI command _azure storage blob download_ on the on-premises target to download the VHD disks back to the on-premises world.</span></span> <span data-ttu-id="55a46-874">Aby bylo možné provést, je třeba název a kontejneru virtuálního pevného disku, které můžete najít v části"úložiště" na portálu Azure (třeba k účtu úložiště a kontejneru úložiště, kde byl vytvořen virtuální pevný disk) a potřebujete vědět, kde má být virtuální pevný disk zkopírována.</span><span class="sxs-lookup"><span data-stu-id="55a46-874">In order to do that, you need the name and the container of the VHD which you can find in the ‘Storage Section’ of the Azure portal (need to navigate to the Storage Account and the storage container where the VHD was created) and you need to know where the VHD should be copied to.</span></span>

  <span data-ttu-id="55a46-875">Pak můžete použít příkaz tak, že jednoduše definujete parametry objektu blob a kontejner virtuálního pevného disku stahování a cíl jako fyzické cílové umístění virtuálního pevného disku (včetně jeho název).</span><span class="sxs-lookup"><span data-stu-id="55a46-875">Then you can leverage the command by simply defining the parameters blob and container of the VHD to download and the destination as the physical target location of the VHD (including its name).</span></span> <span data-ttu-id="55a46-876">Příkaz může vypadat podobně jako:</span><span class="sxs-lookup"><span data-stu-id="55a46-876">The command could look like:</span></span>

  ```
  az storage blob download --name <name of the VHD to download> --container-name <container of the VHD to download> --account-name <storage account name of the VHD to download> --account-key <storage account key> --file <destination of the VHD to download>
  ```

### <a name="transferring-vms-and-disks-within-azure"></a><span data-ttu-id="55a46-877">Přenášení virtuální počítače a disky v rámci Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-877">Transferring VMs and disks within Azure</span></span>
#### <a name="copying-sap-systems-within-azure"></a><span data-ttu-id="55a46-878">Kopírování SAP systémy v rámci Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-878">Copying SAP systems within Azure</span></span>
<span data-ttu-id="55a46-879">Systému SAP nebo i vyhrazený server databázového systému podpora SAP aplikační vrstva bude pravděpodobně obsahovat několik disků, které budou obsahovat buď operačního systému se binární soubory nebo soubory protokolu a data z databáze SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-879">An SAP system or even a dedicated DBMS server supporting an SAP application layer will likely consist of several disks which contain either the OS with the binaries or the data and log file(s) of the SAP database.</span></span> <span data-ttu-id="55a46-880">Funkci Azure kopírování disků ani Azure funkce ukládání disků na místní disk má synchronizační mechanismus, který by snímku více disků synchronně.</span><span class="sxs-lookup"><span data-stu-id="55a46-880">Neither the Azure functionality of copying disks nor the Azure functionality of saving disks to a local disk has a synchronization mechanism, which would snapshot multiple disks synchronously.</span></span> <span data-ttu-id="55a46-881">Proto stav disků zkopírovaný nebo uložené i v případě, že těch, které jsou připojené proti stejného virtuálního počítače by lišit.</span><span class="sxs-lookup"><span data-stu-id="55a46-881">Therefore, the state of the copied or saved disks even if those are mounted against the same VM would be different.</span></span> <span data-ttu-id="55a46-882">To znamená, že v případě konkrétní toho, že logfile(s) obsažené v různých discích a různých dat databázi v end by být nekonzistentní.</span><span class="sxs-lookup"><span data-stu-id="55a46-882">This means that in the concrete case of having different data and logfile(s) contained in the different disks, the database in the end would be inconsistent.</span></span>

<span data-ttu-id="55a46-883">**Uzavření: Aby bylo možné kopírovat nebo uložení disků, které jsou součástí konfigurace aplikace SAP systému musíte zastavit v systému SAP a také muset vypnout nasazených virtuálních počítačů. Pak můžete zkopírovat nebo stáhnout sadu disků, aby buď vytvořit kopii systému SAP v Azure nebo místní.**</span><span class="sxs-lookup"><span data-stu-id="55a46-883">**Conclusion: In order to copy or save disks which are part of an SAP system configuration you need to stop the SAP system and also need to shut down the deployed VM. Only then you can copy or download the set of disks to either create a copy of the SAP system in Azure or on-premises.**</span></span>

<span data-ttu-id="55a46-884">Datové disky mohou být uloženy jako soubory virtuálního pevného disku v účtu úložiště Azure a může být přímo připojen k virtuálnímu počítači nebo použít jako obrázek.</span><span class="sxs-lookup"><span data-stu-id="55a46-884">Data disks can be stored as VHD files in an Azure Storage Account and can be directly attached to a virtual machine or be used as an image.</span></span> <span data-ttu-id="55a46-885">V takovém případě virtuálního pevného disku se zkopíruje do jiného umístění před se připojit k virtuálnímu počítači.</span><span class="sxs-lookup"><span data-stu-id="55a46-885">In this case, the VHD is copied to another location before being attached to the virtual machine.</span></span> <span data-ttu-id="55a46-886">Úplný název souboru VHD v Azure musí být jedinečný v rámci Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-886">The full name of the VHD file in Azure must be unique within Azure.</span></span> <span data-ttu-id="55a46-887">Jak už bylo zmíněno dříve již, je název druh třemi částmi název, který vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="55a46-887">As mentioned earlier already, the name is kind of a three-part name that looks like:</span></span>

    http(s)://<storage account name>.blob.core.windows.net/<container name>/<vhd name>

<span data-ttu-id="55a46-888">Datových disků může být také spravovat disky.</span><span class="sxs-lookup"><span data-stu-id="55a46-888">Data disks can also be Managed Disks.</span></span> <span data-ttu-id="55a46-889">V takovém případě spravované Disk se používá k vytvoření nového disku spravované před se připojit k virtuálnímu počítači.</span><span class="sxs-lookup"><span data-stu-id="55a46-889">In this case, the Managed Disk is used to create a new Managed Disk before being attached to the virtual machine.</span></span> <span data-ttu-id="55a46-890">Název disku spravované musí být jedinečný v rámci skupiny prostředků.</span><span class="sxs-lookup"><span data-stu-id="55a46-890">The name of the Managed Disk must be unique within a resource group.</span></span>

##### <a name="powershell"></a><span data-ttu-id="55a46-891">PowerShell</span><span class="sxs-lookup"><span data-stu-id="55a46-891">Powershell</span></span>
<span data-ttu-id="55a46-892">Rutiny prostředí Azure PowerShell můžete použít ke zkopírování virtuálního pevného disku, jak je znázorněno v [v tomto článku][storage-powershell-guide-full-copy-vhd].</span><span class="sxs-lookup"><span data-stu-id="55a46-892">You can use Azure PowerShell cmdlets to copy a VHD as shown in [this article][storage-powershell-guide-full-copy-vhd].</span></span> <span data-ttu-id="55a46-893">Pokud chcete vytvořit nový Disk, který je spravovaný, pomocí New-AzureRmDiskConfig a New-AzureRmDisk jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="55a46-893">To create a new Managed Disk, use New-AzureRmDiskConfig and New-AzureRmDisk as shown in the following example.</span></span>

```powershell
$config = New-AzureRmDiskConfig -CreateOption Copy -SourceUri "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" -Location <location>
New-AzureRmDisk -ResourceGroupName <resource group name> -DiskName <disk name> -Disk $config
```

##### <a name="cli-20"></a><span data-ttu-id="55a46-894">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="55a46-894">CLI 2.0</span></span>
<span data-ttu-id="55a46-895">Rozhraní příkazového řádku Azure můžete kopírovat virtuální pevný disk, jak je znázorněno v [v tomto článku][storage-azure-cli-copy-blobs].</span><span class="sxs-lookup"><span data-stu-id="55a46-895">You can use Azure CLI to copy a VHD as shown in [this article][storage-azure-cli-copy-blobs].</span></span> <span data-ttu-id="55a46-896">Chcete-li vytvořit nový Disk, který je spravovaný, použijte *vytvoření disku az* jak je znázorněno v následujícím příkladu.</span><span class="sxs-lookup"><span data-stu-id="55a46-896">To create a new Managed Disk, use *az disk create* as shown in the following example.</span></span>

```
az disk create --source "/subscriptions/<subscription id>/resourceGroups/<resource group>/providers/Microsoft.Compute/disks/<disk name>" --name <disk name> --resource-group <resource group name> --location <location>
```

##### <a name="azure-storage-tools"></a><span data-ttu-id="55a46-897">Azure Storage tools</span><span class="sxs-lookup"><span data-stu-id="55a46-897">Azure Storage tools</span></span>
* <span data-ttu-id="55a46-898"><http://storageexplorer.com/></span><span class="sxs-lookup"><span data-stu-id="55a46-898"><http://storageexplorer.com/></span></span>

<span data-ttu-id="55a46-899">Profesionální edicí Průzkumníci úložiště Azure naleznete zde:</span><span class="sxs-lookup"><span data-stu-id="55a46-899">Professional editions of Azure Storage Explorers can be found here:</span></span>

* <span data-ttu-id="55a46-900"><http://www.cerebrata.com/></span><span class="sxs-lookup"><span data-stu-id="55a46-900"><http://www.cerebrata.com/></span></span>
* <span data-ttu-id="55a46-901"><http://clumsyleaf.com/products/cloudxplorer></span><span class="sxs-lookup"><span data-stu-id="55a46-901"><http://clumsyleaf.com/products/cloudxplorer></span></span>

<span data-ttu-id="55a46-902">Kopii samotného virtuálního pevného disku v rámci účtu úložiště je proces, který trvá jenom pár sekund (podobně jako hardware sítě SAN vytváření snímků s opožděné a kopii na zápis).</span><span class="sxs-lookup"><span data-stu-id="55a46-902">The copy of a VHD itself within a storage account is a process which takes only a few seconds (similar to SAN hardware creating snapshots with lazy copy and copy on write).</span></span> <span data-ttu-id="55a46-903">Až budete mít kopii souboru virtuálního pevného disku můžete připojit k virtuálnímu počítači nebo ho použít jako obrázek pro připojit k virtuálním počítačům kopie virtuálního pevného disku.</span><span class="sxs-lookup"><span data-stu-id="55a46-903">After you have a copy of the VHD file you can attach it to a virtual machine or use it as an image to attach copies of the VHD to virtual machines.</span></span>

##### <a name="powershell"></a><span data-ttu-id="55a46-904">PowerShell</span><span class="sxs-lookup"><span data-stu-id="55a46-904">Powershell</span></span>
```powershell
# attach a vhd to a vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name newdatadisk -VhdUri <path to vhd> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption attach
$vm | Update-AzureRmVM

# attach a managed disk to a vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name newdatadisk -ManagedDiskId <managed disk id> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption attach
$vm | Update-AzureRmVM

# attach a copy of the vhd to a vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Name <disk name> -VhdUri <new path of vhd> -SourceImageUri <path to image vhd> -Caching <caching option> -DiskSizeInGB $null -Lun <lun, for example 0> -CreateOption fromImage
$vm | Update-AzureRmVM

# attach a copy of the managed disk to a vm
$vm = Get-AzureRmVM -ResourceGroupName <resource group name> -Name <vm name>
$diskConfig = New-AzureRmDiskConfig -Location $vm.Location -CreateOption Copy -SourceUri <source managed disk id>
$disk = New-AzureRmDisk -DiskName <disk name> -Disk $diskConfig -ResourceGroupName <resource group name>
$vm = Add-AzureRmVMDataDisk -VM $vm -Caching <caching option> -Lun <lun, for example 0> -CreateOption attach -ManagedDiskId $disk.Id
$vm | Update-AzureRmVM
```
##### <a name="cli-20"></a><span data-ttu-id="55a46-905">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="55a46-905">CLI 2.0</span></span>
```

# attach a vhd to a vm
az vm unmanaged-disk attach --resource-group <resource group name> --vm-name <vm name> --vhd-uri <path to vhd>

# attach a managed disk to a vm
az vm disk attach --resource-group <resource group name> --vm-name <vm name> --disk <managed disk id>

# attach a copy of the vhd to a vm
# this scenario is currently not possible with Azure CLI. A workaround is to manually copy the vhd to the destination.

# attach a copy of a managed disk to a vm
az disk create --name <new disk name> --resource-group <resource group name> --location <location of target virtual machine> --source <source managed disk id>
az vm disk attach --disk <new disk name or managed disk id> --resource-group <resource group name> --vm-name <vm name> --caching <caching option> --lun <lun, for example 0>
```

#### <span data-ttu-id="55a46-906"><a name="9789b076-2011-4afa-b2fe-b07a8aba58a1"></a>Kopírování disků mezi účty úložiště Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-906"><a name="9789b076-2011-4afa-b2fe-b07a8aba58a1"></a>Copying disks between Azure Storage Accounts</span></span>
<span data-ttu-id="55a46-907">Tuto úlohu nelze provést na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-907">This task cannot be performed on the Azure portal.</span></span> <span data-ttu-id="55a46-908">Můžete použít rutiny prostředí Azure PowerShell, rozhraní příkazového řádku Azure nebo prohlížeč úložiště jiných výrobců.</span><span class="sxs-lookup"><span data-stu-id="55a46-908">You can use Azure PowerShell cmdlets, Azure CLI or a third-party storage browser.</span></span> <span data-ttu-id="55a46-909">Rutiny prostředí PowerShell nebo rozhraní příkazového řádku můžete vytvořit a spravovat objekty BLOB, které zahrnují možnost asynchronně zkopírovat objekty BLOB mezi různými účty úložiště a v oblastech v rámci předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-909">The PowerShell cmdlets or CLI commands can create and manage blobs, which include the ability to asynchronously copy blobs across Storage Accounts and across regions within the Azure subscription.</span></span>

##### <a name="powershell"></a><span data-ttu-id="55a46-910">PowerShell</span><span class="sxs-lookup"><span data-stu-id="55a46-910">Powershell</span></span>
<span data-ttu-id="55a46-911">Můžete také zkopírovat virtuální pevné disky, mezi předplatnými.</span><span class="sxs-lookup"><span data-stu-id="55a46-911">You can also copy VHDs between subscriptions.</span></span> <span data-ttu-id="55a46-912">Další informace najdete v tématu [v tomto článku][storage-powershell-guide-full-copy-vhd].</span><span class="sxs-lookup"><span data-stu-id="55a46-912">For more information read [this article][storage-powershell-guide-full-copy-vhd].</span></span>

<span data-ttu-id="55a46-913">Základní tok logiku rutiny PS vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="55a46-913">The basic flow of the PS cmdlet logic looks like this:</span></span>

* <span data-ttu-id="55a46-914">Vytvoření kontextu pro účet úložiště **zdroj** účet úložiště s *New-AzureStorageContext* -najdete v části <https://msdn.microsoft.com/library/dn806380.aspx></span><span class="sxs-lookup"><span data-stu-id="55a46-914">Create a storage account context for the **source** storage account with *New-AzureStorageContext* - see <https://msdn.microsoft.com/library/dn806380.aspx></span></span>
* <span data-ttu-id="55a46-915">Vytvoření kontextu pro účet úložiště **cíl** účet úložiště s *New-AzureStorageContext* -najdete v části <https://msdn.microsoft.com/library/dn806380.aspx></span><span class="sxs-lookup"><span data-stu-id="55a46-915">Create a storage account context for the **target** storage account with *New-AzureStorageContext* - see <https://msdn.microsoft.com/library/dn806380.aspx></span></span>
* <span data-ttu-id="55a46-916">Spusťte kopírování pomocí</span><span class="sxs-lookup"><span data-stu-id="55a46-916">Start the copy with</span></span>

```powershell
Start-AzureStorageBlobCopy -SrcBlob <source blob name> -SrcContainer <source container name> -SrcContext <variable containing context of source storage account> -DestBlob <target blob name> -DestContainer <target container name> -DestContext <variable containing context of target storage account>
```

* <span data-ttu-id="55a46-917">Zkontrolujte stav kopírování ve smyčce s</span><span class="sxs-lookup"><span data-stu-id="55a46-917">Check the status of the copy in a loop with</span></span>

```powershell
Get-AzureStorageBlobCopyState -Blob <target blob name> -Container <target container name> -Context <variable containing context of target storage account>
```

* <span data-ttu-id="55a46-918">K virtuálnímu počítači připojte nový virtuální pevný disk, jak je popsáno výše.</span><span class="sxs-lookup"><span data-stu-id="55a46-918">Attach the new VHD to a virtual machine as described above.</span></span>

<span data-ttu-id="55a46-919">Příklady najdete v tématu [v tomto článku][storage-powershell-guide-full-copy-vhd].</span><span class="sxs-lookup"><span data-stu-id="55a46-919">For examples see [this article][storage-powershell-guide-full-copy-vhd].</span></span>

##### <a name="cli-20"></a><span data-ttu-id="55a46-920">CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="55a46-920">CLI 2.0</span></span>
* <span data-ttu-id="55a46-921">Spusťte kopírování pomocí</span><span class="sxs-lookup"><span data-stu-id="55a46-921">Start the copy with</span></span>

```
az storage blob copy start --source-blob <source blob name> --source-container <source container name> --source-account-name <source storage account name> --source-account-key <source storage account key> --destination-container <target container name> --destination-blob <target blob name> --account-name <target storage account name> --account-key <target storage account name>
```

* <span data-ttu-id="55a46-922">Zkontrolujte stav, pokud kopie ve smyčce s</span><span class="sxs-lookup"><span data-stu-id="55a46-922">Check the status if the copy in a loop with</span></span>

```
az storage blob show --name <target blob name> --container <target container name> --account-name <target storage account name> --account-key <target storage account name>
```

* <span data-ttu-id="55a46-923">K virtuálnímu počítači připojte nový virtuální pevný disk, jak je popsáno výše.</span><span class="sxs-lookup"><span data-stu-id="55a46-923">Attach the new VHD to a virtual machine as described above.</span></span>

<span data-ttu-id="55a46-924">Příklady najdete v tématu [v tomto článku][storage-azure-cli-copy-blobs].</span><span class="sxs-lookup"><span data-stu-id="55a46-924">For examples see [this article][storage-azure-cli-copy-blobs].</span></span>

### <a name="disk-handling"></a><span data-ttu-id="55a46-925">Zpracování disku</span><span class="sxs-lookup"><span data-stu-id="55a46-925">Disk Handling</span></span>
#### <span data-ttu-id="55a46-926"><a name="4efec401-91e0-40c0-8e64-f2dceadff646"></a>Virtuální počítač nebo disk strukturu pro nasazení SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-926"><a name="4efec401-91e0-40c0-8e64-f2dceadff646"></a>VM/disk structure for SAP deployments</span></span>
<span data-ttu-id="55a46-927">V ideálním případě by měl být zpracování struktury virtuálního počítače a přidružené disky velmi jednoduché.</span><span class="sxs-lookup"><span data-stu-id="55a46-927">Ideally the handling of the structure of a VM and the associated disks should be very simple.</span></span> <span data-ttu-id="55a46-928">V místní instalace vyvinuté zákazníkům mnoho způsobů strukturování instalaci serveru.</span><span class="sxs-lookup"><span data-stu-id="55a46-928">In on-premises installations, customers developed many ways of structuring a server installation.</span></span>

* <span data-ttu-id="55a46-929">Jeden základní disk, který obsahuje operační systém a všechny binární soubory databázového systému a/nebo SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-929">One base disk which contains the OS and all the binaries of the DBMS and/or SAP.</span></span> <span data-ttu-id="55a46-930">Od března 2015 tento disk může být až 1TB velikosti místo starší omezení, která je omezený na 127 GB.</span><span class="sxs-lookup"><span data-stu-id="55a46-930">Since March 2015, this disk can be up to 1TB in size instead of earlier restrictions that limited it to 127GB.</span></span>
* <span data-ttu-id="55a46-931">Soubor databáze SAP protokolu jeden nebo více discích, které obsahuje systému správy databáze a soubor protokolu databázového systému dočasné oblasti úložiště (Pokud databázového systému podporuje to).</span><span class="sxs-lookup"><span data-stu-id="55a46-931">One or multiple disks which contains the DBMS log file of the SAP database and the log file of the DBMS temp storage area (if the DBMS supports this).</span></span> <span data-ttu-id="55a46-932">Pokud jsou požadavky IOPS protokolu databáze. vysoká, budete muset rozkládají víc disků, aby bylo dosaženo IOPS svazek potřebný.</span><span class="sxs-lookup"><span data-stu-id="55a46-932">If the database log IOPS requirements are high, you need to stripe multiple disks in order to reach the IOPS volume required.</span></span>
* <span data-ttu-id="55a46-933">Počet disků obsahující jeden nebo dva soubory databáze z databáze SAP a i soubory dočasná data databázového systému (Pokud databázového systému podporuje to).</span><span class="sxs-lookup"><span data-stu-id="55a46-933">A number of disks containing one or two database files of the SAP database and the DBMS temp data files as well (if the DBMS supports this).</span></span>

![Konfigurace referenčního virtuálního počítače Azure IaaS pro SAP][planning-guide-figure-1300]

[comment]: <> (Struktura Linux popisují MShermannd TODO)

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-937">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-937">Windows</span></span>
>
> <span data-ttu-id="55a46-938">U mnoha zákazníků jsme viděli konfigurace, například SAP a databázového systému binární soubory nebyly nainstalovanou na jednotce c:\ nainstalovaným operačním systémem.</span><span class="sxs-lookup"><span data-stu-id="55a46-938">With many customers we saw configurations where, for example, SAP and DBMS binaries were not installed on the c:\ drive where the OS was installed.</span></span> <span data-ttu-id="55a46-939">Existují různé důvody pro to, ale když jsme se zpět do kořenového adresáře, obvykle byl, jednotky byly malé a upgrady operačního systému před 10 až 15 let potřeba další místo.</span><span class="sxs-lookup"><span data-stu-id="55a46-939">There were various reasons for this, but when we went back to the root, it usually was that the drives were small and OS upgrades needed additional space 10-15 years ago.</span></span> <span data-ttu-id="55a46-940">Obě podmínky dní příliš často už neplatí.</span><span class="sxs-lookup"><span data-stu-id="55a46-940">Both conditions do not apply these days too often anymore.</span></span> <span data-ttu-id="55a46-941">Dnes jednotka c:\ lze mapovat na velkého objemu disků nebo virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-941">Today the c:\ drive can be mapped on large volume disks or VMs.</span></span> <span data-ttu-id="55a46-942">Chcete-li zjednodušení nasazení v jejich struktura se doporučuje použít následující vzor nasazení SAP NetWeaver systémy v Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-942">In order to keep deployments simple in their structure, it is recommended to follow the following deployment pattern for SAP NetWeaver systems in Azure</span></span>
>
> <span data-ttu-id="55a46-943">Stránkovací soubor operačního systému Windows musí být na jednotce D: (dočasnou disk)</span><span class="sxs-lookup"><span data-stu-id="55a46-943">The Windows operating system pagefile should be on the D: drive (non-persistent disk)</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-945">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-945">Linux</span></span>
>
> <span data-ttu-id="55a46-946">Umístěte swapfile Linux pod /mnt/mnt nebo prostředků v systému Linux, jak je popsáno v [v tomto článku][virtual-machines-linux-agent-user-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-946">Place the Linux swapfile under /mnt /mnt/resource on Linux as described in [this article][virtual-machines-linux-agent-user-guide].</span></span> <span data-ttu-id="55a46-947">Odkládací soubor lze nakonfigurovat v souboru konfigurace /etc/waagent.conf agenta systému Linux.</span><span class="sxs-lookup"><span data-stu-id="55a46-947">The swap file can be configured in the configuration file of the Linux Agent /etc/waagent.conf.</span></span> <span data-ttu-id="55a46-948">Přidat nebo změnit následující nastavení:</span><span class="sxs-lookup"><span data-stu-id="55a46-948">Add or change the following settings:</span></span>
>
>

```
ResourceDisk.EnableSwap=y
ResourceDisk.SwapSizeMB=30720
```

<span data-ttu-id="55a46-949">Pokud chcete aktivovat změny, bude nutné restartovat agenta systému Linux s</span><span class="sxs-lookup"><span data-stu-id="55a46-949">To activate the changes, you need to restart the Linux Agent with</span></span>

```
sudo service waagent restart
```

<span data-ttu-id="55a46-950">Přečtěte si prosím Poznámka SAP [1597355] další podrobnosti o jeho doporučená velikost</span><span class="sxs-lookup"><span data-stu-id="55a46-950">Please read SAP Note [1597355] for more details on the recommended swap file size</span></span>

- - -
<span data-ttu-id="55a46-951">Počet disků používat pro datové soubory databázového systému a typ úložiště Azure, jsou tyto disky hostované na by měl určit požadavky na IOPS a latence vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="55a46-951">The number of disks used for the DBMS data files and the type of Azure Storage these disks are hosted on should be determined by the IOPS requirements and the latency required.</span></span> <span data-ttu-id="55a46-952">Přesný kvóty jsou popsané v [v tomto článku (Linux)] [ virtual-machines-sizes-linux] a [v tomto článku (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="55a46-952">Exact quotas are described in [this article (Linux)][virtual-machines-sizes-linux] and [this article (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="55a46-953">Prostředí nasazení SAP za poslední 2 roky nám výukové některé lekce, které jde vyhodnotit jako:</span><span class="sxs-lookup"><span data-stu-id="55a46-953">Experience of SAP deployments over the last 2 years taught us some lessons which can be summarized as:</span></span>

* <span data-ttu-id="55a46-954">IOPS provoz do různých datových souborů není vždy stejná od stávajících systémů zákazníků může mít jinak velikost datové soubory představující jejich SAP databází.</span><span class="sxs-lookup"><span data-stu-id="55a46-954">IOPS traffic to different data files is not always the same since existing customer systems might have differently sized data files representing their SAP database(s).</span></span> <span data-ttu-id="55a46-955">V důsledku ji vrátit na lépe používat konfiguraci RAID přes více disků pro soubory dat, které logické jednotky LUN carved mimo těch, které.</span><span class="sxs-lookup"><span data-stu-id="55a46-955">As a result it turned out to be better using a RAID configuration over multiple disks to place the data files LUNs carved out of those.</span></span> <span data-ttu-id="55a46-956">Nebyly situacích, zejména s Azure Standard Storage, kde IOPS míra dosáhl kvóty jediný disk proti transakčního protokolu databázového systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-956">There were situations, especially with Azure Standard Storage where an IOPS rate hit the quota of a single disk against the DBMS transaction log.</span></span> <span data-ttu-id="55a46-957">V takových situacích se doporučuje použít úložiště Premium Storage nebo případně agregování více standardního úložiště disků se softwaru RAID.</span><span class="sxs-lookup"><span data-stu-id="55a46-957">In such scenarios the use of Premium Storage is recommended or alternatively aggregating multiple Standard Storage disks with a software RAID.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-959">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-959">Windows</span></span>
>
> * <span data-ttu-id="55a46-960">[Osvědčené postupy z hlediska výkonu pro SQL Server v Azure Virtual Machines][virtual-machines-sql-server-performance-best-practices]</span><span class="sxs-lookup"><span data-stu-id="55a46-960">[Performance best practices for SQL Server in Azure Virtual Machines][virtual-machines-sql-server-performance-best-practices]</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-962">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-962">Linux</span></span>
>
> * <span data-ttu-id="55a46-963">[Konfigurace softwaru diskového pole RAID v systému Linux][virtual-machines-linux-configure-raid]</span><span class="sxs-lookup"><span data-stu-id="55a46-963">[Configure Software RAID on Linux][virtual-machines-linux-configure-raid]</span></span>
> * <span data-ttu-id="55a46-964">[Konfigurace LVM na virtuální počítač s Linuxem v Azure][virtual-machines-linux-configure-lvm]</span><span class="sxs-lookup"><span data-stu-id="55a46-964">[Configure LVM on a Linux VM in Azure][virtual-machines-linux-configure-lvm]</span></span>
> * [<span data-ttu-id="55a46-965">Azure tajných klíčů úložiště a vstupně-výstupních operací Linux optimalizace</span><span class="sxs-lookup"><span data-stu-id="55a46-965">Azure Storage secrets and Linux I/O optimizations</span></span>](http://blogs.msdn.com/b/igorpag/archive/2014/10/23/azure-storage-secrets-and-linux-i-o-optimizations.aspx)
>
>

- - -
* <span data-ttu-id="55a46-966">Storage úrovně Premium se zobrazuje důležité lepší výkon, hlavně pro kritické transakce protokolu zápisy.</span><span class="sxs-lookup"><span data-stu-id="55a46-966">Premium Storage is showing significant better performance, especially for critical transaction log writes.</span></span> <span data-ttu-id="55a46-967">Pro scénáře SAP, které budou poskytovat produkční, jako je třeba výkon důrazně doporučujeme používat VM-Series, které můžete využít Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="55a46-967">For SAP scenarios that are expected to deliver production like performance, it is highly recommended to use VM-Series that can leverage Azure Premium Storage.</span></span>

<span data-ttu-id="55a46-968">Mějte na paměti, disku, který obsahuje operační systém, a doporučujeme, binární soubory SAP a databáze (základní virtuální počítač), a není už omezený na 127GB.</span><span class="sxs-lookup"><span data-stu-id="55a46-968">Keep in mind that the disk which contains the OS, and as we recommend, the binaries of SAP and the database (base VM) as well, is not anymore limited to 127GB.</span></span> <span data-ttu-id="55a46-969">Velikost teď může mít až 1TB.</span><span class="sxs-lookup"><span data-stu-id="55a46-969">It now can have up to 1TB in size.</span></span> <span data-ttu-id="55a46-970">To by měl být dostatek místa, aby všechny nezbytné souboru, včetně například SAP batch v protokolech úloh.</span><span class="sxs-lookup"><span data-stu-id="55a46-970">This should be enough space to keep all the necessary file including, for example, SAP batch job logs.</span></span>

<span data-ttu-id="55a46-971">Další návrhy a další podrobnosti, konkrétně pro virtuální počítače databázového systému, přečtěte si [Průvodce nasazením databázového systému][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="55a46-971">For more suggestions and more details, specifically for DBMS VMs, please consult the [DBMS Deployment Guide][dbms-guide]</span></span>

#### <a name="disk-handling"></a><span data-ttu-id="55a46-972">Zpracování disku</span><span class="sxs-lookup"><span data-stu-id="55a46-972">Disk Handling</span></span>
<span data-ttu-id="55a46-973">Ve většině scénářů musíte vytvořit další disk za účelem nasazení databázi SAP do virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-973">In most scenarios you need to create additional disks in order to deploy the SAP database into the VM.</span></span> <span data-ttu-id="55a46-974">Už jsme mluvili o aspektech na počet disků v kapitole [virtuální počítač nebo disk strukturu pro nasazení SAP] [ planning-guide-5.5.1] tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-974">We talked about the considerations on number of disks in chapter [VM/disk structure for SAP deployments][planning-guide-5.5.1] of this document.</span></span> <span data-ttu-id="55a46-975">Portál Azure umožňuje připojit a odpojit disky po základní virtuální počítač nasazen.</span><span class="sxs-lookup"><span data-stu-id="55a46-975">The Azure portal allows to attach and detach disks once a base VM is deployed.</span></span> <span data-ttu-id="55a46-976">Připojit/Odpojit po virtuálního počítače a spuštěná, i když je zastavena, může být disky.</span><span class="sxs-lookup"><span data-stu-id="55a46-976">The disks can be attached/detached when the VM is up and running as well as when it is stopped.</span></span> <span data-ttu-id="55a46-977">Při připojení disku, na portálu Azure nabízí připojte prázdný disk nebo stávající disk, který v tuto chvíli není připojen k jiným virtuálním Počítačem.</span><span class="sxs-lookup"><span data-stu-id="55a46-977">When attaching a disk, the Azure portal offers to attach an empty disk or an existing disk which at this point in time is not attached to another VM.</span></span>

<span data-ttu-id="55a46-978">**Poznámka:**: disky lze připojit pouze pro jeden virtuální počítač v daném okamžiku.</span><span class="sxs-lookup"><span data-stu-id="55a46-978">**Note**: Disks can only be attached to one VM at any given time.</span></span>

![Připojit / Odpojit disky s Azure Standard Storage][planning-guide-figure-1400]

<span data-ttu-id="55a46-980">Během nasazení nového virtuálního počítače můžete rozhodnout, zda chcete spravovat disky nebo umístěte vaše disky na účtech úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-980">During the deployment of a new virtual machine, you can decide whether you want to use Managed Disks or place your disks on Azure Storage Accounts.</span></span> <span data-ttu-id="55a46-981">Pokud chcete používat úložiště úrovně Premium, doporučujeme používat spravované disky.</span><span class="sxs-lookup"><span data-stu-id="55a46-981">If you want to use Premium Storage, we recommend using Managed Disks.</span></span>

<span data-ttu-id="55a46-982">Dále musíte rozhodnout, jestli chcete vytvořit nové a prázdný disk nebo jestli chcete vybrat existujícího disku, který se předtím nahrála a by měl být připojen virtuální počítač nyní.</span><span class="sxs-lookup"><span data-stu-id="55a46-982">Next, you need to decide whether you want to create a new and empty disk or whether you want to select an existing disk that was uploaded earlier and should be attached to the VM now.</span></span>

<span data-ttu-id="55a46-983">**Důležité**: můžete **nesmí** pomocí ukládání do mezipaměti hostitele s Azure Standard Storage.</span><span class="sxs-lookup"><span data-stu-id="55a46-983">**IMPORTANT**: You **DO NOT** want to use Host Caching with Azure Standard Storage.</span></span> <span data-ttu-id="55a46-984">Nechat předvoleb mezipaměti hostitele na výchozí hodnotu NONE.</span><span class="sxs-lookup"><span data-stu-id="55a46-984">You should leave the Host Cache preference at the default of NONE.</span></span> <span data-ttu-id="55a46-985">S Azure Premium Storage byste měli povolit ukládání do mezipaměti pro čtení vlastnosti vstupně-výstupních operací je většinou přečtení jako typický vstupně-výstupní provoz proti datových souborů databáze.</span><span class="sxs-lookup"><span data-stu-id="55a46-985">With Azure Premium Storage you should enable Read Caching if the I/O characteristic is mostly read like typical I/O traffic against database data files.</span></span> <span data-ttu-id="55a46-986">Pokud se soubor protokolu transakcí databáze je doporučeno bez ukládání do mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="55a46-986">In case of database transaction log file no caching is recommended.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-988">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-988">Windows</span></span>
>
> <span data-ttu-id="55a46-989">[Tom, jak připojit datový disk na portálu Azure][virtual-machines-linux-attach-disk-portal]</span><span class="sxs-lookup"><span data-stu-id="55a46-989">[How to attach a data disk in the Azure portal][virtual-machines-linux-attach-disk-portal]</span></span>
>
> <span data-ttu-id="55a46-990">Pokud jsou připojené disky, budete muset přihlásit k virtuálnímu počítači otevřete Správce disků systému Windows.</span><span class="sxs-lookup"><span data-stu-id="55a46-990">If disks are attached, you need to log in to the VM to open the Windows Disk Manager.</span></span> <span data-ttu-id="55a46-991">Pokud automatického připojení není povolena podle doporučení v kapitole [nastavení automatického připojení pro připojené disky][planning-guide-5.5.3], je potřeba provést online a inicializované nově připojená svazku.</span><span class="sxs-lookup"><span data-stu-id="55a46-991">If automount is not enabled as recommended in chapter [Setting automount for attached disks][planning-guide-5.5.3], the newly attached volume needs to be taken online and initialized.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-993">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-993">Linux</span></span>
>
> <span data-ttu-id="55a46-994">Pokud jsou připojené disky, budete muset přihlásit k virtuálnímu počítači a inicializace disky, jak je popsáno v [v tomto článku][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]</span><span class="sxs-lookup"><span data-stu-id="55a46-994">If disks are attached, you need to log in to the VM and initialize the disks as described in [this article][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]</span></span>
>
>

- - -
<span data-ttu-id="55a46-995">Pokud je nový disk prázdný disk, budete muset formátovat disk také.</span><span class="sxs-lookup"><span data-stu-id="55a46-995">If the new disk is an empty disk, you need to format the disk as well.</span></span> <span data-ttu-id="55a46-996">Pro formátování, zejména pro soubory protokolu a data databázového systému platí stejná doporučení pro úplné nasazení databázového systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-996">For formatting, especially for DBMS data and log files the same recommendations as for bare-metal deployments of the DBMS apply.</span></span>

<span data-ttu-id="55a46-997">Jak již bylo uvedeno v kapitole [The koncept virtuálního počítače Microsoft Azure][planning-guide-3.2], účet úložiště Azure neposkytuje nekonečné prostředky z hlediska vstupně-výstupních operací svazek, svazek IOPS a data.</span><span class="sxs-lookup"><span data-stu-id="55a46-997">As already mentioned in chapter [The Microsoft Azure Virtual Machine Concept][planning-guide-3.2], an Azure Storage account does not provide infinite resources in terms of I/O volume, IOPS and data volume.</span></span> <span data-ttu-id="55a46-998">Obvykle databázového systému virtuální počítače jsou nejvíce ovlivněno.</span><span class="sxs-lookup"><span data-stu-id="55a46-998">Usually DBMS VMs are most affected by this.</span></span> <span data-ttu-id="55a46-999">Může to být nejvhodnější použít samostatný účet úložiště pro každý virtuální počítač, pokud máte několik velký objem vstupně-výstupní operace virtuálních počítačů k nasazení, aby bylo možné zůstat v rámci limitu svazku účet úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-999">It might be best to use a separate Storage Account for each VM if you have few high I/O volume VMs to deploy in order to stay within the limit of the Azure Storage Account volume.</span></span> <span data-ttu-id="55a46-1000">Jinak budete muset v tématu jak můžou vyrovnávat těchto virtuálních počítačů mezi různými účty úložiště bez nedosáhli limitu každý jeden účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-1000">Otherwise, you need to see how you can balance these VMs between different Storage accounts without hitting the limit of each single Storage Account.</span></span> <span data-ttu-id="55a46-1001">Další podrobnosti, které jsou popsané v [Průvodce nasazením databázového systému][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-1001">More details are discussed in the [DBMS Deployment Guide][dbms-guide].</span></span> <span data-ttu-id="55a46-1002">Tato omezení měli také mít na paměti pro čistá aplikace SAP virtuálních počítačů serveru nebo ostatních virtuálních počítačů, které nakonec může vyžadovat další virtuální pevné disky.</span><span class="sxs-lookup"><span data-stu-id="55a46-1002">You should also keep these limitations in mind for pure SAP application server VMs or other VMs which eventually might require additional VHDs.</span></span> <span data-ttu-id="55a46-1003">Tato omezení neplatí, pokud používáte spravované disku.</span><span class="sxs-lookup"><span data-stu-id="55a46-1003">These restrictions do not apply if you use Managed Disk.</span></span> <span data-ttu-id="55a46-1004">Pokud plánujete používat úložiště úrovně Premium, doporučujeme používat spravované disku.</span><span class="sxs-lookup"><span data-stu-id="55a46-1004">If you plan to use Premium Storage, we recommend using Managed Disk.</span></span>

<span data-ttu-id="55a46-1005">Jiné téma, které jsou důležité pro účty úložiště se, zda jsou virtuální pevné disky v účtu úložiště, získávání geograficky replikované.</span><span class="sxs-lookup"><span data-stu-id="55a46-1005">Another topic which is relevant for Storage Accounts is whether the VHDs in a Storage Account are getting Geo-replicated.</span></span> <span data-ttu-id="55a46-1006">Geografická replikace povolená nebo zakázaná na úrovni účtu úložiště a ne na úrovni virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-1006">Geo-replication is enabled or disabled on the Storage Account level and not on the VM level.</span></span> <span data-ttu-id="55a46-1007">Pokud je povoleno geografická replikace, virtuální pevné disky v rámci účtu úložiště by replikovat do jiného datového centra Azure v rámci stejné oblasti.</span><span class="sxs-lookup"><span data-stu-id="55a46-1007">If geo-replication is enabled, the VHDs within the Storage Account would be replicated into another Azure data center within the same region.</span></span> <span data-ttu-id="55a46-1008">Než se rozhodnete, že na tomto, musí si myslíte o následující omezení:</span><span class="sxs-lookup"><span data-stu-id="55a46-1008">Before deciding on this, you should think about the following restriction:</span></span>

<span data-ttu-id="55a46-1009">Azure geografická replikace nereplikuje IOs v chronologickém pořadí napříč více virtuálních pevných disků ve virtuálním počítači a funguje místně na každý virtuální pevný disk ve virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="55a46-1009">Azure Geo-replication works locally on each VHD in a VM and does not replicate the IOs in chronological order across multiple VHDs in a VM.</span></span> <span data-ttu-id="55a46-1010">Proto se replikují virtuální pevný disk, který představuje základní virtuální počítač a také všechny další virtuální pevné disky připojené k virtuálnímu počítači nezávisle na sobě navzájem.</span><span class="sxs-lookup"><span data-stu-id="55a46-1010">Therefore, the VHD that represents the base VM as well as any additional VHDs attached to the VM are replicated independent of each other.</span></span> <span data-ttu-id="55a46-1011">To znamená, že neexistuje žádná synchronizace mezi změny v různých virtuálních pevných disků.</span><span class="sxs-lookup"><span data-stu-id="55a46-1011">This means there is no synchronization between the changes in the different VHDs.</span></span> <span data-ttu-id="55a46-1012">Fakt, že jsou replikovány IOs nezávisle na pořadí, ve kterém jsou zapsané znamená geografická replikace není hodnoty pro databázové servery, které mají své databáze distribuovány na více virtuálních pevných disků.</span><span class="sxs-lookup"><span data-stu-id="55a46-1012">The fact that the IOs are replicated independently of the order in which they are written means that geo-replication is not of value for database servers that have their databases distributed over multiple VHDs.</span></span> <span data-ttu-id="55a46-1013">Kromě databázového systému také mohou existovat další aplikace, které procesy zápisu nebo pracovat s daty v různých virtuálních pevných disků a kde je důležité udržovat pořadí změny.</span><span class="sxs-lookup"><span data-stu-id="55a46-1013">In addition to the DBMS, there also might be other applications where processes write or manipulate data in different VHDs and where it is important to keep the order of changes.</span></span> <span data-ttu-id="55a46-1014">Pokud se požadavek, by nemělo být povoleno geografická replikace v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1014">If that is a requirement, geo-replication in Azure should not be enabled.</span></span> <span data-ttu-id="55a46-1015">Závisí na tom, jestli potřebujete nebo chcete geografická replikace pro sadu virtuálních počítačů, ale ne pro jinou sadu, můžete již zařadit virtuálních počítačů a jejich související virtuální pevné disky do jiné účty úložiště, které mají geografická replikace povolená nebo zakázaná.</span><span class="sxs-lookup"><span data-stu-id="55a46-1015">Dependent on whether you need or want geo-replication for a set of VMs, but not for another set, you can already categorize VMs and their related VHDs into different Storage Accounts that have geo-replication enabled or disabled.</span></span>

#### <span data-ttu-id="55a46-1016"><a name="17e0d543-7e8c-4160-a7da-dd7117a1ad9d"></a>Nastavení automatického připojení pro připojené disky</span><span class="sxs-lookup"><span data-stu-id="55a46-1016"><a name="17e0d543-7e8c-4160-a7da-dd7117a1ad9d"></a>Setting automount for attached disks</span></span>
- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-1018">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-1018">Windows</span></span>
>
> <span data-ttu-id="55a46-1019">Pro virtuální počítače, které jsou vytvořené pomocí vlastní Image nebo disky je potřeba zkontrolovat a může být nastaven parametr automatického připojení.</span><span class="sxs-lookup"><span data-stu-id="55a46-1019">For VMs which are created from own Images or Disks, it is necessary to check and possibly set the automount parameter.</span></span> <span data-ttu-id="55a46-1020">Nastavení tohoto parametru vám umožní virtuální počítač po restartování nebo opětovné nasazení v Azure automaticky znovu připojit připojené připojené jednotky.</span><span class="sxs-lookup"><span data-stu-id="55a46-1020">Setting this parameter will allow the VM after a restart or redeployment in Azure to mount the attached/mounted drives again automatically.</span></span>
> <span data-ttu-id="55a46-1021">Parametr je nastaven pro Image poskytované Microsoft Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="55a46-1021">The parameter is set for the images provided by Microsoft in the Azure Marketplace.</span></span>
>
> <span data-ttu-id="55a46-1022">Aby bylo možné nastavit automatického připojení, zkontrolujte v dokumentaci příkazového řádku spustitelného souboru diskpart.exe tady:</span><span class="sxs-lookup"><span data-stu-id="55a46-1022">In order to set the automount, please check the documentation of the command-line executable diskpart.exe here:</span></span>
>
> * [<span data-ttu-id="55a46-1023">Možnosti příkazového řádku DiskPart</span><span class="sxs-lookup"><span data-stu-id="55a46-1023">DiskPart Command-Line Options</span></span>](https://technet.microsoft.com/library/bb490893.aspx)
> * [<span data-ttu-id="55a46-1024">Automatického připojení</span><span class="sxs-lookup"><span data-stu-id="55a46-1024">Automount</span></span>](http://technet.microsoft.com/library/cc753703.aspx)
>
> <span data-ttu-id="55a46-1025">Okno příkazového řádku systému Windows musí být otevřen jako správce.</span><span class="sxs-lookup"><span data-stu-id="55a46-1025">The Windows command-line window should be opened as administrator.</span></span>
>
> <span data-ttu-id="55a46-1026">Pokud jsou připojené disky, budete muset přihlásit k virtuálnímu počítači otevřete Správce disků systému Windows.</span><span class="sxs-lookup"><span data-stu-id="55a46-1026">If disks are attached, you need to log in to the VM to open the Windows Disk Manager.</span></span> <span data-ttu-id="55a46-1027">Pokud automatického připojení není povolena podle doporučení v kapitole [nastavení automatického připojení pro připojené disky][planning-guide-5.5.3], nově připojený svazek > je potřeba provést online a inicializované.</span><span class="sxs-lookup"><span data-stu-id="55a46-1027">If automount is not enabled as recommended in chapter [Setting automount for attached disks][planning-guide-5.5.3],  the newly attached volume >needs to be taken online and initialized.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-1029">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-1029">Linux</span></span>
>
> <span data-ttu-id="55a46-1030">Je nutné inicializovat nově připojená prázdný disk, jak je popsáno v [v tomto článku][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux].</span><span class="sxs-lookup"><span data-stu-id="55a46-1030">You need to initialize a newly attached empty disk as described in [this article][virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux].</span></span>
> <span data-ttu-id="55a46-1031">Musíte taky přidat do /etc/fstab nové disky.</span><span class="sxs-lookup"><span data-stu-id="55a46-1031">You also need to add new disks to the /etc/fstab.</span></span>
>
>

- - -
### <a name="final-deployment"></a><span data-ttu-id="55a46-1032">Poslední nasazení</span><span class="sxs-lookup"><span data-stu-id="55a46-1032">Final Deployment</span></span>
<span data-ttu-id="55a46-1033">Pro konečné nasazení a jaké kroky, zejména s ohledem na nasazení SAP rozšířené monitorování, naleznete [Průvodce nasazením][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-1033">For the final deployment and exact steps, especially with regards to the deployment of SAP Extended Monitoring, please refer to the [Deployment Guide][deployment-guide].</span></span>

## <a name="accessing-sap-systems-running-within-azure-vms"></a><span data-ttu-id="55a46-1034">Přístup k SAP systémy s operačním systémem v rámci virtuálních počítačů Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-1034">Accessing SAP systems running within Azure VMs</span></span>
<span data-ttu-id="55a46-1035">Pro scénáře jenom pro Cloud můžete chtít připojit k těmto systémům SAP přes grafické uživatelské rozhraní SAP veřejného Internetu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1035">For Cloud-Only scenarios, you might want to connect to those SAP systems across the public internet using SAP GUI.</span></span> <span data-ttu-id="55a46-1036">Pro tyto případy musí provést následující postupy.</span><span class="sxs-lookup"><span data-stu-id="55a46-1036">For these cases, the following procedures need to be applied.</span></span>

<span data-ttu-id="55a46-1037">Později v dokumentu se budeme zabývat další hlavní scénáře, připojují k systémům SAP v nasazeních mezi různými místy, které mají připojení site-to-site (tunelového připojení sítě VPN) nebo Azure ExpressRoute připojení mezi místní systémy a systémy Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1037">Later in the document we will discuss the other major scenario, connecting to SAP systems in cross-premises deployments which have a site-to-site connection (VPN tunnel) or Azure ExpressRoute connection between the on-premises systems and Azure systems.</span></span>

### <a name="remote-access-to-sap-systems"></a><span data-ttu-id="55a46-1038">Vzdálený přístup k SAP systémy</span><span class="sxs-lookup"><span data-stu-id="55a46-1038">Remote Access to SAP systems</span></span>
<span data-ttu-id="55a46-1039">Pomocí Azure Resource Manageru neobsahuje žádné výchozí koncové body už jako bývalé klasického modelu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1039">With Azure Resource Manager there are no default endpoints anymore like in the former classic model.</span></span> <span data-ttu-id="55a46-1040">Všechny porty virtuálního počítače Azure ARM jsou otevřené, dokud:</span><span class="sxs-lookup"><span data-stu-id="55a46-1040">All ports of an Azure ARM VM are open as long as:</span></span>

1. <span data-ttu-id="55a46-1041">Žádné skupiny zabezpečení sítě je definována pro podsíť nebo síťové rozhraní.</span><span class="sxs-lookup"><span data-stu-id="55a46-1041">No Network Security Group is defined for the subnet or the network interface.</span></span> <span data-ttu-id="55a46-1042">Síťový provoz na virtuálních počítačích Azure můžou být zabezpečené pomocí takzvané "skupin zabezpečení sítě".</span><span class="sxs-lookup"><span data-stu-id="55a46-1042">Network traffic to Azure VMs can be secured via so-called "Network Security Groups".</span></span> <span data-ttu-id="55a46-1043">Další informace najdete v části [co je skupina zabezpečení sítě (NSG)?][virtual-networks-nsg]</span><span class="sxs-lookup"><span data-stu-id="55a46-1043">For more information see [What is a Network Security Group (NSG)?][virtual-networks-nsg]</span></span>
2. <span data-ttu-id="55a46-1044">Pro síťové rozhraní, není definována žádná služba Vyrovnávání zatížení Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-1044">No Azure Load Balancer is defined for the network interface</span></span>   

<span data-ttu-id="55a46-1045">Jak je popsáno v, najdete v části architektura rozdíl mezi klasického modelu a ARM [v tomto článku][virtual-machines-azure-resource-manager-architecture].</span><span class="sxs-lookup"><span data-stu-id="55a46-1045">See the architecture difference between classic model and ARM as described in [this article][virtual-machines-azure-resource-manager-architecture].</span></span>

#### <a name="configuration-of-the-sap-system-and-sap-gui-connectivity-for-cloud-only-scenario"></a><span data-ttu-id="55a46-1046">Konfigurace připojení k systému SAP a SAP grafického uživatelského rozhraní pro scénář jenom pro Cloud</span><span class="sxs-lookup"><span data-stu-id="55a46-1046">Configuration of the SAP System and SAP GUI connectivity for Cloud-Only scenario</span></span>
<span data-ttu-id="55a46-1047">Podrobnosti najdete v tomto článku, který popisuje podrobnosti k tomuto tématu: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/06/24/sap-gui-connection-closed-when-connecting-to-sap-system-in-azure.aspx></span><span class="sxs-lookup"><span data-stu-id="55a46-1047">Please see this article which describes details to this topic: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/06/24/sap-gui-connection-closed-when-connecting-to-sap-system-in-azure.aspx></span></span>

#### <a name="changing-firewall-settings-within-vm"></a><span data-ttu-id="55a46-1048">Změna nastavení brány Firewall v rámci virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="55a46-1048">Changing Firewall Settings within VM</span></span>
<span data-ttu-id="55a46-1049">Může být potřeba nakonfigurovat bránu firewall na virtuální počítače chcete povolit příchozí přenosy v systému SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1049">It might be necessary to configure the firewall on your virtual machines to allow inbound traffic to your SAP system.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-1051">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-1051">Windows</span></span>
>
> <span data-ttu-id="55a46-1052">Ve výchozím nastavení je zapnutá brána Firewall systému Windows v rámci Azure nasazených virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-1052">By default, the Windows Firewall within an Azure deployed VM is turned on.</span></span> <span data-ttu-id="55a46-1053">Nyní je třeba povolit otevřít Port SAP, jinak nebude moct připojit SAP grafické uživatelské rozhraní.</span><span class="sxs-lookup"><span data-stu-id="55a46-1053">You now need to allow the SAP Port to be opened, otherwise the SAP GUI will not be able to connect.</span></span>
> <span data-ttu-id="55a46-1054">Použijte následující postup:</span><span class="sxs-lookup"><span data-stu-id="55a46-1054">To do this:</span></span>
>
> * <span data-ttu-id="55a46-1055">Otevřete ovládací panely\systém a zabezpečení\Brána Windows Firewall tak, aby 'upřesňující nastavení'.</span><span class="sxs-lookup"><span data-stu-id="55a46-1055">Open Control Panel\System and Security\Windows Firewall to ‘Advanced Settings’.</span></span>
> * <span data-ttu-id="55a46-1056">Nyní klikněte pravým tlačítkem na příchozí pravidla a pokusit 'Nové pravidlo'.</span><span class="sxs-lookup"><span data-stu-id="55a46-1056">Now right-click on Inbound Rules and chose ‘New Rule’.</span></span>
> * <span data-ttu-id="55a46-1057">V následující průvodce pokusit vytvořit nové pravidlo 'Port'.</span><span class="sxs-lookup"><span data-stu-id="55a46-1057">In the following Wizard chose to create a new ‘Port’ rule.</span></span>
> * <span data-ttu-id="55a46-1058">V dalším kroku průvodce nechte nastavení na TCP a zadejte číslo portu, který chcete otevřít.</span><span class="sxs-lookup"><span data-stu-id="55a46-1058">In the next step of the wizard, leave the setting at TCP and type in the port number you want to open.</span></span> <span data-ttu-id="55a46-1059">Vzhledem k tomu, že je naše ID instance SAP 00, vzali jsme 3200.</span><span class="sxs-lookup"><span data-stu-id="55a46-1059">Since our SAP instance ID is 00, we took 3200.</span></span> <span data-ttu-id="55a46-1060">Pokud je vaše instance číslo jinou instanci, musí být otevřen port, který jste definovali dříve podle počtu instancí.</span><span class="sxs-lookup"><span data-stu-id="55a46-1060">If your instance has a different instance number, the port you defined earlier based on the instance number should be opened.</span></span>
> * <span data-ttu-id="55a46-1061">V další části průvodce budete muset ponechat položku "Povolit připojení, zaškrtnutí.</span><span class="sxs-lookup"><span data-stu-id="55a46-1061">In the next part of the wizard, you need to leave the item ‘Allow Connection’ checked.</span></span>
> * <span data-ttu-id="55a46-1062">V dalším kroku průvodce budete muset definovat, zda se pravidlo vztahuje pro doménu, privátní a veřejné sítě.</span><span class="sxs-lookup"><span data-stu-id="55a46-1062">In the next step of the wizard you need to define whether the rule applies for Domain, Private and Public network.</span></span> <span data-ttu-id="55a46-1063">V případě potřeby pro vaše potřeby ho upravte.</span><span class="sxs-lookup"><span data-stu-id="55a46-1063">Please adjust it if necessary to your needs.</span></span> <span data-ttu-id="55a46-1064">Ale připojují pomocí grafického uživatelského rozhraní SAP zvenku přes veřejnou síť, musíte mít pravidlo použije k veřejné síti.</span><span class="sxs-lookup"><span data-stu-id="55a46-1064">However, connecting with SAP GUI from the outside through the public network, you need to have the rule applied to the public network.</span></span>
> * <span data-ttu-id="55a46-1065">V posledním kroku průvodce název pravidla a uložte stisknutím 'Dokončit'</span><span class="sxs-lookup"><span data-stu-id="55a46-1065">In the last step of the wizard, name the rule and save by pressing ‘Finish’</span></span>
>
> <span data-ttu-id="55a46-1066">Pravidlo začne okamžitě platit.</span><span class="sxs-lookup"><span data-stu-id="55a46-1066">The rule becomes effective immediately.</span></span>
>
> ![Definice pravidla portu][planning-guide-figure-1600]
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-1069">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-1069">Linux</span></span>
>
> <span data-ttu-id="55a46-1070">Linux obrázků v Azure Marketplace nepovolujte iptables brány firewall ve výchozím nastavení a připojení k systému SAP, by měly fungovat.</span><span class="sxs-lookup"><span data-stu-id="55a46-1070">The Linux images in the Azure Marketplace do not enable the iptables firewall by default and the connection to your SAP system should work.</span></span> <span data-ttu-id="55a46-1071">Pokud jste povolili iptables nebo jiná brána firewall, naleznete v dokumentaci iptables nebo použité brány firewall umožňující tcp příchozí přenosy na portu 32xx (kde xx je počet systému vašeho systému SAP).</span><span class="sxs-lookup"><span data-stu-id="55a46-1071">If you enabled iptables or another firewall, please refer to the documentation of iptables or the used firewall to allow inbound tcp traffic to  port 32xx (where xx is the system number of your SAP system).</span></span>
>
>

- - -
#### <a name="security-recommendations"></a><span data-ttu-id="55a46-1072">Doporučení zabezpečení</span><span class="sxs-lookup"><span data-stu-id="55a46-1072">Security recommendations</span></span>
<span data-ttu-id="55a46-1073">Grafické uživatelské rozhraní SAP nepřipojí k žádné z instance SAP (port 32xx), které jsou spuštěny, ale poprvé připojí přes port otevřít k procesu SAP zpráv serveru (port 36xx) okamžitě.</span><span class="sxs-lookup"><span data-stu-id="55a46-1073">The SAP GUI does not connect immediately to any of the SAP instances (port 32xx) which are running, but first connects via the port opened to the SAP message server process (port 36xx).</span></span> <span data-ttu-id="55a46-1074">V minulosti byl velmi stejný port používán serverem zpráva pro interní komunikaci na instancí aplikace.</span><span class="sxs-lookup"><span data-stu-id="55a46-1074">In the past the very same port was used by the message server for the internal communication to the application instances.</span></span> <span data-ttu-id="55a46-1075">Aby se zabránilo místní aplikační servery nechtěně komunikaci se serverem zpráva v Azure lze změnit interní komunikační porty.</span><span class="sxs-lookup"><span data-stu-id="55a46-1075">To prevent on-premises application servers from inadvertently communicating with a message server in Azure the internal communication ports can be changed.</span></span> <span data-ttu-id="55a46-1076">Důrazně doporučujeme změnit interní komunikaci mezi zpráva serveru SAP a její instance aplikace na jiné číslo portu v systémech, které byly klonovat z místních systémů, jako je například klon vývoje pro projekt testování atd. To lze provést s výchozím parametrem profil:</span><span class="sxs-lookup"><span data-stu-id="55a46-1076">It is highly recommended to change the internal communication between the SAP message server and its application instances to a different port number on systems that have been cloned from on-premises systems, such as a clone of development for project testing etc. This can be done with the default profile parameter:</span></span>

> <span data-ttu-id="55a46-1077">rdisp/msserv_internal</span><span class="sxs-lookup"><span data-stu-id="55a46-1077">rdisp/msserv_internal</span></span>
>
>

<span data-ttu-id="55a46-1078">jak je uvedeno v [nastavení zabezpečení pro Server zpráv SAP](https://help.sap.com/saphelp_nwpi71/helpdata/en/47/c56a6938fb2d65e10000000a42189c/content.htm)</span><span class="sxs-lookup"><span data-stu-id="55a46-1078">as documented in [Security Settings for the SAP Message Server ](https://help.sap.com/saphelp_nwpi71/helpdata/en/47/c56a6938fb2d65e10000000a42189c/content.htm)</span></span>

## <span data-ttu-id="55a46-1079"><a name="96a77628-a05e-475d-9df3-fb82217e8f14"></a>Koncepty čistě cloudové nasazení SAP instancí</span><span class="sxs-lookup"><span data-stu-id="55a46-1079"><a name="96a77628-a05e-475d-9df3-fb82217e8f14"></a>Concepts of Cloud-Only deployment of SAP instances</span></span>
### <span data-ttu-id="55a46-1080"><a name="3e9c3690-da67-421a-bc3f-12c520d99a30"></a>Jeden virtuální počítač s SAP NetWeaver demo a školení scénář</span><span class="sxs-lookup"><span data-stu-id="55a46-1080"><a name="3e9c3690-da67-421a-bc3f-12c520d99a30"></a>Single VM with SAP NetWeaver demo/training scenario</span></span>
![Systémem jednoho virtuálního počítače SAP ukázkový se stejnými názvy virtuálních počítačů, izolované ve službě Azure Cloud Services][planning-guide-figure-1700]

<span data-ttu-id="55a46-1082">V tomto scénáři (naleznete v kapitole [jenom pro Cloud] [ planning-guide-2.1] tohoto dokumentu) jsme implementujete typické školení nebo ukázkový scénář systému kde obsaženy dokončení školení nebo ukázkový scénář v jeden virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="55a46-1082">In this scenario (see chapter [Cloud-Only][planning-guide-2.1] of this document) we are implementing a typical training/demo system scenario where the complete training/demo scenario is contained in a single VM.</span></span> <span data-ttu-id="55a46-1083">Předpokládáme, že nasazení se provádí prostřednictvím image šablony virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-1083">We assume that the deployment is done through VM image templates.</span></span> <span data-ttu-id="55a46-1084">Také předpokládáme, že více tyto ukázkové školení potřeba virtuální počítače nasadit s virtuálními počítači, který má stejný název.</span><span class="sxs-lookup"><span data-stu-id="55a46-1084">We also assume that multiple of these demo/trainings VMs need to be deployed with the VMs having the same name.</span></span>

<span data-ttu-id="55a46-1085">Předpokladem je, který jste vytvořili Image virtuálního počítače, jak je popsáno v některých částech kapitoly [přípravy virtuálních počítačů s SAP pro Azure] [ planning-guide-5.2] v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1085">The assumption is that you created a VM Image as described in some sections of chapter [Preparing VMs with SAP for Azure][planning-guide-5.2] in this document.</span></span>

<span data-ttu-id="55a46-1086">Posloupnost událostí implementovat scénář vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="55a46-1086">The sequence of events to implement the scenario looks like this:</span></span>

##### <a name="powershell"></a><span data-ttu-id="55a46-1087">PowerShell</span><span class="sxs-lookup"><span data-stu-id="55a46-1087">Powershell</span></span>
* <span data-ttu-id="55a46-1088">Vytvořit novou skupinu prostředků pro každých šířku školení nebo demo</span><span class="sxs-lookup"><span data-stu-id="55a46-1088">Create a new resource group for every training/demo landscape</span></span>

```powershell
$rgName = "SAPERPDemo1"
New-AzureRmResourceGroup -Name $rgName -Location "North Europe"
```
* <span data-ttu-id="55a46-1089">Vytvořit nový účet úložiště, pokud nechcete používat spravované disky</span><span class="sxs-lookup"><span data-stu-id="55a46-1089">Create a new storage account if you don't want to use Managed Disks</span></span>

```powershell
$suffix = Get-Random -Minimum 100000 -Maximum 999999
$account = New-AzureRmStorageAccount -ResourceGroupName $rgName -Name "saperpdemo$suffix" -SkuName Standard_LRS -Kind "Storage" -Location "North Europe"
```

* <span data-ttu-id="55a46-1090">Vytvořte novou virtuální síť pro každý školení nebo ukázku šířku povolit využití stejný název hostitele a IP adres.</span><span class="sxs-lookup"><span data-stu-id="55a46-1090">Create a new virtual network for every training/demo landscape to enable the usage of the same hostname and IP addresses.</span></span> <span data-ttu-id="55a46-1091">Virtuální síť je chráněn skupinu zabezpečení sítě, který umožňuje pouze přenosy na portu 3389 povolit přístup ke vzdálené ploše a port 22 pro SSH.</span><span class="sxs-lookup"><span data-stu-id="55a46-1091">The virtual network is protected by a Network Security Group that only allows traffic to port 3389 to enable Remote Desktop access and port 22 for SSH.</span></span>

```powershell
# Create a new Virtual Network
$rdpRule = New-AzureRmNetworkSecurityRuleConfig -Name SAPERPDemoNSGRDP -Protocol * -SourcePortRange * -DestinationPortRange 3389 -Access Allow -Direction Inbound -SourceAddressPrefix * -DestinationAddressPrefix * -Priority 100
$sshRule = New-AzureRmNetworkSecurityRuleConfig -Name SAPERPDemoNSGSSH -Protocol * -SourcePortRange * -DestinationPortRange 22 -Access Allow -Direction Inbound -SourceAddressPrefix * -DestinationAddressPrefix * -Priority 101
$nsg = New-AzureRmNetworkSecurityGroup -Name SAPERPDemoNSG -ResourceGroupName $rgName -Location  "North Europe" -SecurityRules $rdpRule,$sshRule

$subnetConfig = New-AzureRmVirtualNetworkSubnetConfig -Name Subnet1 -AddressPrefix  10.0.1.0/24 -NetworkSecurityGroup $nsg
$vnet = New-AzureRmVirtualNetwork -Name SAPERPDemoVNet -ResourceGroupName $rgName -Location "North Europe"  -AddressPrefix 10.0.1.0/24 -Subnet $subnetConfig
```

* <span data-ttu-id="55a46-1092">Vytvořit novou veřejnou IP adresu, která lze použít pro přístup k virtuálnímu počítači z Internetu</span><span class="sxs-lookup"><span data-stu-id="55a46-1092">Create a new public IP address that can be used to access the virtual machine from the internet</span></span>

```powershell
# Create a public IP address with a DNS name
$pip = New-AzureRmPublicIpAddress -Name SAPERPDemoPIP -ResourceGroupName $rgName -Location "North Europe" -DomainNameLabel $rgName.ToLower() -AllocationMethod Dynamic
```

* <span data-ttu-id="55a46-1093">Vytvoření nového síťového rozhraní pro virtuální počítač</span><span class="sxs-lookup"><span data-stu-id="55a46-1093">Create a new network interface for the virtual machine</span></span>

```powershell
# Create a new Network Interface
$nic = New-AzureRmNetworkInterface -Name SAPERPDemoNIC -ResourceGroupName $rgName -Location "North Europe" -Subnet $vnet.Subnets[0] -PublicIpAddress $pip
```

* <span data-ttu-id="55a46-1094">Vytvoření virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-1094">Create a virtual machine.</span></span> <span data-ttu-id="55a46-1095">Pro scénář jenom pro Cloud bude mít každý virtuální počítač se stejným názvem.</span><span class="sxs-lookup"><span data-stu-id="55a46-1095">For the Cloud-Only scenario every VM will have the same name.</span></span> <span data-ttu-id="55a46-1096">Identifikátor SID SAP instance SAP NetWeaver ve tyto virtuální počítače budou stejné také.</span><span class="sxs-lookup"><span data-stu-id="55a46-1096">The SAP SID of the SAP NetWeaver instances in those VMs will be the same as well.</span></span> <span data-ttu-id="55a46-1097">V rámci skupiny prostředků Azure musí být jedinečný název virtuálního počítače, ale v různých skupinách prostředků Azure můžete spustit virtuální počítače se stejným názvem.</span><span class="sxs-lookup"><span data-stu-id="55a46-1097">Within the Azure Resource Group, the name of the VM needs to be unique, but in different Azure Resource Groups you can run VMs with the same name.</span></span> <span data-ttu-id="55a46-1098">Výchozí účet 'správce systému Windows nebo "kořenový" pro Linux nejsou platné.</span><span class="sxs-lookup"><span data-stu-id="55a46-1098">The default 'Administrator' account of Windows or 'root' for Linux are not valid.</span></span> <span data-ttu-id="55a46-1099">Nové uživatelské jméno správce proto musí být definován společně s heslem.</span><span class="sxs-lookup"><span data-stu-id="55a46-1099">Therefore, a new administrator user name needs to be defined together with a password.</span></span> <span data-ttu-id="55a46-1100">Velikost virtuálního počítače taky musí být definován.</span><span class="sxs-lookup"><span data-stu-id="55a46-1100">The size of the VM also needs to be defined.</span></span>

```powershell
#####
# Create a new virtual machine with an official image from the Azure Marketplace
#####
$cred=Get-Credential -Message "Type the name and password of the local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

# select image
$vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "MicrosoftWindowsServer" -Offer "WindowsServer" -Skus "2012-R2-Datacenter" -Version "latest"
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred -ProvisionVMAgent -EnableAutoUpdate
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "SUSE" -Offer "SLES-SAP" -Skus "12-SP1" -Version "latest"
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "RedHat" -Offer "RHEL" -Skus "7.2" -Version "latest"
# $vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -PublisherName "Oracle" -Offer "Oracle-Linux" -Skus "7.2" -Version "latest"
# $vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

```powershell
#####
# Create a new virtual machine with a VHD that contains the private image that you want to use
#####
$cred=Get-Credential -Message "Type the name and password of the local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$diskName="osfromimage"
$osDiskUri=$account.PrimaryEndpoints.Blob.ToString() + "vhds/" + $diskName  + ".vhd"

$vmconfig = Set-AzureRmVMOSDisk -VM $vmconfig -Name $diskName -VhdUri $osDiskUri -CreateOption fromImage -SourceImageUri <path to VHD that contains the OS image> -Windows
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred
#$vmconfig = Set-AzureRmVMOSDisk -VM $vmconfig -Name $diskName -VhdUri $osDiskUri -CreateOption fromImage -SourceImageUri <path to VHD that contains the OS image> -Linux
#$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

```powershell
#####
# Create a new virtual machine with a Managed Disk Image
#####
$cred=Get-Credential -Message "Type the name and password of the local administrator account."
$vmconfig = New-AzureRmVMConfig -VMName SAPERPDemo -VMSize Standard_D11

$vmconfig = Add-AzureRmVMNetworkInterface -VM $vmconfig -Id $nic.Id

$vmconfig = Set-AzureRmVMSourceImage -VM $vmconfig -Id <Id of Managed Disk Image>
$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Windows -ComputerName "SAPERPDemo" -Credential $cred
#$vmconfig = Set-AzureRmVMOperatingSystem -VM $vmconfig -Linux -ComputerName "SAPERPDemo" -Credential $cred

$vmconfig = Set-AzureRmVMBootDiagnostics -Disable -VM $vmconfig
$vm = New-AzureRmVM -ResourceGroupName $rgName -Location "North Europe" -VM $vmconfig
```

* <span data-ttu-id="55a46-1101">Volitelně můžete přidat další disky a potřeby obsah obnovit.</span><span class="sxs-lookup"><span data-stu-id="55a46-1101">Optionally add additional disks and restore necessary content.</span></span> <span data-ttu-id="55a46-1102">Upozorňujeme, že názvy všech objektů blob (adres URL pro objekty BLOB), musí být jedinečný v rámci Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1102">Be aware that all blob names (URLs to the blobs) must be unique within Azure.</span></span>

```powershell
# Optional: Attach additional VHD data disks
$vm = Get-AzureRmVM -ResourceGroupName $rgName -Name SAPERPDemo
$dataDiskUri = $account.PrimaryEndpoints.Blob.ToString() + "vhds/datadisk.vhd"
Add-AzureRmVMDataDisk -VM $vm -Name datadisk -VhdUri $dataDiskUri -DiskSizeInGB 1023 -CreateOption empty | Update-AzureRmVM

# Optional: Attach additional Managed Disks
$vm = Get-AzureRmVM -ResourceGroupName $rgName -Name SAPERPDemo
Add-AzureRmVMDataDisk -VM $vm -Name datadisk -DiskSizeInGB 1023 -CreateOption empty -Lun 0 | Update-AzureRmVM
```

##### <a name="cli"></a><span data-ttu-id="55a46-1103">Rozhraní příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="55a46-1103">CLI</span></span>
<span data-ttu-id="55a46-1104">Následující příklad kódu lze v systému Linux.</span><span class="sxs-lookup"><span data-stu-id="55a46-1104">The following example code can be used on Linux.</span></span> <span data-ttu-id="55a46-1105">Pro systém Windows, proveďte pomocí prostředí PowerShell, jak je popsáno výše nebo přizpůsobit příklad používat % rgName % místo $rgName a nastavte proměnnou prostředí pomocí příkazu Windows *nastavit*.</span><span class="sxs-lookup"><span data-stu-id="55a46-1105">For Windows, please either use PowerShell as described above or adapt the example to use %rgName% instead of $rgName and set the environment variable using the Windows command *set*.</span></span>

* <span data-ttu-id="55a46-1106">Vytvořit novou skupinu prostředků pro každých šířku školení nebo demo</span><span class="sxs-lookup"><span data-stu-id="55a46-1106">Create a new resource group for every training/demo landscape</span></span>

```
rgName=SAPERPDemo1
rgNameLower=saperpdemo1
az group create --name $rgName --location "North Europe"
```

* <span data-ttu-id="55a46-1107">Vytvořit nový účet úložiště</span><span class="sxs-lookup"><span data-stu-id="55a46-1107">Create a new storage account</span></span>

```
az storage account create --resource-group $rgName --location "North Europe" --kind Storage --sku Standard_LRS --name $rgNameLower
```

* <span data-ttu-id="55a46-1108">Vytvořte novou virtuální síť pro každý školení nebo ukázku šířku povolit využití stejný název hostitele a IP adres.</span><span class="sxs-lookup"><span data-stu-id="55a46-1108">Create a new virtual network for every training/demo landscape to enable the usage of the same hostname and IP addresses.</span></span> <span data-ttu-id="55a46-1109">Virtuální síť je chráněn skupinu zabezpečení sítě, který umožňuje pouze přenosy na portu 3389 povolit přístup ke vzdálené ploše a port 22 pro SSH.</span><span class="sxs-lookup"><span data-stu-id="55a46-1109">The virtual network is protected by a Network Security Group that only allows traffic to port 3389 to enable Remote Desktop access and port 22 for SSH.</span></span>

```
az network nsg create --resource-group $rgName --location "North Europe" --name SAPERPDemoNSG
az network nsg rule create --resource-group $rgName --nsg-name SAPERPDemoNSG --name SAPERPDemoNSGRDP --protocol \* --source-address-prefix \* --source-port-range \* --destination-address-prefix \* --destination-port-range 3389 --access Allow --priority 100 --direction Inbound
az network nsg rule create --resource-group $rgName --nsg-name SAPERPDemoNSG --name SAPERPDemoNSGSSH --protocol \* --source-address-prefix \* --source-port-range \* --destination-address-prefix \* --destination-port-range 22 --access Allow --priority 101 --direction Inbound

az network vnet create --resource-group $rgName --name SAPERPDemoVNet --location "North Europe" --address-prefixes 10.0.1.0/24
az network vnet subnet create --resource-group $rgName --vnet-name SAPERPDemoVNet --name Subnet1 --address-prefix 10.0.1.0/24 --network-security-group SAPERPDemoNSG
```

* <span data-ttu-id="55a46-1110">Vytvořit novou veřejnou IP adresu, která lze použít pro přístup k virtuálnímu počítači z Internetu</span><span class="sxs-lookup"><span data-stu-id="55a46-1110">Create a new public IP address that can be used to access the virtual machine from the internet</span></span>

```
az network public-ip create --resource-group $rgName --name SAPERPDemoPIP --location "North Europe" --dns-name $rgNameLower --allocation-method Dynamic
```

* <span data-ttu-id="55a46-1111">Vytvoření nového síťového rozhraní pro virtuální počítač</span><span class="sxs-lookup"><span data-stu-id="55a46-1111">Create a new network interface for the virtual machine</span></span>

```
az network nic create --resource-group $rgName --location "North Europe" --name SAPERPDemoNIC --public-ip-address SAPERPDemoPIP --subnet Subnet1 --vnet-name SAPERPDemoVNet
```

* <span data-ttu-id="55a46-1112">Vytvoření virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-1112">Create a virtual machine.</span></span> <span data-ttu-id="55a46-1113">Pro scénář jenom pro Cloud bude mít každý virtuální počítač se stejným názvem.</span><span class="sxs-lookup"><span data-stu-id="55a46-1113">For the Cloud-Only scenario every VM will have the same name.</span></span> <span data-ttu-id="55a46-1114">Identifikátor SID SAP instance SAP NetWeaver ve tyto virtuální počítače budou stejné také.</span><span class="sxs-lookup"><span data-stu-id="55a46-1114">The SAP SID of the SAP NetWeaver instances in those VMs will be the same as well.</span></span> <span data-ttu-id="55a46-1115">V rámci skupiny prostředků Azure musí být jedinečný název virtuálního počítače, ale v různých skupinách prostředků Azure můžete spustit virtuální počítače se stejným názvem.</span><span class="sxs-lookup"><span data-stu-id="55a46-1115">Within the Azure Resource Group, the name of the VM needs to be unique, but in different Azure Resource Groups you can run VMs with the same name.</span></span> <span data-ttu-id="55a46-1116">Výchozí účet 'správce systému Windows nebo "kořenový" pro Linux nejsou platné.</span><span class="sxs-lookup"><span data-stu-id="55a46-1116">The default 'Administrator' account of Windows or 'root' for Linux are not valid.</span></span> <span data-ttu-id="55a46-1117">Nové uživatelské jméno správce proto musí být definován společně s heslem.</span><span class="sxs-lookup"><span data-stu-id="55a46-1117">Therefore, a new administrator user name needs to be defined together with a password.</span></span> <span data-ttu-id="55a46-1118">Velikost virtuálního počítače taky musí být definován.</span><span class="sxs-lookup"><span data-stu-id="55a46-1118">The size of the VM also needs to be defined.</span></span>

```
#####
# Create virtual machines using storage accounts
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image MicrosoftWindowsServer:WindowsServer:2012-R2-Datacenter:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image SUSE:SLES-SAP:12-SP1:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image RedHat:RHEL:7.2:latest --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image "Oracle:Oracle-Linux:7.2:latest" --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --authentication-type password

#####
# Create virtual machines using Managed Disks
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image MicrosoftWindowsServer:WindowsServer:2012-R2-Datacenter:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image SUSE:SLES-SAP:12-SP1:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image RedHat:RHEL:7.2:latest --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --image "Oracle:Oracle-Linux:7.2:latest" --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --authentication-type password
```

```
#####
# Create a new virtual machine with a VHD that contains the private image that you want to use
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --os-type Windows --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --image <path to image vhd>
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --os-type Linux --admin-username <username> --admin-password <password> --size Standard_D11 --use-unmanaged-disk --storage-account $rgNameLower --storage-container-name vhds --os-disk-name os --image <path to image vhd> --authentication-type password

#####
# Create a new virtual machine with a Managed Disk Image
#####
az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --image <managed disk image id>
#az vm create --resource-group $rgName --location "North Europe" --name SAPERPDemo --nics SAPERPDemoNIC --admin-username <username> --admin-password <password> --size Standard_DS11_v2 --os-disk-name os --image <managed disk image id> --authentication-type password
```

* <span data-ttu-id="55a46-1119">Volitelně můžete přidat další disky a potřeby obsah obnovit.</span><span class="sxs-lookup"><span data-stu-id="55a46-1119">Optionally add additional disks and restore necessary content.</span></span> <span data-ttu-id="55a46-1120">Upozorňujeme, že názvy všech objektů blob (adres URL pro objekty BLOB), musí být jedinečný v rámci Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1120">Be aware that all blob names (URLs to the blobs) must be unique within Azure.</span></span>

```
# Optional: Attach additional VHD data disks
az vm unmanaged-disk attach --resource-group $rgName --vm-name SAPERPDemo --size-gb 1023 --vhd-uri https://$rgNameLower.blob.core.windows.net/vhds/data.vhd  --new

# Optional: Attach additional Managed Disks
az vm disk attach --resource-group $rgName --vm-name SAPERPDemo --size-gb 1023 --disk datadisk --new
```

##### <a name="template"></a><span data-ttu-id="55a46-1121">Šablona</span><span class="sxs-lookup"><span data-stu-id="55a46-1121">Template</span></span>
<span data-ttu-id="55a46-1122">Můžete vytvořit šablony ukázkových šablon azure rychlý start úložišti na githubu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1122">You can use the sample templates on the azure-quickstart-templates repository on github.</span></span>

* [<span data-ttu-id="55a46-1123">Jednoduchý virtuální počítač s Linuxem</span><span class="sxs-lookup"><span data-stu-id="55a46-1123">Simple Linux VM</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-linux)
* [<span data-ttu-id="55a46-1124">Jednoduchý virtuální počítač s Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-1124">Simple Windows VM</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-simple-windows)
* [<span data-ttu-id="55a46-1125">Virtuální počítač z bitové kopie</span><span class="sxs-lookup"><span data-stu-id="55a46-1125">VM from image</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image)

### <a name="implement-a-set-of-vms-which-need-to-communicate-within-azure"></a><span data-ttu-id="55a46-1126">Implementovat sadu virtuálních počítačů, které je třeba pro komunikaci v rámci Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-1126">Implement a set of VMs which need to communicate within Azure</span></span>
<span data-ttu-id="55a46-1127">Tento scénář jenom pro Cloud je typický scénář v nástroji školení a ukázkové účely kde software představující demo a školení scénář se šíří přes víc virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-1127">This Cloud-Only scenario is a typical scenario for training and demo purposes where the software representing the demo/training scenario is spread over multiple VMs.</span></span> <span data-ttu-id="55a46-1128">Různé komponenty nainstalované v různých virtuálních počítačů je třeba vzájemně komunikovat.</span><span class="sxs-lookup"><span data-stu-id="55a46-1128">The different components installed in the different VMs need to communicate with each other.</span></span> <span data-ttu-id="55a46-1129">Znovu v tomto scénáři nemáte žádnou místní síťová komunikace nebo mezi různými místy scénáři je potřeba.</span><span class="sxs-lookup"><span data-stu-id="55a46-1129">Again, in this scenario no on-premises network communication or cross-premises scenario is needed.</span></span>

<span data-ttu-id="55a46-1130">Tento scénář je rozšíření Instalace popsané v kapitole [jeden virtuální počítač s SAP NetWeaver demo a školení scénář] [ planning-guide-7.1] tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1130">This scenario is an extension of the installation described in chapter [Single VM with SAP NetWeaver demo/training scenario][planning-guide-7.1] of this document.</span></span> <span data-ttu-id="55a46-1131">V takovém případě víc virtuálních počítačů se zařadí do existující skupiny prostředků.</span><span class="sxs-lookup"><span data-stu-id="55a46-1131">In this case more virtual machines will be added to an existing resource group.</span></span> <span data-ttu-id="55a46-1132">V následujícím příkladu se skládá povahu školení SAP ASC nebo SCS virtuálního počítače, virtuální počítač spuštěn databázového systému a aplikačního serveru SAP instance virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-1132">In the following example the training landscape consists of an SAP ASCS/SCS VM, a VM running a DBMS and an SAP Application Server instance VM.</span></span>

<span data-ttu-id="55a46-1133">Než vytvoříte v tomto scénáři musíte vezměte v úvahu základní nastavení už se provést ve scénáři před.</span><span class="sxs-lookup"><span data-stu-id="55a46-1133">Before you build this scenario you need to think about basic settings as already exercised in the scenario before.</span></span>

#### <a name="resource-group-and-virtual-machine-naming"></a><span data-ttu-id="55a46-1134">Skupina prostředků a pojmenování virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="55a46-1134">Resource Group and Virtual Machine naming</span></span>
<span data-ttu-id="55a46-1135">Všechny názvy skupin prostředků musí být jedinečný.</span><span class="sxs-lookup"><span data-stu-id="55a46-1135">All resource group names must be unique.</span></span> <span data-ttu-id="55a46-1136">Vývoj vlastní schéma pojmenování prostředků, jako například `<rg-name`>-příponu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1136">Develop your own naming scheme of your resources, such as `<rg-name`>-suffix.</span></span>

<span data-ttu-id="55a46-1137">Název virtuálního počítače musí být jedinečný v rámci skupiny prostředků.</span><span class="sxs-lookup"><span data-stu-id="55a46-1137">The virtual machine name has to be unique within the resource group.</span></span>

#### <a name="set-up-network-for-communication-between-the-different-vms"></a><span data-ttu-id="55a46-1138">Nastavení sítě pro komunikaci mezi různé virtuální počítače</span><span class="sxs-lookup"><span data-stu-id="55a46-1138">Set up Network for communication between the different VMs</span></span>
![Sadu virtuálních počítačů v rámci virtuální sítě Azure][planning-guide-figure-1900]

<span data-ttu-id="55a46-1140">Abyste zabránili kolizím s klony ze stejné krajiny školení nebo ukázku, musíte vytvořit virtuální síť Azure pro každý na šířku.</span><span class="sxs-lookup"><span data-stu-id="55a46-1140">To prevent naming collisions with clones of the same training/demo landscapes, you need to create an Azure Virtual Network for every landscape.</span></span> <span data-ttu-id="55a46-1141">Překlad názvů DNS poskytovaný Azure nebo můžete nakonfigurovat vlastní DNS server mimo Azure (není možné dále zde popsané).</span><span class="sxs-lookup"><span data-stu-id="55a46-1141">DNS name resolution will be provided by Azure or you can configure your own DNS server outside Azure (not to be further discussed here).</span></span> <span data-ttu-id="55a46-1142">V tomto scénáři jsme nekonfigurujte vlastní DNS.</span><span class="sxs-lookup"><span data-stu-id="55a46-1142">In this scenario we do not configure our own DNS.</span></span> <span data-ttu-id="55a46-1143">Pro všechny virtuální počítače uvnitř jednu virtuální síť Azure bude povolena komunikace přes názvy hostitelů.</span><span class="sxs-lookup"><span data-stu-id="55a46-1143">For all virtual machines inside one Azure Virtual Network, communication via hostnames will be enabled.</span></span>

<span data-ttu-id="55a46-1144">Důvody k oddělení školení nebo ukázku krajiny tak, že virtuální sítě a ne jenom skupiny prostředků může být:</span><span class="sxs-lookup"><span data-stu-id="55a46-1144">The reasons to separate training or demo landscapes by virtual networks and not only resource groups could be:</span></span>

* <span data-ttu-id="55a46-1145">Povahu SAP jako nastavení potřebuje vlastní AD OpenLDAP a musí být součástí jednotlivých krajina Server domény.</span><span class="sxs-lookup"><span data-stu-id="55a46-1145">The SAP landscape as set up needs its own AD/OpenLDAP and a Domain Server needs to be part of each of the landscapes.</span></span>  
* <span data-ttu-id="55a46-1146">Na šířku SAP jako nastavení obsahuje součásti, které potřebujete k práci s pevné IP adresy.</span><span class="sxs-lookup"><span data-stu-id="55a46-1146">The SAP landscape as set up has components that need to work with fixed IP addresses.</span></span>

<span data-ttu-id="55a46-1147">Další informace o virtuálních sítí Azure a jak se definovat naleznete v [v tomto článku][virtual-networks-create-vnet-arm-pportal].</span><span class="sxs-lookup"><span data-stu-id="55a46-1147">More details about Azure Virtual Networks and how to define them can be found in [this article][virtual-networks-create-vnet-arm-pportal].</span></span>

## <a name="deploying-sap-vms-with-corporate-network-connectivity-cross-premises"></a><span data-ttu-id="55a46-1148">Nasazení SAP virtuálních počítačů s připojením k podnikové síti (mezi různými místy)</span><span class="sxs-lookup"><span data-stu-id="55a46-1148">Deploying SAP VMs with Corporate Network Connectivity (Cross-Premises)</span></span>
<span data-ttu-id="55a46-1149">Spustit SAP šířku a chcete rozdělit nasazení mezi úplné obnovení vyšší kategorie servery databázového systému, místní virtualizované prostředí pro aplikaci vrstvy a menší vrstvě 2 nakonfigurovali SAP systémy a Azure IaaS.</span><span class="sxs-lookup"><span data-stu-id="55a46-1149">You run an SAP landscape and want to divide the deployment between bare-metal for high-end DBMS servers, on-premises virtualized environments for application layers and smaller 2-Tier configured SAP systems and Azure IaaS.</span></span> <span data-ttu-id="55a46-1150">Základní předpokladem je, že je potřeba SAP systémy v rámci jednoho šířku SAP komunikaci mezi sebou a s mnoha další softwarové součásti nasazení ve společnosti, nezávisle na jejich nasazení formuláře.</span><span class="sxs-lookup"><span data-stu-id="55a46-1150">The base assumption is that SAP systems within one SAP landscape need to communicate with each other and with many other software components deployed in the company, independent of their deployment form.</span></span> <span data-ttu-id="55a46-1151">Taky by měl existovat žádné rozdíly zaváděné formuláře nasazení pro koncového uživatele propojení s grafickým uživatelským rozhraním SAP nebo dalších rozhraní.</span><span class="sxs-lookup"><span data-stu-id="55a46-1151">There also should be no differences introduced by the deployment form for the end user connecting with SAP GUI or other interfaces.</span></span> <span data-ttu-id="55a46-1152">Tyto podmínky lze splnit, pouze když máme OpenLDAP Active Directory v místě a rozšířit do Azure systémů prostřednictvím připojení site na lokality nebo více-místě nebo privátní připojení, jako jsou Azure ExpressRoute služby DNS.</span><span class="sxs-lookup"><span data-stu-id="55a46-1152">These conditions can only be met when we have the on-premises Active Directory/OpenLDAP and DNS services extended to the Azure systems through site-to-site/multi-site connectivity or private connections like Azure ExpressRoute.</span></span>

<span data-ttu-id="55a46-1153">Chcete-li získat další pozadí na podrobnosti implementace SAP v Azure, doporučujeme přečíst kapitoly [koncepty Cloud-Only nasazení SAP instancí] [ planning-guide-7] tohoto dokumentu, který vysvětluje některé konstrukce základy Azure a jak tyto musí být použit s SAP aplikací v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1153">In order to get more background on the implementation details of SAP on Azure, we encourage you to read chapter [Concepts of Cloud-Only deployment of SAP instances][planning-guide-7] of this document which explains some of the basics constructs of Azure and how these should be used with SAP applications in Azure.</span></span>

### <a name="scenario-of-an-sap-landscape"></a><span data-ttu-id="55a46-1154">Scénář šířku SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-1154">Scenario of an SAP landscape</span></span>
<span data-ttu-id="55a46-1155">Mezi různými místy scénář lze zhruba popsat jako grafického níže:</span><span class="sxs-lookup"><span data-stu-id="55a46-1155">The cross-premises scenario can be roughly described like in the graphics below:</span></span>

![Připojení Site-to-Site mezi místními a prostředky Azure][planning-guide-figure-2100]

<span data-ttu-id="55a46-1157">Scénáře uvedené výše popisuje scénář, kde místní AD nebo OpenLDAP a DNS jsou rozšířené do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1157">The scenario shown above describes a scenario where the on-premises AD/OpenLDAP and DNS are extended to Azure.</span></span> <span data-ttu-id="55a46-1158">Na straně místně je vyhrazený určitý rozsah IP adres podle předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1158">On the on-premises side, a certain IP address range is reserved per Azure subscription.</span></span> <span data-ttu-id="55a46-1159">Rozsah IP adres se přiřadí k virtuální síti Azure na straně Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1159">The IP address range will be assigned to an Azure Virtual Network on the Azure side.</span></span>

#### <a name="security-considerations"></a><span data-ttu-id="55a46-1160">Aspekty zabezpečení</span><span class="sxs-lookup"><span data-stu-id="55a46-1160">Security considerations</span></span>
<span data-ttu-id="55a46-1161">Minimální požadavek je použití zabezpečené komunikace protokoly, jako je například protokol SSL/TLS pro přístup z prohlížeče nebo připojení VPN pro systém přístup ke službám Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1161">The minimum requirement is the use of secure communication protocols such as SSL/TLS for browser access or VPN-based connections for system access to the Azure services.</span></span> <span data-ttu-id="55a46-1162">Předpokladem je, že společností velmi jinak zpracovat připojení VPN mezi jejich podnikovou sítí a Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1162">The assumption is that companies handle the VPN connection between their corporate network and Azure very differently.</span></span> <span data-ttu-id="55a46-1163">Některé společnosti mohou otevřít blankly všechny porty.</span><span class="sxs-lookup"><span data-stu-id="55a46-1163">Some companies might blankly open all the ports.</span></span> <span data-ttu-id="55a46-1164">Některé jiné společnosti, chcete mít velmi přesné v porty, které potřebují k otevírání, atd.</span><span class="sxs-lookup"><span data-stu-id="55a46-1164">Some other companies might want to be very precise in which ports they need to open, etc.</span></span>

<span data-ttu-id="55a46-1165">V následující tabulce typické SAP jsou uvedeny komunikační porty.</span><span class="sxs-lookup"><span data-stu-id="55a46-1165">In the table below typical SAP communication ports are listed.</span></span> <span data-ttu-id="55a46-1166">V podstatě je pro otevření portu brány SAP dostatečná.</span><span class="sxs-lookup"><span data-stu-id="55a46-1166">Basically it is sufficient to open the SAP gateway port.</span></span>

| <span data-ttu-id="55a46-1167">Služba</span><span class="sxs-lookup"><span data-stu-id="55a46-1167">Service</span></span> | <span data-ttu-id="55a46-1168">Název portu</span><span class="sxs-lookup"><span data-stu-id="55a46-1168">Port Name</span></span> | <span data-ttu-id="55a46-1169">Příklad `<nn`> = 01</span><span class="sxs-lookup"><span data-stu-id="55a46-1169">Example `<nn`> = 01</span></span> | <span data-ttu-id="55a46-1170">Výchozí rozsah (min-max)</span><span class="sxs-lookup"><span data-stu-id="55a46-1170">Default Range (min-max)</span></span> | <span data-ttu-id="55a46-1171">Komentář</span><span class="sxs-lookup"><span data-stu-id="55a46-1171">Comment</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="55a46-1172">Dispečer</span><span class="sxs-lookup"><span data-stu-id="55a46-1172">Dispatcher</span></span> |<span data-ttu-id="55a46-1173">sapdp`<nn>` najdete v části *</span><span class="sxs-lookup"><span data-stu-id="55a46-1173">sapdp`<nn>` see *</span></span> |<span data-ttu-id="55a46-1174">3201</span><span class="sxs-lookup"><span data-stu-id="55a46-1174">3201</span></span> |<span data-ttu-id="55a46-1175">3200 – 3299</span><span class="sxs-lookup"><span data-stu-id="55a46-1175">3200 – 3299</span></span> |<span data-ttu-id="55a46-1176">Dispečer SAP, používá SAP grafického uživatelského rozhraní pro systém Windows a Java</span><span class="sxs-lookup"><span data-stu-id="55a46-1176">SAP Dispatcher, used by SAP GUI for Windows and Java</span></span> |
| <span data-ttu-id="55a46-1177">Server zpráv</span><span class="sxs-lookup"><span data-stu-id="55a46-1177">Message server</span></span> |<span data-ttu-id="55a46-1178">sapms`<sid`> najdete v části **</span><span class="sxs-lookup"><span data-stu-id="55a46-1178">sapms`<sid`> see **</span></span> |<span data-ttu-id="55a46-1179">3600</span><span class="sxs-lookup"><span data-stu-id="55a46-1179">3600</span></span> |<span data-ttu-id="55a46-1180">volné sapms`<anySID`></span><span class="sxs-lookup"><span data-stu-id="55a46-1180">free sapms`<anySID`></span></span> |<span data-ttu-id="55a46-1181">identifikátor SID = ID systému SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-1181">sid = SAP-System-ID</span></span> |
| <span data-ttu-id="55a46-1182">brána</span><span class="sxs-lookup"><span data-stu-id="55a46-1182">Gateway</span></span> |<span data-ttu-id="55a46-1183">sapgw`<nn`> najdete v části *</span><span class="sxs-lookup"><span data-stu-id="55a46-1183">sapgw`<nn`> see *</span></span> |<span data-ttu-id="55a46-1184">3301</span><span class="sxs-lookup"><span data-stu-id="55a46-1184">3301</span></span> |<span data-ttu-id="55a46-1185">Volné</span><span class="sxs-lookup"><span data-stu-id="55a46-1185">free</span></span> |<span data-ttu-id="55a46-1186">Bráně SAP, používá pro komunikaci CPIC a RFC</span><span class="sxs-lookup"><span data-stu-id="55a46-1186">SAP gateway, used for CPIC and RFC communication</span></span> |
| <span data-ttu-id="55a46-1187">Směrovač SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-1187">SAP router</span></span> |<span data-ttu-id="55a46-1188">sapdp99</span><span class="sxs-lookup"><span data-stu-id="55a46-1188">sapdp99</span></span> |<span data-ttu-id="55a46-1189">3299</span><span class="sxs-lookup"><span data-stu-id="55a46-1189">3299</span></span> |<span data-ttu-id="55a46-1190">Volné</span><span class="sxs-lookup"><span data-stu-id="55a46-1190">free</span></span> |<span data-ttu-id="55a46-1191">Pouze názvy služby CI (centrální instance) můžete přiřadit v /etc/services na libovolnou hodnotu po instalaci.</span><span class="sxs-lookup"><span data-stu-id="55a46-1191">Only CI (central instance) Service names can be reassigned in /etc/services to an arbitrary value after installation.</span></span> |

<span data-ttu-id="55a46-1192">*) nn = čísla Instance SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-1192">*) nn = SAP Instance Number</span></span>

<span data-ttu-id="55a46-1193">*) sid = ID systému SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-1193">**) sid = SAP-System-ID</span></span>

<span data-ttu-id="55a46-1194">Podrobnější informace o porty vyžadované pro různé SAP produkty nebo služby, na základě produktů SAP naleznete zde <http://scn.sap.com/docs/DOC-17124>.</span><span class="sxs-lookup"><span data-stu-id="55a46-1194">More detailed information on ports required for different SAP products or services by SAP products can be found here <http://scn.sap.com/docs/DOC-17124>.</span></span>
<span data-ttu-id="55a46-1195">Tento dokument je třeba v zařízení VPN, která je potřebná pro konkrétní produkty SAP a scénáře otevřít vyhrazené porty.</span><span class="sxs-lookup"><span data-stu-id="55a46-1195">With this document you should be able to open dedicated ports in the VPN device necessary for specific SAP products and scenarios.</span></span>

<span data-ttu-id="55a46-1196">Další bezpečnostní opatření při nasazení virtuálních počítačů v takovém scénáři může být k vytvoření [skupinu zabezpečení sítě] [ virtual-networks-nsg] k definování pravidel přístupu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1196">Other security measures when deploying VMs in such a scenario could be to create a [Network Security Group][virtual-networks-nsg] to define access rules.</span></span>

### <a name="dealing-with-different-virtual-machine-series"></a><span data-ttu-id="55a46-1197">Práci s jinou sérii virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="55a46-1197">Dealing with different Virtual Machine Series</span></span>
<span data-ttu-id="55a46-1198">V průběhu posledních 12 měsíců Microsoft přidat mnoho další typy virtuálních počítačů, které se liší buď v počet Vcpu, paměti nebo důležitější na hardwaru, je spuštěn na.</span><span class="sxs-lookup"><span data-stu-id="55a46-1198">In the course of last 12 months Microsoft added many more VM types that differ either in number of vCPUs, memory or more important on hardware it is running on.</span></span> <span data-ttu-id="55a46-1199">Ne všechny tyto virtuální počítače jsou podporovány v systému SAP (viz podporované typy virtuálních počítačů v Poznámka SAP [1928533]).</span><span class="sxs-lookup"><span data-stu-id="55a46-1199">Not all those VMs are supported with SAP (see supported VM types in SAP Note [1928533]).</span></span> <span data-ttu-id="55a46-1200">Některé z těchto virtuálních počítačů na jiný hostitelský hardware generace spustit.</span><span class="sxs-lookup"><span data-stu-id="55a46-1200">Some of those VMs run on different host hardware generations.</span></span> <span data-ttu-id="55a46-1201">V členitost z Azure – jednotka škálování získávání nasazených generace hardwaru tyto hostitele.</span><span class="sxs-lookup"><span data-stu-id="55a46-1201">These host hardware generations are getting deployed in the granularity of an Azure Scale-Unit.</span></span> <span data-ttu-id="55a46-1202">Mohou nastat znamená případy, kdy nelze spustit, jiné velikosti virtuálních počítačů, které jste zvolili na stejné jednotky škálování.</span><span class="sxs-lookup"><span data-stu-id="55a46-1202">Means cases may arise where the different VM sizes you chose can’t be run on the same Scale-Unit.</span></span> <span data-ttu-id="55a46-1203">Skupiny dostupnosti je omezené možnosti span jednotek škálování závislosti na jiný hardware.</span><span class="sxs-lookup"><span data-stu-id="55a46-1203">An Availability Set is limited in the ability to span Scale-Units based of different hardware.</span></span>  <span data-ttu-id="55a46-1204">Například pokud chcete spustit databázového systému na virtuální počítače A5 A11 a aplikační vrstvu SAP na virtuálních počítačích G-Series, můžete by se vynutilo nasazení jednoho systému SAP nebo jiné systémy SAP v rámci jiné skupiny dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="55a46-1204">For example if you want to run the DBMS on A5-A11 VMs and the SAP application layer on G-Series VMs, you would be forced to deploy a single SAP system or different SAP systems within different Availability Sets.</span></span>

#### <a name="printing-on-a-local-network-printer-from-sap-instance-in-azure"></a><span data-ttu-id="55a46-1205">Tisk na místní síťové tiskárny z instance SAP v Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-1205">Printing on a local network printer from SAP instance in Azure</span></span>
##### <a name="printing-over-tcpip-in-cross-premises-scenario"></a><span data-ttu-id="55a46-1206">Tisk přes TCP/IP v napříč místním a externím</span><span class="sxs-lookup"><span data-stu-id="55a46-1206">Printing over TCP/IP in Cross-Premises scenario</span></span>
<span data-ttu-id="55a46-1207">Nastavení místní síťové tiskárny TCP/IP na základě virtuální počítač Azure se celkové stejné jako v podnikové síti, za předpokladu, že máte tunelové propojení VPN typu Site-To-Site nebo připojením ExpressRoute vytvořeno.</span><span class="sxs-lookup"><span data-stu-id="55a46-1207">Setting up your on-premises TCP/IP based network printers in an Azure VM is overall the same as in your corporate network, assuming you do have a VPN Site-To-Site tunnel or ExpressRoute connection established.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-1209">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-1209">Windows</span></span>
>
> <span data-ttu-id="55a46-1210">Použijte následující postup:</span><span class="sxs-lookup"><span data-stu-id="55a46-1210">To do this:</span></span>
>
> * <span data-ttu-id="55a46-1211">Některé síťové tiskárny jsou součástí konfigurace průvodce, který usnadňuje nastavení tiskárny virtuální počítač Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1211">Some network printers come with a configuration wizard which makes it easy to set up your printer in an Azure VM.</span></span> <span data-ttu-id="55a46-1212">Pokud žádný takový software Průvodce byl distribuován s tiskárnou "manuální" způsob, jak nastavit tiskárny je vytvořit nový port tiskárny TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1212">If no wizard software has been distributed with the printer the “manual” way to set up the printer is to create a new TCP/IP printer port.</span></span>
> * <span data-ttu-id="55a46-1213">Otevřete ovládací panely -> zařízení a tiskárny -> Přidat tiskárnu</span><span class="sxs-lookup"><span data-stu-id="55a46-1213">Open Control Panel -> Devices and Printers -> Add a printer</span></span>
> * <span data-ttu-id="55a46-1214">Zvolte možnost Přidat tiskárnu pomocí adresy protokolu TCP/IP nebo název hostitele</span><span class="sxs-lookup"><span data-stu-id="55a46-1214">Choose Add a printer using a TCP/IP address or hostname</span></span>
> * <span data-ttu-id="55a46-1215">Zadejte IP adresu tiskárny</span><span class="sxs-lookup"><span data-stu-id="55a46-1215">Type in the IP address of the printer</span></span>
> * <span data-ttu-id="55a46-1216">Port tiskárny standardní 9100</span><span class="sxs-lookup"><span data-stu-id="55a46-1216">Printer Port standard 9100</span></span>
> * <span data-ttu-id="55a46-1217">V případě potřeby nainstalujte příslušný ovladač tiskárny ručně.</span><span class="sxs-lookup"><span data-stu-id="55a46-1217">If necessary install the appropriate printer driver manually.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-1219">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-1219">Linux</span></span>
>
> * <span data-ttu-id="55a46-1220">pro Windows jenom postupujte jako standardní postup instalace síťové tiskárny</span><span class="sxs-lookup"><span data-stu-id="55a46-1220">like for Windows just follow the standard procedure to install a network printer</span></span>
> * <span data-ttu-id="55a46-1221">postupujte podle veřejné Linux příručky pro [SUSE](https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_y2_hw_print.html) nebo [Red Hat a Oracle Linux](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sec-Printer_Configuration.html) o tom, jak přidat tiskárnu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1221">just follow the public Linux guides for [SUSE](https://www.suse.com/documentation/sles-12/book_sle_deployment/data/sec_y2_hw_print.html) or [Red Hat and Oracle Linux](https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Deployment_Guide/sec-Printer_Configuration.html) on how to add a printer.</span></span>
>
>

- - -
![Tisk v síti][planning-guide-figure-2200]

##### <a name="host-based-printer-over-smb-shared-printer-in-cross-premises-scenario"></a><span data-ttu-id="55a46-1223">Na hostiteli tiskárnu přes protokol SMB (sdílené tiskárny) mezi různými místy scénář</span><span class="sxs-lookup"><span data-stu-id="55a46-1223">Host-based printer over SMB (shared printer) in Cross-Premises scenario</span></span>
<span data-ttu-id="55a46-1224">Tiskárny na hostiteli nejsou kompatibilní sítě záměrné.</span><span class="sxs-lookup"><span data-stu-id="55a46-1224">Host-based printers are not network-compatible by design.</span></span> <span data-ttu-id="55a46-1225">Ale tiskárnu založené na hostiteli může být sdílen počítače v síti, dokud je tiskárna připojených k počítači používá technologii na.</span><span class="sxs-lookup"><span data-stu-id="55a46-1225">But a host-based printer can be shared among computers on a network as long as the printer is connected to a powered-on computer.</span></span> <span data-ttu-id="55a46-1226">Připojení k vaší podnikové sítě Site-To-Site nebo ExpressRoute a sdílet místní tiskárny.</span><span class="sxs-lookup"><span data-stu-id="55a46-1226">Connect your corporate network either Site-To-Site or ExpressRoute and share your local printer.</span></span> <span data-ttu-id="55a46-1227">Protokol SMB pro rozhraní NetBIOS místo DNS používá jako název služby.</span><span class="sxs-lookup"><span data-stu-id="55a46-1227">The SMB protocol uses NetBIOS instead of DNS as name service.</span></span> <span data-ttu-id="55a46-1228">Název hostitele rozhraní NetBIOS se může lišit od název hostitele DNS.</span><span class="sxs-lookup"><span data-stu-id="55a46-1228">The NetBIOS host name can be different from the DNS host name.</span></span> <span data-ttu-id="55a46-1229">Standardní případem je, že název hostitele rozhraní NetBIOS a název hostitele DNS jsou identické.</span><span class="sxs-lookup"><span data-stu-id="55a46-1229">The standard case is that the NetBIOS host name and the DNS host name are identical.</span></span> <span data-ttu-id="55a46-1230">Doména DNS nemá smysl v oboru názvů pro rozhraní NetBIOS.</span><span class="sxs-lookup"><span data-stu-id="55a46-1230">The DNS domain does not make sense in the NetBIOS name space.</span></span> <span data-ttu-id="55a46-1231">Podle toho název hostitele DNS a doména DNS plně kvalifikovaný název hostitele DNS se nesmí používat v oboru názvů pro rozhraní NetBIOS.</span><span class="sxs-lookup"><span data-stu-id="55a46-1231">Accordingly, the fully qualified DNS host name consisting of the DNS host name and DNS domain must not be used in the NetBIOS name space.</span></span>

<span data-ttu-id="55a46-1232">Sdílené tiskárny je identifikována jedinečný název v síti:</span><span class="sxs-lookup"><span data-stu-id="55a46-1232">The printer share is identified by a unique name in the network:</span></span>

* <span data-ttu-id="55a46-1233">Název hostitele protokolu SMB (vždycky potřeboval).</span><span class="sxs-lookup"><span data-stu-id="55a46-1233">Host name of the SMB host (always needed).</span></span>
* <span data-ttu-id="55a46-1234">Název sdílené složky (vždycky potřeboval).</span><span class="sxs-lookup"><span data-stu-id="55a46-1234">Name of the share (always needed).</span></span>
* <span data-ttu-id="55a46-1235">Název domény, pokud sdílená složka tiskárny není ve stejné doméně jako systém SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1235">Name of the domain if printer share is not in the same domain as SAP system.</span></span>
* <span data-ttu-id="55a46-1236">Kromě toho uživatelské jméno a heslo může být nutné přístup do sdílené složky tiskárny.</span><span class="sxs-lookup"><span data-stu-id="55a46-1236">Additionally, a user name and a password may be required to access the printer share.</span></span>

<span data-ttu-id="55a46-1237">Postup:</span><span class="sxs-lookup"><span data-stu-id="55a46-1237">How to:</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-1239">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-1239">Windows</span></span>
>
> <span data-ttu-id="55a46-1240">Sdílet místní tiskárny.</span><span class="sxs-lookup"><span data-stu-id="55a46-1240">Share your local printer.</span></span>
> <span data-ttu-id="55a46-1241">Ve virtuálním počítači Azure otevřete Průzkumníka Windows a zadejte název sdílené složky tiskárny.</span><span class="sxs-lookup"><span data-stu-id="55a46-1241">In the Azure VM, open the Windows Explorer and type in the share name of the printer.</span></span>
> <span data-ttu-id="55a46-1242">Průvodce instalací tiskárny vás provede procesem instalace.</span><span class="sxs-lookup"><span data-stu-id="55a46-1242">A printer installation wizard will guide you through the installation process.</span></span>
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-1244">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-1244">Linux</span></span>
>
> <span data-ttu-id="55a46-1245">Zde jsou některé příklady dokumentaci o konfiguraci síťové tiskárny v systému Linux nebo včetně kapitola ohledně tisku v systému Linux.</span><span class="sxs-lookup"><span data-stu-id="55a46-1245">Here are some examples of documentation about configuring network printers in Linux or including a chapter regarding printing in Linux.</span></span> <span data-ttu-id="55a46-1246">Bude možné používat stejným způsobem jako virtuální počítač Azure Linux tak dlouho, dokud virtuální počítač je součástí sítě VPN:</span><span class="sxs-lookup"><span data-stu-id="55a46-1246">It will work the same way in an Azure Linux VM as long as the VM is part of a VPN:</span></span>
>
> * <span data-ttu-id="55a46-1247">SLES <_Share_or_Windows_Share https://en.opensuse.org/SDB:Printing_via_SMB_ (Samba)></span><span class="sxs-lookup"><span data-stu-id="55a46-1247">SLES <https://en.opensuse.org/SDB:Printing_via_SMB_(Samba)_Share_or_Windows_Share></span></span>
> * <span data-ttu-id="55a46-1248">RHEL nebo Oracle Linux <https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sec-Printer_Configuration.html#s1-printing-smb-printer></span><span class="sxs-lookup"><span data-stu-id="55a46-1248">RHEL or Oracle Linux <https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/sec-Printer_Configuration.html#s1-printing-smb-printer></span></span>
>
>

- - -
##### <a name="usb-printer-printer-forwarding"></a><span data-ttu-id="55a46-1249">Tiskárny USB (přesměrování tiskárny)</span><span class="sxs-lookup"><span data-stu-id="55a46-1249">USB Printer (printer forwarding)</span></span>
<span data-ttu-id="55a46-1250">V Azure schopnost služby Vzdálená plocha uživatelům poskytnout přístup ke svým zařízením místní tiskárnu ve vzdálené relaci není k dispozici.</span><span class="sxs-lookup"><span data-stu-id="55a46-1250">In Azure the ability of the Remote Desktop Services to provide users the access to their local printer devices in a remote session is not available.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-1252">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-1252">Windows</span></span>
>
> <span data-ttu-id="55a46-1253">Další informace o tisk se systémem Windows naleznete zde: <http://technet.microsoft.com/library/jj590748.aspx>.</span><span class="sxs-lookup"><span data-stu-id="55a46-1253">More details on printing with Windows can be found here: <http://technet.microsoft.com/library/jj590748.aspx>.</span></span>
>
>

- - -
#### <a name="integration-of-sap-azure-systems-into-correction-and-transport-system-tms-in-cross-premises"></a><span data-ttu-id="55a46-1254">Integrace SAP Azure systémů do oprava a systému pro přenos (TMS) v mezi různými místy</span><span class="sxs-lookup"><span data-stu-id="55a46-1254">Integration of SAP Azure Systems into Correction and Transport System (TMS) in Cross-Premises</span></span>
<span data-ttu-id="55a46-1255">SAP změn a přenosu systému (TMS) musí být nakonfigurován pro export a import žádost o přenos mezi systémy v povahu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1255">The SAP Change and Transport System (TMS) needs to be configured to export and import transport request across systems in the landscape.</span></span> <span data-ttu-id="55a46-1256">Předpokládáme, že instance vývoj systému SAP (vývoj) nacházejí v Azure, zatímco kvality zajištění kvality a produktivitu systémy (PRD) jsou místní.</span><span class="sxs-lookup"><span data-stu-id="55a46-1256">We assume that the development instances of an SAP system (DEV) are located in Azure whereas the quality assurance (QA) and productive systems (PRD) are on-premises.</span></span> <span data-ttu-id="55a46-1257">Kromě toho předpokládáme, že existuje adresář centrální přenosu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1257">Furthermore, we assume that there is a central transport directory.</span></span>

##### <a name="configuring-the-transport-domain"></a><span data-ttu-id="55a46-1258">Konfigurace domény přenosu</span><span class="sxs-lookup"><span data-stu-id="55a46-1258">Configuring the Transport Domain</span></span>
<span data-ttu-id="55a46-1259">Nakonfigurujte doménu přenosu systému, který jste určili jako řadič domény přenosu, jak je popsáno v [konfigurací řadiče domény přenos](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm).</span><span class="sxs-lookup"><span data-stu-id="55a46-1259">Configure your Transport Domain on the system you designated as the Transport Domain Controller as described in [Configuring the Transport Domain Controller](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm).</span></span> <span data-ttu-id="55a46-1260">Systémový uživatel, bude vytvořen TMSADM a požadovaný cíl RFC se budou generovat.</span><span class="sxs-lookup"><span data-stu-id="55a46-1260">A system user TMSADM will be created and the required RFC destination will be generated.</span></span> <span data-ttu-id="55a46-1261">Tato připojení RFC pomocí transakce SM59 může zkontrolovat.</span><span class="sxs-lookup"><span data-stu-id="55a46-1261">You may check these RFC connections using the transaction SM59.</span></span> <span data-ttu-id="55a46-1262">Rozlišení názvů hostitelů musí být povolena napříč doménu přenosu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1262">Hostname resolution must be enabled across your transport domain.</span></span>

<span data-ttu-id="55a46-1263">Postup:</span><span class="sxs-lookup"><span data-stu-id="55a46-1263">How to:</span></span>

* <span data-ttu-id="55a46-1264">V tomto scénáři jsme se rozhodli, že v místním systému QAS bude CTS řadič domény.</span><span class="sxs-lookup"><span data-stu-id="55a46-1264">In our scenario we decided the on-premises QAS system will be the CTS domain controller.</span></span> <span data-ttu-id="55a46-1265">Volání transakce moduly STM.</span><span class="sxs-lookup"><span data-stu-id="55a46-1265">Call transaction STMS.</span></span> <span data-ttu-id="55a46-1266">Zobrazí se dialogové okno TMS.</span><span class="sxs-lookup"><span data-stu-id="55a46-1266">The TMS dialog box appears.</span></span> <span data-ttu-id="55a46-1267">Zobrazí se dialogové okno Konfigurace domény přenosu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1267">A Configure Transport Domain dialog box is displayed.</span></span> <span data-ttu-id="55a46-1268">(Toto dialogové okno se zobrazí pouze pokud jste ještě nenakonfigurovali přenosu domény.)</span><span class="sxs-lookup"><span data-stu-id="55a46-1268">(This dialog box only appears if you have not yet configured a transport domain.)</span></span>
* <span data-ttu-id="55a46-1269">Ujistěte se, že se oprávnění automaticky vytvořený uživatel TMSADM (SM59 -> ABAP připojení -> TMSADM@E61.DOMAIN_E61 -> Podrobnosti o -> Utilities(M) -> autorizace Test).</span><span class="sxs-lookup"><span data-stu-id="55a46-1269">Make sure that the automatically created user TMSADM is authorized (SM59 -> ABAP Connection -> TMSADM@E61.DOMAIN_E61 -> Details -> Utilities(M) -> Authorization Test).</span></span> <span data-ttu-id="55a46-1270">Úvodní obrazovka transakce moduly STM by měl zobrazit, že tento systém SAP teď funguje jako řadič domény přenosu jak je vidět tady:</span><span class="sxs-lookup"><span data-stu-id="55a46-1270">The initial screen of transaction STMS should show that this SAP System is now functioning as the controller of the transport domain as shown here:</span></span>

![Úvodní obrazovka transakce moduly STM na řadiči domény][planning-guide-figure-2300]

#### <a name="including-sap-systems-in-the-transport-domain"></a><span data-ttu-id="55a46-1272">Včetně SAP systémy v doméně přenosu</span><span class="sxs-lookup"><span data-stu-id="55a46-1272">Including SAP Systems in the Transport Domain</span></span>
<span data-ttu-id="55a46-1273">Pořadí včetně systému SAP v doméně přenosu vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="55a46-1273">The sequence of including an SAP system in a transport domain looks as follows:</span></span>

* <span data-ttu-id="55a46-1274">V systému Vývojářů v Azure přejděte do systému pro přenos (klient 000) a volání transakce moduly STM.</span><span class="sxs-lookup"><span data-stu-id="55a46-1274">On the DEV system in Azure, go to the transport system (Client 000) and call transaction STMS.</span></span> <span data-ttu-id="55a46-1275">Vyberte další konfiguraci z dialogového okna a pokračujte zahrnují systému v doméně.</span><span class="sxs-lookup"><span data-stu-id="55a46-1275">Choose Other Configuration from the dialog box and continue with Include System in Domain.</span></span> <span data-ttu-id="55a46-1276">Zadejte řadič domény jako cílový hostitel ([včetně SAP systémy v doméně přenosu](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0c17acc11d1899e0000e829fbbd/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm)).</span><span class="sxs-lookup"><span data-stu-id="55a46-1276">Specify the Domain Controller as target host ([Including SAP Systems in the Transport Domain](http://help.sap.com/erp2005_ehp_04/helpdata/en/44/b4a0c17acc11d1899e0000e829fbbd/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm)).</span></span> <span data-ttu-id="55a46-1277">Systém čeká nyní mají být zahrnuty v doméně přenosu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1277">The system is now waiting to be included in the transport domain.</span></span>
* <span data-ttu-id="55a46-1278">Z bezpečnostních důvodů budete muset poté přejděte zpět na řadiči domény, aby žádost potvrdit.</span><span class="sxs-lookup"><span data-stu-id="55a46-1278">For security reasons, you then have to go back to the domain controller to confirm your request.</span></span> <span data-ttu-id="55a46-1279">Zvolte Přehled systému a schválit čekání systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-1279">Choose System Overview and Approve of the waiting system.</span></span> <span data-ttu-id="55a46-1280">Potvrďte, řádku a konfigurace budou distribuována.</span><span class="sxs-lookup"><span data-stu-id="55a46-1280">Then confirm the prompt and the configuration will be distributed.</span></span>

<span data-ttu-id="55a46-1281">Tento systém SAP nyní obsahuje nezbytné informace o všechny ostatní systémy SAP v doméně přenosu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1281">This SAP system now contains the necessary information about all the other SAP systems in the transport domain.</span></span> <span data-ttu-id="55a46-1282">Ve stejnou dobu data adresu nového systému SAP se odesílají na všechny ostatní systémy SAP a je v systému SAP zadali v profilu přenosu programu řízení přenosu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1282">At the same time, the address data of the new SAP system is sent to all the other SAP systems, and the SAP system is entered in the transport profile of the transport control program.</span></span> <span data-ttu-id="55a46-1283">Zkontrolujte, zda dokumenty RFC a přístup k adresáři přenosu domény fungovat.</span><span class="sxs-lookup"><span data-stu-id="55a46-1283">Check whether RFCs and access to the transport directory of the domain work.</span></span>

<span data-ttu-id="55a46-1284">Pokračovat v konfiguraci vašeho systému přenosu obvyklým, jak je popsáno v dokumentaci k [změn a systému pro přenos](http://help.sap.com/saphelp_nw70ehp3/helpdata/en/48/c4300fca5d581ce10000000a42189c/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm).</span><span class="sxs-lookup"><span data-stu-id="55a46-1284">Continue with the configuration of your transport system as usual as described in the documentation [Change and Transport System](http://help.sap.com/saphelp_nw70ehp3/helpdata/en/48/c4300fca5d581ce10000000a42189c/content.htm?frameset=/en/44/b4a0b47acc11d1899e0000e829fbbd/frameset.htm).</span></span>

<span data-ttu-id="55a46-1285">Postup:</span><span class="sxs-lookup"><span data-stu-id="55a46-1285">How to:</span></span>

* <span data-ttu-id="55a46-1286">Ujistěte se, zda že je správně nakonfigurována vaše moduly STM místně.</span><span class="sxs-lookup"><span data-stu-id="55a46-1286">Make sure your STMS on premises is configured correctly.</span></span>
* <span data-ttu-id="55a46-1287">Ujistěte se, že název hostitele řadiče domény, přenos se dají vyřešit virtuálního počítače na karet visa Azure a naopak.</span><span class="sxs-lookup"><span data-stu-id="55a46-1287">Make sure the hostname of the Transport Domain Controller can be resolved by your virtual machine on Azure and vice visa.</span></span>
* <span data-ttu-id="55a46-1288">Volání transakce moduly STM -> Další konfigurace -> zahrnují systému v doméně.</span><span class="sxs-lookup"><span data-stu-id="55a46-1288">Call transaction STMS -> Other Configuration -> Include System in Domain.</span></span>
* <span data-ttu-id="55a46-1289">Zkontrolujte připojení v na místním TMS systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-1289">Confirm the connection in the on premises TMS system.</span></span>
* <span data-ttu-id="55a46-1290">Nakonfigurujte směrování přenosu, skupiny a vrstvy jako obvykle.</span><span class="sxs-lookup"><span data-stu-id="55a46-1290">Configure transport routes, groups and layers as usual.</span></span>

<span data-ttu-id="55a46-1291">V připojených site-to-site mezi různými místy scénáře, latenci mezi místními a Azure stále může být výrazně.</span><span class="sxs-lookup"><span data-stu-id="55a46-1291">In site-to-site connected cross-premises scenarios, the latency between on-premises and Azure still can be substantial.</span></span> <span data-ttu-id="55a46-1292">Pokud jsme postupujte podle pořadí převod objekty prostřednictvím vývoj a testování systémů do produkčního prostředí nebo myslíte o použití přenosy nebo podpůrných balíčků na jiné systémy, zjistíte, že, závisí na umístění adresáře centrální přenosu, některé z systémů se setkají vysokou latencí čtení nebo zápis dat v adresáři centrální přenosu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1292">If we follow the sequence of transporting objects through development and test systems to production or think about applying transports or support packages to the different systems, you realize that, dependent on the location of the central transport directory, some of the systems will encounter high latency reading or writing data in the central transport directory.</span></span> <span data-ttu-id="55a46-1293">Situaci je podobná SAP šířku konfigurace, kde se šíří různými systémy prostřednictvím různých datových střediscích s dlouhou vzdálenost mezi datovými centry.</span><span class="sxs-lookup"><span data-stu-id="55a46-1293">The situation is similar to SAP landscape configurations where the different systems are spread through different data centers with substantial distance between the data centers.</span></span>

<span data-ttu-id="55a46-1294">Chcete-li vyřešit tyto latence a mají systémy fungovat Rychlé čtení nebo zápisu do nebo z adresáře přenosu, můžete nastavit dvěma doménami přenosu moduly STM (jeden pro místní a jeden systémech v Azure a propojit domén přenosu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1294">In order to work around such latency and have the systems work fast in reading or writing to or from the transport directory, you can set up two STMS transport domains (one for on-premises and one with the systems in Azure and link the transport domains.</span></span> <span data-ttu-id="55a46-1295">Zkontrolujte prosím tuto dokumentaci, která vysvětluje principy za tento koncept v SAP TMS: <http://help.sap.com/saphelp_me60/helpdata/en/c4/6045377b52253de10000009b38f889/content.htm?frameset=/en/57/38dd924eb711d182bf0000e829fbfe/frameset.htm>.</span><span class="sxs-lookup"><span data-stu-id="55a46-1295">Please check this documentation which explains the principles behind this concept in the SAP TMS: <http://help.sap.com/saphelp_me60/helpdata/en/c4/6045377b52253de10000009b38f889/content.htm?frameset=/en/57/38dd924eb711d182bf0000e829fbfe/frameset.htm>.</span></span>

<span data-ttu-id="55a46-1296">Postup:</span><span class="sxs-lookup"><span data-stu-id="55a46-1296">How to:</span></span>

* <span data-ttu-id="55a46-1297">Nastavení domény přenosu v každém umístění (místní a Azure) pomocí transakce moduly STM <http://help.sap.com/saphelp_nw70ehp3/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm></span><span class="sxs-lookup"><span data-stu-id="55a46-1297">Set up a transport domain on each location (on-premises and Azure) using transaction STMS <http://help.sap.com/saphelp_nw70ehp3/helpdata/en/44/b4a0b47acc11d1899e0000e829fbbd/content.htm></span></span>
* <span data-ttu-id="55a46-1298">Odkaz domén s odkazem domény a potvrďte propojení mezi těmito dvěma doménami.</span><span class="sxs-lookup"><span data-stu-id="55a46-1298">Link the domains with a domain link and confirm the link between the two domains.</span></span>
  <span data-ttu-id="55a46-1299"><http://help.SAP.com/saphelp_nw73ehp1/helpdata/en/a3/139838280c4f18e10000009b38f8cf/Content.htm></span><span class="sxs-lookup"><span data-stu-id="55a46-1299"><http://help.sap.com/saphelp_nw73ehp1/helpdata/en/a3/139838280c4f18e10000009b38f8cf/content.htm></span></span>
* <span data-ttu-id="55a46-1300">Distribuují konfiguraci propojené systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-1300">Distribute the configuration to the linked system.</span></span>

#### <a name="rfc-traffic-between-sap-instances-located-in-azure-and-on-premises-cross-premises"></a><span data-ttu-id="55a46-1301">RFC provoz mezi instancemi SAP, které jsou umístěné v Azure a místními (mezi různými místy)</span><span class="sxs-lookup"><span data-stu-id="55a46-1301">RFC traffic between SAP instances located in Azure and on-premises (Cross-Premises)</span></span>
<span data-ttu-id="55a46-1302">RFC provoz mezi systémy, které jsou místně a v Azure potřebuje pracovat.</span><span class="sxs-lookup"><span data-stu-id="55a46-1302">RFC traffic between systems which are on-premises and in Azure needs to work.</span></span> <span data-ttu-id="55a46-1303">Nastavit připojení transakci volání SM59 ve zdrojovém systému potřebujete-li definovat připojení k RFC směrem do cílového systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-1303">To set up a connection call transaction SM59 in a source system where you need to define an RFC connection towards the target system.</span></span> <span data-ttu-id="55a46-1304">Konfigurace je podobná standardní nastavení připojení k RFC.</span><span class="sxs-lookup"><span data-stu-id="55a46-1304">The configuration is similar to the standard setup of an RFC Connection.</span></span>

<span data-ttu-id="55a46-1305">Předpokládáme, že ve scénáři, mezi různými místy, virtuální počítače, které spuštění SAP systémy, které potřebují ke komunikaci mezi sebou jsou ve stejné doméně.</span><span class="sxs-lookup"><span data-stu-id="55a46-1305">We assume that in the cross-premises scenario, the VMs which run SAP systems that need to communicate with each other are in the same domain.</span></span> <span data-ttu-id="55a46-1306">Nastavení připojení k RFC mezi systémy SAP proto neliší od kroky instalace a vstupy ve scénářích místně.</span><span class="sxs-lookup"><span data-stu-id="55a46-1306">Therefore the setup of an RFC connection between SAP systems does not differ from the setup steps and inputs in on-premises scenarios.</span></span>

#### <a name="accessing-local-fileshares-from-sap-instances-located-in-azure-or-vice-versa"></a><span data-ttu-id="55a46-1307">Přístupem 'local' fileshares z instance SAP umístěná v Azure nebo naopak</span><span class="sxs-lookup"><span data-stu-id="55a46-1307">Accessing ‘local’ fileshares from SAP instances located in Azure or vice versa</span></span>
<span data-ttu-id="55a46-1308">Instance SAP umístěný v Azure je nutné přístup ke sdíleným složkám, které jsou v rámci podnikové místní.</span><span class="sxs-lookup"><span data-stu-id="55a46-1308">SAP instances located in Azure need to access file shares which are within the corporate premises.</span></span> <span data-ttu-id="55a46-1309">Kromě toho místní instance SAP muset přístup ke sdíleným složkám, které jsou umístěny v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1309">In addition, on-premises SAP instances need to access file shares which are located in Azure.</span></span> <span data-ttu-id="55a46-1310">Chcete-li povolit sdílené složky, musíte nakonfigurovat oprávnění a sdílení možnosti v místním systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-1310">To enable the file shares you must configure the permissions and sharing options on the local system.</span></span> <span data-ttu-id="55a46-1311">Ujistěte se, že otevřete porty pro připojení VPN nebo ExpressRoute mezi Azure a vaším datacentrem.</span><span class="sxs-lookup"><span data-stu-id="55a46-1311">Make sure to open the ports on the VPN or ExpressRoute connection between Azure and your datacenter.</span></span>

## <a name="supportability"></a><span data-ttu-id="55a46-1312">Možnosti podpory</span><span class="sxs-lookup"><span data-stu-id="55a46-1312">Supportability</span></span>
### <span data-ttu-id="55a46-1313"><a name="6f0a47f3-a289-4090-a053-2521618a28c3"></a>Azure monitorování řešení pro SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-1313"><a name="6f0a47f3-a289-4090-a053-2521618a28c3"></a>Azure Monitoring Solution for SAP</span></span>
<span data-ttu-id="55a46-1314">Chcete-li povolit monitorování zvláště důležité systémy SAP v Azure SAP monitorování nástroje SAPOSCOL nebo Agent hostitele SAP získat data z hostitele virtuálního počítače služby Azure prostřednictvím rozšíření monitorování Azure pro SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1314">In order to enable the monitoring of mission critical SAP systems on Azure the SAP monitoring tools SAPOSCOL or SAP Host Agent get data off the Azure Virtual Machine Service host via an Azure Monitoring Extension for SAP.</span></span> <span data-ttu-id="55a46-1315">Vzhledem k tomu, že požadavky pomocí SAP měla velmi specifické pro aplikace SAP, Microsoft rozhodla obecně implementovat požadovanou funkčnost do Azure, ale ponechte zákazníci nasazení komponenty potřebné monitorování a konfigurací pro své virtuální počítače spuštěné v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1315">Since the demands by SAP were very specific to SAP applications, Microsoft decided not to generically implement the required functionality into Azure, but leave it for customers to deploy the necessary monitoring components and configurations to their Virtual Machines running in Azure.</span></span> <span data-ttu-id="55a46-1316">Nasazení a životního cyklu správy monitorování součástí však bude možné většinou automatizovat, Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1316">However, deployment and lifecycle management of the monitoring components will be mostly automated by Azure.</span></span>

#### <a name="solution-design"></a><span data-ttu-id="55a46-1317">Návrh řešení</span><span class="sxs-lookup"><span data-stu-id="55a46-1317">Solution design</span></span>
<span data-ttu-id="55a46-1318">Řešení vyvinuté tak, aby povolit SAP monitorování je založen na architektuře agenta virtuálního počítače Azure a rámce pro rozšíření.</span><span class="sxs-lookup"><span data-stu-id="55a46-1318">The solution developed to enable SAP Monitoring is based on the architecture of Azure VM Agent and Extension framework.</span></span> <span data-ttu-id="55a46-1319">Rada agenta virtuálního počítače Azure a rozšíření rámce je povolit instalaci softwaru aplikace k dispozici v galerii rozšíření virtuálního počítače Azure v rámci virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-1319">The idea of the Azure VM Agent and Extension framework is to allow installation of software application(s) available in the Azure VM Extension gallery within a VM.</span></span> <span data-ttu-id="55a46-1320">Princip myšlenkou tento koncept je umožnit (v takových případech rozšíření monitorování Azure pro SAP), nasazení speciální funkce do virtuálního počítače a konfigurace takový software v době nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-1320">The principle idea behind this concept is to allow (in cases like the Azure Monitoring Extension for SAP), the deployment of special functionality into a VM and the configuration of such software at deployment time.</span></span>

<span data-ttu-id="55a46-1321">'Azure agenta virtuálního počítače, umožňující zpracování konkrétní rozšíření virtuálního počítače Azure v rámci virtuálního počítače je vsunout do virtuálních počítačů Windows ve výchozím nastavení při vytváření virtuálního počítače na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1321">The 'Azure VM Agent' that enables handling of specific Azure VM Extensions within the VM is injected into Windows VMs by default on VM creation in the Azure portal.</span></span> <span data-ttu-id="55a46-1322">V případě SUSE, Red Hat nebo Oracle Linux agent virtuálního počítače je již součástí bitové kopie Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="55a46-1322">In case of SUSE, Red Hat or Oracle Linux, the VM agent is already part of the Azure Marketplace image.</span></span> <span data-ttu-id="55a46-1323">V případě, že jeden by nahrát virtuální počítač s Linuxem z místního do Azure agenta virtuálního počítače musí být nainstalován ručně.</span><span class="sxs-lookup"><span data-stu-id="55a46-1323">In case one would upload a Linux VM from on-premises to Azure the VM agent has to be installed manually.</span></span>

<span data-ttu-id="55a46-1324">Základní stavební bloky řešení monitorování v Azure pro SAP vypadá jako tento:</span><span class="sxs-lookup"><span data-stu-id="55a46-1324">The basic building blocks of the Monitoring solution in Azure for SAP looks like this:</span></span>

![Součástí rozšíření Microsoft Azure][planning-guide-figure-2400]

<span data-ttu-id="55a46-1326">Jak je vidět ve výše uvedeném diagramu bloku, je jednou ze součástí sady řešení monitorování pro SAP hostitelem Image virtuálního počítače Azure a Azure Galerie rozšíření, která je globálně replikované úložiště, který je spravován nástrojem Azure Operations.</span><span class="sxs-lookup"><span data-stu-id="55a46-1326">As shown in the block diagram above, one part of the monitoring solution for SAP is hosted in the Azure VM Image and Azure Extension Gallery which is a globally replicated repository that is managed by Azure Operations.</span></span> <span data-ttu-id="55a46-1327">Je zodpovědností týmem společné SAP/MS pracující na Azure implementace SAP pro práci s Azure operace publikování nové verze rozšíření monitorování Azure pro SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1327">It is the responsibility of the joint SAP/MS team working on the Azure implementation of SAP to work with Azure Operations to publish new versions of the Azure Monitoring Extension for SAP.</span></span>

<span data-ttu-id="55a46-1328">Když nasadíte nový virtuální počítač s Windows, Agent virtuálního počítače Azure se automaticky přidá do virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-1328">When you deploy a new Windows VM, the ‘Azure VM Agent’ is automatically added into the VM.</span></span> <span data-ttu-id="55a46-1329">Funkce tohoto agenta je ke koordinaci načítání a konfiguraci rozšíření Azure pro sledování systému SAP NetWeaver.</span><span class="sxs-lookup"><span data-stu-id="55a46-1329">The function of this agent is to coordinate the loading and configuration of the Azure Extensions for monitoring of SAP NetWeaver Systems.</span></span> <span data-ttu-id="55a46-1330">Pro virtuální počítače s Linuxem agenta virtuálního počítače Azure je již součástí bitové kopie operačního systému Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="55a46-1330">For Linux VMs the Azure VM Agent is already part of the Azure Marketplace OS image.</span></span>

<span data-ttu-id="55a46-1331">Je však stále je třeba provést zákazník krok.</span><span class="sxs-lookup"><span data-stu-id="55a46-1331">However, there is a step that still needs to be executed by the customer.</span></span> <span data-ttu-id="55a46-1332">Jedná se o povolování a konfiguraci kolekce výkonu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1332">This is the enablement and configuration of the performance collection.</span></span> <span data-ttu-id="55a46-1333">Proces související s konfigurací je automatizováno pomocí skriptu prostředí PowerShell nebo rozhraní příkazového řádku příkaz.</span><span class="sxs-lookup"><span data-stu-id="55a46-1333">The process related to the ‘configuration’ is automated by a PowerShell script or CLI command.</span></span> <span data-ttu-id="55a46-1334">Skript prostředí PowerShell můžete stáhnout na webu Microsoft Script Center Azure, jak je popsáno v [Průvodce nasazením][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-1334">The PowerShell script can be downloaded in the Microsoft Azure Script Center as described in the [Deployment Guide][deployment-guide].</span></span>

<span data-ttu-id="55a46-1335">Přehled architektury řešení Azure monitorování pro SAP vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="55a46-1335">The overall Architecture of the Azure monitoring solution for SAP looks like:</span></span>

![Řešení monitorování pro SAP NetWeaver Azure][planning-guide-figure-2500]

<span data-ttu-id="55a46-1337">**Přesný postup a podrobný postup pomocí těchto rutin prostředí PowerShell nebo rozhraní příkazového řádku příkaz během nasazení, postupujte podle pokynů v [Průvodce nasazením][deployment-guide].**</span><span class="sxs-lookup"><span data-stu-id="55a46-1337">**For the exact how-to and for detailed steps of using these PowerShell cmdlets or CLI command during deployments, follow the instructions given in the [Deployment Guide][deployment-guide].**</span></span>

### <a name="integration-of-azure-located-sap-instance-into-saprouter"></a><span data-ttu-id="55a46-1338">Integrace Azure nachází instance SAP do SAProuter</span><span class="sxs-lookup"><span data-stu-id="55a46-1338">Integration of Azure located SAP instance into SAProuter</span></span>
<span data-ttu-id="55a46-1339">Instance SAP běžící v Azure musí být také dostupný z SAProuter.</span><span class="sxs-lookup"><span data-stu-id="55a46-1339">SAP instances running in Azure need to be accessible from SAProuter as well.</span></span>

![Připojení k síti SAP-směrovač][planning-guide-figure-2600]

<span data-ttu-id="55a46-1341">SAProuter umožňuje komunikaci TCP/IP mezi zúčastněné systémy, pokud neexistuje žádné přímé připojení IP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1341">A SAProuter enables the TCP/IP communication between participating systems if there is no direct IP connection.</span></span> <span data-ttu-id="55a46-1342">To poskytuje výhodu, že žádné připojení klient server mezi partnery komunikace je nutné na úrovni sítě.</span><span class="sxs-lookup"><span data-stu-id="55a46-1342">This provides the advantage that no end-to-end connection between the communication partners is necessary on network level.</span></span> <span data-ttu-id="55a46-1343">SAProuter naslouchá na portu 3299 ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="55a46-1343">The SAProuter is listening on port 3299 by default.</span></span>
<span data-ttu-id="55a46-1344">Chcete-li připojení instance SAP přes SAProuter dejte název SAProuter řetězec a hostitele s pokusy o připojení.</span><span class="sxs-lookup"><span data-stu-id="55a46-1344">To connect SAP instances through a SAProuter you need to give the SAProuter string and host name with any attempt to connect.</span></span>

## <a name="sap-netweaver-as-java"></a><span data-ttu-id="55a46-1345">SAP NetWeaver AS Java</span><span class="sxs-lookup"><span data-stu-id="55a46-1345">SAP NetWeaver AS Java</span></span>
<span data-ttu-id="55a46-1346">Dosavadní fokus dokument byl SAP NetWeaver obecně nebo SAP NetWeaver ABAP zásobníku.</span><span class="sxs-lookup"><span data-stu-id="55a46-1346">So far the focus of the document has been SAP NetWeaver in general or the SAP NetWeaver ABAP stack.</span></span> <span data-ttu-id="55a46-1347">V této části malé jsou uvedeny konkrétní důležité informace týkající se zásobníku SAP Java.</span><span class="sxs-lookup"><span data-stu-id="55a46-1347">In this small section, specific considerations for the SAP Java stack are listed.</span></span> <span data-ttu-id="55a46-1348">Jedním z nejdůležitějších aplikací Java SAP NetWeaver výhradně na základě je SAP podnikovém portálu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1348">One of the most important SAP NetWeaver Java exclusively based applications is the SAP Enterprise Portal.</span></span> <span data-ttu-id="55a46-1349">Další SAP NetWeaver na základě aplikací, jako SAP platformy a správce řešení SAP použít SAP NetWeaver ABAP i zásobníky Java.</span><span class="sxs-lookup"><span data-stu-id="55a46-1349">Other SAP NetWeaver based applications like SAP PI and SAP Solution Manager use both the SAP NetWeaver ABAP and Java stacks.</span></span> <span data-ttu-id="55a46-1350">Proto určitě je potřeba vzít v úvahu zvláštní aspekty související se zásobníkem SAP NetWeaver Java také.</span><span class="sxs-lookup"><span data-stu-id="55a46-1350">Therefore, there certainly is a need to consider specific aspects related to the SAP NetWeaver Java stack as well.</span></span>

### <a name="sap-enterprise-portal"></a><span data-ttu-id="55a46-1351">SAP podnikového portálu</span><span class="sxs-lookup"><span data-stu-id="55a46-1351">SAP Enterprise Portal</span></span>
<span data-ttu-id="55a46-1352">Instalační program portálu SAP v virtuální počítač Azure se neliší od na místní instalace, pokud nasazujete ve scénářích mezi různými místy.</span><span class="sxs-lookup"><span data-stu-id="55a46-1352">The setup of an SAP Portal in an Azure Virtual Machine does not differ from an on premises installation if you are deploying in cross-premises scenarios.</span></span> <span data-ttu-id="55a46-1353">Vzhledem k tomu, že DNS se provádí na místě, nastavení portu jednotlivých instancí lze provést jako nakonfigurované na místě.</span><span class="sxs-lookup"><span data-stu-id="55a46-1353">Since the DNS is done by on-premises, the port settings of the individual instances can be done as configured on-premises.</span></span> <span data-ttu-id="55a46-1354">Doporučení a omezení popsaná v tomto dokumentu, pokud platí pro aplikaci jako SAP podnikový portál nebo zásobníku SAP NetWeaver Java obecně.</span><span class="sxs-lookup"><span data-stu-id="55a46-1354">The recommendations and restrictions described in this document so far apply for an application like SAP Enterprise Portal or the SAP NetWeaver Java stack in general.</span></span>

![Portál zveřejněné SAP][planning-guide-figure-2700]

<span data-ttu-id="55a46-1356">Scénář speciální nasazení podle někteří zákazníci je přímé expozice podnikový portál SAP k Internetu, zatímco hostitel virtuálního počítače je připojený k podnikové síti prostřednictvím tunelu site-to-site VPN nebo ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="55a46-1356">A special deployment scenario by some customers is the direct exposure of the SAP Enterprise Portal to the Internet while the virtual machine host is connected to the company network via site-to-site VPN tunnel or ExpressRoute.</span></span> <span data-ttu-id="55a46-1357">Pro tento případ budete muset Ujistěte se, že určité porty jsou otevřené a není blokován bránou firewall nebo skupiny zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="55a46-1357">For such a scenario, you have to make sure that specific ports are open and not blocked by firewall or network security group.</span></span> <span data-ttu-id="55a46-1358">Stejné mechanismy by musela být použita, pokud se chcete připojit k instanci SAP Java z místního ve scénáři jenom pro Cloud.</span><span class="sxs-lookup"><span data-stu-id="55a46-1358">The same mechanics would need to be applied when you want to connect to an SAP Java instance from on-premises in a Cloud-Only scenario.</span></span>

<span data-ttu-id="55a46-1359">Počáteční portál identifikátor URI je http (s):`<Portalserver`>: 5XX00/irj, kde je port tvořen 50000 plus (Systemnumber x 100).</span><span class="sxs-lookup"><span data-stu-id="55a46-1359">The initial portal URI is http(s):`<Portalserver`>:5XX00/irj where the port is formed by 50000 plus (Systemnumber × 100).</span></span> <span data-ttu-id="55a46-1360">Výchozí portálu URI SAP systém 00 `<dns name`>.`<azure region` >.Cloudapp.azure.com:PublicPort/irj.</span><span class="sxs-lookup"><span data-stu-id="55a46-1360">The default portal URI of SAP system 00 is `<dns name`>.`<azure region`>.Cloudapp.azure.com:PublicPort/irj.</span></span> <span data-ttu-id="55a46-1361">Další informace, podívejte se na <http://help.sap.com/saphelp_nw70ehp1/helpdata/de/a2/f9d7fed2adc340ab462ae159d19509/frameset.htm>.</span><span class="sxs-lookup"><span data-stu-id="55a46-1361">For more details, have a look at <http://help.sap.com/saphelp_nw70ehp1/helpdata/de/a2/f9d7fed2adc340ab462ae159d19509/frameset.htm>.</span></span>

![Konfigurace koncového bodu][planning-guide-figure-2800]

<span data-ttu-id="55a46-1363">Pokud chcete upravit adresu URL nebo porty SAP podnikového portálu, zkontrolujte Tato dokumentace:</span><span class="sxs-lookup"><span data-stu-id="55a46-1363">If you want to customize the URL and/or ports of your SAP Enterprise Portal, please check this documentation:</span></span>

* [<span data-ttu-id="55a46-1364">Změnit adresu URL portálu</span><span class="sxs-lookup"><span data-stu-id="55a46-1364">Change Portal URL</span></span>](http://wiki.scn.sap.com/wiki/display/EP/Change+Portal+URL)
* [<span data-ttu-id="55a46-1365">Změňte výchozí čísla portů, čísla portů portálu</span><span class="sxs-lookup"><span data-stu-id="55a46-1365">Change Default port numbers, Portal port numbers</span></span>](http://wiki.scn.sap.com/wiki/display/NWTech/Change+Default++port+numbers%2C+Portal+port+numbers)

## <a name="high-availability-ha-and-disaster-recovery-dr-for-sap-netweaver-running-on-azure-virtual-machines"></a><span data-ttu-id="55a46-1366">Vysoké dostupnosti (HA) a obnovení po havárii (DR) pro SAP NetWeaver spuštěna ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-1366">High Availability (HA) and Disaster Recovery (DR) for SAP NetWeaver running on Azure Virtual Machines</span></span>
### <a name="definition-of-terminologies"></a><span data-ttu-id="55a46-1367">Definice terminologie jsou</span><span class="sxs-lookup"><span data-stu-id="55a46-1367">Definition of terminologies</span></span>
<span data-ttu-id="55a46-1368">Termín **vysokou dostupnost (HA)** obvykle souvisí s sada technologií, které minimalizují přerušení IT díky kontinuity podnikových procesů IT služeb prostřednictvím redundantní, odolný proti chybám nebo převzetí služeb při selhání chráněné komponenty uvnitř **stejné** datového centra.</span><span class="sxs-lookup"><span data-stu-id="55a46-1368">The term **high availability (HA)** is generally related to a set of technologies that minimizes IT disruptions by providing business continuity of IT services through redundant, fault-tolerant or failover protected components inside the **same** data center.</span></span> <span data-ttu-id="55a46-1369">V našem případě v rámci jedné oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1369">In our case, within one Azure Region.</span></span>

<span data-ttu-id="55a46-1370">**Zotavení po havárii (DR)** také cílí minimalizovat narušení služeb IT a jejich obnovení ale napříč **různých** datových center, které jsou obvykle umístěné stovky kilometrů rychle.</span><span class="sxs-lookup"><span data-stu-id="55a46-1370">**Disaster recovery (DR)** is also targeting minimizing IT services disruption, and their recovery but across **different** data centers, that are usually located hundreds of kilometers away.</span></span> <span data-ttu-id="55a46-1371">V našem případě obvykle mezi různých oblastech Azure v rámci stejné geopolitické oblasti nebo jako zavedených vy jako zákazník.</span><span class="sxs-lookup"><span data-stu-id="55a46-1371">In our case usually between different Azure Regions within the same geopolitical region or as established by you as a customer.</span></span>

### <a name="overview-of-high-availability"></a><span data-ttu-id="55a46-1372">Přehled vysokou dostupnost</span><span class="sxs-lookup"><span data-stu-id="55a46-1372">Overview of High Availability</span></span>
<span data-ttu-id="55a46-1373">Jsme můžete oddělit diskuzi o SAP vysoké dostupnosti v Azure do dvou částí:</span><span class="sxs-lookup"><span data-stu-id="55a46-1373">We can separate the discussion about SAP high availability in Azure into two parts:</span></span>

* <span data-ttu-id="55a46-1374">**Vysoká dostupnost infrastruktury Azure**, například HA výpočetní (VM), sítě, úložiště atd. a jeho výhody pro zvýšení dostupnosti aplikací SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1374">**Azure infrastructure high availability**, for example HA of compute (VMs), network, storage etc. and its benefits for increasing SAP application availability.</span></span>
* <span data-ttu-id="55a46-1375">**Vysoká dostupnost aplikace SAP**, například HA systému SAP softwarové součásti:</span><span class="sxs-lookup"><span data-stu-id="55a46-1375">**SAP application high availability**, for example HA of SAP software components:</span></span>
  * <span data-ttu-id="55a46-1376">SAP aplikační servery</span><span class="sxs-lookup"><span data-stu-id="55a46-1376">SAP application servers</span></span>
  * <span data-ttu-id="55a46-1377">Instance SAP ASC nebo SCS</span><span class="sxs-lookup"><span data-stu-id="55a46-1377">SAP ASCS/SCS instance</span></span>
  * <span data-ttu-id="55a46-1378">Databázového serveru</span><span class="sxs-lookup"><span data-stu-id="55a46-1378">DB server</span></span>

<span data-ttu-id="55a46-1379">a jak je možné kombinovat s infrastrukturu Azure HA.</span><span class="sxs-lookup"><span data-stu-id="55a46-1379">and how it can be combined with Azure infrastructure HA.</span></span>

<span data-ttu-id="55a46-1380">SAP vysoké dostupnosti v Azure má některé rozdíly ve srovnání s SAP vysoké dostupnosti v místním fyzickém nebo virtuálním prostředí.</span><span class="sxs-lookup"><span data-stu-id="55a46-1380">SAP High Availability in Azure has some differences compared to SAP High Availability in an on-premises physical or virtual environment.</span></span> <span data-ttu-id="55a46-1381">Následující dokument z SAP popisuje standardní konfigurace s vysokou dostupností SAP ve virtualizovaném prostředí v systému Windows: <http://scn.sap.com/docs/DOC-44415>.</span><span class="sxs-lookup"><span data-stu-id="55a46-1381">The following paper from SAP describes standard SAP High Availability configurations in virtualized environments on Windows: <http://scn.sap.com/docs/DOC-44415>.</span></span> <span data-ttu-id="55a46-1382">Neexistuje žádné integrované sapinst SAP-HA konfigurace pro Linux jako existuje pro systém Windows.</span><span class="sxs-lookup"><span data-stu-id="55a46-1382">There is no sapinst-integrated SAP-HA configuration for Linux like it exists for Windows.</span></span> <span data-ttu-id="55a46-1383">O SAP HA místní pro Linux najít další informace: <http://scn.sap.com/docs/DOC-8541>.</span><span class="sxs-lookup"><span data-stu-id="55a46-1383">Regarding SAP HA on-premises for Linux find more information here: <http://scn.sap.com/docs/DOC-8541>.</span></span>

### <a name="azure-infrastructure-high-availability"></a><span data-ttu-id="55a46-1384">Vysoká dostupnost infrastruktury Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-1384">Azure Infrastructure High Availability</span></span>
<span data-ttu-id="55a46-1385">Není aktuálně single-VM SLA 99,9 %.</span><span class="sxs-lookup"><span data-stu-id="55a46-1385">There is currently a single-VM SLA of 99.9%.</span></span> <span data-ttu-id="55a46-1386">Chcete-li získat představu, jak dostupnost jeden virtuální počítač může vypadat jako můžete jednoduše vytvořit produkt různé dostupné Azure SLA: <https://azure.microsoft.com/support/legal/sla/>.</span><span class="sxs-lookup"><span data-stu-id="55a46-1386">To get an idea how the availability of a single VM might look like you can simply build the product of the different available Azure SLAs: <https://azure.microsoft.com/support/legal/sla/>.</span></span>

<span data-ttu-id="55a46-1387">Základ pro výpočet je 30 dní, měsíčně nebo 43 200 minut.</span><span class="sxs-lookup"><span data-stu-id="55a46-1387">The basis for the calculation is 30 days per month, or 43200 minutes.</span></span> <span data-ttu-id="55a46-1388">Proto hodnotu 0,05 % výpadek odpovídá 21,6 minut.</span><span class="sxs-lookup"><span data-stu-id="55a46-1388">Therefore, 0.05% downtime corresponds to 21.6 minutes.</span></span> <span data-ttu-id="55a46-1389">Dostupnost různé služby bude obvyklým způsobem, vynásobte následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="55a46-1389">As usual, the availability of the different services will multiply in the following way:</span></span>

<span data-ttu-id="55a46-1390">(Služba dostupnosti č. 1/100) * (služba dostupnosti č. 2/100) * (služba dostupnosti č. 3/100) *...</span><span class="sxs-lookup"><span data-stu-id="55a46-1390">(Availability Service #1/100) * (Availability Service #2/100) * (Availability Service #3/100) *…</span></span>

<span data-ttu-id="55a46-1391">Například:</span><span class="sxs-lookup"><span data-stu-id="55a46-1391">Like:</span></span>

<span data-ttu-id="55a46-1392">(99,95/100) * (99,9/100) * (99,9/100) = 0.9975 nebo celkové dostupnosti 99.75 %.</span><span class="sxs-lookup"><span data-stu-id="55a46-1392">(99.95/100) * (99.9/100) * (99.9/100) = 0.9975 or an overall availability of 99.75%.</span></span>

#### <a name="virtual-machine-vm-high-availability"></a><span data-ttu-id="55a46-1393">Vysoká dostupnost virtuálního počítače (VM)</span><span class="sxs-lookup"><span data-stu-id="55a46-1393">Virtual Machine (VM) High Availability</span></span>
<span data-ttu-id="55a46-1394">Existují dva typy událostí platformy Azure, které můžou ovlivnit dostupnost vašich virtuálních počítačů: plánované údržby a neplánovaná Údržba.</span><span class="sxs-lookup"><span data-stu-id="55a46-1394">There are two types of Azure platform events that can affect the availability of your virtual machines: planned maintenance and unplanned maintenance.</span></span>

* <span data-ttu-id="55a46-1395">Události plánované údržby jsou pravidelné aktualizace provedené microsoftem základní platformu Azure ke zlepšení celkové spolehlivosti, výkonu a zabezpečení infrastruktury platformy, které virtuální počítače spustit na.</span><span class="sxs-lookup"><span data-stu-id="55a46-1395">Planned maintenance events are periodic updates made by Microsoft to the underlying Azure platform to improve overall reliability, performance, and security of the platform infrastructure that your virtual machines run on.</span></span>
* <span data-ttu-id="55a46-1396">Neplánovaná Údržba události dojít, když hardware nebo fyzické infrastruktuře základní virtuálního počítače došlo k chybě nějakým způsobem.</span><span class="sxs-lookup"><span data-stu-id="55a46-1396">Unplanned maintenance events occur when the hardware or physical infrastructure underlying your virtual machine has faulted in some way.</span></span> <span data-ttu-id="55a46-1397">To může zahrnovat selhání místní sítě, selhání místního disku nebo další selhání na úrovni racku.</span><span class="sxs-lookup"><span data-stu-id="55a46-1397">This may include local network failures, local disk failures, or other rack level failures.</span></span> <span data-ttu-id="55a46-1398">Když se taková selhání detekuje, platformu Azure automaticky migrovat virtuální počítač z není v pořádku fyzický server, který je hostitelem virtuálního počítače v pořádku fyzický server.</span><span class="sxs-lookup"><span data-stu-id="55a46-1398">When such a failure is detected, the Azure platform will automatically migrate your virtual machine from the unhealthy physical server hosting your virtual machine to a healthy physical server.</span></span> <span data-ttu-id="55a46-1399">Takové události se vyskytují jen vzácně, ale také můžou způsobit restartování vašeho virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-1399">Such events are rare, but may also cause your virtual machine to reboot.</span></span>

<span data-ttu-id="55a46-1400">Další podrobnosti najdete v této dokumentaci: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span><span class="sxs-lookup"><span data-stu-id="55a46-1400">More details can be found in this documentation: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span></span>

#### <a name="azure-storage-redundancy"></a><span data-ttu-id="55a46-1401">Redundance úložiště Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-1401">Azure Storage Redundancy</span></span>
<span data-ttu-id="55a46-1402">Data ve vašem účtu úložiště Microsoft Azure se vždycky replikují, aby zajistila stálost a vysoká dostupnost, splňuje smlouvy SLA pro úložiště Azure i při krátkodobém výpadku hardwaru.</span><span class="sxs-lookup"><span data-stu-id="55a46-1402">The data in your Microsoft Azure Storage Account is always replicated to ensure durability and high availability, meeting the Azure Storage SLA even in the face of transient hardware failures.</span></span>

<span data-ttu-id="55a46-1403">Vzhledem k tomu, že Azure Storage je ve výchozím nastavení uchovávání tři bitové kopie dat, RAID5 nebo RAID1 na více disků Azure nejsou potřebné.</span><span class="sxs-lookup"><span data-stu-id="55a46-1403">Since Azure Storage is keeping three images of the data by default, RAID5 or RAID1 across multiple Azure disks are not necessary.</span></span>

<span data-ttu-id="55a46-1404">Další podrobnosti najdete v tomto článku: <http://azure.microsoft.com/documentation/articles/storage-redundancy/></span><span class="sxs-lookup"><span data-stu-id="55a46-1404">More details can be found in this article: <http://azure.microsoft.com/documentation/articles/storage-redundancy/></span></span>

#### <a name="utilizing-azure-infrastructure-vm-restart-to-achieve-higher-availability-of-sap-applications"></a><span data-ttu-id="55a46-1405">Využívá infrastrukturu Azure restartování virtuálního počítače lze dosáhnout "Vyšší dostupnosti" aplikací SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-1405">Utilizing Azure Infrastructure VM Restart to Achieve “Higher Availability” of SAP Applications</span></span>
<span data-ttu-id="55a46-1406">Pokud se rozhodnete nepoužívat funkce jako je Windows Server Failover Clustering (WSFC) nebo kardiostimulátor v systému Linux (momentálně podporována pouze pro SLES 12 a vyšší), restartovat virtuální počítač Azure je použít k ochraně SAP systém proti plánovaných a neplánovaných výpadků infrastruktury Azure fyzického serveru a celkové základní platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1406">If you decide not to use functionalities like Windows Server Failover Clustering (WSFC) or Pacemaker on Linux (currently only supported for SLES 12 and higher), Azure VM Restart is utilized to protect an SAP System against planned and unplanned downtime of the Azure physical server infrastructure and overall underlying Azure platform.</span></span>

> [!NOTE]
> <span data-ttu-id="55a46-1407">Je důležité zmínit, že restartování virtuálního počítače Azure především chrání virtuální počítače a ne aplikace.</span><span class="sxs-lookup"><span data-stu-id="55a46-1407">It is important to mention that Azure VM Restart primarily protects VMs and NOT applications.</span></span> <span data-ttu-id="55a46-1408">Virtuální počítač restartovat nenabízí vysokou dostupnost pro aplikace SAP, ale nabízí systém určitá úroveň dostupnost infrastruktury a proto nepřímo "vyšší dostupnosti" systémů SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1408">VM Restart does not offer high availability for SAP applications, but it does offer a certain level of infrastructure availability and therefore indirectly “higher availability” of SAP systems.</span></span> <span data-ttu-id="55a46-1409">Je zde také žádné SLA pro dobu, kterou bude trvat restartovat virtuální počítač po plánovaném nebo neplánovaném hostitele výpadku.</span><span class="sxs-lookup"><span data-stu-id="55a46-1409">There is also no SLA for the time it will take to restart a VM after a planned or unplanned host outage.</span></span> <span data-ttu-id="55a46-1410">Tuto metodu, vysokou dostupnost, není proto vhodný pro důležité součásti systému SAP jako (A) SCS nebo databázového systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-1410">Therefore, this method of ‘high availability’ is not suitable for critical components of an SAP system like (A)SCS or DBMS.</span></span>
>
>

<span data-ttu-id="55a46-1411">Jiný element důležité infrastruktury pro zajištění vysoké dostupnosti je úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-1411">Another important infrastructure element for high availability is storage.</span></span> <span data-ttu-id="55a46-1412">Smlouvy SLA pro úložiště Azure je třeba 99,9 % dostupnost.</span><span class="sxs-lookup"><span data-stu-id="55a46-1412">For example Azure Storage SLA is 99,9 % availability.</span></span> <span data-ttu-id="55a46-1413">Pokud nasadí do jeden účet Azure Storage, potenciální Azure Storage nedostupnosti způsobí, že nejsou dostupné všechny virtuální počítače, které jsou umístěny v daném účtu úložiště Azure a spuštěna v rámci těchto virtuálních počítačů také všechny součásti SAP všech virtuálních počítačů s jeho disky.</span><span class="sxs-lookup"><span data-stu-id="55a46-1413">If one deploys all VMs with its disks into a single Azure Storage Account, potential Azure Storage unavailability will cause unavailability of all VMs that are placed in that Azure Storage Account, and also all SAP components running inside of those VMs.</span></span>  

<span data-ttu-id="55a46-1414">Místo uvedení všechny virtuální počítače do jedné jeden účet úložiště Azure, můžete použít také vyhrazeného úložiště účtů pro každý virtuální počítač a tímto způsobem zvýšit celkový dostupnosti virtuálních počítačů a SAP aplikace s použitím více nezávislých účtů úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1414">Instead of putting all VMs into one single Azure Storage Account, you can also use dedicated storage accounts for each VM, and in this way increase overall VM and SAP application availability by using multiple independent Azure Storage Accounts.</span></span>

<span data-ttu-id="55a46-1415">Disky systému Azure spravované jsou automaticky umístěny v doméně selhání virtuálního počítače, které jsou připojené k.</span><span class="sxs-lookup"><span data-stu-id="55a46-1415">Azure Managed Disks are automatically placed in the Fault Domain of the virtual machine they are attached to.</span></span> <span data-ttu-id="55a46-1416">Zadáte-li dva virtuální počítače ve skupině dostupnosti nastavit a spravovat disky používat, platformu se postará o distribuci disky spravované do různých domén selhání také.</span><span class="sxs-lookup"><span data-stu-id="55a46-1416">If you place two virtual machines in an availability set and use Managed Disks, the platform will take care of distributing the Managed Disks into different Fault Domains as well.</span></span> <span data-ttu-id="55a46-1417">Pokud plánujete používat úložiště úrovně Premium, důrazně doporučujeme také pomocí správy disků.</span><span class="sxs-lookup"><span data-stu-id="55a46-1417">If you plan to use Premium Storage, we highly recommend using Manage Disks as well.</span></span>

<span data-ttu-id="55a46-1418">Ukázková architektura systému SAP NetWeaver, který používá infrastrukturu Azure HA a úložiště účtů může vypadat například takto:</span><span class="sxs-lookup"><span data-stu-id="55a46-1418">A sample architecture of an SAP NetWeaver system that uses Azure infrastructure HA and storage accounts could look like this:</span></span>

![Využívá infrastrukturu Azure HA k dosažení "vyšší" dostupnosti aplikace SAP][planning-guide-figure-2900]

<span data-ttu-id="55a46-1420">Ukázková architektura systému SAP NetWeaver používá infrastrukturu Azure HA a spravované disků může vypadat například takto:</span><span class="sxs-lookup"><span data-stu-id="55a46-1420">A sample architecture of an SAP NetWeaver system that uses Azure infrastructure HA and Managed Disks could look like this:</span></span>

![Využívá infrastrukturu Azure HA k dosažení "vyšší" dostupnosti aplikace SAP][planning-guide-figure-2901]

<span data-ttu-id="55a46-1422">Pro důležité součásti SAP jsme dosáhnout následující, pokud:</span><span class="sxs-lookup"><span data-stu-id="55a46-1422">For critical SAP components we achieved the following so far:</span></span>

* <span data-ttu-id="55a46-1423">Vysoká dostupnost SAP aplikační servery (AS)</span><span class="sxs-lookup"><span data-stu-id="55a46-1423">High Availability of SAP Application Servers (AS)</span></span>

  <span data-ttu-id="55a46-1424">Instance serveru SAP aplikace jsou redundantní komponenty.</span><span class="sxs-lookup"><span data-stu-id="55a46-1424">SAP application server instances are redundant components.</span></span> <span data-ttu-id="55a46-1425">Každý SAP jako instance je nasazen na svůj vlastní virtuální počítač, který běží v jiné Azure selhání a upgradu domény (najdete v kapitolách [domén selhání] [ planning-guide-3.2.1] a [upgradu domény][planning-guide-3.2.2]).</span><span class="sxs-lookup"><span data-stu-id="55a46-1425">Each SAP AS instance is deployed on its own VM, that is running in a different Azure Fault and Upgrade Domain (see chapters [Fault Domains][planning-guide-3.2.1] and [Upgrade Domains][planning-guide-3.2.2]).</span></span> <span data-ttu-id="55a46-1426">To je zajištěno pomocí sad dostupnosti Azure (naleznete v kapitole [skupiny dostupnosti Azure][planning-guide-3.2.3]).</span><span class="sxs-lookup"><span data-stu-id="55a46-1426">This is ensured by using Azure Availability Sets (see chapter [Azure Availability Sets][planning-guide-3.2.3]).</span></span> <span data-ttu-id="55a46-1427">Potenciální nedostupnosti plánovaném nebo neplánovaném selhání Azure nebo doména Upgrade způsobí nedostupnosti omezenému počtu virtuálních počítačů s jejich SAP AS instancí.</span><span class="sxs-lookup"><span data-stu-id="55a46-1427">Potential planned or unplanned unavailability of an Azure Fault or Upgrade Domain will cause unavailability of a restricted number of VMs with their SAP AS instances.</span></span>

  <span data-ttu-id="55a46-1428">Každý SAP jako instance je umístěn v svůj vlastní účet služby Azure Storage – potenciální nedostupnosti jeden účet úložiště Azure způsobí, že nejsou dostupné jenom jeden virtuální počítač s jeho SAP AS instance.</span><span class="sxs-lookup"><span data-stu-id="55a46-1428">Each SAP AS instance is placed in its own Azure Storage account – potential unavailability of one Azure Storage Account will cause unavailability of only one VM with its SAP AS instance.</span></span> <span data-ttu-id="55a46-1429">Však Upozorňujeme, že je maximální počet účtů úložiště Azure v rámci jednoho předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1429">However, be aware that there is a limit of Azure Storage Accounts within one Azure subscription.</span></span> <span data-ttu-id="55a46-1430">Aby se zajistilo automatické spuštění (A) instance SCS po restartování virtuálního počítače, ujistěte se, že chcete nastavit parametr automatické spuštění v instanci (A) SCS spustit profil popsané v kapitole [pomocí automatické spuštění pro instance SAP][planning-guide-11.5].</span><span class="sxs-lookup"><span data-stu-id="55a46-1430">To ensure automatic start of (A)SCS instance after the VM reboot, make sure to set the Autostart parameter in (A)SCS instance start profile described in chapter [Using Autostart for SAP instances][planning-guide-11.5].</span></span>
  <span data-ttu-id="55a46-1431">Přečtěte si také kapitoly [vysoká dostupnost pro SAP aplikační servery] [ planning-guide-11.4.1] další podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="55a46-1431">Please also read chapter [High Availability for SAP Application Servers][planning-guide-11.4.1] for more details.</span></span>

  <span data-ttu-id="55a46-1432">I když používáte spravované disky, tyto disky jsou také uloženy v účtu úložiště Azure a může být k dispozici v případě výpadku úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-1432">Even if you use Managed Disks, those disks are also stored in an Azure Storage Account and can be unavailable in an event of a storage outage.</span></span>

* <span data-ttu-id="55a46-1433">*Vyšší* instance SCS dostupnosti SAP (A)</span><span class="sxs-lookup"><span data-stu-id="55a46-1433">*Higher* Availability of SAP (A)SCS instance</span></span>

  <span data-ttu-id="55a46-1434">Zde jsme využívat Azure restartujte počítač k ochraně virtuálního počítače s nainstalovanou instanci SCS SAP (A).</span><span class="sxs-lookup"><span data-stu-id="55a46-1434">Here we utilize Azure VM Restart to protect the VM with installed SAP (A)SCS instance.</span></span> <span data-ttu-id="55a46-1435">V případě plánované, nebo neplánované výpadky Azure servery, virtuální počítače se restartuje na jiném serveru k dispozici.</span><span class="sxs-lookup"><span data-stu-id="55a46-1435">In the case of planned or unplanned downtime of Azure severs, VMs will be restarted on another available server.</span></span> <span data-ttu-id="55a46-1436">Jak už bylo zmíněno dříve, restartovat virtuální počítač Azure především chrání virtuální počítače a ne aplikace, u této instance SCS případ (A).</span><span class="sxs-lookup"><span data-stu-id="55a46-1436">As mentioned earlier, Azure VM Restart primarily protects VMs and NOT applications, in this case the (A)SCS instance.</span></span> <span data-ttu-id="55a46-1437">Prostřednictvím restartování virtuálního počítače je budete spojit nepřímo "vyšší dostupnosti" instance SCS SAP (A).</span><span class="sxs-lookup"><span data-stu-id="55a46-1437">Through the VM Restart we’ll reach indirectly “higher availability” of SAP (A)SCS instance.</span></span> <span data-ttu-id="55a46-1438">K zajištění automatického spuštění instance (A) SCS po restartování virtuálního počítače, nezapomeňte nastavit automatické spuštění parametr v profilu spuštění instance (A) SCS popsané v kapitole [pomocí automatické spuštění pro instance SAP][planning-guide-11.5].</span><span class="sxs-lookup"><span data-stu-id="55a46-1438">To insure automatic start of (A)SCS instance after the VM reboot, make sure to set Autostart parameter in (A)SCS instance start profile described in chapter [Using Autostart for SAP instances][planning-guide-11.5].</span></span> <span data-ttu-id="55a46-1439">To znamená SCS (A) instance jako jeden bod z selhání (SPOF) spuštěné v jeden virtuální počítač bude určujícího faktor pro dostupnost celou šířku SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1439">This means the (A)SCS instance as a Single Point of Failure (SPOF) running in a single VM will be the determinative factor for the availability of the whole SAP landscape.</span></span>

* <span data-ttu-id="55a46-1440">*Vyšší* dostupnost serveru databázového systému</span><span class="sxs-lookup"><span data-stu-id="55a46-1440">*Higher* Availability of DBMS Server</span></span>

  <span data-ttu-id="55a46-1441">Zde podobný případ použití instance SCS SAP (A), můžeme využívat Azure restartujte počítač k ochraně virtuálního počítače s nainstalovaným softwarem databázového systému a jsme dosáhnout "vyšší dostupnosti" databázového systému softwaru prostřednictvím restartovat počítač.</span><span class="sxs-lookup"><span data-stu-id="55a46-1441">Here, similar to the SAP (A)SCS instance use case, we utilize Azure VM Restart to protect the VM with installed DBMS software, and we achieve “higher availability” of DBMS software through VM Restart.</span></span>
  <span data-ttu-id="55a46-1442">Databázového systému spuštěné v jeden virtuální počítač je také SPOF a je určujícího faktor pro dostupnost celou šířku SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1442">DBMS running in a single VM is also a SPOF, and it is the determinative factor for the availability of the whole SAP landscape.</span></span>

### <a name="sap-application-high-availability-on-azure-iaas"></a><span data-ttu-id="55a46-1443">SAP vysoké dostupnosti aplikace na Azure IaaS</span><span class="sxs-lookup"><span data-stu-id="55a46-1443">SAP Application High Availability on Azure IaaS</span></span>
<span data-ttu-id="55a46-1444">K dosažení úplné SAP systém vysoké dostupnosti, je potřeba chránit všechny důležité součásti systému SAP, příklad redundantní SAP aplikační servery a jedinečný součásti (například jediné místo poruchy) jako instance SCS SAP (A) a databázového systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-1444">To achieve full SAP system high availability, we need to protect all critical SAP system components, for example redundant SAP application servers, and unique components (for example Single Point of Failure) like SAP (A)SCS instance and DBMS.</span></span>

#### <span data-ttu-id="55a46-1445"><a name="5d9d36f9-9058-435d-8367-5ad05f00de77"></a>Vysoká dostupnost pro SAP aplikační servery</span><span class="sxs-lookup"><span data-stu-id="55a46-1445"><a name="5d9d36f9-9058-435d-8367-5ad05f00de77"></a>High Availability for SAP Application Servers</span></span>
<span data-ttu-id="55a46-1446">Pro servery nebo dialogové okno instance aplikace SAP není potřeba myslet řešení konkrétní vysokou dostupnost.</span><span class="sxs-lookup"><span data-stu-id="55a46-1446">For the SAP application servers/dialog instances it’s not necessary to think about a specific high availability solution.</span></span> <span data-ttu-id="55a46-1447">Redundance a tím jednoduše dosáhnout vysoké dostupnosti s dostatek z nich v různých virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="55a46-1447">High availability is simply achieved by redundancy and thereby having enough of them in different virtual machines.</span></span> <span data-ttu-id="55a46-1448">Se musí všechny umístit do stejné Azure skupina dostupnosti předejdete, virtuální počítače mohou být aktualizovány v průběhu během plánované údržby. výpadků.</span><span class="sxs-lookup"><span data-stu-id="55a46-1448">They should all be placed in the same Azure Availability Set to avoid that the VMs might be updated at the same time during planned maintenance downtime.</span></span> <span data-ttu-id="55a46-1449">Základní funkce, která je založena na jiné upgradu a domén selhání v rámci jednotky škálování Azure již byla zavedena v kapitole [upgradu domény][planning-guide-3.2.2].</span><span class="sxs-lookup"><span data-stu-id="55a46-1449">The basic functionality which builds on different Upgrade and Fault Domains within an Azure Scale Unit was already introduced in chapter [Upgrade Domains][planning-guide-3.2.2].</span></span> <span data-ttu-id="55a46-1450">Azure skupiny dostupnosti prezentovaly v kapitole [skupiny dostupnosti Azure] [ planning-guide-3.2.3] tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1450">Azure Availability Sets were presented in chapter [Azure Availability Sets][planning-guide-3.2.3] of this document.</span></span>

<span data-ttu-id="55a46-1451">Neexistuje žádné nekonečné počet selhání a upgradu domén, které je možné podle skupiny dostupnosti Azure, v rámci jednotky škálování služby Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1451">There is no infinite number of Fault and Upgrade Domains that can be used by an Azure Availability Set within an Azure Scale Unit.</span></span> <span data-ttu-id="55a46-1452">To znamená, že uvedení počet virtuálních počítačů do jedné skupiny dostupnosti, dřív nebo později více než jeden virtuální počítač bude mít ve stejném selhání nebo upgradu domény.</span><span class="sxs-lookup"><span data-stu-id="55a46-1452">This means that putting a number of VMs into one Availability Set, sooner or later more than one VM ends up in the same Fault or Upgrade Domain.</span></span>

<span data-ttu-id="55a46-1453">Nasazení několik instancí SAP aplikačních serverů v jejich vyhrazených virtuálních počítačích a za předpokladu, že My pět upgradu domény, na konci ukáže na následujícím obrázku.</span><span class="sxs-lookup"><span data-stu-id="55a46-1453">Deploying a few SAP application server instances in their dedicated VMs and assuming that we got five Upgrade Domains, the following picture emerges at the end.</span></span> <span data-ttu-id="55a46-1454">Maximální skutečný počet domén selhání a aktualizace v rámci skupiny dostupnosti může v budoucnu změnit:</span><span class="sxs-lookup"><span data-stu-id="55a46-1454">The actual max number of fault and update domains within an availability set might change in the future:</span></span>

![HA SAP aplikačních serverů v Azure][planning-guide-figure-3000]

<span data-ttu-id="55a46-1456">Další podrobnosti najdete v této dokumentaci: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span><span class="sxs-lookup"><span data-stu-id="55a46-1456">More details can be found in this documentation: <http://azure.microsoft.com/documentation/articles/virtual-machines-manage-availability></span></span>

#### <a name="high-availability-for-the-sap-ascs-instance-on-windows"></a><span data-ttu-id="55a46-1457">Vysoká dostupnost pro instance SCS SAP (A) v systému Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-1457">High Availability for the SAP (A)SCS instance on Windows</span></span>
<span data-ttu-id="55a46-1458">Windows Server Failover Cluster (WSFC) se často používané řešení ochrany instance SCS SAP (A).</span><span class="sxs-lookup"><span data-stu-id="55a46-1458">Windows Server Failover Cluster (WSFC) is a frequently used solution to protect the SAP (A)SCS instance.</span></span> <span data-ttu-id="55a46-1459">Také je integrovaný do sapinst v podobě "HA instalace".</span><span class="sxs-lookup"><span data-stu-id="55a46-1459">It is also integrated into sapinst in form of an "HA installation".</span></span> <span data-ttu-id="55a46-1460">V tuto chvíli není schopen poskytnout funkce pro nastavení požadovaná clusteru převzetí služeb při selhání systému Windows Server stejným způsobem jako dokončení místní infrastruktury Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1460">At this point in time the Azure infrastructure is not able to provide the functionality to set up the required Windows Server Failover Cluster the same way as it's done on-premises.</span></span>

<span data-ttu-id="55a46-1461">Od ledna 2016 platformou Azure cloud s operačním systémem Windows nenabízí možnost použití sdíleného svazku clusteru na disku sdílena mezi dva virtuální počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1461">As of January 2016 the Azure cloud platform running the Windows operating system does not provide the possibility of using a cluster shared volume on a disk shared between two Azure VMs.</span></span>

<span data-ttu-id="55a46-1462">Platným řešením, když je využití softwaru 3. stran, které poskytuje sdíleného svazku pomocí replikace synchronní a transparentní disku, který lze integrovat do služby WSFC.</span><span class="sxs-lookup"><span data-stu-id="55a46-1462">A valid solution though is the usage of 3rd-party software which provides a shared volume by synchronous and transparent disk replication which can be integrated into WSFC.</span></span> <span data-ttu-id="55a46-1463">Tento přístup vyplývá, že pouze aktivním uzlu clusteru je moci jednu kopii disku v bodě v čase.</span><span class="sxs-lookup"><span data-stu-id="55a46-1463">This approach implies that only the active cluster node is able to access one of the disk copies at a point in time.</span></span> <span data-ttu-id="55a46-1464">Konfigurace je od ledna 2016 tento HA podporována k ochraně instanci SCS SAP (A) na Windows hostovaný operační systém na virtuálních počítačích Azure v kombinaci s 3rd softwarem s DataKeeper.</span><span class="sxs-lookup"><span data-stu-id="55a46-1464">As of January 2016 this HA configuration is supported to protect the SAP (A)SCS instance on Windows guest OS on Azure VMs in combination with 3rd-party software SIOS DataKeeper.</span></span>

<span data-ttu-id="55a46-1465">Řešení s DataKeeper poskytuje prostředek sdíleného disku clusteru na clustery převzetí služeb při selhání systému Windows tak, že:</span><span class="sxs-lookup"><span data-stu-id="55a46-1465">The SIOS DataKeeper solution provides a shared disk cluster resource to Windows Failover Clusters by having:</span></span>

* <span data-ttu-id="55a46-1466">Další Azure virtuální pevný disk připojený ke každému z virtuálních počítačů (VM), které jsou v konfiguraci clusteru se systémem Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-1466">An additional Azure VHD attached to each of the virtual machines (VMs) that are in a Windows Cluster configuration</span></span>
* <span data-ttu-id="55a46-1467">Spuštěná na obou uzlech virtuálních počítačů s DataKeeper Cluster Edition</span><span class="sxs-lookup"><span data-stu-id="55a46-1467">SIOS DataKeeper Cluster Edition running on both VM nodes</span></span>
* <span data-ttu-id="55a46-1468">S s DataKeeper Cluster Edition nakonfigurovaný tak, že synchronně zrcadlí obsah další virtuální pevný disk připojený svazek ze zdrojové virtuální počítače na další virtuální pevný disk připojený svazek cílovém virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="55a46-1468">Having SIOS DataKeeper Cluster Edition configured in a way that it synchronously mirrors the content of the additional VHD attached volume from source VMs to additional VHD attached volume of target VM.</span></span>
* <span data-ttu-id="55a46-1469">S DataKeeper je poskytuje abstrakci zdrojové a cílové místní svazky a jejich obchodní úpravu clusteru převzetí služeb při selhání systému Windows jako jeden sdílený disk.</span><span class="sxs-lookup"><span data-stu-id="55a46-1469">SIOS DataKeeper is abstracting the source and target local volumes and presenting them to Windows Failover Cluster as a single shared disk.</span></span>

<span data-ttu-id="55a46-1470">Můžete najít všechny podrobnosti o tom, jak nainstalovat s s DataKeeper a SAP v clusteru s podporou převzetí služeb při selhání systému Windows [Clustering SAP ASC instanci pomocí clusteru převzetí služeb při selhání systému Windows Server v Azure s DataKeeper s] [ ha-guide-classic] dokumentu white paper.</span><span class="sxs-lookup"><span data-stu-id="55a46-1470">You can find all details on how to install a Windows Failover Cluster with SIOS DataKeeper and SAP in the [Clustering SAP ASCS Instance using Windows Server Failover Cluster on Azure with SIOS DataKeeper][ha-guide-classic] white paper.</span></span>

#### <a name="high-availability-for-the-sap-ascs-instance-on-linux"></a><span data-ttu-id="55a46-1471">Vysoká dostupnost pro instance SCS SAP (A) v systému Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-1471">High Availability for the SAP (A)SCS instance on Linux</span></span>
<span data-ttu-id="55a46-1472">Od prosince 2015 je zde také žádný ekvivalent sdíleného disku služby WSFC pro virtuální počítače s Linuxem v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1472">As of Dec 2015 there is also no equivalent to shared disk WSFC for Linux VMs on Azure.</span></span> <span data-ttu-id="55a46-1473">Alternativní řešení pomocí softwaru 3rdstrany jako s pro systém Windows ještě se neověřuje SAP systémem Linux v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1473">Alternative solutions using 3rd-party software like SIOS for Windows are not validated yet for running SAP on Linux on Azure.</span></span>

#### <a name="high-availability-for-the-sap-database-instance"></a><span data-ttu-id="55a46-1474">Vysoká dostupnost pro instanci databáze SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-1474">High Availability for the SAP database instance</span></span>
<span data-ttu-id="55a46-1475">Typické SAP databázového systému HA instalace je založena na dva databázového systému virtuální počítače, kde je funkce vysoké dostupnosti databázového systému používanou k replikaci dat od aktivní instance databázového systému do druhého virtuálního počítače do pasivní instance databázového systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-1475">The typical SAP DBMS HA setup is based on two DBMS VMs where DBMS high-availability functionality is used to replicate data from the active DBMS instance to the second VM into a passive DBMS instance.</span></span>

<span data-ttu-id="55a46-1476">Funkci obnovení po havárii s vysokou dostupností a pro databázového systému obecně také konkrétní databázového systému jsou popsané v [Průvodce nasazením databázového systému][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-1476">High Availability and Disaster recovery functionality for DBMS in general as well as specific DBMS are described in the [DBMS Deployment Guide][dbms-guide].</span></span>

#### <a name="end-to-end-high-availability-for-the-complete-sap-system"></a><span data-ttu-id="55a46-1477">Vysoká dostupnost začátku do konce pro dokončení SAP systému</span><span class="sxs-lookup"><span data-stu-id="55a46-1477">End-to-End High Availability for the Complete SAP System</span></span>
<span data-ttu-id="55a46-1478">Následují dva příklady architektury dokončení SAP NetWeaver HA v Azure – jeden pro Windows a jeden pro Linux.</span><span class="sxs-lookup"><span data-stu-id="55a46-1478">Here are two examples of a complete SAP NetWeaver HA architecture in Azure - one for Windows and one for Linux.</span></span>

<span data-ttu-id="55a46-1479">Nespravované jen disky: koncepty, jak je popsáno níže pravděpodobně došlo k narušení trochu při nasazování mnoha systémů SAP a počet nasazených virtuálních počítačů jsou překračuje maximální limit účtů úložiště na jedno předplatné.</span><span class="sxs-lookup"><span data-stu-id="55a46-1479">Unmanaged disks only: The concepts as explained below may need to be compromised a bit when you deploy many SAP systems and the number of VMs deployed are exceeding the maximum limit of Storage Accounts per subscription.</span></span> <span data-ttu-id="55a46-1480">V takových případech nutné virtuální pevné disky virtuálních počítačů a nelze jej zkombinovat v rámci jednoho účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-1480">In such cases, VHDs of VMs need to be combined within one Storage Account.</span></span> <span data-ttu-id="55a46-1481">Obvykle lze provést kombinací virtuální pevné disky SAP aplikační vrstvu virtuální počítače různých systémů SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1481">Usually you would do so by combining VHDs of SAP application layer VMs of different SAP systems.</span></span>  <span data-ttu-id="55a46-1482">Také jsme kombinaci různých virtuální pevné disky různé databázového systému virtuální počítače různých systémů SAP v jednom účtu úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1482">We also combined different VHDs of different DBMS VMs of different SAP systems in one Azure Storage Account.</span></span> <span data-ttu-id="55a46-1483">Tím zachování IOPS omezení účtech úložiště Azure v paměti (<https://azure.microsoft.com/documentation/articles/storage-scalability-targets>)</span><span class="sxs-lookup"><span data-stu-id="55a46-1483">Thereby keeping the IOPS limits of Azure Storage Accounts in mind (<https://azure.microsoft.com/documentation/articles/storage-scalability-targets>)</span></span>


##### <a name="windowslogowindows-ha-on-windows"></a>![Windows][Logo_Windows] <span data-ttu-id="55a46-1485">HA v systému Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-1485">HA on Windows</span></span>
![Architektura HA aplikace SAP NetWeaver s SQL serverem v Azure IaaS][planning-guide-figure-3200]

<span data-ttu-id="55a46-1487">Následující Azure konstrukce se používají pro systém SAP NetWeaver k minimalizaci vlivu podle problémů s infrastrukturou a hostování opravy:</span><span class="sxs-lookup"><span data-stu-id="55a46-1487">The following Azure constructs are used for the SAP NetWeaver system, to minimize impact by infrastructure issues and host patching:</span></span>

* <span data-ttu-id="55a46-1488">Celý systém je nasazen na Azure (požadováno – databázového systému vrstvy, (A) SCS instanci a dokončení aplikační vrstvu muset spustit ve stejném umístění).</span><span class="sxs-lookup"><span data-stu-id="55a46-1488">The complete system is deployed on Azure (required - DBMS layer, (A)SCS instance and complete application layer need to run in the same location).</span></span>
* <span data-ttu-id="55a46-1489">Celý systém běží v rámci jednoho předplatného Azure (povinné).</span><span class="sxs-lookup"><span data-stu-id="55a46-1489">The complete system runs within one Azure subscription (required).</span></span>
* <span data-ttu-id="55a46-1490">Celý systém běží v rámci jedné virtuální sítě Azure (povinné).</span><span class="sxs-lookup"><span data-stu-id="55a46-1490">The complete system runs within one Azure Virtual Network (required).</span></span>
* <span data-ttu-id="55a46-1491">Oddělení virtuální počítače jednoho systému SAP do tří skupiny dostupnosti je možné, i když všechny virtuální počítače, které patří do stejné virtuální síti.</span><span class="sxs-lookup"><span data-stu-id="55a46-1491">The separation of the VMs of one SAP system into three Availability Sets is possible even with all the VMs belonging to the same Virtual Network.</span></span>
* <span data-ttu-id="55a46-1492">Všechny virtuální počítače spuštěné instance databázového systému SAP systémů jsou v jedné skupině dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="55a46-1492">All VMs running DBMS instances of one SAP system are in one Availability Set.</span></span> <span data-ttu-id="55a46-1493">Předpokládáme, že existuje více než jeden virtuální počítač spuštěné instance databázového systému na systém od nativní vysokou dostupnost databázového systému, které se používají funkce, jako je SQL Server AlwaysOn nebo Oracle Data Guard.</span><span class="sxs-lookup"><span data-stu-id="55a46-1493">We assume that there is more than one VM running DBMS instances per system since native DBMS high availability features are used, like SQL Server AlwaysOn or Oracle Data Guard.</span></span>
* <span data-ttu-id="55a46-1494">Všechny virtuální počítače spuštěné instance databázového systému použít vlastní účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-1494">All VMs running DBMS instances use their own storage account.</span></span> <span data-ttu-id="55a46-1495">Databázového systému souborů protokolu a data se replikují z jednoho účtu úložiště na jiný účet úložiště pomocí funkcí databázového systému vysoké dostupnosti, které se synchronizují data.</span><span class="sxs-lookup"><span data-stu-id="55a46-1495">DBMS data and log files are replicated from one storage account to another storage account using DBMS high availability functions that synchronize the data.</span></span> <span data-ttu-id="55a46-1496">Nedostupnosti jeden účet úložiště způsobí, že nedostupnosti jednoho uzlu clusteru serveru SQL Windows, ale ne celou službu systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="55a46-1496">Unavailability of one storage account will cause unavailability of one SQL Windows cluster node, but not the whole SQL Server service.</span></span>
* <span data-ttu-id="55a46-1497">Všechny virtuální počítače spuštěné instance (A) SCS jednoho systému SAP se nacházejí v jedné skupině dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="55a46-1497">All VMs running (A)SCS instance of one SAP system are in one Availability Set.</span></span> <span data-ttu-id="55a46-1498">Windows Server Failover Cluster (WSFC) je nakonfigurován v rámci těchto virtuálních počítačů k ochraně (A) SCS instance.</span><span class="sxs-lookup"><span data-stu-id="55a46-1498">A Windows Server Failover Cluster (WSFC) is configured inside of those VMs to protect the (A)SCS instance.</span></span>
* <span data-ttu-id="55a46-1499">Všechny virtuální počítače spuštěné instance (A) SCS použít vlastní účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-1499">All VMs running (A)SCS instances use their own storage account.</span></span> <span data-ttu-id="55a46-1500">(A) SCS instance soubory a složku globální SAP se replikují z jednoho účtu úložiště na jiný účet úložiště DataKeeper s replikací.</span><span class="sxs-lookup"><span data-stu-id="55a46-1500">(A)SCS instance files and SAP global folder are replicated from one storage account to another storage account using SIOS DataKeeper replication.</span></span> <span data-ttu-id="55a46-1501">Nedostupnosti jeden účet úložiště může způsobit nedostupnost jednoho (A) uzlu clusteru systému Windows SCS, ale ne celé (A) SCS služby.</span><span class="sxs-lookup"><span data-stu-id="55a46-1501">Unavailability of one storage account will cause unavailability of one (A)SCS Windows cluster node, but not the whole (A)SCS service.</span></span>
* <span data-ttu-id="55a46-1502">VŠECHNY virtuální počítače představující vrstvu serveru SAP aplikace jsou ve třetí dostupnosti nastavit.</span><span class="sxs-lookup"><span data-stu-id="55a46-1502">ALL the VMs representing the SAP application server layer are in a third Availability Set.</span></span>
* <span data-ttu-id="55a46-1503">VŠECHNY virtuální počítače spuštěné SAP aplikační servery pomocí účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-1503">ALL the VMs running SAP application servers use their own storage account.</span></span> <span data-ttu-id="55a46-1504">Nedostupnosti jeden SAP aplikačního serveru, kde nadále spouštět další SAP AS způsobí, že nedostupnosti jeden účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="55a46-1504">Unavailability of one storage account will cause unavailability of one SAP application server, where other SAP AS continue to run.</span></span>

<span data-ttu-id="55a46-1505">Následující obrázek ukazuje povahu stejné pomocí spravovaných disků.</span><span class="sxs-lookup"><span data-stu-id="55a46-1505">The following figure illustrated the same landscape using Managed Disks.</span></span>

![Architektura HA aplikace SAP NetWeaver s SQL serverem v Azure IaaS][planning-guide-figure-3201]

##### <a name="linuxlogolinux-ha-on-linux"></a>![Linux][Logo_Linux] <span data-ttu-id="55a46-1508">HA v systému Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-1508">HA on Linux</span></span>
<span data-ttu-id="55a46-1509">Architektura pro SAP HA v systému Linux v Azure je v podstatě stejný jako u Windows jak bylo popsáno výše.</span><span class="sxs-lookup"><span data-stu-id="55a46-1509">The architecture for SAP HA on Linux on Azure is basically the same as for Windows as described above.</span></span> <span data-ttu-id="55a46-1510">Od ledna 2016 neexistuje SAP (A) SCS HA řešení zatím nepodporuje v systému Linux v Azure</span><span class="sxs-lookup"><span data-stu-id="55a46-1510">As of Jan 2016 there is no SAP (A)SCS HA solution supported yet on Linux on Azure</span></span>

<span data-ttu-id="55a46-1511">V důsledku od ledna 2016 systému SAP. Linux Azure nelze dosáhnout stejné dostupnosti jako systém SAP. Windows Azure z důvodu chybějících HA pro SCS (A) instanci a databázi SAP App Service Environment jedné instance.</span><span class="sxs-lookup"><span data-stu-id="55a46-1511">As a consequence as of January 2016 an SAP-Linux-Azure system cannot achieve the same availability as an SAP-Windows-Azure system because of missing HA for the (A)SCS instance and the single-instance SAP ASE database.</span></span>

### <span data-ttu-id="55a46-1512"><a name="4e165b58-74ca-474f-a7f4-5e695a93204f"></a>Pomocí automatické spuštění pro instance SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-1512"><a name="4e165b58-74ca-474f-a7f4-5e695a93204f"></a>Using Autostart for SAP instances</span></span>
<span data-ttu-id="55a46-1513">SAP nabízí funkce pro spustit instance SAP ihned po spuštění operačního systému v rámci virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="55a46-1513">SAP offered the functionality to start SAP instances immediately after the start of the OS within the VM.</span></span> <span data-ttu-id="55a46-1514">Přesný postup byly popsané v článku znalostní báze SAP [1909114].</span><span class="sxs-lookup"><span data-stu-id="55a46-1514">The exact steps were documented in SAP Knowledge Base Article [1909114].</span></span> <span data-ttu-id="55a46-1515">Však není SAP doporučujeme, aby se použilo nastavení už, protože neexistuje žádný ovládací prvek v pořadí restartování instance, za předpokladu, že více než jeden virtuální počítač nebyl vliv nebo více instancí spustili na virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="55a46-1515">However, SAP is not recommending to use the setting anymore because there is no control in the order of instance restarts, assuming more than one VM got affected or multiple instances ran per VM.</span></span> <span data-ttu-id="55a46-1516">Za předpokladu, že Azure Typický scénář v virtuálního počítače a jeden virtuální počítač nakonec získávání restartování v případě jedné instance serveru aplikace SAP, automatické spuštění není skutečně kritické a lze je povolit přidáním tento parametr:</span><span class="sxs-lookup"><span data-stu-id="55a46-1516">Assuming a typical Azure scenario of one SAP application server instance in a VM and the case of a single VM eventually getting restarted, the Autostart is not really critical and can be enabled by adding this parameter:</span></span>

    Autostart = 1

<span data-ttu-id="55a46-1517">Do profilu spustit instance SAP ABAP nebo Java.</span><span class="sxs-lookup"><span data-stu-id="55a46-1517">Into the start profile of the SAP ABAP and/or Java instance.</span></span>

> [!NOTE]
> <span data-ttu-id="55a46-1518">Některé downfalls také může mít parametr automatické spuštění.</span><span class="sxs-lookup"><span data-stu-id="55a46-1518">The Autostart parameter can have some downfalls as well.</span></span> <span data-ttu-id="55a46-1519">Podrobněji parametr aktivuje spuštění SAP ABAP nebo Java instance při spuštění související služby Windows nebo Linuxem instance.</span><span class="sxs-lookup"><span data-stu-id="55a46-1519">In more detail, the parameter triggers the start of an SAP ABAP or Java instance when the related Windows/Linux service of the instance is started.</span></span> <span data-ttu-id="55a46-1520">Který určitě je případ, kdy se spustí operační systém.</span><span class="sxs-lookup"><span data-stu-id="55a46-1520">That certainly is the case when the operating system boots up.</span></span> <span data-ttu-id="55a46-1521">Ale restartování služby SAP jsou také běžné věcí, kterou funkce správy životního cyklu softwaru SAP jako součet nebo jiné aktualizace nebo aktualizace.</span><span class="sxs-lookup"><span data-stu-id="55a46-1521">However, restarts of SAP services are also a common thing for SAP Software Lifecycle Management functionality like SUM or other updates or upgrades.</span></span> <span data-ttu-id="55a46-1522">Tyto funkce nejsou byla očekávána instance na všechny automaticky restartovat.</span><span class="sxs-lookup"><span data-stu-id="55a46-1522">These functionalities are not expecting an instance to be restarted automatically at all.</span></span> <span data-ttu-id="55a46-1523">Proto by mělo být zakázáno automatické spuštění parametr před spuštěním takových úloh.</span><span class="sxs-lookup"><span data-stu-id="55a46-1523">Therefore, the Autostart parameter should be disabled before running such tasks.</span></span> <span data-ttu-id="55a46-1524">Parametr automatické spuštění také nepoužívejte pro instance SAP, které jsou Clusterované, jako jsou ASC/SCS/CI.</span><span class="sxs-lookup"><span data-stu-id="55a46-1524">The Autostart parameter also should not be used for SAP instances that are clustered, like ASCS/SCS/CI.</span></span>
>
>

<span data-ttu-id="55a46-1525">Zjistit další informace o automatické spuštění pro SAP instance tady:</span><span class="sxs-lookup"><span data-stu-id="55a46-1525">See additional information regarding autostart for SAP instances here:</span></span>

* [<span data-ttu-id="55a46-1526">Spuštění a zastavení SAP společně s vaší spuštění a zastavení serveru systému Unix</span><span class="sxs-lookup"><span data-stu-id="55a46-1526">Start/Stop SAP along with your Unix Server Start/Stop</span></span>](http://scn.sap.com/community/unix/blog/2012/08/07/startstop-sap-along-with-your-unix-server-startstop)
* [<span data-ttu-id="55a46-1527">Spuštění a zastavení SAP NetWeaver správy agentů</span><span class="sxs-lookup"><span data-stu-id="55a46-1527">Starting and Stopping SAP NetWeaver Management Agents</span></span>](https://help.sap.com/saphelp_nwpi711/helpdata/en/49/9a15525b20423ee10000000a421938/content.htm)
* [<span data-ttu-id="55a46-1528">Postup povolení automatického spuštění HANA databáze</span><span class="sxs-lookup"><span data-stu-id="55a46-1528">How to enable auto Start of HANA Database</span></span>](http://www.freehanatutorials.com/2012/10/how-to-enable-auto-start-of-hana.html)

### <a name="larger-3-tier-sap-systems"></a><span data-ttu-id="55a46-1529">Větší systémy SAP vrstvy 3</span><span class="sxs-lookup"><span data-stu-id="55a46-1529">Larger 3-Tier SAP systems</span></span>
<span data-ttu-id="55a46-1530">Aspekty vysoké dostupnosti 3vrstvé SAP konfigurace neobdrželo již popsané v předchozích částech.</span><span class="sxs-lookup"><span data-stu-id="55a46-1530">High-Availability aspects of 3-Tier SAP configurations got discussed in earlier sections already.</span></span> <span data-ttu-id="55a46-1531">Ale co o může být nasazený systémů, kde jsou požadavky na server databázového systému moc velká, aby ji v Azure, ale aplikační vrstvu SAP do Azure?</span><span class="sxs-lookup"><span data-stu-id="55a46-1531">But what about systems where the DBMS server requirements are too large to have it located in Azure, but the SAP application layer could be deployed into Azure?</span></span>

#### <a name="location-of-3-tier-sap-configurations"></a><span data-ttu-id="55a46-1532">Umístění konfigurace SAP vrstvy 3</span><span class="sxs-lookup"><span data-stu-id="55a46-1532">Location of 3-Tier SAP configurations</span></span>
<span data-ttu-id="55a46-1533">Není možné rozdělit aplikační vrstvě samostatně nebo aplikaci a databázového systému vrstvy mezi místními a Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1533">It is not supported to split the application tier itself or the application and DBMS tier between on-premises and Azure.</span></span> <span data-ttu-id="55a46-1534">Systému SAP je buď úplně nasadit místně nebo v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1534">An SAP system is either completely deployed on-premises OR in Azure.</span></span> <span data-ttu-id="55a46-1535">Také se nepodporuje z aplikačních serverů, spusťte místní a jiná v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1535">It is also not supported to have some of the application servers run on-premises and some others in Azure.</span></span> <span data-ttu-id="55a46-1536">Výchozí bod diskuse se.</span><span class="sxs-lookup"><span data-stu-id="55a46-1536">That is the starting point of the discussion.</span></span> <span data-ttu-id="55a46-1537">Můžeme také nejsou podporovány tak, aby měl komponenty databázového systému systému SAP a SAP vrstva aplikačního serveru, který je nasazen ve dvou různých oblastech Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1537">We also are not supporting to have the DBMS components of an SAP system and the SAP application server layer deployed in two different Azure Regions.</span></span> <span data-ttu-id="55a46-1538">Například databázového systému v západní USA a SAP aplikační vrstvu střed USA.</span><span class="sxs-lookup"><span data-stu-id="55a46-1538">For example DBMS in West US and SAP application layer in Central US.</span></span> <span data-ttu-id="55a46-1539">Důvodem nejsou podporovány tyto konfigurace je latence citlivosti SAP NetWeaver architektury.</span><span class="sxs-lookup"><span data-stu-id="55a46-1539">Reason for not supporting such configurations is the latency sensitivity of the SAP NetWeaver architecture.</span></span>

<span data-ttu-id="55a46-1540">Ale v průběhu poslední rok center partnery vyvinuté společné umístění dat do oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1540">However, over the course of last year data center partners developed co-locations to Azure Regions.</span></span> <span data-ttu-id="55a46-1541">Tyto společné umístění často se v velmi těsné blízkosti fyzické dat Azure centrech v rámci oblast Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1541">These co-locations often are in very close proximity to the physical Azure data centers within an Azure Region.</span></span> <span data-ttu-id="55a46-1542">Čekací doba, která je menší než 2 MS může způsobit krátkou vzdálenost a připojení prostředků ve společném umístění prostřednictvím ExpressRoute do Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1542">The short distance and connection of assets in the co-location through ExpressRoute into Azure can result in a latency that is less than 2ms.</span></span> <span data-ttu-id="55a46-1543">V takových případech k vyhledání vrstvě databázového systému (včetně úložiště SAN nebo NAS) ve společném umístění a SAP aplikační vrstvu v Azure je možné.</span><span class="sxs-lookup"><span data-stu-id="55a46-1543">In such cases, to locate the DBMS layer (including storage SAN/NAS) in such a co-location and the SAP application layer in Azure is possible.</span></span> <span data-ttu-id="55a46-1544">Od prosince 2015 nemáme všechna nasazení jako je například.</span><span class="sxs-lookup"><span data-stu-id="55a46-1544">As of Dec 2015, we don’t have any deployments like that.</span></span> <span data-ttu-id="55a46-1545">Ale různých zákazníků, jejichž nasazení aplikace bez SAP již používáte takové přístupy.</span><span class="sxs-lookup"><span data-stu-id="55a46-1545">But different customers with non-SAP application deployments are using such approaches already.</span></span>

### <a name="offline-backup-of-sap-systems"></a><span data-ttu-id="55a46-1546">Offline systémy zálohování SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-1546">Offline Backup of SAP systems</span></span>
<span data-ttu-id="55a46-1547">Závisí na konfiguraci SAP existuje vybrali (vrstvy 2 nebo 3 úrovně) může být potřeba zálohovat.</span><span class="sxs-lookup"><span data-stu-id="55a46-1547">Dependent on the SAP configuration chosen (2-Tier or 3-Tier) there could be a need to back up.</span></span> <span data-ttu-id="55a46-1548">Obsah virtuální počítač plus vytvořit zálohu databáze.</span><span class="sxs-lookup"><span data-stu-id="55a46-1548">The content of the VM itself plus to have a backup of the database.</span></span> <span data-ttu-id="55a46-1549">Očekává se, že zálohy související databázového systému provádět pomocí metod databáze.</span><span class="sxs-lookup"><span data-stu-id="55a46-1549">The DBMS-related backups are expected to be done with database methods.</span></span> <span data-ttu-id="55a46-1550">Podrobný popis různých databází, najdete v [databázového systému průvodce][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-1550">A detailed description for the different databases, can be found in [DBMS Guide][dbms-guide].</span></span> <span data-ttu-id="55a46-1551">Na druhé straně SAP data můžete zálohovat offline způsobem (včetně k databázi obsahu) jak je popsáno v této části nebo online jak je popsáno v následující části.</span><span class="sxs-lookup"><span data-stu-id="55a46-1551">On the other hand, the SAP data can be backed up in an offline manner (including the database content as well) as described in this section or online as described in the next section.</span></span>

<span data-ttu-id="55a46-1552">Zálohování offline by vyžadovaly v podstatě vypnutí virtuálního počítače prostřednictvím portálu Azure a kopírovat základní disk virtuálního počítače a všechny připojené disky na virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="55a46-1552">The offline backup would basically require a shutdown of the VM through the Azure portal and a copy of the base VM disk plus all attached disks to the VM.</span></span> <span data-ttu-id="55a46-1553">To by zachovávají bod čas Image virtuálního počítače a jeho přidružené disk.</span><span class="sxs-lookup"><span data-stu-id="55a46-1553">This would preserve a point in time image of the VM and its associated disk.</span></span> <span data-ttu-id="55a46-1554">Doporučuje se pro kopírování v zálohování do jiný účet úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1554">It is recommended to copy the ‘backups’ into a different Azure Storage Account.</span></span> <span data-ttu-id="55a46-1555">Proto postup popsaný v kapitole [kopírování disků mezi účty úložiště Azure] [ planning-guide-5.4.2] by použití tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1555">Hence the procedure described in chapter [Copying disks between Azure Storage Accounts][planning-guide-5.4.2] of this document would apply.</span></span>
<span data-ttu-id="55a46-1556">Kromě ukončení pomocí portálu Azure, jeden můžete také provést pomocí prostředí Powershell nebo rozhraní příkazového řádku podle postupu popsaného tady: <https://azure.microsoft.com/documentation/articles/virtual-machines-deploy-rmtemplates-powershell/></span><span class="sxs-lookup"><span data-stu-id="55a46-1556">Besides the shutdown using the Azure portal one can also do it via Powershell or CLI as described here: <https://azure.microsoft.com/documentation/articles/virtual-machines-deploy-rmtemplates-powershell/></span></span>

<span data-ttu-id="55a46-1557">Obnovení tohoto stavu by obsahovat odstranění základní virtuální počítač, jakož i původní disky virtuálního počítače základní a připojené disky, kopírování uložené disků zpět do původní účet úložiště nebo prostředek skupiny pro spravované disky a potom znovu nasazovat systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-1557">A restore of that state would consist of deleting the base VM as well as the original disks of the base VM and mounted disks, copying back the saved disks to the original Storage Account or resource group for managed disks and then redeploying the system.</span></span>
<span data-ttu-id="55a46-1558">Tento článek ukazuje příklad skriptu tento proces v prostředí Powershell: <http://www.westerndevs.com/azure-snapshots/></span><span class="sxs-lookup"><span data-stu-id="55a46-1558">This article shows an example how to script this process in Powershell: <http://www.westerndevs.com/azure-snapshots/></span></span>

<span data-ttu-id="55a46-1559">Zkontrolujte, zda nainstalovat novou licenci SAP, protože obnovování zálohování virtuálních počítačů, jak je popsáno výše vytvoří nový klíč hardwaru.</span><span class="sxs-lookup"><span data-stu-id="55a46-1559">Please make sure to install a new SAP license since restoring a VM backup as described above creates a new hardware key.</span></span>

### <a name="online-backup-of-an-sap-system"></a><span data-ttu-id="55a46-1560">Online zálohování systému SAP</span><span class="sxs-lookup"><span data-stu-id="55a46-1560">Online backup of an SAP system</span></span>
<span data-ttu-id="55a46-1561">Zálohování databázového systému se provádí pomocí metody specifické databázového systému, jak je popsáno v [databázového systému průvodce][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-1561">Backup of the DBMS is performed with DBMS-specific methods as described in the [DBMS Guide][dbms-guide].</span></span>

<span data-ttu-id="55a46-1562">Ostatní virtuální počítače v systému SAP lze zálohovat pomocí funkce zálohování virtuálních počítačů Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1562">Other VMs within the SAP system can be backed up using Azure Virtual Machine Backup functionality.</span></span> <span data-ttu-id="55a46-1563">Zálohování virtuálního počítače Azure získali zavedená v rané fázi 2015 a mezitím je standardní metoda zálohování dokončení virtuálního počítače v Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1563">Azure Virtual Machine Backup got introduced early in 2015 and meanwhile is a standard method to back up a complete VM in Azure.</span></span> <span data-ttu-id="55a46-1564">Zálohování Azure ukládá zálohování v Azure a umožňuje obnovení virtuálního počítače znovu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1564">Azure Backup stores the backups in Azure and allows a restore of a VM again.</span></span>

> [!NOTE]
> <span data-ttu-id="55a46-1565">Od prosince 2015 pomocí zálohování virtuálních počítačů by neměly být jedinečné ID virtuálního počítače, který se používá pro SAP licencování.</span><span class="sxs-lookup"><span data-stu-id="55a46-1565">As of Dec 2015 using VM Backup does NOT keep the unique VM ID which is used for SAP licensing.</span></span> <span data-ttu-id="55a46-1566">To znamená, že obnovení ze zálohy virtuálního počítače vyžaduje instalaci nový licenční klíč SAP jako obnovený virtuální počítač se považuje za nového virtuálního počítače a není to náhrada bývalé ta, která byla uložena.</span><span class="sxs-lookup"><span data-stu-id="55a46-1566">This means that a restore from a VM backup requires installation of a new SAP license key as the restored VM is considered to be a new VM and not a replacement of the former one which was saved.</span></span>
>
> ![Windows][Logo_Windows] <span data-ttu-id="55a46-1568">Windows</span><span class="sxs-lookup"><span data-stu-id="55a46-1568">Windows</span></span>
>
> <span data-ttu-id="55a46-1569">Teoreticky, virtuálních počítačů, které spuštění databáze lze zálohovat konzistentním způsobem také pokud databázového systému systém podporuje systému Windows VSS (služby Stínová kopie svazku <https://msdn.microsoft.com/library/windows/desktop/bb968832(v=vs.85).aspx>) jako je například SQL Server neexistuje.</span><span class="sxs-lookup"><span data-stu-id="55a46-1569">Theoretically, VMs that run databases can be backed up in a consistent manner as well if the DBMS system supports the Windows VSS (Volume Shadow Copy Service <https://msdn.microsoft.com/library/windows/desktop/bb968832(v=vs.85).aspx>) as, for example, SQL Server does.</span></span>
> <span data-ttu-id="55a46-1570">Upozorňujeme však, založený na zálohování virtuálního počítače Azure, které v daném okamžiku obnoví databází nejsou možné.</span><span class="sxs-lookup"><span data-stu-id="55a46-1570">However, be aware that based on Azure VM backups point-in-time restores of databases are not possible.</span></span> <span data-ttu-id="55a46-1571">Proto doporučujeme provést zálohování databází s funkcemi databázového systému, aniž byste museli spoléhat na zálohování virtuálních počítačů Azure.</span><span class="sxs-lookup"><span data-stu-id="55a46-1571">Therefore, the recommendation is to perform backups of databases with DBMS functionality instead of relying on Azure VM Backup.</span></span>
>
> <span data-ttu-id="55a46-1572">Abyste se seznámili s zálohování virtuálních počítačů Azure, spusťte zde: <https://docs.microsoft.com/azure/backup/backup-azure-vms>.</span><span class="sxs-lookup"><span data-stu-id="55a46-1572">To get familiar with Azure Virtual Machine Backup please start here: <https://docs.microsoft.com/azure/backup/backup-azure-vms>.</span></span>
>
> <span data-ttu-id="55a46-1573">Další možnosti se mají použít kombinaci aplikace Microsoft Data Protection Manager nainstalovat do virtuálního počítače Azure a Azure Backup k zálohování a obnovení databáze.</span><span class="sxs-lookup"><span data-stu-id="55a46-1573">Other possibilities are to use a combination of Microsoft Data Protection Manager installed in an Azure VM and Azure Backup to backup/restore databases.</span></span> <span data-ttu-id="55a46-1574">Další informace naleznete zde: <https://docs.microsoft.com/azure/backup/backup-azure-dpm-introduction>.</span><span class="sxs-lookup"><span data-stu-id="55a46-1574">More information can be found here: <https://docs.microsoft.com/azure/backup/backup-azure-dpm-introduction>.</span></span>  
>
> ![Linux][Logo_Linux] <span data-ttu-id="55a46-1576">Linux</span><span class="sxs-lookup"><span data-stu-id="55a46-1576">Linux</span></span>
>
> <span data-ttu-id="55a46-1577">Neexistuje žádný ekvivalent VSS systému Windows v systému Linux.</span><span class="sxs-lookup"><span data-stu-id="55a46-1577">There is no equivalent to Windows VSS in Linux.</span></span> <span data-ttu-id="55a46-1578">Pouze konzistentními soubory zálohy jsou proto možná, ale není konzistentní s aplikací zálohování.</span><span class="sxs-lookup"><span data-stu-id="55a46-1578">Therefore only file-consistent backups are possible but not application-consistent backups.</span></span> <span data-ttu-id="55a46-1579">Zálohování databázového systému SAP by mělo být provedeno pomocí funkce databázového systému.</span><span class="sxs-lookup"><span data-stu-id="55a46-1579">The SAP DBMS backup should be done using DBMS functionality.</span></span> <span data-ttu-id="55a46-1580">Systém souborů, které zahrnují data související s SAP lze uložit, například pomocí vkládání popsaný tady: <http://help.sap.com/saphelp_nw70ehp2/helpdata/en/d3/c0da3ccbb04d35b186041ba6ac301f/content.htm></span><span class="sxs-lookup"><span data-stu-id="55a46-1580">The file system which includes the SAP-related data can be saved, for example, using tar as described here: <http://help.sap.com/saphelp_nw70ehp2/helpdata/en/d3/c0da3ccbb04d35b186041ba6ac301f/content.htm></span></span>
>
>

### <a name="azure-as-dr-site-for-production-sap-landscapes"></a><span data-ttu-id="55a46-1581">Azure jako web zotavení po Havárii pro produkční prostředí SAP krajiny</span><span class="sxs-lookup"><span data-stu-id="55a46-1581">Azure as DR site for production SAP landscapes</span></span>
<span data-ttu-id="55a46-1582">Rozšíření pro různé součásti kolem technologie Hyper-V, System Center a Azure od Mid 2014, povolit používání Azure jako lokalita zotavení po Havárii pro virtuální počítače spuštěné místní založené na technologii Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="55a46-1582">Since Mid 2014, extensions to various components around Hyper-V, System Center and Azure enable the usage of Azure as DR site for VMs running on-premises based on Hyper-V.</span></span>

<span data-ttu-id="55a46-1583">Blog s podrobnostmi o tom, jak nasadit toto řešení je tady popisujeme: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/11/19/protecting-sap-solutions-with-azure-site-recovery.aspx>.</span><span class="sxs-lookup"><span data-stu-id="55a46-1583">A blog detailing how to deploy this solution is documented here: <http://blogs.msdn.com/b/saponsqlserver/archive/2014/11/19/protecting-sap-solutions-with-azure-site-recovery.aspx>.</span></span>

## <a name="summary"></a><span data-ttu-id="55a46-1584">Souhrn</span><span class="sxs-lookup"><span data-stu-id="55a46-1584">Summary</span></span>
<span data-ttu-id="55a46-1585">Klíčové body vysoké dostupnosti pro SAP systémy v Azure jsou:</span><span class="sxs-lookup"><span data-stu-id="55a46-1585">The key points of High Availability for SAP systems in Azure are:</span></span>

* <span data-ttu-id="55a46-1586">V tuto chvíli SAP jediný bod selhání nelze zabezpečit přesně stejně jako je možné ji provést v místním nasazení.</span><span class="sxs-lookup"><span data-stu-id="55a46-1586">At this point in time, the SAP single point of failure cannot be secured exactly the same way as it can be done in on-premises deployments.</span></span> <span data-ttu-id="55a46-1587">Důvodem je, že sdíleného disku ještě nemůže být sestaven clustery v Azure bez použití softwaru 3. stran.</span><span class="sxs-lookup"><span data-stu-id="55a46-1587">The reason is that Shared Disk clusters can’t yet be built in Azure without the use of 3rd party software.</span></span>
* <span data-ttu-id="55a46-1588">Pro vrstvu databázového systému, budete muset použít funkce databázového systému, který není závislý na sdílený disk clusteru technologie.</span><span class="sxs-lookup"><span data-stu-id="55a46-1588">For the DBMS layer you need to use DBMS functionality that does not rely on shared disk cluster technology.</span></span> <span data-ttu-id="55a46-1589">Podrobnosti jsou dokumentovány v článku [databázového systému průvodce][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-1589">Details are documented in the [DBMS Guide][dbms-guide].</span></span>
* <span data-ttu-id="55a46-1590">Chcete-li minimalizovat dopad problémy v rámci domén selhání v Azure údržba infrastruktury nebo hostitele, byste měli používat skupiny dostupnosti Azure:</span><span class="sxs-lookup"><span data-stu-id="55a46-1590">To minimize the impact of problems within Fault Domains in the Azure infrastructure or host maintenance, you should use Azure Availability Sets:</span></span>
  * <span data-ttu-id="55a46-1591">Doporučujeme mít jednu sadu dostupnosti pro SAP aplikační vrstvu.</span><span class="sxs-lookup"><span data-stu-id="55a46-1591">It is recommended to have one Availability Set for the SAP application layer.</span></span>
  * <span data-ttu-id="55a46-1592">Doporučuje se mít samostatnou sadu dostupnosti pro vrstvu databázového systému SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1592">It is recommended to have a separate Availability Set for the SAP DBMS layer.</span></span>
  * <span data-ttu-id="55a46-1593">NENÍ doporučujeme použít stejnou sadu dostupnosti pro virtuální počítače různých systémů SAP.</span><span class="sxs-lookup"><span data-stu-id="55a46-1593">It is NOT recommended to apply the same Availability set for VMs of different SAP systems.</span></span>
  * <span data-ttu-id="55a46-1594">Doporučujeme použít prémiové disky spravované.</span><span class="sxs-lookup"><span data-stu-id="55a46-1594">It is recommended to use Premium Managed Disks.</span></span>
* <span data-ttu-id="55a46-1595">Pro účely zálohování vrstvy databázového systému SAP, zkontrolujte, zda [databázového systému průvodce][dbms-guide].</span><span class="sxs-lookup"><span data-stu-id="55a46-1595">For Backup purposes of the SAP DBMS layer, please check the [DBMS Guide][dbms-guide].</span></span>
* <span data-ttu-id="55a46-1596">Zálohování instance SAP dialogové okno má moc smysl vzhledem k tomu, že je obvykle rychlejší znovu nasadit jednoduchý dialogu instancí.</span><span class="sxs-lookup"><span data-stu-id="55a46-1596">Backing up SAP Dialog instances makes little sense since it is usually faster to redeploy simple dialog instances.</span></span>
* <span data-ttu-id="55a46-1597">Zálohování virtuálních počítačů, které obsahuje globální adresář systému SAP a s ním všechny profily různých instancí dává smysl a opakuje zálohování nebo, například funkce vkládání v systému Linux.</span><span class="sxs-lookup"><span data-stu-id="55a46-1597">Backing up the VM which contains the global directory of the SAP system and with it all the profiles of the different instances, does make sense and should be performed with Windows Backup or, for example, tar on Linux.</span></span> <span data-ttu-id="55a46-1598">Vzhledem k tomu, že jsou rozdíly mezi Windows Server 2008 (R2) a Windows Server 2012 (R2), které usnadňují zálohování pomocí novější systému Windows Server verze, doporučujeme spustit jako Windows hostovaný operační systém Windows Server 2012 (R2).</span><span class="sxs-lookup"><span data-stu-id="55a46-1598">Since there are differences between Windows Server 2008 (R2) and Windows Server 2012 (R2), which make it easier to back up using the more recent Windows Server releases, we recommend to run Windows Server 2012 (R2) as Windows guest operating system.</span></span>
