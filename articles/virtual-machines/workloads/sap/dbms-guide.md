---
title: "Nasazení virtuálních počítačů databázového systému Azure pro SAP NetWeaver | Microsoft Docs"
description: "Nasazení virtuálních počítačů databázového systému Azure pro SAP NetWeaver"
services: virtual-machines-linux,virtual-machines-windows
documentationcenter: 
author: MSSedusch
manager: timlt
editor: 
tags: azure-resource-manager
keywords: 
ms.assetid: 5654dac7-4204-4387-b312-3d8b2898eb3a
ms.service: virtual-machines-linux
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 11/08/2016
ms.author: sedusch
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 1046d32a0b4b6ede027ef1931314a188c64c94bb
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="azure-virtual-machines-dbms-deployment-for-sap-netweaver"></a><span data-ttu-id="06ff0-103">Nasazení virtuálních počítačů databázového systému Azure pro SAP NetWeaver</span><span class="sxs-lookup"><span data-stu-id="06ff0-103">Azure Virtual Machines DBMS deployment for SAP NetWeaver</span></span>
[767598]:https://launchpad.support.sap.com/#/notes/767598
[773830]:https://launchpad.support.sap.com/#/notes/773830
[826037]:https://launchpad.support.sap.com/#/notes/826037
[965908]:https://launchpad.support.sap.com/#/notes/965908
[1031096]:https://launchpad.support.sap.com/#/notes/1031096
[1114181]:https://launchpad.support.sap.com/#/notes/1114181
[1139904]:https://launchpad.support.sap.com/#/notes/1139904
[1173395]:https://launchpad.support.sap.com/#/notes/1173395
[1245200]:https://launchpad.support.sap.com/#/notes/1245200
[1409604]:https://launchpad.support.sap.com/#/notes/1409604
[1558958]:https://launchpad.support.sap.com/#/notes/1558958
[1585981]:https://launchpad.support.sap.com/#/notes/1585981
[1588316]:https://launchpad.support.sap.com/#/notes/1588316
[1590719]:https://launchpad.support.sap.com/#/notes/1590719
[1597355]:https://launchpad.support.sap.com/#/notes/1597355
[1605680]:https://launchpad.support.sap.com/#/notes/1605680
[1619720]:https://launchpad.support.sap.com/#/notes/1619720
[1619726]:https://launchpad.support.sap.com/#/notes/1619726
[1619967]:https://launchpad.support.sap.com/#/notes/1619967
[1750510]:https://launchpad.support.sap.com/#/notes/1750510
[1752266]:https://launchpad.support.sap.com/#/notes/1752266
[1757924]:https://launchpad.support.sap.com/#/notes/1757924
[1757928]:https://launchpad.support.sap.com/#/notes/1757928
[1758182]:https://launchpad.support.sap.com/#/notes/1758182
[1758496]:https://launchpad.support.sap.com/#/notes/1758496
[1772688]:https://launchpad.support.sap.com/#/notes/1772688
[1814258]:https://launchpad.support.sap.com/#/notes/1814258
[1882376]:https://launchpad.support.sap.com/#/notes/1882376
[1909114]:https://launchpad.support.sap.com/#/notes/1909114
[1922555]:https://launchpad.support.sap.com/#/notes/1922555
[1928533]:https://launchpad.support.sap.com/#/notes/1928533
[1941500]:https://launchpad.support.sap.com/#/notes/1941500
[1956005]:https://launchpad.support.sap.com/#/notes/1956005
[1973241]:https://launchpad.support.sap.com/#/notes/1973241
[1984787]:https://launchpad.support.sap.com/#/notes/1984787
[1999351]:https://launchpad.support.sap.com/#/notes/1999351
[2002167]:https://launchpad.support.sap.com/#/notes/2002167
[2015553]:https://launchpad.support.sap.com/#/notes/2015553
[2039619]:https://launchpad.support.sap.com/#/notes/2039619
[2069760]:https://launchpad.support.sap.com/#/notes/2069760
[2121797]:https://launchpad.support.sap.com/#/notes/2121797
[2134316]:https://launchpad.support.sap.com/#/notes/2134316
[2171857]:https://launchpad.support.sap.com/#/notes/2171857
[2178632]:https://launchpad.support.sap.com/#/notes/2178632
[2191498]:https://launchpad.support.sap.com/#/notes/2191498
[2233094]:https://launchpad.support.sap.com/#/notes/2233094
[2243692]:https://launchpad.support.sap.com/#/notes/2243692

[azure-cli]:../../../cli-install-nodejs.md
[azure-portal]:https://portal.azure.com
[azure-ps]:/powershell/azureps-cmdlets-docs
[azure-quickstart-templates-github]:https://github.com/Azure/azure-quickstart-templates
[azure-script-ps]:https://go.microsoft.com/fwlink/p/?LinkID=395017
[azure-subscription-service-limits]:../../../azure-subscription-service-limits.md
[azure-subscription-service-limits-subscription]:../../../azure-subscription-service-limits.md#subscription-limits

[dbms-guide]:dbms-guide.md 
[dbms-guide-2.1]:dbms-guide.md#c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f 
[dbms-guide-2.2]:dbms-guide.md#c8e566f9-21b7-4457-9f7f-126036971a91 
[dbms-guide-2.3]:dbms-guide.md#10b041ef-c177-498a-93ed-44b3441ab152 
[dbms-guide-2]:dbms-guide.md#65fa79d6-a85f-47ee-890b-22e794f51a64 
[dbms-guide-3]:dbms-guide.md#871dfc27-e509-4222-9370-ab1de77021c3 
[dbms-guide-5.5.1]:dbms-guide.md#0fef0e79-d3fe-4ae2-85af-73666a6f7268 
[dbms-guide-5.5.2]:dbms-guide.md#f9071eff-9d72-4f47-9da4-1852d782087b 
[dbms-guide-5.6]:dbms-guide.md#1b353e38-21b3-4310-aeb6-a77e7c8e81c8 
[dbms-guide-5.8]:dbms-guide.md#9053f720-6f3b-4483-904d-15dc54141e30 
[dbms-guide-5]:dbms-guide.md#3264829e-075e-4d25-966e-a49dad878737 
[dbms-guide-8.4.1]:dbms-guide.md#b48cfe3b-48e9-4f5b-a783-1d29155bd573 
[dbms-guide-8.4.2]:dbms-guide.md#23c78d3b-ca5a-4e72-8a24-645d141a3f5d 
[dbms-guide-8.4.3]:dbms-guide.md#77cd2fbb-307e-4cbf-a65f-745553f72d2c 
[dbms-guide-8.4.4]:dbms-guide.md#f77c1436-9ad8-44fb-a331-8671342de818 
[dbms-guide-900-sap-cache-server-on-premises]:dbms-guide.md#642f746c-e4d4-489d-bf63-73e80177a0a8
[dbms-guide-managed-disks]:dbms-guide.md#f42c6cb5-d563-484d-9667-b07ae51bce29

[dbms-guide-figure-100]:media/virtual-machines-shared-sap-dbms-guide/100_storage_account_types.png
[dbms-guide-figure-200]:media/virtual-machines-shared-sap-dbms-guide/200-ha-set-for-dbms-ha.png
[dbms-guide-figure-300]:media/virtual-machines-shared-sap-dbms-guide/300-reference-config-iaas.png
[dbms-guide-figure-400]:media/virtual-machines-shared-sap-dbms-guide/400-sql-2012-backup-to-blob-storage.png
[dbms-guide-figure-500]:media/virtual-machines-shared-sap-dbms-guide/500-sql-2012-backup-to-blob-storage-different-containers.png
[dbms-guide-figure-600]:media/virtual-machines-shared-sap-dbms-guide/600-iaas-maxdb.png
[dbms-guide-figure-700]:media/virtual-machines-shared-sap-dbms-guide/700-livecach-prod.png
[dbms-guide-figure-800]:media/virtual-machines-shared-sap-dbms-guide/800-azure-vm-sap-content-server.png
[dbms-guide-figure-900]:media/virtual-machines-shared-sap-dbms-guide/900-sap-cache-server-on-premises.png

[deployment-guide]:deployment-guide.md 
[deployment-guide-2.2]:deployment-guide.md#42ee2bdb-1efc-4ec7-ab31-fe4c22769b94 
[deployment-guide-3.1.2]:deployment-guide.md#3688666f-281f-425b-a312-a77e7db2dfab 
[deployment-guide-3.2]:deployment-guide.md#db477013-9060-4602-9ad4-b0316f8bb281 
[deployment-guide-3.3]:deployment-guide.md#54a1fc6d-24fd-4feb-9c57-ac588a55dff2 
[deployment-guide-3.4]:deployment-guide.md#a9a60133-a763-4de8-8986-ac0fa33aa8c1 
[deployment-guide-3]:deployment-guide.md#b3253ee3-d63b-4d74-a49b-185e76c4088e 
[deployment-guide-4.1]:deployment-guide.md#604bcec2-8b6e-48d2-a944-61b0f5dee2f7 
[deployment-guide-4.2]:deployment-guide.md#7ccf6c3e-97ae-4a7a-9c75-e82c37beb18e 
[deployment-guide-4.3]:deployment-guide.md#31d9ecd6-b136-4c73-b61e-da4a29bbc9cc 
[deployment-guide-4.4.2]:deployment-guide.md#6889ff12-eaaf-4f3c-97e1-7c9edc7f7542 
[deployment-guide-4.4]:deployment-guide.md#c7cbb0dc-52a4-49db-8e03-83e7edc2927d 
[deployment-guide-4.5.1]:deployment-guide.md#987cf279-d713-4b4c-8143-6b11589bb9d4 
[deployment-guide-4.5.2]:deployment-guide.md#408f3779-f422-4413-82f8-c57a23b4fc2f 
[deployment-guide-4.5]:deployment-guide.md#d98edcd3-f2a1-49f7-b26a-07448ceb60ca 
[deployment-guide-5.1]:deployment-guide.md#bb61ce92-8c5c-461f-8c53-39f5e5ed91f2 
[deployment-guide-5.2]:deployment-guide.md#e2d592ff-b4ea-4a53-a91a-e5521edb6cd1
[deployment-guide-5.3]:deployment-guide.md#fe25a7da-4e4e-4388-8907-8abc2d33cfd8 

[deployment-guide-configure-monitoring-scenario-1]:deployment-guide.md#ec323ac3-1de9-4c3a-b770-4ff701def65b 
[deployment-guide-configure-proxy]:deployment-guide.md#baccae00-6f79-4307-ade4-40292ce4e02d 
[deployment-guide-figure-100]:media/virtual-machines-shared-sap-deployment-guide/100-deploy-vm-image.png
[deployment-guide-figure-1000]:media/virtual-machines-shared-sap-deployment-guide/1000-service-properties.png
[deployment-guide-figure-11]:deployment-guide.md#figure-11
[deployment-guide-figure-1100]:media/virtual-machines-shared-sap-deployment-guide/1100-azperflib.png
[deployment-guide-figure-1200]:media/virtual-machines-shared-sap-deployment-guide/1200-cmd-test-login.png
[deployment-guide-figure-1300]:media/virtual-machines-shared-sap-deployment-guide/1300-cmd-test-executed.png
[deployment-guide-figure-14]:deployment-guide.md#figure-14
[deployment-guide-figure-1400]:media/virtual-machines-shared-sap-deployment-guide/1400-azperflib-error-servicenotstarted.png
[deployment-guide-figure-300]:media/virtual-machines-shared-sap-deployment-guide/300-deploy-private-image.png
[deployment-guide-figure-400]:media/virtual-machines-shared-sap-deployment-guide/400-deploy-using-disk.png
[deployment-guide-figure-5]:deployment-guide.md#figure-5
[deployment-guide-figure-50]:media/virtual-machines-shared-sap-deployment-guide/50-forced-tunneling-suse.png
[deployment-guide-figure-500]:media/virtual-machines-shared-sap-deployment-guide/500-install-powershell.png
[deployment-guide-figure-6]:deployment-guide.md#figure-6
[deployment-guide-figure-600]:media/virtual-machines-shared-sap-deployment-guide/600-powershell-version.png
[deployment-guide-figure-7]:deployment-guide.md#figure-7
[deployment-guide-figure-700]:media/virtual-machines-shared-sap-deployment-guide/700-install-powershell-installed.png
[deployment-guide-figure-760]:media/virtual-machines-shared-sap-deployment-guide/760-azure-cli-version.png
[deployment-guide-figure-900]:media/virtual-machines-shared-sap-deployment-guide/900-cmd-update-executed.png
[deployment-guide-figure-azure-cli-installed]:deployment-guide.md#402488e5-f9bb-4b29-8063-1c5f52a892d0
[deployment-guide-figure-azure-cli-version]:deployment-guide.md#0ad010e6-f9b5-4c21-9c09-bb2e5efb3fda
[deployment-guide-install-vm-agent-windows]:deployment-guide.md#b2db5c9a-a076-42c6-9835-16945868e866
[deployment-guide-troubleshooting-chapter]:deployment-guide.md#564adb4f-5c95-4041-9616-6635e83a810b

[deploy-template-cli]:../../../resource-group-template-deploy-cli.md
[deploy-template-portal]:../../../resource-group-template-deploy-portal.md
[deploy-template-powershell]:../../../resource-group-template-deploy.md

[dr-guide-classic]:http://go.microsoft.com/fwlink/?LinkID=521971

[getting-started]:get-started.md
[getting-started-dbms]:get-started.md#1343ffe1-8021-4ce6-a08d-3a1553a4db82
[getting-started-deployment]:get-started.md#6aadadd2-76b5-46d8-8713-e8d63630e955
[getting-started-planning]:get-started.md#3da0389e-708b-4e82-b2a2-e92f132df89c

[getting-started-windows-classic]:../../virtual-machines-windows-classic-sap-get-started.md
[getting-started-windows-classic-dbms]:../../virtual-machines-windows-classic-sap-get-started.md#c5b77a14-f6b4-44e9-acab-4d28ff72a930
[getting-started-windows-classic-deployment]:../../virtual-machines-windows-classic-sap-get-started.md#f84ea6ce-bbb4-41f7-9965-34d31b0098ea
[getting-started-windows-classic-dr]:../../virtual-machines-windows-classic-sap-get-started.md#cff10b4a-01a5-4dc3-94b6-afb8e55757d3
[getting-started-windows-classic-ha-sios]:../../virtual-machines-windows-classic-sap-get-started.md#4bb7512c-0fa0-4227-9853-4004281b1037
[getting-started-windows-classic-planning]:../../virtual-machines-windows-classic-sap-get-started.md#f2a5e9d8-49e4-419e-9900-af783173481c

[ha-guide-classic]:http://go.microsoft.com/fwlink/?LinkId=613056

[install-extension-cli]:virtual-machines-linux-enable-aem.md

[Logo_Linux]:media/virtual-machines-shared-sap-shared/Linux.png
[Logo_Windows]:media/virtual-machines-shared-sap-shared/Windows.png

[msdn-set-azurermvmaemextension]:https://msdn.microsoft.com/library/azure/mt670598.aspx

[planning-guide]:planning-guide.md 
[planning-guide-1.2]:planning-guide.md#e55d1e22-c2c8-460b-9897-64622a34fdff 
[planning-guide-11]:planning-guide.md#7cf991a1-badd-40a9-944e-7baae842a058 
[planning-guide-11.4.1]:planning-guide.md#5d9d36f9-9058-435d-8367-5ad05f00de77 
[planning-guide-11.5]:planning-guide.md#4e165b58-74ca-474f-a7f4-5e695a93204f 
[planning-guide-2.1]:planning-guide.md#1625df66-4cc6-4d60-9202-de8a0b77f803 
[planning-guide-2.2]:planning-guide.md#f5b3b18c-302c-4bd8-9ab2-c388f1ab3d10 
[planning-guide-3.1]:planning-guide.md#be80d1b9-a463-4845-bd35-f4cebdb5424a 
[planning-guide-3.2.1]:planning-guide.md#df49dc09-141b-4f34-a4a2-990913b30358 
[planning-guide-3.2.2]:planning-guide.md#fc1ac8b2-e54a-487c-8581-d3cc6625e560 
[planning-guide-3.2.3]:planning-guide.md#18810088-f9be-4c97-958a-27996255c665 
[planning-guide-3.2]:planning-guide.md#8d8ad4b8-6093-4b91-ac36-ea56d80dbf77 
[planning-guide-3.3.2]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 
[planning-guide-5.1.1]:planning-guide.md#4d175f1b-7353-4137-9d2f-817683c26e53 
[planning-guide-5.1.2]:planning-guide.md#e18f7839-c0e2-4385-b1e6-4538453a285c 
[planning-guide-5.2.1]:planning-guide.md#1b287330-944b-495d-9ea7-94b83aff73ef 
[planning-guide-5.2.2]:planning-guide.md#57f32b1c-0cba-4e57-ab6e-c39fe22b6ec3 
[planning-guide-5.2]:planning-guide.md#6ffb9f41-a292-40bf-9e70-8204448559e7 
[planning-guide-5.3.1]:planning-guide.md#6e835de8-40b1-4b71-9f18-d45b20959b79 
[planning-guide-5.3.2]:planning-guide.md#a43e40e6-1acc-4633-9816-8f095d5a7b6a 
[planning-guide-5.4.2]:planning-guide.md#9789b076-2011-4afa-b2fe-b07a8aba58a1 
[planning-guide-5.5.1]:planning-guide.md#4efec401-91e0-40c0-8e64-f2dceadff646 
[planning-guide-5.5.3]:planning-guide.md#17e0d543-7e8c-4160-a7da-dd7117a1ad9d 
[planning-guide-7.1]:planning-guide.md#3e9c3690-da67-421a-bc3f-12c520d99a30 
[planning-guide-7]:planning-guide.md#96a77628-a05e-475d-9df3-fb82217e8f14 
[planning-guide-9.1]:planning-guide.md#6f0a47f3-a289-4090-a053-2521618a28c3 
[planning-guide-azure-premium-storage]:planning-guide.md#ff5ad0f9-f7f4-4022-9102-af07aef3bc92 

[planning-guide-figure-100]:media/virtual-machines-shared-sap-planning-guide/100-single-vm-in-azure.png
[planning-guide-figure-1300]:media/virtual-machines-shared-sap-planning-guide/1300-ref-config-iaas-for-sap.png
[planning-guide-figure-1400]:media/virtual-machines-shared-sap-planning-guide/1400-attach-detach-disks.png
[planning-guide-figure-1600]:media/virtual-machines-shared-sap-planning-guide/1600-firewall-port-rule.png
[planning-guide-figure-1700]:media/virtual-machines-shared-sap-planning-guide/1700-single-vm-demo.png
[planning-guide-figure-1900]:media/virtual-machines-shared-sap-planning-guide/1900-vm-set-vnet.png
[planning-guide-figure-200]:media/virtual-machines-shared-sap-planning-guide/200-multiple-vms-in-azure.png
[planning-guide-figure-2100]:media/virtual-machines-shared-sap-planning-guide/2100-s2s.png
[planning-guide-figure-2200]:media/virtual-machines-shared-sap-planning-guide/2200-network-printing.png
[planning-guide-figure-2300]:media/virtual-machines-shared-sap-planning-guide/2300-sapgui-stms.png
[planning-guide-figure-2400]:media/virtual-machines-shared-sap-planning-guide/2400-vm-extension-overview.png
[planning-guide-figure-2500]:media/virtual-machines-shared-sap-planning-guide/2500-vm-extension-details.png
[planning-guide-figure-2600]:media/virtual-machines-shared-sap-planning-guide/2600-sap-router-connection.png
[planning-guide-figure-2700]:media/virtual-machines-shared-sap-planning-guide/2700-exposed-sap-portal.png
[planning-guide-figure-2800]:media/virtual-machines-shared-sap-planning-guide/2800-endpoint-config.png
[planning-guide-figure-2900]:media/virtual-machines-shared-sap-planning-guide/2900-azure-ha-sap-ha.png
[planning-guide-figure-300]:media/virtual-machines-shared-sap-planning-guide/300-vpn-s2s.png
[planning-guide-figure-3000]:media/virtual-machines-shared-sap-planning-guide/3000-sap-ha-on-azure.png
[planning-guide-figure-3200]:media/virtual-machines-shared-sap-planning-guide/3200-sap-ha-with-sql.png
[planning-guide-figure-400]:media/virtual-machines-shared-sap-planning-guide/400-vm-services.png
[planning-guide-figure-600]:media/virtual-machines-shared-sap-planning-guide/600-s2s-details.png
[planning-guide-figure-700]:media/virtual-machines-shared-sap-planning-guide/700-decision-tree-deploy-to-azure.png
[planning-guide-figure-800]:media/virtual-machines-shared-sap-planning-guide/800-portal-vm-overview.png
[planning-guide-microsoft-azure-networking]:planning-guide.md#61678387-8868-435d-9f8c-450b2424f5bd 
[planning-guide-storage-microsoft-azure-storage-and-data-disks]:planning-guide.md#a72afa26-4bf4-4a25-8cf7-855d6032157f 

[powershell-install-configure]:https://docs.microsoft.com/powershell/azure/install-azurerm-ps
[resource-group-authoring-templates]:../../../resource-group-authoring-templates.md
[resource-group-overview]:../../../azure-resource-manager/resource-group-overview.md
[resource-groups-networking]:../../../virtual-network/resource-groups-networking.md
[sap-pam]:https://support.sap.com/pam 
[sap-templates-2-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-2-tier-os-disk]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-disk%2Fazuredeploy.json
[sap-templates-2-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-2-tier-user-image%2Fazuredeploy.json
[sap-templates-3-tier-marketplace-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-marketplace-image%2Fazuredeploy.json
[sap-templates-3-tier-user-image]:https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2Fsap-3-tier-user-image%2Fazuredeploy.json
[storage-azure-cli]:../../../storage/common/storage-azure-cli.md
[storage-azure-cli-copy-blobs]:../../../storage/common/storage-azure-cli.md#copy-blobs
[storage-introduction]:../../../storage/common/storage-introduction.md
[storage-powershell-guide-full-copy-vhd]:../../../storage/common/storage-powershell-guide-full.md#how-to-copy-blobs-from-one-storage-container-to-another
[storage-premium-storage-preview-portal]:../../../storage/common/storage-premium-storage.md
[storage-redundancy]:../../../storage/common/storage-redundancy.md
[storage-scalability-targets]:../../../storage/common/storage-scalability-targets.md
[storage-use-azcopy]:../../../storage/common/storage-use-azcopy.md
[template-201-vm-from-specialized-vhd]:https://github.com/Azure/azure-quickstart-templates/tree/master/201-vm-from-specialized-vhd
[templates-101-simple-windows-vm]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-simple-windows-vm
[templates-101-vm-from-user-image]:https://github.com/Azure/azure-quickstart-templates/tree/master/101-vm-from-user-image
[virtual-machines-linux-attach-disk-portal]:../../linux/attach-disk-portal.md
[virtual-machines-azure-resource-manager-architecture]:../../../resource-manager-deployment-model.md
[virtual-machines-azurerm-versus-azuresm]:../../../resource-manager-deployment-model.md
[virtual-machines-windows-classic-configure-oracle-data-guard]:../../virtual-machines-windows-classic-configure-oracle-data-guard.md
[virtual-machines-linux-cli-deploy-templates]:../../linux/cli-deploy-templates.md 
[virtual-machines-deploy-rmtemplates-powershell]:../../virtual-machines-windows-ps-manage.md 
[virtual-machines-linux-agent-user-guide]:../../linux/agent-user-guide.md
[virtual-machines-linux-agent-user-guide-command-line-options]:../../linux/agent-user-guide.md#command-line-options
[virtual-machines-linux-capture-image]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager]:../../linux/capture-image.md
[virtual-machines-linux-capture-image-resource-manager-capture]:../../linux/capture-image.md#step-2-capture-the-vm
[virtual-machines-linux-configure-raid]:../../linux/configure-raid.md
[virtual-machines-linux-configure-lvm]:../../linux/configure-lvm.md
[virtual-machines-linux-classic-create-upload-vhd-step-1]:../../virtual-machines-linux-classic-create-upload-vhd.md#step-1-prepare-the-image-to-be-uploaded
[virtual-machines-linux-create-upload-vhd-suse]:../../linux/suse-create-upload-vhd.md
[virtual-machines-linux-redhat-create-upload-vhd]:../../linux/redhat-create-upload-vhd.md
[virtual-machines-linux-how-to-attach-disk]:../../linux/add-disk.md
[virtual-machines-linux-how-to-attach-disk-how-to-initialize-a-new-data-disk-in-linux]:../../linux/add-disk.md#connect-to-the-linux-vm-to-mount-the-new-disk
[virtual-machines-linux-tutorial]:../../linux/quick-create-cli.md
[virtual-machines-linux-update-agent]:../../linux/update-agent.md
[virtual-machines-manage-availability-linux]:../../linux/manage-availability.md
[virtual-machines-manage-availability-windows]:../../windows/manage-availability.md
[virtual-machines-ps-create-preconfigure-windows-resource-manager-vms]:virtual-machines-windows-create-powershell.md
[virtual-machines-sizes-linux]:../../linux/sizes.md
[virtual-machines-sizes-windows]:../../windows/sizes.md
[virtual-machines-windows-classic-ps-sql-alwayson-availability-groups]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-alwayson-availability-groups.md
[virtual-machines-windows-classic-ps-sql-int-listener]:./../../windows/sqlclassic/virtual-machines-windows-classic-ps-sql-int-listener.md
[virtual-machines-sql-server-high-availability-and-disaster-recovery-solutions]:./../../windows/sql/virtual-machines-windows-sql-high-availability-dr.md
[virtual-machines-sql-server-infrastructure-services]:./../../windows/sql/virtual-machines-windows-sql-server-iaas-overview.md
[virtual-machines-sql-server-performance-best-practices]:./../../windows/sql/virtual-machines-windows-sql-performance.md
[virtual-machines-upload-image-windows-resource-manager]:../../virtual-machines-windows-upload-image.md
[virtual-machines-windows-tutorial]:../../virtual-machines-windows-hero-tutorial.md
[virtual-machines-workload-template-sql-alwayson]:https://azure.microsoft.com/documentation/templates/sql-server-2014-alwayson-dsc/
[virtual-network-deploy-multinic-arm-cli]:../../../virtual-network/virtual-network-deploy-multinic-arm-cli.md
[virtual-network-deploy-multinic-arm-ps]:../../../virtual-network/virtual-network-deploy-multinic-arm-ps.md
[virtual-network-deploy-multinic-arm-template]:../../../virtual-network/virtual-network-deploy-multinic-arm-template.md
[virtual-networks-configure-vnet-to-vnet-connection]:../../../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md
[virtual-networks-create-vnet-arm-pportal]:../../../virtual-network/virtual-networks-create-vnet-arm-pportal.md
[virtual-networks-manage-dns-in-vnet]:../../../virtual-network/virtual-networks-name-resolution-for-vms-and-role-instances.md
[virtual-networks-multiple-nics]:../../../virtual-network/virtual-networks-multiple-nics.md
[virtual-networks-nsg]:../../../virtual-network/virtual-networks-nsg.md
[virtual-networks-reserved-private-ip]:../../../virtual-network/virtual-networks-static-private-ip-arm-ps.md
[virtual-networks-static-private-ip-arm-pportal]:../../../virtual-network/virtual-networks-static-private-ip-arm-pportal.md
[virtual-networks-udr-overview]:../../../virtual-network/virtual-networks-udr-overview.md
[vpn-gateway-about-vpn-devices]:../../../vpn-gateway/vpn-gateway-about-vpn-devices.md
[vpn-gateway-create-site-to-site-rm-powershell]:../../../vpn-gateway/vpn-gateway-create-site-to-site-rm-powershell.md
[vpn-gateway-cross-premises-options]:../../../vpn-gateway/vpn-gateway-plan-design.md
[vpn-gateway-site-to-site-create]:../../../vpn-gateway/vpn-gateway-site-to-site-create.md
[vpn-gateway-vpn-faq]:../../../vpn-gateway/vpn-gateway-vpn-faq.md
[xplat-cli]:../../../cli-install-nodejs.md
[xplat-cli-azure-resource-manager]:../../../xplat-cli-azure-resource-manager.md

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-rm-include.md)]

<span data-ttu-id="06ff0-149">Tato příručka je součástí v dokumentaci na implementaci a nasazení SAP softwaru v Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-149">This guide is part of the documentation on implementing and deploying the SAP software on Microsoft Azure.</span></span> <span data-ttu-id="06ff0-150">Před čtením této příručky, přečtěte si [plánování a implementace průvodce][planning-guide].</span><span class="sxs-lookup"><span data-stu-id="06ff0-150">Before reading this guide, read the [Planning and Implementation Guide][planning-guide].</span></span> <span data-ttu-id="06ff0-151">Tento dokument popisuje nasazení různých systémů správy relační databáze (RDBMS) a souvisejících produktů v kombinaci s SAP na Microsoft Azure virtuální počítače (VM) pomocí infrastruktury Azure jako možnosti služby (IaaS).</span><span class="sxs-lookup"><span data-stu-id="06ff0-151">This document covers the deployment of various Relational Database Management Systems (RDBMS) and related products in combination with SAP on Microsoft Azure Virtual Machines (VMs) using the Azure Infrastructure as a Service (IaaS) capabilities.</span></span>

<span data-ttu-id="06ff0-152">Dokumentu doplňuje SAP instalace dokumentace a poznámky k SAP, které představují primární prostředky pro instalace a nasazení SAP softwaru na dané platformy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-152">The paper complements the SAP Installation Documentation and SAP Notes, which represent the primary resources for installations and deployments of SAP software on given platforms.</span></span>

## <a name="general-considerations"></a><span data-ttu-id="06ff0-153">Obecné aspekty</span><span class="sxs-lookup"><span data-stu-id="06ff0-153">General considerations</span></span>
<span data-ttu-id="06ff0-154">V této kapitole vydávají aspektů s databázového systému SAP související systémy ve virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-154">In this chapter, considerations of running SAP-related DBMS systems in Azure VMs are introduced.</span></span> <span data-ttu-id="06ff0-155">Existuje několik odkazy na konkrétní systémy databázového systému v této kapitole.</span><span class="sxs-lookup"><span data-stu-id="06ff0-155">There are few references to specific DBMS systems in this chapter.</span></span> <span data-ttu-id="06ff0-156">Místo toho konkrétní systémy databázového systému jsou zpracovávány v tomto dokumentu po této kapitoly.</span><span class="sxs-lookup"><span data-stu-id="06ff0-156">Instead the specific DBMS systems are handled within this paper, after this chapter.</span></span>

### <a name="definitions-upfront"></a><span data-ttu-id="06ff0-157">Definice předem</span><span class="sxs-lookup"><span data-stu-id="06ff0-157">Definitions upfront</span></span>
<span data-ttu-id="06ff0-158">V dokumentu můžeme použít následující podmínky:</span><span class="sxs-lookup"><span data-stu-id="06ff0-158">Throughout the document, we use the following terms:</span></span>

* <span data-ttu-id="06ff0-159">IaaS: Infrastruktura jako služba.</span><span class="sxs-lookup"><span data-stu-id="06ff0-159">IaaS: Infrastructure as a Service.</span></span>
* <span data-ttu-id="06ff0-160">PaaS: Platforma jako služba.</span><span class="sxs-lookup"><span data-stu-id="06ff0-160">PaaS: Platform as a Service.</span></span>
* <span data-ttu-id="06ff0-161">SaaS: Software jako služba.</span><span class="sxs-lookup"><span data-stu-id="06ff0-161">SaaS: Software as a Service.</span></span>
* <span data-ttu-id="06ff0-162">Součást SAP: jednotlivých SAP aplikace například ECC, BW, správce řešení nebo podnikovém portálu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-162">SAP Component: an individual SAP application such as ECC, BW, Solution Manager, or EP.</span></span>  <span data-ttu-id="06ff0-163">SAP součástí může být založen na tradičních technologií ABAP nebo Java nebo jiných NetWeaver na základě aplikaci, například obchodních objektů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-163">SAP components can be based on traditional ABAP or Java technologies or a non-NetWeaver based application such as Business Objects.</span></span>
* <span data-ttu-id="06ff0-164">Prostředí SAP: jeden nebo více součástí SAP logicky seskupeny provést obchodní funkce jako je například vývoj, QAS, školení, zotavení po Havárii nebo produkční.</span><span class="sxs-lookup"><span data-stu-id="06ff0-164">SAP Environment: one or more SAP components logically grouped to perform a business function such as Development, QAS, Training, DR, or Production.</span></span>
* <span data-ttu-id="06ff0-165">SAP na šířku: Vztahuje se k celé SAP prostředků v zákazníka na šířku IT.</span><span class="sxs-lookup"><span data-stu-id="06ff0-165">SAP Landscape: This refers to the entire SAP assets in a customer’s IT landscape.</span></span> <span data-ttu-id="06ff0-166">Na šířku SAP zahrnuje všechny produkční a mimo provozní prostředí.</span><span class="sxs-lookup"><span data-stu-id="06ff0-166">The SAP landscape includes all production and non-production environments.</span></span>
* <span data-ttu-id="06ff0-167">Systém SAP: Kombinace databázového systému vrstvu a aplikační vrstvu služby, například SAP ERP vývojového systému SAP BW testovací systém, produkční systému SAP CRM, atd. V nasazeních Azure není možné rozdělit tyto dvě vrstvy mezi místními a Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-167">SAP System: The combination of DBMS layer and application layer of, for example, an SAP ERP development system, SAP BW test system, SAP CRM production system, etc. In Azure deployments, it is not supported to divide these two layers between on-premises and Azure.</span></span> <span data-ttu-id="06ff0-168">To znamená, že systému SAP buď je nasazena místně nebo je nasazené v Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-168">This means an SAP system is either deployed on-premises or it is deployed in Azure.</span></span> <span data-ttu-id="06ff0-169">Můžete však nasadit různých systémech SAP šířku v Azure nebo místní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-169">However, you can deploy the different systems of an SAP landscape in Azure or on-premises.</span></span> <span data-ttu-id="06ff0-170">Můžete například nasazení SAP CRM vývoj a testování systémy v Azure, ale SAP CRM produkční systému místní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-170">For example, you could deploy the SAP CRM development and test systems in Azure but the SAP CRM production system on-premises.</span></span>
* <span data-ttu-id="06ff0-171">Nasazení jenom cloudu: nasazení, kde není připojen k předplatnému Azure prostřednictvím site-to-site nebo připojením ExpressRoute na místní infrastrukturu sítě.</span><span class="sxs-lookup"><span data-stu-id="06ff0-171">Cloud-Only deployment: A deployment where the Azure subscription is not connected via a site-to-site or ExpressRoute connection to the on-premises network infrastructure.</span></span> <span data-ttu-id="06ff0-172">Společné dokumentace k Azure tyto typy nasazení jsou také popsány jako 'jenom pro Cloud, nasazení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-172">In common Azure documentation these kinds of deployments are also described as ‘Cloud-Only’ deployments.</span></span> <span data-ttu-id="06ff0-173">Virtuální počítače nasazené pomocí této metody jsou přístupné přes Internet a veřejné koncové body Internetu přiřazené k virtuálním počítačům v Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-173">Virtual Machines deployed with this method are accessed through the Internet and public Internet endpoints assigned to the VMs in Azure.</span></span> <span data-ttu-id="06ff0-174">Místní služby Active Directory (AD) a DNS není rozšířené k Azure v těchto typů nasazení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-174">The on-premises Active Directory (AD) and DNS is not extended to Azure in these types of deployments.</span></span> <span data-ttu-id="06ff0-175">Proto virtuální počítače nejsou součástí místní služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="06ff0-175">Hence the VMs are not part of the on-premises Active Directory.</span></span> <span data-ttu-id="06ff0-176">Poznámka: Jenom pro Cloud nasazení v tomto dokumentu jsou definovány jako dokončení krajiny SAP, které jsou spuštěny v Azure bez rozšíření služby Active Directory nebo překlad výhradně z místního do veřejného cloudu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-176">Note: Cloud-Only deployments in this document are defined as complete SAP landscapes, which are running exclusively in Azure without extension of Active Directory or name resolution from on-premises into public cloud.</span></span> <span data-ttu-id="06ff0-177">Jenom pro cloud konfigurace nejsou podporovány pro produkční systémy SAP nebo konfigurace, kdy moduly STM SAP nebo jiných místních prostředků je potřeba použít mezi systémy SAP hostované v Azure a prostředky, které se nacházejí na místní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-177">Cloud-Only configurations are not supported for production SAP systems or configurations where SAP STMS or other on-premises resources need to be used between SAP systems hosted on Azure and resources residing on-premises.</span></span>
* <span data-ttu-id="06ff0-178">Mezi různými místy: Popisuje scénář, kde jsou nasazené virtuální počítače k předplatnému Azure, který má site-to-site, více lokalit nebo připojení ExpressRoute mezi místní datových centrech a Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-178">Cross-Premises: Describes a scenario where VMs are deployed to an Azure subscription that has site-to-site, multi-site, or ExpressRoute connectivity between the on-premises datacenter(s) and Azure.</span></span> <span data-ttu-id="06ff0-179">Dokumentace k společné Azure, tyto typy nasazení jsou také popsány jako mezi různými místy scénáře.</span><span class="sxs-lookup"><span data-stu-id="06ff0-179">In common Azure documentation, these kinds of deployments are also described as Cross-Premises scenarios.</span></span> <span data-ttu-id="06ff0-180">Z důvodu pro připojení je rozšířit místní domény, místní služby Active Directory a DNS místně do Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-180">The reason for the connection is to extend on-premises domains, on-premises Active Directory, and on-premises DNS into Azure.</span></span> <span data-ttu-id="06ff0-181">Na šířku místní je rozšířeno na Azure prostředky předplatného.</span><span class="sxs-lookup"><span data-stu-id="06ff0-181">The on-premises landscape is extended to the Azure assets of the subscription.</span></span> <span data-ttu-id="06ff0-182">S touto příponou, virtuálních počítačů může být součástí místní domény.</span><span class="sxs-lookup"><span data-stu-id="06ff0-182">Having this extension, the VMs can be part of the on-premises domain.</span></span> <span data-ttu-id="06ff0-183">Uživatelé domény místní domény, můžete přístup k serverům a službu lze spouštět na těchto virtuálních počítačů (např. služby databázového systému).</span><span class="sxs-lookup"><span data-stu-id="06ff0-183">Domain users of the on-premises domain can access the servers and can run services on those VMs (like DBMS services).</span></span> <span data-ttu-id="06ff0-184">Komunikace a název rozlišení mezi virtuálními počítači nasazen místní a virtuální počítače nasazené v Azure je možné.</span><span class="sxs-lookup"><span data-stu-id="06ff0-184">Communication and name resolution between VMs deployed on-premises and VMs deployed in Azure is possible.</span></span> <span data-ttu-id="06ff0-185">Očekáváme, že to být nejběžnější scénáře pro nasazení SAP prostředky v Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-185">We expect this to be the most common scenario for deploying SAP assets on Azure.</span></span> <span data-ttu-id="06ff0-186">Další informace najdete v tématu [v tomto článku] [ vpn-gateway-cross-premises-options] a [v tomto článku][vpn-gateway-site-to-site-create].</span><span class="sxs-lookup"><span data-stu-id="06ff0-186">For more information, see [this article][vpn-gateway-cross-premises-options] and [this article][vpn-gateway-site-to-site-create].</span></span>

> [!NOTE]
> <span data-ttu-id="06ff0-187">Mezi různými místy nasazení SAP systémy, kde Azure Virtual Machines s SAP systémy jsou členy místní domény jsou podporovány pro produkční systémy SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-187">Cross-Premises deployments of SAP systems where Azure Virtual Machines running SAP systems are members of an on-premises domain are supported for production SAP systems.</span></span> <span data-ttu-id="06ff0-188">Konfigurace mezi různými místy jsou podporovány pro nasazení částí nebo dokončení krajiny SAP do Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-188">Cross-Premises configurations are supported for deploying parts or complete SAP landscapes into Azure.</span></span> <span data-ttu-id="06ff0-189">I spuštění povahu dokončení SAP v Azure vyžaduje, že tyto virtuální počítače byly součástí místní domény a služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="06ff0-189">Even running the complete SAP landscape in Azure requires having those VMs being part of on-premises domain and ADS.</span></span> <span data-ttu-id="06ff0-190">V předchozí verze dokumentace už jsme mluvili o IT hybridní scénáře, kde je termín "Hybridní" integrován do skutečnost, že je připojení mezi různými místy mezi místními a Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-190">In former versions of the documentation, we talked about Hybrid-IT scenarios, where the term ‘Hybrid’ is rooted in the fact that there is a cross-premises connectivity between on-premises and Azure.</span></span> <span data-ttu-id="06ff0-191">V tomto případě "Hybridní" také znamená, že virtuální počítače v Azure jsou součástí služby Active Directory v místě.</span><span class="sxs-lookup"><span data-stu-id="06ff0-191">In this case ‘Hybrid’ also means that the VMs in Azure are part of the on-premises Active Directory.</span></span>
> 
> 

<span data-ttu-id="06ff0-192">Některé dokumentaci Microsoft popisuje scénáře mezi různými místy trochu jinak, zejména pro konfigurace HA databázového systému.</span><span class="sxs-lookup"><span data-stu-id="06ff0-192">Some Microsoft documentation describes Cross-Premises scenarios a bit differently, especially for DBMS HA configurations.</span></span> <span data-ttu-id="06ff0-193">V případě SAP související dokumenty je distribuován mezi různými místy scénář jenom varu dolů s site-to-site ani privátní připojení (ExpressRoute) a na skutečnost, že SAP šířku mezi místními a Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-193">In the case of the SAP-related documents, the Cross-Premises scenario just boils down to having a site-to-site or private (ExpressRoute) connectivity and to the fact that the SAP landscape is distributed between on-premises and Azure.</span></span>

### <a name="resources"></a><span data-ttu-id="06ff0-194">Zdroje</span><span class="sxs-lookup"><span data-stu-id="06ff0-194">Resources</span></span>
<span data-ttu-id="06ff0-195">Pro téma nasazení SAP v Azure k dispozici jsou následující příručky:</span><span class="sxs-lookup"><span data-stu-id="06ff0-195">The following guides are available for the topic of SAP deployments on Azure:</span></span>

* <span data-ttu-id="06ff0-196">[Azure virtuálních počítačů, plánování a implementace pro SAP NetWeaver][planning-guide]</span><span class="sxs-lookup"><span data-stu-id="06ff0-196">[Azure Virtual Machines planning and implementation for SAP NetWeaver][planning-guide]</span></span>
* <span data-ttu-id="06ff0-197">[Nasazení virtuálních počítačů Azure pro SAP NetWeaver][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="06ff0-197">[Azure Virtual Machines deployment for SAP NetWeaver][deployment-guide]</span></span>
* <span data-ttu-id="06ff0-198">[Nasazení virtuálních počítačů databázového systému Azure pro SAP NetWeaver (Tento dokument)][dbms-guide]</span><span class="sxs-lookup"><span data-stu-id="06ff0-198">[Azure Virtual Machines DBMS deployment for SAP NetWeaver (this document)][dbms-guide]</span></span>

<span data-ttu-id="06ff0-199">Následující poznámky k SAP souvisí s tématem SAP v Azure:</span><span class="sxs-lookup"><span data-stu-id="06ff0-199">The following SAP Notes are related to the topic of SAP on Azure:</span></span>

| <span data-ttu-id="06ff0-200">Poznámka: číslo</span><span class="sxs-lookup"><span data-stu-id="06ff0-200">Note number</span></span> | <span data-ttu-id="06ff0-201">Název</span><span class="sxs-lookup"><span data-stu-id="06ff0-201">Title</span></span> |
| --- | --- |
| <span data-ttu-id="06ff0-202">[1928533]</span><span class="sxs-lookup"><span data-stu-id="06ff0-202">[1928533]</span></span> |<span data-ttu-id="06ff0-203">Aplikace SAP v Azure: typy podporovaných produktů a virtuální počítač Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-203">SAP Applications on Azure: Supported Products and Azure VM types</span></span> |
| <span data-ttu-id="06ff0-204">[2015553]</span><span class="sxs-lookup"><span data-stu-id="06ff0-204">[2015553]</span></span> |<span data-ttu-id="06ff0-205">SAP na platformě Microsoft Azure: podporovat požadavky</span><span class="sxs-lookup"><span data-stu-id="06ff0-205">SAP on Microsoft Azure: Support Prerequisites</span></span> |
| <span data-ttu-id="06ff0-206">[1999351]</span><span class="sxs-lookup"><span data-stu-id="06ff0-206">[1999351]</span></span> |<span data-ttu-id="06ff0-207">Řešení potíží s rozšířenou Azure monitorování pro SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-207">Troubleshooting Enhanced Azure Monitoring for SAP</span></span> |
| <span data-ttu-id="06ff0-208">[2178632]</span><span class="sxs-lookup"><span data-stu-id="06ff0-208">[2178632]</span></span> |<span data-ttu-id="06ff0-209">Klíč monitorování metriky pro SAP na platformě Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-209">Key Monitoring Metrics for SAP on Microsoft Azure</span></span> |
| <span data-ttu-id="06ff0-210">[1409604]</span><span class="sxs-lookup"><span data-stu-id="06ff0-210">[1409604]</span></span> |<span data-ttu-id="06ff0-211">Virtualizace v systému Windows: rozšířené monitorování</span><span class="sxs-lookup"><span data-stu-id="06ff0-211">Virtualization on Windows: Enhanced Monitoring</span></span> |
| <span data-ttu-id="06ff0-212">[2191498]</span><span class="sxs-lookup"><span data-stu-id="06ff0-212">[2191498]</span></span> |<span data-ttu-id="06ff0-213">SAP v systému Linux s Azure: rozšířené monitorování</span><span class="sxs-lookup"><span data-stu-id="06ff0-213">SAP on Linux with Azure: Enhanced Monitoring</span></span> |
| <span data-ttu-id="06ff0-214">[2039619]</span><span class="sxs-lookup"><span data-stu-id="06ff0-214">[2039619]</span></span> |<span data-ttu-id="06ff0-215">SAP aplikací v Microsoft Azure pomocí databáze Oracle: podporované produkty a verze</span><span class="sxs-lookup"><span data-stu-id="06ff0-215">SAP Applications on Microsoft Azure using the Oracle Database: Supported Products and Versions</span></span> |
| <span data-ttu-id="06ff0-216">[2233094]</span><span class="sxs-lookup"><span data-stu-id="06ff0-216">[2233094]</span></span> |<span data-ttu-id="06ff0-217">DB6: Aplikace SAP v Azure pomocí IBM DB2 pro Linux, UNIX a Windows - Další informace</span><span class="sxs-lookup"><span data-stu-id="06ff0-217">DB6: SAP Applications on Azure Using IBM DB2 for Linux, UNIX, and Windows - Additional Information</span></span> |
| <span data-ttu-id="06ff0-218">[2243692]</span><span class="sxs-lookup"><span data-stu-id="06ff0-218">[2243692]</span></span> |<span data-ttu-id="06ff0-219">Linux na Microsoft Azure (IaaS) virtuálních počítačů: problémy licence SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-219">Linux on Microsoft Azure (IaaS) VM: SAP license issues</span></span> |
| <span data-ttu-id="06ff0-220">[1984787]</span><span class="sxs-lookup"><span data-stu-id="06ff0-220">[1984787]</span></span> |<span data-ttu-id="06ff0-221">Systému SUSE LINUX Enterprise Server 12: Poznámky k instalaci</span><span class="sxs-lookup"><span data-stu-id="06ff0-221">SUSE LINUX Enterprise Server 12: Installation notes</span></span> |
| <span data-ttu-id="06ff0-222">[2002167]</span><span class="sxs-lookup"><span data-stu-id="06ff0-222">[2002167]</span></span> |<span data-ttu-id="06ff0-223">Red Hat Enterprise Linux 7.x: instalace a Upgrade</span><span class="sxs-lookup"><span data-stu-id="06ff0-223">Red Hat Enterprise Linux 7.x: Installation and Upgrade</span></span> |
| <span data-ttu-id="06ff0-224">[2069760]</span><span class="sxs-lookup"><span data-stu-id="06ff0-224">[2069760]</span></span> |<span data-ttu-id="06ff0-225">Oracle Linux 7.x SAP instalace a Upgrade</span><span class="sxs-lookup"><span data-stu-id="06ff0-225">Oracle Linux 7.x SAP Installation and Upgrade</span></span> |
| <span data-ttu-id="06ff0-226">[1597355]</span><span class="sxs-lookup"><span data-stu-id="06ff0-226">[1597355]</span></span> |<span data-ttu-id="06ff0-227">Doporučení odkládacího prostoru pro Linux</span><span class="sxs-lookup"><span data-stu-id="06ff0-227">Swap-space recommendation for Linux</span></span> |
| <span data-ttu-id="06ff0-228">[2171857]</span><span class="sxs-lookup"><span data-stu-id="06ff0-228">[2171857]</span></span> |<span data-ttu-id="06ff0-229">Oracle Database 12c – podpora systému souborů v systému Linux</span><span class="sxs-lookup"><span data-stu-id="06ff0-229">Oracle Database 12c - file system support on Linux</span></span> |
| <span data-ttu-id="06ff0-230">[1114181]</span><span class="sxs-lookup"><span data-stu-id="06ff0-230">[1114181]</span></span> |<span data-ttu-id="06ff0-231">Databáze Oracle 11g – podpora systému souborů v systému Linux</span><span class="sxs-lookup"><span data-stu-id="06ff0-231">Oracle Database 11g - file system support on Linux</span></span> |


<span data-ttu-id="06ff0-232">Přečíst také [oznámení změny stavu Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) obsahující všechny SAP poznámky pro Linux.</span><span class="sxs-lookup"><span data-stu-id="06ff0-232">Also read the [SCN Wiki](https://wiki.scn.sap.com/wiki/display/HOME/SAPonLinuxNotes) that contains all SAP Notes for Linux.</span></span>

<span data-ttu-id="06ff0-233">Měli byste mít praktické znalosti o Architektura Microsoft Azure a jak jsou nasadit a provozovat virtuální počítače Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-233">You should have a working knowledge about the Microsoft Azure Architecture and how Microsoft Azure Virtual Machines are deployed and operated.</span></span> <span data-ttu-id="06ff0-234">Další informace najdete <https://azure.microsoft.com/documentation/></span><span class="sxs-lookup"><span data-stu-id="06ff0-234">You can find more information at <https://azure.microsoft.com/documentation/></span></span>

> [!NOTE]
> <span data-ttu-id="06ff0-235">Snažíme se **není** hovoříte o platforma Microsoft Azure jako služba (PaaS) nabídky na platformě Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-235">We are **not** discussing Microsoft Azure Platform as a Service (PaaS) offerings of the Microsoft Azure Platform.</span></span> <span data-ttu-id="06ff0-236">Tento dokument je o spuštění systému správy databáze (databázového systému) v Microsoft Azure Virtual Machines (IaaS), stejně jako databázového systému by byl spuštěn v místním prostředí.</span><span class="sxs-lookup"><span data-stu-id="06ff0-236">This paper is about running a database management system (DBMS) in Microsoft Azure Virtual Machines (IaaS) just as you would run the DBMS in your on-premises environment.</span></span> <span data-ttu-id="06ff0-237">Možnosti databáze a funkce mezi tyto dvě nabídky se velmi liší a nesmí promíchala mezi sebou.</span><span class="sxs-lookup"><span data-stu-id="06ff0-237">Database capabilities and functionalities between these two offers are very different and should not be mixed up with each other.</span></span> <span data-ttu-id="06ff0-238">Viz také: <https://azure.microsoft.com/services/sql-database/></span><span class="sxs-lookup"><span data-stu-id="06ff0-238">See also: <https://azure.microsoft.com/services/sql-database/></span></span>
> 
> 

<span data-ttu-id="06ff0-239">Vzhledem k tomu, že budeme se zabývat IaaS, obecně se instalace systému Windows, Linux a databázového systému a konfigurace jsou v podstatě stejné jako jakékoli virtuálního počítače nebo úplné systému počítače, které by nainstalujete místně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-239">Since we are discussing IaaS, in general the Windows, Linux, and DBMS installation and configuration are essentially the same as any virtual machine or bare metal machine you would install on-premises.</span></span> <span data-ttu-id="06ff0-240">Existují však některé architektura a systém správy implementace rozhodnutí, která se liší, při použití IaaS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-240">However, there are some architecture and system management implementation decisions, which are different when utilizing IaaS.</span></span> <span data-ttu-id="06ff0-241">Účelem tohoto dokumentu je popisují konkrétní architektury a rozdíly systému správy, které musí být přípravy na při použití IaaS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-241">The purpose of this document is to explain the specific architectural and system management differences that you must be prepared for when using IaaS.</span></span>

<span data-ttu-id="06ff0-242">Celkové oblasti rozdílem, že tento dokument popisuje jsou obecně:</span><span class="sxs-lookup"><span data-stu-id="06ff0-242">In general, the overall areas of difference that this paper discusses are:</span></span>

* <span data-ttu-id="06ff0-243">Plánování správné rozložení virtuální počítač nebo disk systémů SAP do, zda že máte správná data souboru rozložení a můžete dosáhnout dostatek IOPS pro úlohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-243">Planning the proper VM/disk layout of SAP systems to ensure you have the proper data file layout and can achieve enough IOPS for your workload.</span></span>
* <span data-ttu-id="06ff0-244">Požadavky sítě při použití IaaS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-244">Networking considerations when using IaaS.</span></span>
* <span data-ttu-id="06ff0-245">Funkce konkrétní databáze má použít k optimalizaci rozložení databáze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-245">Specific database features to use in order to optimize the database layout.</span></span>
* <span data-ttu-id="06ff0-246">Aspekty zálohování a obnovení v IaaS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-246">Backup and restore considerations in IaaS.</span></span>
* <span data-ttu-id="06ff0-247">Využívá různé typy Image pro nasazení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-247">Utilizing different types of images for deployment.</span></span>
* <span data-ttu-id="06ff0-248">Vysoké dostupnosti v Azure IaaS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-248">High Availability in Azure IaaS.</span></span>

## <span data-ttu-id="06ff0-249"><a name="65fa79d6-a85f-47ee-890b-22e794f51a64"></a>Struktura RDBMS nasazení</span><span class="sxs-lookup"><span data-stu-id="06ff0-249"><a name="65fa79d6-a85f-47ee-890b-22e794f51a64"></a>Structure of an RDBMS Deployment</span></span>
<span data-ttu-id="06ff0-250">Aby bylo možné postupovat podle této kapitoly, je potřeba pochopit, co se zobrazí v [to] [ deployment-guide-3] kapitoly [Průvodce nasazením][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="06ff0-250">In order to follow this chapter, it is necessary to understand what was presented in [this][deployment-guide-3] chapter of the [Deployment Guide][deployment-guide].</span></span> <span data-ttu-id="06ff0-251">Informace o různých virtuálních počítačů-Series a jejich rozdíly a rozdíly Azure Standard a Premium úložiště by měl rozumím jim a známé před čtením této kapitoly.</span><span class="sxs-lookup"><span data-stu-id="06ff0-251">Knowledge about the different VM-Series and their differences and differences of Azure Standard and Premium Storage should be understood and known before reading this chapter.</span></span>

<span data-ttu-id="06ff0-252">Dokud března 2015 byly omezený na 127 GB velikost disků, které obsahují operačního systému.</span><span class="sxs-lookup"><span data-stu-id="06ff0-252">Until March 2015, disks, which contain an operating system were limited to 127 GB in size.</span></span> <span data-ttu-id="06ff0-253">Toto omezení získali odvolat v března 2015 (Další informace o kontrole <https://azure.microsoft.com/blog/2015/03/25/azure-vm-os-drive-limit-octupled/>).</span><span class="sxs-lookup"><span data-stu-id="06ff0-253">This limitation got lifted in March 2015 (for more information check <https://azure.microsoft.com/blog/2015/03/25/azure-vm-os-drive-limit-octupled/>).</span></span> <span data-ttu-id="06ff0-254">Odtud na discích obsahující operační systém může mít stejnou velikost jako jakýkoli jiný disk.</span><span class="sxs-lookup"><span data-stu-id="06ff0-254">From there on disks containing the operating system can have the same size as any other disk.</span></span> <span data-ttu-id="06ff0-255">Nicméně nám stále přednost struktura nasazení, kde jsou oddělené od databázové soubory operačního systému, databázového systému a případný SAP binární soubory.</span><span class="sxs-lookup"><span data-stu-id="06ff0-255">Nevertheless, we still prefer a structure of deployment where the operating system, DBMS, and eventual SAP binaries are separate from the database files.</span></span> <span data-ttu-id="06ff0-256">Proto Očekáváme, že SAP systémy s operačním systémem v Azure Virtual Machines základní virtuálního počítače (nebo disk) nainstalované s operačním systémem, spustitelné soubory systému správy databáze a SAP spustitelné soubory.</span><span class="sxs-lookup"><span data-stu-id="06ff0-256">Therefore, we expect SAP systems running in Azure Virtual Machines have the base VM (or disk) installed with the operating system, database management system executables, and SAP executables.</span></span> <span data-ttu-id="06ff0-257">Soubory protokolu a data databázového systému jsou uložené ve službě Azure Storage (Standard nebo Premium Storage) v různých discích a připojit k původní image Azure operačního systému virtuálního počítače jako logické disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-257">The DBMS data and log files are stored in Azure Storage (Standard or Premium Storage) in separate disks and attached as logical disks to the original Azure operating system image VM.</span></span> 

<span data-ttu-id="06ff0-258">Závisí na využívání Azure Standard nebo Premium Storage (například pomocí služby DS-series nebo GS-series virtuálních počítačů) existuje jsou ostatní kvóty v Azure, které jsou popsány [zde (Linux)] [ virtual-machines-sizes-linux] a [zde (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="06ff0-258">Dependent on leveraging Azure Standard or Premium Storage (for example by using the DS-series or GS-series VMs) there are other quotas in Azure, which are documented [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span> <span data-ttu-id="06ff0-259">Při plánování vaší rozložení disku, budete muset najít nejlepší rovnováhu mezi kvót pro následující položky:</span><span class="sxs-lookup"><span data-stu-id="06ff0-259">When planning your disk layout, you need to find the best balance of the quotas for the following items:</span></span>

* <span data-ttu-id="06ff0-260">Počet datových souborů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-260">The number of data files.</span></span>
* <span data-ttu-id="06ff0-261">Počet disků, které obsahují soubory.</span><span class="sxs-lookup"><span data-stu-id="06ff0-261">The number of disks that contain the files.</span></span>
* <span data-ttu-id="06ff0-262">Kvóty IOPS jednoho disku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-262">The IOPS quotas of a single disk.</span></span>
* <span data-ttu-id="06ff0-263">Propustnost dat na disk.</span><span class="sxs-lookup"><span data-stu-id="06ff0-263">The data throughput per disk.</span></span>
* <span data-ttu-id="06ff0-264">Počet dalších datových disků na jeden velikost virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-264">The number of additional data disks possible per VM size.</span></span>
* <span data-ttu-id="06ff0-265">Celkovou propustnost úložiště může poskytovat virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-265">The overall storage throughput a VM can provide.</span></span>

<span data-ttu-id="06ff0-266">Azure vynucuje kvóty IOPS podle datový disk.</span><span class="sxs-lookup"><span data-stu-id="06ff0-266">Azure enforces an IOPS quota per data disk.</span></span> <span data-ttu-id="06ff0-267">Tyto kvóty se liší pro disky hostované na úložiště Azure úrovně Standard a Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-267">These quotas are different for disks hosted on Azure Standard Storage and Premium Storage.</span></span> <span data-ttu-id="06ff0-268">Latence vstupně-výstupních operací se také velmi liší mezi těmito dvěma typy úložiště Storage úrovně Premium doručování faktory lepší latence vstupně-výstupní operace.</span><span class="sxs-lookup"><span data-stu-id="06ff0-268">I/O latencies are also very different between the two storage types with Premium Storage delivering factors better I/O latencies.</span></span> <span data-ttu-id="06ff0-269">Každý jiný typ virtuálního počítače je omezený počet datových disků, které budete moci připojit.</span><span class="sxs-lookup"><span data-stu-id="06ff0-269">Each of the different VM types has a limited number of data disks that you are able to attach.</span></span> <span data-ttu-id="06ff0-270">Další omezení je, že pouze určité typy virtuálních počítačů můžete využít Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-270">Another restriction is that only certain VM types can leverage Azure Premium Storage.</span></span> <span data-ttu-id="06ff0-271">To znamená, že rozhodnutí pro určitý typ virtuálního počítače nemusí pouze bude týkat procesoru a paměti požadavky, ale také podle IOPS, latenci a disku propustnost požadavky, které jsou obvykle škálovat počet disků nebo typ disky úložiště Premium.</span><span class="sxs-lookup"><span data-stu-id="06ff0-271">This means the decision for a certain VM type might not only be driven by the CPU and memory requirements, but also by the IOPS, latency and disk throughput requirements that usually are scaled with the number of disks or the type of Premium Storage disks.</span></span> <span data-ttu-id="06ff0-272">Zejména s Storage úrovně Premium velikost disku také může být závisí na počtu IOPS a propustnosti, kterou je potřeba dosáhnout každého disku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-272">Especially with Premium Storage the size of a disk also might be dictated by the number of IOPS and throughput that needs to be achieved by each disk.</span></span>

<span data-ttu-id="06ff0-273">Skutečnost, že celkovou rychlost IOPS, počet disků připojit, a velikost virtuálního počítače, jsou všechny svázané společně, může způsobit konfigurace systému SAP jiné než její místní nasazení aplikace Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-273">The fact that the overall IOPS rate, the number of disks mounted, and the size of the VM are all tied together, might cause an Azure configuration of an SAP system to be different than its on-premises deployment.</span></span> <span data-ttu-id="06ff0-274">Omezení IOPS na logické jednotky jsou obvykle konfigurovatelná v místním nasazení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-274">The IOPS limits per LUN are usually configurable in on-premises deployments.</span></span> <span data-ttu-id="06ff0-275">Vzhledem k tomu s Azure Storage jsou tyto limity pevný nebo jako úložiště Premium závisí na typu disku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-275">Whereas with Azure Storage those limits are fixed or as in Premium Storage dependent on the disk type.</span></span> <span data-ttu-id="06ff0-276">Proto s místní nasazení vidíte zákazníka konfigurace databázové servery, které používají pro speciální spustitelné soubory jako SAP a databázového systému nebo speciální svazky pro dočasné databáze nebo tabulka prostory mnoho různých svazcích.</span><span class="sxs-lookup"><span data-stu-id="06ff0-276">So with on-premises deployments we see customer configurations of database servers that are using many different volumes for special executables like SAP and the DBMS or special volumes for temporary databases or table spaces.</span></span> <span data-ttu-id="06ff0-277">Pokud v místním systému je přesunuta do Azure, může vést k plýtvání potenciální IOPS šířky pásma pomocí plýtvání disk pro spustitelné soubory nebo databáze, které neprovádějte žádné nebo není spoustu IOPS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-277">When such an on-premises system is moved to Azure, it might lead to a waste of potential IOPS bandwidth by wasting a disk for executables or databases, which do not perform any or not a lot of IOPS.</span></span> <span data-ttu-id="06ff0-278">Proto ve virtuálních počítačích Azure doporučujeme, aby spustitelné soubory databázového systému a SAP Pokud je to možné nainstalovat na disk operačního systému.</span><span class="sxs-lookup"><span data-stu-id="06ff0-278">Therefore, in Azure VMs we recommend that the DBMS and SAP executables be installed on the OS disk if possible.</span></span>

<span data-ttu-id="06ff0-279">Umístění souborů databáze a soubory protokolu a typ úložiště Azure používají, nesmí být definován IOPS, latence a propustnosti požadavky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-279">The placement of the database files and log files and the type of Azure Storage used, should be defined by IOPS, latency, and throughput requirements.</span></span> <span data-ttu-id="06ff0-280">Chcete-li mít dostatek IOPS pro protokol transakcí, mohlo by být vynuceno využívat více disků pro soubor protokolu transakcí nebo použijte větší disk úložiště Premium.</span><span class="sxs-lookup"><span data-stu-id="06ff0-280">In order to have enough IOPS for the transaction log, you might be forced to leverage multiple disks for the transaction log file or use a larger Premium Storage disk.</span></span> <span data-ttu-id="06ff0-281">V takovém případě by jeden vytvořit softwaru diskového pole RAID (pro příklad Windows úložiště fondu pro Windows nebo MDADM a LVM (Správce logických svazku) pro Linux) s disky, které obsahují transakčního protokolu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-281">In such a case one would build a software RAID (for example Windows Storage Pool for Windows or MDADM and LVM (Logical Volume Manager) for Linux) with the disks, which contain the transaction log.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="06ff0-283">Windows</span><span class="sxs-lookup"><span data-stu-id="06ff0-283">Windows</span></span>
> 
> <span data-ttu-id="06ff0-284">Jednotka D:\ virtuální počítač Azure je jednotka netrvalý, který je zálohovaný díky některé místní disky na Azure výpočetním uzlu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-284">Drive D:\ in an Azure VM is a non-persisted drive, which is backed by some local disks on the Azure compute node.</span></span> <span data-ttu-id="06ff0-285">Protože se jedná, netrvalý, to znamená, že všechny změny obsahu na jednotku D:\ bude ztracena, jakmile je virtuální počítač restartovat.</span><span class="sxs-lookup"><span data-stu-id="06ff0-285">Because it is non-persisted, this means that any changes made to the content on the D:\ drive is lost when the VM is rebooted.</span></span> <span data-ttu-id="06ff0-286">"Jakékoliv změny" jsme znamená uložené soubory, adresáře vytvořené, nainstalované aplikace, atd.</span><span class="sxs-lookup"><span data-stu-id="06ff0-286">By "any changes", we mean saved files, directories created, applications installed, etc.</span></span>
> 
> ![Linux][Logo_Linux] <span data-ttu-id="06ff0-288">Linux</span><span class="sxs-lookup"><span data-stu-id="06ff0-288">Linux</span></span>
> 
> <span data-ttu-id="06ff0-289">Virtuální počítače Azure s Linuxem jednotku v /mnt/resource, který se nachází na dočasné jednotce založenou na místní disky na Azure výpočetním uzlu automaticky připojit.</span><span class="sxs-lookup"><span data-stu-id="06ff0-289">Linux Azure VMs automatically mount a drive at /mnt/resource that is a non-persisted drive backed by local disks on the Azure compute node.</span></span> <span data-ttu-id="06ff0-290">Protože se jedná, netrvalý, to znamená, že všechny změny na obsah v /mnt/resource byly ztraceny, když je virtuální počítač restartovat.</span><span class="sxs-lookup"><span data-stu-id="06ff0-290">Because it is non-persisted, this means that any changes made to content in /mnt/resource are lost when the VM is rebooted.</span></span> <span data-ttu-id="06ff0-291">Jakékoliv změny jsme znamená soubory uložené, adresáře vytvořené, nainstalované aplikace, atd.</span><span class="sxs-lookup"><span data-stu-id="06ff0-291">By any changes, we mean files saved, directories created, applications installed, etc.</span></span>
> 
> 

- - -
<span data-ttu-id="06ff0-292">Závisí na virtuální počítač Azure-series, místní disky na výpočetním uzlu zobrazit různé výkonu, které můžou být zařazené do kategorie jako:</span><span class="sxs-lookup"><span data-stu-id="06ff0-292">Dependent on the Azure VM-series, the local disks on the compute node show different performance, which can be categorized like:</span></span>

* <span data-ttu-id="06ff0-293">A0 A7: Velmi omezená výkonu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-293">A0-A7: Very limited performance.</span></span> <span data-ttu-id="06ff0-294">Nejde použít pro všechno, co je nad rámec stránkovací soubor windows</span><span class="sxs-lookup"><span data-stu-id="06ff0-294">Not usable for anything beyond windows page file</span></span>
* <span data-ttu-id="06ff0-295">A8-A11: Velmi dobré výkonové charakteristiky se některé deset tisíc IOPS a > propustnost 1GB/s</span><span class="sxs-lookup"><span data-stu-id="06ff0-295">A8-A11: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="06ff0-296">D-Series: Velmi dobré výkonové charakteristiky se některé deset tisíc IOPS a > propustnost 1GB/s</span><span class="sxs-lookup"><span data-stu-id="06ff0-296">D-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="06ff0-297">DS-Series: Velmi dobré výkonové charakteristiky se některé deset tisíc IOPS a > propustnost 1GB/s</span><span class="sxs-lookup"><span data-stu-id="06ff0-297">DS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="06ff0-298">G-Series: Velmi dobré výkonové charakteristiky se některé deset tisíc IOPS a > propustnost 1GB/s</span><span class="sxs-lookup"><span data-stu-id="06ff0-298">G-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>
* <span data-ttu-id="06ff0-299">GS-Series: Velmi dobré výkonové charakteristiky se některé deset tisíc IOPS a > propustnost 1GB/s</span><span class="sxs-lookup"><span data-stu-id="06ff0-299">GS-Series: Very good performance characteristics with some ten thousand IOPS and >1GB/sec throughput</span></span>

<span data-ttu-id="06ff0-300">Výše uvedené příkazy se má použít pro typy virtuálních počítačů, které jsou certifikované s SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-300">Statements above are applying to the VM types that are certified with SAP.</span></span> <span data-ttu-id="06ff0-301">Virtuální počítač series s vynikající IOPS a propustnost dosáhlo nároku na využívání některé funkce databázového systému, jako jsou databáze tempdb nebo místa na dočasné tabulky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-301">The VM-series with excellent IOPS and throughput qualify for leverage by some DBMS features, like tempdb or temporary table space.</span></span>

### <span data-ttu-id="06ff0-302"><a name="c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f"></a>Ukládání do mezipaměti pro virtuální počítače a datové disky</span><span class="sxs-lookup"><span data-stu-id="06ff0-302"><a name="c7abf1f0-c927-4a7c-9c1d-c7b5b3b7212f"></a>Caching for VMs and data disks</span></span>
<span data-ttu-id="06ff0-303">Při vytváření datových disků prostřednictvím portálu nebo pokud jsme připojit nahrané disky pro virtuální počítače, jsme můžete vybrat, jestli jsou do mezipaměti vstupně-výstupní provoz mezi virtuálního počítače a těchto disků umístěný v úložišti Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-303">When we create data disks through the portal or when we mount uploaded disks to VMs, we can choose whether the I/O traffic between the VM and those disks located in Azure storage are cached.</span></span> <span data-ttu-id="06ff0-304">Azure Standard a Premium Storage použít dvě různé technologie pro tento typ mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-304">Azure Standard and Premium Storage use two different technologies for this type of cache.</span></span> <span data-ttu-id="06ff0-305">V obou případech by mezipaměti samotné disku založenou na stejné jednotky využívané dočasným diskovým (D:\ v systému Windows) nebo /mnt/resource v systému Linux virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-305">In both cases, the cache itself would be disk backed on the same drives used by the temporary disk (D:\ on Windows or /mnt/resource on Linux) of the VM.</span></span>

<span data-ttu-id="06ff0-306">Pro Azure Standard Storage mezipaměti možné typy jsou:</span><span class="sxs-lookup"><span data-stu-id="06ff0-306">For Azure Standard Storage the possible cache types are:</span></span>

* <span data-ttu-id="06ff0-307">Žádné ukládání do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="06ff0-307">No caching</span></span>
* <span data-ttu-id="06ff0-308">Mezipaměti pro čtení</span><span class="sxs-lookup"><span data-stu-id="06ff0-308">Read caching</span></span>
* <span data-ttu-id="06ff0-309">Čtení a ukládání do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="06ff0-309">Read and Write caching</span></span>

<span data-ttu-id="06ff0-310">Chcete-li získat konzistentní a deterministický výkonu, byste měli nastavit ukládání do mezipaměti na Azure Standard Storage pro všechny disky obsahující **data související s databázového systému souborů, souborů protokolu a tabulky místa pro 'NONE'**.</span><span class="sxs-lookup"><span data-stu-id="06ff0-310">In order to get consistent and deterministic performance, you should set the caching on Azure Standard Storage for all disks containing **DBMS-related data files, log files, and table space to 'NONE'**.</span></span> <span data-ttu-id="06ff0-311">Ukládání do mezipaměti virtuálního počítače může zůstat s výchozím.</span><span class="sxs-lookup"><span data-stu-id="06ff0-311">The caching of the VM can remain with the default.</span></span>

<span data-ttu-id="06ff0-312">Pro Storage úrovně Premium existují tyto možnosti ukládání do mezipaměti:</span><span class="sxs-lookup"><span data-stu-id="06ff0-312">For Azure Premium Storage the following caching options exist:</span></span>

* <span data-ttu-id="06ff0-313">Žádné ukládání do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="06ff0-313">No caching</span></span>
* <span data-ttu-id="06ff0-314">Mezipaměti pro čtení</span><span class="sxs-lookup"><span data-stu-id="06ff0-314">Read caching</span></span>

<span data-ttu-id="06ff0-315">Doporučení pro Storage úrovně Premium je možné využít **číst ukládání do mezipaměti pro datové soubory** databázi SAP a pokusit **bez ukládání do mezipaměti pro disky soubory protokolu**.</span><span class="sxs-lookup"><span data-stu-id="06ff0-315">Recommendation for Azure Premium Storage is to leverage **Read caching for data files** of the SAP database and chose **No caching for the disks of log file(s)**.</span></span>

### <span data-ttu-id="06ff0-316"><a name="c8e566f9-21b7-4457-9f7f-126036971a91"></a>Softwaru diskového pole RAID</span><span class="sxs-lookup"><span data-stu-id="06ff0-316"><a name="c8e566f9-21b7-4457-9f7f-126036971a91"></a>Software RAID</span></span>
<span data-ttu-id="06ff0-317">Jak již uvedené výše, musíte vyvážit počet IOPS potřebné pro soubory databáze mezi počet disků, které můžete konfigurovat, a maximální IOPS virtuálního počítače Azure poskytuje na disku nebo disk typu Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-317">As already stated above, you need to balance the number of IOPS needed for the database files across the number of disks you can configure and the maximum IOPS an Azure VM provides per disk or Premium Storage disk type.</span></span> <span data-ttu-id="06ff0-318">Nejjednodušší způsob, jak řešit zatížení IOPS přes disků je sestavení softwaru diskového pole RAID přes různé disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-318">Easiest way to deal with the IOPS load over disks is to build a software RAID over the different disks.</span></span> <span data-ttu-id="06ff0-319">Pak umístíte počet datových souborů databázového systému SAP na jednotky LUN carved mimo softwaru diskového pole RAID.</span><span class="sxs-lookup"><span data-stu-id="06ff0-319">Then place a number of data files of the SAP DBMS on the LUNS carved out of the software RAID.</span></span> <span data-ttu-id="06ff0-320">Závislé na požadavky, které že můžete vzít v úvahu využití úložiště Premium také od dvě ze tří různých disky úložiště Premium poskytují vyšší kvóty IOPS než disky podle standardního úložiště.</span><span class="sxs-lookup"><span data-stu-id="06ff0-320">Dependent on the requirements you might want to consider the usage of Premium Storage as well since two of the three different Premium Storage disks provide higher IOPS quota than disks based on Standard Storage.</span></span> <span data-ttu-id="06ff0-321">Kromě toho významné lepší latence vstupně-výstupních operací poskytované Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-321">Besides the significant better I/O latency provided by Azure Premium Storage.</span></span> 

<span data-ttu-id="06ff0-322">Totéž platí i pro transakční protokol různých systémů databázového systému.</span><span class="sxs-lookup"><span data-stu-id="06ff0-322">Same applies to the transaction log of the different DBMS systems.</span></span> <span data-ttu-id="06ff0-323">S mnohými z nich jen přidat další soubory protokolu nepomůže vzhledem k tomu, že systémy databázového systému zapisovat do jednoho ze souborů vždy pouze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-323">With many of them just adding more Tlog files does not help since the DBMS systems write into one of the files at a time only.</span></span> <span data-ttu-id="06ff0-324">Pokud jsou potřeba vyšší rychlosti IOPS než jednu standardní úložiště založené může poskytnout disk, můžete rozkládají přes víc disků Standard Storage nebo můžete použít větší typ disku Storage úrovně Premium, který kromě vyšší rychlosti IOPS také nabízí faktory menší latence pro zápis vstupně-výstupních operací do transakčního protokolu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-324">If higher IOPS rates are needed than a single Standard Storage based disk can deliver, you can stripe over multiple Standard Storage disks or you can use a larger Premium Storage disk type that beyond higher IOPS rates also delivers factors lower latency for the write I/Os into the transaction log.</span></span>

<span data-ttu-id="06ff0-325">Situace došlo v Azure nasazení, které by upřednostnit pomocí softwaru diskového pole RAID jsou:</span><span class="sxs-lookup"><span data-stu-id="06ff0-325">Situations experienced in Azure deployments, which would favor using a software RAID are:</span></span>

* <span data-ttu-id="06ff0-326">Transakční protokol/opakování protokol vyžadují více procesorů než Azure poskytuje pro jeden disk.</span><span class="sxs-lookup"><span data-stu-id="06ff0-326">Transaction Log/Redo Log require more IOPS than Azure provides for a single disk.</span></span> <span data-ttu-id="06ff0-327">Jak je uvedeno nahoře to bude možné vyřešit podle budovy logické jednotce LUN přes víc disků pomocí softwaru diskového pole RAID.</span><span class="sxs-lookup"><span data-stu-id="06ff0-327">As mentioned above this can be solved by building a LUN over multiple disks using a software RAID.</span></span>
* <span data-ttu-id="06ff0-328">Nevyrovnaná vstupně-výstupní úlohy distribuce přes různé datové soubory databázi SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-328">Uneven I/O workload distribution over the different data files of the SAP database.</span></span> <span data-ttu-id="06ff0-329">V takových případech jeden prostředí stiskne kvótu místo často jeden datový soubor.</span><span class="sxs-lookup"><span data-stu-id="06ff0-329">In such cases one can experience one data file hitting the quota rather often.</span></span> <span data-ttu-id="06ff0-330">Zatímco brzy bude dosaženo kvóty IOPS jednoho disku se nezobrazují i jiné datové soubory.</span><span class="sxs-lookup"><span data-stu-id="06ff0-330">Whereas other data files are not even getting close to the IOPS quota of a single disk.</span></span> <span data-ttu-id="06ff0-331">V takových případech Nejsnazším řešením je k vytvoření jedné logické jednotce přes víc disků pomocí softwaru diskového pole RAID.</span><span class="sxs-lookup"><span data-stu-id="06ff0-331">In such cases the easiest solution is to build one LUN over multiple disks using a software RAID.</span></span> 
* <span data-ttu-id="06ff0-332">Nevíte, co přesně vstupně-výstupní úlohy za datový soubor a pouze zhruba věděli, jakou celkové zatížení IOPS proti databázového systému.</span><span class="sxs-lookup"><span data-stu-id="06ff0-332">You don’t know what the exact I/O workload per data file is and only roughly know what the overall IOPS workload against the DBMS is.</span></span> <span data-ttu-id="06ff0-333">Je nejjednodušší udělat k vytvoření jedné logické jednotce pomocí softwaru diskového pole RAID.</span><span class="sxs-lookup"><span data-stu-id="06ff0-333">Easiest to do is to build one LUN with the help of a software RAID.</span></span> <span data-ttu-id="06ff0-334">Součet kvót více disků za tuto logickou jednotku by pak splnění známé rychlost IOPS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-334">The sum of quotas of multiple disks behind this LUN should then fulfill the known IOPS rate.</span></span>

- - -
> ![Windows][Logo_Windows] <span data-ttu-id="06ff0-336">Windows</span><span class="sxs-lookup"><span data-stu-id="06ff0-336">Windows</span></span>
> 
> <span data-ttu-id="06ff0-337">Doporučujeme použít prostory úložiště ve Windows, pokud používáte v systému Windows Server 2012 nebo vyšší.</span><span class="sxs-lookup"><span data-stu-id="06ff0-337">We recommend using Windows Storage Spaces if you run on Windows Server 2012 or higher.</span></span> <span data-ttu-id="06ff0-338">Je efektivnější než proložení Windows starších verzí systému Windows.</span><span class="sxs-lookup"><span data-stu-id="06ff0-338">It is more efficient than Windows Striping of earlier Windows versions.</span></span> <span data-ttu-id="06ff0-339">Musíte může vytvořit fondy úložiště systému Windows a prostory úložiště pomocí příkazů prostředí PowerShell, při použití systému Windows Server 2012 jako operační systém.</span><span class="sxs-lookup"><span data-stu-id="06ff0-339">You might need to create the Windows Storage Pools and Storage Spaces by PowerShell commands when using Windows Server 2012 as Operating System.</span></span> <span data-ttu-id="06ff0-340">Příkazy prostředí PowerShell naleznete zde <https://technet.microsoft.com/library/jj851254.aspx></span><span class="sxs-lookup"><span data-stu-id="06ff0-340">The PowerShell commands can be found here <https://technet.microsoft.com/library/jj851254.aspx></span></span>
> 
> ![Linux][Logo_Linux] <span data-ttu-id="06ff0-342">Linux</span><span class="sxs-lookup"><span data-stu-id="06ff0-342">Linux</span></span>
> 
> <span data-ttu-id="06ff0-343">K vytvoření softwaru diskového pole RAID v systému Linux jsou podporovány pouze MDADM a LVM (Správce logických svazek).</span><span class="sxs-lookup"><span data-stu-id="06ff0-343">Only MDADM and LVM (Logical Volume Manager) are supported to build a software RAID on Linux.</span></span> <span data-ttu-id="06ff0-344">Další informace najdete v následujících článcích:</span><span class="sxs-lookup"><span data-stu-id="06ff0-344">For more information, read the following articles:</span></span>
> 
> * <span data-ttu-id="06ff0-345">[Konfigurace softwaru diskového pole RAID v systému Linux] [ virtual-machines-linux-configure-raid] (pro MDADM)</span><span class="sxs-lookup"><span data-stu-id="06ff0-345">[Configure Software RAID on Linux][virtual-machines-linux-configure-raid] (for MDADM)</span></span>
> * <span data-ttu-id="06ff0-346">[Konfigurace LVM na virtuální počítač s Linuxem v Azure][virtual-machines-linux-configure-lvm]</span><span class="sxs-lookup"><span data-stu-id="06ff0-346">[Configure LVM on a Linux VM in Azure][virtual-machines-linux-configure-lvm]</span></span>
> 
> 

- - -
<span data-ttu-id="06ff0-347">Důležité informace pro využívání virtuálních počítačů series, které mohou pracovat s Azure Premium Storage obvykle jsou:</span><span class="sxs-lookup"><span data-stu-id="06ff0-347">Considerations for leveraging VM-series, which are able to work with Azure Premium Storage usually are:</span></span>

* <span data-ttu-id="06ff0-348">Požadavky pro latenci vstupně-výstupních operací, které již brzy bude dosaženo co poskytovat zařízení sítě SAN nebo NAS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-348">Demands for I/O latencies that are close to what SAN/NAS devices deliver.</span></span>
* <span data-ttu-id="06ff0-349">Vyžádání pro faktory lepší vstupně-výstupních operací latenci než může poskytnout Azure Standard Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-349">Demand for factors better I/O latency than Azure Standard Storage can deliver.</span></span>
* <span data-ttu-id="06ff0-350">Vyšší IOPS na virtuálních počítačů než co bylo možné dosáhnout s více disky standardní úložiště pro určitý typ virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-350">Higher IOPS per VM than what could be achieved with multiple Standard Storage disks against a certain VM type.</span></span>

<span data-ttu-id="06ff0-351">Vzhledem k tomu, že základní úložiště Azure replikuje každého disku, do alespoň tři uzly úložiště jednoduché RAID 0 proložení lze použít.</span><span class="sxs-lookup"><span data-stu-id="06ff0-351">Since the underlying Azure Storage replicates each disk to at least three storage nodes, simple RAID 0 striping can be used.</span></span> <span data-ttu-id="06ff0-352">Není nutné implementovat RAID5 nebo RAID1.</span><span class="sxs-lookup"><span data-stu-id="06ff0-352">There is no need to implement RAID5 or RAID1.</span></span>

### <span data-ttu-id="06ff0-353"><a name="10b041ef-c177-498a-93ed-44b3441ab152"></a>Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="06ff0-353"><a name="10b041ef-c177-498a-93ed-44b3441ab152"></a>Microsoft Azure Storage</span></span>
<span data-ttu-id="06ff0-354">Microsoft Azure Storage ukládá základní virtuální počítač (s operačním systémem) a disky nebo objekty BLOB na alespoň tři uzly samostatné úložiště.</span><span class="sxs-lookup"><span data-stu-id="06ff0-354">Microsoft Azure Storage stores the base VM (with OS) and disks or BLOBs to at least three separate storage nodes.</span></span> <span data-ttu-id="06ff0-355">Při vytváření účtu úložiště nebo spravovaných disků, při volbě ochrany, jak je vidět tady:</span><span class="sxs-lookup"><span data-stu-id="06ff0-355">When creating a storage account or managed disk, there is a choice of protection as shown here:</span></span>

![Geografická replikace povolena pro účet úložiště Azure][dbms-guide-figure-100]

<span data-ttu-id="06ff0-357">Místní účet replikace Azure Storage (místně redundantní) poskytuje úrovně ochrany proti ztrátě dat v důsledku selhání infrastruktury, které několik zákazníků může dovolit nasazení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-357">Azure Storage Local Replication (Locally Redundant) provides levels of protection against data loss due to infrastructure failure that few customers could afford to deploy.</span></span> <span data-ttu-id="06ff0-358">Jako v příkladu nahoře, že se s pátá se varianta jeden ze tří první čtyři různé možnosti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-358">As shown above there are four different options with a fifth being a variation of one of the first three.</span></span> <span data-ttu-id="06ff0-359">Vyhledávání blíže v nich jsme možné rozlišit:</span><span class="sxs-lookup"><span data-stu-id="06ff0-359">Looking closer at them we can distinguish:</span></span>

* <span data-ttu-id="06ff0-360">**Premium místně redundantní úložiště (LRS)**: Azure Premium Storage nabízí podporu vysoce výkonné, nízkou latencí disku pro virtuální počítače spuštěné I náročnými úlohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-360">**Premium Locally Redundant Storage (LRS)**: Azure Premium Storage delivers high-performance, low-latency disk support for virtual machines running I/O-intensive workloads.</span></span> <span data-ttu-id="06ff0-361">Existují tři repliky dat v rámci stejné datové centrum Azure z oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-361">There are three replicas of the data within the same Azure datacenter of an Azure region.</span></span> <span data-ttu-id="06ff0-362">Kopie jsou v různých selhání a upgradu domén (koncepty, najdete v tématu [to] [ planning-guide-3.2] kapitoly v [Planning Guide][planning-guide]).</span><span class="sxs-lookup"><span data-stu-id="06ff0-362">The copies are in different Fault and Upgrade Domains (for concepts see [this][planning-guide-3.2] chapter in the [Planning Guide][planning-guide]).</span></span> <span data-ttu-id="06ff0-363">V případě replika dat přejdete mimo provoz z důvodu selhání uzlu úložiště nebo selhání disku se automaticky vytvoří novou repliku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-363">In case of a replica of the data going out of service due to a storage node failure or disk failure, a new replica is generated automatically.</span></span>
* <span data-ttu-id="06ff0-364">**Místně redundantní úložiště (LRS)**: V tomto případě existují tři repliky dat v rámci stejné datové centrum Azure z oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-364">**Locally Redundant Storage (LRS)**: In this case, there are three replicas of the data within the same Azure datacenter of an Azure region.</span></span> <span data-ttu-id="06ff0-365">Kopie jsou v různých selhání a upgradu domén (koncepty, najdete v tématu [to] [ planning-guide-3.2] kapitoly v [Planning Guide][planning-guide]).</span><span class="sxs-lookup"><span data-stu-id="06ff0-365">The copies are in different Fault and Upgrade Domains (for concepts see [this][planning-guide-3.2] chapter in the [Planning Guide][planning-guide]).</span></span> <span data-ttu-id="06ff0-366">V případě replika dat přejdete mimo provoz z důvodu selhání uzlu úložiště nebo selhání disku se automaticky vytvoří novou repliku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-366">In case of a replica of the data going out of service due to a storage node failure or disk failure, a new replica is generated automatically.</span></span> 
* <span data-ttu-id="06ff0-367">**Geograficky redundantní úložiště (GRS)**: V tomto případě je asynchronní replikaci, která kanály další tři repliky dat v jiné oblasti Azure, která je ve většině případů ve stejné zeměpisné oblasti (např. Severní Evropa a západní Evropa).</span><span class="sxs-lookup"><span data-stu-id="06ff0-367">**Geo Redundant Storage (GRS)**: In this case, there is an asynchronous replication that feeds an additional three replicas of the data in another Azure Region, which is in most of the cases in the same geographical region (like North Europe and West Europe).</span></span> <span data-ttu-id="06ff0-368">Výsledkem tři další repliky, aby byly v součet šesti repliky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-368">This results in three additional replicas, so that there are six replicas in sum.</span></span> <span data-ttu-id="06ff0-369">Varianta to je doplněk, kde dat v oblasti geograficky replikované Azure lze pro čtení účely (Read-Access Geo-redundantní).</span><span class="sxs-lookup"><span data-stu-id="06ff0-369">A variation of this is an addition where the data in the geo replicated Azure region can be used for read purposes (Read-Access Geo-Redundant).</span></span>
* <span data-ttu-id="06ff0-370">**Zónu redundantní úložiště (ZRS)**: V tomto případě tři repliky data zůstat ve stejné oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-370">**Zone Redundant Storage (ZRS)**: In this case, the three replicas of the data remain in the same Azure Region.</span></span> <span data-ttu-id="06ff0-371">Jak je popsáno v [to] [ planning-guide-3.1] kapitoly [Planning Guide] [ planning-guide] oblast Azure může být počet datových centrech v těsné blízkosti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-371">As explained in [this][planning-guide-3.1] chapter of the [Planning Guide][planning-guide] an Azure region can be a number of datacenters in close proximity.</span></span> <span data-ttu-id="06ff0-372">V případě LRS by repliky distribuovány prostřednictvím různých datových centrech, který jedné oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-372">In the case of LRS the replicas would be distributed over the different datacenters that make one Azure region.</span></span>

<span data-ttu-id="06ff0-373">Další informace naleznete [sem][storage-redundancy].</span><span class="sxs-lookup"><span data-stu-id="06ff0-373">More information can be found [here][storage-redundancy].</span></span>

> [!NOTE]
> <span data-ttu-id="06ff0-374">Pro nasazení databázového systému se nedoporučuje využití geograficky redundantní úložiště</span><span class="sxs-lookup"><span data-stu-id="06ff0-374">For DBMS deployments, the usage of Geo Redundant Storage is not recommended</span></span>
> 
> <span data-ttu-id="06ff0-375">Azure geografická replikace úložiště je asynchronní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-375">Azure Storage Geo-Replication is asynchronous.</span></span> <span data-ttu-id="06ff0-376">Replikace jednotlivé disky připojené k jedné virtuálnímu počítači nejsou synchronizovány v kroku zámku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-376">Replication of individual disks mounted to a single VM are not synchronized in lock step.</span></span> <span data-ttu-id="06ff0-377">Proto není vhodný pro replikaci databázového systému souborů, které jsou distribuovány na jiné disky nebo nasadit proti softwaru založené na více disků RAID.</span><span class="sxs-lookup"><span data-stu-id="06ff0-377">Therefore, it is not suitable to replicate DBMS files that are distributed over different disks or deployed against a software RAID based on multiple disks.</span></span> <span data-ttu-id="06ff0-378">Software databázového systému vyžaduje, aby trvalé úložný prostor na disku se synchronizuje přesněji v různých logických jednotek a základní disky nebo disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-378">DBMS software requires that the persistent disk storage is precisely synchronized across different LUNs and underlying disks/spindles.</span></span> <span data-ttu-id="06ff0-379">Software databázového systému používá různé mechanismy pro aktivity pořadí vstupně-výstupní operace zápisu a databázového systému hlásí, že úložiště na disku, který je cílem replikace je poškozená, pokud tyto i liší v závislosti na několik milisekund.</span><span class="sxs-lookup"><span data-stu-id="06ff0-379">DBMS software uses various mechanisms to sequence IO write activities and a DBMS reports that the disk storage targeted by the replication is corrupted if these vary even by a few milliseconds.</span></span> <span data-ttu-id="06ff0-380">Proto pokud jeden opravdu chce konfigurace databáze s databází na více disků geograficky replikované roztažen tak, takové replikace se musí provést s prostředky databáze a funkce.</span><span class="sxs-lookup"><span data-stu-id="06ff0-380">Hence if one really wants a database configuration with a database stretched across multiple disks geo-replicated, such a replication needs to be performed with database means and functionality.</span></span> <span data-ttu-id="06ff0-381">Jeden neměli spoléhat na Azure úložiště geografická replikace k provedení této úlohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-381">One should not rely on Azure Storage Geo-Replication to perform this job.</span></span> 
> 
> <span data-ttu-id="06ff0-382">Problém je nejjednodušší vysvětlit, třeba systém.</span><span class="sxs-lookup"><span data-stu-id="06ff0-382">The problem is simplest to explain with an example system.</span></span> <span data-ttu-id="06ff0-383">Předpokládejme, že máte systému SAP nahraje do Azure, který má osm disky obsahující datové soubory databázového systému plus jeden disk obsahující soubor protokolu transakcí.</span><span class="sxs-lookup"><span data-stu-id="06ff0-383">Let’s assume you have an SAP system uploaded into Azure, which has eight disks containing data files of the DBMS plus one disk containing the transaction log file.</span></span> <span data-ttu-id="06ff0-384">Každé z nich tyto devět disků mít data zapsaná do je konzistentní metoda podle databázového systému, zda data probíhá zápis do souborů protokolu dat nebo transakcí.</span><span class="sxs-lookup"><span data-stu-id="06ff0-384">Each one of these nine disks have data written to them in a consistent method according to the DBMS, whether the data is being written to the data or transaction log files.</span></span>
> 
> <span data-ttu-id="06ff0-385">V, aby se správně geograficky replikovat data a zachovat bitovou kopii databáze konzistentní obsah všech devět disků by mohl být geograficky replikované v uvedeném pořadí vstupně-výstupních operací měla spustit pro devět různých disků.</span><span class="sxs-lookup"><span data-stu-id="06ff0-385">In order to properly geo-replicate the data and maintain a consistent database image, the content of all nine disks would have to be geo-replicated in the exact order the I/O operations were executed against the nine different disks.</span></span> <span data-ttu-id="06ff0-386">Geografická replikace Azure Storage, ale neumožňuje deklarovat závislosti mezi disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-386">However, Azure Storage geo-replication does not allow to declare dependencies between disks.</span></span> <span data-ttu-id="06ff0-387">To znamená, že geografická replikace úložiště Microsoft Azure neví o tom, že obsah v těchto devět různých disků se vztahují k sobě navzájem, a že změny dat jsou konzistentní pouze v případě, že replikace v pořadí vstupně-výstupních operací na všech discích devět došlo.</span><span class="sxs-lookup"><span data-stu-id="06ff0-387">This means Microsoft Azure Storage geo-replication doesn’t know about the fact that the contents in these nine different disks are related to each other and that the data changes are consistent only when replicating in the order the I/O operations happened across all the nine disks.</span></span>
> 
> <span data-ttu-id="06ff0-388">Kromě toho se vysoké, že geograficky replikované bitové kopie v tomto scénáři neposkytují image konzistentní databáze, také je snížení výkonu, který se zobrazí s geograficky redundantní úložiště, které může vážně šance dopad na výkon.</span><span class="sxs-lookup"><span data-stu-id="06ff0-388">Besides chances being high that the geo-replicated images in the scenario do not provide a consistent database image, there also is a performance penalty that shows up with geo redundant storage that can severely impact performance.</span></span> <span data-ttu-id="06ff0-389">V souhrnu nepoužívejte tento typ redundance úložiště pro úlohy typu databázového systému.</span><span class="sxs-lookup"><span data-stu-id="06ff0-389">In summary, do not use this type of storage redundancy for DBMS type workloads.</span></span>
> 
> 

#### <a name="mapping-vhds-into-azure-virtual-machine-service-storage-accounts"></a><span data-ttu-id="06ff0-390">Mapování virtuálních pevných disků do účtů úložiště služby virtuální počítač Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-390">Mapping VHDs into Azure Virtual Machine Service Storage Accounts</span></span>
<span data-ttu-id="06ff0-391">Tato kapitola platí jenom pro účty úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-391">This chapter only applies to Azure Storage Accounts.</span></span> <span data-ttu-id="06ff0-392">Pokud máte v úmyslu použít spravované disky, platí omezení výše v této kapitole se nevztahují.</span><span class="sxs-lookup"><span data-stu-id="06ff0-392">If you plan to use Managed Disks, the limitations mentioned in this chapter do not apply.</span></span> <span data-ttu-id="06ff0-393">Další informace o discích spravovaných, najdete v kapitole [spravované disky] [ dbms-guide-managed-disks] tohoto průvodce.</span><span class="sxs-lookup"><span data-stu-id="06ff0-393">For more information about Managed Disks, read chapter [Managed Disks][dbms-guide-managed-disks] of this guide.</span></span>

<span data-ttu-id="06ff0-394">Účet úložiště Azure je pouze pro správu konstrukce, ale také předmětem omezení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-394">An Azure Storage Account is not only an administrative construct, but also a subject of limitations.</span></span> <span data-ttu-id="06ff0-395">Zatímco se omezeních lišit na tom, jestli mluvíme o standardní účet úložiště Azure nebo prémiový účet úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-395">Whereas the limitations vary on whether we talk about an Azure Standard Storage Account or an Azure Premium Storage Account.</span></span> <span data-ttu-id="06ff0-396">Jsou uvedeny přesný možnostmi a omezeními [sem][storage-scalability-targets]</span><span class="sxs-lookup"><span data-stu-id="06ff0-396">The exact capabilities and limitations are listed [here][storage-scalability-targets]</span></span>

<span data-ttu-id="06ff0-397">Proto pro Azure Standard Storage je důležité si uvědomit, je omezen na IOPS na účet úložiště (řádek obsahující 'celkový počet požadavků, v [článek][storage-scalability-targets]).</span><span class="sxs-lookup"><span data-stu-id="06ff0-397">So for Azure Standard Storage it is important to note there is a limit on the IOPS per storage account (Row containing ‘Total Request Rate’ in [the article][storage-scalability-targets]).</span></span> <span data-ttu-id="06ff0-398">Kromě toho existuje počáteční maximální 100 účtů úložiště za předplatné Azure (k červenci 2015).</span><span class="sxs-lookup"><span data-stu-id="06ff0-398">In addition, there is an initial limit of 100 Storage Accounts per Azure subscription (as of July 2015).</span></span> <span data-ttu-id="06ff0-399">Proto se doporučuje vyvážit IOPS z virtuálních počítačů mezi více účtů úložiště při použití Azure Standard Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-399">Therefore, it is recommended to balance IOPS of VMs between multiple storage accounts when using Azure Standard Storage.</span></span> <span data-ttu-id="06ff0-400">Zatímco jeden virtuální počítač v ideálním případě pokud je to možné používá jeden účet úložiště.</span><span class="sxs-lookup"><span data-stu-id="06ff0-400">Whereas a single VM ideally uses one storage account if possible.</span></span> <span data-ttu-id="06ff0-401">Takže pokud mluvíme o databázového systému nasazení, kde může každý virtuální pevný disk, který je hostován na Azure Standard Storage dosažení limitu kvóty, měli byste pouze nasadit 30-40 virtuální pevné disky na účet úložiště Azure, která používá Azure Standard Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-401">So if we talk about DBMS deployments where each VHD that is hosted on Azure Standard Storage could reach its quota limit, you should only deploy 30-40 VHDs per Azure Storage Account that uses Azure Standard Storage.</span></span> <span data-ttu-id="06ff0-402">Na druhé straně Pokud využít Azure Premium Storage a chcete ukládat velké databáze svazků, je dobře z hlediska IOPS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-402">On the other hand, if you leverage Azure Premium Storage and want to store large database volumes, you might be fine in terms of IOPS.</span></span> <span data-ttu-id="06ff0-403">Ale prémiový účet úložiště Azure je ve svazku data způsobem více omezující než standardní účet úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-403">But an Azure Premium Storage Account is way more restrictive in data volume than an Azure Standard Storage Account.</span></span> <span data-ttu-id="06ff0-404">V důsledku toho lze nasadit pouze omezený počet virtuálních pevných disků v rámci účtu Azure Premium Storage před stiskne limit dat svazek.</span><span class="sxs-lookup"><span data-stu-id="06ff0-404">As a result, you can only deploy a limited number of VHDs within an Azure Premium Storage Account before hitting the data volume limit.</span></span> <span data-ttu-id="06ff0-405">Na konci představit jako "Virtuální síť SAN", který má omezené možnosti ve IOPS a kapacity účtu úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-405">At the end, think of an Azure Storage Account as a “Virtual SAN” that has limited capabilities in IOPS and/or capacity.</span></span> <span data-ttu-id="06ff0-406">Úkol zůstane v důsledku toho jako místní nasazení, můžete definovat rozložení virtuálních pevných disků různých systémů SAP přes různé 'pomyslná zařízení sítě SAN, nebo účty úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-406">As a result, the task remains, as in on-premises deployments, to define the layout of the VHDs of the different SAP systems over the different ‘imaginary SAN devices’ or Azure Storage Accounts.</span></span>

<span data-ttu-id="06ff0-407">Pro Azure Standard Storage není doporučeno prezentace úložišť jiným účtům úložiště pro jeden virtuální počítač, pokud je to možné.</span><span class="sxs-lookup"><span data-stu-id="06ff0-407">For Azure Standard Storage, it is not recommended to present storage from different storage accounts to a single VM if possible.</span></span>

<span data-ttu-id="06ff0-408">Pokud používáte DS nebo GS-series virtuálních počítačů Azure, je možné připojit virtuální pevné disky mimo standardní účty úložiště Azure a účty úložiště Premium.</span><span class="sxs-lookup"><span data-stu-id="06ff0-408">When using the DS or GS-series of Azure VMs, it is possible to mount VHDs out of Azure Standard Storage Accounts and Premium Storage Accounts.</span></span> <span data-ttu-id="06ff0-409">Případy použití, jako je zápis do standardního úložiště záloh zálohovaný virtuální pevné disky, které mají databázového systému data a soubory protokolu na Storage úrovně Premium se k rozhodnutí, kde může využít takové heterogenní úložiště.</span><span class="sxs-lookup"><span data-stu-id="06ff0-409">Use cases like writing backups into Standard Storage backed VHDs and having DBMS data and log files on Premium Storage come to mind where such heterogeneous storage could be leveraged.</span></span> 

<span data-ttu-id="06ff0-410">Na základě zákaznických nasazení a testování přibližně 30 až 40 virtuální pevné disky obsahující data soubory databáze a soubory protokolu se dá zřídit v jednom Azure standardní účet úložiště s přijatelný výkon.</span><span class="sxs-lookup"><span data-stu-id="06ff0-410">Based on customer deployments and testing around 30 to 40 VHDs containing database data files and log files can be provisioned on a single Azure Standard Storage Account with acceptable performance.</span></span> <span data-ttu-id="06ff0-411">Jak už bylo zmíněno dříve, bude nejspíš kapacity dat, kterou lze nainstalovat a není IOPS omezení prémiový účet úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-411">As mentioned earlier, the limitation of an Azure Premium Storage Account is likely to be the data capacity it can hold and not IOPS.</span></span>

<span data-ttu-id="06ff0-412">Jako síť SAN zařízení místní, sdílení vyžaduje některá monitorování s cílem nakonec detekovat kritická místa na účet úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-412">As with SAN devices on-premises, sharing requires some monitoring in order to eventually detect bottlenecks on an Azure Storage Account.</span></span> <span data-ttu-id="06ff0-413">Rozšíření monitorování Azure pro SAP a portálu Azure jsou nástroje, které lze použít k detekci zaneprázdněn účtech úložiště Azure, který může být doručování zhoršené výkon vstupně-výstupní operace.</span><span class="sxs-lookup"><span data-stu-id="06ff0-413">The Azure Monitoring Extension for SAP and the Azure portal are tools that can be used to detect busy Azure Storage Accounts that may be delivering suboptimal IO performance.</span></span>  <span data-ttu-id="06ff0-414">Pokud se v této situaci detekuje, doporučujeme přesunout zaneprázdněn virtuálních počítačů na jiný účet úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-414">If this situation is detected, it is recommended to move busy VMs to another Azure Storage Account.</span></span> <span data-ttu-id="06ff0-415">Odkazovat [Průvodce nasazením] [ deployment-guide] podrobnosti o tom, jak aktivovat SAP hostitelským možnosti monitorování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-415">Refer to the [Deployment Guide][deployment-guide] for details on how to activate the SAP host monitoring capabilities.</span></span>

<span data-ttu-id="06ff0-416">Jiný článek shrnutí osvědčené postupy v oblasti Azure Standard Storage a standardních účtech úložiště Azure je zde uveden <https://blogs.msdn.com/b/mast/archive/2014/10/14/configuring-azure-virtual-machines-for-optimal-storage-performance.aspx></span><span class="sxs-lookup"><span data-stu-id="06ff0-416">Another article summarizing best practices around Azure Standard Storage and Azure Standard Storage Accounts can be found here <https://blogs.msdn.com/b/mast/archive/2014/10/14/configuring-azure-virtual-machines-for-optimal-storage-performance.aspx></span></span>

#### <span data-ttu-id="06ff0-417"><a name="f42c6cb5-d563-484d-9667-b07ae51bce29"></a>Spravované disky</span><span class="sxs-lookup"><span data-stu-id="06ff0-417"><a name="f42c6cb5-d563-484d-9667-b07ae51bce29"></a>Managed Disks</span></span>
<span data-ttu-id="06ff0-418">Spravované disky jsou nového typu prostředku v Azure Resource Manager, který lze použít místo virtuální pevné disky, které jsou uložené v účtech úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-418">Managed Disks are a new resource type in Azure Resource Manager that can be used instead of VHDs that are stored in Azure Storage Accounts.</span></span> <span data-ttu-id="06ff0-419">Spravované disky automaticky zarovnané s skupina dostupnosti virtuálního počítače, které jsou připojené k a proto zvýšit dostupnost virtuálního počítače a služby, které jsou spuštěny na virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="06ff0-419">Managed Disks automatically align with the Availability Set of the virtual machine they are attached to and therefore increase the availability of your virtual machine and the services that are running on the virtual machine.</span></span> <span data-ttu-id="06ff0-420">Další informace, přečtěte si [článek s přehledem](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span><span class="sxs-lookup"><span data-stu-id="06ff0-420">To learn more, read the [overview article](https://docs.microsoft.com/azure/storage/storage-managed-disks-overview).</span></span>

<span data-ttu-id="06ff0-421">SAP aktuálně podporuje jenom disky spravované Premium.</span><span class="sxs-lookup"><span data-stu-id="06ff0-421">SAP currently only supports Premium Managed Disks.</span></span> <span data-ttu-id="06ff0-422">Poznámka SAP čtení [1928533] další podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-422">Read SAP Note [1928533] for more details.</span></span>

#### <a name="moving-deployed-dbms-vms-from-azure-standard-storage-to-azure-premium-storage"></a><span data-ttu-id="06ff0-423">Přesun nasazení databázového systému virtuálních počítačů z Azure Standard Storage do Azure Premium Storage</span><span class="sxs-lookup"><span data-stu-id="06ff0-423">Moving deployed DBMS VMs from Azure Standard Storage to Azure Premium Storage</span></span>
<span data-ttu-id="06ff0-424">Jsme setkají poměrně některých scénářích, kde jako zákazník chcete přesunout nasazený virtuální počítač z Azure Standard Storage do Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-424">We encounter quite some scenarios where you as customer want to move a deployed VM from Azure Standard Storage into Azure Premium Storage.</span></span> <span data-ttu-id="06ff0-425">Pokud vaše disky jsou uložené v účtech úložiště Azure, to není možné bez fyzickým přesunutím data.</span><span class="sxs-lookup"><span data-stu-id="06ff0-425">If your disks are stored in Azure Storage Accounts, this is not possible without physically moving the data.</span></span> <span data-ttu-id="06ff0-426">Chcete-li dosáhnout několika způsoby:</span><span class="sxs-lookup"><span data-stu-id="06ff0-426">There are several ways to achieve the goal:</span></span>

* <span data-ttu-id="06ff0-427">Všechny virtuální pevné disky, základní virtuální pevný disk a také data virtuálních pevných disků může jednoduše zkopírovat do nového účtu úložiště Azure Premium.</span><span class="sxs-lookup"><span data-stu-id="06ff0-427">You could simply copy all VHDs, base VHD as well as data VHDs into a new Azure Premium Storage Account.</span></span> <span data-ttu-id="06ff0-428">Často zvolili počet virtuálních pevných disků v Azure Standard Storage není z důvodu fakt, že je potřeba zavést datový svazek.</span><span class="sxs-lookup"><span data-stu-id="06ff0-428">Often you chose the number of VHDs in Azure Standard Storage not because of the fact that you needed the data volume.</span></span> <span data-ttu-id="06ff0-429">Ale potřebné tolika virtuálních pevných disků kvůli IOPS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-429">But you needed that many VHDs because of the IOPS.</span></span> <span data-ttu-id="06ff0-430">Teď, když přesunete na Azure Premium Storage je může přejít způsob méně virtuálních pevných disků, abyste dosáhli stejné propustnosti IOPS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-430">Now that you move to Azure Premium Storage you could go with way fewer VHDs to achieve the same IOPS throughput.</span></span> <span data-ttu-id="06ff0-431">Vzhledem k tomu, že v Azure Standard Storage platíte za používaná data a ne podle velikosti nominální disku, počet virtuálních pevných disků, není podstatné skutečně z hlediska nákladů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-431">Given the fact that in Azure Standard Storage you pay for the used data and not the nominal disk size, the number of VHDs did not really matter in terms of costs.</span></span> <span data-ttu-id="06ff0-432">Službou Azure Premium Storage, ale by platila pro velikost nominální disku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-432">However, with Azure Premium Storage, you would pay for the nominal disk size.</span></span> <span data-ttu-id="06ff0-433">Většinu zákazníků, proto zkuste mějte počet virtuálních pevných disků Azure Premium Storage na číslo potřebná k dosažení propustnost IOPS nezbytné.</span><span class="sxs-lookup"><span data-stu-id="06ff0-433">Therefore, most of the customers try to keep the number of Azure VHDs in Premium Storage at the number needed to achieve the IOPS throughput necessary.</span></span> <span data-ttu-id="06ff0-434">Ano většina zákazníků rozhodnout proti způsob jednoduchou 1:1 kopie.</span><span class="sxs-lookup"><span data-stu-id="06ff0-434">So, most customers decide against the way of a simple 1:1 copy.</span></span>
* <span data-ttu-id="06ff0-435">Pokud není dosud připojen, připojte se jeden virtuální pevný disk obsahující zálohu databáze z databáze SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-435">If not yet mounted, you mount a single VHD that can contain a database backup of your SAP database.</span></span> <span data-ttu-id="06ff0-436">Po dokončení zálohování odpojte všechny virtuální pevné disky, včetně virtuální pevný disk obsahující zálohu a zkopírujte základní virtuální pevný disk a virtuální pevný disk s zálohování do účtu Azure Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-436">After the backup, you unmount all VHDs including the VHD containing the backup and copy the base VHD and the VHD with the backup into an Azure Premium Storage account.</span></span> <span data-ttu-id="06ff0-437">By pak nasaďte virtuální počítač založen na základní virtuální pevný disk a připojit virtuální pevný disk se zálohou.</span><span class="sxs-lookup"><span data-stu-id="06ff0-437">You would then deploy the VM based on the base VHD and mount the VHD with the backup.</span></span> <span data-ttu-id="06ff0-438">Teď vytvoříte další prázdný prémiové disky úložiště pro virtuální počítač, který slouží k obnovení databáze do.</span><span class="sxs-lookup"><span data-stu-id="06ff0-438">Now you create additional empty Premium Storage Disks for the VM that are used to restore the database into.</span></span> <span data-ttu-id="06ff0-439">Předpokladem je, že databázového systému umožňuje změnit cesty k souborům protokolu a data v rámci procesu obnovení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-439">This assumes that the DBMS allows you to change paths to the data and log files as part of the restore process.</span></span>
* <span data-ttu-id="06ff0-440">Další možností je variace bývalé procesu, kde právě zkopírujte zálohování virtuálního pevného disku do Azure Premium Storage a připojte ji na virtuální počítač, který nově nasazení a instalaci.</span><span class="sxs-lookup"><span data-stu-id="06ff0-440">Another possibility is a variation of the former process, where you just copy the backup VHD into Azure Premium Storage and attach it against a VM that you newly deployed and installed.</span></span>
* <span data-ttu-id="06ff0-441">Čtvrtý možnosti, které jste by zvolte, pokud potřebují Chcete-li změnit počet datových souborů databáze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-441">The fourth possibility you would choose when you are in need to change the number of data files of your database.</span></span> <span data-ttu-id="06ff0-442">V takovém případě můžete provést kopie homogenního systému SAP pomocí exportu/importu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-442">In such a case, you would perform an SAP homogenous system copy using export/import.</span></span> <span data-ttu-id="06ff0-443">PUT ty exportovat soubory do virtuálního pevného disku, který se zkopíruje do prémiový účet úložiště Azure a jeho připojení k virtuální počítač, který používáte ke spouštění procesů importu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-443">Put those export files into a VHD that is copied into an Azure Premium Storage Account and attach it to a VM that you use to run the import processes.</span></span> <span data-ttu-id="06ff0-444">Zákazníci využít tuto možnost, hlavně v případě, že chcete snížení počtu datových souborů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-444">Customers use this possibility mainly when they want to decrease the number of data files.</span></span>

<span data-ttu-id="06ff0-445">Pokud používáte spravované disky, můžete migrovat do úložiště úrovně Premium podle:</span><span class="sxs-lookup"><span data-stu-id="06ff0-445">If you use Managed Disks, you can migrate to Premium Storage by:</span></span>

1. <span data-ttu-id="06ff0-446">Zrušit přidělení virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="06ff0-446">Deallocate the virtual machine</span></span>
2. <span data-ttu-id="06ff0-447">V případě potřeby změnit velikost virtuálního počítače na velikost, která podporuje službu Premium Storage (například DS nebo GS)</span><span class="sxs-lookup"><span data-stu-id="06ff0-447">If necessary, resize the virtual machine to a size that supports Premium Storage (for example DS or GS)</span></span>
3. <span data-ttu-id="06ff0-448">Změnit typ účtu spravované disku Premium (SSD)</span><span class="sxs-lookup"><span data-stu-id="06ff0-448">Change the Managed Disk account type to Premium (SSD)</span></span>
4. <span data-ttu-id="06ff0-449">Spustit virtuální počítač</span><span class="sxs-lookup"><span data-stu-id="06ff0-449">Start your virtual machine</span></span>

### <a name="deployment-of-vms-for-sap-in-azure"></a><span data-ttu-id="06ff0-450">Nasazení virtuálních počítačů pro SAP v Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-450">Deployment of VMs for SAP in Azure</span></span>
<span data-ttu-id="06ff0-451">Microsoft Azure nabízí několik způsobů pro nasazení virtuálních počítačů a přidruženými disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-451">Microsoft Azure offers multiple ways to deploy VMs and associated disks.</span></span> <span data-ttu-id="06ff0-452">Tím je důležité pochopit rozdíly, od přípravy virtuálních počítačů se můžou lišit závisí na způsobu nasazení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-452">Thereby it is important to understand the differences since preparations of the VMs might differ dependent on the way of deployment.</span></span> <span data-ttu-id="06ff0-453">Obecně platí podíváme do popsané v následujících kapitolách scénáře.</span><span class="sxs-lookup"><span data-stu-id="06ff0-453">In general, we look into the scenarios described in the following chapters.</span></span>

#### <a name="deploying-a-vm-from-the-azure-marketplace"></a><span data-ttu-id="06ff0-454">Nasazení virtuálních počítačů z Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="06ff0-454">Deploying a VM from the Azure Marketplace</span></span>
<span data-ttu-id="06ff0-455">Chcete převést Microsoft nebo třetích stran, které poskytuje bitovou kopii z Azure Marketplace pro nasazení virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-455">You like to take a Microsoft or third party provided image from the Azure Marketplace to deploy your VM.</span></span> <span data-ttu-id="06ff0-456">Po nasazení virtuálního počítače v Azure použijte stejné pokyny a nástroje pro instalaci softwaru SAP uvnitř virtuálního počítače, jako byste to udělali v místním prostředí.</span><span class="sxs-lookup"><span data-stu-id="06ff0-456">After you deployed your VM in Azure, you follow the same guidelines and tools to install the SAP software inside your VM as you would do in an on-premises environment.</span></span> <span data-ttu-id="06ff0-457">Pro instalaci softwaru SAP ve virtuálním počítači Azure, SAP a Microsoft doporučujeme odesílání a uložit na instalačním médiu SAP v přírůstcích u disků nebo k vytvoření virtuálního počítače Azure funguje jako "souborový server", který obsahuje všechny potřebné SAP instalačního média.</span><span class="sxs-lookup"><span data-stu-id="06ff0-457">For installing the SAP software inside the Azure VM, SAP and Microsoft recommend uploading and store the SAP installation media in disks or to create an Azure VM working as a 'File server', which contains all the necessary SAP installation media.</span></span>

#### <a name="deploying-a-vm-with-a-customer-specific-generalized-image"></a><span data-ttu-id="06ff0-458">Nasazení virtuálního počítače pomocí bitové kopie zobecněný zákaznické</span><span class="sxs-lookup"><span data-stu-id="06ff0-458">Deploying a VM with a customer-specific generalized image</span></span>
<span data-ttu-id="06ff0-459">Z důvodu opravy specifické požadavky týkající se vaší verzí operačního systému nebo databázového systému nemusí zadané bitové kopie v Azure Marketplace podle vašich potřeb.</span><span class="sxs-lookup"><span data-stu-id="06ff0-459">Due to specific patch requirements regarding your OS or DBMS version, the provided images in the Azure Marketplace might not fit your needs.</span></span> <span data-ttu-id="06ff0-460">Proto může být potřeba vytvořit virtuální počítač pomocí vlastní "privátní" image operačního systému nebo databázového systému virtuálního počítače, které mohou být nasazeny několikrát později.</span><span class="sxs-lookup"><span data-stu-id="06ff0-460">Therefore, you might need to create a VM using your own 'private' OS/DBMS VM image, which can be deployed several times afterwards.</span></span> <span data-ttu-id="06ff0-461">Pro přípravu "privátní" image pro duplikaci, musí být zobecněn operačního systému na virtuálním počítači na místě.</span><span class="sxs-lookup"><span data-stu-id="06ff0-461">To prepare such a 'private' image for duplication, the OS must be generalized on the on-premises VM.</span></span> <span data-ttu-id="06ff0-462">Odkazovat [Průvodce nasazením] [ deployment-guide] podrobnosti o tom, jak generalize virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-462">Refer to the [Deployment Guide][deployment-guide] for details on how to generalize a VM.</span></span>

<span data-ttu-id="06ff0-463">Pokud jste již nainstalovali SAP obsah v místní virtuální počítač (hlavně u systémy vrstvě 2), můžete upravit nastavení systému SAP po nasazení virtuálního počítače Azure pomocí instance přejmenovat postup nepodporuje správce zřizování softwaru SAP (Poznámka SAP [1619720]).</span><span class="sxs-lookup"><span data-stu-id="06ff0-463">If you have already installed SAP content in your on-premises VM (especially for 2-Tier systems), you can adapt the SAP system settings after the deployment of the Azure VM through the instance rename procedure supported by the SAP Software Provisioning Manager (SAP Note [1619720]).</span></span> <span data-ttu-id="06ff0-464">Jinak můžete nainstalovat SAP software později po nasazení virtuálního počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-464">Otherwise you can install the SAP software later after the deployment of the Azure VM.</span></span>

<span data-ttu-id="06ff0-465">Od verze databáze obsahu používá aplikace SAP obsah můžete vygenerovat čerstvě instalací SAP nebo svůj obsah můžete importovat do Azure pomocí virtuální pevný disk s zálohu databáze databázového systému nebo s využitím možnosti databázového systému na zálohování přímo do služby Microsoft Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-465">As of the database content used by the SAP application, you can either generate the content freshly by an SAP installation or you can import your content into Azure by using a VHD with a DBMS database backup or by leveraging capabilities of the DBMS to directly backup into Microsoft Azure Storage.</span></span> <span data-ttu-id="06ff0-466">V takovém případě může také připravit virtuální pevné disky s databázového systému protokolu a data souborů místní a importovat tyto disky do Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-466">In this case, you could also prepare VHDs with the DBMS data and log files on-premises and then import those as Disks into Azure.</span></span> <span data-ttu-id="06ff0-467">Ale přenos dat databázového systému, který je načítán z místního do Azure by fungovat přes virtuální pevný disk disky, které musejí být připraveny na místě.</span><span class="sxs-lookup"><span data-stu-id="06ff0-467">But the transfer of DBMS data, which is getting loaded from on-premises to Azure would work over VHD disks that need to be prepared on-premises.</span></span>

#### <a name="moving-a-vm-from-on-premises-to-azure-with-a-non-generalized-disk"></a><span data-ttu-id="06ff0-468">Přesunutí virtuálního počítače z místního do Azure s diskem zobecněn</span><span class="sxs-lookup"><span data-stu-id="06ff0-468">Moving a VM from on-premises to Azure with a non-generalized disk</span></span>
<span data-ttu-id="06ff0-469">Máte v úmyslu přesunout z místní konkrétního systému SAP do Azure (navýšení a shift).</span><span class="sxs-lookup"><span data-stu-id="06ff0-469">You plan to move a specific SAP system from on-premises to Azure (lift and shift).</span></span> <span data-ttu-id="06ff0-470">Tento krok můžete provést odesláním disku, které obsahuje operačního systému, SAP binární soubory a případné databázového systému binární soubory a disky se soubory protokolu a data z databázového systému Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-470">This can be done by uploading the disk, which contains the OS, the SAP binaries, and eventual DBMS binaries plus the disks with the data and log files of the DBMS to Azure.</span></span> <span data-ttu-id="06ff0-471">V opačném scénář #2 výše, můžete zachovat název hostitele, identifikátor SID SAP a SAP uživatelské účty ve virtuálním počítači Azure byly nakonfigurované v místním prostředí.</span><span class="sxs-lookup"><span data-stu-id="06ff0-471">In opposite to scenario #2 above, you keep the hostname, SAP SID, and SAP user accounts in the Azure VM as they were configured in the on-premises environment.</span></span> <span data-ttu-id="06ff0-472">Proto generalizací bitovou kopii není nutné.</span><span class="sxs-lookup"><span data-stu-id="06ff0-472">Therefore, generalizing the image is not necessary.</span></span> <span data-ttu-id="06ff0-473">Tento případ se většinou platí pro scénáře mezi různými místy, kde je součástí povahu SAP spouštět místně a částí v Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-473">This case mostly applies for Cross-Premises scenarios where a part of the SAP landscape is run on-premises and parts on Azure.</span></span>

## <span data-ttu-id="06ff0-474"><a name="871dfc27-e509-4222-9370-ab1de77021c3"></a>Vysoká dostupnost a zotavení po havárii s virtuálními počítači Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-474"><a name="871dfc27-e509-4222-9370-ab1de77021c3"></a>High Availability and Disaster Recovery with Azure VMs</span></span>
<span data-ttu-id="06ff0-475">Azure nabízí následující vysoké dostupnosti (HA) a obnovení po havárii (DR) funkce, které platí pro různé součásti, které by používáme pro nasazení SAP a databázového systému</span><span class="sxs-lookup"><span data-stu-id="06ff0-475">Azure offers the following High Availability (HA) and Disaster Recovery (DR) functionalities, which apply to different components we would use for SAP and DBMS deployments</span></span>

### <a name="vms-deployed-on-azure-nodes"></a><span data-ttu-id="06ff0-476">Virtuální počítače nasazené na uzly Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-476">VMs deployed on Azure Nodes</span></span>
<span data-ttu-id="06ff0-477">Platforma Azure nenabízí funkce, jako je migrace za provozu pro nasazené virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-477">The Azure Platform does not offer features such as Live Migration for deployed VMs.</span></span> <span data-ttu-id="06ff0-478">To znamená, že pokud v clusteru serveru, na kterém je nasazený virtuální počítač je nutné údržby, virtuální počítač je potřeba získat zastavena a restartována.</span><span class="sxs-lookup"><span data-stu-id="06ff0-478">This means if there is maintenance necessary on a server cluster on which a VM is deployed, the VM needs to get stopped and restarted.</span></span> <span data-ttu-id="06ff0-479">Údržby v Azure se provádí pomocí tak názvem upgradu domén v rámci clusterů serverů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-479">Maintenance in Azure is performed using so called Upgrade Domains within clusters of servers.</span></span> <span data-ttu-id="06ff0-480">Pouze jeden upgradu domény současně je neudržují.</span><span class="sxs-lookup"><span data-stu-id="06ff0-480">Only one Upgrade Domain at a time is being maintained.</span></span> <span data-ttu-id="06ff0-481">Při restartování je přerušení služby během virtuální počítač je vypnutý, provádění údržby a restartování virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-481">During such a restart, there is an interruption of service while the VM is shut down, maintenance is performed and VM restarted.</span></span> <span data-ttu-id="06ff0-482">Většina dodavatelů databázového systému ale poskytovat vysokou dostupnost a zotavení po havárii funkce, které rychle restartuje služby databázového systému v jiném uzlu, pokud není k dispozici primárního uzlu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-482">Most DBMS vendors however provide High Availability and Disaster Recovery functionality that quickly restarts the DBMS services on another node if the primary node is unavailable.</span></span> <span data-ttu-id="06ff0-483">Platforma Azure nabízí funkce pro distribuci virtuálních počítačů, úložiště a dalším službám Azure napříč doménami Upgrade k zajištění, aby plánované údržby nebo infrastruktury selhání by vliv pouze malou podmnožinu virtuální počítače a služby.</span><span class="sxs-lookup"><span data-stu-id="06ff0-483">The Azure Platform offers functionality to distribute VMs, Storage, and other Azure services across Upgrade Domains to ensure that planned maintenance or infrastructure failures would only impact a small subset of VMs or services.</span></span>  <span data-ttu-id="06ff0-484">S pečlivé plánování, je možné dosáhnout úrovní dostupnosti srovnatelná místní infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="06ff0-484">With careful planning, it is possible to achieve availability levels comparable to on-premises infrastructures.</span></span>

<span data-ttu-id="06ff0-485">Skupiny dostupnosti Microsoft Azure jsou logická seskupení virtuálních počítačů nebo služeb, které zajišťuje virtuálním počítačům a dalším službám jsou distribuovány do různých selhání a upgradu domén v rámci clusteru tak, že by existovat pouze jedna vypnutí uzlu v kterémkoli bodě v čase (čtení [této (Linux)] [ virtual-machines-manage-availability-linux] nebo [této (Windows)] [ virtual-machines-manage-availability-windows] další podrobnosti najdete v článku).</span><span class="sxs-lookup"><span data-stu-id="06ff0-485">Microsoft Azure Availability Sets are a logical grouping of VMs or Services that ensures VMs and other services are distributed to different Fault and Upgrade Domains within a cluster such that there would only be one node shutdown at any one point in time (read [this (Linux)][virtual-machines-manage-availability-linux] or [this (Windows)][virtual-machines-manage-availability-windows] article for more details).</span></span>

<span data-ttu-id="06ff0-486">Je nutné konfigurovat tak, že účel při zavádění virtuálních počítačů, jak je vidět tady:</span><span class="sxs-lookup"><span data-stu-id="06ff0-486">It needs to be configured by purpose when rolling out VMs as seen here:</span></span>

![Definice sadu dostupnosti pro HA databázového systému konfigurace][dbms-guide-figure-200]

<span data-ttu-id="06ff0-488">Pokud nám chcete vytvořit vysoce dostupné konfigurace databázového systému nasazení (nezávisle na jednotlivé HA databázového systému funkce používá), by třeba virtuální počítače databázového systému:</span><span class="sxs-lookup"><span data-stu-id="06ff0-488">If we want to create highly available configurations of DBMS deployments (independent of the individual DBMS HA functionality used), the DBMS VMs would need to:</span></span>

* <span data-ttu-id="06ff0-489">Přidat virtuální počítače do stejné virtuální síti Azure (<https://azure.microsoft.com/documentation/services/virtual-network/>)</span><span class="sxs-lookup"><span data-stu-id="06ff0-489">Add the VMs to the same Azure Virtual Network (<https://azure.microsoft.com/documentation/services/virtual-network/>)</span></span>
* <span data-ttu-id="06ff0-490">Virtuální počítače konfigurace HA by měla být ve stejné podsíti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-490">The VMs of the HA configuration should also be in the same subnet.</span></span> <span data-ttu-id="06ff0-491">Překlad mezi různé podsítě není možné v čistě cloudové nasazení, pouze funguje překlad IP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-491">Name resolution between the different subnets is not possible in Cloud-Only deployments, only IP resolution works.</span></span> <span data-ttu-id="06ff0-492">Pomocí site-to-site nebo připojením ExpressRoute pro nasazení mezi různými místy, síť se alespoň jednu podsíť je už vytvořené.</span><span class="sxs-lookup"><span data-stu-id="06ff0-492">Using site-to-site or ExpressRoute connectivity for Cross-Premises deployments, a network with at least one subnet is already established.</span></span> <span data-ttu-id="06ff0-493">Překlad probíhá podle místní zásady a síťové infrastruktury služby AD.</span><span class="sxs-lookup"><span data-stu-id="06ff0-493">Name resolution is done according to the on-premises AD policies and network infrastructure.</span></span> 

[comment]: <> (Test TODO MSSedusch Pokud stále true v ARM)

#### <a name="ip-addresses"></a><span data-ttu-id="06ff0-495">IP adresy</span><span class="sxs-lookup"><span data-stu-id="06ff0-495">IP Addresses</span></span>
<span data-ttu-id="06ff0-496">Důrazně doporučujeme nastavit virtuálních počítačů pro konfigurace HA odolným způsobem.</span><span class="sxs-lookup"><span data-stu-id="06ff0-496">It is highly recommended to setup the VMs for HA configurations in a resilient way.</span></span> <span data-ttu-id="06ff0-497">Pokud se používají statické IP adresy, není spoléhat na IP adresy, adresy HA partnerů v rámci konfigurace HA spolehlivé v Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-497">Relying on IP addresses to address the HA partner(s) within the HA configuration is not reliable in Azure unless static IP addresses are used.</span></span> <span data-ttu-id="06ff0-498">V Azure existují dva koncepty "Vypnout":</span><span class="sxs-lookup"><span data-stu-id="06ff0-498">There are two "Shutdown" concepts in Azure:</span></span>

* <span data-ttu-id="06ff0-499">Vypnutí dolů prostřednictvím portálu Azure nebo Azure PowerShell rutinu Stop-AzureRmVM: V tomto případě virtuální počítač získá vypnutí a zrušte přiděleny.</span><span class="sxs-lookup"><span data-stu-id="06ff0-499">Shut down through Azure portal or Azure PowerShell cmdlet Stop-AzureRmVM: In this case, the Virtual Machine gets shutdown and de-allocated.</span></span> <span data-ttu-id="06ff0-500">Účtu Azure je už účtovat pro tento virtuální počítač, takže se jenom poplatky, které zpoplatněná za využívání úložiště.</span><span class="sxs-lookup"><span data-stu-id="06ff0-500">Your Azure account is no longer charged for this VM so the only charges that incur are for the storage used.</span></span> <span data-ttu-id="06ff0-501">Pokud nebyla statickou privátní IP adresa síťového rozhraní, IP adresa se neuvolní a není zaručeno, že síťové rozhraní získá starou IP adresu přiřadit znovu po restartování virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-501">However, if the private IP address of the network interface was not static, the IP address is released and it is not guaranteed that the network interface gets the old IP address assigned again after a restart of the VM.</span></span> <span data-ttu-id="06ff0-502">Provádění vypnutí dolů prostřednictvím portálu Azure nebo voláním Stop-AzureRmVM způsobí, že deaktivace přidělení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-502">Performing the shut down through the Azure portal or by calling Stop-AzureRmVM automatically causes de-allocation.</span></span> <span data-ttu-id="06ff0-503">Pokud nechcete navrácení počítače použití Stop-AzureRmVM - StayProvisioned</span><span class="sxs-lookup"><span data-stu-id="06ff0-503">If you do not want to deallocate the machine use Stop-AzureRmVM -StayProvisioned</span></span> 
* <span data-ttu-id="06ff0-504">Pokud vypnete virtuální počítač z úroveň operačního systému, získá virtuální počítač vypnout a není zrušte přiřazený.</span><span class="sxs-lookup"><span data-stu-id="06ff0-504">If you shut down the VM from an OS level, the VM gets shut down and NOT de-allocated.</span></span> <span data-ttu-id="06ff0-505">Ale v takovém případě účtu Azure je stále účtovat pro virtuální počítač přes skutečnost, že se jedná o vypnutí.</span><span class="sxs-lookup"><span data-stu-id="06ff0-505">However, in this case, your Azure account is still charged for the VM, despite the fact that it is shutdown.</span></span> <span data-ttu-id="06ff0-506">V takovém případě zůstává beze změn přiřazení IP adresy do zastaveného virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-506">In such a case, the assignment of the IP address to a stopped VM remains intact.</span></span> <span data-ttu-id="06ff0-507">Vypínání virtuálního počítače z v rámci nevynutí automaticky deaktivace přidělení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-507">Shutting down the VM from within does not automatically force de-allocation.</span></span>

<span data-ttu-id="06ff0-508">I pro scénáře mezi různými místy ve výchozím nastavení vypnutí a deaktivace přidělení znamená deaktivace přiřazení IP adres z virtuálního počítače, i když místní zásady v nastavení protokolu DHCP se liší.</span><span class="sxs-lookup"><span data-stu-id="06ff0-508">Even for Cross-Premises scenarios, by default a shutdown and de-allocation means de-assignment of the IP addresses from the VM, even if on-premises policies in DHCP settings are different.</span></span> 

* <span data-ttu-id="06ff0-509">Výjimka je popsán Pokud jednu statickou IP adresu přiřadí k síťovému rozhraní jako [sem][virtual-networks-reserved-private-ip].</span><span class="sxs-lookup"><span data-stu-id="06ff0-509">The exception is if one assigns a static IP address to a network interface as described [here][virtual-networks-reserved-private-ip].</span></span>
* <span data-ttu-id="06ff0-510">V takovém případě zůstává pevná IP adresa, tak dlouho, dokud se neodstraní síťové rozhraní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-510">In such a case the IP address remains fixed as long as the network interface is not deleted.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="06ff0-511">Chcete-li zachovat celého nasazení jednoduché a spravovat, zrušte doporučuje se nastavit partnerství databázového systému HA nebo konfigurace zotavení po Havárii v rámci Azure tak, že je funkční překlad mezi různé virtuální počítače spojené virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-511">In order to keep the whole deployment simple and manageable, the clear recommendation is to setup the VMs partnering in a DBMS HA or DR configuration within Azure in a way that there is a functioning name resolution between the different VMs involved.</span></span>
> 
> 

## <a name="deployment-of-host-monitoring"></a><span data-ttu-id="06ff0-512">Nasazení hostitele monitorování</span><span class="sxs-lookup"><span data-stu-id="06ff0-512">Deployment of Host Monitoring</span></span>
<span data-ttu-id="06ff0-513">Pro produktivní využití SAP aplikací v Azure Virtual Machines SAP vyžaduje schopnost získat hostitele dat monitorování od fyzických hostitelů se spuštěnými virtuálními počítači Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-513">For productive usage of SAP Applications in Azure Virtual Machines, SAP requires the ability to get host monitoring data from the physical hosts running the Azure Virtual Machines.</span></span> <span data-ttu-id="06ff0-514">Konkrétní úroveň oprav SAP Agent hostitele není třeba umožňující tuto funkci SAPOSCOL a Agent hostitele SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-514">A specific SAP Host Agent patch level is required that enables this capability in SAPOSCOL and SAP Host Agent.</span></span> <span data-ttu-id="06ff0-515">Úroveň přesný oprav je popsána v Poznámka SAP [1409604].</span><span class="sxs-lookup"><span data-stu-id="06ff0-515">The exact patch level is documented in SAP Note [1409604].</span></span>

<span data-ttu-id="06ff0-516">Podrobnosti týkající se nasazení komponent, které doručování dat hostitele a Agent hostitele SAP SAPOSCOL a správa životního cyklu těchto součástí [Příručka pro nasazení][deployment-guide]</span><span class="sxs-lookup"><span data-stu-id="06ff0-516">For the details regarding deployment of components that deliver host data to SAPOSCOL and SAP Host Agent and the lifecycle management of those components, refer to the [Deployment Guide][deployment-guide]</span></span>

## <span data-ttu-id="06ff0-517"><a name="3264829e-075e-4d25-966e-a49dad878737"></a>Podrobnosti k systému Microsoft SQL Server</span><span class="sxs-lookup"><span data-stu-id="06ff0-517"><a name="3264829e-075e-4d25-966e-a49dad878737"></a>Specifics to Microsoft SQL Server</span></span>
### <a name="sql-server-iaas"></a><span data-ttu-id="06ff0-518">SQL Server IaaS</span><span class="sxs-lookup"><span data-stu-id="06ff0-518">SQL Server IaaS</span></span>
<span data-ttu-id="06ff0-519">Od verze Microsoft Azure, můžete snadno migrovat existující aplikace SQL Server založený na platformě Windows Server na virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-519">Starting with Microsoft Azure, you can easily migrate your existing SQL Server applications built on Windows Server platform to Azure Virtual Machines.</span></span> <span data-ttu-id="06ff0-520">SQL Server ve virtuálním počítači umožňuje snížit celkové náklady na vlastnictví nasazení, správu a údržbu enterprise spektra aplikací snadno migrací těchto aplikací do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-520">SQL Server in a Virtual Machine enables you to reduce the total cost of ownership of deployment, management, and maintenance of enterprise breadth applications by easily migrating these applications to Microsoft Azure.</span></span> <span data-ttu-id="06ff0-521">Se systémem SQL Server v virtuální počítač Azure správci a vývojáři můžete dál používat stejné vývoj a nástroje pro správu, které jsou k dispozici místně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-521">With SQL Server in an Azure Virtual Machine, administrators and developers can still use the same development and administration tools that are available on-premises.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="06ff0-522">Jsme nejsou hovoříte o Microsoft Azure SQL Database, který je platforma jako nabídka služeb platformy Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-522">We are not discussing Microsoft Azure SQL Database, which is a Platform as a Service offer of the Microsoft Azure Platform.</span></span> <span data-ttu-id="06ff0-523">Informace v tomto dokumentu jsou o spuštění produktu SQL Server, protože je znám pro místní nasazení v Azure Virtual Machines, využití infrastruktury jako funkce služby Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-523">The discussion in this paper is about running the SQL Server product as it is known for on-premises deployments in Azure Virtual Machines, leveraging the Infrastructure as a Service capability of Azure.</span></span> <span data-ttu-id="06ff0-524">Možnosti databáze a funkce mezi tyto dvě nabídky se liší a nesmí promíchala mezi sebou.</span><span class="sxs-lookup"><span data-stu-id="06ff0-524">Database capabilities and functionalities between these two offers are different and should not be mixed up with each other.</span></span> <span data-ttu-id="06ff0-525">Viz také: <https://azure.microsoft.com/services/sql-database/></span><span class="sxs-lookup"><span data-stu-id="06ff0-525">See also: <https://azure.microsoft.com/services/sql-database/></span></span>
> 
> 

<span data-ttu-id="06ff0-526">Důrazně doporučujeme zkontrolovat [to] [ virtual-machines-sql-server-infrastructure-services] dokumentace než budete pokračovat.</span><span class="sxs-lookup"><span data-stu-id="06ff0-526">It is strongly recommended to review [this][virtual-machines-sql-server-infrastructure-services] documentation before continuing.</span></span>

<span data-ttu-id="06ff0-527">V následujících částech jsou kusy části dokumentace v části výše uvedený odkaz agregovat a uvedené.</span><span class="sxs-lookup"><span data-stu-id="06ff0-527">In the following sections pieces of parts of the documentation under the link above are aggregated and mentioned.</span></span> <span data-ttu-id="06ff0-528">Specifika kolem SAP jsou také uvedené a některé pojmy jsou popsány podrobněji.</span><span class="sxs-lookup"><span data-stu-id="06ff0-528">Specifics around SAP are mentioned as well and some concepts are described in more detail.</span></span> <span data-ttu-id="06ff0-529">Důrazně ale doporučujeme fungovat prostřednictvím dokumentace výše první než si přečtete konkrétní dokumentaci k SQL serveru.</span><span class="sxs-lookup"><span data-stu-id="06ff0-529">However, it is highly recommended to work through the documentation above first before reading the SQL Server specific documentation.</span></span>

<span data-ttu-id="06ff0-530">V IaaS konkrétní informace, které byste měli vědět před pokračováním je některé systému SQL Server:</span><span class="sxs-lookup"><span data-stu-id="06ff0-530">There is some SQL Server in IaaS specific information you should know before continuing:</span></span>

* <span data-ttu-id="06ff0-531">**Virtuální počítač SLA**: je SLA pro virtuální počítače běžící v Azure, které naleznete zde: <https://azure.microsoft.com/support/legal/sla/></span><span class="sxs-lookup"><span data-stu-id="06ff0-531">**Virtual Machine SLA**: There is an SLA for Virtual Machines running in Azure, which can be found here: <https://azure.microsoft.com/support/legal/sla/></span></span>  
* <span data-ttu-id="06ff0-532">**Podpora verzí SQL**: pro zákazníky, SAP, podporujeme SQL Server 2008 R2 a vyšší na virtuální počítač Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-532">**SQL Version Support**: For SAP customers, we support SQL Server 2008 R2 and higher on Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="06ff0-533">Nejsou podporované starší verze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-533">Earlier editions are not supported.</span></span> <span data-ttu-id="06ff0-534">Zkontrolujte tato obecná [prohlášení o odborné pomoci](https://support.microsoft.com/kb/956893) další podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-534">Review this general [Support Statement](https://support.microsoft.com/kb/956893) for more details.</span></span> <span data-ttu-id="06ff0-535">Všimněte si, že obecně systému SQL Server 2008 je společnost Microsoft podporuje také.</span><span class="sxs-lookup"><span data-stu-id="06ff0-535">Note that in general SQL Server 2008 is supported by Microsoft as well.</span></span> <span data-ttu-id="06ff0-536">Ale kvůli důležité funkce pro SAP, která byla zavedena v systému SQL Server 2008 R2, SQL Server 2008 R2 je minimální verze pro SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-536">However due to significant functionality for SAP, which was introduced with SQL Server 2008 R2, SQL Server 2008 R2 is the minimum release for SAP.</span></span> <span data-ttu-id="06ff0-537">Mějte na paměti, že SQL Server 2012 a 2014 získali rozšířené o hlubší integrace do scénář IaaS (např. zálohování přímo s Azure Storage).</span><span class="sxs-lookup"><span data-stu-id="06ff0-537">Keep in mind that SQL Server 2012 and 2014 got extended with deeper integration into the IaaS scenario (like backing up directly against Azure Storage).</span></span> <span data-ttu-id="06ff0-538">Proto jsme omezení tento dokument k systému SQL Server 2012 a 2014 s jeho nejnovější úroveň oprav pro Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-538">Therefore, we restrict this paper to SQL Server 2012 and 2014 with its latest patch level for Azure.</span></span>
* <span data-ttu-id="06ff0-539">**Podpora funkce SQL**: funkce nejvíce systému SQL Server jsou podporovány ve virtuálních počítačích Microsoft Azure na několik výjimek.</span><span class="sxs-lookup"><span data-stu-id="06ff0-539">**SQL Feature Support**: Most SQL Server features are supported on Microsoft Azure Virtual Machines with some exceptions.</span></span> <span data-ttu-id="06ff0-540">**SQL Server převzetí služeb při selhání pomocí sdílených disků není možné clusterování**.</span><span class="sxs-lookup"><span data-stu-id="06ff0-540">**SQL Server Failover Clustering using Shared Disks is not supported**.</span></span>  <span data-ttu-id="06ff0-541">Distribuované technologie jako databáze zrcadlení, skupiny dostupnosti AlwaysOn, replikace, přesouvání protokolu a služby Service Broker jsou podporovány v jedné oblasti Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-541">Distributed technologies like Database Mirroring, AlwaysOn Availability Groups, Replication, Log Shipping and Service Broker are supported within a single Azure Region.</span></span> <span data-ttu-id="06ff0-542">SQL Server AlwaysOn taky je podporovaná mezi různých oblastech Azure, jak je uvedeno zde: <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.</span><span class="sxs-lookup"><span data-stu-id="06ff0-542">SQL Server AlwaysOn also is supported between different Azure Regions as documented here:  <https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.</span></span>  <span data-ttu-id="06ff0-543">Zkontrolujte [prohlášení o odborné pomoci](https://support.microsoft.com/kb/956893) další podrobnosti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-543">Review the [Support Statement](https://support.microsoft.com/kb/956893) for more details.</span></span> <span data-ttu-id="06ff0-544">Příklad pro nasazení konfigurace funkce AlwaysOn je uveden v [to] [ virtual-machines-workload-template-sql-alwayson] článku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-544">An example on how to deploy an AlwaysOn configuration is shown in [this][virtual-machines-workload-template-sql-alwayson] article.</span></span> <span data-ttu-id="06ff0-545">Také, podívejte se na osvědčené postupy popsané [sem][virtual-machines-sql-server-infrastructure-services]</span><span class="sxs-lookup"><span data-stu-id="06ff0-545">Also, check out the Best Practices documented [here][virtual-machines-sql-server-infrastructure-services]</span></span> 
* <span data-ttu-id="06ff0-546">**Výkon SQL**: jsme si jisti, že Microsoft Azure hostované virtuální počítače provést velmi dobře oproti jiné nabídky virtualizace veřejného cloudu, ale jednotlivé výsledky se může lišit.</span><span class="sxs-lookup"><span data-stu-id="06ff0-546">**SQL Performance**: We are confident that Microsoft Azure hosted Virtual Machines perform very well in comparison to other public cloud virtualization offerings, but individual results may vary.</span></span> <span data-ttu-id="06ff0-547">Podívejte se na [to] [ virtual-machines-sql-server-performance-best-practices] článku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-547">Check out [this][virtual-machines-sql-server-performance-best-practices] article.</span></span>
* <span data-ttu-id="06ff0-548">**Pomocí bitové kopie z Azure Marketplace**: nejrychlejší způsob, jak nasadit nový virtuální počítač Microsoft Azure je použít bitovou kopii z Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="06ff0-548">**Using Images from Azure Marketplace**: The fastest way to deploy a new Microsoft Azure VM is to use an image from the Azure Marketplace.</span></span> <span data-ttu-id="06ff0-549">Existují bitové kopie v Azure Marketplace, které obsahují systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="06ff0-549">There are images in the Azure Marketplace, which contain SQL Server.</span></span> <span data-ttu-id="06ff0-550">Bitové kopie, kde je již nainstalován systém SQL Server nelze použít pro aplikace SAP NetWeaver okamžitě.</span><span class="sxs-lookup"><span data-stu-id="06ff0-550">The images where SQL Server already is installed can’t be immediately used for SAP NetWeaver applications.</span></span> <span data-ttu-id="06ff0-551">Důvodem je, že výchozí kolace systému SQL Server je nainstalován v rámci těchto bitových kopií a není potřeba systémy SAP NetWeaver kolace.</span><span class="sxs-lookup"><span data-stu-id="06ff0-551">The reason is the default SQL Server collation is installed within those images and not the collation required by SAP NetWeaver systems.</span></span> <span data-ttu-id="06ff0-552">Chcete-li použít tyto obrázky, zkontrolujte kroků popsaných v kapitole [pomocí bitové kopie systému SQL Server z webu Microsoft Azure Marketplace][dbms-guide-5.6].</span><span class="sxs-lookup"><span data-stu-id="06ff0-552">In order to use such images, check the steps documented in chapter [Using a SQL Server image out of the Microsoft Azure Marketplace][dbms-guide-5.6].</span></span> 
* <span data-ttu-id="06ff0-553">Podívejte se na [podrobnosti o cenách](https://azure.microsoft.com/pricing/) Další informace.</span><span class="sxs-lookup"><span data-stu-id="06ff0-553">Check out [Pricing Details](https://azure.microsoft.com/pricing/) for more information.</span></span> <span data-ttu-id="06ff0-554">[SQL Server 2012 Licensing průvodce](https://download.microsoft.com/download/7/3/C/73CAD4E0-D0B5-4BE5-AB49-D5B886A5AE00/SQL_Server_2012_Licensing_Reference_Guide.pdf) a [SQL Server 2014 licencování průvodce](https://download.microsoft.com/download/B/4/E/B4E604D9-9D38-4BBA-A927-56E4C872E41C/SQL_Server_2014_Licensing_Guide.pdf) jsou také důležité prostředků.</span><span class="sxs-lookup"><span data-stu-id="06ff0-554">The [SQL Server 2012 Licensing Guide](https://download.microsoft.com/download/7/3/C/73CAD4E0-D0B5-4BE5-AB49-D5B886A5AE00/SQL_Server_2012_Licensing_Reference_Guide.pdf) and [SQL Server 2014 Licensing Guide](https://download.microsoft.com/download/B/4/E/B4E604D9-9D38-4BBA-A927-56E4C872E41C/SQL_Server_2014_Licensing_Guide.pdf) are also an important resource.</span></span>

### <a name="sql-server-configuration-guidelines-for-sap-related-sql-server-installations-in-azure-vms"></a><span data-ttu-id="06ff0-555">Pokyny pro konfigurace systému SQL Server pro instalace související SAP systému SQL Server ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-555">SQL Server configuration guidelines for SAP-related SQL Server installations in Azure VMs</span></span>
#### <a name="recommendations-on-vmvhd-structure-for-sap-related-sql-server-deployments"></a><span data-ttu-id="06ff0-556">Doporučení pro virtuální počítač nebo virtuální pevný disk strukturu pro nasazení SAP související systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="06ff0-556">Recommendations on VM/VHD structure for SAP-related SQL Server deployments</span></span>
<span data-ttu-id="06ff0-557">V souladu s obecný popis spustitelné soubory systému SQL Server nachází nebo nainstalován do systémové jednotce disk operačního systému Virtuálního počítače (jednotka C:\).</span><span class="sxs-lookup"><span data-stu-id="06ff0-557">In accordance with the general description, SQL Server executables should be located or installed into the system drive of the VM’s OS disk (drive C:\).</span></span>  <span data-ttu-id="06ff0-558">Obvykle se většina systémových databází systému SQL Server nejsou využívaných na vysoké úrovni SAP NetWeaver zatížení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-558">Typically, most of the SQL Server system databases are not utilized at a high level by SAP NetWeaver workload.</span></span> <span data-ttu-id="06ff0-559">Proto může na jednotce C:\ také zůstat systémové databáze systému SQL Server (hlavní, databázi msdb a modelu).</span><span class="sxs-lookup"><span data-stu-id="06ff0-559">Hence the system databases of SQL Server (master, msdb, and model) can remain on the C:\ drive as well.</span></span> <span data-ttu-id="06ff0-560">Výjimka může být databáze tempdb, v případě některých ERP SAP a všechny úlohy BW, může to vyžadovat vyšší datový svazek nebo vstupně-výstupních operací operations svazek, který se nevejde do původní virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="06ff0-560">An exception could be tempdb, which in the case of some SAP ERP and all BW workloads, might require either higher data volume or I/O operations volume, which can’t fit into the original VM.</span></span> <span data-ttu-id="06ff0-561">Pro tyto systémy je možné provádět následující kroky:</span><span class="sxs-lookup"><span data-stu-id="06ff0-561">For such systems, the following steps should be performed:</span></span>

* <span data-ttu-id="06ff0-562">Přesuňte soubory dat primární databáze tempdb stejné logické jednotce jako primární datové soubory databáze SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-562">Move the primary tempdb data file(s) to the same logical drive as the primary data file(s) of the SAP database.</span></span>
* <span data-ttu-id="06ff0-563">Přidáte žádné další databáze tempdb datové soubory ke každému z jiné logické jednotky obsahující soubor dat databáze SAP uživatele.</span><span class="sxs-lookup"><span data-stu-id="06ff0-563">Add any additional tempdb data files to each of the other logical drives containing a data file of the SAP user database.</span></span>
* <span data-ttu-id="06ff0-564">Přidejte soubor protokolu databáze tempdb na logické jednotce, která obsahuje soubor protokolu databáze uživatele.</span><span class="sxs-lookup"><span data-stu-id="06ff0-564">Add the tempdb logfile to the logical drive, which contains the user database’s log file.</span></span>
* <span data-ttu-id="06ff0-565">**Výhradně pro typů virtuálních počítačů, které používají místní SSD** v protokolu a výpočetní uzel databáze tempdb data soubory mohou být umístěny na jednotku D:\.</span><span class="sxs-lookup"><span data-stu-id="06ff0-565">**Exclusively for VM types that use local SSDs** on the compute node tempdb data and log files might be placed on the D:\ drive.</span></span> <span data-ttu-id="06ff0-566">Nicméně může se doporučuje použít víc datových souborech databáze tempdb.</span><span class="sxs-lookup"><span data-stu-id="06ff0-566">Nevertheless, it might be recommended to use multiple tempdb data files.</span></span> <span data-ttu-id="06ff0-567">Mějte na paměti, že svazky jednotce D:\ se liší podle typu virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-567">Be aware D:\ drive volumes are different based on the VM type.</span></span>

<span data-ttu-id="06ff0-568">Tyto konfigurace povolit databáze tempdb využívat více místa, než je schopný poskytnout systémové jednotce.</span><span class="sxs-lookup"><span data-stu-id="06ff0-568">These configurations enable tempdb to consume more space than the system drive is able to provide.</span></span> <span data-ttu-id="06ff0-569">Aby bylo možné určit velikost správné databázi tempdb, jeden zkontrolujte velikost databáze tempdb na stávajících systémů, které se spustit místní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-569">In order to determine the proper tempdb size, one can check the tempdb sizes on existing systems, which run on-premises.</span></span> <span data-ttu-id="06ff0-570">Kromě toho by taková konfigurace umožňuje IOPS čísla proti databázi tempdb nelze zadat s systémová jednotka.</span><span class="sxs-lookup"><span data-stu-id="06ff0-570">In addition, such a configuration would enable IOPS numbers against tempdb, which cannot be provided with the system drive.</span></span> <span data-ttu-id="06ff0-571">Znovu systémy, které jsou místní slouží k monitorování vstupně-výstupní úlohy proti databázi tempdb tak, aby odvozujete čísla IOPS, která byste měli vidět na vaše databáze tempdb.</span><span class="sxs-lookup"><span data-stu-id="06ff0-571">Again, systems that are running on-premises can be used to monitor I/O workload against tempdb so that you can derive the IOPS numbers you expect to see on your tempdb.</span></span>

<span data-ttu-id="06ff0-572">Konfigurace virtuálního počítače, který používá systém SQL Server s databázi SAP a umístění souboru protokolu databáze tempdb a databázi tempdb dat na jednotku D:\ by vypadat podobně jako:</span><span class="sxs-lookup"><span data-stu-id="06ff0-572">A VM configuration, which runs SQL Server with an SAP database and where tempdb data and tempdb logfile are placed on the D:\ drive would look like:</span></span>

![Konfigurace referenčního virtuálního počítače Azure IaaS pro SAP][dbms-guide-figure-300]

<span data-ttu-id="06ff0-574">Upozorňujeme, že jednotku D:\ má různou velikost závisí na typu virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-574">Be aware that the D:\ drive has different sizes dependent on the VM type.</span></span> <span data-ttu-id="06ff0-575">Závisí na požadavek na velikost databáze tempdb vám může vynutit pár databáze tempdb data a soubory protokolu s SAP protokolu a data soubory databáze v případech, kdy jednotku D:\ je příliš malá.</span><span class="sxs-lookup"><span data-stu-id="06ff0-575">Dependent on the size requirement of tempdb you might be forced to pair tempdb data and log files with the SAP database data and log files in cases where D:\ drive is too small.</span></span>

#### <a name="formatting-the-disks"></a><span data-ttu-id="06ff0-576">Formátování disky</span><span class="sxs-lookup"><span data-stu-id="06ff0-576">Formatting the disks</span></span>
<span data-ttu-id="06ff0-577">Pro SQL Server systému souborů NTFS blokovat velikost pro disky obsahující data systému SQL Server a soubory protokolů by měl být 64 kB.</span><span class="sxs-lookup"><span data-stu-id="06ff0-577">For SQL Server the NTFS block size for disks containing SQL Server data and log files should be 64K.</span></span> <span data-ttu-id="06ff0-578">Není nutné k formátování jednotku D:\.</span><span class="sxs-lookup"><span data-stu-id="06ff0-578">There is no need to format the D:\ drive.</span></span> <span data-ttu-id="06ff0-579">Tato jednotka obsahuje předem formátovaný.</span><span class="sxs-lookup"><span data-stu-id="06ff0-579">This drive comes pre-formatted.</span></span>

<span data-ttu-id="06ff0-580">Pokud chcete mít jistotu, že obnovení nebo vytváření databází není inicializace datové soubory podle vynulování obsah souborů, jeden by se ujistěte, že má uživatelský kontext, který služba SQL Server běží v určité oprávnění.</span><span class="sxs-lookup"><span data-stu-id="06ff0-580">In order to make sure that the restore or creation of databases is not initializing the data files by zeroing the content of the files, one should make sure that the user context the SQL Server service is running in has a certain permission.</span></span> <span data-ttu-id="06ff0-581">Uživatelé ve skupině pro správu služby Windows obvykle mají tato oprávnění.</span><span class="sxs-lookup"><span data-stu-id="06ff0-581">Usually users in the Windows Administrator group have these permissions.</span></span> <span data-ttu-id="06ff0-582">Pokud služba SQL Server běží v kontextu uživatele Windows uživatel není správcem, budete muset přiřadit tento uživatel uživatelské právo, provádět úlohy údržby svazku'.</span><span class="sxs-lookup"><span data-stu-id="06ff0-582">If the SQL Server service is run in the user context of non-Windows Administrator user, you need to assign that user the User Right ‘Perform volume maintenance tasks’.</span></span>  <span data-ttu-id="06ff0-583">Zobrazit podrobnosti v tomto článku znalostní báze Microsoft: <https://support.microsoft.com/kb/2574695></span><span class="sxs-lookup"><span data-stu-id="06ff0-583">See the details in this Microsoft Knowledge Base Article: <https://support.microsoft.com/kb/2574695></span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="06ff0-584">Dopad komprese databáze</span><span class="sxs-lookup"><span data-stu-id="06ff0-584">Impact of database compression</span></span>
<span data-ttu-id="06ff0-585">V konfiguracích, kde vstupně-výstupní šířky pásma může představovat problém každý míry, což snižuje IOPS vám může pomoci stretch úlohy, jež možné spouštět v případě pomocí IaaS, jako je například Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-585">In configurations where I/O bandwidth can become a limiting factor, every measure, which reduces IOPS might help to stretch the workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="06ff0-586">Proto pokud to ještě neudělali, použití SQL serveru stránky komprese důrazně doporučujeme SAP i Microsoft před nahráním existující databázi SAP do Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-586">Therefore, if not yet done, applying SQL Server PAGE compression is strongly recommended by both SAP and Microsoft before uploading an existing SAP database to Azure.</span></span>

<span data-ttu-id="06ff0-587">Doporučení k provedení komprese databáze před nahráním do Azure je dán ze dvou důvodů:</span><span class="sxs-lookup"><span data-stu-id="06ff0-587">The recommendation to perform Database Compression before uploading to Azure is given out of two reasons:</span></span>

* <span data-ttu-id="06ff0-588">Množství dat k odeslání je nižší.</span><span class="sxs-lookup"><span data-stu-id="06ff0-588">The amount of data to be uploaded is lower.</span></span>
* <span data-ttu-id="06ff0-589">Doba trvání spuštění komprese je kratší, za předpokladu, že jeden může používat silnější hardware s více procesorů nebo větší šířku pásma vstupně-výstupních operací nebo méně vstupně-výstupních operací latence místně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-589">The duration of the compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises.</span></span>
* <span data-ttu-id="06ff0-590">Menší velikosti databáze může vést k nižší náklady pro přidělení disku</span><span class="sxs-lookup"><span data-stu-id="06ff0-590">Smaller database sizes might lead to less costs for disk allocation</span></span>

<span data-ttu-id="06ff0-591">Komprese databáze pracuje také virtuálních počítačích Azure, jako místní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-591">Database compression works as well in an Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="06ff0-592">Další podrobnosti o tom, jak komprimovat existující databázi SQL serveru SAP, najdete tady: <https://blogs.msdn.com/b/saponsqlserver/archive/2010/10/08/compressing-an-sap-database-using-report-msscompress.aspx></span><span class="sxs-lookup"><span data-stu-id="06ff0-592">For more details on how to compress an existing SAP SQL Server database, check here: <https://blogs.msdn.com/b/saponsqlserver/archive/2010/10/08/compressing-an-sap-database-using-report-msscompress.aspx></span></span>

### <a name="sql-server-2014--storing-database-files-directly-on-azure-blob-storage"></a><span data-ttu-id="06ff0-593">SQL Server 2014 – ukládání souborů databáze přímo na Azure Blob Storage</span><span class="sxs-lookup"><span data-stu-id="06ff0-593">SQL Server 2014 – Storing Database Files directly on Azure Blob Storage</span></span>
<span data-ttu-id="06ff0-594">SQL Server 2014 otevře možnost ukládat databázové soubory přímo v úložišti objektů Blob Azure bez "obálku" virtuální pevný disk je obcházet.</span><span class="sxs-lookup"><span data-stu-id="06ff0-594">SQL Server 2014 opens the possibility to store database files directly on Azure Blob Store without the ‘wrapper’ of a VHD around them.</span></span> <span data-ttu-id="06ff0-595">Zejména s použitím standardního úložiště Azure nebo menší typy virtuálních počítačů to umožňuje scénáře, kde lze překonat omezení IOPS, která vynucovaly omezený počet disků, které může být připojen k některé menší typy virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-595">Especially with using Standard Azure Storage or smaller VM types this enables scenarios where you can overcome the limits of IOPS that would be enforced by a limited number of disks that can be mounted to some smaller VM types.</span></span> <span data-ttu-id="06ff0-596">Tento postup funguje pro uživatelské databáze, ale ne pro systémové databáze systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="06ff0-596">This works for user databases however not for system databases of SQL Server.</span></span> <span data-ttu-id="06ff0-597">Funguje i pro data a soubory protokolu serveru SQL Server.</span><span class="sxs-lookup"><span data-stu-id="06ff0-597">It also works for data and log files of SQL Server.</span></span> <span data-ttu-id="06ff0-598">Pokud chcete nasadit databázi SQL serveru SAP tímto způsobem místo 'zabalení' do virtuální pevné disky, mějte na následující:</span><span class="sxs-lookup"><span data-stu-id="06ff0-598">If you’d like to deploy an SAP SQL Server database this way instead of ‘wrapping’ it into VHDs, keep the following in mind:</span></span>

* <span data-ttu-id="06ff0-599">Použít pro účet úložiště, které musí být ve stejné oblasti Azure jako ten, který se používá k nasazení virtuálních počítačů systému SQL Server běží v.</span><span class="sxs-lookup"><span data-stu-id="06ff0-599">The Storage Account used needs to be in the same Azure Region as the one that is used to deploy the VM SQL Server is running in.</span></span>
* <span data-ttu-id="06ff0-600">Aspekty, které jsou uvedené dříve týkající se distribuce virtuálních pevných disků v různých účtech úložiště Azure platí pro tuto metodu také nasazení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-600">Considerations listed earlier regarding the distribution of VHDs over different Azure Storage Accounts apply for this method of deployments as well.</span></span> <span data-ttu-id="06ff0-601">Znamená počet vstupně-výstupních operací do omezení účtu úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-601">Means the I/O operations count against the limits of the Azure Storage Account.</span></span>

[comment]: <> (MSSedusch TODO ale tímto dojde k použití šířky pásma sítě a není úložiště šířky pásma, nebude ho?)

<span data-ttu-id="06ff0-603">Podrobnosti o tomto typu nasazení jsou zde uvedeny: <https://docs.microsoft.com/sql/relational-databases/databases/sql-server-data-files-in-microsoft-azure></span><span class="sxs-lookup"><span data-stu-id="06ff0-603">Details about this type of deployment are listed here: <https://docs.microsoft.com/sql/relational-databases/databases/sql-server-data-files-in-microsoft-azure></span></span>

<span data-ttu-id="06ff0-604">Chcete-li uložit datové soubory SQL Server přímo na Azure Premium Storage, musíte mít minimální verzi oprava SQL Server 2014, které jsou zde uvedeny: <https://support.microsoft.com/kb/3063054>.</span><span class="sxs-lookup"><span data-stu-id="06ff0-604">In order to store SQL Server data files directly on Azure Premium Storage, you need to have a minimum SQL Server 2014 patch release, which is documented here: <https://support.microsoft.com/kb/3063054>.</span></span> <span data-ttu-id="06ff0-605">Ukládání souborů dat systému SQL Server v Azure Standard Storage funguje s vydaná verze systému SQL Server 2014.</span><span class="sxs-lookup"><span data-stu-id="06ff0-605">Storing SQL Server data files on Azure Standard Storage does work with the released version of SQL Server 2014.</span></span> <span data-ttu-id="06ff0-606">Velmi stejné opravy však obsahují další řadu opravy, které přímého použití Azure Blob Storage pro datové soubory SQL serveru a zálohy spolehlivější.</span><span class="sxs-lookup"><span data-stu-id="06ff0-606">However, the very same patches contain another series of fixes, which make the direct usage of Azure Blob Storage for SQL Server data files and backups more reliable.</span></span> <span data-ttu-id="06ff0-607">Proto doporučujeme používat tyto opravy obecně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-607">Therefore we recommend using these patches in general.</span></span>

### <a name="sql-server-2014-buffer-pool-extension"></a><span data-ttu-id="06ff0-608">Rozšíření fondu vyrovnávací paměti systému SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="06ff0-608">SQL Server 2014 Buffer Pool Extension</span></span>
<span data-ttu-id="06ff0-609">SQL Server 2014 zavedly novou funkci, která se nazývá rozšíření fondu vyrovnávací paměti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-609">SQL Server 2014 introduced a new feature, which is called Buffer Pool Extension.</span></span> <span data-ttu-id="06ff0-610">Tato funkce rozšíření fondu vyrovnávací paměti systému SQL Server, který je uložen v paměti s druhou úroveň mezipaměti, kterou je zajištěna místní SSD server nebo virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="06ff0-610">This functionality extends the buffer pool of SQL Server, which is kept in memory with a second level cache that is backed by local SSDs of a server or VM.</span></span> <span data-ttu-id="06ff0-611">To umožňuje ponechat větší pracovní sadu dat, v paměti'.</span><span class="sxs-lookup"><span data-stu-id="06ff0-611">This enables to keep a larger working set of data ‘in memory’.</span></span> <span data-ttu-id="06ff0-612">Ve srovnání s přístup k Azure Standard Storage přístup do rozšíření fondu vyrovnávací paměti, který je uložený na místní SSD virtuální počítač Azure se mnoha faktorech rychlejší.</span><span class="sxs-lookup"><span data-stu-id="06ff0-612">Compared to accessing Azure Standard Storage the access into the extension of the buffer pool, which is stored on local SSDs of an Azure VM is many factors faster.</span></span>  <span data-ttu-id="06ff0-613">Využití místní jednotce D:\ typy virtuálních počítačů, které mají vynikající IOPS a propustnost proto může být velmi rozumný způsob, jak snížit zatížení IOPS Azure Storage a výrazně zlepšit dobu odezvy dotazů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-613">Therefore, leveraging the local D:\ drive of the VM types that have excellent IOPS and throughput could be a very reasonable way to reduce the IOPS load against Azure Storage and improve response times of queries dramatically.</span></span> <span data-ttu-id="06ff0-614">To platí hlavně v případě, že není použití služby Premium Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-614">This applies especially when not using Premium Storage.</span></span> <span data-ttu-id="06ff0-615">V případě Storage úrovně Premium a využití mezipaměti pro čtení Azure Premium na výpočetním uzlu jsou doporučené pro datové soubory, očekávané žádné významné rozdíly.</span><span class="sxs-lookup"><span data-stu-id="06ff0-615">In case of Premium Storage and the usage of the Premium Azure Read Cache on the compute node, as recommended for data files, no significant differences are expected.</span></span> <span data-ttu-id="06ff0-616">Důvodem je to, jak mezipaměti (rozšíření fondu vyrovnávací paměti systému SQL Server a mezipaměti pro čtení úložiště Premium) používáte místní disky výpočetních uzlů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-616">Reason is that both caches (SQL Server Buffer Pool Extension and Premium Storage Read Cache) are using the local disks of the compute nodes.</span></span>
<span data-ttu-id="06ff0-617">Další podrobnosti o této funkci, podívejte se do této dokumentace: <https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension></span><span class="sxs-lookup"><span data-stu-id="06ff0-617">For more details about this functionality, check this documentation: <https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension></span></span> 

### <a name="backuprecovery-considerations-for-sql-server"></a><span data-ttu-id="06ff0-618">Důležité informace o zálohování nebo obnovení pro SQL Server</span><span class="sxs-lookup"><span data-stu-id="06ff0-618">Backup/Recovery considerations for SQL Server</span></span>
<span data-ttu-id="06ff0-619">Při nasazování systému SQL Server do Azure musí být zkontrolovány vaše zálohování metodika.</span><span class="sxs-lookup"><span data-stu-id="06ff0-619">When deploying SQL Server into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="06ff0-620">I když v systému není systémem produktivní, databázi SAP, který je hostitelem SQL Server je nutné zálohovat pravidelně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-620">Even if the system is not a productive system, the SAP database hosted by SQL Server must be backed up periodically.</span></span> <span data-ttu-id="06ff0-621">Vzhledem k tomu, že Azure úložiště udržuje tři bitové kopie, je nyní méně důležité v ohledem na kompenzace havárie úložiště zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-621">Since Azure Storage keeps three images, a backup is now less important in respect to compensating a storage crash.</span></span> <span data-ttu-id="06ff0-622">Z důvodu priority pro údržbu správné plán zálohování a obnovení je větší, který můžete kompenzovat chyby logické nebo ruční tím, že poskytuje bod v možnosti v době obnovení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-622">The priority reason for maintaining a proper backup and recovery plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="06ff0-623">Cílem je proto záloh buď použijte k obnovení databázi zpět do určité míry v čase nebo k použití zálohování v Azure počáteční hodnoty jiného systému zkopírováním existující databáze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-623">So the goal is to either use backups to restore the database back to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="06ff0-624">Například je může přenáší z konfigurace SAP vrstvě 2 na instalaci systému 3vrstvé stejného systému obnovení ze zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-624">For example, you could transfer from a 2-Tier SAP configuration to a 3-Tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="06ff0-625">Existují tři různé způsoby zálohování systému SQL Server do služby Azure Storage:</span><span class="sxs-lookup"><span data-stu-id="06ff0-625">There are three different ways to backup SQL Server to Azure Storage:</span></span>

1. <span data-ttu-id="06ff0-626">SQL Server 2012 CU4 a vyšší nativně zálohování databází můžete na adresu URL.</span><span class="sxs-lookup"><span data-stu-id="06ff0-626">SQL Server 2012 CU4 and higher can natively backup databases to a URL.</span></span> <span data-ttu-id="06ff0-627">To je podrobně popsán v blogu [novou funkčnost systému SQL Server 2014 – část 5 – zálohování a obnovení vylepšení](https://blogs.msdn.com/b/saponsqlserver/archive/2014/02/15/new-functionality-in-sql-server-2014-part-5-backup-restore-enhancements.aspx).</span><span class="sxs-lookup"><span data-stu-id="06ff0-627">This is detailed in the blog [New functionality in SQL Server 2014 – Part 5 – Backup/Restore Enhancements](https://blogs.msdn.com/b/saponsqlserver/archive/2014/02/15/new-functionality-in-sql-server-2014-part-5-backup-restore-enhancements.aspx).</span></span> <span data-ttu-id="06ff0-628">Naleznete v kapitole [SQL Server 2012 SP1 CU4 nebo novější][dbms-guide-5.5.1].</span><span class="sxs-lookup"><span data-stu-id="06ff0-628">See chapter [SQL Server 2012 SP1 CU4 and later][dbms-guide-5.5.1].</span></span>
2. <span data-ttu-id="06ff0-629">Verze systému SQL Server před SQL 2012 CU4 můžete použít funkci přesměrování zálohování na disk VHD a v podstatě přesuňte směrem umístění úložiště Azure, který byl nakonfigurován zápisu datového proudu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-629">SQL Server releases prior to SQL 2012 CU4 can use a redirection functionality to backup to a VHD and basically move the write stream towards an Azure Storage location that has been configured.</span></span> <span data-ttu-id="06ff0-630">Naleznete v kapitole [SQL Server 2012 SP1 CU3 a starších verzích][dbms-guide-5.5.2].</span><span class="sxs-lookup"><span data-stu-id="06ff0-630">See chapter [SQL Server 2012 SP1 CU3 and earlier releases][dbms-guide-5.5.2].</span></span>
3. <span data-ttu-id="06ff0-631">Poslední metodu je provést konvenční zálohování serveru SQL Server, na příkaz disku na disk zařízení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-631">The final method is to perform a conventional SQL Server backup to disk command onto a disk device.</span></span> <span data-ttu-id="06ff0-632">Toto je stejný jako vzoru místní nasazení a není podrobněji v tomto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-632">This is identical to the on-premises deployment pattern and is not discussed in detail in this document.</span></span>

#### <span data-ttu-id="06ff0-633"><a name="0fef0e79-d3fe-4ae2-85af-73666a6f7268"></a>SQL Server 2012 SP1 CU4 nebo novější</span><span class="sxs-lookup"><span data-stu-id="06ff0-633"><a name="0fef0e79-d3fe-4ae2-85af-73666a6f7268"></a>SQL Server 2012 SP1 CU4 and later</span></span>
<span data-ttu-id="06ff0-634">Tato funkce umožňuje přímo zálohování do Azure BLOB storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-634">This functionality allows you to directly backup to Azure BLOB storage.</span></span> <span data-ttu-id="06ff0-635">Bez této metody musíte zálohovat na jiné disky, které by využívat disku a kapacity IOPS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-635">Without this method, you must backup to other disks, which would consume disk and IOPS capacity.</span></span> <span data-ttu-id="06ff0-636">Cílem je v podstatě to:</span><span class="sxs-lookup"><span data-stu-id="06ff0-636">The idea is basically this:</span></span>

 ![Pomocí zálohování systému SQL Server 2012 do úložiště objektů BLOB Microsoft Azure][dbms-guide-figure-400]

<span data-ttu-id="06ff0-638">Výhoda spočívá v tomto případě jeden nepotřebuje zatěžovat disky, které chcete ukládat zálohy systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="06ff0-638">The advantage in this case is that one doesn’t need to spend disks to store SQL Server backups on.</span></span> <span data-ttu-id="06ff0-639">Je proto nutné méně disky, které jsou přidělené a celou šířku pásma disku IOPS lze použít pro soubory protokolu a data.</span><span class="sxs-lookup"><span data-stu-id="06ff0-639">So you have fewer disks allocated and the whole bandwidth of disk IOPS can be used for data and log files.</span></span> <span data-ttu-id="06ff0-640">Všimněte si, že maximální velikost zálohy je omezená na maximálně 1 TB, jak je uvedeno v části "Meze" v tomto článku: <https://docs.microsoft.com/sql/relational-databases/backup-restore/sql-server-backup-to-url#limitations>.</span><span class="sxs-lookup"><span data-stu-id="06ff0-640">Note that the maximum size of a backup is limited to a maximum of 1 TB as documented in the section ‘Limitations’ in this article: <https://docs.microsoft.com/sql/relational-databases/backup-restore/sql-server-backup-to-url#limitations>.</span></span> <span data-ttu-id="06ff0-641">Pokud velikost zálohování navzdory pomocí zálohování serveru SQL komprese překročí velikost 1 TB, funkce popsané v kapitole [SQL Server 2012 SP1 CU3 a starších verzích] [ dbms-guide-5.5.2] v tomto dokumentu se musí použít.</span><span class="sxs-lookup"><span data-stu-id="06ff0-641">If the backup size, despite using SQL Server Backup compression would exceed 1 TB in size, the functionality described in chapter [SQL Server 2012 SP1 CU3 and earlier releases][dbms-guide-5.5.2] in this document needs to be used.</span></span>

<span data-ttu-id="06ff0-642">[Související dokumentaci](https://docs.microsoft.com/sql/relational-databases/backup-restore/restoring-from-backups-stored-in-microsoft-azure) popisující obnovení databáze ze zálohy na úložišti objektů Blob Azure doporučujeme nechcete obnovit přímo z úložiště objektů BLOB v Azure, pokud je záloha > 25 GB.</span><span class="sxs-lookup"><span data-stu-id="06ff0-642">[Related documentation](https://docs.microsoft.com/sql/relational-databases/backup-restore/restoring-from-backups-stored-in-microsoft-azure) describing the restore of databases from backups against Azure Blob Store recommend not to restore directly from Azure BLOB store if the backup is >25GB.</span></span> <span data-ttu-id="06ff0-643">Doporučení v tomto článku je jednoduše založenou na důležité informace o výkonu a ne z důvodu omezení funkční.</span><span class="sxs-lookup"><span data-stu-id="06ff0-643">The recommendation in this article is simply based on performance considerations and not due to functional restrictions.</span></span> <span data-ttu-id="06ff0-644">Proto různých podmínkách uplatnit na případ od případu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-644">Therefore, different conditions may apply on a case by case basis.</span></span>

<span data-ttu-id="06ff0-645">Dokumentaci o tom, jak je tento typ zálohy nastavit a využít lze nalézt v [to](https://docs.microsoft.com/sql/relational-databases/tutorial-use-azure-blob-storage-service-with-sql-server-2016) kurzu</span><span class="sxs-lookup"><span data-stu-id="06ff0-645">Documentation on how this type of backup is set up and leveraged can be found in [this](https://docs.microsoft.com/sql/relational-databases/tutorial-use-azure-blob-storage-service-with-sql-server-2016) tutorial</span></span>

<span data-ttu-id="06ff0-646">Příklad pořadí kroků lze číst [zde](https://docs.microsoft.com/sql/relational-databases/backup-restore/sql-server-backup-to-url).</span><span class="sxs-lookup"><span data-stu-id="06ff0-646">An example of the sequence of steps can be read [here](https://docs.microsoft.com/sql/relational-databases/backup-restore/sql-server-backup-to-url).</span></span>

<span data-ttu-id="06ff0-647">Automatizace zálohování, je nejvyšší důležité, abyste měli jistotu, že jsou objekty BLOB pro každé zálohování jiný název.</span><span class="sxs-lookup"><span data-stu-id="06ff0-647">Automating backups, it is of highest importance to make sure that the BLOBs for each backup are named differently.</span></span> <span data-ttu-id="06ff0-648">V opačném případě budou přepsána a je porušený řetězec obnovení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-648">Otherwise they are overwritten and the restore chain is broken.</span></span>

<span data-ttu-id="06ff0-649">Aby se kombinovat až věcí mezi tři různé typy záloh se doporučuje vytvořit různé kontejnery pod účet úložiště pro zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-649">In order not to mix up things between the three different types of backups, it is advisable to create different containers underneath the storage account used for backups.</span></span> <span data-ttu-id="06ff0-650">Kontejnery může být pouze virtuální počítač nebo podle typu virtuálního počítače a zálohování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-650">The containers could be by VM only or by VM and Backup type.</span></span> <span data-ttu-id="06ff0-651">Schéma může vypadat podobně jako:</span><span class="sxs-lookup"><span data-stu-id="06ff0-651">The schema could look like:</span></span>

 ![Pomocí zálohování systému SQL Server 2012 k Microsoft Azure Storage BLOB – různé kontejnery v části samostatný účet úložiště][dbms-guide-figure-500]

<span data-ttu-id="06ff0-653">V předchozím příkladu by provést zálohování do stejný účet úložiště, kde jsou nasazené virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-653">In the example above, the backups would not be performed into the same storage account where the VMs are deployed.</span></span> <span data-ttu-id="06ff0-654">Bude nový účet úložiště speciálně pro zálohování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-654">There would be a new storage account specifically for the backups.</span></span> <span data-ttu-id="06ff0-655">V rámci účty úložiště by různé kontejnery, které jsou vytvořené pomocí matice typu zálohování a název virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-655">Within the storage accounts, there would be different containers created with a matrix of the type of backup and the VM name.</span></span> <span data-ttu-id="06ff0-656">Takové segmentace je snazší správa záloh různých virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-656">Such segmentation makes it easier to administrate the backups of the different VMs.</span></span>

<span data-ttu-id="06ff0-657">Objekty BLOB, které jeden přímo zapíše zálohy, nejsou na počet data přidávání disků virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-657">The BLOBs one directly writes the backups to, are not adding to the count of the data disks of a VM.</span></span> <span data-ttu-id="06ff0-658">Proto může jeden maximalizovat maximální počet datových disků připojit konkrétní verze SKU virtuálních počítačů pro data a soubor protokolu transakcí a spustit zálohu na kontejner úložiště.</span><span class="sxs-lookup"><span data-stu-id="06ff0-658">Hence one could maximize the maximum of data disks mounted of the specific VM SKU for the data and transaction log file and still execute a backup against a storage container.</span></span> 

#### <span data-ttu-id="06ff0-659"><a name="f9071eff-9d72-4f47-9da4-1852d782087b"></a>SQL Server 2012 SP1 CU3 a starších verzích</span><span class="sxs-lookup"><span data-stu-id="06ff0-659"><a name="f9071eff-9d72-4f47-9da4-1852d782087b"></a>SQL Server 2012 SP1 CU3 and earlier releases</span></span>
<span data-ttu-id="06ff0-660">Prvním krokem je třeba provést pro dosažení zálohování přímo s Azure Storage bude stáhnout soubor msi, který je propojený s [to](https://www.microsoft.com/download/details.aspx?id=40740) KBA článku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-660">The first step you must perform in order to achieve a backup directly against Azure Storage would be to download the msi, which is linked to [this](https://www.microsoft.com/download/details.aspx?id=40740) KBA article.</span></span>

<span data-ttu-id="06ff0-661">Stažení x64 instalační soubor a v dokumentaci.</span><span class="sxs-lookup"><span data-stu-id="06ff0-661">Download the x64 installation file and the documentation.</span></span> <span data-ttu-id="06ff0-662">Soubor nainstaluje program s názvem: 'Microsoft SQL Server zálohování pro nástroj Microsoft Azure'.</span><span class="sxs-lookup"><span data-stu-id="06ff0-662">The file installs a program called: ‘Microsoft SQL Server Backup to Microsoft Azure Tool’.</span></span> <span data-ttu-id="06ff0-663">Přečtěte si důkladně dokumentaci produktu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-663">Read the documentation of the product thoroughly.</span></span>  <span data-ttu-id="06ff0-664">Nástroj v podstatě funguje následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="06ff0-664">The tool basically works in the following way:</span></span>

* <span data-ttu-id="06ff0-665">Na straně serveru SQL Server je definována umístění na disku pro zálohování serveru SQL Server (nepoužívejte jednotku D:\ pro to).</span><span class="sxs-lookup"><span data-stu-id="06ff0-665">From the SQL Server side, a disk location for the SQL Server backup is defined (don’t use the D:\ drive for this).</span></span>
* <span data-ttu-id="06ff0-666">Tento nástroj umožňuje definovat pravidla, která slouží k přímé různých typech zálohování pro různé kontejnery Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-666">The tool allows you to define rules, which can be used to direct different types of backups to different Azure Storage containers.</span></span>
* <span data-ttu-id="06ff0-667">Jakmile pravidla jsou na místě, nástroj přesměruje zápisu datového proudu zálohy na jeden z virtuálních pevných disků nebo disků do umístění úložiště Azure, který byl dříve definován.</span><span class="sxs-lookup"><span data-stu-id="06ff0-667">Once the rules are in place, the tool redirects the write stream of the backup to one of the VHDs/disks to the Azure Storage location, which was defined earlier.</span></span>
* <span data-ttu-id="06ff0-668">Nástroj ponechá malé se zakázaným inzerováním soubor několik velikosti KB na virtuální pevný disk nebo Disk, který byl definován pro SQL Server zálohování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-668">The tool leaves a small stub file of a few KB size on the VHD/Disk, which was defined for the SQL Server backup.</span></span> <span data-ttu-id="06ff0-669">**Tento soubor by měl být ponecháno na umístění úložiště, vzhledem k tomu, že je třeba, aby opakujte obnovení z Azure Storage.**</span><span class="sxs-lookup"><span data-stu-id="06ff0-669">**This file should be left on the storage location since it is required to restore again from Azure Storage.**</span></span>
  * <span data-ttu-id="06ff0-670">Pokud jste ztratili se zakázaným inzerováním souboru (například prostřednictvím ztrátě úložná média, která obsahovala soubor se zakázaným inzerováním) a vybrali jste možnost zálohování na účet Microsoft Azure Storage, může obnovit soubor se zakázaným inzerováním prostřednictvím služby Microsoft Azure Storage stažením z kontejneru úložiště, ve kterém je umístěn.</span><span class="sxs-lookup"><span data-stu-id="06ff0-670">If you have lost the stub file (for example through loss of the storage media that contained the stub file) and you have chosen the option of backing up to a Microsoft Azure Storage account, you may recover the stub file through Microsoft Azure Storage by downloading it from the storage container in which it was placed.</span></span> <span data-ttu-id="06ff0-671">Soubor se zakázaným inzerováním by pak umístit do složky v místním počítači, kde je nástroj nakonfigurované ke zjišťování a nahrajte do kontejneru, pomocí stejného hesla šifrování, pokud šifrování byl použit s původní pravidlo.</span><span class="sxs-lookup"><span data-stu-id="06ff0-671">You should then place the stub file into a folder on the local machine where the Tool is configured to detect and upload to the same container with the same encryption password if encryption was used with the original rule.</span></span> 

<span data-ttu-id="06ff0-672">To znamená, že schéma, jak je popsáno výše pro novější verze systému SQL Server můžete umístit na místě také pro verze systému SQL Server, které nejsou povolení přímé adresu umístění úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-672">This means the schema as described above for more recent releases of SQL Server can be put in place as well for SQL Server releases, which are not allowing direct address an Azure Storage location.</span></span>

<span data-ttu-id="06ff0-673">Tato metoda by neměl být používá s novější verze systému SQL Server, které podporují základní až nativně Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-673">This method should not be used with more recent SQL Server releases, which support backing up natively against Azure Storage.</span></span> <span data-ttu-id="06ff0-674">Výjimky jsou, kde se omezeních nativního zálohování do Azure blokování nativní zálohování provádění do Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-674">Exceptions are where limitations of the native backup into Azure are blocking native backup execution into Azure.</span></span>

#### <a name="other-possibilities-to-backup-sql-server-databases"></a><span data-ttu-id="06ff0-675">Další možnosti pro zálohování databází systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="06ff0-675">Other possibilities to backup SQL Server databases</span></span>
<span data-ttu-id="06ff0-676">Další možnosti pro zálohování databáze je pro připojení k virtuální počítač, který použijete k uložení zálohy na dalších datových disků.</span><span class="sxs-lookup"><span data-stu-id="06ff0-676">Other possibilities to backup databases is to attach additional data disks to a VM that you use to store backups on.</span></span> <span data-ttu-id="06ff0-677">V takovém případě musíte Ujistěte se, že disky nejsou spuštěné úplné.</span><span class="sxs-lookup"><span data-stu-id="06ff0-677">In such a case, you would need to make sure that the disks are not running full.</span></span> <span data-ttu-id="06ff0-678">Pokud je to tento případ, musíte disky odpojit a proto do speak 'archivu"jej a nahraďte ji metodou nového prázdného disku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-678">If that is the case, you would need to unmount the disks and so to speak ‘archive’ it and replace it with a new empty disk.</span></span> <span data-ttu-id="06ff0-679">Pokud přejdete dolů této cestě, chcete zachovat tyto virtuální pevné disky v samostatných účtech úložiště Azure od těch, virtuální pevné disky s soubory databáze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-679">If you go down that path, you want to keep these VHDs in separate Azure Storage Accounts from the ones that the VHDs with the database files.</span></span>

<span data-ttu-id="06ff0-680">Druhá možnost se má používat velký virtuální počítač, který může mít mnoho disky připojené, například D14 s 32VHDs.</span><span class="sxs-lookup"><span data-stu-id="06ff0-680">A second possibility is to use a large VM that can have many disks attached, for example a D14 with 32VHDs.</span></span> <span data-ttu-id="06ff0-681">Používejte prostory úložiště flexibilní prostředí sestavení, kde je sestavení sdílené složky, které jsou pak používány jako cíle zálohování pro různé servery databázového systému.</span><span class="sxs-lookup"><span data-stu-id="06ff0-681">Use Storage Spaces to build a flexible environment where you could build shares that are used then as backup targets for the different DBMS servers.</span></span>

<span data-ttu-id="06ff0-682">Některé z osvědčených postupů tu popsané [zde](https://blogs.msdn.com/b/sqlcat/archive/2015/02/26/large-sql-server-database-backup-on-an-azure-vm-and-archiving.aspx) také.</span><span class="sxs-lookup"><span data-stu-id="06ff0-682">Some best practices got documented [here](https://blogs.msdn.com/b/sqlcat/archive/2015/02/26/large-sql-server-database-backup-on-an-azure-vm-and-archiving.aspx) as well.</span></span> 

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="06ff0-683">Důležité informace o výkonu pro zálohování a obnovování</span><span class="sxs-lookup"><span data-stu-id="06ff0-683">Performance considerations for backups/restores</span></span>
<span data-ttu-id="06ff0-684">Stejně jako u nasazení úplné obnovení je závislá na tom, kolik svazky lze číst souběžně a propustnost tyto svazky, které je možné výkonu zálohování a obnovení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-684">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="06ff0-685">Kromě toho může spotřeby procesoru, který je používán kompresi zálohy přehrát významnou roli na virtuálních počítačích s vlákny právě až osm procesoru.</span><span class="sxs-lookup"><span data-stu-id="06ff0-685">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to eight CPU threads.</span></span> <span data-ttu-id="06ff0-686">Proto můžete předpokládat jeden:</span><span class="sxs-lookup"><span data-stu-id="06ff0-686">Therefore, one can assume:</span></span>

* <span data-ttu-id="06ff0-687">Méně počet disků, na které se používají k ukládání dat souborů, tím menší celkovou propustnost v režimu čtení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-687">The fewer the number of disks used to store the data files, the smaller the overall throughput in reading.</span></span>
* <span data-ttu-id="06ff0-688">Menší že počet procesoru vláken ve virtuálním počítači, závažnější dopad kompresi zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-688">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression.</span></span>
* <span data-ttu-id="06ff0-689">Méně cílů (objekty BLOB a virtuální pevné disky nebo disky), k zápisu zálohování, nižší úrovně propustnosti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-689">The fewer targets (BLOBs, VHDs, or disks) to write the backup to, the lesser the throughput.</span></span>
* <span data-ttu-id="06ff0-690">Menší virtuální počítač velikost, tím menší propustnost kvótu úložiště zápis a čtení ze služby Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-690">The smaller the VM size, the smaller the storage throughput quota writing and reading from Azure Storage.</span></span> <span data-ttu-id="06ff0-691">Nezávisle na tom, jestli jsou zálohy přímo uložené v Azure Blob, nebo zda jsou uloženy na virtuální pevné disky, které znovu ukládají do objektů BLOB Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-691">Independent of whether the backups are directly stored on Azure Blob or whether they are stored in VHDs that again are stored in Azure Blobs.</span></span>

<span data-ttu-id="06ff0-692">Při použití Microsoft Azure Storage BLOB jako cíl zálohování v novějších verzích, jste s omezeným přístupem k určení pouze jeden cíl adresy URL pro každé konkrétní zálohování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-692">When using a Microsoft Azure Storage BLOB as the backup target in more recent releases, you are restricted to designating only one URL target for each specific backup.</span></span>

<span data-ttu-id="06ff0-693">Ale pokud používáte 'Microsoft SQL Server zálohy nástroj Microsoft Azure' ve starších verzích, můžete definovat více než jeden soubor cíl.</span><span class="sxs-lookup"><span data-stu-id="06ff0-693">But when using the ‘Microsoft SQL Server Backup to Microsoft Azure Tool’ in older releases, you can define more than one file target.</span></span> <span data-ttu-id="06ff0-694">S více než jeden cíl zálohování můžete škálovat a je vyšší propustnost zálohování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-694">With more than one target, the backup can scale and the throughput of the backup is higher.</span></span> <span data-ttu-id="06ff0-695">Výsledkem by pak více souborů také v účtu úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-695">This would result then in multiple files as well in the Azure Storage account.</span></span> <span data-ttu-id="06ff0-696">V našich testech pomocí více cílů souboru jeden výborný můžete dosáhnout propustnosti, který jeden může dosáhnout s příponami zálohování implementovat z SQL serveru 2012 SP1 CU4 na.</span><span class="sxs-lookup"><span data-stu-id="06ff0-696">In our testing, using multiple file destinations one can definitely achieve the throughput, which one could achieve with the backup extensions implemented in from SQL Server 2012 SP1 CU4 on.</span></span> <span data-ttu-id="06ff0-697">Můžete také nejsou blokována bránou limit 1 TB jako nativního zálohování do Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-697">You also are not blocked by the 1TB limit as in the native backup into Azure.</span></span>

<span data-ttu-id="06ff0-698">Nicméně, mějte na paměti, propustnost je také závisí na umístění účtu úložiště Azure, můžete použít pro zálohování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-698">However, keep in mind, the throughput also is dependent on the location of the Azure Storage Account you use for the backup.</span></span> <span data-ttu-id="06ff0-699">Najít účet úložiště v jiné oblasti než virtuální počítače běží v může být představu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-699">An idea might be to locate the storage account in a different region than the VMs are running in.</span></span> <span data-ttu-id="06ff0-700">Bude třeba spustit konfigurace virtuálního počítače v oblasti západní Evropa, ale put účet úložiště, který používáte k zálohování nahoru vůči v severní Evropě.</span><span class="sxs-lookup"><span data-stu-id="06ff0-700">For example you would run the VM configuration in West-Europe, but put the Storage Account that you use to back up against in North-Europe.</span></span> <span data-ttu-id="06ff0-701">Který určitě má vliv na zálohování propustnost a není pravděpodobně vygenerujte propustnost 150MB/s, jak se vám zdá, že v případech, kde cílového úložiště a virtuální počítače běží ve stejném datacentru regionální možné.</span><span class="sxs-lookup"><span data-stu-id="06ff0-701">That certainly has an impact on the backup throughput and is not likely to generate a throughput of 150MB/sec as it seems to be possible in cases where the target storage and the VMs are running in the same regional datacenter.</span></span>

#### <a name="managing-backup-blobs"></a><span data-ttu-id="06ff0-702">Správa objektů BLOB zálohy</span><span class="sxs-lookup"><span data-stu-id="06ff0-702">Managing Backup BLOBs</span></span>
<span data-ttu-id="06ff0-703">Není potřeba spravovat zálohy sami.</span><span class="sxs-lookup"><span data-stu-id="06ff0-703">There is a requirement to manage the backups on your own.</span></span> <span data-ttu-id="06ff0-704">Vzhledem k tomu, očekává se, že mnoho objektů BLOB jsou vytvořeny tak, že spustíte zálohování časté transakčního protokolu, správu těchto objektů BLOB snadno může přetížit portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-704">Since the expectation is that many blobs are created by executing frequent transaction log backups, administration of those blobs easily can overburden the Azure portal.</span></span> <span data-ttu-id="06ff0-705">Je proto recommendable využívají služby Azure storage Exploreru.</span><span class="sxs-lookup"><span data-stu-id="06ff0-705">Therefore, it is recommendable to leverage an Azure storage explorer.</span></span> <span data-ttu-id="06ff0-706">Existuje několik dobrý ty, které jsou k dispozici, které může pomoci spravovat účet úložiště Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-706">There are several good ones available, which can help to manage an Azure storage account</span></span>

* <span data-ttu-id="06ff0-707">Microsoft Visual Studio sadou Azure SDK nainstalovaný (<https://azure.microsoft.com/downloads/>)</span><span class="sxs-lookup"><span data-stu-id="06ff0-707">Microsoft Visual Studio with Azure SDK installed (<https://azure.microsoft.com/downloads/>)</span></span>
* <span data-ttu-id="06ff0-708">Microsoft Azure Storage Explorer (<https://azure.microsoft.com/downloads/>)</span><span class="sxs-lookup"><span data-stu-id="06ff0-708">Microsoft Azure Storage Explorer (<https://azure.microsoft.com/downloads/>)</span></span>
* <span data-ttu-id="06ff0-709">Nástroje třetích stran</span><span class="sxs-lookup"><span data-stu-id="06ff0-709">Third party tools</span></span>

<span data-ttu-id="06ff0-710">Podrobnější diskuzi o zálohování a SAP v Azure, najdete v části [příručce zálohování SAP](sap-hana-backup-guide.md) Další informace.</span><span class="sxs-lookup"><span data-stu-id="06ff0-710">For a more complete discussion of Backup and SAP on Azure, refer to [the SAP Backup Guide](sap-hana-backup-guide.md) for more information.</span></span>

### <span data-ttu-id="06ff0-711"><a name="1b353e38-21b3-4310-aeb6-a77e7c8e81c8"></a>Pomocí bitové kopie systému SQL Server z webu Microsoft Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="06ff0-711"><a name="1b353e38-21b3-4310-aeb6-a77e7c8e81c8"></a>Using a SQL Server image out of the Microsoft Azure Marketplace</span></span>
<span data-ttu-id="06ff0-712">Společnost Microsoft poskytuje virtuální počítače v Azure Marketplace, které již obsahují verze systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="06ff0-712">Microsoft offers VMs in the Azure Marketplace, which already contain versions of SQL Server.</span></span> <span data-ttu-id="06ff0-713">Pro SAP zákazníky, kteří požadují licence pro SQL Server a Windows může to být příležitost v podstatě nepokrývají potřebu licencí podle roztočený až virtuální počítače se systémem SQL Server již nainstalován.</span><span class="sxs-lookup"><span data-stu-id="06ff0-713">For SAP customers who require licenses for SQL Server and Windows, this might be an opportunity to basically cover the need for licenses by spinning up VMs with SQL Server already installed.</span></span> <span data-ttu-id="06ff0-714">Chcete-li použít tyto obrázky pro SAP, nutné provést následující aspekty:</span><span class="sxs-lookup"><span data-stu-id="06ff0-714">In order to use such images for SAP, the following considerations need to be made:</span></span>

* <span data-ttu-id="06ff0-715">Zkušební verze systému SQL Server získat vyšší náklady než právě "Pouze pro systém Windows" virtuální počítač nasadit z Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="06ff0-715">The SQL Server non-Evaluation versions acquire higher costs than just a ‘Windows-only’ VM deployed from Azure Marketplace.</span></span> <span data-ttu-id="06ff0-716">Naleznete v článcích k porovnání ceny: <https://azure.microsoft.com/pricing/details/virtual-machines/windows/> a <https://azure.microsoft.com/pricing/details/virtual-machines/sql-server-enterprise/>.</span><span class="sxs-lookup"><span data-stu-id="06ff0-716">See these articles to compare prices: <https://azure.microsoft.com/pricing/details/virtual-machines/windows/> and <https://azure.microsoft.com/pricing/details/virtual-machines/sql-server-enterprise/>.</span></span> 
* <span data-ttu-id="06ff0-717">Můžete použít jenom verze systému SQL Server, které jsou podporovány produktem SAP, jako je SQL Server 2012.</span><span class="sxs-lookup"><span data-stu-id="06ff0-717">You only can use SQL Server releases, which are supported by SAP, like SQL Server 2012.</span></span>
* <span data-ttu-id="06ff0-718">Kolace instance systému SQL Server, který je nainstalován ve virtuálních počítačích, které nabízí Azure Marketplace není kolace SAP NetWeaver vyžaduje instanci systému SQL Server spustit.</span><span class="sxs-lookup"><span data-stu-id="06ff0-718">The collation of the SQL Server instance, which is installed in the VMs offered in the Azure Marketplace is not the collation SAP NetWeaver requires the SQL Server instance to run.</span></span> <span data-ttu-id="06ff0-719">Když pomocí pokynů v následující části, můžete změnit kolaci.</span><span class="sxs-lookup"><span data-stu-id="06ff0-719">You can change the collation though with the directions in the following section.</span></span>

#### <a name="changing-the-sql-server-collation-of-a-microsoft-windowssql-server-vm"></a><span data-ttu-id="06ff0-720">Změna kolace systému SQL Server systému Microsoft Windows nebo SQL Server virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="06ff0-720">Changing the SQL Server Collation of a Microsoft Windows/SQL Server VM</span></span>
<span data-ttu-id="06ff0-721">Vzhledem k tomu, že nejsou bitové kopie systému SQL Server v Azure Marketplace nastavení pro používání kolace, který je požadován SAP NetWeaver aplikace, musí změnit okamžitě po nasazení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-721">Since the SQL Server images in the Azure Marketplace are not set up to use the collation, which is required by SAP NetWeaver applications, it needs to be changed immediately after the deployment.</span></span> <span data-ttu-id="06ff0-722">Pro SQL Server 2012 lze to provést pomocí následujících kroků při nasazený virtuální počítač a správci je moci přihlásit do nasazených virtuálních počítačů:</span><span class="sxs-lookup"><span data-stu-id="06ff0-722">For SQL Server 2012, this can be done with the following steps as soon as the VM has been deployed and an administrator is able to log into the deployed VM:</span></span>

* <span data-ttu-id="06ff0-723">'Jako správce, otevřete okno příkazu systému Windows.</span><span class="sxs-lookup"><span data-stu-id="06ff0-723">Open a Windows Command Window ‘as administrator’.</span></span>
* <span data-ttu-id="06ff0-724">Změňte adresář na C:\Program Files\Microsoft SQL Server\110\Setup Bootstrap\SQLServer2012.</span><span class="sxs-lookup"><span data-stu-id="06ff0-724">Change the directory to C:\Program Files\Microsoft SQL Server\110\Setup Bootstrap\SQLServer2012.</span></span>
* <span data-ttu-id="06ff0-725">Spusťte příkaz: Setup.exe/quiet nezobrazí /ACTION = REBUILDDATABASE InstanceName = MSSQLSERVER /SQLSYSADMINACCOUNTS =`<local_admin_account_name`> /SQLCOLLATION = SQL_Latin1_General_Cp850_BIN2</span><span class="sxs-lookup"><span data-stu-id="06ff0-725">Execute the command: Setup.exe /QUIET /ACTION=REBUILDDATABASE /INSTANCENAME=MSSQLSERVER /SQLSYSADMINACCOUNTS=`<local_admin_account_name`> /SQLCOLLATION=SQL_Latin1_General_Cp850_BIN2</span></span>   
  * <span data-ttu-id="06ff0-726">`<local_admin_account_name`> je účet, který byl definován jako účet správce při nasazování virtuálního počítače poprvé v galerii.</span><span class="sxs-lookup"><span data-stu-id="06ff0-726">`<local_admin_account_name`> is the account, which was defined as the administrator account when deploying the VM for the first time through the gallery.</span></span>

<span data-ttu-id="06ff0-727">Proces by měla pouze trvat několik minut.</span><span class="sxs-lookup"><span data-stu-id="06ff0-727">The process should only take a few minutes.</span></span> <span data-ttu-id="06ff0-728">Chcete-li Ujistěte se, zda v kroku skončila s správný výsledek, proveďte následující kroky:</span><span class="sxs-lookup"><span data-stu-id="06ff0-728">In order to make sure whether the step ended up with the correct result, perform the following steps:</span></span>

* <span data-ttu-id="06ff0-729">Otevřete SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="06ff0-729">Open SQL Server Management Studio.</span></span>
* <span data-ttu-id="06ff0-730">Otevřete okno dotazu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-730">Open a Query Window.</span></span>
* <span data-ttu-id="06ff0-731">Spustíte příkaz sp_helpsort v hlavní databázi systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="06ff0-731">Execute the command sp_helpsort in the SQL Server master database.</span></span>

<span data-ttu-id="06ff0-732">Požadovaný výsledek by měl vypadat podobně jako:</span><span class="sxs-lookup"><span data-stu-id="06ff0-732">The desired result should look like:</span></span>

    Latin1-General, binary code point comparison sort for Unicode Data, SQL Server Sort Order 40 on Code Page 850 for non-Unicode Data

<span data-ttu-id="06ff0-733">Pokud není výsledek, ZASTAVTE nasazení SAP a zjistěte, proč možnosti instalačního příkazu nefunguje podle očekávání.</span><span class="sxs-lookup"><span data-stu-id="06ff0-733">If this is not the result, STOP deploying SAP and investigate why the setup command did not work as expected.</span></span> <span data-ttu-id="06ff0-734">Nasazení aplikací SAP NetWeaver do instance systému SQL Server s jinou kódové stránky systému SQL Server než ten, který uvedených výše je **není** podporována.</span><span class="sxs-lookup"><span data-stu-id="06ff0-734">Deployment of SAP NetWeaver applications onto SQL Server instance with different SQL Server codepages than the one mentioned above is **NOT** supported.</span></span>

### <a name="sql-server-high-availability-for-sap-in-azure"></a><span data-ttu-id="06ff0-735">SQL Server vysoká dostupnost pro SAP v Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-735">SQL Server High-Availability for SAP in Azure</span></span>
<span data-ttu-id="06ff0-736">Jak je uvedeno výše v tomto dokumentu, není možné vytvořit sdílené úložiště, který je potřebný pro použití nejstarší funkci vysoké dostupnosti systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="06ff0-736">As mentioned earlier in this paper, there is no possibility to create shared storage, which is necessary for the usage of the oldest SQL Server high availability functionality.</span></span> <span data-ttu-id="06ff0-737">Tato funkce by nainstalujte dva nebo více instancí systému SQL Server v Windows Server Failover Cluster (WSFC) pomocí sdíleného disku pro uživatelské databáze (a nakonec databáze tempdb).</span><span class="sxs-lookup"><span data-stu-id="06ff0-737">This functionality would install two or more SQL Server instances in a Windows Server Failover Cluster (WSFC) using a shared disk for the user databases (and eventually tempdb).</span></span> <span data-ttu-id="06ff0-738">Toto je metoda standardní vysoké dostupnosti dlouhou dobu, kterou také podporuje SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-738">This is the long time standard high availability method, which also is supported by SAP.</span></span> <span data-ttu-id="06ff0-739">Protože Azure nepodporuje sdílené úložiště, nemůže být dosaženo konfigurace systému SQL Server s vysokou dostupností s konfigurací sdíleného disku clusteru.</span><span class="sxs-lookup"><span data-stu-id="06ff0-739">Because Azure doesn’t support shared storage, SQL Server high availability configurations with a shared disk cluster configuration cannot be realized.</span></span> <span data-ttu-id="06ff0-740">Ale jiné metody vysoké dostupnosti jsou stále možné a jsou popsané v následujících částech.</span><span class="sxs-lookup"><span data-stu-id="06ff0-740">However, many other high availability methods are still possible and are described in the following sections.</span></span>

#### <a name="sql-server-log-shipping"></a><span data-ttu-id="06ff0-741">Přesouvání protokolu systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="06ff0-741">SQL Server Log Shipping</span></span>
<span data-ttu-id="06ff0-742">Jedna z metod vysokou dostupnost (HA) je přesouvání protokolu serveru SQL.</span><span class="sxs-lookup"><span data-stu-id="06ff0-742">One of the methods of high availability (HA) is SQL Server Log Shipping.</span></span> <span data-ttu-id="06ff0-743">Pokud virtuální počítače účastní HA konfigurace funguje překlad, žádný problém a instalační program v Azure se neliší od žádné nastavení, která se provádí na místě.</span><span class="sxs-lookup"><span data-stu-id="06ff0-743">If the VMs participating in the HA configuration have working name resolution, there is no problem and the setup in Azure does not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="06ff0-744">Není doporučeno spoléhají na pouze pro překlad IP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-744">It is not recommended to rely on IP resolution only.</span></span> <span data-ttu-id="06ff0-745">S ohledem na nastavení přesouvání protokolu a zásady kolem přesouvání protokolu, zkontrolujte Tato dokumentace:</span><span class="sxs-lookup"><span data-stu-id="06ff0-745">With regards to setting up Log Shipping and the principles around Log Shipping, check this documentation:</span></span>

<span data-ttu-id="06ff0-746"><https://docs.microsoft.com/SQL/Database-Engine/log-Shipping/About-log-Shipping-SQL-Server></span><span class="sxs-lookup"><span data-stu-id="06ff0-746"><https://docs.microsoft.com/sql/database-engine/log-shipping/about-log-shipping-sql-server></span></span>

<span data-ttu-id="06ff0-747">Skutečně dosáhnout vysoké dostupnosti proveďte, jeden potřebuje k nasazení virtuálních počítačů, které jsou v rámci těchto přesouvání protokolu konfiguraci, kterou chcete být v rámci stejné Azure skupina dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-747">In order to really achieve any high availability, one needs to deploy the VMs, which are within such a Log Shipping configuration to be within the same Azure Availability Set.</span></span>

#### <a name="database-mirroring"></a><span data-ttu-id="06ff0-748">Zrcadlení databáze</span><span class="sxs-lookup"><span data-stu-id="06ff0-748">Database Mirroring</span></span>
<span data-ttu-id="06ff0-749">Zrcadlení databáze, podporuje SAP (viz poznámka SAP [965908]) využívá k definování partnera převzetí služeb při selhání v připojovacím řetězci SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-749">Database Mirroring as supported by SAP (see SAP Note [965908]) relies on defining a failover partner in the SAP connection string.</span></span> <span data-ttu-id="06ff0-750">V případech mezi různými místy předpokládáme, že dva virtuální počítače jsou ve stejné doméně a že instance systému SQL Server kontextu dva uživatele jsou spuštěná s pověřeními uživatele domény, který je také mít dostatečná oprávnění v zahrnutých dvě instance systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="06ff0-750">For the Cross-Premises cases, we assume that the two VMs are in the same domain and that the user context the two SQL Server instances are running under a domain user as well and have sufficient privileges in the two SQL Server instances involved.</span></span> <span data-ttu-id="06ff0-751">Mezi typické místní instalace nebo konfigurace se proto neliší nastavení zrcadlení databáze v Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-751">Therefore, the setup of Database Mirroring in Azure does not differ between a typical on-premises setup/configuration.</span></span>

<span data-ttu-id="06ff0-752">Od verze čistě cloudové nasazení je nejsnazší má jiné nastavení domény v Azure a mají tyto virtuální počítače databázového systému (a ideálně vyhrazených virtuálních počítačích SAP) v rámci jedné domény.</span><span class="sxs-lookup"><span data-stu-id="06ff0-752">As of Cloud-Only deployments, the easiest method is to have another domain setup in Azure to have those DBMS VMs (and ideally dedicated SAP VMs) within one domain.</span></span>

<span data-ttu-id="06ff0-753">Pokud domény není možné, jeden můžete také použít certifikáty pro databázi zrcadlení koncových bodů podle postupu popsaného tady: <https://docs.microsoft.com/sql/database-engine/database-mirroring/use-certificates-for-a-database-mirroring-endpoint-transact-sql></span><span class="sxs-lookup"><span data-stu-id="06ff0-753">If a domain is not possible, one can also use certificates for the database mirroring endpoints as described here: <https://docs.microsoft.com/sql/database-engine/database-mirroring/use-certificates-for-a-database-mirroring-endpoint-transact-sql></span></span>

<span data-ttu-id="06ff0-754">Kurz k nastavení zrcadlení databáze v Azure naleznete zde: <https://docs.microsoft.com/sql/database-engine/database-mirroring/database-mirroring-sql-server></span><span class="sxs-lookup"><span data-stu-id="06ff0-754">A tutorial to set up Database Mirroring in Azure can be found here: <https://docs.microsoft.com/sql/database-engine/database-mirroring/database-mirroring-sql-server></span></span> 

#### <a name="sql-server-always-on"></a><span data-ttu-id="06ff0-755">Always On systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="06ff0-755">SQL Server Always On</span></span>
<span data-ttu-id="06ff0-756">Always On podporuje pro SAP místní (viz poznámka SAP [1772688]), podporuje se použije v kombinaci s SAP v Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-756">As Always On is supported for SAP on-premises (see SAP Note [1772688]), it is supported to be used in combination with SAP in Azure.</span></span> <span data-ttu-id="06ff0-757">Fakt, že není možné vytvořit sdílené disky v Azure neznamená, že jeden nejde vytvořit konfiguraci vždy na Windows Server Failover Cluster (WSFC) mezi různé virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-757">The fact that you are not able to create shared disks in Azure doesn’t mean that one can’t create an Always On Windows Server Failover Cluster (WSFC) configuration between different VMs.</span></span> <span data-ttu-id="06ff0-758">Pouze znamená, že nemáte možnost použití sdíleného disku jako kvora v konfiguraci clusteru.</span><span class="sxs-lookup"><span data-stu-id="06ff0-758">It only means that you do not have the possibility to use a shared disk as a quorum in the cluster configuration.</span></span> <span data-ttu-id="06ff0-759">Proto můžete sestavit konfigurace aplikace vždy na WSFC v Azure a jednoduše nevybírejte kvora typ, který využívá sdílený disk.</span><span class="sxs-lookup"><span data-stu-id="06ff0-759">Hence you can build an Always On WSFC configuration in Azure and simply not select the quorum type that utilizes shared disk.</span></span> <span data-ttu-id="06ff0-760">Prostředí Azure těchto virtuálních počítačů nasazených v by měl vyřešit virtuální počítače podle názvu a virtuální počítače musí být ve stejné doméně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-760">The Azure environment those VMs are deployed in should resolve the VMs by name and the VMs should be in the same domain.</span></span> <span data-ttu-id="06ff0-761">To platí pro pouze Azure a mezi různými místy nasazení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-761">This is true for Azure only and Cross-Premises deployments.</span></span> <span data-ttu-id="06ff0-762">Existují některé důležité informace týkající se nasazení SQL serveru naslouchacího procesu skupiny dostupnosti (Nezaměňovat s Azure sady dostupnosti nesmí) vzhledem k tomu, že Azure v tuto chvíli není povolena pro jednoduše vytvoření objektu AD a DNS, protože je možné místní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-762">There are some special considerations around deploying the SQL Server Availability Group Listener (not to be confused with the Azure Availability Set) since Azure at this point in time does not allow to simply create an AD/DNS object as it is possible on-premises.</span></span> <span data-ttu-id="06ff0-763">Proto některé jiné instalace kroky jsou nezbytné k překonání konkrétní chování Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-763">Therefore, some different installation steps are necessary to overcome the specific behavior of Azure.</span></span>

<span data-ttu-id="06ff0-764">Některé aspekty pomocí naslouchací proces skupiny dostupnosti jsou:</span><span class="sxs-lookup"><span data-stu-id="06ff0-764">Some considerations using an Availability Group Listener are:</span></span>

* <span data-ttu-id="06ff0-765">Pomocí naslouchací proces skupiny dostupnosti je možné pouze v systému Windows Server 2012 nebo vyšší jako hostovaný operační systém virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-765">Using an Availability Group Listener is only possible with Windows Server 2012 or higher as guest OS of the VM.</span></span> <span data-ttu-id="06ff0-766">Pro Windows Server 2012, budete muset Ujistěte se, že tato oprava platí: <https://support.microsoft.com/kb/2854082></span><span class="sxs-lookup"><span data-stu-id="06ff0-766">For Windows Server 2012 you need to make sure that this patch is applied: <https://support.microsoft.com/kb/2854082></span></span> 
* <span data-ttu-id="06ff0-767">Pro Windows Server 2008 R2, tato oprava neexistuje a Always On by bylo potřeba použít stejným způsobem jako zrcadlení databáze zadáním partnera převzetí služeb při selhání v řetězci připojení (provést prostřednictvím SAP default.pfl parametr databáze nebo mss nebo serveru – viz poznámka SAP [965908]).</span><span class="sxs-lookup"><span data-stu-id="06ff0-767">For Windows Server 2008 R2 this patch does not exist and Always On would need to be used in the same manner as Database Mirroring by specifying a failover partner in the connections string (done through the SAP default.pfl parameter dbs/mss/server – see SAP Note [965908]).</span></span>
* <span data-ttu-id="06ff0-768">Při použití naslouchací proces skupiny dostupnosti, je třeba se připojit k vyhrazené pro vyrovnávání zatížení databáze virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-768">When using an Availability Group Listener, the Database VMs need to be connected to a dedicated Load Balancer.</span></span> <span data-ttu-id="06ff0-769">Název řešení v čistě cloudové nasazení by buď vyžadují všech virtuálních počítačů systému SAP (aplikační servery, databázového systému server a server (A) SCS) jsou ve stejné virtuální síti nebo by vyžadovaly z aplikační vrstva SAP údržby souboru etc\host mohli virtuálních počítačů serveru SQL přeložit názvy virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-769">Name resolution in Cloud-Only deployments would either require all VMs of an SAP system (application servers, DBMS server, and (A)SCS server) are in the same virtual network or would require from an SAP application layer the maintenance of the etc\host file in order to get the VM names of the SQL Server VMs resolved.</span></span> <span data-ttu-id="06ff0-770">Aby se zabránilo, že Azure je přiřazení nové IP adresy v případech, kdy oba virtuální počítače jsou náhodně vypnutí, jeden by měl přiřadit statické IP adresy pro rozhraní sítě těchto virtuálních počítačů v konfiguraci Always On (definování statickou IP adresu je popsaný v [to] [ virtual-networks-reserved-private-ip] článku)</span><span class="sxs-lookup"><span data-stu-id="06ff0-770">In order to avoid that Azure is assigning new IP addresses in cases where both VMs incidentally are shutdown, one should assign static IP addresses to the network interfaces of those VMs in the Always On configuration (defining a static IP address is described in [this][virtual-networks-reserved-private-ip] article)</span></span>

[comment]: <> (Původní blogy)
[comment]: <> (< https://blogs.msdn.com/b/alwaysonpro/archive/2014/08/29/recommendations-and-best-practices-when-deploying-sql-server-alwayson-availability-groups-in-windows-azure-iaas.aspx>, < https://blogs.technet.com/b/rmilne/archive/2015/07/27/how-to-set-static-ip-on-azure-vm.aspx>) 
* <span data-ttu-id="06ff0-773">Požadované při vytváření konfigurace clusteru služby WSFC, kde clusteru vyžaduje speciální IP adresu přiřazen, protože Azure s jeho aktuální funkce přiřazujete název clusteru stejnou IP adresu jako uzel clusteru je vytvořen na speciální kroky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-773">There are special steps required when building the WSFC cluster configuration where the cluster needs a special IP address assigned, because Azure with its current functionality would assign the cluster name the same IP address as the node the cluster is created on.</span></span> <span data-ttu-id="06ff0-774">To znamená, že provedení ručního kroku je nutné provést k přiřadit jinou IP adresu clusteru.</span><span class="sxs-lookup"><span data-stu-id="06ff0-774">This means a manual step must be performed to assign a different IP address to the cluster.</span></span>
* <span data-ttu-id="06ff0-775">Naslouchací proces skupiny dostupnosti přechází se vytvoří v Azure s koncových bodů protokolu TCP/IP, které jsou přiřazeny k virtuálním počítačům s primární a sekundární repliky skupiny dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-775">The Availability Group Listener is going to be created in Azure with TCP/IP endpoints, which are assigned to the VMs running the primary and secondary replicas of the Availability group.</span></span>
* <span data-ttu-id="06ff0-776">Může být potřeba zabezpečit tyto koncové body pomocí seznamů řízení přístupu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-776">There might be a need to secure these endpoints with ACLs.</span></span>

[comment]: <> (Blog staré TODO)
[comment]: <> (Podrobné kroky a životní potřeby instalace konfigurace aplikace AlwaysOn na Azure se nejlépe došlo při s návodem k dispozici kurzu [here][virtual-machines-windows-classic-ps-sql-alwayson-availability-groups])
[comment]: <> (Předkonfigurované nastavení AlwaysOn prostřednictvím Azure galerii < https://blogs.technet.com/b/dataplatforminsider/archive/2014/08/25/sql-server-alwayson-offering-in-microsoft-azure-portal-gallery.aspx>)
[comment]: <> (Vytváření naslouchací proces skupiny dostupnosti se nejlépe popisuje v kurzu [this][virtual-machines-windows-classic-ps-sql-int-listener])
[comment]: <> (Zabezpečení koncových bodů sítě s seznamy ACL vysvětlení najdete nejlépe tady:)
[comment]: <> (* < https://michaelwasham.com/windows-azure-powershell-reference-guide/network-access-control-list-capability-in-windows-azure-powershell/>)
[comment]: <> (* < https://blogs.technet.com/b/heyscriptingguy/archive/2013/08/31/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-1-of-2.aspx>)
[comment]: <> (* < https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/01/weekend-scripter-creating-acls-for-windows-azure-endpoints-part-2-of-2.aspx>)  
[comment]: <> (* < https://blogs.technet.com/b/heyscriptingguy/archive/2013/09/18/creating-acls-for-windows-azure-endpoints.aspx>) 

<span data-ttu-id="06ff0-786">Je možné nasadit v různých oblastech Azure a SQL Server vždy na skupině dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-786">It is possible to deploy a SQL Server Always On Availability Group over different Azure Regions as well.</span></span> <span data-ttu-id="06ff0-787">Tato funkce využívá připojení k Azure VNet-to-Vnet ([podrobnosti][virtual-networks-configure-vnet-to-vnet-connection]).</span><span class="sxs-lookup"><span data-stu-id="06ff0-787">This functionality leverages the Azure VNet-to-Vnet connectivity ([more details][virtual-networks-configure-vnet-to-vnet-connection]).</span></span>

[comment]: <> (Blog staré TODO)
[comment]: <> (Instalační program skupin dostupnosti AlwaysOn serveru SQL v takové situaci je zde popsán: < https://blogs.technet.com/b/dataplatforminsider/archive/2014/06/19/sql-server-alwayson-availability-groups-supported-between-microsoft-azure-regions.aspx>.) 

#### <a name="summary-on-sql-server-high-availability-in-azure"></a><span data-ttu-id="06ff0-790">Souhrn na vysoké dostupnosti SQL serveru v Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-790">Summary on SQL Server High Availability in Azure</span></span>
<span data-ttu-id="06ff0-791">Vzhledem k tomu, že Azure Storage je ochrana obsahu, je jeden menší důvod se trvat na bitovou kopii hot standby.</span><span class="sxs-lookup"><span data-stu-id="06ff0-791">Given the fact that Azure Storage is protecting the content, there is one less reason to insist on a hot-standby image.</span></span> <span data-ttu-id="06ff0-792">To znamená, že váš scénář vysoké dostupnosti je potřeba chránit pouze proti v následujících případech:</span><span class="sxs-lookup"><span data-stu-id="06ff0-792">This means your High Availability scenario needs to only protect against the following cases:</span></span>

* <span data-ttu-id="06ff0-793">Nedostupnosti virtuálního počítače jako celek z důvodu údržby v clusteru serveru v Azure nebo z jiných důvodů</span><span class="sxs-lookup"><span data-stu-id="06ff0-793">Unavailability of the VM as a whole due to maintenance on the server cluster in Azure or other reasons</span></span>
* <span data-ttu-id="06ff0-794">Problémů se softwarem v instanci systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="06ff0-794">Software issues in the SQL Server instance</span></span>
* <span data-ttu-id="06ff0-795">Ochrana proti ruční chyba, kde se odstranila data a je potřeba obnovení bodu v čase</span><span class="sxs-lookup"><span data-stu-id="06ff0-795">Protecting from manual error where data gets deleted and point-in-time recovery is needed</span></span>

<span data-ttu-id="06ff0-796">Prohlížení odpovídající technologií, pomocí kterých jeden můžete uvádějí, že první dva případy se dá pokrýt komponentami zrcadlení databáze nebo Always On, zatímco třetí případ pouze se dá pokrýt komponentami přesouvání protokolu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-796">Looking at matching technologies one can argue that the first two cases can be covered by Database Mirroring or Always On, whereas the third case only can be covered by Log-Shipping.</span></span>

<span data-ttu-id="06ff0-797">Musíte vyvážit složitější nastavení vždy v porovnání s zrcadlení databáze, s výhody Always On.</span><span class="sxs-lookup"><span data-stu-id="06ff0-797">You need to balance the more complex setup of Always On, compared to Database Mirroring, with the advantages of Always On.</span></span> <span data-ttu-id="06ff0-798">Tyto výhody může být uvedený jako:</span><span class="sxs-lookup"><span data-stu-id="06ff0-798">Those advantages can be listed like:</span></span>

* <span data-ttu-id="06ff0-799">Čitelných místních replikách.</span><span class="sxs-lookup"><span data-stu-id="06ff0-799">Readable secondary replicas.</span></span>
* <span data-ttu-id="06ff0-800">Zálohování z sekundární repliky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-800">Backups from secondary replicas.</span></span>
* <span data-ttu-id="06ff0-801">Lepší škálovatelnost.</span><span class="sxs-lookup"><span data-stu-id="06ff0-801">Better scalability.</span></span>
* <span data-ttu-id="06ff0-802">Více než jednu sekundární repliky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-802">More than one secondary replicas.</span></span>

### <span data-ttu-id="06ff0-803"><a name="9053f720-6f3b-4483-904d-15dc54141e30"></a>Obecné SQL Server pro SAP v Azure souhrnu</span><span class="sxs-lookup"><span data-stu-id="06ff0-803"><a name="9053f720-6f3b-4483-904d-15dc54141e30"></a>General SQL Server for SAP on Azure Summary</span></span>
<span data-ttu-id="06ff0-804">Existuje mnoho doporučení v tomto průvodci a doporučujeme přečtěte si ho více než jednou před plánování vašeho nasazení Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-804">There are many recommendations in this guide and we recommend you read it more than once before planning your Azure deployment.</span></span> <span data-ttu-id="06ff0-805">Obecně platí ale nezapomeňte podle top deset obecné databázového systému Azure konkrétní body:</span><span class="sxs-lookup"><span data-stu-id="06ff0-805">In general, though, be sure to follow the top ten general DBMS on Azure specific points:</span></span>

[comment]: <> (2.3 vyšší propustnost než co? Než jeden virtuální pevný disk?)
1. <span data-ttu-id="06ff0-807">Použijte nejnovější verzi databázového systému, jako je SQL Server 2014, která má většina výhod v Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-807">Use the latest DBMS release, like SQL Server 2014, that has the most advantages in Azure.</span></span> <span data-ttu-id="06ff0-808">Pro systém SQL Server to je SQL Server 2012 SP1 CU4, který zahrnuje funkci zálohování zobrazení Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-808">For SQL Server, this is SQL Server 2012 SP1 CU4, which would include the feature of backing up against Azure Storage.</span></span> <span data-ttu-id="06ff0-809">Ve spojení s SAP by doporučujeme však minimálně SQL Server 2014 SP1 CU1 nebo SQL Server 2012 SP2 a nejnovější Cu:.</span><span class="sxs-lookup"><span data-stu-id="06ff0-809">However, in conjunction with SAP we would recommend at least SQL Server 2014 SP1 CU1 or SQL Server 2012 SP2 and the latest CU.</span></span>
2. <span data-ttu-id="06ff0-810">Pečlivě naplánujte vašeho systému SAP na šířku v Azure vyvážit Azure omezení a rozložení souboru dat:</span><span class="sxs-lookup"><span data-stu-id="06ff0-810">Carefully plan your SAP system landscape in Azure to balance the data file layout and Azure restrictions:</span></span>
   * <span data-ttu-id="06ff0-811">Nemusíte mít příliš mnoho disků, ale dostatek zajistit, že nedostanete vaší požadované IOPS.</span><span class="sxs-lookup"><span data-stu-id="06ff0-811">Don’t have too many disks, but have enough to ensure you can reach your required IOPS.</span></span>
   * <span data-ttu-id="06ff0-812">Pokud nepoužijete spravované disky, mějte na paměti, že IOPS jsou také omezené na účet úložiště Azure a omezeny účty úložiště v rámci každé předplatné Azure ([podrobnosti][azure-subscription-service-limits]).</span><span class="sxs-lookup"><span data-stu-id="06ff0-812">If you don't use Managed Disks, remember that IOPS are also limited per Azure Storage Account and that Storage Accounts are limited within each Azure subscription ([more details][azure-subscription-service-limits]).</span></span> 
   * <span data-ttu-id="06ff0-813">Pouze stripe na discích, pokud je potřeba dosáhnout vyšší propustnost.</span><span class="sxs-lookup"><span data-stu-id="06ff0-813">Only stripe across disks if you need to achieve a higher throughput.</span></span>
3. <span data-ttu-id="06ff0-814">Software nemá nikdy instalovat nebo blokovat všechny soubory, které vyžadují trvalost na jednotku D:\, jako je jiný trvalé a nic na této jednotce dojde ke ztrátě při restartování systému Windows.</span><span class="sxs-lookup"><span data-stu-id="06ff0-814">Never install software or put any files that require persistence on the D:\ drive as it is non-permanent and anything on this drive is lost at a Windows reboot.</span></span>
4. <span data-ttu-id="06ff0-815">Nepoužívejte ukládání do mezipaměti na disku pro Azure Standard Storage.</span><span class="sxs-lookup"><span data-stu-id="06ff0-815">Don’t use disk caching for Azure Standard Storage.</span></span>
5. <span data-ttu-id="06ff0-816">Nepoužívejte Azure geograficky replikované úložiště účtů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-816">Don’t use Azure geo-replicated Storage Accounts.</span></span>  <span data-ttu-id="06ff0-817">Místně redundantní použijte pro úlohy databázového systému.</span><span class="sxs-lookup"><span data-stu-id="06ff0-817">Use Locally Redundant for DBMS workloads.</span></span>
6. <span data-ttu-id="06ff0-818">Použijte řešení dodavatele databázového systému HA/DR k replikaci dat databáze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-818">Use your DBMS vendor’s HA/DR solution to replicate database data.</span></span>
7. <span data-ttu-id="06ff0-819">Vždy můžete použít překlad, nespoléhejte na IP adresy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-819">Always use Name Resolution, don’t rely on IP addresses.</span></span>
8. <span data-ttu-id="06ff0-820">Nejvyšší komprese databáze, která je možné používejte.</span><span class="sxs-lookup"><span data-stu-id="06ff0-820">Use the highest database compression possible.</span></span> <span data-ttu-id="06ff0-821">Pro systém SQL Server Toto je stránka komprese.</span><span class="sxs-lookup"><span data-stu-id="06ff0-821">For SQL Server this is page compression.</span></span>
9. <span data-ttu-id="06ff0-822">Dávejte pozor, pomocí bitové kopie systému SQL Server v Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="06ff0-822">Be careful using SQL Server images from the Azure Marketplace.</span></span> <span data-ttu-id="06ff0-823">Pokud používáte Server SQL, jednu, musíte změnit kompletování instance před instalací jakékoli systému SAP NetWeaver na něm.</span><span class="sxs-lookup"><span data-stu-id="06ff0-823">If you use the SQL Server one, you must change the instance collation before installing any SAP NetWeaver system on it.</span></span>
10. <span data-ttu-id="06ff0-824">Instalace a konfigurace monitorování SAP hostitele pro Azure, jak je popsáno v [Průvodce nasazením][deployment-guide].</span><span class="sxs-lookup"><span data-stu-id="06ff0-824">Install and configure the SAP Host Monitoring for Azure as described in [Deployment Guide][deployment-guide].</span></span>

## <a name="specifics-to-sap-ase-on-windows"></a><span data-ttu-id="06ff0-825">Podrobné App Service Environment SAP v systému Windows</span><span class="sxs-lookup"><span data-stu-id="06ff0-825">Specifics to SAP ASE on Windows</span></span>
<span data-ttu-id="06ff0-826">Od verze Microsoft Azure, můžete snadno migrovat existující aplikace app Service Environment SAP do Azure Virtual Machines.</span><span class="sxs-lookup"><span data-stu-id="06ff0-826">Starting with Microsoft Azure, you can easily migrate your existing SAP ASE applications to Azure Virtual Machines.</span></span> <span data-ttu-id="06ff0-827">SAP App Service Environment ve virtuálním počítači umožňuje snížit celkové náklady na vlastnictví nasazení, správu a údržbu enterprise spektra aplikací snadno migrací těchto aplikací do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-827">SAP ASE in a Virtual Machine enables you to reduce the total cost of ownership of deployment, management, and maintenance of enterprise breadth applications by easily migrating these applications to Microsoft Azure.</span></span> <span data-ttu-id="06ff0-828">S SAP App Service Environment ve virtuální počítač Azure správci a vývojáři můžete dál používat stejné vývoj a nástroje pro správu, které jsou k dispozici místně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-828">With SAP ASE in an Azure Virtual Machine, administrators and developers can still use the same development and administration tools that are available on-premises.</span></span>

<span data-ttu-id="06ff0-829">Je SLA pro Azure virtuální počítače, které naleznete zde: <https://azure.microsoft.com/support/legal/sla/virtual-machines></span><span class="sxs-lookup"><span data-stu-id="06ff0-829">There is an SLA for the Azure Virtual Machines, which can be found here: <https://azure.microsoft.com/support/legal/sla/virtual-machines></span></span>

<span data-ttu-id="06ff0-830">Jsme si jisti, že Microsoft Azure s jiné nabídky virtualizace veřejného cloudu, ale jednotlivé výsledky rozhodovacím velmi dobře hostované virtuální počítače se mohou lišit.</span><span class="sxs-lookup"><span data-stu-id="06ff0-830">We are confident that Microsoft Azure hosted Virtual Machines performs very well in comparison to other public cloud virtualization offerings, but individual results may vary.</span></span> <span data-ttu-id="06ff0-831">Změna velikosti protokoly SAP množství různých SAP SAP certifikované SKU virtuálního počítače je k dispozici v samostatné Poznámka SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="06ff0-831">SAP sizing SAPS numbers of the different SAP certified VM SKUs is provided in a separate SAP Note [1928533].</span></span>

<span data-ttu-id="06ff0-832">Příkazy a doporučení ohledně využití z Azure Storage, nasazení SAP prostředků virtuálních počítačů nebo monitorování SAP platí pro nasazení SAP App Service Environment ve spojení s aplikací SAP, jak je uvedeno v rámci první čtyři kapitol tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-832">Statements and recommendations in regard to the usage of Azure Storage, Deployment of SAP VMs or SAP Monitoring apply to deployments of SAP ASE in conjunction with SAP applications as stated throughout the first four chapters of this document.</span></span>

### <a name="sap-ase-version-support"></a><span data-ttu-id="06ff0-833">Podpora verzí App Service Environment SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-833">SAP ASE Version Support</span></span>
<span data-ttu-id="06ff0-834">SAP aktuálně podporuje SAP App Service Environment verze 16.0 pro použití s produkty SAP Business Suite.</span><span class="sxs-lookup"><span data-stu-id="06ff0-834">SAP currently supports SAP ASE version 16.0 for use with SAP Business Suite products.</span></span> <span data-ttu-id="06ff0-835">Všechny aktualizace pro server App Service Environment SAP nebo JDBC a ovladače ODBC pro použití s produkty SAP Business Suite je zajišťována výhradně prostřednictvím Marketplace služby SAP v: <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="06ff0-835">All updates for SAP ASE server, or JDBC and ODBC drivers to be used with SAP Business Suite products are provided solely through the SAP Service Marketplace at: <https://support.sap.com/swdc>.</span></span>

<span data-ttu-id="06ff0-836">Jako u instalací na místních počítačích nestahovat aktualizací pro server App Service Environment SAP, nebo ovladače JDBC a rozhraní ODBC přímo z databáze Sybase webů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-836">As for installations on-premises, do not download updates for the SAP ASE server, or for the JDBC and ODBC drivers directly from Sybase websites.</span></span> <span data-ttu-id="06ff0-837">Podrobné informace o opravy, které jsou podporovány pro použití s SAP Business Suite produkty místně a v Azure Virtual Machines najdete v následujících poznámkách k SAP:</span><span class="sxs-lookup"><span data-stu-id="06ff0-837">For detailed information on patches, which are supported for use with SAP Business Suite products on-premises and in Azure Virtual Machines see the following SAP Notes:</span></span>

* <span data-ttu-id="06ff0-838">[1590719]</span><span class="sxs-lookup"><span data-stu-id="06ff0-838">[1590719]</span></span>
* <span data-ttu-id="06ff0-839">[1973241]</span><span class="sxs-lookup"><span data-stu-id="06ff0-839">[1973241]</span></span>

<span data-ttu-id="06ff0-840">Obecné informace o spouštění SAP Business Suite v App Service Environment SAP najdete v [oznámení změny stavu](https://www.sap.com/community/topic/ase.html)</span><span class="sxs-lookup"><span data-stu-id="06ff0-840">General information on running SAP Business Suite on SAP ASE can be found in the [SCN](https://www.sap.com/community/topic/ase.html)</span></span>

### <a name="sap-ase-configuration-guidelines-for-sap-related-sap-ase-installations-in-azure-vms"></a><span data-ttu-id="06ff0-841">Pokyny pro konfigurace SAP App Service Environment pro SAP související SAP instalace App Service Environment ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-841">SAP ASE Configuration Guidelines for SAP-related SAP ASE Installations in Azure VMs</span></span>
#### <a name="structure-of-the-sap-ase-deployment"></a><span data-ttu-id="06ff0-842">Struktura nasazení SAP App Service Environment</span><span class="sxs-lookup"><span data-stu-id="06ff0-842">Structure of the SAP ASE Deployment</span></span>
<span data-ttu-id="06ff0-843">V souladu s obecný popis App Service Environment SAP spustitelné soubory umístěné nebo nainstalován do systémové jednotce disk operačního systému Virtuálního počítače (jednotka c:\).</span><span class="sxs-lookup"><span data-stu-id="06ff0-843">In accordance with the general description, SAP ASE executables should be located or installed into the system drive of the VM’s OS disk (drive c:\).</span></span> <span data-ttu-id="06ff0-844">Obvykle většinu databází systému a nástroje pro SAP App Service Environment nejsou využít skutečně pevného SAP NetWeaver zatížení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-844">Typically, most of the SAP ASE system and tools databases are not really leveraged hard by SAP NetWeaver workload.</span></span> <span data-ttu-id="06ff0-845">Proto může na jednotce C:\ také zůstat systému a nástroje pro databáze (master, model, saptools, sybmgmtdb, sybsystemdb).</span><span class="sxs-lookup"><span data-stu-id="06ff0-845">Hence the system and tools databases (master, model, saptools, sybmgmtdb, sybsystemdb) can remain on the C:\ drive as well.</span></span> 

<span data-ttu-id="06ff0-846">Výjimka může být dočasná databáze obsahující všechny pracovní tabulky a dočasných tabulek vytvořili pomocným SAP, který v případě některých ERP SAP a všechny úlohy BW může vyžadovat vyšší datový svazek nebo vstupně-výstupních operací operations svazku, který se nevejde do původní virtuální počítač, disk operačního systému (jednotka c:\).</span><span class="sxs-lookup"><span data-stu-id="06ff0-846">An exception could be the temporary database containing all work tables and temporary tables created by SAP ASE, which in case of some SAP ERP and all BW workloads might require either higher data volume or I/O operations volume, which can’t fit into the original VM’s OS disk (drive c:\).</span></span>

<span data-ttu-id="06ff0-847">V závislosti na verzi SAPInst nebo SWPM použitý k instalaci systému může obsahovat databáze:</span><span class="sxs-lookup"><span data-stu-id="06ff0-847">Depending on the version of SAPInst/SWPM used to install the system, the database might contain:</span></span>

* <span data-ttu-id="06ff0-848">Jeden tempdb SAP App Service Environment, která je vytvořena při instalaci SAP App Service Environment</span><span class="sxs-lookup"><span data-stu-id="06ff0-848">A single SAP ASE tempdb, which is created when installing SAP ASE</span></span>
* <span data-ttu-id="06ff0-849">App Service Environment SAP tempdb vytvořené instalace SAP App Service Environment a další saptempdb vytvořené rutiny instalace SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-849">An SAP ASE tempdb created by installing SAP ASE and an additional saptempdb created by the SAP installation routine</span></span>
* <span data-ttu-id="06ff0-850">App Service Environment SAP tempdb vytvořené instalace SAP App Service Environment a další databáze tempdb, který byl vytvořen ručně (například následující poznámka SAP [1752266]) splnění konkrétní databázi tempdb ERP/BW</span><span class="sxs-lookup"><span data-stu-id="06ff0-850">An SAP ASE tempdb created by installing SAP ASE and an additional tempdb that has been created manually (for example following SAP Note [1752266]) to meet ERP/BW specific tempdb requirements</span></span>

<span data-ttu-id="06ff0-851">V případě konkrétní ERP nebo všechny úlohy BW má smysl, s ohledem na výkon, aby databáze tempdb zařízení, která kromě vytvořené databáze tempdb (SWPM nebo ručně) na jiné jednotce než C:\.</span><span class="sxs-lookup"><span data-stu-id="06ff0-851">In case of specific ERP or all BW workloads, it makes sense, in regard to performance, to keep the tempdb devices of the additionally created tempdb (by SWPM or manually) on a drive other than C:\.</span></span> <span data-ttu-id="06ff0-852">Pokud existuje žádné další databáze tempdb, doporučuje se vytvořit (Poznámka SAP [1752266]).</span><span class="sxs-lookup"><span data-stu-id="06ff0-852">If no additional tempdb exists, it is recommended to create one (SAP Note [1752266]).</span></span>

<span data-ttu-id="06ff0-853">Pro tyto systémy by měla pro kromě vytvořené databáze tempdb provést následující kroky:</span><span class="sxs-lookup"><span data-stu-id="06ff0-853">For such systems the following steps should be performed for the additionally created tempdb:</span></span>

* <span data-ttu-id="06ff0-854">Přesunout první databáze tempdb zařízení jako první zařízení databázi SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-854">Move the first tempdb device to the first device of the SAP database</span></span>
* <span data-ttu-id="06ff0-855">Přidat zařízení databáze tempdb všechny virtuální pevné disky obsahující zařízení, které databázi SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-855">Add tempdb devices to each of the VHDs containing a device of the SAP database</span></span>

<span data-ttu-id="06ff0-856">Tato konfigurace umožňuje databáze tempdb buď využívat více místa, než je schopný poskytnout systémové jednotce.</span><span class="sxs-lookup"><span data-stu-id="06ff0-856">This configuration enables tempdb to either consume more space than the system drive is able to provide.</span></span> <span data-ttu-id="06ff0-857">Jako referenci jeden můžete zkontrolovat zařízení velikosti databáze tempdb na stávajících systémů, které spustit místně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-857">As a reference one can check the tempdb device sizes on existing systems, which run on-premises.</span></span> <span data-ttu-id="06ff0-858">Nebo taková konfigurace by povolte IOPS čísla proti databázi tempdb nelze zadat s systémové jednotce.</span><span class="sxs-lookup"><span data-stu-id="06ff0-858">Or such a configuration would enable IOPS numbers against tempdb, which cannot be provided with the system drive.</span></span> <span data-ttu-id="06ff0-859">Znovu systémy, které jsou místní slouží k monitorování vstupně-výstupní úlohy proti databázi tempdb.</span><span class="sxs-lookup"><span data-stu-id="06ff0-859">Again systems that are running on-premises can be used to monitor I/O workload against tempdb.</span></span>

<span data-ttu-id="06ff0-860">Veškerá zařízení, která App Service Environment SAP nikdy umístit na jednotku D:\ virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-860">Never put any SAP ASE devices onto the D:\ drive of the VM.</span></span> <span data-ttu-id="06ff0-861">To platí také pro databázi tempdb, i když jsou pouze dočasné objekty zachovány v databázi tempdb.</span><span class="sxs-lookup"><span data-stu-id="06ff0-861">This also applies to the tempdb, even if the objects kept in the tempdb are only temporary.</span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="06ff0-862">Dopad komprese databáze</span><span class="sxs-lookup"><span data-stu-id="06ff0-862">Impact of Database Compression</span></span>
<span data-ttu-id="06ff0-863">V konfiguracích, kde vstupně-výstupní šířky pásma může představovat problém každý míry, což snižuje IOPS vám může pomoci stretch úlohy, jež možné spouštět v případě pomocí IaaS, jako je například Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-863">In configurations where I/O bandwidth can become a limiting factor, every measure, which reduces IOPS might help to stretch the workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="06ff0-864">Proto se důrazně doporučujeme a ujistěte se, že se používá komprese App Service Environment SAP před nahráním existující databázi SAP do Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-864">Therefore, it is strongly recommended to make sure that SAP ASE compression is used before uploading an existing SAP database to Azure.</span></span>

<span data-ttu-id="06ff0-865">Doporučení k provedení komprese před nahráním do Azure, pokud již není implementována je dán z několika důvodů:</span><span class="sxs-lookup"><span data-stu-id="06ff0-865">The recommendation to perform compression before uploading to Azure if it is not already implemented is given out of several reasons:</span></span>

* <span data-ttu-id="06ff0-866">Je menší množství dat k odeslání do Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-866">The amount of data to be uploaded to Azure is lower</span></span>
* <span data-ttu-id="06ff0-867">Doba trvání spuštění komprese je kratší, za předpokladu, že jeden může používat silnější hardware s více procesorů nebo větší šířku pásma vstupně-výstupních operací nebo méně vstupně-výstupních operací latence na místě</span><span class="sxs-lookup"><span data-stu-id="06ff0-867">The duration of the compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises</span></span>
* <span data-ttu-id="06ff0-868">Menší velikosti databáze může vést k nižší náklady pro přidělení disku</span><span class="sxs-lookup"><span data-stu-id="06ff0-868">Smaller database sizes might lead to less costs for disk allocation</span></span>

<span data-ttu-id="06ff0-869">Komprese dat a obchodní fungovat na virtuální počítač hostovaný v Azure Virtual Machines, stejně jako místní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-869">Data- and LOB-Compression work in a VM hosted in Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="06ff0-870">Pro další podrobnosti o tom, jak zkontrolovat, zda komprese je již v používat existující databázi SAP App Service Environment, zkontrolujte Poznámka SAP [1750510].</span><span class="sxs-lookup"><span data-stu-id="06ff0-870">For more details on how to check if compression is already in use in an existing SAP ASE database, check SAP Note [1750510].</span></span>

#### <a name="using-dbacockpit-to-monitor-database-instances"></a><span data-ttu-id="06ff0-871">Pomocí DBACockpit k monitorování instancí databáze</span><span class="sxs-lookup"><span data-stu-id="06ff0-871">Using DBACockpit to monitor Database Instances</span></span>
<span data-ttu-id="06ff0-872">Pro systémy, SAP, které používají jako platformu databázi SAP App Service Environment, je dostupné jako windows embedded prohlížeče v transakci DBACockpit nebo Webdynpro DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="06ff0-872">For SAP systems, which are using SAP ASE as database platform, the DBACockpit is accessible as embedded browser windows in transaction DBACockpit or as Webdynpro.</span></span> <span data-ttu-id="06ff0-873">Všechny funkce pro monitorování a Správa databáze je ale implementace Webdynpro DBACockpit pouze k dispozici.</span><span class="sxs-lookup"><span data-stu-id="06ff0-873">However the full functionality for monitoring and administering the database is available in the Webdynpro implementation of the DBACockpit only.</span></span>

<span data-ttu-id="06ff0-874">Jako s místním systémům několik kroků nutné povolit všechny funkce SAP NetWeaver používá Webdynpro provádění DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="06ff0-874">As with on-premises systems several steps are required to enable all SAP NetWeaver functionality used by the Webdynpro implementation of the DBACockpit.</span></span> <span data-ttu-id="06ff0-875">Postupujte podle Poznámka SAP [1245200] povolit použití webdynpros a generovat požadované ty.</span><span class="sxs-lookup"><span data-stu-id="06ff0-875">Follow SAP Note [1245200] to enable the usage of webdynpros and generate the required ones.</span></span> <span data-ttu-id="06ff0-876">Pokud postupovat podle pokynů ve výše uvedené poznámky, můžete také nakonfigurovat Správce internetové komunikace (icm) společně s porty, které chcete používat pro připojení http a https.</span><span class="sxs-lookup"><span data-stu-id="06ff0-876">When following the instructions in the above notes, you also configure the Internet Communication Manager (icm) along with the ports to be used for http and https connections.</span></span> <span data-ttu-id="06ff0-877">Výchozí nastavení pro protokol http vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="06ff0-877">The default setting for http looks like this:</span></span>

> <span data-ttu-id="06ff0-878">ICM/server_port_0 = ochranu = HTTP, PORT = 8000 PROCTIMEOUT = 600, vypršení časového LIMITU = 600</span><span class="sxs-lookup"><span data-stu-id="06ff0-878">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span></span>
> 
> <span data-ttu-id="06ff0-879">ICM/server_port_1 = ochranu = protokolu HTTPS, PORT = 443$ $, PROCTIMEOUT = 600, vypršení časového LIMITU = 600</span><span class="sxs-lookup"><span data-stu-id="06ff0-879">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span></span>
> 
> 

<span data-ttu-id="06ff0-880">a odkazy vygenerované v transakci DBACockpit bude vypadat podobně jako tento:</span><span class="sxs-lookup"><span data-stu-id="06ff0-880">and the links generated in transaction DBACockpit will look similar to this:</span></span>

> <span data-ttu-id="06ff0-881">https://`<fullyqualifiedhostname`>: 44300/sap nebo bc/webdynpro/sap nebo dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="06ff0-881">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> <span data-ttu-id="06ff0-882">http://`<fullyqualifiedhostname`>: 8000/sap nebo bc/webdynpro/sap nebo dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="06ff0-882">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> 

<span data-ttu-id="06ff0-883">V závislosti na zda a jak virtuální počítač Azure, který je hostitelem systému SAP je připojená přes site-to-site, více lokalit nebo ExpressRoute (mezi různými místy nasazení), musíte zajistit, že ICM používá plně kvalifikovaný název hostitele, který lze převést na počítači kde se pokoušíte otevřít DBACockpit z.</span><span class="sxs-lookup"><span data-stu-id="06ff0-883">Depending on if and how the Azure Virtual Machine hosting the SAP system is connected via site-to-site, multi-site or ExpressRoute (Cross-Premises deployment) you need to make sure that ICM is using a fully qualified hostname that can be resolved on the machine where you are trying to open the DBACockpit from.</span></span> <span data-ttu-id="06ff0-884">Viz poznámka SAP [773830] pochopit, jak ICM Určuje plně kvalifikovaný název v závislosti na parametry profil a sadu parametr icm/host_name_full explicitně v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="06ff0-884">See SAP Note [773830] to understand how ICM determines the fully qualified host name depending on profile parameters and set parameter icm/host_name_full explicitly if required.</span></span>

<span data-ttu-id="06ff0-885">Pokud nasadíte virtuální počítač v čistě cloudové scénář bez připojení mezi různými místy mezi místními a Azure, budete muset definovat veřejnou IP adresu a domainlabel.</span><span class="sxs-lookup"><span data-stu-id="06ff0-885">If you deployed the VM in a Cloud-Only scenario without cross-premises connectivity between on-premises and Azure, you need to define a public IP address and a domainlabel.</span></span> <span data-ttu-id="06ff0-886">Formát veřejný název DNS virtuálního počítače vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="06ff0-886">The format of the public DNS name of the VM looks like this:</span></span>

> <span data-ttu-id="06ff0-887">`<custom domainlabel`>. `<azure region`>. cloudapp.azure.com</span><span class="sxs-lookup"><span data-stu-id="06ff0-887">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span></span>
> 
> 

<span data-ttu-id="06ff0-888">Můžete najít další podrobnosti týkající se názvu DNS [sem][virtual-machines-azurerm-versus-azuresm].</span><span class="sxs-lookup"><span data-stu-id="06ff0-888">More details related to the DNS name can be found [here][virtual-machines-azurerm-versus-azuresm].</span></span>

<span data-ttu-id="06ff0-889">Nastavení parametru profil SAP icm/host_name_full jako název DNS virtuálního počítače Azure odkaz může vypadat podobně jako:</span><span class="sxs-lookup"><span data-stu-id="06ff0-889">Setting the SAP profile parameter icm/host_name_full to the DNS name of the Azure VM the link might look similar to:</span></span>

> <span data-ttu-id="06ff0-890">https://mydomainlabel.westeurope.cloudapp.NET:44300/sap nebo bc/webdynpro/sap nebo dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="06ff0-890">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> <span data-ttu-id="06ff0-891">http://mydomainlabel.westeurope.cloudapp.NET:8000/sap nebo bc/webdynpro/sap nebo dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="06ff0-891">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> 

<span data-ttu-id="06ff0-892">V takovém případě musíte nezapomeňte:</span><span class="sxs-lookup"><span data-stu-id="06ff0-892">In this case you need to make sure to:</span></span>

* <span data-ttu-id="06ff0-893">Přidat příchozí pravidlo na skupinu zabezpečení sítě na portálu Azure pro porty TCP/IP, používaný ke komunikaci s ICM</span><span class="sxs-lookup"><span data-stu-id="06ff0-893">Add Inbound rules to the Network Security Group in the Azure portal for the TCP/IP ports used to communicate with ICM</span></span>
* <span data-ttu-id="06ff0-894">Přidat příchozí pravidla konfigurace brány Windows Firewall pro porty TCP/IP používaný ke komunikaci s ICM</span><span class="sxs-lookup"><span data-stu-id="06ff0-894">Add Inbound rules to the Windows Firewall configuration for the TCP/IP ports used to communicate with the ICM</span></span>

<span data-ttu-id="06ff0-895">Pro automatickou naimportovány všechny oprav, které jsou k dispozici se doporučuje pravidelně použít kolekci oprava Poznámka SAP pro vaši verzi SAP:</span><span class="sxs-lookup"><span data-stu-id="06ff0-895">For an automated imported of all corrections available, it is recommended to periodically apply the correction collection SAP Note applicable to your SAP version:</span></span>

* <span data-ttu-id="06ff0-896">[1558958]</span><span class="sxs-lookup"><span data-stu-id="06ff0-896">[1558958]</span></span>
* <span data-ttu-id="06ff0-897">[1619967]</span><span class="sxs-lookup"><span data-stu-id="06ff0-897">[1619967]</span></span>
* <span data-ttu-id="06ff0-898">[1882376]</span><span class="sxs-lookup"><span data-stu-id="06ff0-898">[1882376]</span></span>

<span data-ttu-id="06ff0-899">Další informace o DBA řídící panel pro App Service Environment SAP naleznete v následující poznámky k SAP:</span><span class="sxs-lookup"><span data-stu-id="06ff0-899">Further information about DBA Cockpit for SAP ASE can be found in the following SAP Notes:</span></span>

* <span data-ttu-id="06ff0-900">[1605680]</span><span class="sxs-lookup"><span data-stu-id="06ff0-900">[1605680]</span></span>
* <span data-ttu-id="06ff0-901">[1757924]</span><span class="sxs-lookup"><span data-stu-id="06ff0-901">[1757924]</span></span>
* <span data-ttu-id="06ff0-902">[1757928]</span><span class="sxs-lookup"><span data-stu-id="06ff0-902">[1757928]</span></span>
* <span data-ttu-id="06ff0-903">[1758182]</span><span class="sxs-lookup"><span data-stu-id="06ff0-903">[1758182]</span></span>
* <span data-ttu-id="06ff0-904">[1758496]</span><span class="sxs-lookup"><span data-stu-id="06ff0-904">[1758496]</span></span>    
* <span data-ttu-id="06ff0-905">[1814258]</span><span class="sxs-lookup"><span data-stu-id="06ff0-905">[1814258]</span></span>
* <span data-ttu-id="06ff0-906">[1922555]</span><span class="sxs-lookup"><span data-stu-id="06ff0-906">[1922555]</span></span>
* <span data-ttu-id="06ff0-907">[1956005]</span><span class="sxs-lookup"><span data-stu-id="06ff0-907">[1956005]</span></span>

#### <a name="backuprecovery-considerations-for-sap-ase"></a><span data-ttu-id="06ff0-908">Důležité informace o zálohování nebo obnovení pro SAP App Service Environment</span><span class="sxs-lookup"><span data-stu-id="06ff0-908">Backup/Recovery Considerations for SAP ASE</span></span>
<span data-ttu-id="06ff0-909">Při nasazování App Service Environment SAP do Azure musí být zkontrolovány vaše zálohování metodika.</span><span class="sxs-lookup"><span data-stu-id="06ff0-909">When deploying SAP ASE into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="06ff0-910">I když v systému není systémem produktivní, databázi SAP hostované SAP App Service Environment je nutné zálohovat pravidelně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-910">Even if the system is not a productive system, the SAP database hosted by SAP ASE must be backed up periodically.</span></span> <span data-ttu-id="06ff0-911">Vzhledem k tomu, že Azure úložiště udržuje tři bitové kopie, je nyní méně důležité v ohledem na kompenzace havárie úložiště zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-911">Since Azure Storage keeps three images, a backup is now less important in respect to compensating a storage crash.</span></span> <span data-ttu-id="06ff0-912">Hlavním důvodem pro údržbu správné plán zálohování a obnovení je větší, který můžete kompenzovat chyby logické nebo ruční tím, že poskytuje bod v možnosti v době obnovení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-912">The primary reason for maintaining a proper backup and restore plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="06ff0-913">Cílem je proto záloh buď použijte k obnovení databázi zpět do určité míry v čase nebo k použití zálohování v Azure počáteční hodnoty jiného systému zkopírováním existující databáze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-913">So the goal is to either use backups to restore the database back to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="06ff0-914">Například je může přenáší z konfigurace SAP vrstvě 2 na instalaci systému 3vrstvé stejného systému obnovení ze zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-914">For example, you could transfer from a 2-Tier SAP configuration to a 3-Tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="06ff0-915">Zálohování a obnovení databáze v Azure funguje stejným způsobem jako místní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-915">Backing up and restoring a database in Azure works the same way as it does on-premises.</span></span> <span data-ttu-id="06ff0-916">Naleznete v poznámkách k SAP:</span><span class="sxs-lookup"><span data-stu-id="06ff0-916">See SAP Notes:</span></span>

* <span data-ttu-id="06ff0-917">[1588316]</span><span class="sxs-lookup"><span data-stu-id="06ff0-917">[1588316]</span></span>
* <span data-ttu-id="06ff0-918">[1585981]</span><span class="sxs-lookup"><span data-stu-id="06ff0-918">[1585981]</span></span>

<span data-ttu-id="06ff0-919">Podrobné informace o vytváření výpis konfigurace a plánování zálohování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-919">for details on creating dump configurations and scheduling backups.</span></span> <span data-ttu-id="06ff0-920">V závislosti na vaše požadavky, které můžete konfigurovat a strategie databáze a protokolu výpisy paměti na disk na jednom z existujících disků, nebo přidejte další disk pro zálohování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-920">Depending on your strategy and needs you can configure database and log dumps to disk onto one of the existing disks or add an additional disk for the backup.</span></span> <span data-ttu-id="06ff0-921">Aby se snížilo nebezpečí dojít ke ztrátě dat v případě chyby, se doporučuje použití disku, kde se nachází žádné databáze zařízení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-921">To reduce the danger of data loss in case of an error, it is recommended to use a disk where no database device is located.</span></span>

<span data-ttu-id="06ff0-922">Kromě dat a obchodní komprese App Service Environment SAP také nabízí kompresi zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-922">Besides data- and LOB compression SAP ASE also offers backup compression.</span></span> <span data-ttu-id="06ff0-923">Aby zabírala méně místa s výpisy databáze a protokolu se doporučuje použít kompresi zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-923">To occupy less space with the database and log dumps it is recommended to use backup compression.</span></span> <span data-ttu-id="06ff0-924">Další informace viz poznámka SAP [1588316].</span><span class="sxs-lookup"><span data-stu-id="06ff0-924">For more information, see SAP Note [1588316].</span></span> <span data-ttu-id="06ff0-925">Komprese zálohy je také nezbytné k snížit množství dat, které se mají přenést, pokud plánujete stáhnout zálohy nebo virtuální pevné disky obsahující zálohování výpisy z virtuálního počítače Azure k místnímu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-925">Compressing the backup is also crucial to reduce the amount of data to be transferred if you plan to download backups or VHDs containing backup dumps from the Azure Virtual Machine to on-premises.</span></span>

<span data-ttu-id="06ff0-926">Nepoužívejte jednotce D:\ jako cíl výpisu databázi nebo protokolu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-926">Do not use drive D:\ as database or log dump destination.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="06ff0-927">Důležité informace o výkonu pro zálohování a obnovování</span><span class="sxs-lookup"><span data-stu-id="06ff0-927">Performance Considerations for Backups/Restores</span></span>
<span data-ttu-id="06ff0-928">Stejně jako u nasazení úplné obnovení je závislá na tom, kolik svazky lze číst souběžně a propustnost tyto svazky, které je možné výkonu zálohování a obnovení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-928">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="06ff0-929">Kromě toho může spotřeby procesoru, který je používán kompresi zálohy přehrát významnou roli na virtuálních počítačích s vlákny právě až osm procesoru.</span><span class="sxs-lookup"><span data-stu-id="06ff0-929">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to eight CPU threads.</span></span> <span data-ttu-id="06ff0-930">Proto můžete předpokládat jeden:</span><span class="sxs-lookup"><span data-stu-id="06ff0-930">Therefore, one can assume:</span></span>

* <span data-ttu-id="06ff0-931">Méně počet disků používá k ukládání databáze zařízení, menší celkovou propustnost čtení</span><span class="sxs-lookup"><span data-stu-id="06ff0-931">The fewer the number of disks used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="06ff0-932">Menší že počet procesoru vláken ve virtuálním počítači, závažnější dopad kompresi zálohy</span><span class="sxs-lookup"><span data-stu-id="06ff0-932">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="06ff0-933">Méně cílů (Stripe adresáře, disků) k zápisu zálohování, nižší úrovně propustnosti</span><span class="sxs-lookup"><span data-stu-id="06ff0-933">The fewer targets (Stripe Directories, disks) to write the backup to, the lesser the throughput</span></span>

<span data-ttu-id="06ff0-934">Pokud chcete zvýšit počet cílů k zápisu do, že existují dvě možnosti, které lze použít nebo kombinaci podle potřeby:</span><span class="sxs-lookup"><span data-stu-id="06ff0-934">To increase the number of targets to write to there are two options, which can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="06ff0-935">Prokládání cílový svazek přes více připojené disky za účelem zlepšení propustnosti IOPS na tomto svazku prokládané</span><span class="sxs-lookup"><span data-stu-id="06ff0-935">Striping the backup target volume over multiple mounted disks in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="06ff0-936">Vytvoření výpisu konfigurace na úrovni SAP App Service Environment, který používá více než jeden cílový adresář k výpisu k zápisu</span><span class="sxs-lookup"><span data-stu-id="06ff0-936">Creating a dump configuration on SAP ASE level, which uses more than one target directory to write the dump to</span></span>

<span data-ttu-id="06ff0-937">Prokládání svazek přes více připojené disky má popsané výše v této příručce.</span><span class="sxs-lookup"><span data-stu-id="06ff0-937">Striping a volume over multiple mounted disks has been discussed earlier in this guide.</span></span> <span data-ttu-id="06ff0-938">Další informace o používání více adresářů v konfiguraci výpisu SAP App Service Environment, naleznete v dokumentaci na sp_config_dump uloženou proceduru, který se používá k vytvoření výpisu konfigurace na [informační Sybase středisko](http://infocenter.sybase.com/help/index.jsp).</span><span class="sxs-lookup"><span data-stu-id="06ff0-938">For more information on using multiple directories in the SAP ASE dump configuration, refer to the documentation on Stored Procedure sp_config_dump, which is used to create the dump configuration on the [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span></span>

### <a name="disaster-recovery-with-azure-vms"></a><span data-ttu-id="06ff0-939">Zotavení po havárii s virtuálními počítači Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-939">Disaster Recovery with Azure VMs</span></span>
#### <a name="data-replication-with-sap-sybase-replication-server"></a><span data-ttu-id="06ff0-940">Replikace dat s SAP Sybase replikace Server</span><span class="sxs-lookup"><span data-stu-id="06ff0-940">Data Replication with SAP Sybase Replication Server</span></span>
<span data-ttu-id="06ff0-941">S SAP SAP Sybase replikace serveru (SRS), App Service Environment poskytuje záložním pohotovostním řešení asynchronně přenášet databázové transakce na vzdálené umístění.</span><span class="sxs-lookup"><span data-stu-id="06ff0-941">With the SAP Sybase Replication Server (SRS) SAP ASE provides a warm standby solution to transfer database transactions to a distant location asynchronously.</span></span> 

<span data-ttu-id="06ff0-942">Instalace a používání služby SRS funguje i funkčně ve virtuálním počítači, který je hostitelem služby virtuálního počítače Azure stejně jako místní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-942">The installation and operation of SRS works as well functionally in a VM hosted in Azure Virtual Machine Services as it does on-premises.</span></span>

<span data-ttu-id="06ff0-943">App Service Environment HADR prostřednictvím serveru SAP replikace je plánované v budoucí verzi.</span><span class="sxs-lookup"><span data-stu-id="06ff0-943">ASE HADR via SAP Replication Server is planned with a future release.</span></span> <span data-ttu-id="06ff0-944">Bude testovány s a vydání pro platformy Microsoft Azure, jakmile je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="06ff0-944">It will be tested with and released for Microsoft Azure platforms as soon as it is available.</span></span>

## <a name="specifics-to-sap-ase-on-linux"></a><span data-ttu-id="06ff0-945">Podrobné App Service Environment SAP v systému Linux</span><span class="sxs-lookup"><span data-stu-id="06ff0-945">Specifics to SAP ASE on Linux</span></span>
<span data-ttu-id="06ff0-946">Od verze Microsoft Azure, můžete snadno migrovat existující aplikace app Service Environment SAP do Azure Virtual Machines.</span><span class="sxs-lookup"><span data-stu-id="06ff0-946">Starting with Microsoft Azure, you can easily migrate your existing SAP ASE applications to Azure Virtual Machines.</span></span> <span data-ttu-id="06ff0-947">SAP App Service Environment ve virtuálním počítači umožňuje snížit celkové náklady na vlastnictví nasazení, správu a údržbu enterprise spektra aplikací snadno migrací těchto aplikací do Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-947">SAP ASE in a Virtual Machine enables you to reduce the total cost of ownership of deployment, management, and maintenance of enterprise breadth applications by easily migrating these applications to Microsoft Azure.</span></span> <span data-ttu-id="06ff0-948">S SAP App Service Environment ve virtuální počítač Azure správci a vývojáři můžete dál používat stejné vývoj a nástroje pro správu, které jsou k dispozici místně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-948">With SAP ASE in an Azure Virtual Machine, administrators and developers can still use the same development and administration tools that are available on-premises.</span></span>

<span data-ttu-id="06ff0-949">Pro nasazení virtuálních počítačů Azure je důležité vědět oficiální SLA, které naleznete zde: <https://azure.microsoft.com/support/legal/sla></span><span class="sxs-lookup"><span data-stu-id="06ff0-949">For deploying Azure VMs it's important to know the official SLAs, which can be found here: <https://azure.microsoft.com/support/legal/sla></span></span>

<span data-ttu-id="06ff0-950">Informace o nastavení velikosti SAP a seznam SAP certifikované SKU virtuální počítač je součástí Poznámka SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="06ff0-950">SAP sizing information and a list of SAP certified VM SKUs is provided in SAP Note [1928533].</span></span> <span data-ttu-id="06ff0-951">Změna velikosti dokumentů pro virtuálními počítači Azure je zde uveden další SAP <http://blogs.msdn.com/b/saponsqlserver/archive/2015/06/19/how-to-size-sap-systems-running-on-azure-vms.aspx> a zde <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span><span class="sxs-lookup"><span data-stu-id="06ff0-951">Additional SAP sizing documents for Azure Virtual machines can be found here <http://blogs.msdn.com/b/saponsqlserver/archive/2015/06/19/how-to-size-sap-systems-running-on-azure-vms.aspx> and here <http://blogs.msdn.com/b/saponsqlserver/archive/2015/12/01/new-white-paper-on-sizing-sap-solutions-on-azure-public-cloud.aspx></span></span>

<span data-ttu-id="06ff0-952">Příkazy a doporučení ohledně využití z Azure Storage, nasazení SAP prostředků virtuálních počítačů nebo monitorování SAP platí pro nasazení SAP App Service Environment ve spojení s aplikací SAP, jak je uvedeno v rámci první čtyři kapitol tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-952">Statements and recommendations in regard to the usage of Azure Storage, Deployment of SAP VMs or SAP Monitoring apply to deployments of SAP ASE in conjunction with SAP applications as stated throughout the first four chapters of this document.</span></span>

<span data-ttu-id="06ff0-953">Následující poznámky k dvě SAP patří obecné informace o App Service Environment na Linuxu a App Service Environment v cloudu:</span><span class="sxs-lookup"><span data-stu-id="06ff0-953">The following two SAP Notes include general information about ASE on Linux and ASE in the Cloud:</span></span>

* <span data-ttu-id="06ff0-954">[2134316]</span><span class="sxs-lookup"><span data-stu-id="06ff0-954">[2134316]</span></span>
* <span data-ttu-id="06ff0-955">[1941500]</span><span class="sxs-lookup"><span data-stu-id="06ff0-955">[1941500]</span></span>

### <a name="sap-ase-version-support"></a><span data-ttu-id="06ff0-956">Podpora verzí App Service Environment SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-956">SAP ASE Version Support</span></span>
<span data-ttu-id="06ff0-957">SAP aktuálně podporuje SAP App Service Environment verze 16.0 pro použití s produkty SAP Business Suite.</span><span class="sxs-lookup"><span data-stu-id="06ff0-957">SAP currently supports SAP ASE version 16.0 for use with SAP Business Suite products.</span></span> <span data-ttu-id="06ff0-958">Všechny aktualizace pro server App Service Environment SAP nebo JDBC a ovladače ODBC pro použití s produkty SAP Business Suite je zajišťována výhradně prostřednictvím Marketplace služby SAP v: <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="06ff0-958">All updates for SAP ASE server, or JDBC and ODBC drivers to be used with SAP Business Suite products are provided solely through the SAP Service Marketplace at: <https://support.sap.com/swdc>.</span></span>

<span data-ttu-id="06ff0-959">Jako u instalací na místních počítačích nestahovat aktualizací pro server App Service Environment SAP, nebo ovladače JDBC a rozhraní ODBC přímo z databáze Sybase webů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-959">As for installations on-premises, do not download updates for the SAP ASE server, or for the JDBC and ODBC drivers directly from Sybase websites.</span></span> <span data-ttu-id="06ff0-960">Podrobné informace o opravy, které jsou podporovány pro použití s SAP Business Suite produkty místně a v Azure Virtual Machines najdete v následujících poznámkách k SAP:</span><span class="sxs-lookup"><span data-stu-id="06ff0-960">For detailed information on patches, which are supported for use with SAP Business Suite products on-premises and in Azure Virtual Machines see the following SAP Notes:</span></span>

* <span data-ttu-id="06ff0-961">[1590719]</span><span class="sxs-lookup"><span data-stu-id="06ff0-961">[1590719]</span></span>
* <span data-ttu-id="06ff0-962">[1973241]</span><span class="sxs-lookup"><span data-stu-id="06ff0-962">[1973241]</span></span>

<span data-ttu-id="06ff0-963">Obecné informace o spouštění SAP Business Suite v App Service Environment SAP najdete v [oznámení změny stavu](https://www.sap.com/community/topic/ase.html)</span><span class="sxs-lookup"><span data-stu-id="06ff0-963">General information on running SAP Business Suite on SAP ASE can be found in the [SCN](https://www.sap.com/community/topic/ase.html)</span></span>

### <a name="sap-ase-configuration-guidelines-for-sap-related-sap-ase-installations-in-azure-vms"></a><span data-ttu-id="06ff0-964">Pokyny pro konfigurace SAP App Service Environment pro SAP související SAP instalace App Service Environment ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-964">SAP ASE Configuration Guidelines for SAP-related SAP ASE Installations in Azure VMs</span></span>
#### <a name="structure-of-the-sap-ase-deployment"></a><span data-ttu-id="06ff0-965">Struktura nasazení SAP App Service Environment</span><span class="sxs-lookup"><span data-stu-id="06ff0-965">Structure of the SAP ASE Deployment</span></span>
<span data-ttu-id="06ff0-966">V souladu s obecný popis by měla být App Service Environment SAP spustitelné soubory umístěné nebo nainstalován do systému souborů kořenové virtuálního počítače (/sybase).</span><span class="sxs-lookup"><span data-stu-id="06ff0-966">In accordance with the general description, SAP ASE executables should be located or installed into the root file system of the VM ( /sybase ).</span></span> <span data-ttu-id="06ff0-967">Obvykle většinu databází systému a nástroje pro SAP App Service Environment nejsou využít skutečně pevného SAP NetWeaver zatížení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-967">Typically, most of the SAP ASE system and tools databases are not really leveraged hard by SAP NetWeaver workload.</span></span> <span data-ttu-id="06ff0-968">Proto systém a nástroje pro databáze (master, model, saptools, sybmgmtdb, sybsystemdb) může zůstat v systému souborů kořenové také.</span><span class="sxs-lookup"><span data-stu-id="06ff0-968">Hence the system and tools databases (master, model, saptools, sybmgmtdb, sybsystemdb) can remain on the root file system as well.</span></span> 

<span data-ttu-id="06ff0-969">Výjimka může být dočasná databáze obsahující všechny pracovní tabulky a dočasných tabulek vytvořili pomocným SAP, v případě některých ERP SAP a všechny úlohy BW může to vyžadovat vyšší datový svazek nebo vstupně-výstupních operací svazek, který se nevejde do původní virtuální počítač, disk operačního systému.</span><span class="sxs-lookup"><span data-stu-id="06ff0-969">An exception could be the temporary database containing all work tables and temporary tables created by SAP ASE, which in case of some SAP ERP and all BW workloads might require either higher data volume or I/O operations, volume which can’t fit into the original VM’s OS disk.</span></span>

<span data-ttu-id="06ff0-970">V závislosti na verzi SAPInst nebo SWPM použitý k instalaci systému může obsahovat databáze:</span><span class="sxs-lookup"><span data-stu-id="06ff0-970">Depending on the version of SAPInst/SWPM used to install the system, the database might contain:</span></span>

* <span data-ttu-id="06ff0-971">Jeden tempdb SAP App Service Environment, která je vytvořena při instalaci SAP App Service Environment</span><span class="sxs-lookup"><span data-stu-id="06ff0-971">A single SAP ASE tempdb, which is created when installing SAP ASE</span></span>
* <span data-ttu-id="06ff0-972">App Service Environment SAP tempdb vytvořené instalace SAP App Service Environment a další saptempdb vytvořené rutiny instalace SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-972">An SAP ASE tempdb created by installing SAP ASE and an additional saptempdb created by the SAP installation routine</span></span>
* <span data-ttu-id="06ff0-973">App Service Environment SAP tempdb vytvořené instalace SAP App Service Environment a další databáze tempdb, který byl vytvořen ručně (například následující poznámka SAP [1752266]) splnění konkrétní databázi tempdb ERP/BW</span><span class="sxs-lookup"><span data-stu-id="06ff0-973">An SAP ASE tempdb created by installing SAP ASE and an additional tempdb that has been created manually (for example following SAP Note [1752266]) to meet ERP/BW specific tempdb requirements</span></span>

<span data-ttu-id="06ff0-974">V případě konkrétní ERP nebo všechny úlohy BW má smysl, s ohledem na výkon, zachovat databázi tempdb zařízení, která kromě vytvořené databáze tempdb (SWPM nebo ručně) na systém samostatný soubor, který může být reprezentovaný jednoho Azure datový disk nebo Linux diskového pole RAID práci s více disky dat Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-974">In case of specific ERP or all BW workloads, it makes sense, in regard to performance, to keep the tempdb devices of the additionally created tempdb (by SWPM or manually) on a separate file system, which can be represented by a single Azure data disk or a Linux RAID spanning multiple Azure data disks.</span></span> <span data-ttu-id="06ff0-975">Pokud existuje žádné další databáze tempdb, doporučuje se vytvořit (Poznámka SAP [1752266]).</span><span class="sxs-lookup"><span data-stu-id="06ff0-975">If no additional tempdb exists, it is recommended to create one (SAP Note [1752266]).</span></span>

<span data-ttu-id="06ff0-976">Pro tyto systémy by měla pro kromě vytvořené databáze tempdb provést následující kroky:</span><span class="sxs-lookup"><span data-stu-id="06ff0-976">For such systems the following steps should be performed for the additionally created tempdb:</span></span>

* <span data-ttu-id="06ff0-977">Přesunout první adresář databáze tempdb na první systém souborů databáze SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-977">Move the first tempdb directory to the first file system of the SAP database</span></span>
* <span data-ttu-id="06ff0-978">Databáze tempdb adresáře přidat všechny disky obsahující systému souborů databáze SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-978">Add tempdb directories to each of the disks containing a filesystem of the SAP database</span></span>

<span data-ttu-id="06ff0-979">Tato konfigurace umožňuje databáze tempdb buď využívat více místa, než je schopný poskytnout systémové jednotce.</span><span class="sxs-lookup"><span data-stu-id="06ff0-979">This configuration enables tempdb to either consume more space than the system drive is able to provide.</span></span> <span data-ttu-id="06ff0-980">Jako referenci jeden můžete zkontrolovat velikosti adresář databáze tempdb na stávajících systémů, které spustit místně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-980">As a reference one can check the tempdb directory sizes on existing systems, which run on-premises.</span></span> <span data-ttu-id="06ff0-981">Nebo taková konfigurace by povolte IOPS čísla proti databázi tempdb nelze zadat s systémové jednotce.</span><span class="sxs-lookup"><span data-stu-id="06ff0-981">Or such a configuration would enable IOPS numbers against tempdb, which cannot be provided with the system drive.</span></span> <span data-ttu-id="06ff0-982">Znovu systémy, které jsou místní slouží k monitorování vstupně-výstupní úlohy proti databázi tempdb.</span><span class="sxs-lookup"><span data-stu-id="06ff0-982">Again systems that are running on-premises can be used to monitor I/O workload against tempdb.</span></span>

<span data-ttu-id="06ff0-983">Nikdy uveďte všechny adresáře App Service Environment SAP do /mnt nebo /mnt/resource virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-983">Never put any SAP ASE directories onto /mnt or /mnt/resource of the VM.</span></span> <span data-ttu-id="06ff0-984">To platí také pro databázi tempdb, i v případě, že jsou tyto objekty zachovány v databázi tempdb pouze dočasné protože /mnt nebo /mnt/resource je k výchozí virtuální počítač Azure dočasného prostoru, což není trvalý.</span><span class="sxs-lookup"><span data-stu-id="06ff0-984">This also applies to the tempdb, even if the objects kept in the tempdb are only temporary because /mnt or /mnt/resource is a default Azure VM temp space, which is not persistent.</span></span> <span data-ttu-id="06ff0-985">Další podrobnosti o dočasnou místo na virtuálním počítači Azure najdete v [v tomto článku][virtual-machines-linux-how-to-attach-disk]</span><span class="sxs-lookup"><span data-stu-id="06ff0-985">More details about the Azure VM temp space can be found in [this article][virtual-machines-linux-how-to-attach-disk]</span></span>

#### <a name="impact-of-database-compression"></a><span data-ttu-id="06ff0-986">Dopad komprese databáze</span><span class="sxs-lookup"><span data-stu-id="06ff0-986">Impact of Database Compression</span></span>
<span data-ttu-id="06ff0-987">V konfiguracích, kde vstupně-výstupní šířky pásma může představovat problém každý míry, což snižuje IOPS vám může pomoci stretch úlohy, jež možné spouštět v případě pomocí IaaS, jako je například Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-987">In configurations where I/O bandwidth can become a limiting factor, every measure, which reduces IOPS might help to stretch the workload one can run in an IaaS scenario like Azure.</span></span> <span data-ttu-id="06ff0-988">Proto se důrazně doporučujeme a ujistěte se, že se používá komprese App Service Environment SAP před nahráním existující databázi SAP do Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-988">Therefore, it is strongly recommended to make sure that SAP ASE compression is used before uploading an existing SAP database to Azure.</span></span>

<span data-ttu-id="06ff0-989">Doporučení k provedení komprese před nahráním do Azure, pokud již není implementována je dán z několika důvodů:</span><span class="sxs-lookup"><span data-stu-id="06ff0-989">The recommendation to perform compression before uploading to Azure if it is not already implemented is given out of several reasons:</span></span>

* <span data-ttu-id="06ff0-990">Je menší množství dat k odeslání do Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-990">The amount of data to be uploaded to Azure is lower</span></span>
* <span data-ttu-id="06ff0-991">Doba trvání spuštění komprese je kratší, za předpokladu, že jeden může používat silnější hardware s více procesorů nebo větší šířku pásma vstupně-výstupních operací nebo méně vstupně-výstupních operací latence na místě</span><span class="sxs-lookup"><span data-stu-id="06ff0-991">The duration of the compression execution is shorter assuming that one can use stronger hardware with more CPUs or higher I/O bandwidth or less I/O latency on-premises</span></span>
* <span data-ttu-id="06ff0-992">Menší velikosti databáze může vést k nižší náklady pro přidělení disku</span><span class="sxs-lookup"><span data-stu-id="06ff0-992">Smaller database sizes might lead to less costs for disk allocation</span></span>

<span data-ttu-id="06ff0-993">Komprese dat a obchodní fungovat na virtuální počítač hostovaný v Azure Virtual Machines, stejně jako místní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-993">Data- and LOB-Compression work in a VM hosted in Azure Virtual Machines as it does on-premises.</span></span> <span data-ttu-id="06ff0-994">Pro další podrobnosti o tom, jak zkontrolovat, zda komprese je již v používat existující databázi SAP App Service Environment, zkontrolujte Poznámka SAP [1750510].</span><span class="sxs-lookup"><span data-stu-id="06ff0-994">For more details on how to check if compression is already in use in an existing SAP ASE database, check SAP Note [1750510].</span></span> <span data-ttu-id="06ff0-995">Další informace týkající se databáze komprese, viz poznámka SAP [2121797].</span><span class="sxs-lookup"><span data-stu-id="06ff0-995">For additional information regarding database compression, see SAP Note [2121797].</span></span>

#### <a name="using-dbacockpit-to-monitor-database-instances"></a><span data-ttu-id="06ff0-996">Pomocí DBACockpit k monitorování instancí databáze</span><span class="sxs-lookup"><span data-stu-id="06ff0-996">Using DBACockpit to monitor Database Instances</span></span>
<span data-ttu-id="06ff0-997">Pro systémy, SAP, které používají jako platformu databázi SAP App Service Environment, je dostupné jako windows embedded prohlížeče v transakci DBACockpit nebo Webdynpro DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="06ff0-997">For SAP systems, which are using SAP ASE as database platform, the DBACockpit is accessible as embedded browser windows in transaction DBACockpit or as Webdynpro.</span></span> <span data-ttu-id="06ff0-998">Všechny funkce pro monitorování a Správa databáze je ale implementace Webdynpro DBACockpit pouze k dispozici.</span><span class="sxs-lookup"><span data-stu-id="06ff0-998">However the full functionality for monitoring and administering the database is available in the Webdynpro implementation of the DBACockpit only.</span></span>

<span data-ttu-id="06ff0-999">Jako s místním systémům několik kroků nutné povolit všechny funkce SAP NetWeaver používá Webdynpro provádění DBACockpit.</span><span class="sxs-lookup"><span data-stu-id="06ff0-999">As with on-premises systems several steps are required to enable all SAP NetWeaver functionality used by the Webdynpro implementation of the DBACockpit.</span></span> <span data-ttu-id="06ff0-1000">Postupujte podle Poznámka SAP [1245200] povolit použití webdynpros a generovat požadované ty.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1000">Follow SAP Note [1245200] to enable the usage of webdynpros and generate the required ones.</span></span> <span data-ttu-id="06ff0-1001">Pokud postupovat podle pokynů ve výše uvedené poznámky, můžete také nakonfigurovat Správce internetové komunikace (icm) společně s porty, které chcete používat pro připojení http a https.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1001">When following the instructions in the above notes, you also configure the Internet Communication Manager (icm) along with the ports to be used for http and https connections.</span></span> <span data-ttu-id="06ff0-1002">Výchozí nastavení pro protokol http vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1002">The default setting for http looks like this:</span></span>

> <span data-ttu-id="06ff0-1003">ICM/server_port_0 = ochranu = HTTP, PORT = 8000 PROCTIMEOUT = 600, vypršení časového LIMITU = 600</span><span class="sxs-lookup"><span data-stu-id="06ff0-1003">icm/server_port_0 = PROT=HTTP,PORT=8000,PROCTIMEOUT=600,TIMEOUT=600</span></span>
> 
> <span data-ttu-id="06ff0-1004">ICM/server_port_1 = ochranu = protokolu HTTPS, PORT = 443$ $, PROCTIMEOUT = 600, vypršení časového LIMITU = 600</span><span class="sxs-lookup"><span data-stu-id="06ff0-1004">icm/server_port_1 = PROT=HTTPS,PORT=443$$,PROCTIMEOUT=600,TIMEOUT=600</span></span>
> 
> 

<span data-ttu-id="06ff0-1005">a odkazy vygenerované v transakci DBACockpit bude vypadat podobně jako tento:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1005">and the links generated in transaction DBACockpit will look similar to this:</span></span>

> <span data-ttu-id="06ff0-1006">https://`<fullyqualifiedhostname`>: 44300/sap nebo bc/webdynpro/sap nebo dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="06ff0-1006">https://`<fullyqualifiedhostname`>:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> <span data-ttu-id="06ff0-1007">http://`<fullyqualifiedhostname`>: 8000/sap nebo bc/webdynpro/sap nebo dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="06ff0-1007">http://`<fullyqualifiedhostname`>:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> 

<span data-ttu-id="06ff0-1008">V závislosti na zda a jak virtuální počítač Azure, který je hostitelem systému SAP je připojená přes site-to-site, více lokalit nebo ExpressRoute (mezi různými místy nasazení), musíte zajistit, že ICM používá plně kvalifikovaný název hostitele, který lze převést na počítači kde se pokoušíte otevřít DBACockpit z.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1008">Depending on if and how the Azure Virtual Machine hosting the SAP system is connected via site-to-site, multi-site or ExpressRoute (Cross-Premises deployment) you need to make sure that ICM is using a fully qualified hostname that can be resolved on the machine where you are trying to open the DBACockpit from.</span></span> <span data-ttu-id="06ff0-1009">Viz poznámka SAP [773830] pochopit, jak ICM Určuje plně kvalifikovaný název v závislosti na parametry profil a sadu parametr icm/host_name_full explicitně v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1009">See SAP Note [773830] to understand how ICM determines the fully qualified host name depending on profile parameters and set parameter icm/host_name_full explicitly if required.</span></span>

<span data-ttu-id="06ff0-1010">Pokud nasadíte virtuální počítač v čistě cloudové scénář bez připojení mezi různými místy mezi místními a Azure, budete muset definovat veřejnou IP adresu a domainlabel.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1010">If you deployed the VM in a Cloud-Only scenario without cross-premises connectivity between on-premises and Azure, you need to define a public IP address and a domainlabel.</span></span> <span data-ttu-id="06ff0-1011">Formát veřejný název DNS virtuálního počítače vypadá takto:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1011">The format of the public DNS name of the VM looks like this:</span></span>

> <span data-ttu-id="06ff0-1012">`<custom domainlabel`>. `<azure region`>. cloudapp.azure.com</span><span class="sxs-lookup"><span data-stu-id="06ff0-1012">`<custom domainlabel`>.`<azure region`>.cloudapp.azure.com</span></span>
> 
> 

<span data-ttu-id="06ff0-1013">Můžete najít další podrobnosti týkající se názvu DNS [sem][virtual-machines-azurerm-versus-azuresm].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1013">More details related to the DNS name can be found [here][virtual-machines-azurerm-versus-azuresm].</span></span>

<span data-ttu-id="06ff0-1014">Nastavení parametru profil SAP icm/host_name_full jako název DNS virtuálního počítače Azure odkaz může vypadat podobně jako:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1014">Setting the SAP profile parameter icm/host_name_full to the DNS name of the Azure VM the link might look similar to:</span></span>

> <span data-ttu-id="06ff0-1015">https://mydomainlabel.westeurope.cloudapp.NET:44300/sap nebo bc/webdynpro/sap nebo dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="06ff0-1015">https://mydomainlabel.westeurope.cloudapp.net:44300/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> <span data-ttu-id="06ff0-1016">http://mydomainlabel.westeurope.cloudapp.NET:8000/sap nebo bc/webdynpro/sap nebo dba_cockpit</span><span class="sxs-lookup"><span data-stu-id="06ff0-1016">http://mydomainlabel.westeurope.cloudapp.net:8000/sap/bc/webdynpro/sap/dba_cockpit</span></span>
> 
> 

<span data-ttu-id="06ff0-1017">V takovém případě musíte nezapomeňte:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1017">In this case you need to make sure to:</span></span>

* <span data-ttu-id="06ff0-1018">Přidat příchozí pravidlo na skupinu zabezpečení sítě na portálu Azure pro porty TCP/IP, používaný ke komunikaci s ICM</span><span class="sxs-lookup"><span data-stu-id="06ff0-1018">Add Inbound rules to the Network Security Group in the Azure portal for the TCP/IP ports used to communicate with ICM</span></span>
* <span data-ttu-id="06ff0-1019">Přidat příchozí pravidla konfigurace brány Windows Firewall pro porty TCP/IP používaný ke komunikaci s ICM</span><span class="sxs-lookup"><span data-stu-id="06ff0-1019">Add Inbound rules to the Windows Firewall configuration for the TCP/IP ports used to communicate with the ICM</span></span>

<span data-ttu-id="06ff0-1020">Pro automatickou naimportovány všechny oprav, které jsou k dispozici se doporučuje pravidelně použít kolekci oprava Poznámka SAP pro vaši verzi SAP:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1020">For an automated imported of all corrections available, it is recommended to periodically apply the correction collection SAP Note applicable to your SAP version:</span></span>

* <span data-ttu-id="06ff0-1021">[1558958]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1021">[1558958]</span></span>
* <span data-ttu-id="06ff0-1022">[1619967]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1022">[1619967]</span></span>
* <span data-ttu-id="06ff0-1023">[1882376]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1023">[1882376]</span></span>

<span data-ttu-id="06ff0-1024">Další informace o DBA řídící panel pro App Service Environment SAP naleznete v následující poznámky k SAP:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1024">Further information about DBA Cockpit for SAP ASE can be found in the following SAP Notes:</span></span>

* <span data-ttu-id="06ff0-1025">[1605680]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1025">[1605680]</span></span>
* <span data-ttu-id="06ff0-1026">[1757924]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1026">[1757924]</span></span>
* <span data-ttu-id="06ff0-1027">[1757928]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1027">[1757928]</span></span>
* <span data-ttu-id="06ff0-1028">[1758182]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1028">[1758182]</span></span>
* <span data-ttu-id="06ff0-1029">[1758496]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1029">[1758496]</span></span>    
* <span data-ttu-id="06ff0-1030">[1814258]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1030">[1814258]</span></span>
* <span data-ttu-id="06ff0-1031">[1922555]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1031">[1922555]</span></span>
* <span data-ttu-id="06ff0-1032">[1956005]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1032">[1956005]</span></span>

#### <a name="backuprecovery-considerations-for-sap-ase"></a><span data-ttu-id="06ff0-1033">Důležité informace o zálohování nebo obnovení pro SAP App Service Environment</span><span class="sxs-lookup"><span data-stu-id="06ff0-1033">Backup/Recovery Considerations for SAP ASE</span></span>
<span data-ttu-id="06ff0-1034">Při nasazování App Service Environment SAP do Azure musí být zkontrolovány vaše zálohování metodika.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1034">When deploying SAP ASE into Azure your backup methodology must be reviewed.</span></span> <span data-ttu-id="06ff0-1035">I když v systému není systémem produktivní, databázi SAP hostované SAP App Service Environment je nutné zálohovat pravidelně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1035">Even if the system is not a productive system, the SAP database hosted by SAP ASE must be backed up periodically.</span></span> <span data-ttu-id="06ff0-1036">Vzhledem k tomu, že Azure úložiště udržuje tři bitové kopie, je nyní méně důležité v ohledem na kompenzace havárie úložiště zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1036">Since Azure Storage keeps three images, a backup is now less important in respect to compensating a storage crash.</span></span> <span data-ttu-id="06ff0-1037">Hlavním důvodem pro údržbu správné plán zálohování a obnovení je větší, který můžete kompenzovat chyby logické nebo ruční tím, že poskytuje bod v možnosti v době obnovení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1037">The primary reason for maintaining a proper backup and restore plan is more that you can compensate for logical/manual errors by providing point in time recovery capabilities.</span></span> <span data-ttu-id="06ff0-1038">Cílem je proto záloh buď použijte k obnovení databázi zpět do určité míry v čase nebo k použití zálohování v Azure počáteční hodnoty jiného systému zkopírováním existující databáze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1038">So the goal is to either use backups to restore the database back to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="06ff0-1039">Například je může přenáší z konfigurace SAP vrstvě 2 na instalaci systému 3vrstvé stejného systému obnovení ze zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1039">For example, you could transfer from a 2-Tier SAP configuration to a 3-Tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="06ff0-1040">Zálohování a obnovení databáze v Azure funguje stejným způsobem jako místní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1040">Backing up and restoring a database in Azure works the same way as it does on-premises.</span></span> <span data-ttu-id="06ff0-1041">Naleznete v poznámkách k SAP:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1041">See SAP Notes:</span></span>

* <span data-ttu-id="06ff0-1042">[1588316]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1042">[1588316]</span></span>
* <span data-ttu-id="06ff0-1043">[1585981]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1043">[1585981]</span></span>

<span data-ttu-id="06ff0-1044">Podrobné informace o vytváření výpis konfigurace a plánování zálohování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1044">for details on creating dump configurations and scheduling backups.</span></span> <span data-ttu-id="06ff0-1045">V závislosti na vaše požadavky, které můžete konfigurovat a strategie databáze a protokolu výpisy paměti na disk na jednom z existujících disků, nebo přidejte další disk pro zálohování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1045">Depending on your strategy and needs you can configure database and log dumps to disk onto one of the existing disks or add an additional disk for the backup.</span></span> <span data-ttu-id="06ff0-1046">Ke snížení nebezpečí dojít ke ztrátě dat v případě chyby se doporučuje použít disk, kde je umístěn žádný adresář nebo soubor databáze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1046">To reduce the danger of data loss in case of an error it is recommended to use a disk where no database directory/file is located.</span></span>

<span data-ttu-id="06ff0-1047">Kromě dat a obchodní komprese App Service Environment SAP také nabízí kompresi zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1047">Besides data- and LOB compression SAP ASE also offers backup compression.</span></span> <span data-ttu-id="06ff0-1048">Aby zabírala méně místa s výpisy databáze a protokolu se doporučuje použít kompresi zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1048">To occupy less space with the database and log dumps it is recommended to use backup compression.</span></span> <span data-ttu-id="06ff0-1049">Další informace viz poznámka SAP [1588316].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1049">For more information, see SAP Note [1588316].</span></span> <span data-ttu-id="06ff0-1050">Komprese zálohy je také nezbytné k snížit množství dat, které se mají přenést, pokud plánujete stáhnout zálohy nebo virtuální pevné disky obsahující zálohování výpisy z virtuálního počítače Azure k místnímu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1050">Compressing the backup is also crucial to reduce the amount of data to be transferred if you plan to download backups or VHDs containing backup dumps from the Azure Virtual Machine to on-premises.</span></span>

<span data-ttu-id="06ff0-1051">Virtuální počítač Azure dočasného prostoru /mnt nebo /mnt/resource nepoužívejte jako cíl výpisu databázi nebo protokolu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1051">Do not use the Azure VM temp space /mnt or /mnt/resource as database or log dump destination.</span></span>

#### <a name="performance-considerations-for-backupsrestores"></a><span data-ttu-id="06ff0-1052">Důležité informace o výkonu pro zálohování a obnovování</span><span class="sxs-lookup"><span data-stu-id="06ff0-1052">Performance Considerations for Backups/Restores</span></span>
<span data-ttu-id="06ff0-1053">Stejně jako u nasazení úplné obnovení je závislá na tom, kolik svazky lze číst souběžně a propustnost tyto svazky, které je možné výkonu zálohování a obnovení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1053">As in bare-metal deployments, backup/restore performance is dependent on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="06ff0-1054">Kromě toho může spotřeby procesoru, který je používán kompresi zálohy přehrát významnou roli na virtuálních počítačích s vlákny právě až osm procesoru.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1054">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to eight CPU threads.</span></span> <span data-ttu-id="06ff0-1055">Proto můžete předpokládat jeden:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1055">Therefore, one can assume:</span></span>

* <span data-ttu-id="06ff0-1056">Méně počet disků používá k ukládání databáze zařízení, menší celkovou propustnost čtení</span><span class="sxs-lookup"><span data-stu-id="06ff0-1056">The fewer the number of disks used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="06ff0-1057">Menší že počet procesoru vláken ve virtuálním počítači, závažnější dopad kompresi zálohy</span><span class="sxs-lookup"><span data-stu-id="06ff0-1057">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="06ff0-1058">Méně cílů (Linux softwaru diskového pole RAID, disků) k zápisu zálohování, nižší úrovně propustnosti</span><span class="sxs-lookup"><span data-stu-id="06ff0-1058">The fewer targets (Linux software RAID, disks) to write the backup to, the lesser the throughput</span></span>

<span data-ttu-id="06ff0-1059">Pokud chcete zvýšit počet cílů k zápisu do, že existují dvě možnosti, které lze použít nebo kombinaci podle potřeby:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1059">To increase the number of targets to write to there are two options, which can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="06ff0-1060">Prokládání cílový svazek přes více připojené disky za účelem zlepšení propustnosti IOPS na tomto svazku prokládané</span><span class="sxs-lookup"><span data-stu-id="06ff0-1060">Striping the backup target volume over multiple mounted disks in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="06ff0-1061">Vytvoření výpisu konfigurace na úrovni SAP App Service Environment, který používá více než jeden cílový adresář k výpisu k zápisu</span><span class="sxs-lookup"><span data-stu-id="06ff0-1061">Creating a dump configuration on SAP ASE level, which uses more than one target directory to write the dump to</span></span>

<span data-ttu-id="06ff0-1062">Prokládání svazek přes více připojené disky má popsané výše v této příručce.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1062">Striping a volume over multiple mounted disks has been discussed earlier in this guide.</span></span> <span data-ttu-id="06ff0-1063">Další informace o používání více adresářů v konfiguraci výpisu SAP App Service Environment, naleznete v dokumentaci na sp_config_dump uloženou proceduru, který se používá k vytvoření výpisu konfigurace na [informační Sybase středisko](http://infocenter.sybase.com/help/index.jsp).</span><span class="sxs-lookup"><span data-stu-id="06ff0-1063">For more information on using multiple directories in the SAP ASE dump configuration, refer to the documentation on Stored Procedure sp_config_dump, which is used to create the dump configuration on the [Sybase Infocenter](http://infocenter.sybase.com/help/index.jsp).</span></span>

### <a name="disaster-recovery-with-azure-vms"></a><span data-ttu-id="06ff0-1064">Zotavení po havárii s virtuálními počítači Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-1064">Disaster Recovery with Azure VMs</span></span>
#### <a name="data-replication-with-sap-sybase-replication-server"></a><span data-ttu-id="06ff0-1065">Replikace dat s SAP Sybase replikace Server</span><span class="sxs-lookup"><span data-stu-id="06ff0-1065">Data Replication with SAP Sybase Replication Server</span></span>
<span data-ttu-id="06ff0-1066">S SAP SAP Sybase replikace serveru (SRS), App Service Environment poskytuje záložním pohotovostním řešení asynchronně přenášet databázové transakce na vzdálené umístění.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1066">With the SAP Sybase Replication Server (SRS) SAP ASE provides a warm standby solution to transfer database transactions to a distant location asynchronously.</span></span> 

<span data-ttu-id="06ff0-1067">Instalace a používání služby SRS funguje i funkčně ve virtuálním počítači, který je hostitelem služby virtuálního počítače Azure stejně jako místní.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1067">The installation and operation of SRS works as well functionally in a VM hosted in Azure Virtual Machine Services as it does on-premises.</span></span>

<span data-ttu-id="06ff0-1068">App Service Environment HADR prostřednictvím serveru SAP replikace není podporována v daném okamžiku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1068">ASE HADR via SAP Replication Server is NOT supported at this point in time.</span></span> <span data-ttu-id="06ff0-1069">Může být testovány s a v budoucnu vydání pro platformy Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1069">It might be tested with and released for Microsoft Azure platforms in the future.</span></span>

## <a name="specifics-to-oracle-database-on-windows"></a><span data-ttu-id="06ff0-1070">Podrobnosti do databáze Oracle v systému Windows</span><span class="sxs-lookup"><span data-stu-id="06ff0-1070">Specifics to Oracle Database on Windows</span></span>
<span data-ttu-id="06ff0-1071">Oracle softwaru podporuje Oracle pro spouštění v Microsoft Windows Hyper-V a Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1071">Oracle software is supported by Oracle to run on Microsoft Windows Hyper-V and Azure.</span></span> <span data-ttu-id="06ff0-1072">Podrobnosti o obecné podpoře Windows Hyper-V a Azure, zkontrolujte: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span><span class="sxs-lookup"><span data-stu-id="06ff0-1072">For details on the general support of Windows Hyper-V and Azure, check: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span></span> 

<span data-ttu-id="06ff0-1073">Následující obecné podporu je také podporována konkrétní scénář aplikací SAP, Oracle – databáze využití.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1073">Following the general support, the specific scenario of SAP applications leveraging Oracle Databases is supported as well.</span></span> <span data-ttu-id="06ff0-1074">Podrobnosti jsou pojmenované v této části dokumentu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1074">Details are named in this part of the document.</span></span>

### <a name="oracle-version-support"></a><span data-ttu-id="06ff0-1075">Podpora verzí Oracle</span><span class="sxs-lookup"><span data-stu-id="06ff0-1075">Oracle Version Support</span></span>
<span data-ttu-id="06ff0-1076">Verze Oracle a odpovídající verze operačního systému, které jsou podporovány pro SAP systémem Oracle na virtuálních počítačích Azure lze nalézt v Poznámka SAP [2039619].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1076">Oracle versions and corresponding OS versions, which are supported for running SAP on Oracle on Azure Virtual Machines can be found in SAP Note [2039619].</span></span>

<span data-ttu-id="06ff0-1077">Obecné informace o spuštění SAP Business Suite na Oracle naleznete v 1DX: <https://www.sap.com/community/topic/oracle.html></span><span class="sxs-lookup"><span data-stu-id="06ff0-1077">General information about running SAP Business Suite on Oracle can be found in 1DX: <https://www.sap.com/community/topic/oracle.html></span></span>

### <a name="oracle-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="06ff0-1078">Pokyny pro konfigurace Oracle pro SAP instalace ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-1078">Oracle Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="06ff0-1079">Konfigurace úložiště</span><span class="sxs-lookup"><span data-stu-id="06ff0-1079">Storage configuration</span></span>
<span data-ttu-id="06ff0-1080">Pouze jednu instanci Oracle pomocí NTFS naformátovaný disků je podporována.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1080">Only single instance Oracle using NTFS formatted disks is supported.</span></span> <span data-ttu-id="06ff0-1081">Všechny soubory databáze musí být uložen v systému souborů NTFS na základě virtuálních pevných disků nebo disků spravované.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1081">All database files must be stored on the NTFS file system based on VHDs or Managed Disks.</span></span> <span data-ttu-id="06ff0-1082">Tyto disky jsou připojené k virtuálnímu počítači Azure a jsou založené na Azure úložiště objektů BLOB stránky (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) nebo spravované disky (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span><span class="sxs-lookup"><span data-stu-id="06ff0-1082">These disks are mounted to the Azure VM and are based on Azure Page BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) or Managed Disks (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span></span> <span data-ttu-id="06ff0-1083">Jakýkoli druh síťové jednotky nebo vzdálených sdílených složkách, jako je Azure souborových služeb:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1083">Any kind of network drives or remote shares like Azure file services:</span></span>

* <span data-ttu-id="06ff0-1084"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/Introducing-Microsoft-Azure-File-Service.aspx></span><span class="sxs-lookup"><span data-stu-id="06ff0-1084"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span> 
* <span data-ttu-id="06ff0-1085"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-Connections-to-Microsoft-Azure-Files.aspx></span><span class="sxs-lookup"><span data-stu-id="06ff0-1085"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="06ff0-1086">jsou **není** podporované pro soubory databáze Oracle!</span><span class="sxs-lookup"><span data-stu-id="06ff0-1086">are **NOT** supported for Oracle database files!</span></span>

<span data-ttu-id="06ff0-1087">Pomocí disků na základě úložiště objektů BLOB stránky Azure nebo spravovat disky příkazy provedené v tomto dokumentu v kapitole [ukládání do mezipaměti pro virtuální počítače a datové disky] [ dbms-guide-2.1] a [Microsoft Azure Storage] [ dbms-guide-2.3] týkají nasazení s databázi Oracle.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1087">Using disks based on Azure Page BLOB Storage or Managed Disks, the statements made in this document in chapter [Caching for VMs and data disks][dbms-guide-2.1] and [Microsoft Azure Storage][dbms-guide-2.3] apply to deployments with the Oracle Database as well.</span></span>

<span data-ttu-id="06ff0-1088">Jak je popsáno výše v části Obecné v dokumentu, existují kvóty na propustnost IOPS pro disky systému Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1088">As explained earlier in the general part of the document, quotas on IOPS throughput for Azure disks exist.</span></span> <span data-ttu-id="06ff0-1089">Přesný kvóty jsou v závislosti na typu virtuálního počítače použít.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1089">The exact quotas are depending on the VM type used.</span></span> <span data-ttu-id="06ff0-1090">Seznam typů virtuálních počítačů s jejich kvóty najdete [zde (Linux)] [ virtual-machines-sizes-linux] a [zde (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1090">A list of VM types with their quotas can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="06ff0-1091">Identifikovat podporované typy virtuálního počítače Azure, najdete v tématu Poznámka SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1091">To identify the supported Azure VM types, refer to SAP note [1928533].</span></span>

<span data-ttu-id="06ff0-1092">Tak dlouho, dokud se aktuální kvóty IOPS na disk splňuje požadavky, je možné uložit všechny soubory databáze na jednom disku jedné připojené.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1092">As long as the current IOPS quota per disk satisfies the requirements, it is possible to store all the DB files on one single mounted disk.</span></span> 

<span data-ttu-id="06ff0-1093">Pokud jsou vyžadovány další IOPS, důrazně doporučujeme použít fondy úložiště okna (jenom k dispozici v systému Windows Server 2012 a vyšší) nebo Windows prokládání pro systém Windows 2008 R2 prostřednictvím více připojené disky vytvořit jedno velké logické zařízení (viz také kapitoly [softwaru diskového pole RAID] [ dbms-guide-2.2] tohoto dokumentu).</span><span class="sxs-lookup"><span data-stu-id="06ff0-1093">If more IOPS are required, it is strongly recommended to use Window Storage Pools (only available in Windows Server 2012 and higher) or Windows striping for Windows 2008 R2 to create one large logical device over multiple mounted disks (see also chapter [Software RAID][dbms-guide-2.2] of this document).</span></span> <span data-ttu-id="06ff0-1094">Tento přístup zjednodušuje nároky na správu spravovat místo na disku a zabraňuje úsilí nezbytné k ručně distribuovat soubory do více připojené disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1094">This approach simplifies the administration overhead to manage the disk space and avoids the effort to manually distribute files across multiple mounted disks.</span></span>

#### <a name="backup--restore"></a><span data-ttu-id="06ff0-1095">Backup / obnovení</span><span class="sxs-lookup"><span data-stu-id="06ff0-1095">Backup / Restore</span></span>
<span data-ttu-id="06ff0-1096">Pro zálohování a obnově funkce, Brazílie SAP * nástroje pro Oracle jsou podporovány stejným způsobem jako na standardní operační systémy Windows Server a Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1096">For backup / restore functionality, the SAP BR*Tools for Oracle are supported in the same way as on standard Windows Server Operating Systems and Hyper-V.</span></span> <span data-ttu-id="06ff0-1097">Správce obnovení Oracle (RMAN) je také podporována pro zálohování na disk a obnovení z disku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1097">Oracle Recovery Manager (RMAN) is also supported for backups to disk and restore from disk.</span></span>

#### <a name="high-availability"></a><span data-ttu-id="06ff0-1098">Vysoká dostupnost</span><span class="sxs-lookup"><span data-stu-id="06ff0-1098">High Availability</span></span>
<span data-ttu-id="06ff0-1099">Oracle Data Guard je podporována pro vysokou dostupnost a zotavení po havárii pro účely.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1099">Oracle Data Guard is supported for high availability and disaster recovery purposes.</span></span> <span data-ttu-id="06ff0-1100">Podrobnosti najdete v [to] [ virtual-machines-windows-classic-configure-oracle-data-guard] dokumentaci.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1100">Details can be found in [this][virtual-machines-windows-classic-configure-oracle-data-guard] documentation.</span></span>

#### <a name="other"></a><span data-ttu-id="06ff0-1101">Ostatní</span><span class="sxs-lookup"><span data-stu-id="06ff0-1101">Other</span></span>
<span data-ttu-id="06ff0-1102">Další obecné témata jako skupiny dostupnosti Azure nebo SAP monitorování platí jak je popsáno v první tři kapitol tohoto dokumentu pro nasazení virtuálních počítačů s databázi Oracle.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1102">All other general topics like Azure Availability Sets or SAP monitoring apply as described in the first three chapters of this document for deployments of VMs with the Oracle Database as well.</span></span>

## <a name="specifics-to-oracle-database-on-oracle-linux"></a><span data-ttu-id="06ff0-1103">Podrobnosti do databáze Oracle na Oracle Linux</span><span class="sxs-lookup"><span data-stu-id="06ff0-1103">Specifics to Oracle Database on Oracle Linux</span></span>
<span data-ttu-id="06ff0-1104">Oracle softwaru podporuje Oracle pro spouštění v Microsoft Windows Hyper-V a Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1104">Oracle software is supported by Oracle to run on Microsoft Windows Hyper-V and Azure.</span></span> <span data-ttu-id="06ff0-1105">Podrobnosti o obecné podpoře Windows Hyper-V a Azure, zkontrolujte: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span><span class="sxs-lookup"><span data-stu-id="06ff0-1105">For details on the general support of Windows Hyper-V and Azure, check: <https://blogs.oracle.com/cloud/entry/oracle_and_microsoft_join_forces></span></span> 

<span data-ttu-id="06ff0-1106">Následující obecné podporu je také podporována konkrétní scénář aplikací SAP, Oracle – databáze využití.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1106">Following the general support, the specific scenario of SAP applications leveraging Oracle Databases is supported as well.</span></span> <span data-ttu-id="06ff0-1107">Podrobnosti jsou pojmenované v této části dokumentu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1107">Details are named in this part of the document.</span></span>

### <a name="oracle-version-support"></a><span data-ttu-id="06ff0-1108">Podpora verzí Oracle</span><span class="sxs-lookup"><span data-stu-id="06ff0-1108">Oracle Version Support</span></span>
<span data-ttu-id="06ff0-1109">Verze Oracle a odpovídající verze operačního systému, které jsou podporovány pro SAP systémem Oracle na virtuálních počítačích Azure lze nalézt v Poznámka SAP [2039619].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1109">Oracle versions and corresponding OS versions, which are supported for running SAP on Oracle on Azure Virtual Machines can be found in SAP Note [2039619].</span></span>

<span data-ttu-id="06ff0-1110">Obecné informace o spuštění SAP Business Suite na Oracle naleznete v 1DX: <https://www.sap.com/community/topic/oracle.html></span><span class="sxs-lookup"><span data-stu-id="06ff0-1110">General information about running SAP Business Suite on Oracle can be found in 1DX: <https://www.sap.com/community/topic/oracle.html></span></span>

### <a name="oracle-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="06ff0-1111">Pokyny pro konfigurace Oracle pro SAP instalace ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-1111">Oracle Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="06ff0-1112">Konfigurace úložiště</span><span class="sxs-lookup"><span data-stu-id="06ff0-1112">Storage configuration</span></span>
<span data-ttu-id="06ff0-1113">Je podporován pouze jednu instanci Oracle pomocí ext3, ext4 a xfs formátovány disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1113">Only single instance Oracle using ext3, ext4, and xfs formatted disks is supported.</span></span> <span data-ttu-id="06ff0-1114">Všechny soubory databáze musí být uložen v těchto systémech souborů na základě virtuálních pevných disků nebo disků spravované.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1114">All database files must be stored on these file systems based on VHDs or Managed Disks.</span></span> <span data-ttu-id="06ff0-1115">Tyto disky jsou připojené k virtuálnímu počítači Azure a jsou založené na Azure úložiště objektů BLOB stránky (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) nebo spravované disky (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span><span class="sxs-lookup"><span data-stu-id="06ff0-1115">These disks are mounted to the Azure VM and are based on Azure Page BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) or Managed Disks (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span></span> <span data-ttu-id="06ff0-1116">Jakýkoli druh síťové jednotky nebo vzdálených sdílených složkách, jako je Azure souborových služeb:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1116">Any kind of network drives or remote shares like Azure file services:</span></span>

* <span data-ttu-id="06ff0-1117"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/Introducing-Microsoft-Azure-File-Service.aspx></span><span class="sxs-lookup"><span data-stu-id="06ff0-1117"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span> 
* <span data-ttu-id="06ff0-1118"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-Connections-to-Microsoft-Azure-Files.aspx></span><span class="sxs-lookup"><span data-stu-id="06ff0-1118"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="06ff0-1119">jsou **není** podporované pro soubory databáze Oracle!</span><span class="sxs-lookup"><span data-stu-id="06ff0-1119">are **NOT** supported for Oracle database files!</span></span>

<span data-ttu-id="06ff0-1120">Pomocí disků na základě úložiště objektů BLOB stránky Azure nebo spravovat disky příkazy provedené v tomto dokumentu v kapitole [ukládání do mezipaměti pro virtuální počítače a datové disky] [ dbms-guide-2.1] a [Microsoft Azure Storage] [ dbms-guide-2.3] týkají nasazení s databázi Oracle.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1120">Using disks based on Azure Page BLOB Storage or Managed Disks, the statements made in this document in chapter [Caching for VMs and data disks][dbms-guide-2.1] and [Microsoft Azure Storage][dbms-guide-2.3] apply to deployments with the Oracle Database as well.</span></span>

<span data-ttu-id="06ff0-1121">Jak je popsáno výše v části Obecné v dokumentu, existují kvóty na propustnost IOPS pro disky systému Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1121">As explained earlier in the general part of the document, quotas on IOPS throughput for Azure disks exist.</span></span> <span data-ttu-id="06ff0-1122">Přesný kvóty jsou v závislosti na typu virtuálního počítače použít.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1122">The exact quotas are depending on the VM type used.</span></span> <span data-ttu-id="06ff0-1123">Seznam typů virtuálních počítačů s jejich kvóty najdete [zde (Linux)] [ virtual-machines-sizes-linux] a [zde (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1123">A list of VM types with their quotas can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="06ff0-1124">Identifikovat podporované typy virtuálního počítače Azure, najdete v tématu Poznámka SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1124">To identify the supported Azure VM types, refer to SAP note [1928533]</span></span>

<span data-ttu-id="06ff0-1125">Tak dlouho, dokud se aktuální kvóty IOPS na disk splňuje požadavky, je možné uložit všechny soubory databáze na jednom disku jedné připojené.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1125">As long as the current IOPS quota per disk satisfies the requirements, it is possible to store all the DB files on one single mounted disk.</span></span> 

<span data-ttu-id="06ff0-1126">Pokud jsou vyžadovány další IOPS, důrazně doporučujeme vytvořit jeden svazek velké logické přes více připojené disky pomocí LVM (Správce logických svazku) nebo MDADM.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1126">If more IOPS are required, it is strongly recommended to use LVM (Logical Volume Manager) or MDADM to create one large logical volume over multiple mounted disks.</span></span> <span data-ttu-id="06ff0-1127">Viz také kapitoly [softwaru diskového pole RAID] [ dbms-guide-2.2] tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1127">See also chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> <span data-ttu-id="06ff0-1128">Tento přístup zjednodušuje nároky na správu spravovat místo na disku a zabraňuje úsilí nezbytné k ručně distribuovat soubory do více připojené disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1128">This approach simplifies the administration overhead to manage the disk space and avoids the effort to manually distribute files across multiple mounted disks.</span></span>

#### <a name="backup--restore"></a><span data-ttu-id="06ff0-1129">Backup / obnovení</span><span class="sxs-lookup"><span data-stu-id="06ff0-1129">Backup / Restore</span></span>
<span data-ttu-id="06ff0-1130">Pro zálohování a obnově funkce, Brazílie SAP * nástroje pro Oracle jsou podporovány stejným způsobem jako na holý počítač a Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1130">For backup / restore functionality, the SAP BR*Tools for Oracle are supported in the same way as on bare metal and Hyper-V.</span></span> <span data-ttu-id="06ff0-1131">Správce obnovení Oracle (RMAN) je také podporována pro zálohování na disk a obnovení z disku.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1131">Oracle Recovery Manager (RMAN) is also supported for backups to disk and restore from disk.</span></span>

#### <a name="high-availability"></a><span data-ttu-id="06ff0-1132">Vysoká dostupnost</span><span class="sxs-lookup"><span data-stu-id="06ff0-1132">High Availability</span></span>
<span data-ttu-id="06ff0-1133">Oracle Data Guard je podporována pro vysokou dostupnost a zotavení po havárii pro účely.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1133">Oracle Data Guard is supported for high availability and disaster recovery purposes.</span></span> <span data-ttu-id="06ff0-1134">Podrobnosti najdete v [to] [ virtual-machines-windows-classic-configure-oracle-data-guard] dokumentaci.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1134">Details can be found in [this][virtual-machines-windows-classic-configure-oracle-data-guard] documentation.</span></span>

#### <a name="other"></a><span data-ttu-id="06ff0-1135">Ostatní</span><span class="sxs-lookup"><span data-stu-id="06ff0-1135">Other</span></span>
<span data-ttu-id="06ff0-1136">Další obecné témata jako skupiny dostupnosti Azure nebo SAP monitorování platí jak je popsáno v první tři kapitol tohoto dokumentu pro nasazení virtuálních počítačů s databázi Oracle.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1136">All other general topics like Azure Availability Sets or SAP monitoring apply as described in the first three chapters of this document for deployments of VMs with the Oracle Database as well.</span></span>

## <a name="specifics-for-the-sap-maxdb-database-on-windows"></a><span data-ttu-id="06ff0-1137">Specifika pro databázi SAP MaxDB v systému Windows</span><span class="sxs-lookup"><span data-stu-id="06ff0-1137">Specifics for the SAP MaxDB Database on Windows</span></span>
### <a name="sap-maxdb-version-support"></a><span data-ttu-id="06ff0-1138">Podpora verzí MaxDB SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-1138">SAP MaxDB Version Support</span></span>
<span data-ttu-id="06ff0-1139">SAP aktuálně podporuje SAP MaxDB verze 7.9 pro použití s produkty na základě SAP NetWeaver v Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1139">SAP currently supports SAP MaxDB version 7.9 for use with SAP NetWeaver-based products in Azure.</span></span> <span data-ttu-id="06ff0-1140">Jsou k dispozici všechny aktualizace pro SAP MaxDB server nebo JDBC a ovladače ODBC pro použití s produkty na základě SAP NetWeaver výhradně prostřednictvím Marketplace služby SAP na <https://support.sap.com/swdc>.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1140">All updates for SAP MaxDB server, or JDBC and ODBC drivers to be used with SAP NetWeaver-based products are provided solely through the SAP Service Marketplace at <https://support.sap.com/swdc>.</span></span>
<span data-ttu-id="06ff0-1141">Obecné informace o spouštění SAP NetWeaver na SAP MaxDB lze najít na <https://www.sap.com/community/topic/maxdb.html>.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1141">General information on running SAP NetWeaver on SAP MaxDB can be found at <https://www.sap.com/community/topic/maxdb.html>.</span></span>

### <a name="supported-microsoft-windows-versions-and-azure-vm-types-for-sap-maxdb-dbms"></a><span data-ttu-id="06ff0-1142">Podporované typy verze Microsoft Windows a virtuálních počítačů Azure pro SAP MaxDB databázového systému</span><span class="sxs-lookup"><span data-stu-id="06ff0-1142">Supported Microsoft Windows Versions and Azure VM types for SAP MaxDB DBMS</span></span>
<span data-ttu-id="06ff0-1143">Podporované verze systému Windows pro SAP MaxDB databázového systému v Azure, najdete v tématu:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1143">To find the supported Microsoft Windows version for SAP MaxDB DBMS on Azure, see:</span></span>

* <span data-ttu-id="06ff0-1144">[SAP produktu dostupnosti matice (PAM)][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1144">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="06ff0-1145">Poznámka SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1145">SAP Note [1928533]</span></span>

<span data-ttu-id="06ff0-1146">Důrazně doporučujeme používat nejnovější verzi operačního systému Microsoft Windows, což je Microsoft Windows 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1146">It is highly recommended to use the newest version of the operating system Microsoft Windows, which is Microsoft Windows 2012 R2.</span></span>

### <a name="available-sap-maxdb-documentation"></a><span data-ttu-id="06ff0-1147">K dispozici SAP MaxDB dokumentace</span><span class="sxs-lookup"><span data-stu-id="06ff0-1147">Available SAP MaxDB Documentation</span></span>
<span data-ttu-id="06ff0-1148">Aktualizovaný seznam SAP MaxDB dokumentaci můžete najít v následujících Poznámka SAP [767598]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1148">You can find the updated list of SAP MaxDB documentation in the following SAP Note [767598]</span></span>

### <a name="sap-maxdb-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="06ff0-1149">Pokyny pro konfigurace MaxDB SAP pro SAP instalace ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-1149">SAP MaxDB Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <span data-ttu-id="06ff0-1150"><a name="b48cfe3b-48e9-4f5b-a783-1d29155bd573"></a>Konfigurace úložiště</span><span class="sxs-lookup"><span data-stu-id="06ff0-1150"><a name="b48cfe3b-48e9-4f5b-a783-1d29155bd573"></a>Storage configuration</span></span>
<span data-ttu-id="06ff0-1151">Úložiště Azure osvědčené postupy pro SAP MaxDB podle obecná doporučení uvedená v kapitole [struktura nasazení RDBMS][dbms-guide-2].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1151">Azure storage best practices for SAP MaxDB follow the general recommendations mentioned in chapter [Structure of an RDBMS Deployment][dbms-guide-2].</span></span>

> [!IMPORTANT]
> <span data-ttu-id="06ff0-1152">Stejně jako jiné databáze SAP MaxDB má také dat a souborů protokolu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1152">Like other databases, SAP MaxDB also has data and log files.</span></span> <span data-ttu-id="06ff0-1153">V terminologii SAP MaxDB je správným termínem "svazek" (ne "soubor").</span><span class="sxs-lookup"><span data-stu-id="06ff0-1153">However, in SAP MaxDB terminology the correct term is “volume” (not “file”).</span></span> <span data-ttu-id="06ff0-1154">Například existují SAP MaxDB datové svazky a svazky protokolu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1154">For example, there are SAP MaxDB data volumes and log volumes.</span></span> <span data-ttu-id="06ff0-1155">Nezaměňujte tato nastavení u diskové svazky operačního systému.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1155">Do not confuse these with OS disk volumes.</span></span> 
> 
> 

<span data-ttu-id="06ff0-1156">Stručně řečeno budete muset:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1156">In short you have to:</span></span>

* <span data-ttu-id="06ff0-1157">Pokud používáte účty Azure Storage, nastavit účet úložiště Azure, který obsahuje SAP MaxDB protokolu a data svazky (tj. soubory) **místní redundantní úložiště (LRS)** uvedené v kapitole [Microsoft Azure Storage][dbms-guide-2.3].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1157">If you use Azure Storage accounts, set the Azure storage account that holds the SAP MaxDB data and log volumes (i.e. files) to **Local Redundant Storage (LRS)** as specified in chapter [Microsoft Azure Storage][dbms-guide-2.3].</span></span>
* <span data-ttu-id="06ff0-1158">Vstupně-výstupní cestu pro SAP MaxDB datové svazky (tj. soubory) nezávislá na vstupně-výstupní cestu pro svazky protokolu (tj. soubory).</span><span class="sxs-lookup"><span data-stu-id="06ff0-1158">Separate the IO path for SAP MaxDB data volumes (i.e. files) from the IO path for log volumes (i.e. files).</span></span> <span data-ttu-id="06ff0-1159">To znamená, že SAP MaxDB datové svazky (tj. soubory) musí být instalovány na jedné logické jednotce a svazky protokolu SAP MaxDB (tj. soubory) musí být instalovány na jiné logické jednotce.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1159">This means that SAP MaxDB data volumes (i.e. files) have to be installed on one logical drive and SAP MaxDB log volumes (i.e. files) have to be installed on another logical drive.</span></span>
* <span data-ttu-id="06ff0-1160">Nastavte správný typ ukládání do mezipaměti pro každý disk, v závislosti na tom, jestli ho použít pro SAP MaxDB dat či protokolu svazky (tj. soubory) a jestli použít standardní Azure nebo Azure Premium Storage, jak je popsáno v kapitole [ukládání do mezipaměti pro virtuální počítače a datové disky][dbms-guide-2.1].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1160">Set the proper caching type for each disk, depending on whether you use it for SAP MaxDB data or log volumes (i.e. files), and whether you use Azure Standard or Azure Premium Storage, as described in chapter [Caching for VMs and data disks][dbms-guide-2.1].</span></span>
* <span data-ttu-id="06ff0-1161">Tak dlouho, dokud se aktuální kvóty IOPS na disk splňuje požadavky, je možné uložit všechny datové svazky na jednom disku připojené a také uložení všechny svazky protokolu databáze na jiný disk jedné připojené.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1161">As long as the current IOPS quota per disk satisfies the requirements, it is possible to store all the data volumes on a single mounted disk, and also store all database log volumes on another single mounted disk.</span></span>
* <span data-ttu-id="06ff0-1162">Pokud jsou vyžadovány další IOPS nebo místa, důrazně doporučujeme vytvořit jeden velký logického zařízení přes více připojené disky pomocí fondů úložiště okno Microsoft (pouze k dispozici v systému Microsoft Windows Server 2012 a vyšší) nebo Microsoft Windows prokládání pro Microsoft Windows 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1162">If more IOPS and/or space are required, it is strongly recommended to use Microsoft Window Storage Pools (only available in Microsoft Windows Server 2012 and higher) or Microsoft Windows striping for Microsoft Windows 2008 R2 to create one large logical device over multiple mounted disks.</span></span> <span data-ttu-id="06ff0-1163">Viz také kapitoly [softwaru diskového pole RAID] [ dbms-guide-2.2] tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1163">See also chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> <span data-ttu-id="06ff0-1164">Tento přístup zjednodušuje nároky na správu spravovat místo na disku a zabraňuje úsilí ručně distribuci souborů mezi více připojené disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1164">This approach simplifies the administration overhead to manage the disk space and avoids the effort of manually distributing files across multiple mounted disks.</span></span>
* <span data-ttu-id="06ff0-1165">Pro požadavky na nejvyšší IOPS můžete použít Azure Premium Storage, který je k dispozici na DS-series a GS-series virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1165">For the highest IOPS requirements, you can use Azure Premium Storage, which is available on DS-series and GS-series VMs.</span></span>

![Konfigurace referenčního virtuálního počítače Azure IaaS pro SAP MaxDB databázového systému][dbms-guide-figure-600]

#### <span data-ttu-id="06ff0-1167"><a name="23c78d3b-ca5a-4e72-8a24-645d141a3f5d"></a>Zálohování a obnovení</span><span class="sxs-lookup"><span data-stu-id="06ff0-1167"><a name="23c78d3b-ca5a-4e72-8a24-645d141a3f5d"></a>Backup and Restore</span></span>
<span data-ttu-id="06ff0-1168">Při nasazování SAP MaxDB do Azure, je nutné si vaše zálohování metody.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1168">When deploying SAP MaxDB into Azure, you must review your backup methodology.</span></span> <span data-ttu-id="06ff0-1169">I když v systému není systémem produktivní, databázi SAP hostované SAP MaxDB je nutné zálohovat pravidelně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1169">Even if the system is not a productive system, the SAP database hosted by SAP MaxDB must be backed up periodically.</span></span> <span data-ttu-id="06ff0-1170">Vzhledem k tomu, že Azure úložiště udržuje tři bitové kopie, je nyní zálohu méně důležité z hlediska ochrany proti selhání úložiště a důležitější selhání provozní nebo správce systému.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1170">Since Azure Storage keeps three images, a backup is now less important in terms of protecting your system against storage failure and more important operational or administrative failures.</span></span> <span data-ttu-id="06ff0-1171">Hlavním důvodem pro údržbu správné zálohování a obnovení plán je tak, aby můžete kompenzovat chyby logické nebo ruční tím, že poskytuje možnosti obnovení bodu v čase.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1171">The primary reason for maintaining a proper backup and restore plan is so that you can compensate for logical or manual errors by providing point-in-time recovery capabilities.</span></span> <span data-ttu-id="06ff0-1172">Cílem je proto buď pomocí zálohy obnovit databázi do určité míry v čase nebo použití zálohování v Azure počáteční hodnoty jiného systému zkopírováním existující databáze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1172">So the goal is to either use backups to restore the database to a certain point in time or to use the backups in Azure to seed another system by copying the existing database.</span></span> <span data-ttu-id="06ff0-1173">Například je může přenáší z konfigurace SAP vrstvě 2 na instalaci systému 3vrstvé stejného systému obnovení ze zálohy.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1173">For example, you could transfer from a 2-tier SAP configuration to a 3-tier system setup of the same system by restoring a backup.</span></span>

<span data-ttu-id="06ff0-1174">Zálohování a obnovení databáze v Azure funguje stejným způsobem jako v případě místních systémů, abyste mohli používat standardní SAP MaxDB zálohování a obnovení nástroje, které jsou popsány v jednom z dokumentace dokumenty SAP MaxDB uvedené v Poznámka SAP [767598].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1174">Backing up and restoring a database in Azure works the same way as it does for on-premises systems, so you can use standard SAP MaxDB backup/restore tools, which are described in one of the SAP MaxDB documentation documents listed in SAP Note [767598].</span></span> 

#### <span data-ttu-id="06ff0-1175"><a name="77cd2fbb-307e-4cbf-a65f-745553f72d2c"></a>Důležité informace o výkonu pro zálohování a obnovení</span><span class="sxs-lookup"><span data-stu-id="06ff0-1175"><a name="77cd2fbb-307e-4cbf-a65f-745553f72d2c"></a>Performance Considerations for Backup and Restore</span></span>
<span data-ttu-id="06ff0-1176">Stejně jako u úplné nasazení je závislá na tom, kolik svazky lze číst v paralelní a propustnost tyto svazky výkonu zálohování a obnovení.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1176">As in bare-metal deployments, backup and restore performance is dependent on how many volumes can be read in parallel and the throughput of those volumes.</span></span> <span data-ttu-id="06ff0-1177">Kromě toho můžete spotřeby procesoru, který je používán kompresi zálohy přehrát významnou roli na virtuálních počítačích s maximálně 8 vláken procesoru.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1177">In addition, the CPU consumption used by backup compression can play a significant role on VMs with up to eight CPU threads.</span></span> <span data-ttu-id="06ff0-1178">Proto můžete předpokládat jeden:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1178">Therefore, one can assume:</span></span>

* <span data-ttu-id="06ff0-1179">Méně počet disků používá k ukládání zařízení databáze, čím nižší celkovou propustnost čtení</span><span class="sxs-lookup"><span data-stu-id="06ff0-1179">The fewer the number of disks used to store the database devices, the lower the overall read throughput</span></span>
* <span data-ttu-id="06ff0-1180">Menší že počet procesoru vláken ve virtuálním počítači, závažnější dopad kompresi zálohy</span><span class="sxs-lookup"><span data-stu-id="06ff0-1180">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="06ff0-1181">Méně cílů (Stripe adresáře, disků) k zápisu zálohování do dolní propustnost</span><span class="sxs-lookup"><span data-stu-id="06ff0-1181">The fewer targets (Stripe Directories, disks) to write the backup to, the lower the throughput</span></span>

<span data-ttu-id="06ff0-1182">Pokud chcete zvýšit počet cílů k zápisu, existují dvě možnosti, které můžete použít, pravděpodobně v kombinaci, v závislosti na vašich potřeb:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1182">To increase the number of targets to write to, there are two options that you can use, possibly in combination, depending on your needs:</span></span>

* <span data-ttu-id="06ff0-1183">Vyhradit samostatných svazcích pro zálohování</span><span class="sxs-lookup"><span data-stu-id="06ff0-1183">Dedicating separate volumes for backup</span></span>
* <span data-ttu-id="06ff0-1184">Prokládání cílový svazek přes více připojené disky za účelem zlepšení propustnosti IOPS na tomto svazku prokládané disku</span><span class="sxs-lookup"><span data-stu-id="06ff0-1184">Striping the backup target volume over multiple mounted disks in order to improve the IOPS throughput on that striped disk volume</span></span>
* <span data-ttu-id="06ff0-1185">S zařízení, samostatné vyhrazené logického disku:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1185">Having separate dedicated logical disk devices for:</span></span>
  * <span data-ttu-id="06ff0-1186">SAP MaxDB záložní svazky (tj. soubory)</span><span class="sxs-lookup"><span data-stu-id="06ff0-1186">SAP MaxDB backup volumes (i.e. files)</span></span>
  * <span data-ttu-id="06ff0-1187">SAP MaxDB datové svazky (tj. soubory)</span><span class="sxs-lookup"><span data-stu-id="06ff0-1187">SAP MaxDB data volumes (i.e. files)</span></span>
  * <span data-ttu-id="06ff0-1188">SAP MaxDB protokolu svazky (tj. soubory)</span><span class="sxs-lookup"><span data-stu-id="06ff0-1188">SAP MaxDB log volumes (i.e. files)</span></span>

<span data-ttu-id="06ff0-1189">Prokládání svazek přes více připojené disky popsané dříve v kapitole [softwaru diskového pole RAID] [ dbms-guide-2.2] tohoto dokumentu.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1189">Striping a volume over multiple mounted disks has been discussed earlier in chapter [Software RAID][dbms-guide-2.2] of this document.</span></span> 

#### <span data-ttu-id="06ff0-1190"><a name="f77c1436-9ad8-44fb-a331-8671342de818"></a>Další</span><span class="sxs-lookup"><span data-stu-id="06ff0-1190"><a name="f77c1436-9ad8-44fb-a331-8671342de818"></a>Other</span></span>
<span data-ttu-id="06ff0-1191">Jak je popsáno v první tři kapitol tohoto dokumentu pro nasazení virtuálních počítačů s databázi SAP MaxDB také použít další obecné témata jako jsou skupiny dostupnosti Azure nebo SAP monitorování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1191">All other general topics such as Azure Availability Sets or SAP monitoring also apply as described in the first three chapters of this document for deployments of VMs with the SAP MaxDB database.</span></span>
<span data-ttu-id="06ff0-1192">Další nastavení specifické pro SAP MaxDB jsou transparentní pro virtuální počítače Azure a jsou popsané v různé dokumenty, které jsou uvedené v Poznámka SAP [767598] a v těchto poznámkách k SAP:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1192">Other SAP MaxDB-specific settings are transparent to Azure VMs and are described in different documents listed in SAP Note [767598] and in these SAP notes:</span></span>

* <span data-ttu-id="06ff0-1193">[826037]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1193">[826037]</span></span> 
* <span data-ttu-id="06ff0-1194">[1139904]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1194">[1139904]</span></span>
* <span data-ttu-id="06ff0-1195">[1173395]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1195">[1173395]</span></span>

## <a name="specifics-for-sap-livecache-on-windows"></a><span data-ttu-id="06ff0-1196">Specifika pro SAP liveCache v systému Windows</span><span class="sxs-lookup"><span data-stu-id="06ff0-1196">Specifics for SAP liveCache on Windows</span></span>
### <a name="sap-livecache-version-support"></a><span data-ttu-id="06ff0-1197">SAP liveCache podpora verzí</span><span class="sxs-lookup"><span data-stu-id="06ff0-1197">SAP liveCache Version Support</span></span>
<span data-ttu-id="06ff0-1198">Minimální verze SAP liveCache podporované v Azure Virtual Machines je **SAP LC/LCAPPS 10.0 SP 25** včetně **liveCache 7.9.08.31** a **LCA sestavení 25**, vydaná pro **EhP 2 pro SAP SCM 7.0** a vyšší.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1198">Minimal version of SAP liveCache supported in Azure Virtual Machines is **SAP LC/LCAPPS 10.0 SP 25** including **liveCache 7.9.08.31** and **LCA-Build 25**, released for **EhP 2 for SAP SCM 7.0** and higher.</span></span>

### <a name="supported-microsoft-windows-versions-and-azure-vm-types-for-sap-livecache-dbms"></a><span data-ttu-id="06ff0-1199">Podporované typy verze Microsoft Windows a virtuálních počítačů Azure pro SAP liveCache databázového systému</span><span class="sxs-lookup"><span data-stu-id="06ff0-1199">Supported Microsoft Windows Versions and Azure VM types for SAP liveCache DBMS</span></span>
<span data-ttu-id="06ff0-1200">Podporované verze systému Windows pro SAP liveCache v Azure, najdete v tématu:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1200">To find the supported Microsoft Windows version for SAP liveCache on Azure, see:</span></span>

* <span data-ttu-id="06ff0-1201">[SAP produktu dostupnosti matice (PAM)][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1201">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="06ff0-1202">Poznámka SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1202">SAP Note [1928533]</span></span>

<span data-ttu-id="06ff0-1203">Důrazně doporučujeme používat nejnovější verzi operačního systému Microsoft Windows Server.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1203">It is highly recommended to use the newest version of the operating system Microsoft Windows Server.</span></span> 

### <a name="sap-livecache-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="06ff0-1204">SAP liveCache pokyny pro konfigurace pro SAP instalace ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-1204">SAP liveCache Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="recommended-azure-vm-types"></a><span data-ttu-id="06ff0-1205">Doporučená typy virtuálních počítačů Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-1205">Recommended Azure VM Types</span></span>
<span data-ttu-id="06ff0-1206">SAP liveCache je aplikace, která provede výpočty velký, velikost a rychlost paměti RAM a procesoru má hlavní vliv na výkon liveCache SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1206">As SAP liveCache is an application that performs huge calculations, the amount and speed of RAM and CPU has a major influence on SAP liveCache performance.</span></span> 

<span data-ttu-id="06ff0-1207">Pro virtuální počítač Azure typy podporované systémem SAP (Poznámka SAP [1928533]), všechny virtuální prostředky procesoru přidělené k virtuálnímu počítači jsou zajišťované vyhrazené fyzické prostředky procesoru hypervisoru.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1207">For the Azure VM types supported by SAP (SAP Note [1928533]), all virtual CPU resources allocated to the VM are backed by dedicated physical CPU resources of the hypervisor.</span></span> <span data-ttu-id="06ff0-1208">Žádné předimenzování (a proto žádné soutěž o prostředky procesoru) probíhá.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1208">No overprovisioning (and therefore no competition for CPU resources) takes place.</span></span>

<span data-ttu-id="06ff0-1209">Podobně pro všechny virtuální počítač Azure instance typy podporované systémem SAP, paměť virtuálního počítače je 100 %, které jsou namapované na fyzické paměti – například předimenzování (většího celkového), se nepoužije.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1209">Similarly, for all Azure VM instance types supported by SAP, the VM memory is 100% mapped to the physical memory – overprovisioning (over-commitment), for example, is not used.</span></span>

<span data-ttu-id="06ff0-1210">Z tohoto hlediska důrazně doporučujeme používat nový typ virtuálního počítače Azure DS-series (v kombinaci s Azure Premium Storage) nebo D-series, jako mají 60 % rychlejší procesory než A-series.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1210">From this perspective, it is highly recommended to use the new D- series or DS-series (in combination with Azure Premium Storage) Azure VM type, as they have 60% faster processors than the A-series.</span></span> <span data-ttu-id="06ff0-1211">U nejvyšší zatížení paměti RAM a procesoru můžete G-series a GS-series (v kombinaci s Azure Premium Storage) virtuálních počítačů s nejnovější Intel Xeon® E5 v3 třídu procesoru, které mají dvakrát paměti a čtyřikrát SSD disk úložiště (SSD) D/DS-series.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1211">For the highest RAM and CPU load, you can use G-series and GS-series (in combination with Azure Premium Storage) VMs with the latest Intel® Xeon® processor E5 v3 family, which have twice the memory and four times the solid state drive storage (SSDs) of the D/DS-series.</span></span>

#### <a name="storage-configuration"></a><span data-ttu-id="06ff0-1212">Konfigurace úložiště</span><span class="sxs-lookup"><span data-stu-id="06ff0-1212">Storage Configuration</span></span>
<span data-ttu-id="06ff0-1213">Jako SAP liveCache je založena na technologii SAP MaxDB, službu Azure storage osvědčených postupů doporučení uvedená v kapitole pro SAP MaxDB [konfigurace úložiště] [ dbms-guide-8.4.1] platí také pro SAP liveCache.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1213">As SAP liveCache is based on SAP MaxDB technology, all the Azure storage best practice recommendations mentioned for SAP MaxDB in chapter [Storage configuration][dbms-guide-8.4.1] are also valid for SAP liveCache.</span></span> 

#### <a name="dedicated-azure-vm-for-livecache"></a><span data-ttu-id="06ff0-1214">Pro liveCache vyhrazený virtuální počítač Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-1214">Dedicated Azure VM for liveCache</span></span>
<span data-ttu-id="06ff0-1215">Jako SAP liveCache intenzivně využívá výpočetní výkon, produktivitu využití důrazně doporučujeme k nasazení na vyhrazený virtuální počítač Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1215">As SAP liveCache intensively uses computational power, for productive usage it is highly recommended to deploy on a dedicated Azure Virtual Machine.</span></span> 

![Vyhrazený virtuální počítač Azure pro liveCache pro případ použití produktivitu][dbms-guide-figure-700]

#### <a name="backup-and-restore"></a><span data-ttu-id="06ff0-1217">Zálohování a obnovení</span><span class="sxs-lookup"><span data-stu-id="06ff0-1217">Backup and Restore</span></span>
<span data-ttu-id="06ff0-1218">Zálohování a obnovení, včetně faktory ovlivňující výkon, jsou již popsané v příslušné kapitolám SAP MaxDB [zálohování a obnovení] [ dbms-guide-8.4.2] a [otázky výkonu při zálohování a obnovení][dbms-guide-8.4.3].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1218">Backup and restore, including performance considerations, are already described in the relevant SAP MaxDB chapters [Backup and Restore][dbms-guide-8.4.2] and [Performance Considerations for Backup and Restore][dbms-guide-8.4.3].</span></span> 

#### <a name="other"></a><span data-ttu-id="06ff0-1219">Ostatní</span><span class="sxs-lookup"><span data-stu-id="06ff0-1219">Other</span></span>
<span data-ttu-id="06ff0-1220">Další obecné témata jsou již popsané v příslušné MaxDB SAP [to] [ dbms-guide-8.4.4] kapitoly.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1220">All other general topics are already described in the relevant SAP MaxDB [this][dbms-guide-8.4.4] chapter.</span></span> 

## <a name="specifics-for-the-sap-content-server-on-windows"></a><span data-ttu-id="06ff0-1221">Specifika serveru SAP obsahu v systému Windows</span><span class="sxs-lookup"><span data-stu-id="06ff0-1221">Specifics for the SAP Content Server on Windows</span></span>
<span data-ttu-id="06ff0-1222">Obsah serveru SAP je komponenta samostatný, na serveru k ukládání obsahu například elektronických dokumentů v různých formátech.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1222">The SAP Content Server is a separate, server-based component to store content such as electronic documents in different formats.</span></span> <span data-ttu-id="06ff0-1223">Server obsahu SAP zajišťuje vývoj technologie a má být použít mezi aplikacemi pro všechny aplikace SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1223">The SAP Content Server is provided by development of technology and is to be used cross-application for any SAP applications.</span></span> <span data-ttu-id="06ff0-1224">Je nainstalovaná v samostatném systému.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1224">It is installed on a separate system.</span></span> <span data-ttu-id="06ff0-1225">Typické obsah je školicí materiály a dokumentace z skladu znalostní báze nebo technické výkresy pocházející z mySAP PLM systém správy dokumentů.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1225">Typical content is training material and documentation from Knowledge Warehouse or technical drawings originating from the mySAP PLM Document Management System.</span></span> 

### <a name="sap-content-server-version-support"></a><span data-ttu-id="06ff0-1226">Podpora verze obsahu serveru SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-1226">SAP Content Server Version Support</span></span>
<span data-ttu-id="06ff0-1227">SAP aktuálně podporuje:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1227">SAP currently supports:</span></span>

* <span data-ttu-id="06ff0-1228">**Server obsahu SAP** s verzí **6.50 (a vyšší)**</span><span class="sxs-lookup"><span data-stu-id="06ff0-1228">**SAP Content Server** with version **6.50 (and higher)**</span></span>
* <span data-ttu-id="06ff0-1229">**SAP MaxDB verze 7.9**</span><span class="sxs-lookup"><span data-stu-id="06ff0-1229">**SAP MaxDB version 7.9**</span></span>
* <span data-ttu-id="06ff0-1230">**Microsoft IIS (Internet Information Server) verze 8.0 (a vyšší)**</span><span class="sxs-lookup"><span data-stu-id="06ff0-1230">**Microsoft IIS (Internet Information Server) version 8.0 (and higher)**</span></span>

<span data-ttu-id="06ff0-1231">Důrazně doporučujeme používat nejnovější verzi obsahu serveru SAP, což v době psaní tohoto dokumentu je **6.50 SP4**a nejnovější verzi **Microsoft IIS 8.5**.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1231">It is highly recommended to use the newest version of SAP Content Server, which at the time of writing this document is **6.50 SP4**, and the newest version of **Microsoft IIS 8.5**.</span></span> 

<span data-ttu-id="06ff0-1232">Zkontrolujte podporované verze obsahu serveru SAP a Microsoft IIS v [SAP produktu dostupnosti matice (PAM)][sap-pam].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1232">Check the latest supported versions of SAP Content Server and Microsoft IIS in the [SAP Product Availability Matrix (PAM)][sap-pam].</span></span>

### <a name="supported-microsoft-windows-and-azure-vm-types-for-sap-content-server"></a><span data-ttu-id="06ff0-1233">Podporované typy Microsoft Windows a virtuálních počítačů Azure pro Server obsahu SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-1233">Supported Microsoft Windows and Azure VM types for SAP Content Server</span></span>
<span data-ttu-id="06ff0-1234">Podporované verze systému Windows pro SAP Server obsahu v Azure, najdete v tématu:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1234">To find out supported Windows version for SAP Content Server on Azure, see:</span></span>

* <span data-ttu-id="06ff0-1235">[SAP produktu dostupnosti matice (PAM)][sap-pam]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1235">[SAP Product Availability Matrix (PAM)][sap-pam]</span></span>
* <span data-ttu-id="06ff0-1236">Poznámka SAP [1928533]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1236">SAP Note [1928533]</span></span>

<span data-ttu-id="06ff0-1237">Důrazně doporučujeme používat nejnovější verzi systému Microsoft Windows Server.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1237">It is highly recommended to use the newest version of Microsoft Windows Server.</span></span>

### <a name="sap-content-server-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="06ff0-1238">Pokyny ke konfiguraci serveru obsahu SAP pro SAP instalace ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-1238">SAP Content Server Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="06ff0-1239">Konfigurace úložiště</span><span class="sxs-lookup"><span data-stu-id="06ff0-1239">Storage Configuration</span></span>
<span data-ttu-id="06ff0-1240">Pokud nakonfigurujete Server obsahu SAP k ukládání souborů v databázi SAP MaxDB, všechny úložiště Azure osvědčených postupů doporučení uvedená pro SAP MaxDB v kapitole [konfigurace úložiště] [ dbms-guide-8.4.1] platí také pro scénář obsahu serveru SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1240">If you configure SAP Content Server to store files in the SAP MaxDB database, all Azure storage best practices recommendation mentioned for SAP MaxDB in chapter [Storage Configuration][dbms-guide-8.4.1] are also valid for the SAP Content Server scenario.</span></span> 

<span data-ttu-id="06ff0-1241">Pokud nakonfigurujete Server obsahu SAP k uložení souborů v systému souborů, doporučujeme použít vyhrazený logické jednotky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1241">If you configure SAP Content Server to store files in the file system, it is recommended to use a dedicated logical drive.</span></span> <span data-ttu-id="06ff0-1242">Použití prostorů úložiště systému Windows umožňuje také zvýšit velikost logického disku a propustnost IOPS, jak je popsáno v kapitole [softwaru diskového pole RAID][dbms-guide-2.2].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1242">Using Windows Storage Spaces enables you to also increase logical disk size and IOPS throughput, as described in chapter [Software RAID][dbms-guide-2.2].</span></span> 

#### <a name="sap-content-server-location"></a><span data-ttu-id="06ff0-1243">Umístění obsahu serveru SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-1243">SAP Content Server Location</span></span>
<span data-ttu-id="06ff0-1244">Server obsahu SAP, je nutné nasadit ve stejné oblasti Azure a virtuální síť Azure, kde je nasazen v systému SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1244">SAP Content Server has to be deployed in the same Azure region and Azure VNET where the SAP system is deployed.</span></span> <span data-ttu-id="06ff0-1245">Můžete se mohou rozhodnout, jestli chcete nasadit Server obsahu SAP součásti na vyhrazený virtuální počítač Azure nebo na kterém je spuštěný v systému SAP stejného virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1245">You are free to decide whether you want to deploy SAP Content Server components on a dedicated Azure VM or on the same VM where the SAP system is running.</span></span> 

![Vyhrazený virtuální počítač Azure pro Server obsahu SAP][dbms-guide-figure-800]

#### <a name="sap-cache-server-location"></a><span data-ttu-id="06ff0-1247">Umístění mezipaměti serveru SAP</span><span class="sxs-lookup"><span data-stu-id="06ff0-1247">SAP Cache Server Location</span></span>
<span data-ttu-id="06ff0-1248">Serveru SAP mezipaměti je další komponentu na serveru k poskytování přístupu k místně (v mezipaměti) dokumenty.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1248">The SAP Cache Server is an additional server-based component to provide access to (cached) documents locally.</span></span> <span data-ttu-id="06ff0-1249">Ukládá do mezipaměti serveru SAP mezipaměti dokumenty k obsahu serveru SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1249">The SAP Cache Server caches the documents of an SAP Content Server.</span></span> <span data-ttu-id="06ff0-1250">Toto je za účelem optimalizace síťový provoz, pokud mají být načteny více než jednou z různých míst dokumenty.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1250">This is to optimize network traffic if documents have to be retrieved more than once from different locations.</span></span> <span data-ttu-id="06ff0-1251">Obecně platí, že serveru SAP mezipaměti musí být fyzicky blízko klienta, který má přístup k serveru SAP mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1251">The general rule is that the SAP Cache Server has to be physically close to the client that accesses the SAP Cache Server.</span></span> 

<span data-ttu-id="06ff0-1252">Zde máte dvě možnosti:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1252">Here you have two options:</span></span>

1. <span data-ttu-id="06ff0-1253">**Klient je systém SAP back-end** Pokud systému SAP back-end je nakonfigurovaná pro přístup k obsahu serveru SAP, že systém SAP je klienta.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1253">**Client is a backend SAP system** If a backend SAP system is configured to access SAP Content Server, that SAP system is a client.</span></span> <span data-ttu-id="06ff0-1254">Při nasazování systému SAP a obsahu serveru SAP ve stejné oblasti Azure – ve stejném datovém centru Azure – jsou fyzicky blízko sebe navzájem.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1254">As both SAP system and SAP Content Server are deployed in the same Azure region – in the same Azure datacenter – they are physically close to each other.</span></span> <span data-ttu-id="06ff0-1255">Je proto potřeba mít vyhrazený Server mezipaměti SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1255">Therefore, there is no need to have a dedicated SAP Cache Server.</span></span> <span data-ttu-id="06ff0-1256">Klienti SAP uživatelského rozhraní (SAP GUI nebo webový prohlížeč) přímý přístup v systému SAP a v systému SAP načte dokumenty ze serveru obsahu SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1256">SAP UI clients (SAP GUI or web browser) access the SAP system directly, and the SAP system retrieves documents from the SAP Content Server.</span></span>
2. <span data-ttu-id="06ff0-1257">**Klient je webový prohlížeč místně** lze nastavit v obsahu serveru SAP nelze přistupovat přímo ve webovém prohlížeči.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1257">**Client is an on-premises web browser** The SAP Content Server can be configured to be accessed directly by the web browser.</span></span> <span data-ttu-id="06ff0-1258">V takovém případě je webový prohlížeč s místní – klient obsahu serveru SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1258">In this case, a web browser running on–premises is a client of the SAP Content Server.</span></span> <span data-ttu-id="06ff0-1259">Místního datového centra a datové centrum Azure jsou umístěny v různých fyzických lokacích (v ideálním případě blízko sebe navzájem).</span><span class="sxs-lookup"><span data-stu-id="06ff0-1259">On-premises datacenter and Azure datacenter are placed in different physical locations (ideally close to each other).</span></span> <span data-ttu-id="06ff0-1260">Vaše místního datového centra je připojená k Azure přes Azure Site-to-Site VPN nebo ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1260">Your on-premises datacenter is connected to Azure via Azure Site-to-Site VPN or ExpressRoute.</span></span> <span data-ttu-id="06ff0-1261">I když obě možnosti nabízí zabezpečené připojení sítě VPN do Azure, site-to-site síťové připojení nenabízí SLA síťové šířky pásma a čekací doba mezi místního datového centra a datovém centru Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1261">Although both options offer secure VPN network connection to Azure, site-to-site network connection does not offer a network bandwidth and latency SLA between the on-premises datacenter and the Azure datacenter.</span></span> <span data-ttu-id="06ff0-1262">Pro urychlení přístupu k dokumentům, můžete provést jednu z těchto možností:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1262">To speed up access to documents, you can do one of the following:</span></span>
   1. <span data-ttu-id="06ff0-1263">Instalace serveru SAP mezipaměti místně, zavřete do místní webové prohlížeče (možnost [to] [ dbms-guide-900-sap-cache-server-on-premises] obrázek)</span><span class="sxs-lookup"><span data-stu-id="06ff0-1263">Install SAP Cache Server on-premises, close to the on-premises web browser (option on [this][dbms-guide-900-sap-cache-server-on-premises] Figure)</span></span>
   2. <span data-ttu-id="06ff0-1264">Konfigurace Azure ExpressRoute, který nabízí vysokorychlostní a nízkou latencí vyhrazené síťové připojení mezi místního datového centra a datového centra Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1264">Configure Azure ExpressRoute, which offers a high-speed and low-latency dedicated network connection between on-premises datacenter and Azure datacenter.</span></span>

<span data-ttu-id="06ff0-1265">![Možnost instalace serveru SAP mezipaměti místně][dbms-guide-figure-900]
<a name="642f746c-e4d4-489d-bf63-73e80177a0a8"></a></span><span class="sxs-lookup"><span data-stu-id="06ff0-1265">![Option to install SAP Cache Server on-premises][dbms-guide-figure-900]
<a name="642f746c-e4d4-489d-bf63-73e80177a0a8"></a></span></span>

#### <a name="backup--restore"></a><span data-ttu-id="06ff0-1266">Backup / obnovení</span><span class="sxs-lookup"><span data-stu-id="06ff0-1266">Backup / Restore</span></span>
<span data-ttu-id="06ff0-1267">Při konfiguraci serveru SAP obsahu k ukládání souborů v databázi SAP MaxDB, zálohování a obnovení postupu a výkonové požadavky jsou již popsané v kapitole SAP MaxDB [zálohování a obnovení] [ dbms-guide-8.4.2] a kapitoly [otázky výkonu při zálohování a obnovení][dbms-guide-8.4.3].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1267">If you configure the SAP Content Server to store files in the SAP MaxDB database, the backup/restore procedure and performance considerations are already described in SAP MaxDB chapter [Backup and Restore][dbms-guide-8.4.2] and chapter [Performance Considerations for Backup and Restore][dbms-guide-8.4.3].</span></span> 

<span data-ttu-id="06ff0-1268">Při konfiguraci serveru SAP obsahu k uložení souborů v systému souborů, jednou z možností je provést ruční zálohování nebo obnovení struktury celý soubor, kde se nachází v dokumentech.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1268">If you configure the SAP Content Server to store files in the file system, one option is to execute manual backup/restore of the whole file structure where the documents are located.</span></span> <span data-ttu-id="06ff0-1269">Podobně jako SAP MaxDB zálohování a obnovení, se doporučuje mít vyhrazeným diskovým svazek pro zálohování účel.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1269">Similar to SAP MaxDB backup/restore, it is recommended to have a dedicated disk volume for backup purpose.</span></span> 

#### <a name="other"></a><span data-ttu-id="06ff0-1270">Ostatní</span><span class="sxs-lookup"><span data-stu-id="06ff0-1270">Other</span></span>
<span data-ttu-id="06ff0-1271">Další konkrétní nastavení serveru SAP obsahu jsou transparentní pro virtuální počítače Azure a jsou popsané v různých dokumenty a SAP poznámky:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1271">Other SAP Content Server specific settings are transparent to Azure VMs and are described in various documents and SAP Notes:</span></span>

* <span data-ttu-id="06ff0-1272"><https://Service.SAP.com/contentserver></span><span class="sxs-lookup"><span data-stu-id="06ff0-1272"><https://service.sap.com/contentserver></span></span> 
* <span data-ttu-id="06ff0-1273">Poznámka SAP [1619726]</span><span class="sxs-lookup"><span data-stu-id="06ff0-1273">SAP Note [1619726]</span></span>  

## <a name="specifics-to-ibm-db2-for-luw-on-windows"></a><span data-ttu-id="06ff0-1274">Podrobné IBM DB2 pro LUW v systému Windows</span><span class="sxs-lookup"><span data-stu-id="06ff0-1274">Specifics to IBM DB2 for LUW on Windows</span></span>
<span data-ttu-id="06ff0-1275">S Microsoft Azure můžete snadno migrovat stávající aplikaci SAP systémem IBM DB2 pro Linux, UNIX a systému Windows (LUW) na virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1275">With Microsoft Azure, you can easily migrate your existing SAP application running on IBM DB2 for Linux, UNIX, and Windows (LUW) to Azure virtual machines.</span></span> <span data-ttu-id="06ff0-1276">S SAP na IBM DB2 pro LUW správci a vývojáři můžete dál používat stejné vývoj a nástroje pro správu, které jsou k dispozici místně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1276">With SAP on IBM DB2 for LUW, administrators and developers can still use the same development and administration tools, which are available on-premises.</span></span>
<span data-ttu-id="06ff0-1277">Obecné informace o spuštění na IBM DB2 SAP Business Suite, LUW naleznete v SAP komunity sítě (oznámení změny stavu) na <https://www.sap.com/community/topic/db2-for-linux-unix-and-windows.html>.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1277">General information about running SAP Business Suite on IBM DB2 for LUW can be found in the SAP Community Network (SCN) at <https://www.sap.com/community/topic/db2-for-linux-unix-and-windows.html>.</span></span>

<span data-ttu-id="06ff0-1278">Další informace a aktualizace o SAP v DB2 pro LUW v Azure, viz poznámka SAP [2233094].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1278">For additional information and updates about SAP on DB2 for LUW on Azure, see SAP Note [2233094].</span></span> 

### <a name="ibm-db2-for-linux-unix-and-windows-version-support"></a><span data-ttu-id="06ff0-1279">IBM DB2 pro Linux, UNIX a podpora verzí systému Windows</span><span class="sxs-lookup"><span data-stu-id="06ff0-1279">IBM DB2 for Linux, UNIX, and Windows Version Support</span></span>
<span data-ttu-id="06ff0-1280">SAP na IBM DB2 pro LUW na služby Microsoft Azure virtuálního počítače je podporováno od verze DB2 10.5.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1280">SAP on IBM DB2 for LUW on Microsoft Azure Virtual Machine Services is supported as of DB2 version 10.5.</span></span>

<span data-ttu-id="06ff0-1281">Informace o podporovaných produktech SAP a typy virtuálního počítače Azure, najdete v části Poznámka SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1281">For information about supported SAP products and Azure VM types, refer to SAP Note [1928533].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="06ff0-1282">IBM DB2 pro Linux, UNIX a pokyny pro konfigurace systému Windows pro SAP instalace ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-1282">IBM DB2 for Linux, UNIX, and Windows Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="06ff0-1283">Konfigurace úložiště</span><span class="sxs-lookup"><span data-stu-id="06ff0-1283">Storage Configuration</span></span>
<span data-ttu-id="06ff0-1284">Všechny soubory databáze musí být uložen v systému souborů NTFS podle přímo připojených disků.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1284">All database files must be stored on the NTFS file system based on directly attached disks.</span></span> <span data-ttu-id="06ff0-1285">Tyto disky jsou připojené k virtuálnímu počítači Azure a jsou založené na Azure úložiště objektů BLOB stránky (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) nebo spravované disky (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span><span class="sxs-lookup"><span data-stu-id="06ff0-1285">These disks are mounted to the Azure VM and are based in Azure Page BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) or Managed Disks (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span></span> <span data-ttu-id="06ff0-1286">Jakýkoli druh síťové jednotky nebo vzdálených sdílených složkách, jako jsou následující služby Azure file **není** podporované pro soubory databáze:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1286">Any kind of network drives or remote shares like the following Azure file services are **NOT** supported for database files:</span></span> 

* <span data-ttu-id="06ff0-1287"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/Introducing-Microsoft-Azure-File-Service.aspx></span><span class="sxs-lookup"><span data-stu-id="06ff0-1287"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span>
* <span data-ttu-id="06ff0-1288"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-Connections-to-Microsoft-Azure-Files.aspx></span><span class="sxs-lookup"><span data-stu-id="06ff0-1288"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="06ff0-1289">Pokud používáte disky na základě úložiště objektů BLOB stránky Azure nebo spravovat disky, příkazy provedené v tomto dokumentu v kapitole [struktura nasazení RDBMS] [ dbms-guide-2] platí také pro nasazení s IBM DB2 LUW databáze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1289">If you are using disks based on Azure Page BLOB Storage or Managed Disks, the statements made in this document in chapter [Structure of an RDBMS Deployment][dbms-guide-2] also apply to deployments with the IBM DB2 for LUW Database.</span></span> 

<span data-ttu-id="06ff0-1290">Jak je popsáno výše v části Obecné v dokumentu, existují kvóty na propustnost IOPS pro disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1290">As explained earlier in the general part of the document, quotas on IOPS throughput for disks exist.</span></span> <span data-ttu-id="06ff0-1291">Přesný kvóty závisí na typu virtuálního počítače použít.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1291">The exact quotas depend on the VM type used.</span></span> <span data-ttu-id="06ff0-1292">Seznam typů virtuálních počítačů s jejich kvóty najdete [zde (Linux)] [ virtual-machines-sizes-linux] a [zde (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1292">A list of VM types with their quotas can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="06ff0-1293">Tak dlouho, dokud stačí aktuální kvóty IOPS na disk, je možné uložit všechny soubory databáze na jednom disku jedné připojené.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1293">As long as the current IOPS quota per disk is sufficient, it is possible to store all the database files on one single mounted disk.</span></span> 

<span data-ttu-id="06ff0-1294">Výkon aspekty také najdete v části "Data zabezpečení a výkonu důležité informace pro databázi adresáře" kapitoly v příručkách instalace SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1294">For performance considerations also refer to chapter “Data Safety and Performance Considerations for Database Directories” in SAP installation guides.</span></span>

<span data-ttu-id="06ff0-1295">Alternativně můžete použít fondy úložiště systému Windows (pouze k dispozici v systému Windows Server 2012 a vyšší) nebo proložení Windows pro systém Windows 2008 R2 jako popsané v kapitole [softwaru diskového pole RAID] [ dbms-guide-2.2] v tomto dokumentu vytvořte jeden velké logické zařízení přes několik disků.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1295">Alternatively, you can use Windows Storage Pools (only available in Windows Server 2012 and higher) or Windows striping for Windows 2008 R2 as described in chapter [Software RAID][dbms-guide-2.2] of this document to create one large logical device over multiple disks.</span></span>
<span data-ttu-id="06ff0-1296">Pro disky obsahující cesty úložiště DB2 pro sapdata a saptmp adresářů musíte zadat velikost sektoru fyzického disku 512 KB.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1296">For the disks containing the DB2 storage paths for your sapdata and saptmp directories, you must specify a physical disk sector size of 512 KB.</span></span> <span data-ttu-id="06ff0-1297">Pokud používáte fondy úložišť systému Windows, je třeba vytvořit fondy úložiště ručně pomocí rozhraní příkazového řádku pomocí parametru "-LogicalSectorSizeDefault".</span><span class="sxs-lookup"><span data-stu-id="06ff0-1297">When using Windows Storage Pools, you must create the storage pools  manually via command line interface using the parameter „-LogicalSectorSizeDefault“.</span></span> <span data-ttu-id="06ff0-1298">Další informace najdete v tématu <https://technet.microsoft.com/itpro/powershell/windows/storage/new-storagepool>.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1298">For more information, see <https://technet.microsoft.com/itpro/powershell/windows/storage/new-storagepool>.</span></span>

#### <a name="backuprestore"></a><span data-ttu-id="06ff0-1299">Zálohování a obnovení</span><span class="sxs-lookup"><span data-stu-id="06ff0-1299">Backup/Restore</span></span>
<span data-ttu-id="06ff0-1300">Funkce zálohování a obnovení pro IBM DB2 pro LUW je podporována stejným způsobem jako standardní operační systémy Windows Server a Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1300">The backup/restore functionality for IBM DB2 for LUW is supported in the same way as on standard Windows Server Operating Systems and Hyper-V.</span></span>

<span data-ttu-id="06ff0-1301">Musí se ujistěte, že máte zavedenou strategie zálohování platnou databázi.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1301">You must make sure that you have a valid database backup strategy in place.</span></span> 

<span data-ttu-id="06ff0-1302">Jako úplné nasazení výkonu zálohování a obnovení závisí na kolik svazky lze číst paralelně a propustnost tyto svazky, které je možné.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1302">As in bare-metal deployments, backup/restore performance depends on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="06ff0-1303">Kromě toho může spotřeby procesoru, který je používán kompresi zálohy přehrát významnou roli na virtuálních počítačích s vlákny právě až osm procesoru.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1303">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to eight CPU threads.</span></span> <span data-ttu-id="06ff0-1304">Proto můžete předpokládat jeden:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1304">Therefore, one can assume:</span></span>

* <span data-ttu-id="06ff0-1305">Méně počet disků používá k ukládání databáze zařízení, menší celkovou propustnost čtení</span><span class="sxs-lookup"><span data-stu-id="06ff0-1305">The fewer the number of disks used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="06ff0-1306">Menší že počet procesoru vláken ve virtuálním počítači, závažnější dopad kompresi zálohy</span><span class="sxs-lookup"><span data-stu-id="06ff0-1306">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="06ff0-1307">Méně cílů (Stripe adresáře, disků) k zápisu zálohování do dolní propustnost</span><span class="sxs-lookup"><span data-stu-id="06ff0-1307">The fewer targets (Stripe Directories, disks) to write the backup to, the lower the throughput</span></span>

<span data-ttu-id="06ff0-1308">Pokud chcete zvýšit počet cílů k zápisu, může být dvě možnosti, podle potřeby použít nebo kombinaci:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1308">To increase the number of targets to write to, two options can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="06ff0-1309">Prokládání cílový svazek přes víc disků za účelem zlepšení propustnosti IOPS na tomto svazku prokládané</span><span class="sxs-lookup"><span data-stu-id="06ff0-1309">Striping the backup target volume over multiple disks in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="06ff0-1310">Použití více než jeden cílový adresář pro psaní zálohy</span><span class="sxs-lookup"><span data-stu-id="06ff0-1310">Using more than one target directory to write the backup to</span></span>

#### <a name="high-availability-and-disaster-recovery"></a><span data-ttu-id="06ff0-1311">Vysoká dostupnost a zotavení po havárii</span><span class="sxs-lookup"><span data-stu-id="06ff0-1311">High Availability and Disaster Recovery</span></span>
<span data-ttu-id="06ff0-1312">Microsoft Cluster Server (MSCS) není podporována.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1312">Microsoft Cluster Server (MSCS) is not supported.</span></span>

<span data-ttu-id="06ff0-1313">Zotavení po havárii DB2 vysokou dostupnost (HADR) je podporováno.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1313">DB2 high availability disaster recovery (HADR) is supported.</span></span> <span data-ttu-id="06ff0-1314">Pokud virtuální počítače HA konfigurace funguje překlad, instalační program v Azure se neliší od žádné nastavení, která se provádí na místě.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1314">If the virtual machines of the HA configuration have working name resolution, the setup in Azure does not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="06ff0-1315">Není doporučeno spoléhají na pouze pro překlad IP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1315">It is not recommended to rely on IP resolution only.</span></span>

<span data-ttu-id="06ff0-1316">Nepoužívejte geografická replikace pro účty úložiště, které ukládají databáze disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1316">Do not use Geo-Replication for the storage accounts that store the database disks.</span></span> <span data-ttu-id="06ff0-1317">Další informace najdete v části kapitoly [Microsoft Azure Storage] [ dbms-guide-2.3] a kapitoly [vysokou dostupnost a zotavení po havárii s virtuálními počítači Azure][dbms-guide-3].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1317">For more information, refer to chapter [Microsoft Azure Storage][dbms-guide-2.3] and chapter [High Availability and Disaster Recovery with Azure VMs][dbms-guide-3].</span></span>

#### <a name="other"></a><span data-ttu-id="06ff0-1318">Ostatní</span><span class="sxs-lookup"><span data-stu-id="06ff0-1318">Other</span></span>
<span data-ttu-id="06ff0-1319">Jak je popsáno v první tři kapitol tohoto dokumentu pro nasazení virtuálních počítačů s IBM DB2 pro LUW také použít všechny ostatní obecné témata jako skupiny dostupnosti Azure nebo SAP monitorování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1319">All other general topics like Azure Availability Sets or SAP monitoring apply as described in the first three chapters of this document for deployments of VMs with IBM DB2 for LUW as well.</span></span> 

<span data-ttu-id="06ff0-1320">Se také podívat na kapitoly [obecné SQL Server pro SAP v Azure souhrnu][dbms-guide-5.8].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1320">Also refer to chapter [General SQL Server for SAP on Azure Summary][dbms-guide-5.8].</span></span>

## <a name="specifics-to-ibm-db2-for-luw-on-linux"></a><span data-ttu-id="06ff0-1321">Podrobné IBM DB2 pro LUW v systému Linux</span><span class="sxs-lookup"><span data-stu-id="06ff0-1321">Specifics to IBM DB2 for LUW on Linux</span></span>
<span data-ttu-id="06ff0-1322">S Microsoft Azure můžete snadno migrovat stávající aplikaci SAP systémem IBM DB2 pro Linux, UNIX a systému Windows (LUW) na virtuálních počítačích Azure.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1322">With Microsoft Azure, you can easily migrate your existing SAP application running on IBM DB2 for Linux, UNIX, and Windows (LUW) to Azure virtual machines.</span></span> <span data-ttu-id="06ff0-1323">S SAP na IBM DB2 pro LUW správci a vývojáři můžete dál používat stejné vývoj a nástroje pro správu, které jsou k dispozici místně.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1323">With SAP on IBM DB2 for LUW, administrators and developers can still use the same development and administration tools, which are available on-premises.</span></span> <span data-ttu-id="06ff0-1324">Obecné informace o spuštění na IBM DB2 SAP Business Suite, LUW naleznete v SAP komunity sítě (oznámení změny stavu) na <https://www.sap.com/community/topic/db2-for-linux-unix-and-windows.html>.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1324">General information about running SAP Business Suite on IBM DB2 for LUW can be found in the SAP Community Network (SCN) at <https://www.sap.com/community/topic/db2-for-linux-unix-and-windows.html>.</span></span>

<span data-ttu-id="06ff0-1325">Další informace a aktualizace o SAP v DB2 pro LUW v Azure, viz poznámka SAP [2233094].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1325">For additional information and updates about SAP on DB2 for LUW on Azure, see SAP Note [2233094].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-version-support"></a><span data-ttu-id="06ff0-1326">IBM DB2 pro Linux, UNIX a podpora verzí systému Windows</span><span class="sxs-lookup"><span data-stu-id="06ff0-1326">IBM DB2 for Linux, UNIX, and Windows Version Support</span></span>
<span data-ttu-id="06ff0-1327">SAP na IBM DB2 pro LUW na služby Microsoft Azure virtuálního počítače je podporováno od verze DB2 10.5.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1327">SAP on IBM DB2 for LUW on Microsoft Azure Virtual Machine Services is supported as of DB2 version 10.5.</span></span>

<span data-ttu-id="06ff0-1328">Informace o podporovaných produktech SAP a typy virtuálního počítače Azure, najdete v části Poznámka SAP [1928533].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1328">For information about supported SAP products and Azure VM types, refer to SAP Note [1928533].</span></span>

### <a name="ibm-db2-for-linux-unix-and-windows-configuration-guidelines-for-sap-installations-in-azure-vms"></a><span data-ttu-id="06ff0-1329">IBM DB2 pro Linux, UNIX a pokyny pro konfigurace systému Windows pro SAP instalace ve virtuálních počítačích Azure</span><span class="sxs-lookup"><span data-stu-id="06ff0-1329">IBM DB2 for Linux, UNIX, and Windows Configuration Guidelines for SAP Installations in Azure VMs</span></span>
#### <a name="storage-configuration"></a><span data-ttu-id="06ff0-1330">Konfigurace úložiště</span><span class="sxs-lookup"><span data-stu-id="06ff0-1330">Storage Configuration</span></span>
<span data-ttu-id="06ff0-1331">Všechny soubory databáze musí být uložen v systému souborů podle přímo připojených disků.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1331">All database files must be stored on a file system based on directly attached disks.</span></span> <span data-ttu-id="06ff0-1332">Tyto disky jsou připojené k virtuálnímu počítači Azure a jsou založené na Azure úložiště objektů BLOB stránky (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) nebo spravované disky (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span><span class="sxs-lookup"><span data-stu-id="06ff0-1332">These disks are mounted to the Azure VM and are based in Azure Page BLOB Storage (<https://docs.microsoft.com/rest/api/storageservices/Understanding-Block-Blobs--Append-Blobs--and-Page-Blobs>) or Managed Disks (<https://docs.microsoft.com/azure/storage/storage-managed-disks-overview>).</span></span> <span data-ttu-id="06ff0-1333">Jakýkoli druh síťové jednotky nebo vzdálených sdílených složkách, jako jsou následující služby Azure file **není** podporované pro soubory databáze:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1333">Any kind of network drives or remote shares like the following Azure file services are **NOT** supported for database files:</span></span>

* <span data-ttu-id="06ff0-1334"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/Introducing-Microsoft-Azure-File-Service.aspx></span><span class="sxs-lookup"><span data-stu-id="06ff0-1334"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx></span></span>
* <span data-ttu-id="06ff0-1335"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-Connections-to-Microsoft-Azure-Files.aspx></span><span class="sxs-lookup"><span data-stu-id="06ff0-1335"><https://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/27/persisting-connections-to-microsoft-azure-files.aspx></span></span>

<span data-ttu-id="06ff0-1336">Pokud používáte disky založené na úložiště objektů BLOB stránky Azure, příkazy provedené v tomto dokumentu v kapitole [struktura nasazení RDBMS] [ dbms-guide-2] platí také pro nasazení s IBM DB2 LUW databáze.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1336">If you are using disks based on Azure Page BLOB Storage, the statements made in this document in chapter [Structure of an RDBMS Deployment][dbms-guide-2] also apply to deployments with the IBM DB2 for LUW Database.</span></span>

<span data-ttu-id="06ff0-1337">Jak je popsáno výše v části Obecné v dokumentu, existují kvóty na propustnost IOPS pro disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1337">As explained earlier in the general part of the document, quotas on IOPS throughput for disks exist.</span></span> <span data-ttu-id="06ff0-1338">Přesný kvóty závisí na typu virtuálního počítače použít.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1338">The exact quotas depend on the VM type used.</span></span> <span data-ttu-id="06ff0-1339">Seznam typů virtuálních počítačů s jejich kvóty najdete [zde (Linux)] [ virtual-machines-sizes-linux] a [zde (Windows)][virtual-machines-sizes-windows].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1339">A list of VM types with their quotas can be found [here (Linux)][virtual-machines-sizes-linux] and [here (Windows)][virtual-machines-sizes-windows].</span></span>

<span data-ttu-id="06ff0-1340">Tak dlouho, dokud stačí aktuální kvóty IOPS na disk, je možné uložit všechny soubory databáze na jeden jediný disk.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1340">As long as the current IOPS quota per disk is sufficient, it is possible to store all the database files on one single disk.</span></span>

<span data-ttu-id="06ff0-1341">Výkon aspekty také najdete v části "Data zabezpečení a výkonu důležité informace pro databázi adresáře" kapitoly v příručkách instalace SAP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1341">For performance considerations also refer to chapter “Data Safety and Performance Considerations for Database Directories” in SAP installation guides.</span></span>

<span data-ttu-id="06ff0-1342">Alternativně můžete použít LVM (Správce logických svazku) nebo MDADM jak je popsáno v kapitole [softwaru diskového pole RAID] [ dbms-guide-2.2] v tomto dokumentu vytvořte jeden velké logické zařízení přes několik disků.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1342">Alternatively, you can use LVM (Logical Volume Manager) or MDADM as described in chapter [Software RAID][dbms-guide-2.2] of this document to create one large logical device over multiple disks.</span></span>
<span data-ttu-id="06ff0-1343">Pro disky obsahující cesty úložiště DB2 pro sapdata a saptmp adresářů musíte zadat velikost sektoru fyzického disku 512 KB.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1343">For the disks containing the DB2 storage paths for your sapdata and saptmp directories, you must specify a physical disk sector size of 512 KB.</span></span>

#### <a name="backuprestore"></a><span data-ttu-id="06ff0-1344">Zálohování a obnovení</span><span class="sxs-lookup"><span data-stu-id="06ff0-1344">Backup/Restore</span></span>
<span data-ttu-id="06ff0-1345">Funkce zálohování a obnovení pro IBM DB2 pro LUW je podporována stejným způsobem jako místními standardní Linux instalace.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1345">The backup/restore functionality for IBM DB2 for LUW is supported in the same way as on standard Linux installation on-premises.</span></span>

<span data-ttu-id="06ff0-1346">Musí se ujistěte, že máte zavedenou strategie zálohování platnou databázi.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1346">You must make sure that you have a valid database backup strategy in place.</span></span>

<span data-ttu-id="06ff0-1347">Jako úplné nasazení výkonu zálohování a obnovení závisí na kolik svazky lze číst paralelně a propustnost tyto svazky, které je možné.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1347">As in bare-metal deployments, backup/restore performance depends on how many volumes can be read in parallel and what the throughput of those volumes might be.</span></span> <span data-ttu-id="06ff0-1348">Kromě toho může spotřeby procesoru, který je používán kompresi zálohy přehrát významnou roli na virtuálních počítačích s vlákny právě až osm procesoru.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1348">In addition, the CPU consumption used by backup compression may play a significant role on VMs with just up to eight CPU threads.</span></span> <span data-ttu-id="06ff0-1349">Proto můžete předpokládat jeden:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1349">Therefore, one can assume:</span></span>

* <span data-ttu-id="06ff0-1350">Méně počet disků používá k ukládání databáze zařízení, menší celkovou propustnost čtení</span><span class="sxs-lookup"><span data-stu-id="06ff0-1350">The fewer the number of disks used to store the database devices, the smaller the overall throughput in reading</span></span>
* <span data-ttu-id="06ff0-1351">Menší že počet procesoru vláken ve virtuálním počítači, závažnější dopad kompresi zálohy</span><span class="sxs-lookup"><span data-stu-id="06ff0-1351">The smaller the number of CPU threads in the VM, the more severe the impact of backup compression</span></span>
* <span data-ttu-id="06ff0-1352">Méně cílů (Stripe adresáře, disků) k zápisu zálohování do dolní propustnost</span><span class="sxs-lookup"><span data-stu-id="06ff0-1352">The fewer targets (Stripe Directories, disks) to write the backup to, the lower the throughput</span></span>

<span data-ttu-id="06ff0-1353">Pokud chcete zvýšit počet cílů k zápisu, může být dvě možnosti, podle potřeby použít nebo kombinaci:</span><span class="sxs-lookup"><span data-stu-id="06ff0-1353">To increase the number of targets to write to, two options can be used/combined depending on your needs:</span></span>

* <span data-ttu-id="06ff0-1354">Prokládání cílový svazek přes víc disků za účelem zlepšení propustnosti IOPS na tomto svazku prokládané</span><span class="sxs-lookup"><span data-stu-id="06ff0-1354">Striping the backup target volume over multiple disks in order to improve the IOPS throughput on that striped volume</span></span>
* <span data-ttu-id="06ff0-1355">Použití více než jeden cílový adresář pro psaní zálohy</span><span class="sxs-lookup"><span data-stu-id="06ff0-1355">Using more than one target directory to write the backup to</span></span>

#### <a name="high-availability-and-disaster-recovery"></a><span data-ttu-id="06ff0-1356">Vysoká dostupnost a zotavení po havárii</span><span class="sxs-lookup"><span data-stu-id="06ff0-1356">High Availability and Disaster Recovery</span></span>
<span data-ttu-id="06ff0-1357">Zotavení po havárii DB2 vysokou dostupnost (HADR) je podporováno.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1357">DB2 high availability disaster recovery (HADR) is supported.</span></span> <span data-ttu-id="06ff0-1358">Pokud virtuální počítače HA konfigurace funguje překlad, instalační program v Azure se neliší od žádné nastavení, která se provádí na místě.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1358">If the virtual machines of the HA configuration have working name resolution, the setup in Azure does not differ from any setup that is done on-premises.</span></span> <span data-ttu-id="06ff0-1359">Není doporučeno spoléhají na pouze pro překlad IP.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1359">It is not recommended to rely on IP resolution only.</span></span>

<span data-ttu-id="06ff0-1360">Nepoužívejte geografická replikace pro účty úložiště, které ukládají databáze disky.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1360">Do not use Geo-Replication for the storage accounts that store the database disks.</span></span> <span data-ttu-id="06ff0-1361">Další informace najdete v části kapitoly [Microsoft Azure Storage] [ dbms-guide-2.3] a kapitoly [vysokou dostupnost a zotavení po havárii s virtuálními počítači Azure][dbms-guide-3].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1361">For more information, refer to chapter [Microsoft Azure Storage][dbms-guide-2.3] and chapter [High Availability and Disaster Recovery with Azure VMs][dbms-guide-3].</span></span>

#### <a name="other"></a><span data-ttu-id="06ff0-1362">Ostatní</span><span class="sxs-lookup"><span data-stu-id="06ff0-1362">Other</span></span>
<span data-ttu-id="06ff0-1363">Jak je popsáno v první tři kapitol tohoto dokumentu pro nasazení virtuálních počítačů s IBM DB2 pro LUW také použít všechny ostatní obecné témata jako skupiny dostupnosti Azure nebo SAP monitorování.</span><span class="sxs-lookup"><span data-stu-id="06ff0-1363">All other general topics like Azure Availability Sets or SAP monitoring apply as described in the first three chapters of this document for deployments of VMs with IBM DB2 for LUW as well.</span></span>

<span data-ttu-id="06ff0-1364">Se také podívat na kapitoly [obecné SQL Server pro SAP v Azure souhrnu][dbms-guide-5.8].</span><span class="sxs-lookup"><span data-stu-id="06ff0-1364">Also refer to chapter [General SQL Server for SAP on Azure Summary][dbms-guide-5.8].</span></span>

