---
title: "aaaOverview Azure Batch pro vývojáře | Microsoft Docs"
description: "Další funkce hello hello služby Batch a jejích rozhraní API z hlediska vývoje."
services: batch
documentationcenter: .net
author: tamram
manager: timlt
editor: 
ms.assetid: 416b95f8-2d7b-4111-8012-679b0f60d204
ms.service: batch
ms.devlang: multiple
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-compute
ms.date: 06/28/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3da9d82572b28d05d1923166bd08c26725ca3316
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="develop-large-scale-parallel-compute-solutions-with-batch"></a><span data-ttu-id="d673e-103">Vývoj rozsáhlých paralelních výpočetních řešení pomocí služby Batch</span><span class="sxs-lookup"><span data-stu-id="d673e-103">Develop large-scale parallel compute solutions with Batch</span></span>

<span data-ttu-id="d673e-104">V tomto přehledu hello základní součásti služby Azure Batch hello probereme funkce hello primární služby a prostředky, vývojáři Batch můžete použít rozsáhlé paralelní toobuild výpočetní řešení.</span><span class="sxs-lookup"><span data-stu-id="d673e-104">In this overview of hello core components of hello Azure Batch service, we discuss hello primary service features and resources that Batch developers can use toobuild large-scale parallel compute solutions.</span></span>

<span data-ttu-id="d673e-105">Zda vyvíjíte distribuovaná výpočetní aplikace nebo služba, která vydává přímé [REST API] [ batch_rest_api] volání nebo pracujete s některou z hello [SDK služby Batch](batch-apis-tools.md#azure-accounts-for-batch-development), které budete používat Mnoho hello prostředky a funkce popsané v tomto článku.</span><span class="sxs-lookup"><span data-stu-id="d673e-105">Whether you're developing a distributed computational application or service that issues direct [REST API][batch_rest_api] calls or you're using one of hello [Batch SDKs](batch-apis-tools.md#azure-accounts-for-batch-development), you'll use many of hello resources and features discussed in this article.</span></span>

> [!TIP]
> <span data-ttu-id="d673e-106">Vyšší úrovně Úvod toohello služby Batch naleznete v části [základy Azure Batch](batch-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-106">For a higher-level introduction toohello Batch service, see [Basics of Azure Batch](batch-technical-overview.md).</span></span>
>
>

## <a name="batch-service-workflow"></a><span data-ttu-id="d673e-107">Pracovní postup služby Batch</span><span class="sxs-lookup"><span data-stu-id="d673e-107">Batch service workflow</span></span>
<span data-ttu-id="d673e-108">Hello následující pracovní postup vysoké úrovně je typický pro téměř všechny aplikace a služby, které používají hello služby Batch ke zpracování paralelní úlohy:</span><span class="sxs-lookup"><span data-stu-id="d673e-108">hello following high-level workflow is typical of nearly all applications and services that use hello Batch service for processing parallel workloads:</span></span>

1. <span data-ttu-id="d673e-109">Nahrát hello **datové soubory** , které chcete tooprocess tooan [Azure Storage] [ azure_storage] účtu.</span><span class="sxs-lookup"><span data-stu-id="d673e-109">Upload hello **data files** that you want tooprocess tooan [Azure Storage][azure_storage] account.</span></span> <span data-ttu-id="d673e-110">Batch zahrnuje integrovanou podporu pro přístup k úložišti objektů Blob v Azure a vaše úkoly můžete stáhnout tyto soubory příliš[výpočetní uzly](#compute-node) spuštění úlohy hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-110">Batch includes built-in support for accessing Azure Blob storage, and your tasks can download these files too[compute nodes](#compute-node) when hello tasks are run.</span></span>
2. <span data-ttu-id="d673e-111">Nahrát hello **soubory aplikace** , budou vaše úkoly spouštět.</span><span class="sxs-lookup"><span data-stu-id="d673e-111">Upload hello **application files** that your tasks will run.</span></span> <span data-ttu-id="d673e-112">Tyto soubory lze binární soubory nebo skripty a jejich závislosti a provedení hello úlohami v úlohách.</span><span class="sxs-lookup"><span data-stu-id="d673e-112">These files can be binaries or scripts and their dependencies, and are executed by hello tasks in your jobs.</span></span> <span data-ttu-id="d673e-113">Vaše úkoly tyto soubory můžete stáhnout z vašeho účtu úložiště, nebo můžete použít hello [balíčky aplikací](#application-packages) funkcí služby Batch pro nasazení a Správa aplikací.</span><span class="sxs-lookup"><span data-stu-id="d673e-113">Your tasks can download these files from your Storage account, or you can use hello [application packages](#application-packages) feature of Batch for application management and deployment.</span></span>
3. <span data-ttu-id="d673e-114">Vytvořte [fond](#pool) výpočetních uzlů.</span><span class="sxs-lookup"><span data-stu-id="d673e-114">Create a [pool](#pool) of compute nodes.</span></span> <span data-ttu-id="d673e-115">Když vytvoříte fond, určíte hello počet výpočetních uzlů pro hello fondu, jejich velikosti a hello operačního systému.</span><span class="sxs-lookup"><span data-stu-id="d673e-115">When you create a pool, you specify hello number of compute nodes for hello pool, their size, and hello operating system.</span></span> <span data-ttu-id="d673e-116">Když každý úkol v úloze běží, je přiřazen tooexecute na jednom z hello uzly ve fondu.</span><span class="sxs-lookup"><span data-stu-id="d673e-116">When each task in your job runs, it's assigned tooexecute on one of hello nodes in your pool.</span></span>
4. <span data-ttu-id="d673e-117">Vytvořte [úlohu](#job).</span><span class="sxs-lookup"><span data-stu-id="d673e-117">Create a [job](#job).</span></span> <span data-ttu-id="d673e-118">Úloha spravuje kolekci úkolů.</span><span class="sxs-lookup"><span data-stu-id="d673e-118">A job manages a collection of tasks.</span></span> <span data-ttu-id="d673e-119">Můžete přiřadit konkrétní fond každé úlohy tooa, kde bude spuštění této úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-119">You associate each job tooa specific pool where that job's tasks will run.</span></span>
5. <span data-ttu-id="d673e-120">Přidat [úlohy](#task) toohello úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-120">Add [tasks](#task) toohello job.</span></span> <span data-ttu-id="d673e-121">Každá úloha se spustí aplikace hello nebo skript, který jste nahráli tooprocess hello datové soubory, které stáhne ze svého účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="d673e-121">Each task runs hello application or script that you uploaded tooprocess hello data files it downloads from your Storage account.</span></span> <span data-ttu-id="d673e-122">Protože každý úkol dokončí, můžete nahrát jeho výstup tooAzure úložiště.</span><span class="sxs-lookup"><span data-stu-id="d673e-122">As each task completes, it can upload its output tooAzure Storage.</span></span>
6. <span data-ttu-id="d673e-123">Sledujte průběh úlohy a načíst výstup úlohy hello ze služby Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="d673e-123">Monitor job progress and retrieve hello task output from Azure Storage.</span></span>

<span data-ttu-id="d673e-124">Hello následující části popisují tyto a další prostředky služby Batch, které povolit váš distribuovaný výpočetní scénář hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-124">hello following sections discuss these and hello other resources of Batch that enable your distributed computational scenario.</span></span>

> [!NOTE]
> <span data-ttu-id="d673e-125">Je nutné [účet Batch](#account) toouse hello služby Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-125">You need a [Batch account](#account) toouse hello Batch service.</span></span> <span data-ttu-id="d673e-126">Většina řešení Batch také používá pro ukládání a načítání souborů účet [Azure Storage][azure_storage].</span><span class="sxs-lookup"><span data-stu-id="d673e-126">Most Batch solutions also use an [Azure Storage][azure_storage] account for file storage and retrieval.</span></span> <span data-ttu-id="d673e-127">Batch aktuálně podporuje pouze hello **pro obecné účely** typ účtu úložiště, jak je popsáno v kroku 5 tohoto [vytvořit účet úložiště](../storage/common/storage-create-storage-account.md#create-a-storage-account) v [účty Azure storage](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-127">Batch currently supports only hello **general-purpose** storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span>
>
>

## <a name="batch-service-resources"></a><span data-ttu-id="d673e-128">Prostředky služby Batch</span><span class="sxs-lookup"><span data-stu-id="d673e-128">Batch service resources</span></span>
<span data-ttu-id="d673e-129">Některé hello následující prostředky – účty, výpočetní uzly, fondy, úlohy a úkoly – jsou vyžadované všechna řešení, které používají služby Batch hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-129">Some of hello following resources--accounts, compute nodes, pools, jobs, and tasks--are required by all solutions that use hello Batch service.</span></span> <span data-ttu-id="d673e-130">Další, jako například plány úloh nebo balíčky aplikací, jsou užitečné, ale volitelné funkce.</span><span class="sxs-lookup"><span data-stu-id="d673e-130">Others, like job schedules and application packages, are helpful, but optional, features.</span></span>

* [<span data-ttu-id="d673e-131">Účet</span><span class="sxs-lookup"><span data-stu-id="d673e-131">Account</span></span>](#account)
* [<span data-ttu-id="d673e-132">Výpočetní uzel</span><span class="sxs-lookup"><span data-stu-id="d673e-132">Compute node</span></span>](#compute-node)
* [<span data-ttu-id="d673e-133">Fond</span><span class="sxs-lookup"><span data-stu-id="d673e-133">Pool</span></span>](#pool)
* [<span data-ttu-id="d673e-134">Úloha</span><span class="sxs-lookup"><span data-stu-id="d673e-134">Job</span></span>](#job)

  * [<span data-ttu-id="d673e-135">Plány úlohy</span><span class="sxs-lookup"><span data-stu-id="d673e-135">Job schedules</span></span>](#scheduled-jobs)
* [<span data-ttu-id="d673e-136">Úkol</span><span class="sxs-lookup"><span data-stu-id="d673e-136">Task</span></span>](#task)

  * [<span data-ttu-id="d673e-137">Spouštěcí úkol</span><span class="sxs-lookup"><span data-stu-id="d673e-137">Start task</span></span>](#start-task)
  * [<span data-ttu-id="d673e-138">Úkol správce úloh</span><span class="sxs-lookup"><span data-stu-id="d673e-138">Job manager task</span></span>](#job-manager-task)
  * [<span data-ttu-id="d673e-139">Úkoly přípravy a uvolnění úloh</span><span class="sxs-lookup"><span data-stu-id="d673e-139">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
  * [<span data-ttu-id="d673e-140">Úkoly s více instancemi (MPI)</span><span class="sxs-lookup"><span data-stu-id="d673e-140">Multi-instance task (MPI)</span></span>](#multi-instance-tasks)
  * [<span data-ttu-id="d673e-141">Závislosti úkolů</span><span class="sxs-lookup"><span data-stu-id="d673e-141">Task dependencies</span></span>](#task-dependencies)
* [<span data-ttu-id="d673e-142">Balíčky aplikací</span><span class="sxs-lookup"><span data-stu-id="d673e-142">Application packages</span></span>](#application-packages)

## <a name="account"></a><span data-ttu-id="d673e-143">Účet</span><span class="sxs-lookup"><span data-stu-id="d673e-143">Account</span></span>
<span data-ttu-id="d673e-144">Účet Batch je jednoznačně identifikovaná entita v rámci hello služby Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-144">A Batch account is a uniquely identified entity within hello Batch service.</span></span> <span data-ttu-id="d673e-145">Veškeré zpracování je přidruženo k účtu Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-145">All processing is associated with a Batch account.</span></span>

<span data-ttu-id="d673e-146">Můžete vytvořit účet Azure Batch pomocí hello [portál Azure](batch-account-create-portal.md) nebo prostřednictvím kódu programu, například jako s hello [knihovny Batch Management .NET](batch-management-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-146">You can create an Azure Batch account using hello [Azure portal](batch-account-create-portal.md) or programmatically, such as with hello [Batch Management .NET library](batch-management-dotnet.md).</span></span> <span data-ttu-id="d673e-147">Při vytváření účtu hello můžete přidružit účet úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="d673e-147">When creating hello account, you can associate an Azure storage account.</span></span>

### <a name="pool-allocation-mode"></a><span data-ttu-id="d673e-148">Režim přidělování fondů</span><span class="sxs-lookup"><span data-stu-id="d673e-148">Pool allocation mode</span></span>

<span data-ttu-id="d673e-149">Při vytváření účtu Batch můžete zadat způsob přidělování [fondů](#pool) výpočetních uzlů.</span><span class="sxs-lookup"><span data-stu-id="d673e-149">When you create a Batch account, you can specify how [pools](#pool) of compute nodes are allocated.</span></span> <span data-ttu-id="d673e-150">Můžete zvolit tooallocate fondy počítačových uzlů v předplatném spravuje Azure Batch nebo kterou můžete přidělit v svého vlastního předplatného.</span><span class="sxs-lookup"><span data-stu-id="d673e-150">You can choose tooallocate pools of compute nodes in a subscription managed by Azure Batch, or you can allocate them in your own subscription.</span></span> <span data-ttu-id="d673e-151">Hello *režim přidělení fondu* vlastnost pro účet hello Určuje, kde jsou přiděleny fondy.</span><span class="sxs-lookup"><span data-stu-id="d673e-151">hello *pool allocation mode* property for hello account determines where pools are allocated.</span></span> 

<span data-ttu-id="d673e-152">toodecide, které fond toouse režimu přidělení, zvažte, které co nejlépe odpovídá vašemu scénáři:</span><span class="sxs-lookup"><span data-stu-id="d673e-152">toodecide which pool allocation mode toouse, consider which best fits your scenario:</span></span>

* <span data-ttu-id="d673e-153">**Služba batch**: Služba Batch je hello výchozí fond přidělení režim, ve kterém jsou přiděleny fondy pozadí hello v Azure Spravovat odběry.</span><span class="sxs-lookup"><span data-stu-id="d673e-153">**Batch Service**: Batch Service is hello default pool allocation mode, in which pools are allocated behind hello scenes in Azure-managed subscriptions.</span></span> <span data-ttu-id="d673e-154">Mějte na paměti tyto klíčové body o režimu přidělení fondu služby Batch hello:</span><span class="sxs-lookup"><span data-stu-id="d673e-154">Keep in mind these key points about hello Batch Service pool allocation mode:</span></span>

    - <span data-ttu-id="d673e-155">Režim přidělení fondu služby Batch Hello podporuje fondy cloudové služby a virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="d673e-155">hello Batch Service pool allocation mode supports both Cloud Service and Virtual Machine pools.</span></span>
    - <span data-ttu-id="d673e-156">Hello režim přidělení fondu služby Batch podporuje obě ověření pomocí sdíleného klíče nebo [ověřování Azure Active Directory](batch-aad-auth.md) (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="d673e-156">hello Batch Service pool allocation mode supports both shared key authentication or [Azure Active Directory authentication](batch-aad-auth.md) (Azure AD).</span></span> 
    - <span data-ttu-id="d673e-157">Můžete buď vyhrazené nebo nízkou prioritu výpočetních uzlů ve fondech přidělené s režimem přidělení fondu služby Batch hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-157">You can use either dedicated or low-priority compute nodes in pools allocated with hello Batch Service pool allocation mode.</span></span>
    - <span data-ttu-id="d673e-158">Režim přidělení fondu služby Batch hello nepoužívejte, pokud máte v plánu toocreate fondů virtuálních počítačů Azure z vlastní Image virtuálních počítačů, nebo pokud máte v plánu toouse virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="d673e-158">Do not use hello Batch Service pool allocation mode if you plan toocreate Azure virtual machine pools from custom VM images, or if you plan toouse a virtual network.</span></span> <span data-ttu-id="d673e-159">Vytvoření účtu s režimem přidělení fondu uživatele předplatné hello místo.</span><span class="sxs-lookup"><span data-stu-id="d673e-159">Create your account with hello User Subscription pool allocation mode instead.</span></span>
    - <span data-ttu-id="d673e-160">Virtuální počítač fondy zřízené v účet je vytvořen s režimem přidělení fondu služby Batch hello musí být vytvořeny z [Marketplace virtuálních počítačů Azure] [ vm_marketplace] bitové kopie.</span><span class="sxs-lookup"><span data-stu-id="d673e-160">Virtual Machine pools provisioned in an account created with hello Batch Service pool allocation mode must be created from [Azure Virtual Machines Marketplace][vm_marketplace] images.</span></span>

* <span data-ttu-id="d673e-161">**Uživatel předplatné**: V režimu přidělení fondu hello uživatele předplatného jsou fondy Batch přidělené v hello předplatné Azure, kde je vytvoření účtu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-161">**User subscription**: With hello User Subscription pool allocation mode, Batch pools are allocated in hello Azure subscription where hello account is created.</span></span> <span data-ttu-id="d673e-162">Mějte na paměti tyto klíčové body o hello uživatele předplatného fondu přidělení režimu:</span><span class="sxs-lookup"><span data-stu-id="d673e-162">Keep in mind these key points about hello User Subscription pool allocation mode:</span></span>
     
    - <span data-ttu-id="d673e-163">Hello uživatele předplatného fondu přidělení režim podporuje pouze fondy virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="d673e-163">hello User Subscription pool allocation mode supports only Virtual Machine pools.</span></span> <span data-ttu-id="d673e-164">Nepodporuje fondy cloudových služeb.</span><span class="sxs-lookup"><span data-stu-id="d673e-164">It does not support Cloud Services pools.</span></span>
    - <span data-ttu-id="d673e-165">toocreate virtuální počítač fondů z vlastní Image virtuálních počítačů nebo toouse virtuální síť s fondy virtuálního počítače, je nutné použít režim přidělení fondu hello předplatné uživatele.</span><span class="sxs-lookup"><span data-stu-id="d673e-165">toocreate Virtual Machine pools from custom VM images or toouse a virtual network with Virtual Machine pools, you must use hello User Subscription pool allocation mode.</span></span>  
    - <span data-ttu-id="d673e-166">Je nutné použít [ověřování Azure Active Directory](batch-aad-auth.md) s fondy, které jsou přiděleny v předplatném hello uživatele.</span><span class="sxs-lookup"><span data-stu-id="d673e-166">You must use [Azure Active Directory authentication](batch-aad-auth.md) with pools that are allocated in hello user subscription.</span></span> 
    - <span data-ttu-id="d673e-167">Musí nastavení vašeho účtu Batch klíče trezoru služby Azure, pokud je režim přidělení fondu hello nastavená tooUser předplatné.</span><span class="sxs-lookup"><span data-stu-id="d673e-167">You must set up an Azure key vault for your Batch account if hello pool allocation mode is set tooUser Subscription.</span></span> 
    - <span data-ttu-id="d673e-168">Můžete vytvořit pouze vyhrazený výpočetní uzly ve fondech v účet je vytvořen s režimem přidělení fondu uživatele předplatné hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-168">You can use only dedicated compute nodes in pools in an account created with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="d673e-169">Uzly s nízkou prioritou se nepodporují.</span><span class="sxs-lookup"><span data-stu-id="d673e-169">Low-priority nodes are not supported.</span></span>
    - <span data-ttu-id="d673e-170">Virtuální počítač fondy zřízené v účet s režimem přidělení fondu uživatele předplatné hello lze vytvořit buď z [Marketplace virtuálních počítačů Azure] [ vm_marketplace] bitové kopie, nebo z vlastní Image, kterou jste Zadejte.</span><span class="sxs-lookup"><span data-stu-id="d673e-170">Virtual Machine pools provisioned in an account with hello User Subscription pool allocation mode can be created either from [Azure Virtual Machines Marketplace][vm_marketplace] images, or from custom images that you provide.</span></span>

<span data-ttu-id="d673e-171">Hello následující tabulka porovnává hello služby Batch a uživatel předplatného fondu přidělení režimy.</span><span class="sxs-lookup"><span data-stu-id="d673e-171">hello following table compares hello Batch Service and User Subscription pool allocation modes.</span></span>

| <span data-ttu-id="d673e-172">**Režim přidělování fondů**</span><span class="sxs-lookup"><span data-stu-id="d673e-172">**Pool allocation mode**</span></span>                 | <span data-ttu-id="d673e-173">**Služba Batch**</span><span class="sxs-lookup"><span data-stu-id="d673e-173">**Batch Service**</span></span>                                                                                       | <span data-ttu-id="d673e-174">**Předplatné uživatele**</span><span class="sxs-lookup"><span data-stu-id="d673e-174">**User Subscription**</span></span>                                                              |
|-------------------------------------------|---------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="d673e-175">**Fondy se přidělují v**</span><span class="sxs-lookup"><span data-stu-id="d673e-175">**Pools are allocated in**</span></span>               | <span data-ttu-id="d673e-176">Předplatné spravované Azure</span><span class="sxs-lookup"><span data-stu-id="d673e-176">An Azure-managed subscription</span></span>                                                                           | <span data-ttu-id="d673e-177">Hello uživatele předplatné, ve které hello Batch je vytvořen účet</span><span class="sxs-lookup"><span data-stu-id="d673e-177">hello user subscription in which hello Batch account is created</span></span>                        |
| <span data-ttu-id="d673e-178">**Podporované konfigurace**</span><span class="sxs-lookup"><span data-stu-id="d673e-178">**Supported configurations**</span></span>             | <ul><li><span data-ttu-id="d673e-179">Konfigurace cloudové služby</span><span class="sxs-lookup"><span data-stu-id="d673e-179">Cloud Service Configuration</span></span></li><li><span data-ttu-id="d673e-180">Konfigurace virtuálního počítače (Linux a Windows)</span><span class="sxs-lookup"><span data-stu-id="d673e-180">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul> | <ul><li><span data-ttu-id="d673e-181">Konfigurace virtuálního počítače (Linux a Windows)</span><span class="sxs-lookup"><span data-stu-id="d673e-181">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul>                |
| <span data-ttu-id="d673e-182">**Podporované image virtuálních počítačů**</span><span class="sxs-lookup"><span data-stu-id="d673e-182">**Supported VM images**</span></span>                  | <ul><li><span data-ttu-id="d673e-183">Image z webu Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="d673e-183">Azure Marketplace images</span></span></li></ul>                                                              | <ul><li><span data-ttu-id="d673e-184">Image z webu Azure Marketplace</span><span class="sxs-lookup"><span data-stu-id="d673e-184">Azure Marketplace images</span></span></li><li><span data-ttu-id="d673e-185">Vlastní image</span><span class="sxs-lookup"><span data-stu-id="d673e-185">Custom images</span></span></li></ul>                   |
| <span data-ttu-id="d673e-186">**Podporované typy výpočetních uzlů**</span><span class="sxs-lookup"><span data-stu-id="d673e-186">**Supported compute node types**</span></span>         | <ul><li><span data-ttu-id="d673e-187">Vyhrazené uzly</span><span class="sxs-lookup"><span data-stu-id="d673e-187">Dedicated nodes</span></span></li><li><span data-ttu-id="d673e-188">Uzly s nízkou prioritou</span><span class="sxs-lookup"><span data-stu-id="d673e-188">Low-priority nodes</span></span></li></ul>                                            | <ul><li><span data-ttu-id="d673e-189">Vyhrazené uzly</span><span class="sxs-lookup"><span data-stu-id="d673e-189">Dedicated nodes</span></span></li></ul>                                                  |
| <span data-ttu-id="d673e-190">**Podporované metody ověřování**</span><span class="sxs-lookup"><span data-stu-id="d673e-190">**Supported authentication**</span></span>             | <ul><li><span data-ttu-id="d673e-191">Sdílený klíč</span><span class="sxs-lookup"><span data-stu-id="d673e-191">Shared Key</span></span></li><li><span data-ttu-id="d673e-192">Azure AD</span><span class="sxs-lookup"><span data-stu-id="d673e-192">Azure AD</span></span></li></ul>                                                           | <ul><li><span data-ttu-id="d673e-193">Azure AD</span><span class="sxs-lookup"><span data-stu-id="d673e-193">Azure AD</span></span></li></ul>                                                         |
| <span data-ttu-id="d673e-194">**Vyžaduje se služba Azure Key Vault**</span><span class="sxs-lookup"><span data-stu-id="d673e-194">**Azure Key Vault required**</span></span>             | <span data-ttu-id="d673e-195">Ne</span><span class="sxs-lookup"><span data-stu-id="d673e-195">No</span></span>                                                                                                      | <span data-ttu-id="d673e-196">Ano</span><span class="sxs-lookup"><span data-stu-id="d673e-196">Yes</span></span>                                                                                |
| <span data-ttu-id="d673e-197">**Kvóta pro jádra**</span><span class="sxs-lookup"><span data-stu-id="d673e-197">**Core quota**</span></span>                           | <span data-ttu-id="d673e-198">Určuje se podle kvóty pro jádra služby Batch</span><span class="sxs-lookup"><span data-stu-id="d673e-198">Determined by Batch core quota</span></span>                                                                          | <span data-ttu-id="d673e-199">Určuje se podle kvóty pro jádra předplatného</span><span class="sxs-lookup"><span data-stu-id="d673e-199">Determined by subscription core quota</span></span>                                              |
| <span data-ttu-id="d673e-200">**Podpora virtuální sítě Azure**</span><span class="sxs-lookup"><span data-stu-id="d673e-200">**Azure Virtual Network (Vnet) support**</span></span> | <span data-ttu-id="d673e-201">Fondy, které jsou vytvořené pomocí hello konfigurace cloudové služby</span><span class="sxs-lookup"><span data-stu-id="d673e-201">Pools created with hello Cloud Service Configuration</span></span>                                                      | <span data-ttu-id="d673e-202">Fondy, které jsou vytvořené pomocí hello konfigurace virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="d673e-202">Pools created with hello Virtual Machine Configuration</span></span>                               |
| <span data-ttu-id="d673e-203">**Podporovaný model nasazení virtuální sítě**</span><span class="sxs-lookup"><span data-stu-id="d673e-203">**Vnet deployment model supported**</span></span>      | <span data-ttu-id="d673e-204">Virtuální sítě vytvořené pomocí modelu nasazení Classic</span><span class="sxs-lookup"><span data-stu-id="d673e-204">Vnets created with classic deployment model</span></span>                                                             | <span data-ttu-id="d673e-205">Virtuální sítě vytvořené pomocí modelu nasazení classic hello nebo Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="d673e-205">Vnets created with either hello classic deployment model or Azure   Resource Manager</span></span> |

## <a name="azure-storage-account"></a><span data-ttu-id="d673e-206">Účet služby Azure Storage</span><span class="sxs-lookup"><span data-stu-id="d673e-206">Azure Storage account</span></span>

<span data-ttu-id="d673e-207">Většina řešení Batch pro ukládání souborů prostředků a výstupních souborů používá službu Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="d673e-207">Most Batch solutions use Azure Storage for storing resource files and output files.</span></span>  

<span data-ttu-id="d673e-208">Batch aktuálně podporuje pouze typ účtu úložiště pro obecné účely hello, jak je popsáno v kroku 5 tohoto [vytvořit účet úložiště](../storage/common/storage-create-storage-account.md#create-a-storage-account) v [účty Azure storage](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-208">Batch currently supports only hello general-purpose storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span> <span data-ttu-id="d673e-209">Úkoly služby Batch (včetně standardních úkolů, spouštěcích úkolů, úkolů přípravy úloh a úkolů uvolnění úloh) musí určovat soubory prostředků, které jsou umístěné jenom v účtech úložiště pro obecné účely.</span><span class="sxs-lookup"><span data-stu-id="d673e-209">Your Batch tasks (including standard tasks, start tasks, job preparation tasks, and job release tasks) must specify resource files that reside in general-purpose storage accounts.</span></span>


## <a name="compute-node"></a><span data-ttu-id="d673e-210">Výpočetní uzel</span><span class="sxs-lookup"><span data-stu-id="d673e-210">Compute node</span></span>
<span data-ttu-id="d673e-211">Výpočetní uzel je virtuálních počítačů (VM) Azure nebo Cloudová služba virtuálního počítače, který je vyhrazený tooprocessing část zatížení vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="d673e-211">A compute node is an Azure virtual machine (VM) or cloud service VM that is dedicated tooprocessing a portion of your application's workload.</span></span> <span data-ttu-id="d673e-212">Hello velikost uzlu určuje hello počet jader procesoru, kapacita paměti a velikost místního souboru systému, který je přidělen toohello uzlu.</span><span class="sxs-lookup"><span data-stu-id="d673e-212">hello size of a node determines hello number of CPU cores, memory capacity, and local file system size that is allocated toohello node.</span></span> <span data-ttu-id="d673e-213">Můžete vytvářet fondy uzlů Windows nebo Linux pomocí Azure Cloud Services, bitové kopie z hello [Marketplace virtuálních počítačů Azure][vm_marketplace], nebo vlastní Image, které můžete připravit.</span><span class="sxs-lookup"><span data-stu-id="d673e-213">You can create pools of Windows or Linux nodes by using Azure Cloud Services, images from hello [Azure Virtual Machines Marketplace][vm_marketplace], or custom images that you prepare.</span></span> <span data-ttu-id="d673e-214">Viz následující hello [fondu](#pool) části Další informace o těchto možnostech.</span><span class="sxs-lookup"><span data-stu-id="d673e-214">See hello following [Pool](#pool) section for more information on these options.</span></span>

<span data-ttu-id="d673e-215">Uzly mohou spouštět všechny spustitelný soubor nebo skript, který podporuje prostředí operačního systému hello hello uzlu.</span><span class="sxs-lookup"><span data-stu-id="d673e-215">Nodes can run any executable or script that is supported by hello operating system environment of hello node.</span></span> <span data-ttu-id="d673e-216">To zahrnuje soubory s příponami \*.exe, \*cmd, \*.bat a skripty PowerShellu pro Windows a binární soubory, shell a Python skripty pro Linux.</span><span class="sxs-lookup"><span data-stu-id="d673e-216">This includes \*.exe, \*.cmd, \*.bat and PowerShell scripts for Windows--and binaries, shell, and Python scripts for Linux.</span></span>

<span data-ttu-id="d673e-217">Součástí všech výpočetních uzlů ve službě Batch také jsou:</span><span class="sxs-lookup"><span data-stu-id="d673e-217">All compute nodes in Batch also include:</span></span>

* <span data-ttu-id="d673e-218">Standardní [struktura složek](#files-and-directories) a přidružené [proměnné prostředí](#environment-settings-for-tasks), které jsou úkolu k dispozici.</span><span class="sxs-lookup"><span data-stu-id="d673e-218">A standard [folder structure](#files-and-directories) and associated [environment variables](#environment-settings-for-tasks) that are available for reference by tasks.</span></span>
* <span data-ttu-id="d673e-219">**Brány firewall** nastavení, které jsou nakonfigurované toocontrol přístup.</span><span class="sxs-lookup"><span data-stu-id="d673e-219">**Firewall** settings that are configured toocontrol access.</span></span>
* <span data-ttu-id="d673e-220">[Vzdálený přístup](#connecting-to-compute-nodes) tooboth systému Windows (protokol RDP (Remote Desktop)) a uzly Linux (Secure Shell (SSH)).</span><span class="sxs-lookup"><span data-stu-id="d673e-220">[Remote access](#connecting-to-compute-nodes) tooboth Windows (Remote Desktop Protocol (RDP)) and Linux (Secure Shell (SSH)) nodes.</span></span>

## <a name="pool"></a><span data-ttu-id="d673e-221">Fond</span><span class="sxs-lookup"><span data-stu-id="d673e-221">Pool</span></span>
<span data-ttu-id="d673e-222">Fond je kolekce uzlů, na kterých běží příslušná aplikace.</span><span class="sxs-lookup"><span data-stu-id="d673e-222">A pool is a collection of nodes that your application runs on.</span></span> <span data-ttu-id="d673e-223">Hello fondu možné vytvářet ručně nebo automaticky pomocí hello služby Batch při zadání toobe pracovní hello provést.</span><span class="sxs-lookup"><span data-stu-id="d673e-223">hello pool can be created manually by you, or automatically by hello Batch service when you specify hello work toobe done.</span></span> <span data-ttu-id="d673e-224">Můžete vytvořit a spravovat fond, který splňuje požadavky na prostředky hello vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="d673e-224">You can create and manage a pool that meets hello resource requirements of your application.</span></span> <span data-ttu-id="d673e-225">Fond můžete používat jenom hello dávkový účet, ve kterém byla vytvořena.</span><span class="sxs-lookup"><span data-stu-id="d673e-225">A pool can be used only by hello Batch account in which it was created.</span></span> <span data-ttu-id="d673e-226">Účet Batch může mít více než jeden fond.</span><span class="sxs-lookup"><span data-stu-id="d673e-226">A Batch account can have more than one pool.</span></span>

<span data-ttu-id="d673e-227">Fondy Azure Batch sestavení nad hello základní výpočetní platformě Azure.</span><span class="sxs-lookup"><span data-stu-id="d673e-227">Azure Batch pools build on top of hello core Azure compute platform.</span></span> <span data-ttu-id="d673e-228">Poskytují rozsáhlé přidělení, instalaci aplikací, distribuci dat, sledování stavu a flexibilní úpravy hello počet výpočetních uzlů v rámci fondu ([škálování](#scaling-compute-resources)).</span><span class="sxs-lookup"><span data-stu-id="d673e-228">They provide large-scale allocation, application installation, data distribution, health monitoring, and flexible adjustment of hello number of compute nodes within a pool ([scaling](#scaling-compute-resources)).</span></span>

<span data-ttu-id="d673e-229">Každý uzel, který je přidán tooa fondu je přiřazen jedinečný název a IP adresu.</span><span class="sxs-lookup"><span data-stu-id="d673e-229">Every node that is added tooa pool is assigned a unique name and IP address.</span></span> <span data-ttu-id="d673e-230">Pokud uzel je odebrán z fondu, veškeré změny provedené toohello operačním systému nebo souborech budou ztraceny a jeho název a IP adresy jsou uvolněny pro pozdější použití.</span><span class="sxs-lookup"><span data-stu-id="d673e-230">When a node is removed from a pool, any changes that are made toohello operating system or files are lost, and its name and IP address are released for future use.</span></span> <span data-ttu-id="d673e-231">Jestliže uzel opustí fond, je jeho životnost ukončena.</span><span class="sxs-lookup"><span data-stu-id="d673e-231">When a node leaves a pool, its lifetime is over.</span></span>

<span data-ttu-id="d673e-232">Při vytváření fondu můžete zadat následující atributy hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-232">When you create a pool, you can specify hello following attributes.</span></span> <span data-ttu-id="d673e-233">Některá nastavení se liší v závislosti na režimu přidělení fondu hello hello Batch [účet](#account):</span><span class="sxs-lookup"><span data-stu-id="d673e-233">Some settings differ, depending on hello pool allocation mode of hello Batch [account](#account):</span></span>

- <span data-ttu-id="d673e-234">Operační systém a verze výpočetního uzlu</span><span class="sxs-lookup"><span data-stu-id="d673e-234">Compute node operating system and version</span></span>
- <span data-ttu-id="d673e-235">Typ výpočetního uzlu a cílový počet uzlů</span><span class="sxs-lookup"><span data-stu-id="d673e-235">Compute node type and target number of nodes</span></span>
- <span data-ttu-id="d673e-236">Velikost výpočetních uzlů hello</span><span class="sxs-lookup"><span data-stu-id="d673e-236">Size of hello compute nodes</span></span>
- <span data-ttu-id="d673e-237">Zásady škálování</span><span class="sxs-lookup"><span data-stu-id="d673e-237">Scaling policy</span></span>
- <span data-ttu-id="d673e-238">Zásady plánování úkolů</span><span class="sxs-lookup"><span data-stu-id="d673e-238">Task scheduling policy</span></span>
- <span data-ttu-id="d673e-239">Stav komunikace pro výpočetní uzly</span><span class="sxs-lookup"><span data-stu-id="d673e-239">Communication status for compute nodes</span></span>
- <span data-ttu-id="d673e-240">Spouštěcí úkoly pro výpočetní uzly</span><span class="sxs-lookup"><span data-stu-id="d673e-240">Start tasks for compute nodes</span></span>
- <span data-ttu-id="d673e-241">Balíčky aplikací</span><span class="sxs-lookup"><span data-stu-id="d673e-241">Application packages</span></span>
- <span data-ttu-id="d673e-242">Konfigurace sítě</span><span class="sxs-lookup"><span data-stu-id="d673e-242">Network configuration</span></span>

<span data-ttu-id="d673e-243">Každé z těchto nastavení je podrobně popsaná v další v následující části hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-243">Each of these settings is described in more detail in hello following sections.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d673e-244">Vytvoření s režimem přidělení fondu služby Batch hello účty batch mají výchozí kvótu, která omezuje hello počet jader na účtu Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-244">Batch accounts created with hello Batch Service pool allocation mode have a default quota that limits hello number of cores in a Batch account.</span></span> <span data-ttu-id="d673e-245">Hello počet jader odpovídá toohello počet výpočetních uzlů.</span><span class="sxs-lookup"><span data-stu-id="d673e-245">hello number of cores corresponds toohello number of compute nodes.</span></span> <span data-ttu-id="d673e-246">Můžete najít hello výchozí kvóty a pokyny o tom, příliš[navýšení kvóty](batch-quota-limit.md#increase-a-quota) v [kvóty a omezení pro hello služby Azure Batch](batch-quota-limit.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-246">You can find hello default quotas and instructions on how too[increase a quota](batch-quota-limit.md#increase-a-quota) in [Quotas and limits for hello Azure Batch service](batch-quota-limit.md).</span></span> <span data-ttu-id="d673e-247">Pokud váš fond nedosahuje jeho cílový počet uzlů, může být kvóta na jádra hello hello důvod.</span><span class="sxs-lookup"><span data-stu-id="d673e-247">If your pool is not achieving its target number of nodes, hello core quota might be hello reason.</span></span>
>
><span data-ttu-id="d673e-248">Účty batch, které jsou vytvořené pomocí režim přidělení fondu hello uživatele předplatné není sledovat hello kvóty služby Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-248">Batch accounts created with hello User Subscription pool allocation mode do not observe hello Batch service quotas.</span></span> <span data-ttu-id="d673e-249">Místo toho sdílet v hello základní kvóta pro hello zadaný odběr.</span><span class="sxs-lookup"><span data-stu-id="d673e-249">Instead, they share in hello core quota for hello specified subscription.</span></span> <span data-ttu-id="d673e-250">Další informace najdete v tématu [Omezení virtuálních počítačů](../azure-subscription-service-limits.md#virtual-machines-limits) v tématu [Limity, kvóty a omezení předplatného a služeb Azure](../azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-250">For more information, see [Virtual Machines limits](../azure-subscription-service-limits.md#virtual-machines-limits) in [Azure subscription and service limits, quotas, and constraints](../azure-subscription-service-limits.md).</span></span>
>
>

### <a name="compute-node-operating-system-and-version"></a><span data-ttu-id="d673e-251">Operační systém a verze výpočetního uzlu</span><span class="sxs-lookup"><span data-stu-id="d673e-251">Compute node operating system and version</span></span>

<span data-ttu-id="d673e-252">Při vytváření fondu služby Batch, můžete zadat konfiguraci pro virtuální počítač Azure hello a hello typ operačního systému, který má toorun na každém výpočetním uzlu ve fondu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-252">When you create a Batch pool, you can specify hello Azure virtual machine configuration and hello type of operating system you want toorun on each compute node in hello pool.</span></span> <span data-ttu-id="d673e-253">jsou dva typy Hello konfigurací, které jsou k dispozici v dávce:</span><span class="sxs-lookup"><span data-stu-id="d673e-253">hello two types of configurations available in Batch are:</span></span>

- <span data-ttu-id="d673e-254">Hello **konfigurace virtuálního počítače**, která určuje, že fond hello se skládá z virtuálních počítačů Azure.</span><span class="sxs-lookup"><span data-stu-id="d673e-254">hello **Virtual Machine Configuration**, which specifies that hello pool is comprised of Azure virtual machines.</span></span> <span data-ttu-id="d673e-255">Tyto virtuální počítače mohou být vytvořené na základě image Linuxu nebo Windows.</span><span class="sxs-lookup"><span data-stu-id="d673e-255">These VMs may be created from either Linux or Windows images.</span></span> 

    <span data-ttu-id="d673e-256">Když vytvoříte fond podle hello konfigurace virtuálního počítače, je nutné zadat nejen hello velikost hello uzlů a hello zdroj obrázků použitých toocreate hello je, ale také hello **odkaz na obrázek virtuálního počítače** a hello Batch **uzlu agenta SKU** toobe nainstalované na uzlech hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-256">When you create a pool based on hello Virtual Machine Configuration, you must specify not only hello size of hello nodes and hello source of hello images used toocreate them, but also hello **virtual machine image reference** and hello Batch **node agent SKU** toobe installed on hello nodes.</span></span> <span data-ttu-id="d673e-257">Další informace o zadávání těchto vlastností fondů najdete v článku [Zřízení linuxových výpočetních uzlů ve fondech Azure Batch](batch-linux-nodes.md) </span><span class="sxs-lookup"><span data-stu-id="d673e-257">For more information about specifying these pool properties, see [Provision Linux compute nodes in Azure Batch pools](batch-linux-nodes.md).</span></span>

- <span data-ttu-id="d673e-258">Hello **konfigurace cloudových služeb**, která určuje, že fond hello se skládá z uzlů Azure Cloud Services.</span><span class="sxs-lookup"><span data-stu-id="d673e-258">hello **Cloud Services Configuration**, which specifies that hello pool is comprised of Azure Cloud Services nodes.</span></span> <span data-ttu-id="d673e-259">Služba Cloud Services poskytuje *jenom* výpočetní uzly Windows.</span><span class="sxs-lookup"><span data-stu-id="d673e-259">Cloud Services provide Windows compute nodes *only*.</span></span>

    <span data-ttu-id="d673e-260">K dispozici operační systémy pro fondy konfigurace cloudových služeb, jsou uvedeny v hello [verze hostovaného operačního systému Azure a kompatibilních sad SDK](../cloud-services/cloud-services-guestos-update-matrix.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-260">Available operating systems for Cloud Services Configuration pools are listed in hello [Azure Guest OS releases and SDK compatibility matrix](../cloud-services/cloud-services-guestos-update-matrix.md).</span></span> <span data-ttu-id="d673e-261">Když vytvoříte fond, který obsahuje uzly cloudové služby, je nutné velikost uzlu hello toospecify a jeho *operačních systémů*.</span><span class="sxs-lookup"><span data-stu-id="d673e-261">When you create a pool that contains Cloud Services nodes, you need toospecify hello node size and its *OS Family*.</span></span> <span data-ttu-id="d673e-262">Cloudové služby jsou nasazené tooAzure rychleji než virtuální počítače se systémem Windows.</span><span class="sxs-lookup"><span data-stu-id="d673e-262">Cloud Services are deployed tooAzure more quickly than virtual machines running Windows.</span></span> <span data-ttu-id="d673e-263">Pokud chcete fondy výpočetních uzlů Windows, můžete zjistit, že služba Cloud Services představuje výhodu z hlediska času nasazení.</span><span class="sxs-lookup"><span data-stu-id="d673e-263">If you want pools of Windows compute nodes, you may find that Cloud Services provide a performance benefit in terms of deployment time.</span></span>

    * <span data-ttu-id="d673e-264">Hello *operačních systémů* také určuje, jaké verze rozhraní .NET jsou nainstalovány s hello operačního systému.</span><span class="sxs-lookup"><span data-stu-id="d673e-264">hello *OS Family* also determines which versions of .NET are installed with hello OS.</span></span>
    * <span data-ttu-id="d673e-265">Jako u rolí pracovního procesu v rámci cloudové služby, můžete zadat *verze operačního systému* (Další informace o rolích pracovního procesu naleznete v tématu hello [o cloudové služby](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) část v hello [cloudové služby Přehled](../cloud-services/cloud-services-choose-me.md)).</span><span class="sxs-lookup"><span data-stu-id="d673e-265">As with worker roles within Cloud Services, you can specify an *OS Version* (for more information on worker roles, see hello [Tell me about cloud services](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) section in hello [Cloud Services overview](../cloud-services/cloud-services-choose-me.md)).</span></span>
    * <span data-ttu-id="d673e-266">Jako u rolí pracovního procesu, doporučujeme, že zadáváte `*` pro hello *verze operačního systému* tak, aby hello uzly budou automaticky upgradovány a neexistuje žádná práce potřebné toocater toonewly vydané verze.</span><span class="sxs-lookup"><span data-stu-id="d673e-266">As with worker roles, we recommend that you specify `*` for hello *OS Version* so that hello nodes are automatically upgraded, and there is no work required toocater toonewly released versions.</span></span> <span data-ttu-id="d673e-267">Hello případem primárního použití pro výběr konkrétní verze operačního systému je tooensure kompatibility aplikací, což umožňuje testování toobe provést před povolením toobe verze hello aktualizovat zpětné kompatibility.</span><span class="sxs-lookup"><span data-stu-id="d673e-267">hello primary use case for selecting a specific OS version is tooensure application compatibility, which allows backward compatibility testing toobe performed before allowing hello version toobe updated.</span></span> <span data-ttu-id="d673e-268">Po ověření, hello *verze operačního systému* hello fond může být aktualizována a hello novou bitovou kopii operačního systému můžete instalovat – všechny spuštěné úlohy jsou přerušena a zařazena.</span><span class="sxs-lookup"><span data-stu-id="d673e-268">After validation, hello *OS Version* for hello pool can be updated and hello new OS image can be installed--any running tasks are interrupted and requeued.</span></span>

<span data-ttu-id="d673e-269">Když vytvoříte fond, budete potřebovat tooselect hello odpovídající **nodeAgentSkuId**, v závislosti na hello OS hello základní image vaší virtuálního pevného disku.</span><span class="sxs-lookup"><span data-stu-id="d673e-269">When you create a pool, you need tooselect hello appropriate **nodeAgentSkuId**, depending on hello OS of hello base image of your VHD.</span></span> <span data-ttu-id="d673e-270">Získáte mapování tootheir ID SKU agenta uzlu k dispozici odkazy na bitovou kopii operačního systému tak, že volání hello [seznamu podporované uzlu agenta SKU](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) operaci.</span><span class="sxs-lookup"><span data-stu-id="d673e-270">You can get a mapping of available node agent SKU ID's tootheir OS Image references by calling hello [List Supported Node Agent SKUs](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) operation.</span></span>

<span data-ttu-id="d673e-271">V tématu hello [účet](#account) části informace o nastavení režimu přidělení fondu hello při vytváření účtu Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-271">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

#### <a name="custom-images-for-virtual-machine-pools"></a><span data-ttu-id="d673e-272">Vlastní image pro fondy virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="d673e-272">Custom images for Virtual Machine pools</span></span>

<span data-ttu-id="d673e-273">toouse vlastní image virtuálního počítače fondy tooprovision, vytvoření účtu Batch s režimem přidělení fondu uživatele předplatné hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-273">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="d673e-274">Při tomto režimu jsou fondy Batch přidělí hello předplatné, které se nachází hello účet.</span><span class="sxs-lookup"><span data-stu-id="d673e-274">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="d673e-275">V tématu hello [účet](#account) části informace o nastavení režimu přidělení fondu hello při vytváření účtu Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-275">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

<span data-ttu-id="d673e-276">toouse vlastní image, budete potřebovat tooprepare hello image podle generalizací ho.</span><span class="sxs-lookup"><span data-stu-id="d673e-276">toouse a custom image, you'll need tooprepare hello image by generalizing it.</span></span> <span data-ttu-id="d673e-277">Informace o přípravě vlastních imagí Linux z virtuálních počítačů Azure najdete v tématu [zaznamenat virtuální počítač Azure s Linuxem toouse jako šablona](../virtual-machines/linux/capture-image-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-277">For information about preparing custom Linux images from Azure VMs, see [Capture an Azure Linux VM toouse as a template](../virtual-machines/linux/capture-image-nodejs.md).</span></span> <span data-ttu-id="d673e-278">Informace o přípravě vlastních imagí Windows z virtuálních počítačů Azure najdete v tématu [Vytváření vlastních imagí virtuálních počítačů pomocí Azure PowerShellu](../virtual-machines/windows/tutorial-custom-images.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-278">For information about preparing custom Windows images from Azure VMs, see [Create custom VM images with Azure PowerShell](../virtual-machines/windows/tutorial-custom-images.md).</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="d673e-279">Při přípravě vlastní image, mějte na paměti hello následující:</span><span class="sxs-lookup"><span data-stu-id="d673e-279">When preparing your custom image, keep in mind hello following:</span></span>
> - <span data-ttu-id="d673e-280">Ujistěte se, hello základní OS bitovou kopii pomocí tooprovision fondech Batch nemá žádné předem nenainstalovali rozšíření Azure, jako je například rozšíření vlastních skriptů hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-280">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="d673e-281">Pokud hello image obsahuje předem nainstalovaná rozšíření, Azure setkat s problémy, které nasazení hello virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="d673e-281">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="d673e-282">Ujistěte se, že hello základní image OS, které zadáte, že používá hello výchozí dočasné jednotce jako hello agenta uzlu Batch aktuálně očekává hello výchozí dočasné jednotce.</span><span class="sxs-lookup"><span data-stu-id="d673e-282">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="d673e-283">toocreate fondu konfigurace virtuálního počítače pomocí vlastní image, budete potřebovat jeden nebo více standardní Azure Storage účty toostore vlastních bitových kopií virtuálního pevného disku.</span><span class="sxs-lookup"><span data-stu-id="d673e-283">toocreate a Virtual Machine Configuration pool using a custom image, you'll need one or more standard Azure Storage accounts toostore your custom VHD images.</span></span> <span data-ttu-id="d673e-284">Vlastní image se ukládají jako objekty blob.</span><span class="sxs-lookup"><span data-stu-id="d673e-284">Custom images are stored as blobs.</span></span> <span data-ttu-id="d673e-285">tooreference vaše vlastní Image při vytváření fondu, zadejte hello identifikátory objektů BLOB VHD hello vlastní image pro hello [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) vlastnost hello [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) vlastnost.</span><span class="sxs-lookup"><span data-stu-id="d673e-285">tooreference your custom images when you create a pool, specify hello URIs of hello custom image VHD blobs for hello [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) property of hello [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) property.</span></span>

<span data-ttu-id="d673e-286">Ujistěte se, že splňují vaše účty úložiště hello následující kritéria:</span><span class="sxs-lookup"><span data-stu-id="d673e-286">Make sure that your storage accounts meet hello following criteria:</span></span>   

- <span data-ttu-id="d673e-287">Hello účty úložiště objektů BLOB VHD vlastní image obsahující hello potřebovat toobe v hello stejného předplatného jako hello účtu Batch (hello uživatele předplatné).</span><span class="sxs-lookup"><span data-stu-id="d673e-287">hello storage accounts containing hello custom image VHD blobs need toobe in hello same subscription as hello Batch account (hello user subscription).</span></span>
- <span data-ttu-id="d673e-288">Hello zadané účty úložiště potřebovat toobe v hello stejné oblasti jako hello účtu Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-288">hello specified storage accounts need toobe in hello same region as hello Batch account.</span></span>
- <span data-ttu-id="d673e-289">V současnosti jsou podporované jenom účty úložiště úrovně Standard pro obecné účely.</span><span class="sxs-lookup"><span data-stu-id="d673e-289">Only standard general-purpose storage accounts are currently supported.</span></span> <span data-ttu-id="d673e-290">Azure Premium storage bude v budoucí hello podporovány.</span><span class="sxs-lookup"><span data-stu-id="d673e-290">Azure Premium storage will be supported in hello future.</span></span>
- <span data-ttu-id="d673e-291">Můžete zadat jeden účet úložiště s několika vlastními objekty blob VHD, nebo několik účtů úložiště, z nichž každý má jeden objekt blob.</span><span class="sxs-lookup"><span data-stu-id="d673e-291">You can specify one storage account with multiple custom VHD blobs or multiple storage accounts each having a single blob.</span></span> <span data-ttu-id="d673e-292">Doporučujeme toouse účtů více úložiště tooget lepší výkon.</span><span class="sxs-lookup"><span data-stu-id="d673e-292">We recommend you toouse multiple storage accounts tooget a better performance.</span></span>
- <span data-ttu-id="d673e-293">Jeden objekt blob VHD jedinečný vlastní image může podporovat až too40, které instance virtuálního počítače s Linuxem nebo 20 instance virtuálního počítače s Windows.</span><span class="sxs-lookup"><span data-stu-id="d673e-293">One unique custom image VHD blob can support up too40 Linux VM instances or 20 Windows VM instances.</span></span> <span data-ttu-id="d673e-294">Budete potřebovat toocreate kopie hello virtuálního pevného disku blob toocreate fondy s více virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="d673e-294">You will need toocreate copies of hello VHD blob toocreate pools with more VMs.</span></span> <span data-ttu-id="d673e-295">Například fond s 200 virtuálních počítačů Windows potřebuje 10 jedinečný BLOB VHD zadané pro hello **osDisk** vlastnost.</span><span class="sxs-lookup"><span data-stu-id="d673e-295">For example, a pool with 200 Windows VMs needs 10 unique VHD blobs specified for hello **osDisk** property.</span></span>

<span data-ttu-id="d673e-296">toocreate fond z vlastní image pomocí hello portálu Azure:</span><span class="sxs-lookup"><span data-stu-id="d673e-296">toocreate a pool from a custom image using hello Azure portal:</span></span>

1. <span data-ttu-id="d673e-297">Přejděte tooyour účtu Batch na portálu Azure hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-297">Navigate tooyour Batch account in hello Azure portal.</span></span>
2. <span data-ttu-id="d673e-298">Na hello **nastavení** okně, vyberte hello **fondy** položku nabídky.</span><span class="sxs-lookup"><span data-stu-id="d673e-298">On hello **Settings** blade, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="d673e-299">Na hello **fondy** okně, vyberte hello **přidat** příkaz; hello **přidat fond** zobrazí se okno.</span><span class="sxs-lookup"><span data-stu-id="d673e-299">On hello **Pools** blade, select hello **Add** command; hello **Add pool** blade will be displayed.</span></span>
4. <span data-ttu-id="d673e-300">Vyberte **vlastní obrázek (Linux nebo Windows)** z hello **typ obrázku** rozevíracího seznamu.</span><span class="sxs-lookup"><span data-stu-id="d673e-300">Select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="d673e-301">Hello portálu se zobrazí hello **vlastní Image** výběr.</span><span class="sxs-lookup"><span data-stu-id="d673e-301">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="d673e-302">Vyberte jeden nebo více virtuálních pevných disků ze hello stejné kontejneru a klikněte na tlačítko hello **vyberte** tlačítko.</span><span class="sxs-lookup"><span data-stu-id="d673e-302">Choose one or more VHDs from hello same container and click hello **Select** button.</span></span> 
    <span data-ttu-id="d673e-303">Podpora pro více virtuálních pevných disků ze jiným účtům úložiště a různé kontejnery bude přidána v budoucí hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-303">Support for multiple VHDs from different storage accounts and different containers will be added in hello future.</span></span>
5. <span data-ttu-id="d673e-304">Vyberte správný hello **vydavatele nebo nabídka nebo Sku** pro vlastní virtuální pevné disky, vyberte požadovaného hello **ukládání do mezipaměti** režimu a potom výplně ve všech dalších parametrů pro fond hello hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-304">Select hello correct **Publisher/Offer/Sku** for your custom VHDs, select hello desired **Caching** mode, then fill in all hello other parameters for hello pool.</span></span>
6. <span data-ttu-id="d673e-305">toocheck Pokud fond je založená na vlastní image, najdete v části hello **operačního systému** vlastnost v hello prostředků souhrnné části hello **fondu** okno.</span><span class="sxs-lookup"><span data-stu-id="d673e-305">toocheck if a pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** blade.</span></span> <span data-ttu-id="d673e-306">Hello hodnota této vlastnosti musí být **image virtuálního počítače vlastní**.</span><span class="sxs-lookup"><span data-stu-id="d673e-306">hello value of this property should be **Custom VM image**.</span></span>
7. <span data-ttu-id="d673e-307">Zobrazí se všechny vlastní VHD přidružený fond na hello fondu **vlastnosti** okno.</span><span class="sxs-lookup"><span data-stu-id="d673e-307">All custom VHDs associated with a pool are displayed on hello pool's **Properties** blade.</span></span>

### <a name="compute-node-type-and-target-number-of-nodes"></a><span data-ttu-id="d673e-308">Typ výpočetního uzlu a cílový počet uzlů</span><span class="sxs-lookup"><span data-stu-id="d673e-308">Compute node type and target number of nodes</span></span>

<span data-ttu-id="d673e-309">Při vytváření fondu můžete zadat typy, které výpočetní uzly mají a hello cílovým počtem pro každý.</span><span class="sxs-lookup"><span data-stu-id="d673e-309">When you create a pool, you can specify which types of compute nodes you want and hello target number for each.</span></span> <span data-ttu-id="d673e-310">Hello dva typy výpočetní uzly jsou:</span><span class="sxs-lookup"><span data-stu-id="d673e-310">hello two types of compute nodes are:</span></span>

- <span data-ttu-id="d673e-311">**Vyhrazené výpočetní uzly.**</span><span class="sxs-lookup"><span data-stu-id="d673e-311">**Dedicated compute nodes.**</span></span> <span data-ttu-id="d673e-312">Vyhrazené výpočetní uzly jsou rezervované pro vaše úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-312">Dedicated compute nodes are reserved for your workloads.</span></span> <span data-ttu-id="d673e-313">Jsou dražší než uzly nízkou prioritu, ale je zaručeno, že se zrušené toonever.</span><span class="sxs-lookup"><span data-stu-id="d673e-313">They are more expensive than low-priority nodes, but they are guaranteed toonever be preempted.</span></span>

- <span data-ttu-id="d673e-314">**Výpočetní uzly s nízkou prioritou.**</span><span class="sxs-lookup"><span data-stu-id="d673e-314">**Low-priority compute nodes.**</span></span> <span data-ttu-id="d673e-315">Uzly nízkou prioritu využít výhod kapacitní v Azure toorun vaše úloh služby Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-315">Low-priority nodes take advantage of surplus capacity in Azure toorun your Batch workloads.</span></span> <span data-ttu-id="d673e-316">Uzly s nízkou prioritou mají nižší hodinové náklady než vyhrazené uzly a umožňují používat úlohy náročné na výpočetní výkon.</span><span class="sxs-lookup"><span data-stu-id="d673e-316">Low-priority nodes are less expensive per hour than dedicated nodes, and enable workloads requiring a lot of compute power.</span></span> <span data-ttu-id="d673e-317">Další informace najdete v tématu [Použití virtuálních počítačů s nízkou prioritou ve službě Batch](batch-low-pri-vms.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-317">For more information, see [Use low-priority VMs with Batch](batch-low-pri-vms.md).</span></span>

    <span data-ttu-id="d673e-318">Pokud má Azure nedostatek nadbytečné kapacity, může dojít ke zrušení výpočetních uzlů s nízkou prioritou.</span><span class="sxs-lookup"><span data-stu-id="d673e-318">Low-priority compute nodes may be preempted when Azure has insufficient surplus capacity.</span></span> <span data-ttu-id="d673e-319">Pokud uzel je zrušené při spuštění úlohy, jsou úlohy hello zařazena a spusťte znovu po výpočetního uzlu opět k dispozici.</span><span class="sxs-lookup"><span data-stu-id="d673e-319">If a node is preempted while running tasks, hello tasks are requeued and run again once a compute node becomes available again.</span></span> <span data-ttu-id="d673e-320">Nízkou prioritu uzly jsou dobrou volbou pro úlohy, kde čas dokončení úlohy hello je flexibilní a pracovní hello je distribuován do mnoha uzly.</span><span class="sxs-lookup"><span data-stu-id="d673e-320">Low-priority nodes are a good option for workloads where hello job completion time is flexible and hello work is distributed across many nodes.</span></span> <span data-ttu-id="d673e-321">Než rozhodnete toouse nízkou prioritu uzly pro váš scénář, ujistěte se, že veškerou práci, ztratili kvůli toopreemption bude toorecreate minimální a snadné.</span><span class="sxs-lookup"><span data-stu-id="d673e-321">Before you decide toouse low-priority nodes for your scenario, make sure that any work lost due toopreemption will be minimal and easy toorecreate.</span></span>

    <span data-ttu-id="d673e-322">Jsou k dispozici pouze pro účty Batch, které jsou vytvořené pomocí režimu přidělení fondu hello nastavit příliš nízkou prioritu výpočetní uzly**služba Batch**.</span><span class="sxs-lookup"><span data-stu-id="d673e-322">Low-priority compute nodes are available only for Batch accounts created with hello pool allocation mode set too**Batch Service**.</span></span>

<span data-ttu-id="d673e-323">Může mít obě nízkou prioritu a vyhrazený výpočetní uzly v hello stejného fondu.</span><span class="sxs-lookup"><span data-stu-id="d673e-323">You can have both low-priority and dedicated compute nodes in hello same pool.</span></span> <span data-ttu-id="d673e-324">Každý typ uzlu &mdash; nízkou prioritu a vyhrazené &mdash; má svou vlastní nastavení cíl, pro které můžete zadat hello požadovaného počtu uzlů.</span><span class="sxs-lookup"><span data-stu-id="d673e-324">Each type of node &mdash; low-priority and dedicated &mdash; has its own target setting, for which you can specify hello desired number of nodes.</span></span> 
    
<span data-ttu-id="d673e-325">Hello počet výpočetních uzlů se označují tooas *cíl* proto, že v některých případech nemusí fondu dosáhnout hello požadovaného počtu uzlů.</span><span class="sxs-lookup"><span data-stu-id="d673e-325">hello number of compute nodes is referred tooas a *target* because, in some situations, your pool might not reach hello desired number of nodes.</span></span> <span data-ttu-id="d673e-326">Například fond pravděpodobně nedosáhnete hello cíl nedosáhne hello [kvóta na jádra](batch-quota-limit.md) nejprve pro váš dávkový účet.</span><span class="sxs-lookup"><span data-stu-id="d673e-326">For example, a pool might not achieve hello target if it reaches hello [core quota](batch-quota-limit.md) for your Batch account first.</span></span> <span data-ttu-id="d673e-327">Nebo hello fondu pravděpodobně nedosáhnete hello cíl, pokud jste použili automatické škálování vzorce toohello fondu, který omezuje hello maximální počet uzlů.</span><span class="sxs-lookup"><span data-stu-id="d673e-327">Or, hello pool might not achieve hello target if you have applied an auto-scaling formula toohello pool that limits hello maximum number of nodes.</span></span>

<span data-ttu-id="d673e-328">Informace o cenách výpočetních uzlů s nízkou prioritou a vyhrazených uzlů najdete v tématu [Ceny služby Batch](https://azure.microsoft.com/pricing/details/batch/).</span><span class="sxs-lookup"><span data-stu-id="d673e-328">For pricing information for both low-priority and dedicated compute nodes, see [Batch Pricing](https://azure.microsoft.com/pricing/details/batch/).</span></span>

### <a name="size-of-hello-compute-nodes"></a><span data-ttu-id="d673e-329">Velikost výpočetních uzlů hello</span><span class="sxs-lookup"><span data-stu-id="d673e-329">Size of hello compute nodes</span></span>

<span data-ttu-id="d673e-330">Velikosti výpočetních uzlů z **konfigurace služby Cloud Services** jsou uvedeny v seznamu [Velikosti pro Cloud Services](../cloud-services/cloud-services-sizes-specs.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-330">**Cloud Services Configuration** compute node sizes are listed in [Sizes for Cloud Services](../cloud-services/cloud-services-sizes-specs.md).</span></span> <span data-ttu-id="d673e-331">Služba Batch podporuje všechny velikosti pro Cloud Services kromě `ExtraSmall`, `STANDARD_A1_V2` a `STANDARD_A2_V2`.</span><span class="sxs-lookup"><span data-stu-id="d673e-331">Batch supports all Cloud Services sizes except `ExtraSmall`, `STANDARD_A1_V2`, and `STANDARD_A2_V2`.</span></span>

<span data-ttu-id="d673e-332">Velikosti výpočetních uzlů z **konfigurace virtuálního počítače** jsou uvedeny v seznamech [Velikosti pro virtuální počítače v Azure](../virtual-machines/linux/sizes.md) (Linux) a [Velikosti pro virtuální počítače v Azure](../virtual-machines/windows/sizes.md) (Windows).</span><span class="sxs-lookup"><span data-stu-id="d673e-332">**Virtual Machine Configuration** compute node sizes are listed in [Sizes for virtual machines in Azure](../virtual-machines/linux/sizes.md) (Linux) and [Sizes for virtual machines in Azure](../virtual-machines/windows/sizes.md) (Windows).</span></span> <span data-ttu-id="d673e-333">Služba Batch podporuje všechny velikosti VM Azure kromě `STANDARD_A0` a těch, které mají úložiště Premium (série `STANDARD_GS`, `STANDARD_DS` a `STANDARD_DSV2`).</span><span class="sxs-lookup"><span data-stu-id="d673e-333">Batch supports all Azure VM sizes except `STANDARD_A0` and those with premium storage (`STANDARD_GS`, `STANDARD_DS`, and `STANDARD_DSV2` series).</span></span>

<span data-ttu-id="d673e-334">Když vyberete velikost výpočetním uzlu, zvažte hello charakteristiky a požadavky hello aplikací, které je potřeba spustit na uzlech hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-334">When selecting a compute node size, consider hello characteristics and requirements of hello applications you'll run on hello nodes.</span></span> <span data-ttu-id="d673e-335">Aspekty jako jestli je vícevláknové aplikace hello a kolik paměti spotřebuje může pomoct určit hello nejvíce vhodnou a cenově efektivní velikost uzlu.</span><span class="sxs-lookup"><span data-stu-id="d673e-335">Aspects like whether hello application is multithreaded and how much memory it consumes can help determine hello most suitable and cost-effective node size.</span></span> <span data-ttu-id="d673e-336">Je typické tooselect velikost uzlu, za předpokladu, že jeden úkol se spustí na uzlu současně.</span><span class="sxs-lookup"><span data-stu-id="d673e-336">It's typical tooselect a node size assuming one task will run on a node at a time.</span></span> <span data-ttu-id="d673e-337">Je však možné toohave více úloh (a tedy několik instancí aplikace) [souběžně](batch-parallel-node-tasks.md) během provádění úlohy na výpočetních uzlech.</span><span class="sxs-lookup"><span data-stu-id="d673e-337">However, it is possible toohave multiple tasks (and therefore multiple application instances) [run in parallel](batch-parallel-node-tasks.md) on compute nodes during job execution.</span></span> <span data-ttu-id="d673e-338">V takovém případě je běžné toochoose větší uzel velikost tooaccommodate hello vyšší požadavek spouštění paralelních úloh.</span><span class="sxs-lookup"><span data-stu-id="d673e-338">In this case, it is common toochoose a larger node size tooaccommodate hello increased demand of parallel task execution.</span></span> <span data-ttu-id="d673e-339">Další informace najdete v části [Zásady plánování úkolů](#task-scheduling-policy).</span><span class="sxs-lookup"><span data-stu-id="d673e-339">See [Task scheduling policy](#task-scheduling-policy) for more information.</span></span>

<span data-ttu-id="d673e-340">Všechny hello uzlů ve fondu jsou hello stejnou velikost.</span><span class="sxs-lookup"><span data-stu-id="d673e-340">All of hello nodes in a pool are hello same size.</span></span> <span data-ttu-id="d673e-341">Pokud chcete toorun aplikace s odlišnými požadavky na systém anebo úrovně zatížení, doporučujeme vám, že používáte samostatné fondy.</span><span class="sxs-lookup"><span data-stu-id="d673e-341">If you intend toorun applications with differing system requirements and/or load levels, we recommend that you use separate pools.</span></span>

### <a name="scaling-policy"></a><span data-ttu-id="d673e-342">Zásady škálování</span><span class="sxs-lookup"><span data-stu-id="d673e-342">Scaling policy</span></span>

<span data-ttu-id="d673e-343">Pro dynamické úlohy, můžete napsat a použít [vzorec automatického škálování](#scaling-compute-resources) tooa fondu.</span><span class="sxs-lookup"><span data-stu-id="d673e-343">For dynamic workloads, you can write and apply an [auto-scaling formula](#scaling-compute-resources) tooa pool.</span></span> <span data-ttu-id="d673e-344">Hello služba Batch pravidelně vyhodnocuje vzorec a upraví hello počet uzlů v rámci hello fondu na základě různých fondu, úlohy a parametry úlohy, které můžete zadat.</span><span class="sxs-lookup"><span data-stu-id="d673e-344">hello Batch service periodically evaluates your formula and adjusts hello number of nodes within hello pool based on various pool, job, and task parameters that you can specify.</span></span>

### <a name="task-scheduling-policy"></a><span data-ttu-id="d673e-345">Zásady plánování úkolů</span><span class="sxs-lookup"><span data-stu-id="d673e-345">Task scheduling policy</span></span>

<span data-ttu-id="d673e-346">Hello [maximálního počtu úkolů na uzlu](batch-parallel-node-tasks.md) možnost konfigurace určuje maximální počet úkolů, které lze spustit souběžně na každém výpočetním uzlu v rámci fondu hello hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-346">hello [max tasks per node](batch-parallel-node-tasks.md) configuration option determines hello maximum number of tasks that can be run in parallel on each compute node within hello pool.</span></span>

<span data-ttu-id="d673e-347">Výchozí konfigurace Hello určuje současně jeden úkol běží na uzlu, ale existují scénáře, kdy je výhodné toohave dvě nebo více úloh na uzlu spuštěný současně.</span><span class="sxs-lookup"><span data-stu-id="d673e-347">hello default configuration specifies that one task at a time runs on a node, but there are scenarios where it is beneficial toohave two or more tasks executed on a node simultaneously.</span></span> <span data-ttu-id="d673e-348">Najdete v části hello [ukázkový scénář](batch-parallel-node-tasks.md#example-scenario) v hello [souběžných uzlu úlohy](batch-parallel-node-tasks.md) toosee článek, jak můžete využívat výhod více úkolů na uzlu.</span><span class="sxs-lookup"><span data-stu-id="d673e-348">See hello [example scenario](batch-parallel-node-tasks.md#example-scenario) in hello [concurrent node tasks](batch-parallel-node-tasks.md) article toosee how you can benefit from multiple tasks per node.</span></span>

<span data-ttu-id="d673e-349">Můžete také zadat *typ výplně* který určuje, zda šíří hello úkoly rovnoměrně mezi všechny uzly v rámci fondu Batch, nebo sady každý uzel s hello maximální počet úkolů před přiřazením úkolů tooanother uzlu.</span><span class="sxs-lookup"><span data-stu-id="d673e-349">You can also specify a *fill type* which determines whether Batch spreads hello tasks evenly across all nodes in a pool, or packs each node with hello maximum number of tasks before assigning tasks tooanother node.</span></span>

### <a name="communication-status-for-compute-nodes"></a><span data-ttu-id="d673e-350">Stav komunikace pro výpočetní uzly</span><span class="sxs-lookup"><span data-stu-id="d673e-350">Communication status for compute nodes</span></span>

<span data-ttu-id="d673e-351">Ve většině scénářů pracují úkoly nezávisle a nepotřebují toocommunicate sebou.</span><span class="sxs-lookup"><span data-stu-id="d673e-351">In most scenarios, tasks operate independently and do not need toocommunicate with one another.</span></span> <span data-ttu-id="d673e-352">Existují však aplikace, ve kterých úkoly musí komunikovat, například [scénáře MPI](batch-mpi.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-352">However, there are some applications in which tasks must communicate, like [MPI scenarios](batch-mpi.md).</span></span>

<span data-ttu-id="d673e-353">Můžete nakonfigurovat fond tooallow **internodium komunikace**tak, aby v době běhu může komunikovat uzly v rámci fondu.</span><span class="sxs-lookup"><span data-stu-id="d673e-353">You can configure a pool tooallow **internode communication**, so that nodes within a pool can communicate at runtime.</span></span> <span data-ttu-id="d673e-354">Pokud je komunikace mezi uzly povolena, uzly ve fondech z konfigurace služby Cloud Services mohou vzájemně komunikovat na portech vyšších než 1100. Fondy z konfigurace virtuálního počítače neomezují provoz na žádném portu.</span><span class="sxs-lookup"><span data-stu-id="d673e-354">When internode communication is enabled, nodes in Cloud Services Configuration pools can communicate with each other on ports greater than 1100, and Virtual Machine Configuration pools do not restrict traffic on any port.</span></span>

<span data-ttu-id="d673e-355">Upozorňujeme, že povolení komunikace internodium také ovlivňuje umístění hello hello uzlů v rámci clusterů a z důvodu omezení nasazení může být omezen hello maximální počet uzlů ve fondu.</span><span class="sxs-lookup"><span data-stu-id="d673e-355">Note that enabling internode communication also impacts hello placement of hello nodes within clusters and might limit hello maximum number of nodes in a pool because of deployment restrictions.</span></span> <span data-ttu-id="d673e-356">Pokud aplikace nevyžaduje komunikaci mezi uzly, hello služba Batch můžete přidělit potenciálně velký počet uzlů toohello fondu z mnoha různých clusterů a datových center tooenable zvýšený výkon paralelního zpracování.</span><span class="sxs-lookup"><span data-stu-id="d673e-356">If your application does not require communication between nodes, hello Batch service can allocate a potentially large number of nodes toohello pool from many different clusters and datacenters tooenable increased parallel processing power.</span></span>

### <a name="start-tasks-for-compute-nodes"></a><span data-ttu-id="d673e-357">Spouštěcí úkoly pro výpočetní uzly</span><span class="sxs-lookup"><span data-stu-id="d673e-357">Start tasks for compute nodes</span></span>

<span data-ttu-id="d673e-358">Hello volitelné *spouštěcí úkol* spustí na každém uzlu jako takový uzel připojí hello fondu, a pokaždé, když uzel restartovat nebo obnovit z Image.</span><span class="sxs-lookup"><span data-stu-id="d673e-358">hello optional *start task* executes on each node as that node joins hello pool, and each time a node is restarted or reimaged.</span></span> <span data-ttu-id="d673e-359">Úloha spuštění Hello je zvláště užitečná pro přípravu výpočetních uzlů k provádění úloh, jako je instalace hello aplikace, které vaše úlohy běží na výpočetních uzlech hello hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-359">hello start task is especially useful for preparing compute nodes for hello execution of tasks, like installing hello applications that your tasks run on hello compute nodes.</span></span>

### <a name="application-packages"></a><span data-ttu-id="d673e-360">Balíčky aplikací</span><span class="sxs-lookup"><span data-stu-id="d673e-360">Application packages</span></span>

<span data-ttu-id="d673e-361">Můžete zadat [balíčky aplikací](#application-packages) toodeploy toohello výpočetních uzlů ve fondu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-361">You can specify [application packages](#application-packages) toodeploy toohello compute nodes in hello pool.</span></span> <span data-ttu-id="d673e-362">Balíčky aplikací poskytují jednodušší nasazení a správa verzí hello aplikací, které vaše úkoly spouštět.</span><span class="sxs-lookup"><span data-stu-id="d673e-362">Application packages provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="d673e-363">Balíčky aplikací, které pro fond určíte, se nainstalují na každý uzel, který se do daného fondu připojí, a také pokaždé, když se uzel restartuje nebo obnoví z image.</span><span class="sxs-lookup"><span data-stu-id="d673e-363">Application packages that you specify for a pool are installed on every node that joins that pool, and every time a node is rebooted or reimaged.</span></span>

> [!NOTE]
> <span data-ttu-id="d673e-364">Balíčky aplikací jsou podporované ve všech fondech služby Batch vytvořených po 5. červenci 2017.</span><span class="sxs-lookup"><span data-stu-id="d673e-364">Application packages are supported on all Batch pools created after 5 July 2017.</span></span> <span data-ttu-id="d673e-365">Že jsou podporované v fondy Batch vytvořit až 10. března 2016 5 2017 července pouze v případě, že hello fondu byla vytvořena pomocí konfigurace cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="d673e-365">They are supported on Batch pools created between 10 March 2016 and 5 July 2017 only if hello pool was created using a Cloud Service configuration.</span></span> <span data-ttu-id="d673e-366">Fondy batch vytvořen předchozí too10. března 2016 nepodporují balíčky aplikací.</span><span class="sxs-lookup"><span data-stu-id="d673e-366">Batch pools created prior too10 March 2016 do not support application packages.</span></span> <span data-ttu-id="d673e-367">Další informace o použití aplikace balíčky toodeploy uzly Batch tooyour aplikace, najdete v části [nasazení uzly toocompute aplikací pomocí balíčků aplikací Batch](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-367">For more information about using application packages toodeploy your applications tooyour Batch nodes, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
>
>

### <a name="network-configuration"></a><span data-ttu-id="d673e-368">Konfigurace sítě</span><span class="sxs-lookup"><span data-stu-id="d673e-368">Network configuration</span></span>

<span data-ttu-id="d673e-369">Můžete zadat podsíť hello Azure [virtuální síť (VNet)](../virtual-network/virtual-networks-overview.md) v kterému hello fondu výpočetních uzlů by měl být vytvořen.</span><span class="sxs-lookup"><span data-stu-id="d673e-369">You can specify hello subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md) in which hello pool's compute nodes should be created.</span></span> <span data-ttu-id="d673e-370">V tématu hello [konfigurace sítě fondu](#pool-network-configuration) části Další informace.</span><span class="sxs-lookup"><span data-stu-id="d673e-370">See hello [Pool network configuration](#pool-network-configuration) section for more information.</span></span>


## <a name="job"></a><span data-ttu-id="d673e-371">Úloha</span><span class="sxs-lookup"><span data-stu-id="d673e-371">Job</span></span>
<span data-ttu-id="d673e-372">Úloha je kolekce úkolů.</span><span class="sxs-lookup"><span data-stu-id="d673e-372">A job is a collection of tasks.</span></span> <span data-ttu-id="d673e-373">Spravuje, jak se provádí výpočet jeho úlohy na hello výpočetních uzlů ve fondu.</span><span class="sxs-lookup"><span data-stu-id="d673e-373">It manages how computation is performed by its tasks on hello compute nodes in a pool.</span></span>

* <span data-ttu-id="d673e-374">Úloha Hello určuje hello **fondu** v které hello pracovní je toobe spustit.</span><span class="sxs-lookup"><span data-stu-id="d673e-374">hello job specifies hello **pool** in which hello work is toobe run.</span></span> <span data-ttu-id="d673e-375">Můžete vytvořit nový fond pro každou úlohu nebo použít jeden fond pro mnoho úloh.</span><span class="sxs-lookup"><span data-stu-id="d673e-375">You can create a new pool for each job, or use one pool for many jobs.</span></span> <span data-ttu-id="d673e-376">Můžete vytvořit fond pro každou úlohu, která je přidružená k plánu úlohy, nebo pro všechny úlohy, které jsou spojeny s plánem úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-376">You can create a pool for each job that is associated with a job schedule, or for all jobs that are associated with a job schedule.</span></span>
* <span data-ttu-id="d673e-377">Volitelně můžete zadat **prioritu úlohy**.</span><span class="sxs-lookup"><span data-stu-id="d673e-377">You can specify an optional **job priority**.</span></span> <span data-ttu-id="d673e-378">Když je úloha odeslána s vyšší prioritou než úlohy, které jsou aktuálně probíhá, hello úlohy pro úlohu hello s vyšší prioritou vloženy do hello fronty před úlohy pro úlohy s nižší prioritou hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-378">When a job is submitted with a higher priority than jobs that are currently in progress, hello tasks for hello higher-priority job are inserted into hello queue ahead of tasks for hello lower-priority jobs.</span></span> <span data-ttu-id="d673e-379">Úkoly v rámci úloh s nižší prioritou, které jsou již spuštěny, se neruší.</span><span class="sxs-lookup"><span data-stu-id="d673e-379">Tasks in lower-priority jobs that are already running are not preempted.</span></span>
* <span data-ttu-id="d673e-380">Úlohu můžete použít **omezení** toospecify určitá omezení pro úlohy:</span><span class="sxs-lookup"><span data-stu-id="d673e-380">You can use job **constraints** toospecify certain limits for your jobs:</span></span>

    <span data-ttu-id="d673e-381">Můžete nastavit **maximální uplynulý čas**tak, aby v případě, že úloha běží po dobu delší než hello maximální uplynulý čas, který je zadán, jsou ukončen hello úlohy a všechny její úkoly.</span><span class="sxs-lookup"><span data-stu-id="d673e-381">You can set a **maximum wallclock time**, so that if a job runs for longer than hello maximum wallclock time that is specified, hello job and all of its tasks are terminated.</span></span>

    <span data-ttu-id="d673e-382">Služba Batch umí zjistit a poté opakovat neúspěšné úkoly.</span><span class="sxs-lookup"><span data-stu-id="d673e-382">Batch can detect and then retry failed tasks.</span></span> <span data-ttu-id="d673e-383">Můžete zadat hello **maximální počet opakování úkolů** jako omezení, včetně toho, jestli je úloha *vždy* nebo *nikdy* opakovat.</span><span class="sxs-lookup"><span data-stu-id="d673e-383">You can specify hello **maximum number of task retries** as a constraint, including whether a task is *always* or *never* retried.</span></span> <span data-ttu-id="d673e-384">Opakování úkolu znamená, že tuto úlohu hello je zařazena toobe spusťte znovu.</span><span class="sxs-lookup"><span data-stu-id="d673e-384">Retrying a task means that hello task is requeued toobe run again.</span></span>
* <span data-ttu-id="d673e-385">Klientské aplikace můžete přidat úloha tooa úlohy, nebo můžete zadat [úkolu Správce úloh](#job-manager-task).</span><span class="sxs-lookup"><span data-stu-id="d673e-385">Your client application can add tasks tooa job, or you can specify a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="d673e-386">Úkol správce obsahuje hello informace, které jsou nezbytné toocreate hello požadované úlohy pro úlohu, s hello úkolu Správce úloh se spouští v jednom hello výpočetních uzlů ve fondu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-386">A job manager task contains hello information that is necessary toocreate hello required tasks for a job, with hello job manager task being run on one of hello compute nodes in hello pool.</span></span> <span data-ttu-id="d673e-387">Hello úkolu Správce úloh se zpracovává konkrétně podle Batch – je uložený ve frontě co nejrychleji hello úlohy je vytvořen a je restartovat, pokud se nezdaří.</span><span class="sxs-lookup"><span data-stu-id="d673e-387">hello job manager task is handled specifically by Batch--it is queued as soon as hello job is created, and is restarted if it fails.</span></span> <span data-ttu-id="d673e-388">Úkolu Správce úloh je *požadované* pro úlohy, které jsou vytvořené pomocí [plán úloh](#scheduled-jobs) vzhledem k tomu, že je hello pouze způsob toodefine hello úlohy před vytvořením instance úlohy hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-388">A job manager task is *required* for jobs that are created by a [job schedule](#scheduled-jobs) because it is hello only way toodefine hello tasks before hello job is instantiated.</span></span>
* <span data-ttu-id="d673e-389">Ve výchozím nastavení zůstanou úlohy v aktivním stavu hello po dokončení všech úloh v rámci úlohy hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-389">By default, jobs remain in hello active state when all tasks within hello job are complete.</span></span> <span data-ttu-id="d673e-390">Toto chování můžete změnit tak, aby hello úlohy je automaticky ukončen po dokončení všech úloh v úloze hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-390">You can change this behavior so that hello job is automatically terminated when all tasks in hello job are complete.</span></span> <span data-ttu-id="d673e-391">Úloha sady hello **onAllTasksComplete** vlastnost ([OnAllTasksComplete] [ net_onalltaskscomplete] v Batch .NET) příliš*terminatejob* tooautomatically Ukončete úlohu hello, když jsou všechny její úkoly ve stavu hello byla dokončena.</span><span class="sxs-lookup"><span data-stu-id="d673e-391">Set hello job's **onAllTasksComplete** property ([OnAllTasksComplete][net_onalltaskscomplete] in Batch .NET) too*terminatejob* tooautomatically terminate hello job when all of its tasks are in hello completed state.</span></span>

    <span data-ttu-id="d673e-392">Všimněte si, že služba Batch hello zvažuje úlohu s *žádné* toohave úlohy dokončit všechny její úkoly.</span><span class="sxs-lookup"><span data-stu-id="d673e-392">Note that hello Batch service considers a job with *no* tasks toohave all of its tasks completed.</span></span> <span data-ttu-id="d673e-393">Tato možnost se proto nejčastěji používá pro [úkoly správce úloh](#job-manager-task).</span><span class="sxs-lookup"><span data-stu-id="d673e-393">Therefore, this option is most commonly used with a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="d673e-394">Pokud chcete úlohu automatického ukončení toouse bez Správce úloh, měli byste nejdřív nastavit novou úlohu **onAllTasksComplete** vlastnost příliš*noaction*, nastavte příliš*terminatejob* až po dokončení přidávání úlohy toohello úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-394">If you want toouse automatic job termination without a job manager, you should initially set a new job's **onAllTasksComplete** property too*noaction*, then set it too*terminatejob* only after you've finished adding tasks toohello job.</span></span>

### <a name="job-priority"></a><span data-ttu-id="d673e-395">Priorita úloh</span><span class="sxs-lookup"><span data-stu-id="d673e-395">Job priority</span></span>
<span data-ttu-id="d673e-396">Můžete přiřadit prioritu toojobs, který vytvoříte v dávce.</span><span class="sxs-lookup"><span data-stu-id="d673e-396">You can assign a priority toojobs that you create in Batch.</span></span> <span data-ttu-id="d673e-397">Hello služba Batch používá hodnotu priority hello hello úlohy toodetermine hello pořadí plánování úlohy v rámci účtu (Toto není toobe zaměňovat s [naplánovaná úloha](#scheduled-jobs)).</span><span class="sxs-lookup"><span data-stu-id="d673e-397">hello Batch service uses hello priority value of hello job toodetermine hello order of job scheduling within an account (this is not toobe confused with a [scheduled job](#scheduled-jobs)).</span></span> <span data-ttu-id="d673e-398">hodnoty priority Hello v rozsahu od -1000 too1000, s -1000 je hello nejnižší prioritu a 1000 se hello nejvyšší.</span><span class="sxs-lookup"><span data-stu-id="d673e-398">hello priority values range from -1000 too1000, with -1000 being hello lowest priority and 1000 being hello highest.</span></span> <span data-ttu-id="d673e-399">tooupdate hello prioritu úlohy, volání hello [aktualizovat vlastnosti hello úlohy] [ rest_update_job] operace (Batch REST), nebo upravit hello [CloudJob.Priority] [ net_cloudjob_priority] vlastnost (Batch .NET).</span><span class="sxs-lookup"><span data-stu-id="d673e-399">tooupdate hello priority of a job, call hello [Update hello properties of a job][rest_update_job] operation (Batch REST), or modify hello [CloudJob.Priority][net_cloudjob_priority] property (Batch .NET).</span></span>

<span data-ttu-id="d673e-400">V rámci hello stejný účet, s vyšší prioritou mají přednost plánování před úlohami s nižší prioritou úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-400">Within hello same account, higher-priority jobs have scheduling precedence over lower-priority jobs.</span></span> <span data-ttu-id="d673e-401">Úloha s vyšší hodnotou priority v jednom účtu nemá přednost při plánování před jinou úlohou s nižší hodnotou priority v jiném účtu.</span><span class="sxs-lookup"><span data-stu-id="d673e-401">A job with a higher-priority value in one account does not have scheduling precedence over another job with a lower-priority value in a different account.</span></span>

<span data-ttu-id="d673e-402">Plánování úloh mezi fondy je nezávislé.</span><span class="sxs-lookup"><span data-stu-id="d673e-402">Job scheduling across pools is independent.</span></span> <span data-ttu-id="d673e-403">Mezi různými fondy není zaručeno, že úloha s vyšší prioritou je naplánována jako první, pokud její přidružený fond nemá dostatek nečinných uzlů.</span><span class="sxs-lookup"><span data-stu-id="d673e-403">Between different pools, it is not guaranteed that a higher-priority job is scheduled first if its associated pool is short of idle nodes.</span></span> <span data-ttu-id="d673e-404">V hello stejného fondu, úlohy s hello stejnou úroveň priority mají stejnou šanci být naplánované.</span><span class="sxs-lookup"><span data-stu-id="d673e-404">In hello same pool, jobs with hello same priority level have an equal chance of being scheduled.</span></span>

### <a name="scheduled-jobs"></a><span data-ttu-id="d673e-405">Naplánované úlohy</span><span class="sxs-lookup"><span data-stu-id="d673e-405">Scheduled jobs</span></span>
<span data-ttu-id="d673e-406">[Plány úlohy] [ rest_job_schedules] umožňují toocreate opakované úlohy v rámci hello služby Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-406">[Job schedules][rest_job_schedules] enable you toocreate recurring jobs within hello Batch service.</span></span> <span data-ttu-id="d673e-407">Plán úlohy Určuje když toorun úloh a obsahuje specifikace hello toobe hello úlohy spustit.</span><span class="sxs-lookup"><span data-stu-id="d673e-407">A job schedule specifies when toorun jobs and includes hello specifications for hello jobs toobe run.</span></span> <span data-ttu-id="d673e-408">Můžete zadat dobu trvání hello hello plán – jak dlouho a když hello plán je v platnosti – a jak často jsou vytvořeny úlohy během hello naplánované období.</span><span class="sxs-lookup"><span data-stu-id="d673e-408">You can specify hello duration of hello schedule--how long and when hello schedule is in effect--and how frequently jobs are created during hello scheduled period.</span></span>

## <a name="task"></a><span data-ttu-id="d673e-409">Úkol</span><span class="sxs-lookup"><span data-stu-id="d673e-409">Task</span></span>
<span data-ttu-id="d673e-410">Úkol je jednotka výpočtu, která je přidružena k úloze.</span><span class="sxs-lookup"><span data-stu-id="d673e-410">A task is a unit of computation that is associated with a job.</span></span> <span data-ttu-id="d673e-411">Běží na uzlu.</span><span class="sxs-lookup"><span data-stu-id="d673e-411">It runs on a node.</span></span> <span data-ttu-id="d673e-412">Úkoly jsou přiřazeny tooa uzlu pro provádění nebo jsou zařazeny do fronty, dokud se uzel neuvolní.</span><span class="sxs-lookup"><span data-stu-id="d673e-412">Tasks are assigned tooa node for execution, or are queued until a node becomes free.</span></span> <span data-ttu-id="d673e-413">Jednoduše PUT, úloha běží jeden nebo více programů nebo skriptů na výpočetní uzel tooperform hello práci, které potřebujete.</span><span class="sxs-lookup"><span data-stu-id="d673e-413">Put simply, a task runs one or more programs or scripts on a compute node tooperform hello work you need done.</span></span>

<span data-ttu-id="d673e-414">Při vytvoření úkolu můžete zadat:</span><span class="sxs-lookup"><span data-stu-id="d673e-414">When you create a task, you can specify:</span></span>

* <span data-ttu-id="d673e-415">Hello **příkazového řádku** pro úlohu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-415">hello **command line** for hello task.</span></span> <span data-ttu-id="d673e-416">Toto je hello příkazového řádku, který spouští vaše aplikace nebo skriptu na výpočetním uzlu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-416">This is hello command line that runs your application or script on hello compute node.</span></span>

    <span data-ttu-id="d673e-417">Je důležité, že toonote, který hello příkazového řádku není ve skutečnosti spuštěn v rámci prostředí.</span><span class="sxs-lookup"><span data-stu-id="d673e-417">It is important toonote that hello command line does not actually run under a shell.</span></span> <span data-ttu-id="d673e-418">Proto jej nelze využít nativně prostředí funkcí jako [proměnnou prostředí](#environment-settings-for-tasks) rozšíření (to zahrnuje hello `PATH`).</span><span class="sxs-lookup"><span data-stu-id="d673e-418">Therefore, it cannot natively take advantage of shell features like [environment variable](#environment-settings-for-tasks) expansion (this includes hello `PATH`).</span></span> <span data-ttu-id="d673e-419">tootake využít těchto funkcí, je nutné vyvolat hello prostředí v příkazovém řádku hello – například spuštěním `cmd.exe` v uzlech systému Windows nebo `/bin/sh` v systému Linux:</span><span class="sxs-lookup"><span data-stu-id="d673e-419">tootake advantage of such features, you must invoke hello shell in hello command line--for example, by launching `cmd.exe` on Windows nodes or `/bin/sh` on Linux:</span></span>

    `cmd /c MyTaskApplication.exe %MY_ENV_VAR%`

    `/bin/sh -c MyTaskApplication $MY_ENV_VAR`

    <span data-ttu-id="d673e-420">Pokud vaše úkoly potřebovat toorun aplikace nebo skriptu, který není součástí hello uzlu `PATH` nebo referenční proměnné prostředí, vyvolání hello prostředí explicitně v hello úlohu příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="d673e-420">If your tasks need toorun an application or script that is not in hello node's `PATH` or reference environment variables, invoke hello shell explicitly in hello task command line.</span></span>
* <span data-ttu-id="d673e-421">**Soubory prostředků** obsahující toobe hello dat zpracovat.</span><span class="sxs-lookup"><span data-stu-id="d673e-421">**Resource files** that contain hello data toobe processed.</span></span> <span data-ttu-id="d673e-422">Tyto soubory jsou automaticky zkopírovaný toohello uzlu z úložiště objektů Blob v účtu úložiště Azure pro obecné účely, před provedením úloh hello příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="d673e-422">These files are automatically copied toohello node from Blob storage in a general-purpose Azure Storage account before hello task's command line is executed.</span></span> <span data-ttu-id="d673e-423">Další informace najdete v části hello [spouštěcí úkol](#start-task) a [souborů a adresářů](#files-and-directories).</span><span class="sxs-lookup"><span data-stu-id="d673e-423">For more information, see hello sections [Start task](#start-task) and [Files and directories](#files-and-directories).</span></span>
* <span data-ttu-id="d673e-424">Hello **proměnné prostředí** požadované aplikace.</span><span class="sxs-lookup"><span data-stu-id="d673e-424">hello **environment variables** that are required by your application.</span></span> <span data-ttu-id="d673e-425">Další informace najdete v tématu hello [nastavení prostředí pro úkoly](#environment-settings-for-tasks) části.</span><span class="sxs-lookup"><span data-stu-id="d673e-425">For more information, see hello [Environment settings for tasks](#environment-settings-for-tasks) section.</span></span>
* <span data-ttu-id="d673e-426">Hello **omezení** v rámci které hello by měla spustit úlohu.</span><span class="sxs-lookup"><span data-stu-id="d673e-426">hello **constraints** under which hello task should execute.</span></span> <span data-ttu-id="d673e-427">Omezení patří například maximální doba hello tuto úlohu hello je povoleno toorun hello maximální počet opakování nezdařené úlohy by měl být, a maximální hello času, které jsou zachovány soubory v pracovního adresáře úkolu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-427">For example, constraints include hello maximum time that hello task is allowed toorun, hello maximum number of times a failed task should be retried, and hello maximum time that files in hello task's working directory are retained.</span></span>
* <span data-ttu-id="d673e-428">**Balíčky aplikací** toodeploy toohello výpočetního uzlu, na které hello úloha je naplánovaná toorun.</span><span class="sxs-lookup"><span data-stu-id="d673e-428">**Application packages** toodeploy toohello compute node on which hello task is scheduled toorun.</span></span> <span data-ttu-id="d673e-429">[Balíčky aplikací](#application-packages) poskytují jednodušší nasazení a správa verzí hello aplikací, které vaše úkoly spouštět.</span><span class="sxs-lookup"><span data-stu-id="d673e-429">[Application packages](#application-packages) provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="d673e-430">Balíčky aplikací úrovni úkolů jsou obzvláště užitečná v prostředích sdílených fondu různé úlohy se spouštějí na jeden fond, kde hello fondu se neodstraní po dokončení úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-430">Task-level application packages are especially useful in shared-pool environments, where different jobs are run on one pool, and hello pool is not deleted when a job is completed.</span></span> <span data-ttu-id="d673e-431">Pokud vaše úlohy má méně úloh než uzly ve fondu hello, balíčky aplikací úloh Minimalizovat přenos dat vzhledem k tomu, že je vaše aplikace nasazené toohello pouze uzly, které využívají úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-431">If your job has fewer tasks than nodes in hello pool, task application packages can minimize data transfer since your application is deployed only toohello nodes that run tasks.</span></span>

<span data-ttu-id="d673e-432">Kromě toho tootasks definujete výpočetní tooperform na uzlu, hello následující zvláštní úkoly jsou také poskytované služby Batch hello:</span><span class="sxs-lookup"><span data-stu-id="d673e-432">In addition tootasks you define tooperform computation on a node, hello following special tasks are also provided by hello Batch service:</span></span>

* [<span data-ttu-id="d673e-433">Spouštěcí úkol</span><span class="sxs-lookup"><span data-stu-id="d673e-433">Start task</span></span>](#start-task)
* [<span data-ttu-id="d673e-434">Úkol správce úloh</span><span class="sxs-lookup"><span data-stu-id="d673e-434">Job manager task</span></span>](#job-manager-task)
* [<span data-ttu-id="d673e-435">Úkoly přípravy a uvolnění úloh</span><span class="sxs-lookup"><span data-stu-id="d673e-435">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
* [<span data-ttu-id="d673e-436">Úkoly s více instancemi (MPI)</span><span class="sxs-lookup"><span data-stu-id="d673e-436">Multi-instance tasks (MPI)</span></span>](#multi-instance-tasks)
* [<span data-ttu-id="d673e-437">Závislosti úkolů</span><span class="sxs-lookup"><span data-stu-id="d673e-437">Task dependencies</span></span>](#task-dependencies)

### <a name="start-task"></a><span data-ttu-id="d673e-438">Spouštěcí úkol</span><span class="sxs-lookup"><span data-stu-id="d673e-438">Start task</span></span>
<span data-ttu-id="d673e-439">Tím, že přidružíte **spouštěcí úkol** k fondu, můžete připravit hello provozní prostředí jeho uzlů.</span><span class="sxs-lookup"><span data-stu-id="d673e-439">By associating a **start task** with a pool, you can prepare hello operating environment of its nodes.</span></span> <span data-ttu-id="d673e-440">Například můžete provádět akce jako instalace hello aplikace, které běží vaše úlohy nebo spuštění procesů na pozadí.</span><span class="sxs-lookup"><span data-stu-id="d673e-440">For example, you can perform actions like installing hello applications that your tasks run or starting background processes.</span></span> <span data-ttu-id="d673e-441">Hello spouštěcí úkol běží při každém spuštění uzlu, pro tak dlouho, dokud zůstává ve fondu hello – včetně hello uzlu při prvním přidání toohello fondu a kdy je restartovat nebo obnovit z Image.</span><span class="sxs-lookup"><span data-stu-id="d673e-441">hello start task runs every time a node starts, for as long as it remains in hello pool--including when hello node is first added toohello pool and when it is restarted or reimaged.</span></span>

<span data-ttu-id="d673e-442">Hlavní výhodou spouštěcího úkolu hello je, že může obsahovat všechny hello informace, které jsou nezbytné tooconfigure výpočetního uzlu a instalovat aplikace hello, které jsou požadovány pro provedení úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-442">A primary benefit of hello start task is that it can contain all of hello information that is necessary tooconfigure a compute node and install hello applications that are required for task execution.</span></span> <span data-ttu-id="d673e-443">Proto je zvýšení hello počet uzlů ve fondu stejně jednoduché jako určení počtu hello nových cílových uzlů.</span><span class="sxs-lookup"><span data-stu-id="d673e-443">Therefore, increasing hello number of nodes in a pool is as simple as specifying hello new target node count.</span></span> <span data-ttu-id="d673e-444">Úloha spuštění Hello poskytuje hello Batch služby hello informace, které je potřebné tooconfigure hello nových uzlů a jejich přípravu pro přijetí úkolů.</span><span class="sxs-lookup"><span data-stu-id="d673e-444">hello start task provides hello Batch service hello information that is needed tooconfigure hello new nodes and get them ready for accepting tasks.</span></span>

<span data-ttu-id="d673e-445">Jako u jakékoli jiné úlohy Azure Batch, můžete určit seznam **soubory prostředků** v [Azure Storage][azure_storage], kromě tooa **příkazového řádku** toobe spustit.</span><span class="sxs-lookup"><span data-stu-id="d673e-445">As with any Azure Batch task, you can specify a list of **resource files** in [Azure Storage][azure_storage], in addition tooa **command line** toobe executed.</span></span> <span data-ttu-id="d673e-446">Hello služba Batch nejprve zkopíruje hello prostředků soubory toohello uzlu ze služby Azure Storage a poté spustí hello příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="d673e-446">hello Batch service first copies hello resource files toohello node from Azure Storage, and then runs hello command line.</span></span> <span data-ttu-id="d673e-447">Pro spouštěcí úkol fondu obvykle obsahuje seznam souborů hello hello úloh aplikace a jeho závislosti.</span><span class="sxs-lookup"><span data-stu-id="d673e-447">For a pool start task, hello file list typically contains hello task application and its dependencies.</span></span>

<span data-ttu-id="d673e-448">Spouštěcí úkol hello ale mohly by také zahrnovat referenční data toobe používána ve všech úkolech, které jsou spuštěny na výpočetním uzlu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-448">However, hello start task could also include reference data toobe used by all tasks that are running on hello compute node.</span></span> <span data-ttu-id="d673e-449">Například může provést úlohu spustit příkazový řádek `robocopy` operace toocopy soubory aplikace (které bylo zadáno jako soubory prostředků a stáhnout toohello uzlu) z hello spuštění úkolu [pracovní adresář](#files-and-directories) toohello [sdílenou složku](#files-and-directories), a pak spustit soubor MSI nebo `setup.exe`.</span><span class="sxs-lookup"><span data-stu-id="d673e-449">For example, a start task's command line could perform a `robocopy` operation toocopy application files (which were specified as resource files and downloaded toohello node) from hello start task's [working directory](#files-and-directories) toohello [shared folder](#files-and-directories), and then run an MSI or `setup.exe`.</span></span>

<span data-ttu-id="d673e-450">Je obvykle žádoucí, aby toowait služby Batch hello pro hello spuštění úloh toocomplete před zvažování hello uzlu připravené toobe přiřazené úlohy, ale to můžete nakonfigurovat.</span><span class="sxs-lookup"><span data-stu-id="d673e-450">It is typically desirable for hello Batch service toowait for hello start task toocomplete before considering hello node ready toobe assigned tasks, but you can configure this.</span></span>

<span data-ttu-id="d673e-451">Pokud na výpočetním uzlu selže spouštěcí úkol, pak hello stav uzlu hello aktualizované tooreflect hello selhání a uzel hello nemá přiřazeny žádné úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-451">If a start task fails on a compute node, then hello state of hello node is updated tooreflect hello failure, and hello node is not assigned any tasks.</span></span> <span data-ttu-id="d673e-452">Spouštěcí úkol může selhat, pokud je problém s kopírováním jeho souborů prostředků z úložiště, nebo pokud hello proces spuštěný pomocí svého příkazového řádku vrátí nenulový ukončovací kód.</span><span class="sxs-lookup"><span data-stu-id="d673e-452">A start task can fail if there is an issue copying its resource files from storage, or if hello process executed by its command line returns a nonzero exit code.</span></span>

<span data-ttu-id="d673e-453">Pokud přidáte nebo aktualizujete hello spouštěcí úkol pro existující fond, musíte restartovat svůj výpočetní uzly pro hello spuštění úloh toobe použít toohello uzly.</span><span class="sxs-lookup"><span data-stu-id="d673e-453">If you add or update hello start task for an existing pool, you must reboot its compute nodes for hello start task toobe applied toohello nodes.</span></span>

>[!NOTE]
> <span data-ttu-id="d673e-454">Hello celková velikost spouštěcí úkol musí být menší než nebo rovna too32768 znaků, včetně zdrojových souborů a proměnných prostředí.</span><span class="sxs-lookup"><span data-stu-id="d673e-454">hello total size of a start task must be less than or equal too32768 characters, including resource files and environment variables.</span></span> <span data-ttu-id="d673e-455">tooensure, že spouštěcí úkol splňuje tento požadavek, můžete použít jednu ze dvou následujících metod:</span><span class="sxs-lookup"><span data-stu-id="d673e-455">tooensure that your start task meets this requirement, you can use one of two approaches:</span></span>
>
> 1. <span data-ttu-id="d673e-456">V každém uzlu ve fondu Batch můžete použít aplikaci balíčky toodistribute aplikace nebo data.</span><span class="sxs-lookup"><span data-stu-id="d673e-456">You can use application packages toodistribute applications or data across each node in your Batch pool.</span></span> <span data-ttu-id="d673e-457">Další informace o balíčky aplikací najdete v tématu [nasazení uzly toocompute aplikací pomocí balíčků aplikací Batch](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-457">For more information about application packages, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
> 2. <span data-ttu-id="d673e-458">Můžete ručně vytvořit komprimovaný archiv obsahující vaše soubory aplikací.</span><span class="sxs-lookup"><span data-stu-id="d673e-458">You can manually create a zipped archive containing your applications files.</span></span> <span data-ttu-id="d673e-459">Nahrajte váš komprimované archivu tooAzure úložiště jako objekt blob.</span><span class="sxs-lookup"><span data-stu-id="d673e-459">Upload your zipped archive tooAzure Storage as a blob.</span></span> <span data-ttu-id="d673e-460">Zadejte archivu ZIP hello jako soubor prostředků pro spouštěcí úkol.</span><span class="sxs-lookup"><span data-stu-id="d673e-460">Specify hello zipped archive as a resource file for your start task.</span></span> <span data-ttu-id="d673e-461">Než spustíte hello příkazového řádku pro spouštěcí úkol, rozbalte hello archivu z příkazového řádku hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-461">Before you run hello command line for your start task, unzip hello archive from hello command line.</span></span> 
>
>    <span data-ttu-id="d673e-462">toounzip hello archiv, můžete použít hello archivace nástroj podle svého výběru.</span><span class="sxs-lookup"><span data-stu-id="d673e-462">toounzip hello archive, you can use hello archiving tool of your choice.</span></span> <span data-ttu-id="d673e-463">Budete potřebovat tooinclude hello nástroj použít toounzip hello archivu jako soubor prostředků pro spouštěcí úkol hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-463">You will need tooinclude hello tool that you use toounzip hello archive as a resource file for hello start task.</span></span>
>
>

### <a name="job-manager-task"></a><span data-ttu-id="d673e-464">Úkol správce úloh</span><span class="sxs-lookup"><span data-stu-id="d673e-464">Job manager task</span></span>
<span data-ttu-id="d673e-465">Obvykle se používá **úkolu Správce úloh** toocontrol nebo monitorování úlohy provádění – například toocreate a odeslání hello úlohy pro úlohu, určení dalších úloh toorun a určit, kdy je práce dokončena.</span><span class="sxs-lookup"><span data-stu-id="d673e-465">You typically use a **job manager task** toocontrol and/or monitor job execution--for example, toocreate and submit hello tasks for a job, determine additional tasks toorun, and determine when work is complete.</span></span> <span data-ttu-id="d673e-466">Úkolu Správce úloh však není omezený toothese aktivity.</span><span class="sxs-lookup"><span data-stu-id="d673e-466">However, a job manager task is not restricted toothese activities.</span></span> <span data-ttu-id="d673e-467">Jde o plnohodnotný úkol, který může provádět všechny akce, které jsou požadovány pro úlohu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-467">It is a fully fledged task that can perform any actions that are required for hello job.</span></span> <span data-ttu-id="d673e-468">Úkol správce může například stáhnout soubor, který je zadaný jako parametr, analyzovat obsah hello tohoto souboru a odeslat dalších úkoly na základě těchto obsahů.</span><span class="sxs-lookup"><span data-stu-id="d673e-468">For example, a job manager task might download a file that is specified as a parameter, analyze hello contents of that file, and submit additional tasks based on those contents.</span></span>

<span data-ttu-id="d673e-469">Úkol správce úloh je spuštěn před všemi ostatními úkoly.</span><span class="sxs-lookup"><span data-stu-id="d673e-469">A job manager task is started before all other tasks.</span></span> <span data-ttu-id="d673e-470">Poskytuje hello následující funkce:</span><span class="sxs-lookup"><span data-stu-id="d673e-470">It provides hello following features:</span></span>

* <span data-ttu-id="d673e-471">Ho je automaticky odeslán jako úkol podle hello služby Batch při vytvoření úlohy hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-471">It is automatically submitted as a task by hello Batch service when hello job is created.</span></span>
* <span data-ttu-id="d673e-472">Ho je naplánované tooexecute před hello další úkoly v úloze.</span><span class="sxs-lookup"><span data-stu-id="d673e-472">It is scheduled tooexecute before hello other tasks in a job.</span></span>
* <span data-ttu-id="d673e-473">Jeho přidružený uzel je poslední toobe hello odebrat z fondu, pokud hello fond zmenšován.</span><span class="sxs-lookup"><span data-stu-id="d673e-473">Its associated node is hello last toobe removed from a pool when hello pool is being downsized.</span></span>
* <span data-ttu-id="d673e-474">Jeho ukončení může být vázanou toohello ukončení všech úkolů v úloze hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-474">Its termination can be tied toohello termination of all tasks in hello job.</span></span>
* <span data-ttu-id="d673e-475">Úkolu Správce úloh je uveden hello nejvyšší prioritou, když potřebuje toobe restartovat.</span><span class="sxs-lookup"><span data-stu-id="d673e-475">A job manager task is given hello highest priority when it needs toobe restarted.</span></span> <span data-ttu-id="d673e-476">Pokud není k dispozici nečinný uzel, hello služba Batch může ukončit jeden z hello ostatních spuštěných úkolů ve hello fondu toomake prostor pro toorun úkol Správce úloh hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-476">If an idle node is not available, hello Batch service might terminate one of hello other running tasks in hello pool toomake room for hello job manager task toorun.</span></span>
* <span data-ttu-id="d673e-477">Úkolu Správce úloh v jedné úloze nemá přednost přes hello úkoly jiných úloh.</span><span class="sxs-lookup"><span data-stu-id="d673e-477">A job manager task in one job does not have priority over hello tasks of other jobs.</span></span> <span data-ttu-id="d673e-478">Mezi úlohami jsou dodržovány pouze priority s úrovní úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-478">Across jobs, only job-level priorities are observed.</span></span>

### <a name="job-preparation-and-release-tasks"></a><span data-ttu-id="d673e-479">Úkoly přípravy a uvolnění úloh</span><span class="sxs-lookup"><span data-stu-id="d673e-479">Job preparation and release tasks</span></span>
<span data-ttu-id="d673e-480">Služba Batch zajišťuje úkoly přípravy úloh pro nastavení před provedením úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-480">Batch provides job preparation tasks for pre-job execution setup.</span></span> <span data-ttu-id="d673e-481">Úkoly uvolnění úloh jsou určeny pro údržbu nebo čištění po provedení úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-481">Job release tasks are for post-job maintenance or cleanup.</span></span>

* <span data-ttu-id="d673e-482">**Úkol přípravy úlohy**: úkol přípravy úlohy se spustí na všech výpočetních uzlech, které jsou naplánované toorun úlohy, před spuštěním hello se provést další úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-482">**Job preparation task**: A job preparation task runs on all compute nodes that are scheduled toorun tasks, before any of hello other job tasks are executed.</span></span> <span data-ttu-id="d673e-483">Data toocopy úkol přípravy úlohy, která je sdílena všemi úkoly, ale je jedinečné toohello úlohy, například můžete použít.</span><span class="sxs-lookup"><span data-stu-id="d673e-483">You can use a job preparation task toocopy data that is shared by all tasks, but is unique toohello job, for example.</span></span>
* <span data-ttu-id="d673e-484">**Úkol uvolnění úlohy**: Po dokončení úlohy úkol uvolnění úlohy se spustí na každém uzlu ve fondu hello, která spouští alespoň jeden úkol.</span><span class="sxs-lookup"><span data-stu-id="d673e-484">**Job release task**: When a job has completed, a job release task runs on each node in hello pool that executed at least one task.</span></span> <span data-ttu-id="d673e-485">Úloha verze úloh toodelete data, která je zkopírovaná pomocí hello úkol přípravy úlohy nebo toocompress a odesílání diagnostických dat protokolu, můžete například použít.</span><span class="sxs-lookup"><span data-stu-id="d673e-485">You can use a job release task toodelete data that is copied by hello job preparation task, or toocompress and upload diagnostic log data, for example.</span></span>

<span data-ttu-id="d673e-486">Obě úlohy přípravy a uvolnění úlohy umožňují toospecify toorun příkazového řádku při vyvolání úlohy hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-486">Both job preparation and release tasks allow you toospecify a command line toorun when hello task is invoked.</span></span> <span data-ttu-id="d673e-487">Nabízejí funkce, jako například stahování souborů, provádění se zvýšenými oprávněními, vlastní proměnné prostředí, maximální dobu provádění, počet opakování a dobu uchovávání souboru.</span><span class="sxs-lookup"><span data-stu-id="d673e-487">They offer features like file download, elevated execution, custom environment variables, maximum execution duration, retry count, and file retention time.</span></span>

<span data-ttu-id="d673e-488">Další informace ohledně úkolů přípravy a uvolnění úloh najdete v části [Spouštění úkolů přípravy a dokončení úlohy na výpočetních uzlech Azure Batch](batch-job-prep-release.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-488">For more information on job preparation and release tasks, see [Run job preparation and completion tasks on Azure Batch compute nodes](batch-job-prep-release.md).</span></span>

### <a name="multi-instance-task"></a><span data-ttu-id="d673e-489">Úkoly s více instancemi</span><span class="sxs-lookup"><span data-stu-id="d673e-489">Multi-instance task</span></span>
<span data-ttu-id="d673e-490">A [úkol s více instancemi](batch-mpi.md) je úkol, který je nakonfigurovaný toorun na více než jednom výpočetním uzlu současně.</span><span class="sxs-lookup"><span data-stu-id="d673e-490">A [multi-instance task](batch-mpi.md) is a task that is configured toorun on more than one compute node simultaneously.</span></span> <span data-ttu-id="d673e-491">Pomocí úkolů s více instancemi můžete povolit vysoce výkonné výpočetní scénáře, které vyžadují skupinu výpočetních uzlů, které jsou přidělené společně tooprocess jediné úlohy (jako je rozhraní MPI (Message Passing)).</span><span class="sxs-lookup"><span data-stu-id="d673e-491">With multi-instance tasks, you can enable high-performance computing scenarios that require a group of compute nodes that are allocated together tooprocess a single workload (like Message Passing Interface (MPI)).</span></span>

<span data-ttu-id="d673e-492">Podrobné informace o spouštění úloh MPI ve službě Batch pomocí knihovny Batch .NET hello, podívejte se na [použití s více instancemi úloh toorun aplikací rozhraní MPI (Message Passing) v Azure Batch](batch-mpi.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-492">For a detailed discussion on running MPI jobs in Batch by using hello Batch .NET library, check out [Use multi-instance tasks toorun Message Passing Interface (MPI) applications in Azure Batch](batch-mpi.md).</span></span>

### <a name="task-dependencies"></a><span data-ttu-id="d673e-493">Závislosti úkolů</span><span class="sxs-lookup"><span data-stu-id="d673e-493">Task dependencies</span></span>
<span data-ttu-id="d673e-494">[Závislosti úkolů](batch-task-dependencies.md)jako hello již název napovídá, umožňují toospecify, který úkol závisí na hello dokončení jiného úkolu před jeho spuštěním.</span><span class="sxs-lookup"><span data-stu-id="d673e-494">[Task dependencies](batch-task-dependencies.md), as hello name implies, allow you toospecify that a task depends on hello completion of other tasks before its execution.</span></span> <span data-ttu-id="d673e-495">Tato funkce poskytuje podporu pro situace, ve kterých "podřízený" úkol spotřebovává výstup hello "nadřazeného" úkolu--nebo když nadřazený úkol provádí inicializaci, který je požadován podřízeným úkolem.</span><span class="sxs-lookup"><span data-stu-id="d673e-495">This feature provides support for situations in which a "downstream" task consumes hello output of an "upstream" task--or when an upstream task performs some initialization that is required by a downstream task.</span></span> <span data-ttu-id="d673e-496">toouse tato funkce je potřeba první povolit závislosti úkolů v úloze služby Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-496">toouse this feature, you must first enable task dependencies on your Batch job.</span></span> <span data-ttu-id="d673e-497">Potom pro každý úkol, který závisí na jiném (nebo mnoha jiných), zadejte hello úlohy, které tento úkol závisí.</span><span class="sxs-lookup"><span data-stu-id="d673e-497">Then, for each task that depends on another (or many others), you specify hello tasks which that task depends on.</span></span>

<span data-ttu-id="d673e-498">Pomocí závislosti úkolů můžete nakonfigurovat jako hello následující scénáře:</span><span class="sxs-lookup"><span data-stu-id="d673e-498">With task dependencies, you can configure scenarios like hello following:</span></span>

* <span data-ttu-id="d673e-499">*Úkol B* závisí na *úkolu A* (*úkol B* nezahájí provádění, dokud se nedokončí *úkol A*).</span><span class="sxs-lookup"><span data-stu-id="d673e-499">*taskB* depends on *taskA* (*taskB* will not begin execution until *taskA* has completed).</span></span>
* <span data-ttu-id="d673e-500">*Úkol C* závisí na *úkolu A* i *úkolu B*.</span><span class="sxs-lookup"><span data-stu-id="d673e-500">*taskC* depends on both *taskA* and *taskB*.</span></span>
* <span data-ttu-id="d673e-501">*Úkol D* závisí na celé řadě úkolů, například na úkolu *1* až *10*, než se provede</span><span class="sxs-lookup"><span data-stu-id="d673e-501">*taskD* depends on a range of tasks, such as tasks *1* through *10*, before it executes.</span></span>

<span data-ttu-id="d673e-502">Podívejte se na [úkolů závislostí v Azure Batch](batch-task-dependencies.md) a hello [TaskDependencies] [ github_sample_taskdeps] ukázka kódu v hello [azure-batch-samples] [ github_samples] Úložiště GitHub další podrobné informace o této funkci.</span><span class="sxs-lookup"><span data-stu-id="d673e-502">Check out [Task dependencies in Azure Batch](batch-task-dependencies.md) and hello [TaskDependencies][github_sample_taskdeps] code sample in hello [azure-batch-samples][github_samples] GitHub repository for more in-depth details on this feature.</span></span>

## <a name="environment-settings-for-tasks"></a><span data-ttu-id="d673e-503">Nastavení prostředí pro úlohy</span><span class="sxs-lookup"><span data-stu-id="d673e-503">Environment settings for tasks</span></span>
<span data-ttu-id="d673e-504">Každý úkol provedený hello služba Batch má přístup tooenvironment proměnné, které se nastaví na výpočetních uzlech.</span><span class="sxs-lookup"><span data-stu-id="d673e-504">Each task executed by hello Batch service has access tooenvironment variables that it sets on compute nodes.</span></span> <span data-ttu-id="d673e-505">To zahrnuje proměnných definovaných systémem hello služby Batch ([služby definované][msdn_env_vars]) a vlastní proměnné prostředí definující pro vaše úkoly.</span><span class="sxs-lookup"><span data-stu-id="d673e-505">This includes environment variables defined by hello Batch service ([service-defined][msdn_env_vars]) and custom environment variables that you can define for your tasks.</span></span> <span data-ttu-id="d673e-506">Hello aplikace a skripty, které vaše úkoly spouští mít přístup k proměnným prostředí toothese během provádění.</span><span class="sxs-lookup"><span data-stu-id="d673e-506">hello applications and scripts your tasks execute have access toothese environment variables during execution.</span></span>

<span data-ttu-id="d673e-507">Vlastní proměnné prostředí můžete nastavit na úrovni úloh hello naplněním hello *nastavení prostředí* vlastnost pro tyto entity.</span><span class="sxs-lookup"><span data-stu-id="d673e-507">You can set custom environment variables at hello task or job level by populating hello *environment settings* property for these entities.</span></span> <span data-ttu-id="d673e-508">Například v tématu hello [přidat úloha tooa úlohu] [ rest_add_task] operace (Batch REST API) nebo hello [CloudTask.EnvironmentSettings] [ net_cloudtask_env] a [ CloudJob.CommonEnvironmentSettings] [ net_job_env] vlastnosti v Batch .NET.</span><span class="sxs-lookup"><span data-stu-id="d673e-508">For example, see hello [Add a task tooa job][rest_add_task] operation (Batch REST API), or hello [CloudTask.EnvironmentSettings][net_cloudtask_env] and [CloudJob.CommonEnvironmentSettings][net_job_env] properties in Batch .NET.</span></span>

<span data-ttu-id="d673e-509">Klientská aplikace nebo služby můžete získat proměnné prostředí úkolu, definované služby i vlastní, pomocí hello [získat informace o úkolu] [ rest_get_task_info] operace (Batch REST) nebo přístupem k Hello [CloudTask.EnvironmentSettings] [ net_cloudtask_env] vlastnost (Batch .NET).</span><span class="sxs-lookup"><span data-stu-id="d673e-509">Your client application or service can obtain a task's environment variables, both service-defined and custom, by using hello [Get information about a task][rest_get_task_info] operation (Batch REST) or by accessing hello [CloudTask.EnvironmentSettings][net_cloudtask_env] property (Batch .NET).</span></span> <span data-ttu-id="d673e-510">Procesy prováděné na výpočetním uzlu přístupné a jiné proměnné prostředí v hello uzlu, například pomocí hello známé `%VARIABLE_NAME%` (Windows) nebo `$VARIABLE_NAME` syntaxe (Linux).</span><span class="sxs-lookup"><span data-stu-id="d673e-510">Processes executing on a compute node can access these and other environment variables on hello node, for example, by using hello familiar `%VARIABLE_NAME%` (Windows) or `$VARIABLE_NAME` (Linux) syntax.</span></span>

<span data-ttu-id="d673e-511">Úplný seznam všech proměnných prostředí definovaných službou najdete v článku [Proměnné prostředí výpočetního uzlu][msdn_env_vars].</span><span class="sxs-lookup"><span data-stu-id="d673e-511">You can find a full list of all service-defined environment variables in [Compute node environment variables][msdn_env_vars].</span></span>

## <a name="files-and-directories"></a><span data-ttu-id="d673e-512">Soubory a adresáře</span><span class="sxs-lookup"><span data-stu-id="d673e-512">Files and directories</span></span>
<span data-ttu-id="d673e-513">Každý úkol má *pracovní adresář*, pod kterým vytváří žádný nebo více souborů a adresářů.</span><span class="sxs-lookup"><span data-stu-id="d673e-513">Each task has a *working directory* under which it creates zero or more files and directories.</span></span> <span data-ttu-id="d673e-514">Pracovní adresář může být použity k uložení programu hello, spuštěného úlohou hello hello data, která zpracovává, a hello výstup hello zpracování, které provádí.</span><span class="sxs-lookup"><span data-stu-id="d673e-514">This working directory can be used for storing hello program that is run by hello task, hello data that it processes, and hello output of hello processing it performs.</span></span> <span data-ttu-id="d673e-515">Všechny soubory a adresáře úlohy jsou vlastněny hello úloh uživatele.</span><span class="sxs-lookup"><span data-stu-id="d673e-515">All files and directories of a task are owned by hello task user.</span></span>

<span data-ttu-id="d673e-516">Hello služba Batch zveřejňuje část systému souborů hello na uzlu jako hello *kořenový adresář*.</span><span class="sxs-lookup"><span data-stu-id="d673e-516">hello Batch service exposes a portion of hello file system on a node as hello *root directory*.</span></span> <span data-ttu-id="d673e-517">Úlohy můžete přístup hello kořenový adresář odkazem hello `AZ_BATCH_NODE_ROOT_DIR` proměnné prostředí.</span><span class="sxs-lookup"><span data-stu-id="d673e-517">Tasks can access hello root directory by referencing hello `AZ_BATCH_NODE_ROOT_DIR` environment variable.</span></span> <span data-ttu-id="d673e-518">Další informace o používání proměnných prostředí najdete v tématu [Nastavení prostředí pro úkoly](#environment-settings-for-tasks).</span><span class="sxs-lookup"><span data-stu-id="d673e-518">For more information about using environment variables, see [Environment settings for tasks](#environment-settings-for-tasks).</span></span>

<span data-ttu-id="d673e-519">Hello kořenový adresář obsahuje následující adresářovou strukturu hello:</span><span class="sxs-lookup"><span data-stu-id="d673e-519">hello root directory contains hello following directory structure:</span></span>

![Adresářová struktura výpočetního uzlu][1]

* <span data-ttu-id="d673e-521">**sdílené**: Tento adresář poskytuje přístup pro čtení a zápis příliš*všechny* úkoly, které běží na uzlu.</span><span class="sxs-lookup"><span data-stu-id="d673e-521">**shared**: This directory provides read/write access too*all* tasks that run on a node.</span></span> <span data-ttu-id="d673e-522">Všechny úlohy, které běží na uzlu hello můžete vytvářet, číst, aktualizovat a odstranit soubory v tomto adresáři.</span><span class="sxs-lookup"><span data-stu-id="d673e-522">Any task that runs on hello node can create, read, update, and delete files in this directory.</span></span> <span data-ttu-id="d673e-523">Úlohy můžete přístup k tomuto adresáři odkazem hello `AZ_BATCH_NODE_SHARED_DIR` proměnné prostředí.</span><span class="sxs-lookup"><span data-stu-id="d673e-523">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_SHARED_DIR` environment variable.</span></span>
* <span data-ttu-id="d673e-524">**startup**: Tento adresář je využíván spouštěcím úkolem jako jeho pracovní adresář.</span><span class="sxs-lookup"><span data-stu-id="d673e-524">**startup**: This directory is used by a start task as its working directory.</span></span> <span data-ttu-id="d673e-525">Všechny soubory hello, které jsou stažené toohello uzlu hello spuštění úlohy jsou zde uloženy.</span><span class="sxs-lookup"><span data-stu-id="d673e-525">All of hello files that are downloaded toohello node by hello start task are stored here.</span></span> <span data-ttu-id="d673e-526">Hello spouštěcí úkol může vytvořit, číst, aktualizovat a odstranit soubory v tomto adresáři.</span><span class="sxs-lookup"><span data-stu-id="d673e-526">hello start task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="d673e-527">Úlohy můžete přístup k tomuto adresáři odkazem hello `AZ_BATCH_NODE_STARTUP_DIR` proměnné prostředí.</span><span class="sxs-lookup"><span data-stu-id="d673e-527">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_STARTUP_DIR` environment variable.</span></span>
* <span data-ttu-id="d673e-528">**Úlohy**: adresář se vytvoří pro každý úkol, který běží na uzlu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-528">**Tasks**: A directory is created for each task that runs on hello node.</span></span> <span data-ttu-id="d673e-529">Je přístupný odkazem hello `AZ_BATCH_TASK_DIR` proměnné prostředí.</span><span class="sxs-lookup"><span data-stu-id="d673e-529">It is accessed by referencing hello `AZ_BATCH_TASK_DIR` environment variable.</span></span>

    <span data-ttu-id="d673e-530">V rámci každého adresáře úkolu vytvoří hello služba Batch pracovní adresář (`wd`) jehož jedinečná cesta je zadána hello `AZ_BATCH_TASK_WORKING_DIR` proměnné prostředí.</span><span class="sxs-lookup"><span data-stu-id="d673e-530">Within each task directory, hello Batch service creates a working directory (`wd`) whose unique path is specified by hello `AZ_BATCH_TASK_WORKING_DIR` environment variable.</span></span> <span data-ttu-id="d673e-531">Tento adresář poskytuje úloha toohello přístupu pro čtení a zápis.</span><span class="sxs-lookup"><span data-stu-id="d673e-531">This directory provides read/write access toohello task.</span></span> <span data-ttu-id="d673e-532">Hello úloh můžete vytvářet, číst, aktualizovat a odstranit soubory v tomto adresáři.</span><span class="sxs-lookup"><span data-stu-id="d673e-532">hello task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="d673e-533">Tento adresář je zachován podle hello *RetentionTime* omezení, které je zadané pro úlohu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-533">This directory is retained based on hello *RetentionTime* constraint that is specified for hello task.</span></span>

    <span data-ttu-id="d673e-534">`stdout.txt`a `stderr.txt`: tyto soubory jsou zapsány do složky toohello úkolů během provádění hello hello úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-534">`stdout.txt` and `stderr.txt`: These files are written toohello task folder during hello execution of hello task.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d673e-535">Pokud uzel je odebrán z fondu hello *všechny* Dobrý den soubory, které jsou uloženy na uzlu hello byly odebrány.</span><span class="sxs-lookup"><span data-stu-id="d673e-535">When a node is removed from hello pool, *all* of hello files that are stored on hello node are removed.</span></span>
>
>

## <a name="application-packages"></a><span data-ttu-id="d673e-536">Balíčky aplikací</span><span class="sxs-lookup"><span data-stu-id="d673e-536">Application packages</span></span>
<span data-ttu-id="d673e-537">Hello [balíčky aplikací](batch-application-packages.md) funkce poskytuje snadnou správu a nasazení aplikací toohello výpočetních uzlů ve fondech.</span><span class="sxs-lookup"><span data-stu-id="d673e-537">hello [application packages](batch-application-packages.md) feature provides easy management and deployment of applications toohello compute nodes in your pools.</span></span> <span data-ttu-id="d673e-538">Můžete nahrát a spravovat více verzí hello spuštění aplikací prostřednictvím úkolů, včetně jejich binárních a podpůrných souborů.</span><span class="sxs-lookup"><span data-stu-id="d673e-538">You can upload and manage multiple versions of hello applications run by your tasks, including their binaries and support files.</span></span> <span data-ttu-id="d673e-539">Potom můžete automaticky nasadit jednu nebo více z těchto aplikací toohello výpočetní uzly ve fondu.</span><span class="sxs-lookup"><span data-stu-id="d673e-539">Then you can automatically deploy one or more of these applications toohello compute nodes in your pool.</span></span>

<span data-ttu-id="d673e-540">Můžete zadat balíčky aplikací na úrovni hello fondu a úloh.</span><span class="sxs-lookup"><span data-stu-id="d673e-540">You can specify application packages at hello pool and task level.</span></span> <span data-ttu-id="d673e-541">Když zadáte balíčky fondu aplikací, aplikace hello je nasazené tooevery uzlu ve fondu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-541">When you specify pool application packages, hello application is deployed tooevery node in hello pool.</span></span> <span data-ttu-id="d673e-542">Když zadáte úloh balíčky aplikací, aplikace hello je nasazené pouze toonodes, které jsou naplánované toorun alespoň jeden z hello úlohy, těsně před hello příkazový řádek úkolu spuštění.</span><span class="sxs-lookup"><span data-stu-id="d673e-542">When you specify task application packages, hello application is deployed only toonodes that are scheduled toorun at least one of hello job's tasks, just before hello task's command line is run.</span></span>

<span data-ttu-id="d673e-543">Batch zpracovává hello podrobnosti o práci s Azure Storage toostore balíčky aplikací a nasadit je toocompute uzly, můžete zjednodušit režijní náklady na kód a správu.</span><span class="sxs-lookup"><span data-stu-id="d673e-543">Batch handles hello details of working with Azure Storage toostore your application packages and deploy them toocompute nodes, so both your code and management overhead can be simplified.</span></span>

<span data-ttu-id="d673e-544">toofind Další informace o funkci balíčku aplikace hello, podívejte se na [nasazení uzly toocompute aplikací pomocí balíčků aplikací Batch](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-544">toofind out more about hello application package feature, check out [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>

> [!NOTE]
> <span data-ttu-id="d673e-545">Pokud přidáte fondu aplikací balíčky tooan *existující* fondu, musíte restartovat svůj výpočetní uzly pro uzly toohello toobe nasadit balíčky aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-545">If you add pool application packages tooan *existing* pool, you must reboot its compute nodes for hello application packages toobe deployed toohello nodes.</span></span>
>
>

## <a name="pool-and-compute-node-lifetime"></a><span data-ttu-id="d673e-546">Životnost fondu a výpočetního uzlu</span><span class="sxs-lookup"><span data-stu-id="d673e-546">Pool and compute node lifetime</span></span>
<span data-ttu-id="d673e-547">Při návrhu řešení Azure Batch, máte toomake návrhu rozhodnutí o tom, a když fondy vytvářejí a jak dlouho jsou výpočetní uzly v rámci těchto fondů udržovány dostupné.</span><span class="sxs-lookup"><span data-stu-id="d673e-547">When you design your Azure Batch solution, you have toomake a design decision about how and when pools are created, and how long compute nodes within those pools are kept available.</span></span>

<span data-ttu-id="d673e-548">Na jednom konci spektra hello můžete vytvořit fond pro každou úlohu, která odešlete a odstraní hello fondu, jakmile její úkoly dokončí provádění.</span><span class="sxs-lookup"><span data-stu-id="d673e-548">On one end of hello spectrum, you can create a pool for each job that you submit, and delete hello pool as soon as its tasks finish execution.</span></span> <span data-ttu-id="d673e-549">To maximalizuje využití, protože hello uzly jsou přiděleny pouze tehdy, když potřeby a vypnout, jakmile jsou nečinnosti.</span><span class="sxs-lookup"><span data-stu-id="d673e-549">This maximizes utilization because hello nodes are only allocated when needed, and shut down as soon as they're idle.</span></span> <span data-ttu-id="d673e-550">To znamená, že hello úloha musí čekat toobe uzly hello přidělené, je důležité toonote, které úlohy jsou naplánovány pro spuštění, jakmile jsou jednotlivě k dispozici uzly, přiděleno a hello spouštěcí úkol je dokončen.</span><span class="sxs-lookup"><span data-stu-id="d673e-550">While this means that hello job must wait for hello nodes toobe allocated, it's important toonote that tasks are scheduled for execution as soon as nodes are individually available, allocated, and hello start task has completed.</span></span> <span data-ttu-id="d673e-551">Batch nemá *není* Počkejte, dokud před přiřazením úkolů toohello uzly jsou k dispozici všechny uzly v rámci fondu.</span><span class="sxs-lookup"><span data-stu-id="d673e-551">Batch does *not* wait until all nodes within a pool are available before assigning tasks toohello nodes.</span></span> <span data-ttu-id="d673e-552">Tím je zajištěno maximální využití všech dostupných uzlů.</span><span class="sxs-lookup"><span data-stu-id="d673e-552">This ensures maximum utilization of all available nodes.</span></span>

<span data-ttu-id="d673e-553">V hello druhém konci spektra hello, pokud okamžité spuštění úloh hello nejvyšší prioritou, můžete vytvořit fond dopředu a zpřístupnit jeho uzly před odesláním úloh.</span><span class="sxs-lookup"><span data-stu-id="d673e-553">At hello other end of hello spectrum, if having jobs start immediately is hello highest priority, you can create a pool ahead of time and make its nodes available before jobs are submitted.</span></span> <span data-ttu-id="d673e-554">V tomto scénáři můžete úloh spustit okamžitě, ale uzly mohou být v nečinnosti při čekání na jejich toobe přiřazen.</span><span class="sxs-lookup"><span data-stu-id="d673e-554">In this scenario, tasks can start immediately, but nodes might sit idle while waiting for them toobe assigned.</span></span>

<span data-ttu-id="d673e-555">V případě zpracovávání proměnlivého, ale stálého zatížení se obvykle používá kombinovaný přístup.</span><span class="sxs-lookup"><span data-stu-id="d673e-555">A combined approach is typically used for handling a variable, but ongoing, load.</span></span> <span data-ttu-id="d673e-556">Můžete mít fond, že se odešlou do více úloh, ale můžete škálovat hello počet uzlů, nahoru nebo dolů podle zatížení úlohy toohello (viz [škálování výpočetní prostředky](#scaling-compute-resources) v následující části hello).</span><span class="sxs-lookup"><span data-stu-id="d673e-556">You can have a pool that multiple jobs are submitted to, but can scale hello number of nodes up or down according toohello job load (see [Scaling compute resources](#scaling-compute-resources) in hello following section).</span></span> <span data-ttu-id="d673e-557">Toto přizpůsobování kapacity můžete provádět reaktivně, na základě aktuálního zatížení, nebo proaktivně, pokud lze zatížení předpovídat.</span><span class="sxs-lookup"><span data-stu-id="d673e-557">You can do this reactively, based on current load, or proactively, if load can be predicted.</span></span>

## <a name="virtual-network-vnet-and-firewall-configuration"></a><span data-ttu-id="d673e-558">Konfigurace virtuální sítě a brány firewall</span><span class="sxs-lookup"><span data-stu-id="d673e-558">Virtual network (VNet) and firewall configuration</span></span> 

<span data-ttu-id="d673e-559">Při zřizování fond výpočetních uzlů ve službě Azure Batch můžete fondu hello přidružit podsíť Azure [virtuální síť (VNet)](../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-559">When you provision a pool of compute nodes in Azure Batch, you can associate hello pool with a subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="d673e-560">toolearn Další informace o vytvoření virtuální sítě s podsítěmi, najdete v části [vytvořit virtuální síť Azure s podsítěmi](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-560">toolearn more about creating a VNet with subnets, see [Create an Azure virtual network with subnets](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span></span> 

 * <span data-ttu-id="d673e-561">Hello virtuální sítě přidružený fondu musí být:</span><span class="sxs-lookup"><span data-stu-id="d673e-561">hello VNet associated with a pool must be:</span></span>

   * <span data-ttu-id="d673e-562">V hello stejné Azure **oblast** jako hello účtu Azure Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-562">In hello same Azure **region** as hello Azure Batch account.</span></span>
   * <span data-ttu-id="d673e-563">V hello stejné **předplatné** jako hello účtu Azure Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-563">In hello same **subscription** as hello Azure Batch account.</span></span>

* <span data-ttu-id="d673e-564">Hello typ virtuální sítě podporované závisí na přidělování fondů pro hello účtu Batch:</span><span class="sxs-lookup"><span data-stu-id="d673e-564">hello type of VNet supported depends on how pools are being allocated for hello Batch account:</span></span>

    - <span data-ttu-id="d673e-565">Pokud je režim přidělení fondu hello vašeho účtu Batch nastaven tooBatch služby, pak můžete přiřadit pouze toopools virtuální sítě vytvořené pomocí hello **konfigurace cloudových služeb**.</span><span class="sxs-lookup"><span data-stu-id="d673e-565">If hello pool allocation mode for your Batch account is set tooBatch Service, then you can assign a VNet only toopools created with hello **Cloud Services Configuration**.</span></span> <span data-ttu-id="d673e-566">Kromě toho hello zadat virtuální síť musí být vytvářeny pomocí modelu nasazení classic hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-566">Additionally, hello specified VNet must be created with hello classic deployment model.</span></span> <span data-ttu-id="d673e-567">Virtuální sítě vytvořené pomocí modelu nasazení Azure Resource Manager hello nejsou podporovány.</span><span class="sxs-lookup"><span data-stu-id="d673e-567">VNets created with hello Azure Resource Manager deployment model are not supported.</span></span>
 
    - <span data-ttu-id="d673e-568">Pokud je režim přidělení fondu hello vašeho účtu Batch nastaven tooUser předplatné, pak můžete přiřadit pouze toopools virtuální sítě vytvořené pomocí hello **konfigurace virtuálního počítače**.</span><span class="sxs-lookup"><span data-stu-id="d673e-568">If hello pool allocation mode for your Batch account is set tooUser Subscription, then you can assign a VNet only toopools created with hello **Virtual Machine Configuration**.</span></span> <span data-ttu-id="d673e-569">Fondy, které jsou vytvořené pomocí hello **konfigurace služby Cloud** nejsou podporovány.</span><span class="sxs-lookup"><span data-stu-id="d673e-569">Pools created with hello **Cloud Service Configuration** are not supported.</span></span> <span data-ttu-id="d673e-570">Dobrý den, které mohou být vytvořeny přidružené virtuální sítě pomocí modelu nasazení Azure Resource Manager hello nebo modelu nasazení classic hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-570">hello associated VNet may be created with either hello Azure Resource Manager deployment model or hello classic deployment model.</span></span>

    <span data-ttu-id="d673e-571">Pro tabulku shrnutí podpora virtuální sítě podle toopool přidělení režimu, najdete v části hello [režim přidělení fondu](#pool-allocation-mode) části.</span><span class="sxs-lookup"><span data-stu-id="d673e-571">For a table summarizing VNet support according toopool allocation mode, see hello [Pool allocation mode](#pool-allocation-mode) section.</span></span>

* <span data-ttu-id="d673e-572">Pokud tooBatch služeb má nastaven režim přidělení fondu hello vašeho účtu Batch, pak musíte poskytnout oprávnění pro hello tooaccess hlavní služby Batch hello virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="d673e-572">If hello pool allocation mode for your Batch account is set tooBatch Service, then you must provide permissions for hello Batch service principal tooaccess hello VNet.</span></span> <span data-ttu-id="d673e-573">Hello virtuální síť musí přiřadit hello [Classic Virtual Machine Contributor Role-Based řízení přístupu (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) role toohello Batch instanční objekt.</span><span class="sxs-lookup"><span data-stu-id="d673e-573">hello VNet must assign hello [Classic Virtual Machine Contributor Role-Based Access Control (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) role toohello Batch service principal.</span></span> <span data-ttu-id="d673e-574">Pokud hello zadané RBAC role není zadaný, služba Batch hello vrátí 400 (Chybný požadavek).</span><span class="sxs-lookup"><span data-stu-id="d673e-574">If hello specified RBAC role is not provided, hello Batch service returns 400 (Bad Request).</span></span> <span data-ttu-id="d673e-575">role hello tooadd v hello portálu Azure:</span><span class="sxs-lookup"><span data-stu-id="d673e-575">tooadd hello role in hello Azure portal:</span></span>

    1. <span data-ttu-id="d673e-576">Vyberte hello **VNet**, pak **přístup k ovládacímu prvku (IAM)** > **role** > **Přispěvatel virtuálních počítačů**  >  **Přidat**.</span><span class="sxs-lookup"><span data-stu-id="d673e-576">Select hello **VNet**, then **Access control (IAM)** > **Roles** > **Virtual Machine Contributor** > **Add**.</span></span>
    2. <span data-ttu-id="d673e-577">Na hello **přidat oprávnění** okně, vyberte hello **Přispěvatel virtuálních počítačů** role.</span><span class="sxs-lookup"><span data-stu-id="d673e-577">On hello **Add permissions** blade, select hello **Virtual Machine Contributor** role.</span></span>
    3. <span data-ttu-id="d673e-578">Na hello **přidat oprávnění** okno, vyhledejte hello Batch API.</span><span class="sxs-lookup"><span data-stu-id="d673e-578">On hello **Add permissions** blade, search for hello Batch API.</span></span> <span data-ttu-id="d673e-579">Hledání pro každý z těchto řetězců zase vyhledejte hello rozhraní API:</span><span class="sxs-lookup"><span data-stu-id="d673e-579">Search for each of these strings in turn until you find hello API:</span></span>
        1. <span data-ttu-id="d673e-580">**MicrosoftAzureBatch**.</span><span class="sxs-lookup"><span data-stu-id="d673e-580">**MicrosoftAzureBatch**.</span></span>
        2. <span data-ttu-id="d673e-581">**Microsoft Azure Batch**.</span><span class="sxs-lookup"><span data-stu-id="d673e-581">**Microsoft Azure Batch**.</span></span> <span data-ttu-id="d673e-582">Novější tenanti služby Azure AD mohou používat tento název.</span><span class="sxs-lookup"><span data-stu-id="d673e-582">Newer Azure AD tenants may use this name.</span></span>
        3. <span data-ttu-id="d673e-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** se hello ID hello Batch API.</span><span class="sxs-lookup"><span data-stu-id="d673e-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** is hello ID for hello Batch API.</span></span> 
    3. <span data-ttu-id="d673e-584">Vyberte hello Batch API instanční objekt.</span><span class="sxs-lookup"><span data-stu-id="d673e-584">Select hello Batch API service principal.</span></span> 
    4. <span data-ttu-id="d673e-585">Klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="d673e-585">Click **Save**.</span></span>

        ![Přiřazení role Přispěvatel virtuálních počítačů, tooBatch objektu služby](./media/batch-api-basics/iam-add-role.png)


* <span data-ttu-id="d673e-587">Hello Zadaná podsíť by měl mít dostatek volného **IP adresy** tooaccommodate hello celkový počet cílové uzly; to znamená, hello součet hello `targetDedicatedNodes` a `targetLowPriorityNodes` vlastnosti fondu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-587">hello specified subnet should have enough free **IP addresses** tooaccommodate hello total number of target nodes; that is, hello sum of hello `targetDedicatedNodes` and `targetLowPriorityNodes` properties of hello pool.</span></span> <span data-ttu-id="d673e-588">Pokud podsíť hello nemá dostatek volné IP adresy, hello služba Batch částečně přiděluje hello výpočetních uzlů ve fondu hello a vrátí chybu změny velikosti.</span><span class="sxs-lookup"><span data-stu-id="d673e-588">If hello subnet doesn't have enough free IP addresses, hello Batch service partially allocates hello compute nodes in hello pool and returns a resize error.</span></span>

* <span data-ttu-id="d673e-589">Hello Zadaná podsíť musí umožňovat komunikaci z toobe služby Batch hello možné tooschedule úlohy na výpočetních uzlech hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-589">hello specified subnet must allow communication from hello Batch service toobe able tooschedule tasks on hello compute nodes.</span></span> <span data-ttu-id="d673e-590">Pokud je komunikace toohello výpočetních uzlů je odepřen **skupina zabezpečení sítě (NSG)** přidružené hello sítě VNet, pak hello služba Batch nastaví stav hello hello výpočetních uzlů příliš**nepoužitelná**.</span><span class="sxs-lookup"><span data-stu-id="d673e-590">If communication toohello compute nodes is denied by a **Network Security Group (NSG)** associated with hello VNet, then hello Batch service sets hello state of hello compute nodes too**unusable**.</span></span>

* <span data-ttu-id="d673e-591">Pokud hello zadané virtuální síti přidruženy **skupiny zabezpečení sítě (Nsg)** nebo **brány firewall**, pak musí být povoleny několik vyhrazené zápisy systémové porty pro příchozí komunikaci:</span><span class="sxs-lookup"><span data-stu-id="d673e-591">If hello specified VNet has associated **Network Security Groups (NSGs)** and/or a **firewall**, then a few reserved system ports must be enabled for inbound communication:</span></span>

- <span data-ttu-id="d673e-592">Pro fondy vytvořené s konfigurací virtuálního počítače povolte porty 29876 a 29877 také port 22 pro Linux a port 3389 pro Windows.</span><span class="sxs-lookup"><span data-stu-id="d673e-592">For pools created with a virtual machine configuration, enable ports 29876 and 29877, as well as port 22 for Linux and port 3389 for Windows.</span></span> 
- <span data-ttu-id="d673e-593">Pro fondy vytvořené s konfigurací cloudové služby povolte porty 10100, 20100 a 30100.</span><span class="sxs-lookup"><span data-stu-id="d673e-593">For pools created with a cloud service configuration, enable ports 10100, 20100, and 30100.</span></span> 
- <span data-ttu-id="d673e-594">Povolte odchozí připojení tooAzure úložiště na portu 443.</span><span class="sxs-lookup"><span data-stu-id="d673e-594">Enable outbound connections tooAzure Storage on port 443.</span></span> <span data-ttu-id="d673e-595">Také se ujistěte, že všechny vlastní servery DNS obsluhující virtuální síť dokáží přeložit váš koncový bod služby Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="d673e-595">Also, ensure that your Azure Storage endpoint can be resolved by any custom DNS servers that serve your VNET.</span></span> <span data-ttu-id="d673e-596">Konkrétně, adresa URL hello formátu `<account>.table.core.windows.net` musí být možné přeložit.</span><span class="sxs-lookup"><span data-stu-id="d673e-596">Specifically, a URL of hello form `<account>.table.core.windows.net` should be resolvable.</span></span>

    <span data-ttu-id="d673e-597">Hello následující tabulka popisuje hello příchozí porty, které je třeba tooenable pro fondy, které jste vytvořili pomocí hello konfigurace virtuálního počítače:</span><span class="sxs-lookup"><span data-stu-id="d673e-597">hello following table describes hello inbound ports that you need tooenable for pools that you created with hello virtual machine configuration:</span></span>

    |    <span data-ttu-id="d673e-598">Cílové porty</span><span class="sxs-lookup"><span data-stu-id="d673e-598">Destination Port(s)</span></span>    |    <span data-ttu-id="d673e-599">Zdrojová IP adresa</span><span class="sxs-lookup"><span data-stu-id="d673e-599">Source IP address</span></span>      |    <span data-ttu-id="d673e-600">Přidala služba Batch skupiny NSG?</span><span class="sxs-lookup"><span data-stu-id="d673e-600">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="d673e-601">Vyžaduje se pro virtuální počítač toobe použitelné?</span><span class="sxs-lookup"><span data-stu-id="d673e-601">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="d673e-602">Akce ze strany uživatele</span><span class="sxs-lookup"><span data-stu-id="d673e-602">Action from user</span></span>   |
    |---------------------------|---------------------------|----------------------------|-------------------------------------|-----------------------|
    |    <ul><li><span data-ttu-id="d673e-603">Pro fondy, které jsou vytvořené pomocí konfigurace virtuálního počítače hello: 29876, 29877</span><span class="sxs-lookup"><span data-stu-id="d673e-603">For pools created with hello virtual machine configuration: 29876, 29877</span></span></li><li><span data-ttu-id="d673e-604">Pro fondy, které jsou vytvořené pomocí konfigurace služby cloud hello: 10100, 20100, 30100</span><span class="sxs-lookup"><span data-stu-id="d673e-604">For pools created with hello cloud service configuration: 10100, 20100, 30100</span></span></li></ul>         |    <span data-ttu-id="d673e-605">Jenom IP adresy role služby Batch</span><span class="sxs-lookup"><span data-stu-id="d673e-605">Only Batch service role IP addresses</span></span> |    <span data-ttu-id="d673e-606">Ano.</span><span class="sxs-lookup"><span data-stu-id="d673e-606">Yes.</span></span> <span data-ttu-id="d673e-607">Batch přidá skupiny Nsg na úrovni hello tooVMs rozhraní (NIC) připojené sítě.</span><span class="sxs-lookup"><span data-stu-id="d673e-607">Batch adds NSGs at hello level of network interfaces (NIC) attached tooVMs.</span></span> <span data-ttu-id="d673e-608">Tyto skupiny zabezpečení sítě povolují přenos jenom z IP adres role služby Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-608">These NSGs allow traffic only from Batch service role IP addresses.</span></span> <span data-ttu-id="d673e-609">I v případě, že otevřete tyto porty pro celý web hello, provoz hello získat zablokuje v hello síťový adaptér.</span><span class="sxs-lookup"><span data-stu-id="d673e-609">Even if you open these ports for hello  entire web, hello traffic will get blocked at hello NIC.</span></span> |    <span data-ttu-id="d673e-610">Ano</span><span class="sxs-lookup"><span data-stu-id="d673e-610">Yes</span></span>  |  <span data-ttu-id="d673e-611">Není nutné toospecify skupina NSG, protože Batch umožňuje pouze dávky IP adres.</span><span class="sxs-lookup"><span data-stu-id="d673e-611">You do not need toospecify an NSG, because Batch allows only Batch IP addresses.</span></span> <br /><br /> <span data-ttu-id="d673e-612">Pokud ale NSG zadáte, nezapomeňte prosím zajistit, aby tyto porty byly otevřené pro příchozí přenos.</span><span class="sxs-lookup"><span data-stu-id="d673e-612">However, if you do specify an NSG, please ensure that these ports are open for inbound traffic.</span></span> <br /><br /> <span data-ttu-id="d673e-613">Pokud zadáte * jako hello zdrojové IP adresy ve vaší NSG, dávky stále přidá skupiny Nsg na úrovni hello síťovou kartu připojenou tooVMs.</span><span class="sxs-lookup"><span data-stu-id="d673e-613">If you specify * as hello source IP in your NSG, Batch still adds NSGs at hello level of NIC attached tooVMs.</span></span> |
    |    <span data-ttu-id="d673e-614">3389, 22</span><span class="sxs-lookup"><span data-stu-id="d673e-614">3389, 22</span></span>               |    <span data-ttu-id="d673e-615">Uživatel počítače slouží pro ladění, aby vzdálený přístup k hello virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="d673e-615">User machines, used for debugging purposes, so that you can remotely access hello VM.</span></span>    |    <span data-ttu-id="d673e-616">Ne</span><span class="sxs-lookup"><span data-stu-id="d673e-616">No</span></span>                                    |    <span data-ttu-id="d673e-617">Ne</span><span class="sxs-lookup"><span data-stu-id="d673e-617">No</span></span>                     |    <span data-ttu-id="d673e-618">Pokud chcete toohello toopermit vzdáleného přístupu (RDP/SSH) virtuálních počítačů, přidáte skupiny Nsg.</span><span class="sxs-lookup"><span data-stu-id="d673e-618">Add NSGs if you want toopermit remote access (RDP/SSH) toohello VM.</span></span>   |                 

    <span data-ttu-id="d673e-619">Hello následující tabulka popisuje hello odchozí port, je nutné, aby tooenable toopermit přístup tooAzure úložiště:</span><span class="sxs-lookup"><span data-stu-id="d673e-619">hello following table describes hello outbound port that you need tooenable toopermit access tooAzure Storage:</span></span>

    |    <span data-ttu-id="d673e-620">Odchozí porty</span><span class="sxs-lookup"><span data-stu-id="d673e-620">Outbound Port(s)</span></span>    |    <span data-ttu-id="d673e-621">Cíl</span><span class="sxs-lookup"><span data-stu-id="d673e-621">Destination</span></span>    |    <span data-ttu-id="d673e-622">Přidala služba Batch skupiny NSG?</span><span class="sxs-lookup"><span data-stu-id="d673e-622">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="d673e-623">Vyžaduje se pro virtuální počítač toobe použitelné?</span><span class="sxs-lookup"><span data-stu-id="d673e-623">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="d673e-624">Akce ze strany uživatele</span><span class="sxs-lookup"><span data-stu-id="d673e-624">Action from user</span></span>    |
    |------------------------|-------------------|----------------------------|-------------------------------------|------------------------|
    |    <span data-ttu-id="d673e-625">443</span><span class="sxs-lookup"><span data-stu-id="d673e-625">443</span></span>    |    <span data-ttu-id="d673e-626">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="d673e-626">Azure Storage</span></span>    |    <span data-ttu-id="d673e-627">Ne</span><span class="sxs-lookup"><span data-stu-id="d673e-627">No</span></span>    |    <span data-ttu-id="d673e-628">Ano</span><span class="sxs-lookup"><span data-stu-id="d673e-628">Yes</span></span>    |    <span data-ttu-id="d673e-629">Přidejte všechny skupiny Nsg a pak zajistěte, aby tento port je-li otevřít toooutbound data.</span><span class="sxs-lookup"><span data-stu-id="d673e-629">If you add any NSGs, then ensure that this port is open toooutbound   traffic.</span></span>    |


## <a name="scaling-compute-resources"></a><span data-ttu-id="d673e-630">Škálování výpočetních prostředků</span><span class="sxs-lookup"><span data-stu-id="d673e-630">Scaling compute resources</span></span>
<span data-ttu-id="d673e-631">S [automatické škálování](batch-automatic-scaling.md), může být služba Batch hello dynamicky upravoval hello počet výpočetních uzlů ve fondu podle toohello aktuální zatížení a využití prostředků výpočetního scénáře.</span><span class="sxs-lookup"><span data-stu-id="d673e-631">With [automatic scaling](batch-automatic-scaling.md), you can have hello Batch service dynamically adjust hello number of compute nodes in a pool according toohello current workload and resource usage of your compute scenario.</span></span> <span data-ttu-id="d673e-632">To vám umožní toolower hello celkové náklady na provozování vaší aplikace pomocí pouze hello prostředky, je nutné, a uvolněním těch nepotřebujete.</span><span class="sxs-lookup"><span data-stu-id="d673e-632">This allows you toolower hello overall cost of running your application by using only hello resources you need, and releasing those you don't need.</span></span>

<span data-ttu-id="d673e-633">Automatické škálování můžete zapnout napsáním [vzorce automatického škálování](batch-automatic-scaling.md#automatic-scaling-formulas) a jeho přidružením k fondu.</span><span class="sxs-lookup"><span data-stu-id="d673e-633">You enable automatic scaling by writing an [automatic scaling formula](batch-automatic-scaling.md#automatic-scaling-formulas) and associating that formula with a pool.</span></span> <span data-ttu-id="d673e-634">Hello služba Batch používá hello vzorce toodetermine hello cílový počet uzlů ve fondu hello pro hello další interval škálování (interval, který můžete konfigurovat).</span><span class="sxs-lookup"><span data-stu-id="d673e-634">hello Batch service uses hello formula toodetermine hello target number of nodes in hello pool for hello next scaling interval (an interval that you can configure).</span></span> <span data-ttu-id="d673e-635">Při vytvoření, nebo povolit škálování později ve fondu, můžete zadat nastavení automatického škálování hello pro fond.</span><span class="sxs-lookup"><span data-stu-id="d673e-635">You can specify hello automatic scaling settings for a pool when you create it, or enable scaling on a pool later.</span></span> <span data-ttu-id="d673e-636">Můžete také aktualizovat hello škálování nastavení fondu s povoleným.</span><span class="sxs-lookup"><span data-stu-id="d673e-636">You can also update hello scaling settings on a scaling-enabled pool.</span></span>

<span data-ttu-id="d673e-637">Jako příklad: úloha může vyžadovat odeslání velkého počtu toobe úlohy provést.</span><span class="sxs-lookup"><span data-stu-id="d673e-637">As an example, perhaps a job requires that you submit a very large number of tasks toobe executed.</span></span> <span data-ttu-id="d673e-638">Můžete přiřadit škálování vzorce toohello fondu, která se přizpůsobí hello počet uzlů ve fondu hello na základě hello aktuální počet úloh zařazených do fronty a míře dokončení hello hello úkoly v úloze hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-638">You can assign a scaling formula toohello pool that adjusts hello number of nodes in hello pool based on hello current number of queued tasks and hello completion rate of hello tasks in hello job.</span></span> <span data-ttu-id="d673e-639">Hello služba Batch pravidelně vyhodnocuje vzorec hello a změní velikost fondu hello, na základě vytížení a další nastavení vzorce.</span><span class="sxs-lookup"><span data-stu-id="d673e-639">hello Batch service periodically evaluates hello formula and resizes hello pool, based on workload and your other formula settings.</span></span> <span data-ttu-id="d673e-640">Služba Hello přidá uzly podle potřeby, pokud existuje velký počet úloh zařazených do fronty a odebere uzly, pokud nejsou žádné zařazených do fronty nebo spuštěné úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-640">hello service adds nodes as needed when there are a large number of queued tasks, and removes nodes when there are no queued or running tasks.</span></span>

<span data-ttu-id="d673e-641">Vzorec škálování může být založen na hello následující metriky:</span><span class="sxs-lookup"><span data-stu-id="d673e-641">A scaling formula can be based on hello following metrics:</span></span>

* <span data-ttu-id="d673e-642">**Časová metrika** jsou na základě statistik shromažďovaných každých pět minut za hello zadaný počet hodin.</span><span class="sxs-lookup"><span data-stu-id="d673e-642">**Time metrics** are based on statistics collected every five minutes in hello specified number of hours.</span></span>
* <span data-ttu-id="d673e-643">**Metriky prostředků** jsou založeny na využití procesoru, šířky pásma a paměti a na počtu uzlů.</span><span class="sxs-lookup"><span data-stu-id="d673e-643">**Resource metrics** are based on CPU usage, bandwidth usage, memory usage, and number of nodes.</span></span>
* <span data-ttu-id="d673e-644">**Metriky úkolů** jsou založeny na stavu úkolů, jako je například *Aktivní* (zařazený do fronty), *Spuštěný* nebo *Dokončený*.</span><span class="sxs-lookup"><span data-stu-id="d673e-644">**Task metrics** are based on task state, such as *Active* (queued), *Running*, or *Completed*.</span></span>

<span data-ttu-id="d673e-645">Když automatické škálování sníží hello počet výpočetních uzlů ve fondu, musíte zvážit, jak snížit toohandle úloh, které jsou spuštěny v době hello hello operaci.</span><span class="sxs-lookup"><span data-stu-id="d673e-645">When automatic scaling decreases hello number of compute nodes in a pool, you must consider how toohandle tasks that are running at hello time of hello decrease operation.</span></span> <span data-ttu-id="d673e-646">tooaccommodate se Batch poskytuje *možnost navrácení uzlu* , kterou můžete zahrnout ve vzorcích.</span><span class="sxs-lookup"><span data-stu-id="d673e-646">tooaccommodate this, Batch provides a *node deallocation option* that you can include in your formulas.</span></span> <span data-ttu-id="d673e-647">Například můžete zadat, že spuštěné úlohy se zastaví okamžitě, zastaví okamžitě a zařazena pro spuštění v jiném uzlu nebo povoleny toofinish před hello uzel je odebrán z fondu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-647">For example, you can specify that running tasks are stopped immediately, stopped immediately and then requeued for execution on another node, or allowed toofinish before hello node is removed from hello pool.</span></span>

<span data-ttu-id="d673e-648">Další informace o automatickém škálování aplikace najdete v tématu [Automatické škálování výpočetních uzlů ve fondu Azure Batch](batch-automatic-scaling.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-648">For more information about automatically scaling an application, see [Automatically scale compute nodes in an Azure Batch pool](batch-automatic-scaling.md).</span></span>

> [!TIP]
> <span data-ttu-id="d673e-649">toomaximize výpočetní využití prostředků, nastavte hello cílový počet uzlů toozero na konci hello úlohy, ale povolit toofinish spuštěné úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-649">toomaximize compute resource utilization, set hello target number of nodes toozero at hello end of a job, but allow running tasks toofinish.</span></span>
>
>

## <a name="security-with-certificates"></a><span data-ttu-id="d673e-650">Zabezpečení pomocí certifikátů</span><span class="sxs-lookup"><span data-stu-id="d673e-650">Security with certificates</span></span>
<span data-ttu-id="d673e-651">Je obvykle třeba toouse certifikáty při šifrování nebo dešifrování citlivých informací pro úkoly, jako je hello klíč pro [účet úložiště Azure][azure_storage].</span><span class="sxs-lookup"><span data-stu-id="d673e-651">You typically need toouse certificates when you encrypt or decrypt sensitive information for tasks, like hello key for an [Azure Storage account][azure_storage].</span></span> <span data-ttu-id="d673e-652">toosupport, můžete nainstalovat certifikáty na uzly.</span><span class="sxs-lookup"><span data-stu-id="d673e-652">toosupport this, you can install certificates on nodes.</span></span> <span data-ttu-id="d673e-653">Šifrované tajné klíče jsou předány tootasks prostřednictvím parametrů příkazového řádku nebo vložené v jednom prostředků úkolu hello a hello nainstalované certifikáty lze použít toodecrypt je.</span><span class="sxs-lookup"><span data-stu-id="d673e-653">Encrypted secrets are passed tootasks via command-line parameters or embedded in one of hello task resources, and hello installed certificates can be used toodecrypt them.</span></span>

<span data-ttu-id="d673e-654">Použít hello [přidat certifikát] [ rest_add_cert] operace (Batch REST) nebo [CertificateOperations.CreateCertificate] [ net_create_cert] – metoda (Batch .NET) tooadd tooa certifikát účtu Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-654">You use hello [Add certificate][rest_add_cert] operation (Batch REST) or [CertificateOperations.CreateCertificate][net_create_cert] method (Batch .NET) tooadd a certificate tooa Batch account.</span></span> <span data-ttu-id="d673e-655">Certifikát hello můžete pak přidružit k novému nebo existujícímu fondu.</span><span class="sxs-lookup"><span data-stu-id="d673e-655">You can then associate hello certificate with a new or existing pool.</span></span> <span data-ttu-id="d673e-656">Pokud je certifikát přidružený k fondu, hello služba Batch nainstaluje certifikát hello na každém uzlu ve fondu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-656">When a certificate is associated with a pool, hello Batch service installs hello certificate on each node in hello pool.</span></span> <span data-ttu-id="d673e-657">Hello služba Batch nainstaluje příslušné certifikáty hello při hello spuštění uzlu před spuštěním úkolů (včetně hello spouštěcího úkolu a úkolu Správce úloh).</span><span class="sxs-lookup"><span data-stu-id="d673e-657">hello Batch service installs hello appropriate certificates when hello node starts up, before launching any tasks (including hello start task and job manager task).</span></span>

<span data-ttu-id="d673e-658">Pokud přidáte certifikáty tooan *existující* fondu, musíte restartovat svůj výpočetní uzly hello certifikáty toobe použít toohello uzly.</span><span class="sxs-lookup"><span data-stu-id="d673e-658">If you add certificates tooan *existing* pool, you must reboot its compute nodes for hello certificates toobe applied toohello nodes.</span></span>

## <a name="error-handling"></a><span data-ttu-id="d673e-659">Zpracování chyb</span><span class="sxs-lookup"><span data-stu-id="d673e-659">Error handling</span></span>
<span data-ttu-id="d673e-660">Může být nutné toohandle selhání úkolů a aplikací v rámci vašeho řešení Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-660">You might find it necessary toohandle both task and application failures within your Batch solution.</span></span>

### <a name="task-failure-handling"></a><span data-ttu-id="d673e-661">Zpracování selhání úkolů</span><span class="sxs-lookup"><span data-stu-id="d673e-661">Task failure handling</span></span>
<span data-ttu-id="d673e-662">Selhání úkolů spadá do následujících kategorií:</span><span class="sxs-lookup"><span data-stu-id="d673e-662">Task failures fall into these categories:</span></span>

* <span data-ttu-id="d673e-663">**Selhání předběžného zpracování**</span><span class="sxs-lookup"><span data-stu-id="d673e-663">**Pre-processing failures**</span></span>

    <span data-ttu-id="d673e-664">Pokud se úloha nezdaří toostart, chyba předběžného zpracování nastavena pro úlohu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-664">If a task fails toostart, a pre-processing error is set for hello task.</span></span>  

    <span data-ttu-id="d673e-665">Předběžné zpracování chyb může dojít, pokud byl přesunut hello úloh soubory prostředků, hello účet úložiště už není k dispozici nebo došlo k jinému problému, aby zabránila hello úspěšnému zkopírování souborů toohello uzlu.</span><span class="sxs-lookup"><span data-stu-id="d673e-665">Pre-processing errors can occur if hello task's resource files have moved, hello Storage account is no longer available, or another issue was encountered that prevented hello successful copying of files toohello node.</span></span>

* <span data-ttu-id="d673e-666">**Selhání nahrání souborů**</span><span class="sxs-lookup"><span data-stu-id="d673e-666">**File upload failures**</span></span>

    <span data-ttu-id="d673e-667">Pokud z nějakého důvodu nahrávání souborů, které jsou určené pro úlohu selže, Chyba odeslání souboru nastavena pro úlohu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-667">If uploading files that are specified for a task fails for any reason, a file upload error is set for hello task.</span></span>

    <span data-ttu-id="d673e-668">Odesílání chyb může dojít, pokud hello SAS zadaný pro přístup k úložišti Azure je neplatný nebo neposkytuje oprávnění k zápisu, pokud účet úložiště hello již není k dispozici, nebo pokud byl jiný problém došlo k která zabránila hello úspěšnému zkopírování souborů ze souboru uzel Hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-668">File upload errors can occur if hello SAS supplied for accessing Azure Storage is invalid or does not provide write permissions, if hello storage account is no longer available, or if another issue was encountered that prevented hello successful copying of files from hello node.</span></span>    

* <span data-ttu-id="d673e-669">**Selhání aplikace**</span><span class="sxs-lookup"><span data-stu-id="d673e-669">**Application failures**</span></span>

    <span data-ttu-id="d673e-670">Hello proces, který je zadán pomocí příkazového řádku úkolu hello také může selhat.</span><span class="sxs-lookup"><span data-stu-id="d673e-670">hello process that is specified by hello task's command line can also fail.</span></span> <span data-ttu-id="d673e-671">Hello proces se považuje toohave selhalo při hello proces, který se spustí úloha hello vrátí nenulový ukončovací kód (viz *úloh ukončovací kód* v další části hello).</span><span class="sxs-lookup"><span data-stu-id="d673e-671">hello process is deemed toohave failed when a nonzero exit code is returned by hello process that is executed by hello task (see *Task exit codes* in hello next section).</span></span>

    <span data-ttu-id="d673e-672">Při selhání aplikace, můžete nakonfigurovat Batch tooautomatically opakování hello úloh si tooa zadaný počet opakování.</span><span class="sxs-lookup"><span data-stu-id="d673e-672">For application failures, you can configure Batch tooautomatically retry hello task up tooa specified number of times.</span></span>

* <span data-ttu-id="d673e-673">**Selhání omezení**</span><span class="sxs-lookup"><span data-stu-id="d673e-673">**Constraint failures**</span></span>

    <span data-ttu-id="d673e-674">Můžete nastavit omezení, která určuje hello maximální dobu trvání provádění úlohy nebo úkolu, hello *maxWallClockTime*.</span><span class="sxs-lookup"><span data-stu-id="d673e-674">You can set a constraint that specifies hello maximum execution duration for a job or task, hello *maxWallClockTime*.</span></span> <span data-ttu-id="d673e-675">To může být užitečné pro ukončení úlohy, které nesplní tooprogress.</span><span class="sxs-lookup"><span data-stu-id="d673e-675">This can be useful for terminating tasks that fail tooprogress.</span></span>

    <span data-ttu-id="d673e-676">Při překročení maximální množství času hello hello úkol označen jako *Dokončit*, ale hello ukončovací kód je nastaven příliš`0xC000013A` a hello *schedulingError* pole je označen jako `{ category:"ServerError", code="TaskEnded"}`.</span><span class="sxs-lookup"><span data-stu-id="d673e-676">When hello maximum amount of time has been exceeded, hello task is marked as *completed*, but hello exit code is set too`0xC000013A` and hello *schedulingError* field is marked as `{ category:"ServerError", code="TaskEnded"}`.</span></span>

### <a name="debugging-application-failures"></a><span data-ttu-id="d673e-677">Ladění chyb aplikace</span><span class="sxs-lookup"><span data-stu-id="d673e-677">Debugging application failures</span></span>
* <span data-ttu-id="d673e-678">`stderr` a `stdout`</span><span class="sxs-lookup"><span data-stu-id="d673e-678">`stderr` and `stdout`</span></span>

    <span data-ttu-id="d673e-679">Během provádění může aplikace generovat výstup diagnostiky, které můžete použít tootroubleshoot problémy.</span><span class="sxs-lookup"><span data-stu-id="d673e-679">During execution, an application might produce diagnostic output that you can use tootroubleshoot issues.</span></span> <span data-ttu-id="d673e-680">Jak je uvedeno v hello dříve části [souborů a adresářů](#files-and-directories), hello služba Batch zapíše standardní výstupní zařízení a standardní chyba výstup příliš`stdout.txt` a `stderr.txt` soubory v adresáři úkolů hello na hello výpočetního uzlu.</span><span class="sxs-lookup"><span data-stu-id="d673e-680">As mentioned in hello earlier section [Files and directories](#files-and-directories), hello Batch service writes standard output and standard error output too`stdout.txt` and `stderr.txt` files in hello task directory on hello compute node.</span></span> <span data-ttu-id="d673e-681">Hello portál Azure nebo jeden z toodownload hello SDK služby Batch můžete použít tyto soubory.</span><span class="sxs-lookup"><span data-stu-id="d673e-681">You can use hello Azure portal or one of hello Batch SDKs toodownload these files.</span></span> <span data-ttu-id="d673e-682">Například můžete načíst tyto a další soubory pro účely řešení problémů pomocí [ComputeNode.GetNodeFile] [ net_getfile_node] a [CloudTask.GetNodeFile] [ net_getfile_task] v knihovny Batch .NET hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-682">For example, you can retrieve these and other files for troubleshooting purposes by using [ComputeNode.GetNodeFile][net_getfile_node] and [CloudTask.GetNodeFile][net_getfile_task] in hello Batch .NET library.</span></span>

* <span data-ttu-id="d673e-683">**Ukončovací kódy úkolů**</span><span class="sxs-lookup"><span data-stu-id="d673e-683">**Task exit codes**</span></span>

    <span data-ttu-id="d673e-684">Jak už bylo zmíněno dříve, je úkol označen jako neúspěšná službou Batch hello, pokud proces hello spuštěný úlohou hello vrátí nenulový ukončovací kód.</span><span class="sxs-lookup"><span data-stu-id="d673e-684">As mentioned earlier, a task is marked as failed by hello Batch service if hello process that is executed by hello task returns a nonzero exit code.</span></span> <span data-ttu-id="d673e-685">Když úloha provede proces, Batch naplní hello úloh ukončovací kód vlastnost s hello *návratový kód procesu hello*.</span><span class="sxs-lookup"><span data-stu-id="d673e-685">When a task executes a process, Batch populates hello task's exit code property with hello *return code of hello process*.</span></span> <span data-ttu-id="d673e-686">Je důležité toonote, který je úkolu ukončovací kód **není** dáno hello služby Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-686">It is important toonote that a task's exit code is **not** determined by hello Batch service.</span></span> <span data-ttu-id="d673e-687">Úkolu ukončovací kód je určen podle samotný proces hello nebo hello operační systém, na které hello proces spuštěný.</span><span class="sxs-lookup"><span data-stu-id="d673e-687">A task's exit code is determined by hello process itself or hello operating system on which hello process executed.</span></span>

### <a name="accounting-for-task-failures-or-interruptions"></a><span data-ttu-id="d673e-688">Monitorování účtů pro selhání úkolů nebo přerušení</span><span class="sxs-lookup"><span data-stu-id="d673e-688">Accounting for task failures or interruptions</span></span>
<span data-ttu-id="d673e-689">Úkoly mohou občas selhat nebo být přerušeny.</span><span class="sxs-lookup"><span data-stu-id="d673e-689">Tasks might occasionally fail or be interrupted.</span></span> <span data-ttu-id="d673e-690">Hello vlastní aplikace úkolu může selhat, hello uzlu, na které hello je spuštěn úkol může být restartován nebo uzel hello může být odebrán z fondu hello během operace změny velikosti Pokud Pokud hello zásady zrušení přidělení fondu je sada tooremove uzlů okamžitě bez čekání na toofinish úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-690">hello task application itself might fail, hello node on which hello task is running might be rebooted, or hello node might be removed from hello pool during a resize operation if hello pool's deallocation policy is set tooremove nodes immediately without waiting for tasks toofinish.</span></span> <span data-ttu-id="d673e-691">Ve všech případech hello úloha může být automaticky zařazena dávkou pro spuštění v jiném uzlu.</span><span class="sxs-lookup"><span data-stu-id="d673e-691">In all cases, hello task can be automatically requeued by Batch for execution on another node.</span></span>

<span data-ttu-id="d673e-692">Je také možné dočasný problém toocause toohang úloh nebo trvat příliš dlouho tooexecute.</span><span class="sxs-lookup"><span data-stu-id="d673e-692">It is also possible for an intermittent issue toocause a task toohang or take too long tooexecute.</span></span> <span data-ttu-id="d673e-693">Můžete nastavit interval hello maximální provádění úlohy.</span><span class="sxs-lookup"><span data-stu-id="d673e-693">You can set hello maximum execution interval for a task.</span></span> <span data-ttu-id="d673e-694">Pokud dojde k překročení maximální provádění interval hello, hello služba Batch přeruší aplikaci úkolu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-694">If hello maximum execution interval is exceeded, hello Batch service interrupts hello task application.</span></span>

### <a name="connecting-toocompute-nodes"></a><span data-ttu-id="d673e-695">Připojení toocompute uzly</span><span class="sxs-lookup"><span data-stu-id="d673e-695">Connecting toocompute nodes</span></span>
<span data-ttu-id="d673e-696">Můžete provést další ladění a řešení potíží s přihlášením tooa výpočetním uzlu vzdáleně.</span><span class="sxs-lookup"><span data-stu-id="d673e-696">You can perform additional debugging and troubleshooting by signing in tooa compute node remotely.</span></span> <span data-ttu-id="d673e-697">Můžete použít pro uzly Windows hello Azure portálu toodownload soubor protokolu RDP (Remote Desktop) a získat informace o připojení Secure Shell (SSH) pro Linuxové uzly.</span><span class="sxs-lookup"><span data-stu-id="d673e-697">You can use hello Azure portal toodownload a Remote Desktop Protocol (RDP) file for Windows nodes and obtain Secure Shell (SSH) connection information for Linux nodes.</span></span> <span data-ttu-id="d673e-698">Můžete to provést taky pomocí hello rozhraní API služby Batch – například s [Batch .NET] [ net_rdpfile] nebo [Batch Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span><span class="sxs-lookup"><span data-stu-id="d673e-698">You can also do this by using hello Batch APIs--for example, with [Batch .NET][net_rdpfile] or [Batch Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d673e-699">tooconnect tooa uzlu prostřednictvím protokolu RDP nebo SSH, musíte nejdřív vytvořit uživateli na uzlu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-699">tooconnect tooa node via RDP or SSH, you must first create a user on hello node.</span></span> <span data-ttu-id="d673e-700">toodo, můžete použít hello portál Azure, [přidat uživatele účtu tooa uzel] [ rest_create_user] pomocí hello Batch REST API volat hello [ComputeNode.CreateComputeNodeUser] [ net_create_user] metoda v Batch .NET nebo volání hello [add_user] [ py_add_user] metoda v modulu Batch Python hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-700">toodo this, you can use hello Azure portal, [add a user account tooa node][rest_create_user] by using hello Batch REST API, call hello [ComputeNode.CreateComputeNodeUser][net_create_user] method in Batch .NET, or call hello [add_user][py_add_user] method in hello Batch Python module.</span></span>
>
>

### <a name="troubleshooting-problematic-compute-nodes"></a><span data-ttu-id="d673e-701">Řešení potíží s problematickými výpočetními uzly</span><span class="sxs-lookup"><span data-stu-id="d673e-701">Troubleshooting problematic compute nodes</span></span>
<span data-ttu-id="d673e-702">V situacích, kdy některé úkoly selhávají můžete zkontrolovat hello metadata tooidentify úlohy se nezdařilo hello identifikovala uzel, který Batch klientská aplikace nebo služby.</span><span class="sxs-lookup"><span data-stu-id="d673e-702">In situations where some of your tasks are failing, your Batch client application or service can examine hello metadata of hello failed tasks tooidentify a misbehaving node.</span></span> <span data-ttu-id="d673e-703">Každý uzel ve fondu je přiřazeno jedinečné číslo ID a hello uzlu, na kterém běží úlohy je zahrnut v metadatech úkolu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-703">Each node in a pool is given a unique ID, and hello node on which a task runs is included in hello task metadata.</span></span> <span data-ttu-id="d673e-704">Po identifikaci problémového uzlu s ním můžete provést několik akcí:</span><span class="sxs-lookup"><span data-stu-id="d673e-704">After you've identified a problem node, you can take several actions with it:</span></span>

* <span data-ttu-id="d673e-705">**Restartovat uzel hello** ([REST][rest_reboot] | [.NET][net_reboot])</span><span class="sxs-lookup"><span data-stu-id="d673e-705">**Reboot hello node** ([REST][rest_reboot] | [.NET][net_reboot])</span></span>

    <span data-ttu-id="d673e-706">Restartování hello uzlu může někdy odstranit latentní problémy, jako jsou zablokované nebo zhroucené procesy.</span><span class="sxs-lookup"><span data-stu-id="d673e-706">Restarting hello node can sometimes clear up latent issues like stuck or crashed processes.</span></span> <span data-ttu-id="d673e-707">Všimněte si, že pokud váš fond používá spouštěcí úkol nebo úkol přípravy úlohy, jsou prováděna při restartování uzlu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-707">Note that if your pool uses a start task or your job uses a job preparation task, they are executed when hello node restarts.</span></span>
* <span data-ttu-id="d673e-708">**Obnovení z Image hello uzlu** ([REST][rest_reimage] | [.NET][net_reimage])</span><span class="sxs-lookup"><span data-stu-id="d673e-708">**Reimage hello node** ([REST][rest_reimage] | [.NET][net_reimage])</span></span>

    <span data-ttu-id="d673e-709">Tato možnost přeinstaluje hello operační systém na uzlu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-709">This reinstalls hello operating system on hello node.</span></span> <span data-ttu-id="d673e-710">Stejně jako u restartování uzlu zahájení úloh a přípravy úlohy znovu spuštěny poté, po hello uzel má byl obnoven z Image.</span><span class="sxs-lookup"><span data-stu-id="d673e-710">As with rebooting a node, start tasks and job preparation tasks are rerun after hello node has been reimaged.</span></span>
* <span data-ttu-id="d673e-711">**Odebrat hello uzel z fondu hello** ([REST][rest_remove] | [.NET][net_remove])</span><span class="sxs-lookup"><span data-stu-id="d673e-711">**Remove hello node from hello pool** ([REST][rest_remove] | [.NET][net_remove])</span></span>

    <span data-ttu-id="d673e-712">Někdy je nezbytné toocompletely odebrat hello uzel z fondu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-712">Sometimes it is necessary toocompletely remove hello node from hello pool.</span></span>
* <span data-ttu-id="d673e-713">**Zakázat plánování úkolů na uzlu hello** ([REST][rest_offline] | [.NET][net_offline])</span><span class="sxs-lookup"><span data-stu-id="d673e-713">**Disable task scheduling on hello node** ([REST][rest_offline] | [.NET][net_offline])</span></span>

    <span data-ttu-id="d673e-714">To efektivně převede hello uzlu do režimu offline, aby žádné další úlohy jsou přiřazeny tooit, ale umožňuje hello uzlu tooremain spuštěná a ve fondu hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-714">This effectively takes hello node offline so that no further tasks are assigned tooit, but allows hello node tooremain running and in hello pool.</span></span> <span data-ttu-id="d673e-715">To vám umožní tooperform další šetření do hello příčina hello selhání bez ztráty dat hello nezdařené úlohy a bez hello uzel způsobil selhání dalších úkolů.</span><span class="sxs-lookup"><span data-stu-id="d673e-715">This enables you tooperform further investigation into hello cause of hello failures without losing hello failed task's data, and without hello node causing additional task failures.</span></span> <span data-ttu-id="d673e-716">Můžete například zakázat plánování úkolů na uzlu hello, pak [přihlásit vzdáleně](#connecting-to-compute-nodes) tooexamine hello protokoly událostí uzlu nebo provádět jiné řešení potíží.</span><span class="sxs-lookup"><span data-stu-id="d673e-716">For example, you can disable task scheduling on hello node, then [sign in remotely](#connecting-to-compute-nodes) tooexamine hello node's event logs or perform other troubleshooting.</span></span> <span data-ttu-id="d673e-717">Jakmile dokončíte šetření, můžete převést uzel hello zpět do režimu online povolením plánování úkolů ([REST][rest_online] | [.NET] [ net_online]), nebo proveďte jeden z hello dalších akcí uvedených výše.</span><span class="sxs-lookup"><span data-stu-id="d673e-717">After you've finished your investigation, you can then bring hello node back online by enabling task scheduling ([REST][rest_online] | [.NET][net_online]), or perform one of hello other actions discussed earlier.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="d673e-718">S každou akci, která je popsaná v této části--restartování, obnovení z Image, odebrání a zakázat plánování úkolů--budete moct toospecify zpracování úlohy aktuálně spuštěné na uzlu hello při provádění akce hello.</span><span class="sxs-lookup"><span data-stu-id="d673e-718">With each action that is described in this section--reboot, reimage, remove, and disable task scheduling--you are able toospecify how tasks currently running on hello node are handled when you perform hello action.</span></span> <span data-ttu-id="d673e-719">Například když zakážete plánování úkolů na uzlu pomocí klientské knihovny Batch .NET hello, můžete zadat [DisableComputeNodeSchedulingOption] [ net_offline_option] výčtu hodnota toospecify zda příliš**Ukončit** spouštění úloh, **znovu** je pro plánování na jiných uzlech nebo umožnit spuštěné úlohy toocomplete před provedením akce hello (**TaskCompletion**).</span><span class="sxs-lookup"><span data-stu-id="d673e-719">For example, when you disable task scheduling on a node by using hello Batch .NET client library, you can specify a [DisableComputeNodeSchedulingOption][net_offline_option] enum value toospecify whether too**Terminate** running tasks, **Requeue** them for scheduling on other nodes, or allow running tasks toocomplete before performing hello action (**TaskCompletion**).</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="d673e-720">Další kroky</span><span class="sxs-lookup"><span data-stu-id="d673e-720">Next steps</span></span>
* <span data-ttu-id="d673e-721">Další informace o hello [nástroje a rozhraní API služby Batch](batch-apis-tools.md) dostupné pro vytváření řešení Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-721">Learn about hello [Batch APIs and tools](batch-apis-tools.md) available for building Batch solutions.</span></span>
* <span data-ttu-id="d673e-722">Provede ukázkovou aplikaci Batch krok za krokem v [začít pracovat s hello Azure Batch Library pro .NET](batch-dotnet-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-722">Walk through a sample Batch application step-by-step in [Get started with hello Azure Batch Library for .NET](batch-dotnet-get-started.md).</span></span> <span data-ttu-id="d673e-723">K dispozici je také [verze Python](batch-python-tutorial.md) hello kurzu spuštěnou úlohu v systému Linux výpočetních uzlů.</span><span class="sxs-lookup"><span data-stu-id="d673e-723">There is also a [Python version](batch-python-tutorial.md) of hello tutorial that runs a workload on Linux compute nodes.</span></span>
* <span data-ttu-id="d673e-724">Stáhněte si a sestavte hello [Batch Explorer] [ github_batchexplorer] ukázkový projekt pro použití při vývoji řešení Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-724">Download and build hello [Batch Explorer][github_batchexplorer] sample project for use while you develop your Batch solutions.</span></span> <span data-ttu-id="d673e-725">Pomocí Průzkumníka služby Batch hello, můžete provést následující hello a další:</span><span class="sxs-lookup"><span data-stu-id="d673e-725">Using hello Batch Explorer, you can perform hello following and more:</span></span>

  * <span data-ttu-id="d673e-726">Monitorování a manipulace s fondy, úlohami a úkoly v rámci vašeho účtu Batch</span><span class="sxs-lookup"><span data-stu-id="d673e-726">Monitor and manipulate pools, jobs, and tasks within your Batch account</span></span>
  * <span data-ttu-id="d673e-727">Stažení `stdout.txt`, `stderr.txt` a dalších souborů z uzlů</span><span class="sxs-lookup"><span data-stu-id="d673e-727">Download `stdout.txt`, `stderr.txt`, and other files from nodes</span></span>
  * <span data-ttu-id="d673e-728">Vytvořit uživatele na uzlech a stáhnout soubory protokolu RDP pro vzdálené přihlášení</span><span class="sxs-lookup"><span data-stu-id="d673e-728">Create users on nodes and download RDP files for remote login</span></span>
* <span data-ttu-id="d673e-729">Zjistěte, jak příliš[vytvořit fondy Linuxových výpočetních uzlů](batch-linux-nodes.md).</span><span class="sxs-lookup"><span data-stu-id="d673e-729">Learn how too[create pools of Linux compute nodes](batch-linux-nodes.md).</span></span>
* <span data-ttu-id="d673e-730">Navštivte hello [fórum Azure Batch] [ batch_forum] na webu MSDN.</span><span class="sxs-lookup"><span data-stu-id="d673e-730">Visit hello [Azure Batch forum][batch_forum] on MSDN.</span></span> <span data-ttu-id="d673e-731">fórum Hello je správné umístění tooask otázky, ať už jsou jenom získávání informací nebo jste odborník v pomocí služby Batch.</span><span class="sxs-lookup"><span data-stu-id="d673e-731">hello forum is a good place tooask questions, whether you are just learning or are an expert in using Batch.</span></span>

[1]: ./media/batch-api-basics/node-folder-structure.png

[azure_storage]: https://azure.microsoft.com/services/storage/
[batch_forum]: https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurebatch
[cloud_service_sizes]: ../cloud-services/cloud-services-sizes-specs.md
[msmpi]: https://msdn.microsoft.com/library/bb524831.aspx
[github_samples]: https://github.com/Azure/azure-batch-samples
[github_sample_taskdeps]:  https://github.com/Azure/azure-batch-samples/tree/master/CSharp/ArticleProjects/TaskDependencies
[github_batchexplorer]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/BatchExplorer
[batch_net_api]: https://msdn.microsoft.com/library/azure/mt348682.aspx
[msdn_env_vars]: https://msdn.microsoft.com/library/azure/mt743623.aspx
[net_cloudjob_jobmanagertask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.jobmanagertask.aspx
[net_cloudjob_priority]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.priority.aspx
[net_cloudpool_starttask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudpool.starttask.aspx
[net_cloudtask_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.environmentsettings.aspx
[net_create_cert]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.certificateoperations.createcertificate.aspx
[net_create_user]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.createcomputenodeuser.aspx
[net_getfile_node]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getnodefile.aspx
[net_getfile_task]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.getnodefile.aspx
[net_job_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.commonenvironmentsettings.aspx
[net_multiinstancesettings]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.multiinstancesettings.aspx
[net_onalltaskscomplete]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.onalltaskscomplete.aspx
[net_rdp]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getrdpfile.aspx
[net_reboot]: https://msdn.microsoft.com/library/azure/mt631495.aspx
[net_reimage]: https://msdn.microsoft.com/library/azure/mt631496.aspx
[net_remove]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.removefrompoolasync.aspx
[net_offline]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.disableschedulingasync.aspx
[net_online]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.enableschedulingasync.aspx
[net_offline_option]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.common.disablecomputenodeschedulingoption.aspx
[net_rdpfile]: https://msdn.microsoft.com/library/azure/Mt272127.aspx
[vnet]: https://msdn.microsoft.com/library/azure/dn820174.aspx#bk_netconf

[py_add_user]: http://azure-sdk-for-python.readthedocs.io/en/latest/ref/azure.batch.operations.html#azure.batch.operations.ComputeNodeOperations.add_user

[batch_rest_api]: https://msdn.microsoft.com/library/azure/Dn820158.aspx
[rest_add_job]: https://msdn.microsoft.com/library/azure/mt282178.aspx
[rest_add_pool]: https://msdn.microsoft.com/library/azure/dn820174.aspx
[rest_add_cert]: https://msdn.microsoft.com/library/azure/dn820169.aspx
[rest_add_task]: https://msdn.microsoft.com/library/azure/dn820105.aspx
[rest_create_user]: https://msdn.microsoft.com/library/azure/dn820137.aspx
[rest_get_task_info]: https://msdn.microsoft.com/library/azure/dn820133.aspx
[rest_job_schedules]: https://msdn.microsoft.com/library/azure/mt282179.aspx
[rest_multiinstance]: https://msdn.microsoft.com/library/azure/mt637905.aspx
[rest_multiinstancesettings]: https://msdn.microsoft.com/library/azure/dn820105.aspx#multiInstanceSettings
[rest_update_job]: https://msdn.microsoft.com/library/azure/dn820162.aspx
[rest_rdp]: https://msdn.microsoft.com/library/azure/dn820120.aspx
[rest_reboot]: https://msdn.microsoft.com/library/azure/dn820171.aspx
[rest_reimage]: https://msdn.microsoft.com/library/azure/dn820157.aspx
[rest_remove]: https://msdn.microsoft.com/library/azure/dn820194.aspx
[rest_offline]: https://msdn.microsoft.com/library/azure/mt637904.aspx
[rest_online]: https://msdn.microsoft.com/library/azure/mt637907.aspx

[vm_marketplace]: https://azure.microsoft.com/marketplace/virtual-machines/
