---
title: "fondy Azure Batch aaaProvision z vlastních bitových kopií | Microsoft Docs"
description: "Můžete vytvořit dávce fondu tooprovision vlastní image výpočetních uzlů, které obsahují hello software a data, která je nutné pro vaši aplikaci. Vlastní Image jsou účinný způsob tooconfigure výpočetní uzly toorun vaše úloh služby Batch."
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: article
ms.date: 08/07/2017
ms.author: tamram
ms.openlocfilehash: 5cb698ee90f7d3ec9ffe69fa4dc602132c3f7569
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="use-a-custom-image-toocreate-a-pool-of-virtual-machines"></a><span data-ttu-id="0fce7-104">Použít vlastní image toocreate fondu virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="0fce7-104">Use a custom image toocreate a pool of virtual machines</span></span>

<span data-ttu-id="0fce7-105">Při vytváření fondu virtuálních počítačů v Azure Batch, zadejte bitovou kopii virtuálního počítače (VM), která poskytuje hello operační systém pro každý výpočetní uzel ve fondu hello.</span><span class="sxs-lookup"><span data-stu-id="0fce7-105">When you create a pool of virtual machines in Azure Batch, you specify a virtual machine (VM) image that provides hello operating system for each compute node in hello pool.</span></span> <span data-ttu-id="0fce7-106">Fond virtuálních počítačů můžete vytvořit buď pomocí image Azure Marketplace, nebo zadáním vlastní image virtuálního pevného disku, který jste připravili.</span><span class="sxs-lookup"><span data-stu-id="0fce7-106">You can create a pool of virtual machines either by using an Azure Marketplace image, or by providing a custom VHD image that you have prepared.</span></span> <span data-ttu-id="0fce7-107">Když zadáte vlastní image, máte kontrolu nad konfiguraci hello operačního systému v době hello, který je zajištěný každý výpočetní uzel.</span><span class="sxs-lookup"><span data-stu-id="0fce7-107">When you provide a custom image, you have control over how hello operating system is configured at hello time that each compute node is provisioned.</span></span> <span data-ttu-id="0fce7-108">Vlastní image může také obsahovat aplikace a referenčních dat, které jsou dostupné na hello výpočetního uzlu, jakmile je zřízený.</span><span class="sxs-lookup"><span data-stu-id="0fce7-108">Your custom image can also include applications and reference data that are available on hello compute node as soon as it is provisioned.</span></span>

<span data-ttu-id="0fce7-109">Použití vlastní image můžete ušetřit čas při získávání váš fond výpočetních uzlů připraveni toorun úlohy Batch.</span><span class="sxs-lookup"><span data-stu-id="0fce7-109">Using a custom image can save you time in getting your pool's compute nodes ready toorun your Batch workload.</span></span> <span data-ttu-id="0fce7-110">Zatímco můžete vždy použít image Azure Marketplace a instalovat software na každém výpočetním uzlu po byla zřízení, může být tento přístup míň efektivní než pomocí vlastní image.</span><span class="sxs-lookup"><span data-stu-id="0fce7-110">While you can always use an Azure Marketplace image and install software on each compute node after it has been provisioned, this approach may be less efficient than using a custom image.</span></span> 

<span data-ttu-id="0fce7-111">Některé z důvodů toouse vlastní image, který je nakonfigurovaný pro váš scénář patří museli:</span><span class="sxs-lookup"><span data-stu-id="0fce7-111">Some reasons toouse a custom image that is configured for your scenario include needing to:</span></span>

- <span data-ttu-id="0fce7-112">**Konfigurace hello operační systém (OS)** žádnou zvláštní konfiguraci operačního systému hello lze provést na hello vlastní image.</span><span class="sxs-lookup"><span data-stu-id="0fce7-112">**Configure hello operating system (OS)** Any special configuration of hello operating system can be performed on hello custom image.</span></span> 
- <span data-ttu-id="0fce7-113">**Nainstalujte velké aplikace.**</span><span class="sxs-lookup"><span data-stu-id="0fce7-113">**Install large applications.**</span></span> <span data-ttu-id="0fce7-114">Instalace aplikace na vlastní image je efektivnější než je nainstalujete na každém výpočetním uzlu po je zřízený.</span><span class="sxs-lookup"><span data-stu-id="0fce7-114">Installing applications on a custom image is more efficient than installing them on each compute node after it is provisioned.</span></span>
- <span data-ttu-id="0fce7-115">**Zkopírujte poměrně velké množství dat.**</span><span class="sxs-lookup"><span data-stu-id="0fce7-115">**Copy significant amounts of data.**</span></span> <span data-ttu-id="0fce7-116">Pokud jsou hello data zkopírovaný toohello vlastní image, potřebuje pouze toobe zkopírovat jednou, místo tooeach výpočetním uzlu, ukládání čas a šířku pásma.</span><span class="sxs-lookup"><span data-stu-id="0fce7-116">If hello data is copied toohello custom image, it only needs toobe copied once, rather than tooeach compute node, saving time and bandwidth.</span></span>
- <span data-ttu-id="0fce7-117">**Během procesu instalace hello restartování hello virtuálních počítačů.**</span><span class="sxs-lookup"><span data-stu-id="0fce7-117">**Reboot hello VM during hello setup process.**</span></span> <span data-ttu-id="0fce7-118">Restartování hello virtuálních počítačů může být časově náročné, zvláště pokud máte počet výpočetních uzlů.</span><span class="sxs-lookup"><span data-stu-id="0fce7-118">Rebooting hello VM can be a time-consuming process, especially if you have a number of compute nodes.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="0fce7-119">Požadavky</span><span class="sxs-lookup"><span data-stu-id="0fce7-119">Prerequisites</span></span>

- <span data-ttu-id="0fce7-120">**Účet Batch vytvořit s režimem přidělení fondu uživatele předplatné hello.**</span><span class="sxs-lookup"><span data-stu-id="0fce7-120">**A Batch account created with hello User Subscription pool allocation mode.**</span></span> <span data-ttu-id="0fce7-121">toouse vlastní image virtuálního počítače fondy tooprovision, vytvoření účtu Batch s hello uživatele předplatné [režim přidělení fondu](batch-api-basics.md#pool-allocation-mode).</span><span class="sxs-lookup"><span data-stu-id="0fce7-121">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription [pool allocation mode](batch-api-basics.md#pool-allocation-mode).</span></span> <span data-ttu-id="0fce7-122">Při tomto režimu jsou fondy Batch přidělí hello předplatné, které se nachází hello účet.</span><span class="sxs-lookup"><span data-stu-id="0fce7-122">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="0fce7-123">V tématu hello [účet](batch-api-basics.md#account) kapitoly [rozsáhlé paralelní vývoj výpočetní řešení pomocí služby Batch](batch-api-basics.md) informace o nastavení režimu přidělení fondu hello při vytváření účtu Batch.</span><span class="sxs-lookup"><span data-stu-id="0fce7-123">See hello [Account](batch-api-basics.md#account) section in [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md) for information on setting hello pool allocation mode when you create a Batch account.</span></span>

- <span data-ttu-id="0fce7-124">**Účet služby Azure Storage.**</span><span class="sxs-lookup"><span data-stu-id="0fce7-124">**An Azure Storage account.**</span></span> <span data-ttu-id="0fce7-125">toocreate fondu virtuálních počítačů pomocí vlastní image, potřebujete účet Azure Storage standardní, obecný v hello stejném předplatném, oblasti.</span><span class="sxs-lookup"><span data-stu-id="0fce7-125">toocreate a pool of virtual machines using a custom image, you need a standard, general-purpose Azure Storage account in hello same subscription and region.</span></span> <span data-ttu-id="0fce7-126">Pokud vytvoříte vlastní image z virtuálního počítače Azure, bude zkopírujte hello bitové kopie toohello účet úložiště, kde se nachází disk s operačním systémem hello Virtuálního počítače, a nebudete potřebovat toocreate účet samostatného úložiště.</span><span class="sxs-lookup"><span data-stu-id="0fce7-126">If you create a custom image from an Azure VM, then you will copy hello image toohello storage account where hello VM's OS disk resides, and you won't need toocreate a separate storage account.</span></span> 
    
## <a name="prepare-a-custom-image"></a><span data-ttu-id="0fce7-127">Příprava vlastní image</span><span class="sxs-lookup"><span data-stu-id="0fce7-127">Prepare a custom image</span></span>

<span data-ttu-id="0fce7-128">tooprepare vlastní image pro použití se službou Batch, musí generalize existující instalace systému Linux nebo Windows.</span><span class="sxs-lookup"><span data-stu-id="0fce7-128">tooprepare a custom image for use with Batch, you must generalize an existing installation of Linux or Windows.</span></span> <span data-ttu-id="0fce7-129">Generalizací instalace operačního systému odebere informace specifické pro počítač.</span><span class="sxs-lookup"><span data-stu-id="0fce7-129">Generalizing an operating system installation removes machine-specific information.</span></span> <span data-ttu-id="0fce7-130">Výsledkem Hello je obrázek, který lze nainstalovat na jiných počítačích nebo virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="0fce7-130">hello result is an image that can be installed on other computers or VMs.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="0fce7-131">Batch aktuálně nepodporuje použití Azure spravovat obrázky tooprovision fondu.</span><span class="sxs-lookup"><span data-stu-id="0fce7-131">Batch does not currently support using Azure managed images tooprovision a pool.</span></span> <span data-ttu-id="0fce7-132">vlastní image Hello použijete tooprovision fondu musí být uložený ve službě Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="0fce7-132">hello custom image you use tooprovision a pool must be stored in Azure Storage.</span></span> 
>
> <span data-ttu-id="0fce7-133">Při přípravě vlastní image, mějte na paměti hello následující body:</span><span class="sxs-lookup"><span data-stu-id="0fce7-133">When preparing your custom image, keep in mind hello following points:</span></span>
> - <span data-ttu-id="0fce7-134">Ujistěte se, hello základní OS bitovou kopii pomocí tooprovision fondech Batch nemá žádné předem nenainstalovali rozšíření Azure, jako je například rozšíření vlastních skriptů hello.</span><span class="sxs-lookup"><span data-stu-id="0fce7-134">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="0fce7-135">Pokud hello image obsahuje předem nainstalovaná rozšíření, Azure setkat s problémy, které nasazení hello virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="0fce7-135">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="0fce7-136">Ujistěte se, že hello základní image OS, které zadáte, že používá hello výchozí dočasné jednotce jako hello agenta uzlu Batch aktuálně očekává hello výchozí dočasné jednotce.</span><span class="sxs-lookup"><span data-stu-id="0fce7-136">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="0fce7-137">Všechny existující připravené systému Windows nebo Linux bitové kopie můžete použít jako vlastní image.</span><span class="sxs-lookup"><span data-stu-id="0fce7-137">You can use any existing prepared Windows or Linux image as a custom image.</span></span> <span data-ttu-id="0fce7-138">Například pokud chcete toouse místní bitové kopie, můžete odeslat hello image tooan Azure Storage účtu, který je v hello stejném předplatném, oblasti jako váš účet Batch pomocí [AzCopy](../storage/storage-use-azcopy.md) nebo jiný nástroj pro odesílání.</span><span class="sxs-lookup"><span data-stu-id="0fce7-138">For example, if you wish toouse a local image, then upload hello image tooan Azure Storage account that is in hello same subscription and region as your Batch account using [AzCopy](../storage/storage-use-azcopy.md) or another upload tool.</span></span>

<span data-ttu-id="0fce7-139">Můžete také připravit vlastní image z nového nebo existujícího virtuálního počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="0fce7-139">You can also prepare a custom image from a new or existing Azure VM.</span></span> <span data-ttu-id="0fce7-140">Pokud vytváříte nový virtuální počítač, můžete image Azure Marketplace použít jako základní bitová kopie hello pro vlastní bitovou kopii a pak jej přizpůsobit.</span><span class="sxs-lookup"><span data-stu-id="0fce7-140">If you are creating a new VM, you can use an Azure Marketplace image as hello base image for your custom image and then customize it.</span></span> <span data-ttu-id="0fce7-141">toocustomize hello základní image, vytvořte virtuální počítač Azure a přidejte aplikace nebo data tooit.</span><span class="sxs-lookup"><span data-stu-id="0fce7-141">toocustomize hello base image, create an Azure VM and add your applications or data tooit.</span></span> <span data-ttu-id="0fce7-142">Potom generalize hello tooserve virtuálního počítače jako vlastní image a uložte jej tooAzure úložiště.</span><span class="sxs-lookup"><span data-stu-id="0fce7-142">Then generalize hello VM tooserve as your custom image and save it tooAzure Storage.</span></span> 

<span data-ttu-id="0fce7-143">tooprepare vlastní image z virtuálního počítače Azure, postupujte takto:</span><span class="sxs-lookup"><span data-stu-id="0fce7-143">tooprepare a custom image from an Azure VM, follow these steps:</span></span>

1. <span data-ttu-id="0fce7-144">Vytvoření **nespravované** virtuálního počítače Azure z image Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="0fce7-144">Create an **unmanaged** Azure VM from an Azure Marketplace image.</span></span> <span data-ttu-id="0fce7-145">Azure Marketplace obsahuje bitové kopie pro obě [Windows](../virtual-machines/windows/quick-create-portal.md) a [Linux](../virtual-machines/linux/quick-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="0fce7-145">Azure Marketplace includes images for both [Windows](../virtual-machines/windows/quick-create-portal.md) and [Linux](../virtual-machines/linux/quick-create-portal.md).</span></span>
    
    <span data-ttu-id="0fce7-146">V kroku 3 hello proces vytváření virtuálního počítače, ověřte, že jste vybrali **ne** pro **úložiště: použijte spravované disky** možnost.</span><span class="sxs-lookup"><span data-stu-id="0fce7-146">On step 3 of hello VM creation process, make sure that you select **No** for **Storage: Use Managed Disks** option.</span></span> <span data-ttu-id="0fce7-147">Také si poznamenejte hello název účtu úložiště pro disk s operačním systémem hello Virtuálního počítače, protože tento účet úložiště se taky, kde Azure uloží vlastní bitovou kopii:</span><span class="sxs-lookup"><span data-stu-id="0fce7-147">Also take note of hello storage account name for hello VM's OS disk, as this storage account is also where Azure will save your custom image:</span></span>

    ![Vytvoření nespravované virtuálního počítače a název účtu úložiště hello Poznámka](media/batch-custom-images/vm-create-storage.png)
 
2. <span data-ttu-id="0fce7-149">Dokončení procesu hello vytvoření virtuálního počítače a počkejte na její toobe přidělené v Azure.</span><span class="sxs-lookup"><span data-stu-id="0fce7-149">Complete hello process of creating your VM, and wait for it toobe allocated by Azure.</span></span> <span data-ttu-id="0fce7-150">Tady je obrázek, který zobrazuje v hello portál Azure hello spuštěný virtuální počítač:</span><span class="sxs-lookup"><span data-stu-id="0fce7-150">Here's an image that shows a VM in hello Azure portal in hello running state:</span></span>

    ![Vytvoření virtuálního počítače z image pořízenou prostřednictvím marketplace](media/batch-custom-images/vm-status-running.png)

3. <span data-ttu-id="0fce7-152">Jakmile je spuštěna hello virtuálních počítačů, připojte tooit prostřednictvím protokolu RDP (pro Windows) nebo SSH (pro Linux).</span><span class="sxs-lookup"><span data-stu-id="0fce7-152">Once hello VM is running, connect tooit via RDP (for Windows) or SSH (for Linux).</span></span> <span data-ttu-id="0fce7-153">Nainstalujte potřebný software nebo zkopírujte požadované data a pak generalize hello virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="0fce7-153">Install any necessary software or copy desired data, and then generalize hello VM.</span></span> <span data-ttu-id="0fce7-154">Postupujte podle kroků hello popsaných v [generalizace hello virtuálních počítačů](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span><span class="sxs-lookup"><span data-stu-id="0fce7-154">Follow hello steps described in [Generalize hello VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span></span> 
   
4. <span data-ttu-id="0fce7-155">Postupujte podle kroků hello příliš[přihlásit tooAzure prostředí PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span><span class="sxs-lookup"><span data-stu-id="0fce7-155">Follow hello steps too[Log in tooAzure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span></span> <span data-ttu-id="0fce7-156">tooinstall prostředí Azure PowerShell najdete v části [Přehled prostředí Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span><span class="sxs-lookup"><span data-stu-id="0fce7-156">tooinstall Azure PowerShell, see [Overview of Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span></span> 

5. <span data-ttu-id="0fce7-157">Potom postupujte podle kroků hello příliš[Deallocate hello virtuálních počítačů a sadu hello stavu toogeneralized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span><span class="sxs-lookup"><span data-stu-id="0fce7-157">Next, follow hello steps too[Deallocate hello VM and set hello state toogeneralized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span></span> 

    <span data-ttu-id="0fce7-158">V hello portálu Azure Všimněte si, že virtuální počítač navrácený hello:</span><span class="sxs-lookup"><span data-stu-id="0fce7-158">In hello Azure portal, notice that hello VM is deallocated:</span></span>

    ![Ujistěte se, že virtuální počítač navrácený hello](media/batch-custom-images/vm-status-deallocated.png)

6.  <span data-ttu-id="0fce7-160">Vytvoření a uložení hello virtuálních počítačů bitové kopie tooAzure úložiště pomocí hello [uložit AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) rutiny prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0fce7-160">Create and save hello VM image tooAzure Storage using hello [Save-AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell cmdlet.</span></span> <span data-ttu-id="0fce7-161">Postupujte podle pokynů hello popsané v [vytvořit hello image](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span><span class="sxs-lookup"><span data-stu-id="0fce7-161">Follow hello instructions described in [Create hello image](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span></span>
    
    <span data-ttu-id="0fce7-162">účet úložiště Azure toohello vytvořili při vytvoření hello virtuálních počítačů, jak je znázorněno v kroku 1 tohoto postupu je uložen obrázek Hello virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="0fce7-162">hello VM image is saved toohello Azure Storage account created when hello VM was created, as shown in step 1 of this procedure.</span></span> <span data-ttu-id="0fce7-163">Hello uložit AzureRmVMImage rutina uloží hello image toohello **systému** kontejneru v daném účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="0fce7-163">hello Save-AzureRmVMImage cmdlet saves hello image toohello **system** container in that storage account.</span></span> <span data-ttu-id="0fce7-164">Hello `-DestinationContainername` parametr názvy virtuální adresáře v rámci hello **systému** kontejneru.</span><span class="sxs-lookup"><span data-stu-id="0fce7-164">hello `-DestinationContainername` parameter names a virtual directory within hello **system** container.</span></span> <span data-ttu-id="0fce7-165">Hello `-VHDNamePrefix` parametr určuje předponu pro název objektu blob hello.</span><span class="sxs-lookup"><span data-stu-id="0fce7-165">hello `-VHDNamePrefix` parameter specifies a prefix for hello blob name.</span></span> <span data-ttu-id="0fce7-166">Tato předpona je název objektu blob přidá jako předpona toohello s pomlčkou.</span><span class="sxs-lookup"><span data-stu-id="0fce7-166">This prefix is prepended toohello blob name with a hyphen.</span></span> 

    <span data-ttu-id="0fce7-167">Předpokládejme například, že volání AzureRmVMImage uložit s hello následující parametry:</span><span class="sxs-lookup"><span data-stu-id="0fce7-167">For example, suppose you call Save-AzureRmVMImage with hello following parameters:</span></span>  

        Save-AzureRmVMImage -ResourceGroupName sample-resource-group -Name vm-custom-image -DestinationContainerName batchimages -VHDNamePrefix custom -Path C:\Temp\Images\vm-custom-image.json

    <span data-ttu-id="0fce7-168">výsledný obraz Hello je uložena toohello umístění a název objektu blob, které jsou zobrazeny zde:</span><span class="sxs-lookup"><span data-stu-id="0fce7-168">hello resulting image is saved toohello location and blob name shown here:</span></span>

    ![Umístění uloženého virtuálního pevného disku v kontejneru systému](media/batch-custom-images/vhd-in-vm-storage-account.png)

    > [!NOTE]
    > <span data-ttu-id="0fce7-170">Azure nespravované virtuálního počítače vytvoří několik účtů úložiště pro jiné účely.</span><span class="sxs-lookup"><span data-stu-id="0fce7-170">An Azure unmanaged VM creates several storage accounts for different purposes.</span></span> <span data-ttu-id="0fce7-171">Pokud není poznamenejte si název hello hello kontejner úložiště pro disk hello operačního systému při hello byl vytvořen virtuální počítač, pak Najít účet hello přidruženého úložiště, který obsahuje hello **systému** kontejneru.</span><span class="sxs-lookup"><span data-stu-id="0fce7-171">If you did not note hello name of hello storage container for hello OS disk when hello VM was created, then find hello associated storage account that contains hello **system** container.</span></span> <span data-ttu-id="0fce7-172">Procházet hello **systému** kontejneru toofind hello vlastní image pomocí hello hodnot, které jste zadali pro hello **uložit AzureRmVMImage** příkaz.</span><span class="sxs-lookup"><span data-stu-id="0fce7-172">Navigate through hello **system** container toofind hello custom image using hello values you specified for hello **Save-AzureRmVMImage** command.</span></span>

## <a name="create-a-pool-from-a-custom-image-in-hello-portal"></a><span data-ttu-id="0fce7-173">Vytvořit fond z vlastní image hello portálu</span><span class="sxs-lookup"><span data-stu-id="0fce7-173">Create a pool from a custom image in hello portal</span></span>

<span data-ttu-id="0fce7-174">Jakmile jste uložili vlastní bitovou kopii a znáte jeho umístění, můžete vytvořit fondu služby Batch z této bitové kopie.</span><span class="sxs-lookup"><span data-stu-id="0fce7-174">Once you have saved your custom image and you know its location, you can create a Batch pool from that image.</span></span> <span data-ttu-id="0fce7-175">Postupujte podle těchto kroků toocreate fond z hello portálu Azure:</span><span class="sxs-lookup"><span data-stu-id="0fce7-175">Follow these steps toocreate a pool from hello Azure portal:</span></span>

1. <span data-ttu-id="0fce7-176">Přejděte tooyour účtu Batch na portálu Azure hello.</span><span class="sxs-lookup"><span data-stu-id="0fce7-176">Navigate tooyour Batch account in hello Azure portal.</span></span> <span data-ttu-id="0fce7-177">Tento účet musí být v hello stejného předplatného a oblasti jako úložiště hello účtu obsahující hello vlastní image.</span><span class="sxs-lookup"><span data-stu-id="0fce7-177">This account must be in hello same subscription and region as hello storage account containing hello custom image.</span></span> 
2. <span data-ttu-id="0fce7-178">V hello **nastavení** okno na hello vlevo, vyberte hello **fondy** položku nabídky.</span><span class="sxs-lookup"><span data-stu-id="0fce7-178">In hello **Settings** window on hello left, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="0fce7-179">V hello **fondy** okno, vyberte hello **přidat** příkaz.</span><span class="sxs-lookup"><span data-stu-id="0fce7-179">In hello **Pools** window, select hello **Add** command.</span></span>
4. <span data-ttu-id="0fce7-180">Na hello **přidat fond** vyberte **vlastní obrázek (Linux nebo Windows)** z hello **typ obrázku** rozevíracího seznamu.</span><span class="sxs-lookup"><span data-stu-id="0fce7-180">On hello **Add Pool** window, select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="0fce7-181">Hello portálu se zobrazí hello **vlastní Image** výběr.</span><span class="sxs-lookup"><span data-stu-id="0fce7-181">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="0fce7-182">Přejděte toohello účet úložiště, kde se nachází vlastní image, a vyberte hello požadované virtuální pevný disk z kontejneru hello.</span><span class="sxs-lookup"><span data-stu-id="0fce7-182">Navigate toohello storage account where your custom image is located, and select hello desired VHD from hello container.</span></span> 
5. <span data-ttu-id="0fce7-183">Vyberte správný hello **vydavatele nebo nabídka nebo Sku** pro vlastního virtuálního pevného disku.</span><span class="sxs-lookup"><span data-stu-id="0fce7-183">Select hello correct **Publisher/Offer/Sku** for your custom VHD.</span></span>
6. <span data-ttu-id="0fce7-184">Zadejte zbývající hello požadované nastavení, včetně hello **velikost uzlu**, **cílové uzly vyhrazené**, a **nízkou prioritu uzly**, stejně jako všechny potřeby volitelná nastavení.</span><span class="sxs-lookup"><span data-stu-id="0fce7-184">Specify hello remaining required settings, including hello **Node size**, **Target dedicated nodes**, and **Low priority nodes**, as well as any desired optional settings.</span></span>

    <span data-ttu-id="0fce7-185">Například pro Microsoft Windows Server Datacenter 2016 vlastní image, hello **přidat fond** okno se zobrazí, jak je vidět tady:</span><span class="sxs-lookup"><span data-stu-id="0fce7-185">For example, for a Microsoft Windows Server Datacenter 2016 custom image, hello **Add Pool** window appears as shown here:</span></span>

    ![Přidejte fond z vlastní bitovou kopii systému Windows](media/batch-custom-images/add-pool-custom-image.png)
  
<span data-ttu-id="0fce7-187">toocheck zda existující fond je založena na vlastní image, najdete v části hello **operačního systému** vlastnost v hello prostředků souhrnné části hello **fondu** okno.</span><span class="sxs-lookup"><span data-stu-id="0fce7-187">toocheck whether an existing pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** window.</span></span> <span data-ttu-id="0fce7-188">Pokud fond hello byl vytvořen z vlastní image, je nastaven příliš**vlastní Image virtuálního počítače**.</span><span class="sxs-lookup"><span data-stu-id="0fce7-188">If hello pool was created from a custom image, it is set too**Custom VM Image**.</span></span>

<span data-ttu-id="0fce7-189">Zobrazí se všechny vlastní VHD přidružený fond na hello fondu **vlastnosti** okno.</span><span class="sxs-lookup"><span data-stu-id="0fce7-189">All custom VHDs associated with a pool are displayed on hello pool's **Properties** window.</span></span>
 
## <a name="next-steps"></a><span data-ttu-id="0fce7-190">Další kroky</span><span class="sxs-lookup"><span data-stu-id="0fce7-190">Next steps</span></span>

- <span data-ttu-id="0fce7-191">Podrobnější přehled služby Batch, najdete v tématu [rozsáhlé paralelní vývoj výpočetní řešení pomocí služby Batch](batch-api-basics.md).</span><span class="sxs-lookup"><span data-stu-id="0fce7-191">For an in-depth overview of Batch, see [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md).</span></span>
- <span data-ttu-id="0fce7-192">Informace o vytvoření účtu Batch najdete v tématu [vytvořit dávkový účet s hello portál Azure](batch-account-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="0fce7-192">For information about creating a Batch account, see [Create a Batch account with hello Azure portal](batch-account-create-portal.md).</span></span>
