---
title: "řešení zotavení po havárii aaaDesign – Azure SQL Database | Microsoft Docs"
description: "Zjistěte, jak toodesign cloudové řešení pro zotavení po havárii výběrem vzor hello správné převzetí služeb při selhání."
services: sql-database
documentationcenter: 
author: anosov1960
manager: jhubbard
editor: monicar
ms.assetid: 2db99057-0c79-4fb0-a7f1-d1c057ec787f
ms.service: sql-database
ms.custom: business continuity
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/07/2017
ms.author: sashan;carlrab
ms.openlocfilehash: 9d9eca7570c7a01c992d0b33d449721709b471c3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="disaster-recovery-strategies-for-applications-using-sql-database-elastic-pools"></a><span data-ttu-id="c8da6-103">Strategie zotavení po havárii pro aplikace pomocí fondů elastické databáze SQL</span><span class="sxs-lookup"><span data-stu-id="c8da6-103">Disaster recovery strategies for applications using SQL Database elastic pools</span></span>
<span data-ttu-id="c8da6-104">V průběhu let hello jsme se dozvěděli, cloudové služby nejsou spolehlivá a dojít závažné incidenty.</span><span class="sxs-lookup"><span data-stu-id="c8da6-104">Over hello years we have learned that cloud services are not foolproof and catastrophic incidents happen.</span></span> <span data-ttu-id="c8da6-105">Databáze SQL poskytuje několik možností tooprovide pro kontinuitu podnikových procesů hello vaší aplikace, když dojde k tyto incidenty.</span><span class="sxs-lookup"><span data-stu-id="c8da6-105">SQL Database provides several capabilities tooprovide for hello business continuity of your application when these incidents occur.</span></span> <span data-ttu-id="c8da6-106">[Elastické fondy](sql-database-elastic-pool.md) a jedné databáze podporují hello stejný druh možnosti obnovení po havárii.</span><span class="sxs-lookup"><span data-stu-id="c8da6-106">[Elastic pools](sql-database-elastic-pool.md) and single databases support hello same kind of disaster recovery capabilities.</span></span> <span data-ttu-id="c8da6-107">Tento článek popisuje několik strategie zotavení po Havárii pro elastických fondů, které využívají tyto funkce kontinuity obchodních databáze SQL.</span><span class="sxs-lookup"><span data-stu-id="c8da6-107">This article describes several DR strategies for elastic pools that leverage these SQL Database business continuity features.</span></span>

<span data-ttu-id="c8da6-108">Tento článek používá následující kanonický vzor aplikací SaaS ISV hello:</span><span class="sxs-lookup"><span data-stu-id="c8da6-108">This article uses hello following canonical SaaS ISV application pattern:</span></span>

<span data-ttu-id="c8da6-109"><i>Moderní cloudové webovou aplikaci zřídí jedna databáze SQL pro každý koncový uživatel. Hello ISV má mnoho zákazníků a proto používá mnoho databází, označuje jako databáze klienta. Protože hello klienta databáze obvykle mají vzorce nepředvídatelné aktivity, používá hello ISV elastický fond toomake hello databáze nákladů na velmi předvídatelný přes dlouhou dobu. Hello elastického fondu také usnadňuje správu výkonu hello, pokud aktivity uživatelů hello špičky. Kromě toho toohello klienta databází hello aplikace také používá několik databází toomanage uživatelské profily, zabezpečení, shromažďování vzorce používání atd. Dostupnost hello jednotlivých klientů, které nemá negativní vliv na dostupnost hello aplikace jako celek. Ale hello dostupnost a výkon databáze správy je velmi důležitá pro funkce aplikace hello a pokud jsou databáze správy hello offline hello celá aplikace je offline.</i></span><span class="sxs-lookup"><span data-stu-id="c8da6-109"><i>A modern cloud-based web application provisions one SQL database for each end user. hello ISV has many customers and therefore uses many databases, known as tenant databases. Because hello tenant databases typically have unpredictable activity patterns, hello ISV uses an elastic pool toomake hello database cost very predictable over extended periods of time. hello elastic pool also simplifies hello performance management when hello user activity spikes. In addition toohello tenant databases hello application also uses several databases toomanage user profiles, security, collect usage patterns etc. Availability of hello individual tenants does not impact hello application’s availability as whole. However, hello availability and performance of management databases is critical for hello application’s function and if hello management databases are offline hello entire application is offline.</i></span></span>  

<span data-ttu-id="c8da6-110">Tento článek popisuje zahrnující celou řadu scénářů z náklady citlivé spuštění aplikace tooones požadavkům přísné dostupnosti strategie zotavení po Havárii.</span><span class="sxs-lookup"><span data-stu-id="c8da6-110">This article discusses DR strategies covering a range of scenarios from cost sensitive startup applications tooones with stringent availability requirements.</span></span>

## <a name="scenario-1-cost-sensitive-startup"></a><span data-ttu-id="c8da6-111">Scénář 1.</span><span class="sxs-lookup"><span data-stu-id="c8da6-111">Scenario 1.</span></span> <span data-ttu-id="c8da6-112">Náklady citlivé spuštění</span><span class="sxs-lookup"><span data-stu-id="c8da6-112">Cost sensitive startup</span></span>
<span data-ttu-id="c8da6-113"><i>Jsem obchodní spuštění a mě náklady velmi citlivé.  Chci, aby toosimplify nasazení a Správa aplikace hello a mám omezené SLA pro jednotlivé zákazníky. Ale být tooensure hello aplikace jako celek se nikdy offline.</i></span><span class="sxs-lookup"><span data-stu-id="c8da6-113"><i>I am a startup business and am extremely cost sensitive.  I want toosimplify deployment and management of hello application and I can have a limited SLA for individual customers. But I want tooensure hello application as a whole is never offline.</i></span></span>

<span data-ttu-id="c8da6-114">toosatisfy hello jednoduchost požadavek, nasaďte všechny databáze klienta do jednoho elastického fondu v hello oblast Azure podle svého výběru a nasaďte správu databází jako geograficky replikované izolované databáze.</span><span class="sxs-lookup"><span data-stu-id="c8da6-114">toosatisfy hello simplicity requirement, deploy all tenant databases into one elastic pool in hello Azure region of your choice and deploy management databases as geo-replicated single databases.</span></span> <span data-ttu-id="c8da6-115">Pro zotavení po havárii hello klientů použijte geografické obnovení, který se dodává bez dalších poplatků.</span><span class="sxs-lookup"><span data-stu-id="c8da6-115">For hello disaster recovery of tenants, use geo-restore, which comes at no additional cost.</span></span> <span data-ttu-id="c8da6-116">dostupnost hello tooensure hello správu databází, geograficky replikovat, je oblast tooanother pomocí skupinu automatické převzetí služeb při selhání (v preview) (krok 1).</span><span class="sxs-lookup"><span data-stu-id="c8da6-116">tooensure hello availability of hello management databases, geo-replicate them tooanother region using an auto-failover group (in-preview) (step 1).</span></span> <span data-ttu-id="c8da6-117">probíhající náklady Hello hello konfiguraci obnovení po havárii v tomto scénáři je rovna toohello celkové náklady na sekundární databází hello.</span><span class="sxs-lookup"><span data-stu-id="c8da6-117">hello ongoing cost of hello disaster recovery configuration in this scenario is equal toohello total cost of hello secondary databases.</span></span> <span data-ttu-id="c8da6-118">Tato konfigurace je znázorněna v diagramu další hello.</span><span class="sxs-lookup"><span data-stu-id="c8da6-118">This configuration is illustrated on hello next diagram.</span></span>

![Obrázek 1](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-1.png)

<span data-ttu-id="c8da6-120">Pokud dojde k výpadku v hello primární oblasti, toobring kroky obnovení hello aplikace online jsou zobrazené ve další diagram hello.</span><span class="sxs-lookup"><span data-stu-id="c8da6-120">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated by hello next diagram.</span></span>

* <span data-ttu-id="c8da6-121">převzetí služeb při selhání skupiny Hello zahájí automatické převzetí služeb při selhání hello správy databáze toohello zotavení po Havárii oblasti.</span><span class="sxs-lookup"><span data-stu-id="c8da6-121">hello failover group initiates automatic failover of hello management database toohello DR region.</span></span> <span data-ttu-id="c8da6-122">aplikace Hello je automaticky opětovného připojení toohello nové primární a všechny nové účty a vytvoří se v oblasti hello zotavení po Havárii databází klienta.</span><span class="sxs-lookup"><span data-stu-id="c8da6-122">hello application is automatically reconnected toohello new primary and all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="c8da6-123">stávající zákazníky služby Hello zobrazit tato data není dočasně k dispozici.</span><span class="sxs-lookup"><span data-stu-id="c8da6-123">hello existing customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="c8da6-124">Vytvoření fondu elastické hello pomocí hello stejnou konfiguraci jako původní fond hello (2).</span><span class="sxs-lookup"><span data-stu-id="c8da6-124">Create hello elastic pool with hello same configuration as hello original pool (2).</span></span>
* <span data-ttu-id="c8da6-125">Použijte geografické obnovení toocreate kopie databáze klienta hello (3).</span><span class="sxs-lookup"><span data-stu-id="c8da6-125">Use geo-restore toocreate copies of hello tenant databases (3).</span></span> <span data-ttu-id="c8da6-126">Můžete zvážit spouštění jednotlivých obnovení hello připojeními hello koncového uživatele nebo používat některé další schéma s prioritou specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="c8da6-126">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>


<span data-ttu-id="c8da6-127">V tomto okamžiku aplikace je zpět do online režimu v oblasti hello zotavení po Havárii, ale někteří zákazníci zaznamenat zpoždění při přístupu k jejich datům.</span><span class="sxs-lookup"><span data-stu-id="c8da6-127">At this point your application is back online in hello DR region, but some customers experience delay when accessing their data.</span></span>

![Obrázek 2](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-2.png)

<span data-ttu-id="c8da6-129">Pokud hello výpadek byl dočasné, je možné, že primární oblasti hello budou obnovena Azure předtím, než všechny databáze obnovení hello jsou dokončeny v oblasti hello zotavení po Havárii.</span><span class="sxs-lookup"><span data-stu-id="c8da6-129">If hello outage was temporary, it is possible that hello primary region is recovered by Azure before all hello database restores are complete in hello DR region.</span></span> <span data-ttu-id="c8da6-130">V takovém případě orchestraci přesunutí hello aplikace back toohello primární oblasti.</span><span class="sxs-lookup"><span data-stu-id="c8da6-130">In this case, orchestrate moving hello application back toohello primary region.</span></span> <span data-ttu-id="c8da6-131">proces Hello trvá hello kroky zobrazené v diagramu další hello.</span><span class="sxs-lookup"><span data-stu-id="c8da6-131">hello process takes hello steps illustrated on hello next diagram.</span></span>

* <span data-ttu-id="c8da6-132">Zrušte všechny zbývající geografické obnovení žádosti.</span><span class="sxs-lookup"><span data-stu-id="c8da6-132">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="c8da6-133">Selhání hello správu databází toohello primární oblasti (5).</span><span class="sxs-lookup"><span data-stu-id="c8da6-133">Fail over hello management databases toohello primary region (5).</span></span> <span data-ttu-id="c8da6-134">Po obnovení hello oblast mají základní hello staré barvy automaticky stane sekundární repliky.</span><span class="sxs-lookup"><span data-stu-id="c8da6-134">After hello region’s recovery, hello old primaries have automatically become secondaries.</span></span> <span data-ttu-id="c8da6-135">Nyní se přepínat role znovu.</span><span class="sxs-lookup"><span data-stu-id="c8da6-135">Now they switch roles again.</span></span> 
* <span data-ttu-id="c8da6-136">Změňte aplikace hello připojovací řetězec toopoint back toohello primární oblasti.</span><span class="sxs-lookup"><span data-stu-id="c8da6-136">Change hello application's connection string toopoint back toohello primary region.</span></span> <span data-ttu-id="c8da6-137">Nyní všechny nové účty a databáze klienta se vytvoří v primární oblasti hello.</span><span class="sxs-lookup"><span data-stu-id="c8da6-137">Now all new accounts and tenant databases are created in hello primary region.</span></span> <span data-ttu-id="c8da6-138">Některé stávající zákazníky služby zobrazit tato data není dočasně k dispozici.</span><span class="sxs-lookup"><span data-stu-id="c8da6-138">Some existing customers see their data temporarily unavailable.</span></span>   
* <span data-ttu-id="c8da6-139">Nastavte všechny databáze v hello zotavení po Havárii fondu jen tooread tooensure, který nemůže být upravena v oblasti hello zotavení po Havárii (6).</span><span class="sxs-lookup"><span data-stu-id="c8da6-139">Set all databases in hello DR pool tooread-only tooensure they cannot be modified in hello DR region (6).</span></span> 
* <span data-ttu-id="c8da6-140">Pro každou databázi v hello zotavení po Havárii fondu, který se změnil od obnovení hello přejmenovat nebo odstranit hello příslušné databáze ve fondu primární hello (7).</span><span class="sxs-lookup"><span data-stu-id="c8da6-140">For each database in hello DR pool that has changed since hello recovery, rename or delete hello corresponding databases in hello primary pool (7).</span></span> 
* <span data-ttu-id="c8da6-141">Kopírování hello aktualizovat databáze z hello zotavení po Havárii fondu toohello primární fondu (8).</span><span class="sxs-lookup"><span data-stu-id="c8da6-141">Copy hello updated databases from hello DR pool toohello primary pool (8).</span></span> 
* <span data-ttu-id="c8da6-142">Odstranění fondu hello zotavení po Havárii (9)</span><span class="sxs-lookup"><span data-stu-id="c8da6-142">Delete hello DR pool (9)</span></span>

<span data-ttu-id="c8da6-143">Aplikace je nyní online v hello primární oblasti s všechny databáze klienta k dispozici ve fondu primární hello.</span><span class="sxs-lookup"><span data-stu-id="c8da6-143">At this point your application is online in hello primary region with all tenant databases available in hello primary pool.</span></span>

![Obrázek 3](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-3.png)

<span data-ttu-id="c8da6-145">klíč Hello **těžit** tuto strategii je nízké náklady probíhající pro redundanci dat vrstvy.</span><span class="sxs-lookup"><span data-stu-id="c8da6-145">hello key **benefit** of this strategy is low ongoing cost for data tier redundancy.</span></span> <span data-ttu-id="c8da6-146">Zálohy jsou automaticky provedenou hello služby SQL Database s bez přepsání aplikace a bez dalších poplatků.</span><span class="sxs-lookup"><span data-stu-id="c8da6-146">Backups are taken automatically by hello SQL Database service with no application rewrite and at no additional cost.</span></span>  <span data-ttu-id="c8da6-147">Hello náklady nabíhají jenom v případě, že jsou obnoveny hello elastické databáze.</span><span class="sxs-lookup"><span data-stu-id="c8da6-147">hello cost is incurred only when hello elastic databases are restored.</span></span> <span data-ttu-id="c8da6-148">Hello **kompromis** je, že hello dokončete obnovení všech databází klienta trvá déle.</span><span class="sxs-lookup"><span data-stu-id="c8da6-148">hello **trade-off** is that hello complete recovery of all tenant databases takes significant time.</span></span> <span data-ttu-id="c8da6-149">Hello doba závisí na hello celkový počet obnovení spustíte v hello zotavení po Havárii oblast a celkové velikosti hello klienta databází.</span><span class="sxs-lookup"><span data-stu-id="c8da6-149">hello length of time depends on hello total number of restores you initiate in hello DR region and overall size of hello tenant databases.</span></span> <span data-ttu-id="c8da6-150">I když některé klienty obnovení určit prioritu před jinými, vzájemně neslučitelných s hello všechny ostatní obnovení, které jsou zahájeny v hello stejné oblasti jako služba hello řeší a omezí generovaný toominimize hello celkového vlivu na hello zákazníků existující databáze.</span><span class="sxs-lookup"><span data-stu-id="c8da6-150">Even if you prioritize some tenants' restores over others, you are competing with all hello other restores that are initiated in hello same region as hello service arbitrates and throttles toominimize hello overall impact on hello existing customers' databases.</span></span> <span data-ttu-id="c8da6-151">Kromě toho hello obnovení databází hello klienta nelze spustit, dokud se vytvoří nový elastický fond hello v oblasti hello zotavení po Havárii.</span><span class="sxs-lookup"><span data-stu-id="c8da6-151">In addition, hello recovery of hello tenant databases cannot start until hello new elastic pool in hello DR region is created.</span></span>

## <a name="scenario-2-mature-application-with-tiered-service"></a><span data-ttu-id="c8da6-152">Scénář 2.</span><span class="sxs-lookup"><span data-stu-id="c8da6-152">Scenario 2.</span></span> <span data-ttu-id="c8da6-153">Vyspělá aplikace vrstvené službou</span><span class="sxs-lookup"><span data-stu-id="c8da6-153">Mature application with tiered service</span></span>
<span data-ttu-id="c8da6-154"><i>Jsem vyspělá aplikace SaaS s nabídek vrstvené služby a jiné smlouvy SLA pro zkušební zákazníků a platícího zákazníků. Pro zákazníky hello zkušební verze je nutné tooreduce hello náklady co nejvíc. Zkušební verze zákazníkům může trvat výpadek ale být tooreduce jeho pravděpodobnost. Žádné výpadky hello platícího zákazníků, je riziko letu. Takže chci, aby se, že platící zákazníky jsou vždy možné tooaccess toomake svá data.</i></span><span class="sxs-lookup"><span data-stu-id="c8da6-154"><i>I am a mature SaaS application with tiered service offers and different SLAs for trial customers and for paying customers. For hello trial customers, I have tooreduce hello cost as much as possible. Trial customers can take downtime but I want tooreduce its likelihood. For hello paying customers, any downtime is a flight risk. So I want toomake sure that paying customers are always able tooaccess their data.</i></span></span> 

<span data-ttu-id="c8da6-155">Tento scénář samostatnou hello zkušební klienty z toosupport placené klienty jejich umístěním do samostatné elastické fondy.</span><span class="sxs-lookup"><span data-stu-id="c8da6-155">toosupport this scenario, separate hello trial tenants from paid tenants by putting them into separate elastic pools.</span></span> <span data-ttu-id="c8da6-156">zkušební verze zákazníci Hello mají nižší eDTU na klienta a nižší smlouvy SLA s delší dobu obnovení.</span><span class="sxs-lookup"><span data-stu-id="c8da6-156">hello trial customers have lower eDTU per tenant and lower SLA with a longer recovery time.</span></span> <span data-ttu-id="c8da6-157">Hello platící zákazníky jsou ve fondu s vyšší eDTU na klienta a vyšší SLA.</span><span class="sxs-lookup"><span data-stu-id="c8da6-157">hello paying customers are in a pool with higher eDTU per tenant and a higher SLA.</span></span> <span data-ttu-id="c8da6-158">tooguarantee hello nejnižší čas obnovení, jsou databáze klienta hello platící zákazníky využívající geograficky replikované.</span><span class="sxs-lookup"><span data-stu-id="c8da6-158">tooguarantee hello lowest recovery time, hello paying customers' tenant databases are geo-replicated.</span></span> <span data-ttu-id="c8da6-159">Tato konfigurace je znázorněna v diagramu další hello.</span><span class="sxs-lookup"><span data-stu-id="c8da6-159">This configuration is illustrated on hello next diagram.</span></span> 

![Obrázek 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-4.png)

<span data-ttu-id="c8da6-161">Jako hello prvního scénáře jsou velmi aktivní hello správy databáze, takže použití jedné geograficky replikované databáze pro něj (1).</span><span class="sxs-lookup"><span data-stu-id="c8da6-161">As in hello first scenario, hello management databases are quite active so you use a single geo-replicated database for it (1).</span></span> <span data-ttu-id="c8da6-162">Tím se zajistí hello předvídatelný výkon pro nové předplatné zákazníka, profil aktualizace a jiné operace správy.</span><span class="sxs-lookup"><span data-stu-id="c8da6-162">This ensures hello predictable performance for new customer subscriptions, profile updates, and other management operations.</span></span> <span data-ttu-id="c8da6-163">Hello oblast, ve kterém jsou umístěny základní barvy hello hello správu databází je hello primární oblasti a hello oblast, ve kterém jsou umístěny hello sekundárních databází správu hello je oblast hello zotavení po Havárii.</span><span class="sxs-lookup"><span data-stu-id="c8da6-163">hello region in which hello primaries of hello management databases reside is hello primary region and hello region in which hello secondaries of hello management databases reside is hello DR region.</span></span>

<span data-ttu-id="c8da6-164">Hello databáze klienta platící zákazníky mít aktivní databáze v hello "placené" fondu zřízené v primární oblasti hello.</span><span class="sxs-lookup"><span data-stu-id="c8da6-164">hello paying customers’ tenant databases have active databases in hello “paid” pool provisioned in hello primary region.</span></span> <span data-ttu-id="c8da6-165">Zřídit sekundární fond s hello stejný název v oblasti hello zotavení po Havárii.</span><span class="sxs-lookup"><span data-stu-id="c8da6-165">Provision a secondary pool with hello same name in hello DR region.</span></span> <span data-ttu-id="c8da6-166">Každý klient je toohello geograficky replikované sekundární fondu (2).</span><span class="sxs-lookup"><span data-stu-id="c8da6-166">Each tenant is geo-replicated toohello secondary pool (2).</span></span> <span data-ttu-id="c8da6-167">To umožňuje rychlé obnovení všech databází klienta převzetí služeb při selhání.</span><span class="sxs-lookup"><span data-stu-id="c8da6-167">This enables quick recovery of all tenant databases using failover.</span></span> 

<span data-ttu-id="c8da6-168">Pokud dojde k výpadku v hello primární oblasti, toobring kroky obnovení hello aplikace online jsou zobrazené v diagramu další hello:</span><span class="sxs-lookup"><span data-stu-id="c8da6-168">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated in hello next diagram:</span></span>

![Obrázek 5](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-5.png)

* <span data-ttu-id="c8da6-170">Okamžitě převzetí služeb při selhání hello správu databází toohello zotavení po Havárii oblast (3).</span><span class="sxs-lookup"><span data-stu-id="c8da6-170">Immediately fail over hello management databases toohello DR region (3).</span></span>
* <span data-ttu-id="c8da6-171">Změňte aplikace hello připojovací řetězec toopoint toohello zotavení po Havárii oblast.</span><span class="sxs-lookup"><span data-stu-id="c8da6-171">Change hello application’s connection string toopoint toohello DR region.</span></span> <span data-ttu-id="c8da6-172">Nyní všechny nové účty a databáze klienta se vytvoří v oblasti hello zotavení po Havárii.</span><span class="sxs-lookup"><span data-stu-id="c8da6-172">Now all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="c8da6-173">Hello stávající zákazníky služby zkušební zobrazit tato data není dočasně k dispozici.</span><span class="sxs-lookup"><span data-stu-id="c8da6-173">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="c8da6-174">Převzetí služeb při selhání hello placené klienta databází toohello fondu v hello zotavení po Havárii oblast tooimmediately obnovit jejich dostupnost (4).</span><span class="sxs-lookup"><span data-stu-id="c8da6-174">Fail over hello paid tenant's databases toohello pool in hello DR region tooimmediately restore their availability (4).</span></span> <span data-ttu-id="c8da6-175">Vzhledem k tomu, že hello převzetí služeb při selhání je rychlý Změna úrovně, zvažte optimalizaci kde jednotlivé převzetí služeb při selhání hello jsou aktivovány na vyžádání připojení hello koncového uživatele.</span><span class="sxs-lookup"><span data-stu-id="c8da6-175">Since hello failover is a quick metadata level change, consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="c8da6-176">Pokud velikost vašeho sekundární fondu eDTU byl nižší než hello primární, protože sekundární databáze hello pouze požadované hello kapacity tooprocess hello změnu protokolů při jejich byly sekundární repliky, okamžitě zvýšení kapacity fondu hello teď tooaccommodate hello úplné úlohy, které obsahují všechny klienty (5).</span><span class="sxs-lookup"><span data-stu-id="c8da6-176">If your secondary pool eDTU size was lower than hello primary because hello secondary databases only required hello capacity tooprocess hello change logs while they were secondaries, immediately increase hello pool capacity now tooaccommodate hello full workload of all tenants (5).</span></span> 
* <span data-ttu-id="c8da6-177">Vytvořit nový elastický fond hello s hello stejný název a text hello stejné konfigurace v oblasti hello zotavení po Havárii pro databáze hello zkušební zákazníků (6).</span><span class="sxs-lookup"><span data-stu-id="c8da6-177">Create hello new elastic pool with hello same name and hello same configuration in hello DR region for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="c8da6-178">Jakmile je vytvořen fond hello zákazníků zkušební verzi, použijte geografické obnovení toorestore hello jednotlivé zkušební verzi klienta databáze do nového fondu hello (7).</span><span class="sxs-lookup"><span data-stu-id="c8da6-178">Once hello trial customers’ pool is created, use geo-restore toorestore hello individual trial tenant databases into hello new pool (7).</span></span> <span data-ttu-id="c8da6-179">Zvažte aktivován hello jednotlivých obnovení koncového uživatele připojeními hello nebo používat některé další schéma s prioritou specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="c8da6-179">Consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

<span data-ttu-id="c8da6-180">Aplikace je v tomto okamžiku zpět do online režimu v oblasti hello zotavení po Havárii.</span><span class="sxs-lookup"><span data-stu-id="c8da6-180">At this point your application is back online in hello DR region.</span></span> <span data-ttu-id="c8da6-181">Mají přístup všechny platící zákazníky tootheir data během zkušební zákazníků hello zaznamenat zpoždění při přístupu k jejich datům.</span><span class="sxs-lookup"><span data-stu-id="c8da6-181">All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="c8da6-182">Pokud budou obnovena hello primární oblasti Azure *po* jste obnovili aplikace hello v oblasti hello zotavení po Havárii můžete pokračovat v používání aplikace hello v této oblasti nebo si můžete toofail back toohello primární oblasti.</span><span class="sxs-lookup"><span data-stu-id="c8da6-182">When hello primary region is recovered by Azure *after* you have restored hello application in hello DR region you can continue running hello application in that region or you can decide toofail back toohello primary region.</span></span> <span data-ttu-id="c8da6-183">Pokud je obnovit primární oblast hello *před* dokončení procesu hello převzetí služeb při selhání, zvažte selhání zpět hned.</span><span class="sxs-lookup"><span data-stu-id="c8da6-183">If hello primary region is recovered *before* hello failover process is completed, consider failing back right away.</span></span> <span data-ttu-id="c8da6-184">navrácení služeb po obnovení Hello učiní hello kroky, které jsou zobrazené v diagramu další hello:</span><span class="sxs-lookup"><span data-stu-id="c8da6-184">hello failback takes hello steps illustrated in hello next diagram:</span></span> 

![Obrázek 6](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-6.png)

* <span data-ttu-id="c8da6-186">Zrušte všechny zbývající geografické obnovení žádosti.</span><span class="sxs-lookup"><span data-stu-id="c8da6-186">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="c8da6-187">Selhání hello správu databází (8).</span><span class="sxs-lookup"><span data-stu-id="c8da6-187">Fail over hello management databases (8).</span></span> <span data-ttu-id="c8da6-188">Po obnovení hello oblast hello původního primárního automaticky stane hello sekundární.</span><span class="sxs-lookup"><span data-stu-id="c8da6-188">After hello region’s recovery, hello old primary automatically become hello secondary.</span></span> <span data-ttu-id="c8da6-189">Nyní bude text hello primární znovu.</span><span class="sxs-lookup"><span data-stu-id="c8da6-189">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="c8da6-190">Selhání hello placené databáze klienta (9).</span><span class="sxs-lookup"><span data-stu-id="c8da6-190">Fail over hello paid tenant databases (9).</span></span> <span data-ttu-id="c8da6-191">Po obnovení hello oblast je podobně původní základní barvy hello automaticky stane hello sekundární repliky.</span><span class="sxs-lookup"><span data-stu-id="c8da6-191">Similarly, after hello region’s recovery, hello old primaries automatically become hello secondaries.</span></span> <span data-ttu-id="c8da6-192">Nyní budou základní hello barvy znovu.</span><span class="sxs-lookup"><span data-stu-id="c8da6-192">Now they become hello primaries again.</span></span> 
* <span data-ttu-id="c8da6-193">Sada hello obnovit zkušební verzi databáze, které se změnily v oblasti zotavení po Havárii hello jen tooread (10).</span><span class="sxs-lookup"><span data-stu-id="c8da6-193">Set hello restored trial databases that have changed in hello DR region tooread-only (10).</span></span>
* <span data-ttu-id="c8da6-194">Pro každou databázi v hello zkušební zákazníků zotavení po Havárii fondu, který změnil od obnovení hello přejmenovat nebo odstranit hello příslušné databáze ve hello zkušební zákazníkům primární fondu (11).</span><span class="sxs-lookup"><span data-stu-id="c8da6-194">For each database in hello trial customers DR pool that changed since hello recovery, rename or delete hello corresponding database in hello trial customers primary pool (11).</span></span> 
* <span data-ttu-id="c8da6-195">Kopírování hello aktualizovat databáze z hello zotavení po Havárii fondu toohello primární fondu (12).</span><span class="sxs-lookup"><span data-stu-id="c8da6-195">Copy hello updated databases from hello DR pool toohello primary pool (12).</span></span> 
* <span data-ttu-id="c8da6-196">Odstranění fondu hello zotavení po Havárii (13)</span><span class="sxs-lookup"><span data-stu-id="c8da6-196">Delete hello DR pool (13)</span></span> 

> [!NOTE]
> <span data-ttu-id="c8da6-197">operace převzetí služeb při selhání Hello je asynchronní.</span><span class="sxs-lookup"><span data-stu-id="c8da6-197">hello failover operation is asynchronous.</span></span> <span data-ttu-id="c8da6-198">toominimize hello obnovení čas, kdy je důležité, možné provést příkaz převzetí služeb při selhání hello klienta databáze, a to v dávkách aspoň 20 databází.</span><span class="sxs-lookup"><span data-stu-id="c8da6-198">toominimize hello recovery time it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 
> 

<span data-ttu-id="c8da6-199">klíč Hello **těžit** této strategie je, že zajišťuje hello nejvyšší SLA pro hello platícího zákazníků.</span><span class="sxs-lookup"><span data-stu-id="c8da6-199">hello key **benefit** of this strategy is that it provides hello highest SLA for hello paying customers.</span></span> <span data-ttu-id="c8da6-200">Také zaručuje, že hello nové zkušební verze jsou odblokuje, jakmile je vytvořen fond zotavení po Havárii zkušební hello.</span><span class="sxs-lookup"><span data-stu-id="c8da6-200">It also guarantees that hello new trials are unblocked as soon as hello trial DR pool is created.</span></span> <span data-ttu-id="c8da6-201">Hello **kompromis** je, že tato instalace zvyšuje hello celkové náklady na hello klienta databází hello náklady hello sekundární fond zotavení po Havárii pro placené zákazníků.</span><span class="sxs-lookup"><span data-stu-id="c8da6-201">hello **trade-off** is that this setup increases hello total cost of hello tenant databases by hello cost of hello secondary DR pool for paid customers.</span></span> <span data-ttu-id="c8da6-202">Kromě toho pokud hello sekundární fondu má různou velikost, prostředí platící zákazníky hello nižší výkon po převzetí služeb při selhání, dokud hello fondu v oblasti hello zotavení po Havárii dokončení upgradu.</span><span class="sxs-lookup"><span data-stu-id="c8da6-202">In addition, if hello secondary pool has a different size, hello paying customers experience lower performance after failover until hello pool upgrade in hello DR region is completed.</span></span> 

## <a name="scenario-3-geographically-distributed-application-with-tiered-service"></a><span data-ttu-id="c8da6-203">Scénář 3.</span><span class="sxs-lookup"><span data-stu-id="c8da6-203">Scenario 3.</span></span> <span data-ttu-id="c8da6-204">Geograficky distribuovaná aplikace s vrstvami služby</span><span class="sxs-lookup"><span data-stu-id="c8da6-204">Geographically distributed application with tiered service</span></span>
<span data-ttu-id="c8da6-205"><i>Je nutné vyspělá aplikace SaaS s nabídkami vrstvené služby. I má toooffer velmi agresivní toomy SLA placené zákazníků a minimalizovat riziko hello dopad, když dojde k výpadku, protože i stručný přerušení může způsobit nespokojenosti zákazníka. Je důležité, že hello platícího zákazníci mohou mít přístup svá data. zkušební verze Hello jsou zdarma a SLA není nabídnuta během zkušební doby hello.</i></span><span class="sxs-lookup"><span data-stu-id="c8da6-205"><i>I have a mature SaaS application with tiered service offers. I want toooffer a very aggressive SLA toomy paid customers and minimize hello risk of impact when outages occur because even brief interruption can cause customer dissatisfaction. It is critical that hello paying customers can always access their data. hello trials are free and an SLA is not offered during hello trial period. </i></span></span> 

<span data-ttu-id="c8da6-206">toosupport tento scénář, použijte tři samostatné elastické fondy.</span><span class="sxs-lookup"><span data-stu-id="c8da6-206">toosupport this scenario, use three separate elastic pools.</span></span> <span data-ttu-id="c8da6-207">Zřízení dvě stejná velikost fondy s vysokou Edtu na databázi ve dvou různých oblastech toocontain hello placené databáze klienta zákazníků.</span><span class="sxs-lookup"><span data-stu-id="c8da6-207">Provision two equal size pools with high eDTUs per database in two different regions toocontain hello paid customers' tenant databases.</span></span> <span data-ttu-id="c8da6-208">Hello třetí fond, který obsahuje hello zkušební klienty může mít nižší počet jednotek Edtu na databázi a zřídit v jednom ze dvou oblastí hello.</span><span class="sxs-lookup"><span data-stu-id="c8da6-208">hello third pool containing hello trial tenants can have lower eDTUs per database and be provisioned in one of hello two regions.</span></span>

<span data-ttu-id="c8da6-209">tooguarantee hello nejnižší obnovení době výpadky, jsou databáze klienta hello platící zákazníky využívající geograficky replikované s 50 % hello primární databází v každé z hello dvou oblastech.</span><span class="sxs-lookup"><span data-stu-id="c8da6-209">tooguarantee hello lowest recovery time during outages, hello paying customers' tenant databases are geo-replicated with 50% of hello primary databases in each of hello two regions.</span></span> <span data-ttu-id="c8da6-210">Podobně každou oblast má 50 % hello sekundární databáze.</span><span class="sxs-lookup"><span data-stu-id="c8da6-210">Similarly, each region has 50% of hello secondary databases.</span></span> <span data-ttu-id="c8da6-211">Tímto způsobem, pokud oblast je v režimu offline, jen 50 % hello placené zákazníků databáze dopad a mají toofail.</span><span class="sxs-lookup"><span data-stu-id="c8da6-211">This way, if a region is offline, only 50% of hello paid customers' databases are impacted and have toofail over.</span></span> <span data-ttu-id="c8da6-212">Hello jiných databází zůstanou beze změn.</span><span class="sxs-lookup"><span data-stu-id="c8da6-212">hello other databases remain intact.</span></span> <span data-ttu-id="c8da6-213">Tato konfigurace je znázorněno v následujícím diagramu hello:</span><span class="sxs-lookup"><span data-stu-id="c8da6-213">This configuration is illustrated in hello following diagram:</span></span>

![Obrázek 4](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-7.png)

<span data-ttu-id="c8da6-215">Jako v předchozích případech hello, jsou velmi aktivní hello správu databází, je nakonfigurujte jako izolované geograficky replikované databáze (1).</span><span class="sxs-lookup"><span data-stu-id="c8da6-215">As in hello previous scenarios, hello management databases are quite active so configure them as single geo-replicated databases (1).</span></span> <span data-ttu-id="c8da6-216">Tím se zajistí hello předvídatelný výkon hello nová předplatná zákazníka, profil aktualizace a jiné operace správy.</span><span class="sxs-lookup"><span data-stu-id="c8da6-216">This ensures hello predictable performance of hello new customer subscriptions, profile updates and other management operations.</span></span> <span data-ttu-id="c8da6-217">Oblasti A je hello primární oblasti pro správu databáze hello a oblast hello B se používá pro obnovení hello správu databází.</span><span class="sxs-lookup"><span data-stu-id="c8da6-217">Region A is hello primary region for hello management databases and hello region B is used for recovery of hello management databases.</span></span>

<span data-ttu-id="c8da6-218">databáze Hello platící zákazníky využívající klienta jsou taky geograficky replikované, ale s základní barvy a sekundárních rozdělit mezi oblast A a B (2) oblast.</span><span class="sxs-lookup"><span data-stu-id="c8da6-218">hello paying customers’ tenant databases are also geo-replicated but with primaries and secondaries split between region A and region B (2).</span></span> <span data-ttu-id="c8da6-219">Tímto způsobem hello klienta primární databází vliv výpadku hello přebírány toohello jiné oblasti a bude k dispozici.</span><span class="sxs-lookup"><span data-stu-id="c8da6-219">This way, hello tenant primary databases impacted by hello outage can fail over toohello other region and become available.</span></span> <span data-ttu-id="c8da6-220">Hello jiných polovinu hello klienta databází nejsou vůbec dopad.</span><span class="sxs-lookup"><span data-stu-id="c8da6-220">hello other half of hello tenant databases are not be impacted at all.</span></span> 

<span data-ttu-id="c8da6-221">Hello další diagram znázorňuje tootake kroky obnovení hello, pokud dojde k výpadku v oblasti A.</span><span class="sxs-lookup"><span data-stu-id="c8da6-221">hello next diagram illustrates hello recovery steps tootake if  an outage occurs in region A.</span></span>

![Obrázek 5](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-8.png)

* <span data-ttu-id="c8da6-223">Okamžitě převzetí služeb při selhání hello správu databází tooregion B (3).</span><span class="sxs-lookup"><span data-stu-id="c8da6-223">Immediately fail over hello management databases tooregion B (3).</span></span>
* <span data-ttu-id="c8da6-224">Změnit aplikace hello připojení řetězec toopoint toohello správu databází v oblasti upravit B. hello správu databází toomake hello nové účty a databáze klienta se vytvoří v oblasti B a jsou nalezeny hello existující databáze klienta jako také.</span><span class="sxs-lookup"><span data-stu-id="c8da6-224">Change hello application’s connection string toopoint toohello management databases in region B. Modify hello management databases toomake sure hello new accounts and tenant databases are created in region B and hello existing tenant databases are found there as well.</span></span> <span data-ttu-id="c8da6-225">Hello stávající zákazníky služby zkušební zobrazit tato data není dočasně k dispozici.</span><span class="sxs-lookup"><span data-stu-id="c8da6-225">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="c8da6-226">Převzetí služeb při selhání klienta hello placené databáze toopool 2 v oblasti B tooimmediately obnovit jejich dostupnost (4).</span><span class="sxs-lookup"><span data-stu-id="c8da6-226">Fail over hello paid tenant's databases toopool 2 in region B tooimmediately restore their availability (4).</span></span> <span data-ttu-id="c8da6-227">Vzhledem k tomu, že hello převzetí služeb při selhání je rychlý Změna úrovně, zvažte optimalizaci kde jednotlivé převzetí služeb při selhání hello jsou aktivovány na vyžádání připojení hello koncového uživatele.</span><span class="sxs-lookup"><span data-stu-id="c8da6-227">Since hello failover is a quick metadata level change, you may consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="c8da6-228">Od teď fond 2 obsahuje pouze primární databáze, hello celkový počet úloh ve fondu zvyšuje hello a můžete okamžitě zvětšete jeho velikost eDTU (5).</span><span class="sxs-lookup"><span data-stu-id="c8da6-228">Since now pool 2 contains only primary databases, hello total workload in hello pool increases and can immediately increase its eDTU size (5).</span></span> 
* <span data-ttu-id="c8da6-229">Vytvořit nový elastický fond hello s hello stejný název a text hello stejné konfigurace v oblasti hello B pro databáze hello zkušební zákazníků (6).</span><span class="sxs-lookup"><span data-stu-id="c8da6-229">Create hello new elastic pool with hello same name and hello same configuration in hello region B for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="c8da6-230">Po použití geografické obnovení toorestore hello jednotlivé zkušební verzi klienta databáze je vytvořen fond hello do fondu hello (7).</span><span class="sxs-lookup"><span data-stu-id="c8da6-230">Once hello pool is created use geo-restore toorestore hello individual trial tenant database into hello pool (7).</span></span> <span data-ttu-id="c8da6-231">Můžete zvážit spouštění jednotlivých obnovení hello připojeními hello koncového uživatele nebo používat některé další schéma s prioritou specifické pro aplikaci.</span><span class="sxs-lookup"><span data-stu-id="c8da6-231">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

> [!NOTE]
> <span data-ttu-id="c8da6-232">operace převzetí služeb při selhání Hello je asynchronní.</span><span class="sxs-lookup"><span data-stu-id="c8da6-232">hello failover operation is asynchronous.</span></span> <span data-ttu-id="c8da6-233">Doba obnovení hello toominimize, je důležité, možné provést příkaz převzetí služeb při selhání hello klienta databáze, a to v dávkách aspoň 20 databází.</span><span class="sxs-lookup"><span data-stu-id="c8da6-233">toominimize hello recovery time, it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 

<span data-ttu-id="c8da6-234">V tomto okamžiku aplikace je zpět do online režimu v oblasti B. Mají přístup všechny platící zákazníky tootheir data během zkušební zákazníků hello zaznamenat zpoždění při přístupu k jejich datům.</span><span class="sxs-lookup"><span data-stu-id="c8da6-234">At this point your application is back online in region B. All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="c8da6-235">Když je obnovena oblasti A musíte toodecide Pokud chcete toouse oblast B pro zkušební zákazníků nebo navrácení služeb po obnovení toousing hello zkušební zákazníkům fond v oblasti A. Jedno kritérium může být % hello od obnovení hello upraven databází zkušební verzi klienta.</span><span class="sxs-lookup"><span data-stu-id="c8da6-235">When region A is recovered you need toodecide if you want toouse region B for trial customers or failback toousing hello trial customers pool in region A. One criteria could be hello % of trial tenant databases modified since hello recovery.</span></span> <span data-ttu-id="c8da6-236">Bez ohledu na to, že rozhodnutí potřebujete placené hello klientům toore vyrovnávání mezi dvěma fondy.</span><span class="sxs-lookup"><span data-stu-id="c8da6-236">Regardless of that decision, you need toore-balance hello paid tenants between two pools.</span></span> <span data-ttu-id="c8da6-237">Hello další obrázek znázorňuje proces hello, pokud databáze zkušební verzi klienta hello nezdaří back tooregion A.</span><span class="sxs-lookup"><span data-stu-id="c8da6-237">hello next diagram illustrates hello process when hello trial tenant databases fail back tooregion A.</span></span>  

![Obrázek 6](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-9.png)

* <span data-ttu-id="c8da6-239">Zrušte všechny zbývající geografické obnovení žádosti o tootrial zotavení po Havárii fondu.</span><span class="sxs-lookup"><span data-stu-id="c8da6-239">Cancel all outstanding geo-restore requests tootrial DR pool.</span></span>   
* <span data-ttu-id="c8da6-240">Selhání databáze správy hello (8).</span><span class="sxs-lookup"><span data-stu-id="c8da6-240">Fail over hello management database (8).</span></span> <span data-ttu-id="c8da6-241">Po obnovení hello oblast hello původního primárního se stala automaticky hello sekundární.</span><span class="sxs-lookup"><span data-stu-id="c8da6-241">After hello region’s recovery, hello old primary automatically became hello secondary.</span></span> <span data-ttu-id="c8da6-242">Nyní bude text hello primární znovu.</span><span class="sxs-lookup"><span data-stu-id="c8da6-242">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="c8da6-243">Vyberte, které databáze placené klienta nezdaří back toopool 1 a inicializovat převzetí služeb při selhání tootheir sekundárních (9).</span><span class="sxs-lookup"><span data-stu-id="c8da6-243">Select which paid tenant databases fail back toopool 1 and initiate failover tootheir secondaries (9).</span></span> <span data-ttu-id="c8da6-244">Po obnovení hello oblast jsou všechny databáze ve fondu 1 automaticky sekundární repliky.</span><span class="sxs-lookup"><span data-stu-id="c8da6-244">After hello region’s recovery, all databases in pool 1 automatically became secondaries.</span></span> <span data-ttu-id="c8da6-245">Nyní 50 % z nich stanou základní barvy znovu.</span><span class="sxs-lookup"><span data-stu-id="c8da6-245">Now 50% of them become primaries again.</span></span> 
* <span data-ttu-id="c8da6-246">Snížení velikosti hello původní eDTU fondu 2 toohello (10).</span><span class="sxs-lookup"><span data-stu-id="c8da6-246">Reduce hello size of pool 2 toohello original eDTU (10).</span></span>
* <span data-ttu-id="c8da6-247">Všechny sady obnovíte zkušební verze databáze v oblasti hello B jen tooread (11).</span><span class="sxs-lookup"><span data-stu-id="c8da6-247">Set all restored trial databases in hello region B tooread-only (11).</span></span>
* <span data-ttu-id="c8da6-248">Pro každou databázi ve hello zkušební zotavení po Havárii fondu, který se změnil od obnovení hello přejmenovat nebo odstranit hello příslušné databáze ve hello zkušební primární fondu (12).</span><span class="sxs-lookup"><span data-stu-id="c8da6-248">For each database in hello trial DR pool that has changed since hello recovery, rename or delete hello corresponding database in hello trial primary pool (12).</span></span> 
* <span data-ttu-id="c8da6-249">Kopírování hello aktualizovat databáze z hello zotavení po Havárii fondu toohello primární fondu (13).</span><span class="sxs-lookup"><span data-stu-id="c8da6-249">Copy hello updated databases from hello DR pool toohello primary pool (13).</span></span> 
* <span data-ttu-id="c8da6-250">Odstranění fondu hello zotavení po Havárii (14)</span><span class="sxs-lookup"><span data-stu-id="c8da6-250">Delete hello DR pool (14)</span></span> 

<span data-ttu-id="c8da6-251">klíč Hello **výhody** této strategie jsou:</span><span class="sxs-lookup"><span data-stu-id="c8da6-251">hello key **benefits** of this strategy are:</span></span>

* <span data-ttu-id="c8da6-252">Podporuje hello nejvíce agresivní SLA pro hello platícího zákazníků, protože zajišťuje, že výpadek nemůže mít vliv na více než 50 % hello klienta databáze.</span><span class="sxs-lookup"><span data-stu-id="c8da6-252">It supports hello most aggressive SLA for hello paying customers because it ensures that an outage cannot impact more than 50% of hello tenant databases.</span></span> 
* <span data-ttu-id="c8da6-253">Zaručuje, že jsou nové zkušební verze hello odblokuje co nejrychleji hello záznam pro zotavení po Havárii fondu se vytvoří během obnovení hello.</span><span class="sxs-lookup"><span data-stu-id="c8da6-253">It guarantees that hello new trials are unblocked as soon as hello trail DR pool is created during hello recovery.</span></span> 
* <span data-ttu-id="c8da6-254">Umožňuje efektivnější využití kapacity fondu hello jako 50 % sekundární databází ve fondu 1 a fond 2 zaručena toobe active méně než hello primární databáze.</span><span class="sxs-lookup"><span data-stu-id="c8da6-254">It allows more efficient use of hello pool capacity as 50% of secondary databases in pool 1 and pool 2 are guaranteed toobe less active than hello primary databases.</span></span>

<span data-ttu-id="c8da6-255">Hello hlavní **kompromis** jsou:</span><span class="sxs-lookup"><span data-stu-id="c8da6-255">hello main **trade-offs** are:</span></span>

* <span data-ttu-id="c8da6-256">Hello operace CRUD s databázemi, správu hello mít nižší latence pro hello koncoví uživatelé připojený tooregion A než pro hello koncoví uživatelé připojený tooregion B, jako jsou spustit pro primární hello hello správu databází.</span><span class="sxs-lookup"><span data-stu-id="c8da6-256">hello CRUD operations against hello management databases have lower latency for hello end users connected tooregion A than for hello end users connected tooregion B as they are executed against hello primary of hello management databases.</span></span>
* <span data-ttu-id="c8da6-257">To vyžaduje složitější návrhu hello správu databáze.</span><span class="sxs-lookup"><span data-stu-id="c8da6-257">It requires more complex design of hello management database.</span></span> <span data-ttu-id="c8da6-258">Každý záznam klienta má například značky < location vyžadující toobe změnit během převzetí služeb při selhání a navrácení služeb po obnovení.</span><span class="sxs-lookup"><span data-stu-id="c8da6-258">For example, each tenant record has a location tag that needs toobe changed during failover and failback.</span></span>  
* <span data-ttu-id="c8da6-259">Hello platícího zákazníků může zaznamenat snížení výkonu než obvykle, dokud hello fondu v oblasti B dokončení upgradu.</span><span class="sxs-lookup"><span data-stu-id="c8da6-259">hello paying customers may experience lower performance than usual until hello pool upgrade in region B is completed.</span></span> 

## <a name="summary"></a><span data-ttu-id="c8da6-260">Souhrn</span><span class="sxs-lookup"><span data-stu-id="c8da6-260">Summary</span></span>
<span data-ttu-id="c8da6-261">Tento článek se zaměřuje na hello strategie obnovení po havárii pro databázové vrstvy hello používá víceklientské aplikace SaaS ISV.</span><span class="sxs-lookup"><span data-stu-id="c8da6-261">This article focuses on hello disaster recovery strategies for hello database tier used by a SaaS ISV multi-tenant application.</span></span> <span data-ttu-id="c8da6-262">Hello strategie zvolíte je podle potřeb hello hello aplikace, jako je například hello firmy modelu hello SLA má toooffer tooyour zákazníků, rozpočet omezení atd. Každý popsané strategie jsou podrobněji popsány dále hello výhody a kompromis tak může provést informované rozhodnutí.</span><span class="sxs-lookup"><span data-stu-id="c8da6-262">hello strategy you choose is based on hello needs of hello application, such as hello business model, hello SLA you want toooffer tooyour customers, budget constraint etc. Each described strategy outlines hello benefits and trade-off so you could make an informed decision.</span></span> <span data-ttu-id="c8da6-263">Konkrétní aplikace pravděpodobně také dalšími součástmi Azure.</span><span class="sxs-lookup"><span data-stu-id="c8da6-263">Also, your specific application likely includes other Azure components.</span></span> <span data-ttu-id="c8da6-264">Proto zkontrolujte své firmy kontinuity pokyny a orchestraci hello obnovení hello databázové vrstvy s nimi.</span><span class="sxs-lookup"><span data-stu-id="c8da6-264">So you review their business continuity guidance and orchestrate hello recovery of hello database tier with them.</span></span> <span data-ttu-id="c8da6-265">toolearn Další informace o správě obnovení databáze aplikace v Azure, najdete v příliš[návrhu cloudové řešení pro zotavení po havárii](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="c8da6-265">toolearn more about managing recovery of database applications in Azure, refer too[Designing cloud solutions for disaster recovery](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span></span>  

## <a name="next-steps"></a><span data-ttu-id="c8da6-266">Další kroky</span><span class="sxs-lookup"><span data-stu-id="c8da6-266">Next steps</span></span>
* <span data-ttu-id="c8da6-267">toolearn o zálohování Azure SQL Database automatizované, najdete v části [automatizované zálohování SQL Database](sql-database-automated-backups.md).</span><span class="sxs-lookup"><span data-stu-id="c8da6-267">toolearn about Azure SQL Database automated backups, see [SQL Database automated backups](sql-database-automated-backups.md).</span></span>
* <span data-ttu-id="c8da6-268">Přehled kontinuity obchodních a scénářů najdete v tématu [obchodní kontinuity přehled](sql-database-business-continuity.md).</span><span class="sxs-lookup"><span data-stu-id="c8da6-268">For a business continuity overview and scenarios, see [Business continuity overview](sql-database-business-continuity.md).</span></span>
* <span data-ttu-id="c8da6-269">toolearn o použití automatizované zálohování pro obnovení, najdete v části [obnovit databázi ze zálohy spouštěná služba hello](sql-database-recovery-using-backups.md).</span><span class="sxs-lookup"><span data-stu-id="c8da6-269">toolearn about using automated backups for recovery, see [restore a database from hello service-initiated backups](sql-database-recovery-using-backups.md).</span></span>
* <span data-ttu-id="c8da6-270">toolearn o rychlejší možnosti obnovení, najdete v části [aktivní geografickou replikací](sql-database-geo-replication-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c8da6-270">toolearn about faster recovery options, see [active geo-replication](sql-database-geo-replication-overview.md).</span></span>
* <span data-ttu-id="c8da6-271">toolearn o použití automatizované zálohování pro archivaci, najdete v části [kopírování databáze](sql-database-copy.md).</span><span class="sxs-lookup"><span data-stu-id="c8da6-271">toolearn about using automated backups for archiving, see [database copy](sql-database-copy.md).</span></span>

