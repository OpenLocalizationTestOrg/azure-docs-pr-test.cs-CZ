---
title: "ověřování služby Azure Active Directory aaaConfigure - SQL | Microsoft Docs"
description: "Zjistěte, jak tooconnect tooSQL databáze a SQL Data Warehouse pomocí ověřování Azure Active Directory."
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 7e2508a1-347e-4f15-b060-d46602c5ce7e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 07/10/2017
ms.author: rickbyh
ms.openlocfilehash: d6222da0b840f96d4bcfbc02964dc7c54d5ea1ee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="configure-and-manage-azure-active-directory-authentication-with-sql-database-or-sql-data-warehouse"></a><span data-ttu-id="c17f3-103">Konfigurovat a spravovat ověřování Azure Active Directory s SQL Database nebo SQL Data Warehouse</span><span class="sxs-lookup"><span data-stu-id="c17f3-103">Configure and manage Azure Active Directory authentication with SQL Database or SQL Data Warehouse</span></span>

<span data-ttu-id="c17f3-104">Tento článek ukazuje, jak toocreate a naplnit Azure AD a potom pomocí služby Azure AD s Azure SQL Database a SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c17f3-104">This article shows you how toocreate and populate Azure AD, and then use Azure AD with Azure SQL Database and SQL Data Warehouse.</span></span> <span data-ttu-id="c17f3-105">Přehled najdete v tématu [ověřování Azure Active Directory](sql-database-aad-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="c17f3-105">For an overview, see [Azure Active Directory Authentication](sql-database-aad-authentication.md).</span></span>

>  [!NOTE]  
>  <span data-ttu-id="c17f3-106">Připojení tooSQL Server běžící na virtuálním počítači Azure se nepodporuje, pomocí účtu Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c17f3-106">Connecting tooSQL Server running on an Azure VM is not supported using an Azure Active Directory account.</span></span> <span data-ttu-id="c17f3-107">Místo toho používejte doménu účtu služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c17f3-107">Use a domain Active Directory account instead.</span></span>

## <a name="create-and-populate-an-azure-ad"></a><span data-ttu-id="c17f3-108">Vytvořit a naplnit Azure AD</span><span class="sxs-lookup"><span data-stu-id="c17f3-108">Create and populate an Azure AD</span></span>
<span data-ttu-id="c17f3-109">Vytvoření Azure AD a jeho naplnění uživatelů a skupin.</span><span class="sxs-lookup"><span data-stu-id="c17f3-109">Create an Azure AD and populate it with users and groups.</span></span> <span data-ttu-id="c17f3-110">Azure AD může být spravované doméně hello počáteční domény Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c17f3-110">Azure AD can be hello initial domain Azure AD managed domain.</span></span> <span data-ttu-id="c17f3-111">Azure AD může být také místní Active Directory Domain Services, je sdružených se službou hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c17f3-111">Azure AD can also be an on-premises Active Directory Domain Services that is federated with hello Azure AD.</span></span>

<span data-ttu-id="c17f3-112">Další informace najdete v tématu [integrace místních identit s Azure Active Directory](../active-directory/active-directory-aadconnect.md), [přidat vlastní tooAzure název domény AD](../active-directory/active-directory-add-domain.md), [Microsoft Azure teď podporuje federaci se Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Správa adresáře služby Azure AD](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Správa Azure AD pomocí prostředí Windows PowerShell](/powershell/azure/overview?view=azureadps-2.0), a [hybridní identita Požadované porty a protokoly](../active-directory/active-directory-aadconnect-ports.md).</span><span class="sxs-lookup"><span data-stu-id="c17f3-112">For more information, see [Integrating your on-premises identities with Azure Active Directory](../active-directory/active-directory-aadconnect.md), [Add your own domain name tooAzure AD](../active-directory/active-directory-add-domain.md), [Microsoft Azure now supports federation with Windows Server Active Directory](https://azure.microsoft.com/blog/2012/11/28/windows-azure-now-supports-federation-with-windows-server-active-directory/), [Administering your Azure AD directory](https://msdn.microsoft.com/library/azure/hh967611.aspx), [Manage Azure AD using Windows PowerShell](/powershell/azure/overview?view=azureadps-2.0), and [Hybrid Identity Required Ports and Protocols](../active-directory/active-directory-aadconnect-ports.md).</span></span>

## <a name="optional-associate-or-change-hello-active-directory-that-is-currently-associated-with-your-azure-subscription"></a><span data-ttu-id="c17f3-113">Volitelné: Přidružení nebo změňte hello služby active directory, který je aktuálně přidružena předplatného Azure</span><span class="sxs-lookup"><span data-stu-id="c17f3-113">Optional: Associate or change hello active directory that is currently associated with your Azure Subscription</span></span>
<span data-ttu-id="c17f3-114">tooassociate databáze s adresářem hello Azure AD pro vaši organizaci, aby adresář hello důvěryhodné adresář pro databázi hostování hello hello předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="c17f3-114">tooassociate your database with hello Azure AD directory for your organization, make hello directory a trusted directory for hello Azure subscription hosting hello database.</span></span> <span data-ttu-id="c17f3-115">Další informace najdete v článku [Asociování předplatných Azure se službou Azure AD](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span><span class="sxs-lookup"><span data-stu-id="c17f3-115">For more information, see [How Azure subscriptions are associated with Azure AD](https://msdn.microsoft.com/library/azure/dn629581.aspx).</span></span>

<span data-ttu-id="c17f3-116">**Další informace:** předplatné každých Azure má vztah důvěryhodnosti s instancí Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c17f3-116">**Additional information:** Every Azure subscription has a trust relationship with an Azure AD instance.</span></span> <span data-ttu-id="c17f3-117">To znamená, že tento adresář tooauthenticate uživatelů, služeb a zařízení.</span><span class="sxs-lookup"><span data-stu-id="c17f3-117">This means that it trusts that directory tooauthenticate users, services, and devices.</span></span> <span data-ttu-id="c17f3-118">Několik předplatných může důvěřovat hello stejný adresář, ale předplatné důvěřuje pouze jednomu adresáři.</span><span class="sxs-lookup"><span data-stu-id="c17f3-118">Multiple subscriptions can trust hello same directory, but a subscription trusts only one directory.</span></span> <span data-ttu-id="c17f3-119">Můžete zobrazit adresář, kterému důvěřují vaše předplatné v části hello **nastavení** kartě v [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span><span class="sxs-lookup"><span data-stu-id="c17f3-119">You can see which directory is trusted by your subscription under hello **Settings** tab at [https://manage.windowsazure.com/](https://manage.windowsazure.com/).</span></span> <span data-ttu-id="c17f3-120">Tento vztah důvěryhodnosti, který má předplatné s adresářem je na rozdíl od hello vztah, který má předplatné se všemi ostatními prostředky v Azure (weby, databáze a tak dále), které jsou spíše podřízené prostředky předplatného.</span><span class="sxs-lookup"><span data-stu-id="c17f3-120">This trust relationship that a subscription has with a directory is unlike hello relationship that a subscription has with all other resources in Azure (websites, databases, and so on), which are more like child resources of a subscription.</span></span> <span data-ttu-id="c17f3-121">Pokud vyprší platnost předplatného a pak přístup toothose další prostředky přidružené k předplatnému hello také zastaví.</span><span class="sxs-lookup"><span data-stu-id="c17f3-121">If a subscription expires, then access toothose other resources associated with hello subscription also stops.</span></span> <span data-ttu-id="c17f3-122">Ale hello directory zůstává v Azure, a můžete přidružit jiné předplatné adresáře a pokračovat toomanage hello adresáře uživatelů.</span><span class="sxs-lookup"><span data-stu-id="c17f3-122">But hello directory remains in Azure, and you can associate another subscription with that directory and continue toomanage hello directory users.</span></span> <span data-ttu-id="c17f3-123">Další informace o prostředcích najdete v tématu [Principy přístupu k prostředkům v Azure](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span><span class="sxs-lookup"><span data-stu-id="c17f3-123">For more information about resources, see [Understanding resource access in Azure](https://msdn.microsoft.com/library/azure/dn584083.aspx).</span></span>

<span data-ttu-id="c17f3-124">Hello následující postupy popisují, jak toochange hello přidružené adresář pro dané předplatné.</span><span class="sxs-lookup"><span data-stu-id="c17f3-124">hello following procedures show you how toochange hello associated directory for a given subscription.</span></span>
1. <span data-ttu-id="c17f3-125">Připojit tooyour [portálu Azure Classic](https://manage.windowsazure.com/) pomocí Správce předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="c17f3-125">Connect tooyour [Azure Classic Portal](https://manage.windowsazure.com/) by using an Azure subscription administrator.</span></span>
2. <span data-ttu-id="c17f3-126">Na levém banner hello, vyberte **nastavení**.</span><span class="sxs-lookup"><span data-stu-id="c17f3-126">On hello left banner, select **SETTINGS**.</span></span>
3. <span data-ttu-id="c17f3-127">V úvodní obrazovka nastavení se zobrazí vaše předplatná.</span><span class="sxs-lookup"><span data-stu-id="c17f3-127">Your subscriptions appear in hello settings screen.</span></span> <span data-ttu-id="c17f3-128">Podle potřeby hello předplatného se nezobrazí, klikněte na tlačítko **odběry** hello horní rozevírací nabídku hello **filtr podle DIRECTORY** pole a vyberte hello adresář, který obsahuje předplatné a pak klikněte na **Použít**.</span><span class="sxs-lookup"><span data-stu-id="c17f3-128">If hello desired subscription does not appear, click **Subscriptions** at hello top, drop down hello **FILTER BY DIRECTORY** box and select hello directory that contains your subscriptions, and then click **APPLY**.</span></span>
   
    ![Vyberte předplatné][4]
4. <span data-ttu-id="c17f3-130">V hello **nastavení** oblast, klikněte na vaše předplatné a pak klikněte na **upravit adresář** na hello dolní části stránky hello.</span><span class="sxs-lookup"><span data-stu-id="c17f3-130">In hello **settings** area, click your subscription, and then click  **EDIT DIRECTORY** at hello bottom of hello page.</span></span>
   
    ![portálu nastavení AD][5]
5. <span data-ttu-id="c17f3-132">V hello **upravit adresář** vyberte hello Azure Active Directory, který je přidružen k serveru SQL Server nebo SQL Data Warehouse a potom klikněte na šipku další, hello.</span><span class="sxs-lookup"><span data-stu-id="c17f3-132">In hello **EDIT DIRECTORY** box, select hello Azure Active Directory that is associated with your SQL Server or SQL Data Warehouse, and then click hello arrow for next.</span></span>
   
    ![Vyberte možnost Upravit adresář][6]
6. <span data-ttu-id="c17f3-134">V hello **POTVRDIT** directory dialogové okno mapování, zkontrolujte, že "**se odeberou všechny spolusprávci.**"</span><span class="sxs-lookup"><span data-stu-id="c17f3-134">In hello **CONFIRM** directory Mapping dialog box, confirm that "**All co-administrators will be removed.**"</span></span>
   
    ![Upravit adresář potvrzení][7]
7. <span data-ttu-id="c17f3-136">Klikněte na tlačítko hello kontrola tooreload hello portálu.</span><span class="sxs-lookup"><span data-stu-id="c17f3-136">Click hello check tooreload hello portal.</span></span>

   > [!NOTE]
   > <span data-ttu-id="c17f3-137">Když změníte hello adresáře, přístup tooall spolusprávci, Azure AD Uživatelé a skupiny a uživatelů zálohovaná directory prostředků se odeberou a už mají přístup toothis předplatného nebo jeho prostředky.</span><span class="sxs-lookup"><span data-stu-id="c17f3-137">When you change hello directory, access tooall co-administrators, Azure AD users and groups, and directory-backed resource users are removed and they no longer have access toothis subscription or its resources.</span></span> <span data-ttu-id="c17f3-138">Pouze, jako správce služeb můžete nakonfigurovat přístup pro objekty zabezpečení založené na nový adresář hello.</span><span class="sxs-lookup"><span data-stu-id="c17f3-138">Only you, as a service administrator, can configure access for principals based on hello new directory.</span></span> <span data-ttu-id="c17f3-139">Tato změna může trvat vyžadovat značné množství času toopropagate tooall prostředky.</span><span class="sxs-lookup"><span data-stu-id="c17f3-139">This change might take a substantial amount of time toopropagate tooall resources.</span></span> <span data-ttu-id="c17f3-140">Změna adresáře hello, také změny hello správce Azure AD pro SQL Database a SQL Data Warehouse a zakáže přístup k databázi pro všechny stávající uživatele Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c17f3-140">Changing hello directory, also changes hello Azure AD administrator for SQL Database and SQL Data Warehouse and disallow database access for any existing Azure AD users.</span></span> <span data-ttu-id="c17f3-141">Dobrý den Azure AD, Správce musí být resetování (jak je popsáno níže) a nové Azure AD Uživatelé musí být vytvořen.</span><span class="sxs-lookup"><span data-stu-id="c17f3-141">hello Azure AD admin must be reset (as described below) and new Azure AD users must be created.</span></span>
   >  

## <a name="create-an-azure-ad-administrator-for-azure-sql-server"></a><span data-ttu-id="c17f3-142">Vytvoření správce Azure AD pro server Azure SQL</span><span class="sxs-lookup"><span data-stu-id="c17f3-142">Create an Azure AD administrator for Azure SQL server</span></span>
<span data-ttu-id="c17f3-143">Každý server Azure SQL (který je hostitelem SQL Database nebo SQL Data Warehouse) spustí pomocí účtu správce jeden server, který je správcem hello hello celý server Azure SQL.</span><span class="sxs-lookup"><span data-stu-id="c17f3-143">Each Azure SQL server (which hosts a SQL Database or SQL Data Warehouse) starts with a single server administrator account that is hello administrator of hello entire Azure SQL server.</span></span> <span data-ttu-id="c17f3-144">Druhý správce systému SQL Server musí být vytvořeny, který je účet Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c17f3-144">A second SQL Server administrator must be created, that is an Azure AD account.</span></span> <span data-ttu-id="c17f3-145">Tento objekt se vytvoří jako databáze s omezením uživatel v hlavní databázi hello.</span><span class="sxs-lookup"><span data-stu-id="c17f3-145">This principal is created as a contained database user in hello master database.</span></span> <span data-ttu-id="c17f3-146">Jako správce, jsou účty správce systému server hello členy hello **db_owner** role v každého uživatele databáze a potom zadejte každou databázi uživatele jako hello **dbo** uživatele.</span><span class="sxs-lookup"><span data-stu-id="c17f3-146">As administrators, hello server administrator accounts are members of hello **db_owner** role in every user database, and enter each user database as hello **dbo** user.</span></span> <span data-ttu-id="c17f3-147">Další informace o účtech správce serveru hello najdete v tématu [Správa databází a přihlašovacích údajů ve službě Azure SQL Database](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="c17f3-147">For more information about hello server administrator accounts, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="c17f3-148">Při použití Azure Active Directory s geografickou replikací, hello správce Azure Active Directory musí být nakonfigurované hello primární a sekundární servery hello.</span><span class="sxs-lookup"><span data-stu-id="c17f3-148">When using Azure Active Directory with geo-replication, hello Azure Active Directory administrator must be configured for both hello primary and hello secondary servers.</span></span> <span data-ttu-id="c17f3-149">Pokud server nemá správce Azure Active Directory, pak přihlášení Azure Active Directory a uživatelé k chybě "Nelze se připojit" tooserver.</span><span class="sxs-lookup"><span data-stu-id="c17f3-149">If a server does not have an Azure Active Directory administrator, then Azure Active Directory logins and users receive a "Cannot connect" tooserver error.</span></span>

> [!NOTE]
> <span data-ttu-id="c17f3-150">Uživatelé, které nejsou založené na účet služby Azure AD (včetně účtu správce serveru Azure SQL hello), nelze vytvořit Azure AD na základě uživatele, protože nemají oprávnění toovalidate navrhované uživatelé databáze s hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c17f3-150">Users that are not based on an Azure AD account (including hello Azure SQL server administrator account), cannot create Azure AD-based users, because they do not have permission toovalidate proposed database users with hello Azure AD.</span></span>
> 

## <a name="provision-an-azure-active-directory-administrator-for-your-azure-sql-server"></a><span data-ttu-id="c17f3-151">Zřízení správcem služby Azure Active Directory pro server Azure SQL</span><span class="sxs-lookup"><span data-stu-id="c17f3-151">Provision an Azure Active Directory administrator for your Azure SQL server</span></span>

<span data-ttu-id="c17f3-152">Hello následující dva postupy ukazují, jak tooprovision správce Azure Active Directory pro server Azure SQL v hello portál Azure a pomocí prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="c17f3-152">hello following two procedures show you how tooprovision an Azure Active Directory administrator for your Azure SQL server in hello Azure portal and by using PowerShell.</span></span>

### <a name="azure-portal"></a><span data-ttu-id="c17f3-153">portál Azure</span><span class="sxs-lookup"><span data-stu-id="c17f3-153">Azure portal</span></span>
1. <span data-ttu-id="c17f3-154">V hello [portál Azure](https://portal.azure.com/), v pravém horním rohu text hello, klikněte na vaše připojení toodrop dolů seznam možných Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c17f3-154">In hello [Azure portal](https://portal.azure.com/), in hello upper-right corner, click your connection toodrop down a list of possible Active Directories.</span></span> <span data-ttu-id="c17f3-155">Zvolte hello opravte služby Active Directory jako výchozí hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c17f3-155">Choose hello correct Active Directory as hello default Azure AD.</span></span> <span data-ttu-id="c17f3-156">Používá se tento krok odkazy hello předplatné přidružení se službou Active Directory s Azure SQL serveru a ujistěte se, který hello stejného předplatného pro Azure AD a SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c17f3-156">This step links hello subscription association with Active Directory with Azure SQL server making sure that hello same subscription is used for both Azure AD and SQL Server.</span></span> <span data-ttu-id="c17f3-157">(server Azure SQL hello můžete hostování, Azure SQL Database nebo Azure SQL Data Warehouse.)</span><span class="sxs-lookup"><span data-stu-id="c17f3-157">(hello Azure SQL server can be hosting either Azure SQL Database or Azure SQL Data Warehouse.)</span></span>   
    <span data-ttu-id="c17f3-158">![Zvolte ad][8]</span><span class="sxs-lookup"><span data-stu-id="c17f3-158">![choose-ad][8]</span></span>   
    
2. <span data-ttu-id="c17f3-159">V hello vlevo vyberte banner **servery SQL**, vyberte vaše **systému SQL server**a potom v hello **systému SQL Server** okně klikněte na tlačítko **správce Active Directory**.</span><span class="sxs-lookup"><span data-stu-id="c17f3-159">In hello left banner select **SQL servers**, select your **SQL server**, and then in hello **SQL Server** blade, click **Active Directory admin**.</span></span>   
3. <span data-ttu-id="c17f3-160">V hello **správce Active Directory** okně klikněte na tlačítko **nastavit správce**.</span><span class="sxs-lookup"><span data-stu-id="c17f3-160">In hello **Active Directory admin** blade, click **Set admin**.</span></span>   
    <span data-ttu-id="c17f3-161">![Vyberte možnost active directory](./media/sql-database-aad-authentication/select-active-directory.png)</span><span class="sxs-lookup"><span data-stu-id="c17f3-161">![select active directory](./media/sql-database-aad-authentication/select-active-directory.png)</span></span>  
    
4. <span data-ttu-id="c17f3-162">V hello **přidat správce** , vyhledejte uživatele, vyberte hello uživatele nebo skupiny toobe správce a pak klikněte na tlačítko **vyberte**.</span><span class="sxs-lookup"><span data-stu-id="c17f3-162">In hello **Add admin** blade, search for a user, select hello user or group toobe an administrator, and then click **Select**.</span></span> <span data-ttu-id="c17f3-163">(okno Správce služby Active Directory hello ukazuje všechny členy a skupin služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c17f3-163">(hello Active Directory admin blade shows all members and groups of your Active Directory.</span></span> <span data-ttu-id="c17f3-164">Uživatelé nebo skupiny, které jsou zobrazena šedě nelze vybrat, protože nejsou podporovány jako správci služby Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c17f3-164">Users or groups that are grayed out cannot be selected because they are not supported as Azure AD administrators.</span></span> <span data-ttu-id="c17f3-165">(Viz seznam hello podporované správců v hello **funkce Azure AD a omezení** části [použití Azure ověřování služby Active Directory k ověřování připojení k SQL Database nebo SQL Data Warehouse](sql-database-aad-authentication.md).) Řízení přístupu na základě role (RBAC) se vztahuje pouze toohello portálu a není šířený tooSQL serveru.</span><span class="sxs-lookup"><span data-stu-id="c17f3-165">(See hello list of supported admins in hello **Azure AD Features and Limitations** section of [Use Azure Active Directory Authentication for authentication with SQL Database or SQL Data Warehouse](sql-database-aad-authentication.md).) Role-based access control (RBAC) applies only toohello portal and is not propagated tooSQL Server.</span></span>   
    <span data-ttu-id="c17f3-166">![Vyberte správce](./media/sql-database-aad-authentication/select-admin.png)</span><span class="sxs-lookup"><span data-stu-id="c17f3-166">![select admin](./media/sql-database-aad-authentication/select-admin.png)</span></span>  
    
5. <span data-ttu-id="c17f3-167">Hello horní části hello **správce Active Directory** okně klikněte na tlačítko **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="c17f3-167">At hello top of hello **Active Directory admin** blade, click **SAVE**.</span></span>   
    <span data-ttu-id="c17f3-168">![Uložit správce](./media/sql-database-aad-authentication/save-admin.png)</span><span class="sxs-lookup"><span data-stu-id="c17f3-168">![save admin](./media/sql-database-aad-authentication/save-admin.png)</span></span>   

<span data-ttu-id="c17f3-169">proces Hello změny hello správce může trvat několik minut.</span><span class="sxs-lookup"><span data-stu-id="c17f3-169">hello process of changing hello administrator may take several minutes.</span></span> <span data-ttu-id="c17f3-170">Pak hello nový správce se zobrazí v hello **správce Active Directory** pole.</span><span class="sxs-lookup"><span data-stu-id="c17f3-170">Then hello new administrator appears in hello **Active Directory admin** box.</span></span>

   > [!NOTE]
   > <span data-ttu-id="c17f3-171">Při nastavování správce hello Azure AD, hello nové jméno správce (uživatele či skupinu) nemůže být již přítomny v hlavní databázi hello virtuální jako uživatel ověřování systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c17f3-171">When setting up hello Azure AD admin, hello new admin name (user or group) cannot already be present in hello virtual master database as a SQL Server authentication user.</span></span> <span data-ttu-id="c17f3-172">Pokud existuje, se nezdaří instalace správce Azure AD hello; vrácení zpět jeho vytvoření a označující, že takový správce (název) již existuje.</span><span class="sxs-lookup"><span data-stu-id="c17f3-172">If present, hello Azure AD admin setup will fail; rolling back its creation and indicating that such an admin (name) already exists.</span></span> <span data-ttu-id="c17f3-173">Vzhledem k tomu, že takové systému SQL Server ověřování uživatele není součástí hello Azure AD, všechny úsilí tooconnect toohello serveru pomocí ověřování Azure AD se nezdaří.</span><span class="sxs-lookup"><span data-stu-id="c17f3-173">Since such a SQL Server authentication user is not part of hello Azure AD, any effort tooconnect toohello server using Azure AD authentication fails.</span></span>
   > 


<span data-ttu-id="c17f3-174">toolater odebrat správce, hello horní části hello **správce Active Directory** okně klikněte na tlačítko **odebrat správce**a potom klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="c17f3-174">toolater remove an Admin, at hello top of hello **Active Directory admin** blade, click **Remove admin**, and then click **Save**.</span></span>

### <a name="powershell"></a><span data-ttu-id="c17f3-175">PowerShell</span><span class="sxs-lookup"><span data-stu-id="c17f3-175">PowerShell</span></span>
<span data-ttu-id="c17f3-176">toorun rutiny prostředí PowerShell, je nutné toohave prostředí Azure PowerShell nainstalovaná a spuštěná.</span><span class="sxs-lookup"><span data-stu-id="c17f3-176">toorun PowerShell cmdlets, you need toohave Azure PowerShell installed and running.</span></span> <span data-ttu-id="c17f3-177">Podrobné informace najdete v tématu [jak tooinstall a konfigurace prostředí Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="c17f3-177">For detailed information, see [How tooinstall and configure Azure PowerShell](/powershell/azure/overview).</span></span>

<span data-ttu-id="c17f3-178">tooprovision správce Azure AD, spusťte následující příkazy prostředí Azure PowerShell hello:</span><span class="sxs-lookup"><span data-stu-id="c17f3-178">tooprovision an Azure AD admin, execute hello following Azure PowerShell commands:</span></span>

* <span data-ttu-id="c17f3-179">Add-AzureRmAccount</span><span class="sxs-lookup"><span data-stu-id="c17f3-179">Add-AzureRmAccount</span></span>
* <span data-ttu-id="c17f3-180">Select-AzureRmSubscription</span><span class="sxs-lookup"><span data-stu-id="c17f3-180">Select-AzureRmSubscription</span></span>

<span data-ttu-id="c17f3-181">Rutiny používá tooprovision a spravovat správce Azure AD:</span><span class="sxs-lookup"><span data-stu-id="c17f3-181">Cmdlets used tooprovision and manage Azure AD admin:</span></span>

| <span data-ttu-id="c17f3-182">Název rutiny</span><span class="sxs-lookup"><span data-stu-id="c17f3-182">Cmdlet name</span></span> | <span data-ttu-id="c17f3-183">Popis</span><span class="sxs-lookup"><span data-stu-id="c17f3-183">Description</span></span> |
| --- | --- |
| [<span data-ttu-id="c17f3-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="c17f3-184">Set-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/set-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="c17f3-185">Zřídí správce Azure Active Directory pro server Azure SQL nebo Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c17f3-185">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="c17f3-186">(Musí být z aktuálního předplatného hello.)</span><span class="sxs-lookup"><span data-stu-id="c17f3-186">(Must be from hello current subscription.)</span></span> |
| [<span data-ttu-id="c17f3-187">Odebrat AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="c17f3-187">Remove-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/remove-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="c17f3-188">Odebere správce Azure Active Directory pro server Azure SQL nebo Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c17f3-188">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
| [<span data-ttu-id="c17f3-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span><span class="sxs-lookup"><span data-stu-id="c17f3-189">Get-AzureRmSqlServerActiveDirectoryAdministrator</span></span>](/powershell/module/azurerm.sql/get-azurermsqlserveractivedirectoryadministrator) |<span data-ttu-id="c17f3-190">Vrací informace o aktuálně nakonfigurován pro server Azure SQL hello nebo Azure SQL Data Warehouse správce Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c17f3-190">Returns information about an Azure Active Directory administrator currently configured for hello Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="c17f3-191">Pomocí prostředí PowerShell příkaz get-help toosee další podrobnosti pro každou z těchto příkazů, například ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span><span class="sxs-lookup"><span data-stu-id="c17f3-191">Use PowerShell command get-help toosee more details for each of these commands, for example ``get-help Set-AzureRmSqlServerActiveDirectoryAdministrator``.</span></span>

<span data-ttu-id="c17f3-192">Hello následující skript zřizuje skupině Správce služby Azure AD s názvem **DBA_Group** (id objektu `40b79501-b343-44ed-9ce7-da4c8cc7353f`) pro hello **demo_server** serveru ve skupině prostředků s názvem **skupiny 23** :</span><span class="sxs-lookup"><span data-stu-id="c17f3-192">hello following script provisions an Azure AD administrator group named **DBA_Group** (object id `40b79501-b343-44ed-9ce7-da4c8cc7353f`) for hello **demo_server** server in a resource group named **Group-23**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group"
```

<span data-ttu-id="c17f3-193">Hello **DisplayName** vstupní parametr přijímá hello Azure AD zobrazovaný název nebo hello hlavní název uživatele.</span><span class="sxs-lookup"><span data-stu-id="c17f3-193">hello **DisplayName** input parameter accepts either hello Azure AD display name or hello User Principal Name.</span></span> <span data-ttu-id="c17f3-194">Například ``DisplayName="John Smith"`` a ``DisplayName="johns@contoso.com"``.</span><span class="sxs-lookup"><span data-stu-id="c17f3-194">For example, ``DisplayName="John Smith"`` and ``DisplayName="johns@contoso.com"``.</span></span> <span data-ttu-id="c17f3-195">Zobrazovaný název služby Azure AD skupiny pouze hello Azure AD je podporováno.</span><span class="sxs-lookup"><span data-stu-id="c17f3-195">For Azure AD groups only hello Azure AD display name is supported.</span></span>

> [!NOTE]
> <span data-ttu-id="c17f3-196">Hello prostředí Azure PowerShell příkaz ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` nezabrání zřizování správci Azure AD pro nepodporovaný uživatele.</span><span class="sxs-lookup"><span data-stu-id="c17f3-196">hello Azure PowerShell  command ```Set-AzureRmSqlServerActiveDirectoryAdministrator``` does not prevent you from provisioning Azure AD admins for unsupported users.</span></span> <span data-ttu-id="c17f3-197">Nepodporované uživatele může být zřízen, ale nemůže připojit databázi tooa.</span><span class="sxs-lookup"><span data-stu-id="c17f3-197">An unsupported user can be provisioned, but can not connect tooa database.</span></span> 
> 

<span data-ttu-id="c17f3-198">Hello následující příklad používá hello volitelné **ObjectID**:</span><span class="sxs-lookup"><span data-stu-id="c17f3-198">hello following example uses hello optional **ObjectID**:</span></span>

```
Set-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23"
-ServerName "demo_server" -DisplayName "DBA_Group" -ObjectId "40b79501-b343-44ed-9ce7-da4c8cc7353f"
```

> [!NOTE]
> <span data-ttu-id="c17f3-199">Hello Azure AD **ObjectID** je požadován při hello **DisplayName** není jedinečný.</span><span class="sxs-lookup"><span data-stu-id="c17f3-199">hello Azure AD **ObjectID** is required when hello **DisplayName** is not unique.</span></span> <span data-ttu-id="c17f3-200">tooretrieve hello **ObjectID** a **DisplayName** hodnoty, použijte hello služby Active Directory část portálu Azure Classic a zobrazit vlastnosti hello uživatele nebo skupiny.</span><span class="sxs-lookup"><span data-stu-id="c17f3-200">tooretrieve hello **ObjectID** and **DisplayName** values, use hello Active Directory section of Azure Classic Portal, and view hello properties of a user or group.</span></span>
> 

<span data-ttu-id="c17f3-201">Následující příklad vrátí informace o aktuální Azure AD Dobrý den, správce pro server Azure SQL Hello:</span><span class="sxs-lookup"><span data-stu-id="c17f3-201">hello following example returns information about hello current Azure AD admin for Azure SQL server:</span></span>

```
Get-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server" | Format-List
```

<span data-ttu-id="c17f3-202">Následující ukázka Hello odebere správce Azure AD:</span><span class="sxs-lookup"><span data-stu-id="c17f3-202">hello following example removes an Azure AD administrator:</span></span>

```
Remove-AzureRmSqlServerActiveDirectoryAdministrator -ResourceGroupName "Group-23" -ServerName "demo_server"
```

<span data-ttu-id="c17f3-203">Můžete také vytvářet správce Azure Active Directory pomocí hello rozhraní REST API.</span><span class="sxs-lookup"><span data-stu-id="c17f3-203">You can also provision an Azure Active Directory Administrator by using hello REST APIs.</span></span> <span data-ttu-id="c17f3-204">Další informace najdete v tématu [odkaz na službu správy REST API a operace pro operace databáze SQL Azure pro databáze SQL Azure](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span><span class="sxs-lookup"><span data-stu-id="c17f3-204">For more information, see [Service Management REST API Reference and Operations for Azure SQL Databases Operations for Azure SQL Databases](https://msdn.microsoft.com/library/azure/dn505719.aspx)</span></span>

### <a name="cli"></a><span data-ttu-id="c17f3-205">Rozhraní příkazového řádku</span><span class="sxs-lookup"><span data-stu-id="c17f3-205">CLI</span></span>  
<span data-ttu-id="c17f3-206">Správce služby Azure AD můžete také vytvářet pomocí volání hello následující příkazy rozhraní příkazového řádku:</span><span class="sxs-lookup"><span data-stu-id="c17f3-206">You can also provision an Azure AD admin by calling hello following CLI commands:</span></span>
| <span data-ttu-id="c17f3-207">Příkaz</span><span class="sxs-lookup"><span data-stu-id="c17f3-207">Command</span></span> | <span data-ttu-id="c17f3-208">Popis</span><span class="sxs-lookup"><span data-stu-id="c17f3-208">Description</span></span> |
| --- | --- |
|[<span data-ttu-id="c17f3-209">vytvoření ad správce az sql serveru</span><span class="sxs-lookup"><span data-stu-id="c17f3-209">az sql server ad-admin create</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#create) |<span data-ttu-id="c17f3-210">Zřídí správce Azure Active Directory pro server Azure SQL nebo Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c17f3-210">Provisions an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> <span data-ttu-id="c17f3-211">(Musí být z aktuálního předplatného hello.)</span><span class="sxs-lookup"><span data-stu-id="c17f3-211">(Must be from hello current subscription.)</span></span> |
|[<span data-ttu-id="c17f3-212">AZ sql server ad správce odstranit</span><span class="sxs-lookup"><span data-stu-id="c17f3-212">az sql server ad-admin delete</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#delete) |<span data-ttu-id="c17f3-213">Odebere správce Azure Active Directory pro server Azure SQL nebo Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c17f3-213">Removes an Azure Active Directory administrator for Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="c17f3-214">AZ sql server ad správce seznamu</span><span class="sxs-lookup"><span data-stu-id="c17f3-214">az sql server ad-admin list</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#list) |<span data-ttu-id="c17f3-215">Vrací informace o aktuálně nakonfigurován pro server Azure SQL hello nebo Azure SQL Data Warehouse správce Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c17f3-215">Returns information about an Azure Active Directory administrator currently configured for hello Azure SQL server or Azure SQL Data Warehouse.</span></span> |
|[<span data-ttu-id="c17f3-216">aktualizace ad správce az sql server</span><span class="sxs-lookup"><span data-stu-id="c17f3-216">az sql server ad-admin update</span></span>](https://docs.microsoft.com/cli/azure/sql/server/ad-admin#update) |<span data-ttu-id="c17f3-217">Aktualizace správce Active Directory hello pro server Azure SQL nebo Azure SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c17f3-217">Updates hello Active Directory administrator for an Azure SQL server or Azure SQL Data Warehouse.</span></span> |

<span data-ttu-id="c17f3-218">Další informace o rozhraní příkazového řádku najdete v tématu [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span><span class="sxs-lookup"><span data-stu-id="c17f3-218">For more information about CLI commands, see [SQL - az sql](https://docs.microsoft.com/cli/azure/sql/server).</span></span>  


## <a name="configure-your-client-computers"></a><span data-ttu-id="c17f3-219">Konfigurace klientských počítačů</span><span class="sxs-lookup"><span data-stu-id="c17f3-219">Configure your client computers</span></span>
<span data-ttu-id="c17f3-220">Na všechny klientské počítače, ze kterých vaše aplikace nebo uživatele připojení tooAzure SQL Database nebo Azure SQL Data Warehouse pomocí Azure AD identity, musíte nainstalovat následující software hello:</span><span class="sxs-lookup"><span data-stu-id="c17f3-220">On all client machines, from which your applications or users connect tooAzure SQL Database or Azure SQL Data Warehouse using Azure AD identities, you must install hello following software:</span></span>

* <span data-ttu-id="c17f3-221">Rozhraní .NET framework 4.6 nebo novější z [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span><span class="sxs-lookup"><span data-stu-id="c17f3-221">.NET Framework 4.6 or later from [https://msdn.microsoft.com/library/5a4x27ek.aspx](https://msdn.microsoft.com/library/5a4x27ek.aspx).</span></span>
* <span data-ttu-id="c17f3-222">Knihovna ověřování Azure Active Directory pro SQL Server (**ADALSQL. Knihovny DLL**) je k dispozici v několika jazycích (x86 a amd64) hello stažení softwaru prostřednictvím [Microsoft Active Directory Authentication Library pro Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span><span class="sxs-lookup"><span data-stu-id="c17f3-222">Azure Active Directory Authentication Library for SQL Server (**ADALSQL.DLL**) is available in multiple languages (both x86 and amd64) from hello download center at [Microsoft Active Directory Authentication Library for Microsoft SQL Server](http://www.microsoft.com/download/details.aspx?id=48742).</span></span>

<span data-ttu-id="c17f3-223">Můžete splňovat tyto požadavky podle:</span><span class="sxs-lookup"><span data-stu-id="c17f3-223">You can meet these requirements by:</span></span>

* <span data-ttu-id="c17f3-224">Instalace buď [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) nebo [SQL Server Data Tools pro Visual Studio 2015](https://msdn.microsoft.com/library/mt204009.aspx) hello splňuje požadavek na rozhraní .NET Framework 4.6.</span><span class="sxs-lookup"><span data-stu-id="c17f3-224">Installing either [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) or [SQL Server Data Tools for Visual Studio 2015](https://msdn.microsoft.com/library/mt204009.aspx) meets hello .NET Framework 4.6 requirement.</span></span>
* <span data-ttu-id="c17f3-225">Aplikace SSMS nainstaluje verzi hello x86 **ADALSQL. Knihovny DLL**.</span><span class="sxs-lookup"><span data-stu-id="c17f3-225">SSMS installs hello x86 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="c17f3-226">Rozšíření SSDT nainstaluje verzi amd64 hello **ADALSQL. Knihovny DLL**.</span><span class="sxs-lookup"><span data-stu-id="c17f3-226">SSDT installs hello amd64 version of **ADALSQL.DLL**.</span></span>
* <span data-ttu-id="c17f3-227">Hello nejnovější sadu Visual Studio pomocí [Visual Studio stáhne](https://www.visualstudio.com/downloads/download-visual-studio-vs) splňuje požadavek na hello rozhraní .NET Framework 4.6, ale nenainstaluje verze požadované amd64 hello **ADALSQL. Knihovny DLL**.</span><span class="sxs-lookup"><span data-stu-id="c17f3-227">hello latest Visual Studio from [Visual Studio Downloads](https://www.visualstudio.com/downloads/download-visual-studio-vs) meets hello .NET Framework 4.6 requirement, but does not install hello required amd64 version of **ADALSQL.DLL**.</span></span>

## <a name="create-contained-database-users-in-your-database-mapped-tooazure-ad-identities"></a><span data-ttu-id="c17f3-228">Vytvoření uživatele databáze s omezením ve vaší databázi namapované tooAzure identit AD</span><span class="sxs-lookup"><span data-stu-id="c17f3-228">Create contained database users in your database mapped tooAzure AD identities</span></span>

<span data-ttu-id="c17f3-229">Ověřování Azure Active Directory vyžaduje toobe uživatelé databázi vytvořit, protože uživatelé databáze s omezením.</span><span class="sxs-lookup"><span data-stu-id="c17f3-229">Azure Active Directory authentication requires database users toobe created as contained database users.</span></span> <span data-ttu-id="c17f3-230">Uživatel databáze, která nemá přihlášení v hlavní databázi hello a které mapy tooan identity v hello adresář Azure AD, který je přidružen hello databáze je uživatel databáze s omezením na základě identity služby Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c17f3-230">A contained database user based on an Azure AD identity, is a database user that does not have a login in hello master database, and which maps tooan identity in hello Azure AD directory that is associated with hello database.</span></span> <span data-ttu-id="c17f3-231">Hello identit Azure AD může být buď samostatný účet nebo skupinu.</span><span class="sxs-lookup"><span data-stu-id="c17f3-231">hello Azure AD identity can be either an individual user account or a group.</span></span> <span data-ttu-id="c17f3-232">Další informace o uživatele databáze s omezením naleznete v tématu [obsažené uživatelů databáze provádění vaše přenosné databáze](https://msdn.microsoft.com/library/ff929188.aspx).</span><span class="sxs-lookup"><span data-stu-id="c17f3-232">For more information about contained database users, see [Contained Database Users- Making Your Database Portable](https://msdn.microsoft.com/library/ff929188.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="c17f3-233">Uživatelé databáze (s výjimkou hello správci) nelze vytvořit pomocí portálu.</span><span class="sxs-lookup"><span data-stu-id="c17f3-233">Database users (with hello exception of administrators) cannot be created using portal.</span></span> <span data-ttu-id="c17f3-234">Role RBAC nejsou šířený tooSQL Server, SQL Database nebo SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c17f3-234">RBAC roles are not propagated tooSQL Server, SQL Database, or SQL Data Warehouse.</span></span> <span data-ttu-id="c17f3-235">Azure role RBAC slouží ke správě prostředků Azure a toodatabase oprávnění se nevztahují.</span><span class="sxs-lookup"><span data-stu-id="c17f3-235">Azure RBAC roles are used for managing Azure Resources, and do not apply toodatabase permissions.</span></span> <span data-ttu-id="c17f3-236">Například hello **SQL serveru Přispěvatel** role neuděluje přístup tooconnect toohello SQL Database nebo SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="c17f3-236">For example, hello **SQL Server Contributor** role does not grant access tooconnect toohello SQL Database or SQL Data Warehouse.</span></span> <span data-ttu-id="c17f3-237">oprávnění k Hello musí mít udělen přímo v databázi hello pomocí příkazů Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="c17f3-237">hello access permission must be granted directly in hello database using Transact-SQL statements.</span></span>
>

<span data-ttu-id="c17f3-238">Azure AD na základě obsažené databáze uživatelé (jiné než hello správce serveru, která vlastní databáze hello), připojení databáze toohello s identitou služby Azure AD jako uživatel s toocreate alespoň hello **ALTER ANY uživatele** oprávnění.</span><span class="sxs-lookup"><span data-stu-id="c17f3-238">toocreate an Azure AD-based contained database user (other than hello server administrator that owns hello database), connect toohello database with an Azure AD identity, as a user with at least hello **ALTER ANY USER** permission.</span></span> <span data-ttu-id="c17f3-239">Potom pomocí následující syntaxe Transact-SQL hello:</span><span class="sxs-lookup"><span data-stu-id="c17f3-239">Then use hello following Transact-SQL syntax:</span></span>

```
CREATE USER <Azure_AD_principal_name> FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="c17f3-240">*Azure_AD_principal_name* může být hello hlavní název uživatele Azure AD uživatele nebo hello zobrazovaný název pro skupinu služby Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c17f3-240">*Azure_AD_principal_name* can be hello user principal name of an Azure AD user or hello display name for an Azure AD group.</span></span>

<span data-ttu-id="c17f3-241">**Příklady:** toocreate uživatele databáze s omezením představující Azure AD federovaný nebo spravovaný uživatele domény:</span><span class="sxs-lookup"><span data-stu-id="c17f3-241">**Examples:** toocreate a contained database user representing an Azure AD federated or managed domain user:</span></span>
```
CREATE USER [bob@contoso.com] FROM EXTERNAL PROVIDER;
CREATE USER [alice@fabrikam.onmicrosoft.com] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="c17f3-242">toocreate uživatele databáze s omezením představující Azure AD nebo federovaných skupiny domény, zadejte hello zobrazovaný název skupiny zabezpečení:</span><span class="sxs-lookup"><span data-stu-id="c17f3-242">toocreate a contained database user representing an Azure AD or federated domain group, provide hello display name of a security group:</span></span>
```
CREATE USER [ICU Nurses] FROM EXTERNAL PROVIDER;
```

<span data-ttu-id="c17f3-243">toocreate uživatele databáze s omezením představující aplikaci, která se připojuje pomocí tokenu Azure AD:</span><span class="sxs-lookup"><span data-stu-id="c17f3-243">toocreate a contained database user representing an application that connects using an Azure AD token:</span></span>

```
CREATE USER [appName] FROM EXTERNAL PROVIDER;
```

>  [!TIP]
>  <span data-ttu-id="c17f3-244">Uživatele nelze vytvořit přímo z Azure Active Directory než hello Azure Active Directory, která souvisí s předplatným Azure.</span><span class="sxs-lookup"><span data-stu-id="c17f3-244">You cannot directly create a user from an Azure Active Directory other than hello Azure Active Directory that is associated with your Azure subscription.</span></span> <span data-ttu-id="c17f3-245">Ale členy jiné Active Directory, které jsou importované uživatele v hello související služby Active Directory (označuje jako externí uživatelé) lze přidat skupiny služby Active Directory tooan v hello klienta služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c17f3-245">However, members of other Active Directories that are imported users in hello associated Active Directory (known as external users) can be added tooan Active Directory group in hello tenant Active Directory.</span></span> <span data-ttu-id="c17f3-246">Vytvořením uživatele databáze s omezením pro tuto skupinu AD hello z hello externí služby Active Directory mohou uživatelé získat přístup k tooSQL databáze.</span><span class="sxs-lookup"><span data-stu-id="c17f3-246">By creating a contained database user for that AD group, hello users from hello external Active Directory can gain access tooSQL Database.</span></span>   

<span data-ttu-id="c17f3-247">Další informace o vytváření obsahovala databázi uživatelů podle identit Azure Active Directory, najdete v části [vytvořit uživatele (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span><span class="sxs-lookup"><span data-stu-id="c17f3-247">For more information about creating contained database users based on Azure Active Directory identities, see [CREATE USER (Transact-SQL)](http://msdn.microsoft.com/library/ms173463.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="c17f3-248">Odebírání hello správce Azure Active Directory pro server Azure SQL zabrání žádné uživatele Azure AD authentication připojení toohello serveru.</span><span class="sxs-lookup"><span data-stu-id="c17f3-248">Removing hello Azure Active Directory administrator for Azure SQL server prevents any Azure AD authentication user from connecting toohello server.</span></span> <span data-ttu-id="c17f3-249">Pokud potřebné, nepoužitelná uživatele Azure AD může být přetažen ručně správcem databáze SQL.</span><span class="sxs-lookup"><span data-stu-id="c17f3-249">If necessary, unusable Azure AD users can be dropped manually by a SQL Database administrator.</span></span>   

>  [!NOTE]
>  <span data-ttu-id="c17f3-250">Pokud se zobrazí **vypršel časový limit připojení**, může být nutné tooset hello `TransparentNetworkIPResolution` parametr toofalse řetězec připojení hello.</span><span class="sxs-lookup"><span data-stu-id="c17f3-250">If you receive a **Connection Timeout Expired**, you may need tooset hello `TransparentNetworkIPResolution` parameter of hello connection string toofalse.</span></span> <span data-ttu-id="c17f3-251">Další informace najdete v tématu [problém časový limit připojení v rozhraní .NET Framework 4.6.1 - TransparentNetworkIPResolution](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/).</span><span class="sxs-lookup"><span data-stu-id="c17f3-251">For more information, see [Connection timeout issue with .NET Framework 4.6.1 - TransparentNetworkIPResolution](https://blogs.msdn.microsoft.com/dataaccesstechnologies/2016/05/07/connection-timeout-issue-with-net-framework-4-6-1-transparentnetworkipresolution/).</span></span>   

   
<span data-ttu-id="c17f3-252">Když vytvoříte uživatel databáze, tento uživatel obdrží hello **připojit** oprávnění a můžou se připojit databáze toothat jako člen skupiny hello **veřejné** role.</span><span class="sxs-lookup"><span data-stu-id="c17f3-252">When you create a database user, that user receives hello **CONNECT** permission and can connect toothat database as a member of hello **PUBLIC** role.</span></span> <span data-ttu-id="c17f3-253">Původně hello pouze oprávnění uživatele k dispozici toohello jsou všechna oprávnění udělená toohello **veřejné** role nebo všechna oprávnění udělená tooany skupiny systému Windows, že jsou členem.</span><span class="sxs-lookup"><span data-stu-id="c17f3-253">Initially hello only permissions available toohello user are any permissions granted toohello **PUBLIC** role, or any permissions granted tooany Windows groups that they are a member of.</span></span> <span data-ttu-id="c17f3-254">Po zřízení služby Azure AD na základě obsažené uživatel databáze, můžete udělit další oprávnění uživatele hello hello stejný způsobem, jako byste udělit oprávnění tooany jiný typ uživatele.</span><span class="sxs-lookup"><span data-stu-id="c17f3-254">Once you provision an Azure AD-based contained database user, you can grant hello user additional permissions, hello same way as you grant permission tooany other type of user.</span></span> <span data-ttu-id="c17f3-255">Obvykle udělit oprávnění role toodatabase a přidejte tooroles uživatele.</span><span class="sxs-lookup"><span data-stu-id="c17f3-255">Typically grant permissions toodatabase roles, and add users tooroles.</span></span> <span data-ttu-id="c17f3-256">Další informace najdete v tématu [základy oprávnění databáze modul](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span><span class="sxs-lookup"><span data-stu-id="c17f3-256">For more information, see [Database Engine Permission Basics](http://social.technet.microsoft.com/wiki/contents/articles/4433.database-engine-permission-basics.aspx).</span></span> <span data-ttu-id="c17f3-257">Další informace o rolích speciální databáze SQL najdete v tématu [Správa databází a přihlašovacích údajů ve službě Azure SQL Database](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="c17f3-257">For more information about special SQL Database roles, see [Managing Databases and Logins in Azure SQL Database](sql-database-manage-logins.md).</span></span>
<span data-ttu-id="c17f3-258">Federovanou doménu uživatele, která byla importována do domény spravovat, musíte použít identitu hello spravované domény.</span><span class="sxs-lookup"><span data-stu-id="c17f3-258">A federated domain user that is imported into a manage domain, must use hello managed domain identity.</span></span>

> [!NOTE]
> <span data-ttu-id="c17f3-259">Azure AD Uživatelé jsou označené v metadata databáze hello s typem E (EXTERNAL_USER) a pro skupiny typu X (EXTERNAL_GROUPS).</span><span class="sxs-lookup"><span data-stu-id="c17f3-259">Azure AD users are marked in hello database metadata with type E (EXTERNAL_USER) and for groups with type X (EXTERNAL_GROUPS).</span></span> <span data-ttu-id="c17f3-260">Další informace najdete v tématu [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span><span class="sxs-lookup"><span data-stu-id="c17f3-260">For more information, see [sys.database_principals](https://msdn.microsoft.com/library/ms187328.aspx).</span></span> 
>

## <a name="connect-toohello-user-database-or-data-warehouse-by-using-ssms-or-ssdt"></a><span data-ttu-id="c17f3-261">Připojit toohello uživatel databáze nebo datového skladu pomocí aplikace SSMS nebo rozšíření SSDT</span><span class="sxs-lookup"><span data-stu-id="c17f3-261">Connect toohello user database or data warehouse by using SSMS or SSDT</span></span>  
<span data-ttu-id="c17f3-262">Správce hello Azure AD tooconfirm správně nastavit, aby připojení toohello **hlavní** databázi pomocí účtu správce hello Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c17f3-262">tooconfirm hello Azure AD administrator is properly set up, connect toohello **master** database using hello Azure AD administrator account.</span></span>
<span data-ttu-id="c17f3-263">tooprovision Azure AD na základě obsažené databáze uživatelé (jiné než hello správce serveru, která vlastní databáze hello), připojení databáze toohello s identitou služby Azure AD, která má přístup toohello databáze.</span><span class="sxs-lookup"><span data-stu-id="c17f3-263">tooprovision an Azure AD-based contained database user (other than hello server administrator that owns hello database), connect toohello database with an Azure AD identity that has access toohello database.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c17f3-264">Podpora pro ověřování Azure Active Directory je k dispozici s [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) a [SQL Server Data Tools](https://msdn.microsoft.com/library/mt204009.aspx) ve Visual Studiu 2015.</span><span class="sxs-lookup"><span data-stu-id="c17f3-264">Support for Azure Active Directory authentication is available with [SQL Server 2016 Management Studio](https://msdn.microsoft.com/library/mt238290.aspx) and [SQL Server Data Tools](https://msdn.microsoft.com/library/mt204009.aspx) in Visual Studio 2015.</span></span> <span data-ttu-id="c17f3-265">Hello srpna 2016 verzi aplikace SSMS zahrnuje taky podporu pro univerzální ověřování služby Active Directory, která umožňuje správci toorequire Multi-Factor Authentication pomocí telefonního hovoru, textové zprávy, čipové karty s PIN kód nebo oznámení mobilní aplikace.</span><span class="sxs-lookup"><span data-stu-id="c17f3-265">hello August 2016 release of SSMS also includes support for Active Directory Universal Authentication, which allows administrators toorequire Multi-Factor Authentication using a phone call, text message, smart cards with pin, or mobile app notification.</span></span>
 
## <a name="using-an-azure-ad-identity-tooconnect-using-ssms-or-ssdt"></a><span data-ttu-id="c17f3-266">Pomocí služby Azure AD identity tooconnect pomocí aplikace SSMS nebo rozšíření SSDT</span><span class="sxs-lookup"><span data-stu-id="c17f3-266">Using an Azure AD identity tooconnect using SSMS or SSDT</span></span>  

<span data-ttu-id="c17f3-267">Hello následující postupy ukazují, jak tooconnect tooa SQL databáze s Azure AD identity pomocí SQL Server Management Studio nebo nástroje databáze systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c17f3-267">hello following procedures show you how tooconnect tooa SQL database with an Azure AD identity using SQL Server Management Studio or SQL Server Database Tools.</span></span>

### <a name="active-directory-integrated-authentication"></a><span data-ttu-id="c17f3-268">Integrované ověřování Active Directory</span><span class="sxs-lookup"><span data-stu-id="c17f3-268">Active Directory integrated authentication</span></span>

<span data-ttu-id="c17f3-269">Tuto metodu použijte, pokud jste přihlášeni tooWindows pomocí svých přihlašovacích údajů Azure Active Directory z federované domény.</span><span class="sxs-lookup"><span data-stu-id="c17f3-269">Use this method if you are logged in tooWindows using your Azure Active Directory credentials from a federated domain.</span></span>

1. <span data-ttu-id="c17f3-270">Spustit Management Studio nebo nástrojů Data a v hello **připojit tooServer** (nebo **připojit tooDatabase modul**) dialogové okno, v hello **ověřování** vyberte **Služby active Directory - integrované**.</span><span class="sxs-lookup"><span data-stu-id="c17f3-270">Start Management Studio or Data Tools and in hello **Connect tooServer** (or **Connect tooDatabase Engine**) dialog box, in hello **Authentication** box, select **Active Directory - Integrated**.</span></span> <span data-ttu-id="c17f3-271">Žádné heslo je potřeba, nebo můžete zadat, protože zobrazí vaše stávající přihlašovací údaje pro připojení hello.</span><span class="sxs-lookup"><span data-stu-id="c17f3-271">No password is needed or can be entered because your existing credentials will be presented for hello connection.</span></span>   

    ![Vyberte integrované ověřování AD][11]
2. <span data-ttu-id="c17f3-273">Klikněte na tlačítko hello **možnosti** tlačítko a na hello **vlastnosti připojení** stránku hello **připojit toodatabase** pole, název typu hello hello uživatelskou databázi, kterou chcete tooconnect .</span><span class="sxs-lookup"><span data-stu-id="c17f3-273">Click hello **Options** button, and on hello **Connection Properties** page, in hello **Connect toodatabase** box, type hello name of hello user database you want tooconnect to.</span></span> <span data-ttu-id="c17f3-274">(hello **ID názvu nebo klienta domény AD**"možnost je podporována pouze pro **Universal s MFA připojení** možnosti, jinak se šedé.)</span><span class="sxs-lookup"><span data-stu-id="c17f3-274">(hello **AD domain name or tenant ID**” option is only supported for **Universal with MFA connection** options, otherwise it is greyed out.)</span></span>  

    ![Vyberte název databáze hello][13]

## <a name="active-directory-password-authentication"></a><span data-ttu-id="c17f3-276">Ověřování hesla Active Directory</span><span class="sxs-lookup"><span data-stu-id="c17f3-276">Active Directory password authentication</span></span>

<span data-ttu-id="c17f3-277">Tuto metodu použijte, pokud připojíte přes hlavní název služby Azure AD pomocí služby Azure AD hello spravované domény.</span><span class="sxs-lookup"><span data-stu-id="c17f3-277">Use this method when connecting with an Azure AD principal name using hello Azure AD managed domain.</span></span> <span data-ttu-id="c17f3-278">Můžete ji použít i pro federované účet bez přístupu toohello doménu, například při práci se vzdáleně.</span><span class="sxs-lookup"><span data-stu-id="c17f3-278">You can also use it for federated account without access toohello domain, for example when working remotely.</span></span>

<span data-ttu-id="c17f3-279">Tuto metodu použijte, pokud jste se přihlásili pomocí přihlašovacích údajů z domény, která není sdružených se službou Azure tooWindows nebo při použití Azure AD pomocí ověřování Azure AD podle hello počáteční nebo hello domény klienta.</span><span class="sxs-lookup"><span data-stu-id="c17f3-279">Use this method if you are logged in tooWindows using credentials from a domain that is not federated with Azure, or when using Azure AD authentication using Azure AD based on hello initial or hello client domain.</span></span>

1. <span data-ttu-id="c17f3-280">Spustit Management Studio nebo nástrojů Data a v hello **připojit tooServer** (nebo **připojit tooDatabase modul**) dialogové okno, v hello **ověřování** vyberte **Active Directory – heslo**.</span><span class="sxs-lookup"><span data-stu-id="c17f3-280">Start Management Studio or Data Tools and in hello **Connect tooServer** (or **Connect tooDatabase Engine**) dialog box, in hello **Authentication** box, select **Active Directory - Password**.</span></span>
2. <span data-ttu-id="c17f3-281">V hello **uživatelské jméno** zadejte jméno uživatele Azure Active Directory ve formátu hello  **username@domain.com** . Toto musí být účet z hello Azure Active Directory nebo účet z domény vytvořit federaci s hello Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c17f3-281">In hello **User name** box, type your Azure Active Directory user name in hello format **username@domain.com**. This must be an account from hello Azure Active Directory or an account from a domain federate with hello Azure Active Directory.</span></span>
3. <span data-ttu-id="c17f3-282">V hello **heslo** pole, zadejte heslo uživatele pro účet služby Azure Active Directory hello nebo federovaných účet domény.</span><span class="sxs-lookup"><span data-stu-id="c17f3-282">In hello **Password** box, type your user password for hello Azure Active Directory account or federated domain account.</span></span>

    ![Vyberte možnost ověřování hesla služby AD][12]
4. <span data-ttu-id="c17f3-284">Klikněte na tlačítko hello **možnosti** tlačítko a na hello **vlastnosti připojení** stránku hello **připojit toodatabase** pole, název typu hello hello uživatelskou databázi, kterou chcete tooconnect .</span><span class="sxs-lookup"><span data-stu-id="c17f3-284">Click hello **Options** button, and on hello **Connection Properties** page, in hello **Connect toodatabase** box, type hello name of hello user database you want tooconnect to.</span></span> <span data-ttu-id="c17f3-285">(Viz obrázek hello v hello předchozí možnost.)</span><span class="sxs-lookup"><span data-stu-id="c17f3-285">(See hello graphic in hello previous option.)</span></span>

## <a name="using-an-azure-ad-identity-tooconnect-from-a-client-application"></a><span data-ttu-id="c17f3-286">Pomocí služby Azure AD identity tooconnect z klientské aplikace</span><span class="sxs-lookup"><span data-stu-id="c17f3-286">Using an Azure AD identity tooconnect from a client application</span></span>

<span data-ttu-id="c17f3-287">Hello následující postupy ukazují, jak tooconnect tooa SQL databáze s Azure AD identity z klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="c17f3-287">hello following procedures show you how tooconnect tooa SQL database with an Azure AD identity from a client application.</span></span>

###  <a name="active-directory-integrated-authentication"></a><span data-ttu-id="c17f3-288">Integrované ověřování Active Directory</span><span class="sxs-lookup"><span data-stu-id="c17f3-288">Active Directory integrated authentication</span></span>

<span data-ttu-id="c17f3-289">toouse integrované ověřování systému Windows, vaše doména služby Active Directory musí být sdružených se službou Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c17f3-289">toouse integrated Windows authentication, your domain’s Active Directory must be federated with Azure Active Directory.</span></span> <span data-ttu-id="c17f3-290">Klientské aplikace (nebo služby) připojení databáze toohello musí používat na počítači připojeném k doméně, v části přihlašovací údaje uživatele domény.</span><span class="sxs-lookup"><span data-stu-id="c17f3-290">Your client application (or a service) connecting toohello database must be running on a domain-joined machine under a user’s domain credentials.</span></span>

<span data-ttu-id="c17f3-291">tooconnect tooa databázi pomocí integrované ověřování a identita Azure AD, musí být nastavena hello ověřování – klíčové slovo v připojovací řetězec databáze hello tooActive Directory integrované.</span><span class="sxs-lookup"><span data-stu-id="c17f3-291">tooconnect tooa database using integrated authentication and an Azure AD identity, hello Authentication keyword in hello database connection string must be set tooActive Directory Integrated.</span></span> <span data-ttu-id="c17f3-292">Hello následující ukázka kódu C# používá rozhraní ADO .NET.</span><span class="sxs-lookup"><span data-stu-id="c17f3-292">hello following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Integrated; Initial Catalog=testdb;";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="c17f3-293">Hello klíčové slovo připojovacího řetězce ``Integrated Security=True`` není podporována pro připojení tooAzure databáze SQL.</span><span class="sxs-lookup"><span data-stu-id="c17f3-293">hello connection string keyword ``Integrated Security=True`` is not supported for connecting tooAzure SQL Database.</span></span> <span data-ttu-id="c17f3-294">Při vytváření připojení ODBC, budete potřebovat tooremove prostory a nastavit ověřování too'ActiveDirectoryIntegrated'.</span><span class="sxs-lookup"><span data-stu-id="c17f3-294">When making an ODBC connection, you will need tooremove spaces and set Authentication too'ActiveDirectoryIntegrated'.</span></span>

### <a name="active-directory-password-authentication"></a><span data-ttu-id="c17f3-295">Ověřování hesla Active Directory</span><span class="sxs-lookup"><span data-stu-id="c17f3-295">Active Directory password authentication</span></span>

<span data-ttu-id="c17f3-296">tooconnect tooa databázi pomocí integrované ověřování a identita Azure AD, hello ověřování – klíčové slovo musí být nastavena tooActive heslo adresáře.</span><span class="sxs-lookup"><span data-stu-id="c17f3-296">tooconnect tooa database using integrated authentication and an Azure AD identity, hello Authentication keyword must be set tooActive Directory Password.</span></span> <span data-ttu-id="c17f3-297">Hello připojovací řetězec musí obsahovat identifikátor ID uživatele nebo uživatele a heslo/PWD klíčová slova a hodnoty.</span><span class="sxs-lookup"><span data-stu-id="c17f3-297">hello connection string must contain User ID/UID and Password/PWD keywords and values.</span></span> <span data-ttu-id="c17f3-298">Hello následující ukázka kódu C# používá rozhraní ADO .NET.</span><span class="sxs-lookup"><span data-stu-id="c17f3-298">hello following C# code sample uses ADO .NET.</span></span>

```
string ConnectionString =
@"Data Source=n9lxnyuzhv.database.windows.net; Authentication=Active Directory Password; Initial Catalog=testdb;  UID=bob@contoso.onmicrosoft.com; PWD=MyPassWord!";
SqlConnection conn = new SqlConnection(ConnectionString);
conn.Open();
```

<span data-ttu-id="c17f3-299">Další informace o metodách ověřování Azure AD pomocí ukázky kódu ukázku hello k dispozici na [Azure AD Authentication Githubu ukázku](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span><span class="sxs-lookup"><span data-stu-id="c17f3-299">Learn more about Azure AD authentication methods using hello demo code samples available at [Azure AD Authentication GitHub Demo](https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/security/azure-active-directory-auth).</span></span>

## <a name="azure-ad-token"></a><span data-ttu-id="c17f3-300">Azure AD token</span><span class="sxs-lookup"><span data-stu-id="c17f3-300">Azure AD token</span></span>
<span data-ttu-id="c17f3-301">Tato metoda ověřování umožňuje tooAzure tooconnect střední vrstvy služby SQL Database nebo Azure SQL Data Warehouse pomocí získání tokenu z Azure Active Directory (AAD).</span><span class="sxs-lookup"><span data-stu-id="c17f3-301">This authentication method allows middle-tier services tooconnect tooAzure SQL Database or Azure SQL Data Warehouse by obtaining a token from Azure Active Directory (AAD).</span></span> <span data-ttu-id="c17f3-302">Umožňuje sofistikované scénáře, včetně ověřování pomocí certifikátů.</span><span class="sxs-lookup"><span data-stu-id="c17f3-302">It enables sophisticated scenarios including certificate-based authentication.</span></span> <span data-ttu-id="c17f3-303">Je třeba provést čtyři základní kroky toouse Azure AD tokenu ověřování:</span><span class="sxs-lookup"><span data-stu-id="c17f3-303">You must complete four basic steps toouse Azure AD token authentication:</span></span>

1. <span data-ttu-id="c17f3-304">Registrace aplikace pomocí Azure Active Directory a získejte id klienta hello kódu.</span><span class="sxs-lookup"><span data-stu-id="c17f3-304">Register your application with Azure Active Directory and get hello client id for your code.</span></span> 
2. <span data-ttu-id="c17f3-305">Vytvořte aplikaci představující hello databáze uživatele.</span><span class="sxs-lookup"><span data-stu-id="c17f3-305">Create a database user representing hello application.</span></span> <span data-ttu-id="c17f3-306">(Dokončit výše v kroku 6.)</span><span class="sxs-lookup"><span data-stu-id="c17f3-306">(Completed earlier in step 6.)</span></span>
3. <span data-ttu-id="c17f3-307">Vytvoření certifikátu na hello klientský počítač spustí aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="c17f3-307">Create a certificate on hello client computer runs hello application.</span></span>
4. <span data-ttu-id="c17f3-308">Přidáte certifikát hello jako klíč pro vaši aplikaci.</span><span class="sxs-lookup"><span data-stu-id="c17f3-308">Add hello certificate as a key for your application.</span></span>

<span data-ttu-id="c17f3-309">Ukázka připojovací řetězec:</span><span class="sxs-lookup"><span data-stu-id="c17f3-309">Sample connection string:</span></span>

```
string ConnectionString =@"Data Source=n9lxnyuzhv.database.windows.net; Initial Catalog=testdb;"
SqlConnection conn = new SqlConnection(ConnectionString);
connection.AccessToken = "Your JWT token"
conn.Open();
```

<span data-ttu-id="c17f3-310">Další informace najdete v tématu [SQL Server Security Blog](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span><span class="sxs-lookup"><span data-stu-id="c17f3-310">For more information, see [SQL Server Security Blog](https://blogs.msdn.microsoft.com/sqlsecurity/2016/02/09/token-based-authentication-support-for-azure-sql-db-using-azure-ad-auth/).</span></span>

### <a name="sqlcmd"></a><span data-ttu-id="c17f3-311">sqlcmd</span><span class="sxs-lookup"><span data-stu-id="c17f3-311">sqlcmd</span></span>

<span data-ttu-id="c17f3-312">Dobrý den následující příkazy, připojte se pomocí 13.1 verzi sqlcmd, která je k dispozici z hello [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span><span class="sxs-lookup"><span data-stu-id="c17f3-312">hello following statements, connect using version 13.1 of sqlcmd, which is available from hello [Download Center](http://go.microsoft.com/fwlink/?LinkID=825643).</span></span>

```
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net  -G  
sqlcmd -S Target_DB_or_DW.testsrv.database.windows.net -U bob@contoso.com -P MyAADPassword -G -l 30
```

## <a name="next-steps"></a><span data-ttu-id="c17f3-313">Další kroky</span><span class="sxs-lookup"><span data-stu-id="c17f3-313">Next steps</span></span>
- <span data-ttu-id="c17f3-314">Přehled řízení a přístupu pro SQL Database najdete v tématu věnovaném [řízení a přístupu k SQL Database](sql-database-control-access.md).</span><span class="sxs-lookup"><span data-stu-id="c17f3-314">For an overview of access and control in SQL Database, see [SQL Database access and control](sql-database-control-access.md).</span></span>
- <span data-ttu-id="c17f3-315">Přehled přihlášení, uživatelů a databázových rolí ve službě SQL Database najdete v tématu věnovaném [přihlášením, uživatelům a databázovým rolím](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="c17f3-315">For an overview of logins, users, and database roles in SQL Database, see [Logins, users, and database roles](sql-database-manage-logins.md).</span></span>
- <span data-ttu-id="c17f3-316">Další informace o objektech zabezpečení databáze najdete v tématu [Objekty zabezpečení](https://msdn.microsoft.com/library/ms181127.aspx).</span><span class="sxs-lookup"><span data-stu-id="c17f3-316">For more information about database principals, see [Principals](https://msdn.microsoft.com/library/ms181127.aspx).</span></span>
- <span data-ttu-id="c17f3-317">Další informace o databázových rolích najdete v tématu věnovaném [databázovým rolím](https://msdn.microsoft.com/library/ms189121.aspx).</span><span class="sxs-lookup"><span data-stu-id="c17f3-317">For more information about database roles, see [Database roles](https://msdn.microsoft.com/library/ms189121.aspx).</span></span>
- <span data-ttu-id="c17f3-318">Další informace o pravidlech brány firewall pro SQL Database najdete v tématu [Pravidla brány firewall služby SQL Database](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="c17f3-318">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](sql-database-firewall-configure.md).</span></span>

<!--Image references-->

[1]: ./media/sql-database-aad-authentication/1aad-auth-diagram.png
[2]: ./media/sql-database-aad-authentication/2subscription-relationship.png
[3]: ./media/sql-database-aad-authentication/3admin-structure.png
[4]: ./media/sql-database-aad-authentication/4select-subscription.png
[5]: ./media/sql-database-aad-authentication/5ad-settings-portal.png
[6]: ./media/sql-database-aad-authentication/6edit-directory-select.png
[7]: ./media/sql-database-aad-authentication/7edit-directory-confirm.png
[8]: ./media/sql-database-aad-authentication/8choose-ad.png
[10]: ./media/sql-database-aad-authentication/10choose-admin.png
[11]: ./media/sql-database-aad-authentication/active-directory-integrated.png
[12]: ./media/sql-database-aad-authentication/12connect-using-pw-auth2.png
[13]: ./media/sql-database-aad-authentication/13connect-to-db2.png

