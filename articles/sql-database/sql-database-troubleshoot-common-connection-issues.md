---
title: "připojení aaaTroubleshoot běžné problémy tooAzure databáze SQL"
description: "Kroky tooidentify a řešení běžných chyb připojení pro databázi SQL Azure."
services: sql-database
documentationcenter: 
author: dalechen
manager: cshepard
editor: 
ms.assetid: ac463d1c-aec8-443d-b66e-fa5eadcccfa8
ms.service: sql-database
ms.custom: monitor & tune
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: daleche
ms.openlocfilehash: eb5f2d7b123a76942c7e4a84a7f475344fbcb144
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-connection-issues-tooazure-sql-database"></a><span data-ttu-id="fbf00-103">Řešení potíží s tooAzure problémy připojení databáze SQL</span><span class="sxs-lookup"><span data-stu-id="fbf00-103">Troubleshoot connection issues tooAzure SQL Database</span></span>
<span data-ttu-id="fbf00-104">Když tooAzure hello připojení databáze SQL se nezdaří, zobrazí se [chybové zprávy](sql-database-develop-error-messages.md).</span><span class="sxs-lookup"><span data-stu-id="fbf00-104">When hello connection tooAzure SQL Database fails, you receive [error messages](sql-database-develop-error-messages.md).</span></span> <span data-ttu-id="fbf00-105">Tento článek je centralizované téma, které vám pomůže vyřešit problémy s připojením k databázi SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="fbf00-105">This article is a centralized topic that helps you troubleshoot Azure SQL Database connectivity issues.</span></span> <span data-ttu-id="fbf00-106">Zavádí [hello běžných příčin](#cause) z problémů s připojením, doporučuje [nástroje pro odstraňování potíží](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) který vám pomůže identity hello problém a poskytuje řešení problémů s kroky toosolve [ přechodné chyby](#troubleshoot-transient-errors) a [trvalé nebo jiných přechodná chyb](#troubleshoot-persistent-errors).</span><span class="sxs-lookup"><span data-stu-id="fbf00-106">It introduces [hello common causes](#cause) of connection issues, recommends [a troubleshooting tool](#try-the-troubleshooter-for-azure-sql-database-connectivity-issues) that helps you identity hello problem, and provides troubleshooting steps toosolve [transient errors](#troubleshoot-transient-errors) and [persistent or non-transient errors](#troubleshoot-persistent-errors).</span></span> 

<span data-ttu-id="fbf00-107">Pokud narazíte na potíže s připojením hello, zkuste hello řešení potíží s kroky, které jsou popsané v tomto článku.</span><span class="sxs-lookup"><span data-stu-id="fbf00-107">If you encounter hello connection issues, try hello troubleshoot steps that are described in this article.</span></span>
[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

## <a name="cause"></a><span data-ttu-id="fbf00-108">Příčina</span><span class="sxs-lookup"><span data-stu-id="fbf00-108">Cause</span></span>
<span data-ttu-id="fbf00-109">Potíže s připojením, může být způsobeno kterékoli z následujících hello:</span><span class="sxs-lookup"><span data-stu-id="fbf00-109">Connection problems may be caused by any of hello following:</span></span>

* <span data-ttu-id="fbf00-110">Selhání tooapply osvědčené postupy a pokyny k návrhu během procesu návrhu aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="fbf00-110">Failure tooapply best practices and design guidelines during hello application design process.</span></span>  <span data-ttu-id="fbf00-111">V tématu [přehled vývoje SQL databáze](sql-database-develop-overview.md) tooget spuštěna.</span><span class="sxs-lookup"><span data-stu-id="fbf00-111">See [SQL Database Development Overview](sql-database-develop-overview.md) tooget started.</span></span>
* <span data-ttu-id="fbf00-112">Změna konfigurace Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="fbf00-112">Azure SQL Database reconfiguration</span></span>
* <span data-ttu-id="fbf00-113">Nastavení brány firewall</span><span class="sxs-lookup"><span data-stu-id="fbf00-113">Firewall settings</span></span>
* <span data-ttu-id="fbf00-114">Časový limit připojení</span><span class="sxs-lookup"><span data-stu-id="fbf00-114">Connection time-out</span></span>
* <span data-ttu-id="fbf00-115">Nesprávné přihlašovací údaje</span><span class="sxs-lookup"><span data-stu-id="fbf00-115">Incorrect login information</span></span>
* <span data-ttu-id="fbf00-116">Dosažen maximální limit na některé prostředky Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="fbf00-116">Maximum limit reached on some Azure SQL Database resources</span></span>

<span data-ttu-id="fbf00-117">Obecně platí tooAzure problémy připojení SQL Database můžou být klasifikované následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="fbf00-117">Generally, connection issues tooAzure SQL Database can be classified as follows:</span></span>

* [<span data-ttu-id="fbf00-118">Přechodné chyby (krátkodobou nebo přerušované)</span><span class="sxs-lookup"><span data-stu-id="fbf00-118">Transient errors (short-lived or intermittent)</span></span>](#troubleshoot-transient-errors)
* [<span data-ttu-id="fbf00-119">Trvalé nebo jiných přechodná chyb (chyby, které pravidelně opakovat)</span><span class="sxs-lookup"><span data-stu-id="fbf00-119">Persistent or non-transient errors (errors that regularly recur)</span></span>](#troubleshoot-persistent-errors)

## <a name="try-hello-troubleshooter-for-azure-sql-database-connectivity-issues"></a><span data-ttu-id="fbf00-120">Zkuste hello Poradce při potížích pro problémy s připojením k databázi SQL Azure</span><span class="sxs-lookup"><span data-stu-id="fbf00-120">Try hello troubleshooter for Azure SQL Database connectivity issues</span></span>
<span data-ttu-id="fbf00-121">Pokud narazíte na chyby konkrétních připojení, zkuste [tento nástroj](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database), které vám pomohou rychle identity, který se problém lze vyřešit.</span><span class="sxs-lookup"><span data-stu-id="fbf00-121">If you encounter a specific connection error, try [this tool](https://support.microsoft.com/help/10085/troubleshooting-connectivity-issues-with-microsoft-azure-sql-database), which will help you quickly identity and resolve your problem.</span></span>

## <a name="troubleshoot-transient-errors"></a><span data-ttu-id="fbf00-122">Řešení potíží s přechodné chyby</span><span class="sxs-lookup"><span data-stu-id="fbf00-122">Troubleshoot transient errors</span></span>

<span data-ttu-id="fbf00-123">Když se aplikace připojí tooan Azure SQL database, zobrazí hello následující chybová zpráva:</span><span class="sxs-lookup"><span data-stu-id="fbf00-123">When an application connects tooan Azure SQL database, you receive hello following error message:</span></span>

```
Error code 40613: "Database <x> on server <y> is not currently available. Please retry hello connection later. If hello problem persists, contact customer support, and provide them hello session tracing ID of <z>"
```

> [!NOTE]
> <span data-ttu-id="fbf00-124">Tato chybová zpráva se nejčastěji přechodné (krátkodobou).</span><span class="sxs-lookup"><span data-stu-id="fbf00-124">This error message is typically transient (short-lived).</span></span>
> 
> 

<span data-ttu-id="fbf00-125">Tato chyba nastane, když hello databáze Azure se přesunout (nebo překonfigurovat) a jeho připojení toohello SQL database ztratí vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="fbf00-125">This error occurs when hello Azure database is being moved (or reconfigured) and your application loses its connection toohello SQL database.</span></span> <span data-ttu-id="fbf00-126">Události změny konfigurace databáze SQL dojít z důvodu plánované událostí (například upgrade softwaru), nebo neplánované událost (například síť procesu havárií, nebo Vyrovnávání zatížení).</span><span class="sxs-lookup"><span data-stu-id="fbf00-126">SQL database reconfiguration events occur because of a planned event (for example, a software upgrade) or an unplanned event (for example, a process crash, or load balancing).</span></span> <span data-ttu-id="fbf00-127">Většina události změny konfigurace jsou obecně krátkodobou a by se měly dokončit za méně než 60 sekund nejvíce.</span><span class="sxs-lookup"><span data-stu-id="fbf00-127">Most reconfiguration events are generally short-lived and should be completed in less than 60 seconds at most.</span></span> <span data-ttu-id="fbf00-128">Tyto události však může občas trvat delší toofinish, například když velké transakce způsobí obnovení dlouhodobé.</span><span class="sxs-lookup"><span data-stu-id="fbf00-128">However, these events can occasionally take longer toofinish, such as when a large transaction causes a long-running recovery.</span></span>

### <a name="steps-tooresolve-transient-connectivity-issues"></a><span data-ttu-id="fbf00-129">Problémy s připojením přechodný tooresolve kroky</span><span class="sxs-lookup"><span data-stu-id="fbf00-129">Steps tooresolve transient connectivity issues</span></span>

1. <span data-ttu-id="fbf00-130">Zkontrolujte hello [řídicího panelu služby Microsoft Azure](https://azure.microsoft.com/status) pro všechny známé výpadkům, které došlo k chybě během hello doby, během které hello chyby nehlásí aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="fbf00-130">Check hello [Microsoft Azure Service Dashboard](https://azure.microsoft.com/status) for any known outages that occurred during hello time during which hello errors were reported by hello application.</span></span>
2. <span data-ttu-id="fbf00-131">Aplikace, které se připojují tooa cloudové služby, jako je Azure SQL Database by měl očekávat pravidelné Rekonfigurace události a implementovat opakujte logiku toohandle tyto chyby místo zpřístupnění jako toousers chyby aplikace.</span><span class="sxs-lookup"><span data-stu-id="fbf00-131">Applications that connect tooa cloud service such as Azure SQL Database should expect periodic reconfiguration events and implement retry logic toohandle these errors instead of surfacing these as application errors toousers.</span></span> <span data-ttu-id="fbf00-132">Zkontrolujte hello [přechodné chyby](sql-database-connectivity-issues.md) části a hello osvědčené postupy a pokyny v návrhu [přehled vývoje SQL databáze](sql-database-develop-overview.md) Další informace a obecné opakujte strategie.</span><span class="sxs-lookup"><span data-stu-id="fbf00-132">Review hello [Transient errors](sql-database-connectivity-issues.md) section and hello best practices and design guidelines at [SQL Database Development Overview](sql-database-develop-overview.md) for more information and general retry strategies.</span></span> <span data-ttu-id="fbf00-133">Potom, najdete v části Ukázky kódu v [knihovny připojení k databázi SQL a SQL Server](sql-database-libraries.md) pro konkrétní.</span><span class="sxs-lookup"><span data-stu-id="fbf00-133">Then, see code samples at [Connection Libraries for SQL Database and SQL Server](sql-database-libraries.md) for specifics.</span></span>
3. <span data-ttu-id="fbf00-134">Jako databázi blíží jeho omezení prostředků, může to vypadat toobe přechodný problém s připojením.</span><span class="sxs-lookup"><span data-stu-id="fbf00-134">As a database approaches its resource limits, it can seem toobe a transient connectivity issue.</span></span> <span data-ttu-id="fbf00-135">V tématu [řešení potíží s výkonem](sql-database-troubleshoot-performance.md).</span><span class="sxs-lookup"><span data-stu-id="fbf00-135">See [Troubleshooting Performance Issues](sql-database-troubleshoot-performance.md).</span></span>
4. <span data-ttu-id="fbf00-136">Pokud potíže s připojením k pokračovat, nebo pokud hello doba, pro kterou vaše aplikace chyby hello překročí 60 sekund nebo pokud se zobrazí více výskyty chyby hello v daný den, soubor žádost o podporu Azure tak, že vyberete **získat podporu** na hello [podporu Azure](https://azure.microsoft.com/support/options) lokality.</span><span class="sxs-lookup"><span data-stu-id="fbf00-136">If connectivity problems continue, or if hello duration for which your application encounters hello error exceeds 60 seconds or if you see multiple occurrences of hello error in a given day, file an Azure support request by selecting **Get Support** on hello [Azure Support](https://azure.microsoft.com/support/options) site.</span></span>

## <a name="troubleshoot-persistent-errors"></a><span data-ttu-id="fbf00-137">Řešení potíží s trvalé chyby</span><span class="sxs-lookup"><span data-stu-id="fbf00-137">Troubleshoot persistent errors</span></span>
<span data-ttu-id="fbf00-138">Pokud aplikace hello trvale selže tooconnect tooAzure SQL Database, obvykle označuje potíže s jedním z následujících hello:</span><span class="sxs-lookup"><span data-stu-id="fbf00-138">If hello application persistently fails tooconnect tooAzure SQL Database, it usually indicates an issue with one of hello following:</span></span>

* <span data-ttu-id="fbf00-139">Konfigurace brány firewall.</span><span class="sxs-lookup"><span data-stu-id="fbf00-139">Firewall configuration.</span></span> <span data-ttu-id="fbf00-140">Hello Azure SQL database nebo klienta brána firewall blokuje připojení tooAzure databáze SQL.</span><span class="sxs-lookup"><span data-stu-id="fbf00-140">hello Azure SQL database or client-side firewall is blocking connections tooAzure SQL Database.</span></span>
* <span data-ttu-id="fbf00-141">Síťové změny konfigurace na straně klienta hello: například novou IP adresu nebo proxy server.</span><span class="sxs-lookup"><span data-stu-id="fbf00-141">Network reconfiguration on hello client side: for example, a new IP address or a proxy server.</span></span>
* <span data-ttu-id="fbf00-142">Uživatelskou chybu: například chybně připojení parametrů, třeba název serveru hello hello připojovacího řetězce.</span><span class="sxs-lookup"><span data-stu-id="fbf00-142">User error: for example, mistyped connection parameters, such as hello server name in hello connection string.</span></span>

### <a name="steps-tooresolve-persistent-connectivity-issues"></a><span data-ttu-id="fbf00-143">Kroky tooresolve trvalé připojení problémy</span><span class="sxs-lookup"><span data-stu-id="fbf00-143">Steps tooresolve persistent connectivity issues</span></span>
1. <span data-ttu-id="fbf00-144">Nastavit [pravidla brány firewall](sql-database-configure-firewall-settings.md) tooallow hello klienta IP adresu.</span><span class="sxs-lookup"><span data-stu-id="fbf00-144">Set up [firewall rules](sql-database-configure-firewall-settings.md) tooallow hello client IP address.</span></span> <span data-ttu-id="fbf00-145">Pro dočasné pro účely testování nastavte pravidla brány firewall pomocí 0.0.0.0 jako hello spuštění rozsah IP adres a pomocí 255.255.255.255 jako hello ukončení rozsah IP adres.</span><span class="sxs-lookup"><span data-stu-id="fbf00-145">For temporary testing purposes, set up a firewall rule using 0.0.0.0 as hello starting IP address range and using 255.255.255.255 as hello ending IP address range.</span></span> <span data-ttu-id="fbf00-146">Otevře se hello serveru tooall IP adresy.</span><span class="sxs-lookup"><span data-stu-id="fbf00-146">This will open hello server tooall IP addresses.</span></span> <span data-ttu-id="fbf00-147">Pokud to řeší problém s připojením, toto pravidlo odebrat a vytvořte pravidlo brány firewall pro správně omezené IP adresu nebo rozsah adres.</span><span class="sxs-lookup"><span data-stu-id="fbf00-147">If this resolves your connectivity issue, remove this rule and create a firewall rule for an appropriately limited IP address or address range.</span></span> 
2. <span data-ttu-id="fbf00-148">Na všechny brány firewall mezi klientem hello a hello Internetu Ujistěte se, že port 1433 je otevřený pro odchozí připojení.</span><span class="sxs-lookup"><span data-stu-id="fbf00-148">On all firewalls between hello client and hello Internet, make sure that port 1433 is open for outbound connections.</span></span> <span data-ttu-id="fbf00-149">Zkontrolujte [konfigurace brány Windows Firewall tooAllow hello přístup k serveru SQL](https://msdn.microsoft.com/library/cc646023.aspx) a [hybridní Identity požadované porty a protokoly](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) pro další ukazatele související tooadditional porty, které budete potřebovat tooopen pro Ověřování Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="fbf00-149">Review [Configure hello Windows Firewall tooAllow SQL Server Access](https://msdn.microsoft.com/library/cc646023.aspx) and [Hybrid Identity Required Ports and Protocols](https://docs.microsoft.com/azure/active-directory/connect/active-directory-aadconnect-ports) for additional pointers related tooadditional ports that you need tooopen for Azure Active Directory authentication.</span></span>
3. <span data-ttu-id="fbf00-150">Ověřte připojovací řetězec a další nastavení připojení.</span><span class="sxs-lookup"><span data-stu-id="fbf00-150">Verify your connection string and other connection settings.</span></span> <span data-ttu-id="fbf00-151">Najdete v části připojovací řetězec v hello hello [tématu problémy s připojením](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span><span class="sxs-lookup"><span data-stu-id="fbf00-151">See hello Connection String section in hello [connectivity issues topic](sql-database-connectivity-issues.md#connections-to-azure-sql-database).</span></span>
4. <span data-ttu-id="fbf00-152">Zkontrolujte stav služby hello řídicím panelu.</span><span class="sxs-lookup"><span data-stu-id="fbf00-152">Check service health in hello dashboard.</span></span> <span data-ttu-id="fbf00-153">Pokud se domníváte, že je místní výpadku, přečtěte si téma [zotavit výpadku](sql-database-disaster-recovery.md) kroky toorecover tooa nové oblasti.</span><span class="sxs-lookup"><span data-stu-id="fbf00-153">If you think there’s a regional outage, see [Recover from an outage](sql-database-disaster-recovery.md) for steps toorecover tooa new region.</span></span>

## <a name="next-steps"></a><span data-ttu-id="fbf00-154">Další kroky</span><span class="sxs-lookup"><span data-stu-id="fbf00-154">Next steps</span></span>
* [<span data-ttu-id="fbf00-155">Řešení potíží s výkonem databáze SQL Azure</span><span class="sxs-lookup"><span data-stu-id="fbf00-155">Troubleshoot Azure SQL Database performance issues</span></span>](sql-database-troubleshoot-performance.md)
* [<span data-ttu-id="fbf00-156">Hledání hello dokumentaci k Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="fbf00-156">Search hello documentation on Microsoft Azure</span></span>](http://azure.microsoft.com/search/documentation/)
* [<span data-ttu-id="fbf00-157">Zobrazení hello nejnovější aktualizace služby Azure SQL Database toohello</span><span class="sxs-lookup"><span data-stu-id="fbf00-157">View hello latest updates toohello Azure SQL Database service</span></span>](http://azure.microsoft.com/updates/?service=sql-database)

## <a name="additional-resources"></a><span data-ttu-id="fbf00-158">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="fbf00-158">Additional resources</span></span>
* [<span data-ttu-id="fbf00-159">Přehled vývoje SQL databáze</span><span class="sxs-lookup"><span data-stu-id="fbf00-159">SQL Database Development Overview</span></span>](sql-database-develop-overview.md)
* [<span data-ttu-id="fbf00-160">Obecné pokyny přechodné selhání zpracování</span><span class="sxs-lookup"><span data-stu-id="fbf00-160">General transient fault-handling guidance</span></span>](../best-practices-retry-general.md)
* [<span data-ttu-id="fbf00-161">Knihovny připojení k databázi SQL a SQL Server</span><span class="sxs-lookup"><span data-stu-id="fbf00-161">Connection libraries for SQL Database and SQL Server</span></span>](sql-database-libraries.md)

