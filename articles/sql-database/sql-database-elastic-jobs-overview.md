---
title: "databáze upraveným cloudu aaaManaging | Microsoft Docs"
description: "Znázorňuje hello služba úlohy elastické databáze"
metakeywords: azure sql database elastic databases
services: sql-database
documentationcenter: 
manager: jhubbard
author: ddove
ms.assetid: 6fa47cf2-1162-4534-a206-6e2d95b78580
ms.service: sql-database
ms.custom: scale out apps
ms.workload: sql-database
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/24/2016
ms.author: ddove
ms.openlocfilehash: b6d330cd712421b8cba781e835830772e6e5b77e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="managing-scaled-out-cloud-databases"></a><span data-ttu-id="5f83a-103">Správa databází upraveným cloudu</span><span class="sxs-lookup"><span data-stu-id="5f83a-103">Managing scaled-out cloud databases</span></span>
<span data-ttu-id="5f83a-104">hello toomanage upraveným horizontálně dělené databází, **úlohy elastické databáze** funkci (preview) umožňuje tooreliably můžete spustit skript Transact-SQL (T-SQL) napříč skupinou databází, včetně:</span><span class="sxs-lookup"><span data-stu-id="5f83a-104">toomanage scaled-out sharded databases, hello **Elastic Database jobs** feature (preview) enables you tooreliably execute a Transact-SQL (T-SQL) script across a group of databases, including:</span></span>

* <span data-ttu-id="5f83a-105">vlastní kolekce databáze (vysvětlení níže)</span><span class="sxs-lookup"><span data-stu-id="5f83a-105">a custom-defined collection of databases (explained below)</span></span>
* <span data-ttu-id="5f83a-106">všechny databáze [elastického fondu](sql-database-elastic-pool.md)</span><span class="sxs-lookup"><span data-stu-id="5f83a-106">all databases in an [elastic pool](sql-database-elastic-pool.md)</span></span>
* <span data-ttu-id="5f83a-107">Sada horizontálního oddílu (vytvořený [klientské knihovny pro elastické databáze](sql-database-elastic-database-client-library.md)).</span><span class="sxs-lookup"><span data-stu-id="5f83a-107">a shard set (created using [Elastic Database client library](sql-database-elastic-database-client-library.md)).</span></span> 

## <a name="documentation"></a><span data-ttu-id="5f83a-108">Dokumentace</span><span class="sxs-lookup"><span data-stu-id="5f83a-108">Documentation</span></span>
* <span data-ttu-id="5f83a-109">[Nainstalujte komponenty úlohy elastické databáze hello](sql-database-elastic-jobs-service-installation.md).</span><span class="sxs-lookup"><span data-stu-id="5f83a-109">[Install hello Elastic Database job components](sql-database-elastic-jobs-service-installation.md).</span></span> 
* <span data-ttu-id="5f83a-110">[Začínáme s úlohami elastické databáze](sql-database-elastic-jobs-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="5f83a-110">[Get started with Elastic Database jobs](sql-database-elastic-jobs-getting-started.md).</span></span>
* <span data-ttu-id="5f83a-111">[Vytvářet a spravovat úlohy pomocí prostředí PowerShell](sql-database-elastic-jobs-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="5f83a-111">[Create and manage jobs using PowerShell](sql-database-elastic-jobs-powershell.md).</span></span>
* [<span data-ttu-id="5f83a-112">Vytvoření a správa škálovaný databází SQL Azure</span><span class="sxs-lookup"><span data-stu-id="5f83a-112">Create and manage scaled out Azure SQL Databases</span></span>](sql-database-elastic-jobs-getting-started.md)

<span data-ttu-id="5f83a-113">**Elastické databáze úlohy** právě zákazníka hostovaná Cloudová služba Azure, která umožňuje provádění hello ad-hoc a naplánované úlohy správy, které se nazývají **úlohy**.</span><span class="sxs-lookup"><span data-stu-id="5f83a-113">**Elastic Database jobs** is currently a customer-hosted Azure Cloud Service that enables hello execution of ad-hoc and scheduled administrative tasks, which are called **jobs**.</span></span> <span data-ttu-id="5f83a-114">S úlohami můžete snadno a spolehlivě spravovat velké skupiny databáze SQL Azure tak, že spustíte Transact-SQL skriptů tooperform operace správy.</span><span class="sxs-lookup"><span data-stu-id="5f83a-114">With jobs, you can easily and reliably manage large groups of Azure SQL Databases by running Transact-SQL scripts tooperform administrative operations.</span></span> 

![Služba úlohy elastické databáze][1]

## <a name="why-use-jobs"></a><span data-ttu-id="5f83a-116">Proč používat úlohy?</span><span class="sxs-lookup"><span data-stu-id="5f83a-116">Why use jobs?</span></span>
<span data-ttu-id="5f83a-117">**Správa**</span><span class="sxs-lookup"><span data-stu-id="5f83a-117">**Manage**</span></span>

<span data-ttu-id="5f83a-118">Jednoduše proveďte změny schématu, Správa přihlašovacích údajů, aktualizace dat odkaz, shromažďování dat výkonu nebo kolekce telemetrie klienta (zákazníka).</span><span class="sxs-lookup"><span data-stu-id="5f83a-118">Easily do schema changes, credentials management, reference data updates, performance data collection or tenant (customer) telemetry collection.</span></span>

<span data-ttu-id="5f83a-119">**Sestavy**</span><span class="sxs-lookup"><span data-stu-id="5f83a-119">**Reports**</span></span>

<span data-ttu-id="5f83a-120">Agregovaná data z kolekce databáze SQL Azure do jedné cílové tabulky.</span><span class="sxs-lookup"><span data-stu-id="5f83a-120">Aggregate data from a collection of Azure SQL Databases into a single destination table.</span></span>

<span data-ttu-id="5f83a-121">**Snížení režie**</span><span class="sxs-lookup"><span data-stu-id="5f83a-121">**Reduce overhead**</span></span>

<span data-ttu-id="5f83a-122">Za normálních okolností, musíte připojit databázi tooeach nezávisle v příkazech jazyka Transact-SQL toorun pořadí nebo provádět další úlohy správy.</span><span class="sxs-lookup"><span data-stu-id="5f83a-122">Normally, you must connect tooeach database independently in order toorun Transact-SQL statements or perform other administrative tasks.</span></span> <span data-ttu-id="5f83a-123">Úloha zpracuje hello úkolů protokolování v databázi tooeach v hello cílovou skupinu.</span><span class="sxs-lookup"><span data-stu-id="5f83a-123">A job handles hello task of logging in tooeach database in hello target group.</span></span> <span data-ttu-id="5f83a-124">Můžete také definovat, udržovat a zachovat Transact-SQL skriptů toobe provést napříč skupinou databází SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="5f83a-124">You also define, maintain and persist Transact-SQL scripts toobe executed across a group of Azure SQL Databases.</span></span>

<span data-ttu-id="5f83a-125">**Monitorování účtů**</span><span class="sxs-lookup"><span data-stu-id="5f83a-125">**Accounting**</span></span>

<span data-ttu-id="5f83a-126">Úlohy spouštět hello skript a protokolu hello stavu spuštění pro každou databázi.</span><span class="sxs-lookup"><span data-stu-id="5f83a-126">Jobs run hello script and log hello status of execution for each database.</span></span> <span data-ttu-id="5f83a-127">Získáte také automatické opakování, když dojde k selhání.</span><span class="sxs-lookup"><span data-stu-id="5f83a-127">You also get automatic retry when failures occur.</span></span>

<span data-ttu-id="5f83a-128">**Flexibilita**</span><span class="sxs-lookup"><span data-stu-id="5f83a-128">**Flexibility**</span></span>

<span data-ttu-id="5f83a-129">Definovat vlastní skupiny databází SQL Azure a plány pro spuštění úlohy.</span><span class="sxs-lookup"><span data-stu-id="5f83a-129">Define custom groups of Azure SQL Databases, and define schedules for running a job.</span></span>

> [!NOTE]
> <span data-ttu-id="5f83a-130">V hello portálu Azure pouze omezená sada funkcí omezené tooSQL Azure elastické fondy je k dispozici.</span><span class="sxs-lookup"><span data-stu-id="5f83a-130">In hello Azure portal, only a reduced set of functions limited tooSQL Azure elastic pools is available.</span></span> <span data-ttu-id="5f83a-131">Použijte hello úplnou sadu rozhraní API prostředí PowerShell tooaccess hello aktuální funkcí.</span><span class="sxs-lookup"><span data-stu-id="5f83a-131">Use hello PowerShell APIs tooaccess hello full set of current functionality.</span></span>
> 
> 

## <a name="applications"></a><span data-ttu-id="5f83a-132">Aplikace</span><span class="sxs-lookup"><span data-stu-id="5f83a-132">Applications</span></span>
* <span data-ttu-id="5f83a-133">Provádění úloh správy, jako je nasazení nové schéma.</span><span class="sxs-lookup"><span data-stu-id="5f83a-133">Perform administrative tasks, such as deploying a new schema.</span></span>
* <span data-ttu-id="5f83a-134">Aktualizujte data produktu informace společné napříč všechny databáze.</span><span class="sxs-lookup"><span data-stu-id="5f83a-134">Update reference data-product information common across all databases.</span></span> <span data-ttu-id="5f83a-135">Nebo plány automatické aktualizace každý den v týdnu po hodinách.</span><span class="sxs-lookup"><span data-stu-id="5f83a-135">Or schedules automatic updates every weekday, after hours.</span></span>
* <span data-ttu-id="5f83a-136">Opětovné sestavení indexů tooimprove dotazu výkonu.</span><span class="sxs-lookup"><span data-stu-id="5f83a-136">Rebuild indexes tooimprove query performance.</span></span> <span data-ttu-id="5f83a-137">znovu sestavit Hello může být nakonfigurované tooexecute v kolekci databází pravidelně, například mimo špičku.</span><span class="sxs-lookup"><span data-stu-id="5f83a-137">hello rebuilding can be configured tooexecute across a collection of databases on a recurring basis, such as during off-peak hours.</span></span>
* <span data-ttu-id="5f83a-138">Shromážděte výsledky dotazu ze sady databází do centrální tabulky na základě průběžné.</span><span class="sxs-lookup"><span data-stu-id="5f83a-138">Collect query results from a set of databases into a central table on an on-going basis.</span></span> <span data-ttu-id="5f83a-139">Dotazy na výkon může provést průběžně a nakonfigurované toobe další úkoly tootrigger provést.</span><span class="sxs-lookup"><span data-stu-id="5f83a-139">Performance queries can be continually executed and configured tootrigger additional tasks toobe executed.</span></span>
* <span data-ttu-id="5f83a-140">Spuštění delší spuštěné dotazy zpracování dat napříč velkou sadou databází, například hello kolekce telemetrie zákazníka.</span><span class="sxs-lookup"><span data-stu-id="5f83a-140">Execute longer running data processing queries across a large set of databases, for example hello collection of customer telemetry.</span></span> <span data-ttu-id="5f83a-141">Výsledky se shromažďují do jedné cílové tabulky pro další analýzu.</span><span class="sxs-lookup"><span data-stu-id="5f83a-141">Results are collected into a single destination table for further analysis.</span></span>

## <a name="elastic-database-jobs-end-to-end"></a><span data-ttu-id="5f83a-142">Úlohy elastické databáze: začátku do konce</span><span class="sxs-lookup"><span data-stu-id="5f83a-142">Elastic Database jobs: end-to-end</span></span>
1. <span data-ttu-id="5f83a-143">Nainstalujte hello **úlohy elastické databáze** součásti.</span><span class="sxs-lookup"><span data-stu-id="5f83a-143">Install hello **Elastic Database jobs** components.</span></span> <span data-ttu-id="5f83a-144">Další informace najdete v tématu [úlohy instalace elastické databáze](sql-database-elastic-jobs-service-installation.md).</span><span class="sxs-lookup"><span data-stu-id="5f83a-144">For more information, see [Installing Elastic Database jobs](sql-database-elastic-jobs-service-installation.md).</span></span> <span data-ttu-id="5f83a-145">V případě selhání instalace hello najdete v části [jak toouninstall](sql-database-elastic-jobs-uninstall.md).</span><span class="sxs-lookup"><span data-stu-id="5f83a-145">If hello installation fails, see [how toouninstall](sql-database-elastic-jobs-uninstall.md).</span></span>
2. <span data-ttu-id="5f83a-146">Použijte hello rozhraní API prostředí PowerShell tooaccess další funkce, například vytváření vlastní databázi kolekce, přidání plány nebo shromažďování sad výsledků.</span><span class="sxs-lookup"><span data-stu-id="5f83a-146">Use hello PowerShell APIs tooaccess more functionality, for example creating custom-defined database collections, adding schedules and/or gathering results sets.</span></span> <span data-ttu-id="5f83a-147">Použití hello portál pro vytvoření nebo monitorování, úloh a jednoduchou instalaci omezená tooexecution proti **elastický fond**.</span><span class="sxs-lookup"><span data-stu-id="5f83a-147">Use hello portal for simple installation and creation/monitoring of jobs limited tooexecution against a **elastic pool**.</span></span> 
3. <span data-ttu-id="5f83a-148">Vytvoření zašifrované přihlašovací údaje pro provádění úlohy a [přidání hello uživatele (nebo rolí) tooeach databáze ve skupině hello](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="5f83a-148">Create encrypted credentials for job execution and [add hello user (or role) tooeach database in hello group](sql-database-security-overview.md).</span></span>
4. <span data-ttu-id="5f83a-149">Vytvořte idempotent skriptu T-SQL, který lze spustit na každou databázi ve skupině hello.</span><span class="sxs-lookup"><span data-stu-id="5f83a-149">Create an idempotent T-SQL script that can be run against every database in hello group.</span></span> 
5. <span data-ttu-id="5f83a-150">Postupujte podle těchto kroků toocreate úloh pomocí hello portálu Azure: [vytváření a Správa úloh elastické databáze](sql-database-elastic-jobs-create-and-manage.md).</span><span class="sxs-lookup"><span data-stu-id="5f83a-150">Follow these steps toocreate jobs using hello Azure portal: [Creating and managing Elastic Database jobs](sql-database-elastic-jobs-create-and-manage.md).</span></span> 
6. <span data-ttu-id="5f83a-151">Nebo použití skriptů prostředí PowerShell: [vytvořit a spravovat úlohy elastické databáze databáze SQL pomocí prostředí PowerShell (preview)](sql-database-elastic-jobs-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="5f83a-151">Or use PowerShell scripts: [Create and manage a SQL Database elastic database jobs using PowerShell (preview)](sql-database-elastic-jobs-powershell.md).</span></span>

## <a name="idempotent-scripts"></a><span data-ttu-id="5f83a-152">Idempotent skriptů</span><span class="sxs-lookup"><span data-stu-id="5f83a-152">Idempotent scripts</span></span>
<span data-ttu-id="5f83a-153">musí být Hello skripty [idempotent](https://en.wikipedia.org/wiki/Idempotence).</span><span class="sxs-lookup"><span data-stu-id="5f83a-153">hello scripts must be [idempotent](https://en.wikipedia.org/wiki/Idempotence).</span></span> <span data-ttu-id="5f83a-154">Jednoduše řečeno "idempotent" znamená, že pokud hello skript uspěje a znovu spusťte, hello stejného výsledku dojde.</span><span class="sxs-lookup"><span data-stu-id="5f83a-154">In simple terms, "idempotent" means that if hello script succeeds, and it is run again, hello same result occurs.</span></span> <span data-ttu-id="5f83a-155">Skript se nemusí zdařit kvůli tootransient problémů se sítí.</span><span class="sxs-lookup"><span data-stu-id="5f83a-155">A script may fail due tootransient network issues.</span></span> <span data-ttu-id="5f83a-156">V takovém případě hello úlohy bude automaticky opakovat spouštění skriptu hello přednastavené počet časů před desisting.</span><span class="sxs-lookup"><span data-stu-id="5f83a-156">In that case, hello job will automatically retry running hello script a preset number of times before desisting.</span></span> <span data-ttu-id="5f83a-157">Skript idempotent má hello stejný výsledek i v případě, že byl úspěšně spuštěn dvakrát.</span><span class="sxs-lookup"><span data-stu-id="5f83a-157">An idempotent script has hello same result even if has been successfully run twice.</span></span> 

<span data-ttu-id="5f83a-158">Jednoduché cílem je tootest pro hello existenci objekt před jejím vytváření.</span><span class="sxs-lookup"><span data-stu-id="5f83a-158">A simple tactic is tootest for hello existence of an object before creating it.</span></span>  

    IF NOT EXIST (some_object)
    -- Create hello object 
    -- If it exists, drop hello object before recreating it.

<span data-ttu-id="5f83a-159">Podobně skript musí být schopný tooexecute úspěšně logicky pro testování a zamezením jakékoliv podmínky, které najde.</span><span class="sxs-lookup"><span data-stu-id="5f83a-159">Similarly, a script must be able tooexecute successfully by logically testing for and countering any conditions it finds.</span></span>

## <a name="failures-and-logs"></a><span data-ttu-id="5f83a-160">Chyby a protokoly</span><span class="sxs-lookup"><span data-stu-id="5f83a-160">Failures and logs</span></span>
<span data-ttu-id="5f83a-161">Pokud skript selže po několika pokusech, hello úloha zapíše hello chybu a pokračuje.</span><span class="sxs-lookup"><span data-stu-id="5f83a-161">If a script fails after multiple attempts, hello job logs hello error and continues.</span></span> <span data-ttu-id="5f83a-162">Po skončení úlohy (tj. spustit pro všechny databáze ve skupině hello), můžete zkontrolovat její seznam neúspěšných pokusů o přihlášení.</span><span class="sxs-lookup"><span data-stu-id="5f83a-162">After a job ends (meaning a run against all databases in hello group), you can check its list of failed attempts.</span></span> <span data-ttu-id="5f83a-163">protokoly Hello poskytují podrobnosti toodebug vadný skripty.</span><span class="sxs-lookup"><span data-stu-id="5f83a-163">hello logs provide details toodebug faulty scripts.</span></span> 

## <a name="group-types-and-creation"></a><span data-ttu-id="5f83a-164">Skupiny typy a vytvoření</span><span class="sxs-lookup"><span data-stu-id="5f83a-164">Group types and creation</span></span>
<span data-ttu-id="5f83a-165">Existují dva typy skupin:</span><span class="sxs-lookup"><span data-stu-id="5f83a-165">There are two kinds of groups:</span></span> 

1. <span data-ttu-id="5f83a-166">Nastaví horizontálního oddílu</span><span class="sxs-lookup"><span data-stu-id="5f83a-166">Shard sets</span></span>
2. <span data-ttu-id="5f83a-167">Vlastní skupiny</span><span class="sxs-lookup"><span data-stu-id="5f83a-167">Custom groups</span></span>

<span data-ttu-id="5f83a-168">Horizontálního oddílu sady skupiny jsou vytvořeny pomocí hello [nástroje elastické databáze](sql-database-elastic-scale-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="5f83a-168">Shard set groups are created using hello [Elastic Database tools](sql-database-elastic-scale-introduction.md).</span></span> <span data-ttu-id="5f83a-169">Když vytvoříte skupinu sadu horizontálního oddílu, jsou databáze přidat nebo odebrat ze skupiny hello automaticky.</span><span class="sxs-lookup"><span data-stu-id="5f83a-169">When you create a shard set group, databases are added or removed from hello group automatically.</span></span> <span data-ttu-id="5f83a-170">Například nové horizontálního oddílu bude automaticky ve skupině hello při přidání toohello horizontálního oddílu mapy.</span><span class="sxs-lookup"><span data-stu-id="5f83a-170">For example, a new shard will be automatically in hello group when you add it toohello shard map.</span></span> <span data-ttu-id="5f83a-171">Úlohu můžete pak spusťte proti hello skupiny.</span><span class="sxs-lookup"><span data-stu-id="5f83a-171">A job can then be run against hello group.</span></span>

<span data-ttu-id="5f83a-172">Vlastní skupiny, na druhé straně text hello, jsou pevně definované.</span><span class="sxs-lookup"><span data-stu-id="5f83a-172">Custom groups, on hello other hand, are rigidly defined.</span></span> <span data-ttu-id="5f83a-173">Musíte explicitně přidat nebo odebrat databáze z vlastní skupiny.</span><span class="sxs-lookup"><span data-stu-id="5f83a-173">You must explicitly add or remove databases from custom groups.</span></span> <span data-ttu-id="5f83a-174">Pokud databáze ve skupině hello je vynechána, pokusí hello úlohy skriptu hello toorun hello databázi, což vede k jeho případnému selhání.</span><span class="sxs-lookup"><span data-stu-id="5f83a-174">If a database in hello group is dropped, hello job will attempt toorun hello script against hello database resulting in an eventual failure.</span></span> <span data-ttu-id="5f83a-175">Skupiny vytvořené pomocí hello portál Azure aktuálně jsou vlastní skupiny.</span><span class="sxs-lookup"><span data-stu-id="5f83a-175">Groups created using hello Azure portal currently are custom groups.</span></span> 

## <a name="components-and-pricing"></a><span data-ttu-id="5f83a-176">Součásti a ceny</span><span class="sxs-lookup"><span data-stu-id="5f83a-176">Components and pricing</span></span>
<span data-ttu-id="5f83a-177">Hello následující součásti spolupracují toocreate Azure cloudové služby, která umožňuje ad-hoc provádění úloh správy.</span><span class="sxs-lookup"><span data-stu-id="5f83a-177">hello following components work together toocreate an Azure Cloud service that enables ad-hoc execution of administrative jobs.</span></span> <span data-ttu-id="5f83a-178">Hello součásti instalace a konfigurace automaticky během instalace, v rámci vašeho předplatného.</span><span class="sxs-lookup"><span data-stu-id="5f83a-178">hello components are installed and configured automatically during setup, in your subscription.</span></span> <span data-ttu-id="5f83a-179">Hello služby můžete identifikovat jako spolu mají stejné automaticky generovaný hello název.</span><span class="sxs-lookup"><span data-stu-id="5f83a-179">You can identify hello services as they all have hello same auto-generated name.</span></span> <span data-ttu-id="5f83a-180">Hello název jedinečný a skládá se z hello předponu "edj" následované 21 náhodně generovaných znaků.</span><span class="sxs-lookup"><span data-stu-id="5f83a-180">hello name is unique, and consists of hello prefix "edj" followed by 21 randomly generated characters.</span></span>

* <span data-ttu-id="5f83a-181">**Cloudovou službu Azure**: úlohy elastické databáze (preview) je dodávána jako zákazník hostované Azure Cloud service tooperform provádění hello požadované úlohy.</span><span class="sxs-lookup"><span data-stu-id="5f83a-181">**Azure Cloud Service**: elastic database jobs (preview) is delivered as a customer-hosted Azure Cloud service tooperform execution of hello requested tasks.</span></span> <span data-ttu-id="5f83a-182">Z portálu hello hello služby nasazení a hostované v rámci vašeho předplatného Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="5f83a-182">From hello portal, hello service is deployed and hosted in your Microsoft Azure subscription.</span></span> <span data-ttu-id="5f83a-183">Hello výchozí nasazené služba běží s hello minimálně dva pracovní role pro vysokou dostupnost.</span><span class="sxs-lookup"><span data-stu-id="5f83a-183">hello default deployed service runs with hello minimum of two worker roles for high availability.</span></span> <span data-ttu-id="5f83a-184">Hello výchozí velikost jednotlivých rolí pracovního procesu (ElasticDatabaseJobWorker) běží na instanci A0.</span><span class="sxs-lookup"><span data-stu-id="5f83a-184">hello default size of each worker role (ElasticDatabaseJobWorker) runs on an A0 instance.</span></span> <span data-ttu-id="5f83a-185">Ceny, najdete v části [ceny služby Azure Cloud services](https://azure.microsoft.com/pricing/details/cloud-services/).</span><span class="sxs-lookup"><span data-stu-id="5f83a-185">For pricing, see [Cloud services pricing](https://azure.microsoft.com/pricing/details/cloud-services/).</span></span> 
* <span data-ttu-id="5f83a-186">**Azure SQL Database**: Služba hello používá databázi SQL Azure, označuje jako hello **řízení databáze** toostore všechny hello úlohy metadat.</span><span class="sxs-lookup"><span data-stu-id="5f83a-186">**Azure SQL Database**: hello service uses an Azure SQL Database known as hello **control database** toostore all of hello job metadata.</span></span> <span data-ttu-id="5f83a-187">úroveň služby výchozí Hello je S0.</span><span class="sxs-lookup"><span data-stu-id="5f83a-187">hello default service tier is a S0.</span></span> <span data-ttu-id="5f83a-188">Ceny, najdete v části [SQL Database – ceny](https://azure.microsoft.com/pricing/details/sql-database/).</span><span class="sxs-lookup"><span data-stu-id="5f83a-188">For pricing, see [SQL Database Pricing](https://azure.microsoft.com/pricing/details/sql-database/).</span></span>
* <span data-ttu-id="5f83a-189">**Azure Service Bus**: Azure Service Bus je pro koordinaci hello práce v rámci hello Azure Cloud Service.</span><span class="sxs-lookup"><span data-stu-id="5f83a-189">**Azure Service Bus**: An Azure Service Bus is for coordination of hello work within hello Azure Cloud Service.</span></span> <span data-ttu-id="5f83a-190">V tématu [Service Bus ceny](https://azure.microsoft.com/pricing/details/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="5f83a-190">See [Service Bus Pricing](https://azure.microsoft.com/pricing/details/service-bus/).</span></span>
* <span data-ttu-id="5f83a-191">**Úložiště Azure**: slouží Azure Storage účet toostore diagnostiky výstup protokolování v hello událost, která problém vyžaduje další ladění (najdete v části [povolení diagnostiky Azure Cloud Services a virtuálních počítačů](../cloud-services/cloud-services-dotnet-diagnostics.md)).</span><span class="sxs-lookup"><span data-stu-id="5f83a-191">**Azure Storage**: An Azure Storage account is used toostore diagnostic output logging in hello event that an issue requires further debugging (see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](../cloud-services/cloud-services-dotnet-diagnostics.md)).</span></span> <span data-ttu-id="5f83a-192">Ceny, najdete v části [Azure Storage – ceny](https://azure.microsoft.com/pricing/details/storage/).</span><span class="sxs-lookup"><span data-stu-id="5f83a-192">For pricing, see [Azure Storage Pricing](https://azure.microsoft.com/pricing/details/storage/).</span></span>

## <a name="how-elastic-database-jobs-work"></a><span data-ttu-id="5f83a-193">Jak fungují úlohy elastické databáze</span><span class="sxs-lookup"><span data-stu-id="5f83a-193">How Elastic Database jobs work</span></span>
1. <span data-ttu-id="5f83a-194">Je určený k Azure SQL Database **řízení databáze** které ukládá všechna data metadata a stavu.</span><span class="sxs-lookup"><span data-stu-id="5f83a-194">An Azure SQL Database is designated a **control database** which stores all meta-data and state data.</span></span>
2. <span data-ttu-id="5f83a-195">databáze řízení Hello přistupuje hello **úlohy služby** tooexecute toolaunch a sledování úloh.</span><span class="sxs-lookup"><span data-stu-id="5f83a-195">hello control database is accessed by hello **job service** toolaunch and track jobs tooexecute.</span></span>
3. <span data-ttu-id="5f83a-196">Dva různé role komunikují s databází řízení hello:</span><span class="sxs-lookup"><span data-stu-id="5f83a-196">Two different roles communicate with hello control database:</span></span> 
   * <span data-ttu-id="5f83a-197">Řadič: Určuje, jaké úlohy vyžadují úlohy tooperform hello požadoval úlohy a opakování nezdařených úloh vytvoření nové úlohy.</span><span class="sxs-lookup"><span data-stu-id="5f83a-197">Controller: Determines which jobs require tasks tooperform hello requested job, and retries failed jobs by creating new job tasks.</span></span>
   * <span data-ttu-id="5f83a-198">Provádění úloh úkolu: Provede hello úlohy.</span><span class="sxs-lookup"><span data-stu-id="5f83a-198">Job Task Execution: Carries out hello job tasks.</span></span>

### <a name="job-task-types"></a><span data-ttu-id="5f83a-199">Typy úloh úloh</span><span class="sxs-lookup"><span data-stu-id="5f83a-199">Job task types</span></span>
<span data-ttu-id="5f83a-200">Existují různé druhy úlohy, které provádějí spouštění úloh:</span><span class="sxs-lookup"><span data-stu-id="5f83a-200">There are multiple types of job tasks that carry out execution of jobs:</span></span>

* <span data-ttu-id="5f83a-201">ShardMapRefresh: Dotazy hello horizontálního oddílu mapy toodetermine všechny databáze hello používá jako horizontálních oddílů</span><span class="sxs-lookup"><span data-stu-id="5f83a-201">ShardMapRefresh: Queries hello shard map toodetermine all hello databases used as shards</span></span>
* <span data-ttu-id="5f83a-202">ScriptSplit: Rozdělí mezi tlačítko Přejít' příkazy do dávek skriptu hello</span><span class="sxs-lookup"><span data-stu-id="5f83a-202">ScriptSplit: Splits hello script across ‘GO’ statements into batches</span></span>
* <span data-ttu-id="5f83a-203">ExpandJob: Vytváří podřízené úlohy pro každou databázi z úlohy, která je cílena skupinu databází</span><span class="sxs-lookup"><span data-stu-id="5f83a-203">ExpandJob: Creates child jobs for each database from a job that targets a group of databases</span></span>
* <span data-ttu-id="5f83a-204">ScriptExecution: Spustí skript na konkrétní databázi pomocí přihlašovacích údajů definovaných</span><span class="sxs-lookup"><span data-stu-id="5f83a-204">ScriptExecution: Executes a script against a particular database using defined credentials</span></span>
* <span data-ttu-id="5f83a-205">Dacpac: Konkrétní databázi DACPAC tooa pomocí konkrétní přihlašovacích údajů se vztahuje</span><span class="sxs-lookup"><span data-stu-id="5f83a-205">Dacpac: Applies a DACPAC tooa particular database using particular credentials</span></span>

## <a name="end-to-end-job-execution-work-flow"></a><span data-ttu-id="5f83a-206">Spuštění úlohy začátku do konce pracovní flow</span><span class="sxs-lookup"><span data-stu-id="5f83a-206">End-to-end job execution work-flow</span></span>
1. <span data-ttu-id="5f83a-207">S použitím hello portál nebo hello rozhraní API prostředí PowerShell, úlohy budou vložena do hello **řízení databáze**.</span><span class="sxs-lookup"><span data-stu-id="5f83a-207">Using either hello Portal or hello PowerShell API, a job is inserted into hello  **control database**.</span></span> <span data-ttu-id="5f83a-208">Úloha Hello požaduje spuštění skriptu jazyka Transact-SQL pro skupinu databází pomocí konkrétní přihlašovací údaje.</span><span class="sxs-lookup"><span data-stu-id="5f83a-208">hello job requests execution of a Transact-SQL script against a group of databases using specific credentials.</span></span>
2. <span data-ttu-id="5f83a-209">Hello řadiče identifikuje hello novou úlohu.</span><span class="sxs-lookup"><span data-stu-id="5f83a-209">hello controller identifies hello new job.</span></span> <span data-ttu-id="5f83a-210">Úlohy jsou vytvářeny a spustit skript hello toosplit a toorefresh hello skupinu databází.</span><span class="sxs-lookup"><span data-stu-id="5f83a-210">Job tasks are created and executed toosplit hello script and toorefresh hello group’s databases.</span></span> <span data-ttu-id="5f83a-211">Nakonec novou úlohu se vytvoří a provést tooexpand hello úlohy a vytvářet nové podřízené úlohy, kde je každá úloha podřízené zadaný tooexecute hello skript Transact-SQL proti může jedna databáze ve skupině hello.</span><span class="sxs-lookup"><span data-stu-id="5f83a-211">Lastly, a new job is created and executed tooexpand hello job and create new child jobs where each child job is specified tooexecute hello Transact-SQL script against an individual database in hello group.</span></span>
3. <span data-ttu-id="5f83a-212">Hello řadiče identifikuje hello vytvořit podřízené úlohy.</span><span class="sxs-lookup"><span data-stu-id="5f83a-212">hello controller identifies hello created child jobs.</span></span> <span data-ttu-id="5f83a-213">Pro každou úlohu hello řadiče vytvoří a spustí skript úlohy úloh tooexecute hello proti databázi.</span><span class="sxs-lookup"><span data-stu-id="5f83a-213">For each job, hello controller creates and triggers a job task tooexecute hello script against a database.</span></span> 
4. <span data-ttu-id="5f83a-214">Po dokončení úlohy všechny, aktualizuje řadič hello hello úlohy tooa dokončit stavu.</span><span class="sxs-lookup"><span data-stu-id="5f83a-214">After all job tasks have completed, hello controller updates hello jobs tooa completed state.</span></span> 
   <span data-ttu-id="5f83a-215">Kdykoli během provádění úlohy hello rozhraní API prostředí PowerShell může být použité tooview hello aktuální stav provádění úlohy.</span><span class="sxs-lookup"><span data-stu-id="5f83a-215">At any point during job execution, hello PowerShell API can be used tooview hello current state of job execution.</span></span> <span data-ttu-id="5f83a-216">Všechny časy vrátila hello rozhraní API prostředí PowerShell jsou reprezentované ve standardu UTC.</span><span class="sxs-lookup"><span data-stu-id="5f83a-216">All times returned by hello PowerShell APIs are represented in UTC.</span></span> <span data-ttu-id="5f83a-217">V případě potřeby může být žádost o zrušení iniciovaná toostop úlohu.</span><span class="sxs-lookup"><span data-stu-id="5f83a-217">If desired, a cancellation request can be initiated toostop a job.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="5f83a-218">Další kroky</span><span class="sxs-lookup"><span data-stu-id="5f83a-218">Next steps</span></span>
<span data-ttu-id="5f83a-219">[Nainstalujte komponenty hello](sql-database-elastic-jobs-service-installation.md), pak [vytvořit a přidat do protokolu v databázi tooeach ve skupině hello databází](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="5f83a-219">[Install hello components](sql-database-elastic-jobs-service-installation.md), then [create and add a log in tooeach database in hello group of databases](sql-database-manage-logins.md).</span></span> <span data-ttu-id="5f83a-220">toofurther pochopit úlohy vytváření a správu najdete v tématu [vytvářením a správou úloh elastické databáze](sql-database-elastic-jobs-create-and-manage.md).</span><span class="sxs-lookup"><span data-stu-id="5f83a-220">toofurther understand job creation and management, see [creating and managing elastic database jobs](sql-database-elastic-jobs-create-and-manage.md).</span></span> <span data-ttu-id="5f83a-221">Viz také [Začínáme s úlohami elastické databáze](sql-database-elastic-jobs-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="5f83a-221">See also [Getting started with Elastic Database jobs](sql-database-elastic-jobs-getting-started.md).</span></span>

[!INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

<!--Image references-->
[1]: ./media/sql-database-elastic-jobs-overview/elastic-jobs.png
<!--anchors-->


