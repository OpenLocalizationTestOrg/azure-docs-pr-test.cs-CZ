---
title: "aaaGranting přístup tooAzure databáze SQL | Microsoft Docs"
description: "Informace o udělení přístupu tooMicrosoft Azure SQL Database."
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: 
tags: 
ms.assetid: 8e71b04c-bc38-4153-8f83-f2b14faa31d9
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 02/06/2017
ms.author: rickbyh
ms.openlocfilehash: 4c32fafa7e98b731ff2f9bf4666da7e4a3145286
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="azure-sql-database-access-control"></a><span data-ttu-id="632b8-103">Řízení přístupu ke službě Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="632b8-103">Azure SQL Database access control</span></span>
<span data-ttu-id="632b8-104">tooprovide zabezpečení, databáze SQL řídí přístup s pravidla brány firewall omezení připojení pomocí IP adresy, vyžadování uživatelé tooprove mechanismy ověřování své identity a autorizace mechanismy omezení uživatelů toospecific akce a data.</span><span class="sxs-lookup"><span data-stu-id="632b8-104">tooprovide security, SQL Database controls access with firewall rules limiting connectivity by IP address, authentication mechanisms requiring users tooprove their identity, and authorization mechanisms limiting users toospecific actions and data.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="632b8-105">Přehled funkcí zabezpečení hello SQL Database, najdete v části [Přehled zabezpečení SQL](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="632b8-105">For an overview of hello SQL Database security features, see [SQL security overview](sql-database-security-overview.md).</span></span> <span data-ttu-id="632b8-106">Podívejte se kurz [zabezpečení vaší databázi SQL Azure](sql-database-security-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="632b8-106">For a tutorial, see [Secure your Azure SQL Database](sql-database-security-tutorial.md).</span></span>

## <a name="firewall-and-firewall-rules"></a><span data-ttu-id="632b8-107">Brána firewall a pravidla brány firewall</span><span class="sxs-lookup"><span data-stu-id="632b8-107">Firewall and firewall rules</span></span>
<span data-ttu-id="632b8-108">Microsoft Azure SQL Database poskytuje relační databázovou službu pro aplikace Azure a další internetové aplikace.</span><span class="sxs-lookup"><span data-stu-id="632b8-108">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="632b8-109">toohelp chránit vaše data, brány firewall zabránit všechny přístup tooyour databázový server, dokud nezadáte, které počítače mají oprávnění.</span><span class="sxs-lookup"><span data-stu-id="632b8-109">toohelp protect your data, firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="632b8-110">brány firewall Hello uděluje přístup toodatabases podle hello pocházející IP adresu každého požadavku.</span><span class="sxs-lookup"><span data-stu-id="632b8-110">hello firewall grants access toodatabases based on hello originating IP address of each request.</span></span> <span data-ttu-id="632b8-111">Další informace najdete v tématu [Přehled pravidel brány firewall služby Azure SQL Database](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="632b8-111">For more information, see [Overview of Azure SQL Database firewall rules](sql-database-firewall-configure.md)</span></span>

<span data-ttu-id="632b8-112">Hello služby Azure SQL Database je pouze k dispozici prostřednictvím portu TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="632b8-112">hello Azure SQL Database service is only available through TCP port 1433.</span></span> <span data-ttu-id="632b8-113">tooaccess databáze SQL z vašeho počítače, ujistěte se, že klientský počítač brány firewall umožňuje odchozí komunikaci TCP na portu TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="632b8-113">tooaccess a SQL Database from your computer, ensure that your client computer firewall allows outgoing TCP communication on TCP port 1433.</span></span> <span data-ttu-id="632b8-114">Pokud ho jiné aplikace nepotřebují, zablokujte na portu TCP 1433 příchozí připojení.</span><span class="sxs-lookup"><span data-stu-id="632b8-114">If not needed for other applications, block inbound connections on TCP port 1433.</span></span> 

<span data-ttu-id="632b8-115">Jako součást procesu připojení hello připojení z virtuální počítače Azure jsou přesměrovaného tooa jinou IP adresu a port, jedinečné pro každou roli pracovního procesu.</span><span class="sxs-lookup"><span data-stu-id="632b8-115">As part of hello connection process, connections from Azure virtual machines are redirected tooa different IP address and port, unique for each worker role.</span></span> <span data-ttu-id="632b8-116">číslo portu Hello je v rozsahu hello od 11000 too11999.</span><span class="sxs-lookup"><span data-stu-id="632b8-116">hello port number is in hello range from 11000 too11999.</span></span> <span data-ttu-id="632b8-117">Další informace o portech TCP naleznete v tématu [porty nad rámec 1433 pro technologii ADO.NET 4.5 a SQL Database2](sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="632b8-117">For more information about TCP ports, see [Ports beyond 1433 for ADO.NET 4.5 and SQL Database2](sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>

## <a name="authentication"></a><span data-ttu-id="632b8-118">Authentication</span><span class="sxs-lookup"><span data-stu-id="632b8-118">Authentication</span></span>

<span data-ttu-id="632b8-119">SQL Database podporuje dva typy ověřování:</span><span class="sxs-lookup"><span data-stu-id="632b8-119">SQL Database supports two types of authentication:</span></span>

* <span data-ttu-id="632b8-120">**Ověřování SQL,** které používá uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="632b8-120">**SQL Authentication**, which uses a username and password.</span></span> <span data-ttu-id="632b8-121">Když vytvoříte hello logický server pro databázi, jste zadali "serveru admin" přihlášení s uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="632b8-121">When you created hello logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="632b8-122">Pomocí těchto přihlašovacích údajů, můžete ověřovat tooany databáze na tomto serveru jako vlastník databáze hello nebo "dbo."</span><span class="sxs-lookup"><span data-stu-id="632b8-122">Using these credentials, you can authenticate tooany database on that server as hello database owner, or "dbo."</span></span> 
* <span data-ttu-id="632b8-123">**Ověřování pomocí Azure Active Directory,** které používá identity spravované v Azure Active Directory a je podporované u spravovaných a integrovaných domén.</span><span class="sxs-lookup"><span data-stu-id="632b8-123">**Azure Active Directory Authentication**, which uses identities managed by Azure Active Directory and is supported for managed and integrated domains.</span></span> <span data-ttu-id="632b8-124">[Kdykoliv to půjde](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode), použijte ověřování pomocí Active Directory (integrované zabezpečení).</span><span class="sxs-lookup"><span data-stu-id="632b8-124">Use Active Directory authentication (integrated security) [whenever possible](https://docs.microsoft.com/sql/relational-databases/security/choose-an-authentication-mode).</span></span> <span data-ttu-id="632b8-125">Pokud chcete toouse ověřování Azure Active Directory, musíte vytvořit jiný správce serveru názvem hello "Azure AD admin", který je povolen tooadminister Azure AD Uživatelé a skupiny.</span><span class="sxs-lookup"><span data-stu-id="632b8-125">If you want toouse Azure Active Directory Authentication, you must create another server admin called hello "Azure AD admin," which is allowed tooadminister Azure AD users and groups.</span></span> <span data-ttu-id="632b8-126">Tento správce také smí provádět všechny operace jako běžný správce serveru.</span><span class="sxs-lookup"><span data-stu-id="632b8-126">This admin can also perform all operations that a regular server admin can.</span></span> <span data-ttu-id="632b8-127">V tématu [připojení tooSQL databáze pomocí pomocí Azure Active Directory Authentication](sql-database-aad-authentication.md) pro návod, jak toocreate tooenable Správce služby Azure AD ověřování Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="632b8-127">See [Connecting tooSQL Database By Using Azure Active Directory Authentication](sql-database-aad-authentication.md) for a walkthrough of how toocreate an Azure AD admin tooenable Azure Active Directory Authentication.</span></span>

<span data-ttu-id="632b8-128">Hello databázový stroj zavře připojení, která zůstat v nečinnosti déle než 30 minut.</span><span class="sxs-lookup"><span data-stu-id="632b8-128">hello Database Engine closes connections that remain idle for more than 30 minutes.</span></span> <span data-ttu-id="632b8-129">Hello připojení znovu musí přihlášení před použitím.</span><span class="sxs-lookup"><span data-stu-id="632b8-129">hello connection must login again before it can be used.</span></span> <span data-ttu-id="632b8-130">Nepřetržitě aktivních připojení tooSQL databáze vyžadovat opětovné ověření (provádí hello databázový stroj) minimálně každých 10 hodin.</span><span class="sxs-lookup"><span data-stu-id="632b8-130">Continuously active connections tooSQL Database require reauthorization (performed by hello database engine) at least every 10 hours.</span></span> <span data-ttu-id="632b8-131">databázový stroj Hello pokusy o opětovné ověření pomocí hesla původně odeslaného hello a není třeba žádný uživatelský vstup.</span><span class="sxs-lookup"><span data-stu-id="632b8-131">hello database engine attempts reauthorization using hello originally submitted password and no user input is required.</span></span> <span data-ttu-id="632b8-132">Z důvodů výkonu při vytvoření nového hesla v databázi SQL, hello připojení není vyjednání, i když hello připojení je ukončeno z důvodu tooconnection sdružování.</span><span class="sxs-lookup"><span data-stu-id="632b8-132">For performance reasons, when a password is reset in SQL Database, hello connection is not be reauthenticated, even if hello connection is reset due tooconnection pooling.</span></span> <span data-ttu-id="632b8-133">To se liší od chování hello místní SQL Server.</span><span class="sxs-lookup"><span data-stu-id="632b8-133">This is different from hello behavior of on-premises SQL Server.</span></span> <span data-ttu-id="632b8-134">Pokud hello heslo bylo změněno, protože byl původně autorizován hello připojení, musí být ukončen hello připojení a vytvořit nové připojení pomocí hello nové heslo.</span><span class="sxs-lookup"><span data-stu-id="632b8-134">If hello password has been changed since hello connection was initially authorized, hello connection must be terminated and a new connection made using hello new password.</span></span> <span data-ttu-id="632b8-135">Uživatel s hello `KILL DATABASE CONNECTION` oprávnění můžete explicitně ukončit připojení tooSQL databáze pomocí hello [KILL](https://docs.microsoft.com/sql/t-sql/language-elements/kill-transact-sql) příkaz.</span><span class="sxs-lookup"><span data-stu-id="632b8-135">A user with hello `KILL DATABASE CONNECTION` permission can explicitly terminate a connection tooSQL Database by using hello [KILL](https://docs.microsoft.com/sql/t-sql/language-elements/kill-transact-sql) command.</span></span>

<span data-ttu-id="632b8-136">Uživatelské účty lze vytvořit v hlavní databázi hello a může být přiřazeno oprávnění v všechny databáze na serveru hello, nebo je lze vytvořit v hello databáze (nazývané uživatelů s omezením).</span><span class="sxs-lookup"><span data-stu-id="632b8-136">User accounts can be created in hello master database and can be granted permissions in all databases on hello server, or they can be created in hello database itself (called contained users).</span></span> <span data-ttu-id="632b8-137">Informace o vytváření a správě přihlašování najdete v tématu [Správa přihlašování](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="632b8-137">For information on creating and managing logins, see [Manage logins](sql-database-manage-logins.md).</span></span> <span data-ttu-id="632b8-138">přenositelnost tooenhance a scalabilty, použijte škálovatelnost tooenhance uživatelé databáze s omezením.</span><span class="sxs-lookup"><span data-stu-id="632b8-138">tooenhance portability and scalabilty, use contained database users tooenhance scalability.</span></span> <span data-ttu-id="632b8-139">Další informace o uživatelích s omezením najdete v tématech [Uživatelé databáze s omezením – vytvoření přenosné databáze](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [CREATE USER (Transact-SQL)](https://docs.microsoft.com/sql/t-sql/statements/create-user-transact-sql) a [Databáze s omezením](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases).</span><span class="sxs-lookup"><span data-stu-id="632b8-139">For more information on contained users, see [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), [CREATE USER (Transact-SQL)](https://docs.microsoft.com/sql/t-sql/statements/create-user-transact-sql), and [Contained Databases](https://docs.microsoft.com/sql/relational-databases/databases/contained-databases).</span></span>

<span data-ttu-id="632b8-140">Jako osvědčený postup by aplikace měla použít vyhrazený účet tooauthenticate – tímto způsobem můžete omezit hello oprávnění udělená aplikaci toohello a snížení rizika hello škodlivých aktivit v případě kód aplikace je snadno napadnutelný tooa Injektáž SQL útok.</span><span class="sxs-lookup"><span data-stu-id="632b8-140">As a best practice your application should use a dedicated account tooauthenticate -- this way you can limit hello permissions granted toohello application and reduce hello risks of malicious activity in case your application code is vulnerable tooa SQL injection attack.</span></span> <span data-ttu-id="632b8-141">Hello doporučený postup je toocreate [uživatele databáze s omezením](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), což umožňuje vaší aplikaci tooauthenticate přímo toohello databáze.</span><span class="sxs-lookup"><span data-stu-id="632b8-141">hello recommended approach is toocreate a [contained database user](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable), which allows your app tooauthenticate directly toohello database.</span></span> 

## <a name="authorization"></a><span data-ttu-id="632b8-142">Autorizace</span><span class="sxs-lookup"><span data-stu-id="632b8-142">Authorization</span></span>

<span data-ttu-id="632b8-143">Autorizace odkazuje toowhat může uživatel provádět v rámci Azure SQL Database, a tím je řízeno váš uživatelský účet databáze [členství v rolích](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles) a [oprávnění na úrovni objektů](https://docs.microsoft.com/sql/relational-databases/security/permissions-database-engine).</span><span class="sxs-lookup"><span data-stu-id="632b8-143">Authorization refers toowhat a user can do within an Azure SQL Database, and this is controlled by your user account's database [role memberships](https://docs.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles) and [object-level permissions](https://docs.microsoft.com/sql/relational-databases/security/permissions-database-engine).</span></span> <span data-ttu-id="632b8-144">Jako osvědčený postup byste měli udělit uživatelům hello nejnižší oprávnění potřebná.</span><span class="sxs-lookup"><span data-stu-id="632b8-144">As a best practice, you should grant users hello least privileges necessary.</span></span> <span data-ttu-id="632b8-145">Hello účet správce serveru, ke kterému se připojujete se členem role db_owner, který má autority toodo nic v rámci hello databáze.</span><span class="sxs-lookup"><span data-stu-id="632b8-145">hello server admin account you are connecting with is a member of db_owner, which has authority toodo anything within hello database.</span></span> <span data-ttu-id="632b8-146">Tento účet uložte kvůli nasazení upgradovaných schémat a dalším možnostem správy.</span><span class="sxs-lookup"><span data-stu-id="632b8-146">Save this account for deploying schema upgrades and other management operations.</span></span> <span data-ttu-id="632b8-147">Použít účet "ApplicationUser" hello s omezenější tooconnect oprávnění z vaší aplikace toohello databáze pomocí hello nejnižších oprávnění vyžadované vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="632b8-147">Use hello "ApplicationUser" account with more limited permissions tooconnect from your application toohello database with hello least privileges needed by your application.</span></span> <span data-ttu-id="632b8-148">Další informace najdete v tématu [Správa přihlašování](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="632b8-148">For more information, see [Manage logins](sql-database-manage-logins.md).</span></span>

<span data-ttu-id="632b8-149">Obvykle potřebujete jenom správci přístup toohello `master` databáze.</span><span class="sxs-lookup"><span data-stu-id="632b8-149">Typically, only administrators need access toohello `master` database.</span></span> <span data-ttu-id="632b8-150">Rutiny přístup tooeach uživatele databáze by měla být prostřednictvím uživatelé bez oprávnění správce databáze s omezením vytvoření v každé databázi.</span><span class="sxs-lookup"><span data-stu-id="632b8-150">Routine access tooeach user database should be through non-administrator contained database users created in each database.</span></span> <span data-ttu-id="632b8-151">Použijete-li uživatelé databáze s omezením, není nutné toocreate přihlášení v hello `master` databáze.</span><span class="sxs-lookup"><span data-stu-id="632b8-151">When you use contained database users, you do not need toocreate logins in hello `master` database.</span></span> <span data-ttu-id="632b8-152">Další informace najdete v tématu [Uživatelé databáze s omezením – zajištění přenositelnosti databáze](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable).</span><span class="sxs-lookup"><span data-stu-id="632b8-152">For more information, see [Contained Database Users - Making Your Database Portable](https://docs.microsoft.com/sql/relational-databases/security/contained-database-users-making-your-database-portable).</span></span>

<span data-ttu-id="632b8-153">Měli seznámit s hello následující funkce, které lze použít toolimit nebo zvýšení oprávnění:</span><span class="sxs-lookup"><span data-stu-id="632b8-153">You should familiarize yourself with hello following features that can be used toolimit or elevate permissions:</span></span>   
* <span data-ttu-id="632b8-154">[Zosobnění](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server) a [podepisování modulu](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/signing-stored-procedures-in-sql-server) můžou být použité toosecurely zvýšení oprávnění dočasně.</span><span class="sxs-lookup"><span data-stu-id="632b8-154">[Impersonation](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/customizing-permissions-with-impersonation-in-sql-server) and [module-signing](https://docs.microsoft.com/dotnet/framework/data/adonet/sql/signing-stored-procedures-in-sql-server) can be used toosecurely elevate permissions temporarily.</span></span>
* <span data-ttu-id="632b8-155">K omezení řádků, ke kterým má uživatel přístup, můžete použít [zabezpečení na úrovni řádku](https://docs.microsoft.com/sql/relational-databases/security/row-level-security).</span><span class="sxs-lookup"><span data-stu-id="632b8-155">[Row-Level Security](https://docs.microsoft.com/sql/relational-databases/security/row-level-security) can be used limit which rows a user can access.</span></span>
* <span data-ttu-id="632b8-156">[Maskování dat](sql-database-dynamic-data-masking-get-started.md) lze použít toolimit ohrožení citlivých dat.</span><span class="sxs-lookup"><span data-stu-id="632b8-156">[Data Masking](sql-database-dynamic-data-masking-get-started.md) can be used toolimit exposure of sensitive data.</span></span>
* <span data-ttu-id="632b8-157">[Uložené procedury](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) lze použít toolimit hello akce, které můžete provést na databázi hello.</span><span class="sxs-lookup"><span data-stu-id="632b8-157">[Stored procedures](https://docs.microsoft.com/sql/relational-databases/stored-procedures/stored-procedures-database-engine) can be used toolimit hello actions that can be taken on hello database.</span></span>

## <a name="next-steps"></a><span data-ttu-id="632b8-158">Další kroky</span><span class="sxs-lookup"><span data-stu-id="632b8-158">Next steps</span></span>

- <span data-ttu-id="632b8-159">Přehled funkcí zabezpečení hello SQL Database, najdete v části [Přehled zabezpečení SQL](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="632b8-159">For an overview of hello SQL Database security features, see [SQL security overview](sql-database-security-overview.md).</span></span>
- <span data-ttu-id="632b8-160">toolearn Další informace o pravidla brány firewall, najdete v části [pravidla brány Firewall](sql-database-firewall-configure.md).</span><span class="sxs-lookup"><span data-stu-id="632b8-160">toolearn more about firewall rules, see [Firewall rules](sql-database-firewall-configure.md).</span></span>
- <span data-ttu-id="632b8-161">toolearn o uživatelích a přihlášení, najdete v části [spravovat přihlášení](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="632b8-161">toolearn about users and logins, see [Manage logins](sql-database-manage-logins.md).</span></span> 
- <span data-ttu-id="632b8-162">Informace Proaktivní monitorování, naleznete v [auditování databáze](sql-database-auditing.md) a [detekce hrozeb databáze SQL](sql-database-threat-detection.md).</span><span class="sxs-lookup"><span data-stu-id="632b8-162">For a discussion of proactive monitoring, see [Database Auditing](sql-database-auditing.md) and [SQL Database Threat Detection](sql-database-threat-detection.md).</span></span>
- <span data-ttu-id="632b8-163">Podívejte se kurz [zabezpečení vaší databázi SQL Azure](sql-database-security-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="632b8-163">For a tutorial, see [Secure your Azure SQL Database](sql-database-security-tutorial.md).</span></span>
