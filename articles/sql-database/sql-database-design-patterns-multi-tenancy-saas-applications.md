---
title: "Vzory pro víceklientské aplikace SaaS a Azure SQL Database návrhu | Microsoft Docs"
description: "Tento článek popisuje požadavky a běžných vzorů architektura dat databáze více klientů, které aplikace běžící v cloudovém prostředí je potřeba zvážit a různé kompromisy přidružené tyto vzory. Také vysvětluje, jak Azure SQL Database, s jeho elastické fondy a elastické nástroje vám budou snadněji řešit tyto požadavky způsobem ucelená."
keywords: 
services: sql-database
documentationcenter: 
author: srinia
manager: jhubbard
editor: 
ms.assetid: 1dd20c6b-ddbb-40ef-ad34-609d398d008a
ms.service: sql-database
ms.custom: scale out apps
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: sqldb-design
ms.date: 02/01/2017
ms.author: srinia
ms.openlocfilehash: 0f6ba62a01f3211ccaae6b6c48f72e0de54aad78
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="design-patterns-for-multi-tenant-saas-applications-and-azure-sql-database"></a><span data-ttu-id="9c8ad-104">Vzory pro víceklientské aplikace SaaS a Azure SQL Database návrhu</span><span class="sxs-lookup"><span data-stu-id="9c8ad-104">Design patterns for multi-tenant SaaS applications and Azure SQL Database</span></span>
<span data-ttu-id="9c8ad-105">V tomto článku informace o najdete požadavky a běžně data architektura vzorce víceklientské software jako služba (SaaS) databázové aplikace, které běží v prostředí cloudu.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-105">In this article, you can learn about the requirements and common data architecture patterns of multi-tenant software as a service (SaaS) database applications that run in a cloud environment.</span></span> <span data-ttu-id="9c8ad-106">Vysvětluje také faktory, které je potřeba zvážit a kompromis vzory návrhu jiný.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-106">It also explains the factors you need to consider and the trade-offs of different design patterns.</span></span> <span data-ttu-id="9c8ad-107">Elastické fondy a elastické nástroje ve službě Azure SQL Database vám může pomoct podle konkrétních požadavků bez kompromisů jiné cíle.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-107">Elastic pools and elastic tools in Azure SQL Database can help you meet your specific requirements without compromising other objectives.</span></span>

<span data-ttu-id="9c8ad-108">Vývojář podá někdy volby, které pracují s jejich zájmů dlouhodobé nejlepší při návrhu klientů modely pro datové vrstvy víceklientské aplikací.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-108">Developers sometimes make choices that work against their long-term best interests when they design tenancy models for the data tiers of multi-tenant applications.</span></span> <span data-ttu-id="9c8ad-109">Na začátku minimálně vývojář může vnímat usnadnění vývoje a nižší náklady na poskytovatele cloudové služby jako důležitější než izolaci klientů nebo škálovatelnost aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-109">Initially, at least, a developer might perceive ease of development and lower cloud service provider costs as more important than tenant isolation or the scalability of an application.</span></span> <span data-ttu-id="9c8ad-110">Tato volba může vést k obavy spokojenost zákazníků a nákladná oprava kurzu později.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-110">This choice can lead to customer satisfaction concerns and a costly course-correction later.</span></span>

<span data-ttu-id="9c8ad-111">Víceklientské aplikace je aplikace hostované v cloudovém prostředí a který poskytuje stejnou sadu služeb stovkami nebo tisíci klienty, kteří sdílet nebo vidět uživatele toho druhého data.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-111">A multi-tenant application is an application hosted in a cloud environment and that provides the same set of services to hundreds or thousands of tenants who do not share or see each other’s data.</span></span> <span data-ttu-id="9c8ad-112">Příkladem je aplikace SaaS, která poskytuje služby klientům v prostředí hostovaných v cloudu.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-112">An example is an SaaS application that provides services to tenants in a cloud-hosted environment.</span></span>

## <a name="multi-tenant-applications"></a><span data-ttu-id="9c8ad-113">Víceklientským aplikacím</span><span class="sxs-lookup"><span data-stu-id="9c8ad-113">Multi-tenant applications</span></span>
<span data-ttu-id="9c8ad-114">V víceklientským aplikacím datům a zatížení můžete snadno rozdělit na oddíly.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-114">In multi-tenant applications, data and workload can be easily partitioned.</span></span> <span data-ttu-id="9c8ad-115">Vám může oddílu data a úlohy, například podél hranice klienta, protože většina požadavků se provádějí v hranicích klienta.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-115">You can partition data and workload, for example, along tenant boundaries, because most requests occur within the confines of a tenant.</span></span> <span data-ttu-id="9c8ad-116">Tuto vlastnost je vlastní data a úlohy a jeho upřednostňuje vzory aplikace, které jsou popsané v tomto článku.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-116">That property is inherent in the data and the workload, and it favors the application patterns discussed in this article.</span></span>

<span data-ttu-id="9c8ad-117">Vývojáři použít tento typ aplikace napříč celou spektrum cloudové aplikace, včetně:</span><span class="sxs-lookup"><span data-stu-id="9c8ad-117">Developers use this type of application across the whole spectrum of cloud-based applications, including:</span></span>

* <span data-ttu-id="9c8ad-118">Databázové aplikace partnera, které jsou právě přešla do cloudu jako aplikace SaaS</span><span class="sxs-lookup"><span data-stu-id="9c8ad-118">Partner database applications that are being transitioned to the cloud as SaaS applications</span></span>
* <span data-ttu-id="9c8ad-119">Vytvářet pro cloud od základů aplikací SaaS.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-119">SaaS applications built for the cloud from the ground up</span></span>
* <span data-ttu-id="9c8ad-120">Přímé, zákazník směřujících aplikací</span><span class="sxs-lookup"><span data-stu-id="9c8ad-120">Direct, customer-facing applications</span></span>
* <span data-ttu-id="9c8ad-121">Zaměstnanecké podnikové aplikace</span><span class="sxs-lookup"><span data-stu-id="9c8ad-121">Employee-facing enterprise applications</span></span>

<span data-ttu-id="9c8ad-122">Aplikace SaaS, které jsou určeny pro cloud a ty s kořenových certifikačních autorit obvykle partner databázové aplikace jsou víceklientským aplikacím.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-122">SaaS applications that are designed for the cloud and those with roots as partner database applications typically are multi-tenant applications.</span></span> <span data-ttu-id="9c8ad-123">Tyto aplikace SaaS poskytovat svým klientům aplikace speciální software jako služba.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-123">These SaaS applications deliver a specialized software application as a service to their tenants.</span></span> <span data-ttu-id="9c8ad-124">Klienty můžete přístup ke službě aplikace a mít úplná vlastnictví přidružená data uložená v rámci aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-124">Tenants can access the application service and have full ownership of associated data stored as part of the application.</span></span> <span data-ttu-id="9c8ad-125">Ale abyste mohli využívat výhod SaaS, musí klienti předáním některé kontrolu nad svá vlastní data.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-125">But to take advantage of the benefits of SaaS, tenants must surrender some control over their own data.</span></span> <span data-ttu-id="9c8ad-126">Poskytovatele služeb SaaS, aby bylo možné zachovat bezpečné a izolované od ostatních klientů dat důvěřují.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-126">They trust the SaaS service provider to keep their data safe and isolated from other tenants’ data.</span></span> <span data-ttu-id="9c8ad-127">Příkladem tento druh víceklientské aplikace SaaS jsou MYOB, SnelStart a Salesforce.com.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-127">Examples of this kind of multi-tenant SaaS application are MYOB, SnelStart, and Salesforce.com.</span></span> <span data-ttu-id="9c8ad-128">Každá z těchto aplikací můžou být dělené podél hranic klienta a podpora vzorů, které v tomto článku probereme návrhu aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-128">Each of these applications can be partitioned along tenant boundaries and support the application design patterns we discuss in this article.</span></span>

<span data-ttu-id="9c8ad-129">Aplikace, které poskytují přímé služby zákazníkům nebo zaměstnancům v rámci organizace (často označované jako uživatele, nikoli klientů) jsou jiné kategorii na spektra víceklientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-129">Applications that provide a direct service to customers or to employees within an organization (often referred to as users, rather than tenants) are another category on the multi-tenant application spectrum.</span></span> <span data-ttu-id="9c8ad-130">Zákazníci objednat předplatné služby a data, která poskytovatele služeb, shromažďuje a ukládá nevlastní.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-130">Customers subscribe to the service and do not own the data that the service provider collects and stores.</span></span> <span data-ttu-id="9c8ad-131">Poskytovatelé služeb mají méně přísné požadavky uchovávat data zákazníků izolovaná od sebe navzájem nad rámec jakákoli ochranu osobních údajů.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-131">Service providers have less stringent requirements to keep their customers’ data isolated from each other beyond government-mandated privacy regulations.</span></span> <span data-ttu-id="9c8ad-132">Tento druh aplikaci zaměřené zákazníka víceklientské příklady poskytovatelů obsahu média jako Netflix, Spotify a Xbox LIVE.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-132">Examples of this kind of customer-facing multi-tenant application are media content providers like Netflix, Spotify, and Xbox LIVE.</span></span> <span data-ttu-id="9c8ad-133">Další příklady snadno rozdělený aplikací jsou zákazníkem, internetových aplikací nebo aplikace Internet věcí (IoT) v které každého zákazníka či zařízení může sloužit jako oddílu.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-133">Other examples of easily partitionable applications are customer-facing, Internet-scale applications, or Internet of Things (IoT) applications in which each customer or device can serve as a partition.</span></span> <span data-ttu-id="9c8ad-134">Hranice oddílů můžete oddělit uživatelů a zařízení.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-134">Partition boundaries can separate users and devices.</span></span>

<span data-ttu-id="9c8ad-135">Ne všechny aplikace oddílu snadno podél jedné vlastnosti, například klienta, zákazníka, uživatele nebo zařízení.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-135">Not all applications partition easily along a single property such as tenant, customer, user, or device.</span></span> <span data-ttu-id="9c8ad-136">Komplexní enterprise prostředek plánování (ERP) aplikace, například má produktů, objednávek a zákazníků.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-136">A complex enterprise resource planning (ERP) application, for example, has products, orders, and customers.</span></span> <span data-ttu-id="9c8ad-137">Má obvykle komplexní schéma s tisíci vysoce vzájemně propojené tabulky.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-137">It usually has a complex schema with thousands of highly interconnected tables.</span></span>

<span data-ttu-id="9c8ad-138">Žádná strategie jednoho oddílu můžete použít pro všechny tabulky a fungovat na všech úloh aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-138">No single partition strategy can apply to all tables and work across an application's workload.</span></span> <span data-ttu-id="9c8ad-139">Tento článek se zaměřuje na více klientů aplikace, které mají snadno rozdělený data a úlohy.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-139">This article focuses on multi-tenant applications that have easily partitionable data and workloads.</span></span>

## <a name="multi-tenant-application-design-trade-offs"></a><span data-ttu-id="9c8ad-140">Kompromis víceklientské aplikace návrhu</span><span class="sxs-lookup"><span data-stu-id="9c8ad-140">Multi-tenant application design trade-offs</span></span>
<span data-ttu-id="9c8ad-141">Návrhový vzor, který obvykle vybírá vývojář víceklientské aplikace je založena na zvážení následující faktory:</span><span class="sxs-lookup"><span data-stu-id="9c8ad-141">The design pattern that a multi-tenant application developer chooses typically is based on a consideration of the following factors:</span></span>

* <span data-ttu-id="9c8ad-142">**Izolaci klientů**.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-142">**Tenant isolation**.</span></span> <span data-ttu-id="9c8ad-143">Vývojář musí zajistit, že žádný klient má nežádoucí přístup k datům ostatních klientů.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-143">The developer needs to ensure that no tenant has unwanted access to other tenants’ data.</span></span> <span data-ttu-id="9c8ad-144">Požadavek na izolaci rozšiřuje na další vlastnosti, jako je například poskytování ochrany z aktivní okolí, bude možné obnovit data klienta a implementace vlastního nastavení konkrétního klienta.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-144">The isolation requirement extends to other properties, such as providing protection from noisy neighbors, being able to restore a tenant’s data, and implementing tenant-specific customizations.</span></span>
* <span data-ttu-id="9c8ad-145">**Cloudové náklady prostředků**.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-145">**Cloud resource cost**.</span></span> <span data-ttu-id="9c8ad-146">Aplikace SaaS musí být cenově konkurenceschopným.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-146">An SaaS application needs to be cost-competitive.</span></span> <span data-ttu-id="9c8ad-147">Vývojář aplikace víceklientské zvolit optimalizovat pro nižší náklady na použití cloudové prostředky, jako je například úložiště a výpočetní náklady.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-147">A multi-tenant application developer might choose to optimize for lower cost in the use of cloud resources, such as storage and compute costs.</span></span>
* <span data-ttu-id="9c8ad-148">**Snadné DevOps**.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-148">**Ease of DevOps**.</span></span> <span data-ttu-id="9c8ad-149">Vývojář aplikace více klientů musí obsahovat ochrany izolace, udržovat a sledovat stav své aplikace a schématu databáze a vyřešit problémy klienta.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-149">A multi-tenant application developer needs to incorporate isolation protection, maintain, and monitor the health of their application and database schema, and troubleshoot tenant issues.</span></span> <span data-ttu-id="9c8ad-150">Složitostí při vývoji aplikací a operace se překládá přímo na vyšší náklady a vyzve s spokojenost klienta.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-150">Complexity in application development and operation translates directly to increased cost and challenges with tenant satisfaction.</span></span>
* <span data-ttu-id="9c8ad-151">**Škálovatelnost**.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-151">**Scalability**.</span></span> <span data-ttu-id="9c8ad-152">Schopnost postupně přidávat další klienty a kapacity pro klienty, kteří vyžadují je nutné pro úspěšné operace SaaS.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-152">The ability to incrementally add more tenants and capacity for tenants who require it is imperative to a successful SaaS operation.</span></span>

<span data-ttu-id="9c8ad-153">Každý z těchto faktorů má kompromis porovnání do jiného.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-153">Each of these factors has trade-offs compared to another.</span></span> <span data-ttu-id="9c8ad-154">Nabídka nemusí nabízet nejpohodlnější vývojového prostředí cloudu nejnižší náklady.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-154">The lowest-cost cloud offering might not offer the most convenient development experience.</span></span> <span data-ttu-id="9c8ad-155">Je důležité pro vývojáře k rozhodování informováni o těchto možnostech a jejich kompromis během procesu návrhu aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-155">It’s important for a developer to make informed choices about these options and their trade-offs during the application design process.</span></span>

<span data-ttu-id="9c8ad-156">Vzor oblíbených vývoj je pack několik klientů do jednoho nebo několika databází.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-156">A popular development pattern is to pack multiple tenants into one or a few databases.</span></span> <span data-ttu-id="9c8ad-157">Výhody tohoto přístupu jsou nižší náklady, protože platíte za několik databází a relativní jednoduchost pracovat s omezený počet databází.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-157">The benefits of this approach are a lower cost because you pay for a few databases, and the relative simplicity of working with a limited number of databases.</span></span> <span data-ttu-id="9c8ad-158">Ale v čase, vývojář víceklientské aplikace SaaS bude Uvědomte si, že tato volba má významné downsides v izolaci mezi klienty a škálovatelnost.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-158">But over time, a SaaS multi-tenant application developer will realize that this choice has substantial downsides in tenant isolation and scalability.</span></span> <span data-ttu-id="9c8ad-159">Pokud se stane důležité izolaci klientů, další úsilí se vyžaduje k ochraně dat klienta ve sdíleném úložišti před neoprávněným přístupem nebo aktivní okolí.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-159">If tenant isolation becomes important, additional effort is required to protect tenant data in shared storage from unauthorized access or noisy neighbors.</span></span> <span data-ttu-id="9c8ad-160">Tato další úsilí může výrazně zvýšit úsilí vývoj a náklady na údržbu izolace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-160">This additional effort might significantly boost development efforts and isolation maintenance costs.</span></span> <span data-ttu-id="9c8ad-161">Podobně pokud přidávání klientů je potřeba, tento vzor návrhu obvykle vyžaduje znalosti znovu distribuovat klienta data mezi databázemi správně škálování datové vrstvy aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-161">Similarly, if adding tenants is required, this design pattern typically requires expertise to redistribute tenant data across databases to properly scale the data tier of an application.</span></span>  

<span data-ttu-id="9c8ad-162">Často izolaci klientů je základní požadavek ve víceklientské aplikace SaaS, které nahrazovat podnikům a organizacím.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-162">Tenant isolation often is a fundamental requirement in SaaS multi-tenant applications that cater to businesses and organizations.</span></span> <span data-ttu-id="9c8ad-163">Vývojář může zvážit podle dosahovaný výhody v jednoduchost a náklady na přes izolaci mezi klienty a škálovatelnost.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-163">A developer might be tempted by perceived advantages in simplicity and cost over tenant isolation and scalability.</span></span> <span data-ttu-id="9c8ad-164">Tato změna potvrdit složité a nákladné jako službu zvětšování a požadavky na izolaci klientů přestat více důležité a spravované na aplikační vrstvu.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-164">This trade-off can prove complex and expensive as the service grows and tenant isolation requirements become more important and managed at the application layer.</span></span> <span data-ttu-id="9c8ad-165">V aplikacích více klientů, které poskytují služby přímé, určených pro zákazníky, ale izolaci klientů může být s nižší prioritou než optimalizace nákladů cloudu prostředku.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-165">However, in multi-tenant applications that provide a direct, consumer-facing service to customers, tenant isolation might be a lower priority than optimizing for cloud resource cost.</span></span>

## <a name="multi-tenant-data-models"></a><span data-ttu-id="9c8ad-166">Víceklientské datové modely</span><span class="sxs-lookup"><span data-stu-id="9c8ad-166">Multi-tenant data models</span></span>
<span data-ttu-id="9c8ad-167">Běžné postupy pro návrhový pro umístění dat klienta podle tři odlišné modely na obrázku 1.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-167">Common design practices for placing tenant data follow three distinct models, shown in Figure 1.</span></span>

![datové modely víceklientské aplikace](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-multi-tenant-data-models.png)

<span data-ttu-id="9c8ad-169">Obrázek 1: Běžné postupy pro návrhový pro více klientů datové modely</span><span class="sxs-lookup"><span data-stu-id="9c8ad-169">Figure 1: Common design practices for multi-tenant data models</span></span>

* <span data-ttu-id="9c8ad-170">**Databáze za klienta**.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-170">**Database-per-tenant**.</span></span> <span data-ttu-id="9c8ad-171">Každý klient má svou vlastní databázi.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-171">Each tenant has its own database.</span></span> <span data-ttu-id="9c8ad-172">Všechna data konkrétního klienta je omezen na databázi klienta a jsou izolovány od ostatních klientů a jejich data.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-172">All tenant-specific data is confined to the tenant’s database and isolated from other tenants and their data.</span></span>
* <span data-ttu-id="9c8ad-173">**Sdílené horizontálně dělené databáze**.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-173">**Shared database-sharded**.</span></span> <span data-ttu-id="9c8ad-174">Několik klientů sdílet mezi více databází.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-174">Multiple tenants share one of multiple databases.</span></span> <span data-ttu-id="9c8ad-175">Odlišnou sadu klientů je přiřazený k každou databázi pomocí strategie dělení například hash, rozsah nebo seznamu dělení.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-175">A distinct set of tenants is assigned to each database by using a partitioning strategy such as hash, range, or list partitioning.</span></span> <span data-ttu-id="9c8ad-176">Tato strategie distribuční dat často se označuje jako horizontálního dělení.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-176">This data distribution strategy often is referred to as sharding.</span></span>
* <span data-ttu-id="9c8ad-177">**Sdílené databáze jedním**.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-177">**Shared database-single**.</span></span> <span data-ttu-id="9c8ad-178">Jedinou, někdy velký, databázi obsahuje data pro všechny klienty, které jsou jednoznačně rozlišit ve sloupci ID klienta.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-178">A single, sometimes large, database contains data for all tenants, which are disambiguated in a tenant ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="9c8ad-179">Vývojář aplikací zvolit umístit jiných klientů v jiné databázi schémat, a pak použijte název schématu k rozlišení různých klientů.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-179">An application developer might choose to place different tenants in different database schemas, and then use the schema name to disambiguate the different tenants.</span></span> <span data-ttu-id="9c8ad-180">Vzhledem k tomu obvykle vyžaduje použití dynamické SQL a nemůže být efektivní při ukládání do mezipaměti plánu nedoporučujeme tento přístup.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-180">We do not recommend this approach because it usually requires the use of dynamic SQL, and it can’t be effective in plan caching.</span></span> <span data-ttu-id="9c8ad-181">Ve zbývající části tohoto článku zaměříme na sdílené tabulky přístupu pro tuto kategorii víceklientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-181">In the remainder of this article, we focus on the shared table approach for this category of multi-tenant application.</span></span>
> 
> 

## <a name="popular-multi-tenant-data-models"></a><span data-ttu-id="9c8ad-182">Oblíbené víceklientské datové modely</span><span class="sxs-lookup"><span data-stu-id="9c8ad-182">Popular multi-tenant data models</span></span>
<span data-ttu-id="9c8ad-183">Je důležité vyhodnotit různé typy víceklientské datové modely z hlediska aplikace návrhu kompromisy, které jsme jste určili.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-183">It’s important to evaluate the different types of multi-tenant data models in terms of the application design trade-offs we’ve already identified.</span></span> <span data-ttu-id="9c8ad-184">Tyto faktory pomoci charakterizovat tři nejběžnější modely víceklientské dat popsané výše a jejich využití databáze, jak je znázorněno na obrázku 2.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-184">These factors help characterize the three most common multi-tenant data models described earlier and their database usage as shown in Figure 2.</span></span>

* <span data-ttu-id="9c8ad-185">**Izolace.**</span><span class="sxs-lookup"><span data-stu-id="9c8ad-185">**Isolation**.</span></span> <span data-ttu-id="9c8ad-186">Úroveň izolace mezi klienty lze míru izolace kolik klientů lze dosáhnout datový model.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-186">The degree of isolation between tenants can be a measure of how much tenant isolation a data model achieves.</span></span>
* <span data-ttu-id="9c8ad-187">**Cloudové náklady prostředků**.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-187">**Cloud resource cost**.</span></span> <span data-ttu-id="9c8ad-188">Množství sdílení prostředků mezi klienty můžete optimalizovat náklady prostředků cloudu.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-188">The amount of resource sharing between tenants can optimize cloud resource cost.</span></span> <span data-ttu-id="9c8ad-189">Prostředek může být definován jako náklady na výpočetních operací a úložiště.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-189">A resource can be defined as the compute and storage cost.</span></span>
* <span data-ttu-id="9c8ad-190">**Náklady na DevOps**.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-190">**DevOps cost**.</span></span> <span data-ttu-id="9c8ad-191">Snadný vývoj aplikací, nasazení a správy snižuje celkové náklady na operaci SaaS.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-191">The ease of application development, deployment, and manageability reduces overall SaaS operation cost.</span></span>  

<span data-ttu-id="9c8ad-192">Obrázek 2 ukazuje osy Y úroveň izolace klienta.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-192">In Figure 2, the Y axis shows the level of tenant isolation.</span></span> <span data-ttu-id="9c8ad-193">Ukazuje osy X úroveň sdílení prostředků.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-193">The X axis shows the level of resource sharing.</span></span> <span data-ttu-id="9c8ad-194">Šedá, diagonálních Šipka uprostřed označuje směr nákladů DevOps, které sledují zvýšení nebo snížení.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-194">The gray, diagonal arrow in the middle indicates the direction of DevOps costs, tending to increase or decrease.</span></span>

![Vzory návrhu oblíbených víceklientské aplikace](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-popular-application-patterns.png)

<span data-ttu-id="9c8ad-196">Obrázek 2: Oblíbených víceklientské datové modely</span><span class="sxs-lookup"><span data-stu-id="9c8ad-196">Figure 2: Popular multi-tenant data models</span></span>

<span data-ttu-id="9c8ad-197">Pravém dolním kvadrantu obrázek 2 ukazuje application vzor, který používá potenciálně velké, sdílené jedné databáze a sdílené tabulky (nebo samostatné schéma) přístup.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-197">The lower-right quadrant in Figure 2 shows an application pattern that uses a potentially large, shared single database, and the shared table (or separate schema) approach.</span></span> <span data-ttu-id="9c8ad-198">Je vhodné pro sdílení, protože všichni klienti používají stejné databáze prostředků (procesoru, paměti, vstupní a výstupní) v jediné databázi prostředků.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-198">It's good for resource sharing because all tenants use the same database resources (CPU, memory, input/output) in a single database.</span></span> <span data-ttu-id="9c8ad-199">Ale izolaci klientů je omezená.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-199">But tenant isolation is limited.</span></span> <span data-ttu-id="9c8ad-200">Možná budete muset provést další kroky k ochraně klientů od sebe navzájem na aplikační vrstvu.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-200">You might need to take additional steps to protect tenants from each other at the application layer.</span></span> <span data-ttu-id="9c8ad-201">Tyto další kroky může výrazně zvýšit DevOps náklady na vývoj a správu aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-201">These additional steps can significantly increase the DevOps cost of developing and managing the application.</span></span> <span data-ttu-id="9c8ad-202">Škálovatelnost je omezena škále hardwaru, který je hostitelem databáze.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-202">Scalability is limited by the scale of the hardware that hosts the database.</span></span>

<span data-ttu-id="9c8ad-203">Dolním kvadrantu obrázek 2 ukazuje několik klientů horizontálně dělené napříč více databází (obvykle jiný hardware jednotek škálování).</span><span class="sxs-lookup"><span data-stu-id="9c8ad-203">The lower-left quadrant in Figure 2 illustrates multiple tenants sharded across multiple databases (typically, different hardware scale units).</span></span> <span data-ttu-id="9c8ad-204">Každou databázi hostuje podmnožině klientů, které starosti škálovatelnost jiných vzorů.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-204">Each database hosts a subset of tenants, which addresses the scalability concern of other patterns.</span></span> <span data-ttu-id="9c8ad-205">Pokud další kapacity se vyžaduje pro více klientů, můžete snadno umístit klienty na nové databáze přidělené jednotky škálování nový hardware.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-205">If more capacity is required for more tenants, you can easily place the tenants on new databases allocated to new hardware scale units.</span></span> <span data-ttu-id="9c8ad-206">Ale tím se snižuje množství sdílení prostředků.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-206">However, the amount of resource sharing is reduced.</span></span> <span data-ttu-id="9c8ad-207">Pouze klienti umístěny na stejném jednotek škálování sdílet zdroje.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-207">Only tenants placed on the same scale units share resources.</span></span> <span data-ttu-id="9c8ad-208">Tento přístup poskytuje málo zlepšování pro izolaci klientů, protože velký počet klientů jsou stále společně umístěná, bez automaticky chráněn z druhé strany akcí.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-208">This approach provides little improvement to tenant isolation because many tenants are still collocated without being automatically protected from each other’s actions.</span></span> <span data-ttu-id="9c8ad-209">Složitost aplikace zůstává vysoké.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-209">Application complexity remains high.</span></span>

<span data-ttu-id="9c8ad-210">Levém horním kvadrantu na obrázku 2 je třetí přístup.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-210">The upper-left quadrant in Figure 2 is the third approach.</span></span> <span data-ttu-id="9c8ad-211">Každý klient data umístí do svou vlastní databázi.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-211">It places each tenant’s data in its own database.</span></span> <span data-ttu-id="9c8ad-212">Tento přístup má vlastnosti dobrý izolaci klientů, ale omezuje sdílení prostředků při každé databáze má svou vlastní vyhrazených prostředcích.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-212">This approach has good tenant-isolation properties but limits resource sharing when each database has its own dedicated resources.</span></span> <span data-ttu-id="9c8ad-213">Tento přístup je vhodný, pokud všichni klienti předvídatelný úlohy.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-213">This approach is good if all tenants have predictable workloads.</span></span> <span data-ttu-id="9c8ad-214">Pokud klientské úlohy se méně předvídatelný, nejde optimalizovat zprostředkovatele sdílení prostředků.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-214">If tenant workloads become less predictable, the provider cannot optimize resource sharing.</span></span> <span data-ttu-id="9c8ad-215">Nepředvídatelnost je běžné pro SaaS aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-215">Unpredictability is common for SaaS applications.</span></span> <span data-ttu-id="9c8ad-216">Zprostředkovatel musí být buď přečerpání zřídit, splňovat požadavky na nebo nižší prostředky.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-216">The provider must either over-provision to meet demands or lower resources.</span></span> <span data-ttu-id="9c8ad-217">Náklady na vyšší nebo nižší spokojenost klienta buď výsledky akce.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-217">Either action results in either higher costs or lower tenant satisfaction.</span></span> <span data-ttu-id="9c8ad-218">Vyšší stupeň sdílení prostředků mezi klienty stane žádoucí, aby více nákladově efektivní řešení.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-218">A higher degree of resource sharing across tenants becomes desirable to make the solution more cost-effective.</span></span> <span data-ttu-id="9c8ad-219">Zvýšením počtu databází se taky zvýší DevOps náklady na nasazení a údržbu aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-219">Increasing the number of databases also increases DevOps cost to deploy and maintain the application.</span></span> <span data-ttu-id="9c8ad-220">Bez ohledu na tyto otázky tato metoda poskytuje nejlepší a nejjednodušší izolaci pro klienty.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-220">Despite these concerns, this method provides the best and easiest isolation for tenants.</span></span>

<span data-ttu-id="9c8ad-221">Tyto faktory ovlivňují také vzor návrhu, který vybere zákazníka:</span><span class="sxs-lookup"><span data-stu-id="9c8ad-221">These factors also influence the design pattern a customer chooses:</span></span>

* <span data-ttu-id="9c8ad-222">**Vlastnictví dat klienta**.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-222">**Ownership of tenant data**.</span></span> <span data-ttu-id="9c8ad-223">Aplikace, ve kterém klienti zachovat vlastnictví svá vlastní data upřednostňuje vzor jedné databáze každého klienta.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-223">An application in which tenants retain ownership of their own data favors the pattern of a single database per tenant.</span></span>
* <span data-ttu-id="9c8ad-224">**Škálování**.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-224">**Scale**.</span></span> <span data-ttu-id="9c8ad-225">Aplikace, která cílí stovky tisíc nebo miliony klienty upřednostňuje přístupy například horizontálního dělení sdílení databází.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-225">An application that targets hundreds of thousands or millions of tenants favors database sharing approaches such as sharding.</span></span> <span data-ttu-id="9c8ad-226">Požadavky na izolaci stále může představovat problémy.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-226">Isolation requirements still can pose challenges.</span></span>
* <span data-ttu-id="9c8ad-227">**Hodnota a obchodní model**.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-227">**Value and business model**.</span></span> <span data-ttu-id="9c8ad-228">Pokud aplikace výnosy za klienta Pokud malá (méně než dolar), požadavky na izolaci stát méně kritický a sdílenou databázi, má smysl.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-228">If an application’s per-tenant revenue if small (less than a dollar), isolation requirements become less critical and a shared database makes sense.</span></span> <span data-ttu-id="9c8ad-229">Pokud za klienta výnos několik Kč, více možné je model databáze za klienta.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-229">If per-tenant revenue is a few dollars or more, a database-per-tenant model is more feasible.</span></span> <span data-ttu-id="9c8ad-230">Může pomoci snížit náklady na vývoj.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-230">It might help reduce development costs.</span></span>

<span data-ttu-id="9c8ad-231">Zadána návrhu kompromisy znázorněno na obrázku 2 musí dobrý klienta izolace vlastnosti začlenit s sdílení mezi klienty optimální prostředků ideální víceklientského modelu.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-231">Given the design trade-offs shown in Figure 2, an ideal multi-tenant model needs to incorporate good tenant isolation properties with optimal resource sharing among tenants.</span></span> <span data-ttu-id="9c8ad-232">Tento model se vejde kategorie popsané v pravém horním kvadrantu obrázku 2.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-232">This model fits in the category described in the upper-right quadrant of Figure 2.</span></span>

## <a name="multi-tenancy-support-in-azure-sql-database"></a><span data-ttu-id="9c8ad-233">Podpora více klientů ve službě Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="9c8ad-233">Multi-tenancy support in Azure SQL Database</span></span>
<span data-ttu-id="9c8ad-234">Azure SQL Database podporuje všechny vzorky víceklientské aplikace, které jsou uvedené na obrázku 2.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-234">Azure SQL Database supports all multi-tenant application patterns outlined in Figure 2.</span></span> <span data-ttu-id="9c8ad-235">S elastické fondy podporuje také application vzor, který kombinuje sdílení dobrý prostředků a výhody izolace databáze za klienta přístupu (viz kvadrantu pravém na obrázku 3).</span><span class="sxs-lookup"><span data-stu-id="9c8ad-235">With elastic pools, it also supports an application pattern that combines good resource sharing and the isolation benefits of the database-per-tenant approach (see the upper-right quadrant in Figure 3).</span></span> <span data-ttu-id="9c8ad-236">Elastické databáze nástroje a možnosti služby SQL Database pomoct snížit náklady na vývoj a provoz aplikace, která má mnoho databází (znázorněné na obrázku 3 podbarvené oblasti).</span><span class="sxs-lookup"><span data-stu-id="9c8ad-236">Elastic database tools and capabilities in SQL Database help reduce the cost to develop and operate an application that has many databases (shown in the shaded area in Figure 3).</span></span> <span data-ttu-id="9c8ad-237">Tyto nástroje můžete vytvářet a spravovat aplikace, které používají některá z několika databáze vzory.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-237">These tools can help you build and manage applications that use any of the multi-database patterns.</span></span>

![Vzorce v databázi Azure SQL](./media/sql-database-design-patterns-multi-tenancy-saas-applications/sql-database-patterns-sqldb.png)

<span data-ttu-id="9c8ad-239">Obrázek 3: Vzory víceklientské aplikace ve službě Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="9c8ad-239">Figure 3: Multi-tenant application patterns in Azure SQL Database</span></span>

## <a name="database-per-tenant-model-with-elastic-pools-and-tools"></a><span data-ttu-id="9c8ad-240">Model databáze na klienta s elastické fondy a nástroje</span><span class="sxs-lookup"><span data-stu-id="9c8ad-240">Database-per-tenant model with elastic pools and tools</span></span>
<span data-ttu-id="9c8ad-241">Elastické fondy v databázi SQL kombinovat s sdílení mezi databází klienta do lepší podporu přístup databáze za klienta prostředků izolaci klientů.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-241">Elastic pools in SQL Database combine tenant isolation with resource sharing among tenant databases to better support the database-per-tenant approach.</span></span> <span data-ttu-id="9c8ad-242">Databáze SQL je dat vrstvy řešení SaaS poskytovatelů, kteří sestavení víceklientským aplikacím.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-242">SQL Database is a data tier solution for SaaS providers who build multi-tenant applications.</span></span> <span data-ttu-id="9c8ad-243">Zatížení mezi klienty sdílení prostředků přesouvá z aplikační vrstvu v databázové vrstvě služby.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-243">The burden of resource sharing among tenants shifts from the application layer to the database service layer.</span></span> <span data-ttu-id="9c8ad-244">Elastické úlohy, elastické dotazu, elastické transakce a klientské knihovny pro elastické databáze je zjednodušená složitost správy a dotazování na škálování mezi databázemi.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-244">The complexity of managing and querying at scale across databases is simplified with elastic jobs, elastic query, elastic transactions, and the elastic database client library.</span></span>

| <span data-ttu-id="9c8ad-245">Požadavky na aplikace</span><span class="sxs-lookup"><span data-stu-id="9c8ad-245">Application requirements</span></span> | <span data-ttu-id="9c8ad-246">Možnosti databáze SQL</span><span class="sxs-lookup"><span data-stu-id="9c8ad-246">SQL database capabilities</span></span> |
| --- | --- |
| <span data-ttu-id="9c8ad-247">Izolaci mezi klienty a sdílení prostředků</span><span class="sxs-lookup"><span data-stu-id="9c8ad-247">Tenant isolation and resource sharing</span></span> |<span data-ttu-id="9c8ad-248">[Elastické fondy](sql-database-elastic-pool.md): přidělte fond prostředků, databáze SQL a sdílení prostředků napříč různými databázemi.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-248">[Elastic pools](sql-database-elastic-pool.md): Allocate a pool of SQL Database resources and share the resources across various databases.</span></span> <span data-ttu-id="9c8ad-249">Jednotlivé databáze také můžete vybírat tolik prostředky z fondu tak, aby dokázala pojmout kapacity vyžádání špičky z důvodu změn v klientské úlohy.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-249">Also, individual databases can draw as much resources from the pool as needed to accommodate capacity demand spikes due to changes in tenant workloads.</span></span> <span data-ttu-id="9c8ad-250">Elastický fond sám sebe můžete podle potřeby škálovat nahoru nebo dolů.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-250">The elastic pool itself can be scaled up or down as needed.</span></span> <span data-ttu-id="9c8ad-251">Elastické fondy také poskytují snadné správy a monitorování a řešení potíží s na úrovni fondu.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-251">Elastic pools also provide ease of manageability and monitoring and troubleshooting at the pool level.</span></span> |
| <span data-ttu-id="9c8ad-252">Snadné DevOps mezi databázemi</span><span class="sxs-lookup"><span data-stu-id="9c8ad-252">Ease of DevOps across databases</span></span> |<span data-ttu-id="9c8ad-253">[Elastické fondy](sql-database-elastic-pool.md): jak si předtím poznamenali.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-253">[Elastic pools](sql-database-elastic-pool.md): As noted earlier.</span></span> |
| | <span data-ttu-id="9c8ad-254">[Elastické dotazu](sql-database-elastic-query-horizontal-partitioning.md): dotazu mezi databázemi pro vytváření sestav nebo analýza cross klient.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-254">[Elastic query](sql-database-elastic-query-horizontal-partitioning.md): Query across databases for reporting or cross-tenant analysis.</span></span> |
| | <span data-ttu-id="9c8ad-255">[Elastické úlohy](sql-database-elastic-jobs-overview.md): balíček a spolehlivě nasazovat operací údržby databáze nebo změny schématu databáze do více databází.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-255">[Elastic jobs](sql-database-elastic-jobs-overview.md): Package and reliably deploy database maintenance operations or database schema changes to multiple databases.</span></span> |
| | <span data-ttu-id="9c8ad-256">[Elastické transakce](sql-database-elastic-transactions-overview.md): proces změny několik databází atomic a izolované způsobem.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-256">[Elastic transactions](sql-database-elastic-transactions-overview.md): Process changes to several databases in an atomic and isolated way.</span></span> <span data-ttu-id="9c8ad-257">Pokud aplikace potřebují "všechny nebo nic" záruky přes několik operací databáze, je nutné elastické transakce.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-257">Elastic transactions are needed when applications need “all or nothing” guarantees over several database operations.</span></span> |
| | <span data-ttu-id="9c8ad-258">[Klientská knihovna pro elastické databáze](sql-database-elastic-database-client-library.md): Spravovat distribuce, data a mapovat klienty k databázím.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-258">[Elastic database client library](sql-database-elastic-database-client-library.md): Manage data distributions and map tenants to databases.</span></span> |

## <a name="shared-models"></a><span data-ttu-id="9c8ad-259">Sdílené modely</span><span class="sxs-lookup"><span data-stu-id="9c8ad-259">Shared models</span></span>
<span data-ttu-id="9c8ad-260">Jak je popsáno výše, pro většinu poskytovatelů SaaS, může představovat sdílený model přístup problémy s klienta izolace problémů a složité kroky se vývoj aplikací a údržbu.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-260">As described earlier, for most SaaS providers, a shared model approach might pose problems with tenant isolation issues and complexities with application development and maintenance.</span></span> <span data-ttu-id="9c8ad-261">Ale pro víceklientské aplikace, které poskytují služby přímo k příjemce, nemusí být požadavky na izolaci klienta jako vysokou prioritu jako minimalizovat náklady.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-261">However, for multi-tenant applications that provide a service directly to consumers, tenant isolation requirements may not be as high a priority as minimizing cost.</span></span> <span data-ttu-id="9c8ad-262">Budou pravděpodobně moci pack klientům v jedné nebo více databází v vysokou hustotou ke snížení nákladů.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-262">They might be able to pack tenants in one or more databases at a high density to reduce costs.</span></span> <span data-ttu-id="9c8ad-263">Modely sdílené databáze pomocí jedné databáze nebo více horizontálně dělené databází může způsobit další efektivity prostředků sdílení a celkové náklady.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-263">Shared-database models using a single database or multiple sharded databases might result in additional efficiencies in resource sharing and overall cost.</span></span> <span data-ttu-id="9c8ad-264">Azure SQL Database zajišťuje, že některé funkce, které pomáhají zákazníkům sestavení izolace pro lepší zabezpečení a správu ve velkém měřítku v datové vrstvě.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-264">Azure SQL Database provides some features that help customers build isolation for improved security and management at scale in the data tier.</span></span>

| <span data-ttu-id="9c8ad-265">Požadavky na aplikace</span><span class="sxs-lookup"><span data-stu-id="9c8ad-265">Application requirements</span></span> | <span data-ttu-id="9c8ad-266">Možnosti databáze SQL</span><span class="sxs-lookup"><span data-stu-id="9c8ad-266">SQL database capabilities</span></span> |
| --- | --- |
| <span data-ttu-id="9c8ad-267">Funkce izolace zabezpečení</span><span class="sxs-lookup"><span data-stu-id="9c8ad-267">Security isolation features</span></span> |[<span data-ttu-id="9c8ad-268">Zabezpečení na úrovni řádků</span><span class="sxs-lookup"><span data-stu-id="9c8ad-268">Row-level security</span></span>](https://msdn.microsoft.com/library/dn765131.aspx) |
| [<span data-ttu-id="9c8ad-269">Schéma databáze</span><span class="sxs-lookup"><span data-stu-id="9c8ad-269">Database schema</span></span>](https://msdn.microsoft.com/library/dd207005.aspx) | |
| <span data-ttu-id="9c8ad-270">Snadné DevOps mezi databázemi</span><span class="sxs-lookup"><span data-stu-id="9c8ad-270">Ease of DevOps across databases</span></span> |[<span data-ttu-id="9c8ad-271">Elastické dotazu</span><span class="sxs-lookup"><span data-stu-id="9c8ad-271">Elastic query</span></span>](sql-database-elastic-query-horizontal-partitioning.md) |
| | [<span data-ttu-id="9c8ad-272">Elastické úlohy</span><span class="sxs-lookup"><span data-stu-id="9c8ad-272">Elastic jobs</span></span>](sql-database-elastic-jobs-overview.md) |
| | [<span data-ttu-id="9c8ad-273">Elastické transakce</span><span class="sxs-lookup"><span data-stu-id="9c8ad-273">Elastic transactions</span></span>](sql-database-elastic-transactions-overview.md) |
| | [<span data-ttu-id="9c8ad-274">Klientská knihovna Elastic Database</span><span class="sxs-lookup"><span data-stu-id="9c8ad-274">Elastic database client library</span></span>](sql-database-elastic-database-client-library.md) |
| | [<span data-ttu-id="9c8ad-275">Rozdělení elastické databáze a sloučení</span><span class="sxs-lookup"><span data-stu-id="9c8ad-275">Elastic database split and merge</span></span>](sql-database-elastic-scale-overview-split-and-merge.md) |

## <a name="summary"></a><span data-ttu-id="9c8ad-276">Souhrn</span><span class="sxs-lookup"><span data-stu-id="9c8ad-276">Summary</span></span>
<span data-ttu-id="9c8ad-277">Požadavky na izolaci klientů jsou důležité pro většinu víceklientské aplikace SaaS.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-277">Tenant isolation requirements are important for most SaaS multi-tenant applications.</span></span> <span data-ttu-id="9c8ad-278">Nejlepší možnost k zajištění izolace leans výraznou směrem k přístup databáze za klienta.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-278">The best option to provide isolation leans heavily toward the database-per-tenant approach.</span></span> <span data-ttu-id="9c8ad-279">Tyto dva přístupy vyžadují investice do vrstvy komplexní aplikace, které vyžadují zkušený vývoj zaměstnanci k zajištění izolace, což významně zvyšuje náklady a rizika.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-279">The other two approaches require investments in complex application layers that require skilled development staff to provide isolation, which significantly increases cost and risk.</span></span> <span data-ttu-id="9c8ad-280">Pokud požadavky na izolaci nejsou v úvahu již v rané fázi vývoje služby, může být modernizace je i dražší v první dva modely.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-280">If isolation requirements are not accounted for early in the service development, retrofitting them can be even more costly in the first two models.</span></span> <span data-ttu-id="9c8ad-281">Hlavní nevýhody přidruženého k modelu databáze na klienta se vztahují k vyšší cloudové náklady prostředků z důvodu snížené sdílení a údržbu a správu velkého počtu databází.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-281">The main drawbacks associated with the database-per-tenant model are related to increased cloud resource costs due to reduced sharing, and maintaining and managing many databases.</span></span> <span data-ttu-id="9c8ad-282">Vývojáři aplikací SaaS často potýkat s tím zajistily při provádění těchto kompromis.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-282">SaaS application developers often struggle when they make these trade-offs.</span></span>

<span data-ttu-id="9c8ad-283">I když kompromis může být hlavní překážek s většinu poskytovatelů cloudových služeb databáze, databáze SQL Azure eliminuje překážek s jeho elastický fond a možnosti elastické databáze.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-283">Although trade-offs might be major barriers with most cloud database service providers, Azure SQL Database eliminates the barriers with its elastic pool and elastic database capabilities.</span></span> <span data-ttu-id="9c8ad-284">Vývojáři SaaS můžete kombinovat charakteristiky izolace modelu databáze za klienta a optimalizaci sdílení prostředků a vylepšení možností správy mnoho databází pomocí elastické fondy a související nástroje.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-284">SaaS developers can combine the isolation characteristics of a database-per-tenant model and optimize resource sharing and the manageability improvements of many databases by using elastic pools and associated tools.</span></span>

<span data-ttu-id="9c8ad-285">Víceklientské aplikace poskytovatele, kteří mají žádné požadavky na izolaci klientů a kdo může klientům pack databáze v vysokou hustotou zjistit, že sdílená data modelů výsledek v další efektivita při sdílení prostředků a snížit celkové náklady.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-285">Multi-tenant application providers who have no tenant isolation requirements and who can pack tenants in a database at a high density might find that shared data models result in additional efficiency in resource sharing and reduce overall cost.</span></span> <span data-ttu-id="9c8ad-286">Funkce zabezpečení, nástroje elastické databáze Azure SQL Database a knihovny horizontálního dělení pomoci poskytovatelů SaaS vytvářet a spravovat více klientů aplikace.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-286">Azure SQL Database elastic database tools, sharding libraries, and security features help SaaS providers build and manage multi-tenant applications.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9c8ad-287">Další kroky</span><span class="sxs-lookup"><span data-stu-id="9c8ad-287">Next steps</span></span>
<span data-ttu-id="9c8ad-288">[Začínáme s nástroje elastické databáze](sql-database-elastic-scale-get-started.md) a ukázkovou aplikaci, která demonstruje klientské knihovny.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-288">[Get started with elastic database tools](sql-database-elastic-scale-get-started.md) with a sample app that demonstrates the client library.</span></span>

<span data-ttu-id="9c8ad-289">Vytvoření [vlastní řídicí panel elastický fond pro SaaS](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-sql-db-elastic-pools-custom-dashboard) a ukázkovou aplikaci používající fondů elastické databáze nákladově efektivní, škálovatelné řešení.</span><span class="sxs-lookup"><span data-stu-id="9c8ad-289">Create an [elastic pool custom dashboard for SaaS](https://github.com/Microsoft/sql-server-samples/tree/master/samples/manage/azure-sql-db-elastic-pools-custom-dashboard) with a sample app that uses elastic pools for a cost-effective, scalable database solution.</span></span>

<span data-ttu-id="9c8ad-290">Pomocí nástroje Azure SQL Database pro [migrovat existující databáze pro rozšíření Škálováním](sql-database-elastic-convert-to-use-elastic-tools.md).</span><span class="sxs-lookup"><span data-stu-id="9c8ad-290">Use the Azure SQL Database tools to [migrate existing databases to scale out](sql-database-elastic-convert-to-use-elastic-tools.md).</span></span>

<span data-ttu-id="9c8ad-291">Vytvoření fondu elastické databáze pomocí portálu Azure, naleznete v části [vytvoření fondu elastické databáze](sql-database-elastic-pool-manage-portal.md).</span><span class="sxs-lookup"><span data-stu-id="9c8ad-291">To create an elastic pool using the Azure portal, see [create an elastic pool](sql-database-elastic-pool-manage-portal.md).</span></span>  

<span data-ttu-id="9c8ad-292">Zjistěte, jak [sledování a správě fondu elastické databáze](sql-database-elastic-pool-manage-portal.md).</span><span class="sxs-lookup"><span data-stu-id="9c8ad-292">Learn how to [monitor and manage an elastic pool](sql-database-elastic-pool-manage-portal.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="9c8ad-293">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="9c8ad-293">Additional resources</span></span>

* [<span data-ttu-id="9c8ad-294">Nasazení a prozkoumejte víceklientské aplikace, která používá Azure SQL Database – Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="9c8ad-294">Deploy and explore a multi-tenant application that uses Azure SQL Database - Wingtip SaaS</span></span>](sql-database-saas-tutorial.md)
* [<span data-ttu-id="9c8ad-295">Co je Azure elastickém fondu?</span><span class="sxs-lookup"><span data-stu-id="9c8ad-295">What is an Azure elastic pool?</span></span>](sql-database-elastic-pool.md)
* [<span data-ttu-id="9c8ad-296">Horizontální navýšení kapacity s Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="9c8ad-296">Scaling out with Azure SQL Database</span></span>](sql-database-elastic-scale-introduction.md)
* [<span data-ttu-id="9c8ad-297">víceklientské aplikací pomocí nástroje elastické databáze a zabezpečení na úrovni řádků</span><span class="sxs-lookup"><span data-stu-id="9c8ad-297">multi-tenant applications with elastic database tools and row-level security</span></span>](sql-database-elastic-tools-multi-tenant-row-level-security.md)
* [<span data-ttu-id="9c8ad-298">Ověřování v víceklientské aplikace pomocí Azure Active Directory a OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="9c8ad-298">Authentication in multi-tenant apps by using Azure Active Directory and OpenID Connect</span></span>](../guidance/guidance-multitenant-identity-authenticate.md)
* [<span data-ttu-id="9c8ad-299">Aplikace Tailspin Surveys</span><span class="sxs-lookup"><span data-stu-id="9c8ad-299">Tailspin Surveys application</span></span>](../guidance/guidance-multitenant-identity-tailspin.md)


## <a name="questions-and-feature-requests"></a><span data-ttu-id="9c8ad-300">Otázky a žádosti o funkce</span><span class="sxs-lookup"><span data-stu-id="9c8ad-300">Questions and feature requests</span></span>

<span data-ttu-id="9c8ad-301">Máte dotazy, pokud nás chcete najít v [SQL Database fórum](http://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span><span class="sxs-lookup"><span data-stu-id="9c8ad-301">For questions, find us in the [SQL Database forum](http://social.msdn.microsoft.com/forums/azure/home?forum=ssdsgetstarted).</span></span> <span data-ttu-id="9c8ad-302">Přidat v žádosti o funkci [fóru pro zpětnou vazbu SQL Database](https://feedback.azure.com/forums/217321-sql-database/).</span><span class="sxs-lookup"><span data-stu-id="9c8ad-302">Add a feature request in the [SQL Database feedback forum](https://feedback.azure.com/forums/217321-sql-database/).</span></span>

