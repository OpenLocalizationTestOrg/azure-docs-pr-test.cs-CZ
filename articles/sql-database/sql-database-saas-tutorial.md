---
title: "aaaDeploy a seznamte se s hello víceklientské Wingtip SaaS aplikace, která používá Azure SQL Database | Microsoft Docs"
description: "Nasazení a prozkoumejte víceklientské aplikace Wingtip SaaS hello, která demonstruje SaaS vzory pro používání Azure SQL Database."
keywords: kurz k sql database
services: sql-database
documentationcenter: 
author: stevestein
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: scale out apps
ms.workload: data-management
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: sstein
ms.openlocfilehash: 7c528ee19472d3b8c7a285b2f86013945e8f4bf4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="deploy-and-explore-a-multi-tenant-application-that-uses-azure-sql-database---wingtip-saas"></a><span data-ttu-id="6d94c-104">Nasazení a prozkoumejte víceklientské aplikace, která používá Azure SQL Database – Wingtip SaaS</span><span class="sxs-lookup"><span data-stu-id="6d94c-104">Deploy and explore a multi-tenant application that uses Azure SQL Database - Wingtip SaaS</span></span>

<span data-ttu-id="6d94c-105">V tomto kurzu nasazení a prozkoumejte aplikace Wingtip SaaS hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-105">In this tutorial, you deploy and explore hello Wingtip SaaS application.</span></span> <span data-ttu-id="6d94c-106">aplikace Hello používá databázi za klienta, vzor aplikací SaaS, tooservice několik klientů.</span><span class="sxs-lookup"><span data-stu-id="6d94c-106">hello application uses a database-per-tenant, SaaS application pattern, tooservice multiple tenants.</span></span> <span data-ttu-id="6d94c-107">aplikace Hello je funkce navrženou tooshowcase databáze SQL Azure, které zjednodušují povolení SaaS scénáře.</span><span class="sxs-lookup"><span data-stu-id="6d94c-107">hello application is designed tooshowcase features of Azure SQL Database that simplify enabling SaaS scenarios.</span></span>

<span data-ttu-id="6d94c-108">Hello pět minut po kliknutí na *nasazení tooAzure* níže uvedené tlačítko je k dispozici více klientů SaaS aplikace, až použití SQL Database a spouštění v cloudu hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-108">Five minutes after clicking hello *Deploy tooAzure* button below, you have a multi-tenant SaaS application, using SQL Database, up and running in hello cloud.</span></span> <span data-ttu-id="6d94c-109">nasazení aplikace Hello s tři ukázkové klienty, každá má svou vlastní databázi, všechny nasazené do elastický fond SQL.</span><span class="sxs-lookup"><span data-stu-id="6d94c-109">hello application is deployed with three sample tenants, each with its own database, all deployed into a SQL elastic pool.</span></span> <span data-ttu-id="6d94c-110">Hello aplikace je nasazená tooyour předplatné Azure, která poskytuje úplný přístup tooexplore a pracovat s hello jednotlivé součásti aplikace.</span><span class="sxs-lookup"><span data-stu-id="6d94c-110">hello app is deployed tooyour Azure subscription, giving you full access tooexplore and work with hello individual application components.</span></span> <span data-ttu-id="6d94c-111">Hello aplikace zdrojový kód a správu skriptů jsou k dispozici v hello úložiště WingtipSaaS GitHub.</span><span class="sxs-lookup"><span data-stu-id="6d94c-111">hello application source code and management scripts are available in hello WingtipSaaS GitHub repo.</span></span>


<span data-ttu-id="6d94c-112">V tomto kurzu se dozvíte:</span><span class="sxs-lookup"><span data-stu-id="6d94c-112">In this tutorial you learn:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="6d94c-113">Jak toodeploy hello Wingtip SaaS aplikace</span><span class="sxs-lookup"><span data-stu-id="6d94c-113">How toodeploy hello Wingtip SaaS application</span></span>
> * <span data-ttu-id="6d94c-114">Kde tooget hello zdrojovému kódu aplikace a skripty pro správu</span><span class="sxs-lookup"><span data-stu-id="6d94c-114">Where tooget hello application source code, and management scripts</span></span>
> * <span data-ttu-id="6d94c-115">O hello servery, fondy a databází, které tvoří aplikace hello</span><span class="sxs-lookup"><span data-stu-id="6d94c-115">About hello servers, pools, and databases that make up hello app</span></span>
> * <span data-ttu-id="6d94c-116">Jak klienti jsou namapované tootheir dat pomocí hello *katalogu*</span><span class="sxs-lookup"><span data-stu-id="6d94c-116">How tenants are mapped tootheir data with hello *catalog*</span></span>
> * <span data-ttu-id="6d94c-117">Jak tooprovision nového klienta</span><span class="sxs-lookup"><span data-stu-id="6d94c-117">How tooprovision a new tenant</span></span>
> * <span data-ttu-id="6d94c-118">Jak toomonitor klienta aktivity v aplikaci hello</span><span class="sxs-lookup"><span data-stu-id="6d94c-118">How toomonitor tenant activity in hello app</span></span>

<span data-ttu-id="6d94c-119">tooexplore různých SaaS návrhu a správu vzorů, [série kurzů související](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials) je k dispozici, stavět na toto počáteční nasazení.</span><span class="sxs-lookup"><span data-stu-id="6d94c-119">tooexplore various SaaS design and management patterns, a [series of related tutorials](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials) is available that build upon this initial deployment.</span></span> <span data-ttu-id="6d94c-120">Při procházení hello kurzy, podrobně hello poskytuje skripty a zkontrolujte, jak jsou implementované hello různé vzorce SaaS.</span><span class="sxs-lookup"><span data-stu-id="6d94c-120">While going through hello tutorials, dive into hello provided scripts, and examine how hello different SaaS patterns are implemented.</span></span> <span data-ttu-id="6d94c-121">Krok prostřednictvím hello skriptů v každé kurz toogain lépe pochopili, jak tooimplement hello mnoho SQL Database funkce, které zjednodušují vývoj aplikací SaaS.</span><span class="sxs-lookup"><span data-stu-id="6d94c-121">Step through hello scripts in each tutorial toogain a deeper understanding how tooimplement hello many SQL Database features that simplify developing SaaS applications.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="6d94c-122">Požadavky</span><span class="sxs-lookup"><span data-stu-id="6d94c-122">Prerequisites</span></span>

<span data-ttu-id="6d94c-123">toocomplete dokončení tohoto kurzu, ujistěte se, hello následující požadavky:</span><span class="sxs-lookup"><span data-stu-id="6d94c-123">toocomplete this tutorial, make sure hello following prerequisites are completed:</span></span>

* <span data-ttu-id="6d94c-124">Je nainstalované prostředí Azure PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6d94c-124">Azure PowerShell is installed.</span></span> <span data-ttu-id="6d94c-125">Podrobnosti najdete v článku [Začínáme s prostředím Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps).</span><span class="sxs-lookup"><span data-stu-id="6d94c-125">For details, see [Getting started with Azure PowerShell](https://docs.microsoft.com/powershell/azure/get-started-azureps)</span></span>

## <a name="deploy-hello-wingtip-saas-application"></a><span data-ttu-id="6d94c-126">Nasazení aplikace Wingtip SaaS hello</span><span class="sxs-lookup"><span data-stu-id="6d94c-126">Deploy hello Wingtip SaaS application</span></span>

<span data-ttu-id="6d94c-127">Nasazení aplikace Wingtip SaaS hello:</span><span class="sxs-lookup"><span data-stu-id="6d94c-127">Deploy hello Wingtip SaaS app:</span></span>

1. <span data-ttu-id="6d94c-128">Kliknutím na hello **nasazení tooAzure** tlačítko otevře šablonu nasazení Wingtip SaaS Azure portálu toohello hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-128">Clicking hello **Deploy tooAzure** button opens hello Azure portal toohello Wingtip SaaS deployment template.</span></span> <span data-ttu-id="6d94c-129">Šablona Hello vyžaduje dvě hodnoty parametrů; název pro novou skupinu prostředků a uživatelské jméno, která odlišuje od jiných nasazení aplikace Wingtip SaaS hello toto nasazení.</span><span class="sxs-lookup"><span data-stu-id="6d94c-129">hello template requires two parameter values; a name for a new resource group, and a user name that distinguishes this deployment from other deployments of hello Wingtip SaaS app.</span></span> <span data-ttu-id="6d94c-130">dalším krokem Hello poskytuje podrobnosti pro tyto hodnoty nastavení.</span><span class="sxs-lookup"><span data-stu-id="6d94c-130">hello next step provides details for setting these values.</span></span>

   <span data-ttu-id="6d94c-131">Zda toonote hodnoty přesný hello, které používáte, proveďte, protože budete potřebovat tooenter je do konfigurační soubor později.</span><span class="sxs-lookup"><span data-stu-id="6d94c-131">Make sure toonote hello exact values that you use, because you will need tooenter them into a configuration file later.</span></span>

   <a href="http://aka.ms/deploywtpapp" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a>

1. <span data-ttu-id="6d94c-132">Zadejte požadovaný parametr hodnoty pro nasazení hello:</span><span class="sxs-lookup"><span data-stu-id="6d94c-132">Enter required parameter values for hello deployment:</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="6d94c-133">Některá ověřování a brány firewall serveru jsou pro demonstrační účely záměrně nezabezpečené.</span><span class="sxs-lookup"><span data-stu-id="6d94c-133">Some authentication, and server firewalls are intentionally unsecured for demonstration purposes.</span></span> <span data-ttu-id="6d94c-134">**Vytvořit novou skupinu prostředků**a nepoužívejte existující skupiny prostředků, serverům nebo fondů.</span><span class="sxs-lookup"><span data-stu-id="6d94c-134">**Create a new resource group**, and do not use existing resource groups, servers, or pools.</span></span> <span data-ttu-id="6d94c-135">Tato aplikace nebo všechny prostředky, který vytváří, nepoužívejte pro produkční prostředí.</span><span class="sxs-lookup"><span data-stu-id="6d94c-135">Do not use this application, or any resources it creates, for production.</span></span> <span data-ttu-id="6d94c-136">Odstranit tento prostředek skupiny, když jste hotovi s toostop aplikace hello související fakturace.</span><span class="sxs-lookup"><span data-stu-id="6d94c-136">Delete this resource group when you are finished with hello application toostop related billing.</span></span>

    * <span data-ttu-id="6d94c-137">**Skupina prostředků** – vyberte **vytvořit nový** a poskytují **název** pro skupinu prostředků hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-137">**Resource group** - Select **Create new** and provide a **Name** for hello resource group.</span></span> <span data-ttu-id="6d94c-138">Vyberte **umístění** z rozevíracího seznamu hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-138">Select a **Location** from hello drop-down list.</span></span>
    * <span data-ttu-id="6d94c-139">**Uživatel** -některé prostředky, vyžadují názvy, které jsou globálně jedinečné.</span><span class="sxs-lookup"><span data-stu-id="6d94c-139">**User** - Some resources require names that are globally unique.</span></span> <span data-ttu-id="6d94c-140">jedinečnost tooensure pokaždé, když nasadíte aplikaci hello zadejte hodnotu toodifferentiate prostředky, které vytvoříte, z prostředků, které jsou vytvořené nasazení hello Wingtip aplikace.</span><span class="sxs-lookup"><span data-stu-id="6d94c-140">tooensure uniqueness, each time you deploy hello application provide a value toodifferentiate resources you create, from resources created by any other deployment of hello Wingtip application.</span></span> <span data-ttu-id="6d94c-141">Toouse se doporučuje malou **uživatele** názvem, jako je například vašimi iniciálami plus číslo (například *bg1*) a použít jej v hello název skupiny prostředků (například *wingtip-bg1*).</span><span class="sxs-lookup"><span data-stu-id="6d94c-141">It’s recommended toouse a short **User** name, such as your initials plus a number (for example, *bg1*), and then use that in hello resource group name (for example, *wingtip-bg1*).</span></span> <span data-ttu-id="6d94c-142">**Uživatele** parametru může obsahovat pouze písmena, číslice a pomlčky (bez mezer).</span><span class="sxs-lookup"><span data-stu-id="6d94c-142">The **User** parameter can only contain letters, numbers, and hyphens (no spaces).</span></span> <span data-ttu-id="6d94c-143">Hello první a poslední znak musí být písmeno nebo číslo (doporučuje se všechny malá).</span><span class="sxs-lookup"><span data-stu-id="6d94c-143">hello first and last character must be a letter or a number (all lowercase is recommended).</span></span>


1. <span data-ttu-id="6d94c-144">**Nasazení aplikace hello**.</span><span class="sxs-lookup"><span data-stu-id="6d94c-144">**Deploy hello application**.</span></span>

    * <span data-ttu-id="6d94c-145">Klikněte na tlačítko tooagree toohello podmínky a ujednání.</span><span class="sxs-lookup"><span data-stu-id="6d94c-145">Click tooagree toohello terms and conditions.</span></span>
    * <span data-ttu-id="6d94c-146">Klikněte na **Koupit**.</span><span class="sxs-lookup"><span data-stu-id="6d94c-146">Click **Purchase**.</span></span>

1. <span data-ttu-id="6d94c-147">Monitorování stavu nasazení kliknutím **oznámení** (hello ikonu zvonku napravo od pole hledání hello).</span><span class="sxs-lookup"><span data-stu-id="6d94c-147">Monitor deployment status by clicking **Notifications** (hello bell icon right of hello search box).</span></span> <span data-ttu-id="6d94c-148">Nasazení aplikace Wingtip SaaS hello trvá přibližně pět minut.</span><span class="sxs-lookup"><span data-stu-id="6d94c-148">Deploying hello Wingtip SaaS app takes approximately five minutes.</span></span>

   ![nasazení bylo úspěšné](media/sql-database-saas-tutorial/succeeded.png)

## <a name="download-and-unblock-hello-wingtip-saas-scripts"></a><span data-ttu-id="6d94c-150">Stáhněte si a odblokování hello Wingtip SaaS skriptů</span><span class="sxs-lookup"><span data-stu-id="6d94c-150">Download and unblock hello Wingtip SaaS scripts</span></span>

<span data-ttu-id="6d94c-151">Když je nasazení aplikace hello, stáhněte si hello zdrojový kód a správu skripty.</span><span class="sxs-lookup"><span data-stu-id="6d94c-151">While hello application is deploying, download hello source code and management scripts.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="6d94c-152">Spustitelný soubor obsah (skripty, knihovny DLL) mohou být blokovány Windows, když jsou soubory zip stažené z externího zdroje a rozbalené.</span><span class="sxs-lookup"><span data-stu-id="6d94c-152">Executable contents (scripts, dlls) may be blocked by Windows when zip files are downloaded from an external source and extracted.</span></span> <span data-ttu-id="6d94c-153">Při extrahování hello skripty ze souboru zip, postupujte podle kroků hello níže soubor .zip hello toounblock před extrahování.</span><span class="sxs-lookup"><span data-stu-id="6d94c-153">When extracting hello scripts from a zip file, follow hello steps below toounblock hello .zip file before extracting.</span></span> <span data-ttu-id="6d94c-154">Tím se zajistí, že hello skriptů jsou povolené toorun.</span><span class="sxs-lookup"><span data-stu-id="6d94c-154">This ensures hello scripts are allowed toorun.</span></span>

1. <span data-ttu-id="6d94c-155">Procházet příliš[úložiště github Wingtip SaaS hello](https://github.com/Microsoft/WingtipSaaS).</span><span class="sxs-lookup"><span data-stu-id="6d94c-155">Browse too[hello Wingtip SaaS github repo](https://github.com/Microsoft/WingtipSaaS).</span></span>
1. <span data-ttu-id="6d94c-156">Klikněte na tlačítko **klonovat nebo stáhnout**.</span><span class="sxs-lookup"><span data-stu-id="6d94c-156">Click **Clone or download**.</span></span>
1. <span data-ttu-id="6d94c-157">Klikněte na tlačítko **stáhnout ZIP** a uložte soubor hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-157">Click **Download ZIP** and save hello file.</span></span>
1. <span data-ttu-id="6d94c-158">Klikněte pravým tlačítkem na hello **WingtipSaaS-master.zip** soubor a vyberte **vlastnosti**.</span><span class="sxs-lookup"><span data-stu-id="6d94c-158">Right-click hello **WingtipSaaS-master.zip** file, and select **Properties**.</span></span>
1. <span data-ttu-id="6d94c-159">Na hello **Obecné** vyberte **Odblokovat**a klikněte na tlačítko **použít**.</span><span class="sxs-lookup"><span data-stu-id="6d94c-159">On hello **General** tab, select **Unblock**, and click **Apply**.</span></span>
1. <span data-ttu-id="6d94c-160">Klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="6d94c-160">Click **OK**.</span></span>
1. <span data-ttu-id="6d94c-161">Extrahujte soubory hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-161">Extract hello files.</span></span>

<span data-ttu-id="6d94c-162">Skripty, které jsou umístěné v hello *... \\WingtipSaaS hlavní\\Learning moduly* složky.</span><span class="sxs-lookup"><span data-stu-id="6d94c-162">Scripts are located in hello *..\\WingtipSaaS-master\\Learning Modules* folder.</span></span>

## <a name="update-hello-configuration-file-for-this-deployment"></a><span data-ttu-id="6d94c-163">Aktualizovat hello konfigurační soubor pro toto nasazení</span><span class="sxs-lookup"><span data-stu-id="6d94c-163">Update hello configuration file for this deployment</span></span>

<span data-ttu-id="6d94c-164">Před spuštěním všech skriptů, nastavte hello *skupiny prostředků* a *uživatele* hodnoty v **UserConfig.psm1**.</span><span class="sxs-lookup"><span data-stu-id="6d94c-164">Before running any scripts, set hello *resource group* and *user* values in **UserConfig.psm1**.</span></span> <span data-ttu-id="6d94c-165">Nastavení těchto proměnných toohello hodnoty, které můžete zadat během nasazování.</span><span class="sxs-lookup"><span data-stu-id="6d94c-165">Set these variables toohello values you set during deployment.</span></span>

1. <span data-ttu-id="6d94c-166">Otevřete... \\Learning moduly\\*UserConfig.psm1* v hello *prostředí PowerShell ISE*</span><span class="sxs-lookup"><span data-stu-id="6d94c-166">Open ...\\Learning Modules\\*UserConfig.psm1* in hello *PowerShell ISE*</span></span>
1. <span data-ttu-id="6d94c-167">Aktualizace *ResourceGroupName* a *název* s konkrétními hodnotami hello pro vaše nasazení (na řádky 10 a 11 pouze).</span><span class="sxs-lookup"><span data-stu-id="6d94c-167">Update *ResourceGroupName* and *Name* with hello specific values for your deployment (on lines 10 and 11 only).</span></span>
1. <span data-ttu-id="6d94c-168">Uložte změny hello!</span><span class="sxs-lookup"><span data-stu-id="6d94c-168">Save hello changes!</span></span>

<span data-ttu-id="6d94c-169">Toto nastavení tady jednoduše nebude nutné tooupdate tyto hodnoty specifické pro nasazení v každé skriptu.</span><span class="sxs-lookup"><span data-stu-id="6d94c-169">Setting this here simply keeps you from having tooupdate these deployment-specific values in every script.</span></span>

## <a name="run-hello-application"></a><span data-ttu-id="6d94c-170">Spuštění aplikace hello</span><span class="sxs-lookup"><span data-stu-id="6d94c-170">Run hello application</span></span>

<span data-ttu-id="6d94c-171">aplikace Hello umožňující prezentovat místa, například vzájemné součinnosti místnosti, jazz kluby sportovní kluby, který hostitelem události.</span><span class="sxs-lookup"><span data-stu-id="6d94c-171">hello app showcases venues, such as concert halls, jazz clubs, sports clubs, that host events.</span></span> <span data-ttu-id="6d94c-172">Místa, zaregistrujte se jako zákazníky (nebo klienty) hello Wingtip platformu, pro události toolist snadný způsob a prodej lístků.</span><span class="sxs-lookup"><span data-stu-id="6d94c-172">Venues register as customers (or tenants) of hello Wingtip platform, for an easy way toolist events and sell tickets.</span></span> <span data-ttu-id="6d94c-173">Každý místo získá toomanage přizpůsobené webové aplikace a seznamu svoje události a prodej lístků, nezávislé a izolované od ostatních klientů.</span><span class="sxs-lookup"><span data-stu-id="6d94c-173">Each venue gets a personalized web app toomanage and list their events and sell tickets, independent and isolated from other tenants.</span></span> <span data-ttu-id="6d94c-174">V části zahrnuje hello každý klient získá databázi SQL, který je nasazený do elastický fond SQL.</span><span class="sxs-lookup"><span data-stu-id="6d94c-174">Under hello covers, each tenant gets a SQL database deployed into a SQL elastic pool.</span></span>

<span data-ttu-id="6d94c-175">Centrálního **události rozbočovače** poskytuje seznam klientů nasazení konkrétní tooyour adresy URL.</span><span class="sxs-lookup"><span data-stu-id="6d94c-175">A central **Events Hub** provides a list of tenant URLs specific tooyour deployment.</span></span>

1. <span data-ttu-id="6d94c-176">Otevřete hello _události rozbočovače_ ve webovém prohlížeči: http://events.wtp.&lt; Uživatel&gt;. trafficmanager.net (nahraďte názvem vašeho nasazení uživatelské jméno):</span><span class="sxs-lookup"><span data-stu-id="6d94c-176">Open hello _Events Hub_ in your web browser: http://events.wtp.&lt;USER&gt;.trafficmanager.net (replace with your deployment's user name):</span></span>

    ![centrum akcí](media/sql-database-saas-tutorial/events-hub.png)

1. <span data-ttu-id="6d94c-178">V *Centru akcí* klikněte na **Fabrikam Jazz Club**.</span><span class="sxs-lookup"><span data-stu-id="6d94c-178">Click **Fabrikam Jazz Club** in the *Events Hub*.</span></span>

   ![Události](./media/sql-database-saas-tutorial/fabrikam.png)


<span data-ttu-id="6d94c-180">distribuce hello toocontrol příchozí požadavky a používá aplikace hello [ *Azure Traffic Manager*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview).</span><span class="sxs-lookup"><span data-stu-id="6d94c-180">toocontrol hello distribution of incoming requests, hello app uses [*Azure Traffic Manager*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-overview).</span></span> <span data-ttu-id="6d94c-181">stránky Hello události, které jsou specifické pro klienta, vyžadují názvy klienta jsou součástí adresy URL hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-181">hello events pages, which are tenant-specific, require that tenant names are included in hello URLs.</span></span> <span data-ttu-id="6d94c-182">Všechny hello klienta adresy URL zahrnují konkrétní *uživatele* hodnotu a použijte tento formát: http://events.wtp.&lt; Uživatel&gt;.trafficmanager.net/*fabrikamjazzclub*.</span><span class="sxs-lookup"><span data-stu-id="6d94c-182">All hello tenant URLs include your specific *User* value and follow this format: http://events.wtp.&lt;USER&gt;.trafficmanager.net/*fabrikamjazzclub*.</span></span> <span data-ttu-id="6d94c-183">události aplikace Hello analyzuje hello název klienta z adresy URL hello a používá je toocreate klíče tooaccess katalogu pomocí [ *horizontálního oddílu mapy správu*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-scale-shard-map-management).</span><span class="sxs-lookup"><span data-stu-id="6d94c-183">hello events app parses hello tenant name from hello URL and uses it toocreate a key tooaccess a catalog using [*shard map management*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-scale-shard-map-management).</span></span> <span data-ttu-id="6d94c-184">mapy katalogu Hello hello umístění databáze toohello klíče klienta.</span><span class="sxs-lookup"><span data-stu-id="6d94c-184">hello catalog maps hello key toohello tenant's database location.</span></span> <span data-ttu-id="6d94c-185">Hello **události rozbočovače** používá rozšířené metadata v názvu hello katalogu tooretrieve hello klienta, které jsou spojené s každou databázi tooprovide hello seznam adres URL.</span><span class="sxs-lookup"><span data-stu-id="6d94c-185">hello **Events Hub** uses extended metadata in hello catalog tooretrieve hello tenant’s name associated with each database tooprovide hello list of URLs.</span></span>

<span data-ttu-id="6d94c-186">V produkčním prostředí, obvykle vytvořili byste záznam CNAME DNS do [ *nasměrování internetové domény společnosti* ](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-point-internet-domain) pro profil správce provozu hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-186">In a production environment, you would typically create a CNAME DNS record to [*point a company internet domain*](https://docs.microsoft.com/azure/traffic-manager/traffic-manager-point-internet-domain) to hello traffic manager profile.</span></span>

## <a name="start-generating-load-on-hello-tenant-databases"></a><span data-ttu-id="6d94c-187">Spuštění generování zatížení databáze klienta hello</span><span class="sxs-lookup"><span data-stu-id="6d94c-187">Start generating load on hello tenant databases</span></span>

<span data-ttu-id="6d94c-188">Teď, když hello je aplikace nasazená, přidejme ho toowork!</span><span class="sxs-lookup"><span data-stu-id="6d94c-188">Now that hello app is deployed, let’s put it toowork!</span></span> <span data-ttu-id="6d94c-189">Hello *ukázku LoadGenerator* zatížení spuštěným pro všechny databáze klienta spustí skript prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6d94c-189">hello *Demo-LoadGenerator* PowerShell script starts a workload running against all tenant databases.</span></span> <span data-ttu-id="6d94c-190">Hello reálného zatížení na velký počet aplikací SaaS je obvykle ojediněle a nepředvídatelným.</span><span class="sxs-lookup"><span data-stu-id="6d94c-190">hello real-world load on many SaaS apps is typically sporadic and unpredictable.</span></span> <span data-ttu-id="6d94c-191">toosimulate tento typ zatížení, generátor hello vytvoří zatížení distribuovaná do všech klientů s náhodnou shluky na každého klienta, ke kterým dochází v náhodnou intervalech.</span><span class="sxs-lookup"><span data-stu-id="6d94c-191">toosimulate this type of load, hello generator produces a load distributed across all tenants, with randomized bursts on each tenant occurring at randomized intervals.</span></span> <span data-ttu-id="6d94c-192">Z tohoto důvodu trvá několik minut, než tooemerge vzor zatížení hello proto je nejlepší generátor hello toolet spustit pro alespoň tři nebo čtyři minut před monitorování hello zatížení.</span><span class="sxs-lookup"><span data-stu-id="6d94c-192">Because of this it takes several minutes for hello load pattern tooemerge, so it’s best toolet hello generator run for at least three or four minutes before monitoring hello load.</span></span>

1. <span data-ttu-id="6d94c-193">V hello *prostředí PowerShell ISE*, otevřete hello... \\Learning moduly\\nástroje\\*ukázku LoadGenerator.ps1* skriptu.</span><span class="sxs-lookup"><span data-stu-id="6d94c-193">In hello *PowerShell ISE*, open hello ...\\Learning Modules\\Utilities\\*Demo-LoadGenerator.ps1* script.</span></span>
1. <span data-ttu-id="6d94c-194">Stiskněte klávesu **F5** a spusťte skript hello spustit hello zatížení generátor (ponechejte hello výchozí hodnoty parametrů pro nyní).</span><span class="sxs-lookup"><span data-stu-id="6d94c-194">Press **F5** to run hello script and start hello load generator (leave hello default parameter values for now).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="6d94c-195">toorun jiné skripty, otevřete nové okno prostředí PowerShell ISE.</span><span class="sxs-lookup"><span data-stu-id="6d94c-195">toorun other scripts, open a new PowerShell ISE window.</span></span> <span data-ttu-id="6d94c-196">Generátor zatížení Hello běží jako řadu úloh v místní relace prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="6d94c-196">hello load generator is running as a series of jobs in your local PowerShell session.</span></span> <span data-ttu-id="6d94c-197">Hello *ukázku LoadGenerator.ps1* skript se spustí hello vlastní operaci načtení generátor skript, který se spouští jako úlohu popředí plus řadu úloh na pozadí zatížení generace.</span><span class="sxs-lookup"><span data-stu-id="6d94c-197">hello *Demo-LoadGenerator.ps1* script kicks off hello actual load generator script, which runs as a foreground task plus a series of background load-generation jobs.</span></span> <span data-ttu-id="6d94c-198">Pro všechny databáze zaregistrované v katalogu hello je volána úlohu generátor zatížení.</span><span class="sxs-lookup"><span data-stu-id="6d94c-198">A load-generator job is invoked for each database registered in hello catalog.</span></span> <span data-ttu-id="6d94c-199">Hello úlohy běží v místní relace prostředí PowerShell, takže ukončení relace prostředí PowerShell hello zastaví všechny úlohy.</span><span class="sxs-lookup"><span data-stu-id="6d94c-199">hello jobs are running in your local PowerShell session, so closing hello PowerShell session stops all jobs.</span></span> <span data-ttu-id="6d94c-200">Pokud přepnete na váš počítač, generování zatížení je pozastavený a bude pokračovat, až budete probouzet svůj počítač.</span><span class="sxs-lookup"><span data-stu-id="6d94c-200">If you suspend your machine, load generation is paused and will resume when you wake up your machine.</span></span>

<span data-ttu-id="6d94c-201">Jakmile hello zatížení generátor vyvolá zatížení generování úlohy pro každého klienta, hello popředí úkol zůstane v vyvolání úlohy stavu, kdy začne další úlohy pro jakékoli nové klienty, které jsou následně zřízené.</span><span class="sxs-lookup"><span data-stu-id="6d94c-201">Once hello load generator invokes load-generation jobs for each tenant, hello foreground task remains in a job-invoking state, where it starts additional background jobs for any new tenants that are subsequently provisioned.</span></span> <span data-ttu-id="6d94c-202">Můžete použít *Ctrl-C* nebo stiskněte klávesu hello *Zastavit* tlačítko toostop hello popředí úloh, ale stávající pozadí úloh bude pokračovat generování zatížení na každou databázi.</span><span class="sxs-lookup"><span data-stu-id="6d94c-202">You can use *Ctrl-C* or press hello *Stop* button toostop hello foreground task, but existing background jobs will continue generating load on each database.</span></span> <span data-ttu-id="6d94c-203">Pokud potřebujete toomonitor a řídit hello úlohy na pozadí, použijte *Get-Job*, *Receive-Job* a *úlohu zastavení*.</span><span class="sxs-lookup"><span data-stu-id="6d94c-203">If you need toomonitor and control hello background jobs, use *Get-Job*, *Receive-Job* and *Stop-Job*.</span></span> <span data-ttu-id="6d94c-204">Když hello popředí úloha běží nelze použít hello stejné tooexecute relace prostředí PowerShell jiné skripty.</span><span class="sxs-lookup"><span data-stu-id="6d94c-204">While hello foreground task is running you cannot use hello same PowerShell session tooexecute other scripts.</span></span> <span data-ttu-id="6d94c-205">toorun jiné skripty, otevřete nové okno prostředí PowerShell ISE.</span><span class="sxs-lookup"><span data-stu-id="6d94c-205">toorun other scripts, open a new PowerShell ISE window.</span></span>

<span data-ttu-id="6d94c-206">Pokud chcete toorestart hello zatížení generátor relace, například s odlišnými parametry, můžete zastavit hello popředí úloh a poté znovu spusťte hello *ukázku LoadGenerator.ps1* skriptu.</span><span class="sxs-lookup"><span data-stu-id="6d94c-206">If you want toorestart hello load generator session, for example with different parameters, you can stop hello foreground task and then re-run hello *Demo-LoadGenerator.ps1* script.</span></span> <span data-ttu-id="6d94c-207">Opětovné spuštění *ukázku LoadGenerator.ps1* nejprve zastaví všechny aktuálně spuštěné úlohy a potom restartuje hello generátor, který se spustí novou sadu úloh pomocí hello aktuální parametry.</span><span class="sxs-lookup"><span data-stu-id="6d94c-207">Re-running *Demo-LoadGenerator.ps1* first stops any currently running jobs, and then restarts hello generator, which kicks off a new set of jobs using hello current parameters.</span></span>

<span data-ttu-id="6d94c-208">Nyní ponechte generátor zatížení hello spuštěna ve stavu úlohy vyvolání hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-208">For now, leave hello load generator running in hello job-invoking state.</span></span>


## <a name="provision-a-new-tenant"></a><span data-ttu-id="6d94c-209">Zřízení nového tenanta</span><span class="sxs-lookup"><span data-stu-id="6d94c-209">Provision a new tenant</span></span>

<span data-ttu-id="6d94c-210">počáteční nasazení Hello vytvoří tři ukázkové klienty, ale vytvoříme jiného klienta toosee jak to ovlivní hello nasazené aplikace.</span><span class="sxs-lookup"><span data-stu-id="6d94c-210">hello initial deployment creates three sample tenants, but let’s create another tenant toosee how this impacts hello deployed application.</span></span> <span data-ttu-id="6d94c-211">pracovní postup Hello Wingtip SaaS zřizování klientů je podrobně popsaná v hello [kurzu zřizování a katalog](sql-database-saas-tutorial-provision-and-catalog.md).</span><span class="sxs-lookup"><span data-stu-id="6d94c-211">hello Wingtip SaaS provisioning-tenants workflow is detailed in hello [Provision and catalog tutorial](sql-database-saas-tutorial-provision-and-catalog.md).</span></span> <span data-ttu-id="6d94c-212">V tomto kroku rychle vytvořit nového klienta.</span><span class="sxs-lookup"><span data-stu-id="6d94c-212">In this step, you quickly create a new tenant.</span></span>

1. <span data-ttu-id="6d94c-213">Otevřete... \\Modules\Provision učení a katalog\\*ukázku ProvisionAndCatalog.ps1* v hello *prostředí PowerShell ISE*.</span><span class="sxs-lookup"><span data-stu-id="6d94c-213">Open ...\\Learning Modules\Provision and Catalog\\*Demo-ProvisionAndCatalog.ps1* in hello *PowerShell ISE*.</span></span>
1. <span data-ttu-id="6d94c-214">Stiskněte klávesu **F5** pro spuštění skriptu hello (ponechejte hello výchozí hodnoty pro nyní).</span><span class="sxs-lookup"><span data-stu-id="6d94c-214">Press **F5** to run hello script (leave hello default values for now).</span></span>

   > [!NOTE]
   > <span data-ttu-id="6d94c-215">Použít mnoho skriptů Wingtip SaaS *$PSScriptRoot* tooallow navigace funkce toocall složky v jiné skripty.</span><span class="sxs-lookup"><span data-stu-id="6d94c-215">Many Wingtip SaaS scripts use *$PSScriptRoot* tooallow navigating folders toocall functions in other scripts.</span></span> <span data-ttu-id="6d94c-216">Tato proměnná je Vyhodnocená jenom když hello skript se spustí, stisknutím klávesy **F5**.</span><span class="sxs-lookup"><span data-stu-id="6d94c-216">This variable is only evaluated when hello script is executed by pressing **F5**.</span></span>  <span data-ttu-id="6d94c-217">Zvýraznění a spuštění výběr (**F8**) může vést k chybám, takže stiskněte **F5** při spouštění skriptů.</span><span class="sxs-lookup"><span data-stu-id="6d94c-217">Highlighting and running a selection (**F8**) can result in errors, so press **F5** when running scripts.</span></span>

<span data-ttu-id="6d94c-218">Nová databáze klienta Hello je vytvořená v elastický fond SQL, inicializovat a zaregistrovaná v katalogu hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-218">hello new tenant database is created in a SQL elastic pool, initialized and registered in hello catalog.</span></span> <span data-ttu-id="6d94c-219">Po úspěšném zřízení nového klienta hello je prodávané ticket *události* server se zobrazí v prohlížeči:</span><span class="sxs-lookup"><span data-stu-id="6d94c-219">After successful provisioning, hello new tenant's ticket-selling *Events* site appears in your browser:</span></span>

![Nový tenant](./media/sql-database-saas-tutorial/red-maple-racing.png)

<span data-ttu-id="6d94c-221">Aktualizujte hello *události rozbočovače* a hello nového klienta se teď zobrazí v seznamu hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-221">Refresh hello *Events Hub* and hello new tenant now appears in hello list.</span></span>


## <a name="explore-hello-servers-pools-and-tenant-databases"></a><span data-ttu-id="6d94c-222">Prozkoumejte hello servery, fondy a klienta databází</span><span class="sxs-lookup"><span data-stu-id="6d94c-222">Explore hello servers, pools, and tenant databases</span></span>

<span data-ttu-id="6d94c-223">Teď, když jste spuštění, spuštění zátěžového proti hello kolekci klientů, podíváme se na některé hello prostředky, které byly nasazené:</span><span class="sxs-lookup"><span data-stu-id="6d94c-223">Now that you've started running a load against hello collection of tenants, let’s look at some of hello resources that were deployed:</span></span>

1. <span data-ttu-id="6d94c-224">V [portál Azure](http://portal.azure.com), procházet seznam tooyour systému SQL Server a otevřete **katalogu -&lt;uživatele&gt;**  serveru.</span><span class="sxs-lookup"><span data-stu-id="6d94c-224">In the [Azure portal](http://portal.azure.com), browse tooyour list of SQL servers and open the **catalog-&lt;USER&gt;** server.</span></span> <span data-ttu-id="6d94c-225">server Hello katalogu obsahuje dvě databáze.</span><span class="sxs-lookup"><span data-stu-id="6d94c-225">hello catalog server contains two databases.</span></span> <span data-ttu-id="6d94c-226">Hello **tenantcatalog**a hello **basetenantdb** (prázdnou *zlaté* nebo šablonu databáze, která je zkopírovaných toocreate nové klienty).</span><span class="sxs-lookup"><span data-stu-id="6d94c-226">hello **tenantcatalog**, and hello **basetenantdb** (an empty *golden* or template database that is copied toocreate new tenants).</span></span>

   ![databáze](./media/sql-database-saas-tutorial/databases.png)

1. <span data-ttu-id="6d94c-228">Přejděte zpět tooyour seznam serverů SQL a otevřete hello **tenants1 -&lt;uživatele&gt;**  serveru, který obsahuje hello klienta databází.</span><span class="sxs-lookup"><span data-stu-id="6d94c-228">Go back tooyour list of SQL servers and open hello **tenants1-&lt;USER&gt;** server that holds hello tenant databases.</span></span> <span data-ttu-id="6d94c-229">Každá databáze klienta je _elastické standardní_ databáze ve fondu standardní 50 eDTU.</span><span class="sxs-lookup"><span data-stu-id="6d94c-229">Each tenant database is an _Elastic Standard_ database in a 50 eDTU standard pool.</span></span> <span data-ttu-id="6d94c-230">Také Všimněte si, že je _Red javor Racing_ databáze, databáze klienta hello dříve jste zřídili.</span><span class="sxs-lookup"><span data-stu-id="6d94c-230">Also notice there is a _Red Maple Racing_ database, hello tenant database you provisioned previously.</span></span>

   ![server](./media/sql-database-saas-tutorial/server.png)

## <a name="monitor-hello-pool"></a><span data-ttu-id="6d94c-232">Monitorování hello fondu</span><span class="sxs-lookup"><span data-stu-id="6d94c-232">Monitor hello pool</span></span>

<span data-ttu-id="6d94c-233">Pokud generátor zatížení hello běží několik minut, dostatek data by měla být k dispozici toostart prohlížení některé možnosti, které jsou integrovány do fondů a databází monitorování hello.</span><span class="sxs-lookup"><span data-stu-id="6d94c-233">If hello load generator has been running for several minutes, enough data should be available toostart looking at some of hello monitoring capabilities built into pools and databases.</span></span>

1. <span data-ttu-id="6d94c-234">Procházet toohello server **tenants1 -&lt;uživatele&gt;**a klikněte na tlačítko **Pool1** zobrazení využití prostředků pro fond hello (generátor zatížení hello spustili jednu hodinu v hello následující grafy) :</span><span class="sxs-lookup"><span data-stu-id="6d94c-234">Browse toohello server **tenants1-&lt;USER&gt;**, and click **Pool1** to view resource utilization for hello pool (hello load generator ran for an hour in hello following charts):</span></span>

   ![monitorování fondu](./media/sql-database-saas-tutorial/monitor-pool.png)

<span data-ttu-id="6d94c-236">Na těchto dvou grafech je krásně vidět, jak dobře se elastické fondy a databáze SQL hodí pro úlohy SaaS aplikací.</span><span class="sxs-lookup"><span data-stu-id="6d94c-236">What these two charts nicely illustrate, is how well suited elastic pools and SQL Database are for SaaS application workloads.</span></span> <span data-ttu-id="6d94c-237">Čtyř databází, které jsou všechny bursting tooas tolik, jako jsou snadno není podporována 40 Edtu 50 eDTU fondu.</span><span class="sxs-lookup"><span data-stu-id="6d94c-237">Four databases that are each bursting tooas much as 40 eDTUs are easily being supported in a 50 eDTU pool.</span></span> <span data-ttu-id="6d94c-238">Pokud byly zřízení jako samostatné databáze jejich by každý toobe nutné S2 (50 DTU) toosupport hello shluky.</span><span class="sxs-lookup"><span data-stu-id="6d94c-238">If they were provisioned as standalone databases, they would each need toobe an S2 (50 DTU) toosupport hello bursts.</span></span> <span data-ttu-id="6d94c-239">Hello náklady 4 samostatné S2 databází by měly být téměř 3krát hello cena hello fondu a hello fondu má stále dostatek prostoru pro mnoho více databází.</span><span class="sxs-lookup"><span data-stu-id="6d94c-239">hello cost of 4 standalone S2 databases would be nearly 3 times hello price of hello pool, and hello pool still has plenty of headroom for many more databases.</span></span> <span data-ttu-id="6d94c-240">V situacích, reálného databáze SQL zákazníků aktuálně používá až too500 databází ve fondech 200 eDTU.</span><span class="sxs-lookup"><span data-stu-id="6d94c-240">In real-world situations, SQL Database customers are currently running up too500 databases in 200 eDTU pools.</span></span> <span data-ttu-id="6d94c-241">Další informace najdete v tématu hello [kurzu pro monitorování výkonu](sql-database-saas-tutorial-performance-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="6d94c-241">For more information, see hello [performance monitoring tutorial](sql-database-saas-tutorial-performance-monitoring.md).</span></span>


## <a name="next-steps"></a><span data-ttu-id="6d94c-242">Další kroky</span><span class="sxs-lookup"><span data-stu-id="6d94c-242">Next steps</span></span>

<span data-ttu-id="6d94c-243">V tomto kurzu jste se dozvěděli:</span><span class="sxs-lookup"><span data-stu-id="6d94c-243">In this tutorial you learned:</span></span>

> [!div class="checklist"]

> * <span data-ttu-id="6d94c-244">Jak toodeploy hello Wingtip SaaS aplikace</span><span class="sxs-lookup"><span data-stu-id="6d94c-244">How toodeploy hello Wingtip SaaS application</span></span>
> * <span data-ttu-id="6d94c-245">O hello servery, fondy a databází, které tvoří aplikace hello</span><span class="sxs-lookup"><span data-stu-id="6d94c-245">About hello servers, pools, and databases that make up hello app</span></span>
> * <span data-ttu-id="6d94c-246">Klienti jsou namapované tootheir data s hello *katalogu*</span><span class="sxs-lookup"><span data-stu-id="6d94c-246">Tenants are mapped tootheir data with hello *catalog*</span></span>
> * <span data-ttu-id="6d94c-247">Jak tooprovision nové klienty</span><span class="sxs-lookup"><span data-stu-id="6d94c-247">How tooprovision new tenants</span></span>
> * <span data-ttu-id="6d94c-248">Jak toomonitor využití fondu tooview klienta aktivity</span><span class="sxs-lookup"><span data-stu-id="6d94c-248">How tooview pool utilization toomonitor tenant activity</span></span>
> * <span data-ttu-id="6d94c-249">Jak toodelete ukázkové prostředky toostop související fakturace</span><span class="sxs-lookup"><span data-stu-id="6d94c-249">How toodelete sample resources toostop related billing</span></span>

<span data-ttu-id="6d94c-250">Nyní zkuste hello [kurzu zřizování a katalog](sql-database-saas-tutorial-provision-and-catalog.md)</span><span class="sxs-lookup"><span data-stu-id="6d94c-250">Now try hello [Provision and catalog tutorial](sql-database-saas-tutorial-provision-and-catalog.md)</span></span>



## <a name="additional-resources"></a><span data-ttu-id="6d94c-251">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="6d94c-251">Additional resources</span></span>

* <span data-ttu-id="6d94c-252">Další [návodů, které vychází z hello Wingtip SaaS aplikace](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span><span class="sxs-lookup"><span data-stu-id="6d94c-252">Additional [tutorials that build on hello Wingtip SaaS application](sql-database-wtp-overview.md#sql-database-wingtip-saas-tutorials)</span></span>
* <span data-ttu-id="6d94c-253">toolearn o elastické fondy, najdete v části [ *co je fondu elastické databáze Azure SQL*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-pool)</span><span class="sxs-lookup"><span data-stu-id="6d94c-253">toolearn about elastic pools, see [*What is an Azure SQL elastic pool*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-pool)</span></span>
* <span data-ttu-id="6d94c-254">toolearn o elastické úlohy, najdete v části [ *správu cloudu upraveným databáze*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-jobs-overview)</span><span class="sxs-lookup"><span data-stu-id="6d94c-254">toolearn about elastic jobs, see [*Managing scaled-out cloud databases*](https://docs.microsoft.com/azure/sql-database/sql-database-elastic-jobs-overview)</span></span>
* <span data-ttu-id="6d94c-255">toolearn o víceklientské aplikace SaaS, najdete v části [ *vzory pro víceklientské aplikace SaaS návrhu*](https://docs.microsoft.com/azure/sql-database/sql-database-design-patterns-multi-tenancy-saas-applications)</span><span class="sxs-lookup"><span data-stu-id="6d94c-255">toolearn about multi-tenant SaaS applications, see [*Design patterns for multi-tenant SaaS applications*](https://docs.microsoft.com/azure/sql-database/sql-database-design-patterns-multi-tenancy-saas-applications)</span></span>
