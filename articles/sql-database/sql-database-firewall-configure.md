---
title: "pravidla brány firewall aaaAzure databáze SQL | Microsoft Docs"
description: "Zjistěte, jak tooconfigure SQL databáze brány firewall s přístupem toomanage pravidla brány firewall úrovni serveru a na úrovni databáze."
keywords: "brána firewall databáze"
services: sql-database
documentationcenter: 
author: BYHAM
manager: jhubbard
editor: cgronlun
tags: 
ms.assetid: ac57f84c-35c3-4975-9903-241c8059011e
ms.service: sql-database
ms.custom: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-management
ms.date: 04/10/2017
ms.author: rickbyh
ms.openlocfilehash: 6a8cdf629d0d0e55421a5e9f9b894a21371be568
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="azure-sql-database-server-level-and-database-level-firewall-rules"></a><span data-ttu-id="f4178-104">Azure pravidla brány firewall serveru úroveň a databáze SQL Database</span><span class="sxs-lookup"><span data-stu-id="f4178-104">Azure SQL Database server-level and database-level firewall rules</span></span> 

<span data-ttu-id="f4178-105">Microsoft Azure SQL Database poskytuje relační databázovou službu pro aplikace Azure a další internetové aplikace.</span><span class="sxs-lookup"><span data-stu-id="f4178-105">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="f4178-106">toohelp chránit vaše data, brány firewall zabránit všechny přístup tooyour databázový server, dokud nezadáte, které počítače mají oprávnění.</span><span class="sxs-lookup"><span data-stu-id="f4178-106">toohelp protect your data, firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="f4178-107">brány firewall Hello uděluje přístup toodatabases podle hello pocházející IP adresu každého požadavku.</span><span class="sxs-lookup"><span data-stu-id="f4178-107">hello firewall grants access toodatabases based on hello originating IP address of each request.</span></span>

## <a name="overview"></a><span data-ttu-id="f4178-108">Přehled</span><span class="sxs-lookup"><span data-stu-id="f4178-108">Overview</span></span>

<span data-ttu-id="f4178-109">Na začátku všechny Transact-SQL přístup tooyour Azure SQL server je blokována bránou hello firewall.</span><span class="sxs-lookup"><span data-stu-id="f4178-109">Initially, all Transact-SQL access tooyour Azure SQL server is blocked by hello firewall.</span></span> <span data-ttu-id="f4178-110">toobegin pomocí serveru Azure SQL je nutné zadat jedno nebo více pravidel brány firewall na úrovni serveru, které umožňují přístup tooyour Azure SQL server.</span><span class="sxs-lookup"><span data-stu-id="f4178-110">toobegin using your Azure SQL server, you must specify one or more server-level firewall rules that enable access tooyour Azure SQL server.</span></span> <span data-ttu-id="f4178-111">Použijte toospecify pravidla brány firewall hello rozsahy IP adresu, která z hello Internetu jsou povolené a zda aplikací Azure se mohou pokusit tooconnect tooyour Azure SQL server.</span><span class="sxs-lookup"><span data-stu-id="f4178-111">Use hello firewall rules toospecify which IP address ranges from hello Internet are allowed, and whether Azure applications can attempt tooconnect tooyour Azure SQL server.</span></span>

<span data-ttu-id="f4178-112">toojust přístup udělit tooselectively mezi hello databází na vašem serveru Azure SQL, musíte vytvořit pravidlo úroveň databáze pro hello požadovaná databáze.</span><span class="sxs-lookup"><span data-stu-id="f4178-112">tooselectively grant access toojust one of hello databases in your Azure SQL server, you must create a database-level rule for hello required database.</span></span> <span data-ttu-id="f4178-113">Zadejte rozsah IP adres pro pravidlo firewallu hello databáze, které je nad rámec hello zadaná v pravidle brány firewall na úrovni serveru hello rozsah adres IP a ujistěte se, že hello IP adresa klienta hello spadá v rozsahu hello zadaná v pravidle hello úroveň databáze.</span><span class="sxs-lookup"><span data-stu-id="f4178-113">Specify an IP address range for hello database firewall rule that is beyond hello IP address range specified in hello server-level firewall rule, and ensure that hello IP address of hello client falls in hello range specified in hello database-level rule.</span></span>

<span data-ttu-id="f4178-114">Hello pokusy o připojení z Internetu a Azure musí nejdřív projít přes bránu firewall hello než dosáhnou Azure SQL serveru nebo v databázi SQL, jak je znázorněno v následujícím diagramu hello:</span><span class="sxs-lookup"><span data-stu-id="f4178-114">Connection attempts from hello Internet and Azure must first pass through hello firewall before they can reach your Azure SQL server or SQL Database, as shown in hello following diagram:</span></span>

   ![Diagram popisující konfiguraci brány firewall.][1]

* <span data-ttu-id="f4178-116">**Pravidla brány firewall na úrovni serveru:** tato pravidla povolit klienty tooaccess celý server Azure SQL, který je hello všechny hello databází v rámci stejného logického serveru.</span><span class="sxs-lookup"><span data-stu-id="f4178-116">**Server-level firewall rules:** These rules enable clients tooaccess your entire Azure SQL server, that is, all hello databases within hello same logical server.</span></span> <span data-ttu-id="f4178-117">Tato pravidla jsou uložené v hello **hlavní** databáze.</span><span class="sxs-lookup"><span data-stu-id="f4178-117">These rules are stored in hello **master** database.</span></span> <span data-ttu-id="f4178-118">Pravidla brány firewall na úrovni serveru se dá nakonfigurovat pomocí hello portálu nebo pomocí příkazů Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="f4178-118">Server-level firewall rules can be configured by using hello portal or by using Transact-SQL statements.</span></span> <span data-ttu-id="f4178-119">pravidla brány firewall na úrovni serveru toocreate pomocí hello portál Azure nebo prostředí PowerShell, musí být Přispěvatel předplatné nebo vlastníka předplatného hello.</span><span class="sxs-lookup"><span data-stu-id="f4178-119">toocreate server-level firewall rules using hello Azure portal or PowerShell, you must be hello subscription owner or a subscription contributor.</span></span> <span data-ttu-id="f4178-120">toocreate pravidlo brány firewall na úrovni serveru pomocí jazyka Transact-SQL, je nutné připojit toohello instanci služby SQL Database jako hlavní přihlášení na úrovni serveru hello nebo hello správce Azure Active Directory, (což znamená, že pravidlo brány firewall na úrovni serveru musí být nejprve vytvořen uživatel s oprávnění na úrovni Azure).</span><span class="sxs-lookup"><span data-stu-id="f4178-120">toocreate a server-level firewall rule using Transact-SQL, you must connect toohello SQL Database instance as hello server-level principal login or hello Azure Active Directory administrator (which means that a server-level firewall rule must first be created by a user with Azure-level permissions).</span></span>
* <span data-ttu-id="f4178-121">**Pravidla brány firewall na úrovni databáze:** tato pravidla povolit klienty tooaccess určité (zabezpečení) databáze v rámci hello stejný logický server.</span><span class="sxs-lookup"><span data-stu-id="f4178-121">**Database-level firewall rules:** These rules enable clients tooaccess certain (secure) databases within hello same logical server.</span></span> <span data-ttu-id="f4178-122">Můžete vytvořit tato pravidla pro každou databázi (včetně hello **hlavní** database0) a jsou uložené v jednotlivých databázích hello.</span><span class="sxs-lookup"><span data-stu-id="f4178-122">You can create these rules for each database (including hello **master** database0) and they are stored in hello individual databases.</span></span> <span data-ttu-id="f4178-123">Pravidla brány firewall na úrovni databáze se dá nakonfigurovat jenom pomocí příkazů Transact-SQL a až po nakonfigurování hello první brány firewall na úrovni serveru.</span><span class="sxs-lookup"><span data-stu-id="f4178-123">Database-level firewall rules can only be configured by using Transact-SQL statements and only after you have configured hello first server-level firewall.</span></span> <span data-ttu-id="f4178-124">Pokud zadáte rozsah IP adres v pravidle brány firewall na úrovni databáze hello, který je zadaný v pravidle brány firewall na úrovni serveru hello hello mimo rozsah, můžete přístup pouze klienti, které mají IP adresy v rozsahu úroveň databáze hello hello databázi.</span><span class="sxs-lookup"><span data-stu-id="f4178-124">If you specify an IP address range in hello database-level firewall rule that is outside hello range specified in hello server-level firewall rule, only those clients that have IP addresses in hello database-level range can access hello database.</span></span> <span data-ttu-id="f4178-125">Pro jednu databázi můžete mít maximálně 128 pravidel brány firewall na úrovni databáze.</span><span class="sxs-lookup"><span data-stu-id="f4178-125">You can have a maximum of 128 database-level firewall rules for a database.</span></span> <span data-ttu-id="f4178-126">Pravidla brány firewall na úrovni databáze pro hlavní a uživatele databáze lze pouze vytvořit a spravovat prostřednictvím jazyka Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="f4178-126">Database-level firewall rules for master and user databases can only be created and managed through Transact-SQL.</span></span> <span data-ttu-id="f4178-127">Další informace o konfiguraci pravidla brány firewall na úrovni databáze najdete v příkladu hello později v tomto článku a v tématu [sp_set_database_firewall_rule (databáze SQL Azure)](https://msdn.microsoft.com/library/dn270010.aspx).</span><span class="sxs-lookup"><span data-stu-id="f4178-127">For more information on configuring database-level firewall rules, see hello example later in this article and see [sp_set_database_firewall_rule (Azure SQL Databases)](https://msdn.microsoft.com/library/dn270010.aspx).</span></span>

<span data-ttu-id="f4178-128">**Doporučení:** společnost Microsoft doporučuje používat pravidla brány firewall na úrovni databáze vždy, když možné tooenhance zabezpečení a toomake víc přenosného databáze.</span><span class="sxs-lookup"><span data-stu-id="f4178-128">**Recommendation:** Microsoft recommends using database-level firewall rules whenever possible tooenhance security and toomake your database more portable.</span></span> <span data-ttu-id="f4178-129">Pomocí pravidel brány firewall na úrovni serveru pro správce a až budete mít mnoho databází, které mají hello stejné požadavky na přístup a nechcete toospend čas konfigurace jednotlivě každou databázi.</span><span class="sxs-lookup"><span data-stu-id="f4178-129">Use server-level firewall rules for administrators and when you have many databases that have hello same access requirements and you don't want toospend time configuring each database individually.</span></span>

> [!Note]
> <span data-ttu-id="f4178-130">Informace o přenosné databáze v kontextu hello kontinuity podnikových procesů najdete v tématu [požadavky na ověřování pro zotavení po havárii](sql-database-geo-replication-security-config.md).</span><span class="sxs-lookup"><span data-stu-id="f4178-130">For information about portable databases in hello context of business continuity, see [Authentication requirements for disaster recovery](sql-database-geo-replication-security-config.md).</span></span>
>

### <a name="connecting-from-hello-internet"></a><span data-ttu-id="f4178-131">Připojení z Internetu hello</span><span class="sxs-lookup"><span data-stu-id="f4178-131">Connecting from hello Internet</span></span>

<span data-ttu-id="f4178-132">Když se počítač pokusí tooconnect tooyour databázového serveru z hello Internetu, brána firewall hello nejprve zkontroluje hello pocházející IP adresu požadavku hello vůči pravidla brány firewall na úrovni databáze hello hello databáze, který vyžaduje připojení hello:</span><span class="sxs-lookup"><span data-stu-id="f4178-132">When a computer attempts tooconnect tooyour database server from hello Internet, hello firewall first checks hello originating IP address of hello request against hello database-level firewall rules, for hello database that hello connection is requesting:</span></span>

* <span data-ttu-id="f4178-133">Pokud IP adresa hello hello požadavku je do jedné z hello rozsahů určených v pravidlech brány firewall na úrovni databáze hello, je hello připojení udělen toohello SQL Database, která obsahuje pravidlo hello.</span><span class="sxs-lookup"><span data-stu-id="f4178-133">If hello IP address of hello request is within one of hello ranges specified in hello database-level firewall rules, hello connection is granted toohello SQL Database that contains hello rule.</span></span>
* <span data-ttu-id="f4178-134">Pokud IP adresa hello hello požadavku není do jedné z hello rozsahů určených v hello pravidlo brány firewall na úrovni databáze, se kontroluje hello pravidla brány firewall na úrovni serveru.</span><span class="sxs-lookup"><span data-stu-id="f4178-134">If hello IP address of hello request is not within one of hello ranges specified in hello database-level firewall rule, hello server-level firewall rules are checked.</span></span> <span data-ttu-id="f4178-135">Pokud IP adresa hello hello požadavku je do jedné z hello rozsahů určených v hello pravidla brány firewall na úrovni serveru, jsou udělena hello připojení.</span><span class="sxs-lookup"><span data-stu-id="f4178-135">If hello IP address of hello request is within one of hello ranges specified in hello server-level firewall rules, hello connection is granted.</span></span> <span data-ttu-id="f4178-136">Pravidla brány firewall na úrovni serveru použít tooall SQL databáze na serveru Azure SQL hello.</span><span class="sxs-lookup"><span data-stu-id="f4178-136">Server-level firewall rules apply tooall SQL databases on hello Azure SQL server.</span></span>  
* <span data-ttu-id="f4178-137">Pokud IP adresa hello hello požadavku není v rámci hello rozsahy zadanému v některém z hello úroveň databáze nebo pravidla brány firewall na úrovni serveru, hello žádost o připojení selže.</span><span class="sxs-lookup"><span data-stu-id="f4178-137">If hello IP address of hello request is not within hello ranges specified in any of hello database-level or server-level firewall rules, hello connection request fails.</span></span>

> [!NOTE]
> <span data-ttu-id="f4178-138">tooaccess databáze SQL Azure z místního počítače, ujistěte se, že brána firewall hello na vaší sítí a místním počítači umožňuje odchozí komunikaci na portu TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="f4178-138">tooaccess Azure SQL Database from your local computer, ensure hello firewall on your network and local computer allows outgoing communication on TCP port 1433.</span></span>
> 

### <a name="connecting-from-azure"></a><span data-ttu-id="f4178-139">Připojení z Azure</span><span class="sxs-lookup"><span data-stu-id="f4178-139">Connecting from Azure</span></span>
<span data-ttu-id="f4178-140">tooallow aplikace z Azure tooconnect tooyour serveru Azure SQL, Azure připojení musí být povolena.</span><span class="sxs-lookup"><span data-stu-id="f4178-140">tooallow applications from Azure tooconnect tooyour Azure SQL server, Azure connections must be enabled.</span></span> <span data-ttu-id="f4178-141">Když se aplikace z Azure pokusí tooconnect tooyour databázový server, brány firewall hello ověřuje, zda je povolen Azure připojení.</span><span class="sxs-lookup"><span data-stu-id="f4178-141">When an application from Azure attempts tooconnect tooyour database server, hello firewall verifies that Azure connections are allowed.</span></span> <span data-ttu-id="f4178-142">Brána firewall nastavení s počáteční a koncovou adresu rovnající too0.0.0.0 označuje, že tato připojení jsou povoleny.</span><span class="sxs-lookup"><span data-stu-id="f4178-142">A firewall setting with starting and ending address equal too0.0.0.0 indicates these connections are allowed.</span></span> <span data-ttu-id="f4178-143">Pokud pokus o připojení hello není povolena, nedorazily hello požadavku server Azure SQL Database hello.</span><span class="sxs-lookup"><span data-stu-id="f4178-143">If hello connection attempt is not allowed, hello request does not reach hello Azure SQL Database server.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f4178-144">Tato možnost nakonfiguruje hello brány firewall tooallow všechna připojení z Azure včetně připojení z hello odběry jiných zákazníků.</span><span class="sxs-lookup"><span data-stu-id="f4178-144">This option configures hello firewall tooallow all connections from Azure including connections from hello subscriptions of other customers.</span></span> <span data-ttu-id="f4178-145">Když vyberete tuto možnost, zajistěte, aby vaše přihlášení a oprávnění uživatele omezit tooonly přístup oprávněným uživatelům.</span><span class="sxs-lookup"><span data-stu-id="f4178-145">When selecting this option, make sure your login and user permissions limit access tooonly authorized users.</span></span>
> 

## <a name="creating-and-managing-firewall-rules"></a><span data-ttu-id="f4178-146">Vytváření a správu pravidel brány firewall</span><span class="sxs-lookup"><span data-stu-id="f4178-146">Creating and managing firewall rules</span></span>
<span data-ttu-id="f4178-147">Hello první nastavení brány firewall na úrovni serveru můžete vytvořit pomocí hello [portál Azure](https://portal.azure.com/) nebo programově pomocí [prostředí Azure PowerShell](https://msdn.microsoft.com/library/azure/dn546724.aspx), [rozhraní příkazového řádku Azure](/cli/azure/sql/server/firewall-rule#create), nebo hello [Rozhraní REST API](https://msdn.microsoft.com/library/azure/dn505712.aspx).</span><span class="sxs-lookup"><span data-stu-id="f4178-147">hello first server-level firewall setting can be created using hello [Azure portal](https://portal.azure.com/) or programmatically using [Azure PowerShell](https://msdn.microsoft.com/library/azure/dn546724.aspx), [Azure CLI](/cli/azure/sql/server/firewall-rule#create), or hello [REST API](https://msdn.microsoft.com/library/azure/dn505712.aspx).</span></span> <span data-ttu-id="f4178-148">Další pravidla brány firewall na úrovni serveru můžete vytvářet a spravovat těmito způsoby nebo prostřednictvím jazyka Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="f4178-148">Subsequent server-level firewall rules can be created and managed using these methods, and through Transact-SQL.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="f4178-149">Pravidla brány firewall na úrovni databáze mohou být vytvořeny pouze a spravovat pomocí jazyka Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="f4178-149">Database-level firewall rules can only be created and managed using Transact-SQL.</span></span> 
>

<span data-ttu-id="f4178-150">tooimprove výkonu, brány firewall na úrovni serveru, který pravidla jsou dočasně uloženy v mezipaměti na úrovni databáze hello.</span><span class="sxs-lookup"><span data-stu-id="f4178-150">tooimprove performance, server-level firewall rules are temporarily cached at hello database level.</span></span> <span data-ttu-id="f4178-151">mezipaměť hello toorefresh, najdete v části [DBCC FLUSHAUTHCACHE](https://msdn.microsoft.com/library/mt627793.aspx).</span><span class="sxs-lookup"><span data-stu-id="f4178-151">toorefresh hello cache, see [DBCC FLUSHAUTHCACHE](https://msdn.microsoft.com/library/mt627793.aspx).</span></span> 

> [!TIP]
> <span data-ttu-id="f4178-152">Můžete použít [auditování databáze SQL](sql-database-auditing.md) změny tooaudit úrovni serveru a na úrovni databáze brány firewall.</span><span class="sxs-lookup"><span data-stu-id="f4178-152">You can use [SQL Database Auditing](sql-database-auditing.md) tooaudit server-level and database-level firewall changes.</span></span>
>

### <a name="azure-portal"></a><span data-ttu-id="f4178-153">portál Azure</span><span class="sxs-lookup"><span data-stu-id="f4178-153">Azure portal</span></span>

<span data-ttu-id="f4178-154">tooset pravidla brány firewall na úrovni serveru v hello portálu Azure, můžete buď přejít toohello Přehled stránky pro stránku Azure SQL database nebo hello přehled logického serveru Azure databáze.</span><span class="sxs-lookup"><span data-stu-id="f4178-154">tooset a server-level firewall rule in hello Azure portal, you can either go toohello Overview page for your Azure SQL database or hello Overview page for your Azure Database logical server.</span></span>

> [!TIP]
> <span data-ttu-id="f4178-155">Podívejte se kurz [vytvořit databáze pomocí portálu Azure hello](sql-database-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="f4178-155">For a tutorial, see [Create a DB using hello Azure portal](sql-database-get-started-portal.md).</span></span>
>

<span data-ttu-id="f4178-156">**Na stránce Přehled databáze**</span><span class="sxs-lookup"><span data-stu-id="f4178-156">**From database overview page**</span></span>

1. <span data-ttu-id="f4178-157">Klikněte na tlačítko tooset pravidlo brány firewall na úrovni serveru na stránce Přehled hello databáze, **nastavení brány firewall serveru** na hello nástrojů, jak ukazuje následující obrázek hello: hello **nastavení brány Firewall** stránku hello SQL Otevře se databázový server.</span><span class="sxs-lookup"><span data-stu-id="f4178-157">tooset a server-level firewall rule from hello database overview page, click **Set server firewall** on hello toolbar as shown in hello following image: hello **Firewall settings** page for hello SQL Database server opens.</span></span>

      ![pravidlo brány firewall serveru](./media/sql-database-get-started-portal/server-firewall-rule.png) 

2. <span data-ttu-id="f4178-159">Klikněte na tlačítko **přidat IP adresu klienta** na hello nástrojů tooadd hello IP adresu počítače hello aktuálně používáte a potom klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="f4178-159">Click **Add client IP** on hello toolbar tooadd hello IP address of hello computer you are currently using and then click **Save**.</span></span> <span data-ttu-id="f4178-160">Vytvoří se pravidlo brány firewall na úrovni serveru pro vaši aktuální IP adresu.</span><span class="sxs-lookup"><span data-stu-id="f4178-160">A server-level firewall rule is created for your current IP address.</span></span>

      ![nastavení pravidla brány firewall serveru](./media/sql-database-get-started-portal/server-firewall-rule-set.png) 

<span data-ttu-id="f4178-162">**Na stránce Přehled serveru**</span><span class="sxs-lookup"><span data-stu-id="f4178-162">**From server overview page**</span></span>

<span data-ttu-id="f4178-163">Hello stránku přehled pro váš server otevře zobrazující text hello plně kvalifikovaný název serveru (například **mynewserver20170403.database.windows.net**) a poskytuje možnosti pro další konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="f4178-163">hello overview page for your server opens, showing you hello fully qualified server name (such as **mynewserver20170403.database.windows.net**) and provides options for further configuration.</span></span>

1. <span data-ttu-id="f4178-164">tooset pravidlo úroveň serveru na stránce Přehled serveru, klikněte na tlačítko **brány Firewall** v levé nabídce hello v části nastavení, jak je zřejmé hello následující bitové kopie:</span><span class="sxs-lookup"><span data-stu-id="f4178-164">tooset a server-level rule from server overview page, click **Firewall** in hello left-hand menu under Settings as showed in hello following image:</span></span> 

     ![Přehled logický server](./media/sql-database-migrate-your-sql-server-database/logical-server-overview.png)

2. <span data-ttu-id="f4178-166">Klikněte na tlačítko **přidat IP adresu klienta** na hello nástrojů tooadd hello IP adresu počítače hello aktuálně používáte a potom klikněte na **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="f4178-166">Click **Add client IP** on hello toolbar tooadd hello IP address of hello computer you are currently using and then click **Save**.</span></span> <span data-ttu-id="f4178-167">Vytvoří se pravidlo brány firewall na úrovni serveru pro vaši aktuální IP adresu.</span><span class="sxs-lookup"><span data-stu-id="f4178-167">A server-level firewall rule is created for your current IP address.</span></span>

     ![nastavení pravidla brány firewall serveru](./media/sql-database-migrate-your-sql-server-database/server-firewall-rule-set.png)

### <a name="transact-sql"></a><span data-ttu-id="f4178-169">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="f4178-169">Transact-SQL</span></span>
| <span data-ttu-id="f4178-170">Zobrazení katalogu nebo uložená procedura</span><span class="sxs-lookup"><span data-stu-id="f4178-170">Catalog View or Stored Procedure</span></span> | <span data-ttu-id="f4178-171">Úroveň</span><span class="sxs-lookup"><span data-stu-id="f4178-171">Level</span></span> | <span data-ttu-id="f4178-172">Popis</span><span class="sxs-lookup"><span data-stu-id="f4178-172">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="f4178-173">sys.firewall_rules</span><span class="sxs-lookup"><span data-stu-id="f4178-173">sys.firewall_rules</span></span>](https://msdn.microsoft.com/library/dn269980.aspx) |<span data-ttu-id="f4178-174">Server</span><span class="sxs-lookup"><span data-stu-id="f4178-174">Server</span></span> |<span data-ttu-id="f4178-175">Zobrazí aktuální pravidla brány firewall na úrovni serveru hello</span><span class="sxs-lookup"><span data-stu-id="f4178-175">Displays hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="f4178-176">sp_set_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="f4178-176">sp_set_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270017.aspx) |<span data-ttu-id="f4178-177">Server</span><span class="sxs-lookup"><span data-stu-id="f4178-177">Server</span></span> |<span data-ttu-id="f4178-178">Vytvoří nebo aktualizuje pravidla brány firewall na úrovni serveru.</span><span class="sxs-lookup"><span data-stu-id="f4178-178">Creates or updates server-level firewall rules</span></span> |
| [<span data-ttu-id="f4178-179">sp_delete_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="f4178-179">sp_delete_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270024.aspx) |<span data-ttu-id="f4178-180">Server</span><span class="sxs-lookup"><span data-stu-id="f4178-180">Server</span></span> |<span data-ttu-id="f4178-181">Odebere pravidla brány firewall na úrovni serveru.</span><span class="sxs-lookup"><span data-stu-id="f4178-181">Removes server-level firewall rules</span></span> |
| [<span data-ttu-id="f4178-182">sys.database_firewall_rules</span><span class="sxs-lookup"><span data-stu-id="f4178-182">sys.database_firewall_rules</span></span>](https://msdn.microsoft.com/library/dn269982.aspx) |<span data-ttu-id="f4178-183">Databáze</span><span class="sxs-lookup"><span data-stu-id="f4178-183">Database</span></span> |<span data-ttu-id="f4178-184">Zobrazí aktuální pravidla brány firewall na úrovni databáze hello</span><span class="sxs-lookup"><span data-stu-id="f4178-184">Displays hello current database-level firewall rules</span></span> |
| [<span data-ttu-id="f4178-185">sp_set_database_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="f4178-185">sp_set_database_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270010.aspx) |<span data-ttu-id="f4178-186">Databáze</span><span class="sxs-lookup"><span data-stu-id="f4178-186">Database</span></span> |<span data-ttu-id="f4178-187">Vytvoří nebo aktualizuje pravidla brány firewall na úrovni databáze hello</span><span class="sxs-lookup"><span data-stu-id="f4178-187">Creates or updates hello database-level firewall rules</span></span> |
| [<span data-ttu-id="f4178-188">sp_delete_database_firewall_rule</span><span class="sxs-lookup"><span data-stu-id="f4178-188">sp_delete_database_firewall_rule</span></span>](https://msdn.microsoft.com/library/dn270030.aspx) |<span data-ttu-id="f4178-189">Databáze</span><span class="sxs-lookup"><span data-stu-id="f4178-189">Databases</span></span> |<span data-ttu-id="f4178-190">Odebere pravidla brány firewall na úrovni databáze.</span><span class="sxs-lookup"><span data-stu-id="f4178-190">Removes database-level firewall rules</span></span> |


<span data-ttu-id="f4178-191">Hello následující příklady zkontrolujte hello existující pravidla, povolit rozsah IP adres na serveru hello Contoso a odstraní pravidlo brány firewall:</span><span class="sxs-lookup"><span data-stu-id="f4178-191">hello following examples review hello existing rules, enable a range of IP addresses on hello server Contoso, and deletes a firewall rule:</span></span>
   
```sql
SELECT * FROM sys.firewall_rules ORDER BY name;
```
  
<span data-ttu-id="f4178-192">Potom přidejte pravidlo brány firewall.</span><span class="sxs-lookup"><span data-stu-id="f4178-192">Next, add a firewall rule.</span></span>
   
```sql
EXECUTE sp_set_firewall_rule @name = N'ContosoFirewallRule',
   @start_ip_address = '192.168.1.1', @end_ip_address = '192.168.1.10'
```

<span data-ttu-id="f4178-193">toodelete pravidlo brány firewall na úrovni serveru, provedení hello sp_delete_firewall_rule uložené procedury.</span><span class="sxs-lookup"><span data-stu-id="f4178-193">toodelete a server-level firewall rule, execute hello sp_delete_firewall_rule stored procedure.</span></span> <span data-ttu-id="f4178-194">Hello následující příklad odstraní hello pravidlo s názvem ContosoFirewallRule:</span><span class="sxs-lookup"><span data-stu-id="f4178-194">hello following example deletes hello rule named ContosoFirewallRule:</span></span>
   
```sql
EXECUTE sp_delete_firewall_rule @name = N'ContosoFirewallRule'
```   

### <a name="azure-powershell"></a><span data-ttu-id="f4178-195">Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="f4178-195">Azure PowerShell</span></span>
| <span data-ttu-id="f4178-196">Rutina</span><span class="sxs-lookup"><span data-stu-id="f4178-196">Cmdlet</span></span> | <span data-ttu-id="f4178-197">Úroveň</span><span class="sxs-lookup"><span data-stu-id="f4178-197">Level</span></span> | <span data-ttu-id="f4178-198">Popis</span><span class="sxs-lookup"><span data-stu-id="f4178-198">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="f4178-199">Get-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="f4178-199">Get-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546731.aspx) |<span data-ttu-id="f4178-200">Server</span><span class="sxs-lookup"><span data-stu-id="f4178-200">Server</span></span> |<span data-ttu-id="f4178-201">Vrátí aktuální pravidla brány firewall na úrovni serveru hello</span><span class="sxs-lookup"><span data-stu-id="f4178-201">Returns hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="f4178-202">New-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="f4178-202">New-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546724.aspx) |<span data-ttu-id="f4178-203">Server</span><span class="sxs-lookup"><span data-stu-id="f4178-203">Server</span></span> |<span data-ttu-id="f4178-204">Vytvoří nové pravidlo brány firewall na úrovni serveru</span><span class="sxs-lookup"><span data-stu-id="f4178-204">Creates a new server-level firewall rule</span></span> |
| [<span data-ttu-id="f4178-205">Set-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="f4178-205">Set-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546739.aspx) |<span data-ttu-id="f4178-206">Server</span><span class="sxs-lookup"><span data-stu-id="f4178-206">Server</span></span> |<span data-ttu-id="f4178-207">Aktualizace vlastnosti hello existující pravidlo brány firewall na úrovni serveru</span><span class="sxs-lookup"><span data-stu-id="f4178-207">Updates hello properties of an existing server-level firewall rule</span></span> |
| [<span data-ttu-id="f4178-208">Remove-AzureSqlDatabaseServerFirewallRule</span><span class="sxs-lookup"><span data-stu-id="f4178-208">Remove-AzureSqlDatabaseServerFirewallRule</span></span>](https://msdn.microsoft.com/library/azure/dn546727.aspx) |<span data-ttu-id="f4178-209">Server</span><span class="sxs-lookup"><span data-stu-id="f4178-209">Server</span></span> |<span data-ttu-id="f4178-210">Odebere pravidla brány firewall na úrovni serveru.</span><span class="sxs-lookup"><span data-stu-id="f4178-210">Removes server-level firewall rules</span></span> |


<span data-ttu-id="f4178-211">Následující ukázka Hello Nastaví pravidlo brány firewall na úrovni serveru pomocí prostředí PowerShell:</span><span class="sxs-lookup"><span data-stu-id="f4178-211">hello following example sets a server-level firewall rule using PowerShell:</span></span>

```powershell
New-AzureRmSqlServerFirewallRule -ResourceGroupName "myResourceGroup" `
    -ServerName $servername `
    -FirewallRuleName "AllowSome" -StartIpAddress "0.0.0.0" -EndIpAddress "0.0.0.0"
```

> [!TIP]
> <span data-ttu-id="f4178-212">Prostředí PowerShell příklady v kontextu hello rychle začít, najdete v části [vytvořit DB - PowerShell](sql-database-get-started-powershell.md) a [vytvářet izolované databáze a nakonfigurujte pravidlo brány firewall pomocí prostředí PowerShell](scripts/sql-database-create-and-configure-database-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="f4178-212">For PowerShell examples in hello context of a quick start, see [Create DB - PowerShell](sql-database-get-started-powershell.md) and [Create a single database and configure a firewall rule using PowerShell](scripts/sql-database-create-and-configure-database-powershell.md)</span></span>
>

### <a name="azure-cli"></a><span data-ttu-id="f4178-213">Azure CLI</span><span class="sxs-lookup"><span data-stu-id="f4178-213">Azure CLI</span></span>
| <span data-ttu-id="f4178-214">Rutina</span><span class="sxs-lookup"><span data-stu-id="f4178-214">Cmdlet</span></span> | <span data-ttu-id="f4178-215">Úroveň</span><span class="sxs-lookup"><span data-stu-id="f4178-215">Level</span></span> | <span data-ttu-id="f4178-216">Popis</span><span class="sxs-lookup"><span data-stu-id="f4178-216">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="f4178-217">Vytvoření brány firewall az sql serveru</span><span class="sxs-lookup"><span data-stu-id="f4178-217">az sql server firewall create</span></span>](/cli/azure/sql/server/firewall-rule#create) | <span data-ttu-id="f4178-218">Vytvoří brány firewall pravidla tooallow přístup tooall databází SQL na serveru hello z hello zadaný rozsah IP adres.</span><span class="sxs-lookup"><span data-stu-id="f4178-218">Creates a firewall rule tooallow access tooall SQL Databases on hello server from hello entered IP address range.</span></span>|
| [<span data-ttu-id="f4178-219">odstranění brány firewall serveru sql az</span><span class="sxs-lookup"><span data-stu-id="f4178-219">az sql server firewall delete</span></span>](/cli/azure/sql/server/firewall-rule#delete)| <span data-ttu-id="f4178-220">Odstraní pravidlo brány firewall.</span><span class="sxs-lookup"><span data-stu-id="f4178-220">Deletes a firewall rule.</span></span>|
| [<span data-ttu-id="f4178-221">seznam az sql serverů brány firewall</span><span class="sxs-lookup"><span data-stu-id="f4178-221">az sql server firewall list</span></span>](/cli/azure/sql/server/firewall-rule#list)| <span data-ttu-id="f4178-222">Obsahuje seznam pravidel brány firewall hello.</span><span class="sxs-lookup"><span data-stu-id="f4178-222">Lists hello firewall rules.</span></span>|
| [<span data-ttu-id="f4178-223">pravidlo brány firewall serveru sql az zobrazit</span><span class="sxs-lookup"><span data-stu-id="f4178-223">az sql server firewall rule show</span></span>](/cli/azure/sql/server/firewall-rule#show)| <span data-ttu-id="f4178-224">Zobrazí podrobnosti o hello pravidla brány firewall.</span><span class="sxs-lookup"><span data-stu-id="f4178-224">Shows hello details of a firewall rule.</span></span>|
| [<span data-ttu-id="f4178-225">AX aktualizace pravidla brány firewall serveru sql</span><span class="sxs-lookup"><span data-stu-id="f4178-225">ax sql server firewall rule update</span></span>](/cli/azure/sql/server/firewall-rule#update)| <span data-ttu-id="f4178-226">Aktualizuje pravidlo brány firewall.</span><span class="sxs-lookup"><span data-stu-id="f4178-226">Updates a firewall rule.</span></span>

<span data-ttu-id="f4178-227">Následující ukázka Hello Nastaví pravidlo brány firewall na úrovni serveru pomocí rozhraní příkazového řádku Azure hello:</span><span class="sxs-lookup"><span data-stu-id="f4178-227">hello following example sets a server-level firewall rule using hello Azure CLI:</span></span> 

```azurecli-interactive
az sql server firewall-rule create --resource-group myResourceGroup --server $servername \
    -n AllowYourIp --start-ip-address 0.0.0.0 --end-ip-address 0.0.0.0
```

> [!TIP]
> <span data-ttu-id="f4178-228">Příklad rozhraní příkazového řádku Azure v kontextu hello rychle začít, najdete v části [vytvořit odpis - rozhraní příkazového řádku Azure](sql-database-get-started-cli.md) a [vytvářet izolované databáze a nakonfigurujte pravidlo brány firewall pomocí hello rozhraní příkazového řádku Azure](scripts/sql-database-create-and-configure-database-cli.md)</span><span class="sxs-lookup"><span data-stu-id="f4178-228">For an Azure CLI example in hello context of a quick start, see [Create DDB - Azure CLI](sql-database-get-started-cli.md) and [Create a single database and configure a firewall rule using hello Azure CLI](scripts/sql-database-create-and-configure-database-cli.md)</span></span>
>

### <a name="rest-api"></a><span data-ttu-id="f4178-229">REST API</span><span class="sxs-lookup"><span data-stu-id="f4178-229">REST API</span></span>
| <span data-ttu-id="f4178-230">Rozhraní API</span><span class="sxs-lookup"><span data-stu-id="f4178-230">API</span></span> | <span data-ttu-id="f4178-231">Úroveň</span><span class="sxs-lookup"><span data-stu-id="f4178-231">Level</span></span> | <span data-ttu-id="f4178-232">Popis</span><span class="sxs-lookup"><span data-stu-id="f4178-232">Description</span></span> |
| --- | --- | --- |
| [<span data-ttu-id="f4178-233">Výpis pravidel brány firewall</span><span class="sxs-lookup"><span data-stu-id="f4178-233">List Firewall Rules</span></span>](https://msdn.microsoft.com/library/azure/dn505715.aspx) |<span data-ttu-id="f4178-234">Server</span><span class="sxs-lookup"><span data-stu-id="f4178-234">Server</span></span> |<span data-ttu-id="f4178-235">Zobrazí aktuální pravidla brány firewall na úrovni serveru hello</span><span class="sxs-lookup"><span data-stu-id="f4178-235">Displays hello current server-level firewall rules</span></span> |
| [<span data-ttu-id="f4178-236">Vytvoření pravidla brány firewall</span><span class="sxs-lookup"><span data-stu-id="f4178-236">Create Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505712.aspx) |<span data-ttu-id="f4178-237">Server</span><span class="sxs-lookup"><span data-stu-id="f4178-237">Server</span></span> |<span data-ttu-id="f4178-238">Vytvoří nebo aktualizuje pravidla brány firewall na úrovni serveru.</span><span class="sxs-lookup"><span data-stu-id="f4178-238">Creates or updates server-level firewall rules</span></span> |
| [<span data-ttu-id="f4178-239">Nastavení pravidla brány firewall</span><span class="sxs-lookup"><span data-stu-id="f4178-239">Set Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505707.aspx) |<span data-ttu-id="f4178-240">Server</span><span class="sxs-lookup"><span data-stu-id="f4178-240">Server</span></span> |<span data-ttu-id="f4178-241">Aktualizace vlastnosti hello existující pravidlo brány firewall na úrovni serveru</span><span class="sxs-lookup"><span data-stu-id="f4178-241">Updates hello properties of an existing server-level firewall rule</span></span> |
| [<span data-ttu-id="f4178-242">Odstranění pravidla brány firewall</span><span class="sxs-lookup"><span data-stu-id="f4178-242">Delete Firewall Rule</span></span>](https://msdn.microsoft.com/library/azure/dn505706.aspx) |<span data-ttu-id="f4178-243">Server</span><span class="sxs-lookup"><span data-stu-id="f4178-243">Server</span></span> |<span data-ttu-id="f4178-244">Odebere pravidla brány firewall na úrovni serveru.</span><span class="sxs-lookup"><span data-stu-id="f4178-244">Removes server-level firewall rules</span></span> |

## <a name="server-level-firewall-rule-versus-a-database-level-firewall-rule"></a><span data-ttu-id="f4178-245">Pravidlo brány firewall na úrovni serveru a pravidla brány firewall na úrovni databáze</span><span class="sxs-lookup"><span data-stu-id="f4178-245">Server-level firewall rule versus a database-level firewall rule</span></span>
<span data-ttu-id="f4178-246">OTÁZKY.</span><span class="sxs-lookup"><span data-stu-id="f4178-246">Q.</span></span> <span data-ttu-id="f4178-247">Musí být uživatelé jednu databázi plně izolovaném z jiné databáze?</span><span class="sxs-lookup"><span data-stu-id="f4178-247">Should users of one database be fully isolated from another database?</span></span>   
  <span data-ttu-id="f4178-248">Pokud ano, udělte přístup pomocí pravidel brány firewall na úrovni databáze.</span><span class="sxs-lookup"><span data-stu-id="f4178-248">If yes, grant access using database-level firewall rules.</span></span> <span data-ttu-id="f4178-249">Tím je zabráněno pomocí pravidla brány firewall na úrovni serveru, která umožňují přístup přes bránu firewall hello tooall databáze, snižuje hello hloubku svoji ochranu.</span><span class="sxs-lookup"><span data-stu-id="f4178-249">This avoids using server-level firewall rules, which permit access through hello firewall tooall databases, reducing hello depth of your defenses.</span></span>   
 
<span data-ttu-id="f4178-250">OTÁZKY.</span><span class="sxs-lookup"><span data-stu-id="f4178-250">Q.</span></span> <span data-ttu-id="f4178-251">Uživatelů na adrese IP hello potřebujete přístup tooall databáze?</span><span class="sxs-lookup"><span data-stu-id="f4178-251">Do users at hello IP address’s need access tooall databases?</span></span>   
  <span data-ttu-id="f4178-252">Pomocí brány firewall na úrovni serveru pravidla tooreduce hello počet, kolikrát je nutné nakonfigurovat pravidla brány firewall.</span><span class="sxs-lookup"><span data-stu-id="f4178-252">Use server-level firewall rules tooreduce hello number of times you must configure firewall rules.</span></span>   

<span data-ttu-id="f4178-253">OTÁZKY.</span><span class="sxs-lookup"><span data-stu-id="f4178-253">Q.</span></span> <span data-ttu-id="f4178-254">Hello osobě nebo týmu konfigurace pravidel brány firewall hello pouze má přístup prostřednictvím hello portál Azure, prostředí PowerShell nebo rozhraní REST API hello?</span><span class="sxs-lookup"><span data-stu-id="f4178-254">Does hello person or team configuring hello firewall rules only have access through hello Azure portal, PowerShell, or hello REST API?</span></span>   
  <span data-ttu-id="f4178-255">Je nutné použít pravidla brány firewall na úrovni serveru.</span><span class="sxs-lookup"><span data-stu-id="f4178-255">You must use server-level firewall rules.</span></span> <span data-ttu-id="f4178-256">Pravidla brány firewall na úrovni databáze se dá nakonfigurovat jenom pomocí jazyka Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="f4178-256">Database-level firewall rules can only be configured using Transact-SQL.</span></span>  

<span data-ttu-id="f4178-257">OTÁZKY.</span><span class="sxs-lookup"><span data-stu-id="f4178-257">Q.</span></span> <span data-ttu-id="f4178-258">Je hello osobě nebo týmu konfigurace pravidel brány firewall hello zakázáno s vysoké úrovně oprávnění na úrovni databáze hello?</span><span class="sxs-lookup"><span data-stu-id="f4178-258">Is hello person or team configuring hello firewall rules prohibited from having high-level permission at hello database level?</span></span>   
  <span data-ttu-id="f4178-259">Pomocí pravidel brány firewall na úrovni serveru.</span><span class="sxs-lookup"><span data-stu-id="f4178-259">Use server-level firewall rules.</span></span> <span data-ttu-id="f4178-260">Konfigurace pravidel brány firewall na úrovni databáze pomocí jazyka Transact-SQL, vyžaduje alespoň `CONTROL DATABASE` oprávnění na úrovni databáze hello.</span><span class="sxs-lookup"><span data-stu-id="f4178-260">Configuring database-level firewall rules using Transact-SQL, requires at least `CONTROL DATABASE` permission at hello database level.</span></span>  

<span data-ttu-id="f4178-261">OTÁZKY.</span><span class="sxs-lookup"><span data-stu-id="f4178-261">Q.</span></span> <span data-ttu-id="f4178-262">Je hello osobě nebo týmu konfigurace nebo auditování hello pravidla brány firewall, centrálně spravovat pravidla brány firewall pro mnoho (možná 100s) z databáze?</span><span class="sxs-lookup"><span data-stu-id="f4178-262">Is hello person or team configuring or auditing hello firewall rules, centrally managing firewall rules for many (perhaps 100s) of databases?</span></span>   
  <span data-ttu-id="f4178-263">Tento výběr závisí na konkrétních potřeb a prostředí.</span><span class="sxs-lookup"><span data-stu-id="f4178-263">This selection depends upon your needs and environment.</span></span> <span data-ttu-id="f4178-264">Pravidla brány firewall na úrovni serveru může být snazší tooconfigure, ale skriptování můžete nakonfigurovat pravidla, na úrovni databáze hello.</span><span class="sxs-lookup"><span data-stu-id="f4178-264">Server-level firewall rules might be easier tooconfigure, but scripting can configure rules at hello database-level.</span></span> <span data-ttu-id="f4178-265">I když používáte pravidla brány firewall na úrovni serveru, pokud může být nutné pravidel firewallu databáze hello, tooaudit, toosee uživatelé s `CONTROL` oprávnění v databázi hello vytvořili pravidla brány firewall na úrovni databáze.</span><span class="sxs-lookup"><span data-stu-id="f4178-265">And even if you use server-level firewall rules, you might need tooaudit hello database-firewall rules, toosee if users with `CONTROL` permission on hello database have created database-level firewall rules.</span></span>   

<span data-ttu-id="f4178-266">OTÁZKY.</span><span class="sxs-lookup"><span data-stu-id="f4178-266">Q.</span></span> <span data-ttu-id="f4178-267">Můžete použít kombinaci obou pravidla brány firewall úrovni serveru a na úrovni databáze?</span><span class="sxs-lookup"><span data-stu-id="f4178-267">Can I use a mix of both server-level and database-level firewall rules?</span></span>   
  <span data-ttu-id="f4178-268">Ano.</span><span class="sxs-lookup"><span data-stu-id="f4178-268">Yes.</span></span> <span data-ttu-id="f4178-269">Někteří uživatelé, třeba správci, může být nutné pravidla brány firewall na úrovni serveru.</span><span class="sxs-lookup"><span data-stu-id="f4178-269">Some users, such as administrators might need server-level firewall rules.</span></span> <span data-ttu-id="f4178-270">Jiných uživatelů, jako jsou uživatelé databázovou aplikaci, může být nutné pravidla brány firewall na úrovni databáze.</span><span class="sxs-lookup"><span data-stu-id="f4178-270">Other users, such as users of a database application, might need database-level firewall rules.</span></span>   

## <a name="troubleshooting-hello-database-firewall"></a><span data-ttu-id="f4178-271">Řešení potíží s hello databáze brány firewall</span><span class="sxs-lookup"><span data-stu-id="f4178-271">Troubleshooting hello database firewall</span></span>
<span data-ttu-id="f4178-272">Mějte na paměti následující body při přístupu k toohello služby Microsoft Azure SQL Database tak, jak očekáváte, že hello:</span><span class="sxs-lookup"><span data-stu-id="f4178-272">Consider hello following points when access toohello Microsoft Azure SQL Database service does not behave as you expect:</span></span>

* <span data-ttu-id="f4178-273">**Konfigurace místní brány firewall:** počítače mohli dostat k Azure SQL Database, musíte toocreate výjimku brány firewall v počítači pro TCP port 1433.</span><span class="sxs-lookup"><span data-stu-id="f4178-273">**Local firewall configuration:** Before your computer can access Azure SQL Database, you may need toocreate a firewall exception on your computer for TCP port 1433.</span></span> <span data-ttu-id="f4178-274">Pokud provádíte připojení uvnitř hranic hello cloudu Azure, můžete mít tooopen další porty.</span><span class="sxs-lookup"><span data-stu-id="f4178-274">If you are making connections inside hello Azure cloud boundary, you may have tooopen additional ports.</span></span> <span data-ttu-id="f4178-275">Další informace najdete v tématu hello **SQL Database: mimo vs uvnitř** části [porty nad rámec 1433 pro technologii ADO.NET 4.5 a SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md).</span><span class="sxs-lookup"><span data-stu-id="f4178-275">For more information, see hello **SQL Database: Outside vs inside** section of [Ports beyond 1433 for ADO.NET 4.5 and SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md).</span></span>
* <span data-ttu-id="f4178-276">**Překlad síťových adres (NAT):** splatnosti tooNAT, hello IP adresu používanou službou tooAzure tooconnect vašeho počítače SQL Database může být jiný než hello IP adresy uvedené v nastavení konfigurace IP počítače.</span><span class="sxs-lookup"><span data-stu-id="f4178-276">**Network address translation (NAT):** Due tooNAT, hello IP address used by your computer tooconnect tooAzure SQL Database may be different than hello IP address shown in your computer IP configuration settings.</span></span> <span data-ttu-id="f4178-277">tooview hello IP adres je počítač pomocí tooconnect tooAzure, přihlaste se toohello portál a přejděte toohello **konfigurace** karta na hello serveru, který je hostitelem databáze.</span><span class="sxs-lookup"><span data-stu-id="f4178-277">tooview hello IP address your computer is using tooconnect tooAzure, log in toohello portal and navigate toohello **Configure** tab on hello server that hosts your database.</span></span> <span data-ttu-id="f4178-278">V části hello **povolené IP adresy** části hello **aktuální IP adresa klienta** se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="f4178-278">Under hello **Allowed IP Addresses** section, hello **Current Client IP Address** is displayed.</span></span> <span data-ttu-id="f4178-279">Klikněte na tlačítko **přidat** toohello **povolené IP adresy** tooallow tento server hello tooaccess počítače.</span><span class="sxs-lookup"><span data-stu-id="f4178-279">Click **Add** toohello **Allowed IP Addresses** tooallow this computer tooaccess hello server.</span></span>
* <span data-ttu-id="f4178-280">**Seznam povolených změny toohello ještě nevstoupilo v platnost:** může být co nejvíce pět minut zpoždění pro změny toohello Azure SQL Database brány firewall konfigurace tootake vliv.</span><span class="sxs-lookup"><span data-stu-id="f4178-280">**Changes toohello allow list have not taken effect yet:** There may be as much as a five-minute delay for changes toohello Azure SQL Database firewall configuration tootake effect.</span></span>
* <span data-ttu-id="f4178-281">**Hello přihlášení nemá oprávnění nebo nesprávné heslo byl použit:** Pokud přihlášení nemá oprávnění na serveru Azure SQL Database hello nebo je chybné heslo hello používá, hello připojení toohello Azure SQL Database serveru byl odepřen.</span><span class="sxs-lookup"><span data-stu-id="f4178-281">**hello login is not authorized or an incorrect password was used:** If a login does not have permissions on hello Azure SQL Database server or hello password used is incorrect, hello connection toohello Azure SQL Database server is denied.</span></span> <span data-ttu-id="f4178-282">Vytvoření nastavení brány firewall pouze poskytuje klientům tooattempt možnost připojení serveru tooyour; Každý klient musí poskytnout hello potřebná zabezpečovací pověření.</span><span class="sxs-lookup"><span data-stu-id="f4178-282">Creating a firewall setting only provides clients with an opportunity tooattempt connecting tooyour server; each client must provide hello necessary security credentials.</span></span> <span data-ttu-id="f4178-283">Další informace o přípravě přihlášení najdete v tématu Správa databází, přihlášení a uživatelů ve službě Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="f4178-283">For more information about preparing logins, see Managing Databases, Logins, and Users in Azure SQL Database.</span></span>
* <span data-ttu-id="f4178-284">**Dynamickou IP adresu:** Pokud máte připojení k Internetu pomocí dynamické IP adresy a máte potíže získávání přes bránu firewall hello, mohou zkuste jednu z následujících řešení hello:</span><span class="sxs-lookup"><span data-stu-id="f4178-284">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through hello firewall, you could try one of hello following solutions:</span></span>
  
  * <span data-ttu-id="f4178-285">Zeptejte se, že poskytovatele služeb Internetu (ISP) pro rozsah IP adres hello přiřadili tooyour klientské počítače tohoto serveru Azure SQL Database hello přístup a poté přidejte hello rozsah IP adres jako pravidlo brány firewall.</span><span class="sxs-lookup"><span data-stu-id="f4178-285">Ask your Internet Service Provider (ISP) for hello IP address range assigned tooyour client computers that access hello Azure SQL Database server, and then add hello IP address range as a firewall rule.</span></span>
  * <span data-ttu-id="f4178-286">Získat statické IP adresy místo pro klientské počítače a poté přidejte hello IP adresy jako pravidla brány firewall.</span><span class="sxs-lookup"><span data-stu-id="f4178-286">Get static IP addressing instead for your client computers, and then add hello IP addresses as firewall rules.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f4178-287">Další kroky</span><span class="sxs-lookup"><span data-stu-id="f4178-287">Next steps</span></span>

- <span data-ttu-id="f4178-288">Rychlý start na vytváření databáze a pravidlo brány firewall na úrovni serveru, najdete v části [vytvoření Azure SQL database](sql-database-get-started-portal.md).</span><span class="sxs-lookup"><span data-stu-id="f4178-288">For a quick start on creating a database and a server-level firewall rule, see [Create an Azure SQL database](sql-database-get-started-portal.md).</span></span>
- <span data-ttu-id="f4178-289">Nápovědu v databázi Azure SQL připojování tooan z s otevřeným zdrojem nebo aplikacích třetích stran najdete v tématu [úvodní kód klienta ukázky tooSQL databáze](https://msdn.microsoft.com/library/azure/ee336282.aspx).</span><span class="sxs-lookup"><span data-stu-id="f4178-289">For help in connecting tooan Azure SQL database from open source or third-party applications, see [Client quick-start code samples tooSQL Database](https://msdn.microsoft.com/library/azure/ee336282.aspx).</span></span>
- <span data-ttu-id="f4178-290">Informace o další porty, když musíte tooopen, najdete v části hello **SQL Database: mimo vs uvnitř** části [porty nad rámec 1433 pro technologii ADO.NET 4.5 a databáze SQL](sql-database-develop-direct-route-ports-adonet-v12.md)</span><span class="sxs-lookup"><span data-stu-id="f4178-290">For information on additional ports that you may need tooopen, see hello **SQL Database: Outside vs inside** section of [Ports beyond 1433 for ADO.NET 4.5 and SQL Database](sql-database-develop-direct-route-ports-adonet-v12.md)</span></span>
- <span data-ttu-id="f4178-291">Přehled zabezpečení Azure SQL Database, najdete v části [zabezpečení databáze](sql-database-security-overview.md)</span><span class="sxs-lookup"><span data-stu-id="f4178-291">For an overview of Azure SQL Database security, see [Securing your database](sql-database-security-overview.md)</span></span>

<!--Image references-->
[1]: ./media/sql-database-firewall-configure/sqldb-firewall-1.png
