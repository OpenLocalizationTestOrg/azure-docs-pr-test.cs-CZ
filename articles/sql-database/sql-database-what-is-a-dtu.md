---
title: 'SQL Database: Co je DTU? | Dokumentace Microsoftu'
description: "Vysvětlení jednotky transakce Azure SQL Database."
keywords: "možnosti databáze, výkon databáze"
services: sql-database
documentationcenter: 
author: CarlRabeler
manager: jhubbard
editor: CarlRabeler
ms.assetid: 89e3e9ce-2eeb-4949-b40f-6fc3bf520538
ms.service: sql-database
ms.custom: DBs & servers
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: NA
ms.date: 04/13/2017
ms.author: carlrab
ms.openlocfilehash: ba1fe580b32826259edaf6c8dc124faaf5b3d234
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="explaining-database-transaction-units-dtus-and-elastic-database-transaction-units-edtus"></a><span data-ttu-id="a1238-105">Vysvětlení jednotek databázové transakce (DTU) a elastických jednotek databázové transakce (eDTU)</span><span class="sxs-lookup"><span data-stu-id="a1238-105">Explaining Database Transaction Units (DTUs) and elastic Database Transaction Units (eDTUs)</span></span>
<span data-ttu-id="a1238-106">Tento článek vysvětluje, že jednotky transakcí databáze (Dtu) a jednotky transakcí elastické databáze (Edtu) a co se stane, když je dosaženo hello maximální počet jednotek Dtu nebo Edtu.</span><span class="sxs-lookup"><span data-stu-id="a1238-106">This article explains Database Transaction Units (DTUs) and elastic Database Transaction Units (eDTUs) and what happens when you hit hello maximum DTUs or eDTUs.</span></span>  

## <a name="what-are-database-transaction-units-dtus"></a><span data-ttu-id="a1238-107">Co jsou jednotky databázové transakce (DTU)</span><span class="sxs-lookup"><span data-stu-id="a1238-107">What are Database Transaction Units (DTUs)</span></span>
<span data-ttu-id="a1238-108">Pro jednu databázi Azure SQL na úrovni výkonu specifických v rámci [vrstvy služby](sql-database-service-tiers.md#single-database-service-tiers-and-performance-levels), Microsoft zaručuje úroveň prostředky pro tuto databázi (nezávisle na jakékoli jiné databáze v cloudu Azure hello) a poskytování předvídatelný úroveň výkonu.</span><span class="sxs-lookup"><span data-stu-id="a1238-108">For a single Azure SQL database at a specific performance level within a [service tier](sql-database-service-tiers.md#single-database-service-tiers-and-performance-levels), Microsoft guarantees a certain level of resources for that database (independent of any other database in hello Azure cloud) and providing a predictable level of performance.</span></span> <span data-ttu-id="a1238-109">Toto množství prostředků počítá se jako počet jednotky transakcí databáze nebo Dtu a je kombinaci měření procesoru, paměti a vstupu a výstupu (dat a transakční protokol vstupně-výstupních operací).</span><span class="sxs-lookup"><span data-stu-id="a1238-109">This amount of resources is calculated as a number of Database Transaction Units or DTUs, and is a blended measure of CPU, memory, I/O (data and transaction log I/O).</span></span> <span data-ttu-id="a1238-110">Hello poměr mezi tyto prostředky se původně určený [OLTP srovnávacího testu zatížení](sql-database-benchmark-overview.md) určené toobe typické reálného OLTP úloh.</span><span class="sxs-lookup"><span data-stu-id="a1238-110">hello ratio amongst these resources was originally determined by an [OLTP benchmark workload](sql-database-benchmark-overview.md) designed toobe typical of real-world OLTP workloads.</span></span> <span data-ttu-id="a1238-111">Pokud vaše úlohy překročí hello množství kterýkoli z těchto prostředků, vaše propustnost je omezenému – což pomalejší výkon a vypršení časových limitů.</span><span class="sxs-lookup"><span data-stu-id="a1238-111">When your workload exceeds hello amount of any of these resources, your throughput is throttled - resulting in slower performance and timeouts.</span></span> <span data-ttu-id="a1238-112">Hello prostředky využívané třídou vaše úlohy nemají vliv hello prostředky k dispozici tooother databází SQL v hello cloudu Azure a prostředků hello používá jiná zatížení nemají vliv hello prostředky k dispozici tooyour SQL database.</span><span class="sxs-lookup"><span data-stu-id="a1238-112">hello resources used by your workload do not impact hello resources available tooother SQL databases in hello Azure cloud, and hello resource used by other workloads do not impact hello resources available tooyour SQL database.</span></span>

![ohraničující pole](./media/sql-database-what-is-a-dtu/bounding-box.png)

<span data-ttu-id="a1238-114">Počet jednotek Dtu jsou zvláště užitečné pro pochopení hello relativní objem prostředků mezi databází SQL Azure na úrovních různých výkonu a úrovně služeb.</span><span class="sxs-lookup"><span data-stu-id="a1238-114">DTUs are most useful for understanding hello relative amount of resources between Azure SQL Databases at different performance levels and service tiers.</span></span> <span data-ttu-id="a1238-115">Například zvýší hello Dtu zvýšením hello úroveň výkonu databáze znamená zároveň toodoubling hello sadu databáze k dispozici toothat prostředků.</span><span class="sxs-lookup"><span data-stu-id="a1238-115">For example, doubling hello DTUs by increasing hello performance level of a database equates toodoubling hello set of resource available toothat database.</span></span> <span data-ttu-id="a1238-116">Například databáze Premium P11 se 1 750 DTU nabízí 350x více DTU výpočetního výkonu než databáze Basic s 5 DTU.</span><span class="sxs-lookup"><span data-stu-id="a1238-116">For example, a Premium P11 database with 1750 DTUs provides 350x more DTU compute power than a Basic database with 5 DTUs.</span></span>  

<span data-ttu-id="a1238-117">toogain podrobnější přehled o spotřeby prostředků (DTU) hello vašich úloh, použijte [Azure SQL Database Query Performance Insight](sql-database-query-performance.md) na:</span><span class="sxs-lookup"><span data-stu-id="a1238-117">toogain deeper insight into hello resource (DTU) consumption of your workload, use [Azure SQL Database Query Performance Insight](sql-database-query-performance.md) to:</span></span>

- <span data-ttu-id="a1238-118">Identifikujte hello nejčastějších dotazů podle využití procesoru a doba trvání nebo provádění počtu, který lze ladit potenciálně pro zlepšení výkonu.</span><span class="sxs-lookup"><span data-stu-id="a1238-118">Identify hello top queries by CPU/Duration/Execution count that can potentially be tuned for improved performance.</span></span> <span data-ttu-id="a1238-119">Například dotaz intenzivním vstupně-výstupních operací může mít užitek z používání hello [techniky optimalizace v paměti](sql-database-in-memory.md) toomake lepší využití hello dostupné paměti na určité služby a výkonu úrovni.</span><span class="sxs-lookup"><span data-stu-id="a1238-119">For example, an I/O intensive query might benefit from hello use of [in-memory optimization techniques](sql-database-in-memory.md) toomake better use of hello available memory at a certain service tier and performance level.</span></span>
- <span data-ttu-id="a1238-120">Rozbalit hello podrobnosti o dotazu, zobrazit historii využití prostředků a text.</span><span class="sxs-lookup"><span data-stu-id="a1238-120">Drill down into hello details of a query, view its text and history of resource utilization.</span></span>
- <span data-ttu-id="a1238-121">Výkon přístupu k ladění doporučení, které se zobrazí akce prováděné [Poradce pro funkci SQL Database](sql-database-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="a1238-121">Access performance tuning recommendations that show actions performed by [SQL Database Advisor](sql-database-advisor.md).</span></span>

<span data-ttu-id="a1238-122">Můžete [Změna úrovně služeb](sql-database-service-tiers.md) kdykoli s minimálními výpadky tooyour aplikaci (obvykle průměrování než čtyři sekund).</span><span class="sxs-lookup"><span data-stu-id="a1238-122">You can [change service tiers](sql-database-service-tiers.md) at any time with minimal downtime tooyour application (generally averaging under four seconds).</span></span> <span data-ttu-id="a1238-123">Mnoha firmám a aplikace je možné toocreate databází a vytočit výkonu nahoru nebo dolů na vyžádání, stačí, zejména v případě, že jsou vzorce používání relativně předvídatelné.</span><span class="sxs-lookup"><span data-stu-id="a1238-123">For many businesses and apps, being able toocreate databases and dial performance up or down on demand is enough, especially if usage patterns are relatively predictable.</span></span> <span data-ttu-id="a1238-124">Ale pokud máte vzorce nepředvídatelné použití, může být pevný toomanage náklady a obchodní model.</span><span class="sxs-lookup"><span data-stu-id="a1238-124">But if you have unpredictable usage patterns, it can make it hard toomanage costs and your business model.</span></span> <span data-ttu-id="a1238-125">V tomto scénáři použijete fondu elastické databáze s počtem jednotek Edtu, která jsou sdílena mezi několika databáze ve fondu hello.</span><span class="sxs-lookup"><span data-stu-id="a1238-125">For this scenario, you use an elastic pool with a certain number of eDTUs that are shared among multiple database in hello pool.</span></span>

![Úvod tooSQL databáze: jeden Dtu databáze vrstvy a úroveň](./media/sql-database-what-is-a-dtu/single_db_dtus.png)

## <a name="what-are-elastic-database-transaction-units-edtus"></a><span data-ttu-id="a1238-127">Co jsou elastické jednotky databázové transakce (eDTU)</span><span class="sxs-lookup"><span data-stu-id="a1238-127">What are elastic Database Transaction Units (eDTUs)</span></span>
<span data-ttu-id="a1238-128">Spíše než poskytují vyhrazené sadu prostředků (Dtu) tooa SQL Database, která je neustále dostupná bez ohledu na to, jestli není potřeba, můžete umístit do databáze [elastický fond](sql-database-elastic-pool.md) na databázi SQL serveru, který sdílí fondu zdrojů mezi tyto databáze.</span><span class="sxs-lookup"><span data-stu-id="a1238-128">Rather than provide a dedicated set of resources (DTUs) tooa SQL Database that is always available regardless of whether needed not, you can place databases into an [elastic pool](sql-database-elastic-pool.md) on a SQL Database server that shares a pool of resources among those database.</span></span> <span data-ttu-id="a1238-129">Hello sdílené prostředky v elastickém fondu měří elastické jednotky transakcí databáze nebo Edtu.</span><span class="sxs-lookup"><span data-stu-id="a1238-129">hello shared resources in an elastic pool measured by elastic Database Transaction Units or eDTUs.</span></span> <span data-ttu-id="a1238-130">Elastické fondy poskytují jednoduché nákladově efektivní řešení toomanage hello výkonnostní cíle pro více databází, které mají široce různých a nepředvídatelným vzorce.</span><span class="sxs-lookup"><span data-stu-id="a1238-130">Elastic pools provide a simple cost effective solution toomanage hello performance goals for multiple databases that have widely varying and unpredictable usage patterns.</span></span> <span data-ttu-id="a1238-131">V elastickém fondu, může zaručit, že žádná databáze. jeden používá všechny prostředky hello v hello fondu a také že minimální objem prostředků je vždy k dispozici tooa databáze v elastickém fondu.</span><span class="sxs-lookup"><span data-stu-id="a1238-131">In an elastic pool, you can guarantee that no one database uses all of hello resources in hello pool and also that a minimum amount of resources is always available tooa database in an elastic pool.</span></span> <span data-ttu-id="a1238-132">V tématu [elastické fondy](sql-database-elastic-pool.md) Další informace.</span><span class="sxs-lookup"><span data-stu-id="a1238-132">See  [elastic pools](sql-database-elastic-pool.md) for more information.</span></span>

![Úvod tooSQL databáze: Edtu vrstvy a úroveň](./media/sql-database-what-is-a-dtu/sqldb_elastic_pools.png)

<span data-ttu-id="a1238-134">Fond obdrží stanovený počet eDTU za stanovenou cenu.</span><span class="sxs-lookup"><span data-stu-id="a1238-134">A pool is given a set number of eDTUs, for a set price.</span></span> <span data-ttu-id="a1238-135">V rámci hello elastického fondu jsou uvedeny jednotlivé databáze hello flexibilitu tooauto rozsahu v rámci hranice hello nakonfigurované.</span><span class="sxs-lookup"><span data-stu-id="a1238-135">Within hello elastic pool, individual databases are given hello flexibility tooauto-scale within hello configured boundaries.</span></span> <span data-ttu-id="a1238-136">V případě velkého zatížení databáze spotřebovat další vyžádání toomeet Edtu zatímco databáze pod světla zatížením nižší, až bod toohello, že databáze žádné zatížení využívat žádné Edtu.</span><span class="sxs-lookup"><span data-stu-id="a1238-136">Under heavy load, a database can consume more eDTUs toomeet demand while databases under light loads consume less, up toohello point that databases under no load consume no eDTUs.</span></span> <span data-ttu-id="a1238-137">Zřizování prostředků pro celý fond hello, místo na databázi, úlohy správy jsou zjednodušené a mají předvídatelný rozpočtu hello fondu.</span><span class="sxs-lookup"><span data-stu-id="a1238-137">By provisioning resources for hello entire pool, rather than per database, management tasks are simplified and you have a predictable budget for hello pool.</span></span>

<span data-ttu-id="a1238-138">Další jednotek Edtu, které lze přidat existující fond tooan bez výpadků databáze a bez jakéhokoli dopadu na hello databáze ve fondu hello.</span><span class="sxs-lookup"><span data-stu-id="a1238-138">Additional eDTUs can be added tooan existing pool with no database downtime and with no impact on hello databases in hello pool.</span></span> <span data-ttu-id="a1238-139">Podobně platí, že pokud již přidané eDTU nejsou potřebné, lze je z existujícího fondu kdykoli odebrat.</span><span class="sxs-lookup"><span data-stu-id="a1238-139">Similarly, if extra eDTUs are no longer needed, they can be removed from an existing pool at any point in time.</span></span> <span data-ttu-id="a1238-140">Můžete přidat nebo odečíst fondu toohello databáze nebo limit hello množství Edtu databázi můžete použít v případě velkého zatížení tooreserve Edtu pro jiné databáze.</span><span class="sxs-lookup"><span data-stu-id="a1238-140">You can add or subtract databases toohello pool, or limit hello amount of eDTUs a database can use under heavy load tooreserve eDTUs for other databases.</span></span> <span data-ttu-id="a1238-141">Pokud databázi je předvídatelné pod využití prostředků, můžete přesunout mimo hello fondu a nakonfigurovat ho jako jednu databázi s velikostí prostředků vyžaduje předvídatelný.</span><span class="sxs-lookup"><span data-stu-id="a1238-141">If a database is predictably under-utilizing resources, you can move it out of hello pool and configure it as a single database with predictable amount of resources it requires.</span></span>

## <a name="how-can-i-determine-hello-number-of-dtus-needed-by-my-workload"></a><span data-ttu-id="a1238-142">Jak zjistím hello počet jednotek Dtu Moje zatížení vyžaduje?</span><span class="sxs-lookup"><span data-stu-id="a1238-142">How can I determine hello number of DTUs needed by my workload?</span></span>
<span data-ttu-id="a1238-143">Pokud hledáte toomigrate existující místní nebo tooAzure zatížení virtuálního počítače systému SQL Server SQL Database, můžete použít hello [Kalkulačka DTU](http://dtucalculator.azurewebsites.net/) tooapproximate hello počet jednotek Dtu potřeby.</span><span class="sxs-lookup"><span data-stu-id="a1238-143">If you are looking toomigrate an existing on-premises or SQL Server virtual machine workload tooAzure SQL Database, you can use hello [DTU Calculator](http://dtucalculator.azurewebsites.net/) tooapproximate hello number of DTUs needed.</span></span> <span data-ttu-id="a1238-144">Pro existující úlohy Azure SQL Database, můžete použít [SQL databáze Query Performance Insight](sql-database-query-performance.md) toounderstand vaší databáze prostředků spotřeby (Dtu) tooget podrobnější přehled o tom, jak toooptimize úlohy.</span><span class="sxs-lookup"><span data-stu-id="a1238-144">For an existing Azure SQL Database workload, you can use [SQL Database Query Performance Insight](sql-database-query-performance.md) toounderstand your database resource consumption (DTUs) tooget deeper insight into how toooptimize your workload.</span></span> <span data-ttu-id="a1238-145">Můžete taky hello [sys.dm_db_ resource_stats](https://msdn.microsoft.com/library/dn800981.aspx) DMV tooget hello prostředků informací o spotřebě pro hello poslední jednu hodinu.</span><span class="sxs-lookup"><span data-stu-id="a1238-145">You can also use hello [sys.dm_db_ resource_stats](https://msdn.microsoft.com/library/dn800981.aspx) DMV tooget hello resource consumption information for hello last one hour.</span></span> <span data-ttu-id="a1238-146">Alternativně hello zobrazení katalogu [sys.resource_stats](http://msdn.microsoft.com/library/dn269979.aspx) můžete také být předmětem dotazu tooget hello stejná data pro hello posledních 14 dní, i když na nižší přesnost průměry pět minut.</span><span class="sxs-lookup"><span data-stu-id="a1238-146">Alternatively, hello catalog view [sys.resource_stats](http://msdn.microsoft.com/library/dn269979.aspx) can also be queried tooget hello same data for hello last 14 days, although at a lower fidelity of five-minute averages.</span></span>

## <a name="how-do-i-know-if-i-could-benefit-from-an-elastic-pool-of-resources"></a><span data-ttu-id="a1238-147">Jak poznám, že by pro mě používání elastického fondu prostředků bylo výhodné?</span><span class="sxs-lookup"><span data-stu-id="a1238-147">How do I know if I could benefit from an elastic pool of resources?</span></span>
<span data-ttu-id="a1238-148">Fondy jsou vhodné pro velký počet databází s konkrétními vzory využití.</span><span class="sxs-lookup"><span data-stu-id="a1238-148">Pools are suited for a large number of databases with specific utilization patterns.</span></span> <span data-ttu-id="a1238-149">Pro danou databázi je tento vzor charakterizován nízkou mírou průměrného využití s relativně málo častými nárůsty využití.</span><span class="sxs-lookup"><span data-stu-id="a1238-149">For a given database, this pattern is characterized by low average utilization with relatively infrequent utilization spikes.</span></span> <span data-ttu-id="a1238-150">SQL Database automaticky vyhodnotí využití historických prostředků hello databází v existující databázi SQL server a doporučuje hello odpovídajícímu fondu adres konfigurace v hello portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="a1238-150">SQL Database automatically evaluates hello historical resource usage of databases in an existing SQL Database server and recommends hello appropriate pool configuration in hello Azure portal.</span></span> <span data-ttu-id="a1238-151">Další informace najdete v tématu [Kdy je vhodné používat elastický fond?](sql-database-elastic-pool.md)</span><span class="sxs-lookup"><span data-stu-id="a1238-151">For more information, see [when should an elastic pool be used?](sql-database-elastic-pool.md)</span></span>

## <a name="what-happens-when-i-hit-my-maximum-dtus"></a><span data-ttu-id="a1238-152">Co se stane, když dosáhnu maximálního počtu DTU</span><span class="sxs-lookup"><span data-stu-id="a1238-152">What happens when I hit my maximum DTUs</span></span>
<span data-ttu-id="a1238-153">Jsou nastaveny úrovně výkonu a upraveny tooprovide hello potřebné prostředky toorun úloh toohello maximální omezení povolené úrovně vrstvy a výkonu vaší vybraných služeb vaší databáze.</span><span class="sxs-lookup"><span data-stu-id="a1238-153">Performance levels are calibrated and governed tooprovide hello needed resources toorun your database workload up toohello max limits allowed for your selected service tier/performance level.</span></span> <span data-ttu-id="a1238-154">Pokud vaše úlohy je nedosáhli limitů hello v jednom z limity vstupně-výstupní operace procesoru/Data vstupně-výstupní operace nebo protokolu, pokračovat tooreceive hello prostředky maximální povolené úrovni hello, ale jsou pravděpodobně toosee vyšší latence pro své dotazy.</span><span class="sxs-lookup"><span data-stu-id="a1238-154">If your workload is hitting hello limits in one of CPU/Data IO/Log IO limits, you continue tooreceive hello resources at hello maximum allowed level, but you are likely toosee increased latencies for your queries.</span></span> <span data-ttu-id="a1238-155">Pokud hello zpomalení stane závažné, že dotazy spustí časování nezpůsobovalo neustálé všechny chyby, ale spíš zpomalení hello zatížení, tato omezení. Pokud dosahujete limitů pro maximální povolený počet souběžných relací/požadavků uživatelů (pracovních vláken), zobrazují se explicitní chyby.</span><span class="sxs-lookup"><span data-stu-id="a1238-155">These limits do not result in any errors, but rather a slowdown in hello workload, unless hello slowdown becomes so severe that queries start timing out. If you are hitting limits of maximum allowed concurrent user sessions/requests (worker threads), you see explicit errors.</span></span> <span data-ttu-id="a1238-156">Informace o limitech jiných prostředků než procesory, paměť, datový vstup/výstup či vstup výstup protokolu transakcí najdete v článku [Limity prostředků Azure SQL Database](sql-database-resource-limits.md).</span><span class="sxs-lookup"><span data-stu-id="a1238-156">See [Azure SQL Database resource limits](sql-database-resource-limits.md) for information on limit on resources other than CPU, memory, data I/O, and transaction log I/O.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a1238-157">Další kroky</span><span class="sxs-lookup"><span data-stu-id="a1238-157">Next steps</span></span>
* <span data-ttu-id="a1238-158">V tématu [vrstvy služby](sql-database-service-tiers.md) informace o hello Dtu a Edtu, které jsou k dispozici pro izolované databáze a pro elastické fondy.</span><span class="sxs-lookup"><span data-stu-id="a1238-158">See [Service tier](sql-database-service-tiers.md) for information on hello DTUs and eDTUs available for single databases and for elastic pools.</span></span>
* <span data-ttu-id="a1238-159">Informace o limitech jiných prostředků než procesory, paměť, datový vstup/výstup či vstup výstup protokolu transakcí najdete v článku [Limity prostředků Azure SQL Database](sql-database-resource-limits.md).</span><span class="sxs-lookup"><span data-stu-id="a1238-159">See [Azure SQL Database resource limits](sql-database-resource-limits.md) for information on limit on resources other than CPU, memory, data I/O, and transaction log I/O.</span></span>
* <span data-ttu-id="a1238-160">V tématu [SQL databáze Query Performance Insight](sql-database-query-performance.md) toounderstand vaší spotřeby (Dtu).</span><span class="sxs-lookup"><span data-stu-id="a1238-160">See [SQL Database Query Performance Insight](sql-database-query-performance.md) toounderstand your (DTUs) consumption.</span></span>
* <span data-ttu-id="a1238-161">V tématu [přehledu srovnávacího testu SQL Database](sql-database-benchmark-overview.md) toounderstand hello metodika za hello OLTP srovnávacího testu zatížení použít toodetermine hello přizpůsobte DTU.</span><span class="sxs-lookup"><span data-stu-id="a1238-161">See [SQL Database benchmark overview](sql-database-benchmark-overview.md) toounderstand hello methodology behind hello OLTP benchmark workload used toodetermine hello DTU blend.</span></span>
