---
title: "Databáze SQL - automatické ladění | Microsoft Docs"
description: "Databáze SQL analyzuje dotazu SQL a automaticky přizpůsobí zatížení uživatele."
services: sql-database
documentationcenter: 
author: jovanpop-msft
manager: jhubbard
editor: 
ms.assetid: 
ms.service: sql-database
ms.custom: monitor & tune
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/05/2017
ms.author: jovanpop
ms.openlocfilehash: f5552793db2d89542782b7d9e8f996314f62e429
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="automatic-tuning"></a><span data-ttu-id="6d6de-103">Automatické ladění</span><span class="sxs-lookup"><span data-stu-id="6d6de-103">Automatic tuning</span></span>

<span data-ttu-id="6d6de-104">Azure SQL Database je plně spravovaná data služba, která monitoruje dotazy, které jsou spouštěny v databázi a automaticky může zlepšit výkon pracovního vytížení.</span><span class="sxs-lookup"><span data-stu-id="6d6de-104">Azure SQL Database is a fully managed data service that monitors the queries that are executed on the database and can automatically improve performance of the workload.</span></span> <span data-ttu-id="6d6de-105">Azure SQL Database má vestavěné inteligentní mechanismus, který můžete automaticky ladit a dynamicky přizpůsobení databázi do úlohy vylepšit výkon vašich dotazů.</span><span class="sxs-lookup"><span data-stu-id="6d6de-105">Azure SQL Database has a built-in intelligence mechanism that can automatically tune and improve performance of your queries by dynamically adapting the database to your workload.</span></span> <span data-ttu-id="6d6de-106">Automatické ladění ve službě Azure SQL Database, může být jedním z nejdůležitějších funkcích, můžete povolit na Azure SQL Database za účelem optimalizace výkonu dotazů.</span><span class="sxs-lookup"><span data-stu-id="6d6de-106">Automatic tuning in Azure SQL Database might be one of the most important features that you can enable on Azure SQL Database to optimize performance of your queries.</span></span>

<span data-ttu-id="6d6de-107">Najdete v tomto článku postup [povolit automatické ladění](sql-database-automatic-tuning-enable.md) pomocí portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="6d6de-107">See this article for the steps to [enable automatic tuning](sql-database-automatic-tuning-enable.md) using the Azure portal.</span></span>

## <a name="why-automatic-tuning"></a><span data-ttu-id="6d6de-108">Proč automatické ladění?</span><span class="sxs-lookup"><span data-stu-id="6d6de-108">Why automatic tuning?</span></span>

<span data-ttu-id="6d6de-109">Jeden z hlavních úkolů v classic databáze správy je monitorování zátěže identifikace důležitých dotazy SQL, indexy, které mají být přidány ke zlepšení výkonu a zřídka používané indexů.</span><span class="sxs-lookup"><span data-stu-id="6d6de-109">One of the main tasks in classic database administration is monitoring the workload, identifying critical SQL queries, indexes that should be added to improve performance, and rarely used indexes.</span></span> <span data-ttu-id="6d6de-110">Databáze SQL Azure poskytuje podrobný přehled o dotazy a indexy, které je nutné sledovat.</span><span class="sxs-lookup"><span data-stu-id="6d6de-110">Azure SQL Database provides detailed insight into the queries and indexes that you need to monitor.</span></span> <span data-ttu-id="6d6de-111">Neustálé monitorování databáze je však náročný a zdlouhavý úkol, zejména při práci s mnoha databázemi.</span><span class="sxs-lookup"><span data-stu-id="6d6de-111">However, constantly monitoring database is a hard and tedious task, especially when dealing with many databases.</span></span> <span data-ttu-id="6d6de-112">Správa velký počet databáze může být možné provádět efektivně i se všemi dostupnou nástroje a sestavy, které obsahují Azure SQL Database a portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="6d6de-112">Managing a huge number of databases might be impossible to do efficiently even with all available tools and reports that Azure SQL Database and Azure portal provide.</span></span> <span data-ttu-id="6d6de-113">Místo sledování a ladění databázi ručně, můžete zvážit některé akce sledování a ladění do Azure SQL Database pomocí funkce Automatické ladění delegování.</span><span class="sxs-lookup"><span data-stu-id="6d6de-113">Instead of monitoring and tuning your database manually, you might consider delegating some of the monitoring and tuning actions to Azure SQL Database using automatic tuning feature.</span></span> 


> [!VIDEO https://channel9.msdn.com/Blogs/Azure-in-the-Enterprise/Enabling-Azure-SQL-Database-Auto-Tuning-at-Scale-for-Microsoft-IT/player]
>

## <a name="how-does-automatic-tuning-work"></a><span data-ttu-id="6d6de-114">Jak funguje automatické ladění?</span><span class="sxs-lookup"><span data-stu-id="6d6de-114">How does automatic tuning work?</span></span>

<span data-ttu-id="6d6de-115">Azure SQL Database má průběžné výkonu monitorování a analýzu proces, který neustále dozví o vlastnosti úlohy a identifikovat potenciální problémy a vylepšení.</span><span class="sxs-lookup"><span data-stu-id="6d6de-115">Azure SQL Database has a continuous performance monitoring and analysis process that constantly learns about the characteristic of your workload and identify potential issues and improvements.</span></span>

![Automatický proces ladění](./media/sql-database-automatic-tuning/tuning-process.png)

<span data-ttu-id="6d6de-117">Tento proces umožní Azure SQL Database se vaše úlohy dynamicky přizpůsobit tak, že najdete jaké indexy a plány může zvýšit výkon vašich úloh a jaké indexy ovlivnit úlohy.</span><span class="sxs-lookup"><span data-stu-id="6d6de-117">This process enables Azure SQL Database to dynamically adapt to your workload by finding what indexes and plans might improve performance of your workloads and what indexes affect your workloads.</span></span> <span data-ttu-id="6d6de-118">Podle těchto zjištění, automatické ladění platí vyladění akce, které zlepšují výkon vašich úloh.</span><span class="sxs-lookup"><span data-stu-id="6d6de-118">Based on these findings, automatic tuning applies tuning actions that improve performance of your workload.</span></span> <span data-ttu-id="6d6de-119">Kromě toho Azure SQL Database neustále monitoruje výkonu po všechny změny provedené automatické ladění zajistit, že vylepšuje výkon vašich úloh.</span><span class="sxs-lookup"><span data-stu-id="6d6de-119">In addition, Azure SQL Database continuously monitors performance after any change made by automatic tuning to ensure that it improves performance of your workload.</span></span> <span data-ttu-id="6d6de-120">Všechny akce, která nebyla zlepšit výkon je automaticky vrátila.</span><span class="sxs-lookup"><span data-stu-id="6d6de-120">Any action that didn’t improve performance is automatically reverted.</span></span> <span data-ttu-id="6d6de-121">Tento proces ověření je klíčovou funkcí, které zajišťuje, že všechny změny provedené automatické ladění ne snížit výkon vašich úloh.</span><span class="sxs-lookup"><span data-stu-id="6d6de-121">This verification process is a key feature that ensures that any change made by automatic tuning does not decrease the performance of your workload.</span></span>

<span data-ttu-id="6d6de-122">Existují dva automatické ladění aspekty, které jsou k dispozici ve službě Azure SQL Database:</span><span class="sxs-lookup"><span data-stu-id="6d6de-122">There are two automatic tuning aspects that are available in Azure SQL Database:</span></span>

 -  <span data-ttu-id="6d6de-123">**Správa automatického indexu** identifikující indexy, které mají být přidány do databáze a indexy, které má být odebrána.</span><span class="sxs-lookup"><span data-stu-id="6d6de-123">**Automatic index management** that identifies indexes that should be added in your database, and indexes that should be removed.</span></span>
 -  <span data-ttu-id="6d6de-124">**Automatické plán oprava** (již brzy, již k dispozici v SQL serveru 2017) identifikující problematické plány a opravy SQL plánování problémy s výkonem.</span><span class="sxs-lookup"><span data-stu-id="6d6de-124">**Automatic plan correction** (coming soon, already available in SQL Server 2017) that identifies problematic plans and fixes SQL plan performance problems.</span></span>

## <a name="automatic-index-management"></a><span data-ttu-id="6d6de-125">Správa automatického indexu</span><span class="sxs-lookup"><span data-stu-id="6d6de-125">Automatic index management</span></span>

<span data-ttu-id="6d6de-126">V databázi SQL Azure je snadné Správa indexu, protože Azure SQL Database dozví o velikosti pracovní zátěže a zajistí, že je vaše data vždy optimálně indexovaný.</span><span class="sxs-lookup"><span data-stu-id="6d6de-126">In Azure SQL Database, index management is easy because Azure SQL Database learns about your workload and ensures that your data is always optimally indexed.</span></span> <span data-ttu-id="6d6de-127">Správné index návrhu je zásadní pro optimální výkon vašich úloh a správu automatické indexu můžete optimalizovat vaše indexy.</span><span class="sxs-lookup"><span data-stu-id="6d6de-127">Proper index design is crucial for optimal performance of your workload, and automatic index management can help you optimize your indexes.</span></span> <span data-ttu-id="6d6de-128">Správa automatického indexu může buď opravte problémy s výkonem v nesprávně indexované databáze, nebo zachovat a zlepšit indexy na existující schématu databáze.</span><span class="sxs-lookup"><span data-stu-id="6d6de-128">Automatic index management can either fix performance issues in incorrectly indexed databases, or maintain and improve indexes on the existing database schema.</span></span> 

### <a name="why-do-you-need-index-management"></a><span data-ttu-id="6d6de-129">Proč potřebujete Správa indexu?</span><span class="sxs-lookup"><span data-stu-id="6d6de-129">Why do you need index management?</span></span>

<span data-ttu-id="6d6de-130">Indexy urychlení některé své dotazy, které čtení dat z tabulky; Nicméně se může zpomalit dotazy, které umožňuje aktualizovat data.</span><span class="sxs-lookup"><span data-stu-id="6d6de-130">Indexes speed up some of your queries that read data from the tables; however, they can slow down the queries that update data.</span></span> <span data-ttu-id="6d6de-131">Budete muset pečlivě analýza kdy vytvořit index a které sloupce je nutné zahrnout v indexu.</span><span class="sxs-lookup"><span data-stu-id="6d6de-131">You need to carefully analyze when to create an index and what columns you need to include in the index.</span></span> <span data-ttu-id="6d6de-132">Některé indexy nemusí být potřeba po určité době.</span><span class="sxs-lookup"><span data-stu-id="6d6de-132">Some indexes might not be needed after some time.</span></span> <span data-ttu-id="6d6de-133">Musíte tedy pravidelně identifikovat a vyřadit indexy, které nelze zobrazit žádné výhody.</span><span class="sxs-lookup"><span data-stu-id="6d6de-133">Therefore, you would need to periodically identify and drop the indexes that do not bring any benefits.</span></span> <span data-ttu-id="6d6de-134">Pokud budete ignorovat nepoužívané indexy, by být výkon dotazů, které umožňuje aktualizovat data snížena bez nějaké výhody na dotazy, které číst data.</span><span class="sxs-lookup"><span data-stu-id="6d6de-134">If you ignore the unused indexes, performance of the queries that update data would be decreased without any benefit on the queries that read data.</span></span> <span data-ttu-id="6d6de-135">Nepoužívané indexy také ovlivnit celkový výkon systému, protože další aktualizace vyžadují nepotřebné protokolování.</span><span class="sxs-lookup"><span data-stu-id="6d6de-135">Unused indexes also affect overall performance of the system because additional updates require unnecessary logging.</span></span>

<span data-ttu-id="6d6de-136">Hledání optimální sadu indexy, které zlepšit výkon dotazů, které čtení dat z tabulky a mít minimální dopad na aktualizace může vyžadovat nepřetržitý a komplexní analýzy.</span><span class="sxs-lookup"><span data-stu-id="6d6de-136">Finding the optimal set of indexes that improve performance of the queries that read data from your tables and have minimal impact on updates might require continuous and complex analysis.</span></span>

<span data-ttu-id="6d6de-137">Databáze SQL Azure používá vestavěné inteligentní a rozšířených pravidel, které analyzovat vaše dotazy, identifikovat indexy, které by být optimální pro aktuální zatížení a může být odebrán indexy.</span><span class="sxs-lookup"><span data-stu-id="6d6de-137">Azure SQL Database uses built-in intelligence and advanced rules that analyze your queries, identify indexes that would be optimal for your current workloads, and the indexes might be removed.</span></span> <span data-ttu-id="6d6de-138">Databáze SQL Azure zajistí, že minimální potřebné sadu indexy, které optimalizovat dotazy, které čtení dat pomocí minimalizovaném okně dopad na jiné dotazy.</span><span class="sxs-lookup"><span data-stu-id="6d6de-138">Azure SQL Database ensures that you have a minimal necessary set of indexes that optimize the queries that read data, with the minimized impact on the other queries.</span></span>

### <a name="how-to-identify-indexes-that-need-to-be-changed-in-your-database"></a><span data-ttu-id="6d6de-139">Jak identifikovat indexy, které se musí změnit ve vaší databázi?</span><span class="sxs-lookup"><span data-stu-id="6d6de-139">How to identify indexes that need to be changed in your database?</span></span>

<span data-ttu-id="6d6de-140">Azure SQL Database usnadňuje proces správy indexu.</span><span class="sxs-lookup"><span data-stu-id="6d6de-140">Azure SQL Database makes index management process easy.</span></span> <span data-ttu-id="6d6de-141">Místo proces zdlouhavé ruční úlohy analýzy a monitorování index analyzuje vaše úlohy Azure SQL Database, identifikuje dotazy, které by bylo možné provést rychlejší s nového indexu a identifikuje nepoužívá, nebo duplicitní indexy.</span><span class="sxs-lookup"><span data-stu-id="6d6de-141">Instead of the tedious process of manual workload analysis and index monitoring, Azure SQL Database analyzes your workload, identifies the queries that could be executed faster with a new index, and identifies unused or duplicated indexes.</span></span> <span data-ttu-id="6d6de-142">Další informace o identifikaci indexy, které by mělo být změněno na [najít doporučení indexu na portálu Azure](sql-database-advisor-portal.md).</span><span class="sxs-lookup"><span data-stu-id="6d6de-142">Find more information about identification of indexes that should be changed at [Find index recommendations in Azure portal](sql-database-advisor-portal.md).</span></span>

### <a name="automatic-index-management-considerations"></a><span data-ttu-id="6d6de-143">Aspekty správy automatické indexu</span><span class="sxs-lookup"><span data-stu-id="6d6de-143">Automatic index management considerations</span></span>

<span data-ttu-id="6d6de-144">Pokud zjistíte, že vestavěné pravidla zlepšit výkon vaší databáze, vám může nechat automaticky spravovat vaše indexů Azure SQL database.</span><span class="sxs-lookup"><span data-stu-id="6d6de-144">If you find that the built-in rules improve the performance of your database, you might let Azure SQL database automatically manage your indexes.</span></span>

<span data-ttu-id="6d6de-145">Akce, které jsou potřebné pro vytvoření nezbytné indexy v databázích SQL Azure může spotřebovávat prostředky a dočasně ovlivnit výkon pracovního vytížení.</span><span class="sxs-lookup"><span data-stu-id="6d6de-145">Actions required to create necessary indexes in Azure SQL Databases might consume resources and temporally affect workload performance.</span></span> <span data-ttu-id="6d6de-146">Minimalizovat dopad vytvoření indexu na výkon úloh, Azure SQL Database najde odpovídající časový interval pro všechny operace správy indexu.</span><span class="sxs-lookup"><span data-stu-id="6d6de-146">To minimize the impact of index creation on workload performance, Azure SQL Database finds the appropriate time window for any index management operation.</span></span> <span data-ttu-id="6d6de-147">Ladění akce je odložen. Pokud databáze potřebuje prostředky k provedení úlohy a začínat splněním databáze nemá dostatek nepoužívané prostředky, které lze použít pro úlohu údržby.</span><span class="sxs-lookup"><span data-stu-id="6d6de-147">Tuning action is postponed if the database needs resources to execute your workload, and started when the database has enough unused resources that can be used for the maintenance task.</span></span> <span data-ttu-id="6d6de-148">Jeden důležité funkce v Správa automatické indexu je ověření akce.</span><span class="sxs-lookup"><span data-stu-id="6d6de-148">One important feature in automatic index management is a verification of the actions.</span></span> <span data-ttu-id="6d6de-149">Databáze SQL Azure vytvoří nebo poklesne index, proces monitorování analyzuje výkon vašich úloh ověření, že akce vylepšení výkonu.</span><span class="sxs-lookup"><span data-stu-id="6d6de-149">When Azure SQL Database creates or drops index, a monitoring process analyzes performance of your workload to verify that the action improved the performance.</span></span> <span data-ttu-id="6d6de-150">Pokud nebylo ji převést výrazné zlepšení – akce okamžitě vrátit zpět.</span><span class="sxs-lookup"><span data-stu-id="6d6de-150">If it didn’t bring significant improvement – the action is immediately reverted.</span></span> <span data-ttu-id="6d6de-151">Tímto způsobem, Azure SQL Database zajišťuje, že automatické akce nemá negativní dopad na výkon vašich úloh.</span><span class="sxs-lookup"><span data-stu-id="6d6de-151">This way, Azure SQL Database ensures that automatic actions do not negatively impact performance of your workload.</span></span> <span data-ttu-id="6d6de-152">Indexy vytvořené automatické ladění jsou transparentní pro operace údržby na základní schéma.</span><span class="sxs-lookup"><span data-stu-id="6d6de-152">Indexes created by automatic tuning are transparent for the maintenance operation on the underlying schema.</span></span> <span data-ttu-id="6d6de-153">Změny schématu, jako je například vyřazení nebo přejmenování sloupce nejsou blokována bránou přítomnost automatické vytváření indexů.</span><span class="sxs-lookup"><span data-stu-id="6d6de-153">Schema changes such as dropping or renaming columns are not blocked by the presence of automatically created indexes.</span></span> <span data-ttu-id="6d6de-154">Indexy, které jsou automaticky vytvořené pomocí Azure SQL Database při okamžitě vyřadit související tabulky nebo sloupce je vyřazeno.</span><span class="sxs-lookup"><span data-stu-id="6d6de-154">Indexes that are automatically created by Azure SQL Database are immediately dropped when related table or columns is dropped.</span></span>

## <a name="automatic-plan-choice-correction"></a><span data-ttu-id="6d6de-155">Oprava volbou automatické plán</span><span class="sxs-lookup"><span data-stu-id="6d6de-155">Automatic plan choice correction</span></span>

<span data-ttu-id="6d6de-156">Oprava automatické plán je nová automatické ladění funkce přidán do systému SQL Server 2017 CTP2.0, který identifikuje SQL plány, které nesprávnému chování.</span><span class="sxs-lookup"><span data-stu-id="6d6de-156">Automatic plan correction is a new automatic tuning feature added in SQL Server 2017 CTP2.0 that identifies SQL plans that misbehave.</span></span> <span data-ttu-id="6d6de-157">Tato možnost Automatické ladění brzy v databázi SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="6d6de-157">This automatic tuning option is coming soon on Azure SQL Database.</span></span> <span data-ttu-id="6d6de-158">Další informace v [automatické ladění v SQL serveru 2017](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).</span><span class="sxs-lookup"><span data-stu-id="6d6de-158">Find more information at [Automatic tuning in SQL Server 2017](https://docs.microsoft.com/sql/relational-databases/automatic-tuning/automatic-tuning).</span></span>

## <a name="next-steps"></a><span data-ttu-id="6d6de-159">Další kroky</span><span class="sxs-lookup"><span data-stu-id="6d6de-159">Next steps</span></span>

- <span data-ttu-id="6d6de-160">Povolit automatické ladění ve službě Azure SQL Database a nechat automatické ladění funkce plně spravovat vaše úlohy najdete v tématu [povolit automatické ladění](sql-database-automatic-tuning-enable.md).</span><span class="sxs-lookup"><span data-stu-id="6d6de-160">To enable automatic tuning in Azure SQL Database and let automatic tuning feature fully manage your workload, see [Enable automatic tuning](sql-database-automatic-tuning-enable.md).</span></span>
- <span data-ttu-id="6d6de-161">Chcete-li použít ruční ladění, můžete zjistit [ladění doporučení na portálu Azure](sql-database-advisor-portal.md) a ty, které zlepšit výkon vašich dotazů použít ručně.</span><span class="sxs-lookup"><span data-stu-id="6d6de-161">To use manual tuning, you can review [Tuning recommendations in Azure portal](sql-database-advisor-portal.md) and manually apply the ones that improve performance of your queries.</span></span>
