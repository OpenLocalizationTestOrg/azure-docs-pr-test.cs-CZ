---
title: "aaaHow tooretain konstantní virtuální IP adresy pro cloudové služby Azure | Microsoft Docs"
description: "Zjistěte, jak nezmění tooensure, který hello virtuální IP adresy (VIP) cloudové služby Azure."
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 4a58e2c6-7a79-4051-8a2c-99182ff8b881
ms.service: multiple
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: multiple
ms.date: 03/21/2017
ms.author: kraigb
ms.openlocfilehash: 9e27121797ffb61517b8d2c2661ec44ff7298968
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="retain-a-constant-virtual-ip-address-for-an-azure-cloud-service"></a><span data-ttu-id="dc6bc-103">Zachovat konstantní virtuální IP adresy pro cloudové služby Azure</span><span class="sxs-lookup"><span data-stu-id="dc6bc-103">Retain a constant virtual IP address for an Azure cloud service</span></span>
<span data-ttu-id="dc6bc-104">Pokud aktualizujete Cloudová služba, která je hostovaná v Azure, bude pravděpodobně třeba tooensure, který hello virtuální adresy IP (VIP) služby hello nemění.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-104">When you update a cloud service that's hosted in Azure, you might need tooensure that hello virtual IP address (VIP) of hello service doesn't change.</span></span> <span data-ttu-id="dc6bc-105">Většina služeb správu domény používá hello systému DNS (Domain Name) pro registraci názvů domén.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-105">Many domain management services use hello Domain Name System (DNS) for registering domain names.</span></span> <span data-ttu-id="dc6bc-106">DNS funguje pouze v případě, že zůstanou hello VIP hello stejné.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-106">DNS works only if hello VIP remains hello same.</span></span> <span data-ttu-id="dc6bc-107">Můžete použít hello **Průvodci publikováním** v tooensure nástroje Azure, který hello VIP cloudové služby nezmění. když ho aktualizujete.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-107">You can use hello **Publish Wizard** in Azure Tools tooensure that hello VIP of your cloud service doesn’t change when you update it.</span></span> <span data-ttu-id="dc6bc-108">Další informace o tom, najdete v části Správa domén DNS toouse pro cloudové služby, [konfigurace vlastního názvu domény pro cloudové služby Azure](cloud-services/cloud-services-custom-domain-name.md).</span><span class="sxs-lookup"><span data-stu-id="dc6bc-108">For more information about how toouse DNS domain management for cloud services, see [Configuring a custom domain name for an Azure cloud service](cloud-services/cloud-services-custom-domain-name.md).</span></span>

## <a name="publish-a-cloud-service-without-changing-its-vip"></a><span data-ttu-id="dc6bc-109">Publikování Cloudová služba beze změny jeho VIP</span><span class="sxs-lookup"><span data-stu-id="dc6bc-109">Publish a cloud service without changing its VIP</span></span>
<span data-ttu-id="dc6bc-110">Hello VIP Cloudová služba je přidělen při prvním nasazení je tooAzure v konkrétním prostředí, jako je například hello produkčního prostředí.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-110">hello VIP of a cloud service is allocated when you first deploy it tooAzure in a particular environment, such as hello production environment.</span></span> <span data-ttu-id="dc6bc-111">proces aktualizovat Hello VIP změny jenom v případě explicitně odstranit hello nasazení nebo nasazení hello je implicitně odstraní hello nasazení.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-111">hello VIP changes only if you delete hello deployment explicitly or hello deployment is implicitly deleted by hello deployment update process.</span></span> <span data-ttu-id="dc6bc-112">tooretain hello VIP, nesmí odstraňte nasazení, a ujistěte se, že Visual Studio automaticky neodstraní vaše nasazení.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-112">tooretain hello VIP, you must not delete your deployment, and you must make sure that Visual Studio doesn’t delete your deployment automatically.</span></span> 

<span data-ttu-id="dc6bc-113">Můžete zadat nastavení nasazení v hello **Průvodci publikováním**, který podporuje několik možností nasazení.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-113">You can specify deployment settings in hello **Publish Wizard**, which supports several deployment options.</span></span> <span data-ttu-id="dc6bc-114">Můžete zadat nové nasazení nebo nasazení aktualizace, která může být přírůstkové nebo souběžných.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-114">You can specify a fresh deployment or an update deployment, which can be incremental or simultaneous.</span></span> <span data-ttu-id="dc6bc-115">Oba typy nasazení aktualizace zachovat hello VIP.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-115">Both kinds of update deployment retain hello VIP.</span></span> <span data-ttu-id="dc6bc-116">Definice těchto různých typů nasazení naleznete v tématu [Průvodci publikováním aplikace Azure](vs-azure-tools-publish-azure-application-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="dc6bc-116">For definitions of these different types of deployment, see [Publish Azure Application Wizard](vs-azure-tools-publish-azure-application-wizard.md).</span></span> <span data-ttu-id="dc6bc-117">Kromě toho můžete určit, zda text hello předchozích nasazení cloudové služby je odstraněna, když dojde k chybě.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-117">In addition, you can control whether hello previous deployment of a cloud service is deleted if an error occurs.</span></span> <span data-ttu-id="dc6bc-118">Pokud tato možnost není správně nastavený, může se neočekávaně měnit hello VIP.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-118">If you don't set that option correctly, hello VIP might change unexpectedly.</span></span>

## <a name="update-a-cloud-service-without-changing-its-vip"></a><span data-ttu-id="dc6bc-119">Aktualizace cloudové služby, aniž byste museli měnit jeho VIP</span><span class="sxs-lookup"><span data-stu-id="dc6bc-119">Update a cloud service without changing its VIP</span></span>
1. <span data-ttu-id="dc6bc-120">Vytvořit nebo otevřít projekt Azure cloud service v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-120">Create or open an Azure cloud service project in Visual Studio.</span></span> 

2. <span data-ttu-id="dc6bc-121">V **Průzkumníku**, klikněte pravým tlačítkem na projekt hello.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-121">In **Solution Explorer**, right-click hello project.</span></span> <span data-ttu-id="dc6bc-122">V místní nabídce hello, vyberte **publikovat**.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-122">On hello shortcut menu, select **Publish**.</span></span>

    ![Publikování nabídky](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/solution-explorer-publish-menu.png)

3. <span data-ttu-id="dc6bc-124">V hello **publikování aplikaci Azure** dialogové okno, vyberte hello předplatného Azure toowhich chcete toodeploy.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-124">In hello **Publish Azure Application** dialog box, select hello Azure subscription toowhich you want toodeploy.</span></span> <span data-ttu-id="dc6bc-125">Přihlášení, pokud potřebné a vyberte **Další**.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-125">Sign in if necessary, and select **Next**.</span></span>

    ![Publikování Azure aplikace přihlašovací stránku](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-signin.png)

4. <span data-ttu-id="dc6bc-127">Na hello **společná nastavení** ověřte, že název hello hello cloudové služby toowhich nasazujete, hello **prostředí**, hello **konfigurace sestavení**a hello **Konfigurace služby** správně.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-127">On hello **Common Settings** tab, verify that hello name of hello cloud service toowhich you’re deploying, hello **Environment**, hello **Build configuration**, and hello **Service configuration** are all correct.</span></span>

    ![Publikování karta společné nastavení aplikace Azure](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-common-settings.png)

5. <span data-ttu-id="dc6bc-129">Na hello **Upřesnit nastavení** ověřte, že hello **označení nasazení** a hello **účet úložiště** jsou správné.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-129">On hello **Advanced Settings** tab, verify that hello **Deployment label** and hello **Storage account** are correct.</span></span> <span data-ttu-id="dc6bc-130">Ověřte, že hello **odstranění nasazení na selhání** políčko není zaškrtnuté a ověřte, že hello **nasazení aktualizace** je zaškrtnuté políčko.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-130">Verify that hello **Delete deployment on failure** check box is cleared, and verify that hello **Deployment update** check box is selected.</span></span> <span data-ttu-id="dc6bc-131">Pomocí zrušením hello **odstranění nasazení na selhání** zaškrtávací políčko, zajistíte, že vaše virtuální IP adresy není ke ztrátě, pokud dojde k chybě během nasazení.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-131">By clearing hello **Delete deployment on failure** check box, you ensure that your VIP isn't lost if an error occurs during deployment.</span></span> <span data-ttu-id="dc6bc-132">Výběrem hello **aktualizaci nasazení** zaškrtávací políčko můžete zajistěte, aby vaše nasazení není odstraněn a vaše virtuální IP adresy není ztraceny po publikování aplikace.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-132">By selecting hello **Deployment update** check box, you ensure that your deployment isn't deleted and your VIP isn't lost when you republish your application.</span></span> 

    ![Publikování karta Upřesnit nastavení aplikace Azure](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-advanced-settings.png)

6. <span data-ttu-id="dc6bc-134">toofurther určit, jakým způsobem chcete hello role toobe aktualizovat, vyberte **nastavení** další příliš**nasazení aktualizace**.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-134">toofurther specify how you want hello roles toobe updated, select **Settings** next too**Deployment update**.</span></span> <span data-ttu-id="dc6bc-135">Vyberte buď **přírůstkové aktualizace** nebo **Souběžná aktualizace**a vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-135">Select either **Incremental update** or **Simultaneous update**, and select **OK**.</span></span> <span data-ttu-id="dc6bc-136">Zvolte **přírůstkové aktualizace** tooupdate každou instanci vaší aplikace, jedna po druhé, který hello aplikace je vždy k dispozici.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-136">Choose **Incremental update** tooupdate each instance of your application, one after another, so that hello application is always available.</span></span> <span data-ttu-id="dc6bc-137">Zvolte **Souběžná aktualizace** tooupdate všechny instance aplikace na hello stejnou dobu.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-137">Choose **Simultaneous update** tooupdate all instances of your application at hello same time.</span></span> <span data-ttu-id="dc6bc-138">Souběžné aktualizace je rychlejší, ale vaše služba nemusí být k dispozici během procesu aktualizace hello.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-138">Simultaneous updating is faster, but your service might not be available during hello update process.</span></span> <span data-ttu-id="dc6bc-139">Po dokončení vyberte **Další**.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-139">When you are finished, select **Next**.</span></span>

    ![Publikovat stránku nastavení nasazení aplikace Azure](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-deployment-update-settings.png)

7. <span data-ttu-id="dc6bc-141">V hello **publikování aplikaci Azure** dialogové okno, vyberte **Další** dokud hello **Souhrn** zobrazí se stránka.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-141">In hello **Publish Azure Application** dialog box, select **Next** until hello **Summary** page is displayed.</span></span> <span data-ttu-id="dc6bc-142">Ověřte nastavení a potom vyberte **publikovat**.</span><span class="sxs-lookup"><span data-stu-id="dc6bc-142">Verify your settings, and then select **Publish**.</span></span>
   
    ![Publikování na stránce Souhrn aplikace Azure](./media/vs-azure-tools-cloud-service-retain-a-constant-virtual-ip-address/azure-publish-summary.png)

## <a name="next-steps"></a><span data-ttu-id="dc6bc-144">Další kroky</span><span class="sxs-lookup"><span data-stu-id="dc6bc-144">Next steps</span></span>
- [<span data-ttu-id="dc6bc-145">Pomocí hello Visual Studio Průvodci publikováním aplikace Azure</span><span class="sxs-lookup"><span data-stu-id="dc6bc-145">Using hello Visual Studio Publish Azure Application Wizard</span></span>](vs-azure-tools-publish-azure-application-wizard.md)

