---
title: "Zálohování Azure: Obnovovat soubory a složky ze zálohy virtuálního počítače Azure | Microsoft Docs"
description: "Obnovit soubory z bodu obnovení virtuálního počítače Azure"
services: backup
documentationcenter: dev-center-name
author: pvrk
manager: shivamg
keywords: "obnovení na úrovni položek; obnovení souborů ze zálohy virtuálního počítače Azure; Obnovit soubory z virtuálního počítače Azure"
ms.assetid: f1c067a2-4826-4da4-b97a-c5fd6c189a77
ms.service: backup
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 07/20/2017
ms.author: pullabhk;markgal
ms.openlocfilehash: 1a62a0ed83d61272c032ac0377a54099ed118db4
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="recover-files-from-azure-virtual-machine-backup"></a><span data-ttu-id="69026-104">Obnovit soubory ze zálohy virtuálního počítače Azure</span><span class="sxs-lookup"><span data-stu-id="69026-104">Recover files from Azure virtual machine backup</span></span>

<span data-ttu-id="69026-105">Azure backup poskytuje schopnost toorestore hello [disky a virtuální počítače Azure](./backup-azure-arm-restore-vms.md) ze záloh virtuálních počítačů Azure.</span><span class="sxs-lookup"><span data-stu-id="69026-105">Azure backup provides hello capability toorestore [Azure VMs and disks](./backup-azure-arm-restore-vms.md) from Azure VM backups.</span></span> <span data-ttu-id="69026-106">Teď tento článek vysvětluje, jak můžete položek, jako jsou soubory a složky obnovit ze zálohy virtuálního počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="69026-106">Now this article explains how you can recover items such as files and folders from an Azure VM backup.</span></span>

> [!Note]
> <span data-ttu-id="69026-107">Tato funkce je k dispozici pro nasazení pomocí modelu Resource Manager hello a chráněné tooa trezoru služeb zotavení virtuální počítače Azure.</span><span class="sxs-lookup"><span data-stu-id="69026-107">This feature is available for Azure VMs deployed using hello Resource Manager model and protected tooa Recovery services vault.</span></span>
> <span data-ttu-id="69026-108">Obnovení souborů ze šifrovaných zálohy virtuálního počítače není podporováno.</span><span class="sxs-lookup"><span data-stu-id="69026-108">File recovery from an encrypted VM backup is not supported.</span></span>
>

## <a name="mount-hello-volume-and-copy-files"></a><span data-ttu-id="69026-109">Připojte svazek a zkopírujte soubory hello</span><span class="sxs-lookup"><span data-stu-id="69026-109">Mount hello volume and copy files</span></span>

1. <span data-ttu-id="69026-110">Přihlaste se k hello [portál Azure](http://portal.Azure.com).</span><span class="sxs-lookup"><span data-stu-id="69026-110">Sign into hello [Azure portal](http://portal.Azure.com).</span></span> <span data-ttu-id="69026-111">Vyhledá hello relevantní trezoru služeb zotavení a zálohování položek hello vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="69026-111">Find hello relevant Recovery services vault and hello required backup item.</span></span>

2. <span data-ttu-id="69026-112">V okně hello zálohované položky, klikněte na tlačítko **obnovení souborů**</span><span class="sxs-lookup"><span data-stu-id="69026-112">On hello Backup Item blade, click **File Recovery**</span></span>

    ![Otevřete položky zálohování trezoru služeb zotavení](./media/backup-azure-restore-files-from-vm/open-vault-item.png)

    <span data-ttu-id="69026-114">Hello **obnovení souboru** otevře se okno.</span><span class="sxs-lookup"><span data-stu-id="69026-114">hello **File Recovery** blade opens.</span></span>

    ![Okno obnovení souboru](./media/backup-azure-restore-files-from-vm/file-recovery-blade.png)

3. <span data-ttu-id="69026-116">Z hello **vyberte bod obnovení** rozevírací nabídky, vyberte hello bod obnovení, který obsahuje soubory hello chcete.</span><span class="sxs-lookup"><span data-stu-id="69026-116">From hello **Select recovery point** drop-down menu, select hello recovery point that contains hello files you want.</span></span> <span data-ttu-id="69026-117">Ve výchozím nastavení je už vybraná hello nejnovější bod obnovení.</span><span class="sxs-lookup"><span data-stu-id="69026-117">By default, hello latest recovery point is already selected.</span></span>

4. <span data-ttu-id="69026-118">Klikněte na tlačítko **spustitelný soubor stáhnout** (pro virtuální počítač Windows Azure) nebo **stáhnout skript** (pro virtuální počítač Azure s Linuxem) toodownload hello softwaru použijete toocopy soubory z bodu obnovení hello.</span><span class="sxs-lookup"><span data-stu-id="69026-118">Click **Download Executable** (for Windows Azure VM) or **Download Script** (for Linux Azure VM) toodownload hello software that you'll use toocopy files from hello recovery point.</span></span>

  <span data-ttu-id="69026-119">Hello spustitelný soubor nebo skript vytvoří připojení mezi hello místního počítače a hello Zadaný bod obnovení.</span><span class="sxs-lookup"><span data-stu-id="69026-119">hello executable/script creates a connection between hello local computer and hello specified recovery point.</span></span>

5. <span data-ttu-id="69026-120">Je nutné heslo toorun hello stáhnout skript nebo spustitelný soubor.</span><span class="sxs-lookup"><span data-stu-id="69026-120">You need a password toorun hello downloaded script/executable.</span></span> <span data-ttu-id="69026-121">Hello heslo můžete zkopírovat z portálu hello pomocí tlačítka kopírování hello vedle hello vygenerované heslo</span><span class="sxs-lookup"><span data-stu-id="69026-121">You can copy hello password from hello portal using hello copy button beside hello generated password</span></span>

    ![Vygenerované heslo](./media/backup-azure-restore-files-from-vm/generated-pswd.png)

6. <span data-ttu-id="69026-123">Na počítači hello místo toorecover hello soubory spusťte hello spustitelný soubor nebo skript.</span><span class="sxs-lookup"><span data-stu-id="69026-123">On hello computer where you want toorecover hello files, run hello executable/script.</span></span> <span data-ttu-id="69026-124">Je nutné jej spustit pomocí přihlašovacích údajů správce.</span><span class="sxs-lookup"><span data-stu-id="69026-124">You must run it with Administrator credentials.</span></span> <span data-ttu-id="69026-125">Pokud spustíte skript hello na počítači s omezeným přístupem, ujistěte se, je přístup k:</span><span class="sxs-lookup"><span data-stu-id="69026-125">If you run hello script on a computer with restricted access, ensure there is access to:</span></span>

    - <span data-ttu-id="69026-126">download.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="69026-126">download.microsoft.com</span></span>
    - <span data-ttu-id="69026-127">Koncové body Azure použít pro zálohování virtuálních počítačů Azure</span><span class="sxs-lookup"><span data-stu-id="69026-127">Azure endpoints used for Azure VM backups</span></span>
    - <span data-ttu-id="69026-128">odchozí port 3260</span><span class="sxs-lookup"><span data-stu-id="69026-128">outbound port 3260</span></span>

   <span data-ttu-id="69026-129">Pro systémy Linux vyžaduje skript hello 'open-iscsi' a 'lshw' součásti bodu obnovení toohello tooconnect.</span><span class="sxs-lookup"><span data-stu-id="69026-129">For Linux, hello script requires 'open-iscsi' and 'lshw' components tooconnect toohello recovery point.</span></span> <span data-ttu-id="69026-130">Pokud neexistují těch, na kterém je spuštěná počítači hello, požádá o oprávnění tooinstall hello příslušné komponenty a nainstaluje je po souhlasu.</span><span class="sxs-lookup"><span data-stu-id="69026-130">If those do not exist on hello machine where it is run, it asks for permission tooinstall hello relevant components and installs them upon consent.</span></span>
   
   <span data-ttu-id="69026-131">Zadejte heslo hello zkopírovat z portálu hello po zobrazení výzvy.</span><span class="sxs-lookup"><span data-stu-id="69026-131">Enter hello password copied from hello portal when prompted.</span></span> <span data-ttu-id="69026-132">Jakmile je zadáno platné heslo hello hello skripty připojí toohello bod obnovení.</span><span class="sxs-lookup"><span data-stu-id="69026-132">Once hello valid password is entered hello scripts connects toohello recovery point.</span></span>
      
    ![Okno obnovení souboru](./media/backup-azure-restore-files-from-vm/executable-output.png)
    
   
   <span data-ttu-id="69026-134">Hello skript můžete spustit na jakýkoli počítač, který má hello stejného (nebo kompatibilní) operačního systému jako hello zálohy virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="69026-134">You can run hello script on any machine that has hello same (or compatible) operating system as hello backed-up VM.</span></span> <span data-ttu-id="69026-135">V tématu hello [kompatibilní operační systém tabulky](backup-azure-restore-files-from-vm.md#compatible-os) pro kompatibilní operační systémy.</span><span class="sxs-lookup"><span data-stu-id="69026-135">See hello [Compatible OS table](backup-azure-restore-files-from-vm.md#compatible-os) for compatible operating systems.</span></span> <span data-ttu-id="69026-136">Pokud hello chráněný Azure virtuální počítač používá prostory úložiště ve Windows (pro virtuální počítače Windows Azure) nebo Arrays(for Linux VMs) LVM/RAID a pak nelze spustit hello spustitelný soubor nebo skript na hello stejného virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="69026-136">If hello protected Azure virtual machine uses Windows Storage Spaces (for Windows Azure VMs) or LVM/RAID Arrays(for Linux VMs), then you can't run hello executable/script on hello same virtual machine.</span></span> <span data-ttu-id="69026-137">Místo toho jej spusťte v jiným počítačem s kompatibilní operační systém.</span><span class="sxs-lookup"><span data-stu-id="69026-137">Instead, run it on any other machine with a compatible operating system.</span></span>

### <a name="compatible-os"></a><span data-ttu-id="69026-138">Kompatibilní operační systém</span><span class="sxs-lookup"><span data-stu-id="69026-138">Compatible OS</span></span>

#### <a name="for-windows"></a><span data-ttu-id="69026-139">Pro Windows</span><span class="sxs-lookup"><span data-stu-id="69026-139">For Windows</span></span>

<span data-ttu-id="69026-140">Následující tabulka ukazuje hello kompatibilitu mezi serverem a operační systémy počítačů Hello.</span><span class="sxs-lookup"><span data-stu-id="69026-140">hello following table shows hello compatibility between server and computer operating systems.</span></span> <span data-ttu-id="69026-141">Při obnovování souborů, nelze obnovit soubory mezi operační systémy nekompatibilní.</span><span class="sxs-lookup"><span data-stu-id="69026-141">When recovering files, you can't restore files between incompatible operating systems.</span></span>

|<span data-ttu-id="69026-142">OS serveru</span><span class="sxs-lookup"><span data-stu-id="69026-142">Server OS</span></span> | <span data-ttu-id="69026-143">Kompatibilní klientského operačního systému</span><span class="sxs-lookup"><span data-stu-id="69026-143">Compatible client OS</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="69026-144">Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="69026-144">Windows Server 2012 R2</span></span> | <span data-ttu-id="69026-145">Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="69026-145">Windows 8.1</span></span> |
| <span data-ttu-id="69026-146">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="69026-146">Windows Server 2012</span></span>    | <span data-ttu-id="69026-147">Windows 8</span><span class="sxs-lookup"><span data-stu-id="69026-147">Windows 8</span></span>  |
| <span data-ttu-id="69026-148">Windows Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="69026-148">Windows Server 2008 R2</span></span> | <span data-ttu-id="69026-149">Windows 7</span><span class="sxs-lookup"><span data-stu-id="69026-149">Windows 7</span></span>   |

#### <a name="for-linux"></a><span data-ttu-id="69026-150">Pro Linux</span><span class="sxs-lookup"><span data-stu-id="69026-150">For Linux</span></span>

<span data-ttu-id="69026-151">V systému Linux, základní požadavek hello je, že hello OS hello počítače, kde je spuštěna hello skriptu by měly podporovat hello filesystem Dobrý den soubory, které jsou součástí hello zálohy virtuálního počítače s Linuxem.</span><span class="sxs-lookup"><span data-stu-id="69026-151">In Linux, hello fundamental requirement is that hello OS of hello machine where hello script is run should support hello filesystem of hello files present in hello backed-up Linux VM.</span></span> <span data-ttu-id="69026-152">Při výběru skript hello toorun počítač, zkontrolujte, zda že má hello kompatibilní operační systém a hello verze, jak je uvedeno v tabulce hello.</span><span class="sxs-lookup"><span data-stu-id="69026-152">While selecting a machine toorun hello script, please ensure it has hello compatible OS and hello versions as mentioned in hello table below.</span></span>

|<span data-ttu-id="69026-153">Linux operačního systému</span><span class="sxs-lookup"><span data-stu-id="69026-153">Linux OS</span></span> | <span data-ttu-id="69026-154">Verze</span><span class="sxs-lookup"><span data-stu-id="69026-154">Versions</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="69026-155">Ubuntu</span><span class="sxs-lookup"><span data-stu-id="69026-155">Ubuntu</span></span> | <span data-ttu-id="69026-156">12.04 a vyšší</span><span class="sxs-lookup"><span data-stu-id="69026-156">12.04 and above</span></span> |
| <span data-ttu-id="69026-157">CentOS</span><span class="sxs-lookup"><span data-stu-id="69026-157">CentOS</span></span> | <span data-ttu-id="69026-158">verze 6.5 a vyšší</span><span class="sxs-lookup"><span data-stu-id="69026-158">6.5 and above</span></span>  |
| <span data-ttu-id="69026-159">RHEL</span><span class="sxs-lookup"><span data-stu-id="69026-159">RHEL</span></span> | <span data-ttu-id="69026-160">6.7 a vyšší</span><span class="sxs-lookup"><span data-stu-id="69026-160">6.7 and above</span></span> |
| <span data-ttu-id="69026-161">Debian</span><span class="sxs-lookup"><span data-stu-id="69026-161">Debian</span></span> | <span data-ttu-id="69026-162">7 a vyšší</span><span class="sxs-lookup"><span data-stu-id="69026-162">7 and above</span></span> |
| <span data-ttu-id="69026-163">Oracle Linux</span><span class="sxs-lookup"><span data-stu-id="69026-163">Oracle Linux</span></span> | <span data-ttu-id="69026-164">6.4 a vyšší</span><span class="sxs-lookup"><span data-stu-id="69026-164">6.4 and above</span></span> |

<span data-ttu-id="69026-165">Hello skript také vyžaduje python a bash tooexecute součásti a zabezpečené připojení toohello bod obnovení.</span><span class="sxs-lookup"><span data-stu-id="69026-165">hello script also requires python and bash components tooexecute and connect securely toohello recovery point.</span></span>

|<span data-ttu-id="69026-166">Komponenta</span><span class="sxs-lookup"><span data-stu-id="69026-166">Component</span></span> | <span data-ttu-id="69026-167">Verze</span><span class="sxs-lookup"><span data-stu-id="69026-167">Version</span></span>  |
| --------------- | ---- |
| <span data-ttu-id="69026-168">Bash</span><span class="sxs-lookup"><span data-stu-id="69026-168">bash</span></span> | <span data-ttu-id="69026-169">4 a novější</span><span class="sxs-lookup"><span data-stu-id="69026-169">4 and above</span></span> |
| <span data-ttu-id="69026-170">python</span><span class="sxs-lookup"><span data-stu-id="69026-170">python</span></span> | <span data-ttu-id="69026-171">2.6.6 a vyšší</span><span class="sxs-lookup"><span data-stu-id="69026-171">2.6.6 and above</span></span>  |


### <a name="identifying-volumes"></a><span data-ttu-id="69026-172">Identifikace svazky</span><span class="sxs-lookup"><span data-stu-id="69026-172">Identifying Volumes</span></span>

#### <a name="for-windows"></a><span data-ttu-id="69026-173">Pro Windows</span><span class="sxs-lookup"><span data-stu-id="69026-173">For Windows</span></span>

<span data-ttu-id="69026-174">Při spuštění hello exectuable hello operační systém připojí hello nové svazky a přiřadí písmena jednotek.</span><span class="sxs-lookup"><span data-stu-id="69026-174">When you run hello exectuable, hello operating system mounts hello new volumes and assigns drive letters.</span></span> <span data-ttu-id="69026-175">Toobrowse Průzkumníka Windows nebo Průzkumníka souborů můžete používat tyto jednotky.</span><span class="sxs-lookup"><span data-stu-id="69026-175">You can use Windows Explorer or File Explorer toobrowse those drives.</span></span> <span data-ttu-id="69026-176">Hello písmena jednotek, které jsou přiřazené toohello svazky nemusí být hello, které se zachovala stejná písmena jako hello původní virtuální počítač, ale hello název svazku.</span><span class="sxs-lookup"><span data-stu-id="69026-176">hello drive letters assigned toohello volumes may not be hello same letters as hello original virtual machine, however, hello volume name is preserved.</span></span> <span data-ttu-id="69026-177">Například pokud hello svazek na hello původní virtuální počítač byl "datový Disk (E:\)", že svazek může být připojené jako "datový Disk ('kterékoli písmeno jednotky k dispozici.:\) hello místního počítače.</span><span class="sxs-lookup"><span data-stu-id="69026-177">For example, if hello volume on hello original virtual machine was “Data Disk (E:\)”, that volume can be attached as “Data Disk ('Any drive letter available':\) on hello local computer.</span></span> <span data-ttu-id="69026-178">Procházejte všechny svazky uvedeno ve výstupu skriptu hello vyhledejte soubory nebo složku.</span><span class="sxs-lookup"><span data-stu-id="69026-178">Browse through all volumes mentioned in hello script output until you find your files/folder.</span></span>  
       
   ![Okno obnovení souboru](./media/backup-azure-restore-files-from-vm/volumes-attached.png)
           
#### <a name="for-linux"></a><span data-ttu-id="69026-180">Pro Linux</span><span class="sxs-lookup"><span data-stu-id="69026-180">For Linux</span></span>

<span data-ttu-id="69026-181">V systému Linux jsou hello svazků bodu obnovení hello připojené toohello složku, kde spuštění skriptu hello.</span><span class="sxs-lookup"><span data-stu-id="69026-181">In Linux, hello volumes of hello recovery point are mounted toohello folder where hello script is run.</span></span> <span data-ttu-id="69026-182">Hello připojené disky, svazky a hello odpovídající připojení, které cesty se zobrazují odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="69026-182">hello attached disks, volumes and hello corresponding mount paths are shown accordingly.</span></span> <span data-ttu-id="69026-183">Tyto cesty připojení jsou viditelné toousers kořenové úrovně přístupu.</span><span class="sxs-lookup"><span data-stu-id="69026-183">These mount paths are visible toousers having root level access.</span></span> <span data-ttu-id="69026-184">Procházejte svazky hello uvedeno ve výstupu skriptu hello.</span><span class="sxs-lookup"><span data-stu-id="69026-184">Browse through hello volumes mentioned in hello script output.</span></span>

  ![Okno obnovení souboru Linux](./media/backup-azure-restore-files-from-vm/linux-mount-paths.png)
  

## <a name="closing-hello-connection"></a><span data-ttu-id="69026-186">Zavřením hello připojení</span><span class="sxs-lookup"><span data-stu-id="69026-186">Closing hello connection</span></span>

<span data-ttu-id="69026-187">Až určíte hello souborů a jejich kopírování tooa místní úložiště umístění, odeberte (nebo odpojit) hello další jednotky.</span><span class="sxs-lookup"><span data-stu-id="69026-187">After identifying hello files and copying them tooa local storage location, remove (or unmount) hello additional drives.</span></span> <span data-ttu-id="69026-188">toounmount hello jednotky, na hello **obnovení souboru** v hello portál Azure, klikněte na **odpojit disky**.</span><span class="sxs-lookup"><span data-stu-id="69026-188">toounmount hello drives, on hello **File Recovery** blade in hello Azure portal, click **Unmount Disks**.</span></span>

![Odpojení disky](./media/backup-azure-restore-files-from-vm/unmount-disks3.png)

<span data-ttu-id="69026-190">Po hello disky se odpojily, zobrazí se, že byla úspěšná.</span><span class="sxs-lookup"><span data-stu-id="69026-190">Once hello disks have been unmounted, you receive a message letting you know it was successful.</span></span> <span data-ttu-id="69026-191">Ho může trvat několik minut, než toorefresh hello připojení, které umožní odstranit hello disky.</span><span class="sxs-lookup"><span data-stu-id="69026-191">It may take a few minutes for hello connection toorefresh so that you can remove hello disks.</span></span>

<span data-ttu-id="69026-192">V systému Linux poté, co je bod obnovení toohello připojení hello porušeno, hello OS neodstraní hello odpovídající připojení cesty automaticky.</span><span class="sxs-lookup"><span data-stu-id="69026-192">In Linux, after hello connection toohello recovery point is severed, hello OS doesn't remove hello corresponding mount paths automatically.</span></span> <span data-ttu-id="69026-193">Tyto existují jako "oddělena" svazky a že jsou viditelné, ale vyvolá chybu, když je přístup a zápis souborů hello.</span><span class="sxs-lookup"><span data-stu-id="69026-193">These exist as "orphan" volumes and they are visible but throw an error when you access/write hello files.</span></span> <span data-ttu-id="69026-194">Je lze ručně odebrat.</span><span class="sxs-lookup"><span data-stu-id="69026-194">They can be manually removed.</span></span> <span data-ttu-id="69026-195">skript Hello, pokud spuštěn, identifikuje všechny tyto svazky existující z jakékoli předchozí body obnovení a je vyčistí po souhlasu.</span><span class="sxs-lookup"><span data-stu-id="69026-195">hello script, when run, identifies any such volumes existing from any previous recovery points and cleans them up upon consent.</span></span>

## <a name="special-configurations"></a><span data-ttu-id="69026-196">Zvláštní konfigurace</span><span class="sxs-lookup"><span data-stu-id="69026-196">Special configurations</span></span>

### <a name="dynamic-disks"></a><span data-ttu-id="69026-197">Dynamické disky</span><span class="sxs-lookup"><span data-stu-id="69026-197">Dynamic Disks</span></span>

<span data-ttu-id="69026-198">Pokud hello virtuálního počítače Azure, která byla zálohována svazky, které zahrnují více disků (rozložené a prokládané svazky) nebo odolné proti chybám svazky (RAID-5 a zrcadlené) na dynamické disky, pak hello spustitelný soubor skriptu nelze spustit hello stejného virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="69026-198">If hello Azure VM that was backed up has volumes that span multiple disks (spanned and striped volumes) and/or fault-tolerant volumes (mirrored and RAID-5 volumes) on dynamic disks, then you can't run hello executable script on hello same VM.</span></span> <span data-ttu-id="69026-199">Místo toho spusťte spustitelný soubor skriptu hello z jakéhokoli počítače s kompatibilní operační systém.</span><span class="sxs-lookup"><span data-stu-id="69026-199">Instead, run hello executable script on any other machine with a compatible operating system.</span></span>

### <a name="windows-storage-spaces"></a><span data-ttu-id="69026-200">Prostory úložiště ve Windows</span><span class="sxs-lookup"><span data-stu-id="69026-200">Windows Storage Spaces</span></span>

<span data-ttu-id="69026-201">Prostory úložiště ve Windows je technologie ve Windows storage, který vám umožní toovirtualize úložiště.</span><span class="sxs-lookup"><span data-stu-id="69026-201">Windows Storage Spaces is a technology in Windows storage that enables you toovirtualize storage.</span></span> <span data-ttu-id="69026-202">Prostory úložiště ve Windows můžete seskupit standardní disky do fondů úložiště a pak vytvořit virtuálních disků, nazývaných prostory úložiště z hello dostupné místo v těchto fondů úložiště.</span><span class="sxs-lookup"><span data-stu-id="69026-202">With Windows Storage Spaces you can group industry-standard disks into storage pools, and then create virtual disks, called storage spaces, from hello available space in those storage pools.</span></span>

<span data-ttu-id="69026-203">Pokud hello virtuálního počítače Azure, která byla zálohována používá prostory úložiště Windows hello spustitelný soubor skriptu nelze spustit hello stejného virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="69026-203">If hello Azure VM that was backed up uses Windows Storage Spaces, then you can't run hello executable script on hello same VM.</span></span> <span data-ttu-id="69026-204">Místo toho spusťte spustitelný soubor skriptu hello z jakéhokoli počítače s kompatibilní operační systém.</span><span class="sxs-lookup"><span data-stu-id="69026-204">Instead, run hello executable script on any other machine with a compatible operating system.</span></span>

### <a name="lvmraid-arrays"></a><span data-ttu-id="69026-205">Pole LVM/RAID</span><span class="sxs-lookup"><span data-stu-id="69026-205">LVM/RAID Arrays</span></span>

<span data-ttu-id="69026-206">V systému Linux, Správce logických svazků (LVM) nebo softwaru pole RAID jsou logické svazky používané toomanage přes několik disků.</span><span class="sxs-lookup"><span data-stu-id="69026-206">In Linux, Logical volume manager (LVM) and/or software RAID Arrays are used toomanage logical volumes over multiple disks.</span></span> <span data-ttu-id="69026-207">Pokud hello zálohovat virtuální počítač s Linuxem používá LVM nebo pole RAID, nelze spustit skript hello na hello stejného virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="69026-207">If hello backed up Linux VM uses LVM and/or RAID Arrays, you can't run hello script on hello same VM.</span></span> <span data-ttu-id="69026-208">Místo toho spusťte skript hello z jakéhokoli počítače s operačním systémem kompatibilní a který podporuje filesystem hello zálohovat virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="69026-208">Instead run hello script on any other machine with compatible OS and which supports filesystem of hello backed up VM.</span></span>

<span data-ttu-id="69026-209">výstup skriptu Hello zobrazí hello LVM nebo disky pole RAID a svazky hello s typem oddílu hello, jak je uvedeno níže</span><span class="sxs-lookup"><span data-stu-id="69026-209">hello script output displays hello LVM and/or RAID Arrays disks and hello volumes with hello partition type as shown below</span></span>

   ![Okno výstup LVM Linux](./media/backup-azure-restore-files-from-vm/linux-LVMOutput.png)
   
<span data-ttu-id="69026-211">Hello následující příkazy, třeba toobe spustit hello uživatele toobring tyto oddíly v režimu online.</span><span class="sxs-lookup"><span data-stu-id="69026-211">hello following commands need toobe run by hello user toobring these partitions online.</span></span> 

<span data-ttu-id="69026-212">**Pro LVM oddíly**</span><span class="sxs-lookup"><span data-stu-id="69026-212">**For LVM Partitions**</span></span>

```
$ pvs <volume name as shown above in hello script output> 
```
<span data-ttu-id="69026-213">Rutina Vypíše seznam názvy skupin hello svazku v části fyzický svazku.</span><span class="sxs-lookup"><span data-stu-id="69026-213">This lists hello volume group names under a physical volume.</span></span>

```
$ lvdisplay <volume-group-name from hello pvs command’s results> 
```
<span data-ttu-id="69026-214">Rutina Vypíše seznam všech logických svazků, názvy a jejich cesty ve skupině svazku.</span><span class="sxs-lookup"><span data-stu-id="69026-214">This lists all logical volumes, names and their paths in a volume group.</span></span>

```
$ mount <LV path> </mountpath>
```
<span data-ttu-id="69026-215">toomount hello logické svazky toohello cesta podle svého výběru.</span><span class="sxs-lookup"><span data-stu-id="69026-215">toomount hello logical volumes toohello path of your choice.</span></span>


<span data-ttu-id="69026-216">**Pro pole RAID**</span><span class="sxs-lookup"><span data-stu-id="69026-216">**For RAID Arrays**</span></span>

```
$ mdadm –detail –scan
```
<span data-ttu-id="69026-217">Zobrazí podrobnosti o všech disků raid.</span><span class="sxs-lookup"><span data-stu-id="69026-217">This displays details about all raid disks.</span></span> <span data-ttu-id="69026-218">Hello relevantní RAID disku se zobrazí jako`/dev/mdm/<RAID array name in hello backed up VM>`</span><span class="sxs-lookup"><span data-stu-id="69026-218">hello relevant RAID disk will be displayed as `/dev/mdm/<RAID array name in hello backed up VM>`</span></span>

<span data-ttu-id="69026-219">Pokud hello RAID disk fyzických svazků, použijte příkaz připojení hello.</span><span class="sxs-lookup"><span data-stu-id="69026-219">Use hello mount command if hello RAID disk has physical volumes.</span></span>
```
$ mount [RAID Disk Path] [/mounthpath]
```

<span data-ttu-id="69026-220">Pokud tento disk RAID má jiné LVM v nich konfigurovali potom postupovat podle hello stejným způsobem, jak je uvedeno výše pro LVM oddíly s názvem svazku hello se název disku RAID hello</span><span class="sxs-lookup"><span data-stu-id="69026-220">If this RAID disk has another LVM configured in it then follow hello same procedure as outlined above for LVM partitions with hello volume name being hello RAID Disk name</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="69026-221">Řešení potíží</span><span class="sxs-lookup"><span data-stu-id="69026-221">Troubleshooting</span></span>

<span data-ttu-id="69026-222">Pokud máte potíže při obnovování souborů z hello virtuálních počítačů, zkontrolujte hello následující tabulka pro další informace.</span><span class="sxs-lookup"><span data-stu-id="69026-222">If you have problems while recovering files from hello virtual machines, check hello following table for additional information.</span></span>

| <span data-ttu-id="69026-223">Chybová zpráva nebo scénáře</span><span class="sxs-lookup"><span data-stu-id="69026-223">Error Message / Scenario</span></span> | <span data-ttu-id="69026-224">Pravděpodobná příčina</span><span class="sxs-lookup"><span data-stu-id="69026-224">Probable Cause</span></span> | <span data-ttu-id="69026-225">Doporučená akce</span><span class="sxs-lookup"><span data-stu-id="69026-225">Recommended action</span></span> |
| ------------------------ | -------------- | ------------------ |
| <span data-ttu-id="69026-226">Výstupní soubor EXE: *výjimky připojení toohello cíl*</span><span class="sxs-lookup"><span data-stu-id="69026-226">Exe output: *Exception connecting toohello target*</span></span> |<span data-ttu-id="69026-227">Skript není možné tooaccess bod obnovení hello</span><span class="sxs-lookup"><span data-stu-id="69026-227">Script is not able tooaccess hello recovery point</span></span> | <span data-ttu-id="69026-228">Zkontrolujte, zda hello počítač splňuje všechny výše uvedené požadavky na přístup hello</span><span class="sxs-lookup"><span data-stu-id="69026-228">Check whether hello machine fulfills hello access requirements mentioned above</span></span>|  
|   <span data-ttu-id="69026-229">Výstupní soubor EXE: *hello cíl již byla zaznamenána prostřednictvím relace ISCSI.*</span><span class="sxs-lookup"><span data-stu-id="69026-229">Exe output: *hello target has already been logged in via an ISCSI session.*</span></span> |   <span data-ttu-id="69026-230">skript Hello již byl proveden v hello, které byly připojeny stejný počítač a hello jednotky</span><span class="sxs-lookup"><span data-stu-id="69026-230">hello script was already executed on hello same machine and hello drives have been attached</span></span> |   <span data-ttu-id="69026-231">již byly připojeny Hello svazků bodu obnovení hello.</span><span class="sxs-lookup"><span data-stu-id="69026-231">hello volumes of hello recovery point have already been attached.</span></span> <span data-ttu-id="69026-232">Může není připojen s hello stejná písmena z jednotek hello původní virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="69026-232">They may NOT be mounted with hello same drive letters of hello original VM.</span></span> <span data-ttu-id="69026-233">Procházet všech dostupných svazků hello v Průzkumníku souborů hello souboru</span><span class="sxs-lookup"><span data-stu-id="69026-233">Browse through all hello available volumes in hello file explorer for your file</span></span> |
| <span data-ttu-id="69026-234">Výstupní soubor EXE: *tento skript je neplatný, protože hello disky mají byly odpojeny prostřednictvím portálu nebo překročil hello 12 hr limit. Stáhněte si prosím nový skript z portálu hello.*</span><span class="sxs-lookup"><span data-stu-id="69026-234">Exe output: *This script is invalid because hello disks have been dismounted via portal/exceeded hello 12-hr limit. Please download a new script from hello portal.*</span></span> |    <span data-ttu-id="69026-235">Hello disky mají byla odpojena z portálu hello nebo byl překročen limit 12 hr hello</span><span class="sxs-lookup"><span data-stu-id="69026-235">hello disks have been dismounted from hello portal or hello 12-hr limit exceeded</span></span> |  <span data-ttu-id="69026-236">Tato konkrétní exe je neplatný a nelze spustit.</span><span class="sxs-lookup"><span data-stu-id="69026-236">This particular exe is now invalid and can’t be run.</span></span> <span data-ttu-id="69026-237">Pokud budete chtít tooaccess hello soubory tohoto obnovení bodu v čase, navštivte hello portál pro nové exe</span><span class="sxs-lookup"><span data-stu-id="69026-237">If you want tooaccess hello files of that recovery point-in-time, visit hello portal for a new exe</span></span>|
| <span data-ttu-id="69026-238">Na počítači hello, kde je spuštěna hello exe: hello nové svazky nejsou odpojeny po kliknutí na tlačítko odpojení hello</span><span class="sxs-lookup"><span data-stu-id="69026-238">On hello machine where hello exe is run: hello new volumes are not dismounted after hello dismount button is clicked</span></span> |    <span data-ttu-id="69026-239">Hello iniciátor ISCSI na počítači hello není cíli toohello připojení neodpovídá nebo aktualizace a údržba hello mezipaměti</span><span class="sxs-lookup"><span data-stu-id="69026-239">hello ISCSI initiator on hello machine is not responding/refreshing its connection toohello target and maintaining hello cache</span></span> |    <span data-ttu-id="69026-240">Počkejte několik minut, po stisknutí tlačítka odpojení hello.</span><span class="sxs-lookup"><span data-stu-id="69026-240">Wait for some mins after hello dismount button is pressed.</span></span> <span data-ttu-id="69026-241">Pokud ještě nejsou odpojeny hello nové svazky, přejděte prosím prostřednictvím všechny svazky hello.</span><span class="sxs-lookup"><span data-stu-id="69026-241">If hello new volumes are still not dismounted, please browse through all hello volumes.</span></span> <span data-ttu-id="69026-242">Tato vynutí, které hello iniciátor toorefresh hello připojení a hello svazek je odpojený s chybovou zprávou, které hello disku není k dispozici</span><span class="sxs-lookup"><span data-stu-id="69026-242">This forces hello initiator toorefresh hello connection and hello volume is dismounted with an error message that hello disk is not available</span></span>|
| <span data-ttu-id="69026-243">Výstupní soubor EXE: skript je spuštěn úspěšně, ale "Nové svazky připojené" se nezobrazí na výstup skriptu hello</span><span class="sxs-lookup"><span data-stu-id="69026-243">Exe output: Script is run successfully but “New volumes attached” is not displayed on hello script output</span></span> |   <span data-ttu-id="69026-244">Toto je přechodné chybě.</span><span class="sxs-lookup"><span data-stu-id="69026-244">This is a transient error</span></span>   | <span data-ttu-id="69026-245">Hello svazky by byly již připojeny.</span><span class="sxs-lookup"><span data-stu-id="69026-245">hello volumes would have been already attached.</span></span> <span data-ttu-id="69026-246">Otevřete Průzkumníka toobrowse.</span><span class="sxs-lookup"><span data-stu-id="69026-246">Open Explorer toobrowse.</span></span> <span data-ttu-id="69026-247">Pokud ke spouštění skriptů pokaždé, když používáte hello stejný počítač, zvažte, restartování počítače hello a seznamu hello má být zobrazena v běží následné exe hello.</span><span class="sxs-lookup"><span data-stu-id="69026-247">If you are using hello same machine for running scripts every time, consider restarting hello machine and hello list should be displayed in hello subsequent exe runs.</span></span> |
| <span data-ttu-id="69026-248">Konkrétní Linux: nebylo možné tooview hello potřeby svazky</span><span class="sxs-lookup"><span data-stu-id="69026-248">Linux specific: Not able tooview hello desired volumes</span></span> | <span data-ttu-id="69026-249">Hello OS hello počítači, kde se spouští skript hello nemusí rozpoznat základní filesystem hello Dobrý den, zálohovat virtuální počítač</span><span class="sxs-lookup"><span data-stu-id="69026-249">hello OS of hello machine where hello script is run may not recognize hello underlying filesystem of hello backed up VM</span></span> | <span data-ttu-id="69026-250">Kontrola, zda bod obnovení hello je havárií konzistentní nebo konzistentními soubory.</span><span class="sxs-lookup"><span data-stu-id="69026-250">Check whether hello recovery point is crash consistent or file-consistent.</span></span> <span data-ttu-id="69026-251">Pokud soubor hello konzistentní, spusťte skript na jiném počítači, jejichž operační systém rozpozná hello zálohovat systém souborů Virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="69026-251">If file consistent, run hello script on another machine whose OS recognizes hello backed up VM's filesystem</span></span> |
| <span data-ttu-id="69026-252">Specifické pro Windows: nebylo možné tooview hello potřeby svazky</span><span class="sxs-lookup"><span data-stu-id="69026-252">Windows specific: Not able tooview hello desired volumes</span></span> | <span data-ttu-id="69026-253">Hello disky připojené, ale nebyly nakonfigurované hello svazky</span><span class="sxs-lookup"><span data-stu-id="69026-253">hello disks may have been attached but hello volumes were not configured</span></span> | <span data-ttu-id="69026-254">Z úvodní obrazovka správu disku určete bod obnovení související toohello hello dalších disků.</span><span class="sxs-lookup"><span data-stu-id="69026-254">From hello disk management screen, identify hello additional disks related toohello recovery point.</span></span> <span data-ttu-id="69026-255">Pokud jsou některé z těchto disků v režimu offline stavu zkuste přitom online kliknutím pravým tlačítkem na hello disk a klikněte na tlačítko 'Online.</span><span class="sxs-lookup"><span data-stu-id="69026-255">If any of these disks are in offline state try making them online by right-clicking on hello disk and click 'Online'</span></span>|
