---
title: "Kurz služby Azure Analysis Services – Lekce 4: Vytvoření relací | Dokumentace Microsoftu"
description: "Popisuje, jak vytvořit relace v projektu Kurz služby Azure Analysis Services."
services: analysis-services
documentationcenter: 
author: minewiskan
manager: erikre
editor: 
tags: 
ms.assetid: 
ms.service: analysis-services
ms.devlang: NA
ms.topic: get-started-article
ms.tgt_pltfrm: NA
ms.workload: na
ms.date: 05/26/2017
ms.author: owend
ms.openlocfilehash: d79af3915c718a79f60e5f589527eb4c2ae8b367
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 07/11/2017
---
# <a name="lesson-4-create-relationships"></a><span data-ttu-id="ac3ff-103">Lekce 4: Vytvoření relací</span><span class="sxs-lookup"><span data-stu-id="ac3ff-103">Lesson 4: Create relationships</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="ac3ff-104">V této lekci ověříte relace, které se automaticky vytvořily při importu dat, a přidáte nové relace mezi různými tabulkami.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-104">In this lesson, you verify the relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="ac3ff-105">Relace je propojení dvou tabulek, které určuje, jakým způsobem se data v těchto tabulkách mají korelovat.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-105">A relationship is a connection between two tables that establishes how the data in those tables should be correlated.</span></span> <span data-ttu-id="ac3ff-106">Například tabulky DimProduct a DimProductSubcategory mají relaci na základě toho, že každý produkt patří do nějaké podkategorie.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-106">For example, the DimProduct table and the DimProductSubcategory table have a relationship based on the fact that each product belongs to a subcategory.</span></span> <span data-ttu-id="ac3ff-107">Další informace najdete v tématu [Relace](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span><span class="sxs-lookup"><span data-stu-id="ac3ff-107">To learn more, see [Relationships](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span></span>
  
<span data-ttu-id="ac3ff-108">Odhadovaný čas dokončení této lekce: **10 minut**</span><span class="sxs-lookup"><span data-stu-id="ac3ff-108">Estimated time to complete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="ac3ff-109">Požadavky</span><span class="sxs-lookup"><span data-stu-id="ac3ff-109">Prerequisites</span></span>  
<span data-ttu-id="ac3ff-110">Toto téma je součástí kurzu tabelárního modelování, který by se měl dokončit v daném pořadí.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-110">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="ac3ff-111">Před provedením úkolů v této lekci byste měli mít dokončenou předchozí lekci: [Lekce 3: Označení jako tabulky kalendářních dat](../tutorials/aas-lesson-3-mark-as-date-table.md).</span><span class="sxs-lookup"><span data-stu-id="ac3ff-111">Before performing the tasks in this lesson, you should have completed the previous lesson: [Lesson 3: Mark as Date Table](../tutorials/aas-lesson-3-mark-as-date-table.md).</span></span> 
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="ac3ff-112">Kontrola existujících relací a přidání nových relací</span><span class="sxs-lookup"><span data-stu-id="ac3ff-112">Review existing relationships and add new relationships</span></span>  
<span data-ttu-id="ac3ff-113">Při importu dat pomocí funkce Získání dat jste z databáze AdventureWorksDW2014 získali sedm tabulek.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-113">When you imported data by using Get Data, you got seven tables from the AdventureWorksDW2014 database.</span></span> <span data-ttu-id="ac3ff-114">Obecně platí, že při importu dat z relačního zdroje se společně s daty automaticky importují i existující relace.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-114">Generally, when you import data from a relational source, existing relationships are automatically imported together with the data.</span></span> <span data-ttu-id="ac3ff-115">Přesto byste však před tím, než budete pokračovat ve vytváření modelu, měli ověřit správné vytvoření těchto relací mezi tabulkami.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-115">However, before you proceed with authoring your model you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="ac3ff-116">Pro účely tohoto kurzu přidáte tři nové relace.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-116">For this tutorial, you add three new relationships.</span></span>  
  
#### <a name="to-review-existing-relationships"></a><span data-ttu-id="ac3ff-117">Kontrola existujících relací</span><span class="sxs-lookup"><span data-stu-id="ac3ff-117">To review existing relationships</span></span>  
  
1.  <span data-ttu-id="ac3ff-118">Klikněte na nabídku **Model** > **Zobrazení modelu** > **Zobrazení diagramu**.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-118">Click the **Model** menu > **Model View** > **Diagram View**.</span></span>  

    <span data-ttu-id="ac3ff-119">V zobrazení diagramu se zobrazí návrhář modelů – grafický formát zobrazující všechny importované tabulky propojené čárami.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-119">The model designer now appears in Diagram View, a graphical format displaying all the tables you imported with lines between them.</span></span> <span data-ttu-id="ac3ff-120">Čáry mezi tabulkami označují relace, které se automaticky vytvořily při importu dat.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-120">The lines between tables indicate the relationships that were automatically created when you imported the data.</span></span>
    
    ![aas-lesson4-diagram](../tutorials/media/aas-lesson4-diagram.png)
  
    <span data-ttu-id="ac3ff-122">Zahrnuje co nejvíc tabulek je možné s využitím ovládacích prvků minimapy v pravém dolním rohu návrháře modelů.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-122">Include as many of the tables as possible by using minimap controls in the lower-right corner of the model designer.</span></span> <span data-ttu-id="ac3ff-123">Můžete také kliknout na tabulky a přetáhnout je jinam, přiblížit tabulky k sobě nebo je uspořádat do určitého pořadí.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-123">You can also click and drag tables to different locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="ac3ff-124">Přesun tabulek nemá vliv na už existující relace mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-124">Moving tables does not affect the relationships already between the tables.</span></span> <span data-ttu-id="ac3ff-125">Pokud chcete zobrazit všechny sloupce konkrétní tabulky, klikněte na okraj tabulky a tažením ji zvětšete nebo zmenšete.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-125">To view all the columns in a particular table, click and drag on a table edge to expand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="ac3ff-126">Klikněte na plnou čáru mezi tabulkami **DimCustomer** a **DimGeography**.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-126">Click the solid line between the **DimCustomer** table and the **DimGeography** table.</span></span> <span data-ttu-id="ac3ff-127">Plná čára mezi těmito dvěma tabulkami ukazuje, že je tato relace aktivní, tzn. že se používá ve výchozím nastavení při výpočtech vzorců DAX.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-127">The solid line between these two tables shows this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
    <span data-ttu-id="ac3ff-128">Všimněte si, že se teď v rámečku zobrazuje sloupec **GeographyKey** v tabulce **DimCustomer** i sloupec **GeographyKey** v tabulce **DimGeography**.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-128">Notice the **GeographyKey** column in the **DimCustomer** table and the **GeographyKey** column in the **DimGeography** table now both each appear within a box.</span></span> <span data-ttu-id="ac3ff-129">Tyto sloupce se používají v relaci.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-129">These columns are used in the relationship.</span></span> <span data-ttu-id="ac3ff-130">V okně **Vlastnosti** se teď také zobrazují vlastnosti relace.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-130">The relationship’s properties now also appear in the **Properties** window.</span></span>  
  
    > [!TIP]  
    > <span data-ttu-id="ac3ff-131">Kromě použití návrháře modelů v zobrazení diagramu můžete také zobrazit relace mezi všemi tabulkami ve formátu tabulky pomocí dialogového okna Správa relací.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-131">In addition to using the model designer in diagram view, you can also use the Manage Relationships dialog box to show the relationships between all tables in a table format.</span></span> <span data-ttu-id="ac3ff-132">V Průzkumníku tabelárních modelů klikněte pravým tlačítkem na **Relace** > **Správa relací**.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-132">In Tabular Model Explorer, right-click **Relationships** > **Manage Relationships**.</span></span>
  
3.  <span data-ttu-id="ac3ff-133">Ověřte, že se při importu jednotlivých tabulek z databáze AdventureWorksDW vytvořily následující relace:</span><span class="sxs-lookup"><span data-stu-id="ac3ff-133">Verify the following relationships were created when each of the tables were imported from the AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="ac3ff-134">Aktivní</span><span class="sxs-lookup"><span data-stu-id="ac3ff-134">Active</span></span>|<span data-ttu-id="ac3ff-135">Table</span><span class="sxs-lookup"><span data-stu-id="ac3ff-135">Table</span></span>|<span data-ttu-id="ac3ff-136">Související vyhledávací tabulka</span><span class="sxs-lookup"><span data-stu-id="ac3ff-136">Related Lookup Table</span></span>|  
    |----------|---------|------------------------|  
    |<span data-ttu-id="ac3ff-137">Ano</span><span class="sxs-lookup"><span data-stu-id="ac3ff-137">Yes</span></span>|<span data-ttu-id="ac3ff-138">**DimCustomer [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="ac3ff-138">**DimCustomer [GeographyKey]**</span></span>|<span data-ttu-id="ac3ff-139">**DimGeography [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="ac3ff-139">**DimGeography [GeographyKey]**</span></span>|  
    |<span data-ttu-id="ac3ff-140">Ano</span><span class="sxs-lookup"><span data-stu-id="ac3ff-140">Yes</span></span>|<span data-ttu-id="ac3ff-141">**DimProduct [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="ac3ff-141">**DimProduct [ProductSubcategoryKey]**</span></span>|<span data-ttu-id="ac3ff-142">**DimProductSubcategory [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="ac3ff-142">**DimProductSubcategory [ProductSubcategoryKey]**</span></span>|  
    |<span data-ttu-id="ac3ff-143">Ano</span><span class="sxs-lookup"><span data-stu-id="ac3ff-143">Yes</span></span>|<span data-ttu-id="ac3ff-144">**DimProductSubcategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="ac3ff-144">**DimProductSubcategory [ProductCategoryKey]**</span></span>|<span data-ttu-id="ac3ff-145">**DimProductCategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="ac3ff-145">**DimProductCategory [ProductCategoryKey]**</span></span>|  
    |<span data-ttu-id="ac3ff-146">Ano</span><span class="sxs-lookup"><span data-stu-id="ac3ff-146">Yes</span></span>|<span data-ttu-id="ac3ff-147">**FactInternetSales [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="ac3ff-147">**FactInternetSales [CustomerKey]**</span></span>|<span data-ttu-id="ac3ff-148">**DimCustomer [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="ac3ff-148">**DimCustomer [CustomerKey]**</span></span>|  
    |<span data-ttu-id="ac3ff-149">Ano</span><span class="sxs-lookup"><span data-stu-id="ac3ff-149">Yes</span></span>|<span data-ttu-id="ac3ff-150">**FactInternetSales [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="ac3ff-150">**FactInternetSales [ProductKey]**</span></span>|<span data-ttu-id="ac3ff-151">**DimProduct [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="ac3ff-151">**DimProduct [ProductKey]**</span></span>|  
  
    <span data-ttu-id="ac3ff-152">Pokud jakákoli z těchto relací chybí, ověřte, že váš model obsahuje následující tabulky: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory a FactInternetSales.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-152">If any of the relationships are missing, verify that your model includes the following tables: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory, and FactInternetSales.</span></span> <span data-ttu-id="ac3ff-153">Pokud se tabulky ze stejného připojení ke zdroji dat importují v různou dobu, případné relace mezi těmito tabulkami se nevytvoří a musí být vytvořeny ručně.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-153">If tables from the same data source connection are imported at separate times, any relationships between those tables are not be created and must be created manually.</span></span>  

### <a name="take-a-closer-look"></a><span data-ttu-id="ac3ff-154">Bližší prozkoumání</span><span class="sxs-lookup"><span data-stu-id="ac3ff-154">Take a closer look</span></span>
<span data-ttu-id="ac3ff-155">V zobrazení diagramu si všimněte šipky, hvězdičky a čísla na čárách znázorňujících relace mezi tabulkami.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-155">In Diagram View, notice an arrow, an asterisk, and a number on the lines that show the relationship between tables.</span></span>

![aas-lesson4-line](../tutorials/media/aas-lesson4-line.png)

<span data-ttu-id="ac3ff-157">Šipka zobrazuje směr filtru.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-157">The arrow shows the filter direction.</span></span> <span data-ttu-id="ac3ff-158">Hvězdička znázorňuje, že tabulka je v kardinalitě relace 1:N na straně N, zatímco jednička znázorňuje, že tabulka je v relaci na straně 1.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-158">The asterisk shows this table is the many side in the relationship's cardinality, and the one shows this table is the one side of the relationship.</span></span> <span data-ttu-id="ac3ff-159">Pokud potřebujete upravit relaci, například změnit směr filtru relace nebo kardinalitu, dvakrát klikněte na čáru relace a otevřete dialogové okno Upravit relaci.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-159">If you need to edit a relationship; for example, change the relationship's filter direction or cardinality, double-click the relationship line to open the Edit Relationship dialog.</span></span>

![aas-lesson4-edit](../tutorials/media/aas-lesson4-edit.png)

<span data-ttu-id="ac3ff-161">Tyto funkce jsou určené pro pokročilé modelování dat a jsou nad rámec tohoto kurzu.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-161">These features are meant for advanced data modeling and are outside the scope of this tutorial.</span></span> <span data-ttu-id="ac3ff-162">Další informace najdete v tématu [Obousměrné křížové filtry pro tabelární modely ve službě Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span><span class="sxs-lookup"><span data-stu-id="ac3ff-162">To learn more, see [Bi-directional cross filters for tabular models in Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span></span>

<span data-ttu-id="ac3ff-163">V některých případech můžete potřebovat vytvořit mezi tabulkami ve vašem modelu další relace pro podporu určité obchodní logiky.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-163">In some cases, you may need to create additional relationships between tables in your model to support certain business logic.</span></span> <span data-ttu-id="ac3ff-164">Pro účely tohoto kurzu potřebujete vytvořit další tři relace mezi tabulkami FactInternetSales a DimDate.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-164">For this tutorial, you need to create three additional relationships between the FactInternetSales table and the DimDate table.</span></span>  
  
#### <a name="to-add-new-relationships-between-tables"></a><span data-ttu-id="ac3ff-165">Přidání nových relací mezi tabulkami</span><span class="sxs-lookup"><span data-stu-id="ac3ff-165">To add new relationships between tables</span></span>  
  
1.  <span data-ttu-id="ac3ff-166">V návrháři modelů v tabulce **FactInternetSales** klikněte a přidržte sloupec **OrderDate**, přesuňte kurzor na sloupec **Date** v tabulce **DimDate** a uvolněte tlačítko.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-166">In the model designer, in the **FactInternetSales** table, click, and hold on the **OrderDate** column, then drag the cursor to the **Date** column in the **DimDate** table, and then release.</span></span>  

    <span data-ttu-id="ac3ff-167">Zobrazí se plná čára znázorňující, že jste vytvořili aktivní relaci mezi sloupcem **OrderDate** v tabulce **Internet Sales** a sloupcem **Date** v tabulce **DimDate**.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-167">A solid line appears showing you have created an active relationship between the **OrderDate** column in the **Internet Sales** table, and the **Date** column in the **Date** table.</span></span> 
  
      ![aas-lesson4-new](../tutorials/media/aas-lesson4-new.png) 
  
    > [!NOTE]  
    > <span data-ttu-id="ac3ff-169">Při vytváření relací se kardinalita a směr filtru mezi primární tabulkou a související vyhledávací tabulkou vybere automaticky.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-169">When creating relationships, the cardinality and filter direction between the primary table and the related lookup table is automatically selected.</span></span>  
  
2.  <span data-ttu-id="ac3ff-170">V tabulce **FactInternetSales** klikněte a přidržte sloupec **DueDate**, přesuňte kurzor na sloupec **Date** v tabulce **DimDate** a uvolněte tlačítko.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-170">In the **FactInternetSales** table, click and hold on the **DueDate** column, then drag the cursor to the **Date** column in the **DimDate** table, and then release.</span></span>  
  
    <span data-ttu-id="ac3ff-171">Zobrazí se tečkovaná čára znázorňující, že jste vytvořili neaktivní relaci mezi sloupcem **DueDate** v tabulce **FactInternetSales** a sloupcem **Date** v tabulce **DimDate**.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-171">A dotted line appears showing you have created an inactive relationship between the **DueDate** column in the **FactInternetSales** table, and the **Date** column in the **DimDate** table.</span></span> <span data-ttu-id="ac3ff-172">Mezi tabulkami můžete mít víc relací, ale aktivní může vždy být pouze jedna relace.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-172">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span> <span data-ttu-id="ac3ff-173">Neaktivní relace se můžou aktivovat pro provádění speciálních agregací ve vlastních výrazech DAX.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-173">Inactive relationships can be made active to perform special aggregations in custom DAX expressions.</span></span>  
  
3.  <span data-ttu-id="ac3ff-174">Nakonec vytvořte ještě jednu relaci.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-174">Finally, create one more relationship.</span></span> <span data-ttu-id="ac3ff-175">V tabulce **FactInternetSales** klikněte a přidržte sloupec **ShipDate**, přesuňte kurzor na sloupec **Date** v tabulce **DimDate** a uvolněte tlačítko.</span><span class="sxs-lookup"><span data-stu-id="ac3ff-175">In the **FactInternetSales** table, click and hold on the **ShipDate** column, then drag the cursor to the **Date** column in the **DimDate** table, and then release.</span></span>  
    
     ![aas-lesson4-newinactive](../tutorials/media/aas-lesson4-newinactive.png)
  
## <a name="whats-next"></a><span data-ttu-id="ac3ff-177">Co dále?</span><span class="sxs-lookup"><span data-stu-id="ac3ff-177">What's next?</span></span>
<span data-ttu-id="ac3ff-178">[Lekce 5: Vytvoření počítaných sloupců](../tutorials/aas-lesson-5-create-calculated-columns.md)</span><span class="sxs-lookup"><span data-stu-id="ac3ff-178">[Lesson 5: Create calculated columns](../tutorials/aas-lesson-5-create-calculated-columns.md).</span></span>
  
  
  
