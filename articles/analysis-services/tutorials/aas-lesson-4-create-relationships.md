---
<span data-ttu-id="f8d75-101">Title: aaa "Azure Analysis Services kurz Lekce 4: vytvoření relací | Microsoft Docs"Popis: Popisuje, jak hello toocreate vztahy v kurzu projektu Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="f8d75-101">title: aaa"Azure Analysis Services tutorial lesson 4: Create relationships | Microsoft Docs" description: Describes how toocreate relationships in hello Azure Analysis Services tutorial project.</span></span> <span data-ttu-id="f8d75-102">služby: documentationcenter služby analysis services: '' Autor: minewiskan správce: erikre editor: '' značky: "</span><span class="sxs-lookup"><span data-stu-id="f8d75-102">services: analysis-services documentationcenter: '' author: minewiskan manager: erikre editor: '' tags: ''</span></span>

<span data-ttu-id="f8d75-103">MS.AssetID: ms.service: ms.devlang služby analysis services: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26 nebo 2017 ms.author: owend</span><span class="sxs-lookup"><span data-stu-id="f8d75-103">ms.assetid: ms.service: analysis-services ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span></span>
---
# <a name="lesson-4-create-relationships"></a><span data-ttu-id="f8d75-104">Lekce 4: Vytvoření relací</span><span class="sxs-lookup"><span data-stu-id="f8d75-104">Lesson 4: Create relationships</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="f8d75-105">V této lekci ověřte hello vztahy, které byly vytvořeny automaticky při importu dat a přidat nové vztahy mezi různých tabulek.</span><span class="sxs-lookup"><span data-stu-id="f8d75-105">In this lesson, you verify hello relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="f8d75-106">Relace je připojení mezi dvěma tabulkami, které vytváří korelace hello data v těchto tabulkách.</span><span class="sxs-lookup"><span data-stu-id="f8d75-106">A relationship is a connection between two tables that establishes how hello data in those tables should be correlated.</span></span> <span data-ttu-id="f8d75-107">Například hello DimProduct tabulka a tabulka DimProductSubcategory hello mít vztah podle hello fakt, že každý produkt patří tooa podkategorie.</span><span class="sxs-lookup"><span data-stu-id="f8d75-107">For example, hello DimProduct table and hello DimProductSubcategory table have a relationship based on hello fact that each product belongs tooa subcategory.</span></span> <span data-ttu-id="f8d75-108">Další, najdete v části toolearn [vztahy](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span><span class="sxs-lookup"><span data-stu-id="f8d75-108">toolearn more, see [Relationships](https://docs.microsoft.com/sql/analysis-services/tabular-models/relationships-ssas-tabular).</span></span>
  
<span data-ttu-id="f8d75-109">Odhadovaný čas toocomplete této lekci: **10 minut**</span><span class="sxs-lookup"><span data-stu-id="f8d75-109">Estimated time toocomplete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="f8d75-110">Požadavky</span><span class="sxs-lookup"><span data-stu-id="f8d75-110">Prerequisites</span></span>  
<span data-ttu-id="f8d75-111">Toto téma je součástí kurzu tabelárního modelování, který by se měl dokončit v daném pořadí.</span><span class="sxs-lookup"><span data-stu-id="f8d75-111">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="f8d75-112">Před provedením úlohy hello v této lekci, by měl mít dokončit předchozí lekci hello: [Lekce 3: označte jej jako tabulka kalendářních dat](../tutorials/aas-lesson-3-mark-as-date-table.md).</span><span class="sxs-lookup"><span data-stu-id="f8d75-112">Before performing hello tasks in this lesson, you should have completed hello previous lesson: [Lesson 3: Mark as Date Table](../tutorials/aas-lesson-3-mark-as-date-table.md).</span></span> 
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="f8d75-113">Kontrola existujících relací a přidání nových relací</span><span class="sxs-lookup"><span data-stu-id="f8d75-113">Review existing relationships and add new relationships</span></span>  
<span data-ttu-id="f8d75-114">Při importu dat pomocí načíst Data, vy máte sedm tabulky z databáze AdventureWorksDW2014 hello.</span><span class="sxs-lookup"><span data-stu-id="f8d75-114">When you imported data by using Get Data, you got seven tables from hello AdventureWorksDW2014 database.</span></span> <span data-ttu-id="f8d75-115">Obecně platí Pokud importujete data z relační zdroje, existující relace se automaticky importují společně s hello data.</span><span class="sxs-lookup"><span data-stu-id="f8d75-115">Generally, when you import data from a relational source, existing relationships are automatically imported together with hello data.</span></span> <span data-ttu-id="f8d75-116">Přesto byste však před tím, než budete pokračovat ve vytváření modelu, měli ověřit správné vytvoření těchto relací mezi tabulkami.</span><span class="sxs-lookup"><span data-stu-id="f8d75-116">However, before you proceed with authoring your model you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="f8d75-117">Pro účely tohoto kurzu přidáte tři nové relace.</span><span class="sxs-lookup"><span data-stu-id="f8d75-117">For this tutorial, you add three new relationships.</span></span>  
  
#### <a name="tooreview-existing-relationships"></a><span data-ttu-id="f8d75-118">tooreview existující relace</span><span class="sxs-lookup"><span data-stu-id="f8d75-118">tooreview existing relationships</span></span>  
  
1.  <span data-ttu-id="f8d75-119">Klikněte na tlačítko hello **modelu** nabídky > **zobrazení modelu** > **zobrazení diagramu**.</span><span class="sxs-lookup"><span data-stu-id="f8d75-119">Click hello **Model** menu > **Model View** > **Diagram View**.</span></span>  

    <span data-ttu-id="f8d75-120">Hello modelu designer teď zobrazí v zobrazení diagramu, grafické formátu zobrazení všechny tabulky hello, kterou jste naimportovali řádků mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="f8d75-120">hello model designer now appears in Diagram View, a graphical format displaying all hello tables you imported with lines between them.</span></span> <span data-ttu-id="f8d75-121">Hello čáry mezi tabulkami označují hello vztahy, které byly vytvořeny automaticky při importu dat hello.</span><span class="sxs-lookup"><span data-stu-id="f8d75-121">hello lines between tables indicate hello relationships that were automatically created when you imported hello data.</span></span>
    
    ![aas-lesson4-diagram](../tutorials/media/aas-lesson4-diagram.png)
  
    <span data-ttu-id="f8d75-123">Zahrnout libovolný počet tabulek hello nejblíže pomocí ovládacích prvků minimapa v pravém dolním rohu hello hello modelu návrháře.</span><span class="sxs-lookup"><span data-stu-id="f8d75-123">Include as many of hello tables as possible by using minimap controls in hello lower-right corner of hello model designer.</span></span> <span data-ttu-id="f8d75-124">Můžete také klikněte a přetáhněte tabulky toodifferent umístění, spojením blíže tabulek, nebo jejich uvedení v určitém pořadí.</span><span class="sxs-lookup"><span data-stu-id="f8d75-124">You can also click and drag tables toodifferent locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="f8d75-125">Přesunutí tabulek nemá vliv na relace hello již mezi tabulkami hello.</span><span class="sxs-lookup"><span data-stu-id="f8d75-125">Moving tables does not affect hello relationships already between hello tables.</span></span> <span data-ttu-id="f8d75-126">tooview všechny sloupce hello v konkrétní tabulku, klikněte na tlačítko a přetáhněte na tooexpand okraj tabulky nebo vytvořit menší.</span><span class="sxs-lookup"><span data-stu-id="f8d75-126">tooview all hello columns in a particular table, click and drag on a table edge tooexpand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="f8d75-127">Klikněte na souvislou čáru hello mezi hello **DimCustomer** tabulky a hello **DimGeography** tabulky.</span><span class="sxs-lookup"><span data-stu-id="f8d75-127">Click hello solid line between hello **DimCustomer** table and hello **DimGeography** table.</span></span> <span data-ttu-id="f8d75-128">Plná čára Hello mezi těmito dvěma tabulkami ukazuje, že je tento vztah aktivní, to znamená, že použije se ve výchozím nastavení při výpočtu vzorce DAX.</span><span class="sxs-lookup"><span data-stu-id="f8d75-128">hello solid line between these two tables shows this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
    <span data-ttu-id="f8d75-129">Všimněte si hello **GeographyKey** sloupec v hello **DimCustomer** tabulky a hello **GeographyKey** sloupec v hello **DimGeography** tabulky Nyní obě se objeví v rámci pole.</span><span class="sxs-lookup"><span data-stu-id="f8d75-129">Notice hello **GeographyKey** column in hello **DimCustomer** table and hello **GeographyKey** column in hello **DimGeography** table now both each appear within a box.</span></span> <span data-ttu-id="f8d75-130">V těchto sloupcích se používají v relaci hello.</span><span class="sxs-lookup"><span data-stu-id="f8d75-130">These columns are used in hello relationship.</span></span> <span data-ttu-id="f8d75-131">Hello vlastností relace nyní také zobrazí v hello **vlastnosti** okno.</span><span class="sxs-lookup"><span data-stu-id="f8d75-131">hello relationship’s properties now also appear in hello **Properties** window.</span></span>  
  
    > [!TIP]  
    > <span data-ttu-id="f8d75-132">Kromě toho toousing hello Návrhář model v zobrazení diagramu, můžete použít také hello Správa relací dialogové okno pole tooshow hello vztahy mezi všechny tabulky ve formátu tabulky.</span><span class="sxs-lookup"><span data-stu-id="f8d75-132">In addition toousing hello model designer in diagram view, you can also use hello Manage Relationships dialog box tooshow hello relationships between all tables in a table format.</span></span> <span data-ttu-id="f8d75-133">V Průzkumníku tabelárních modelů klikněte pravým tlačítkem na **Relace** > **Správa relací**.</span><span class="sxs-lookup"><span data-stu-id="f8d75-133">In Tabular Model Explorer, right-click **Relationships** > **Manage Relationships**.</span></span>
  
3.  <span data-ttu-id="f8d75-134">Ověřte následující vztahy hello byly vytvořeny při každé z tabulek hello byly importovány z databáze AdventureWorksDW hello:</span><span class="sxs-lookup"><span data-stu-id="f8d75-134">Verify hello following relationships were created when each of hello tables were imported from hello AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="f8d75-135">Aktivní</span><span class="sxs-lookup"><span data-stu-id="f8d75-135">Active</span></span>|<span data-ttu-id="f8d75-136">Table</span><span class="sxs-lookup"><span data-stu-id="f8d75-136">Table</span></span>|<span data-ttu-id="f8d75-137">Související vyhledávací tabulka</span><span class="sxs-lookup"><span data-stu-id="f8d75-137">Related Lookup Table</span></span>|  
    |----------|---------|------------------------|  
    |<span data-ttu-id="f8d75-138">Ano</span><span class="sxs-lookup"><span data-stu-id="f8d75-138">Yes</span></span>|<span data-ttu-id="f8d75-139">**DimCustomer [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="f8d75-139">**DimCustomer [GeographyKey]**</span></span>|<span data-ttu-id="f8d75-140">**DimGeography [GeographyKey]**</span><span class="sxs-lookup"><span data-stu-id="f8d75-140">**DimGeography [GeographyKey]**</span></span>|  
    |<span data-ttu-id="f8d75-141">Ano</span><span class="sxs-lookup"><span data-stu-id="f8d75-141">Yes</span></span>|<span data-ttu-id="f8d75-142">**DimProduct [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="f8d75-142">**DimProduct [ProductSubcategoryKey]**</span></span>|<span data-ttu-id="f8d75-143">**DimProductSubcategory [ProductSubcategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="f8d75-143">**DimProductSubcategory [ProductSubcategoryKey]**</span></span>|  
    |<span data-ttu-id="f8d75-144">Ano</span><span class="sxs-lookup"><span data-stu-id="f8d75-144">Yes</span></span>|<span data-ttu-id="f8d75-145">**DimProductSubcategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="f8d75-145">**DimProductSubcategory [ProductCategoryKey]**</span></span>|<span data-ttu-id="f8d75-146">**DimProductCategory [ProductCategoryKey]**</span><span class="sxs-lookup"><span data-stu-id="f8d75-146">**DimProductCategory [ProductCategoryKey]**</span></span>|  
    |<span data-ttu-id="f8d75-147">Ano</span><span class="sxs-lookup"><span data-stu-id="f8d75-147">Yes</span></span>|<span data-ttu-id="f8d75-148">**FactInternetSales [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="f8d75-148">**FactInternetSales [CustomerKey]**</span></span>|<span data-ttu-id="f8d75-149">**DimCustomer [CustomerKey]**</span><span class="sxs-lookup"><span data-stu-id="f8d75-149">**DimCustomer [CustomerKey]**</span></span>|  
    |<span data-ttu-id="f8d75-150">Ano</span><span class="sxs-lookup"><span data-stu-id="f8d75-150">Yes</span></span>|<span data-ttu-id="f8d75-151">**FactInternetSales [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="f8d75-151">**FactInternetSales [ProductKey]**</span></span>|<span data-ttu-id="f8d75-152">**DimProduct [ProductKey]**</span><span class="sxs-lookup"><span data-stu-id="f8d75-152">**DimProduct [ProductKey]**</span></span>|  
  
    <span data-ttu-id="f8d75-153">Pokud některé z relací hello chybí, ověřte, že model obsahuje následující tabulky hello: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory a FactInternetSales.</span><span class="sxs-lookup"><span data-stu-id="f8d75-153">If any of hello relationships are missing, verify that your model includes hello following tables: DimCustomer, DimDate, DimGeography, DimProduct, DimProductCategory, DimProductSubcategory, and FactInternetSales.</span></span> <span data-ttu-id="f8d75-154">Pokud tabulky z hello stejné připojení ke zdroji dat jsou importovány na samostatné časy, všechny vztahy mezi těmito tabulkami nejsou vytvořeny a musí být vytvořeny ručně.</span><span class="sxs-lookup"><span data-stu-id="f8d75-154">If tables from hello same data source connection are imported at separate times, any relationships between those tables are not be created and must be created manually.</span></span>  

### <a name="take-a-closer-look"></a><span data-ttu-id="f8d75-155">Bližší prozkoumání</span><span class="sxs-lookup"><span data-stu-id="f8d75-155">Take a closer look</span></span>
<span data-ttu-id="f8d75-156">V zobrazení diagramu Všimněte si čísla na hello řádky, které se zobrazí hello relace mezi tabulkami, ŠIPKA a hvězdičku.</span><span class="sxs-lookup"><span data-stu-id="f8d75-156">In Diagram View, notice an arrow, an asterisk, and a number on hello lines that show hello relationship between tables.</span></span>

![aas-lesson4-line](../tutorials/media/aas-lesson4-line.png)

<span data-ttu-id="f8d75-158">Šipka Hello znázorňuje směr filtru hello.</span><span class="sxs-lookup"><span data-stu-id="f8d75-158">hello arrow shows hello filter direction.</span></span> <span data-ttu-id="f8d75-159">Hello hvězdičky ukazuje, že tato tabulka je hello mnoho straně v relaci hello mohutnost a hello jeden ukazuje, že je tato tabulka hello jedné straně relace hello.</span><span class="sxs-lookup"><span data-stu-id="f8d75-159">hello asterisk shows this table is hello many side in hello relationship's cardinality, and hello one shows this table is hello one side of hello relationship.</span></span> <span data-ttu-id="f8d75-160">Pokud potřebujete tooedit vztahu; například změnit směr filtru nebo mohutnost hello relace, klikněte dvakrát na hello vztah řádku tooopen hello dialogové okno Upravit vztah.</span><span class="sxs-lookup"><span data-stu-id="f8d75-160">If you need tooedit a relationship; for example, change hello relationship's filter direction or cardinality, double-click hello relationship line tooopen hello Edit Relationship dialog.</span></span>

![aas-lesson4-edit](../tutorials/media/aas-lesson4-edit.png)

<span data-ttu-id="f8d75-162">Tyto funkce jsou určené pro pokročilé dat, modelování a jsou mimo rámec tohoto návodu hello.</span><span class="sxs-lookup"><span data-stu-id="f8d75-162">These features are meant for advanced data modeling and are outside hello scope of this tutorial.</span></span> <span data-ttu-id="f8d75-163">Další, najdete v části toolearn [obousměrné křížové filtry pro tabulkové modely služby ve službě Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span><span class="sxs-lookup"><span data-stu-id="f8d75-163">toolearn more, see [Bi-directional cross filters for tabular models in Analysis Services](https://docs.microsoft.com/sql/analysis-services/tabular-models/bi-directional-cross-filters-tabular-models-analysis-services).</span></span>

<span data-ttu-id="f8d75-164">V některých případech může být nutné toocreate další relace mezi tabulkami v váš model toosupport určité obchodní logiku.</span><span class="sxs-lookup"><span data-stu-id="f8d75-164">In some cases, you may need toocreate additional relationships between tables in your model toosupport certain business logic.</span></span> <span data-ttu-id="f8d75-165">Pro účely tohoto kurzu potřebujete toocreate tři další vztahy mezi hello FactInternetSales tabulka a tabulka DimDate hello.</span><span class="sxs-lookup"><span data-stu-id="f8d75-165">For this tutorial, you need toocreate three additional relationships between hello FactInternetSales table and hello DimDate table.</span></span>  
  
#### <a name="tooadd-new-relationships-between-tables"></a><span data-ttu-id="f8d75-166">tooadd nové relace mezi tabulkami.</span><span class="sxs-lookup"><span data-stu-id="f8d75-166">tooadd new relationships between tables</span></span>  
  
1.  <span data-ttu-id="f8d75-167">V Návrháři hello modelu, v hello **FactInternetSales** tabulky, klikněte na tlačítko a počkejte hello **OrderDate** sloupec a pak přetáhněte hello kurzor toohello **datum** sloupec v hello  **DimDate** tabulky a poté uvolněte.</span><span class="sxs-lookup"><span data-stu-id="f8d75-167">In hello model designer, in hello **FactInternetSales** table, click, and hold on hello **OrderDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  

    <span data-ttu-id="f8d75-168">Plná čára zobrazí jste vytvořili aktivní relaci mezi hello **OrderDate** sloupec v hello **Internet prodej** tabulky a hello **datum** sloupec v hello **Datum** tabulky.</span><span class="sxs-lookup"><span data-stu-id="f8d75-168">A solid line appears showing you have created an active relationship between hello **OrderDate** column in hello **Internet Sales** table, and hello **Date** column in hello **Date** table.</span></span> 
  
      ![aas-lesson4-new](../tutorials/media/aas-lesson4-new.png) 
  
    > [!NOTE]  
    > <span data-ttu-id="f8d75-170">Při vytváření vztahů, je automaticky vybraný směr hello mohutnost a filtr mezi primární tabulce hello a hello související vyhledávací tabulka.</span><span class="sxs-lookup"><span data-stu-id="f8d75-170">When creating relationships, hello cardinality and filter direction between hello primary table and hello related lookup table is automatically selected.</span></span>  
  
2.  <span data-ttu-id="f8d75-171">V hello **FactInternetSales** tabulky, klikněte na tlačítko a počkejte hello **DueDate** sloupec a pak přetáhněte hello kurzor toohello **datum** sloupec v hello **DimDate** tabulky a poté uvolněte.</span><span class="sxs-lookup"><span data-stu-id="f8d75-171">In hello **FactInternetSales** table, click and hold on hello **DueDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
  
    <span data-ttu-id="f8d75-172">Tečkovaná čára zobrazí jste vytvořili neaktivní relaci mezi hello **DueDate** sloupec v hello **FactInternetSales** tabulky a hello **datum** sloupec v Hello **DimDate** tabulky.</span><span class="sxs-lookup"><span data-stu-id="f8d75-172">A dotted line appears showing you have created an inactive relationship between hello **DueDate** column in hello **FactInternetSales** table, and hello **Date** column in hello **DimDate** table.</span></span> <span data-ttu-id="f8d75-173">Mezi tabulkami můžete mít víc relací, ale aktivní může vždy být pouze jedna relace.</span><span class="sxs-lookup"><span data-stu-id="f8d75-173">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span> <span data-ttu-id="f8d75-174">Neaktivní relace lze provést active tooperform speciální agregace v vlastní výrazů DAX.</span><span class="sxs-lookup"><span data-stu-id="f8d75-174">Inactive relationships can be made active tooperform special aggregations in custom DAX expressions.</span></span>  
  
3.  <span data-ttu-id="f8d75-175">Nakonec vytvořte ještě jednu relaci.</span><span class="sxs-lookup"><span data-stu-id="f8d75-175">Finally, create one more relationship.</span></span> <span data-ttu-id="f8d75-176">V hello **FactInternetSales** tabulky, klikněte na tlačítko a počkejte hello **DatumOdeslání** sloupec a pak přetáhněte hello kurzor toohello **datum** sloupec v hello **DimDate** tabulky a poté uvolněte.</span><span class="sxs-lookup"><span data-stu-id="f8d75-176">In hello **FactInternetSales** table, click and hold on hello **ShipDate** column, then drag hello cursor toohello **Date** column in hello **DimDate** table, and then release.</span></span>  
    
     ![aas-lesson4-newinactive](../tutorials/media/aas-lesson4-newinactive.png)
  
## <a name="whats-next"></a><span data-ttu-id="f8d75-178">Co dále?</span><span class="sxs-lookup"><span data-stu-id="f8d75-178">What's next?</span></span>
<span data-ttu-id="f8d75-179">[Lekce 5: Vytvoření počítaných sloupců](../tutorials/aas-lesson-5-create-calculated-columns.md)</span><span class="sxs-lookup"><span data-stu-id="f8d75-179">[Lesson 5: Create calculated columns](../tutorials/aas-lesson-5-create-calculated-columns.md).</span></span>
  
  
  
