---
<span data-ttu-id="5b8bc-101">Title: aaa "kurz dodatečné lekce Azure Analysis Services: dynamické zabezpečení | Microsoft Docs"Popis: Popisuje, jak filtry toouse dynamické zabezpečení pomocí řádek v kurzu hello Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-101">title: aaa"Azure Analysis Services tutorial supplemental lesson: Dynamic security | Microsoft Docs" description: Describes how toouse dynamic security by using row filters in hello Azure Analysis Services tutorial.</span></span>
<span data-ttu-id="5b8bc-102">služby: documentationcenter služby analysis services: '' Autor: minewiskan správce: erikre editor: '' značky: "</span><span class="sxs-lookup"><span data-stu-id="5b8bc-102">services: analysis-services documentationcenter: '' author: minewiskan manager: erikre editor: '' tags: ''</span></span>

<span data-ttu-id="5b8bc-103">MS.AssetID: ms.service: ms.devlang služby analysis services: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26 nebo 2017 ms.author: owend</span><span class="sxs-lookup"><span data-stu-id="5b8bc-103">ms.assetid: ms.service: analysis-services ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span></span>
---
# <a name="supplemental-lesson---dynamic-security"></a><span data-ttu-id="5b8bc-104">Doplňková lekce – Dynamické zabezpečení</span><span class="sxs-lookup"><span data-stu-id="5b8bc-104">Supplemental lesson - Dynamic security</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="5b8bc-105">V této doplňkové lekci vytvoříte další roli, která implementuje dynamické zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-105">In this supplemental lesson, you create an additional role that implements dynamic security.</span></span> <span data-ttu-id="5b8bc-106">Dynamické funkce zabezpečení poskytuje zabezpečení na úrovni řádků podle hello id uživatele, název nebo přihlášení aktuálně přihlášený uživatel hello.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-106">Dynamic security provides row-level security based on hello user name or login id of hello user currently logged on.</span></span> 
  
<span data-ttu-id="5b8bc-107">tooimplement dynamické zabezpečení, můžete přidat model tooyour tabulky obsahující hello uživatelská jména na uživatele, kteří můžou připojit toohello modelu a procházet objekty modelu a data.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-107">tooimplement dynamic security, you add a table tooyour model containing hello user names of those users that can connect toohello model and browse model objects and data.</span></span> <span data-ttu-id="5b8bc-108">Hello modelu, který vytvoříte pomocí tohoto kurzu je v kontextu hello společnosti Adventure Works; ale toocomplete to lekce, je nutné přidat tabulku obsahující uživatelé z vlastní domény.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-108">hello model you create using this tutorial is in hello context of Adventure Works; however, toocomplete this lesson, you must add a table containing users from your own domain.</span></span> <span data-ttu-id="5b8bc-109">Není nutné hello hesel pro uživatelská jména hello, které jsou přidány.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-109">You do not need hello passwords for hello user names that are added.</span></span> <span data-ttu-id="5b8bc-110">toocreate tabulku EmployeeSecurity se malé ukázkové uživatelů z vlastní domény použijete hello vložení funkci, vkládání dat zaměstnance z tabulky aplikace Excel.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-110">toocreate an EmployeeSecurity table, with a small sample of users from your own domain, you use hello Paste feature, pasting employee data from an Excel spreadsheet.</span></span> <span data-ttu-id="5b8bc-111">Ve scénáři real-world hello tabulku obsahující uživatelská jména obvykle by tabulku ze samotné databázi jako zdroj dat; například skutečné DimEmployee tabulku.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-111">In a real-world scenario, hello table containing user names would typically be a table from an actual database as a data source; for example, a real DimEmployee table.</span></span>  
  
<span data-ttu-id="5b8bc-112">dynamické zabezpečení tooimplement, používáte dvě funkce jazyka DAX: [funkce uživatelské jméno (DAX)](http://msdn.microsoft.com/22dddc4b-1648-4c89-8c93-f1151162b93f) a [funkce LOOKUPVALUE (DAX)](http://msdn.microsoft.com/73a51c4d-131c-4c33-a139-b1342d10caab).</span><span class="sxs-lookup"><span data-stu-id="5b8bc-112">tooimplement dynamic security, you use two DAX functions: [USERNAME Function (DAX)](http://msdn.microsoft.com/22dddc4b-1648-4c89-8c93-f1151162b93f) and [LOOKUPVALUE Function (DAX)](http://msdn.microsoft.com/73a51c4d-131c-4c33-a139-b1342d10caab).</span></span> <span data-ttu-id="5b8bc-113">Tyto funkce použité ve vzorci filtru řádků jsou definované v nové roli.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-113">These functions, applied in a row filter formula, are defined in a new role.</span></span> <span data-ttu-id="5b8bc-114">Pomocí funkce LOOKUPVALUE hello hello vzorec určuje hodnotu z tabulky EmployeeSecurity hello.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-114">By using hello LOOKUPVALUE function, hello formula specifies a value from hello EmployeeSecurity table.</span></span> <span data-ttu-id="5b8bc-115">Vzorec Hello pak předá, že hodnota toohello uživatelské jméno funkce, který určuje uživatelské jméno hello hello uživateli přihlášenému patří toothis role.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-115">hello formula then passes that value toohello USERNAME function, which specifies hello user name of hello user logged on belongs toothis role.</span></span> <span data-ttu-id="5b8bc-116">vyhledejte uživatele Hello můžete pouze dat zadaný hodnotou hello role řádkové filtry.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-116">hello user can then browse only data specified by hello role’s row filters.</span></span> <span data-ttu-id="5b8bc-117">V tomto scénáři zadejte prodeje zaměstnanci můžete procházet pouze data prodeje Internetu pro hello prodejní teritoria, ve kterých jsou členy.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-117">In this scenario, you specify that sales employees can only browse Internet sales data for hello sales territories in which they are a member.</span></span>  
  
<span data-ttu-id="5b8bc-118">Ty úlohy, které jsou jedinečné toothis scénář tabulkový model společnosti Adventure Works, ale nebude platit scénářem z reálného prostředí tooa jsou identifikovány jako takový.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-118">Those tasks that are unique toothis Adventure Works tabular model scenario, but would not necessarily apply tooa real-world scenario are identified as such.</span></span> <span data-ttu-id="5b8bc-119">Každý úkol obsahuje další informace popisující účel hello hello úlohy.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-119">Each task includes additional information describing hello purpose of hello task.</span></span>  
  
<span data-ttu-id="5b8bc-120">Odhadovaný čas toocomplete této lekci: **30 minut**</span><span class="sxs-lookup"><span data-stu-id="5b8bc-120">Estimated time toocomplete this lesson: **30 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="5b8bc-121">Požadavky</span><span class="sxs-lookup"><span data-stu-id="5b8bc-121">Prerequisites</span></span>  
<span data-ttu-id="5b8bc-122">Toto téma doplňkové lekce je součástí kurzu tabelárního modelování, který by se měl dokončit v daném pořadí.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-122">This supplemental lesson topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="5b8bc-123">Před provedením úlohy hello v této další lekci, by měl mít dokončit všechny předchozí lekce.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-123">Before performing hello tasks in this supplemental lesson, you should have completed all previous lessons.</span></span>  
  
## <a name="add-hello-dimsalesterritory-table-toohello-aw-internet-sales-tabular-model-project"></a><span data-ttu-id="5b8bc-124">Přidat hello DimSalesTerritory tabulky toohello AW Internet prodej tabulkový Model projekt</span><span class="sxs-lookup"><span data-stu-id="5b8bc-124">Add hello DimSalesTerritory table toohello AW Internet Sales Tabular Model Project</span></span>  
<span data-ttu-id="5b8bc-125">tooimplement dynamické zabezpečení pro tento scénář společnosti Adventure Works, musíte přidat dva další tabulky tooyour modelu.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-125">tooimplement dynamic security for this Adventure Works scenario, you must add two additional tables tooyour model.</span></span> <span data-ttu-id="5b8bc-126">Hello první tabulky, které přidáte je DimSalesTerritory (jako oblast prodeje) z hello stejnou databázi AdventureWorksDW.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-126">hello first table you add is DimSalesTerritory (as Sales Territory) from hello same AdventureWorksDW database.</span></span> <span data-ttu-id="5b8bc-127">Řádek filtru toohello SalesTerritory tabulku, která definuje konkrétní datové hello použijete později můžete procházet hello přihlášeného uživatele.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-127">You later apply a row filter toohello SalesTerritory table that defines hello particular data hello logged on user can browse.</span></span>  
  
#### <a name="tooadd-hello-dimsalesterritory-table"></a><span data-ttu-id="5b8bc-128">Tabulka DimSalesTerritory tooadd hello</span><span class="sxs-lookup"><span data-stu-id="5b8bc-128">tooadd hello DimSalesTerritory table</span></span>  
  
1.  <span data-ttu-id="5b8bc-129">V části Průzkumník tabelárních modelů > **Zdroje Dat** klikněte pravým tlačítkem na vaše připojení a potom klikněte na **Importovat nové tabulky**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-129">In Tabular Model Explorer > **Data Sources**, right-click your connection, and then click **Import New Tables**.</span></span>  

    <span data-ttu-id="5b8bc-130">Pokud se zobrazí dialogové okno hello pověření k zosobnění, zadejte pověření k zosobnění hello jste použili v lekci 2: Přidat Data.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-130">If hello Impersonation Credentials dialog box appears, type hello impersonation credentials you used in Lesson 2: Add Data.</span></span>
  
2.  <span data-ttu-id="5b8bc-131">V tabulce dat, vyberte hello **DimSalesTerritory** tabulky a potom klikněte na **OK**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-131">In Navigator, select hello **DimSalesTerritory** table, and then click **OK**.</span></span>    
  
3.  <span data-ttu-id="5b8bc-132">V editoru dotazů, klikněte na tlačítko hello **DimSalesTerritory** dotaz a pak odeberte **SalesTerritoryAlternateKey** sloupce.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-132">In Query Editor, click hello **DimSalesTerritory** query, and then remove **SalesTerritoryAlternateKey** column.</span></span>  
  
7.  <span data-ttu-id="5b8bc-133">Klikněte na **Importovat**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-133">Click **Import**.</span></span>  
  
    <span data-ttu-id="5b8bc-134">Nová tabulka Hello se přidá toohello modelu prostoru.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-134">hello new table is added toohello model workspace.</span></span> <span data-ttu-id="5b8bc-135">Objektů a dat z tabulky DimSalesTerritory zdroj hello jsou pak importovat do tabulkového modelu vaší AW Internet prodej.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-135">Objects and data from hello source DimSalesTerritory table are then imported into your AW Internet Sales Tabular Model.</span></span>  
  
9. <span data-ttu-id="5b8bc-136">Po hello tabulka byla úspěšně importována, klikněte na tlačítko **Zavřít**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-136">After hello table has been imported successfully, click **Close**.</span></span>  

## <a name="add-a-table-with-user-name-data"></a><span data-ttu-id="5b8bc-137">Přidání tabulky s daty o uživatelských jménech</span><span class="sxs-lookup"><span data-stu-id="5b8bc-137">Add a table with user name data</span></span>  
<span data-ttu-id="5b8bc-138">Tabulka DimEmployee Hello v ukázková databáze AdventureWorksDW hello obsahuje uživatelů z domény AdventureWorks hello.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-138">hello DimEmployee table in hello AdventureWorksDW sample database contains users from hello AdventureWorks domain.</span></span> <span data-ttu-id="5b8bc-139">Tato uživatelská jména ve vašem prostředí neexistují.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-139">Those user names do not exist in your own environment.</span></span> <span data-ttu-id="5b8bc-140">Musíte v modelu vytvořit tabulku, která bude obsahovat malý vzorek skutečných uživatelů (alespoň tři) z vaší organizace.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-140">You must create a table in your model that contains a small sample (at least three) of actual users from your organization.</span></span> <span data-ttu-id="5b8bc-141">Tito uživatelé se pak přidejte jako členy toohello novou roli.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-141">You then add these users as members toohello new role.</span></span> <span data-ttu-id="5b8bc-142">Není nutné hello hesel pro uživatelská jména ukázkový text hello, ale potřebujete skutečné uživatelských jmen systému Windows z vlastní domény.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-142">You do not need hello passwords for hello sample user names, but you do need actual Windows user names from your own domain.</span></span>  
  
#### <a name="tooadd-an-employeesecurity-table"></a><span data-ttu-id="5b8bc-143">tooadd EmployeeSecurity tabulky</span><span class="sxs-lookup"><span data-stu-id="5b8bc-143">tooadd an EmployeeSecurity table</span></span>  
  
1.  <span data-ttu-id="5b8bc-144">Otevřete aplikaci Microsoft Excel a vytvořte list.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-144">Open Microsoft Excel, creating a worksheet.</span></span>  
  
2.  <span data-ttu-id="5b8bc-145">Hello následující tabulky, včetně hello řádek záhlaví, zkopírujte a vložte jej do listu hello.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-145">Copy hello following table, including hello header row, and then paste it into hello worksheet.</span></span>  

    ```
      |EmployeeId|SalesTerritoryId|FirstName|LastName|LoginId|  
      |---------------|----------------------|--------------|-------------|------------|  
      |1|2|<user first name>|<user last name>|\<domain\username>|  
      |1|3|<user first name>|<user last name>|\<domain\username>|  
      |2|4|<user first name>|<user last name>|\<domain\username>|  
      |3|5|<user first name>|<user last name>|\<domain\username>|  
    ```

3.  <span data-ttu-id="5b8bc-146">Nahraďte hello křestní jméno, příjmení a doména\uživatelské_jméno hello názvy a přihlašovací ID tři uživatelé ve vaší organizaci.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-146">Replace hello first name, last name, and domain\username with hello names and login ids of three users in your organization.</span></span> <span data-ttu-id="5b8bc-147">Uveďte hello stejného uživatele na hello první dva řádky, pro EmployeeId 1, zobrazující tohoto uživatele patří toomore než jednu prodejní oblast.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-147">Put hello same user on hello first two rows, for EmployeeId 1, showing this user belongs toomore than one sales territory.</span></span> <span data-ttu-id="5b8bc-148">Nechte hello pole EmployeeId a SalesTerritoryId, jak jsou.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-148">Leave hello EmployeeId and SalesTerritoryId fields as they are.</span></span>  
  
4.  <span data-ttu-id="5b8bc-149">Uložit list hello jako **SampleEmployee**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-149">Save hello worksheet as **SampleEmployee**.</span></span>  
  
5.  <span data-ttu-id="5b8bc-150">V listu hello, vyberte všechny buňky hello s daty zaměstnanců, včetně hello hlavičky, pak klikněte pravým tlačítkem na vybrané hello data a pak klikněte na tlačítko **kopie**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-150">In hello worksheet, select all hello cells with employee data, including hello headers, then right-click hello selected data, and then click **Copy**.</span></span>  
  
6.  <span data-ttu-id="5b8bc-151">V sadě SSDT, klikněte na tlačítko hello **upravit** nabídce a pak klikněte na tlačítko **vložení**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-151">In SSDT, click hello **Edit** menu, and then click **Paste**.</span></span>  
  
    <span data-ttu-id="5b8bc-152">Pokud je šedě vložení, klikněte na možnost žádný sloupec v tabulce v hello modelu návrháře okno a akci opakujte.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-152">If Paste is grayed out, click any column in any table in hello model designer window, and try again.</span></span>  
  
7.  <span data-ttu-id="5b8bc-153">V hello **vložení Preview** dialogu **název tabulky**, typ **EmployeeSecurity**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-153">In hello **Paste Preview** dialog box, in **Table Name**, type **EmployeeSecurity**.</span></span>  
  
8.  <span data-ttu-id="5b8bc-154">V **toobe Data vložit**, ověřte hello data zahrnují všechny hello uživatelských dat a záhlaví z listu SampleEmployee hello.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-154">In **Data toobe pasted**, verify hello data includes all hello user data and headers from hello SampleEmployee worksheet.</span></span>  
  
9. <span data-ttu-id="5b8bc-155">Ověřte, že je zaškrtnuté políčko **Použít první řádek jako záhlaví sloupců** a potom klikněte na **Ok**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-155">Verify **Use first row as column headers** is checked, and then click **Ok**.</span></span>  
  
    <span data-ttu-id="5b8bc-156">Je vytvořena nová tabulka s názvem EmployeeSecurity zaměstnanec daty zkopírovanými z listu SampleEmployee hello.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-156">A new table named EmployeeSecurity with employee data copied from hello SampleEmployee worksheet is created.</span></span>  
  
## <a name="create-relationships-between-factinternetsales-dimgeography-and-dimsalesterritory-table"></a><span data-ttu-id="5b8bc-157">Vytvoření relací mezi tabulkami FactInternetSales, DimGeography a DimSalesTerritory</span><span class="sxs-lookup"><span data-stu-id="5b8bc-157">Create relationships between FactInternetSales, DimGeography, and DimSalesTerritory table</span></span>  
<span data-ttu-id="5b8bc-158">Hello FactInternetSales, DimGeography a DimSalesTerritory tabulka všechny obsahovat sloupec společných SalesTerritoryId.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-158">hello FactInternetSales, DimGeography, and DimSalesTerritory table all contain a common column, SalesTerritoryId.</span></span> <span data-ttu-id="5b8bc-159">Hello SalesTerritoryId sloupec v tabulce DimSalesTerritory hello obsahuje hodnoty jiné Id pro každý prodejní oblasti.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-159">hello SalesTerritoryId column in hello DimSalesTerritory table contains values with a different Id for each sales territory.</span></span>  
  
#### <a name="toocreate-relationships-between-hello-factinternetsales-dimgeography-and-hello-dimsalesterritory-table"></a><span data-ttu-id="5b8bc-160">toocreate vztahy mezi hello FactInternetSales, DimGeography a tabulku DimSalesTerritory hello</span><span class="sxs-lookup"><span data-stu-id="5b8bc-160">toocreate relationships between hello FactInternetSales, DimGeography, and hello DimSalesTerritory table</span></span>  
  
1.  <span data-ttu-id="5b8bc-161">V zobrazení diagramu, v hello **DimGeography** tabulky, klikněte na tlačítko a počkejte hello **SalesTerritoryId** sloupec a pak přetáhněte hello kurzor toohello **SalesTerritoryId** sloupec v hello **DimSalesTerritory** tabulky a poté uvolněte.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-161">In Diagram View, in hello **DimGeography** table, click, and hold on hello **SalesTerritoryId** column, then drag hello cursor toohello **SalesTerritoryId** column in hello **DimSalesTerritory** table, and then release.</span></span>  
  
2.  <span data-ttu-id="5b8bc-162">V hello **FactInternetSales** tabulky, klikněte na tlačítko a počkejte hello **SalesTerritoryId** sloupec a pak přetáhněte hello kurzor toohello **SalesTerritoryId** sloupec v hello  **DimSalesTerritory** tabulky a poté uvolněte.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-162">In hello **FactInternetSales** table, click, and hold on hello **SalesTerritoryId** column, then drag hello cursor toohello **SalesTerritoryId** column in hello **DimSalesTerritory** table, and then release.</span></span>  
  
    <span data-ttu-id="5b8bc-163">Všimněte si hello Active vlastnost pro tento vztah je False, což znamená, že je neaktivní.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-163">Notice hello Active property for this relationship is False, meaning it's inactive.</span></span> <span data-ttu-id="5b8bc-164">Tabulka FactInternetSales Hello již má jiný aktivní relace.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-164">hello FactInternetSales table already has another active relationship.</span></span>  
  
## <a name="hide-hello-employeesecurity-table-from-client-applications"></a><span data-ttu-id="5b8bc-165">Skrýt hello EmployeeSecurity tabulky z klientské aplikace</span><span class="sxs-lookup"><span data-stu-id="5b8bc-165">Hide hello EmployeeSecurity Table from client applications</span></span>  
<span data-ttu-id="5b8bc-166">V této úloze je skrýt hello EmployeeSecurity tabulky, udržování z zobrazovaných v seznamu polí klientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-166">In this task, you hide hello EmployeeSecurity table, keeping it from appearing in a client application’s field list.</span></span> <span data-ttu-id="5b8bc-167">Nezapomeňte, že skrytím tabulku nezabezpečíte.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-167">Keep in mind that hiding a table does not secure it.</span></span> <span data-ttu-id="5b8bc-168">Uživatelé pořád můžou dotazovat data v tabulce EmployeeSecurity, pokud ví jak.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-168">Users can still query EmployeeSecurity table data if they know how.</span></span> <span data-ttu-id="5b8bc-169">toosecure hello dat v tabulce EmployeeSecurity, brání uživatelé nebudou moct tooquery dat., můžete použít filtr v úloze později.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-169">toosecure hello EmployeeSecurity table data, preventing users from being able tooquery any of its data, you apply a filter in a later task.</span></span>  
  
#### <a name="toohide-hello-employeesecurity-table-from-client-applications"></a><span data-ttu-id="5b8bc-170">Tabulka EmployeeSecurity hello toohide z klientské aplikace</span><span class="sxs-lookup"><span data-stu-id="5b8bc-170">toohide hello EmployeeSecurity table from client applications</span></span>  
  
-   <span data-ttu-id="5b8bc-171">V Návrháři hello modelu, v zobrazení diagramu, klikněte pravým tlačítkem na hello **zaměstnanec** záhlaví tabulky a potom klikněte na **skrýt v nástrojích klienta**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-171">In hello model designer, in Diagram View, right-click hello **Employee** table heading, and then click **Hide from Client Tools**.</span></span>  
  
## <a name="create-a-sales-employees-by-territory-user-role"></a><span data-ttu-id="5b8bc-172">Vytvoření role uživatele Zaměstnanci prodeje podle oblasti</span><span class="sxs-lookup"><span data-stu-id="5b8bc-172">Create a Sales Employees by Territory user role</span></span>  
<span data-ttu-id="5b8bc-173">V tomto úkolu vytvoříte roli uživatele.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-173">In this task, you create a user role.</span></span> <span data-ttu-id="5b8bc-174">Tato role zahrnuje definování řádky hello DimSalesTerritory tabulky, které jsou viditelné toousers řádkovém filtru.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-174">This role includes a row filter defining which rows of hello DimSalesTerritory table are visible toousers.</span></span> <span data-ttu-id="5b8bc-175">Hello filtru se potom použije v relaci hello na více tabulek směr tooall jiné související tooDimSalesTerritory.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-175">hello filter is then applied in hello one-to-many relationship direction tooall other tables related tooDimSalesTerritory.</span></span> <span data-ttu-id="5b8bc-176">Můžete také použít filtr, který zabezpečuje hello celou tabulku EmployeeSecurity nebudou dotazovatelný žádný uživatel, který je členem hello role.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-176">You also apply a filter that secures hello entire EmployeeSecurity table from being queryable by any user that is a member of hello role.</span></span>  
  
> [!NOTE]  
> <span data-ttu-id="5b8bc-177">Hello prodeje zaměstnanci území role, které vytvoříte v této lekci omezuje členy toobrowse (nebo dotazu) pouze údaje o prodeji toowhich hello prodejní oblasti, ke které patří.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-177">hello Sales Employees by Territory role you create in this lesson restricts members toobrowse (or query) only sales data for hello sales territory toowhich they belong.</span></span> <span data-ttu-id="5b8bc-178">Pokud přidáte uživatele jako člen toohello prodej zaměstnanci území role, která existuje také jako člen v roli vytvořené v [lekce 11: vytvoření role](../tutorials/aas-lesson-11-create-roles.md), získat kombinace oprávnění.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-178">If you add a user as a member toohello Sales Employees by Territory role that also exists as a member in a role created in [Lesson 11: Create Roles](../tutorials/aas-lesson-11-create-roles.md), you get a combination of permissions.</span></span> <span data-ttu-id="5b8bc-179">Pokud uživatel je členem více rolí, hello oprávnění a řádkové filtry definované pro každou roli jsou kumulativní.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-179">When a user is a member of multiple roles, hello permissions, and row filters defined for each role are cumulative.</span></span> <span data-ttu-id="5b8bc-180">To znamená má uživatel hello hello větší oprávnění dáno hello kombinaci rolí.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-180">That is, hello user has hello greater permissions determined by hello combination of roles.</span></span>  
  
#### <a name="toocreate-a-sales-employees-by-territory-user-role"></a><span data-ttu-id="5b8bc-181">toocreate zaměstnanci prodej území rolí uživatele</span><span class="sxs-lookup"><span data-stu-id="5b8bc-181">toocreate a Sales Employees by Territory user role</span></span>  
  
1.  <span data-ttu-id="5b8bc-182">V sadě SSDT, klikněte na tlačítko hello **modelu** nabídce a pak klikněte na tlačítko **role**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-182">In SSDT, click hello **Model** menu, and then click **Roles**.</span></span>  
  
2.  <span data-ttu-id="5b8bc-183">Ve **Správci rolí** klikněte na **Nový**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-183">In **Role Manager**, click **New**.</span></span>  
  
    <span data-ttu-id="5b8bc-184">Nová role s hello přidány žádné oprávnění je toohello seznamu.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-184">A new role with hello None permission is added toohello list.</span></span>  
  
3.  <span data-ttu-id="5b8bc-185">Klikněte na tlačítko Nová role hello a potom v hello **název** sloupce, přejmenujte roli hello příliš**zaměstnanci prodeje podle oblastí**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-185">Click hello new role, and then in hello **Name** column, rename hello role too**Sales Employees by Territory**.</span></span>  
  
4.  <span data-ttu-id="5b8bc-186">V hello **oprávnění** sloupce, klikněte na tlačítko hello rozevíracího seznamu a pak vyberte hello **čtení** oprávnění.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-186">In hello **Permissions** column, click hello dropdown list, and then select hello **Read** permission.</span></span>  
  
5.  <span data-ttu-id="5b8bc-187">Klikněte na tlačítko hello **členy** a pak klikněte **přidat**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-187">Click hello **Members** tab, and then click **Add**.</span></span>  
  
6.  <span data-ttu-id="5b8bc-188">V hello **vybrat uživatele nebo skupinu** dialogu **Enter hello objekt s názvem tooselect**, typ hello první ukázkové uživatelské jméno jste použili při vytvoření tabulky EmployeeSecurity hello.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-188">In hello **Select User or Group** dialog box, in **Enter hello object named tooselect**, type hello first sample user name you used when creating hello EmployeeSecurity table.</span></span> <span data-ttu-id="5b8bc-189">Klikněte na tlačítko **Kontrola názvů** tooverify hello uživatelské jméno je platný a poté klikněte na tlačítko **Ok**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-189">Click **Check Names** tooverify hello user name is valid, and then click **Ok**.</span></span>  
  
    <span data-ttu-id="5b8bc-190">Opakujte tento krok, přidání hello jiných ukázka uživatelská jména, který jste použili při vytvoření tabulky EmployeeSecurity hello.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-190">Repeat this step, adding hello other sample user names you used when creating hello EmployeeSecurity table.</span></span>  
  
7.  <span data-ttu-id="5b8bc-191">Klikněte na tlačítko hello **řádkové filtry** kartě.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-191">Click hello **Row Filters** tab.</span></span>  
  
8.  <span data-ttu-id="5b8bc-192">Pro hello **EmployeeSecurity** tabulky v hello **DAX filtru** sloupce, typ hello následující vzorec:</span><span class="sxs-lookup"><span data-stu-id="5b8bc-192">For hello **EmployeeSecurity** table, in hello **DAX Filter** column, type hello following formula:</span></span>  
  
    ```
      =FALSE()  
    ```
  
    <span data-ttu-id="5b8bc-193">Tento vzorec určuje, že všechny sloupce přeložit toohello false Boolean podmínku.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-193">This formula specifies that all columns resolve toohello false Boolean condition.</span></span> <span data-ttu-id="5b8bc-194">Žádné sloupce pro tabulku EmployeeSecurity hello může dotazovat členem hello prodej zaměstnanci území rolí uživatele.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-194">No columns for hello EmployeeSecurity table can be queried by a member of hello Sales Employees by Territory user role.</span></span>  
  
9. <span data-ttu-id="5b8bc-195">Pro hello **DimSalesTerritory** tabulky, typ hello následující vzorec:</span><span class="sxs-lookup"><span data-stu-id="5b8bc-195">For hello **DimSalesTerritory** table, type hello following formula:</span></span>  

    ```  
    ='Sales Territory'[Sales Territory Id]=LOOKUPVALUE('Employee Security'[Sales Territory Id], 
      'Employee Security'[Login Id], USERNAME(), 
      'Employee Security'[Sales Territory Id], 
      'Sales Territory'[Sales Territory Id]) 
    ```
  
    <span data-ttu-id="5b8bc-196">V tento vzorec hello funkce LOOKUPVALUE vrátí všechny hodnoty pro sloupec hello DimEmployeeSecurity [SalesTerritoryId], kde hello EmployeeSecurity [LoginId] je hello stejná jako aktuální přihlášení uživatelské jméno systému Windows a EmployeeSecurity [[[hello SalesTerritoryId] je hello stejné jako hello DimSalesTerritory [SalesTerritoryId].</span><span class="sxs-lookup"><span data-stu-id="5b8bc-196">In this formula, hello LOOKUPVALUE function returns all values for hello DimEmployeeSecurity[SalesTerritoryId] column, where hello EmployeeSecurity[LoginId] is hello same as hello current logged on Windows user name, and EmployeeSecurity[SalesTerritoryId] is hello same as hello DimSalesTerritory[SalesTerritoryId].</span></span>  
  
    <span data-ttu-id="5b8bc-197">Hello sada identifikátorů prodejní oblasti vrácený LOOKUPVALUE je pak použít toorestrict hello řádky zobrazené v hello DimSalesTerritory tabulky.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-197">hello set of sales territory IDs returned by LOOKUPVALUE is then used toorestrict hello rows shown in hello DimSalesTerritory table.</span></span> <span data-ttu-id="5b8bc-198">Zobrazí se pouze řádky, kde hello SalesTerritoryID pro řádek hello je v sadě hello ID vrácené funkce LOOKUPVALUE hello.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-198">Only rows where hello SalesTerritoryID for hello row is in hello set of IDs returned by hello LOOKUPVALUE function are displayed.</span></span>  
  
10. <span data-ttu-id="5b8bc-199">Ve Správci rolí klikněte na **Ok**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-199">In Role Manager, click **Ok**.</span></span>  
  
## <a name="test-hello-sales-employees-by-territory-user-role"></a><span data-ttu-id="5b8bc-200">Testování hello prodej zaměstnanci území rolí uživatele</span><span class="sxs-lookup"><span data-stu-id="5b8bc-200">Test hello Sales Employees by Territory User Role</span></span>  
<span data-ttu-id="5b8bc-201">V této úloze použijte hello analyzovat v aplikaci Excel funkce v rozšíření SSDT tootest hello účinnosti hello prodej zaměstnanci území rolí uživatele.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-201">In this task, you use hello Analyze in Excel feature in SSDT tootest hello efficacy of hello Sales Employees by Territory user role.</span></span> <span data-ttu-id="5b8bc-202">Zadejte jednu hello uživatelských jmen jste přidali toohello EmployeeSecurity tabulky a jako člen role hello.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-202">You specify one of hello user names you added toohello EmployeeSecurity table and as a member of hello role.</span></span> <span data-ttu-id="5b8bc-203">Toto uživatelské jméno je pak použít jako hello efektivní uživatelské jméno v hello připojení vytvořit mezi aplikace Excel a hello modelu.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-203">This user name is then used as hello effective user name in hello connection created between Excel and hello model.</span></span>  
  
#### <a name="tootest-hello-sales-employees-by-territory-user-role"></a><span data-ttu-id="5b8bc-204">tootest hello prodej zaměstnanci území rolí uživatele</span><span class="sxs-lookup"><span data-stu-id="5b8bc-204">tootest hello Sales Employees by Territory user role</span></span>  
  
1.  <span data-ttu-id="5b8bc-205">V sadě SSDT, klikněte na tlačítko hello **modelu** nabídce a pak klikněte na tlačítko **analyzovat v aplikaci Excel**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-205">In SSDT, click hello **Model** menu, and then click **Analyze in Excel**.</span></span>  
  
2.  <span data-ttu-id="5b8bc-206">V hello **analyzovat v aplikaci Excel** dialogovém **zadejte hello uživatelské jméno nebo roli toouse tooconnect toohello modelu**, vyberte **ostatní uživatele systému Windows**a potom klikněte na **Procházet**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-206">In hello **Analyze in Excel** dialog box, in **Specify hello user name or role toouse tooconnect toohello model**, select **Other Windows User**, and then click **Browse**.</span></span>  
  
3.  <span data-ttu-id="5b8bc-207">V hello **vybrat uživatele nebo skupinu** dialogu **zadejte tooselect název objektu hello**, zadejte uživatelské jméno zahrnuty v tabulce EmployeeSecurity hello a pak klikněte na tlačítko **Kontrola názvů**.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-207">In hello **Select User or Group** dialog box, in **Enter hello object name tooselect**, type a user name you included in hello EmployeeSecurity table, and then click **Check Names**.</span></span>  
  
4.  <span data-ttu-id="5b8bc-208">Klikněte na tlačítko **Ok** tooclose hello **vybrat uživatele nebo skupinu** dialogové okno a pak klikněte na tlačítko **Ok** tooclose hello **analyzovat v aplikaci Excel** dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-208">Click **Ok** tooclose hello **Select User or Group** dialog box, and then click **Ok** tooclose hello **Analyze in Excel** dialog box.</span></span>  
  
    <span data-ttu-id="5b8bc-209">Otevře se aplikace Excel s novým sešitem.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-209">Excel opens with a new workbook.</span></span> <span data-ttu-id="5b8bc-210">Automaticky se vytvoří kontingenční tabulka.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-210">A PivotTable is automatically created.</span></span> <span data-ttu-id="5b8bc-211">Hello seznamu polí kontingenční tabulku obsahuje většinu hello datová pole v novém modelu k dispozici.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-211">hello PivotTable Fields list includes most of hello data fields available in your new model.</span></span>  
  
    <span data-ttu-id="5b8bc-212">Všimněte si hello EmployeeSecurity tabulka není zobrazená v seznamu polí kontingenční tabulky hello.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-212">Notice hello EmployeeSecurity table is not visible in hello PivotTable Fields list.</span></span> <span data-ttu-id="5b8bc-213">Tuto tabulku jste skryli před klientskými nástroji v jednom z předchozích úkolů.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-213">You hid this table from client tools in a previous task.</span></span>  
  
5.  <span data-ttu-id="5b8bc-214">V hello **pole** v seznamu **∑ Internet prodej** (measures), vyberte hello **InternetTotalSales** měr.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-214">In hello **Fields** list, in **∑ Internet Sales** (measures), select hello **InternetTotalSales** measure.</span></span> <span data-ttu-id="5b8bc-215">míra Hello je zadán do hello **hodnoty** pole.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-215">hello measure is entered into hello **Values** fields.</span></span>  
  
6.  <span data-ttu-id="5b8bc-216">Vyberte hello **SalesTerritoryId** sloupec z hello **DimSalesTerritory** tabulky.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-216">Select hello **SalesTerritoryId** column from hello **DimSalesTerritory** table.</span></span> <span data-ttu-id="5b8bc-217">sloupec Hello je zadán do hello **popisky řádků** pole.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-217">hello column is entered into hello **Row Labels** fields.</span></span>  
  
    <span data-ttu-id="5b8bc-218">Všimněte si aplikaci Internet prodeje jsou zobrazeny pouze pro hello jednu oblast toowhich hello efektivní uživatelské jméno, které jste použili patří.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-218">Notice Internet sales figures appear only for hello one region toowhich hello effective user name you used belongs.</span></span> <span data-ttu-id="5b8bc-219">Pokud jste vybrali jiný sloupec, například města z tabulky DimGeography hello jako popisek řádku pole, pouze města v hello prodejní oblasti toowhich hello efektivní uživatelské patří se zobrazí.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-219">If you select another column, like City from hello DimGeography table as Row Label field, only cities in hello sales territory toowhich hello effective user belongs are displayed.</span></span>  
  
    <span data-ttu-id="5b8bc-220">Tohoto uživatele nelze procházet nebo data žádné Internet prodejní teritoria než hello jeden náleží do dotazu.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-220">This user cannot browse or query any Internet sales data for territories other than hello one they belong to.</span></span> <span data-ttu-id="5b8bc-221">Je toto omezení, protože hello Filtr řádků definovaný pro tabulku DimSalesTerritory hello, v hello prodeje zaměstnanci území rolí uživatele, zabezpečuje data pro všechna data související s tooother prodejní teritoria.</span><span class="sxs-lookup"><span data-stu-id="5b8bc-221">This restriction is because hello row filter defined for hello DimSalesTerritory table, in hello Sales Employees by Territory user role, secures data for all data related tooother sales territories.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5b8bc-222">Viz také</span><span class="sxs-lookup"><span data-stu-id="5b8bc-222">See Also</span></span>  
[<span data-ttu-id="5b8bc-223">Funkce USERNAME (DAX)</span><span class="sxs-lookup"><span data-stu-id="5b8bc-223">USERNAME Function (DAX)</span></span>](https://msdn.microsoft.com/library/hh230954.aspx)  
[<span data-ttu-id="5b8bc-224">Funkce LOOKUPVALUE (DAX)</span><span class="sxs-lookup"><span data-stu-id="5b8bc-224">LOOKUPVALUE Function (DAX)</span></span>](https://msdn.microsoft.com/library/gg492170.aspx)  
[<span data-ttu-id="5b8bc-225">Funkce CUSTOMDATA (DAX)</span><span class="sxs-lookup"><span data-stu-id="5b8bc-225">CUSTOMDATA Function (DAX)</span></span>](https://msdn.microsoft.com/library/hh213140.aspx)  