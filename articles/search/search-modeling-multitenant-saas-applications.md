---
title: "aaaModeling víceklientskou architekturu, ve službě Azure Search | Microsoft Docs"
description: "Další informace o běžných návrhová schémata pro víceklientské aplikace SaaS při používání služby Azure Search."
services: search
manager: jhubbard
author: ashmaka
documentationcenter: 
ms.assetid: 72e9696a-553b-47dc-9e05-a82db0ebf094
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 10/26/2016
ms.author: ashmaka
ms.openlocfilehash: dd46cda772d32566b9aaa18d407f12fdf178bd43
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="design-patterns-for-multitenant-saas-applications-and-azure-search"></a><span data-ttu-id="c44d4-103">Vzory pro víceklientské aplikace SaaS a Azure Search návrhu</span><span class="sxs-lookup"><span data-stu-id="c44d4-103">Design patterns for multitenant SaaS applications and Azure Search</span></span>
<span data-ttu-id="c44d4-104">Víceklientské aplikace je ten, který poskytuje hello stejný služeb a možnosti tooany počet klientů, kteří se nedají zobrazit ani sdílet hello data žádným jiným klientem.</span><span class="sxs-lookup"><span data-stu-id="c44d4-104">A multitenant application is one that provides hello same services and capabilities tooany number of tenants who cannot see or share hello data of any other tenant.</span></span> <span data-ttu-id="c44d4-105">Tento dokument popisuje strategie izolace klienta pro víceklientské aplikace sestavené s Azure Search.</span><span class="sxs-lookup"><span data-stu-id="c44d4-105">This document discusses tenant isolation strategies for multitenant applications built with Azure Search.</span></span>

## <a name="azure-search-concepts"></a><span data-ttu-id="c44d4-106">Koncepty Azure Search</span><span class="sxs-lookup"><span data-stu-id="c44d4-106">Azure Search concepts</span></span>
<span data-ttu-id="c44d4-107">Jako řešení vyhledávání jako služby Azure Search umožňuje vývojářům tooadd bohaté vyhledávání vyskytne tooapplications bez správou jakékoli infrastruktury nebo stal odborník v hledání.</span><span class="sxs-lookup"><span data-stu-id="c44d4-107">As a search-as-a-service solution, Azure Search allows developers tooadd rich search experiences tooapplications without managing any infrastructure or becoming an expert in search.</span></span> <span data-ttu-id="c44d4-108">Data je odeslán toohello služby a pak uloženy v cloudu hello.</span><span class="sxs-lookup"><span data-stu-id="c44d4-108">Data is uploaded toohello service and then stored in hello cloud.</span></span> <span data-ttu-id="c44d4-109">Pomocí jednoduchých požadavků toohello rozhraní API služby Azure Search, hello data pak se dají upravit a vyhledávat.</span><span class="sxs-lookup"><span data-stu-id="c44d4-109">Using simple requests toohello Azure Search API, hello data can then be modified and searched.</span></span> <span data-ttu-id="c44d4-110">Přehled služby hello lze nalézt v [v tomto článku](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="c44d4-110">An overview of hello service can be found in [this article](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="c44d4-111">Před hovoříte o vzory návrhu, je důležité toounderstand některé pojmy v Azure Search.</span><span class="sxs-lookup"><span data-stu-id="c44d4-111">Before discussing design patterns, it is important toounderstand some concepts in Azure Search.</span></span>

### <a name="search-services-indexes-fields-and-documents"></a><span data-ttu-id="c44d4-112">Vyhledávací služby, indexy, pole a dokumentů</span><span class="sxs-lookup"><span data-stu-id="c44d4-112">Search services, indexes, fields, and documents</span></span>
<span data-ttu-id="c44d4-113">Při používání služby Azure Search, jeden odběratel tooa *služby vyhledávání*.</span><span class="sxs-lookup"><span data-stu-id="c44d4-113">When using Azure Search, one subscribes tooa *search service*.</span></span> <span data-ttu-id="c44d4-114">Data je nahrané tooAzure vyhledávání, uloží se do *index* v rámci služby vyhledávání hello.</span><span class="sxs-lookup"><span data-stu-id="c44d4-114">As data is uploaded tooAzure Search, it is stored in an *index* within hello search service.</span></span> <span data-ttu-id="c44d4-115">Může být počet indexů v rámci jedné služby.</span><span class="sxs-lookup"><span data-stu-id="c44d4-115">There can be a number of indexes within a single service.</span></span> <span data-ttu-id="c44d4-116">Koncepty seznámit toouse hello databází, hello vyhledávací služba může být připodobnit tooa databáze, hello indexy v rámci služby mohou být připodobnit tootables v databázi.</span><span class="sxs-lookup"><span data-stu-id="c44d4-116">toouse hello familiar concepts of databases, hello search service can be likened tooa database while hello indexes within a service can be likened tootables within a database.</span></span>

<span data-ttu-id="c44d4-117">Každý index v rámci služby vyhledávání má svou vlastní schéma, který je definovaný počet přizpůsobitelné *pole*.</span><span class="sxs-lookup"><span data-stu-id="c44d4-117">Each index within a search service has its own schema, which is defined by a number of customizable *fields*.</span></span> <span data-ttu-id="c44d4-118">Přidávání dat indexu Azure Search tooan hello tvar individuální *dokumenty*.</span><span class="sxs-lookup"><span data-stu-id="c44d4-118">Data is added tooan Azure Search index in hello form of individual *documents*.</span></span> <span data-ttu-id="c44d4-119">Každý dokument musí být nahrané tooa konkrétním indexem a schéma této indexu se musí vejít.</span><span class="sxs-lookup"><span data-stu-id="c44d4-119">Each document must be uploaded tooa particular index and must fit that index's schema.</span></span> <span data-ttu-id="c44d4-120">Při hledání dat pomocí Azure Search, jsou dotazy fulltextové vyhledávání hello vydaný pro konkrétním indexem.</span><span class="sxs-lookup"><span data-stu-id="c44d4-120">When searching data using Azure Search, hello full-text search queries are issued against a particular index.</span></span>  <span data-ttu-id="c44d4-121">toocompare tyto koncepty toothose databáze, pole můžou být připodobnit toocolumns v tabulce a dokumenty můžou být připodobnit toorows.</span><span class="sxs-lookup"><span data-stu-id="c44d4-121">toocompare these concepts toothose of a database, fields can be likened toocolumns in a table and documents can be likened toorows.</span></span>

### <a name="scalability"></a><span data-ttu-id="c44d4-122">Škálovatelnost</span><span class="sxs-lookup"><span data-stu-id="c44d4-122">Scalability</span></span>
<span data-ttu-id="c44d4-123">Všechny služby Azure Search v hello Standard [cenová úroveň](https://azure.microsoft.com/pricing/details/search/) můžete škálovat v dvěma rozměry: úložiště a dostupnost.</span><span class="sxs-lookup"><span data-stu-id="c44d4-123">Any Azure Search service in hello Standard [pricing tier](https://azure.microsoft.com/pricing/details/search/) can scale in two dimensions: storage and availability.</span></span>

* <span data-ttu-id="c44d4-124">*Oddíly* přidáním tooincrease hello úložiště vyhledávací službu.</span><span class="sxs-lookup"><span data-stu-id="c44d4-124">*Partitions* can be added tooincrease hello storage of a search service.</span></span>
* <span data-ttu-id="c44d4-125">*Repliky* přidáním tooa služby tooincrease hello propustnost žádostí, které může zpracovat vyhledávací službu.</span><span class="sxs-lookup"><span data-stu-id="c44d4-125">*Replicas* can be added tooa service tooincrease hello throughput of requests that a search service can handle.</span></span>

<span data-ttu-id="c44d4-126">Přidávání a odebírání oddílů a repliky ve vám umožní hello kapacitu hello vyhledávání služby toogrow hello množství dat a přenosy dat požadavky aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="c44d4-126">Adding and removing partitions and replicas at will allow hello capacity of hello search service toogrow with hello amount of data and traffic hello application demands.</span></span> <span data-ttu-id="c44d4-127">V pořadí pro tooachieve služby hledání čtení [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), vyžaduje dvě repliky.</span><span class="sxs-lookup"><span data-stu-id="c44d4-127">In order for a search service tooachieve a read [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires two replicas.</span></span> <span data-ttu-id="c44d4-128">V pořadí pro službu tooachieve pro čtení a zápis [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), vyžaduje tři repliky.</span><span class="sxs-lookup"><span data-stu-id="c44d4-128">In order for a service tooachieve a read-write [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires three replicas.</span></span>

### <a name="service-and-index-limits-in-azure-search"></a><span data-ttu-id="c44d4-129">Limity služby a index ve službě Azure Search</span><span class="sxs-lookup"><span data-stu-id="c44d4-129">Service and index limits in Azure Search</span></span>
<span data-ttu-id="c44d4-130">Existuje několik různých [cenové úrovně](https://azure.microsoft.com/pricing/details/search/) ve službě Azure Search, každý z úrovně hello má jiný [omezení a kvóty](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="c44d4-130">There are a few different [pricing tiers](https://azure.microsoft.com/pricing/details/search/) in Azure Search, each of hello tiers has different [limits and quotas](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="c44d4-131">Některé z těchto omezení jsou v hello úrovně služeb, některé jsou na úrovni hello index a některé jsou na úrovni oddílu hello.</span><span class="sxs-lookup"><span data-stu-id="c44d4-131">Some of these limits are at hello service-level, some are at hello index-level, and some are at hello partition-level.</span></span>

|  | <span data-ttu-id="c44d4-132">Basic</span><span class="sxs-lookup"><span data-stu-id="c44d4-132">Basic</span></span> | <span data-ttu-id="c44d4-133">Standard1</span><span class="sxs-lookup"><span data-stu-id="c44d4-133">Standard1</span></span> | <span data-ttu-id="c44d4-134">Standard2</span><span class="sxs-lookup"><span data-stu-id="c44d4-134">Standard2</span></span> | <span data-ttu-id="c44d4-135">Standard3</span><span class="sxs-lookup"><span data-stu-id="c44d4-135">Standard3</span></span> | <span data-ttu-id="c44d4-136">Standard3 HD</span><span class="sxs-lookup"><span data-stu-id="c44d4-136">Standard3 HD</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="c44d4-137">Maximální replik pro službu</span><span class="sxs-lookup"><span data-stu-id="c44d4-137">Maximum Replicas per Service</span></span> |<span data-ttu-id="c44d4-138">3</span><span class="sxs-lookup"><span data-stu-id="c44d4-138">3</span></span> |<span data-ttu-id="c44d4-139">12</span><span class="sxs-lookup"><span data-stu-id="c44d4-139">12</span></span> |<span data-ttu-id="c44d4-140">12</span><span class="sxs-lookup"><span data-stu-id="c44d4-140">12</span></span> |<span data-ttu-id="c44d4-141">12</span><span class="sxs-lookup"><span data-stu-id="c44d4-141">12</span></span> |<span data-ttu-id="c44d4-142">12</span><span class="sxs-lookup"><span data-stu-id="c44d4-142">12</span></span> |
| <span data-ttu-id="c44d4-143">Maximální oddílů pro službu</span><span class="sxs-lookup"><span data-stu-id="c44d4-143">Maximum Partitions per Service</span></span> |<span data-ttu-id="c44d4-144">1</span><span class="sxs-lookup"><span data-stu-id="c44d4-144">1</span></span> |<span data-ttu-id="c44d4-145">12</span><span class="sxs-lookup"><span data-stu-id="c44d4-145">12</span></span> |<span data-ttu-id="c44d4-146">12</span><span class="sxs-lookup"><span data-stu-id="c44d4-146">12</span></span> |<span data-ttu-id="c44d4-147">12</span><span class="sxs-lookup"><span data-stu-id="c44d4-147">12</span></span> |<span data-ttu-id="c44d4-148">1</span><span class="sxs-lookup"><span data-stu-id="c44d4-148">1</span></span> |
| <span data-ttu-id="c44d4-149">Maximální vyhledávání jednotky (repliky * oddíly) pro službu</span><span class="sxs-lookup"><span data-stu-id="c44d4-149">Maximum Search Units (Replicas*Partitions) per Service</span></span> |<span data-ttu-id="c44d4-150">3</span><span class="sxs-lookup"><span data-stu-id="c44d4-150">3</span></span> |<span data-ttu-id="c44d4-151">36</span><span class="sxs-lookup"><span data-stu-id="c44d4-151">36</span></span> |<span data-ttu-id="c44d4-152">36</span><span class="sxs-lookup"><span data-stu-id="c44d4-152">36</span></span> |<span data-ttu-id="c44d4-153">36</span><span class="sxs-lookup"><span data-stu-id="c44d4-153">36</span></span> |<span data-ttu-id="c44d4-154">36 (max 3 oddíly)</span><span class="sxs-lookup"><span data-stu-id="c44d4-154">36 (max 3 partitions)</span></span> |
| <span data-ttu-id="c44d4-155">Maximální dokumenty pro službu</span><span class="sxs-lookup"><span data-stu-id="c44d4-155">Maximum Documents per Service</span></span> |<span data-ttu-id="c44d4-156">1 milion</span><span class="sxs-lookup"><span data-stu-id="c44d4-156">1 million</span></span> |<span data-ttu-id="c44d4-157">180 milionů</span><span class="sxs-lookup"><span data-stu-id="c44d4-157">180 million</span></span> |<span data-ttu-id="c44d4-158">720 milionů</span><span class="sxs-lookup"><span data-stu-id="c44d4-158">720 million</span></span> |<span data-ttu-id="c44d4-159">1.4 miliardy</span><span class="sxs-lookup"><span data-stu-id="c44d4-159">1.4 billion</span></span> |<span data-ttu-id="c44d4-160">600 milionů</span><span class="sxs-lookup"><span data-stu-id="c44d4-160">600 million</span></span> |
| <span data-ttu-id="c44d4-161">Maximální velikost úložiště pro službu</span><span class="sxs-lookup"><span data-stu-id="c44d4-161">Maximum Storage per Service</span></span> |<span data-ttu-id="c44d4-162">2 GB</span><span class="sxs-lookup"><span data-stu-id="c44d4-162">2 GB</span></span> |<span data-ttu-id="c44d4-163">300 GB</span><span class="sxs-lookup"><span data-stu-id="c44d4-163">300 GB</span></span> |<span data-ttu-id="c44d4-164">1,2 TB</span><span class="sxs-lookup"><span data-stu-id="c44d4-164">1.2 TB</span></span> |<span data-ttu-id="c44d4-165">2,4 TB</span><span class="sxs-lookup"><span data-stu-id="c44d4-165">2.4 TB</span></span> |<span data-ttu-id="c44d4-166">600 GB</span><span class="sxs-lookup"><span data-stu-id="c44d4-166">600 GB</span></span> |
| <span data-ttu-id="c44d4-167">Maximální dokumenty na oddíly</span><span class="sxs-lookup"><span data-stu-id="c44d4-167">Maximum Documents per Partition</span></span> |<span data-ttu-id="c44d4-168">1 milion</span><span class="sxs-lookup"><span data-stu-id="c44d4-168">1 million</span></span> |<span data-ttu-id="c44d4-169">15 milionů</span><span class="sxs-lookup"><span data-stu-id="c44d4-169">15 million</span></span> |<span data-ttu-id="c44d4-170">60 milionů</span><span class="sxs-lookup"><span data-stu-id="c44d4-170">60 million</span></span> |<span data-ttu-id="c44d4-171">120 milionů</span><span class="sxs-lookup"><span data-stu-id="c44d4-171">120 million</span></span> |<span data-ttu-id="c44d4-172">200 milionů</span><span class="sxs-lookup"><span data-stu-id="c44d4-172">200 million</span></span> |
| <span data-ttu-id="c44d4-173">Maximální velikost úložiště na jeden oddíl</span><span class="sxs-lookup"><span data-stu-id="c44d4-173">Maximum Storage per Partition</span></span> |<span data-ttu-id="c44d4-174">2 GB</span><span class="sxs-lookup"><span data-stu-id="c44d4-174">2 GB</span></span> |<span data-ttu-id="c44d4-175">25 GB</span><span class="sxs-lookup"><span data-stu-id="c44d4-175">25 GB</span></span> |<span data-ttu-id="c44d4-176">100 GB</span><span class="sxs-lookup"><span data-stu-id="c44d4-176">100 GB</span></span> |<span data-ttu-id="c44d4-177">200 GB</span><span class="sxs-lookup"><span data-stu-id="c44d4-177">200 GB</span></span> |<span data-ttu-id="c44d4-178">200 GB</span><span class="sxs-lookup"><span data-stu-id="c44d4-178">200 GB</span></span> |
| <span data-ttu-id="c44d4-179">Maximální indexů pro službu</span><span class="sxs-lookup"><span data-stu-id="c44d4-179">Maximum Indexes per Service</span></span> |<span data-ttu-id="c44d4-180">5</span><span class="sxs-lookup"><span data-stu-id="c44d4-180">5</span></span> |<span data-ttu-id="c44d4-181">50</span><span class="sxs-lookup"><span data-stu-id="c44d4-181">50</span></span> |<span data-ttu-id="c44d4-182">200</span><span class="sxs-lookup"><span data-stu-id="c44d4-182">200</span></span> |<span data-ttu-id="c44d4-183">200</span><span class="sxs-lookup"><span data-stu-id="c44d4-183">200</span></span> |<span data-ttu-id="c44d4-184">3000 (max 1000 indexy nebo oddíl)</span><span class="sxs-lookup"><span data-stu-id="c44d4-184">3000 (max 1000 indexes/partition)</span></span> |

#### <a name="s3-high-density"></a><span data-ttu-id="c44d4-185">S3 s vysokou hustotou.</span><span class="sxs-lookup"><span data-stu-id="c44d4-185">S3 High Density'</span></span>
<span data-ttu-id="c44d4-186">Ve službě Azure Search S3 cenovou úroveň je možnost pro režim vysokou hustotou (HD) hello určený speciálně pro víceklientské scénáře.</span><span class="sxs-lookup"><span data-stu-id="c44d4-186">In Azure Search’s S3 pricing tier, there is an option for hello High Density (HD) mode designed specifically for multitenant scenarios.</span></span> <span data-ttu-id="c44d4-187">V mnoha případech je nutné toosupport velký počet klientů menší pod hello výhody tooachieve jedné služby efektivitu jednoduchost a náklady.</span><span class="sxs-lookup"><span data-stu-id="c44d4-187">In many cases, it is necessary toosupport a large number of smaller tenants under a single service tooachieve hello benefits of simplicity and cost efficiency.</span></span>

<span data-ttu-id="c44d4-188">S3 HD umožňuje hello mnoho malých indexy toobe zabalené pod správu hello služby hledání jednoduchého obchodování tooscale možnost hello se indexy používající oddíly pro hello možnost toohost více indexů v jedné službě.</span><span class="sxs-lookup"><span data-stu-id="c44d4-188">S3 HD allows for hello many small indexes toobe packed under hello management of a single search service by trading hello ability tooscale out indexes using partitions for hello ability toohost more indexes in a single service.</span></span>

<span data-ttu-id="c44d4-189">Služby S3 namítají, může mít mezi 1 a 200 indexy, které společně by mohl být hostitelem až miliardy dokumenty too1.4.</span><span class="sxs-lookup"><span data-stu-id="c44d4-189">Concretely, an S3 service could have between 1 and 200 indexes that together could host up too1.4 billion documents.</span></span> <span data-ttu-id="c44d4-190">S3 HD na hello by umožnilo druhé straně jednotlivé indexy tooonly přejděte too1 milionů dokumentů, ale dokáže zpracovat až too1000 indexů pro oddíl (až too3000 pro službu) se dokument celkový počet 200 milionů na oddíl (až too600 milionů za služby).</span><span class="sxs-lookup"><span data-stu-id="c44d4-190">An S3 HD on hello other hand would allow individual indexes tooonly go up too1 million documents, but it can handle up too1000 indexes per partition (up too3000 per service) with a total document count of 200 million per partition (up too600 million per service).</span></span>

## <a name="considerations-for-multitenant-applications"></a><span data-ttu-id="c44d4-191">Důležité informace pro víceklientské aplikace</span><span class="sxs-lookup"><span data-stu-id="c44d4-191">Considerations for multitenant applications</span></span>
<span data-ttu-id="c44d4-192">Víceklientské aplikace musí efektivní distribuci prostředků mezi hello klientům při zachování některé úrovně ochrany osobních údajů mezi hello různé klienty.</span><span class="sxs-lookup"><span data-stu-id="c44d4-192">Multitenant applications must effectively distribute resources among hello tenants while preserving some level of privacy between hello various tenants.</span></span> <span data-ttu-id="c44d4-193">Existuje několik důležité informace při návrhu hello architektura pro takové aplikace:</span><span class="sxs-lookup"><span data-stu-id="c44d4-193">There are a few considerations when designing hello architecture for such an application:</span></span>

* <span data-ttu-id="c44d4-194">*Izolaci klientů:* vývojáři aplikace potřebují tootake příslušná opatření tooensure, že máte žádné klienty Neautorizováno nebo nežádoucí přístup k datům toohello ostatních klientů.</span><span class="sxs-lookup"><span data-stu-id="c44d4-194">*Tenant isolation:* Application developers need tootake appropriate measures tooensure that no tenants have unauthorized or unwanted access toohello data of other tenants.</span></span> <span data-ttu-id="c44d4-195">Nad rámec hello perspektivy ochrany osobních údajů vyžadují strategie izolace klienta efektivní správu sdílených prostředků a ochranu před aktivní okolí.</span><span class="sxs-lookup"><span data-stu-id="c44d4-195">Beyond hello perspective of data privacy, tenant isolation strategies require effective management of shared resources and protection from noisy neighbors.</span></span>
* <span data-ttu-id="c44d4-196">*Náklady na prostředek v cloudu:* jako s žádnou jinou aplikaci, musí zůstat řešení softwaru náklady konkurenční jako součást víceklientské aplikace.</span><span class="sxs-lookup"><span data-stu-id="c44d4-196">*Cloud resource cost:* As with any other application, software solutions must remain cost competitive as a component of a multitenant application.</span></span>
* <span data-ttu-id="c44d4-197">*Snadné operací:* při vývoji víceklientské architektury, hello dopad na operace aplikace hello a složitost je důležitý faktor.</span><span class="sxs-lookup"><span data-stu-id="c44d4-197">*Ease of Operations:* When developing a multitenant architecture, hello impact on hello application's operations and complexity is an important consideration.</span></span> <span data-ttu-id="c44d4-198">Má služba Azure Search [SLA 99,9 %](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="c44d4-198">Azure Search has a [99.9% SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>
* <span data-ttu-id="c44d4-199">*Globální nároky:* víceklientské aplikace může být nutné tooeffectively obsluhovat klienty, které jsou rozmístěny v celém světě hello.</span><span class="sxs-lookup"><span data-stu-id="c44d4-199">*Global footprint:* Multitenant applications may need tooeffectively serve tenants which are distributed across hello globe.</span></span>
* <span data-ttu-id="c44d4-200">*Škálovatelnost:* vývojáři aplikace potřebují tooconsider, jak se odsouhlasení mezi zachování dostatečně nízkou úroveň aplikace složitost a návrhu tooscale aplikace hello s počtem klientů a hello velikost dat klientů a zatížení.</span><span class="sxs-lookup"><span data-stu-id="c44d4-200">*Scalability:* Application developers need tooconsider how they reconcile between maintaining a sufficiently low level of application complexity and designing hello application tooscale with number of tenants and hello size of tenants' data and workload.</span></span>

<span data-ttu-id="c44d4-201">Služba Azure Search nabízí několik hranice, které mohou být data a úlohy použité tooisolate klientů.</span><span class="sxs-lookup"><span data-stu-id="c44d4-201">Azure Search offers a few boundaries that can be used tooisolate tenants’ data and workload.</span></span>

## <a name="modeling-multitenancy-with-azure-search"></a><span data-ttu-id="c44d4-202">Modelování víceklientskou architekturu s Azure Search</span><span class="sxs-lookup"><span data-stu-id="c44d4-202">Modeling multitenancy with Azure Search</span></span>
<span data-ttu-id="c44d4-203">V případě hello víceklientské scénáře vývojář aplikace hello využívá jednu nebo více služeb vyhledávání a dělit svým klientům mezi služby, indexy nebo obojí.</span><span class="sxs-lookup"><span data-stu-id="c44d4-203">In hello case of a multitenant scenario, hello application developer consumes one or more search services and divide their tenants among services, indexes, or both.</span></span> <span data-ttu-id="c44d4-204">Vyhledávání systému Azure má několik běžných vzorů při modelování víceklientské scénář:</span><span class="sxs-lookup"><span data-stu-id="c44d4-204">Azure Search has a few common patterns when modeling a multitenant scenario:</span></span>

1. <span data-ttu-id="c44d4-205">*Index každého klienta:* každý klient má vlastní index v rámci služby vyhledávání, která je sdílena s jinými klienty.</span><span class="sxs-lookup"><span data-stu-id="c44d4-205">*Index per tenant:* Each tenant has its own index within a search service that is shared with other tenants.</span></span>
2. <span data-ttu-id="c44d4-206">*Služba každého klienta:* má každý klient svůj vlastní vyhrazený služby Azure Search nabízí nejvyšší úroveň oddělení dat a zatížení.</span><span class="sxs-lookup"><span data-stu-id="c44d4-206">*Service per tenant:* Each tenant has its own dedicated Azure Search service, offering highest level of data and workload separation.</span></span>
3. <span data-ttu-id="c44d4-207">*Kombinace obou:* větší, další aktivní klienty přiřazené vyhrazené služby, zatímco menší klienty přiřazené jednotlivé indexy v rámci sdílených služeb.</span><span class="sxs-lookup"><span data-stu-id="c44d4-207">*Mix of both:* Larger, more-active tenants are assigned dedicated services while smaller tenants are assigned individual indexes within shared services.</span></span>

## <a name="1-index-per-tenant"></a><span data-ttu-id="c44d4-208">1. Index každého klienta</span><span class="sxs-lookup"><span data-stu-id="c44d4-208">1. Index per tenant</span></span>
![Portrétu hello index za klienta modelu](./media/search-modeling-multitenant-saas-applications/azure-search-index-per-tenant.png)

<span data-ttu-id="c44d4-210">Ve model index za klienta více klientů zabírají jedné služby Azure Search, kde každý klient má své vlastní index.</span><span class="sxs-lookup"><span data-stu-id="c44d4-210">In an index-per-tenant model, multiple tenants occupy a single Azure Search service where each tenant has their own index.</span></span>

<span data-ttu-id="c44d4-211">Klienti dosáhnout izolace dat, protože všechny vyhledávání, požadavky a operace dokumentu vydávají na úrovni indexu ve službě Azure Search.</span><span class="sxs-lookup"><span data-stu-id="c44d4-211">Tenants achieve data isolation because all search requests and document operations are issued at an index level in Azure Search.</span></span> <span data-ttu-id="c44d4-212">V hello aplikační vrstvu je sledování nutné hello toodirect hello různé klienty provoz toohello správné indexy při také správu prostředků na úrovni služby hello mezi všechny klienty.</span><span class="sxs-lookup"><span data-stu-id="c44d4-212">In hello application layer, there is hello need awareness toodirect hello various tenants’ traffic toohello proper indexes while also managing resources at hello service level across all tenants.</span></span>

<span data-ttu-id="c44d4-213">Klíčový atribut hello index za klienta modelu je hello možnost pro vývojáře aplikací hello toooversubscribe hello kapacitu vyhledávací službu mezi klienty aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="c44d4-213">A key attribute of hello index-per-tenant model is hello ability for hello application developer toooversubscribe hello capacity of a search service among hello application’s tenants.</span></span> <span data-ttu-id="c44d4-214">Pokud hello klientům nerovnoměrné distribuci zatížení, hello optimální kombinaci klientů může být distribuovány na službu vyhledávání indexuje tooaccommodate číslo vysoce aktivní, náročná klientů a současně současné obsluhování dlouho konec míň aktivní klienti.</span><span class="sxs-lookup"><span data-stu-id="c44d4-214">If hello tenants have an uneven distribution of workload, hello optimal combination of tenants can be distributed across a search service’s indexes tooaccommodate a number of highly active, resource-intensive tenants while simultaneously serving a long tail of less active tenants.</span></span> <span data-ttu-id="c44d4-215">kompromis Hello je hello nemohou hello modelu toohandle situacích, kde je každý klient souběžně vysoce aktivní.</span><span class="sxs-lookup"><span data-stu-id="c44d4-215">hello trade-off is hello inability of hello model toohandle situations where each tenant is concurrently highly active.</span></span>

<span data-ttu-id="c44d4-216">model index za klienta Hello poskytuje hello základ pro model náklady na proměnnou, kde je zakoupili počáteční celou službu Azure Search a následně vyplněno s klienty.</span><span class="sxs-lookup"><span data-stu-id="c44d4-216">hello index-per-tenant model provides hello basis for a variable cost model, where an entire Azure Search service is bought up-front and then subsequently filled with tenants.</span></span> <span data-ttu-id="c44d4-217">To umožňuje toobe nevyužité kapacity, které jsou určené pro zkušební verze a bezplatné účty.</span><span class="sxs-lookup"><span data-stu-id="c44d4-217">This allows for unused capacity toobe designated for trials and free accounts.</span></span>

<span data-ttu-id="c44d4-218">Pro aplikace s globální nároky nemusí být hello index za klienta modelu hello maximální efektivitou.</span><span class="sxs-lookup"><span data-stu-id="c44d4-218">For applications with a global footprint, hello index-per-tenant model may not be hello most efficient.</span></span> <span data-ttu-id="c44d4-219">Pokud klienti aplikace jsou rozmístěny v celém světě hello, samostatná služba může být nutné pro každou oblast, která může duplikujte náklady na každý z nich.</span><span class="sxs-lookup"><span data-stu-id="c44d4-219">If an application's tenants are distributed across hello globe, a separate service may be necessary for each region which may duplicate costs across each of them.</span></span>

<span data-ttu-id="c44d4-220">Služba Azure Search umožňuje škálování hello hello jednotlivé indexy a celkový počet indexů toogrow hello.</span><span class="sxs-lookup"><span data-stu-id="c44d4-220">Azure Search allows for hello scale of both hello individual indexes and hello total number of indexes toogrow.</span></span> <span data-ttu-id="c44d4-221">Pokud příslušné ceny je zvoleno vrstvy, oddíly a repliky můžete přidat službu celý vyhledávání toohello při jednotlivých index v rámci služby hello příliš naroste z hlediska úložiště nebo provoz.</span><span class="sxs-lookup"><span data-stu-id="c44d4-221">If an appropriate pricing tier is chosen, partitions and replicas can be added toohello entire search service when an individual index within hello service grows too large in terms of storage or traffic.</span></span>

<span data-ttu-id="c44d4-222">Pokud pro jeden službu příliš naroste hello celkový počet indexů, má jinou službu toobe zřízený tooaccommodate hello nové klienty.</span><span class="sxs-lookup"><span data-stu-id="c44d4-222">If hello total number of indexes grows too large for a single service, another service has toobe provisioned tooaccommodate hello new tenants.</span></span> <span data-ttu-id="c44d4-223">Pokud indexy toobe přesouvat mezi vyhledávací služby, když jsou přidávány nové služby, hello data z indexu hello mají toobe ručně zkopírovat z jeden index toohello jiných jako Azure Search nepovoluje indexu toobe přesunout.</span><span class="sxs-lookup"><span data-stu-id="c44d4-223">If indexes have toobe moved between search services as new services are added, hello data from hello index has toobe manually copied from one index toohello other as Azure Search does not allow for an index toobe moved.</span></span>

## <a name="2-service-per-tenant"></a><span data-ttu-id="c44d4-224">2. Služba každého klienta</span><span class="sxs-lookup"><span data-stu-id="c44d4-224">2. Service per tenant</span></span>
![Portrétu hello na klienta služby modelu](./media/search-modeling-multitenant-saas-applications/azure-search-service-per-tenant.png)

<span data-ttu-id="c44d4-226">V architektuře služby za klienta má každý klient vlastní službu vyhledávání.</span><span class="sxs-lookup"><span data-stu-id="c44d4-226">In a service-per-tenant architecture, each tenant has its own search service.</span></span>

<span data-ttu-id="c44d4-227">V tomto modelu aplikace hello dosahuje hello maximální úroveň izolace pro své klienty.</span><span class="sxs-lookup"><span data-stu-id="c44d4-227">In this model, hello application achieves hello maximum level of isolation for its tenants.</span></span> <span data-ttu-id="c44d4-228">Každá služba má vyhrazený úložiště a propustnost pro zpracování požadavku hledání a také různé klíče rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="c44d4-228">Each service has dedicated storage and throughput for handling search request as well as separate API keys.</span></span>

<span data-ttu-id="c44d4-229">Pro aplikace, kde každý klient má velké nároky nebo zatížení hello variabilitu z klienta tootenant, hello na klienta služby model je účinné volba prostředky nejsou sdílená mezi různými klienty úlohy.</span><span class="sxs-lookup"><span data-stu-id="c44d4-229">For applications where each tenant has a large footprint or hello workload has little variability from tenant tootenant, hello service-per-tenant model is an effective choice as resources are not shared across various tenants’ workloads.</span></span>

<span data-ttu-id="c44d4-230">Služby za klienta modelu také nabízí hello výhodou model předvídatelný, pevné náklady.</span><span class="sxs-lookup"><span data-stu-id="c44d4-230">A service per tenant model also offers hello benefit of a predictable, fixed cost model.</span></span> <span data-ttu-id="c44d4-231">Neexistuje žádné počáteční investici v službě celý vyhledávání dokud nebude toofill klienta, ale hello náklady za klienta je vyšší než model index za klienta.</span><span class="sxs-lookup"><span data-stu-id="c44d4-231">There is no up-front investment in an entire search service until there is a tenant toofill it, however hello cost-per-tenant is higher than an index-per-tenant model.</span></span>

<span data-ttu-id="c44d4-232">model na klienta služby Hello je pro aplikace s globální nároky na efektivní volbu.</span><span class="sxs-lookup"><span data-stu-id="c44d4-232">hello service-per-tenant model is an efficient choice for applications with a global footprint.</span></span> <span data-ttu-id="c44d4-233">S mnoha místech pracujícími klienty, je snadné toohave, služba každého klienta v příslušné oblasti hello.</span><span class="sxs-lookup"><span data-stu-id="c44d4-233">With geographically-distributed tenants, it is easy toohave each tenant's service in hello appropriate region.</span></span>

<span data-ttu-id="c44d4-234">Hello problémů v škálování tento vzor vynoří během jednotlivých klientů odrůst své služby.</span><span class="sxs-lookup"><span data-stu-id="c44d4-234">hello challenges in scaling this pattern arise when individual tenants outgrow their service.</span></span> <span data-ttu-id="c44d4-235">Vyhledávání systému Azure aktuálně nepodporuje upgrade hello cenová úroveň služby vyhledávání, takže všechna data by mít toobe ručně zkopírované tooa novou službu.</span><span class="sxs-lookup"><span data-stu-id="c44d4-235">Azure Search does not currently support upgrading hello pricing tier of a search service, so all data would have toobe manually copied tooa new service.</span></span>

## <a name="3-mixing-both-models"></a><span data-ttu-id="c44d4-236">3. Kombinací obou modelů</span><span class="sxs-lookup"><span data-stu-id="c44d4-236">3. Mixing both models</span></span>
<span data-ttu-id="c44d4-237">Jiné vzor pro modelování víceklientská je kombinací strategie index za klienta a služby za klienta.</span><span class="sxs-lookup"><span data-stu-id="c44d4-237">Another pattern for modeling multitenancy is mixing both index-per-tenant and service-per-tenant strategies.</span></span>

<span data-ttu-id="c44d4-238">Pomocí kombinace hello dva vzory, zabírat největší klienty aplikace vyhrazené služby při hello dlouho značka z méně aktivní, menší klienty zabírat indexy ve sdílených služeb.</span><span class="sxs-lookup"><span data-stu-id="c44d4-238">By mixing hello two patterns, an application's largest tenants can occupy dedicated services while hello long tail of less active, smaller tenants can occupy indexes in a shared service.</span></span> <span data-ttu-id="c44d4-239">Tento model zajistí, že klienti největší hello konzistentně vysoký výkon ze služby hello zároveň pomáhá tooprotect hello menší klienty z žádné aktivní okolí.</span><span class="sxs-lookup"><span data-stu-id="c44d4-239">This model ensures that hello largest tenants have consistently high performance from hello service while helping tooprotect hello smaller tenants from any noisy neighbors.</span></span>

<span data-ttu-id="c44d4-240">Implementace této strategie však využívá předvídání předpovídat, které klienti budou vyžadovat vyhrazené service versus indexu sdílené služby.</span><span class="sxs-lookup"><span data-stu-id="c44d4-240">However, implementing this strategy relies foresight in predicting which tenants will require a dedicated service versus an index in a shared service.</span></span> <span data-ttu-id="c44d4-241">Složitost aplikace se zvyšuje s hello nutné toomanage obou těchto modelů, víceklientské architektury.</span><span class="sxs-lookup"><span data-stu-id="c44d4-241">Application complexity increases with hello need toomanage both of these multitenancy models.</span></span>

## <a name="achieving-even-finer-granularity"></a><span data-ttu-id="c44d4-242">Dosažení i jemnějšího členitosti</span><span class="sxs-lookup"><span data-stu-id="c44d4-242">Achieving even finer granularity</span></span>
<span data-ttu-id="c44d4-243">Hello výše toomodel vzory návrhu ve službě Azure Search víceklientské scénáře. Předpokládejme uniform oboru, kde je každý klient celou instanci aplikace.</span><span class="sxs-lookup"><span data-stu-id="c44d4-243">hello above design patterns toomodel multitenant scenarios in Azure Search assume a uniform scope where each tenant is a whole instance of an application.</span></span> <span data-ttu-id="c44d4-244">Aplikace však může zpracovávat někdy mnoho menší obory.</span><span class="sxs-lookup"><span data-stu-id="c44d4-244">However, applications can sometimes handle many smaller scopes.</span></span>

<span data-ttu-id="c44d4-245">Pokud na klienta služby a index za klienta modely nejsou dostatečně malé obory, je možné toomodel indexu tooachieve i podrobnějšího členitosti.</span><span class="sxs-lookup"><span data-stu-id="c44d4-245">If service-per-tenant and index-per-tenant models are not sufficiently small scopes, it is possible toomodel an index tooachieve an even finer degree of granularity.</span></span>

<span data-ttu-id="c44d4-246">toohave jeden index chovat jinak pro koncové body jiného klienta, přidané tooan index, který vytváří určitou hodnotu u jednotlivých možných klientů může být pole.</span><span class="sxs-lookup"><span data-stu-id="c44d4-246">toohave a single index behave differently for different client endpoints, a field can be added tooan index which designates a certain value for each possible client.</span></span> <span data-ttu-id="c44d4-247">Pokaždé, když je klient zavolá Azure Search tooquery nebo upravit index, hello kód z klientské aplikace hello určuje hello odpovídající hodnotu pro toto pole používání služby Azure Search [filtru](https://msdn.microsoft.com/library/azure/dn798921.aspx) schopností v době dotazu.</span><span class="sxs-lookup"><span data-stu-id="c44d4-247">Each time a client calls Azure Search tooquery or modify an index, hello code from hello client application specifies hello appropriate value for that field using Azure Search's [filter](https://msdn.microsoft.com/library/azure/dn798921.aspx) capability at query time.</span></span>

<span data-ttu-id="c44d4-248">Tato metoda může být funkce použité tooachieve samostatné uživatelské účty, úrovně samostatné oprávnění a i zcela samostatné aplikace.</span><span class="sxs-lookup"><span data-stu-id="c44d4-248">This method can be used tooachieve functionality of separate user accounts, separate permission levels, and even completely separate applications.</span></span>

> [!NOTE]
> <span data-ttu-id="c44d4-249">Hello přístup popsané výše tooconfigure jeden index tooserve více klientů ovlivňuje hello relevance výsledků vyhledávání.</span><span class="sxs-lookup"><span data-stu-id="c44d4-249">Using hello approach described above tooconfigure a single index tooserve multiple tenants affects hello relevance of search results.</span></span> <span data-ttu-id="c44d4-250">Skóre vyhledávání významu se vypočítávají v indexu úrovni oboru, není obor úrovni klienta, aby všichni klienti dat je obsažena v hello relevance skóre základní statistické údaje, třeba termín frekvence.</span><span class="sxs-lookup"><span data-stu-id="c44d4-250">Search relevance scores are computed at an index-level scope, not a tenant-level scope, so all tenants' data is incorporated in hello relevance scores' underlying statistics such as term frequency.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="c44d4-251">Další kroky</span><span class="sxs-lookup"><span data-stu-id="c44d4-251">Next steps</span></span>
<span data-ttu-id="c44d4-252">Služba Azure Search je poutavé volbou pro mnoho aplikací [Další informace o robustní možnosti hello služby](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="c44d4-252">Azure Search is a compelling choice for many applications, [read more about hello service's robust capabilities](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="c44d4-253">Při vyhodnocování hello různé vzory pro víceklientské aplikace návrhu, zvažte hello [různých cenových úrovní](https://azure.microsoft.com/pricing/details/search/) a příslušných hello [omezení služby](search-limits-quotas-capacity.md) toobest přizpůsobit toofit Azure Search úlohy aplikací a architektury všech velikostí.</span><span class="sxs-lookup"><span data-stu-id="c44d4-253">When evaluating hello various design patterns for multitenant applications, consider hello [various pricing tiers](https://azure.microsoft.com/pricing/details/search/) and hello respective [service limits](search-limits-quotas-capacity.md) toobest tailor Azure Search toofit application workloads and architectures of all sizes.</span></span>

<span data-ttu-id="c44d4-254">Jakékoli dotazy týkající se Azure Search a víceklientské scénáře může přesměrovat tooazuresearch_contact@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="c44d4-254">Any questions about Azure Search and multitenant scenarios can be directed tooazuresearch_contact@microsoft.com.</span></span>

