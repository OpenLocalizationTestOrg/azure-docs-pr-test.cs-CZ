---
title: "Přístup k rozhraní API služby Azure Media Services pomocí ověřování Azure Active Directory | Microsoft Docs"
description: "Další informace o konceptech a kroky pro použití služby Azure Active Directory (Azure AD) k ověření přístupu k rozhraní API služby Azure Media Services."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/17/2017
ms.author: juliako
ms.openlocfilehash: 0e1217afb0a37353793c64ae927b741d9fee4954
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="access-the-azure-media-services-api-with-azure-ad-authentication"></a><span data-ttu-id="23664-103">Přístup k Azure Media Services API pomocí ověřování Azure AD</span><span class="sxs-lookup"><span data-stu-id="23664-103">Access the Azure Media Services API with Azure AD authentication</span></span>
 
<span data-ttu-id="23664-104">Rozhraní API služby Azure Media Services je rozhraní RESTful API.</span><span class="sxs-lookup"><span data-stu-id="23664-104">The Azure Media Services API is a RESTful API.</span></span> <span data-ttu-id="23664-105">Můžete ji použít k provádění operací na zdrojů médií pomocí rozhraní REST API nebo pomocí sady SDK k dispozici klienta.</span><span class="sxs-lookup"><span data-stu-id="23664-105">You can use it to perform operations on media resources by using a REST API or by using available client SDKs.</span></span> <span data-ttu-id="23664-106">Azure Media Services nabízí klienta Media Services SDK pro rozhraní Microsoft .NET.</span><span class="sxs-lookup"><span data-stu-id="23664-106">Azure Media Services offers a Media Services client SDK for Microsoft .NET.</span></span> <span data-ttu-id="23664-107">K autorizaci pro přístup k prostředkům Media Services a rozhraní API služby Media Services, je nutné nejprve ověřit.</span><span class="sxs-lookup"><span data-stu-id="23664-107">To be authorized to access Media Services resources and the Media Services API, you must first be authenticated.</span></span> 

<span data-ttu-id="23664-108">Služba Media Services podporuje [Azure Active Directory (Azure AD)-ověřování na základě](../active-directory/active-directory-whatis.md).</span><span class="sxs-lookup"><span data-stu-id="23664-108">Media Services supports [Azure Active Directory (Azure AD)-based authentication](../active-directory/active-directory-whatis.md).</span></span> <span data-ttu-id="23664-109">Azure Media REST služba vyžaduje, aby uživatel nebo aplikace, která umožňuje rozhraní API REST požádá o mít buď **Přispěvatel** nebo **vlastníka** role pro přístup k prostředkům.</span><span class="sxs-lookup"><span data-stu-id="23664-109">The Azure Media REST service requires that the user or application that makes the REST API requests have either the **Contributor** or **Owner** role to access the resources.</span></span> <span data-ttu-id="23664-110">Další informace najdete v tématu [Začínáme s řízením přístupu na základě rolí na portálu Azure](../active-directory/role-based-access-control-what-is.md).</span><span class="sxs-lookup"><span data-stu-id="23664-110">For more information, see [Get started with Role-Based Access Control in the Azure portal](../active-directory/role-based-access-control-what-is.md).</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="23664-111">V současné době Media Services podporuje model řízení přístupu Azure služby ověřování.</span><span class="sxs-lookup"><span data-stu-id="23664-111">Currently, Media Services supports the Azure Access Control service authentication model.</span></span> <span data-ttu-id="23664-112">Řízení přístupu autorizace však bude na 1. června 2018 zastaralá.</span><span class="sxs-lookup"><span data-stu-id="23664-112">However, Access Control authorization will be deprecated on June 1, 2018.</span></span> <span data-ttu-id="23664-113">Doporučujeme, abyste přenést do Azure AD authentication modelu co nejdříve.</span><span class="sxs-lookup"><span data-stu-id="23664-113">We recommend that you migrate to the Azure AD authentication model as soon as possible.</span></span>

<span data-ttu-id="23664-114">Tento dokument poskytuje přehled toho, jak získat přístup k rozhraní API služby Media Services pomocí rozhraní API .NET nebo REST.</span><span class="sxs-lookup"><span data-stu-id="23664-114">This document gives an overview of how to access the Media Services API by using REST or .NET APIs.</span></span>

## <a name="access-control"></a><span data-ttu-id="23664-115">Řízení přístupu</span><span class="sxs-lookup"><span data-stu-id="23664-115">Access control</span></span>

<span data-ttu-id="23664-116">Pro úspěšné požadavku Azure Media REST volání uživatel musí mít roli Přispěvatel nebo vlastníka účtu Media Services, který se pokouší o přístup.</span><span class="sxs-lookup"><span data-stu-id="23664-116">For the Azure Media REST request to succeed, the calling user must have a Contributor or Owner role for the Media Services account it is trying to access.</span></span>  
<span data-ttu-id="23664-117">Pouze uživatele k roli vlastníka můžete udělit přístup k prostředkům (účet) média pro nové uživatele nebo aplikace.</span><span class="sxs-lookup"><span data-stu-id="23664-117">Only a user with the Owner role can give media resource (account) access to new users or apps.</span></span> <span data-ttu-id="23664-118">Role Přispěvatel má přístup pouze k prostředku média.</span><span class="sxs-lookup"><span data-stu-id="23664-118">The Contributor role can access only the media resource.</span></span>
<span data-ttu-id="23664-119">Neoprávněné žádosti nezdaří s stavový kód 401.</span><span class="sxs-lookup"><span data-stu-id="23664-119">Unauthorized requests fail, with status code of 401.</span></span> <span data-ttu-id="23664-120">Pokud se tento kód chyby, zkontrolujte, zda váš uživatel má roli Přispěvatel nebo vlastníka přiřazená k účtu Media Services uživatele.</span><span class="sxs-lookup"><span data-stu-id="23664-120">If you see this error code, check whether your user has the Contributor or Owner role assigned for the user's Media Services account.</span></span> <span data-ttu-id="23664-121">Zkontrolovat to můžete na portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="23664-121">You can check this in the Azure portal.</span></span> <span data-ttu-id="23664-122">Najděte pro svůj účet mediálních a potom klikněte **řízení přístupu** kartě.</span><span class="sxs-lookup"><span data-stu-id="23664-122">Search for your media account, and then click the **Access control** tab.</span></span> 

![Karta řízení přístupu](./media/media-services-use-aad-auth-to-access-ams-api/media-services-access-control.png)

## <a name="types-of-authentication"></a><span data-ttu-id="23664-124">Typy ověřování</span><span class="sxs-lookup"><span data-stu-id="23664-124">Types of authentication</span></span> 
 
<span data-ttu-id="23664-125">Při použití ověřování Azure AD pomocí služby Azure Media Services, máte dvě možnosti ověřování:</span><span class="sxs-lookup"><span data-stu-id="23664-125">When you use Azure AD authentication with Azure Media Services, you have two authentication options:</span></span>

- <span data-ttu-id="23664-126">**Ověření uživatele**.</span><span class="sxs-lookup"><span data-stu-id="23664-126">**User authentication**.</span></span> <span data-ttu-id="23664-127">Ověření osoba, která používá aplikace komunikovat s prostředky Media Services.</span><span class="sxs-lookup"><span data-stu-id="23664-127">Authenticate a person who is using the app to interact with Media Services resources.</span></span> <span data-ttu-id="23664-128">Interaktivní aplikace by měla nejprve vyzvou uživatele k zadání přihlašovacích údajů uživatele.</span><span class="sxs-lookup"><span data-stu-id="23664-128">The interactive application should first prompt the user for the user's credentials.</span></span> <span data-ttu-id="23664-129">Příkladem je aplikace konzoly správy Autorizovaní uživatelé používají ke sledování úloh kódování nebo živé streamování.</span><span class="sxs-lookup"><span data-stu-id="23664-129">An example is a management console app used by authorized users to monitor encoding jobs or live streaming.</span></span> 
- <span data-ttu-id="23664-130">**Objekt zabezpečení ověřování služby**.</span><span class="sxs-lookup"><span data-stu-id="23664-130">**Service principal authentication**.</span></span> <span data-ttu-id="23664-131">Ověření služby.</span><span class="sxs-lookup"><span data-stu-id="23664-131">Authenticate a service.</span></span> <span data-ttu-id="23664-132">Aplikace, které běžně používají tuto metodu ověřování jsou aplikace, které běží služby démon, střední vrstvy služby nebo naplánované úlohy.</span><span class="sxs-lookup"><span data-stu-id="23664-132">Applications that commonly use this authentication method are apps that run daemon services, middle-tier services, or scheduled jobs.</span></span> <span data-ttu-id="23664-133">Příklady jsou webové aplikace, funkce aplikací, aplikace logiky, rozhraní API a mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="23664-133">Examples are web apps, function apps, logic apps, API, and microservices.</span></span>

### <a name="user-authentication"></a><span data-ttu-id="23664-134">Ověřování uživatelů</span><span class="sxs-lookup"><span data-stu-id="23664-134">User authentication</span></span> 

<span data-ttu-id="23664-135">Jsou aplikace, které by měl použít metodu ověřování uživatele pro správu nebo monitorování nativní aplikace: mobilní aplikace, aplikace pro Windows a konzolové aplikace.</span><span class="sxs-lookup"><span data-stu-id="23664-135">Applications that should use the user authentication method are management or monitoring native apps: mobile apps, Windows apps, and Console applications.</span></span> <span data-ttu-id="23664-136">Tohoto typu řešení je užitečné, když chcete zásahem ze strany se službou v jednom z následujících scénářů:</span><span class="sxs-lookup"><span data-stu-id="23664-136">This type of solution is useful when you want human interaction with the service in one of the following scenarios:</span></span>

- <span data-ttu-id="23664-137">Řídicí panel pro kódování úlohy monitorování.</span><span class="sxs-lookup"><span data-stu-id="23664-137">Monitoring dashboard for your encoding jobs.</span></span>
- <span data-ttu-id="23664-138">Řídicí panel pro vaše živé datové proudy monitorování.</span><span class="sxs-lookup"><span data-stu-id="23664-138">Monitoring dashboard for your live streams.</span></span>
- <span data-ttu-id="23664-139">Správa aplikací pro desktop či mobile uživatelům spravovat prostředky v účtu Media Services.</span><span class="sxs-lookup"><span data-stu-id="23664-139">Management application for desktop or mobile users to administer resources in a Media Services account.</span></span>

> [!NOTE]
> <span data-ttu-id="23664-140">Tato metoda ověřování není používat u určených aplikací.</span><span class="sxs-lookup"><span data-stu-id="23664-140">This authentication method should not be used for consumer-facing applications.</span></span> 

<span data-ttu-id="23664-141">Nativní aplikace musíte nejprve získat přístupový token ze služby Azure AD a pak použít při provádění požadavků HTTP ke službě Media Services REST API.</span><span class="sxs-lookup"><span data-stu-id="23664-141">A native application must first acquire an access token from Azure AD, and then use it when you make HTTP requests to the Media Services REST API.</span></span> <span data-ttu-id="23664-142">Přidání přístupového tokenu do hlaviček požadavku.</span><span class="sxs-lookup"><span data-stu-id="23664-142">Add the access token to the request header.</span></span> 

<span data-ttu-id="23664-143">Následující diagram znázorňuje tok ověřování Typická interaktivní aplikace:</span><span class="sxs-lookup"><span data-stu-id="23664-143">The following diagram shows a typical interactive application authentication flow:</span></span> 

![Diagram nativní aplikace](./media/media-services-use-aad-auth-to-access-ams-api/media-services-native-aad-app1.png)

<span data-ttu-id="23664-145">Na předchozím obrázku čísla, která představují tok žádostí v chronologickém pořadí.</span><span class="sxs-lookup"><span data-stu-id="23664-145">In the preceding diagram, the numbers represent the flow of the requests in chronological order.</span></span>

> [!NOTE]
> <span data-ttu-id="23664-146">Při použití metody ověřování uživatelů, všechny aplikace sdílejí stejné ID klienta nativní aplikace (výchozí) a identifikátor URI přesměrování nativní aplikace.</span><span class="sxs-lookup"><span data-stu-id="23664-146">When you use the user authentication method, all apps share the same (default) native application client ID and native application redirect URI.</span></span> 

1. <span data-ttu-id="23664-147">Vyzvat uživatele k zadání přihlašovacích údajů.</span><span class="sxs-lookup"><span data-stu-id="23664-147">Prompt a user for credentials.</span></span>
2. <span data-ttu-id="23664-148">Žádosti o token přístupu Azure AD s následujícími parametry:</span><span class="sxs-lookup"><span data-stu-id="23664-148">Request an Azure AD access token with the following parameters:</span></span>  

    * <span data-ttu-id="23664-149">Koncový bod pro klienta Azure AD.</span><span class="sxs-lookup"><span data-stu-id="23664-149">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="23664-150">Informace o klienta můžete načíst z portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="23664-150">The tenant information can be retrieved from the Azure portal.</span></span> <span data-ttu-id="23664-151">Umístěte kurzor na název přihlášeného uživatele v horním pravém rohu.</span><span class="sxs-lookup"><span data-stu-id="23664-151">Place your cursor over the name of the signed-in user in the top right corner.</span></span>
    * <span data-ttu-id="23664-152">Identifikátor URI prostředku Media Services.</span><span class="sxs-lookup"><span data-stu-id="23664-152">Media Services resource URI.</span></span> 

        <span data-ttu-id="23664-153">Tento identifikátor URI je stejný pro účty služby Media Services, které jsou ve stejném prostředí Azure (například https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="23664-153">This URI is the same for Media Services accounts that are in the same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="23664-154">ID klienta aplikace Media Services (nativní).</span><span class="sxs-lookup"><span data-stu-id="23664-154">Media Services (native) application client ID.</span></span>
    * <span data-ttu-id="23664-155">Identifikátor URI pro přesměrování služby Media Services (nativní) aplikace.</span><span class="sxs-lookup"><span data-stu-id="23664-155">Media Services (native) application redirect URI.</span></span>
    * <span data-ttu-id="23664-156">Identifikátor URI pro REST Media Services.</span><span class="sxs-lookup"><span data-stu-id="23664-156">Resource URI for REST Media Services.</span></span>
        
        <span data-ttu-id="23664-157">Identifikátor URI představuje koncový bod REST API (například https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="23664-157">The URI represents the REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    <span data-ttu-id="23664-158">Chcete-li získat hodnoty pro tyto parametry, přečtěte si téma [používat portál Azure pro přístup k nastavení ověřování Azure AD](media-services-portal-get-started-with-aad.md) pomocí možnosti ověřování uživatele.</span><span class="sxs-lookup"><span data-stu-id="23664-158">To get values for these parameters, see [Use the Azure portal to access Azure AD authentication settings](media-services-portal-get-started-with-aad.md) using the user authentication option.</span></span>

3. <span data-ttu-id="23664-159">Přístupový token služby Azure AD se může odeslat klientovi.</span><span class="sxs-lookup"><span data-stu-id="23664-159">The Azure AD access token is sent to the client.</span></span>
4. <span data-ttu-id="23664-160">Klient odešle požadavek na rozhraní API služby REST Azure média s tímto tokenem přístupu Azure AD.</span><span class="sxs-lookup"><span data-stu-id="23664-160">The client sends a request to the Azure Media REST API with the Azure AD access token.</span></span>
5. <span data-ttu-id="23664-161">Klient získá zpět data ze služby Media Services.</span><span class="sxs-lookup"><span data-stu-id="23664-161">The client gets back the data from Media Services.</span></span>

<span data-ttu-id="23664-162">Informace o tom, jak používat Azure AD ověřování ke komunikaci s požadavky REST pomocí klienta Media Services .NET SDK najdete v tématu [ověřování pomocí služby Azure AD pro přístup k rozhraní API Media Services pomocí rozhraní .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="23664-162">For information about how to use Azure AD authentication to communicate with REST requests by using the Media Services .NET client SDK, see [Use Azure AD authentication to access the Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="23664-163">Pokud nepoužíváte klienta Media Services .NET SDK, musíte ručně vytvořit požadavek tokenu přístupu Azure AD pomocí parametrů popsané v kroku 2.</span><span class="sxs-lookup"><span data-stu-id="23664-163">If you are not using the Media Services .NET client SDK, you must manually create an Azure AD access token request by using the parameters described in step 2.</span></span> <span data-ttu-id="23664-164">Další informace najdete v tématu [jak používat knihovnu ověřování služby Azure AD k získání tokenu Azure AD](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="23664-164">For more information, see [How to use the Azure AD Authentication Library to get the Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

### <a name="service-principal-authentication"></a><span data-ttu-id="23664-165">Ověřování instančních objektů</span><span class="sxs-lookup"><span data-stu-id="23664-165">Service principal authentication</span></span>

<span data-ttu-id="23664-166">Aplikace, které běžně používají tuto metodu ověřování, jsou aplikace, které běží služby střední vrstvy a naplánované úlohy: webové aplikace, funkce aplikací, aplikace logiky, rozhraní API a mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="23664-166">Applications that commonly use this authentication method are apps that run middle-tier services and scheduled jobs: web apps, function apps, logic apps, APIs, and microservices.</span></span> <span data-ttu-id="23664-167">Tato metoda ověřování je také vhodná pro interaktivní aplikace, ve kterých můžete chtít použít účet služby ke správě prostředků.</span><span class="sxs-lookup"><span data-stu-id="23664-167">This authentication method also is suitable for interactive applications in which you might want to use a service account to manage resources.</span></span>

<span data-ttu-id="23664-168">Když použijete metodu ověření objektu služby k sestavení spotřebitelské scénáře, ověřování obvykle používá ve střední vrstvě (prostřednictvím některé rozhraní API) a ne přímo v mobilních nebo desktopových aplikací.</span><span class="sxs-lookup"><span data-stu-id="23664-168">When you use the service principal authentication method to build consumer scenarios, authentication typically is handled in the middle tier (through some API) and not directly in a mobile or desktop application.</span></span> 

<span data-ttu-id="23664-169">Chcete-li použít tuto metodu, vytvořte aplikaci Azure AD a služby hlavní v jeho vlastní klienta.</span><span class="sxs-lookup"><span data-stu-id="23664-169">To use this method, create an Azure AD application and service principal in its own tenant.</span></span> <span data-ttu-id="23664-170">Po vytvoření aplikace, udělte aplikace přístup k roli Přispěvatel nebo vlastníka účtu Media Services.</span><span class="sxs-lookup"><span data-stu-id="23664-170">After you create the application, give the app Contributor or Owner role access to the Media Services account.</span></span> <span data-ttu-id="23664-171">Musíte na portálu Azure pomocí rozhraní příkazového řádku Azure nebo pomocí skriptu prostředí PowerShell.</span><span class="sxs-lookup"><span data-stu-id="23664-171">You can do this in the Azure portal, by using Azure CLI, or with a PowerShell script.</span></span> <span data-ttu-id="23664-172">Můžete taky použít existující aplikaci Azure AD.</span><span class="sxs-lookup"><span data-stu-id="23664-172">You also can use an existing Azure AD application.</span></span> <span data-ttu-id="23664-173">Můžete zaregistrovat a spravovat aplikaci Azure AD a instanční objekt [na portálu Azure](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="23664-173">You can register and manage your Azure AD app and service principal [in the Azure portal](media-services-portal-get-started-with-aad.md).</span></span> <span data-ttu-id="23664-174">Také to provedete pomocí [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) nebo [prostředí PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span><span class="sxs-lookup"><span data-stu-id="23664-174">You also can do this by using [Azure CLI 2.0](media-services-use-aad-auth-to-access-ams-api.md) or [PowerShell](media-services-powershell-create-and-configure-aad-app.md).</span></span> 

![Vícevrstvé aplikace](./media/media-services-use-aad-auth-to-access-ams-api/media-services-principal-service-aad-app1.png)

<span data-ttu-id="23664-176">Po vytvoření aplikace Azure AD, získat hodnoty pro následující nastavení.</span><span class="sxs-lookup"><span data-stu-id="23664-176">After you create your Azure AD application, you get values for the following settings.</span></span> <span data-ttu-id="23664-177">Je třeba tyto hodnoty pro ověřování:</span><span class="sxs-lookup"><span data-stu-id="23664-177">You need these values for authentication:</span></span>

- <span data-ttu-id="23664-178">ID klienta</span><span class="sxs-lookup"><span data-stu-id="23664-178">Client ID</span></span> 
- <span data-ttu-id="23664-179">Tajný klíč klienta</span><span class="sxs-lookup"><span data-stu-id="23664-179">Client secret</span></span> 

<span data-ttu-id="23664-180">Na předchozím obrázku čísla, která představují tok žádostí v chronologickém pořadí:</span><span class="sxs-lookup"><span data-stu-id="23664-180">In the preceding figure, the numbers represent the flow of the requests in chronological order:</span></span>
    
1. <span data-ttu-id="23664-181">Vícevrstvé aplikace (webového rozhraní API nebo webové aplikace) požaduje přístupový token služby Azure AD, který má následující parametry:</span><span class="sxs-lookup"><span data-stu-id="23664-181">A middle-tier app (web API or web application) requests an Azure AD access token that has the following parameters:</span></span>  

    * <span data-ttu-id="23664-182">Koncový bod pro klienta Azure AD.</span><span class="sxs-lookup"><span data-stu-id="23664-182">Azure AD tenant endpoint.</span></span>

        <span data-ttu-id="23664-183">Informace o klienta můžete načíst z portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="23664-183">The tenant information can be retrieved from the Azure portal.</span></span> <span data-ttu-id="23664-184">Umístěte kurzor na název přihlášeného uživatele v horním pravém rohu.</span><span class="sxs-lookup"><span data-stu-id="23664-184">Place your cursor over the name of the signed-in user in the top right corner.</span></span>
    * <span data-ttu-id="23664-185">Identifikátor URI prostředku Media Services.</span><span class="sxs-lookup"><span data-stu-id="23664-185">Media Services resource URI.</span></span> 

        <span data-ttu-id="23664-186">Tento identifikátor URI je stejný pro účty služby Media Services, které se nacházejí ve stejném prostředí Azure (například https://rest.media.azure.net).</span><span class="sxs-lookup"><span data-stu-id="23664-186">This URI is the same for Media Services accounts that are located in the same Azure environment (for example, https://rest.media.azure.net).</span></span>

    * <span data-ttu-id="23664-187">Identifikátor URI pro REST Media Services.</span><span class="sxs-lookup"><span data-stu-id="23664-187">Resource URI for REST Media Services.</span></span>

        <span data-ttu-id="23664-188">Identifikátor URI představuje koncový bod REST API (například https://test03.restv2.westus.media.azure.net/api/).</span><span class="sxs-lookup"><span data-stu-id="23664-188">The URI represents the REST API endpoint (for example, https://test03.restv2.westus.media.azure.net/api/).</span></span>

    * <span data-ttu-id="23664-189">Hodnoty aplikace Azure AD: ID klienta a tajný klíč klienta.</span><span class="sxs-lookup"><span data-stu-id="23664-189">Azure AD application values: the client ID and client secret.</span></span>
    
    <span data-ttu-id="23664-190">Chcete-li získat hodnoty pro tyto parametry, přečtěte si téma [používat portál Azure pro přístup k nastavení ověřování Azure AD](media-services-portal-get-started-with-aad.md) pomocí možnosti ověření objektu služby.</span><span class="sxs-lookup"><span data-stu-id="23664-190">To get values for these parameters, see [Use the Azure portal to access Azure AD authentication settings](media-services-portal-get-started-with-aad.md) by using the service principal authentication option.</span></span>

2. <span data-ttu-id="23664-191">Přístupový token služby Azure AD se odesílají do střední vrstvy.</span><span class="sxs-lookup"><span data-stu-id="23664-191">The Azure AD access token is sent to the middle tier.</span></span>
4. <span data-ttu-id="23664-192">Střední vrstva odešle požadavek na REST API pro Azure Media s tokenem Azure AD.</span><span class="sxs-lookup"><span data-stu-id="23664-192">The middle tier sends request to the Azure Media REST API with the Azure AD token.</span></span>
5. <span data-ttu-id="23664-193">Střední vrstva získá zpět data ze služby Media Services.</span><span class="sxs-lookup"><span data-stu-id="23664-193">The middle tier gets back the data from Media Services.</span></span>

<span data-ttu-id="23664-194">Další informace o tom, jak používat Azure AD ověřování ke komunikaci s požadavky REST pomocí klienta Media Services .NET SDK najdete v tématu [ověřování pomocí služby Azure AD pro přístup k rozhraní API služby Azure Media Services pomocí rozhraní .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="23664-194">For more information about how to use Azure AD authentication to communicate with REST requests by using the Media Services .NET client SDK, see [Use Azure AD authentication to access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span> 

<span data-ttu-id="23664-195">Pokud nepoužíváte klienta Media Services .NET SDK, musíte ručně vytvořit požadavek tokenu Azure AD pomocí parametrů, které jsou popsané v kroku 1.</span><span class="sxs-lookup"><span data-stu-id="23664-195">If you are not using the Media Services .NET client SDK, you must manually create an Azure AD token request by using parameters described in step 1.</span></span> <span data-ttu-id="23664-196">Další informace najdete v tématu [jak používat knihovnu ověřování služby Azure AD k získání tokenu Azure AD](../active-directory/develop/active-directory-authentication-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="23664-196">For more information, see [How to use the Azure AD Authentication Library to get the Azure AD token](../active-directory/develop/active-directory-authentication-libraries.md).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="23664-197">Řešení potíží</span><span class="sxs-lookup"><span data-stu-id="23664-197">Troubleshooting</span></span>

<span data-ttu-id="23664-198">Výjimka: "vzdálený server vrátil chybu: (401) Neautorizováno."</span><span class="sxs-lookup"><span data-stu-id="23664-198">Exception: "The remote server returned an error: (401) Unauthorized."</span></span>

<span data-ttu-id="23664-199">Řešení: K úspěšné žádosti média služby REST, volání uživatel musí být Přispěvatel nebo vlastníka role, které se pokouší získat přístup k účtu Media Services.</span><span class="sxs-lookup"><span data-stu-id="23664-199">Solution: For the Media Services REST request to succeed, the calling user must be a Contributor or Owner role in the Media Services account it is trying to access.</span></span> <span data-ttu-id="23664-200">Další informace najdete v tématu [řízení přístupu](media-services-use-aad-auth-to-access-ams-api.md#access-control) části.</span><span class="sxs-lookup"><span data-stu-id="23664-200">For more information, see the [Access control](media-services-use-aad-auth-to-access-ams-api.md#access-control) section.</span></span>

## <a name="resources"></a><span data-ttu-id="23664-201">Zdroje</span><span class="sxs-lookup"><span data-stu-id="23664-201">Resources</span></span>

<span data-ttu-id="23664-202">V následujících článcích jsou Přehled konceptů ověřování Azure AD:</span><span class="sxs-lookup"><span data-stu-id="23664-202">The following articles are overviews of Azure AD authentication concepts:</span></span> 

- [<span data-ttu-id="23664-203">Scénáře ověřování řešené pomocí Azure AD</span><span class="sxs-lookup"><span data-stu-id="23664-203">Authentication scenarios addressed by Azure AD</span></span>](../active-directory/develop/active-directory-authentication-scenarios.md#basics-of-authentication-in-azure-ad)
- [<span data-ttu-id="23664-204">Přidání, aktualizace nebo odebrání aplikace ve službě Azure AD</span><span class="sxs-lookup"><span data-stu-id="23664-204">Add, update, or remove an application in Azure AD</span></span>](../active-directory/develop/active-directory-integrating-applications.md)
- [<span data-ttu-id="23664-205">Konfigurace a správa řízení přístupu na základě Role pomocí prostředí PowerShell</span><span class="sxs-lookup"><span data-stu-id="23664-205">Configure and manage Role-Based Access Control by using PowerShell</span></span>](../active-directory/role-based-access-control-manage-access-powershell.md)

## <a name="next-steps"></a><span data-ttu-id="23664-206">Další kroky</span><span class="sxs-lookup"><span data-stu-id="23664-206">Next steps</span></span>

* <span data-ttu-id="23664-207">Použití portálu Azure [ověřování přístupu k Azure AD, které využívají rozhraní API služby Azure Media Services](media-services-portal-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="23664-207">Use the Azure portal to [access Azure AD authentication to consume Azure Media Services API](media-services-portal-get-started-with-aad.md).</span></span>
* <span data-ttu-id="23664-208">Ověřování pomocí služby Azure AD [přístup k rozhraní API služby Azure Media Services s .NET](media-services-dotnet-get-started-with-aad.md).</span><span class="sxs-lookup"><span data-stu-id="23664-208">Use Azure AD authentication to [access Azure Media Services API with .NET](media-services-dotnet-get-started-with-aad.md).</span></span>

