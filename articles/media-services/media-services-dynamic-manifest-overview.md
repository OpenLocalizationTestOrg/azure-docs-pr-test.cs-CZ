---
title: "aaaFilters a dynamické manifesty | Microsoft Docs"
description: "Toto téma popisuje, jak filtry toocreate abyste vašeho klienta mohli používat určité části toostream datového proudu. Služba Media Services vytvoří dynamické manifesty tooarchive selektivní streamování."
services: media-services
documentationcenter: 
author: cenkdin
manager: cfowler
editor: 
ms.assetid: ff102765-8cee-4c08-a6da-b603db9e2054
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 06/29/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 9527a011438c11da07a363d701ea736414412ecf
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="filters-and-dynamic-manifests"></a><span data-ttu-id="aa5ec-104">Filtry a dynamické manifestů</span><span class="sxs-lookup"><span data-stu-id="aa5ec-104">Filters and dynamic manifests</span></span>
<span data-ttu-id="aa5ec-105">Od verze 2.11, Media Services umožňuje toodefine filtry pro vaše prostředky.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-105">Starting with 2.11 release, Media Services enables you toodefine filters for your assets.</span></span> <span data-ttu-id="aa5ec-106">Tyto filtry jsou pravidla na straně serveru, které vám umožní vašim zákazníkům toochoose toodo věci jako: přehrávání pouze část videa (namísto přehrávání hello celý video), nebo zadejte pouze podmnožinu interpretace audia a videa, vašeho zákazníka zařízení dokáže zpracovat ( Ne všechny interpretace hello které jsou přidruženy hello asset).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-106">These filters are server side rules that will allow your customers toochoose toodo things like: playback only a section of a video (instead of playing hello whole video), or specify only a subset of audio and video renditions that your customer's device can handle (instead of all hello renditions that are associated with hello asset).</span></span> <span data-ttu-id="aa5ec-107">Tento filtrování vaše prostředky bude archivován prostřednictvím **dynamické Manifest**ů, které jsou vytvořené při vašeho zákazníka žádost toostream video podle zadané filtry.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-107">This filtering of your assets is archived through **Dynamic Manifest**s that are created upon your customer's request toostream a video based on specified filter(s).</span></span>

<span data-ttu-id="aa5ec-108">Tato témata popisuje běžné scénáře, ve kterém pomocí filtrů by tootopics velmi užitečné tooyour zákazníků a odkazy, které ukazují, jak filtry toocreate prostřednictvím kódu programu (v současné době můžete vytvořit filtry pomocí rozhraní REST API pouze).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-108">This topics discusses common scenarios in which using filters would be very beneficial tooyour customers and links tootopics that demonstrate how toocreate filters programmatically (currently, you can create filters with REST APIs only).</span></span>

## <a name="overview"></a><span data-ttu-id="aa5ec-109">Přehled</span><span class="sxs-lookup"><span data-stu-id="aa5ec-109">Overview</span></span>
<span data-ttu-id="aa5ec-110">Při doručování vašeho obsahu toocustomers (streamování živé události nebo vyžádání, video-on-demand) vaším cílem je toodeliver vysoce kvalitního videa toovarious zařízení v různých síťových podmínkách.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-110">When delivering your content toocustomers (streaming live events or video-on-demand) your goal is toodeliver a high quality video toovarious devices under different network conditions.</span></span> <span data-ttu-id="aa5ec-111">tooachieve tento cíl hello následující:</span><span class="sxs-lookup"><span data-stu-id="aa5ec-111">tooachieve this goal do hello following:</span></span>

* <span data-ttu-id="aa5ec-112">zakódovat váš datový proud přenosovými toomulti ([s adaptivní přenosovou rychlostí](http://en.wikipedia.org/wiki/Adaptive_bitrate_streaming)) datový proud videa (to se postará o kvalitu i síťové podmínky) a</span><span class="sxs-lookup"><span data-stu-id="aa5ec-112">encode your stream toomulti-bitrate ([adaptive bitrate](http://en.wikipedia.org/wiki/Adaptive_bitrate_streaming)) video stream (this will take care of quality and network conditions) and</span></span> 
* <span data-ttu-id="aa5ec-113">používání Media Services [dynamické balení](media-services-dynamic-packaging-overview.md) toodynamically znovu zabalte datový proud do jiné protokoly (to se postará o streamování na různá zařízení).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-113">use Media Services [Dynamic Packaging](media-services-dynamic-packaging-overview.md) toodynamically re-package your stream into different protocols (this will take care of streaming on different devices).</span></span> <span data-ttu-id="aa5ec-114">Služba Media Services podporuje doručování následujících adaptivní přenosové rychlosti streamování technologie hello: HTTP Live Streaming (HLS), technologie Smooth Streaming a MPEG DASH.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-114">Media Services supports delivery of hello following adaptive bitrate streaming technologies: HTTP Live Streaming (HLS), Smooth Streaming, and MPEG DASH.</span></span> 

### <a name="manifest-files"></a><span data-ttu-id="aa5ec-115">Soubory manifestu</span><span class="sxs-lookup"><span data-stu-id="aa5ec-115">Manifest files</span></span>
<span data-ttu-id="aa5ec-116">Při kódování prostředek pro streamování s adaptivní přenosovou rychlostí **manifest** se vytvoří soubor (STOP) (soubor hello je založený na textu nebo na základě XML).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-116">When you encode an asset for adaptive bitrate streaming, a **manifest** (playlist) file is created (hello file is text-based or XML-based).</span></span> <span data-ttu-id="aa5ec-117">Hello **manifest** soubor obsahuje metadata, jako streamování: sledování typu (zvuk, video nebo text), sledovat název, počáteční a koncový čas, přenosovou rychlostí (Vlastnosti), sledovat jazyky, prezentace okno (posuvné okno Pevná doba trvání), video kodeků (FourCC).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-117">hello **manifest** file includes streaming metadata such as: track type (audio, video, or text), track name, start and end time, bitrate (qualities), track languages, presentation window (sliding window of fixed duration), video codec (FourCC).</span></span> <span data-ttu-id="aa5ec-118">Je také dá pokyn hello player tooretrieve hello další fragment tím, že poskytuje informace o hello další možné přehrát video fragmenty dostupné a jejich umístění.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-118">It also instructs hello player tooretrieve hello next fragment by providing information about hello next playable video fragments available and their location.</span></span> <span data-ttu-id="aa5ec-119">Fragmenty (nebo segmenty) jsou hello skutečné "skupiny" video obsahu.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-119">Fragments (or segments) are hello actual “chunks” of a video content.</span></span>

<span data-ttu-id="aa5ec-120">Tady je příklad souboru manifestu:</span><span class="sxs-lookup"><span data-stu-id="aa5ec-120">Here is an example of a manifest file:</span></span> 

    <?xml version="1.0" encoding="UTF-8"?>    
    <SmoothStreamingMedia MajorVersion="2" MinorVersion="0" Duration="330187755" TimeScale="10000000">

    <StreamIndex Chunks="17" Type="video" Url="QualityLevels({bitrate})/Fragments(video={start time})" QualityLevels="8">
    <QualityLevel Index="0" Bitrate="5860941" FourCC="H264" MaxWidth="1920" MaxHeight="1080" CodecPrivateData="0000000167640028AC2CA501E0089F97015202020280000003008000001931300016E360000E4E1FF8C7076850A4580000000168E9093525" />
    <QualityLevel Index="1" Bitrate="4602724" FourCC="H264" MaxWidth="1920" MaxHeight="1080" CodecPrivateData="0000000167640028AC2CA501E0089F97015202020280000003008000001931100011EDC00002CD29FF8C7076850A45800000000168E9093525" />
    <QualityLevel Index="2" Bitrate="3319311" FourCC="H264" MaxWidth="1280" MaxHeight="720" CodecPrivateData="000000016764001FAC2CA5014016EC054808080A00000300020000030064C0800067C28000103667F8C7076850A4580000000168E9093525" />
    <QualityLevel Index="3" Bitrate="2195119" FourCC="H264" MaxWidth="960" MaxHeight="540" CodecPrivateData="000000016764001FAC2CA503C045FBC054808080A000000300200000064C1000044AA0000ABA9FE31C1DA14291600000000168E9093525" />
    <QualityLevel Index="4" Bitrate="1469881" FourCC="H264" MaxWidth="960" MaxHeight="540" CodecPrivateData="000000016764001FAC2CA503C045FBC054808080A000000300200000064C04000B71A0000E4E1FF8C7076850A4580000000168E9093525" />
    <QualityLevel Index="5" Bitrate="978815" FourCC="H264" MaxWidth="640" MaxHeight="360" CodecPrivateData="000000016764001EAC2CA50280BFE5C0548303032000000300200000064C08001E8480004C4B7F8C7076850A45800000000168E9093525" />
    <QualityLevel Index="6" Bitrate="638374" FourCC="H264" MaxWidth="640" MaxHeight="360" CodecPrivateData="000000016764001EAC2CA50280BFE5C0548303032000000300200000064C080013D60000C65DFE31C1DA1429160000000168E9093525" />
    <QualityLevel Index="7" Bitrate="388851" FourCC="H264" MaxWidth="320" MaxHeight="180" CodecPrivateData="000000016764000DAC2CA505067E7C054830303200000300020000030064C040030D40003D093F8C7076850A45800000000168E9093525" />

    <c t="0" d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="9600000"/>
    </StreamIndex>


    <StreamIndex Chunks="17" Type="audio" Url="QualityLevels({bitrate})/Fragments(AAC_und_ch2_128kbps={start time})" QualityLevels="1" Name="AAC_und_ch2_128kbps">
    <QualityLevel AudioTag="255" Index="0" BitsPerSample="16" Bitrate="125658" FourCC="AACL" CodecPrivateData="1210" Channels="2" PacketSize="4" SamplingRate="44100" />

    <c t="0" d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="6965987" /></StreamIndex>


    <StreamIndex Chunks="17" Type="audio" Url="QualityLevels({bitrate})/Fragments(AAC_und_ch2_56kbps={start time})" QualityLevels="1" Name="AAC_und_ch2_56kbps">
    <QualityLevel AudioTag="255" Index="0" BitsPerSample="16" Bitrate="53655" FourCC="AACL" CodecPrivateData="1210" Channels="2" PacketSize="4" SamplingRate="44100" />

    <c t="0" d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="6965987" /></StreamIndex>

    </SmoothStreamingMedia>

### <a name="dynamic-manifests"></a><span data-ttu-id="aa5ec-121">Dynamické manifestů</span><span class="sxs-lookup"><span data-stu-id="aa5ec-121">Dynamic manifests</span></span>
<span data-ttu-id="aa5ec-122">Existují [scénáře](media-services-dynamic-manifest-overview.md#scenarios) když váš klient potřebuje více flexibility než co je popsaný v souboru manifestu hello výchozí asset.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-122">There are [scenarios](media-services-dynamic-manifest-overview.md#scenarios) when your client needs more flexibility than what's described in hello default asset's manifest file.</span></span> <span data-ttu-id="aa5ec-123">Například:</span><span class="sxs-lookup"><span data-stu-id="aa5ec-123">For example:</span></span>

* <span data-ttu-id="aa5ec-124">Zařízení, konkrétní: poskytovat hello zadána interpretace nebo zadat pouze jazyk sleduje, kterými hello zařízení, které je použité tooplayback hello ("interpretace filtrování obsahu").</span><span class="sxs-lookup"><span data-stu-id="aa5ec-124">Device specific: deliver only hello specified renditions and\or specified language tracks that are supported by hello device that is used tooplayback hello content ("rendition filtering").</span></span> 
* <span data-ttu-id="aa5ec-125">Snižte hello manifestu tooshow dílčí klip živé události ("dílčí klip filtrování").</span><span class="sxs-lookup"><span data-stu-id="aa5ec-125">Reduce hello manifest tooshow a sub-clip of a live event ("sub-clip filtering").</span></span>
* <span data-ttu-id="aa5ec-126">Trim hello začátek video ("ořezávání video").</span><span class="sxs-lookup"><span data-stu-id="aa5ec-126">Trim hello start of a video ("trimming a video").</span></span>
* <span data-ttu-id="aa5ec-127">Úprava prezentace okno (DVR) v pořadí tooprovide omezenou délku hello formátu DVR okno v player hello ("okno s úpravou prezentace").</span><span class="sxs-lookup"><span data-stu-id="aa5ec-127">Adjust Presentation Window (DVR) in order tooprovide a limited length of hello DVR window in hello player ("adjusting presentation window") .</span></span>

<span data-ttu-id="aa5ec-128">tooachieve tuto flexibilitu, Media Services nabízí **dynamické manifesty** založené na předem definované [filtry](media-services-dynamic-manifest-overview.md#filters).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-128">tooachieve this flexibility, Media Services offers **Dynamic Manifests** based on pre-defined [filters](media-services-dynamic-manifest-overview.md#filters).</span></span>  <span data-ttu-id="aa5ec-129">Jakmile definujete hello filtry, vaši klienti může je používat toostream konkrétní interpretace nebo dílčí klipů videa.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-129">Once you define hello filters, your clients could use them toostream a specific rendition or sub-clips of your video.</span></span> <span data-ttu-id="aa5ec-130">Filtry se určují v hello adresu URL streamování.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-130">They would specify filter(s) in hello streaming URL.</span></span> <span data-ttu-id="aa5ec-131">Filtry může být použité tooadaptive přenosové rychlosti streamování protokolů podporovaných [dynamické balení](media-services-dynamic-packaging-overview.md): HLS, MPEG DASH a technologie Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-131">Filters could be applied tooadaptive bitrate streaming protocols supported by [Dynamic Packaging](media-services-dynamic-packaging-overview.md): HLS, MPEG-DASH, and Smooth Streaming.</span></span> <span data-ttu-id="aa5ec-132">Například:</span><span class="sxs-lookup"><span data-stu-id="aa5ec-132">For example:</span></span>

<span data-ttu-id="aa5ec-133">Adresa URL MPEG DASH s filtrem</span><span class="sxs-lookup"><span data-stu-id="aa5ec-133">MPEG DASH URL with filter</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=mpd-time-csf,filter=MyLocalFilter)

<span data-ttu-id="aa5ec-134">Technologie Smooth Streaming adresu URL pomocí filtru</span><span class="sxs-lookup"><span data-stu-id="aa5ec-134">Smooth Streaming URL with filter</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(filter=MyLocalFilter)


<span data-ttu-id="aa5ec-135">Další informace o tom, toodeliver obsah a sestavení streamování adresy URL, najdete v části [doručování obsahu přehled](media-services-deliver-content-overview.md).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-135">For more information about how toodeliver your content and build streaming URLs, see [Delivering content overview](media-services-deliver-content-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="aa5ec-136">Všimněte si, že dynamické manifesty neměňte hello asset a hello výchozí manifest pro tento prostředek.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-136">Note that Dynamic Manifests do not change hello asset and hello default manifest for that asset.</span></span> <span data-ttu-id="aa5ec-137">Váš klient můžete zvolit toorequest datového proudu s nebo bez filtry.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-137">Your client can choose toorequest a stream with or without filters.</span></span> 
> 
> 

### <span data-ttu-id="aa5ec-138"><a id="filters"></a>Filtry</span><span class="sxs-lookup"><span data-stu-id="aa5ec-138"><a id="filters"></a>Filters</span></span>
<span data-ttu-id="aa5ec-139">Existují dva typy filtrů asset:</span><span class="sxs-lookup"><span data-stu-id="aa5ec-139">There are two types of asset filters:</span></span> 

* <span data-ttu-id="aa5ec-140">Globální filtry (můžou být použité tooany prostředek hello účtu Azure Media Services, mají životnost hello účet) a</span><span class="sxs-lookup"><span data-stu-id="aa5ec-140">Global filters (can be applied tooany asset in hello Azure Media Services account, have a lifetime of hello account) and</span></span> 
* <span data-ttu-id="aa5ec-141">Místní filtry (může být pouze s které hello filtr byl po vytvoření přidružený asset použité tooan, mají životnost hello asset).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-141">Local filters (can only be applied tooan asset with which hello filter was associated upon creation, have a lifetime of hello asset).</span></span> 

<span data-ttu-id="aa5ec-142">Globální a místní filtrování typů mít přesně hello stejné vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-142">Global and local filter types have exactly hello same properties.</span></span> <span data-ttu-id="aa5ec-143">Hello hlavní rozdíl mezi hello dva je, jaký typ souborového pro scénáře, které je vhodnější.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-143">hello main difference between hello two is for which scenarios what type of a filer is more suitable.</span></span> <span data-ttu-id="aa5ec-144">Globální filtry jsou obecně vhodné pro profily zařízení (interpretace filtrování), kde může být místní filtry použité tootrim konkrétní asset.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-144">Global filters are generally suitable for device profiles (rendition filtering) where local filters could be used tootrim a specific asset.</span></span>

## <span data-ttu-id="aa5ec-145"><a id="scenarios"></a>Běžné scénáře</span><span class="sxs-lookup"><span data-stu-id="aa5ec-145"><a id="scenarios"></a>Common scenarios</span></span>
<span data-ttu-id="aa5ec-146">Jak již bylo zmíněno, než po doručení vašeho obsahu toocustomers (streamování živé události nebo vyžádání, video-on-demand) vaším cílem je toodeliver vysoce kvalitního videa sítě toovarious zařízení v rámci jiné podmínky.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-146">As was mentioned before, when delivering your content toocustomers (streaming live events or video-on-demand) your goal is toodeliver a high quality video toovarious devices under different network conditions.</span></span> <span data-ttu-id="aa5ec-147">Kromě toho vaší může mít jiné požadavky, které zahrnují filtrování vaše prostředky a použití **dynamické Manifest**s.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-147">In addition, your might have other requirements that involve filtering your assets and using of **Dynamic Manifest**s.</span></span> <span data-ttu-id="aa5ec-148">Hello následující oddíly poskytují stručný přehled různých scénářů filtrování.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-148">hello following sections give a short overview of different filtering scenarios.</span></span>

* <span data-ttu-id="aa5ec-149">Zadejte jenom podmnožinu interpretace audia a videa, které může zpracovat určitých zařízení (ne všechny interpretace hello, které jsou přidruženy hello asset).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-149">Specify only a subset of audio and video renditions that certain devices can handle (instead of all hello renditions that are associated with hello asset).</span></span> 
* <span data-ttu-id="aa5ec-150">Přehrávání pouze část videa (namísto přehrávání hello celý video).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-150">Playing back only a section of a video (instead of playing hello whole video).</span></span>
* <span data-ttu-id="aa5ec-151">Upravte formátu DVR prezentace okno.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-151">Adjust DVR presentation window.</span></span>

## <a name="rendition-filtering"></a><span data-ttu-id="aa5ec-152">Interpretace filtrování</span><span class="sxs-lookup"><span data-stu-id="aa5ec-152">Rendition filtering</span></span>
<span data-ttu-id="aa5ec-153">Můžete se rozhodnout tooencode váš asset toomultiple kódování profilů (H.264 směrného plánu, H.264 vysoké, AACL, AACH, Dolby Digital Plus) a více přenosových rychlostí kvality.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-153">You may choose tooencode your asset toomultiple encoding profiles (H.264 Baseline, H.264 High, AACL, AACH, Dolby Digital Plus) and multiple quality bitrates.</span></span> <span data-ttu-id="aa5ec-154">Ne všechna zařízení klienta bude však podporovat všechny assetu profily a přenosových rychlostí.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-154">However, not all client devices will support all your asset's profiles and bitrates.</span></span> <span data-ttu-id="aa5ec-155">Například starší zařízení se systémem Android podporuje pouze H.264 směrného plánu + AACL.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-155">For example, older Android devices only supports H.264 Baseline+AACL.</span></span> <span data-ttu-id="aa5ec-156">Odesílání vyšší přenosových rychlostí tooa zařízení, které nelze získat výhody hello, zbytečně plýtvá výpočet šířky pásma a zařízení.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-156">Sending higher bitrates tooa device which cannot get hello benefits, wastes bandwidth and device computation.</span></span> <span data-ttu-id="aa5ec-157">Taková zařízení musí dekódovat všechny hello dané informace, jenom tooscale ho dolů pro zobrazení.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-157">Such device must decode all hello given information, only tooscale it down for display.</span></span>

<span data-ttu-id="aa5ec-158">Pomocí dynamických Manifest můžete vytvářet profily zařízení například mobile, konzoly, HD/SD atd. a zahrnují hello sleduje a vlastnosti, které chcete toobe součástí každý profil.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-158">With Dynamic Manifest, you can create device profiles such as mobile, console, HD/SD, etc. and include hello tracks and qualities which you want toobe a part of each profile.</span></span>

![Příklad filtrování interpretace][renditions2]

<span data-ttu-id="aa5ec-160">V následující ukázka hello byla kodér použité tooencode asset mezzanine do sedmi interpretace video soubory MP4 s rychlostmi ISO (z too1080p 180p).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-160">In hello following example, an encoder was used tooencode a mezzanine asset into seven ISO MP4s video renditions (from 180p too1080p).</span></span> <span data-ttu-id="aa5ec-161">Hello zakódovanému assetu můžete dynamicky zabalené do některé z následujících protokolů datových proudů hello: HLS, Smooth a MPEG DASH.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-161">hello encoded asset can be dynamically packaged into any of hello following streaming protocols: HLS, Smooth, and MPEG DASH.</span></span>  <span data-ttu-id="aa5ec-162">V horní části hello hello diagramu, se zobrazí hello HLS manifest pro prostředek hello s žádné filtry (obsahuje všechny sedm interpretace).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-162">At hello top of hello diagram, hello HLS manifest for hello asset with no filters is shown (it contains all seven renditions).</span></span>  <span data-ttu-id="aa5ec-163">V levém dolním hello se zobrazí hello HLS manifest toowhich, který byl použit filtr s názvem "ott".</span><span class="sxs-lookup"><span data-stu-id="aa5ec-163">In hello bottom left, hello HLS manifest toowhich a filter named "ott" was applied is shown.</span></span> <span data-ttu-id="aa5ec-164">Filtr "ott" Hello určuje tooremove všechny přenosových rychlostí nižší než 1 MB/s, čímž vznikl hello dolní dvě úrovně kvality se odstraní v odpovědi hello.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-164">hello "ott" filter specifies tooremove all bitrates below 1Mbps, which resulted in hello bottom two quality levels being stripped off in hello response.</span></span>  <span data-ttu-id="aa5ec-165">V pravé, dolní hello hello HLS se zobrazí toowhich manifestu, který byl použit filtr s názvem "mobilní".</span><span class="sxs-lookup"><span data-stu-id="aa5ec-165">In hello bottom right,   hello HLS manifest toowhich a filter named "mobile" was applied is shown.</span></span> <span data-ttu-id="aa5ec-166">Filtr "mobilní" Hello určuje tooremove interpretace kde hello řešení je větší než 720p, čímž vznikl hello dvě 1080p interpretace se odstraní a.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-166">hello "mobile" filter specifies tooremove renditions where hello resolution is larger than 720p, which resulted in hello two 1080p renditions being stripped off.</span></span>

![Interpretace filtrování][renditions1]

## <a name="removing-language-tracks"></a><span data-ttu-id="aa5ec-168">Odebírání sleduje jazyk</span><span class="sxs-lookup"><span data-stu-id="aa5ec-168">Removing language tracks</span></span>
<span data-ttu-id="aa5ec-169">Vaše prostředky může obsahovat více zvuk jazyků, jako je angličtina, španělština, francouzština, atd. Obvykle hello Player SDK správci výchozí výběr zvukové stopy a k dispozici zvuk sleduje za výběr uživatele.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-169">Your assets might include multiple audio languages such as English, Spanish, French, etc. Usually, hello Player SDK managers default audio track selection and available audio tracks per user selection.</span></span> <span data-ttu-id="aa5ec-170">Je náročné toodevelop takové sady SDK Player, vyžaduje různými implementacemi napříč architektury přehrávačů konkrétní zařízení.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-170">It is challenging toodevelop such Player SDKs, it requires different implementations across device-specific player-frameworks.</span></span> <span data-ttu-id="aa5ec-171">Na některých platformách také Player rozhraní API jsou omezené a nezahrnují funkce audia výběr kde nelze uživatelů vyberte nebo změňte hello výchozí zvuk sledovat. S filtry asset můžete řídit chování hello vytvořením filtry, které pouze zahrnout požadované zvuk jazyky.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-171">Also, on some platforms, Player APIs are limited and do not include audio selection feature where users cannot select or change hello default audio track. With asset filters, you can control hello behavior by creating filters that only include desired audio languages.</span></span>

![Sleduje jazyka filtrování][language_filter]

## <a name="trimming-start-of-an-asset"></a><span data-ttu-id="aa5ec-173">Oříznutí začátek prostředek</span><span class="sxs-lookup"><span data-stu-id="aa5ec-173">Trimming start of an asset</span></span>
<span data-ttu-id="aa5ec-174">Ve většině živě streamovaných událostí operátoři spustit některé testy před hello skutečné události.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-174">In most live streaming events, operators run some tests before hello actual event.</span></span> <span data-ttu-id="aa5ec-175">Například může zahrnovat projektem takto před hello začátku události hello: "Programu zbývá na okamžik".</span><span class="sxs-lookup"><span data-stu-id="aa5ec-175">For example, they might include a slate like this before hello start of hello event: "Program will begin momentarily".</span></span> <span data-ttu-id="aa5ec-176">Pokud je hello program archivace, testovací hello a projektem data jsou také archivovány a budou zahrnuty do prezentace hello.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-176">If hello program is archiving, hello test and slate data are also archived and will be included in hello presentation.</span></span> <span data-ttu-id="aa5ec-177">Tyto informace však by neměla zobrazit toohello klientů.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-177">However, this information should not be shown toohello clients.</span></span> <span data-ttu-id="aa5ec-178">S dynamické manifestu můžete vytvořit filtr času zahájení a odebrat hello nežádoucí data z manifestu hello.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-178">With Dynamic Manifest, you can create a start time filter and remove hello unwanted data from hello manifest.</span></span>

![Oříznutí start][trim_filter]

## <a name="creating-sub-clips-views-from-a-live-archive"></a><span data-ttu-id="aa5ec-180">Vytváření dílčí klipů (zobrazení) z archivu za provozu</span><span class="sxs-lookup"><span data-stu-id="aa5ec-180">Creating sub-clips (views) from a live archive</span></span>
<span data-ttu-id="aa5ec-181">Mnoho živé události jsou dlouho spuštěný a za provozu archivu může obsahovat více událostí.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-181">Many live events are long running and live archive might include multiple events.</span></span> <span data-ttu-id="aa5ec-182">Po televizního končí hello živé události může být vhodné toobreak až hello live archivu do logické program spustit a zastavit pořadí.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-182">After hello live event ends broadcasters may want toobreak up hello live archive into logical program start and stop sequences.</span></span> <span data-ttu-id="aa5ec-183">Potom publikujte samostatně tyto virtuální programy bez post zpracování archivu živé hello a nevytváří samostatné prostředky (které nebude získat výhody hello existující uložené v mezipaměti fragmenty v hello sítím CDN).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-183">Then, publish these virtual programs separately without post processing hello live archive and not creating separate assets (which will not get benefit of hello existing cached fragments in hello CDNs).</span></span> <span data-ttu-id="aa5ec-184">Mezi tyto virtuální programy (dílčí klipy) jsou hello čtvrtletí fotbalové nebo Basketbalový hra, hello innings v baseballové nebo jednotlivé události odpoledne olympiáda programu.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-184">Examples of such virtual programs (sub-clips) are hello quarters of a football or basketball game, hello innings in baseball, or individual events of an afternoon of Olympics program.</span></span>

<span data-ttu-id="aa5ec-185">S dynamické Manifest můžete vytvářet filtry, pomocí počáteční/koncový čas a vytvořit virtuální zobrazení nad horní hello vaší živé archivu.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-185">With Dynamic Manifest, you can create filters using start/end times and create virtual views over hello top of your live archive.</span></span> 

![Subclip filtru][subclip_filter]

<span data-ttu-id="aa5ec-187">Filtrované Asset:</span><span class="sxs-lookup"><span data-stu-id="aa5ec-187">Filtered Asset:</span></span>

![Lyžování][skiing]

## <a name="adjusting-presentation-window-dvr"></a><span data-ttu-id="aa5ec-189">Nastavení prezentace okno (DVR)</span><span class="sxs-lookup"><span data-stu-id="aa5ec-189">Adjusting Presentation Window (DVR)</span></span>
<span data-ttu-id="aa5ec-190">V současné době Azure Media Services nabízí cyklické archivu, kde můžete hello trvání nakonfigurované mezi 5 minut – 25 hodin.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-190">Currently, Azure Media Services offers circular archive where hello duration can be configured between 5 minutes - 25 hours.</span></span> <span data-ttu-id="aa5ec-191">Manifestu filtrování můžou být použité toocreate okno postupného formátu DVR over hello horní části hello archivu bez odstranění média.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-191">Manifest filtering can be used toocreate a rolling DVR window over hello top of hello archive, without deleting media.</span></span> <span data-ttu-id="aa5ec-192">Existuje mnoho scénářů, kde chcete televizního tooprovide okno omezené formátu DVR, který za provozu okraj a na hello současně zachovat větší archivační okno se přesune s hello.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-192">There are many scenarios where broadcasters want tooprovide a limited DVR window which moves with hello live edge and at hello same time keep a bigger archiving window.</span></span> <span data-ttu-id="aa5ec-193">Zdroje všesměrového vysílání může být vhodné toouse hello data, která je mimo hello formátu DVR okno toohighlight klipů nebo he\she může být vhodné tooprovide různých formátu DVR windows pro různá zařízení.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-193">A broadcaster may want toouse hello data that is out of hello DVR window toohighlight clips, or he\she may want tooprovide different DVR windows for different devices.</span></span> <span data-ttu-id="aa5ec-194">Například většina hello mobilních zařízení není zpracovávat velký formátu DVR windows (může mít 2 minuty formátu DVR okna pro mobilní zařízení a 1 hodina klientů plochy).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-194">For example, most of hello mobile devices don’t handle big DVR windows (you can have a 2 minute DVR window for mobile devices and 1 hour for desktop clients).</span></span>

![Okno formátu DVR][dvr_filter]

## <a name="adjusting-livebackoff-live-position"></a><span data-ttu-id="aa5ec-196">Úprava LiveBackoff (živé pozice)</span><span class="sxs-lookup"><span data-stu-id="aa5ec-196">Adjusting LiveBackoff (live position)</span></span>
<span data-ttu-id="aa5ec-197">Manifestu filtrování lze použít tooremove několik sekund od hello za provozu okraje za chodu programu.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-197">Manifest filtering can be used tooremove several seconds from hello live edge of a live program.</span></span> <span data-ttu-id="aa5ec-198">To umožňuje televizního toowatch hello prezentace v publikaci preview hello bodu a vytvořit oznámení o inzerovaném programu body vložení před hello prohlížeče zobrazí datový proud hello (obvykle zálohovaný vypnuto 30 sekund).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-198">This allows broadcasters toowatch hello presentation on hello preview publication point and create advertisement insertion points before hello viewers receive hello stream (usually backed-off by 30 seconds).</span></span> <span data-ttu-id="aa5ec-199">Televizního pak vkládat tyto oznámení o inzerovaném programu tootheir klienta architektury v čase pro ně tooreceived a proces hello informace před možnost oznámení o inzerovaném programu hello.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-199">Broadcasters can then push these advertisements tootheir client frameworks in time for them tooreceived and process hello information before hello advertisement opportunity.</span></span>

<span data-ttu-id="aa5ec-200">Kromě toho podporují toohello oznámení o inzerovaném programu, LiveBackoff lze použít pro úpravu pozice za provozu stažení klienta tak, že když se klienti soubor a stiskněte tlačítko za provozu edge hello mohou stále získat fragmenty ze serveru, místo dochází k chybám protokolu HTTP 404 nebo 412.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-200">In addition toohello advertisement support, LiveBackoff can be used for adjusting client live download position so that when clients drift and hit hello live edge they can still get fragments from server instead of getting 404 or 412 HTTP errors.</span></span>

![livebackoff_filter][livebackoff_filter]

## <a name="combining-multiple-rules-in-a-single-filter"></a><span data-ttu-id="aa5ec-202">Kombinování více pravidel v jednom filtru</span><span class="sxs-lookup"><span data-stu-id="aa5ec-202">Combining multiple rules in a single filter</span></span>
<span data-ttu-id="aa5ec-203">Můžete kombinovat více pravidel filtrování v jednom filtru.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-203">You can combine multiple filtering rules in a single filter.</span></span> <span data-ttu-id="aa5ec-204">Jako příklad můžete definovat rozsah pravidla tooremove projektem z archivu za provozu a také filtrovat dostupné přenosových rychlostí.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-204">As an example you can define a range rule tooremove slate from a live archive and also filter available bitrates.</span></span> <span data-ttu-id="aa5ec-205">Pro více element end hello pravidla filtrování výsledků je hello sestavení (pouze průnik) těchto pravidel.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-205">For multiple filtering rules hello end result is hello composition (intersection only) of these rules.</span></span>

![více pravidel][multiple-rules]

## <a name="create-filters-programmatically"></a><span data-ttu-id="aa5ec-207">Vytvoření filtrů prostřednictvím kódu programu</span><span class="sxs-lookup"><span data-stu-id="aa5ec-207">Create filters programmatically</span></span>
<span data-ttu-id="aa5ec-208">Hello následující téma popisuje Media Services entit, které jsou související toofilters.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-208">hello following topic discusses Media Services entities that are related toofilters.</span></span> <span data-ttu-id="aa5ec-209">Hello téma také ukazuje, jak vytvořit tooprogrammatically filtry.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-209">hello topic also shows how tooprogrammatically create filters.</span></span>  

<span data-ttu-id="aa5ec-210">[Vytvoření filtrů rozhraní REST API](media-services-rest-dynamic-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-210">[Create filters with REST APIs](media-services-rest-dynamic-manifest.md).</span></span>

## <a name="combining-multiple-filters-filter-composition"></a><span data-ttu-id="aa5ec-211">Kombinace více filtrů (složení filtr)</span><span class="sxs-lookup"><span data-stu-id="aa5ec-211">Combining multiple filters (filter composition)</span></span>
<span data-ttu-id="aa5ec-212">Můžete také kombinovat více filtrů v jednu adresu URL.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-212">You can also combine multiple filters in a single URL.</span></span> 

<span data-ttu-id="aa5ec-213">Hello následující scénář předvádí, proč byste měli toocombine filtry:</span><span class="sxs-lookup"><span data-stu-id="aa5ec-213">hello following scenario demonstrates why you might want toocombine filters:</span></span>

1. <span data-ttu-id="aa5ec-214">Je nutné toofilter vaše video vlastnosti pro mobilní zařízení, třeba na Android nebo iPAD (v pořadí toolimit video vlastnosti).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-214">You need toofilter your video qualities for mobile devices such as Android or iPAD (in order toolimit video qualities).</span></span> <span data-ttu-id="aa5ec-215">tooremove hello nežádoucí kvality, vytvořili byste globální filtr, který je vhodný pro profily zařízení.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-215">tooremove hello unwanted qualities, you would create a global filter which is suitable for device profiles.</span></span> <span data-ttu-id="aa5ec-216">Jak je uvedeno nahoře, globální filtry lze použít pro všechny prostředky v rámci hello účet bez jakékoli další přidružení služeb stejná média.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-216">As mentioned above, global filters can be used for all your assets under hello same media services account without any further association.</span></span> 
2. <span data-ttu-id="aa5ec-217">Také chcete tootrim hello počáteční a koncový čas prostředek.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-217">You also want tootrim hello start and end time of an asset.</span></span> <span data-ttu-id="aa5ec-218">tooachieve, by vytvořit místní filtr a nastavit čas zahájení a ukončení hello.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-218">tooachieve this, you would create a local filter and set hello start/end time.</span></span> 
3. <span data-ttu-id="aa5ec-219">Chcete-li toocombine obě tyto filtry (bez kombinace potřebovali byste tooadd kvality filtrování toohello oříznutí filtr to bude obtížné filtru využití).</span><span class="sxs-lookup"><span data-stu-id="aa5ec-219">You want toocombine both of these filters (without combination you would need tooadd quality filtering toohello trimming filter which will make filter usage difficult).</span></span>

<span data-ttu-id="aa5ec-220">filtry toocombine, je nutné tooset hello filtru názvy toohello manifest/stop adresu URL s oddělený středníky.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-220">toocombine filters, you need tooset hello filter names toohello manifest/playlist URL with semicolon delimited.</span></span> <span data-ttu-id="aa5ec-221">Předpokládejme, máte filtr s názvem *MyMobileDevice* , filtry vlastností a druhou s názvem máte *MyStartTime* tooset konkrétní počáteční čas.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-221">Let’s assume you have a filter named *MyMobileDevice* that filters qualities and you have another named *MyStartTime* tooset a specific start time.</span></span> <span data-ttu-id="aa5ec-222">Můžete je spojit takto:</span><span class="sxs-lookup"><span data-stu-id="aa5ec-222">You can combine them like this:</span></span>

    http://teststreaming.streaming.mediaservices.windows.net/3d56a4d-b71d-489b-854f-1d67c0596966/64ff1f89-b430-43f8-87dd-56c87b7bd9e2.ism/Manifest(filter=MyMobileDevice;MyStartTime)

<span data-ttu-id="aa5ec-223">Můžete kombinovat až too3 filtry.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-223">You can combine up too3 filters.</span></span> 

<span data-ttu-id="aa5ec-224">Další informace najdete v části [to](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) blogu.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-224">For more information see [this](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) blog.</span></span>

## <a name="know-issues-and-limitations"></a><span data-ttu-id="aa5ec-225">Vědět, problémy a omezení</span><span class="sxs-lookup"><span data-stu-id="aa5ec-225">Know issues and limitations</span></span>
* <span data-ttu-id="aa5ec-226">Dynamické manifest funguje v GOP hranice (klíč rámce) proto ořezávání má GOP přesnost.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-226">Dynamic manifest operates in GOP boundaries (Key Frames) hence trimming has GOP accuracy.</span></span> 
* <span data-ttu-id="aa5ec-227">Můžete použít stejný název filtru pro místní a globální filtry.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-227">You can use same filter name for local and global filters.</span></span> <span data-ttu-id="aa5ec-228">Všimněte si, že místní filtr mají vyšší prioritu a přepíše globálních filtrů.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-228">Note that local filter have higher precedence and will override global filters.</span></span>
* <span data-ttu-id="aa5ec-229">Pokud aktualizujete filtr, může trvat až minut too2 pravidla hello toorefresh koncový bod streamování.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-229">If you update a filter, it can take up too2 minutes for streaming endpoint toorefresh hello rules.</span></span> <span data-ttu-id="aa5ec-230">Pokud obsah hello zpracování pomocí některé filtry (a uložené v mezipaměti v proxy servery a CDN mezipaměti), aktualizace tyto filtry může způsobit selhání přehrávač.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-230">If hello content was served using some filters (and cached in proxies and CDN caches), updating these filters can result in player failures.</span></span> <span data-ttu-id="aa5ec-231">Je vhodné tooclear hello mezipaměti po aktualizaci hello filtru.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-231">It is recommend tooclear hello cache after updating hello filter.</span></span> <span data-ttu-id="aa5ec-232">Pokud tato možnost není možné, zvažte použití jiný filtr.</span><span class="sxs-lookup"><span data-stu-id="aa5ec-232">If this option is not possible, consider using a different filter.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="aa5ec-233">Mapy kurzů ke službě Media Services</span><span class="sxs-lookup"><span data-stu-id="aa5ec-233">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="aa5ec-234">Poskytnutí zpětné vazby</span><span class="sxs-lookup"><span data-stu-id="aa5ec-234">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="see-also"></a><span data-ttu-id="aa5ec-235">Viz také</span><span class="sxs-lookup"><span data-stu-id="aa5ec-235">See Also</span></span>
[<span data-ttu-id="aa5ec-236">Doručování obsahu tooCustomers – přehled</span><span class="sxs-lookup"><span data-stu-id="aa5ec-236">Delivering Content tooCustomers Overview</span></span>](media-services-deliver-content-overview.md)

[renditions1]: ./media/media-services-dynamic-manifest-overview/media-services-rendition-filter.png
[renditions2]: ./media/media-services-dynamic-manifest-overview/media-services-rendition-filter2.png

[rendered_subclip]: ./media/media-services-dynamic-manifests/media-services-rendered-subclip.png
[timeline_trim_event]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-event.png
[timeline_trim_subclip]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-subclip.png

[multiple-rules]:./media/media-services-dynamic-manifest-overview/media-services-multiple-rules-filters.png

[subclip_filter]: ./media/media-services-dynamic-manifest-overview/media-services-subclips-filter.png
[trim_event]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-event.png
[trim_subclip]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-subclip.png
[trim_filter]: ./media/media-services-dynamic-manifest-overview/media-services-trim-filter.png
[redered_subclip]: ./media/media-services-dynamic-manifests/media-services-rendered-subclip.png
[livebackoff_filter]: ./media/media-services-dynamic-manifest-overview/media-services-livebackoff-filter.png
[language_filter]: ./media/media-services-dynamic-manifest-overview/media-services-language-filter.png
[dvr_filter]: ./media/media-services-dynamic-manifest-overview/media-services-dvr-filter.png
[skiing]: ./media/media-services-dynamic-manifest-overview/media-services-skiing.png
