---
title: "Filtry a dynamické manifesty | Microsoft Docs"
description: "Toto téma popisuje, jak vytvářet filtry, takže vašeho klienta můžete použít datový proud určité části datového proudu. Služba Media Services vytvoří dynamické manifesty k archivaci selektivní streamování."
services: media-services
documentationcenter: 
author: cenkdin
manager: cfowler
editor: 
ms.assetid: ff102765-8cee-4c08-a6da-b603db9e2054
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 06/29/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 4034fd0aa64627c107a43208dcca766f7f44d5d4
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="filters-and-dynamic-manifests"></a><span data-ttu-id="403b8-104">Filtry a dynamické manifestů</span><span class="sxs-lookup"><span data-stu-id="403b8-104">Filters and dynamic manifests</span></span>
<span data-ttu-id="403b8-105">Od verze 2.11, Media Services umožňuje definovat filtry pro vaše prostředky.</span><span class="sxs-lookup"><span data-stu-id="403b8-105">Starting with 2.11 release, Media Services enables you to define filters for your assets.</span></span> <span data-ttu-id="403b8-106">Tyto filtry jsou pravidla na straně serveru, které vám umožní vašim zákazníkům, kde můžete provádět například následující akce: přehrávání pouze část videa (namísto přehrávání celou video), nebo zadejte pouze podmnožinu interpretace audia a videa, které může zařízení vašich zákazníků (místo toho zpracovat všechny interpretací, jsou přidružený asset).</span><span class="sxs-lookup"><span data-stu-id="403b8-106">These filters are server side rules that will allow your customers to choose to do things like: playback only a section of a video (instead of playing the whole video), or specify only a subset of audio and video renditions that your customer's device can handle (instead of all the renditions that are associated with the asset).</span></span> <span data-ttu-id="403b8-107">Tento filtrování vaše prostředky bude archivován prostřednictvím **dynamické Manifest**ů, které jsou vytvořené na žádost zákazníka Streamovat videa podle zadané filtry.</span><span class="sxs-lookup"><span data-stu-id="403b8-107">This filtering of your assets is archived through **Dynamic Manifest**s that are created upon your customer's request to stream a video based on specified filter(s).</span></span>

<span data-ttu-id="403b8-108">Tato témata popisuje běžné scénáře, ve kterém pomocí filtrů by bylo velmi užitečné k vašim zákazníkům a odkazy na témata, které ukazují, jak vytvářet filtry prostřednictvím kódu programu (v současné době můžete vytvořit filtry pomocí rozhraní REST API pouze).</span><span class="sxs-lookup"><span data-stu-id="403b8-108">This topics discusses common scenarios in which using filters would be very beneficial to your customers and links to topics that demonstrate how to create filters programmatically (currently, you can create filters with REST APIs only).</span></span>

## <a name="overview"></a><span data-ttu-id="403b8-109">Přehled</span><span class="sxs-lookup"><span data-stu-id="403b8-109">Overview</span></span>
<span data-ttu-id="403b8-110">Při doručování obsahu zákazníkům (streaming živé události nebo vyžádání, video-on-demand) je vaším cílem poskytování vysoce kvalitního videa pro různá zařízení v různých síťových podmínkách.</span><span class="sxs-lookup"><span data-stu-id="403b8-110">When delivering your content to customers (streaming live events or video-on-demand) your goal is to deliver a high quality video to various devices under different network conditions.</span></span> <span data-ttu-id="403b8-111">K dosažení tohoto cíle provést následující kroky:</span><span class="sxs-lookup"><span data-stu-id="403b8-111">To achieve this goal do the following:</span></span>

* <span data-ttu-id="403b8-112">Kódovat datový proud do více přenosovými rychlostmi ([s adaptivní přenosovou rychlostí](http://en.wikipedia.org/wiki/Adaptive_bitrate_streaming)) datový proud videa (to se postará o kvalitu i síťové podmínky) a</span><span class="sxs-lookup"><span data-stu-id="403b8-112">encode your stream to multi-bitrate ([adaptive bitrate](http://en.wikipedia.org/wiki/Adaptive_bitrate_streaming)) video stream (this will take care of quality and network conditions) and</span></span> 
* <span data-ttu-id="403b8-113">používání Media Services [dynamické balení](media-services-dynamic-packaging-overview.md) a dynamicky znovu zabalte datový proud do jiné protokoly (to se postará o streamování na různá zařízení).</span><span class="sxs-lookup"><span data-stu-id="403b8-113">use Media Services [Dynamic Packaging](media-services-dynamic-packaging-overview.md) to dynamically re-package your stream into different protocols (this will take care of streaming on different devices).</span></span> <span data-ttu-id="403b8-114">Služba Media Services podporuje doručování následujících adaptivní přenosové rychlosti streamování technologie: HTTP Live Streaming (HLS), technologie Smooth Streaming a MPEG DASH.</span><span class="sxs-lookup"><span data-stu-id="403b8-114">Media Services supports delivery of the following adaptive bitrate streaming technologies: HTTP Live Streaming (HLS), Smooth Streaming, and MPEG DASH.</span></span> 

### <a name="manifest-files"></a><span data-ttu-id="403b8-115">Soubory manifestu</span><span class="sxs-lookup"><span data-stu-id="403b8-115">Manifest files</span></span>
<span data-ttu-id="403b8-116">Při kódování prostředek pro streamování s adaptivní přenosovou rychlostí **manifest** se vytvoří soubor (STOP) (soubor je založený na textu nebo na základě XML).</span><span class="sxs-lookup"><span data-stu-id="403b8-116">When you encode an asset for adaptive bitrate streaming, a **manifest** (playlist) file is created (the file is text-based or XML-based).</span></span> <span data-ttu-id="403b8-117">**Manifest** soubor obsahuje metadata, jako streamování: sledování typu (zvuk, video nebo text), sledovat název, počáteční a koncový čas, přenosovou rychlostí (Vlastnosti), sledovat jazyky, prezentace okno (posuvné okno Pevná doba trvání), (kodek videa FourCC).</span><span class="sxs-lookup"><span data-stu-id="403b8-117">The **manifest** file includes streaming metadata such as: track type (audio, video, or text), track name, start and end time, bitrate (qualities), track languages, presentation window (sliding window of fixed duration), video codec (FourCC).</span></span> <span data-ttu-id="403b8-118">Také dá pokyn player pro načtení další fragment tím, že poskytuje informace o na další možné přehrát video fragmenty dostupné a jejich umístění.</span><span class="sxs-lookup"><span data-stu-id="403b8-118">It also instructs the player to retrieve the next fragment by providing information about the next playable video fragments available and their location.</span></span> <span data-ttu-id="403b8-119">Fragmenty (nebo segmenty) jsou skutečné "bloky dat" video obsahu.</span><span class="sxs-lookup"><span data-stu-id="403b8-119">Fragments (or segments) are the actual “chunks” of a video content.</span></span>

<span data-ttu-id="403b8-120">Tady je příklad souboru manifestu:</span><span class="sxs-lookup"><span data-stu-id="403b8-120">Here is an example of a manifest file:</span></span> 

    <?xml version="1.0" encoding="UTF-8"?>    
    <SmoothStreamingMedia MajorVersion="2" MinorVersion="0" Duration="330187755" TimeScale="10000000">

    <StreamIndex Chunks="17" Type="video" Url="QualityLevels({bitrate})/Fragments(video={start time})" QualityLevels="8">
    <QualityLevel Index="0" Bitrate="5860941" FourCC="H264" MaxWidth="1920" MaxHeight="1080" CodecPrivateData="0000000167640028AC2CA501E0089F97015202020280000003008000001931300016E360000E4E1FF8C7076850A4580000000168E9093525" />
    <QualityLevel Index="1" Bitrate="4602724" FourCC="H264" MaxWidth="1920" MaxHeight="1080" CodecPrivateData="0000000167640028AC2CA501E0089F97015202020280000003008000001931100011EDC00002CD29FF8C7076850A45800000000168E9093525" />
    <QualityLevel Index="2" Bitrate="3319311" FourCC="H264" MaxWidth="1280" MaxHeight="720" CodecPrivateData="000000016764001FAC2CA5014016EC054808080A00000300020000030064C0800067C28000103667F8C7076850A4580000000168E9093525" />
    <QualityLevel Index="3" Bitrate="2195119" FourCC="H264" MaxWidth="960" MaxHeight="540" CodecPrivateData="000000016764001FAC2CA503C045FBC054808080A000000300200000064C1000044AA0000ABA9FE31C1DA14291600000000168E9093525" />
    <QualityLevel Index="4" Bitrate="1469881" FourCC="H264" MaxWidth="960" MaxHeight="540" CodecPrivateData="000000016764001FAC2CA503C045FBC054808080A000000300200000064C04000B71A0000E4E1FF8C7076850A4580000000168E9093525" />
    <QualityLevel Index="5" Bitrate="978815" FourCC="H264" MaxWidth="640" MaxHeight="360" CodecPrivateData="000000016764001EAC2CA50280BFE5C0548303032000000300200000064C08001E8480004C4B7F8C7076850A45800000000168E9093525" />
    <QualityLevel Index="6" Bitrate="638374" FourCC="H264" MaxWidth="640" MaxHeight="360" CodecPrivateData="000000016764001EAC2CA50280BFE5C0548303032000000300200000064C080013D60000C65DFE31C1DA1429160000000168E9093525" />
    <QualityLevel Index="7" Bitrate="388851" FourCC="H264" MaxWidth="320" MaxHeight="180" CodecPrivateData="000000016764000DAC2CA505067E7C054830303200000300020000030064C040030D40003D093F8C7076850A45800000000168E9093525" />

    <c t="0" d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="20000000" /><c d="9600000"/>
    </StreamIndex>


    <StreamIndex Chunks="17" Type="audio" Url="QualityLevels({bitrate})/Fragments(AAC_und_ch2_128kbps={start time})" QualityLevels="1" Name="AAC_und_ch2_128kbps">
    <QualityLevel AudioTag="255" Index="0" BitsPerSample="16" Bitrate="125658" FourCC="AACL" CodecPrivateData="1210" Channels="2" PacketSize="4" SamplingRate="44100" />

    <c t="0" d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="6965987" /></StreamIndex>


    <StreamIndex Chunks="17" Type="audio" Url="QualityLevels({bitrate})/Fragments(AAC_und_ch2_56kbps={start time})" QualityLevels="1" Name="AAC_und_ch2_56kbps">
    <QualityLevel AudioTag="255" Index="0" BitsPerSample="16" Bitrate="53655" FourCC="AACL" CodecPrivateData="1210" Channels="2" PacketSize="4" SamplingRate="44100" />

    <c t="0" d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201361" /><c d="20201360" /><c d="20201361" /><c d="20201360" /><c d="6965987" /></StreamIndex>

    </SmoothStreamingMedia>

### <a name="dynamic-manifests"></a><span data-ttu-id="403b8-121">Dynamické manifestů</span><span class="sxs-lookup"><span data-stu-id="403b8-121">Dynamic manifests</span></span>
<span data-ttu-id="403b8-122">Existují [scénáře](media-services-dynamic-manifest-overview.md#scenarios) když váš klient potřebuje více flexibility než co je popsaný v souboru manifestu výchozí asset.</span><span class="sxs-lookup"><span data-stu-id="403b8-122">There are [scenarios](media-services-dynamic-manifest-overview.md#scenarios) when your client needs more flexibility than what's described in the default asset's manifest file.</span></span> <span data-ttu-id="403b8-123">Například:</span><span class="sxs-lookup"><span data-stu-id="403b8-123">For example:</span></span>

* <span data-ttu-id="403b8-124">Zařízení, konkrétní: poskytovat sleduje jazyk, které podporuje zařízení, která je zadána nebo zadaný interpretace pouze používá k přehrávání obsahu ("interpretace filtrování").</span><span class="sxs-lookup"><span data-stu-id="403b8-124">Device specific: deliver only the specified renditions and\or specified language tracks that are supported by the device that is used to playback the content ("rendition filtering").</span></span> 
* <span data-ttu-id="403b8-125">Snižte manifest zobrazíte dílčí klip živé události ("dílčí klip filtrování").</span><span class="sxs-lookup"><span data-stu-id="403b8-125">Reduce the manifest to show a sub-clip of a live event ("sub-clip filtering").</span></span>
* <span data-ttu-id="403b8-126">Trim – začátek video ("ořezávání video").</span><span class="sxs-lookup"><span data-stu-id="403b8-126">Trim the start of a video ("trimming a video").</span></span>
* <span data-ttu-id="403b8-127">Upravte prezentace okno (DVR) Chcete-li poskytovat omezené délky okna formátu DVR v player ("okno s úpravou prezentace").</span><span class="sxs-lookup"><span data-stu-id="403b8-127">Adjust Presentation Window (DVR) in order to provide a limited length of the DVR window in the player ("adjusting presentation window") .</span></span>

<span data-ttu-id="403b8-128">K dosažení tuto flexibilitu potřebují, Media Services nabízí **dynamické manifesty** založené na předem definované [filtry](media-services-dynamic-manifest-overview.md#filters).</span><span class="sxs-lookup"><span data-stu-id="403b8-128">To achieve this flexibility, Media Services offers **Dynamic Manifests** based on pre-defined [filters](media-services-dynamic-manifest-overview.md#filters).</span></span>  <span data-ttu-id="403b8-129">Jakmile definujete filtry, vaši klienti využít k vysílání datového proudu konkrétní interpretace nebo dílčí klipů videa.</span><span class="sxs-lookup"><span data-stu-id="403b8-129">Once you define the filters, your clients could use them to stream a specific rendition or sub-clips of your video.</span></span> <span data-ttu-id="403b8-130">Filtry by zadanému v adrese URL streamování.</span><span class="sxs-lookup"><span data-stu-id="403b8-130">They would specify filter(s) in the streaming URL.</span></span> <span data-ttu-id="403b8-131">Použít filtry i adaptivní přenosové rychlosti streamování protokolů podporovaných [dynamické balení](media-services-dynamic-packaging-overview.md): HLS, MPEG DASH a technologie Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="403b8-131">Filters could be applied to adaptive bitrate streaming protocols supported by [Dynamic Packaging](media-services-dynamic-packaging-overview.md): HLS, MPEG-DASH, and Smooth Streaming.</span></span> <span data-ttu-id="403b8-132">Například:</span><span class="sxs-lookup"><span data-stu-id="403b8-132">For example:</span></span>

<span data-ttu-id="403b8-133">Adresa URL MPEG DASH s filtrem</span><span class="sxs-lookup"><span data-stu-id="403b8-133">MPEG DASH URL with filter</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(format=mpd-time-csf,filter=MyLocalFilter)

<span data-ttu-id="403b8-134">Technologie Smooth Streaming adresu URL pomocí filtru</span><span class="sxs-lookup"><span data-stu-id="403b8-134">Smooth Streaming URL with filter</span></span>

    http://testendpoint-testaccount.streaming.mediaservices.windows.net/fecebb23-46f6-490d-8b70-203e86b0df58/BigBuckBunny.ism/Manifest(filter=MyLocalFilter)


<span data-ttu-id="403b8-135">Další informace o tom, jak poskytování obsahu a sestavení adresy URL pro streamování najdete v tématu [doručování obsahu přehled](media-services-deliver-content-overview.md).</span><span class="sxs-lookup"><span data-stu-id="403b8-135">For more information about how to deliver your content and build streaming URLs, see [Delivering content overview](media-services-deliver-content-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="403b8-136">Všimněte si, že dynamické manifesty neměňte asset a výchozí manifest pro tento prostředek.</span><span class="sxs-lookup"><span data-stu-id="403b8-136">Note that Dynamic Manifests do not change the asset and the default manifest for that asset.</span></span> <span data-ttu-id="403b8-137">Váš klient můžete k vyžádání datového proudu s nebo bez filtry.</span><span class="sxs-lookup"><span data-stu-id="403b8-137">Your client can choose to request a stream with or without filters.</span></span> 
> 
> 

### <span data-ttu-id="403b8-138"><a id="filters"></a>Filtry</span><span class="sxs-lookup"><span data-stu-id="403b8-138"><a id="filters"></a>Filters</span></span>
<span data-ttu-id="403b8-139">Existují dva typy filtrů asset:</span><span class="sxs-lookup"><span data-stu-id="403b8-139">There are two types of asset filters:</span></span> 

* <span data-ttu-id="403b8-140">Globální filtry (lze použít pro prostředek v účtu Azure Media Services, mají životnost účet) a</span><span class="sxs-lookup"><span data-stu-id="403b8-140">Global filters (can be applied to any asset in the Azure Media Services account, have a lifetime of the account) and</span></span> 
* <span data-ttu-id="403b8-141">Místní filtry (můžete použít pouze pro prostředek, ke kterému se vztahovaly po vytvoření filtru, mají životnost asset).</span><span class="sxs-lookup"><span data-stu-id="403b8-141">Local filters (can only be applied to an asset with which the filter was associated upon creation, have a lifetime of the asset).</span></span> 

<span data-ttu-id="403b8-142">Globální a místní filtrování typů mají stejné vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="403b8-142">Global and local filter types have exactly the same properties.</span></span> <span data-ttu-id="403b8-143">Hlavní rozdíl mezi nimi je, jaký typ souborového pro scénáře, které je vhodnější.</span><span class="sxs-lookup"><span data-stu-id="403b8-143">The main difference between the two is for which scenarios what type of a filer is more suitable.</span></span> <span data-ttu-id="403b8-144">Globální filtry jsou obecně vhodné pro profily zařízení (interpretace filtrování), kde místní filtry může trim konkrétní asset.</span><span class="sxs-lookup"><span data-stu-id="403b8-144">Global filters are generally suitable for device profiles (rendition filtering) where local filters could be used to trim a specific asset.</span></span>

## <span data-ttu-id="403b8-145"><a id="scenarios"></a>Běžné scénáře</span><span class="sxs-lookup"><span data-stu-id="403b8-145"><a id="scenarios"></a>Common scenarios</span></span>
<span data-ttu-id="403b8-146">Jak již bylo zmíněno, než při doručování obsahu zákazníkům (streaming živé události nebo vyžádání, video-on-demand) vaším cílem je k poskytování vysoce kvalitního videa pro různá zařízení v různých síťových podmínkách.</span><span class="sxs-lookup"><span data-stu-id="403b8-146">As was mentioned before, when delivering your content to customers (streaming live events or video-on-demand) your goal is to deliver a high quality video to various devices under different network conditions.</span></span> <span data-ttu-id="403b8-147">Kromě toho vaší může mít jiné požadavky, které zahrnují filtrování vaše prostředky a použití **dynamické Manifest**s.</span><span class="sxs-lookup"><span data-stu-id="403b8-147">In addition, your might have other requirements that involve filtering your assets and using of **Dynamic Manifest**s.</span></span> <span data-ttu-id="403b8-148">Následujících oddílech najdete stručný přehled různých scénářů filtrování.</span><span class="sxs-lookup"><span data-stu-id="403b8-148">The following sections give a short overview of different filtering scenarios.</span></span>

* <span data-ttu-id="403b8-149">Zadejte jenom podmnožinu interpretace audia a videa, které může zpracovat určitých zařízení (ne všechny interpretace, které jsou přidruženy asset).</span><span class="sxs-lookup"><span data-stu-id="403b8-149">Specify only a subset of audio and video renditions that certain devices can handle (instead of all the renditions that are associated with the asset).</span></span> 
* <span data-ttu-id="403b8-150">Přehrávání pouze část videa (namísto přehrávání celou video).</span><span class="sxs-lookup"><span data-stu-id="403b8-150">Playing back only a section of a video (instead of playing the whole video).</span></span>
* <span data-ttu-id="403b8-151">Upravte formátu DVR prezentace okno.</span><span class="sxs-lookup"><span data-stu-id="403b8-151">Adjust DVR presentation window.</span></span>

## <a name="rendition-filtering"></a><span data-ttu-id="403b8-152">Interpretace filtrování</span><span class="sxs-lookup"><span data-stu-id="403b8-152">Rendition filtering</span></span>
<span data-ttu-id="403b8-153">Můžete se rozhodnout, kódovat asset víc kódování profilů (H.264 směrného plánu, H.264 vysoké, AACL, AACH, Dolby Digital Plus) a více přenosových rychlostí kvality.</span><span class="sxs-lookup"><span data-stu-id="403b8-153">You may choose to encode your asset to multiple encoding profiles (H.264 Baseline, H.264 High, AACL, AACH, Dolby Digital Plus) and multiple quality bitrates.</span></span> <span data-ttu-id="403b8-154">Ne všechna zařízení klienta bude však podporovat všechny assetu profily a přenosových rychlostí.</span><span class="sxs-lookup"><span data-stu-id="403b8-154">However, not all client devices will support all your asset's profiles and bitrates.</span></span> <span data-ttu-id="403b8-155">Například starší zařízení se systémem Android podporuje pouze H.264 směrného plánu + AACL.</span><span class="sxs-lookup"><span data-stu-id="403b8-155">For example, older Android devices only supports H.264 Baseline+AACL.</span></span> <span data-ttu-id="403b8-156">Vyšší přenosových rychlostí odesílání do zařízení, které nelze získat výhody, zbytečně plýtvá výpočet šířky pásma a zařízení.</span><span class="sxs-lookup"><span data-stu-id="403b8-156">Sending higher bitrates to a device which cannot get the benefits, wastes bandwidth and device computation.</span></span> <span data-ttu-id="403b8-157">Taková zařízení musí dekódovat všechny informace o daném, jenom na snižovat pro zobrazení.</span><span class="sxs-lookup"><span data-stu-id="403b8-157">Such device must decode all the given information, only to scale it down for display.</span></span>

<span data-ttu-id="403b8-158">Pomocí dynamických Manifest můžete vytvářet profily zařízení například mobile, konzoly, HD/SD atd. a zahrnují sleduje a vlastnosti, které mají být součástí každý profil.</span><span class="sxs-lookup"><span data-stu-id="403b8-158">With Dynamic Manifest, you can create device profiles such as mobile, console, HD/SD, etc. and include the tracks and qualities which you want to be a part of each profile.</span></span>

![Příklad filtrování interpretace][renditions2]

<span data-ttu-id="403b8-160">V následujícím příkladu se použila kodér ke kódování mezzanine asset do sedmi interpretace video soubory MP4 s rychlostmi ISO (z 180p 1080p).</span><span class="sxs-lookup"><span data-stu-id="403b8-160">In the following example, an encoder was used to encode a mezzanine asset into seven ISO MP4s video renditions (from 180p to 1080p).</span></span> <span data-ttu-id="403b8-161">K zakódovanému assetu se dá dynamicky zabalit do jakéhokoli z těchto protokolů streamování: HLS, Smooth a MPEG DASH.</span><span class="sxs-lookup"><span data-stu-id="403b8-161">The encoded asset can be dynamically packaged into any of the following streaming protocols: HLS, Smooth, and MPEG DASH.</span></span>  <span data-ttu-id="403b8-162">V horní části diagramu, se zobrazí HLS manifest pro prostředek s žádné filtry (obsahuje všechny sedm interpretace).</span><span class="sxs-lookup"><span data-stu-id="403b8-162">At the top of the diagram, the HLS manifest for the asset with no filters is shown (it contains all seven renditions).</span></span>  <span data-ttu-id="403b8-163">V dolní části vlevo se zobrazí v manifestu HLS, do které byl použit filtr s názvem "ott".</span><span class="sxs-lookup"><span data-stu-id="403b8-163">In the bottom left, the HLS manifest to which a filter named "ott" was applied is shown.</span></span> <span data-ttu-id="403b8-164">Určuje filtr "ott" Odebrat všechny přenosových rychlostí nižší než 1 MB/s, čímž vznikl dolní dvě úrovně kvality se odstraní v odpovědi.</span><span class="sxs-lookup"><span data-stu-id="403b8-164">The "ott" filter specifies to remove all bitrates below 1Mbps, which resulted in the bottom two quality levels being stripped off in the response.</span></span>  <span data-ttu-id="403b8-165">V vpravo dole se zobrazí v manifestu HLS, do které byl použit filtr s názvem "mobilní".</span><span class="sxs-lookup"><span data-stu-id="403b8-165">In the bottom right,   the HLS manifest to which a filter named "mobile" was applied is shown.</span></span> <span data-ttu-id="403b8-166">Určuje filtr "mobilní" Odebrat interpretace, kde je větší než 720p, čímž vznikl dvě řešení 1080p interpretace se odstraní a.</span><span class="sxs-lookup"><span data-stu-id="403b8-166">The "mobile" filter specifies to remove renditions where the resolution is larger than 720p, which resulted in the two 1080p renditions being stripped off.</span></span>

![Interpretace filtrování][renditions1]

## <a name="removing-language-tracks"></a><span data-ttu-id="403b8-168">Odebírání sleduje jazyk</span><span class="sxs-lookup"><span data-stu-id="403b8-168">Removing language tracks</span></span>
<span data-ttu-id="403b8-169">Vaše prostředky může obsahovat více zvuk jazyků, jako je angličtina, španělština, francouzština, atd. Obvykle správci Player SDK výchozí výběr zvukové stopy a k dispozici zvuk sleduje za výběr uživatele.</span><span class="sxs-lookup"><span data-stu-id="403b8-169">Your assets might include multiple audio languages such as English, Spanish, French, etc. Usually, the Player SDK managers default audio track selection and available audio tracks per user selection.</span></span> <span data-ttu-id="403b8-170">Je obtížné vyvíjet takové sady SDK Player, vyžaduje různými implementacemi napříč konkrétní zařízení architektury přehrávačů.</span><span class="sxs-lookup"><span data-stu-id="403b8-170">It is challenging to develop such Player SDKs, it requires different implementations across device-specific player-frameworks.</span></span> <span data-ttu-id="403b8-171">Na některých platformách také Player rozhraní API jsou omezené a nezahrnují funkce audia výběr kde nelze uživatelů vyberte nebo změňte sledování zvuk výchozí. S filtry asset můžete řídit chování vytvořením filtry, které pouze zahrnout požadované zvuk jazyky.</span><span class="sxs-lookup"><span data-stu-id="403b8-171">Also, on some platforms, Player APIs are limited and do not include audio selection feature where users cannot select or change the default audio track. With asset filters, you can control the behavior by creating filters that only include desired audio languages.</span></span>

![Sleduje jazyka filtrování][language_filter]

## <a name="trimming-start-of-an-asset"></a><span data-ttu-id="403b8-173">Oříznutí začátek prostředek</span><span class="sxs-lookup"><span data-stu-id="403b8-173">Trimming start of an asset</span></span>
<span data-ttu-id="403b8-174">Ve většině živě streamovaných událostí operátoři spustit některé testy před skutečné události.</span><span class="sxs-lookup"><span data-stu-id="403b8-174">In most live streaming events, operators run some tests before the actual event.</span></span> <span data-ttu-id="403b8-175">Například může zahrnovat projektem takto před zahájením události: "Programu zbývá na okamžik".</span><span class="sxs-lookup"><span data-stu-id="403b8-175">For example, they might include a slate like this before the start of the event: "Program will begin momentarily".</span></span> <span data-ttu-id="403b8-176">Pokud je program archivace, test a projektem data jsou také archivovány a budou zahrnuty do prezentaci.</span><span class="sxs-lookup"><span data-stu-id="403b8-176">If the program is archiving, the test and slate data are also archived and will be included in the presentation.</span></span> <span data-ttu-id="403b8-177">Tyto informace však by neměly být uváděny klientům.</span><span class="sxs-lookup"><span data-stu-id="403b8-177">However, this information should not be shown to the clients.</span></span> <span data-ttu-id="403b8-178">S dynamické manifestu můžete vytvořit filtr času zahájení a odebrat nežádoucí data z manifestu.</span><span class="sxs-lookup"><span data-stu-id="403b8-178">With Dynamic Manifest, you can create a start time filter and remove the unwanted data from the manifest.</span></span>

![Oříznutí start][trim_filter]

## <a name="creating-sub-clips-views-from-a-live-archive"></a><span data-ttu-id="403b8-180">Vytváření dílčí klipů (zobrazení) z archivu za provozu</span><span class="sxs-lookup"><span data-stu-id="403b8-180">Creating sub-clips (views) from a live archive</span></span>
<span data-ttu-id="403b8-181">Mnoho živé události jsou dlouho spuštěný a za provozu archivu může obsahovat více událostí.</span><span class="sxs-lookup"><span data-stu-id="403b8-181">Many live events are long running and live archive might include multiple events.</span></span> <span data-ttu-id="403b8-182">Po živé události končí televizního chtít rozdělit za provozu archivu do logické program spuštění a zastavení pořadí.</span><span class="sxs-lookup"><span data-stu-id="403b8-182">After the live event ends broadcasters may want to break up the live archive into logical program start and stop sequences.</span></span> <span data-ttu-id="403b8-183">Potom publikujte samostatně tyto virtuální programy bez post zpracování archivu za provozu a nevytváří samostatné prostředky (které nebude získat výhody existující uložené v mezipaměti fragmenty v sítím CDN).</span><span class="sxs-lookup"><span data-stu-id="403b8-183">Then, publish these virtual programs separately without post processing the live archive and not creating separate assets (which will not get benefit of the existing cached fragments in the CDNs).</span></span> <span data-ttu-id="403b8-184">Mezi tyto virtuální programy (dílčí klipy) jsou čtvrtletí fotbalové nebo Basketbalový hra, innings v baseballové nebo jednotlivé události odpoledne olympiáda programu.</span><span class="sxs-lookup"><span data-stu-id="403b8-184">Examples of such virtual programs (sub-clips) are the quarters of a football or basketball game, the innings in baseball, or individual events of an afternoon of Olympics program.</span></span>

<span data-ttu-id="403b8-185">S dynamické Manifest můžete vytvářet filtry, pomocí počáteční/koncový čas a vytvořit virtuální zobrazení v horní části vaší živé archivu.</span><span class="sxs-lookup"><span data-stu-id="403b8-185">With Dynamic Manifest, you can create filters using start/end times and create virtual views over the top of your live archive.</span></span> 

![Subclip filtru][subclip_filter]

<span data-ttu-id="403b8-187">Filtrované Asset:</span><span class="sxs-lookup"><span data-stu-id="403b8-187">Filtered Asset:</span></span>

![Lyžování][skiing]

## <a name="adjusting-presentation-window-dvr"></a><span data-ttu-id="403b8-189">Nastavení prezentace okno (DVR)</span><span class="sxs-lookup"><span data-stu-id="403b8-189">Adjusting Presentation Window (DVR)</span></span>
<span data-ttu-id="403b8-190">V současné době Azure Media Services nabízí cyklické archivu, kde můžete trvání nakonfigurované mezi 5 minut – 25 hodin.</span><span class="sxs-lookup"><span data-stu-id="403b8-190">Currently, Azure Media Services offers circular archive where the duration can be configured between 5 minutes - 25 hours.</span></span> <span data-ttu-id="403b8-191">Manifestu filtrování slouží k vytvoření postupného formátu DVR okna v horní části archivu, bez odstranění média.</span><span class="sxs-lookup"><span data-stu-id="403b8-191">Manifest filtering can be used to create a rolling DVR window over the top of the archive, without deleting media.</span></span> <span data-ttu-id="403b8-192">Existuje mnoho scénářů, kde chcete poskytnout okno omezené formátu DVR, které přesune s hranou za provozu a současně zachovat větší archivační okno televizního.</span><span class="sxs-lookup"><span data-stu-id="403b8-192">There are many scenarios where broadcasters want to provide a limited DVR window which moves with the live edge and at the same time keep a bigger archiving window.</span></span> <span data-ttu-id="403b8-193">Zdroje všesměrového vysílání může používat data, která je mimo okno formátu DVR, zvýrazněte klipů, nebo může být vhodné he\she poskytují různé formátu DVR windows pro různá zařízení.</span><span class="sxs-lookup"><span data-stu-id="403b8-193">A broadcaster may want to use the data that is out of the DVR window to highlight clips, or he\she may want to provide different DVR windows for different devices.</span></span> <span data-ttu-id="403b8-194">Většina mobilních zařízení například nemáte zpracovávat velký formátu DVR windows (může mít 2 minuty formátu DVR okna pro mobilní zařízení a 1 hodina klientů plochy).</span><span class="sxs-lookup"><span data-stu-id="403b8-194">For example, most of the mobile devices don’t handle big DVR windows (you can have a 2 minute DVR window for mobile devices and 1 hour for desktop clients).</span></span>

![Okno formátu DVR][dvr_filter]

## <a name="adjusting-livebackoff-live-position"></a><span data-ttu-id="403b8-196">Úprava LiveBackoff (živé pozice)</span><span class="sxs-lookup"><span data-stu-id="403b8-196">Adjusting LiveBackoff (live position)</span></span>
<span data-ttu-id="403b8-197">Manifestu filtrování lze použít k odebrání za provozu hrany živou program několik sekund.</span><span class="sxs-lookup"><span data-stu-id="403b8-197">Manifest filtering can be used to remove several seconds from the live edge of a live program.</span></span> <span data-ttu-id="403b8-198">To umožňuje televizního podívejte na prezentaci v bodě publikace preview a vytvořit oznámení o inzerovaném programu body vložení předtím, než prohlížeče zobrazí datový proud (obvykle zálohovaný vypnuto 30 sekund).</span><span class="sxs-lookup"><span data-stu-id="403b8-198">This allows broadcasters to watch the presentation on the preview publication point and create advertisement insertion points before the viewers receive the stream (usually backed-off by 30 seconds).</span></span> <span data-ttu-id="403b8-199">Televizního můžete nabízená těchto oznámení o inzerovaném programu jejich rozhraní klienta v čase se přijaté a zpracovat informace před možnost oznámení o inzerovaném programu.</span><span class="sxs-lookup"><span data-stu-id="403b8-199">Broadcasters can then push these advertisements to their client frameworks in time for them to received and process the information before the advertisement opportunity.</span></span>

<span data-ttu-id="403b8-200">Kromě podpory oznámení o inzerovaném programu LiveBackoff lze pro úpravu pozice za provozu stažení klienta tak, že když se klienti soubor a stiskněte tlačítko za provozu edge mohou stále získat fragmenty ze serveru, místo dochází k chybám protokolu HTTP 404 nebo 412.</span><span class="sxs-lookup"><span data-stu-id="403b8-200">In addition to the advertisement support, LiveBackoff can be used for adjusting client live download position so that when clients drift and hit the live edge they can still get fragments from server instead of getting 404 or 412 HTTP errors.</span></span>

![livebackoff_filter][livebackoff_filter]

## <a name="combining-multiple-rules-in-a-single-filter"></a><span data-ttu-id="403b8-202">Kombinování více pravidel v jednom filtru</span><span class="sxs-lookup"><span data-stu-id="403b8-202">Combining multiple rules in a single filter</span></span>
<span data-ttu-id="403b8-203">Můžete kombinovat více pravidel filtrování v jednom filtru.</span><span class="sxs-lookup"><span data-stu-id="403b8-203">You can combine multiple filtering rules in a single filter.</span></span> <span data-ttu-id="403b8-204">Jako příklad můžete definovat rozsah pravidlo pro odebrání za provozu archivu projektem a také filtrovat dostupné přenosových rychlostí.</span><span class="sxs-lookup"><span data-stu-id="403b8-204">As an example you can define a range rule to remove slate from a live archive and also filter available bitrates.</span></span> <span data-ttu-id="403b8-205">Pro více pravidel filtrování konečný výsledek je sestavení (pouze průnik) těchto pravidel.</span><span class="sxs-lookup"><span data-stu-id="403b8-205">For multiple filtering rules the end result is the composition (intersection only) of these rules.</span></span>

![více pravidel][multiple-rules]

## <a name="create-filters-programmatically"></a><span data-ttu-id="403b8-207">Vytvoření filtrů prostřednictvím kódu programu</span><span class="sxs-lookup"><span data-stu-id="403b8-207">Create filters programmatically</span></span>
<span data-ttu-id="403b8-208">Následující téma popisuje entity Media Services, které souvisí s filtry.</span><span class="sxs-lookup"><span data-stu-id="403b8-208">The following topic discusses Media Services entities that are related to filters.</span></span> <span data-ttu-id="403b8-209">Téma také ukazuje, jak programově vytvářet filtry.</span><span class="sxs-lookup"><span data-stu-id="403b8-209">The topic also shows how to programmatically create filters.</span></span>  

<span data-ttu-id="403b8-210">[Vytvoření filtrů rozhraní REST API](media-services-rest-dynamic-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="403b8-210">[Create filters with REST APIs](media-services-rest-dynamic-manifest.md).</span></span>

## <a name="combining-multiple-filters-filter-composition"></a><span data-ttu-id="403b8-211">Kombinace více filtrů (složení filtr)</span><span class="sxs-lookup"><span data-stu-id="403b8-211">Combining multiple filters (filter composition)</span></span>
<span data-ttu-id="403b8-212">Můžete také kombinovat více filtrů v jednu adresu URL.</span><span class="sxs-lookup"><span data-stu-id="403b8-212">You can also combine multiple filters in a single URL.</span></span> 

<span data-ttu-id="403b8-213">Následující příklad ukazuje, proč můžete chtít zkombinovat filtry:</span><span class="sxs-lookup"><span data-stu-id="403b8-213">The following scenario demonstrates why you might want to combine filters:</span></span>

1. <span data-ttu-id="403b8-214">Budete muset filtrovat vaše video vlastnosti pro mobilní zařízení, třeba na Android nebo iPAD (Chcete-li omezit video vlastnosti).</span><span class="sxs-lookup"><span data-stu-id="403b8-214">You need to filter your video qualities for mobile devices such as Android or iPAD (in order to limit video qualities).</span></span> <span data-ttu-id="403b8-215">Odebrat nežádoucí vlastností, by vytvořit globální filtr, který je vhodný pro profily zařízení.</span><span class="sxs-lookup"><span data-stu-id="403b8-215">To remove the unwanted qualities, you would create a global filter which is suitable for device profiles.</span></span> <span data-ttu-id="403b8-216">Jak je uvedeno nahoře, globální filtry lze použít pro všechny prostředky pod stejným účtem služby média bez dalšího přidružení.</span><span class="sxs-lookup"><span data-stu-id="403b8-216">As mentioned above, global filters can be used for all your assets under the same media services account without any further association.</span></span> 
2. <span data-ttu-id="403b8-217">Chcete trim počáteční a koncový čas prostředek.</span><span class="sxs-lookup"><span data-stu-id="403b8-217">You also want to trim the start and end time of an asset.</span></span> <span data-ttu-id="403b8-218">Toho dosáhnete tak, by vytvořit místní filtr a nastavit čas zahájení a ukončení.</span><span class="sxs-lookup"><span data-stu-id="403b8-218">To achieve this, you would create a local filter and set the start/end time.</span></span> 
3. <span data-ttu-id="403b8-219">Chcete kombinovat obě tyto filtry (bez kombinaci by potřebujete přidat filtrování kvality oříznutí filtru, který bude obtížné filtru využití).</span><span class="sxs-lookup"><span data-stu-id="403b8-219">You want to combine both of these filters (without combination you would need to add quality filtering to the trimming filter which will make filter usage difficult).</span></span>

<span data-ttu-id="403b8-220">Se zkombinovat filtry, budete muset nastavit názvy filtru do manifestu/stop adresu URL s oddělený středníky.</span><span class="sxs-lookup"><span data-stu-id="403b8-220">To combine filters, you need to set the filter names to the manifest/playlist URL with semicolon delimited.</span></span> <span data-ttu-id="403b8-221">Předpokládejme, máte filtr s názvem *MyMobileDevice* , filtry vlastností a druhou s názvem máte *MyStartTime* nastavit konkrétní počáteční čas.</span><span class="sxs-lookup"><span data-stu-id="403b8-221">Let’s assume you have a filter named *MyMobileDevice* that filters qualities and you have another named *MyStartTime* to set a specific start time.</span></span> <span data-ttu-id="403b8-222">Můžete je spojit takto:</span><span class="sxs-lookup"><span data-stu-id="403b8-222">You can combine them like this:</span></span>

    http://teststreaming.streaming.mediaservices.windows.net/3d56a4d-b71d-489b-854f-1d67c0596966/64ff1f89-b430-43f8-87dd-56c87b7bd9e2.ism/Manifest(filter=MyMobileDevice;MyStartTime)

<span data-ttu-id="403b8-223">Můžete kombinovat až 3 filtry.</span><span class="sxs-lookup"><span data-stu-id="403b8-223">You can combine up to 3 filters.</span></span> 

<span data-ttu-id="403b8-224">Další informace najdete v části [to](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) blogu.</span><span class="sxs-lookup"><span data-stu-id="403b8-224">For more information see [this](https://azure.microsoft.com/blog/azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support/) blog.</span></span>

## <a name="know-issues-and-limitations"></a><span data-ttu-id="403b8-225">Vědět, problémy a omezení</span><span class="sxs-lookup"><span data-stu-id="403b8-225">Know issues and limitations</span></span>
* <span data-ttu-id="403b8-226">Dynamické manifest funguje v GOP hranice (klíč rámce) proto ořezávání má GOP přesnost.</span><span class="sxs-lookup"><span data-stu-id="403b8-226">Dynamic manifest operates in GOP boundaries (Key Frames) hence trimming has GOP accuracy.</span></span> 
* <span data-ttu-id="403b8-227">Můžete použít stejný název filtru pro místní a globální filtry.</span><span class="sxs-lookup"><span data-stu-id="403b8-227">You can use same filter name for local and global filters.</span></span> <span data-ttu-id="403b8-228">Všimněte si, že místní filtr mají vyšší prioritu a přepíše globálních filtrů.</span><span class="sxs-lookup"><span data-stu-id="403b8-228">Note that local filter have higher precedence and will override global filters.</span></span>
* <span data-ttu-id="403b8-229">Pokud aktualizujete filtr, může trvat až 2 minuty koncový bod streamování aktualizovat pravidla.</span><span class="sxs-lookup"><span data-stu-id="403b8-229">If you update a filter, it can take up to 2 minutes for streaming endpoint to refresh the rules.</span></span> <span data-ttu-id="403b8-230">Pokud obsah zpracování pomocí některé filtry (a uložené v mezipaměti v proxy servery a CDN mezipaměti), aktualizace tyto filtry může způsobit selhání přehrávač.</span><span class="sxs-lookup"><span data-stu-id="403b8-230">If the content was served using some filters (and cached in proxies and CDN caches), updating these filters can result in player failures.</span></span> <span data-ttu-id="403b8-231">Je doporučujeme vymazání mezipaměti po aktualizaci filtru.</span><span class="sxs-lookup"><span data-stu-id="403b8-231">It is recommend to clear the cache after updating the filter.</span></span> <span data-ttu-id="403b8-232">Pokud tato možnost není možné, zvažte použití jiný filtr.</span><span class="sxs-lookup"><span data-stu-id="403b8-232">If this option is not possible, consider using a different filter.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="403b8-233">Mapy kurzů ke službě Media Services</span><span class="sxs-lookup"><span data-stu-id="403b8-233">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="403b8-234">Poskytnutí zpětné vazby</span><span class="sxs-lookup"><span data-stu-id="403b8-234">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="see-also"></a><span data-ttu-id="403b8-235">Viz také</span><span class="sxs-lookup"><span data-stu-id="403b8-235">See Also</span></span>
[<span data-ttu-id="403b8-236">Doručování obsahu zákazníkům – přehled</span><span class="sxs-lookup"><span data-stu-id="403b8-236">Delivering Content to Customers Overview</span></span>](media-services-deliver-content-overview.md)

[renditions1]: ./media/media-services-dynamic-manifest-overview/media-services-rendition-filter.png
[renditions2]: ./media/media-services-dynamic-manifest-overview/media-services-rendition-filter2.png

[rendered_subclip]: ./media/media-services-dynamic-manifests/media-services-rendered-subclip.png
[timeline_trim_event]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-event.png
[timeline_trim_subclip]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-subclip.png

[multiple-rules]:./media/media-services-dynamic-manifest-overview/media-services-multiple-rules-filters.png

[subclip_filter]: ./media/media-services-dynamic-manifest-overview/media-services-subclips-filter.png
[trim_event]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-event.png
[trim_subclip]: ./media/media-services-dynamic-manifests/media-services-timeline-trim-subclip.png
[trim_filter]: ./media/media-services-dynamic-manifest-overview/media-services-trim-filter.png
[redered_subclip]: ./media/media-services-dynamic-manifests/media-services-rendered-subclip.png
[livebackoff_filter]: ./media/media-services-dynamic-manifest-overview/media-services-livebackoff-filter.png
[language_filter]: ./media/media-services-dynamic-manifest-overview/media-services-language-filter.png
[dvr_filter]: ./media/media-services-dynamic-manifest-overview/media-services-dvr-filter.png
[skiing]: ./media/media-services-dynamic-manifest-overview/media-services-skiing.png
