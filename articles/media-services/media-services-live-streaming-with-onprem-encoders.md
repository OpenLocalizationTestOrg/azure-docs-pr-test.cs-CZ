---
title: "Datový proud za provozu s místními kodéry, které vytvářejí proudy s více přenosovými rychlostmi - Azure | Microsoft Docs"
description: "Toto téma popisuje, jak nastavit kanál, který přijímá živý datový proud s více přenosovými rychlostmi z místní kodér. Datový proud mohou být zajišťovány pak pro klientské aplikace přehrávání přes jeden nebo více koncových bodů streamování, pomocí jedné z následujících protokolů adaptivní streamování: HLS, technologie Smooth Streaming, čárka."
services: media-services
documentationcenter: 
author: Juliako
manager: cfowler
editor: 
ms.assetid: d9f0912d-39ec-4c9c-817b-e5d9fcf1f7ea
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: ne
ms.topic: article
ms.date: 04/12/2017
ms.author: cenkd;juliako
ms.openlocfilehash: 3f6569d32708c42247e0ffec70389f2e0f07389e
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="live-streaming-with-on-premises-encoders-that-create-multi-bitrate-streams"></a><span data-ttu-id="f8b89-104">Živé streamování s místními kodéry, které vytvářejí proudy s více přenosovými rychlostmi</span><span class="sxs-lookup"><span data-stu-id="f8b89-104">Live streaming with on-premises encoders that create multi-bitrate streams</span></span>
## <a name="overview"></a><span data-ttu-id="f8b89-105">Přehled</span><span class="sxs-lookup"><span data-stu-id="f8b89-105">Overview</span></span>
<span data-ttu-id="f8b89-106">Ve službě Azure Media Services *kanál* představuje cestu pro zpracování datových proudů za provozu obsahu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-106">In Azure Media Services, a *channel* represents a pipeline for processing live-streaming content.</span></span> <span data-ttu-id="f8b89-107">Kanál, který obdrží živé vstupní datové proudy v jednom ze dvou způsobů:</span><span class="sxs-lookup"><span data-stu-id="f8b89-107">A channel receives live input streams in one of two ways:</span></span>

* <span data-ttu-id="f8b89-108">Místní zasílá za provozu kodér s více přenosovými rychlostmi RTMP nebo technologie Smooth Streaming (fragmentovaný MP4) datového proudu do kanálu, který není povoleno provádět kódování v reálném čase pomocí služby Media Services.</span><span class="sxs-lookup"><span data-stu-id="f8b89-108">An on-premises live encoder sends a multi-bitrate RTMP or Smooth Streaming (fragmented MP4) stream to the channel that is not enabled to perform live encoding with Media Services.</span></span> <span data-ttu-id="f8b89-109">Ingestované datové proudy prochází kanály bez dalšího zpracování.</span><span class="sxs-lookup"><span data-stu-id="f8b89-109">The ingested streams pass through channels without any further processing.</span></span> <span data-ttu-id="f8b89-110">Tato metoda je volána *průchozí*.</span><span class="sxs-lookup"><span data-stu-id="f8b89-110">This method is called *pass-through*.</span></span> <span data-ttu-id="f8b89-111">Můžete použít následující kodéry, které mají více přenosovými rychlostmi technologie Smooth Streaming jako výstup: Excel média, Ateme, představte si komunikace, Envivio, Cisco a Elemental.</span><span class="sxs-lookup"><span data-stu-id="f8b89-111">You can use the following live encoders that have multi-bitrate Smooth Streaming as output: Media Excel, Ateme, Imagine Communications, Envivio, Cisco, and Elemental.</span></span> <span data-ttu-id="f8b89-112">Následující kodéry mít jako výstupu RTMP: Adobe Flash Live kodér médií, Telestream Wirecast, Haivision, Teradek a čase.</span><span class="sxs-lookup"><span data-stu-id="f8b89-112">The following live encoders have RTMP as output: Adobe Flash Media Live Encoder, Telestream Wirecast, Haivision, Teradek, and TriCaster.</span></span> <span data-ttu-id="f8b89-113">Za provozu encoder můžete také odeslat datový proud s jednou přenosovou rychlostí do kanálu, který není povolen pro kódování v reálném čase, ale který nedoporučujeme.</span><span class="sxs-lookup"><span data-stu-id="f8b89-113">A live encoder can also send a single-bitrate stream to a channel that is not enabled for live encoding, but we don't recommend that.</span></span> <span data-ttu-id="f8b89-114">Služba Media Services doručí datový proud zákazníkům, kteří ji.</span><span class="sxs-lookup"><span data-stu-id="f8b89-114">Media Services delivers the stream to customers who request it.</span></span>

  > [!NOTE]
  > <span data-ttu-id="f8b89-115">Použití průchozí metody je nejekonomičtější způsob, jak živě Streamovat.</span><span class="sxs-lookup"><span data-stu-id="f8b89-115">Using a pass-through method is the most economical way to do live streaming.</span></span>


* <span data-ttu-id="f8b89-116">Místní kodér za provozu odešle datový proud s jednou přenosovou rychlostí do kanálu, který je povoleno provádět kódování v reálném čase pomocí služby Media Services v jednom z následujících formátů: RTP (MPEG-TS), RTMP nebo technologie Smooth Streaming (fragmentovaný MP4).</span><span class="sxs-lookup"><span data-stu-id="f8b89-116">An on-premises live encoder sends a single-bitrate stream to the channel that is enabled to perform live encoding with Media Services in one of the following formats: RTP (MPEG-TS), RTMP, or Smooth Streaming (fragmented MP4).</span></span> <span data-ttu-id="f8b89-117">Kanál potom provede kódování v reálném čase příchozího datového proudu jednou přenosovou rychlostí do datového proudu více přenosovými rychlostmi (adaptivní) videa.</span><span class="sxs-lookup"><span data-stu-id="f8b89-117">The channel then performs live encoding of the incoming single-bitrate stream to a multi-bitrate (adaptive) video stream.</span></span> <span data-ttu-id="f8b89-118">Služba Media Services doručí datový proud zákazníkům, kteří ji.</span><span class="sxs-lookup"><span data-stu-id="f8b89-118">Media Services delivers the stream to customers who request it.</span></span>

<span data-ttu-id="f8b89-119">Od verze Media Services 2.10, když vytvoříte kanál, můžete určit, jak se mají kanál pro příjem vstupního datového proudu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-119">Starting with the Media Services 2.10 release, when you create a channel, you can specify how you want your channel to receive the input stream.</span></span> <span data-ttu-id="f8b89-120">Můžete také určete, jestli má kanál provést kódování v reálném čase z datového proudu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-120">You can also specify whether you want the channel to perform live encoding of your stream.</span></span> <span data-ttu-id="f8b89-121">Máte dvě možnosti:</span><span class="sxs-lookup"><span data-stu-id="f8b89-121">You have two options:</span></span>

* <span data-ttu-id="f8b89-122">**Předávání**: Pokud máte v plánu používat místní kodér za provozu, který bude mít více přenosovými rychlostmi datového proudu (průchozí datový proud) jako výstup tuto hodnotu zadat.</span><span class="sxs-lookup"><span data-stu-id="f8b89-122">**Pass Through**: Specify this value if you plan to use an on-premises live encoder that will have a multi-bitrate stream (a pass-through stream) as output.</span></span> <span data-ttu-id="f8b89-123">V takovém případě příchozího datového proudu prochází k výstupu bez jakékoli kódování.</span><span class="sxs-lookup"><span data-stu-id="f8b89-123">In this case, the incoming stream passes through to the output without any encoding.</span></span> <span data-ttu-id="f8b89-124">Toto je chování kanál před vydáním 2.10.</span><span class="sxs-lookup"><span data-stu-id="f8b89-124">This is the behavior of a channel before the 2.10 release.</span></span> <span data-ttu-id="f8b89-125">Toto téma nabízí informace o práci s kanály tohoto typu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-125">This topic gives details about working with channels of this type.</span></span>
* <span data-ttu-id="f8b89-126">**Live Encoding**: Zvolte tuto hodnotu, pokud máte v úmyslu použít Media Services ke kódování živého datového proudu jednou přenosovou rychlostí na datový proud s více přenosovými rychlostmi.</span><span class="sxs-lookup"><span data-stu-id="f8b89-126">**Live Encoding**: Choose this value if you plan to use Media Services to encode your single-bitrate live stream to a multi-bitrate stream.</span></span> <span data-ttu-id="f8b89-127">Mějte na paměti, ponechat kódování v reálném čase v kanálu **systémem** stavu bude toho vám být účtovány poplatky.</span><span class="sxs-lookup"><span data-stu-id="f8b89-127">Be aware that leaving a live encoding channel in a **Running** state will incur billing charges.</span></span> <span data-ttu-id="f8b89-128">Doporučujeme, abyste po dokončení velmi hodinové náklady na událost live-streaming okamžitě zastavit spuštěný kanálů.</span><span class="sxs-lookup"><span data-stu-id="f8b89-128">We recommend that you immediately stop your running channels after your live-streaming event is complete to avoid extra hourly charges.</span></span> <span data-ttu-id="f8b89-129">Služba Media Services doručí datový proud zákazníkům, kteří ji.</span><span class="sxs-lookup"><span data-stu-id="f8b89-129">Media Services delivers the stream to customers who request it.</span></span>

> [!NOTE]
> <span data-ttu-id="f8b89-130">Toto téma popisuje atributy kanály, které nejsou povolené kódování v za provozu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-130">This topic discusses attributes of channels that are not enabled to perform live encoding.</span></span> <span data-ttu-id="f8b89-131">Informace o práci s kanály, které mají povolené kódování v reálném najdete v tématu [živé streamování využívající Azure Media Services k vytvoření datových proudů více přenosovými rychlostmi](media-services-manage-live-encoder-enabled-channels.md).</span><span class="sxs-lookup"><span data-stu-id="f8b89-131">For information about working with channels that are enabled to perform live encoding, see [Live streaming using Azure Media Services to create multi-bitrate streams](media-services-manage-live-encoder-enabled-channels.md).</span></span>
>
>

<span data-ttu-id="f8b89-132">Následující diagram představuje pracovním postupu živého streamování, který používá místní kodér za provozu RTMP s více přenosovými rychlostmi nebo fragmentovaný MP4 (technologie Smooth Streaming) datové proudy jako výstup.</span><span class="sxs-lookup"><span data-stu-id="f8b89-132">The following diagram represents a live-streaming workflow that uses an on-premises live encoder to have multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) streams as output.</span></span>

![Živý pracovní postup][live-overview]

## <span data-ttu-id="f8b89-134"><a id="scenario"></a>Běžný scénář live-streaming</span><span class="sxs-lookup"><span data-stu-id="f8b89-134"><a id="scenario"></a>Common live-streaming scenario</span></span>
<span data-ttu-id="f8b89-135">Následující kroky popisují úlohy týkající se vytváření běžné aplikace live-streaming.</span><span class="sxs-lookup"><span data-stu-id="f8b89-135">The following steps describe tasks involved in creating common live-streaming applications.</span></span>

1. <span data-ttu-id="f8b89-136">Připojte k počítači videokameru.</span><span class="sxs-lookup"><span data-stu-id="f8b89-136">Connect a video camera to a computer.</span></span> <span data-ttu-id="f8b89-137">Spusťte a nakonfigurujte místní kodér za provozu, který má RTMP s více přenosovými rychlostmi nebo fragmentovaný MP4 (technologie Smooth Streaming) datového proudu jako výstup.</span><span class="sxs-lookup"><span data-stu-id="f8b89-137">Start and configure an on-premises live encoder that has a multi-bitrate RTMP or fragmented MP4 (Smooth Streaming) stream as output.</span></span> <span data-ttu-id="f8b89-138">Další informace najdete v článku [Podpora RTMP ve službě Azure Media Services a kodéry pro kódování v reálném čase](http://go.microsoft.com/fwlink/?LinkId=532824).</span><span class="sxs-lookup"><span data-stu-id="f8b89-138">For more information, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

    <span data-ttu-id="f8b89-139">Můžete také provést tento krok po vytvoření kanálu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-139">You can also perform this step after you create your channel.</span></span>
2. <span data-ttu-id="f8b89-140">Vytvoření a spuštění kanálu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-140">Create and start a channel.</span></span>

3. <span data-ttu-id="f8b89-141">Načtěte URL ingestování kanálu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-141">Retrieve the channel ingest URL.</span></span>

    <span data-ttu-id="f8b89-142">Za provozu kodér adresu URL ingestování používá k odesílání datového proudu do kanálu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-142">The live encoder uses the ingest URL to send the stream to the channel.</span></span>
4. <span data-ttu-id="f8b89-143">Získat adresu URL náhledu kanálu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-143">Retrieve the channel preview URL.</span></span>

    <span data-ttu-id="f8b89-144">Tuto adresu URL můžete použít, když chcete ověřit, jestli kanál správně přijímá proud živého vysílání.</span><span class="sxs-lookup"><span data-stu-id="f8b89-144">Use this URL to verify that your channel is properly receiving the live stream.</span></span>
5. <span data-ttu-id="f8b89-145">Vytvořte program.</span><span class="sxs-lookup"><span data-stu-id="f8b89-145">Create a program.</span></span>

    <span data-ttu-id="f8b89-146">Pokud používáte portál Azure, vytváření program vytvoří také asset.</span><span class="sxs-lookup"><span data-stu-id="f8b89-146">When you use the Azure portal, creating a program also creates an asset.</span></span>

    <span data-ttu-id="f8b89-147">Při použití sady .NET SDK nebo REST, budete muset vytvořit prostředek služby a nastavení, aby používal tento prostředek, při vytváření program.</span><span class="sxs-lookup"><span data-stu-id="f8b89-147">When you use the .NET SDK or REST, you need to create an asset and specify to use this asset when creating a program.</span></span>
6. <span data-ttu-id="f8b89-148">Publikujte asset, který je přidružený k programu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-148">Publish the asset that's associated with the program.</span></span>   

    >[!NOTE]
    ><span data-ttu-id="f8b89-149">Při vytvoření účtu Azure Media Services **výchozí** koncový bod streamování je přidána k vašemu účtu v **Zastaveno** stavu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-149">When your Azure Media Services account is created, a **default** streaming endpoint is added to your account in the **Stopped** state.</span></span> <span data-ttu-id="f8b89-150">Koncový bod streamování, ze kterého chcete streamovat obsah, musí být ve stavu **Spuštěno**.</span><span class="sxs-lookup"><span data-stu-id="f8b89-150">The streaming endpoint from which you want to stream content has to be in the **Running** state.</span></span>

7. <span data-ttu-id="f8b89-151">Až budete připraveni začít Streamovat a archivovat, spusťte program.</span><span class="sxs-lookup"><span data-stu-id="f8b89-151">Start the program when you're ready to start streaming and archiving.</span></span>

8. <span data-ttu-id="f8b89-152">Volitelně můžete dát kodéru pro kódování v reálném čase signál, aby spustil reklamu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-152">Optionally, the live encoder can be signaled to start an advertisement.</span></span> <span data-ttu-id="f8b89-153">Reklama bude vložena do výstupního datového proudu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-153">The advertisement is inserted in the output stream.</span></span>

9. <span data-ttu-id="f8b89-154">Kdykoli budete chtít zastavit streamování a archivaci události, zastavte program.</span><span class="sxs-lookup"><span data-stu-id="f8b89-154">Stop the program whenever you want to stop streaming and archiving the event.</span></span>

10. <span data-ttu-id="f8b89-155">Odstraňte program (a volitelně můžete odstranit i asset).</span><span class="sxs-lookup"><span data-stu-id="f8b89-155">Delete the program (and optionally delete the asset).</span></span>     

## <span data-ttu-id="f8b89-156"><a id="channel"></a>Popis kanálu a jeho souvisejících součástí</span><span class="sxs-lookup"><span data-stu-id="f8b89-156"><a id="channel"></a>Description of a channel and its related components</span></span>
### <span data-ttu-id="f8b89-157"><a id="channel_input"></a>Vstup kanálu (ingestování) konfigurace</span><span class="sxs-lookup"><span data-stu-id="f8b89-157"><a id="channel_input"></a>Channel input (ingest) configurations</span></span>
#### <span data-ttu-id="f8b89-158"><a id="ingest_protocols"></a>Ingestování datových proudů</span><span class="sxs-lookup"><span data-stu-id="f8b89-158"><a id="ingest_protocols"></a>Ingest streaming protocol</span></span>
<span data-ttu-id="f8b89-159">Služba Media Services podporuje příjem provozu kanály pomocí více přenosovými rychlostmi fragmentovaný soubor MP4 a RTMP s více přenosovými rychlostmi jako protokoly datových proudů.</span><span class="sxs-lookup"><span data-stu-id="f8b89-159">Media Services supports ingesting live feeds by using multi-bitrate fragmented MP4 and multi-bitrate RTMP as streaming protocols.</span></span> <span data-ttu-id="f8b89-160">Když ingestování RTMP streamování protokol je vybraná, dva ingestování (vstupu) koncové body jsou vytvořené pro kanál:</span><span class="sxs-lookup"><span data-stu-id="f8b89-160">When the RTMP ingest streaming protocol is selected, two ingest (input) endpoints are created for the channel:</span></span>

* <span data-ttu-id="f8b89-161">**Primární adresa URL**: Určuje plně kvalifikovanou adresu URL v kanálu primární RTMP ingestování koncový bod.</span><span class="sxs-lookup"><span data-stu-id="f8b89-161">**Primary URL**: Specifies the fully qualified URL of the channel's primary RTMP ingest endpoint.</span></span>
* <span data-ttu-id="f8b89-162">**Sekundární adresa URL** (volitelné): Určuje plně kvalifikovanou adresu URL v kanálu sekundární RTMP ingestování koncový bod.</span><span class="sxs-lookup"><span data-stu-id="f8b89-162">**Secondary URL** (optional): Specifies the fully qualified URL of the channel's secondary RTMP ingest endpoint.</span></span>

<span data-ttu-id="f8b89-163">Pokud chcete zlepšit odolnost a odolnost proti chybám vaší ingestování datového proudu (stejně jako kodéru převzetí služeb při selhání a odolnost proti chybám), použijte adresu sekundární hlavně pro následující scénáře:</span><span class="sxs-lookup"><span data-stu-id="f8b89-163">Use the secondary URL if you want to improve the durability and fault tolerance of your ingest stream (as well as encoder failover and fault tolerance), especially for the following scenarios:</span></span>

- <span data-ttu-id="f8b89-164">Jeden kodér dvojitou předání na primární i sekundární adresy URL:</span><span class="sxs-lookup"><span data-stu-id="f8b89-164">Single encoder double-pushing to both primary and secondary URLs:</span></span>

    <span data-ttu-id="f8b89-165">Hlavním účelem tohoto scénáře je poskytnout další odolnost vůči kolísání sítě a tlumení.</span><span class="sxs-lookup"><span data-stu-id="f8b89-165">The main purpose of this scenario is to provide more resiliency to network fluctuations and jitters.</span></span> <span data-ttu-id="f8b89-166">Některé RTMP kodéry nezpracovávají sítě odpojí dobře.</span><span class="sxs-lookup"><span data-stu-id="f8b89-166">Some RTMP encoders don't handle network disconnects well.</span></span> <span data-ttu-id="f8b89-167">Při odpojení síťového se stane, kodér může zastavit kódování a není odeslat data ve vyrovnávací paměti případě o obnovení.</span><span class="sxs-lookup"><span data-stu-id="f8b89-167">When a network disconnect happens, an encoder might stop encoding and then not send the buffered data when a reconnect happens.</span></span> <span data-ttu-id="f8b89-168">To způsobí, že nespojitosti a ztrátě dat.</span><span class="sxs-lookup"><span data-stu-id="f8b89-168">This causes discontinuities and data loss.</span></span> <span data-ttu-id="f8b89-169">Odpojení sítě může dojít z důvodu chybné sítě nebo Údržba na straně Azure.</span><span class="sxs-lookup"><span data-stu-id="f8b89-169">Network disconnects can happen because of a bad network or maintenance on the Azure side.</span></span> <span data-ttu-id="f8b89-170">Primární a sekundární adresy URL snižují problémy se sítí a poskytují řízené procesu upgradu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-170">Primary/secondary URLs reduce the network problems and provide a controlled upgrade process.</span></span> <span data-ttu-id="f8b89-171">Pokaždé, když odpojení síťového naplánované se stane Media Services spravuje primární a sekundární odpojí a poskytuje zpožděné odpojit mezi nimi.</span><span class="sxs-lookup"><span data-stu-id="f8b89-171">Each time a scheduled network disconnect happens, Media Services manages the primary and secondary disconnects and provides a delayed disconnect between the two.</span></span> <span data-ttu-id="f8b89-172">Kodéry pak mít čas zachovat odesílání dat a znovu připojit znovu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-172">Encoders then have time to keep sending data and reconnect again.</span></span> <span data-ttu-id="f8b89-173">Pořadí odpojí může být náhodné, ale bude vždy zpoždění mezi primární a sekundární nebo sekundární nebo primární adresy URL.</span><span class="sxs-lookup"><span data-stu-id="f8b89-173">The order of the disconnects can be random, but there will always be a delay between primary/secondary or secondary/primary URLs.</span></span> <span data-ttu-id="f8b89-174">V tomto scénáři modulu encoder je stále jediný bod selhání.</span><span class="sxs-lookup"><span data-stu-id="f8b89-174">In this scenario, the encoder is still the single point of failure.</span></span>

- <span data-ttu-id="f8b89-175">Více kodéry s každou kodér vkládání do vyhrazené bodu:</span><span class="sxs-lookup"><span data-stu-id="f8b89-175">Multiple encoders, with each encoder pushing to a dedicated point:</span></span>

    <span data-ttu-id="f8b89-176">V tomto scénáři poskytuje i kodér a ingestování redundance.</span><span class="sxs-lookup"><span data-stu-id="f8b89-176">This scenario provides both encoder and ingest redundancy.</span></span> <span data-ttu-id="f8b89-177">V tomto scénáři encoder1 nabízených oznámení na adresu URL, primární a encoder2 nabízených oznámení na sekundární adresu URL.</span><span class="sxs-lookup"><span data-stu-id="f8b89-177">In this scenario, encoder1 pushes to the primary URL, and encoder2 pushes to the secondary URL.</span></span> <span data-ttu-id="f8b89-178">Když kodér selže, můžete zachovat jiné kodér odeslání dat.</span><span class="sxs-lookup"><span data-stu-id="f8b89-178">When an encoder fails, the other encoder can keep sending data.</span></span> <span data-ttu-id="f8b89-179">Je možné udržovat redundanci dat, protože Media Services neodpojí primární a sekundární adresy URL ve stejnou dobu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-179">Data redundancy can be maintained because Media Services does not disconnect primary and secondary URLs at the same time.</span></span> <span data-ttu-id="f8b89-180">Tento scénář předpokládá, že kodéry se synchronizovat čas a zadejte přesně stejná data.</span><span class="sxs-lookup"><span data-stu-id="f8b89-180">This scenario assumes that encoders are time synced and provide exactly the same data.</span></span>  

- <span data-ttu-id="f8b89-181">Více kodéry dvojitou předání na primární i sekundární adresy URL:</span><span class="sxs-lookup"><span data-stu-id="f8b89-181">Multiple encoders double-pushing to both primary and secondary URLs:</span></span>

    <span data-ttu-id="f8b89-182">V tomto scénáři obou kodéry nabízel data pro primární i sekundární adresy URL.</span><span class="sxs-lookup"><span data-stu-id="f8b89-182">In this scenario, both encoders push data to both primary and secondary URLs.</span></span> <span data-ttu-id="f8b89-183">To poskytuje nejlepší spolehlivost a odolnost proti chybám, protože jako redundanci dat.</span><span class="sxs-lookup"><span data-stu-id="f8b89-183">This provides the best reliability and fault tolerance, as well as data redundancy.</span></span> <span data-ttu-id="f8b89-184">V tomto scénáři může tolerovat selhání obou kodér a odpojí, i když jedna kodér přestane fungovat.</span><span class="sxs-lookup"><span data-stu-id="f8b89-184">This scenario can tolerate both encoder failures and disconnects, even if one encoder stops working.</span></span> <span data-ttu-id="f8b89-185">Se předpokládá, že kodéry se synchronizovat čas a zadejte přesně stejná data.</span><span class="sxs-lookup"><span data-stu-id="f8b89-185">It assumes that encoders are time synced and provide exactly the same data.</span></span>  

<span data-ttu-id="f8b89-186">Informace o RTMP kodéry najdete v tématu [podpora RTMP ve službě Azure Media Services a kodéry Live](http://go.microsoft.com/fwlink/?LinkId=532824).</span><span class="sxs-lookup"><span data-stu-id="f8b89-186">For information about RTMP live encoders, see [Azure Media Services RTMP Support and Live Encoders](http://go.microsoft.com/fwlink/?LinkId=532824).</span></span>

#### <a name="ingest-urls-endpoints"></a><span data-ttu-id="f8b89-187">Ingestovaných adres URL (koncových bodů)</span><span class="sxs-lookup"><span data-stu-id="f8b89-187">Ingest URLs (endpoints)</span></span>
<span data-ttu-id="f8b89-188">Kanál, který obsahuje vstupní koncový bod (ingestovanou adresu URL) určit v za provozu kodér tak můžete posouvat kodéru datových proudů do vašeho kanálů.</span><span class="sxs-lookup"><span data-stu-id="f8b89-188">A channel provides an input endpoint (ingest URL) that you specify in the live encoder, so the encoder can push streams to your channels.</span></span>   

<span data-ttu-id="f8b89-189">Adresy URL ingestování získáte, když vytvoříte kanál.</span><span class="sxs-lookup"><span data-stu-id="f8b89-189">You can get the ingest URLs when you create the channel.</span></span> <span data-ttu-id="f8b89-190">Abyste mohli získat tyto adresy URL, nemá kanál v **systémem** stavu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-190">For you to get these URLs, the channel does not have to be in the **Running** state.</span></span> <span data-ttu-id="f8b89-191">Až budete připraveni začít předání dat do kanálu, kanál musí být v **systémem** stavu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-191">When you're ready to start pushing data to the channel, the channel must be in the **Running** state.</span></span> <span data-ttu-id="f8b89-192">Po kanál spuštění příjem dat, můžete zobrazit náhled datového proudu prostřednictvím URL náhledu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-192">After the channel starts ingesting data, you can preview your stream through the preview URL.</span></span>

<span data-ttu-id="f8b89-193">Máte možnost z příjem fragmentovaných MP4 (technologie Smooth Streaming) živý datový proud připojení přes protokol SSL.</span><span class="sxs-lookup"><span data-stu-id="f8b89-193">You have an option of ingesting a fragmented MP4 (Smooth Streaming) live stream over an SSL connection.</span></span> <span data-ttu-id="f8b89-194">K ingestování přes protokol SSL, nezapomeňte aktualizovat adresu URL ingestování protokolem HTTPS.</span><span class="sxs-lookup"><span data-stu-id="f8b89-194">To ingest over SSL, make sure to update the ingest URL to HTTPS.</span></span> <span data-ttu-id="f8b89-195">V současné době nelze ingestování RTMP přes protokol SSL.</span><span class="sxs-lookup"><span data-stu-id="f8b89-195">Currently, you cannot ingest RTMP over SSL.</span></span>

#### <span data-ttu-id="f8b89-196"><a id="keyframe_interval"></a>Interval klíčový snímek</span><span class="sxs-lookup"><span data-stu-id="f8b89-196"><a id="keyframe_interval"></a>Keyframe interval</span></span>
<span data-ttu-id="f8b89-197">Pokud používáte místní kodér za provozu k vygenerování více přenosovými rychlostmi datového proudu, @keyframe, které určuje interval Určuje dobu trvání skupinu obrázků (GOP) používá tento externí kodér.</span><span class="sxs-lookup"><span data-stu-id="f8b89-197">When you're using an on-premises live encoder to generate multi-bitrate stream, the keyframe interval specifies the duration of the group of pictures (GOP) as used by that external encoder.</span></span> <span data-ttu-id="f8b89-198">Po kanál obdrží tento příchozí datový proud, abyste mohli zajistit živého datového proudu pro klientské aplikace přehrávání v některém z následujících formátů: technologie Smooth Streaming, dynamické adaptivní datové proudy přes protokol HTTP (pomlčka) a HTTP Live Streaming (HLS).</span><span class="sxs-lookup"><span data-stu-id="f8b89-198">After the channel receives this incoming stream, you can deliver your live stream to client playback applications in any of the following formats: Smooth Streaming, Dynamic Adaptive Streaming over HTTP (DASH), and HTTP Live Streaming (HLS).</span></span> <span data-ttu-id="f8b89-199">Když provádíte živé vysílání datového proudu, HLS je vždy zabalené dynamicky.</span><span class="sxs-lookup"><span data-stu-id="f8b89-199">When you're doing live streaming, HLS is always packaged dynamically.</span></span> <span data-ttu-id="f8b89-200">Ve výchozím nastavení služba Media Services automaticky vypočítá segment balení poměr HLS (fragmenty jednotlivých segmentů), který je na základě intervalu @keyframe, které určuje přijaté z kodéru za provozu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-200">By default, Media Services automatically calculates the HLS segment packaging ratio (fragments per segment) based on the keyframe interval that's received from the live encoder.</span></span>

<span data-ttu-id="f8b89-201">Následující tabulka uvádí výpočtu doby trvání segmentu:</span><span class="sxs-lookup"><span data-stu-id="f8b89-201">The following table shows how the segment duration is calculated:</span></span>

| <span data-ttu-id="f8b89-202">Interval klíčový snímek</span><span class="sxs-lookup"><span data-stu-id="f8b89-202">Keyframe interval</span></span> | <span data-ttu-id="f8b89-203">HLS segment balení poměr (FragmentsPerSegment)</span><span class="sxs-lookup"><span data-stu-id="f8b89-203">HLS segment packaging ratio (FragmentsPerSegment)</span></span> | <span data-ttu-id="f8b89-204">Příklad</span><span class="sxs-lookup"><span data-stu-id="f8b89-204">Example</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f8b89-205">Menší než nebo rovna 3 sekund</span><span class="sxs-lookup"><span data-stu-id="f8b89-205">Less than or equal to 3 seconds</span></span> |<span data-ttu-id="f8b89-206">3:1</span><span class="sxs-lookup"><span data-stu-id="f8b89-206">3:1</span></span> |<span data-ttu-id="f8b89-207">Pokud KeyFrameInterval (nebo GOP) 2 sekundy, je výchozí HLS segment balení poměr 3: 1.</span><span class="sxs-lookup"><span data-stu-id="f8b89-207">If KeyFrameInterval (or GOP) is 2 seconds, the default HLS segment packaging ratio is 3 to 1.</span></span> <span data-ttu-id="f8b89-208">Tím se vytvoří segment HLS 6 sekundu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-208">This creates a 6-second HLS segment.</span></span> |
| <span data-ttu-id="f8b89-209">3 až 5 sekund</span><span class="sxs-lookup"><span data-stu-id="f8b89-209">3 to 5 seconds</span></span> |<span data-ttu-id="f8b89-210">2:1</span><span class="sxs-lookup"><span data-stu-id="f8b89-210">2:1</span></span> |<span data-ttu-id="f8b89-211">Pokud KeyFrameInterval (nebo GOP) je 4 a víc sekund, je výchozí HLS segment balení poměr 2: 1.</span><span class="sxs-lookup"><span data-stu-id="f8b89-211">If KeyFrameInterval (or GOP) is 4 seconds, the default HLS segment packaging ratio is 2 to 1.</span></span> <span data-ttu-id="f8b89-212">Tím se vytvoří segment HLS 8 sekundu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-212">This creates an 8-second HLS segment.</span></span> |
| <span data-ttu-id="f8b89-213">Větší než 5 sekund</span><span class="sxs-lookup"><span data-stu-id="f8b89-213">Greater than 5 seconds</span></span> |<span data-ttu-id="f8b89-214">1:1</span><span class="sxs-lookup"><span data-stu-id="f8b89-214">1:1</span></span> |<span data-ttu-id="f8b89-215">Pokud KeyFrameInterval (nebo GOP) 6 sekund, je výchozí HLS segment balení poměr 1: 1.</span><span class="sxs-lookup"><span data-stu-id="f8b89-215">If KeyFrameInterval (or GOP) is 6 seconds, the default HLS segment packaging ratio is 1 to 1.</span></span> <span data-ttu-id="f8b89-216">Tím se vytvoří segment HLS 6 sekundu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-216">This creates a 6-second HLS segment.</span></span> |

<span data-ttu-id="f8b89-217">Poměr fragmenty za segment můžete změnit konfiguraci kanálu výstup a nastavení FragmentsPerSegment na ChannelOutputHls.</span><span class="sxs-lookup"><span data-stu-id="f8b89-217">You can change the fragments-per-segment ratio by configuring the channel’s output and setting FragmentsPerSegment on ChannelOutputHls.</span></span>

<span data-ttu-id="f8b89-218">Hodnota intervalu @keyframe, které určuje můžete také změnit nastavením vlastnosti KeyFrameInterval na ChanneInput.</span><span class="sxs-lookup"><span data-stu-id="f8b89-218">You can also change the keyframe interval value by setting the KeyFrameInterval property on ChanneInput.</span></span> <span data-ttu-id="f8b89-219">Pokud nastavíte explicitně KeyFrameInterval, segmentovat HLS poměr balení, vypočítané FragmentsPerSegment prostřednictvím pravidel popsaných dříve.</span><span class="sxs-lookup"><span data-stu-id="f8b89-219">If you explicitly set KeyFrameInterval, the HLS segment packaging ratio FragmentsPerSegment is calculated via the rules described previously.</span></span>  

<span data-ttu-id="f8b89-220">Pokud nastavíte explicitně KeyFrameInterval a FragmentsPerSegment, Media Services bude používat hodnoty, které nastavíte.</span><span class="sxs-lookup"><span data-stu-id="f8b89-220">If you explicitly set both KeyFrameInterval and FragmentsPerSegment, Media Services will use the values that you set.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="f8b89-221">Povolené IP adresy</span><span class="sxs-lookup"><span data-stu-id="f8b89-221">Allowed IP addresses</span></span>
<span data-ttu-id="f8b89-222">Můžete definovat IP adresy, které mají povoleno publikování videa tohoto kanálu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-222">You can define the IP addresses that are allowed to publish video to this channel.</span></span> <span data-ttu-id="f8b89-223">Povolené IP adresu lze zadat jako jednu z těchto možností:</span><span class="sxs-lookup"><span data-stu-id="f8b89-223">An allowed IP address can be specified as one of the following:</span></span>

* <span data-ttu-id="f8b89-224">Jednu IP adresu (například 10.0.0.1)</span><span class="sxs-lookup"><span data-stu-id="f8b89-224">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="f8b89-225">Rozsah adres IP, který používá IP adresy a masky podsítě CIDR (například 10.0.0.1/22)</span><span class="sxs-lookup"><span data-stu-id="f8b89-225">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="f8b89-226">Rozsah adres IP, která používá IP adresu a masku podsítě s tečkou (například 10.0.0.1(255.255.252.0))</span><span class="sxs-lookup"><span data-stu-id="f8b89-226">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

<span data-ttu-id="f8b89-227">Pokud nejsou zadány žádné IP adresy a neexistuje žádná definice pravidla, nebudou mít dovoleno žádná IP adresa.</span><span class="sxs-lookup"><span data-stu-id="f8b89-227">If no IP addresses are specified and there's no rule definition, then no IP address will be allowed.</span></span> <span data-ttu-id="f8b89-228">Pokud chcete povolit libovolnou IP adresy, vytvořte pravidlo a nastavte 0.0.0.0/0.</span><span class="sxs-lookup"><span data-stu-id="f8b89-228">To allow any IP address, create a rule and set 0.0.0.0/0.</span></span>

### <a name="channel-preview"></a><span data-ttu-id="f8b89-229">Kanál preview</span><span class="sxs-lookup"><span data-stu-id="f8b89-229">Channel preview</span></span>
#### <a name="preview-urls"></a><span data-ttu-id="f8b89-230">Adresy URL Preview</span><span class="sxs-lookup"><span data-stu-id="f8b89-230">Preview URLs</span></span>
<span data-ttu-id="f8b89-231">Kanály zadejte koncový bod preview (URL náhledu), který používáte pro zobrazení náhledu a ověřit před další zpracování a doručení datového proudu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-231">Channels provide a preview endpoint (preview URL) that you use to preview and validate your stream before further processing and delivery.</span></span>

<span data-ttu-id="f8b89-232">Když vytvoříte kanál, můžete získat adresu URL náhledu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-232">You can get the preview URL when you create the channel.</span></span> <span data-ttu-id="f8b89-233">Abyste mohli získat adresu URL, nemá kanál v **systémem** stavu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-233">For you to get the URL, the channel does not have to be in the **Running** state.</span></span> <span data-ttu-id="f8b89-234">Po kanál spuštění příjem dat, můžete zobrazit náhled datového proudu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-234">After the channel starts ingesting data, you can preview your stream.</span></span>

<span data-ttu-id="f8b89-235">V současné době mohou být zajišťovány preview datového proudu pouze v fragmentovaných MP4 formátu (technologie Smooth Streaming), bez ohledu na zadaný typ vstupu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-235">Currently, the preview stream can be delivered only in fragmented MP4 (Smooth Streaming) format, regardless of the specified input type.</span></span> <span data-ttu-id="f8b89-236">Můžete použít [monitorování stavu technologie Smooth Streaming](http://smf.cloudapp.net/healthmonitor) player k testování datový proud smooth.</span><span class="sxs-lookup"><span data-stu-id="f8b89-236">You can use the [Smooth Streaming Health Monitor](http://smf.cloudapp.net/healthmonitor) player to test the smooth stream.</span></span> <span data-ttu-id="f8b89-237">Můžete také použít přehrávač, který je hostován na portálu Azure k zobrazení datového proudu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-237">You can also use a player that's hosted in the Azure portal to view your stream.</span></span>

#### <a name="allowed-ip-addresses"></a><span data-ttu-id="f8b89-238">Povolené IP adresy</span><span class="sxs-lookup"><span data-stu-id="f8b89-238">Allowed IP addresses</span></span>
<span data-ttu-id="f8b89-239">Můžete definovat IP adresy, které se mohou připojit ke koncovému bodu náhledu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-239">You can define the IP addresses that are allowed to connect to the preview endpoint.</span></span> <span data-ttu-id="f8b89-240">Pokud nejsou zadány žádné IP adresy, bude možné jakékoli IP adresy.</span><span class="sxs-lookup"><span data-stu-id="f8b89-240">If no IP addresses are specified, any IP address will be allowed.</span></span> <span data-ttu-id="f8b89-241">Povolené IP adresu lze zadat jako jednu z těchto možností:</span><span class="sxs-lookup"><span data-stu-id="f8b89-241">An allowed IP address can be specified as one of the following:</span></span>

* <span data-ttu-id="f8b89-242">Jednu IP adresu (například 10.0.0.1)</span><span class="sxs-lookup"><span data-stu-id="f8b89-242">A single IP address (for example, 10.0.0.1)</span></span>
* <span data-ttu-id="f8b89-243">Rozsah adres IP, který používá IP adresy a masky podsítě CIDR (například 10.0.0.1/22)</span><span class="sxs-lookup"><span data-stu-id="f8b89-243">An IP range that uses an IP address and a CIDR subnet mask (for example, 10.0.0.1/22)</span></span>
* <span data-ttu-id="f8b89-244">Rozsah adres IP, která používá IP adresu a masku podsítě s tečkou (například 10.0.0.1(255.255.252.0))</span><span class="sxs-lookup"><span data-stu-id="f8b89-244">An IP range that uses an IP address and a dotted decimal subnet mask (for example, 10.0.0.1(255.255.252.0))</span></span>

### <a name="channel-output"></a><span data-ttu-id="f8b89-245">Výstup kanál</span><span class="sxs-lookup"><span data-stu-id="f8b89-245">Channel output</span></span>
<span data-ttu-id="f8b89-246">Informace o kanálu výstup najdete v tématu [@keyframe, které určuje interval](#keyframe_interval) části.</span><span class="sxs-lookup"><span data-stu-id="f8b89-246">For information about channel output, see the [Keyframe interval](#keyframe_interval) section.</span></span>

### <a name="channel-managed-programs"></a><span data-ttu-id="f8b89-247">Spravované kanál programy</span><span class="sxs-lookup"><span data-stu-id="f8b89-247">Channel-managed programs</span></span>
<span data-ttu-id="f8b89-248">Kanál je přidružený k programům, které můžete použít k řízení publikování a ukládání segmentů v živém datovém proudu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-248">A channel is associated with programs that you can use to control the publishing and storage of segments in a live stream.</span></span> <span data-ttu-id="f8b89-249">Kanály spravují programy.</span><span class="sxs-lookup"><span data-stu-id="f8b89-249">Channels manage programs.</span></span> <span data-ttu-id="f8b89-250">Vztah kanálů a programů se velmi podobná tradičním médiím, kde kanál obsahuje nepřetržitý datový proud obsahu a program je vymezen na určité načasované události v tomto kanálu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-250">The channel and program relationship is very similar to traditional media, where a channel has a constant stream of content and a program is scoped to some timed event on that channel.</span></span>

<span data-ttu-id="f8b89-251">Nastavením délky **archivačního okna** můžete určit počet hodin, po které chcete uchovávat zaznamenaný obsah programu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-251">You can specify the number of hours you want to retain the recorded content for the program by setting the **Archive Window** length.</span></span> <span data-ttu-id="f8b89-252">Tuto hodnotu můžete nastavit v rozmezí od 5 minut po 25 hodin.</span><span class="sxs-lookup"><span data-stu-id="f8b89-252">This value can be set from a minimum of 5 minutes to a maximum of 25 hours.</span></span> <span data-ttu-id="f8b89-253">Délka archivačního okna také určuje maximální časový úsek, který můžou klienti prohledávat od aktuální živé pozice směrem zpět v čase.</span><span class="sxs-lookup"><span data-stu-id="f8b89-253">Archive window length also dictates the maximum amount of time clients can seek back in time from the current live position.</span></span> <span data-ttu-id="f8b89-254">Programy můžou běžet po určenou dobu a obsah, který se do délky okna nevejde, bude vždy zahozen.</span><span class="sxs-lookup"><span data-stu-id="f8b89-254">Programs can run over the specified amount of time, but content that falls behind the window length is continuously discarded.</span></span> <span data-ttu-id="f8b89-255">Hodnota této vlastnosti také určuje, jak dlouho můžou růst manifesty klientů.</span><span class="sxs-lookup"><span data-stu-id="f8b89-255">This value of this property also determines how long the client manifests can grow.</span></span>

<span data-ttu-id="f8b89-256">Každý program je přidružena k assetu, který ukládá obsah datového proudu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-256">Each program is associated with an asset that stores the streamed content.</span></span> <span data-ttu-id="f8b89-257">Prostředek je namapovaná na kontejner objektů blob bloku v účtu úložiště Azure a soubory v prostředku jsou uloženy jako objekty BLOB v tomto kontejneru.</span><span class="sxs-lookup"><span data-stu-id="f8b89-257">An asset is mapped to a block blob container in the Azure storage account, and the files in the asset are stored as blobs in that container.</span></span> <span data-ttu-id="f8b89-258">Chcete program publikovat, takže vaši zákazníci mohou zobrazit datového proudu, je nutné vytvořit lokátor OnDemand pro přidružený asset.</span><span class="sxs-lookup"><span data-stu-id="f8b89-258">To publish the program so your customers can view the stream, you must create an OnDemand locator for the associated asset.</span></span> <span data-ttu-id="f8b89-259">Tento Lokátor vám pomůže vytvořit adresu URL pro streamování, kterou potom poskytnete svým klientům.</span><span class="sxs-lookup"><span data-stu-id="f8b89-259">You can use this locator to build a streaming URL that you can provide to your clients.</span></span>

<span data-ttu-id="f8b89-260">Kanál podporuje až tři současně spuštěné programy, takže si můžete vytvořit několik archivů stejného příchozího datového proudu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-260">A channel supports up to three concurrently running programs, so you can create multiple archives of the same incoming stream.</span></span> <span data-ttu-id="f8b89-261">Můžete publikovat a archivovat různé části události podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="f8b89-261">You can publish and archive different parts of an event as needed.</span></span> <span data-ttu-id="f8b89-262">Představte si například, že je vaše firemní požadavky chcete archivovat 6 hodin programu, ale vysílat jenom posledních 10 minut.</span><span class="sxs-lookup"><span data-stu-id="f8b89-262">For example, imagine that your business requirement is to archive 6 hours of a program, but to broadcast only the last 10 minutes.</span></span> <span data-ttu-id="f8b89-263">K tomu potřebujete vytvořit dva současně spuštěné programy.</span><span class="sxs-lookup"><span data-stu-id="f8b89-263">To accomplish this, you need to create two concurrently running programs.</span></span> <span data-ttu-id="f8b89-264">Jeden program nastavíte, aby archivoval 6 hodin události, ale tento program není publikována.</span><span class="sxs-lookup"><span data-stu-id="f8b89-264">One program is set to archive 6 hours of the event, but the program is not published.</span></span> <span data-ttu-id="f8b89-265">Druhý program nastavíte, aby archivoval 10 minut a tento program budete publikovat.</span><span class="sxs-lookup"><span data-stu-id="f8b89-265">The other program is set to archive for 10 minutes, and this program is published.</span></span>

<span data-ttu-id="f8b89-266">Existující programy nepoužívejte znovu pro nové události.</span><span class="sxs-lookup"><span data-stu-id="f8b89-266">You should not reuse existing programs for new events.</span></span> <span data-ttu-id="f8b89-267">Místo toho vytvořte nový program pro každou jednotlivou událost.</span><span class="sxs-lookup"><span data-stu-id="f8b89-267">Instead, create a new program for each event.</span></span> <span data-ttu-id="f8b89-268">Až budete připraveni začít Streamovat a archivovat, spusťte program.</span><span class="sxs-lookup"><span data-stu-id="f8b89-268">Start the program when you're ready to start streaming and archiving.</span></span> <span data-ttu-id="f8b89-269">Kdykoli budete chtít zastavit streamování a archivaci události, zastavte program.</span><span class="sxs-lookup"><span data-stu-id="f8b89-269">Stop the program whenever you want to stop streaming and archiving the event.</span></span>

<span data-ttu-id="f8b89-270">Pokud chcete archivovaný obsah odstranit, zastavte a odstraňte program a potom odstraňte přidružený asset.</span><span class="sxs-lookup"><span data-stu-id="f8b89-270">To delete archived content, stop and delete the program, and then delete the associated asset.</span></span> <span data-ttu-id="f8b89-271">Asset nemůžete odstranit, pokud program používá je.</span><span class="sxs-lookup"><span data-stu-id="f8b89-271">An asset cannot be deleted if a program uses it.</span></span> <span data-ttu-id="f8b89-272">Program musí být odstraněny jako první.</span><span class="sxs-lookup"><span data-stu-id="f8b89-272">The program must be deleted first.</span></span>

<span data-ttu-id="f8b89-273">I po zastavení a odstranění programu můžou uživatelé Streamovat archivovaný obsah jako video na vyžádání, dokud neodstraníte asset.</span><span class="sxs-lookup"><span data-stu-id="f8b89-273">Even after you stop and delete the program, users can stream your archived content as a video on demand, until you delete the asset.</span></span> <span data-ttu-id="f8b89-274">Pokud chcete archivovaný obsah zachovat, ale není k dispozici pro streamování, odstraňte Lokátor streamování.</span><span class="sxs-lookup"><span data-stu-id="f8b89-274">If you want to retain the archived content but not have it available for streaming, delete the streaming locator.</span></span>

## <span data-ttu-id="f8b89-275"><a id="states"></a>Stavy kanál a fakturace</span><span class="sxs-lookup"><span data-stu-id="f8b89-275"><a id="states"></a>Channel states and billing</span></span>
<span data-ttu-id="f8b89-276">Možné hodnoty pro aktuální stav kanál:</span><span class="sxs-lookup"><span data-stu-id="f8b89-276">Possible values for the current state of a channel include:</span></span>

* <span data-ttu-id="f8b89-277">**Zastavit**: Toto je počáteční stav kanálu po jeho vytvoření.</span><span class="sxs-lookup"><span data-stu-id="f8b89-277">**Stopped**: This is the initial state of the channel after its creation.</span></span> <span data-ttu-id="f8b89-278">V tomto stavu můžete aktualizovat vlastnosti kanálu, ale datový proud není povolen.</span><span class="sxs-lookup"><span data-stu-id="f8b89-278">In this state, the channel properties can be updated but streaming is not allowed.</span></span>
* <span data-ttu-id="f8b89-279">**Spouštění**: spuštění kanálu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-279">**Starting**: The channel is being started.</span></span> <span data-ttu-id="f8b89-280">V tomto stavu nejsou povolené žádné aktualizace ani streamování.</span><span class="sxs-lookup"><span data-stu-id="f8b89-280">No updates or streaming is allowed during this state.</span></span> <span data-ttu-id="f8b89-281">Pokud dojde k chybě, kanál vrátí **Zastaveno** stavu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-281">If an error occurs, the channel returns to the **Stopped** state.</span></span>
* <span data-ttu-id="f8b89-282">**Spuštění**: kanál může zpracovat datových proudů za provozu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-282">**Running**: The channel can process live streams.</span></span>
* <span data-ttu-id="f8b89-283">**Zastavení**: kanál se zastaví.</span><span class="sxs-lookup"><span data-stu-id="f8b89-283">**Stopping**: The channel is being stopped.</span></span> <span data-ttu-id="f8b89-284">V tomto stavu nejsou povolené žádné aktualizace ani streamování.</span><span class="sxs-lookup"><span data-stu-id="f8b89-284">No updates or streaming is allowed during this state.</span></span>
* <span data-ttu-id="f8b89-285">**Odstranění**: kanál se odstraňuje.</span><span class="sxs-lookup"><span data-stu-id="f8b89-285">**Deleting**: The channel is being deleted.</span></span> <span data-ttu-id="f8b89-286">V tomto stavu nejsou povolené žádné aktualizace ani streamování.</span><span class="sxs-lookup"><span data-stu-id="f8b89-286">No updates or streaming is allowed during this state.</span></span>

<span data-ttu-id="f8b89-287">Následující tabulka ukazuje, jak kanál stavy mapu, která fakturace režimu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-287">The following table shows how channel states map to the billing mode.</span></span>

| <span data-ttu-id="f8b89-288">Stav kanálu</span><span class="sxs-lookup"><span data-stu-id="f8b89-288">Channel state</span></span> | <span data-ttu-id="f8b89-289">Indikátory portálu uživatelského rozhraní</span><span class="sxs-lookup"><span data-stu-id="f8b89-289">Portal UI indicators</span></span> | <span data-ttu-id="f8b89-290">Fakturováno?</span><span class="sxs-lookup"><span data-stu-id="f8b89-290">Billed?</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f8b89-291">**Spouštění**</span><span class="sxs-lookup"><span data-stu-id="f8b89-291">**Starting**</span></span> |<span data-ttu-id="f8b89-292">**Spouštění**</span><span class="sxs-lookup"><span data-stu-id="f8b89-292">**Starting**</span></span> |<span data-ttu-id="f8b89-293">Ne (přechodný stav)</span><span class="sxs-lookup"><span data-stu-id="f8b89-293">No (transient state)</span></span> |
| <span data-ttu-id="f8b89-294">**Spuštění**</span><span class="sxs-lookup"><span data-stu-id="f8b89-294">**Running**</span></span> |<span data-ttu-id="f8b89-295">**Připraveno** (žádné spuštěné programy)</span><span class="sxs-lookup"><span data-stu-id="f8b89-295">**Ready** (no running programs)</span></span><p><p><span data-ttu-id="f8b89-296">nebo</span><span class="sxs-lookup"><span data-stu-id="f8b89-296">or</span></span><p><span data-ttu-id="f8b89-297">**Streamování** (alespoň jeden spuštěným programem)</span><span class="sxs-lookup"><span data-stu-id="f8b89-297">**Streaming** (at least one running program)</span></span> |<span data-ttu-id="f8b89-298">Ano</span><span class="sxs-lookup"><span data-stu-id="f8b89-298">Yes</span></span> |
| <span data-ttu-id="f8b89-299">**Zastavení**</span><span class="sxs-lookup"><span data-stu-id="f8b89-299">**Stopping**</span></span> |<span data-ttu-id="f8b89-300">**Zastavení**</span><span class="sxs-lookup"><span data-stu-id="f8b89-300">**Stopping**</span></span> |<span data-ttu-id="f8b89-301">Ne (přechodný stav)</span><span class="sxs-lookup"><span data-stu-id="f8b89-301">No (transient state)</span></span> |
| <span data-ttu-id="f8b89-302">**Byla zastavena**</span><span class="sxs-lookup"><span data-stu-id="f8b89-302">**Stopped**</span></span> |<span data-ttu-id="f8b89-303">**Byla zastavena**</span><span class="sxs-lookup"><span data-stu-id="f8b89-303">**Stopped**</span></span> |<span data-ttu-id="f8b89-304">Ne</span><span class="sxs-lookup"><span data-stu-id="f8b89-304">No</span></span> |

## <span data-ttu-id="f8b89-305"><a id="cc_and_ads"></a>Uzavřené přidávání titulků a ad vložení</span><span class="sxs-lookup"><span data-stu-id="f8b89-305"><a id="cc_and_ads"></a>Closed captioning and ad insertion</span></span>
<span data-ttu-id="f8b89-306">Následující tabulka ukazuje podporované standardy pro uzavřené přidávání titulků a ad vložení.</span><span class="sxs-lookup"><span data-stu-id="f8b89-306">The following table demonstrates supported standards for closed captioning and ad insertion.</span></span>

| <span data-ttu-id="f8b89-307">Standard</span><span class="sxs-lookup"><span data-stu-id="f8b89-307">Standard</span></span> | <span data-ttu-id="f8b89-308">Poznámky</span><span class="sxs-lookup"><span data-stu-id="f8b89-308">Notes</span></span> |
| --- | --- |
| <span data-ttu-id="f8b89-309">CEA 708 a EIA 608 (708/608)</span><span class="sxs-lookup"><span data-stu-id="f8b89-309">CEA-708 and EIA-608 (708/608)</span></span> |<span data-ttu-id="f8b89-310">Titulky jsou CEA 708 a EIA 608 standardy pro Spojené státy americké a Kanadu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-310">CEA-708 and EIA-608 are closed-captioning standards for the United States and Canada.</span></span><p><p><span data-ttu-id="f8b89-311">V současné době přidávání titulků je podporována pouze v případě, že se provádí v kódovaného vstupního datového proudu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-311">Currently, captioning is supported only if carried in the encoded input stream.</span></span> <span data-ttu-id="f8b89-312">Budete muset použít kodér médií za provozu, která můžete vložit 608 nebo 708 titulky v kódovaného datový proud, který je odeslán Media Services.</span><span class="sxs-lookup"><span data-stu-id="f8b89-312">You need to use a live media encoder that can insert 608 or 708 captions in the encoded stream that's sent to Media Services.</span></span> <span data-ttu-id="f8b89-313">Služba Media Services doručí obsah s titulky vložené do vašeho prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="f8b89-313">Media Services delivers the content with inserted captions to your viewers.</span></span> |
| <span data-ttu-id="f8b89-314">TTML uvnitř .ismt (technologie Smooth Streaming textové stopy)</span><span class="sxs-lookup"><span data-stu-id="f8b89-314">TTML inside .ismt (Smooth Streaming text tracks)</span></span> |<span data-ttu-id="f8b89-315">Dynamické balení Media Services umožňuje vašim klientům ke streamování obsahu v některém z následujících formátů: DASH, HLS nebo technologie Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="f8b89-315">Media Services dynamic packaging enables your clients to stream content in any of the following formats: DASH, HLS, or Smooth Streaming.</span></span> <span data-ttu-id="f8b89-316">Ale pokud jste ingestování fragmentovaný soubor MP4 (technologie Smooth Streaming) s titulky uvnitř .ismt (technologie Smooth Streaming textové stopy), abyste mohli zajistit datový proud jenom pro klienty technologie Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="f8b89-316">However, if you ingest fragmented MP4 (Smooth Streaming) with captions inside .ismt (Smooth Streaming text tracks), you can deliver the stream to only Smooth Streaming clients.</span></span> |
| <span data-ttu-id="f8b89-317">SCTE 35</span><span class="sxs-lookup"><span data-stu-id="f8b89-317">SCTE-35</span></span> |<span data-ttu-id="f8b89-318">SCTE 35 je digitální signalizační systém, který se používá k převinutí vložení inzerování.</span><span class="sxs-lookup"><span data-stu-id="f8b89-318">SCTE-35 is a digital signaling system that's used to cue advertising insertion.</span></span> <span data-ttu-id="f8b89-319">Podřízené příjemci pomocí signál splice – reklamu do datového proudu pro přiděleném čase.</span><span class="sxs-lookup"><span data-stu-id="f8b89-319">Downstream receivers use the signal to splice advertising into the stream for the allotted time.</span></span> <span data-ttu-id="f8b89-320">SCTE 35, musí se poslat jako zhuštěné sledování v vstupního datového proudu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-320">SCTE-35 must be sent as a sparse track in the input stream.</span></span><p><p><span data-ttu-id="f8b89-321">V současné době pouze podporované vstupního datového proudu formátu této má u sebe ad signály fragmentován MP4 (technologie Smooth Streaming).</span><span class="sxs-lookup"><span data-stu-id="f8b89-321">Currently, the only supported input stream format that carries ad signals is fragmented MP4 (Smooth Streaming).</span></span> <span data-ttu-id="f8b89-322">Jediný podporovaný výstupní formát je také technologie Smooth Streaming.</span><span class="sxs-lookup"><span data-stu-id="f8b89-322">The only supported output format is also Smooth Streaming.</span></span> |

## <span data-ttu-id="f8b89-323"><a id="considerations"></a>Důležité informace</span><span class="sxs-lookup"><span data-stu-id="f8b89-323"><a id="considerations"></a>Considerations</span></span>
<span data-ttu-id="f8b89-324">Pokud používáte místní kodér za provozu na odesílat datový proud s více přenosovými rychlostmi do kanálu, platí následující omezení:</span><span class="sxs-lookup"><span data-stu-id="f8b89-324">When you're using an on-premises live encoder to send a multi-bitrate stream to a channel, the following constraints apply:</span></span>

* <span data-ttu-id="f8b89-325">Ujistěte se, že máte dostatek volného připojení k Internetu k odesílání dat do ingestování bodů.</span><span class="sxs-lookup"><span data-stu-id="f8b89-325">Make sure you have sufficient free Internet connectivity to send data to the ingest points.</span></span>
* <span data-ttu-id="f8b89-326">Ingestovanou adresu URL, pomocí sekundární vyžaduje dodatečnou šířku pásma.</span><span class="sxs-lookup"><span data-stu-id="f8b89-326">Using a secondary ingest URL requires additional bandwidth.</span></span>
* <span data-ttu-id="f8b89-327">Příchozí datový proud více přenosovými rychlostmi může mít maximálně 10 úrovně kvalitu videa (vrstvy) a nesmí být delší než 5 zvukových stop.</span><span class="sxs-lookup"><span data-stu-id="f8b89-327">The incoming multi-bitrate stream can have a maximum of 10 video quality levels (layers) and a maximum of 5 audio tracks.</span></span>
* <span data-ttu-id="f8b89-328">Nejvyšší průměrné přenosovou rychlostí v žádném z úrovně kvalitu videa by měla být nižší než 10 MB/s.</span><span class="sxs-lookup"><span data-stu-id="f8b89-328">The highest average bitrate for any of the video quality levels should be below 10 Mbps.</span></span>
* <span data-ttu-id="f8b89-329">Agregace průměrná přenosových rychlostí pro všechny videa a zvuku datové proudy musí mít míň než 25 MB/s.</span><span class="sxs-lookup"><span data-stu-id="f8b89-329">The aggregate of the average bitrates for all the video and audio streams should be below 25 Mbps.</span></span>
* <span data-ttu-id="f8b89-330">Nelze změnit vstupní protokol když kanál nebo jeho přidružené programy běží.</span><span class="sxs-lookup"><span data-stu-id="f8b89-330">You cannot change the input protocol while the channel or its associated programs are running.</span></span> <span data-ttu-id="f8b89-331">Pokud požadujete různé protokoly, vytvořte samostatné kanály pro každý vstupní protokol.</span><span class="sxs-lookup"><span data-stu-id="f8b89-331">If you require different protocols, you should create separate channels for each input protocol.</span></span>
* <span data-ttu-id="f8b89-332">Můžete ingestování s jednou přenosovou rychlostí v kanálu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-332">You can ingest a single bitrate in your channel.</span></span> <span data-ttu-id="f8b89-333">Ale protože kanál nezpracovává datového proudu, klientské aplikace se také zobrazí datový proud s jednou přenosovou rychlostí.</span><span class="sxs-lookup"><span data-stu-id="f8b89-333">But because the channel does not process the stream, the client applications will also receive a single bitrate stream.</span></span> <span data-ttu-id="f8b89-334">(Nedoporučujeme tuto možnost.)</span><span class="sxs-lookup"><span data-stu-id="f8b89-334">(We don't recommend this option.)</span></span>

<span data-ttu-id="f8b89-335">Zde jsou další důležité informace týkající se práce s kanály a související součásti:</span><span class="sxs-lookup"><span data-stu-id="f8b89-335">Here are other considerations related to working with channels and related components:</span></span>

* <span data-ttu-id="f8b89-336">Pokaždé, když překonfigurujete kodér za provozu, volání **resetovat** metoda na kanálu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-336">Every time you reconfigure the live encoder, call the **Reset** method on the channel.</span></span> <span data-ttu-id="f8b89-337">Před resetujete kanál, budete muset, zastavte program.</span><span class="sxs-lookup"><span data-stu-id="f8b89-337">Before you reset the channel, you have to stop the program.</span></span> <span data-ttu-id="f8b89-338">Po resetování kanálu restartujte program.</span><span class="sxs-lookup"><span data-stu-id="f8b89-338">After you reset the channel, restart the program.</span></span>
* <span data-ttu-id="f8b89-339">Kanál se dá zastavit jenom v případě, že se **systémem** byly zastaveny stavu a všechny programy na kanálu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-339">A channel can be stopped only when it's in the **Running** state and all programs on the channel have been stopped.</span></span>
* <span data-ttu-id="f8b89-340">Ve výchozím nastavení můžete přidat pouze 5 kanály pro váš účet Media Services.</span><span class="sxs-lookup"><span data-stu-id="f8b89-340">By default, you can add only 5 channels to your Media Services account.</span></span> <span data-ttu-id="f8b89-341">Další informace najdete v tématu [kvóty a omezení](media-services-quotas-and-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="f8b89-341">For more information, see [Quotas and limitations](media-services-quotas-and-limitations.md).</span></span>
* <span data-ttu-id="f8b89-342">Fakturuje se jenom v případě, že je kanál v **systémem** stavu.</span><span class="sxs-lookup"><span data-stu-id="f8b89-342">You are billed only when your channel is in the **Running** state.</span></span> <span data-ttu-id="f8b89-343">Další informace najdete v části [kanálu stavy a fakturace](media-services-live-streaming-with-onprem-encoders.md#states) části.</span><span class="sxs-lookup"><span data-stu-id="f8b89-343">For more information, refer to the [Channel states and billing](media-services-live-streaming-with-onprem-encoders.md#states) section.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="f8b89-344">Mapy kurzů ke službě Media Services</span><span class="sxs-lookup"><span data-stu-id="f8b89-344">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="feedback"></a><span data-ttu-id="f8b89-345">Váš názor</span><span class="sxs-lookup"><span data-stu-id="f8b89-345">Feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]

## <a name="related-topics"></a><span data-ttu-id="f8b89-346">Související témata</span><span class="sxs-lookup"><span data-stu-id="f8b89-346">Related topics</span></span>
[<span data-ttu-id="f8b89-347">Azure Media Services fragmentovaných MP4 live ingestování specifikace</span><span class="sxs-lookup"><span data-stu-id="f8b89-347">Azure Media Services fragmented MP4 live ingest specification</span></span>](media-services-fmp4-live-ingest-overview.md)

[<span data-ttu-id="f8b89-348">Přehled služby Azure Media Services a běžné scénáře</span><span class="sxs-lookup"><span data-stu-id="f8b89-348">Azure Media Services overview and common scenarios</span></span>](media-services-overview.md)

[<span data-ttu-id="f8b89-349">Koncepty služby Media Services</span><span class="sxs-lookup"><span data-stu-id="f8b89-349">Media Services concepts</span></span>](media-services-concepts.md)

[live-overview]: ./media/media-services-manage-channels-overview/media-services-live-streaming-current.png
