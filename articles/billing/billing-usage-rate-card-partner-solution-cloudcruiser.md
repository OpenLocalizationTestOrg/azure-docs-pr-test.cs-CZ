---
title: "aaaCloud Cruiser a fakturace integrace rozhraní API aplikace Microsoft Azure | Microsoft Docs"
description: "Poskytuje jedinečný perspektivy z Microsoft Azure Billing partnera Cruiser cloudu v jejich prostředí integraci hello rozhraní API Správce Azure fakturace do svých produktech.  To je obzvláště užitečné pro Azure a cloudu Cruiser zákazníky, kteří se chtějí pomocí nebo pokusu o Cruiser cloudu pro Microsoft Azure Pack."
services: 
documentationcenter: 
author: BryanLa
manager: tonguyen
editor: 
tags: billing
ms.assetid: b65128cf-5d4d-4cbd-b81e-d3dceab44271
ms.service: billing
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: billing
ms.date: 02/03/2017
ms.author: mobandyo;sirishap;bryanla
ms.openlocfilehash: 74cc19bdeed26c6684210736caa0cb365e8f8821
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="cloud-cruiser-and-microsoft-azure-billing-api-integration"></a><span data-ttu-id="edca3-104">Cloud Cruiser a fakturace integrace rozhraní API Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="edca3-104">Cloud Cruiser and Microsoft Azure Billing API Integration</span></span>
<span data-ttu-id="edca3-105">Tento článek popisuje, jak hello informace shromážděné z hello nových Microsoft Azure Billing rozhraní API lze použít v cloudu Cruiser pro pracovní postup náklady simulace a analýzy.</span><span class="sxs-lookup"><span data-stu-id="edca3-105">This article describes how hello information collected from hello new Microsoft Azure Billing APIs can be used in Cloud Cruiser for workflow cost simulation and analysis.</span></span>

## <a name="azure-ratecard-api"></a><span data-ttu-id="edca3-106">Rozhraní API Azure RateCard</span><span class="sxs-lookup"><span data-stu-id="edca3-106">Azure RateCard API</span></span>
<span data-ttu-id="edca3-107">Hello RateCard API poskytuje míra informace z Azure.</span><span class="sxs-lookup"><span data-stu-id="edca3-107">hello RateCard API provides rate information from Azure.</span></span> <span data-ttu-id="edca3-108">Po ověření se správnými přihlašovacími údaji hello se můžete dotazovat hello rozhraní API toocollect metadata o hello služeb dostupných v Azure, společně s hello sazby související s vaší nabízejí ID.</span><span class="sxs-lookup"><span data-stu-id="edca3-108">After authenticating with hello proper credentials, you can query hello API toocollect metadata about hello services available on Azure, along with hello rates associated with your Offer ID.</span></span>

<span data-ttu-id="edca3-109">Hello následuje ukázková odpověď z rozhraní API hello zobrazující hello ceny pro hello A0 (Windows) instance:</span><span class="sxs-lookup"><span data-stu-id="edca3-109">hello following is a sample response from hello API showing hello prices for hello A0 (Windows) instance:</span></span>

    {
        "MeterId": "0e59ad56-03e5-4c3d-90d4-6670874d7e29",
        "MeterName": "Compute Hours",
        "MeterCategory": "Virtual Machines",
        "MeterSubCategory": "A0 VM (Windows)",
        "Unit": "Hours",
        "MeterRates":
        {
            "0": 0.029
        },
        "EffectiveDate": "2014-08-01T00:00:00Z",
        "IncludedQuantity": 0.0,
        "MeterStatus": "Active"
    },

### <a name="cloud-cruisers-interface-tooazure-ratecard-api"></a><span data-ttu-id="edca3-110">Cloud tooAzure Cruiser na rozhraní RateCard API</span><span class="sxs-lookup"><span data-stu-id="edca3-110">Cloud Cruiser’s Interface tooAzure RateCard API</span></span>
<span data-ttu-id="edca3-111">Cruiser cloudu můžete využít rozhraní API RateCard informace hello různými způsoby.</span><span class="sxs-lookup"><span data-stu-id="edca3-111">Cloud Cruiser can leverage hello RateCard API information in different ways.</span></span> <span data-ttu-id="edca3-112">V tomto článku ukážeme, jak může být použité toomake IaaS zatížení náklady simulace a analýzy.</span><span class="sxs-lookup"><span data-stu-id="edca3-112">For this article, we will show how it can be used toomake IaaS workload cost simulation and analysis.</span></span>

<span data-ttu-id="edca3-113">toodemonstrate tento případ použití, představte si zatížení několik instancí spuštěných na Microsoft Azure Pack (WAP).</span><span class="sxs-lookup"><span data-stu-id="edca3-113">toodemonstrate this use case, imagine a workload of several instances running on Microsoft Azure Pack (WAP).</span></span> <span data-ttu-id="edca3-114">cílem Hello je toosimulate tento stejné zatížení v Azure a odhad hello náklady provádění takových migrace.</span><span class="sxs-lookup"><span data-stu-id="edca3-114">hello goal is toosimulate this same workload on Azure, and estimate hello costs of doing such migration.</span></span> <span data-ttu-id="edca3-115">V pořadí toocreate této simulace, existují dvě hlavní úlohy toobe provést:</span><span class="sxs-lookup"><span data-stu-id="edca3-115">In order toocreate this simulation, there are two main tasks toobe performed:</span></span>

1. <span data-ttu-id="edca3-116">**Import a proces hello služby informace shromážděné z hello RateCard rozhraní API.**</span><span class="sxs-lookup"><span data-stu-id="edca3-116">**Import and process hello service information collected from hello RateCard API.**</span></span> <span data-ttu-id="edca3-117">Tato úloha provádí také na hello sešity, kde hello extrakce z hello RateCard rozhraní API je nový plán míra tooa transformovaných a publikovaná.</span><span class="sxs-lookup"><span data-stu-id="edca3-117">This task is also performed on hello workbooks, where hello extract from hello RateCard API is transformed and published tooa new rate plan.</span></span> <span data-ttu-id="edca3-118">Tento nový plán míry se budou používat v hello simulace tooestimate hello Azure ceny.</span><span class="sxs-lookup"><span data-stu-id="edca3-118">This new rate plan will be used on hello simulations tooestimate hello Azure prices.</span></span>
2. <span data-ttu-id="edca3-119">**Normalizuje WAP služby a služby Azure IaaS.**</span><span class="sxs-lookup"><span data-stu-id="edca3-119">**Normalize WAP services and Azure services for IaaS.**</span></span> <span data-ttu-id="edca3-120">Ve výchozím nastavení, jsou na základě služby WAP u jednotlivých prostředků (procesoru, velikosti paměti, velikost disku atd.) při Azure jsou služby založené na velikost instance (A0, A1, A2 atd.).</span><span class="sxs-lookup"><span data-stu-id="edca3-120">By default, WAP services are based on individual resources (CPU, Memory Size, Disk Size, etc.) while Azure services are based on instance size (A0, A1, A2, etc.).</span></span> <span data-ttu-id="edca3-121">Tato první úloha můžete provést pomocí modulu ETL Cruiser cloudu, názvem sešity, které tyto prostředky je možné seskupit instance velikostí, podobá tooAzure instance služby.</span><span class="sxs-lookup"><span data-stu-id="edca3-121">This first task can be performed by Cloud Cruiser’s ETL engine, called workbooks, where these resources can be bundled on instance sizes, analogous tooAzure instance services.</span></span>

### <a name="import-data-from-hello-ratecard-api"></a><span data-ttu-id="edca3-122">Umožňuje importovat data z hello RateCard rozhraní API</span><span class="sxs-lookup"><span data-stu-id="edca3-122">Import data from hello RateCard API</span></span>
<span data-ttu-id="edca3-123">Sešity Cruiser cloudu poskytují automatizovaný způsob, jak toocollect a proces informace z hello RateCard rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="edca3-123">Cloud Cruiser workbooks provide an automated way toocollect and process information from hello RateCard API.</span></span>  <span data-ttu-id="edca3-124">Sešity ETL (extrakce zatížení transformace) umožňují tooconfigure hello kolekce, transformaci a publikování dat do databáze cloudu Cruiser hello.</span><span class="sxs-lookup"><span data-stu-id="edca3-124">ETL (extract-transform-load) workbooks allow you tooconfigure hello collection, transformation, and publishing of data into hello Cloud Cruiser database.</span></span>

<span data-ttu-id="edca3-125">Každý sešit můžete mít jeden nebo více kolekcí, což vám toocorrelate informace z různých zdrojů toocomplement nebo posílení data o využití hello.</span><span class="sxs-lookup"><span data-stu-id="edca3-125">Each workbook can have one or multiple collections, allowing you toocorrelate information from different sources toocomplement or augment hello usage data.</span></span> <span data-ttu-id="edca3-126">Následující dva snímky obrazovky zobrazit jak Hello toocreate nový *kolekce* v existující sešit a import informací do hello *kolekce* z hello RateCard rozhraní API:</span><span class="sxs-lookup"><span data-stu-id="edca3-126">hello following two screenshots show how toocreate a new *collection* in an existing workbook, and importing information into hello *collection* from hello RateCard API:</span></span>

<span data-ttu-id="edca3-127">![Obrázek 1 – Vytvoření nové kolekce][1]</span><span class="sxs-lookup"><span data-stu-id="edca3-127">![Figure 1 - Creating a new collection][1]</span></span>

<span data-ttu-id="edca3-128">![Obrázek 2 – importovat data z nové kolekce hello][2]</span><span class="sxs-lookup"><span data-stu-id="edca3-128">![Figure 2 - Import data from hello new collection][2]</span></span>

<span data-ttu-id="edca3-129">Po importu hello dat do sešitu hello je možné toocreate několika kroky a procesy zpracování, toomodify a modelu hello data.</span><span class="sxs-lookup"><span data-stu-id="edca3-129">After importing hello data into hello workbook, it’s possible toocreate multiple steps and transformation processes, toomodify and model hello data.</span></span> <span data-ttu-id="edca3-130">V tomto příkladu vzhledem k tomu, že jsme zajímá jenom infrastruktura jako služba (IaaS), můžeme použít hello transformace kroky tooremove nepotřebné řádky nebo záznamy, související tooservices než IaaS.</span><span class="sxs-lookup"><span data-stu-id="edca3-130">For this example, since we are only interested in infrastructure-as-a-Service (IaaS) we can use hello transformation steps tooremove unnecessary rows, or records, related tooservices other than IaaS.</span></span>

<span data-ttu-id="edca3-131">Hello následující snímek obrazovky ukazuje, že kroky transformace hello používá tooprocess hello data shromážděná z rozhraní API RateCard:</span><span class="sxs-lookup"><span data-stu-id="edca3-131">hello following screenshot shows hello transformation steps used tooprocess hello data collected from RateCard API:</span></span>

<span data-ttu-id="edca3-132">![Obrázek 3 - transformace kroky tooprocess shromažďovat data z rozhraní API RateCard][3]</span><span class="sxs-lookup"><span data-stu-id="edca3-132">![Figure 3 - Transformation steps tooprocess collected data from RateCard API][3]</span></span>

### <a name="defining-new-services-and-rate-plans"></a><span data-ttu-id="edca3-133">Definování nových služeb a rychlost plány</span><span class="sxs-lookup"><span data-stu-id="edca3-133">Defining New Services and Rate Plans</span></span>
<span data-ttu-id="edca3-134">V cloudu Cruiser jsou různé způsoby toodefine služby.</span><span class="sxs-lookup"><span data-stu-id="edca3-134">There are different ways toodefine services on Cloud Cruiser.</span></span> <span data-ttu-id="edca3-135">Jednu z možností hello je tooimport hello služby z dat využití hello.</span><span class="sxs-lookup"><span data-stu-id="edca3-135">One of hello options is tooimport hello services from hello usage data.</span></span> <span data-ttu-id="edca3-136">Tato metoda se obvykle používá při práci s veřejné cloudy, kde jsou již definováni hello služby poskytovatelem hello.</span><span class="sxs-lookup"><span data-stu-id="edca3-136">This method is commonly used when working with public clouds, where hello services are already defined by hello provider.</span></span>

<span data-ttu-id="edca3-137">Míra plánování je sada sazby nebo ceny, které můžou být použité toodifferent služby, na základě daty platnosti nebo skupinu zákazníků, mezi další možnosti.</span><span class="sxs-lookup"><span data-stu-id="edca3-137">A Rate Plan is a set of rates or prices that can be applied toodifferent services, based on effective dates, or group of customers, among other options.</span></span> <span data-ttu-id="edca3-138">Míra plány lze také v cloudu Cruiser toocreate simulace nebo "Citlivostních" scénářů, toounderstand vliv hello celkové náklady na zatížení změny ve službě.</span><span class="sxs-lookup"><span data-stu-id="edca3-138">Rate Plans can also be used on Cloud Cruiser toocreate simulation or “What-if” scenarios, toounderstand how changes in services can affect hello total cost of a workload.</span></span>

<span data-ttu-id="edca3-139">V tomto příkladu použijeme informace o službě hello z hello RateCard API toodefine nových služeb v cloudu Cruiser.</span><span class="sxs-lookup"><span data-stu-id="edca3-139">In this example, we will use hello service information from hello RateCard API toodefine new services in Cloud Cruiser.</span></span> <span data-ttu-id="edca3-140">V hello stejný způsobem, můžeme použít hello sazby související toohello služeb toocreate nové míra plánování na Cruiser cloudu.</span><span class="sxs-lookup"><span data-stu-id="edca3-140">In hello same way, we can use hello rates associated toohello services toocreate a new Rate Plan on Cloud Cruiser.</span></span>

<span data-ttu-id="edca3-141">Na konci hello hello transformace procesu je možné toocreate nový krok a publikovat data hello z hello RateCard API jako nové služby a sazby.</span><span class="sxs-lookup"><span data-stu-id="edca3-141">At hello end of hello transformation process, it is possible toocreate a new step and publish hello data from hello RateCard API as new services and rates.</span></span>

<span data-ttu-id="edca3-142">![Obrázek 4 – publikování hello data z hello RateCard API jako nové služby a sazby][4]</span><span class="sxs-lookup"><span data-stu-id="edca3-142">![Figure 4 - Publishing hello data from hello RateCard API as new Services and Rates][4]</span></span>

### <a name="verify-azure-services-and-rates"></a><span data-ttu-id="edca3-143">Ověření služby Azure a sazby</span><span class="sxs-lookup"><span data-stu-id="edca3-143">Verify Azure Services and Rates</span></span>
<span data-ttu-id="edca3-144">Po publikování služby hello a sazby, můžete ověřit hello seznam importovaných služeb v cloudu Cruiser *služby* karty:</span><span class="sxs-lookup"><span data-stu-id="edca3-144">After publishing hello services and rates, you can verify hello list of imported services in Cloud Cruiser’s *Services* tab:</span></span>

<span data-ttu-id="edca3-145">![Obrázek 5 – ověření hello nových služeb][5]</span><span class="sxs-lookup"><span data-stu-id="edca3-145">![Figure 5 - Verifying hello new Services][5]</span></span>

<span data-ttu-id="edca3-146">Na hello *plány míra* kartě, můžete zkontrolovat hello nové míra plán nazvaný "AzureSimulation" s hello sazby naimportované z hello RateCard rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="edca3-146">On hello *Rate Plans* tab, you can check hello new rate plan called “AzureSimulation” with hello rates imported from hello RateCard API.</span></span>

<span data-ttu-id="edca3-147">![Obrázek 6 – ověření hello nový plán rychlost a přidružené sazby][6]</span><span class="sxs-lookup"><span data-stu-id="edca3-147">![Figure 6 - Verifying hello new Rate Plan and associated rates][6]</span></span>

### <a name="normalize-wap-and-azure-services"></a><span data-ttu-id="edca3-148">Normalizuje WAP a službami Azure</span><span class="sxs-lookup"><span data-stu-id="edca3-148">Normalize WAP and Azure Services</span></span>
<span data-ttu-id="edca3-149">Ve výchozím nastavení WAP poskytuje informace o využití, které jsou založeny na použití hello výpočetní, paměti a síťovým prostředkům.</span><span class="sxs-lookup"><span data-stu-id="edca3-149">By default, WAP provides usage information based on hello use of compute, memory, and network resources.</span></span> <span data-ttu-id="edca3-150">V cloudu Cruiser můžete definovat služeb na základě přímo na hello přidělení nebo Měřené využití těchto prostředků.</span><span class="sxs-lookup"><span data-stu-id="edca3-150">In Cloud Cruiser, you can define your services based directly on hello allocation or metered usage of these resources.</span></span> <span data-ttu-id="edca3-151">Například můžete nastavit na základní míru pro každou hodinu využití procesoru nebo poplatků hello GB paměti přidělené tooan instance.</span><span class="sxs-lookup"><span data-stu-id="edca3-151">For example, you can set a basic rate for each hour of CPU usage, or charge hello GB of memory allocated tooan instance.</span></span>

<span data-ttu-id="edca3-152">V tomto příkladu v pořadí toocompare náklady mezi WAP a Azure potřebujeme tooaggregate využití hello prostředků na WAP do sad, které pak lze mapovat tooAzure služby.</span><span class="sxs-lookup"><span data-stu-id="edca3-152">For this example, in order toocompare costs between WAP and Azure, we need tooaggregate hello resource usage on WAP into bundles, which can then be mapped tooAzure services.</span></span> <span data-ttu-id="edca3-153">Tato transformace lze snadno implementovat v sešitech hello:</span><span class="sxs-lookup"><span data-stu-id="edca3-153">This transformation can be implemented easily in hello workbooks:</span></span>

<span data-ttu-id="edca3-154">![Obrázek 7: transformace WAP datové toonormalize služby][7]</span><span class="sxs-lookup"><span data-stu-id="edca3-154">![Figure 7 - Transforming WAP data toonormalize services][7]</span></span>

<span data-ttu-id="edca3-155">posledním krokem Hello v sešitu hello je toopublish hello data do databáze cloudu Cruiser hello.</span><span class="sxs-lookup"><span data-stu-id="edca3-155">hello last step at hello workbook is toopublish hello data into hello Cloud Cruiser database.</span></span> <span data-ttu-id="edca3-156">V tomto kroku data o využití hello je nyní seskupeny do služby (které mapují toohello služby Azure) a vázané toodefault sazby toocreate hello poplatky.</span><span class="sxs-lookup"><span data-stu-id="edca3-156">During this step, hello usage data is now bundled into services (that map toohello Azure Services) and tied toodefault rates toocreate hello charges.</span></span>

<span data-ttu-id="edca3-157">Po dokončení hello sešitu můžete automatizovat hello zpracování dat hello přidáním úlohu pro hello Plánovač a určením hello četnost a čas pro sešit toorun hello.</span><span class="sxs-lookup"><span data-stu-id="edca3-157">After finishing hello workbook, you can automate hello processing of hello data, by adding a task on hello scheduler and specifying hello frequency and time for hello workbook toorun.</span></span>

<span data-ttu-id="edca3-158">![Obrázek 8 - sešitu plánování][8]</span><span class="sxs-lookup"><span data-stu-id="edca3-158">![Figure 8 - Workbook scheduling][8]</span></span>

### <a name="create-reports-for-workload-cost-simulation-analysis"></a><span data-ttu-id="edca3-159">Vytváření sestav pro analýzu náklady simulace pracovního vytížení</span><span class="sxs-lookup"><span data-stu-id="edca3-159">Create Reports for Workload Cost Simulation Analysis</span></span>
<span data-ttu-id="edca3-160">Až se shromažďují hello využití a poplatky jsou načtena do databáze cloudu Cruiser hello, jsme využít hello cloudu Cruiser Statistika modulu toocreate hello zatížení náklady simulaci, která jsme požadavky.</span><span class="sxs-lookup"><span data-stu-id="edca3-160">After hello usage is collected and charges are loaded into hello Cloud Cruiser database, we can leverage hello Cloud Cruiser Insights module toocreate hello workload cost simulation that we desire.</span></span>

<span data-ttu-id="edca3-161">V pořadí toodemonstrate tento scénář jsme vytvořili hello následující sestavy:</span><span class="sxs-lookup"><span data-stu-id="edca3-161">In order toodemonstrate this scenario, we created hello following report:</span></span>

<span data-ttu-id="edca3-162">![Cenově porovnání][9]</span><span class="sxs-lookup"><span data-stu-id="edca3-162">![Cost Comparison][9]</span></span>

<span data-ttu-id="edca3-163">Hello nejvyšší graf znázorňuje porovnání náklady, službami, porovnání hello cena spuštěného pracovního vytížení hello pro každou konkrétní službu mezi WAP (tmavý modrá) a Azure (světla modrá).</span><span class="sxs-lookup"><span data-stu-id="edca3-163">hello top graph shows a cost comparison by services, comparing hello price of running hello workload for each specific service between WAP (dark blue) and Azure (light blue).</span></span>

<span data-ttu-id="edca3-164">Hello dolní graf znázorňuje hello stejná data ale rozděleno podle oddělení.</span><span class="sxs-lookup"><span data-stu-id="edca3-164">hello bottom graph shows hello same data but broken down by department.</span></span> <span data-ttu-id="edca3-165">Ukazuje to hello náklady pro každé oddělení toorun jejich pracovního vytížení na WAP a Azure, společně s hello rozdíl mezi nimi panelu hello úspory (zelený).</span><span class="sxs-lookup"><span data-stu-id="edca3-165">This shows hello costs for each department toorun their workload on WAP and Azure, along with hello difference between them in hello Savings bar (green).</span></span>

## <a name="azure-usage-api"></a><span data-ttu-id="edca3-166">Rozhraní API Azure využití</span><span class="sxs-lookup"><span data-stu-id="edca3-166">Azure Usage API</span></span>
### <a name="introduction"></a><span data-ttu-id="edca3-167">Úvod</span><span class="sxs-lookup"><span data-stu-id="edca3-167">Introduction</span></span>
<span data-ttu-id="edca3-168">Microsoft nedávno zavedl hello využití rozhraní API služby Azure, povolení tooprogrammatically vyžádání Odběratelé, kteří v využití dat toogain přehledy o jejich používání.</span><span class="sxs-lookup"><span data-stu-id="edca3-168">Microsoft recently introduced hello Azure Usage API, allowing subscribers tooprogrammatically pull in usage data toogain insights into their consumption.</span></span> <span data-ttu-id="edca3-169">Toto je skvělé zprávy pro zákazníky Cruiser cloudu, které můžete využít výhod hello bohatší datová sada k dispozici prostřednictvím tohoto rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="edca3-169">This is great news for Cloud Cruiser customers that can take advantage of hello richer dataset available through this API.</span></span>

<span data-ttu-id="edca3-170">Cruiser cloudu můžete využít hello integrace s hello využití rozhraní API několika způsoby.</span><span class="sxs-lookup"><span data-stu-id="edca3-170">Cloud Cruiser can leverage hello integration with hello Usage API in several ways.</span></span> <span data-ttu-id="edca3-171">členitost Hello (informace o hodinové využití) a informace metadat prostředků, které jsou k dispozici prostřednictvím rozhraní API poskytuje hello hello modely toosupport nezbytné datovou sadu flexibilní kompletní přehled nákladů nebo vrácení peněz.</span><span class="sxs-lookup"><span data-stu-id="edca3-171">hello granularity (hourly usage information) and resource metadata information available through hello API provides hello necessary dataset toosupport flexible Showback or Chargeback models.</span></span> 

<span data-ttu-id="edca3-172">V tomto kurzu jsme nabídne jeden příklad, jak cloudové Cruiser využívat hello informace o využití rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="edca3-172">In this tutorial, we will present one example of how Cloud Cruiser can benefit from hello Usage API information.</span></span> <span data-ttu-id="edca3-173">Přesněji řečeno jsme se vytvoření skupiny prostředků v Azure, přiřadit značky pro strukturu hello účet a pak popisují proces hello stahování a zpracování informací značky hello do cloudu Cruiser.</span><span class="sxs-lookup"><span data-stu-id="edca3-173">More specifically, we will create a Resource Group on Azure, associate tags for hello account structure, then describe hello process of pulling and processing hello tag information into Cloud Cruiser.</span></span>

<span data-ttu-id="edca3-174">cílem konečné Hello je toobe možné toocreate sestavy jako hello následující jeden a být schopný tooanalyze náklady a spotřeba na základě struktury hello účtu naplněn hello značky.</span><span class="sxs-lookup"><span data-stu-id="edca3-174">hello final goal is toobe able toocreate reports like hello following one, and be able tooanalyze cost and consumption based on hello account structure populated by hello tags.</span></span>

<span data-ttu-id="edca3-175">![Obrázek 10 - sestava s členění pomocí značek][10]</span><span class="sxs-lookup"><span data-stu-id="edca3-175">![Figure 10 - Report with breakdowns using tags][10]</span></span>

### <a name="microsoft-azure-tags"></a><span data-ttu-id="edca3-176">Značky Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="edca3-176">Microsoft Azure Tags</span></span>
<span data-ttu-id="edca3-177">Hello data k dispozici prostřednictvím hello využití rozhraní API služby Azure zahrnují pouze informace o spotřebě, ale také metadata prostředků, včetně všechny značky, které s ním spojená.</span><span class="sxs-lookup"><span data-stu-id="edca3-177">hello data available through hello Azure Usage API includes not only consumption information, but also resource metadata including any tags associated with it.</span></span> <span data-ttu-id="edca3-178">Značky poskytují snadný způsob tooorganize vašich prostředků, ale v pořadí toobe efektivní, bude nutné tooensure který:</span><span class="sxs-lookup"><span data-stu-id="edca3-178">Tags provide an easy way tooorganize your resources, but in order toobe effective, you need tooensure that:</span></span>

* <span data-ttu-id="edca3-179">Značky jsou správně použité toohello prostředky během zřizování</span><span class="sxs-lookup"><span data-stu-id="edca3-179">Tags are correctly applied toohello resources at provision time</span></span>
* <span data-ttu-id="edca3-180">Značky jsou správně použít ve struktuře účet hello kompletní přehled nákladů/vracení peněz proces tootie hello využití toohello organizace.</span><span class="sxs-lookup"><span data-stu-id="edca3-180">Tags are properly used on hello Showback/Chargeback process tootie hello usage toohello organization’s account structure.</span></span>

<span data-ttu-id="edca3-181">Oba tyto požadavky může být náročné, zejména v případě, že je ruční proces na hello zřízení nebo poplatků straně.</span><span class="sxs-lookup"><span data-stu-id="edca3-181">Both of these requirements can be challenging, especially when there is a manual process on hello provision or charging side.</span></span> <span data-ttu-id="edca3-182">Chybným, nesprávnou nebo chybějící i značky jsou častých stížností od zákazníků, když pomocí značek a tyto chyby můžete provést životnosti v hello poplatků straně velmi obtížné.</span><span class="sxs-lookup"><span data-stu-id="edca3-182">Mistyped, incorrect or even missing tags are common complaints from customers when using tags and these errors can make life on hello charging side very difficult.</span></span>

<span data-ttu-id="edca3-183">S hello nové rozhraní API Azure využití, Cruiser cloudu můžete prostředků označování informace pro vyžádání obsahu a pomocí sofistikované nástroje ETL názvem sešity, opravte tyto chyby běžné označování.</span><span class="sxs-lookup"><span data-stu-id="edca3-183">With hello new Azure Usage API, Cloud Cruiser can pull resource tagging information, and through a sophisticated ETL tool called workbooks, fix these common tagging errors.</span></span> <span data-ttu-id="edca3-184">Prostřednictvím transformaci pomocí regulárních výrazů a korelace data můžete cloudové Cruiser identifikovat nesprávně s příznakem prostředky a použít hello správné značky, zajistíte správné přidružení hello prostředků hello k příjemce hello.</span><span class="sxs-lookup"><span data-stu-id="edca3-184">Through transformation using regular expressions and data correlation, Cloud Cruiser can identify incorrectly tagged resources and apply hello correct tags, ensuring hello correct association of hello resources with hello consumer.</span></span>

<span data-ttu-id="edca3-185">Na hello poplatků straně cloudu Cruiser automatizuje hello procesu kompletní přehled nákladů/vracení peněz a můžete využít hello značky informace tootie hello využití toohello odpovídající příjemce (oddělení, dělení, projektu atd.).</span><span class="sxs-lookup"><span data-stu-id="edca3-185">On hello charging side, Cloud Cruiser automates hello Showback/Chargeback process, and can leverage hello tag information tootie hello usage toohello appropriate consumer (Department, Division, Project, etc.).</span></span> <span data-ttu-id="edca3-186">Tato automatizace poskytuje obrovské zlepšování a zajistit konzistentní a kontrolovatelný plnících procesu.</span><span class="sxs-lookup"><span data-stu-id="edca3-186">This automation provides a huge improvement and can ensure a consistent and auditable charging process.</span></span>

### <a name="creating-a-resource-group-with-tags-on-microsoft-azure"></a><span data-ttu-id="edca3-187">Vytvoření skupiny prostředků pomocí značek v Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="edca3-187">Creating a Resource Group with tags on Microsoft Azure</span></span>
<span data-ttu-id="edca3-188">Hello první krok v tomto kurzu je toocreate skupiny prostředků v hello portál Azure a pak vytvořit nové značky tooassociate toohello prostředky.</span><span class="sxs-lookup"><span data-stu-id="edca3-188">hello first step in this tutorial is toocreate a Resource Group in hello Azure portal, then create new tags tooassociate toohello resources.</span></span> <span data-ttu-id="edca3-189">V tomto příkladu budeme vytvářet hello následující značky: oddělení, prostředí, vlastník projektu.</span><span class="sxs-lookup"><span data-stu-id="edca3-189">For this example, we will be creating hello following tags: Department, Environment, Owner, Project.</span></span>

<span data-ttu-id="edca3-190">Následující snímek obrazovky Hello obsahuje ukázku že přidružené skupiny prostředků s hello značky.</span><span class="sxs-lookup"><span data-stu-id="edca3-190">hello screenshot below shows a sample Resource Group with hello associated tags.</span></span>

<span data-ttu-id="edca3-191">![Obrázek 11 – skupina prostředků se přidružených značek na portálu Azure][11]</span><span class="sxs-lookup"><span data-stu-id="edca3-191">![Figure 11 - Resource Group with associated tags on Azure portal][11]</span></span>

<span data-ttu-id="edca3-192">dalším krokem Hello je toopull hello informace hello využití rozhraní API do cloudu Cruiser.</span><span class="sxs-lookup"><span data-stu-id="edca3-192">hello next step is toopull hello information from hello Usage API into Cloud Cruiser.</span></span> <span data-ttu-id="edca3-193">Hello využití rozhraní API aktuálně poskytuje odpovědi ve formátu JSON.</span><span class="sxs-lookup"><span data-stu-id="edca3-193">hello Usage API currently provides responses in JSON format.</span></span> <span data-ttu-id="edca3-194">Zde je ukázka hello data načtená:</span><span class="sxs-lookup"><span data-stu-id="edca3-194">Here is a sample of hello data retrieved:</span></span>

    {
      "id": "/subscriptions/bb678b04-0e48-4b44-XXXX-XXXXXXX/providers/Microsoft.Commerce/UsageAggregates/Daily_BRSDT_20150623_0000",
      "name": "Daily_BRSDT_20150623_0000",
      "type": "Microsoft.Commerce/UsageAggregate",
      "properties":
      {
        "subscriptionId": "bb678b04-0e48-4b44-XXXX-XXXXXXXXX",
        "usageStartTime": "2015-06-22T00:00:00+00:00",
        "usageEndTime": "2015-06-23T00:00:00+00:00",
        "meterName": "Compute Hours",
        "meterRegion": "",
        "meterCategory": "Virtual Machines",
        "meterSubCategory": "Standard_D1 VM (Non-Windows)",
        "unit": "Hours",
        "instanceData": "{\"Microsoft.Resources\":{\"resourceUri\":\"/subscriptions/bb678b04-0e48-4b44-XXXX-XXXXXXXX/resourceGroups/DEMOUSAGEAPI/providers/Microsoft.Compute/virtualMachines/MyDockerVM\",\"location\":\"eastus\",\"tags\":{\"Department\":\"Sales\",\"Project\":\"Demo Usage API\",\"Environment\":\"Test\",\"Owner\":\"RSE\"},\"additionalInfo\":{\"ImageType\":\"Canonical\",\"ServiceType\":\"Standard_D1\"}}}",
        "meterId": "e60caf26-9ba0-413d-a422-6141f58081d6",
        "infoFields": {},
        "quantity": 8

      },
    },


### <a name="import-data-from-hello-usage-api-into-cloud-cruiser"></a><span data-ttu-id="edca3-195">Umožňuje importovat data z hello využití rozhraní API do cloudu Cruiser</span><span class="sxs-lookup"><span data-stu-id="edca3-195">Import data from hello Usage API into Cloud Cruiser</span></span>
<span data-ttu-id="edca3-196">Sešity Cruiser cloudu poskytují automatizovaný způsob, jak toocollect a proces informace z hello využití rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="edca3-196">Cloud Cruiser workbooks provide an automated way toocollect and process information from hello Usage API.</span></span> <span data-ttu-id="edca3-197">Sešit aplikace ETL (extrakce zatížení transformace) vám umožní tooconfigure hello kolekce, transformaci a publikování dat do databáze cloudu Cruiser hello.</span><span class="sxs-lookup"><span data-stu-id="edca3-197">An ETL (extract-transform-load) workbook allows you tooconfigure hello collection, transformation, and publishing of data into hello Cloud Cruiser database.</span></span>

<span data-ttu-id="edca3-198">Každý sešit může mít jednu nebo více kolekcí.</span><span class="sxs-lookup"><span data-stu-id="edca3-198">Each workbook can have one or multiple collections.</span></span> <span data-ttu-id="edca3-199">To vám umožní toocorrelate informace z různých zdrojů toocomplement nebo posílení hello data o využití.</span><span class="sxs-lookup"><span data-stu-id="edca3-199">This allows you toocorrelate information from different sources toocomplement or augment hello usage data.</span></span> <span data-ttu-id="edca3-200">V tomto příkladu vytvoříme nový list v sešitu šablony Azure hello (*UsageAPI)* a nastavte novou *kolekce* tooimport informace z hello využití rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="edca3-200">For this example, we will create a new sheet in hello Azure template workbook (*UsageAPI)* and set a new *collection* tooimport information from hello Usage API.</span></span>

<span data-ttu-id="edca3-201">![Obrázek 3 - importovat do listu UsageAPI hello data o využití rozhraní API][12]</span><span class="sxs-lookup"><span data-stu-id="edca3-201">![Figure 3 - Usage API data imported into hello UsageAPI sheet][12]</span></span>

<span data-ttu-id="edca3-202">Všimněte si, že tento sešit už obsahuje jiné listů tooimport služeb z Azure (*ImportServices*) a zpracování informací o spotřebě hello z hello fakturace rozhraní API (*PublishData*).</span><span class="sxs-lookup"><span data-stu-id="edca3-202">Notice that this workbook already has other sheets tooimport services from Azure (*ImportServices*), and process hello consumption information from hello Billing API (*PublishData*).</span></span>

<span data-ttu-id="edca3-203">Vedle využijeme hello využití rozhraní API toopopulate hello *UsageAPI* list a correlate hello informace s hello datům o spotřebě z hello fakturace rozhraní API na hello *PublishData* listu.</span><span class="sxs-lookup"><span data-stu-id="edca3-203">Next we will use hello Usage API toopopulate hello *UsageAPI* sheet, and correlate hello information with hello consumption data from hello Billing API on hello *PublishData* sheet.</span></span>

### <a name="processing-hello-tag-information-from-hello-usage-api"></a><span data-ttu-id="edca3-204">Zpracování hello značky informací z hello využití rozhraní API</span><span class="sxs-lookup"><span data-stu-id="edca3-204">Processing hello tag information from hello Usage API</span></span>
<span data-ttu-id="edca3-205">Po importu hello dat do sešitu hello vytvoříme transformace kroky v hello *UsageAPI* listu v pořadí tooprocess hello informace z hello rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="edca3-205">After importing hello data into hello workbook, we will create transformation steps in hello *UsageAPI* sheet in order tooprocess hello information from hello API.</span></span> <span data-ttu-id="edca3-206">Prvním krokem je toouse "JSON rozdělení" hello tooextract procesoru značky v jednom poli a potom vytvořit pole pro každý jeden z nich (oddělení, projektů, vlastníka a prostředí).</span><span class="sxs-lookup"><span data-stu-id="edca3-206">First step is toouse a “JSON split” processor tooextract hello tags from a single field, then create fields for each one of them (Department, Project, Owner, and Environment).</span></span>

<span data-ttu-id="edca3-207">![Obrázek 4 – vytvořit nové pole hello značky informace][13]</span><span class="sxs-lookup"><span data-stu-id="edca3-207">![Figure 4 - Create new fields for hello tag information][13]</span></span>

<span data-ttu-id="edca3-208">Oznámení hello "Síť" služby chybí značka informace hello (žlutý pole), ale nemůžeme ověřit, že je součástí hello stejnou skupinu prostředků prohlížením hello *ResourceGroupName* pole.</span><span class="sxs-lookup"><span data-stu-id="edca3-208">Notice hello “Networking” service is missing hello tag information (yellow box), but we can verify that it is part of hello same Resource Group by looking at hello *ResourceGroupName* field.</span></span> <span data-ttu-id="edca3-209">Vzhledem k tomu, že máme hello značky pro hello další prostředky z této skupiny prostředků, můžeme použít tento hello tooapply informace, chybí prostředek toothis značky později v procesu hello.</span><span class="sxs-lookup"><span data-stu-id="edca3-209">Since we have hello tags for hello other resources from this Resource Group, we can use this information tooapply hello missing tags toothis resource later in hello process.</span></span>

<span data-ttu-id="edca3-210">Hello dalším krokem je toocreate a vyhledávací tabulky přiřadit hello informace z hello značky toohello *ResourceGroupName*.</span><span class="sxs-lookup"><span data-stu-id="edca3-210">hello next step is toocreate a lookup table associating hello information from hello tags toohello *ResourceGroupName*.</span></span> <span data-ttu-id="edca3-211">Tento vyhledávací tabulky se budou používat v hello další krok tooenrich hello datům o spotřebě s informacemi o značky.</span><span class="sxs-lookup"><span data-stu-id="edca3-211">This lookup table will be used on hello next step tooenrich hello consumption data with tag information.</span></span>

### <a name="adding-hello-tag-information-toohello-consumption-data"></a><span data-ttu-id="edca3-212">Přidání hello značky informace toohello spotřeby dat</span><span class="sxs-lookup"><span data-stu-id="edca3-212">Adding hello tag information toohello consumption data</span></span>
<span data-ttu-id="edca3-213">Nyní jsme přejít toohello *PublishData* seznamu vlastností, které procesy hello informací o spotřebě z hello fakturace rozhraní API a přidat hello pole extrahovat z hello značky.</span><span class="sxs-lookup"><span data-stu-id="edca3-213">Now we can jump toohello *PublishData* sheet, which processes hello consumption information from hello Billing API, and add hello fields extracted from hello tags.</span></span> <span data-ttu-id="edca3-214">Tento proces se provádí prohlížením hello vyhledávací tabulky vytvořili v předchozím kroku hello pomocí hello *ResourceGroupName* jako hello klíč k vyhledávání hello.</span><span class="sxs-lookup"><span data-stu-id="edca3-214">This process is performed by looking at hello lookup table created on hello previous step, using hello *ResourceGroupName* as hello key for hello lookups.</span></span>

<span data-ttu-id="edca3-215">![Obrázek 5 – naplnění struktura účtu hello hello informace z hledání hello][14]</span><span class="sxs-lookup"><span data-stu-id="edca3-215">![Figure 5 - Populating hello account structure with hello information from hello lookups][14]</span></span>

<span data-ttu-id="edca3-216">Všimněte si, že byly použity hello odpovídající účet struktura pole pro službu "Síť" hello, opravě hello problém s hello chybí značky.</span><span class="sxs-lookup"><span data-stu-id="edca3-216">Notice that hello appropriate account structure fields for hello “Networking” service were applied, fixing hello issue with hello missing tags.</span></span> <span data-ttu-id="edca3-217">Můžeme také naplněny hello účet struktura pole pro prostředky než naše cíle skupinu prostředků s "Ostatní", v pořadí toodifferentiate je na hello sestavy.</span><span class="sxs-lookup"><span data-stu-id="edca3-217">We also populated hello account structure fields for resources other than our target Resource Group with “Other”, in order toodifferentiate them on hello reports.</span></span>

<span data-ttu-id="edca3-218">Nyní potřebujeme jen tooadd krok toopublish hello využití dat.</span><span class="sxs-lookup"><span data-stu-id="edca3-218">Now we just need tooadd a step toopublish hello usage data.</span></span> <span data-ttu-id="edca3-219">Během tohoto kroku bude hello odpovídající sazby u každé služby definované v našich míra plánování informace o využití toohello použité, s hello výsledné poplatků načíst do databáze hello.</span><span class="sxs-lookup"><span data-stu-id="edca3-219">During this step, hello appropriate rates for each service defined on our Rate Plan will be applied toohello usage information, with hello resulting charge loaded into hello database.</span></span>

<span data-ttu-id="edca3-220">nejlepší část Hello je, že máte jenom toogo na tomto procesu jednou.</span><span class="sxs-lookup"><span data-stu-id="edca3-220">hello best part is that you only have toogo through this process once.</span></span> <span data-ttu-id="edca3-221">Po dokončení hello sešitu stačí tooadd ho toohello Plánovač a spustí hodinové nebo denní v hello naplánovaný čas.</span><span class="sxs-lookup"><span data-stu-id="edca3-221">When hello workbook is completed, you just need tooadd it toohello scheduler and it will run hourly or daily at hello scheduled time.</span></span> <span data-ttu-id="edca3-222">Potom ji stačí vytvoření nové sestavy, nebo přizpůsobení existujících, v pořadí tooanalyze hello data tooget smysluplné přehledy z použití cloudové.</span><span class="sxs-lookup"><span data-stu-id="edca3-222">Then it’s just a matter of creating new reports, or customizing existing ones, in order tooanalyze hello data tooget meaningful insights from your cloud usage.</span></span>

### <a name="next-steps"></a><span data-ttu-id="edca3-223">Další kroky</span><span class="sxs-lookup"><span data-stu-id="edca3-223">Next Steps</span></span>
* <span data-ttu-id="edca3-224">Pro podrobné pokyny k vytvoření cloudové Cruiser sešitů a sestav, naleznete je online tooCloud Cruiser [dokumentace](http://docs.cloudcruiser.com/) (vyžaduje se platné přihlášení).</span><span class="sxs-lookup"><span data-stu-id="edca3-224">For detailed instructions on creating Cloud Cruiser workbooks and reports, please refer tooCloud Cruiser’s online [documentation](http://docs.cloudcruiser.com/) (valid login required).</span></span>  <span data-ttu-id="edca3-225">Další informace o cloudu Cruiser, obraťte se na [ info@cloudcruiser.com ](mailto:info@cloudcruiser.com).</span><span class="sxs-lookup"><span data-stu-id="edca3-225">For more information about Cloud Cruiser, please contact [info@cloudcruiser.com](mailto:info@cloudcruiser.com).</span></span>
* <span data-ttu-id="edca3-226">V tématu [proniknout do vaší spotřeby prostředků Microsoft Azure](billing-usage-rate-card-overview.md) přehled hello využití prostředků Azure a rozhraní API RateCard.</span><span class="sxs-lookup"><span data-stu-id="edca3-226">See [Gain insights into your Microsoft Azure resource consumption](billing-usage-rate-card-overview.md) for an overview of hello Azure Resource Usage and RateCard APIs.</span></span>
* <span data-ttu-id="edca3-227">Podívejte se na hello [referenční dokumentace rozhraní API Azure fakturace REST](https://msdn.microsoft.com/library/azure/1ea5b323-54bb-423d-916f-190de96c6a3c) Další informace o obou rozhraní API, které jsou součástí hello sadu rozhraní API poskytovaných hello Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="edca3-227">Check out hello [Azure Billing REST API Reference](https://msdn.microsoft.com/library/azure/1ea5b323-54bb-423d-916f-190de96c6a3c) for more information on both APIs, which are part of hello set of APIs provided by hello Azure Resource Manager.</span></span>
* <span data-ttu-id="edca3-228">Pokud chcete toodive přímo do hello ukázkový kód, podívejte se na naše Microsoft Azure Billing API ukázky kódu na [ukázky kódu Azure](https://azure.microsoft.com/documentation/samples/?term=billing).</span><span class="sxs-lookup"><span data-stu-id="edca3-228">If you would like toodive right into hello sample code, check out our Microsoft Azure Billing API Code Samples on [Azure Code Samples](https://azure.microsoft.com/documentation/samples/?term=billing).</span></span>

### <a name="learn-more"></a><span data-ttu-id="edca3-229">Další informace</span><span class="sxs-lookup"><span data-stu-id="edca3-229">Learn More</span></span>
* <span data-ttu-id="edca3-230">V tématu hello [přehled Azure Resource Manageru](../azure-resource-manager/resource-group-overview.md) článku toolearn více informací o hello Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="edca3-230">See hello [Azure Resource Manager Overview](../azure-resource-manager/resource-group-overview.md) article toolearn more about hello Azure Resource Manager.</span></span>

<!--Image references-->

[1]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/Create-New-Workbook-Collection.png "Obrázek 1 – Vytvoření nové kolekce"
[2]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/Import-Data-From-RateCard.png "Obrázek 2 – importovat data z nové kolekce hello"
[3]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/Transformation-Steps-Process-RateCard-Data.png "Obrázek 3 - transformace kroky tooprocess shromažďovat data z rozhraní API RateCard"
[4]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/Publish-RateCard-Data-New-Services-Rates.png "Obrázek 4 – publikování hello data z hello RateCard API jako nové služby a sazby"
[5]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/Verify-Azure-Services-And-Pricing1.png "Obrázek 5 – ověření hello nových služeb"
[6]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/Verify-Azure-Services-And-Pricing2.png "Obrázek 6 – ověření hello nový plán rychlost a přidružené sazby"
[7]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/Transforming-WAP-Normalize-Services.png "Obrázek 7: transformace WAP datové toonormalize služby"
[8]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/Workbook-Scheduling.png "Obrázek 8 - sešitu plánování"
[9]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/Workload-Cost-Simulation-Report.png "Obrázek 9 – ukázková sestava pro scénář porovnání náklady zatížení hello"
[10]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/1_ReportWithTags.png "Obrázek 10 - sestava s členění pomocí značek"
[11]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/2_ResourceGroupsWithTags.png "Obrázek 11 – skupina prostředků se přidružených značek na portálu Azure"
[12]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/3_ImportIntoUsageAPISheet.png "Obrázek 12 - importovat do listu UsageAPI hello data o využití rozhraní API"
[13]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/4_NewTagField.png "Obrázek 13 – vytvořit nové pole hello značky informace"
[14]: ./media/billing-usage-rate-card-partner-solution-cloudcruiser/5_PopulateAccountStructure.png "Obrázek 14 - naplnění struktura účtu hello hello informace z hledání hello"
