---
title: "Osvědčené postupy zabezpečení databáze Azure | Microsoft Docs"
description: "Tento článek obsahuje sadu osvědčené postupy pro zabezpečení databáze Azure."
services: security
documentationcenter: na
author: unifycloud
manager: swadhwa
editor: tomsh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 07/21/2017
ms.author: tomsh
ms.openlocfilehash: 5bd6fe0dd369b3bbc7ca0d697c964badda557cb8
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/03/2017
---
# <a name="azure-database-security-best-practices"></a><span data-ttu-id="09518-103">Osvědčené postupy zabezpečení databáze Azure</span><span class="sxs-lookup"><span data-stu-id="09518-103">Azure database security best practices</span></span>

<span data-ttu-id="09518-104">Zabezpečení je velmi důležité při správě databáze a byla vždy prioritu pro Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="09518-104">Security is a top concern when managing databases, and it has always been a priority for Azure SQL Database.</span></span> <span data-ttu-id="09518-105">Vaše databáze mohly být zabezpečeny úzce pomohou uspokojení nejvíce zákonných nebo požadavky na zabezpečení, mimo jiné včetně HIPAA, ISO 27001/27002 a PCI DSS úrovně 1.</span><span class="sxs-lookup"><span data-stu-id="09518-105">Your databases can be tightly secured to help satisfy most regulatory or security requirements, including HIPAA, ISO 27001/27002, and PCI DSS Level 1, among others.</span></span> <span data-ttu-id="09518-106">Aktuální seznam certifikace dodržování předpisů zabezpečení je k dispozici na [Microsoft Trust Center lokality](http://azure.microsoft.com/support/trust-center/services/).</span><span class="sxs-lookup"><span data-stu-id="09518-106">A current list of security compliance certifications is available at the [Microsoft Trust Center site](http://azure.microsoft.com/support/trust-center/services/).</span></span> <span data-ttu-id="09518-107">Můžete taky umístit vaše databáze v konkrétní datových centrech Azure na základě zákonných požadavků.</span><span class="sxs-lookup"><span data-stu-id="09518-107">You also can choose to place your databases in specific Azure datacenters based on regulatory requirements.</span></span>

<span data-ttu-id="09518-108">V tomto článku se budeme zabývat kolekce osvědčené postupy zabezpečení databáze Azure.</span><span class="sxs-lookup"><span data-stu-id="09518-108">In this article, we will discuss a collection of Azure database security best practices.</span></span> <span data-ttu-id="09518-109">Tyto doporučené postupy jsou odvozeny od našich zkušeností s zabezpečení databáze Azure a prostředí zákazníků, jako sami.</span><span class="sxs-lookup"><span data-stu-id="09518-109">These best practices are derived from our experience with Azure database security and the experiences of customers like yourself.</span></span>

<span data-ttu-id="09518-110">Pro každý osvědčený postup objasníme:</span><span class="sxs-lookup"><span data-stu-id="09518-110">For each best practice, we explain:</span></span>

-   <span data-ttu-id="09518-111">Co je osvědčeným postupem</span><span class="sxs-lookup"><span data-stu-id="09518-111">What the best practice is</span></span>
-   <span data-ttu-id="09518-112">Proč chcete povolit tento osvědčený postup</span><span class="sxs-lookup"><span data-stu-id="09518-112">Why you want to enable that best practice</span></span>
-   <span data-ttu-id="09518-113">Pokud se nepodaří povolit osvědčený postup, co může být výsledkem</span><span class="sxs-lookup"><span data-stu-id="09518-113">What might be the result if you fail to enable the best practice</span></span>
-   <span data-ttu-id="09518-114">Jak můžete informace o povolení osvědčený postup</span><span class="sxs-lookup"><span data-stu-id="09518-114">How you can learn to enable the best practice</span></span>

<span data-ttu-id="09518-115">Tento článek osvědčené postupy zabezpečení databáze Azure je založený na konsenzu stanovisko a možnostech platformy Azure a nastaví funkce, které jsou v době, kdy byla zapsána v tomto článku.</span><span class="sxs-lookup"><span data-stu-id="09518-115">This Azure Database Security Best Practices article is based on a consensus opinion and Azure platform capabilities and feature sets as they exist at the time this article was written.</span></span> <span data-ttu-id="09518-116">Názory a technologie v průběhu času mění a v tomto článku budeme je aktualizovat v pravidelných intervalech, aby odrážela tyto změny.</span><span class="sxs-lookup"><span data-stu-id="09518-116">Opinions and technologies change over time and this article will be updated on a regular basis to reflect those changes.</span></span>

<span data-ttu-id="09518-117">Osvědčené postupy pro databáze Azure zabezpečení popsané v tomto článku patří:</span><span class="sxs-lookup"><span data-stu-id="09518-117">Azure database security best practices discussed in this article include:</span></span>

-   <span data-ttu-id="09518-118">Pomocí pravidel brány firewall můžete omezit přístup k databázi</span><span class="sxs-lookup"><span data-stu-id="09518-118">Use firewall rules to restrict database access</span></span>
-   <span data-ttu-id="09518-119">Povolit ověřování databáze</span><span class="sxs-lookup"><span data-stu-id="09518-119">Enable database authentication</span></span>
-   <span data-ttu-id="09518-120">Chraňte svá data pomocí šifrování</span><span class="sxs-lookup"><span data-stu-id="09518-120">Protect your data using encryption</span></span>
-   <span data-ttu-id="09518-121">Ochranu přenášených dat</span><span class="sxs-lookup"><span data-stu-id="09518-121">Protect data in transit</span></span>
-   <span data-ttu-id="09518-122">Povolit auditování databáze</span><span class="sxs-lookup"><span data-stu-id="09518-122">Enable database auditing</span></span>
-   <span data-ttu-id="09518-123">Povolení detekce hrozeb databáze</span><span class="sxs-lookup"><span data-stu-id="09518-123">Enable database threat detection</span></span>


## <a name="use-firewall-rules-to-restrict-database-access"></a><span data-ttu-id="09518-124">Pomocí pravidel brány firewall můžete omezit přístup k databázi</span><span class="sxs-lookup"><span data-stu-id="09518-124">Use firewall rules to restrict database access</span></span>

<span data-ttu-id="09518-125">Microsoft Azure SQL Database poskytuje relační databázovou službu pro aplikace Azure a další internetové aplikace.</span><span class="sxs-lookup"><span data-stu-id="09518-125">Microsoft Azure SQL Database provides a relational database service for Azure and other Internet-based applications.</span></span> <span data-ttu-id="09518-126">Databáze SQL zajistit zabezpečení přístupu řídí přístup s pravidla brány firewall omezení podle IP adresy, ověřovací mechanismy, které by uživatelé museli prokázání své identity a autorizace mechanismy omezení uživatelů na konkrétní akce a data připojení.</span><span class="sxs-lookup"><span data-stu-id="09518-126">To provide access security, SQL Database controls access with firewall rules limiting connectivity by IP address, authentication mechanisms requiring users to prove their identity, and authorization mechanisms limiting users to specific actions and data.</span></span> <span data-ttu-id="09518-127">Brány firewall zabránit veškerý přístup k databázovému serveru, dokud nezadáte, které počítače mají oprávnění.</span><span class="sxs-lookup"><span data-stu-id="09518-127">Firewalls prevent all access to your database server until you specify which computers have permission.</span></span> <span data-ttu-id="09518-128">Brána firewall uděluje přístup k databázím v závislosti na zdrojové IP adrese každého požadavku.</span><span class="sxs-lookup"><span data-stu-id="09518-128">The firewall grants access to databases based on the originating IP address of each request.</span></span>

![Pravidla brány firewall](./media/azure-database-security-best-practices/azure-database-security-best-practices-Fig1.png)

<span data-ttu-id="09518-130">Služba Azure SQL Database je dostupná jenom prostřednictvím portu TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="09518-130">The Azure SQL Database service is only available through TCP port 1433.</span></span> <span data-ttu-id="09518-131">Pokud chcete z počítače získat přístup ke službě SQL Database, ověřte, že brána firewall vašeho klientského počítače umožňuje odchozí komunikaci TCP přes port TCP 1433.</span><span class="sxs-lookup"><span data-stu-id="09518-131">To access a SQL Database from your computer, ensure that your client computer firewall allows outgoing TCP communication on TCP port 1433.</span></span> <span data-ttu-id="09518-132">Pokud není skutečně potřeba pro jiné aplikace, blokovala příchozí připojení na portu TCP 1433 pomocí pravidel brány firewall.</span><span class="sxs-lookup"><span data-stu-id="09518-132">If not needed for other applications, block inbound connections on TCP port 1433 using firewall rules.</span></span>

<span data-ttu-id="09518-133">V rámci připojovacího procesu budou připojení virtuálních počítačů Azure přesměrována na jinou IP adresu a port, které jsou pro každou roli pracovního procesu jedinečné.</span><span class="sxs-lookup"><span data-stu-id="09518-133">As part of the connection process, connections from Azure virtual machines are redirected to a different IP address and port, unique for each worker role.</span></span> <span data-ttu-id="09518-134">Číslo portu je v rozsahu 11000 až 11999.</span><span class="sxs-lookup"><span data-stu-id="09518-134">The port number is in the range from 11000 to 11999.</span></span> <span data-ttu-id="09518-135">Další informace o portech TCP naleznete v tématu [porty nad rámec 1433 pro technologii ADO.NET 4.5 a SQL Database2](https://docs.microsoft.com/azure/sql-database/sql-database-develop-direct-route-ports-adonet-v12).</span><span class="sxs-lookup"><span data-stu-id="09518-135">For more information about TCP ports, see [Ports beyond 1433 for ADO.NET 4.5 and SQL Database2](https://docs.microsoft.com/azure/sql-database/sql-database-develop-direct-route-ports-adonet-v12).</span></span>

> [!Note]
> <span data-ttu-id="09518-136">Další informace o pravidlech brány firewall pro SQL Database najdete v tématu [Pravidla brány firewall služby SQL Database](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span><span class="sxs-lookup"><span data-stu-id="09518-136">For more information about firewall rules in SQL Database, see [SQL Database firewall rules](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span></span>

## <a name="enable-database-authentication"></a><span data-ttu-id="09518-137">Povolit ověřování databáze</span><span class="sxs-lookup"><span data-stu-id="09518-137">Enable database authentication</span></span>
<span data-ttu-id="09518-138">Databáze SQL podporuje dva typy ověřování, ověřování SQL a Azure Active Directory Authentication (ověřování Azure AD).</span><span class="sxs-lookup"><span data-stu-id="09518-138">SQL Database supports two types of authentication, SQL Authentication and Azure Active Directory Authentication (Azure AD Authentication).</span></span>

<span data-ttu-id="09518-139">**Ověřování SQL** se doporučuje v následujících případech:</span><span class="sxs-lookup"><span data-stu-id="09518-139">**SQL Authentication** is recommended in following cases:</span></span>

-   <span data-ttu-id="09518-140">To umožňuje SQL Azure pro podporu prostředí smíšený operačních systémech, kde všichni uživatelé nejsou ověřené doménou systému Windows.</span><span class="sxs-lookup"><span data-stu-id="09518-140">It allows SQL Azure to support environments with mixed operating systems, where all users are not authenticated by a Windows domain.</span></span>
-   <span data-ttu-id="09518-141">Umožňuje SQL Azure pro podporu starší aplikace a aplikace třetích stran, které vyžadují ověřování systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="09518-141">Allows SQL Azure to support older applications and applications provided by third parties that require SQL Server Authentication.</span></span>
-   <span data-ttu-id="09518-142">Umožňuje uživatelům připojit se z domén neznámý nebo nedůvěryhodný.</span><span class="sxs-lookup"><span data-stu-id="09518-142">Allows users to connect from unknown or untrusted domains.</span></span> <span data-ttu-id="09518-143">Například aplikace, kde Zákazníci zavedené připojení s přiřadit přihlášení serveru SQL pro příjem stav jejich objednávek.</span><span class="sxs-lookup"><span data-stu-id="09518-143">For instance, an application where established customers connect with assigned SQL Server logins to receive the status of their orders.</span></span>
-   <span data-ttu-id="09518-144">Umožňuje SQL Azure pro podporu webových aplikací, kde uživatelé vytvářet své vlastní identity.</span><span class="sxs-lookup"><span data-stu-id="09518-144">Allows SQL Azure to support Web-based applications where users create their own identities.</span></span>
-   <span data-ttu-id="09518-145">Umožňuje vývojářům softwaru k distribuci svých aplikacích pomocí hierarchie komplexní oprávnění podle známé a přednastavené přihlášení serveru SQL.</span><span class="sxs-lookup"><span data-stu-id="09518-145">Allows software developers to distribute their applications by using a complex permission hierarchy based on known, preset SQL Server logins.</span></span>

> [!Note]
> <span data-ttu-id="09518-146">Ověřování systému SQL Server však nelze použít bezpečnostní protokol Kerberos.</span><span class="sxs-lookup"><span data-stu-id="09518-146">However, SQL Server Authentication cannot use Kerberos security protocol.</span></span>

<span data-ttu-id="09518-147">Pokud používáte **ověřování SQL** musíte:</span><span class="sxs-lookup"><span data-stu-id="09518-147">If you use **SQL Authentication** you must:</span></span>

-   <span data-ttu-id="09518-148">Spravujte silné přihlašovací údaje.</span><span class="sxs-lookup"><span data-stu-id="09518-148">Manage the strong credentials yourself.</span></span>
-   <span data-ttu-id="09518-149">Ochranu přihlašovacích údajů v připojovacím řetězci.</span><span class="sxs-lookup"><span data-stu-id="09518-149">Protect the credentials in the connection string.</span></span>
-   <span data-ttu-id="09518-150">(Potenciálně) ochranu přihlašovacích údajů předaných přes síť z webového serveru do databáze.</span><span class="sxs-lookup"><span data-stu-id="09518-150">(Potentially) protect the credentials passed over the network from the Web server to the database.</span></span> <span data-ttu-id="09518-151">Další informace najdete v části [postupy: připojení k SQL serveru pomocí ověřování SQL v technologii ASP.NET 2.0](https://msdn.microsoft.com/library/ms998300.aspx).</span><span class="sxs-lookup"><span data-stu-id="09518-151">For more information see [how to: Connect to SQL Server Using SQL Authentication in ASP.NET 2.0](https://msdn.microsoft.com/library/ms998300.aspx).</span></span>

<span data-ttu-id="09518-152">**Ověřování Azure Active Directory** mechanismus připojit k Microsoft Azure SQL Database a [SQL Data Warehouse](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is) pomocí identit v Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="09518-152">**Azure Active Directory authentication** is a mechanism of connecting to Microsoft Azure SQL Database and [SQL Data Warehouse](https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-overview-what-is) by using identities in Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="09518-153">Při ověřování Azure AD můžete centrálně spravovat identity uživatelů, databáze a další služby Microsoftu v jednom centrálním místě.</span><span class="sxs-lookup"><span data-stu-id="09518-153">With Azure AD authentication, you can centrally manage the identities of database users and other Microsoft services in one central location.</span></span> <span data-ttu-id="09518-154">Centrální správa ID poskytuje jednotné místo pro správu uživatelů databáze a zjednodušuje správu oprávnění.</span><span class="sxs-lookup"><span data-stu-id="09518-154">Central ID management provides a single place to manage database users and simplifies permission management.</span></span> <span data-ttu-id="09518-155">Výhody patří:</span><span class="sxs-lookup"><span data-stu-id="09518-155">Benefits include the following:</span></span>

-   <span data-ttu-id="09518-156">Nabízí alternativu k ověřování serveru SQL Server.</span><span class="sxs-lookup"><span data-stu-id="09518-156">It provides an alternative to SQL Server authentication.</span></span>
-   <span data-ttu-id="09518-157">Pomáhá zastavit šíření identit uživatelů mezi servery databáze.</span><span class="sxs-lookup"><span data-stu-id="09518-157">Helps stop the proliferation of user identities across database servers.</span></span>
-   <span data-ttu-id="09518-158">Umožňuje otočení heslo na jednom místě.</span><span class="sxs-lookup"><span data-stu-id="09518-158">Allows password rotation in a single place.</span></span>
-   <span data-ttu-id="09518-159">Zákazníci můžete spravovat oprávnění databáze pomocí externí skupiny (AAD).</span><span class="sxs-lookup"><span data-stu-id="09518-159">Customers can manage database permissions using external (AAD) groups.</span></span>
-   <span data-ttu-id="09518-160">Ukládání hesel se může eliminovat tím, že umožňuje integrované ověřování systému Windows a jiných forem ověřování podporovaných službou Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="09518-160">It can eliminate storing passwords by enabling integrated Windows authentication and other forms of authentication supported by Azure Active Directory.</span></span>
-   <span data-ttu-id="09518-161">K ověření identity na úrovni databáze používá Azure AD authentication uživatele databáze s omezením.</span><span class="sxs-lookup"><span data-stu-id="09518-161">Azure AD authentication uses contained database users to authenticate identities at the database level.</span></span>
-   <span data-ttu-id="09518-162">Azure AD podporuje ověřování na základě tokenu pro aplikace, připojení k databázi SQL.</span><span class="sxs-lookup"><span data-stu-id="09518-162">Azure AD supports token-based authentication for applications connecting to SQL Database.</span></span>
-   <span data-ttu-id="09518-163">Ověřování služby Azure AD podporuje služby AD FS (federation domény) nebo ověřování nativní uživatele a heslo pro místní Azure Active Directory bez synchronizace domény.</span><span class="sxs-lookup"><span data-stu-id="09518-163">Azure AD authentication supports ADFS (domain federation) or native user/password authentication for a local Azure Active Directory without domain synchronization.</span></span>
-   <span data-ttu-id="09518-164">Azure AD podporuje připojení z SQL Server Management Studio, které používají Universal ověřování služby Active Directory, která zahrnuje Multi-Factor Authentication (MFA).</span><span class="sxs-lookup"><span data-stu-id="09518-164">Azure AD supports connections from SQL Server Management Studio that use Active Directory Universal Authentication, which includes Multi-Factor Authentication (MFA).</span></span> <span data-ttu-id="09518-165">Vícefaktorové ověřování zahrnuje silné ověřování s celou řadu možností snadno ověření – telefonní hovor, textová zpráva, čipové karty s PIN kód nebo oznámení mobilní aplikace.</span><span class="sxs-lookup"><span data-stu-id="09518-165">MFA includes strong authentication with a range of easy verification options — phone call, text message, smart cards with pin, or mobile app notification.</span></span> <span data-ttu-id="09518-166">Další informace najdete v tématu [SSMS podpora pro Azure AD MFA s SQL Database a SQL Data Warehouse](https://docs.microsoft.com/azure/sql-database/sql-database-ssms-mfa-authentication).</span><span class="sxs-lookup"><span data-stu-id="09518-166">For more information, see [SSMS support for Azure AD MFA with SQL Database and SQL Data Warehouse](https://docs.microsoft.com/azure/sql-database/sql-database-ssms-mfa-authentication).</span></span>

<span data-ttu-id="09518-167">Postup konfigurace obsahuje následující kroky konfigurace a použití ověřování Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="09518-167">The configuration steps include the following procedures to configure and use Azure Active Directory authentication.</span></span>

-   <span data-ttu-id="09518-168">Vytvořit a naplnit Azure AD.</span><span class="sxs-lookup"><span data-stu-id="09518-168">Create and populate Azure AD.</span></span>
-   <span data-ttu-id="09518-169">Volitelné: Přidružení nebo změňte služby active directory, který je aktuálně přidružena předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="09518-169">Optional: Associate or change the active directory that is currently associated with your    Azure Subscription.</span></span>
-   <span data-ttu-id="09518-170">Vytvoření správce Azure Active Directory pro server Azure SQL nebo [Azure SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span><span class="sxs-lookup"><span data-stu-id="09518-170">Create an Azure Active Directory administrator for Azure SQL server or [Azure SQL Data Warehouse](https://azure.microsoft.com/services/sql-data-warehouse/).</span></span>
- <span data-ttu-id="09518-171">Nakonfigurujte klientské počítače.</span><span class="sxs-lookup"><span data-stu-id="09518-171">Configure your client computers.</span></span>
-   <span data-ttu-id="09518-172">Vytvořte uživatele databáze s omezením ve vaší databázi namapované na Azure AD identity.</span><span class="sxs-lookup"><span data-stu-id="09518-172">Create contained database users in your database mapped to Azure AD identities.</span></span>
-   <span data-ttu-id="09518-173">Připojení k vaší databázi pomocí identit Azure AD.</span><span class="sxs-lookup"><span data-stu-id="09518-173">Connect to your database by using Azure AD identities.</span></span>

<span data-ttu-id="09518-174">Podrobnosti o informace můžete najít [zde](https://docs.microsoft.com/azure/sql-database/sql-database-aad-authentication).</span><span class="sxs-lookup"><span data-stu-id="09518-174">You can find details information [here](https://docs.microsoft.com/azure/sql-database/sql-database-aad-authentication).</span></span>

## <a name="protect-your-data-using-encryption"></a><span data-ttu-id="09518-175">Chraňte svá data pomocí šifrování</span><span class="sxs-lookup"><span data-stu-id="09518-175">Protect your data using encryption</span></span>

<span data-ttu-id="09518-176">[Azure SQL Database transparentní šifrování dat (šifrování TDE)](https://msdn.microsoft.com/library/dn948096.aspx) pomáhá chránit před ohrožením škodlivých aktivit provedením v reálném čase šifrování a dešifrování databáze, přidružených záloh a soubory protokolu transakcí v klidovém stavu bez nutnosti změny aplikace.</span><span class="sxs-lookup"><span data-stu-id="09518-176">[Azure SQL Database transparent data encryption (TDE)](https://msdn.microsoft.com/library/dn948096.aspx) helps protect against the threat of malicious activity by performing real-time encryption and decryption of the database, associated backups, and transaction log files at rest without requiring changes to the application.</span></span> <span data-ttu-id="09518-177">Šifrování TDE zašifruje úložiště celé databáze pomocí symetrický klíč s názvem šifrovací klíč databáze.</span><span class="sxs-lookup"><span data-stu-id="09518-177">TDE encrypts the storage of an entire database by using a symmetric key called the database encryption key.</span></span>

<span data-ttu-id="09518-178">I v případě, že šifrované celý úložiště, je velmi důležité šifrovat taky sama vaší databáze.</span><span class="sxs-lookup"><span data-stu-id="09518-178">Even when the entire storage is encrypted, it is very important to also encrypt your database itself.</span></span> <span data-ttu-id="09518-179">Toto je implementace obrany v hloubka přístupu, ochrany dat.</span><span class="sxs-lookup"><span data-stu-id="09518-179">This is an implementation of the defense in depth approach for data protection.</span></span> <span data-ttu-id="09518-180">Pokud používáte Azure SQL Database a chcete, chrání citlivá data, jako je například platebních karet nebo čísla sociálního pojištění, můžete šifrovat databáze s FIPS 140-2 ověřit 256bitová šifrování AES splňuje požadavky na mnoho oborových standardů (například HIPAA, PCI) .</span><span class="sxs-lookup"><span data-stu-id="09518-180">If you are using Azure SQL Database and wish to protect sensitive data such as credit card or social security numbers, you can encrypt databases with FIPS 140-2 validated 256 bit AES encryption which meets the requirements of many industry standards (e.g., HIPAA, PCI).</span></span>

<span data-ttu-id="09518-181">Je důležité si uvědomit, že soubory související s [vyrovnávací paměti rozšíření fondu (BPE)](https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension) nejsou šifrují, pokud databáze je zašifrovaná pomocí šifrování TDE.</span><span class="sxs-lookup"><span data-stu-id="09518-181">It’s important to understand that files related to [buffer pool extension (BPE)](https://docs.microsoft.com/sql/database-engine/configure-windows/buffer-pool-extension) are not encrypted when a database is encrypted using TDE.</span></span> <span data-ttu-id="09518-182">Je nutné použít nástroje šifrování na úrovni systému souborů, jako je [BitLocker](https://technet.microsoft.com/library/cc732774) nebo [systému souborů EFS (ENCRYPTING File System)](https://technet.microsoft.com/library/cc700811.aspx) pro BPE související soubory.</span><span class="sxs-lookup"><span data-stu-id="09518-182">You must use file system level encryption tools like [BitLocker](https://technet.microsoft.com/library/cc732774) or the [Encrypting File System (EFS)](https://technet.microsoft.com/library/cc700811.aspx) for BPE related files.</span></span>

<span data-ttu-id="09518-183">Od oprávněný uživatel, jako je zabezpečení správce nebo správce databáze měli přístup k datům, i v případě, že databáze je šifrován TDE, by navíc dodržíte následující doporučení:</span><span class="sxs-lookup"><span data-stu-id="09518-183">Since an authorized user such as a security administrator or a database administrator can access the data even if the database is encrypted with TDE, you should also follow the recommendations below:</span></span>

-   <span data-ttu-id="09518-184">Povolte ověřování SQL na úrovni databáze.</span><span class="sxs-lookup"><span data-stu-id="09518-184">Enable SQL authentication at the database level.</span></span>
-   <span data-ttu-id="09518-185">Ověřování pomocí služby Azure AD pomocí [role RBAC](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is).</span><span class="sxs-lookup"><span data-stu-id="09518-185">Use Azure AD authentication using [RBAC roles](https://docs.microsoft.com/azure/active-directory/role-based-access-control-what-is).</span></span>
-   <span data-ttu-id="09518-186">Uživatelé a aplikace by měla používat samostatné účty k ověření.</span><span class="sxs-lookup"><span data-stu-id="09518-186">Users and applications should use separate accounts to authenticate.</span></span> <span data-ttu-id="09518-187">Tímto způsobem můžete omezit oprávnění udělená uživatelům a aplikacím a snížení rizika škodlivých aktivit.</span><span class="sxs-lookup"><span data-stu-id="09518-187">This way you can limit the permissions granted to users and applications and reduce the risks of malicious activity.</span></span>
-   <span data-ttu-id="09518-188">Implementace zabezpečení na úrovni databáze pomocí pevné databázové role (například db_datareader nebo db_datawriter), nebo můžete vytvořit vlastní role pro vaši aplikaci udělit výslovná oprávnění k objektům vybrané databáze.</span><span class="sxs-lookup"><span data-stu-id="09518-188">Implement database-level security by using fixed database roles (such as db_datareader or db_datawriter), or you can create custom roles for your application to grant explicit permissions to selected database objects.</span></span>

<span data-ttu-id="09518-189">Existují i jiné možnosti šifrování dat:</span><span class="sxs-lookup"><span data-stu-id="09518-189">For other ways to encrypt your data, consider:</span></span>

-   <span data-ttu-id="09518-190">[Šifrování na úrovni buňky](https://msdn.microsoft.com/library/ms179331.aspx) umožňuje šifrovat určité sloupce nebo buňky dat pomocí různých šifrovacích klíčů.</span><span class="sxs-lookup"><span data-stu-id="09518-190">[Cell-level encryption](https://msdn.microsoft.com/library/ms179331.aspx) to encrypt specific columns or even cells of data with different encryption keys.</span></span>
-   <span data-ttu-id="09518-191">Šifrování používá pomocí funkce Always Encrypted: [vždy šifrována](https://msdn.microsoft.com/library/mt163865.aspx) umožňuje klientům šifrovat citlivá data uvnitř klientské aplikace a nikdy odhalit šifrovací klíče pro databázový stroj (SQL Database nebo SQL Server).</span><span class="sxs-lookup"><span data-stu-id="09518-191">Encryption in use using Always Encrypted: [Always Encrypted](https://msdn.microsoft.com/library/mt163865.aspx) allows clients to encrypt sensitive data inside client applications and never reveal the encryption keys to the Database Engine (SQL Database or SQL Server).</span></span> <span data-ttu-id="09518-192">V důsledku toho vždy šifrována zajišťuje oddělení mezi uživatelů, kteří vlastní data (a můžete ji zobrazit) a ty, kteří spravovat data (ale musí mít žádný přístup).</span><span class="sxs-lookup"><span data-stu-id="09518-192">As a result, Always Encrypted provides a separation between those who own the data (and can view it) and those who manage the data (but should have no access).</span></span>
-   <span data-ttu-id="09518-193">Pomocí zabezpečení na úrovni řádků: zabezpečení na úrovni řádků umožňuje zákazníkům k řízení přístupu na řádky v tabulce databáze na základě charakteristik uživatele provádění dotazu (například skupinu členství nebo provádění kontextu).</span><span class="sxs-lookup"><span data-stu-id="09518-193">Using Row-level security: Row-Level Security enables customers to control access to rows in a database table based on the characteristics of the user executing a query (e.g., group membership or execution context).</span></span> <span data-ttu-id="09518-194">Další informace najdete v tématu [Zabezpečení na úrovni řádku](https://msdn.microsoft.com/library/dn765131).</span><span class="sxs-lookup"><span data-stu-id="09518-194">For more information, see [Row-Level security](https://msdn.microsoft.com/library/dn765131).</span></span>

## <a name="protect-data-in-transit"></a><span data-ttu-id="09518-195">Ochranu přenášených dat</span><span class="sxs-lookup"><span data-stu-id="09518-195">Protect data in transit</span></span>
<span data-ttu-id="09518-196">Základní součástí strategie ochrany dat by měly být ochrany dat během přenosu.</span><span class="sxs-lookup"><span data-stu-id="09518-196">Protecting data in transit should be essential part of your data protection strategy.</span></span> <span data-ttu-id="09518-197">Vzhledem k tomu, že data bude přesunutí a zpět z mnoho míst, obecné doporučení je vždy používat protokoly SSL/TLS pro výměnu dat v různých umístěních.</span><span class="sxs-lookup"><span data-stu-id="09518-197">Since data will be moving back and forth from many locations, the general recommendation is that you always use SSL/TLS protocols to exchange data across different locations.</span></span> <span data-ttu-id="09518-198">V některých případech můžete chtít izolovat celý komunikační kanál mezi místní a cloudové infrastruktury pomocí virtuální privátní sítě (VPN).</span><span class="sxs-lookup"><span data-stu-id="09518-198">In some circumstances, you may want to isolate the entire communication channel between your on-premises and cloud infrastructure by using a virtual private network (VPN).</span></span>

<span data-ttu-id="09518-199">Pro přesun mezi vaší místní infrastruktury a Azure data měli byste zvážit příslušná bezpečnostní opatření, například HTTPS nebo VPN.</span><span class="sxs-lookup"><span data-stu-id="09518-199">For data moving between your on-premises infrastructure and Azure, you should consider appropriate safeguards such as HTTPS or VPN.</span></span>

<span data-ttu-id="09518-200">Organizace, které je potřeba zabezpečit přístup z více pracovní stanice nachází v místě k Azure, použijte [Azure site-to-site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-site-to-site-create).</span><span class="sxs-lookup"><span data-stu-id="09518-200">For organizations that need to secure access from multiple workstations located on-premises to Azure, use [Azure site-to-site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-site-to-site-create).</span></span>

<span data-ttu-id="09518-201">Organizace, které je potřeba zabezpečit přístup z jednotlivých pracovních stanicích nachází místní nebo mimo pracoviště do Azure, zvažte použití [Point-to-Site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-point-to-site-create).</span><span class="sxs-lookup"><span data-stu-id="09518-201">For organizations that need to secure access from individual workstations located on-premises or off-premises to Azure, consider using [Point-to-Site VPN](https://docs.microsoft.com/azure/vpn-gateway/vpn-gateway-point-to-site-create).</span></span>

<span data-ttu-id="09518-202">Větších datových sad se dají přesunout přes vyhrazené vysokorychlostní propojení WAN, jako [ExpressRoute](https://azure.microsoft.com/services/expressroute/).</span><span class="sxs-lookup"><span data-stu-id="09518-202">Larger data sets can be moved over a dedicated high-speed WAN link such as [ExpressRoute](https://azure.microsoft.com/services/expressroute/).</span></span> <span data-ttu-id="09518-203">Pokud chcete použít ExpressRoute, můžete také šifrování dat na úrovni aplikace pomocí [SSL/TLS](https://support.microsoft.com/kb/257591) nebo jiné protokoly pro zvýšení ochrany.</span><span class="sxs-lookup"><span data-stu-id="09518-203">If you choose to use ExpressRoute, you can also encrypt the data at the application-level using [SSL/TLS](https://support.microsoft.com/kb/257591) or other protocols for added protection.</span></span>

<span data-ttu-id="09518-204">Pokud jsou interakci s Azure Storage prostřednictvím portálu Azure, všechny transakce dojít přes HTTPS.</span><span class="sxs-lookup"><span data-stu-id="09518-204">If you are interacting with Azure Storage through the Azure Portal, all transactions occur via HTTPS.</span></span> <span data-ttu-id="09518-205">[Rozhraní API REST úložiště](https://msdn.microsoft.com/library/azure/dd179355.aspx) přes HTTPS můžete použít také pro interakci s [Azure Storage](https://azure.microsoft.com/services/storage/) a [Azure SQL Database](https://azure.microsoft.com/services/sql-database/).</span><span class="sxs-lookup"><span data-stu-id="09518-205">[Storage REST API](https://msdn.microsoft.com/library/azure/dd179355.aspx) over HTTPS can also be used to interact with [Azure Storage](https://azure.microsoft.com/services/storage/) and [Azure SQL Database](https://azure.microsoft.com/services/sql-database/).</span></span>

<span data-ttu-id="09518-206">Organizace, které se nepodařilo ochranu přenášených dat budou náchylnější pro [útokům man-in-the-middle](https://technet.microsoft.com/library/gg195821.aspx), [odposlouchávání](https://technet.microsoft.com/library/gg195641.aspx) a zneužití relace.</span><span class="sxs-lookup"><span data-stu-id="09518-206">Organizations that fail to protect data in transit are more susceptible for [man-in-the-middle attacks](https://technet.microsoft.com/library/gg195821.aspx), [eavesdropping](https://technet.microsoft.com/library/gg195641.aspx) and session hijacking.</span></span> <span data-ttu-id="09518-207">Prvním krokem při přístupu k důvěrných dat může být tyto útoky.</span><span class="sxs-lookup"><span data-stu-id="09518-207">These attacks can be the first step in gaining access to confidential data.</span></span>

<span data-ttu-id="09518-208">Další informace o Azure VPN možnost přečíst v článku [plánování a návrhu pro bránu VPN](https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-plan-design).</span><span class="sxs-lookup"><span data-stu-id="09518-208">To learn more about Azure VPN option by reading the article [Planning and design for VPN Gateway](https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-plan-design).</span></span>

## <a name="enable-database-auditing"></a><span data-ttu-id="09518-209">Povolit auditování databáze</span><span class="sxs-lookup"><span data-stu-id="09518-209">Enable database auditing</span></span>
<span data-ttu-id="09518-210">Auditování instanci databázového stroje SQL Server nebo jednotlivé databáze zahrnuje sledování a protokolování události na databázového stroje.</span><span class="sxs-lookup"><span data-stu-id="09518-210">Auditing an instance of the SQL Server Database Engine or an individual database involves tracking and logging events that occur on the Database Engine.</span></span> <span data-ttu-id="09518-211">SQL Server audit umožňuje vytvářet audity serveru, které může obsahovat specifikace auditu serveru pro události na úrovni serveru a specifikace auditu databáze pro databázi úroveň události.</span><span class="sxs-lookup"><span data-stu-id="09518-211">SQL Server audit lets you create server audits, which can contain server audit specifications for server level events, and database audit specifications for database level events.</span></span> <span data-ttu-id="09518-212">Auditované události lze zapsat do protokolů událostí nebo auditovat soubory.</span><span class="sxs-lookup"><span data-stu-id="09518-212">Audited events can be written to the event logs or to audit files.</span></span>

<span data-ttu-id="09518-213">Existuje několik úrovní auditování pro SQL Server, v závislosti na státní nebo standardy požadavky pro instalaci.</span><span class="sxs-lookup"><span data-stu-id="09518-213">There are several levels of auditing for SQL Server, depending on government or standards requirements for your installation.</span></span> <span data-ttu-id="09518-214">SQL Server Audit poskytuje nástroje a procesy, které je potřeba povolit, uložit a zobrazit audity na různé objekty serveru a databáze.</span><span class="sxs-lookup"><span data-stu-id="09518-214">SQL Server Audit provides the tools and processes you must have to enable, store, and view audits on various server and database objects.</span></span>

<span data-ttu-id="09518-215">[Auditování databáze SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-auditing) sleduje události databáze a zapisuje je do auditu protokolu ve vašem účtu úložiště Azure.</span><span class="sxs-lookup"><span data-stu-id="09518-215">[Azure SQL Database Auditing](https://docs.microsoft.com/azure/sql-database/sql-database-auditing) tracks database events and writes them to an audit log in your Azure Storage account.</span></span>

<span data-ttu-id="09518-216">Auditování pomáhá zajistit dodržování předpisů, porozumět databázové aktivitě a získat přehled o nesrovnalostech a anomáliích, které můžou značit problémy obchodního charakteru nebo vzbuzovat podezření na narušení zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="09518-216">Auditing can help you maintain regulatory compliance, understand database activity, and gain insight into discrepancies and anomalies that could indicate business concerns or suspected security violations.</span></span>

<span data-ttu-id="09518-217">Auditování umožňuje a zjednodušuje dodržování standardů dodržování předpisů, ale není zajistit dodržování předpisů.</span><span class="sxs-lookup"><span data-stu-id="09518-217">Auditing enables and facilitates adherence to compliance standards but doesn't guarantee compliance.</span></span>

<span data-ttu-id="09518-218">Další informace o auditování databáze a jak ji povolit, najdete v článku [povolit auditování a zjišťování hrozeb na serverech SQL v Azure Security Center](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span><span class="sxs-lookup"><span data-stu-id="09518-218">To learn more about database auditing and how to enable it, please read the article [Enable auditing and threat detection on SQL servers in Azure Security Center](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span></span>

## <a name="enable-database-threat-detection"></a><span data-ttu-id="09518-219">Povolení detekce hrozeb databáze</span><span class="sxs-lookup"><span data-stu-id="09518-219">Enable database threat detection</span></span>
<span data-ttu-id="09518-220">Detekce hrozeb SQL umožňuje zjistit a reagovat na potenciální hrozby, kdy k nim dojde tím, že poskytuje výstrahy zabezpečení na neobvyklé aktivity.</span><span class="sxs-lookup"><span data-stu-id="09518-220">SQL Threat Detection enables you to detect and respond to potential threats as they occur by providing security alerts on anomalous activities.</span></span> <span data-ttu-id="09518-221">Obdržíte výstrahu při databáze podezřelé aktivity, potenciální ohrožení zabezpečení a prostřednictvím injektáže SQL, jakož i nezvyklé databázové přístupové vzorce.</span><span class="sxs-lookup"><span data-stu-id="09518-221">You will receive an alert upon suspicious database activities, potential vulnerabilities, and SQL injection attacks, as well as anomalous database access patterns.</span></span> <span data-ttu-id="09518-222">Detekce hrozeb SQL výstrahy zadejte podrobnosti podezřelých aktivit a doporučujeme akce o tom, jak prozkoumat a zmírnit riziko.</span><span class="sxs-lookup"><span data-stu-id="09518-222">SQL Threat Detection alerts provide details of suspicious activity and recommend action on how to investigate and mitigate the threat.</span></span>

<span data-ttu-id="09518-223">Například Injektáž SQL je jedním z běžné problémy zabezpečení webových aplikací na Internetu, slouží k útokům na základě dat aplikace.</span><span class="sxs-lookup"><span data-stu-id="09518-223">For example, SQL injection is one of the common Web application security issues on the Internet, used to attack data-driven applications.</span></span> <span data-ttu-id="09518-224">Útočníci využít výhod ohrožení zabezpečení aplikace se zlými úmysly příkazy SQL, do pole pro zadání aplikací, vložit před nedodržením nebo upravovat data v databázi.</span><span class="sxs-lookup"><span data-stu-id="09518-224">Attackers take advantage of application vulnerabilities to inject malicious SQL statements into application entry fields, breaching or modifying data in the database.</span></span>

<span data-ttu-id="09518-225">Další informace o tom, jak nastavit detekce hrozeb pro vaše databáze v Azure portálu najdete, [detekce hrozeb databáze SQL](https://docs.microsoft.com/azure/sql-database/sql-database-threat-detection).</span><span class="sxs-lookup"><span data-stu-id="09518-225">To learn about how to set up threat detection for your database in the Azure portal see, [SQL Database Threat Detection](https://docs.microsoft.com/azure/sql-database/sql-database-threat-detection).</span></span>

<span data-ttu-id="09518-226">Kromě toho detekce hrozeb SQL integruje výstrahy s [Azure Security Center](https://azure.microsoft.com/services/security-center/).</span><span class="sxs-lookup"><span data-stu-id="09518-226">In addition, SQL Threat Detection integrates alerts with [Azure Security Center](https://azure.microsoft.com/services/security-center/).</span></span> <span data-ttu-id="09518-227">Zveme vás k bezplatnému vyzkoušení po dobu 60 dnů.</span><span class="sxs-lookup"><span data-stu-id="09518-227">We invite you to try it out for 60 days for free.</span></span>

<span data-ttu-id="09518-228">Další informace o databázi detekce hrozeb a jak ji povolit, najdete v článku [povolit auditování a zjišťování hrozeb na serverech SQL v Azure Security Center](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span><span class="sxs-lookup"><span data-stu-id="09518-228">To learn more about Database Threat Detection and how to enable it, please read the article [Enable auditing and threat detection on SQL servers in Azure Security Center](https://docs.microsoft.com/azure/security-center/security-center-enable-auditing-on-sql-servers).</span></span>

## <a name="conclusion"></a><span data-ttu-id="09518-229">Závěr</span><span class="sxs-lookup"><span data-stu-id="09518-229">Conclusion</span></span>
<span data-ttu-id="09518-230">Databáze Azure je platforma robustní databáze, s celou řadu funkcí zabezpečení, které splňují mnoho organizace i regulačních požadavků.</span><span class="sxs-lookup"><span data-stu-id="09518-230">Azure Database is a robust database platform, with a full range of security features that meet many organizational and regulatory compliance requirements.</span></span> <span data-ttu-id="09518-231">Vám může pomoct chránit data pomocí řízení fyzický přístup k datům a použití různých možností pro zabezpečení dat na soubor-, sloupec-, řádek úrovni nebo se transparentní šifrování dat, šifrování na úrovni buněk nebo zabezpečení na úrovni řádků.</span><span class="sxs-lookup"><span data-stu-id="09518-231">You can help protect data by controlling the physical access to your data, and using a variety of options for data security at the file-, column-, or row level with Transparent Data Encryption, Cell-Level Encryption, or Row-Level Security.</span></span> <span data-ttu-id="09518-232">Vždy šifrovaný také umožní operace proti šifrovaná data, zjednodušuje proces aktualizace aplikace.</span><span class="sxs-lookup"><span data-stu-id="09518-232">Always Encrypted also enables operations against encrypted data, simplifying the process of application updates.</span></span> <span data-ttu-id="09518-233">Přístup k auditování protokoly aktivity databáze SQL se pak poskytuje informace, které potřebujete, abyste mohli vědět, jak a kdy je přístup k datům.</span><span class="sxs-lookup"><span data-stu-id="09518-233">In turn, access to auditing logs of SQL Database activity provides you with the information you need, allowing you to know how and when data is accessed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="09518-234">Další kroky</span><span class="sxs-lookup"><span data-stu-id="09518-234">Next steps</span></span>
- <span data-ttu-id="09518-235">Další informace o pravidlech brány firewall najdete v tématu [pravidla brány Firewall](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span><span class="sxs-lookup"><span data-stu-id="09518-235">To learn more about firewall rules, see [Firewall rules](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure).</span></span>
- <span data-ttu-id="09518-236">Informace o uživateli a přihlašování najdete v tématu [Správa přihlašování](https://docs.microsoft.com/azure/sql-database/sql-database-manage-logins).</span><span class="sxs-lookup"><span data-stu-id="09518-236">To learn about users and logins, see [Manage logins](https://docs.microsoft.com/azure/sql-database/sql-database-manage-logins).</span></span>
- <span data-ttu-id="09518-237">Podívejte se kurz [zabezpečení vaší databázi SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-security-tutorial).</span><span class="sxs-lookup"><span data-stu-id="09518-237">For a tutorial, see [Secure your Azure SQL Database](https://docs.microsoft.com/azure/sql-database/sql-database-security-tutorial).</span></span>
