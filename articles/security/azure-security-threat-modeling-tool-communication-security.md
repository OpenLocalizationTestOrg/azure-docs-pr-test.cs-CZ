---
title: "aaaCommunication zabezpečení – Microsoft Threat modelování nástroj – Azure | Microsoft Docs"
description: "způsoby zmírnění hrozeb v hello nástroj modelování hrozeb"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 667829c75123f4dbe0b383fdaf8cd899802f9b16
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-communication-security--mitigations"></a><span data-ttu-id="5f96b-103">Zabezpečení rámce: Zabezpečení komunikace | Způsoby zmírnění rizik</span><span class="sxs-lookup"><span data-stu-id="5f96b-103">Security Frame: Communication Security | Mitigations</span></span> 
| <span data-ttu-id="5f96b-104">Produktům a službám</span><span class="sxs-lookup"><span data-stu-id="5f96b-104">Product/Service</span></span> | <span data-ttu-id="5f96b-105">Článek</span><span class="sxs-lookup"><span data-stu-id="5f96b-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="5f96b-106">**Centra událostí Azure**</span><span class="sxs-lookup"><span data-stu-id="5f96b-106">**Azure Event Hub**</span></span> | <ul><li>[<span data-ttu-id="5f96b-107">Zabezpečené komunikace tooEvent rozbočovač za použití protokolu SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="5f96b-107">Secure communication tooEvent Hub using SSL/TLS</span></span>](#comm-ssltls)</li></ul> |
| <span data-ttu-id="5f96b-108">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="5f96b-108">**Dynamics CRM**</span></span> | <ul><li>[<span data-ttu-id="5f96b-109">Zkontrolujte účet služby, oprávnění a zkontrolujte, zda text hello vlastní služby nebo stránek ASP.NET respektují CRM na zabezpečení</span><span class="sxs-lookup"><span data-stu-id="5f96b-109">Check service account privileges and check that hello custom Services or ASP.NET Pages respect CRM's security</span></span>](#priv-aspnet)</li></ul> |
| <span data-ttu-id="5f96b-110">**Azure Data Factory**</span><span class="sxs-lookup"><span data-stu-id="5f96b-110">**Azure Data Factory**</span></span> | <ul><li>[<span data-ttu-id="5f96b-111">Použití brány pro správu dat při připojování na místní systém SQL Server tooAzure objekt pro vytváření dat</span><span class="sxs-lookup"><span data-stu-id="5f96b-111">Use Data management gateway while connecting On Prem SQL Server tooAzure Data Factory</span></span>](#sqlserver-factory)</li></ul> |
| <span data-ttu-id="5f96b-112">**Serveru identit**</span><span class="sxs-lookup"><span data-stu-id="5f96b-112">**Identity Server**</span></span> | <ul><li>[<span data-ttu-id="5f96b-113">Zajistěte, aby všechny přenosy tooIdentity Server přes připojení HTTPS</span><span class="sxs-lookup"><span data-stu-id="5f96b-113">Ensure that all traffic tooIdentity Server is over HTTPS connection</span></span>](#identity-https)</li></ul> |
| <span data-ttu-id="5f96b-114">**Webové aplikace**</span><span class="sxs-lookup"><span data-stu-id="5f96b-114">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="5f96b-115">Ověřte, že připojení SSL, TLS a DTLS tooauthenticate používat certifikáty X.509</span><span class="sxs-lookup"><span data-stu-id="5f96b-115">Verify X.509 certificates used tooauthenticate SSL, TLS, and DTLS connections</span></span>](#x509-ssltls)</li><li>[<span data-ttu-id="5f96b-116">Nakonfigurovat certifikát SSL pro vlastní doménu, ve službě Azure App Service</span><span class="sxs-lookup"><span data-stu-id="5f96b-116">Configure SSL certificate for custom domain in Azure App Service</span></span>](#ssl-appservice)</li><li>[<span data-ttu-id="5f96b-117">Vynutit provoz tooAzure všechny služby App Service přes připojení HTTPS</span><span class="sxs-lookup"><span data-stu-id="5f96b-117">Force all traffic tooAzure App Service over HTTPS connection</span></span>](#appservice-https)</li><li>[<span data-ttu-id="5f96b-118">Povolit zabezpečení striktní přenosu HTTP (HSTS)</span><span class="sxs-lookup"><span data-stu-id="5f96b-118">Enable HTTP Strict Transport Security (HSTS)</span></span>](#http-hsts)</li></ul> |
| <span data-ttu-id="5f96b-119">**Database**</span><span class="sxs-lookup"><span data-stu-id="5f96b-119">**Database**</span></span> | <ul><li>[<span data-ttu-id="5f96b-120">Ujistěte se, SQL server šifrování a certifikát pro ověření platnosti připojení</span><span class="sxs-lookup"><span data-stu-id="5f96b-120">Ensure SQL server connection encryption and certificate validation</span></span>](#sqlserver-validation)</li><li>[<span data-ttu-id="5f96b-121">Vynutit zašifrovaná komunikace tooSQL serveru</span><span class="sxs-lookup"><span data-stu-id="5f96b-121">Force Encrypted communication tooSQL server</span></span>](#encrypted-sqlserver)</li></ul> |
| <span data-ttu-id="5f96b-122">**Azure Storage**</span><span class="sxs-lookup"><span data-stu-id="5f96b-122">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="5f96b-123">Ujistěte se, že komunikace tooAzure úložiště je přes protokol HTTPS</span><span class="sxs-lookup"><span data-stu-id="5f96b-123">Ensure that communication tooAzure Storage is over HTTPS</span></span>](#comm-storage)</li><li>[<span data-ttu-id="5f96b-124">Ověřit hodnotu hash MD5 po stažení objektů blob, pokud nelze povolit protokol HTTPS</span><span class="sxs-lookup"><span data-stu-id="5f96b-124">Validate MD5 hash after downloading blob if HTTPS cannot be enabled</span></span>](#md5-https)</li><li>[<span data-ttu-id="5f96b-125">Použití protokolu SMB 3.0 kompatibilní klient tooensure během přenosu dat šifrování tooAzure sdílené složky</span><span class="sxs-lookup"><span data-stu-id="5f96b-125">Use SMB 3.0 compatible client tooensure in-transit data encryption tooAzure File Shares</span></span>](#smb-shares)</li></ul> |
| <span data-ttu-id="5f96b-126">**Mobilního klienta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-126">**Mobile Client**</span></span> | <ul><li>[<span data-ttu-id="5f96b-127">Implementace Připnutí certifikátu</span><span class="sxs-lookup"><span data-stu-id="5f96b-127">Implement Certificate Pinning</span></span>](#cert-pinning)</li></ul> |
| <span data-ttu-id="5f96b-128">**WCF**</span><span class="sxs-lookup"><span data-stu-id="5f96b-128">**WCF**</span></span> | <ul><li>[<span data-ttu-id="5f96b-129">Povolit protokol HTTPS – zabezpečený kanál přenosu</span><span class="sxs-lookup"><span data-stu-id="5f96b-129">Enable HTTPS - Secure Transport channel</span></span>](#https-transport)</li><li>[<span data-ttu-id="5f96b-130">WCF: TooEncryptAndSign úrovně zabezpečení ochrany sadu zpráv</span><span class="sxs-lookup"><span data-stu-id="5f96b-130">WCF: Set Message security Protection level tooEncryptAndSign</span></span>](#message-protection)</li><li>[<span data-ttu-id="5f96b-131">WCF: Použijte toorun nejméně privilegovaným účtem služby WCF</span><span class="sxs-lookup"><span data-stu-id="5f96b-131">WCF: Use a least-privileged account toorun your WCF service</span></span>](#least-account-wcf)</li></ul> |
| <span data-ttu-id="5f96b-132">**Webové rozhraní API**</span><span class="sxs-lookup"><span data-stu-id="5f96b-132">**Web API**</span></span> | <ul><li>[<span data-ttu-id="5f96b-133">Vynutit provoz tooWeb všechny rozhraní API přes připojení HTTPS</span><span class="sxs-lookup"><span data-stu-id="5f96b-133">Force all traffic tooWeb APIs over HTTPS connection</span></span>](#webapi-https)</li></ul> |
| <span data-ttu-id="5f96b-134">**Azure Redis Cache**</span><span class="sxs-lookup"><span data-stu-id="5f96b-134">**Azure Redis Cache**</span></span> | <ul><li>[<span data-ttu-id="5f96b-135">Ujistěte se, že komunikace tooAzure Redis Cache je přes protokol SSL</span><span class="sxs-lookup"><span data-stu-id="5f96b-135">Ensure that communication tooAzure Redis Cache is over SSL</span></span>](#redis-ssl)</li></ul> |
| <span data-ttu-id="5f96b-136">**Brána pole IoT**</span><span class="sxs-lookup"><span data-stu-id="5f96b-136">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="5f96b-137">Zabezpečení komunikace brány tooField zařízení</span><span class="sxs-lookup"><span data-stu-id="5f96b-137">Secure Device tooField Gateway communication</span></span>](#device-field)</li></ul> |
| <span data-ttu-id="5f96b-138">**Brána IoT cloudu**</span><span class="sxs-lookup"><span data-stu-id="5f96b-138">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="5f96b-139">Zabezpečení tooCloud zařízení brány komunikaci pomocí protokolu SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="5f96b-139">Secure Device tooCloud Gateway communication using SSL/TLS</span></span>](#device-cloud)</li></ul> |

## <span data-ttu-id="5f96b-140"><a id="comm-ssltls"></a>Zabezpečené komunikace tooEvent rozbočovač za použití protokolu SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="5f96b-140"><a id="comm-ssltls"></a>Secure communication tooEvent Hub using SSL/TLS</span></span>

| <span data-ttu-id="5f96b-141">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-141">Title</span></span>                   | <span data-ttu-id="5f96b-142">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-142">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-143">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-143">**Component**</span></span>               | <span data-ttu-id="5f96b-144">Centra událostí Azure</span><span class="sxs-lookup"><span data-stu-id="5f96b-144">Azure Event Hub</span></span> | 
| <span data-ttu-id="5f96b-145">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-145">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-146">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-146">Build</span></span> |  
| <span data-ttu-id="5f96b-147">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-147">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-148">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-148">Generic</span></span> |
| <span data-ttu-id="5f96b-149">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-149">**Attributes**</span></span>              | <span data-ttu-id="5f96b-150">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-150">N/A</span></span>  |
| <span data-ttu-id="5f96b-151">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-151">**References**</span></span>              | [<span data-ttu-id="5f96b-152">Ověřování a zabezpečení modelu přehled služby Event Hubs</span><span class="sxs-lookup"><span data-stu-id="5f96b-152">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="5f96b-153">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-153">**Steps**</span></span> | <span data-ttu-id="5f96b-154">Zabezpečený protokol AMQP nebo HTTP připojení tooEvent rozbočovač za použití protokolu SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="5f96b-154">Secure AMQP or HTTP connections tooEvent Hub using SSL/TLS</span></span> |

## <span data-ttu-id="5f96b-155"><a id="priv-aspnet"></a>Zkontrolujte účet služby, oprávnění a zkontrolujte, zda text hello vlastní služby nebo stránek ASP.NET respektují CRM na zabezpečení</span><span class="sxs-lookup"><span data-stu-id="5f96b-155"><a id="priv-aspnet"></a>Check service account privileges and check that hello custom Services or ASP.NET Pages respect CRM's security</span></span>

| <span data-ttu-id="5f96b-156">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-156">Title</span></span>                   | <span data-ttu-id="5f96b-157">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-157">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-158">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-158">**Component**</span></span>               | <span data-ttu-id="5f96b-159">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="5f96b-159">Dynamics CRM</span></span> | 
| <span data-ttu-id="5f96b-160">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-160">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-161">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-161">Build</span></span> |  
| <span data-ttu-id="5f96b-162">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-162">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-163">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-163">Generic</span></span> |
| <span data-ttu-id="5f96b-164">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-164">**Attributes**</span></span>              | <span data-ttu-id="5f96b-165">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-165">N/A</span></span>  |
| <span data-ttu-id="5f96b-166">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-166">**References**</span></span>              | <span data-ttu-id="5f96b-167">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-167">N/A</span></span>  |
| <span data-ttu-id="5f96b-168">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-168">**Steps**</span></span> | <span data-ttu-id="5f96b-169">Zkontrolujte účet služby, oprávnění a zkontrolujte, zda text hello vlastní služby nebo stránek ASP.NET respektují CRM na zabezpečení</span><span class="sxs-lookup"><span data-stu-id="5f96b-169">Check service account privileges and check that hello custom Services or ASP.NET Pages respect CRM's security</span></span> |

## <span data-ttu-id="5f96b-170"><a id="sqlserver-factory"></a>Použití brány pro správu dat při připojování na místní systém SQL Server tooAzure objekt pro vytváření dat</span><span class="sxs-lookup"><span data-stu-id="5f96b-170"><a id="sqlserver-factory"></a>Use Data management gateway while connecting On Prem SQL Server tooAzure Data Factory</span></span>

| <span data-ttu-id="5f96b-171">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-171">Title</span></span>                   | <span data-ttu-id="5f96b-172">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-172">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-173">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-173">**Component**</span></span>               | <span data-ttu-id="5f96b-174">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="5f96b-174">Azure Data Factory</span></span> | 
| <span data-ttu-id="5f96b-175">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-175">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-176">Nasazení</span><span class="sxs-lookup"><span data-stu-id="5f96b-176">Deployment</span></span> |  
| <span data-ttu-id="5f96b-177">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-177">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-178">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-178">Generic</span></span> |
| <span data-ttu-id="5f96b-179">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-179">**Attributes**</span></span>              | <span data-ttu-id="5f96b-180">Typy propojené služby - Azure a místním</span><span class="sxs-lookup"><span data-stu-id="5f96b-180">Linked Service Types - Azure and On Prem</span></span> |
| <span data-ttu-id="5f96b-181">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-181">**References**</span></span>              |<span data-ttu-id="5f96b-182">[Přesun dat mezi místní ve a Azure Data Factory](https://azure.microsoft.com/documentation/articles/data-factory-move-data-between-onprem-and-cloud/#create-gateway), [Brána pro správu dat](https://azure.microsoft.com/documentation/articles/data-factory-data-management-gateway/)</span><span class="sxs-lookup"><span data-stu-id="5f96b-182">[ Moving data between On Prem and Azure Data Factory](https://azure.microsoft.com/documentation/articles/data-factory-move-data-between-onprem-and-cloud/#create-gateway), [Data management gateway](https://azure.microsoft.com/documentation/articles/data-factory-data-management-gateway/)</span></span> |
| <span data-ttu-id="5f96b-183">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-183">**Steps**</span></span> | <p><span data-ttu-id="5f96b-184">Nástroj Data Management Gateway (DMG) Hello je požadovaná tooconnect toodata zdroje, které jsou chráněné za corpnet nebo brána firewall.</span><span class="sxs-lookup"><span data-stu-id="5f96b-184">hello Data Management Gateway (DMG) tool is required tooconnect toodata sources which are protected behind corpnet or a firewall.</span></span></p><ol><li><span data-ttu-id="5f96b-185">Uzamčení počítače hello izoluje hello DMG nástroj a zabrání chybně fungující programy z poškození nebo sledování na zdrojovém počítači hello data.</span><span class="sxs-lookup"><span data-stu-id="5f96b-185">Locking down hello machine isolates hello DMG tool and prevents malfunctioning programs from damaging or snooping on hello data source machine.</span></span> <span data-ttu-id="5f96b-186">(Např.)</span><span class="sxs-lookup"><span data-stu-id="5f96b-186">(E.g.</span></span> <span data-ttu-id="5f96b-187">musí být nainstalované nejnovější aktualizace, povolit minimální požadované porty řízené účty zřizování a auditování povolené, disku povolené šifrování atd.)</span><span class="sxs-lookup"><span data-stu-id="5f96b-187">latest updates must be installed, enable minimum required ports, controlled accounts provisioning, auditing enabled, disk encryption enabled etc.)</span></span></li><li><span data-ttu-id="5f96b-188">V pravidelných intervalech, nebo vždy, když heslo účtu služby DMG hello obnovuje se musí otočit klíč brány dat</span><span class="sxs-lookup"><span data-stu-id="5f96b-188">Data Gateway key must be rotated at frequent intervals or whenever hello DMG service account password renews</span></span></li><li><span data-ttu-id="5f96b-189">Data tranzitů přes odkaz služby musí být šifrovaný.</span><span class="sxs-lookup"><span data-stu-id="5f96b-189">Data transits through Link Service must be encrypted</span></span></li></ol> |

## <span data-ttu-id="5f96b-190"><a id="identity-https"></a>Zajistěte, aby všechny přenosy tooIdentity Server přes připojení HTTPS</span><span class="sxs-lookup"><span data-stu-id="5f96b-190"><a id="identity-https"></a>Ensure that all traffic tooIdentity Server is over HTTPS connection</span></span>

| <span data-ttu-id="5f96b-191">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-191">Title</span></span>                   | <span data-ttu-id="5f96b-192">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-192">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-193">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-193">**Component**</span></span>               | <span data-ttu-id="5f96b-194">Serveru identit</span><span class="sxs-lookup"><span data-stu-id="5f96b-194">Identity Server</span></span> | 
| <span data-ttu-id="5f96b-195">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-195">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-196">Nasazení</span><span class="sxs-lookup"><span data-stu-id="5f96b-196">Deployment</span></span> |  
| <span data-ttu-id="5f96b-197">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-197">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-198">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-198">Generic</span></span> |
| <span data-ttu-id="5f96b-199">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-199">**Attributes**</span></span>              | <span data-ttu-id="5f96b-200">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-200">N/A</span></span>  |
| <span data-ttu-id="5f96b-201">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-201">**References**</span></span>              | <span data-ttu-id="5f96b-202">[IdentityServer3 - klíčů, podpisů a šifrování](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html), [IdentityServer3 – nasazení](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html)</span><span class="sxs-lookup"><span data-stu-id="5f96b-202">[IdentityServer3 - Keys, Signatures and Cryptography](https://identityserver.github.io/Documentation/docsv2/configuration/crypto.html), [IdentityServer3 - Deployment](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html)</span></span> |
| <span data-ttu-id="5f96b-203">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-203">**Steps**</span></span> | <span data-ttu-id="5f96b-204">Ve výchozím nastavení vyžaduje IdentityServer toocome všechna příchozí připojení přes protokol HTTPS.</span><span class="sxs-lookup"><span data-stu-id="5f96b-204">By default, IdentityServer requires all incoming connections toocome over HTTPS.</span></span> <span data-ttu-id="5f96b-205">Je absolutně povinné, že komunikace s IdentityServer probíhá přes pouze zabezpečené přenosy.</span><span class="sxs-lookup"><span data-stu-id="5f96b-205">It is absolutely mandatory that communication with IdentityServer is done over secured transports only.</span></span> <span data-ttu-id="5f96b-206">Existují určité scénáře nasazení jako snižování zátěže protokolu SSL kde můžete zmírnit tento požadavek.</span><span class="sxs-lookup"><span data-stu-id="5f96b-206">There are certain deployment scenarios like SSL offloading where this requirement can be relaxed.</span></span> <span data-ttu-id="5f96b-207">Zobrazit stránka nasazení serveru identit hello v hello odkazy na další informace.</span><span class="sxs-lookup"><span data-stu-id="5f96b-207">See hello Identity Server deployment page in hello references for more information.</span></span> |

## <span data-ttu-id="5f96b-208"><a id="x509-ssltls"></a>Ověřte, že připojení SSL, TLS a DTLS tooauthenticate používat certifikáty X.509</span><span class="sxs-lookup"><span data-stu-id="5f96b-208"><a id="x509-ssltls"></a>Verify X.509 certificates used tooauthenticate SSL, TLS, and DTLS connections</span></span>

| <span data-ttu-id="5f96b-209">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-209">Title</span></span>                   | <span data-ttu-id="5f96b-210">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-210">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-211">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-211">**Component**</span></span>               | <span data-ttu-id="5f96b-212">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="5f96b-212">Web Application</span></span> | 
| <span data-ttu-id="5f96b-213">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-213">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-214">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-214">Build</span></span> |  
| <span data-ttu-id="5f96b-215">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-215">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-216">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-216">Generic</span></span> |
| <span data-ttu-id="5f96b-217">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-217">**Attributes**</span></span>              | <span data-ttu-id="5f96b-218">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-218">N/A</span></span>  |
| <span data-ttu-id="5f96b-219">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-219">**References**</span></span>              | <span data-ttu-id="5f96b-220">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-220">N/A</span></span>  |
| <span data-ttu-id="5f96b-221">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-221">**Steps**</span></span> | <p><span data-ttu-id="5f96b-222">Aplikace, které používají protokol SSL, TLS a DTLS musí plně ověření certifikátů X.509 hello hello entit, ke kterým se připojují k.</span><span class="sxs-lookup"><span data-stu-id="5f96b-222">Applications that use SSL, TLS, or DTLS must fully verify hello X.509 certificates of hello entities they connect to.</span></span> <span data-ttu-id="5f96b-223">To zahrnuje hello certifikáty pro ověření:</span><span class="sxs-lookup"><span data-stu-id="5f96b-223">This includes verification of hello certificates for:</span></span></p><ul><li><span data-ttu-id="5f96b-224">Název domény</span><span class="sxs-lookup"><span data-stu-id="5f96b-224">Domain name</span></span></li><li><span data-ttu-id="5f96b-225">Data platnosti (začátku a datum vypršení platnosti)</span><span class="sxs-lookup"><span data-stu-id="5f96b-225">Validity dates (both beginning and expiration dates)</span></span></li><li><span data-ttu-id="5f96b-226">Stav odvolání</span><span class="sxs-lookup"><span data-stu-id="5f96b-226">Revocation status</span></span></li><li><span data-ttu-id="5f96b-227">Využití (například ověřování serveru u serverů, ověření klienta pro klienty)</span><span class="sxs-lookup"><span data-stu-id="5f96b-227">Usage (for example, Server Authentication for servers, Client Authentication for clients)</span></span></li><li><span data-ttu-id="5f96b-228">Důvěřujete řetězu.</span><span class="sxs-lookup"><span data-stu-id="5f96b-228">Trust chain.</span></span> <span data-ttu-id="5f96b-229">Certifikáty musí být propojeny tooa kořenovou certifikační autoritu (CA), která je důvěryhodná hello platformy nebo explicitně nakonfigurované správcem hello</span><span class="sxs-lookup"><span data-stu-id="5f96b-229">Certificates must chain tooa root certification authority (CA) that is trusted by hello platform or explicitly configured by hello administrator</span></span></li><li><span data-ttu-id="5f96b-230">Délka klíče veřejný klíč certifikátu musí být > 2048 bitů</span><span class="sxs-lookup"><span data-stu-id="5f96b-230">Key length of certificate's public key must be >2048 bits</span></span></li><li><span data-ttu-id="5f96b-231">Algoritmus hash musí být SHA256 a vyšší</span><span class="sxs-lookup"><span data-stu-id="5f96b-231">Hashing algorithm must be SHA256 and above</span></span> |

## <span data-ttu-id="5f96b-232"><a id="ssl-appservice"></a>Nakonfigurovat certifikát SSL pro vlastní doménu, ve službě Azure App Service</span><span class="sxs-lookup"><span data-stu-id="5f96b-232"><a id="ssl-appservice"></a>Configure SSL certificate for custom domain in Azure App Service</span></span>

| <span data-ttu-id="5f96b-233">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-233">Title</span></span>                   | <span data-ttu-id="5f96b-234">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-234">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-235">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-235">**Component**</span></span>               | <span data-ttu-id="5f96b-236">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="5f96b-236">Web Application</span></span> | 
| <span data-ttu-id="5f96b-237">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-237">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-238">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-238">Build</span></span> |  
| <span data-ttu-id="5f96b-239">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-239">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-240">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-240">Generic</span></span> |
| <span data-ttu-id="5f96b-241">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-241">**Attributes**</span></span>              | <span data-ttu-id="5f96b-242">EnvironmentType – Azure</span><span class="sxs-lookup"><span data-stu-id="5f96b-242">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="5f96b-243">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-243">**References**</span></span>              | [<span data-ttu-id="5f96b-244">Povolit HTTPS pro aplikace v Azure App Service</span><span class="sxs-lookup"><span data-stu-id="5f96b-244">Enable HTTPS for an app in Azure App Service</span></span>](https://azure.microsoft.com/documentation/articles/web-sites-configure-ssl-certificate/) |
| <span data-ttu-id="5f96b-245">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-245">**Steps**</span></span> | <span data-ttu-id="5f96b-246">Ve výchozím nastavení, Azure již umožňuje HTTPS pro každou aplikaci s certifikát se zástupným znakem pro hello *. azurewebsites.net domény.</span><span class="sxs-lookup"><span data-stu-id="5f96b-246">By default, Azure already enables HTTPS for every app with a wildcard certificate for hello *.azurewebsites.net domain.</span></span> <span data-ttu-id="5f96b-247">Podobně jako všechny zástupné domény, je však není tak bezpečné jako použití vlastní domény s vlastní certifikát [najdete](https://casecurity.org/2014/02/26/pros-and-cons-of-single-domain-multi-domain-and-wildcard-certificates/).</span><span class="sxs-lookup"><span data-stu-id="5f96b-247">However, like all wildcard domains, it is not as secure as using a custom domain with own certificate [Refer](https://casecurity.org/2014/02/26/pros-and-cons-of-single-domain-multi-domain-and-wildcard-certificates/).</span></span> <span data-ttu-id="5f96b-248">Je doporučeno tooenable SSL pro hello vlastní doménu, které hello nasazené aplikace bude dostupná v</span><span class="sxs-lookup"><span data-stu-id="5f96b-248">It is recommended tooenable SSL for hello custom domain which hello deployed app will be accessed through</span></span>|

## <span data-ttu-id="5f96b-249"><a id="appservice-https"></a>Vynutit provoz tooAzure všechny služby App Service přes připojení HTTPS</span><span class="sxs-lookup"><span data-stu-id="5f96b-249"><a id="appservice-https"></a>Force all traffic tooAzure App Service over HTTPS connection</span></span>

| <span data-ttu-id="5f96b-250">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-250">Title</span></span>                   | <span data-ttu-id="5f96b-251">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-251">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-252">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-252">**Component**</span></span>               | <span data-ttu-id="5f96b-253">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="5f96b-253">Web Application</span></span> | 
| <span data-ttu-id="5f96b-254">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-254">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-255">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-255">Build</span></span> |  
| <span data-ttu-id="5f96b-256">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-256">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-257">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-257">Generic</span></span> |
| <span data-ttu-id="5f96b-258">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-258">**Attributes**</span></span>              | <span data-ttu-id="5f96b-259">EnvironmentType – Azure</span><span class="sxs-lookup"><span data-stu-id="5f96b-259">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="5f96b-260">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-260">**References**</span></span>              | <span data-ttu-id="5f96b-261">[Vynutit HTTPS v Azure App Service] https://azure.microsoft.com/documentation/articles/web-sites-configure-ssl-certificate/#4-enforce-https-on-your-app)</span><span class="sxs-lookup"><span data-stu-id="5f96b-261">[Enforce HTTPS on Azure App Service]https://azure.microsoft.com/documentation/articles/web-sites-configure-ssl-certificate/#4-enforce-https-on-your-app)</span></span> |
| <span data-ttu-id="5f96b-262">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-262">**Steps**</span></span> | <p><span data-ttu-id="5f96b-263">I když Azure již umožňuje HTTPS pro Azure aplikace služby s certifikát se zástupným znakem pro hello domény *. azurewebsites.net, Nevynucovat HTTPS.</span><span class="sxs-lookup"><span data-stu-id="5f96b-263">Though Azure already enables HTTPS for Azure app services with a wildcard certificate for hello domain *.azurewebsites.net, it do not enforce HTTPS.</span></span> <span data-ttu-id="5f96b-264">Návštěvníky může stále přístup k aplikaci hello pomocí protokolu HTTP, což může ohrozit zabezpečení aplikace hello a proto HTTPS obsahuje vynucené explicitně toobe.</span><span class="sxs-lookup"><span data-stu-id="5f96b-264">Visitors may still access hello app using HTTP, which may compromise hello app's security and hence HTTPS has toobe enforced explicitly.</span></span> <span data-ttu-id="5f96b-265">Aplikace ASP.NET MVC by měly používat hello [RequireHttps filtru](http://msdn.microsoft.com/library/system.web.mvc.requirehttpsattribute.aspx) který vynutí zabezpečená toobe požadavku HTTP znovu zaslaného prostřednictvím protokolu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="5f96b-265">ASP.NET MVC applications should use hello [RequireHttps filter](http://msdn.microsoft.com/library/system.web.mvc.requirehttpsattribute.aspx) that forces an unsecured HTTP request toobe re-sent over HTTPS.</span></span></p><p><span data-ttu-id="5f96b-266">Případně hello přepisování adres URL modul, který je součástí služby Azure App Service může být použité tooenforce HTTPS.</span><span class="sxs-lookup"><span data-stu-id="5f96b-266">Alternatively, hello URL Rewrite module, which is included with Azure App Service can be used tooenforce HTTPS.</span></span> <span data-ttu-id="5f96b-267">Modul přepisování adres URL umožňuje vývojářům toodefine pravidla, která jsou použité tooincoming požadavků, než hello žádosti jsou předávány tooyour aplikace.</span><span class="sxs-lookup"><span data-stu-id="5f96b-267">URL Rewrite module enables developers toodefine rules that are applied tooincoming requests before hello requests are handed tooyour application.</span></span> <span data-ttu-id="5f96b-268">Přepisování adres URL pravidla jsou definovány v souboru web.config uložené v kořenovém hello aplikace hello</span><span class="sxs-lookup"><span data-stu-id="5f96b-268">URL Rewrite rules are defined in a web.config file stored in hello root of hello application</span></span></p>|

### <a name="example"></a><span data-ttu-id="5f96b-269">Příklad</span><span class="sxs-lookup"><span data-stu-id="5f96b-269">Example</span></span>
<span data-ttu-id="5f96b-270">Hello následující příklad obsahuje základní pravidlo přepisování adres URL, které vynutí toouse všechny příchozí provoz protokolu HTTPS</span><span class="sxs-lookup"><span data-stu-id="5f96b-270">hello following example contains a basic URL Rewrite rule that forces all incoming traffic toouse HTTPS</span></span>
```XML
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <rewrite>
      <rules>
        <rule name="Force HTTPS" enabled="true">
          <match url="(.*)" ignoreCase="false" />
          <conditions>
            <add input="{HTTPS}" pattern="off" />
          </conditions>
          <action type="Redirect" url="https://{HTTP_HOST}/{R:1}" appendQueryString="true" redirectType="Permanent" />
        </rule>
      </rules>
    </rewrite>
  </system.webServer>
</configuration>
```
<span data-ttu-id="5f96b-271">Toto pravidlo funguje tak, že vrací stavový kód protokolu HTTP 301 (trvalé přesměrování) při hello uživatel požádá o stránku pomocí protokolu HTTP.</span><span class="sxs-lookup"><span data-stu-id="5f96b-271">This rule works by returning an HTTP status code of 301 (permanent redirect) when hello user requests a page using HTTP.</span></span> <span data-ttu-id="5f96b-272">Hello 301 přesměrování hello požadavek toohello stejnou adresu URL jako hello návštěvníka požadována, ale nahradí část s protokolem HTTP hello hello žádosti s protokolem HTTPS.</span><span class="sxs-lookup"><span data-stu-id="5f96b-272">hello 301 redirects hello request toohello same URL as hello visitor requested, but replaces hello HTTP portion of hello request with HTTPS.</span></span> <span data-ttu-id="5f96b-273">Například by HTTP://contoso.com přesměrovaného tooHTTPS://contoso.com.</span><span class="sxs-lookup"><span data-stu-id="5f96b-273">For example, HTTP://contoso.com would be redirected tooHTTPS://contoso.com.</span></span> 

## <span data-ttu-id="5f96b-274"><a id="http-hsts"></a>Povolit zabezpečení striktní přenosu HTTP (HSTS)</span><span class="sxs-lookup"><span data-stu-id="5f96b-274"><a id="http-hsts"></a>Enable HTTP Strict Transport Security (HSTS)</span></span>

| <span data-ttu-id="5f96b-275">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-275">Title</span></span>                   | <span data-ttu-id="5f96b-276">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-276">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-277">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-277">**Component**</span></span>               | <span data-ttu-id="5f96b-278">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="5f96b-278">Web Application</span></span> | 
| <span data-ttu-id="5f96b-279">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-279">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-280">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-280">Build</span></span> |  
| <span data-ttu-id="5f96b-281">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-281">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-282">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-282">Generic</span></span> |
| <span data-ttu-id="5f96b-283">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-283">**Attributes**</span></span>              | <span data-ttu-id="5f96b-284">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-284">N/A</span></span>  |
| <span data-ttu-id="5f96b-285">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-285">**References**</span></span>              | [<span data-ttu-id="5f96b-286">Zabezpečení striktní přenosu HTTP OWASP Tahák</span><span class="sxs-lookup"><span data-stu-id="5f96b-286">OWASP HTTP Strict Transport Security Cheat Sheet</span></span>](https://www.owasp.org/index.php/HTTP_Strict_Transport_Security_Cheat_Sheet) |
| <span data-ttu-id="5f96b-287">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-287">**Steps**</span></span> | <p><span data-ttu-id="5f96b-288">Striktní přenos HTTP zabezpečení (HSTS) je určený parametrem webovou aplikaci pomocí hello použijte hlavičky odpovědi speciální vylepšení zabezpečení opt-in.</span><span class="sxs-lookup"><span data-stu-id="5f96b-288">HTTP Strict Transport Security (HSTS) is an opt-in security enhancement that is specified by a web application through hello use of a special response header.</span></span> <span data-ttu-id="5f96b-289">Jakmile podporovaného prohlížeče obdrží tuto hlavičku prohlížeč tohoto zabrání veškerou komunikaci před odesláním prostřednictvím protokolu HTTP toohello zadaná doména a místo toho odešle veškerou komunikaci přes protokol HTTPS.</span><span class="sxs-lookup"><span data-stu-id="5f96b-289">Once a supported browser receives this header that browser will prevent any communications from being sent over HTTP toohello specified domain and will instead send all communications over HTTPS.</span></span> <span data-ttu-id="5f96b-290">Rovněž zamezí klikněte na protokol HTTPS přes výzvy v prohlížečích.</span><span class="sxs-lookup"><span data-stu-id="5f96b-290">It also prevents HTTPS click through prompts on browsers.</span></span></p><p><span data-ttu-id="5f96b-291">tooimplement HSTS hello následující hlavičku odpovědi má toobe nakonfigurovaná pro web globálně, v kódu nebo v konfiguraci. Strict přenosu zabezpečení: maximální stáří = 300; includeSubDomains HSTS řeší následující hrozeb hello:</span><span class="sxs-lookup"><span data-stu-id="5f96b-291">tooimplement HSTS, hello following response header has toobe configured for a website globally, either in code or in config. Strict-Transport-Security: max-age=300; includeSubDomains HSTS addresses hello following threats:</span></span></p><ul><li><span data-ttu-id="5f96b-292">Uživatel, záložky nebo ručně typy http://example.com a je subjektu tooa man-in-the-middle útočník: HSTS automaticky přesměruje tooHTTPS požadavky HTTP pro cílovou doménu hello</span><span class="sxs-lookup"><span data-stu-id="5f96b-292">User bookmarks or manually types http://example.com and is subject tooa man-in-the-middle attacker: HSTS automatically redirects HTTP requests tooHTTPS for hello target domain</span></span></li><li><span data-ttu-id="5f96b-293">Webové aplikace, který je určený toobe čistě HTTPS nechtěně obsahuje odkazy HTTP nebo slouží obsahu prostřednictvím protokolu HTTP: HSTS automaticky přesměruje tooHTTPS požadavky HTTP pro cílovou doménu hello</span><span class="sxs-lookup"><span data-stu-id="5f96b-293">Web application that is intended toobe purely HTTPS inadvertently contains HTTP links or serves content over HTTP: HSTS automatically redirects HTTP requests tooHTTPS for hello target domain</span></span></li><li><span data-ttu-id="5f96b-294">Man-in-the-middle útočník pokusí toointercept provoz z postižené uživatele s využitím neplatný certifikát a doufá hello uživatele bude přijímat chybný certifikát hello: HSTS neumožňuje zprávu uživatele toooverride hello neplatný certifikát</span><span class="sxs-lookup"><span data-stu-id="5f96b-294">A man-in-the-middle attacker attempts toointercept traffic from a victim user using an invalid certificate and hopes hello user will accept hello bad certificate: HSTS does not allow a user toooverride hello invalid certificate message</span></span></li></ul>|

## <span data-ttu-id="5f96b-295"><a id="sqlserver-validation"></a>Ujistěte se, SQL server šifrování a certifikát pro ověření platnosti připojení</span><span class="sxs-lookup"><span data-stu-id="5f96b-295"><a id="sqlserver-validation"></a>Ensure SQL server connection encryption and certificate validation</span></span>

| <span data-ttu-id="5f96b-296">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-296">Title</span></span>                   | <span data-ttu-id="5f96b-297">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-297">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-298">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-298">**Component**</span></span>               | <span data-ttu-id="5f96b-299">Databáze</span><span class="sxs-lookup"><span data-stu-id="5f96b-299">Database</span></span> | 
| <span data-ttu-id="5f96b-300">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-300">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-301">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-301">Build</span></span> |  
| <span data-ttu-id="5f96b-302">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-302">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-303">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="5f96b-303">SQL Azure</span></span>  |
| <span data-ttu-id="5f96b-304">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-304">**Attributes**</span></span>              | <span data-ttu-id="5f96b-305">Verze SQL - V12</span><span class="sxs-lookup"><span data-stu-id="5f96b-305">SQL Version - V12</span></span> |
| <span data-ttu-id="5f96b-306">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-306">**References**</span></span>              | [<span data-ttu-id="5f96b-307">Osvědčené postupy na psaní zabezpečené připojovací řetězce pro databázi SQL.</span><span class="sxs-lookup"><span data-stu-id="5f96b-307">Best Practices on Writing Secure Connection Strings for SQL Database</span></span>](http://social.technet.microsoft.com/wiki/contents/articles/2951.windows-azure-sql-database-connection-security.aspx#best) |
| <span data-ttu-id="5f96b-308">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-308">**Steps**</span></span> | <p><span data-ttu-id="5f96b-309">Veškerá komunikace mezi SQL Database a klientské aplikace jsou šifrované pomocí Secure Sockets Layer (SSL) za všech okolností.</span><span class="sxs-lookup"><span data-stu-id="5f96b-309">All communications between SQL Database and a client application are encrypted using Secure Sockets Layer (SSL) at all times.</span></span> <span data-ttu-id="5f96b-310">Databáze SQL nepodporuje nezašifrované připojení.</span><span class="sxs-lookup"><span data-stu-id="5f96b-310">SQL Database doesn’t support unencrypted connections.</span></span> <span data-ttu-id="5f96b-311">toovalidate certifikáty s nástroji, nebo kód aplikace explicitně požadovat šifrované připojení a nedůvěřujete certifikáty serveru hello.</span><span class="sxs-lookup"><span data-stu-id="5f96b-311">toovalidate certificates with application code or tools, explicitly request an encrypted connection and do not trust hello server certificates.</span></span> <span data-ttu-id="5f96b-312">Pokud váš kód aplikace nebo nástroje vyžádat šifrované připojení, bude stále obdrží šifrované připojení</span><span class="sxs-lookup"><span data-stu-id="5f96b-312">If your application code or tools do not request an encrypted connection, they will still receive encrypted connections</span></span></p><p><span data-ttu-id="5f96b-313">Však nemusí ověřit hello certifikáty serveru a tak nebude náchylný příliš útoky "man uprostřed hello".</span><span class="sxs-lookup"><span data-stu-id="5f96b-313">However, they may not validate hello server certificates and thus will be susceptible too"man in hello middle" attacks.</span></span> <span data-ttu-id="5f96b-314">Nastavit certifikáty toovalidate ADO.NET kód aplikace, `Encrypt=True` a `TrustServerCertificate=False` v připojovací řetězec databáze hello.</span><span class="sxs-lookup"><span data-stu-id="5f96b-314">toovalidate certificates with ADO.NET application code, set `Encrypt=True` and `TrustServerCertificate=False` in hello database connection string.</span></span> <span data-ttu-id="5f96b-315">certifikáty toovalidate prostřednictvím systému SQL Server Management Studio otevřete dialogové okno tooServer připojit hello.</span><span class="sxs-lookup"><span data-stu-id="5f96b-315">toovalidate certificates via SQL Server Management Studio, open hello Connect tooServer dialog box.</span></span> <span data-ttu-id="5f96b-316">Klikněte na možnost šifrování připojení na kartě Vlastnosti připojení hello</span><span class="sxs-lookup"><span data-stu-id="5f96b-316">Click Encrypt connection on hello Connection Properties tab</span></span></p>|

## <span data-ttu-id="5f96b-317"><a id="encrypted-sqlserver"></a>Vynutit zašifrovaná komunikace tooSQL serveru</span><span class="sxs-lookup"><span data-stu-id="5f96b-317"><a id="encrypted-sqlserver"></a>Force Encrypted communication tooSQL server</span></span>

| <span data-ttu-id="5f96b-318">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-318">Title</span></span>                   | <span data-ttu-id="5f96b-319">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-319">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-320">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-320">**Component**</span></span>               | <span data-ttu-id="5f96b-321">Databáze</span><span class="sxs-lookup"><span data-stu-id="5f96b-321">Database</span></span> | 
| <span data-ttu-id="5f96b-322">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-322">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-323">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-323">Build</span></span> |  
| <span data-ttu-id="5f96b-324">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-324">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-325">Místní</span><span class="sxs-lookup"><span data-stu-id="5f96b-325">OnPrem</span></span> |
| <span data-ttu-id="5f96b-326">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-326">**Attributes**</span></span>              | <span data-ttu-id="5f96b-327">SQL verze - MsSQL2016, SQL verze - MsSQL2012, verze SQL - MsSQL2014</span><span class="sxs-lookup"><span data-stu-id="5f96b-327">SQL Version - MsSQL2016, SQL Version - MsSQL2012, SQL Version - MsSQL2014</span></span> |
| <span data-ttu-id="5f96b-328">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-328">**References**</span></span>              | [<span data-ttu-id="5f96b-329">Povolit toohello šifrované připojení databázový stroj</span><span class="sxs-lookup"><span data-stu-id="5f96b-329">Enable Encrypted Connections toohello Database Engine</span></span>](https://msdn.microsoft.com/library/ms191192)  |
| <span data-ttu-id="5f96b-330">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-330">**Steps**</span></span> | <span data-ttu-id="5f96b-331">Povolení protokolu SSL šifrování zvyšuje úroveň zabezpečení hello dat přenášených v rámci sítí mezi instance systému SQL Server a aplikací.</span><span class="sxs-lookup"><span data-stu-id="5f96b-331">Enabling SSL encryption increases hello security of data transmitted across networks between instances of SQL Server and applications.</span></span> |

## <span data-ttu-id="5f96b-332"><a id="comm-storage"></a>Ujistěte se, že komunikace tooAzure úložiště je přes protokol HTTPS</span><span class="sxs-lookup"><span data-stu-id="5f96b-332"><a id="comm-storage"></a>Ensure that communication tooAzure Storage is over HTTPS</span></span>

| <span data-ttu-id="5f96b-333">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-333">Title</span></span>                   | <span data-ttu-id="5f96b-334">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-334">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-335">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-335">**Component**</span></span>               | <span data-ttu-id="5f96b-336">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="5f96b-336">Azure Storage</span></span> | 
| <span data-ttu-id="5f96b-337">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-337">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-338">Nasazení</span><span class="sxs-lookup"><span data-stu-id="5f96b-338">Deployment</span></span> |  
| <span data-ttu-id="5f96b-339">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-339">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-340">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-340">Generic</span></span> |
| <span data-ttu-id="5f96b-341">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-341">**Attributes**</span></span>              | <span data-ttu-id="5f96b-342">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-342">N/A</span></span>  |
| <span data-ttu-id="5f96b-343">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-343">**References**</span></span>              | [<span data-ttu-id="5f96b-344">Šifrování transportní vrstvy úložiště Azure – pomocí protokolu HTTPS</span><span class="sxs-lookup"><span data-stu-id="5f96b-344">Azure Storage Transport-Level Encryption – Using HTTPS</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_encryption-in-transit) |
| <span data-ttu-id="5f96b-345">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-345">**Steps**</span></span> | <span data-ttu-id="5f96b-346">tooensure hello zabezpečení Azure Storage data na cestě, používat protokol HTTPS hello při každém volání hello rozhraní REST API nebo přístupu k nim objektů v úložišti.</span><span class="sxs-lookup"><span data-stu-id="5f96b-346">tooensure hello security of Azure Storage data in-transit, always use hello HTTPS protocol when calling hello REST APIs or accessing objects in storage.</span></span> <span data-ttu-id="5f96b-347">Navíc sdílené přístupové podpisy, které můžou být použité toodelegate přístup k objektům úložiště tooAzure, zahrnout toospecify možnost této pouze hello, které můžete použít protokol HTTPS, pokud se používá sdílené přístupové podpisy, zajistíte, že kdokoliv odesílání se propojení s tokeny SAS se Použijte správný protokol hello.</span><span class="sxs-lookup"><span data-stu-id="5f96b-347">Also, Shared Access Signatures, which can be used toodelegate access tooAzure Storage objects, include an option toospecify that only hello HTTPS protocol can be used when using Shared Access Signatures, ensuring that anybody sending out links with SAS tokens will use hello proper protocol.</span></span>|

## <span data-ttu-id="5f96b-348"><a id="md5-https"></a>Ověřit hodnotu hash MD5 po stažení objektů blob, pokud nelze povolit protokol HTTPS</span><span class="sxs-lookup"><span data-stu-id="5f96b-348"><a id="md5-https"></a>Validate MD5 hash after downloading blob if HTTPS cannot be enabled</span></span>

| <span data-ttu-id="5f96b-349">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-349">Title</span></span>                   | <span data-ttu-id="5f96b-350">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-350">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-351">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-351">**Component**</span></span>               | <span data-ttu-id="5f96b-352">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="5f96b-352">Azure Storage</span></span> | 
| <span data-ttu-id="5f96b-353">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-353">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-354">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-354">Build</span></span> |  
| <span data-ttu-id="5f96b-355">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-355">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-356">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-356">Generic</span></span> |
| <span data-ttu-id="5f96b-357">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-357">**Attributes**</span></span>              | <span data-ttu-id="5f96b-358">StorageType – objekt Blob</span><span class="sxs-lookup"><span data-stu-id="5f96b-358">StorageType - Blob</span></span> |
| <span data-ttu-id="5f96b-359">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-359">**References**</span></span>              | [<span data-ttu-id="5f96b-360">Přehled služby Windows Azure Blob MD5</span><span class="sxs-lookup"><span data-stu-id="5f96b-360">Windows Azure Blob MD5 Overview</span></span>](https://blogs.msdn.microsoft.com/windowsazurestorage/2011/02/17/windows-azure-blob-md5-overview/) |
| <span data-ttu-id="5f96b-361">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-361">**Steps**</span></span> | <p><span data-ttu-id="5f96b-362">Služba objektů Blob v systému Windows Azure poskytuje integritu dat tooensure mechanismy jak v transportní vrstvy a aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="5f96b-362">Windows Azure Blob service provides mechanisms tooensure data integrity both at hello application and transport layers.</span></span> <span data-ttu-id="5f96b-363">Pokud z jakéhokoli důvodu, že potřebujete toouse HTTP místo protokolu HTTPS a práci s objekty BLOB bloku, můžete použít kontrolu MD5 toohelp ověří integritu hello objektů BLOB hello přenosu</span><span class="sxs-lookup"><span data-stu-id="5f96b-363">If for any reason you need toouse HTTP instead of HTTPS and you are working with block blobs, you can use MD5 checking toohelp verify hello integrity of hello blobs being transferred</span></span></p><p><span data-ttu-id="5f96b-364">To vám pomůže s ochranou z chyb sítě/transport layer, ale nemusí nutně jít s zprostředkující útoky.</span><span class="sxs-lookup"><span data-stu-id="5f96b-364">This will help with protection from network/transport layer errors, but not necessarily with intermediary attacks.</span></span> <span data-ttu-id="5f96b-365">Pokud použijete protokol HTTPS, který poskytuje zabezpečení na úrovni přenosu, pak pomocí MD5 kontrola je redundantní a zbytečné.</span><span class="sxs-lookup"><span data-stu-id="5f96b-365">If you can use HTTPS, which provides transport level security, then using MD5 checking is redundant and unnecessary.</span></span></p>|

## <span data-ttu-id="5f96b-366"><a id="smb-shares"></a>Pomocí protokolu SMB 3.0 kompatibilní klient tooensure během přenosu dat šifrování tooAzure, které sdílené složky</span><span class="sxs-lookup"><span data-stu-id="5f96b-366"><a id="smb-shares"></a>Use SMB 3.0 compatible client tooensure in-transit data encryption tooAzure File shares</span></span>

| <span data-ttu-id="5f96b-367">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-367">Title</span></span>                   | <span data-ttu-id="5f96b-368">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-368">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-369">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-369">**Component**</span></span>               | <span data-ttu-id="5f96b-370">Mobilního klienta</span><span class="sxs-lookup"><span data-stu-id="5f96b-370">Mobile Client</span></span> | 
| <span data-ttu-id="5f96b-371">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-371">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-372">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-372">Build</span></span> |  
| <span data-ttu-id="5f96b-373">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-373">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-374">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-374">Generic</span></span> |
| <span data-ttu-id="5f96b-375">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-375">**Attributes**</span></span>              | <span data-ttu-id="5f96b-376">StorageType – soubor</span><span class="sxs-lookup"><span data-stu-id="5f96b-376">StorageType - File</span></span> |
| <span data-ttu-id="5f96b-377">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-377">**References**</span></span>              | <span data-ttu-id="5f96b-378">[Azure File Storage](https://azure.microsoft.com/blog/azure-file-storage-now-generally-available/#comment-2529238931), [podpora protokolu SMB Azure File Storage pro klienty se systémem Windows](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-files/#_mount-the-file-share)</span><span class="sxs-lookup"><span data-stu-id="5f96b-378">[Azure File Storage](https://azure.microsoft.com/blog/azure-file-storage-now-generally-available/#comment-2529238931), [Azure File Storage SMB Support for Windows Clients](https://azure.microsoft.com/documentation/articles/storage-dotnet-how-to-use-files/#_mount-the-file-share)</span></span> |
| <span data-ttu-id="5f96b-379">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-379">**Steps**</span></span> | <span data-ttu-id="5f96b-380">Úložiště Azure File podporuje protokol HTTPS, při použití hello REST API, ale je často používané jako sdílené složky SMB připojen tooa virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="5f96b-380">Azure File Storage supports HTTPS when using hello REST API, but is more commonly used as an SMB file share attached tooa VM.</span></span> <span data-ttu-id="5f96b-381">SMB 2.1 nepodporuje šifrování, takže připojení jsou povoleny pouze v rámci hello stejné oblasti v Azure.</span><span class="sxs-lookup"><span data-stu-id="5f96b-381">SMB 2.1 does not support encryption, so connections are only allowed within hello same region in Azure.</span></span> <span data-ttu-id="5f96b-382">Ale podporuje šifrování protokolu SMB 3.0 a lze použít s Windows Server 2012 R2, Windows 8, Windows 8.1 a Windows 10, což mezi oblastmi přístup a dokonce i přístup na ploše hello.</span><span class="sxs-lookup"><span data-stu-id="5f96b-382">However, SMB 3.0 supports encryption, and can be used with Windows Server 2012 R2, Windows 8, Windows 8.1, and Windows 10, allowing cross-region access and even access on hello desktop.</span></span> |

## <span data-ttu-id="5f96b-383"><a id="cert-pinning"></a>Implementace Připnutí certifikátu</span><span class="sxs-lookup"><span data-stu-id="5f96b-383"><a id="cert-pinning"></a>Implement Certificate Pinning</span></span>

| <span data-ttu-id="5f96b-384">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-384">Title</span></span>                   | <span data-ttu-id="5f96b-385">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-385">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-386">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-386">**Component**</span></span>               | <span data-ttu-id="5f96b-387">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="5f96b-387">Azure Storage</span></span> | 
| <span data-ttu-id="5f96b-388">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-388">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-389">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-389">Build</span></span> |  
| <span data-ttu-id="5f96b-390">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-390">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-391">Obecné, Windows Phone</span><span class="sxs-lookup"><span data-stu-id="5f96b-391">Generic, Windows Phone</span></span> |
| <span data-ttu-id="5f96b-392">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-392">**Attributes**</span></span>              | <span data-ttu-id="5f96b-393">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-393">N/A</span></span>  |
| <span data-ttu-id="5f96b-394">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-394">**References**</span></span>              | [<span data-ttu-id="5f96b-395">Certifikát a veřejný klíč připojení</span><span class="sxs-lookup"><span data-stu-id="5f96b-395">Certificate and Public Key Pinning</span></span>](https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning#.Net) |
| <span data-ttu-id="5f96b-396">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-396">**Steps**</span></span> | <p><span data-ttu-id="5f96b-397">Připnutí certifikátu obranu proti útokům Man-In-The-Middle typu MITM ().</span><span class="sxs-lookup"><span data-stu-id="5f96b-397">Certificate pinning defends against Man-In-The-Middle (MITM) attacks.</span></span> <span data-ttu-id="5f96b-398">Připnutí je proces hello přidružení hostitele k jejich očekávané X509 certifikát nebo veřejný klíč.</span><span class="sxs-lookup"><span data-stu-id="5f96b-398">Pinning is hello process of associating a host with their expected X509 certificate or public key.</span></span> <span data-ttu-id="5f96b-399">Jakmile certifikát nebo veřejný klíč známý nebo je vidět pro hostitele, hello certifikát nebo veřejný klíč je přidružené nebo 'definovaného' toohello hostitele.</span><span class="sxs-lookup"><span data-stu-id="5f96b-399">Once a certificate or public key is known or seen for a host, hello certificate or public key is associated or 'pinned' toohello host.</span></span> </p><p><span data-ttu-id="5f96b-400">Proto když se pokusí nežádoucí osoba toodo útoky typu MITM SSL během klíči hello metody handshake SSL ze serveru útočníka nebudou se liší od hello připnutý klíče certifikátu a hello žádost se zahodí, takže si certifikát MITM Připnutí lze dosáhnout implementace je ServicePointManager – `ServerCertificateValidationCallback` delegovat.</span><span class="sxs-lookup"><span data-stu-id="5f96b-400">Thus, when an adversary attempts toodo SSL MITM attack, during SSL handshake hello key from attacker's server will be different from hello pinned certificate's key, and hello request will be discarded, thus preventing MITM Certificate pinning can be achieved by implementing ServicePointManager's `ServerCertificateValidationCallback` delegate.</span></span></p>|

### <a name="example"></a><span data-ttu-id="5f96b-401">Příklad</span><span class="sxs-lookup"><span data-stu-id="5f96b-401">Example</span></span>
```C#
using System;
using System.Net;
using System.Net.Security;
using System.Security.Cryptography;

namespace CertificatePinningExample
{
    class CertificatePinningExample
    {
        /* Note: In this example, we're hardcoding a hello certificate's public key and algorithm for 
           demonstration purposes. In a real-world application, this should be stored in a secure
           configuration area that can be updated as needed. */

        private static readonly string PINNED_ALGORITHM = "RSA";

        private static readonly string PINNED_PUBLIC_KEY = "3082010A0282010100B0E75B7CBE56D31658EF79B3A1" +
            "294D506A88DFCDD603F6EF15E7F5BCBDF32291EC50B2B82BA158E905FE6A83EE044A48258B07FAC3D6356AF09B2" +
            "3EDAB15D00507B70DB08DB9A20C7D1201417B3071A346D663A241061C151B6EC5B5B4ECCCDCDBEA24F051962809" +
            "FEC499BF2D093C06E3BDA7D0BB83CDC1C2C6660B8ECB2EA30A685ADE2DC83C88314010FFC7F4F0F895EDDBE5C02" +
            "ABF78E50B708E0A0EB984A9AA536BCE61A0C31DB95425C6FEE5A564B158EE7C4F0693C439AE010EF83CA8155750" +
            "09B17537C29F86071E5DD8CA50EBD8A409494F479B07574D83EDCE6F68A8F7D40447471D05BC3F5EAD7862FA748" +
            "EA3C92A60A128344B1CEF7A0B0D94E50203010001";


        public static void Main(string[] args)
        {
            HttpWebRequest request = (HttpWebRequest)WebRequest.Create("https://azure.microsoft.com");
            request.ServerCertificateValidationCallback = (sender, certificate, chain, sslPolicyErrors) =>
            {
                if (certificate == null || sslPolicyErrors != SslPolicyErrors.None)
                {
                    // Error getting certificate or hello certificate failed basic validation
                    return false;
                }

                var targetKeyAlgorithm = new Oid(certificate.GetKeyAlgorithm()).FriendlyName;
                var targetPublicKey = certificate.GetPublicKeyString();
                
                if (targetKeyAlgorithm == PINNED_ALGORITHM &&
                    targetPublicKey == PINNED_PUBLIC_KEY)
                {
                    // Success, hello certificate matches hello pinned value.
                    return true;
                }
                // Reject, either hello key or hello algorithm does not match hello expected value.
                return false;
            };

            try
            {
                var response = (HttpWebResponse)request.GetResponse();
                Console.WriteLine($"Success, HTTP status code: {response.StatusCode}");
            }
            catch(Exception ex)
            {
                Console.WriteLine($"Failure, {ex.Message}");
            }
            Console.WriteLine("Press any key tooend.");
            Console.ReadKey();
        }
    }
}
```

## <span data-ttu-id="5f96b-402"><a id="https-transport"></a>Povolit protokol HTTPS – zabezpečený kanál přenosu</span><span class="sxs-lookup"><span data-stu-id="5f96b-402"><a id="https-transport"></a>Enable HTTPS - Secure Transport channel</span></span>

| <span data-ttu-id="5f96b-403">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-403">Title</span></span>                   | <span data-ttu-id="5f96b-404">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-404">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-405">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-405">**Component**</span></span>               | <span data-ttu-id="5f96b-406">WCF</span><span class="sxs-lookup"><span data-stu-id="5f96b-406">WCF</span></span> | 
| <span data-ttu-id="5f96b-407">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-407">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-408">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-408">Build</span></span> |  
| <span data-ttu-id="5f96b-409">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-409">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-410">NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="5f96b-410">NET Framework 3</span></span> |
| <span data-ttu-id="5f96b-411">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-411">**Attributes**</span></span>              | <span data-ttu-id="5f96b-412">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-412">N/A</span></span>  |
| <span data-ttu-id="5f96b-413">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-413">**References**</span></span>              | <span data-ttu-id="5f96b-414">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [obohacení království](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="5f96b-414">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="5f96b-415">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-415">**Steps**</span></span> | <span data-ttu-id="5f96b-416">Konfigurace aplikace Hello se ujistěte, že protokol HTTPS se používá pro všechny informace toosensitive přístup.</span><span class="sxs-lookup"><span data-stu-id="5f96b-416">hello application configuration should ensure that HTTPS is used for all access toosensitive information.</span></span><ul><li><span data-ttu-id="5f96b-417">**Vysvětlení:** Pokud aplikace zpracovává citlivé informace a nepoužívá šifrování na úrovni zpráv a potom ho by měl být povoleny pouze toocommunicate přes přenosu šifrovaný kanál.</span><span class="sxs-lookup"><span data-stu-id="5f96b-417">**EXPLANATION:** If an application handles sensitive information and does not use message-level encryption, then it should only be allowed toocommunicate over an encrypted transport channel.</span></span></li><li><span data-ttu-id="5f96b-418">**DOPORUČENÍ:** zkontrolujte, zda je vypnutá přenos HTTP a místo toho povolit přenos HTTPS.</span><span class="sxs-lookup"><span data-stu-id="5f96b-418">**RECOMMENDATIONS:** Ensure that HTTP transport is disabled and enable HTTPS transport instead.</span></span> <span data-ttu-id="5f96b-419">Například nahradit hello `<httpTransport/>` s `<httpsTransport/>` značky.</span><span class="sxs-lookup"><span data-stu-id="5f96b-419">For example, replace hello `<httpTransport/>` with `<httpsTransport/>` tag.</span></span> <span data-ttu-id="5f96b-420">Nespoléhejte na tooguarantee síťové konfigurace (brány firewall), aplikace hello lze přistupovat pouze prostřednictvím zabezpečeného kanálu.</span><span class="sxs-lookup"><span data-stu-id="5f96b-420">Do not rely on a network configuration (firewall) tooguarantee that hello application can only be accessed over a secure channel.</span></span> <span data-ttu-id="5f96b-421">Z filozofické hlediska by neměl aplikace hello závisí na hello sítě pro jeho zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="5f96b-421">From a philosophical point of view, hello application should not depend on hello network for its security.</span></span></li></ul><p><span data-ttu-id="5f96b-422">Z praktického hlediska hello osoby zodpovídají za zabezpečení sítě hello není vždy sledovat požadavky na zabezpečení hello aplikace hello vývoj.</span><span class="sxs-lookup"><span data-stu-id="5f96b-422">From a practical point of view, hello people responsible for securing hello network do not always track hello security requirements of hello application as they evolve.</span></span></p>|

## <span data-ttu-id="5f96b-423"><a id="message-protection"></a>WCF: TooEncryptAndSign úrovně zabezpečení ochrany sadu zpráv</span><span class="sxs-lookup"><span data-stu-id="5f96b-423"><a id="message-protection"></a>WCF: Set Message security Protection level tooEncryptAndSign</span></span>

| <span data-ttu-id="5f96b-424">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-424">Title</span></span>                   | <span data-ttu-id="5f96b-425">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-425">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-426">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-426">**Component**</span></span>               | <span data-ttu-id="5f96b-427">WCF</span><span class="sxs-lookup"><span data-stu-id="5f96b-427">WCF</span></span> | 
| <span data-ttu-id="5f96b-428">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-428">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-429">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-429">Build</span></span> |  
| <span data-ttu-id="5f96b-430">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-430">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-431">Rozhraní .NET framework 3</span><span class="sxs-lookup"><span data-stu-id="5f96b-431">.NET Framework 3</span></span> |
| <span data-ttu-id="5f96b-432">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-432">**Attributes**</span></span>              | <span data-ttu-id="5f96b-433">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-433">N/A</span></span>  |
| <span data-ttu-id="5f96b-434">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-434">**References**</span></span>              | [<span data-ttu-id="5f96b-435">MSDN</span><span class="sxs-lookup"><span data-stu-id="5f96b-435">MSDN</span></span>](https://msdn.microsoft.com/library/ff650862.aspx) |
| <span data-ttu-id="5f96b-436">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-436">**Steps**</span></span> | <ul><li><span data-ttu-id="5f96b-437">**Vysvětlení:** nastavena úroveň ochrany příliš "žádný" by se zakázat ochranu zprávy.</span><span class="sxs-lookup"><span data-stu-id="5f96b-437">**EXPLANATION:** When Protection level is set too"none" it will disable message protection.</span></span> <span data-ttu-id="5f96b-438">Důvěrnost a integrita je dosaženo s odpovídající úroveň nastavení.</span><span class="sxs-lookup"><span data-stu-id="5f96b-438">Confidentiality and integrity is achieved with appropriate level of setting.</span></span></li><li><span data-ttu-id="5f96b-439">**DOPORUČENÍ:**</span><span class="sxs-lookup"><span data-stu-id="5f96b-439">**RECOMMENDATIONS:**</span></span><ul><li><span data-ttu-id="5f96b-440">Když `Mode=None` – zakáže ochranu zpráv</span><span class="sxs-lookup"><span data-stu-id="5f96b-440">when `Mode=None` - Disables message protection</span></span></li><li><span data-ttu-id="5f96b-441">Když `Mode=Sign` -přihlásí, ale nešifruje uvítací zprávu; by měl být použit při integritu dat je důležité</span><span class="sxs-lookup"><span data-stu-id="5f96b-441">when `Mode=Sign` - Signs but does not encrypt hello message; should be used when data integrity is important</span></span></li><li><span data-ttu-id="5f96b-442">Když `Mode=EncryptAndSign` -přihlásí a šifruje uvítací zprávu</span><span class="sxs-lookup"><span data-stu-id="5f96b-442">when `Mode=EncryptAndSign` - Signs and encrypts hello message</span></span></li></ul></li></ul><p><span data-ttu-id="5f96b-443">Zvažte vypnutí šifrování a při toovalidate hello integritu informace hello abyste nemuseli dělat starosti důvěrnost stačí jenom podepisování zprávy.</span><span class="sxs-lookup"><span data-stu-id="5f96b-443">Consider turning off encryption and only signing your message when you just need toovalidate hello integrity of hello information without concerns of confidentiality.</span></span> <span data-ttu-id="5f96b-444">To může být užitečné pro operace nebo servisní smlouvy ve které budete potřebovat toovalidate hello původní odesílatele, ale žádná citlivá data se přenáší.</span><span class="sxs-lookup"><span data-stu-id="5f96b-444">This may be useful for operations or service contracts in which you need toovalidate hello original sender but no sensitive data is transmitted.</span></span> <span data-ttu-id="5f96b-445">Při snížení úrovně ochrany hello, dávejte pozor hello zpráva neobsahuje žádné identifikovatelné osobní údaje (PII).</span><span class="sxs-lookup"><span data-stu-id="5f96b-445">When reducing hello protection level, be careful that hello message does not contain any personally identifiable information (PII).</span></span></p>|

### <a name="example"></a><span data-ttu-id="5f96b-446">Příklad</span><span class="sxs-lookup"><span data-stu-id="5f96b-446">Example</span></span>
<span data-ttu-id="5f96b-447">Konfigurace služby hello a hello operaci tooonly přihlašovací hello zpráva se zobrazí v hello následující příklady.</span><span class="sxs-lookup"><span data-stu-id="5f96b-447">Configuring hello service and hello operation tooonly sign hello message is shown in hello following examples.</span></span> <span data-ttu-id="5f96b-448">Příklad kontraktu služby `ProtectionLevel.Sign`: hello následuje příklad použití ProtectionLevel.Sign na úrovni hello kontrakt služby:</span><span class="sxs-lookup"><span data-stu-id="5f96b-448">Service Contract Example of `ProtectionLevel.Sign`: hello following is an example of using ProtectionLevel.Sign at hello Service Contract level:</span></span> 
```
[ServiceContract(Protection Level=ProtectionLevel.Sign] 
public interface IService 
  { 
  string GetData(int value); 
  } 
```

### <a name="example"></a><span data-ttu-id="5f96b-449">Příklad</span><span class="sxs-lookup"><span data-stu-id="5f96b-449">Example</span></span>
<span data-ttu-id="5f96b-450">Příklad kontrakt operaci `ProtectionLevel.Sign` (pro přesná kontrola): hello následuje příklad použití `ProtectionLevel.Sign` v hello OperationContract úroveň:</span><span class="sxs-lookup"><span data-stu-id="5f96b-450">Operation Contract Example of `ProtectionLevel.Sign` (for Granular Control): hello following is an example of using `ProtectionLevel.Sign` at hello OperationContract level:</span></span>

```
[OperationContract(ProtectionLevel=ProtectionLevel.Sign] 
string GetData(int value);
``` 

## <span data-ttu-id="5f96b-451"><a id="least-account-wcf"></a>WCF: Použijte toorun nejméně privilegovaným účtem služby WCF</span><span class="sxs-lookup"><span data-stu-id="5f96b-451"><a id="least-account-wcf"></a>WCF: Use a least-privileged account toorun your WCF service</span></span>

| <span data-ttu-id="5f96b-452">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-452">Title</span></span>                   | <span data-ttu-id="5f96b-453">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-453">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-454">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-454">**Component**</span></span>               | <span data-ttu-id="5f96b-455">WCF</span><span class="sxs-lookup"><span data-stu-id="5f96b-455">WCF</span></span> | 
| <span data-ttu-id="5f96b-456">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-456">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-457">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-457">Build</span></span> |  
| <span data-ttu-id="5f96b-458">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-458">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-459">Rozhraní .NET framework 3</span><span class="sxs-lookup"><span data-stu-id="5f96b-459">.NET Framework 3</span></span> |
| <span data-ttu-id="5f96b-460">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-460">**Attributes**</span></span>              | <span data-ttu-id="5f96b-461">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-461">N/A</span></span>  |
| <span data-ttu-id="5f96b-462">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-462">**References**</span></span>              | [<span data-ttu-id="5f96b-463">MSDN</span><span class="sxs-lookup"><span data-stu-id="5f96b-463">MSDN</span></span>](https://msdn.microsoft.com/library/ff648826.aspx ) |
| <span data-ttu-id="5f96b-464">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-464">**Steps**</span></span> | <ul><li><span data-ttu-id="5f96b-465">**Vysvětlení:** se nespustí služby WCF v části správce nebo účtu vysokou úrovní oprávnění.</span><span class="sxs-lookup"><span data-stu-id="5f96b-465">**EXPLANATION:** Do not run WCF services under admin or high privilege account.</span></span> <span data-ttu-id="5f96b-466">v případě ohrožení zabezpečení služeb způsobí vysoký dopad.</span><span class="sxs-lookup"><span data-stu-id="5f96b-466">in case of services compromise it will result in high impact.</span></span></li><li><span data-ttu-id="5f96b-467">**DOPORUČENÍ:** použít nejméně privilegovaným účtem toohost, vaše WCF služby, protože se sníží prostor pro útoky vaší aplikace a omezit možné škody hello, pokud jsou napadení.</span><span class="sxs-lookup"><span data-stu-id="5f96b-467">**RECOMMENDATIONS:** Use a least-privileged account toohost your WCF service because it will reduce your application's attack surface and reduce hello potential damage if you are attacked.</span></span> <span data-ttu-id="5f96b-468">Pokud účet služby hello vyžaduje další oprávnění na prostředcích infrastruktury, jako je například služby MSMQ, hello protokolu událostí, čítače výkonu a systému souborů hello, příslušná oprávnění má být poskytnut toothese prostředky tak, aby hello služby WCF úspěšně.</span><span class="sxs-lookup"><span data-stu-id="5f96b-468">If hello service account requires additional access rights on infrastructure resources such as MSMQ, hello event log, performance counters, and hello file system, appropriate permissions should be given toothese resources so that hello WCF service can run successfully.</span></span></li></ul><p><span data-ttu-id="5f96b-469">Pokud vaše služba potřebuje tooaccess specifické prostředky jménem hello původní volající, použijte pro příjem dat autorizace kontrolu zosobnění a delegování tooflow hello identitu volajícího.</span><span class="sxs-lookup"><span data-stu-id="5f96b-469">If your service needs tooaccess specific resources on behalf of hello original caller, use impersonation and delegation tooflow hello caller's identity for a downstream authorization check.</span></span> <span data-ttu-id="5f96b-470">Ve scénáři vývoj pomocí hello místní účet network service, což je speciální předdefinovaný účet, který má omezená oprávnění.</span><span class="sxs-lookup"><span data-stu-id="5f96b-470">In a development scenario, use hello local network service account, which is a special built-in account that has reduced privileges.</span></span> <span data-ttu-id="5f96b-471">V případě produkční vytvoření účtu služby nejméně privilegovaným vlastní doménu.</span><span class="sxs-lookup"><span data-stu-id="5f96b-471">In a production scenario, create a least-privileged custom domain service account.</span></span></p>|

## <span data-ttu-id="5f96b-472"><a id="webapi-https"></a>Vynutit provoz tooWeb všechny rozhraní API přes připojení HTTPS</span><span class="sxs-lookup"><span data-stu-id="5f96b-472"><a id="webapi-https"></a>Force all traffic tooWeb APIs over HTTPS connection</span></span>

| <span data-ttu-id="5f96b-473">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-473">Title</span></span>                   | <span data-ttu-id="5f96b-474">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-474">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-475">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-475">**Component**</span></span>               | <span data-ttu-id="5f96b-476">Web API</span><span class="sxs-lookup"><span data-stu-id="5f96b-476">Web API</span></span> | 
| <span data-ttu-id="5f96b-477">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-477">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-478">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-478">Build</span></span> |  
| <span data-ttu-id="5f96b-479">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-479">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-480">MVC5 MVC6</span><span class="sxs-lookup"><span data-stu-id="5f96b-480">MVC5, MVC6</span></span> |
| <span data-ttu-id="5f96b-481">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-481">**Attributes**</span></span>              | <span data-ttu-id="5f96b-482">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-482">N/A</span></span>  |
| <span data-ttu-id="5f96b-483">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-483">**References**</span></span>              | [<span data-ttu-id="5f96b-484">Vynucování SSL v Kontroleru webového rozhraní API</span><span class="sxs-lookup"><span data-stu-id="5f96b-484">Enforcing SSL in a Web API Controller</span></span>](http://www.asp.net/web-api/overview/security/working-with-ssl-in-web-api) |
| <span data-ttu-id="5f96b-485">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-485">**Steps**</span></span> | <span data-ttu-id="5f96b-486">Pokud má aplikace HTTPS a vazbu protokolu HTTP, klienti mohou stále používat HTTP tooaccess hello lokality.</span><span class="sxs-lookup"><span data-stu-id="5f96b-486">If an application has both an HTTPS and an HTTP binding, clients can still use HTTP tooaccess hello site.</span></span> <span data-ttu-id="5f96b-487">tooprevent tuto, použijte tooensure filtru akce, které vyžadují tooprotected rozhraní API jsou vždy prostřednictvím protokolu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="5f96b-487">tooprevent this, use an action filter tooensure that requests tooprotected APIs are always over HTTPS.</span></span>|

### <a name="example"></a><span data-ttu-id="5f96b-488">Příklad</span><span class="sxs-lookup"><span data-stu-id="5f96b-488">Example</span></span> 
<span data-ttu-id="5f96b-489">Hello následující kód ukazuje filtr ověřování webového rozhraní API, který kontroluje pro protokol SSL:</span><span class="sxs-lookup"><span data-stu-id="5f96b-489">hello following code shows a Web API authentication filter that checks for SSL:</span></span> 
```C#
public class RequireHttpsAttribute : AuthorizationFilterAttribute
{
    public override void OnAuthorization(HttpActionContext actionContext)
    {
        if (actionContext.Request.RequestUri.Scheme != Uri.UriSchemeHttps)
        {
            actionContext.Response = new HttpResponseMessage(System.Net.HttpStatusCode.Forbidden)
            {
                ReasonPhrase = "HTTPS Required"
            };
        }
        else
        {
            base.OnAuthorization(actionContext);
        }
    }
}
```
<span data-ttu-id="5f96b-490">Přidejte tento filtr tooany webového rozhraní API akce, které vyžadují protokol SSL:</span><span class="sxs-lookup"><span data-stu-id="5f96b-490">Add this filter tooany Web API actions that require SSL:</span></span> 
```C#
public class ValuesController : ApiController
{
    [RequireHttps]
    public HttpResponseMessage Get() { ... }
}
```
 
## <span data-ttu-id="5f96b-491"><a id="redis-ssl"></a>Ujistěte se, že komunikace tooAzure Redis Cache je přes protokol SSL</span><span class="sxs-lookup"><span data-stu-id="5f96b-491"><a id="redis-ssl"></a>Ensure that communication tooAzure Redis Cache is over SSL</span></span>

| <span data-ttu-id="5f96b-492">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-492">Title</span></span>                   | <span data-ttu-id="5f96b-493">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-493">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-494">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-494">**Component**</span></span>               | <span data-ttu-id="5f96b-495">Azure Redis Cache</span><span class="sxs-lookup"><span data-stu-id="5f96b-495">Azure Redis Cache</span></span> | 
| <span data-ttu-id="5f96b-496">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-496">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-497">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-497">Build</span></span> |  
| <span data-ttu-id="5f96b-498">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-498">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-499">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-499">Generic</span></span> |
| <span data-ttu-id="5f96b-500">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-500">**Attributes**</span></span>              | <span data-ttu-id="5f96b-501">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-501">N/A</span></span>  |
| <span data-ttu-id="5f96b-502">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-502">**References**</span></span>              | [<span data-ttu-id="5f96b-503">Podpora Azure Redis SSL</span><span class="sxs-lookup"><span data-stu-id="5f96b-503">Azure Redis SSL support</span></span>](https://azure.microsoft.com/documentation/articles/cache-faq/#when-should-i-enable-the-non-ssl-port-for-connecting-to-redis) |
| <span data-ttu-id="5f96b-504">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-504">**Steps**</span></span> | <span data-ttu-id="5f96b-505">Redis serveru SSL předinstalované hello nepodporuje, ale v Azure Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="5f96b-505">Redis server does not support SSL out of hello box, but Azure Redis Cache does.</span></span> <span data-ttu-id="5f96b-506">Pokud se připojujete tooAzure Redis Cache a váš klient podporuje protokol SSL, jako je StackExchange.Redis, musí používat protokol SSL.</span><span class="sxs-lookup"><span data-stu-id="5f96b-506">If you are connecting tooAzure Redis Cache and your client supports SSL, like StackExchange.Redis, then you should use SSL.</span></span> <span data-ttu-id="5f96b-507">Ve výchozím nastavení port bez SSL pro nové instance služby Azure Redis Cache zakázán.</span><span class="sxs-lookup"><span data-stu-id="5f96b-507">By default non-SSL port is disabled for new Azure Redis Cache instances.</span></span> <span data-ttu-id="5f96b-508">Ujistěte se, že výchozí nastavení zabezpečení hello se nezmění, dokud je závislost na podporu protokolu SSL pro klienty redis.</span><span class="sxs-lookup"><span data-stu-id="5f96b-508">Ensure that hello secure defaults are not changed unless there is a dependency on SSL support for redis clients.</span></span> |

<span data-ttu-id="5f96b-509">Upozornění: Redis se navrženou toobe přístup důvěryhodné klienty uvnitř důvěryhodného prostředí.</span><span class="sxs-lookup"><span data-stu-id="5f96b-509">Please note that Redis is designed toobe accessed by trusted clients inside trusted environments.</span></span> <span data-ttu-id="5f96b-510">To znamená, že obvykle není dobrou nápad tooexpose hello Redis instance přímo toohello internet nebo obecně tooan prostředí, kde můžete přímý přístup k nedůvěryhodní klienti hello Redis TCP port nebo UNIX soketu.</span><span class="sxs-lookup"><span data-stu-id="5f96b-510">This means that usually it is not a good idea tooexpose hello Redis instance directly toohello internet or, in general, tooan environment where untrusted clients can directly access hello Redis TCP port or UNIX socket.</span></span> 

## <span data-ttu-id="5f96b-511"><a id="device-field"></a>Zabezpečení komunikace brány tooField zařízení</span><span class="sxs-lookup"><span data-stu-id="5f96b-511"><a id="device-field"></a>Secure Device tooField Gateway communication</span></span>

| <span data-ttu-id="5f96b-512">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-512">Title</span></span>                   | <span data-ttu-id="5f96b-513">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-513">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-514">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-514">**Component**</span></span>               | <span data-ttu-id="5f96b-515">Brána pole IoT</span><span class="sxs-lookup"><span data-stu-id="5f96b-515">IoT Field Gateway</span></span> | 
| <span data-ttu-id="5f96b-516">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-516">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-517">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-517">Build</span></span> |  
| <span data-ttu-id="5f96b-518">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-518">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-519">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-519">Generic</span></span> |
| <span data-ttu-id="5f96b-520">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-520">**Attributes**</span></span>              | <span data-ttu-id="5f96b-521">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-521">N/A</span></span>  |
| <span data-ttu-id="5f96b-522">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-522">**References**</span></span>              | <span data-ttu-id="5f96b-523">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-523">N/A</span></span>  |
| <span data-ttu-id="5f96b-524">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-524">**Steps**</span></span> | <span data-ttu-id="5f96b-525">Pro zařízení, na základě IP může hello komunikační protokol obvykle zapouzdřené v protokolu SSL/TLS kanál tooprotect dat během přenosu.</span><span class="sxs-lookup"><span data-stu-id="5f96b-525">For IP based devices, hello communication protocol could typically be encapsulated in a SSL/TLS channel tooprotect data in transit.</span></span> <span data-ttu-id="5f96b-526">Pro jiné protokoly, které nepodporují SSL/TLS zjistěte, jestli existují zabezpečené verze hello protokolu, které poskytují zabezpečení ve vrstvě přenosu nebo zprávy.</span><span class="sxs-lookup"><span data-stu-id="5f96b-526">For other protocols that do not support SSL/TLS investigate if there are secure versions of hello protocol that provide security at transport or message layer.</span></span> |

## <span data-ttu-id="5f96b-527"><a id="device-cloud"></a>Zabezpečení tooCloud zařízení brány komunikaci pomocí protokolu SSL/TLS</span><span class="sxs-lookup"><span data-stu-id="5f96b-527"><a id="device-cloud"></a>Secure Device tooCloud Gateway communication using SSL/TLS</span></span>

| <span data-ttu-id="5f96b-528">Název</span><span class="sxs-lookup"><span data-stu-id="5f96b-528">Title</span></span>                   | <span data-ttu-id="5f96b-529">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="5f96b-529">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="5f96b-530">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="5f96b-530">**Component**</span></span>               | <span data-ttu-id="5f96b-531">Brána IoT cloudu</span><span class="sxs-lookup"><span data-stu-id="5f96b-531">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="5f96b-532">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="5f96b-532">**SDL Phase**</span></span>               | <span data-ttu-id="5f96b-533">Sestavení</span><span class="sxs-lookup"><span data-stu-id="5f96b-533">Build</span></span> |  
| <span data-ttu-id="5f96b-534">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="5f96b-534">**Applicable Technologies**</span></span> | <span data-ttu-id="5f96b-535">Obecné</span><span class="sxs-lookup"><span data-stu-id="5f96b-535">Generic</span></span> |
| <span data-ttu-id="5f96b-536">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-536">**Attributes**</span></span>              | <span data-ttu-id="5f96b-537">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="5f96b-537">N/A</span></span>  |
| <span data-ttu-id="5f96b-538">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="5f96b-538">**References**</span></span>              | [<span data-ttu-id="5f96b-539">Zvolte komunikační protokol</span><span class="sxs-lookup"><span data-stu-id="5f96b-539">Choose your Communication Protocol</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-devguide/#messaging) |
| <span data-ttu-id="5f96b-540">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="5f96b-540">**Steps**</span></span> | <span data-ttu-id="5f96b-541">Zabezpečení protokolu HTTP nebo AMQP nebo protokoly MQTT pomocí protokolu SSL/TLS.</span><span class="sxs-lookup"><span data-stu-id="5f96b-541">Secure HTTP/AMQP or MQTT protocols using SSL/TLS.</span></span> |
