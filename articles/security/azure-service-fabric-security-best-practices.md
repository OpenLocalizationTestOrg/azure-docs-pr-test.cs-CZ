---
title: "osvědčené postupy zabezpečení aaaAzure Service Fabric | Microsoft Docs"
description: "Tento článek obsahuje sadu osvědčené postupy pro zabezpečení Azure Service Fabric."
services: security
documentationcenter: na
author: unifycloud
manager: swadhwa
editor: tomsh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/04/2017
ms.author: tomsh
ms.openlocfilehash: 483a21240da17d56bb4641653093ddcbad379d6a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="azure-service-fabric-security-best-practices"></a><span data-ttu-id="354f4-103">Azure Service Fabric osvědčené postupy zabezpečení</span><span class="sxs-lookup"><span data-stu-id="354f4-103">Azure Service Fabric security best practices</span></span>
<span data-ttu-id="354f4-104">Nasazení aplikace v Azure je rychlý, snadný a nákladově efektivní.</span><span class="sxs-lookup"><span data-stu-id="354f4-104">Deploying an application on Azure is fast, easy, and cost-effective.</span></span> <span data-ttu-id="354f4-105">Před nasazením cloudových aplikací v provozním užitečné toohave představuje dobrou praxi tooassist při hodnocení aplikace podle seznamu důležité a doporučené osvědčené postupy.</span><span class="sxs-lookup"><span data-stu-id="354f4-105">Before deploying cloud application in production useful toohave a best practice tooassist in evaluating your application against a list of essential and recommended best practices.</span></span>

<span data-ttu-id="354f4-106">Azure Service Fabric je platforma distribuovaných systémů, která umožňuje snadno toopackage, nasadit a spravovat škálovatelného a spolehlivého mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="354f4-106">Azure Service Fabric is a distributed systems platform that makes it easy toopackage, deploy, and manage scalable and reliable microservices.</span></span> <span data-ttu-id="354f4-107">Service Fabric také řeší hello významné problémy ve vývoji a správě cloudových aplikací.</span><span class="sxs-lookup"><span data-stu-id="354f4-107">Service Fabric also addresses hello significant challenges in developing and managing cloud applications.</span></span> <span data-ttu-id="354f4-108">Vývojáři a správci se můžou vyhnout problémům se složitou infrastrukturou a místo toho se soustředit na implementaci zásadních a náročných úloh, které jsou škálovatelné, spolehlivé a spravovatelné.</span><span class="sxs-lookup"><span data-stu-id="354f4-108">Developers and administrators can avoid complex infrastructure problems and focus on implementing mission-critical, demanding workloads that are scalable, reliable, and manageable.</span></span> 

<span data-ttu-id="354f4-109">Pro každý osvědčený postup objasníme:</span><span class="sxs-lookup"><span data-stu-id="354f4-109">For each best practice, we explain:</span></span>

-   <span data-ttu-id="354f4-110">Jaké hello osvědčeným postupem je</span><span class="sxs-lookup"><span data-stu-id="354f4-110">What hello best practice is</span></span>
-   <span data-ttu-id="354f4-111">Proč chcete tooenable, že osvědčeným postupem</span><span class="sxs-lookup"><span data-stu-id="354f4-111">Why you want tooenable that best practice</span></span>
-   <span data-ttu-id="354f4-112">Pokud selže tooenable hello osvědčený postup, co mohou být výsledek hello</span><span class="sxs-lookup"><span data-stu-id="354f4-112">What might be hello result if you fail tooenable hello best practice</span></span>
-   <span data-ttu-id="354f4-113">Jak můžete získat informace tooenable hello osvědčený postup</span><span class="sxs-lookup"><span data-stu-id="354f4-113">How you can learn tooenable hello best practice</span></span>

<span data-ttu-id="354f4-114">V současné době máme hello následující osvědčené postupy zabezpečení Azure Service Fabric:</span><span class="sxs-lookup"><span data-stu-id="354f4-114">We currently have hello following Azure Service Fabric security best practices:</span></span>

-   <span data-ttu-id="354f4-115">Pomocí šablony Azure arm prostředků a zabezpečení clusteru Service Fabric Azure PowerShell Module toocreate</span><span class="sxs-lookup"><span data-stu-id="354f4-115">Use Azure Resource Manager(ARM) template and Service Fabric Azure PowerShell Module toocreate secure cluster</span></span>
-   <span data-ttu-id="354f4-116">Použijte certifikáty X.509</span><span class="sxs-lookup"><span data-stu-id="354f4-116">Use X.509 certificates</span></span>
-   <span data-ttu-id="354f4-117">Konfigurovat zásady zabezpečení</span><span class="sxs-lookup"><span data-stu-id="354f4-117">Configure security policies</span></span>
-   <span data-ttu-id="354f4-118">Konfigurace zabezpečení spolehlivé Actors</span><span class="sxs-lookup"><span data-stu-id="354f4-118">Reliable Actors security configuration</span></span>
-   <span data-ttu-id="354f4-119">Konfigurace protokolu SSL pro Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="354f4-119">Configure SSL for Azure Service Fabric</span></span>
-   <span data-ttu-id="354f4-120">Izolace nebo zabezpečení sítě pomocí služby Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="354f4-120">Network Isolation/Security with Azure Service Fabric</span></span>
-   <span data-ttu-id="354f4-121">Nastavení trezoru klíčů pro zabezpečení</span><span class="sxs-lookup"><span data-stu-id="354f4-121">Set up a key vault for security</span></span>
-   <span data-ttu-id="354f4-122">Přiřazení uživatelů tooroles</span><span class="sxs-lookup"><span data-stu-id="354f4-122">Assign users tooroles</span></span>


## <a name="best-practices-for-securing-your-cluster"></a><span data-ttu-id="354f4-123">Osvědčené postupy pro zabezpečení vašeho clusteru</span><span class="sxs-lookup"><span data-stu-id="354f4-123">Best practices for securing your cluster</span></span>

<span data-ttu-id="354f4-124">**Velký obrázek**</span><span class="sxs-lookup"><span data-stu-id="354f4-124">**Big Picture**</span></span>

<span data-ttu-id="354f4-125">Vždy používat cluster s podporou zabezpečení</span><span class="sxs-lookup"><span data-stu-id="354f4-125">Always use a secure cluster</span></span>
-   <span data-ttu-id="354f4-126">Cluster zabezpečení – použití certifikátů</span><span class="sxs-lookup"><span data-stu-id="354f4-126">Cluster security – use Certificates</span></span>
-   <span data-ttu-id="354f4-127">Klientský přístup (správce a jen pro čtení) – použijte AAD</span><span class="sxs-lookup"><span data-stu-id="354f4-127">Client access (Admin and Read only) – use AAD</span></span>

<span data-ttu-id="354f4-128">Použití automatického nasazení</span><span class="sxs-lookup"><span data-stu-id="354f4-128">Use automated deployments</span></span>
-   <span data-ttu-id="354f4-129">Používat skripty toogenerate, nasazení a mění tajné klíče</span><span class="sxs-lookup"><span data-stu-id="354f4-129">Use scripts toogenerate, deploy and, roll over secrets</span></span>
-   <span data-ttu-id="354f4-130">Mějte KV hello tajných klíčů, použijte AD pro všechny ostatní klientský přístup</span><span class="sxs-lookup"><span data-stu-id="354f4-130">Keep hello secrets in KV, use AD for all other client access</span></span>
-   <span data-ttu-id="354f4-131">Bez lidské by měl mít toothem přístup bez ověřování.</span><span class="sxs-lookup"><span data-stu-id="354f4-131">No human should have access toothem without authentication.</span></span>

<span data-ttu-id="354f4-132">Kromě toho zvažte následující hello:</span><span class="sxs-lookup"><span data-stu-id="354f4-132">Additionally, consider hello following:</span></span>
-   <span data-ttu-id="354f4-133">Vytvoření zóny DMZ pomocí skupin zabezpečení sítě (Nsg)</span><span class="sxs-lookup"><span data-stu-id="354f4-133">Create DMZs using Network Security Groups (NSGs)</span></span>
-   <span data-ttu-id="354f4-134">Použít tooRDP servery přechod do clusteru virtuálních počítačů nebo toomanage clusteru</span><span class="sxs-lookup"><span data-stu-id="354f4-134">Use Jump servers tooRDP into cluster VMs or toomanage your cluster</span></span>

<span data-ttu-id="354f4-135">Clustery musí být zabezpečené tooprevent neoprávněného uživatele z připojení clusteru tooyour, zejména v případě, že je v něm spuštěny úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="354f4-135">Clusters must be secured tooprevent unauthorized users from connecting tooyour cluster, especially when it has production workloads running on it.</span></span> <span data-ttu-id="354f4-136">Přestože je možné toocreate zabezpečená clusteru, tak umožňuje anonymní uživatelé tooconnect tooit, pokud vystavuje toohello koncové body správy veřejného Internetu.</span><span class="sxs-lookup"><span data-stu-id="354f4-136">Although it is possible toocreate an unsecured cluster, doing so allows anonymous users tooconnect tooit, if it exposes management endpoints toohello public Internet.</span></span>

<span data-ttu-id="354f4-137">Tyto scénáře tooimplement použít technologie.</span><span class="sxs-lookup"><span data-stu-id="354f4-137">Technologies used tooimplement those scenarios.</span></span> <span data-ttu-id="354f4-138">Hello [clusteru scénáře zabezpečení](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) jsou:</span><span class="sxs-lookup"><span data-stu-id="354f4-138">hello [cluster security scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) are:</span></span>

-   <span data-ttu-id="354f4-139">Uzly zabezpečení This zabezpečuje komunikaci mezi hello virtuálních počítačů a počítačů v clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="354f4-139">Node-to-node security- This secures communication between hello VMs and computers in hello cluster.</span></span> <span data-ttu-id="354f4-140">Tím se zajistí, že pouze počítače, které jsou autorizované toojoin hello clusteru mohou být součástí hostování aplikací a služeb v clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="354f4-140">This ensures that only computers that are authorized toojoin hello cluster can participate in hosting applications and services in hello cluster.</span></span>
<span data-ttu-id="354f4-141">Clustery se systémem na Azure nebo samostatné clustery spuštěná v systému Windows můžete použít buď [zabezpečení Certificate](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) nebo [zabezpečení systému Windows](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) pro počítače, Windows Server.</span><span class="sxs-lookup"><span data-stu-id="354f4-141">Clusters running on Azure or standalone clusters running on Windows can use either [Certificate Security](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) or [Windows Security](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) for Windows Server machines.</span></span>
-   <span data-ttu-id="354f4-142">Uzel Klient zabezpečení This zabezpečuje komunikaci mezi klientem Service Fabric a jednotlivé uzly v clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="354f4-142">Client-to-node security- This secures communication between a Service Fabric client and individual nodes in hello cluster.</span></span>
-   <span data-ttu-id="354f4-143">Řízení přístupu na základě role (RBAC) – pro každou zadáte hello správce a uživatelských rolí klienta v době vytváření clusteru hello tím, že poskytuje samostatné identity (certifikáty, AAD atd.).</span><span class="sxs-lookup"><span data-stu-id="354f4-143">Role-based access control (RBAC) - You specify hello administrator and user client roles at hello time of cluster creation by providing separate identities (certificates, AAD etc.) for each.</span></span>
-   <span data-ttu-id="354f4-144">Doporučení zabezpečení-clusterů pro Azure, se doporučuje použít AAD zabezpečení tooauthenticate klientů a certifikáty pro zabezpečení mezi uzly.</span><span class="sxs-lookup"><span data-stu-id="354f4-144">Security Recommendations-For Azure clusters, it is recommended that you use AAD security tooauthenticate clients and certificates for node-to-node security.</span></span>

<span data-ttu-id="354f4-145">tooconfigure hello samostatný cluster systému Windows, najdete v části [konfiguraci nastavení pro cluster windows samostatné](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span><span class="sxs-lookup"><span data-stu-id="354f4-145">tooconfigure hello standalone Windows cluster, see [configure settings for standalone windows cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span></span>

<span data-ttu-id="354f4-146">Pomocí šablony Azure Resource Manager a zabezpečení clusteru Service Fabric Azure PowerShell Module toocreate.</span><span class="sxs-lookup"><span data-stu-id="354f4-146">Use Azure Resource Manager templates and Service Fabric Azure PowerShell Module toocreate secure cluster.</span></span>
<span data-ttu-id="354f4-147">Je k dispozici podrobný průvodce nevystavíte slabé stránky zabezpečení můžete pomocí nastavení zabezpečení Azure Service Fabric clusteru v Azure pomocí Azure Resource Manager [zde](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span><span class="sxs-lookup"><span data-stu-id="354f4-147">A step-by-step guide walks you through setting up a secure Azure Service Fabric cluster in Azure by using Azure Resource Manager is available [here](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span></span>

<span data-ttu-id="354f4-148">Použít toocustomize šablony Azure Resource Manager hello clusteru</span><span class="sxs-lookup"><span data-stu-id="354f4-148">Use hello Azure Resource Manager template toocustomize your cluster</span></span>
-   <span data-ttu-id="354f4-149">Instalační program spravované úložiště pro virtuální pevné disky virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="354f4-149">Setup-managed storage for VM VHDs</span></span>

<span data-ttu-id="354f4-150">Použít hello Azure Resource Manager šablony toodrive změny tooyour skupiny prostředků</span><span class="sxs-lookup"><span data-stu-id="354f4-150">Use hello Azure Resource Manager template toodrive changes tooyour Resource Group</span></span>
-   <span data-ttu-id="354f4-151">Snadno configuration management.</span><span class="sxs-lookup"><span data-stu-id="354f4-151">Easy configuration management</span></span>
-   <span data-ttu-id="354f4-152">Auditování</span><span class="sxs-lookup"><span data-stu-id="354f4-152">Auditing</span></span>

<span data-ttu-id="354f4-153">Konfiguraci clusteru považovat za kódu</span><span class="sxs-lookup"><span data-stu-id="354f4-153">Treat your cluster configuration as Code</span></span>
-   <span data-ttu-id="354f4-154">Při kontrole konfigurace hello zvolíte toodeploy důkladné</span><span class="sxs-lookup"><span data-stu-id="354f4-154">Be thorough in checking hello configurations you choose toodeploy</span></span>
-   <span data-ttu-id="354f4-155">Vyhněte se použití implicitní příkazy tootweak vaše prostředky přímo</span><span class="sxs-lookup"><span data-stu-id="354f4-155">Avoid using implicit commands tootweak your resources directly</span></span>

<span data-ttu-id="354f4-156">Mnoho aspektů hello [životního cyklu aplikace Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) lze automatizovat.</span><span class="sxs-lookup"><span data-stu-id="354f4-156">Many aspects of hello [Service Fabric application lifecycle](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) can be automated.</span></span> <span data-ttu-id="354f4-157">[Modul prostředí PowerShell Azure Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automatizuje běžné úlohy pro nasazení, upgrade, odebrání a testování aplikací pro Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="354f4-157">[Service Fabric Azure PowerShell Module](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automates common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span> <span data-ttu-id="354f4-158">Spravovat a rozhraní API HTTP pro správu aplikací jsou také k dispozici.</span><span class="sxs-lookup"><span data-stu-id="354f4-158">Managed and HTTP APIs for app management are also available.</span></span>

## <a name="use-x509-certificates"></a><span data-ttu-id="354f4-159">Použijte certifikáty X.509</span><span class="sxs-lookup"><span data-stu-id="354f4-159">Use X.509 certificates</span></span>
<span data-ttu-id="354f4-160">Clustery by měly být zabezpečeny vždy pomocí certifikátů X.509 nebo zabezpečení systému Windows.</span><span class="sxs-lookup"><span data-stu-id="354f4-160">Clusters should always be secured using X.509 certificates or Windows security.</span></span> <span data-ttu-id="354f4-161">Zabezpečení je nakonfigurovaná pouze při vytváření clusteru a není možné tooenable zabezpečení po vytvoření clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="354f4-161">Security is only configured at cluster creation time and it is not possible tooenable security after hello cluster is created.</span></span>

<span data-ttu-id="354f4-162">Pokud zadáte [clusteru certifikát](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), nastavte hodnotu hello ClusterCredentialType tooX509.</span><span class="sxs-lookup"><span data-stu-id="354f4-162">If you are specifying a [cluster certificate](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), set hello value of ClusterCredentialType tooX509.</span></span> <span data-ttu-id="354f4-163">Pokud zadáte certifikát serveru pro připojení mimo, nastavte hello ServerCredentialType tooX509.</span><span class="sxs-lookup"><span data-stu-id="354f4-163">If you are specifying server certificate for outside connections, set hello ServerCredentialType tooX509.</span></span>

-   <span data-ttu-id="354f4-164">Certifikáty používané v clusterech spuštění úlohy v produkčním prostředí by měla být vytvořen pomocí správně nakonfigurovaných certifikát služby Windows Server nebo získat ze schválené certifikační autoritou (CA).</span><span class="sxs-lookup"><span data-stu-id="354f4-164">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span>
-   <span data-ttu-id="354f4-165">Nikdy nepoužívejte žádné dočasných nebo testovací certifikáty v produkčním prostředí, které jsou vytvořeny pomocí nástrojů, jako je MakeCert.exe.</span><span class="sxs-lookup"><span data-stu-id="354f4-165">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe.</span></span>
-   <span data-ttu-id="354f4-166">Můžete použít certifikát podepsaný svým držitelem, ale měli tak učinit pouze pro testovací clustery a ne v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="354f4-166">You can use a self-signed certificate, but should only do so for test clusters and not in production.</span></span>

<span data-ttu-id="354f4-167">Pokud hello cluster nezabezpečená.</span><span class="sxs-lookup"><span data-stu-id="354f4-167">If hello cluster is unsecure.</span></span> <span data-ttu-id="354f4-168">Každý se může anonymně připojit a provádět operace správy, proto by produkční clustery vždy měly být zabezpečené pomocí certifikátů X.509 nebo zabezpečení systému Windows.</span><span class="sxs-lookup"><span data-stu-id="354f4-168">Anyone can connect anonymously and perform management operations, so production clusters should always be secured using X.509 certificates or Windows security.</span></span>

<span data-ttu-id="354f4-169">toolearn více jak tooenable certifikáty v service fabric cluster najdete [přidat nebo odebrat certifikáty pro service fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span><span class="sxs-lookup"><span data-stu-id="354f4-169">toolearn more how tooenable certificates in service fabric cluster see, [add or remove certificates for a service fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span></span>

## <a name="configure-security-policies"></a><span data-ttu-id="354f4-170">Konfigurovat zásady zabezpečení</span><span class="sxs-lookup"><span data-stu-id="354f4-170">Configure security policies</span></span>
<span data-ttu-id="354f4-171">Service Fabric také pomáhá zabezpečené hello prostředky, které jsou používány aplikací v době hello nasazení pod hello uživatelských účtů – například, soubory, adresářů a certifikáty.</span><span class="sxs-lookup"><span data-stu-id="354f4-171">Service Fabric also helps secure hello resources that are used by applications at hello time of deployment under hello user accounts--for example, files, directories, and certificates.</span></span> <span data-ttu-id="354f4-172">Díky spuštěné aplikace, i v prostředí sdílené hostované bezpečnější od sebe navzájem.</span><span class="sxs-lookup"><span data-stu-id="354f4-172">This makes running applications, even in a shared hosted environment, more secure from one another.</span></span>

-   <span data-ttu-id="354f4-173">Použít skupiny domény služby Active Directory nebo uživatele: můžete spustit služba hello hello pověření pro účet uživatele nebo skupiny služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="354f4-173">Use an Active Directory domain group or user: You can run hello service under hello credentials for an Active Directory user or group account.</span></span> <span data-ttu-id="354f4-174">Toto je služby Active Directory místně ve vaší doméně a není v Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="354f4-174">This is Active Directory on-premises within your domain and is not with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="354f4-175">Pomocí účtem uživatele domény nebo skupiny můžete pak přístup k jiným prostředkům v doméně hello (například sdílené složky), kterým bylo uděleno oprávnění.</span><span class="sxs-lookup"><span data-stu-id="354f4-175">By using a domain user or group, you can then access other resources in hello domain (for example, file shares) that have been granted permissions.</span></span>

-   <span data-ttu-id="354f4-176">Přiřadit zásady zabezpečení přístupu pro koncové body HTTP a HTTPS: Pokud použijete službu tooa zásad RunAs a hello service manifest deklaruje koncový bod prostředků s protokolem hello HTTP, je nutné zadat SecurityAccessPolicy tooensure, že porty přidělené toothese Koncové body jsou správně přístup řízenou uvedené pro hello RunAs uživatelský účet, který spouští služba hello.</span><span class="sxs-lookup"><span data-stu-id="354f4-176">Assign a security access policy for HTTP and HTTPS endpoints: If you apply a RunAs policy tooa service and hello service manifest declares endpoint resources with hello HTTP protocol, you must specify a SecurityAccessPolicy tooensure that ports allocated toothese endpoints are correctly access-controlled listed for hello RunAs user account that hello service runs under.</span></span> <span data-ttu-id="354f4-177">Jinak http.sys nemá přístup k toohello službu a získat selhání pomocí volání od klienta hello.</span><span class="sxs-lookup"><span data-stu-id="354f4-177">Otherwise, http.sys does not have access toohello service, and you get failures with calls from hello client.</span></span>
<span data-ttu-id="354f4-178">toolearn více povolit zásady zabezpečení v service fabric najdete [konfigurovat zásady zabezpečení pro vaši aplikaci](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span><span class="sxs-lookup"><span data-stu-id="354f4-178">toolearn more enable security policies in service fabric see, [configure security policies for your application](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span></span>

## <a name="reliable-actors-security-configuration"></a><span data-ttu-id="354f4-179">Konfigurace zabezpečení spolehlivé Actors</span><span class="sxs-lookup"><span data-stu-id="354f4-179">Reliable Actors security configuration</span></span>
<span data-ttu-id="354f4-180">Služba Fabric Reliable Actors je implementace tohoto vzoru návrhu objektu actor hello.</span><span class="sxs-lookup"><span data-stu-id="354f4-180">Service Fabric Reliable Actors is an implementation of hello actor design pattern.</span></span> <span data-ttu-id="354f4-181">Stejně jako u jakékoli vzoru návrhu softwaru hello rozhodnutí, jestli se provádí specifického vzoru toouse podle zda softwaru návrh problém vyhovuje vzoru hello.</span><span class="sxs-lookup"><span data-stu-id="354f4-181">As with any software design pattern, hello decision whether toouse a specific pattern is made based on whether or not a software design problem fits hello pattern.</span></span>

<span data-ttu-id="354f4-182">Jako obecné pokyny vezměte v úvahu hello objektu actor vzor toomodel problém nebo scénář pokud:</span><span class="sxs-lookup"><span data-stu-id="354f4-182">As general guidance, consider hello actor pattern toomodel your problem or scenario if:</span></span>
-   <span data-ttu-id="354f4-183">Váš prostor problém zahrnuje velký počet (tisíc nebo více) malé, nezávislé a izolované jednotek stavu a logiku.</span><span class="sxs-lookup"><span data-stu-id="354f4-183">Your problem space involves a large number (thousands or more) of small, independent, and isolated units of state and logic.</span></span>
-   <span data-ttu-id="354f4-184">Chcete toowork s jedním podprocesem objekty, které nevyžadují významné interakce z externí součásti, včetně dotaz na stav mezi sadu aktéři.</span><span class="sxs-lookup"><span data-stu-id="354f4-184">You want toowork with single-threaded objects that do not require significant interaction from external components, including querying state across a set of actors.</span></span>
-   <span data-ttu-id="354f4-185">Vaše instance objektu actor neblokuje volající s nepředvídatelným zpoždění vydáním vstupně-výstupních operací.</span><span class="sxs-lookup"><span data-stu-id="354f4-185">Your actor instances won't block callers with unpredictable delays by issuing I/O operations.</span></span>

<span data-ttu-id="354f4-186">V Service Fabric, kteří se implementují ve hello Reliable Actors framework: na základě objektu actor vzor aplikační rozhraní založené na [spolehlivé služby Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span><span class="sxs-lookup"><span data-stu-id="354f4-186">In Service Fabric, actors are implemented in hello Reliable Actors framework: An actor-pattern-based application framework built on top of [Service Fabric Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span></span> <span data-ttu-id="354f4-187">Každý spolehlivé objektu Actor službu, kterou píšete je ve skutečnosti oddílů, stavová spolehlivá služba.</span><span class="sxs-lookup"><span data-stu-id="354f4-187">Each Reliable Actor service you write is actually a partitioned, stateful Reliable Service.</span></span>
<span data-ttu-id="354f4-188">Každý objektu actor je definován jako instance typu objektu actor, způsob identické toohello objekt .NET je instance typu .NET.</span><span class="sxs-lookup"><span data-stu-id="354f4-188">Every actor is defined as an instance of an actor type, identical toohello way a .NET object is an instance of a .NET type.</span></span> <span data-ttu-id="354f4-189">Například může být typ objektu actor, který implementuje hello funkce kalkulačky a může být mnoho aktéři daného typu, které jsou rozmístěny v různých uzlech v clusteru.</span><span class="sxs-lookup"><span data-stu-id="354f4-189">For example, there may be an actor type that implements hello functionality of a calculator and there could be many actors of that type that are distributed on various nodes across a cluster.</span></span> <span data-ttu-id="354f4-190">Každé takové objektu actor je jedinečně identifikovaný identifikátor objektu actor.</span><span class="sxs-lookup"><span data-stu-id="354f4-190">Each such actor is uniquely identified by an actor ID.</span></span>

<span data-ttu-id="354f4-191">[Konfigurace zabezpečení Replikátor](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) jsou použité toosecure hello komunikační kanál, který se používá během replikace.</span><span class="sxs-lookup"><span data-stu-id="354f4-191">[Replicator security configurations](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) are used toosecure hello communication channel that is used during replication.</span></span> <span data-ttu-id="354f4-192">To znamená, že služby nelze vzájemně provoz replikace, zajišťující, že hello data, která vysokou dostupnost, je také zabezpečené.</span><span class="sxs-lookup"><span data-stu-id="354f4-192">This means that services cannot see each other's replication traffic, ensuring that hello data that is made highly available is also secure.</span></span> <span data-ttu-id="354f4-193">Ve výchozím nastavení zabraňuje konfigurační oddíl prázdný zabezpečení zabezpečení replikace.</span><span class="sxs-lookup"><span data-stu-id="354f4-193">By default, an empty security configuration section prevents replication security.</span></span>
<span data-ttu-id="354f4-194">Konfigurace Replikátor nakonfigurovat hello Replikátor, která je odpovědná za vytváření vysoce spolehlivé hello zprostředkovatele stavu objektu Actor stavu.</span><span class="sxs-lookup"><span data-stu-id="354f4-194">Replicator configurations configure hello replicator that is responsible for making hello Actor State Provider state highly reliable.</span></span>

## <a name="configure-ssl-for-azure-service-fabric"></a><span data-ttu-id="354f4-195">Konfigurace protokolu SSL pro Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="354f4-195">Configure SSL for Azure Service Fabric</span></span>

<span data-ttu-id="354f4-196">Ověření serveru: [ověřuje](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) hello clusteru správy koncové body tooa správy klienta, tak, aby hello klienta pro správu zná ho je rozhovoru toohello skutečné clusteru.</span><span class="sxs-lookup"><span data-stu-id="354f4-196">Server authentication: [Authenticates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) hello cluster management endpoints tooa management client, so that hello management client knows it is talking toohello real cluster.</span></span> <span data-ttu-id="354f4-197">Tento certifikát také poskytuje [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) hello rozhraní API pro správu protokolu HTTPS a pro Service Fabric Explorer přes protokol HTTPS.</span><span class="sxs-lookup"><span data-stu-id="354f4-197">This certificate also provides an [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) for hello HTTPS management API and for Service Fabric Explorer over HTTPS.</span></span>
<span data-ttu-id="354f4-198">Je nutné získat vlastní název domény pro váš cluster.</span><span class="sxs-lookup"><span data-stu-id="354f4-198">You must obtain a custom domain name for your cluster.</span></span> <span data-ttu-id="354f4-199">Pokud budete požadovat certifikát od certifikační Autority, hello názvu subjektu certifikátu musí odpovídat hello název vlastní domény, který používáte pro váš cluster.</span><span class="sxs-lookup"><span data-stu-id="354f4-199">When you request a certificate from a CA, hello certificate's subject name must match hello custom domain name that you use for your cluster.</span></span>

<span data-ttu-id="354f4-200">tooconfigure SSL pro aplikaci, musíte nejdřív tooget certifikát SSL, která byla podepsána pomocí certifikační autoritou (CA), důvěryhodná třetí straně, která vystavuje certifikáty pro tento účel.</span><span class="sxs-lookup"><span data-stu-id="354f4-200">tooconfigure SSL for an application, you first need tooget an SSL certificate that has been signed by a Certificate Authority (CA), a trusted third party who issues certificates for this purpose.</span></span> <span data-ttu-id="354f4-201">Pokud není již nemáte, je třeba tooobtain jeden ze společnosti, která prodává certifikáty SSL.</span><span class="sxs-lookup"><span data-stu-id="354f4-201">If you do not already have one, you need tooobtain one from a company that sells SSL certificates.</span></span>

<span data-ttu-id="354f4-202">certifikát Hello musí splňovat následující požadavky na certifikáty SSL v Azure hello:</span><span class="sxs-lookup"><span data-stu-id="354f4-202">hello certificate must meet hello following requirements for SSL certificates in Azure:</span></span>
-   <span data-ttu-id="354f4-203">Hello certifikát musí obsahovat privátní klíč.</span><span class="sxs-lookup"><span data-stu-id="354f4-203">hello certificate must contain a private key.</span></span>
-   <span data-ttu-id="354f4-204">Hello certifikátu musí být vytvořeny pro výměnu klíčů, exportovatelný tooa soubor Personal Information Exchange (.pfx).</span><span class="sxs-lookup"><span data-stu-id="354f4-204">hello certificate must be created for key exchange, exportable tooa Personal Information Exchange (.pfx) file.</span></span>
-   <span data-ttu-id="354f4-205">Hello názvu subjektu certifikátu musí odpovídat hello domény použít tooaccess hello cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="354f4-205">hello certificate's subject name must match hello domain used tooaccess hello cloud service.</span></span> <span data-ttu-id="354f4-206">Nelze získat certifikát SSL od certifikační autority (CA) pro doménu cloudapp.net hello.</span><span class="sxs-lookup"><span data-stu-id="354f4-206">You cannot obtain an SSL certificate from a certificate authority (CA) for hello cloudapp.net domain.</span></span> <span data-ttu-id="354f4-207">Musíte získat toouse název vlastní domény při přístupu ke službě.</span><span class="sxs-lookup"><span data-stu-id="354f4-207">You must acquire a custom domain name toouse when access your service.</span></span> <span data-ttu-id="354f4-208">Pokud budete požadovat certifikát od certifikační Autority, musí se název subjektu certifikátu hello odpovídat tooaccess název používaný hello vlastní domény aplikace.</span><span class="sxs-lookup"><span data-stu-id="354f4-208">When you request a certificate from a CA, hello certificate's subject name must match hello custom domain name used tooaccess your application.</span></span> <span data-ttu-id="354f4-209">Například pokud je váš vlastní název domény contoso.com můžete by žádost o certifikát z certifikační Autority pro **. contoso.com** nebo **www.contoso.com.**</span><span class="sxs-lookup"><span data-stu-id="354f4-209">For example, if your custom domain name is contoso.com you would request a certificate from your CA for **.contoso.com** or **www.contoso.com.**</span></span>
-   <span data-ttu-id="354f4-210">Hello certifikát musí používat minimálně 2048bitové šifrování.</span><span class="sxs-lookup"><span data-stu-id="354f4-210">hello certificate must use a minimum of 2048-bit encryption.</span></span>

<span data-ttu-id="354f4-211">HTTP je nezabezpečené a je subjektu tooeavesdropping útokům, protože hello dat přenášených z hello webové prohlížeče toohello webový server nebo mezi ostatní koncové body, se přenášejí v podobě prostého textu.</span><span class="sxs-lookup"><span data-stu-id="354f4-211">HTTP is insecure and is subject tooeavesdropping attacks because hello data being transferred from hello web browser toohello web server or between other endpoints, is transmitted in plaintext.</span></span> <span data-ttu-id="354f4-212">To znamená, že útočník může zachytávat a zobrazit citlivá data, jako je například údajů z platební karty a účet přihlášení.</span><span class="sxs-lookup"><span data-stu-id="354f4-212">This means attackers can intercept and view sensitive data, such as credit card details and account logins.</span></span> <span data-ttu-id="354f4-213">Když nebo odeslání dat odeslány prostřednictvím prohlížeče pomocí protokolu HTTPS, SSL zajišťuje, že tyto údaje šifrované a před narušením zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="354f4-213">When data is sent or posted through a browser using HTTPS, SSL ensures that such information is encrypted and secure from interception.</span></span>

<span data-ttu-id="354f4-214">toolearn více, zobrazit, [konfigurace protokolu SSL pro aplikaci azure](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span><span class="sxs-lookup"><span data-stu-id="354f4-214">toolearn more, see, [Configure SSL for azure application](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span></span>

## <a name="network-isolationsecurity-with-azure-service-fabric"></a><span data-ttu-id="354f4-215">Izolace nebo zabezpečení sítě pomocí služby Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="354f4-215">Network Isolation/Security with Azure Service Fabric</span></span>
<span data-ttu-id="354f4-216">Použití [šablony Azure Resource Manager (ARM)](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) jako ukázka pro nastavení tři nodetype zabezpečené clusteru a toocontrol hello příchozí a odchozí síťový provoz pomocí skupin zabezpečení sítě.</span><span class="sxs-lookup"><span data-stu-id="354f4-216">Use [Azure Resource Manager (ARM) template](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) as a sample for setting up a three nodetype secure cluster and toocontrol hello inbound and outbound network traffic using Network Security Groups.</span></span>

<span data-ttu-id="354f4-217">Šablona Hello má skupina zabezpečení sítě pro každou hello škálování set(VMSS) toocontrol hello přenosy dat virtuálních počítačů a deaktivovat hello VMSS.</span><span class="sxs-lookup"><span data-stu-id="354f4-217">hello template has a Network Security Group for each of hello virtual machine scale set(VMSS) toocontrol hello traffic in and out of hello VMSS.</span></span> <span data-ttu-id="354f4-218">Ve výchozím nastavení jsou hello systému služby a hello aplikace porty zadané v šabloně hello hello pravidla nastavit tooallow všechny hello přenos nezbytný.</span><span class="sxs-lookup"><span data-stu-id="354f4-218">As a default, hello rules are set up tooallow all hello traffic needed by hello system services and hello application ports specified in hello template.</span></span> <span data-ttu-id="354f4-219">Zkontrolujte tato pravidla a provést změny toofit vašim potřebám, včetně přidání jakékoli nové pro vaše aplikace.</span><span class="sxs-lookup"><span data-stu-id="354f4-219">Review those rules and make changes toofit your needs, including add any new ones for your applications.</span></span>

<span data-ttu-id="354f4-220">Další informace najdete v tématu [Azure Service Fabric – běžné scénáře sítě](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span><span class="sxs-lookup"><span data-stu-id="354f4-220">For more information, see [Azure Service Fabric – Common Networking Scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span></span>

## <a name="set-up-a-key-vault-for-security"></a><span data-ttu-id="354f4-221">Nastavení trezoru klíčů pro zabezpečení</span><span class="sxs-lookup"><span data-stu-id="354f4-221">Set up a key vault for security</span></span>
<span data-ttu-id="354f4-222">Certifikáty se používají v Service Fabric tooprovide ověřování a šifrování toosecure různé aspekty cluster a jeho aplikace.</span><span class="sxs-lookup"><span data-stu-id="354f4-222">Certificates are used in Service Fabric tooprovide authentication and encryption toosecure various aspects of a cluster and its applications.</span></span>

<span data-ttu-id="354f4-223">Service Fabric používá toosecure certifikáty X.509 cluster a poskytují funkce zabezpečení aplikací.</span><span class="sxs-lookup"><span data-stu-id="354f4-223">Service Fabric uses X.509 certificates toosecure a cluster and provide application security features.</span></span> <span data-ttu-id="354f4-224">Pomocí Key Vault příliš[spravovat certifikáty](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) pro clusterů Service Fabric v Azure.</span><span class="sxs-lookup"><span data-stu-id="354f4-224">You use Key Vault too[manage certificates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) for Service Fabric clusters in Azure.</span></span> <span data-ttu-id="354f4-225">Pokud cluster je nasazené v Azure, vyžaduje certifikáty od Key Vault hello poskytovatel prostředků Azure, která je odpovědná za vytváření clusterů Service Fabric a nainstaluje je hello clusteru virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="354f4-225">When a cluster is deployed in Azure, hello Azure resource provider that's responsible for creating Service Fabric clusters pulls certificates from Key Vault and installs them on hello cluster VMs.</span></span>

<span data-ttu-id="354f4-226">vztah mezi Hello [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), service fabric cluster a hello poskytovatel prostředků Azure, která používá certifikáty uložené v trezoru klíčů při vytváření clusteru.</span><span class="sxs-lookup"><span data-stu-id="354f4-226">hello relationship between [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), a service fabric cluster, and hello Azure resource provider that uses certificates stored in a key vault when it creates a cluster.</span></span>

<span data-ttu-id="354f4-227">**Vytvořte skupinu prostředků** hello prvním krokem je toocreate skupinu prostředků speciálně pro váš trezor klíčů.</span><span class="sxs-lookup"><span data-stu-id="354f4-227">**Create a resource group** hello first step is toocreate a resource group specifically for your key vault.</span></span> <span data-ttu-id="354f4-228">Doporučujeme převést trezoru klíčů hello do vlastní skupiny prostředků.</span><span class="sxs-lookup"><span data-stu-id="354f4-228">We recommend that you put hello key vault into its own resource group.</span></span> <span data-ttu-id="354f4-229">Tato akce umožňuje odstranit hello výpočetního prostředí a úložiště skupiny prostředků, včetně hello skupinu prostředků, která obsahuje daný cluster Service Fabric bez ztráty klíče a tajné klíče.</span><span class="sxs-lookup"><span data-stu-id="354f4-229">This action lets you remove hello compute and storage resource groups, including hello resource group that contains your Service Fabric cluster, without losing your keys and secrets.</span></span> <span data-ttu-id="354f4-230">Skupina prostředků Hello, která obsahuje váš trezor klíčů musí být v hello stejné oblasti jako hello clusteru, který se používá.</span><span class="sxs-lookup"><span data-stu-id="354f4-230">hello resource group that contains your key vault must be in hello same region as hello cluster that is using it.</span></span>

<span data-ttu-id="354f4-231">**Vytvoření trezoru klíčů v novou skupinu prostředků hello** hello trezoru klíčů musí být povolen pro nasazení tooallow hello výpočetních prostředků zprostředkovatele tooget certifikáty z něj a nainstalujte ji na instancí virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="354f4-231">**Create a key vault in hello new resource group** hello key vault must be enabled for deployment tooallow hello compute resource provider tooget certificates from it and install it on virtual machine instances.</span></span>
<span data-ttu-id="354f4-232">toolearn více jak zjistit, tooset si Azure trezoru klíčů, [Začínáme s Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span><span class="sxs-lookup"><span data-stu-id="354f4-232">toolearn more how tooset up Azure key vault see, [Get started with Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span></span>

## <a name="assign-users-roles"></a><span data-ttu-id="354f4-233">Přiřadit role uživatele</span><span class="sxs-lookup"><span data-stu-id="354f4-233">Assign users roles</span></span>
<span data-ttu-id="354f4-234">Po vytvoření aplikace toorepresent hello cluster, přiřadit uživatelům role toohello nepodporuje Service Fabric: jen pro čtení a správce. Můžete přiřadit role hello pomocí hello portál Azure classic.</span><span class="sxs-lookup"><span data-stu-id="354f4-234">After you have created hello applications toorepresent your cluster, assign your users toohello roles supported by Service Fabric: read-only and admin. You can assign hello roles by using hello Azure classic portal.</span></span>

>[!Note]
> <span data-ttu-id="354f4-235">Další informace o rolích v Service Fabric najdete v tématu [řízení přístupu na základě rolí pro Service Fabric klienty](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span><span class="sxs-lookup"><span data-stu-id="354f4-235">For more information about roles in Service Fabric, see [Role-based access control for Service Fabric clients](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span></span>

<span data-ttu-id="354f4-236">Azure Service Fabric podporuje dva typy ovládacích prvků různý přístup pro klienty, které jsou připojené tooa [cluster Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): správce a uživatele.</span><span class="sxs-lookup"><span data-stu-id="354f4-236">Azure Service Fabric supports two different access control types for clients that are connected tooa [Service Fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): administrator and user.</span></span> <span data-ttu-id="354f4-237">Řízení přístupu umožňuje hello toolimit clusteru správce přístup toocertain operace na clusteru pro různé skupiny uživatelů, lepší zabezpečení hello clusteru.</span><span class="sxs-lookup"><span data-stu-id="354f4-237">Access control allows hello cluster administrator toolimit access toocertain cluster operations for different groups of users, making hello cluster more secure.</span></span>

## <a name="next-steps"></a><span data-ttu-id="354f4-238">Další kroky</span><span class="sxs-lookup"><span data-stu-id="354f4-238">Next steps</span></span>
- <span data-ttu-id="354f4-239">Nastavení Service Fabric [vývojového prostředí](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span><span class="sxs-lookup"><span data-stu-id="354f4-239">Setting up your Service Fabric [development environment](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span></span>
- <span data-ttu-id="354f4-240">Další informace o [možnosti podpory Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span><span class="sxs-lookup"><span data-stu-id="354f4-240">Learn about [Service Fabric support options](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span></span>

