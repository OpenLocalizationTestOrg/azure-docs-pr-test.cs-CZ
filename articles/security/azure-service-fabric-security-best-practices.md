---
title: "Azure Service Fabric osvědčené postupy zabezpečení | Microsoft Docs"
description: "Tento článek obsahuje sadu osvědčené postupy pro zabezpečení Azure Service Fabric."
services: security
documentationcenter: na
author: unifycloud
manager: swadhwa
editor: tomsh
ms.assetid: 
ms.service: security
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/04/2017
ms.author: tomsh
ms.openlocfilehash: 3132e42aac72c0132c7526ac56d80bc5eec269e7
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/18/2017
---
# <a name="azure-service-fabric-security-best-practices"></a><span data-ttu-id="2d112-103">Azure Service Fabric osvědčené postupy zabezpečení</span><span class="sxs-lookup"><span data-stu-id="2d112-103">Azure Service Fabric security best practices</span></span>
<span data-ttu-id="2d112-104">Nasazení aplikace v Azure je rychlý, snadný a nákladově efektivní.</span><span class="sxs-lookup"><span data-stu-id="2d112-104">Deploying an application on Azure is fast, easy, and cost-effective.</span></span> <span data-ttu-id="2d112-105">Před nasazením cloudových aplikací v provozním prostředí, které jsou užitečné používat osvědčený postup jako pomoc při hodnocení aplikace podle seznamu důležité a doporučené osvědčené postupy.</span><span class="sxs-lookup"><span data-stu-id="2d112-105">Before deploying cloud application in production useful to have a best practice to assist in evaluating your application against a list of essential and recommended best practices.</span></span>

<span data-ttu-id="2d112-106">Azure Service Fabric je platforma distribuovaných systémů usnadňující balení, nasazování a spravování škálovatelných a spolehlivých mikroslužeb.</span><span class="sxs-lookup"><span data-stu-id="2d112-106">Azure Service Fabric is a distributed systems platform that makes it easy to package, deploy, and manage scalable and reliable microservices.</span></span> <span data-ttu-id="2d112-107">Service Fabric se taky zaměřuje na problematiku vývoje a správy cloudových aplikací.</span><span class="sxs-lookup"><span data-stu-id="2d112-107">Service Fabric also addresses the significant challenges in developing and managing cloud applications.</span></span> <span data-ttu-id="2d112-108">Vývojáři a správci se můžou vyhnout problémům se složitou infrastrukturou a místo toho se soustředit na implementaci zásadních a náročných úloh, které jsou škálovatelné, spolehlivé a spravovatelné.</span><span class="sxs-lookup"><span data-stu-id="2d112-108">Developers and administrators can avoid complex infrastructure problems and focus on implementing mission-critical, demanding workloads that are scalable, reliable, and manageable.</span></span> 

<span data-ttu-id="2d112-109">Pro každý osvědčený postup objasníme:</span><span class="sxs-lookup"><span data-stu-id="2d112-109">For each best practice, we explain:</span></span>

-   <span data-ttu-id="2d112-110">Co je osvědčeným postupem</span><span class="sxs-lookup"><span data-stu-id="2d112-110">What the best practice is</span></span>
-   <span data-ttu-id="2d112-111">Proč chcete povolit tento osvědčený postup</span><span class="sxs-lookup"><span data-stu-id="2d112-111">Why you want to enable that best practice</span></span>
-   <span data-ttu-id="2d112-112">Pokud se nepodaří povolit osvědčený postup, co může být výsledkem</span><span class="sxs-lookup"><span data-stu-id="2d112-112">What might be the result if you fail to enable the best practice</span></span>
-   <span data-ttu-id="2d112-113">Jak můžete informace o povolení osvědčený postup</span><span class="sxs-lookup"><span data-stu-id="2d112-113">How you can learn to enable the best practice</span></span>

<span data-ttu-id="2d112-114">V současné době máme následující osvědčené postupy zabezpečení Azure Service Fabric:</span><span class="sxs-lookup"><span data-stu-id="2d112-114">We currently have the following Azure Service Fabric security best practices:</span></span>

-   <span data-ttu-id="2d112-115">Vytvoření zabezpečeného clusteru pomocí šablony arm prostředků Azure a modul prostředí PowerShell Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="2d112-115">Use Azure Resource Manager(ARM) template and Service Fabric Azure PowerShell Module to create secure cluster</span></span>
-   <span data-ttu-id="2d112-116">Použijte certifikáty X.509</span><span class="sxs-lookup"><span data-stu-id="2d112-116">Use X.509 certificates</span></span>
-   <span data-ttu-id="2d112-117">Konfigurovat zásady zabezpečení</span><span class="sxs-lookup"><span data-stu-id="2d112-117">Configure security policies</span></span>
-   <span data-ttu-id="2d112-118">Konfigurace zabezpečení spolehlivé Actors</span><span class="sxs-lookup"><span data-stu-id="2d112-118">Reliable Actors security configuration</span></span>
-   <span data-ttu-id="2d112-119">Konfigurace protokolu SSL pro Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="2d112-119">Configure SSL for Azure Service Fabric</span></span>
-   <span data-ttu-id="2d112-120">Izolace nebo zabezpečení sítě pomocí služby Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="2d112-120">Network Isolation/Security with Azure Service Fabric</span></span>
-   <span data-ttu-id="2d112-121">Nastavení trezoru klíčů pro zabezpečení</span><span class="sxs-lookup"><span data-stu-id="2d112-121">Set up a key vault for security</span></span>
-   <span data-ttu-id="2d112-122">Přiřadit uživatele k rolím</span><span class="sxs-lookup"><span data-stu-id="2d112-122">Assign users to roles</span></span>


## <a name="best-practices-for-securing-your-cluster"></a><span data-ttu-id="2d112-123">Osvědčené postupy pro zabezpečení vašeho clusteru</span><span class="sxs-lookup"><span data-stu-id="2d112-123">Best practices for securing your cluster</span></span>

<span data-ttu-id="2d112-124">**Velký obrázek**</span><span class="sxs-lookup"><span data-stu-id="2d112-124">**Big Picture**</span></span>

<span data-ttu-id="2d112-125">Vždy používat cluster s podporou zabezpečení</span><span class="sxs-lookup"><span data-stu-id="2d112-125">Always use a secure cluster</span></span>
-   <span data-ttu-id="2d112-126">Cluster zabezpečení – použití certifikátů</span><span class="sxs-lookup"><span data-stu-id="2d112-126">Cluster security – use Certificates</span></span>
-   <span data-ttu-id="2d112-127">Klientský přístup (správce a jen pro čtení) – použijte AAD</span><span class="sxs-lookup"><span data-stu-id="2d112-127">Client access (Admin and Read only) – use AAD</span></span>

<span data-ttu-id="2d112-128">Použití automatického nasazení</span><span class="sxs-lookup"><span data-stu-id="2d112-128">Use automated deployments</span></span>
-   <span data-ttu-id="2d112-129">Použít skripty k vytvoření, nasazení a mění tajné klíče</span><span class="sxs-lookup"><span data-stu-id="2d112-129">Use scripts to generate, deploy and, roll over secrets</span></span>
-   <span data-ttu-id="2d112-130">Mějte KV těchto tajných klíčů, použijte AD pro všechny ostatní klientský přístup</span><span class="sxs-lookup"><span data-stu-id="2d112-130">Keep the secrets in KV, use AD for all other client access</span></span>
-   <span data-ttu-id="2d112-131">Bez lidské měli přístup k nim bez ověřování.</span><span class="sxs-lookup"><span data-stu-id="2d112-131">No human should have access to them without authentication.</span></span>

<span data-ttu-id="2d112-132">Kromě toho zvažte následující:</span><span class="sxs-lookup"><span data-stu-id="2d112-132">Additionally, consider the following:</span></span>
-   <span data-ttu-id="2d112-133">Vytvoření zóny DMZ pomocí skupin zabezpečení sítě (Nsg)</span><span class="sxs-lookup"><span data-stu-id="2d112-133">Create DMZs using Network Security Groups (NSGs)</span></span>
-   <span data-ttu-id="2d112-134">Použít Jump servery pro připojení RDP do clusteru virtuálních počítačů nebo ke správě vašeho clusteru</span><span class="sxs-lookup"><span data-stu-id="2d112-134">Use Jump servers to RDP into cluster VMs or to manage your cluster</span></span>

<span data-ttu-id="2d112-135">Clustery musí být zabezpečená neoprávněným uživatelům zabránit v připojení ke clusteru, zejména v případě, že je v něm spuštěny úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="2d112-135">Clusters must be secured to prevent unauthorized users from connecting to your cluster, especially when it has production workloads running on it.</span></span> <span data-ttu-id="2d112-136">Přestože je možné vytvořit zabezpečená clusteru, tak učiníte, umožníte anonymní uživatelé pro připojení, pokud vystavuje koncové body správy do veřejného Internetu.</span><span class="sxs-lookup"><span data-stu-id="2d112-136">Although it is possible to create an unsecured cluster, doing so allows anonymous users to connect to it, if it exposes management endpoints to the public Internet.</span></span>

<span data-ttu-id="2d112-137">Technologie použít k implementaci těchto scénářů.</span><span class="sxs-lookup"><span data-stu-id="2d112-137">Technologies used to implement those scenarios.</span></span> <span data-ttu-id="2d112-138">[Clusteru scénáře zabezpečení](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) jsou:</span><span class="sxs-lookup"><span data-stu-id="2d112-138">The [cluster security scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security) are:</span></span>

-   <span data-ttu-id="2d112-139">Uzel zabezpečení This zabezpečuje komunikaci mezi virtuálních počítačů a počítačů v clusteru.</span><span class="sxs-lookup"><span data-stu-id="2d112-139">Node-to-node security- This secures communication between the VMs and computers in the cluster.</span></span> <span data-ttu-id="2d112-140">Tím se zajistí, že pouze počítače, které jsou autorizované pro připojení ke clusteru mohou být součástí hostování aplikací a služeb v clusteru.</span><span class="sxs-lookup"><span data-stu-id="2d112-140">This ensures that only computers that are authorized to join the cluster can participate in hosting applications and services in the cluster.</span></span>
<span data-ttu-id="2d112-141">Clustery se systémem na Azure nebo samostatné clustery spuštěná v systému Windows můžete použít buď [zabezpečení Certificate](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) nebo [zabezpečení systému Windows](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) pro počítače, Windows Server.</span><span class="sxs-lookup"><span data-stu-id="2d112-141">Clusters running on Azure or standalone clusters running on Windows can use either [Certificate Security](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security) or [Windows Security](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-windows-cluster-windows-security) for Windows Server machines.</span></span>
-   <span data-ttu-id="2d112-142">Uzel Klient zabezpečení This zabezpečuje komunikaci mezi klientem Service Fabric a jednotlivé uzly v clusteru.</span><span class="sxs-lookup"><span data-stu-id="2d112-142">Client-to-node security- This secures communication between a Service Fabric client and individual nodes in the cluster.</span></span>
-   <span data-ttu-id="2d112-143">Řízení přístupu na základě role (RBAC) – pro každou zadáte správce a uživatelských rolí klienta v době vytváření clusteru poskytnutím oddělené identity (certifikáty, AAD atd.).</span><span class="sxs-lookup"><span data-stu-id="2d112-143">Role-based access control (RBAC) - You specify the administrator and user client roles at the time of cluster creation by providing separate identities (certificates, AAD etc.) for each.</span></span>
-   <span data-ttu-id="2d112-144">Doporučení zabezpečení-clusterů pro Azure, se doporučuje použít k ověřování klientů a certifikáty pro zabezpečení – uzly zabezpečení AAD.</span><span class="sxs-lookup"><span data-stu-id="2d112-144">Security Recommendations-For Azure clusters, it is recommended that you use AAD security to authenticate clients and certificates for node-to-node security.</span></span>

<span data-ttu-id="2d112-145">Pro nakonfigurování clusteru Windows samostatné, najdete v části [konfiguraci nastavení pro cluster windows samostatné](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span><span class="sxs-lookup"><span data-stu-id="2d112-145">To configure the standalone Windows cluster, see [configure settings for standalone windows cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-manifest).</span></span>

<span data-ttu-id="2d112-146">K vytvoření zabezpečeného clusteru pomocí šablony Azure Resource Manager a Service Fabric Azure PowerShell Module.</span><span class="sxs-lookup"><span data-stu-id="2d112-146">Use Azure Resource Manager templates and Service Fabric Azure PowerShell Module to create secure cluster.</span></span>
<span data-ttu-id="2d112-147">Je k dispozici podrobný průvodce nevystavíte slabé stránky zabezpečení můžete pomocí nastavení zabezpečení Azure Service Fabric clusteru v Azure pomocí Azure Resource Manager [zde](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span><span class="sxs-lookup"><span data-stu-id="2d112-147">A step-by-step guide walks you through setting up a secure Azure Service Fabric cluster in Azure by using Azure Resource Manager is available [here](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm).</span></span>

<span data-ttu-id="2d112-148">Přizpůsobení clusteru pomocí šablony Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2d112-148">Use the Azure Resource Manager template to customize your cluster</span></span>
-   <span data-ttu-id="2d112-149">Instalační program spravované úložiště pro virtuální pevné disky virtuálního počítače</span><span class="sxs-lookup"><span data-stu-id="2d112-149">Setup-managed storage for VM VHDs</span></span>

<span data-ttu-id="2d112-150">Pomocí šablony Azure Resource Manager na jednotce změny ve vaší skupině prostředků</span><span class="sxs-lookup"><span data-stu-id="2d112-150">Use the Azure Resource Manager template to drive changes to your Resource Group</span></span>
-   <span data-ttu-id="2d112-151">Snadno configuration management.</span><span class="sxs-lookup"><span data-stu-id="2d112-151">Easy configuration management</span></span>
-   <span data-ttu-id="2d112-152">Auditování</span><span class="sxs-lookup"><span data-stu-id="2d112-152">Auditing</span></span>

<span data-ttu-id="2d112-153">Konfiguraci clusteru považovat za kódu</span><span class="sxs-lookup"><span data-stu-id="2d112-153">Treat your cluster configuration as Code</span></span>
-   <span data-ttu-id="2d112-154">Při kontrole konfigurace, které se rozhodnete nasadit důkladné</span><span class="sxs-lookup"><span data-stu-id="2d112-154">Be thorough in checking the configurations you choose to deploy</span></span>
-   <span data-ttu-id="2d112-155">Nepoužívejte implicitní příkazy přímo upravit vašich prostředků</span><span class="sxs-lookup"><span data-stu-id="2d112-155">Avoid using implicit commands to tweak your resources directly</span></span>

<span data-ttu-id="2d112-156">Mnoho aspektů [životního cyklu aplikace Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) lze automatizovat.</span><span class="sxs-lookup"><span data-stu-id="2d112-156">Many aspects of the [Service Fabric application lifecycle](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-lifecycle) can be automated.</span></span> <span data-ttu-id="2d112-157">[Modul prostředí PowerShell Azure Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automatizuje běžné úlohy pro nasazení, upgrade, odebrání a testování aplikací pro Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="2d112-157">[Service Fabric Azure PowerShell Module](https://docs.microsoft.com/azure/service-fabric/service-fabric-deploy-remove-applications#upload-the-application-package) automates common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span> <span data-ttu-id="2d112-158">Spravovat a rozhraní API HTTP pro správu aplikací jsou také k dispozici.</span><span class="sxs-lookup"><span data-stu-id="2d112-158">Managed and HTTP APIs for app management are also available.</span></span>

## <a name="use-x509-certificates"></a><span data-ttu-id="2d112-159">Použijte certifikáty X.509</span><span class="sxs-lookup"><span data-stu-id="2d112-159">Use X.509 certificates</span></span>
<span data-ttu-id="2d112-160">Clustery by měly být zabezpečeny vždy pomocí certifikátů X.509 nebo zabezpečení systému Windows.</span><span class="sxs-lookup"><span data-stu-id="2d112-160">Clusters should always be secured using X.509 certificates or Windows security.</span></span> <span data-ttu-id="2d112-161">Zabezpečení se konfiguruje jenom při vytváření clusteru a není možné povolit zabezpečení po vytvoření clusteru.</span><span class="sxs-lookup"><span data-stu-id="2d112-161">Security is only configured at cluster creation time and it is not possible to enable security after the cluster is created.</span></span>

<span data-ttu-id="2d112-162">Pokud zadáte [clusteru certifikát](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), nastavte hodnotu ClusterCredentialType na X509.</span><span class="sxs-lookup"><span data-stu-id="2d112-162">If you are specifying a [cluster certificate](https://docs.microsoft.com/azure/service-fabric/service-fabric-windows-cluster-x509-security), set the value of ClusterCredentialType to X509.</span></span> <span data-ttu-id="2d112-163">Pokud zadáte certifikát serveru pro připojení mimo, nastavte ServerCredentialType na X509.</span><span class="sxs-lookup"><span data-stu-id="2d112-163">If you are specifying server certificate for outside connections, set the ServerCredentialType to X509.</span></span>

-   <span data-ttu-id="2d112-164">Certifikáty používané v clusterech spuštění úlohy v produkčním prostředí by měla být vytvořen pomocí správně nakonfigurovaných certifikát služby Windows Server nebo získat ze schválené certifikační autoritou (CA).</span><span class="sxs-lookup"><span data-stu-id="2d112-164">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span>
-   <span data-ttu-id="2d112-165">Nikdy nepoužívejte žádné dočasných nebo testovací certifikáty v produkčním prostředí, které jsou vytvořeny pomocí nástrojů, jako je MakeCert.exe.</span><span class="sxs-lookup"><span data-stu-id="2d112-165">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe.</span></span>
-   <span data-ttu-id="2d112-166">Můžete použít certifikát podepsaný svým držitelem, ale měli tak učinit pouze pro testovací clustery a ne v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="2d112-166">You can use a self-signed certificate, but should only do so for test clusters and not in production.</span></span>

<span data-ttu-id="2d112-167">Pokud cluster zrušit zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="2d112-167">If the cluster is unsecure.</span></span> <span data-ttu-id="2d112-168">Každý se může anonymně připojit a provádět operace správy, proto by produkční clustery vždy měly být zabezpečené pomocí certifikátů X.509 nebo zabezpečení systému Windows.</span><span class="sxs-lookup"><span data-stu-id="2d112-168">Anyone can connect anonymously and perform management operations, so production clusters should always be secured using X.509 certificates or Windows security.</span></span>

<span data-ttu-id="2d112-169">Další informace o tom, jak povolit certifikátů najdete v tématu clusteru service fabric, [přidat nebo odebrat certifikáty pro service fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span><span class="sxs-lookup"><span data-stu-id="2d112-169">To learn more how to enable certificates in service fabric cluster see, [add or remove certificates for a service fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure).</span></span>

## <a name="configure-security-policies"></a><span data-ttu-id="2d112-170">Konfigurovat zásady zabezpečení</span><span class="sxs-lookup"><span data-stu-id="2d112-170">Configure security policies</span></span>
<span data-ttu-id="2d112-171">Service Fabric také pomáhá zabezpečit prostředky, které jsou používány aplikací v době nasazení podle uživatelských účtů – například soubory, adresářů a certifikáty.</span><span class="sxs-lookup"><span data-stu-id="2d112-171">Service Fabric also helps secure the resources that are used by applications at the time of deployment under the user accounts--for example, files, directories, and certificates.</span></span> <span data-ttu-id="2d112-172">Díky spuštěné aplikace, i v prostředí sdílené hostované bezpečnější od sebe navzájem.</span><span class="sxs-lookup"><span data-stu-id="2d112-172">This makes running applications, even in a shared hosted environment, more secure from one another.</span></span>

-   <span data-ttu-id="2d112-173">Použít skupiny domény služby Active Directory nebo uživatele: můžete spustit službu v části přihlašovací údaje pro účet uživatele nebo skupiny služby Active Directory.</span><span class="sxs-lookup"><span data-stu-id="2d112-173">Use an Active Directory domain group or user: You can run the service under the credentials for an Active Directory user or group account.</span></span> <span data-ttu-id="2d112-174">Toto je služby Active Directory místně ve vaší doméně a není v Azure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="2d112-174">This is Active Directory on-premises within your domain and is not with Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="2d112-175">Pomocí účtem uživatele domény nebo skupiny můžete pak přístup k jiným prostředkům v doméně (například sdílené složky), kterým bylo uděleno oprávnění.</span><span class="sxs-lookup"><span data-stu-id="2d112-175">By using a domain user or group, you can then access other resources in the domain (for example, file shares) that have been granted permissions.</span></span>

-   <span data-ttu-id="2d112-176">Přiřadit zásady zabezpečení přístupu pro koncové body HTTP a HTTPS: Pokud použít zásady RunAs služby a služby manifest deklaruje koncový bod prostředků pomocí protokolu HTTP, je nutné zadat SecurityAccessPolicy zajistit, že porty přidělené tyto Koncové body jsou správně přístup řízenou uvedené pro uživatelský účet Spustit jako, který se spouští služba.</span><span class="sxs-lookup"><span data-stu-id="2d112-176">Assign a security access policy for HTTP and HTTPS endpoints: If you apply a RunAs policy to a service and the service manifest declares endpoint resources with the HTTP protocol, you must specify a SecurityAccessPolicy to ensure that ports allocated to these endpoints are correctly access-controlled listed for the RunAs user account that the service runs under.</span></span> <span data-ttu-id="2d112-177">Jinak ovladač http.sys nemá přístup ke službě a získáte selhání pomocí volání z klienta.</span><span class="sxs-lookup"><span data-stu-id="2d112-177">Otherwise, http.sys does not have access to the service, and you get failures with calls from the client.</span></span>
<span data-ttu-id="2d112-178">Další informace povolit zásady zabezpečení v service fabric najdete [konfigurovat zásady zabezpečení pro vaši aplikaci](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span><span class="sxs-lookup"><span data-stu-id="2d112-178">To learn more enable security policies in service fabric see, [configure security policies for your application](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-runas-security).</span></span>

## <a name="reliable-actors-security-configuration"></a><span data-ttu-id="2d112-179">Konfigurace zabezpečení spolehlivé Actors</span><span class="sxs-lookup"><span data-stu-id="2d112-179">Reliable Actors security configuration</span></span>
<span data-ttu-id="2d112-180">Služba Fabric Reliable Actors je implementace tohoto vzoru návrhu objektu actor.</span><span class="sxs-lookup"><span data-stu-id="2d112-180">Service Fabric Reliable Actors is an implementation of the actor design pattern.</span></span> <span data-ttu-id="2d112-181">Rozhodnutí, jestli se má používat specifického vzoru se provádí podle zda softwaru návrh problém stejně jako u jakékoli vzoru návrhu softwaru vyhovuje vzoru.</span><span class="sxs-lookup"><span data-stu-id="2d112-181">As with any software design pattern, the decision whether to use a specific pattern is made based on whether or not a software design problem fits the pattern.</span></span>

<span data-ttu-id="2d112-182">Jako obecné pokyny vezměte v úvahu vzor objektu actor pro modelování problém nebo scénář, pokud:</span><span class="sxs-lookup"><span data-stu-id="2d112-182">As general guidance, consider the actor pattern to model your problem or scenario if:</span></span>
-   <span data-ttu-id="2d112-183">Váš prostor problém zahrnuje velký počet (tisíc nebo více) malé, nezávislé a izolované jednotek stavu a logiku.</span><span class="sxs-lookup"><span data-stu-id="2d112-183">Your problem space involves a large number (thousands or more) of small, independent, and isolated units of state and logic.</span></span>
-   <span data-ttu-id="2d112-184">Budete chtít pracovat s jedním podprocesem objekty, které nevyžadují významné interakce z externí součásti, včetně dotaz na stav mezi sadu aktéři.</span><span class="sxs-lookup"><span data-stu-id="2d112-184">You want to work with single-threaded objects that do not require significant interaction from external components, including querying state across a set of actors.</span></span>
-   <span data-ttu-id="2d112-185">Vaše instance objektu actor neblokuje volající s nepředvídatelným zpoždění vydáním vstupně-výstupních operací.</span><span class="sxs-lookup"><span data-stu-id="2d112-185">Your actor instances won't block callers with unpredictable delays by issuing I/O operations.</span></span>

<span data-ttu-id="2d112-186">V Service Fabric aktéři jsou implementované v rámci Reliable Actors: na základě objektu actor vzor aplikační rozhraní založené na [spolehlivé služby Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span><span class="sxs-lookup"><span data-stu-id="2d112-186">In Service Fabric, actors are implemented in the Reliable Actors framework: An actor-pattern-based application framework built on top of [Service Fabric Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction).</span></span> <span data-ttu-id="2d112-187">Každý spolehlivé objektu Actor službu, kterou píšete je ve skutečnosti oddílů, stavová spolehlivá služba.</span><span class="sxs-lookup"><span data-stu-id="2d112-187">Each Reliable Actor service you write is actually a partitioned, stateful Reliable Service.</span></span>
<span data-ttu-id="2d112-188">Každý objekt actor je definován jako instanci objektu actor typu identické způsobem, jakým objekt .NET je instance typu .NET.</span><span class="sxs-lookup"><span data-stu-id="2d112-188">Every actor is defined as an instance of an actor type, identical to the way a .NET object is an instance of a .NET type.</span></span> <span data-ttu-id="2d112-189">Například může být typ objektu actor, která implementuje funkce kalkulačky a může být mnoho aktéři daného typu, které jsou rozmístěny v různých uzlech v clusteru.</span><span class="sxs-lookup"><span data-stu-id="2d112-189">For example, there may be an actor type that implements the functionality of a calculator and there could be many actors of that type that are distributed on various nodes across a cluster.</span></span> <span data-ttu-id="2d112-190">Každé takové objektu actor je jedinečně identifikovaný identifikátor objektu actor.</span><span class="sxs-lookup"><span data-stu-id="2d112-190">Each such actor is uniquely identified by an actor ID.</span></span>

<span data-ttu-id="2d112-191">[Konfigurace zabezpečení Replikátor](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) se používají k zabezpečení komunikačního kanálu, který se používá během replikace.</span><span class="sxs-lookup"><span data-stu-id="2d112-191">[Replicator security configurations](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-kvsactorstateprovider-configuration) are used to secure the communication channel that is used during replication.</span></span> <span data-ttu-id="2d112-192">To znamená, že služby nelze vzájemně provoz replikace, zajišťující, že data, která vysokou dostupnost, je také zabezpečené.</span><span class="sxs-lookup"><span data-stu-id="2d112-192">This means that services cannot see each other's replication traffic, ensuring that the data that is made highly available is also secure.</span></span> <span data-ttu-id="2d112-193">Ve výchozím nastavení zabraňuje konfigurační oddíl prázdný zabezpečení zabezpečení replikace.</span><span class="sxs-lookup"><span data-stu-id="2d112-193">By default, an empty security configuration section prevents replication security.</span></span>
<span data-ttu-id="2d112-194">Konfigurace Replikátor nakonfigurovat Replikátor, která zodpovídá za vytvoření zprostředkovatele stavu objektu Actor stavu vysoce spolehlivé.</span><span class="sxs-lookup"><span data-stu-id="2d112-194">Replicator configurations configure the replicator that is responsible for making the Actor State Provider state highly reliable.</span></span>

## <a name="configure-ssl-for-azure-service-fabric"></a><span data-ttu-id="2d112-195">Konfigurace protokolu SSL pro Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="2d112-195">Configure SSL for Azure Service Fabric</span></span>

<span data-ttu-id="2d112-196">Ověření serveru: [ověřuje](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) clusteru koncových bodů správy klient pro správu, tak, aby klient správy zná je rozhovoru s skutečné clusteru.</span><span class="sxs-lookup"><span data-stu-id="2d112-196">Server authentication: [Authenticates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm) the cluster management endpoints to a management client, so that the management client knows it is talking to the real cluster.</span></span> <span data-ttu-id="2d112-197">Tento certifikát také poskytuje [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) pro rozhraní API pro správu protokolu HTTPS a pro Service Fabric Explorer přes protokol HTTPS.</span><span class="sxs-lookup"><span data-stu-id="2d112-197">This certificate also provides an [SSL](https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-cluster-creation-via-arm) for the HTTPS management API and for Service Fabric Explorer over HTTPS.</span></span>
<span data-ttu-id="2d112-198">Je nutné získat vlastní název domény pro váš cluster.</span><span class="sxs-lookup"><span data-stu-id="2d112-198">You must obtain a custom domain name for your cluster.</span></span> <span data-ttu-id="2d112-199">Pokud budete požadovat certifikát od certifikační Autority, název subjektu certifikátu musí odpovídat názvu vlastní domény, který používáte pro váš cluster.</span><span class="sxs-lookup"><span data-stu-id="2d112-199">When you request a certificate from a CA, the certificate's subject name must match the custom domain name that you use for your cluster.</span></span>

<span data-ttu-id="2d112-200">Konfigurace protokolu SSL pro aplikaci, musíte nejdřív získat certifikát SSL, která byla podepsána pomocí certifikační autoritou (CA), důvěryhodná třetí straně, která vystavuje certifikáty pro tento účel.</span><span class="sxs-lookup"><span data-stu-id="2d112-200">To configure SSL for an application, you first need to get an SSL certificate that has been signed by a Certificate Authority (CA), a trusted third party who issues certificates for this purpose.</span></span> <span data-ttu-id="2d112-201">Pokud není již nemáte, budete muset získat jeden ze společnosti, která prodává certifikáty SSL.</span><span class="sxs-lookup"><span data-stu-id="2d112-201">If you do not already have one, you need to obtain one from a company that sells SSL certificates.</span></span>

<span data-ttu-id="2d112-202">Certifikát musí splňovat následující požadavky na certifikáty SSL v Azure:</span><span class="sxs-lookup"><span data-stu-id="2d112-202">The certificate must meet the following requirements for SSL certificates in Azure:</span></span>
-   <span data-ttu-id="2d112-203">Certifikát musí obsahovat privátní klíč.</span><span class="sxs-lookup"><span data-stu-id="2d112-203">The certificate must contain a private key.</span></span>
-   <span data-ttu-id="2d112-204">Certifikát se musí vytvořit pro výměnu klíčů, exportovat do souboru Personal Information Exchange (.pfx).</span><span class="sxs-lookup"><span data-stu-id="2d112-204">The certificate must be created for key exchange, exportable to a Personal Information Exchange (.pfx) file.</span></span>
-   <span data-ttu-id="2d112-205">Název subjektu certifikátu musí odpovídat domény používá pro přístup ke cloudové službě.</span><span class="sxs-lookup"><span data-stu-id="2d112-205">The certificate's subject name must match the domain used to access the cloud service.</span></span> <span data-ttu-id="2d112-206">Nelze získat certifikát SSL od certifikační autority (CA) pro doménu cloudapp.net.</span><span class="sxs-lookup"><span data-stu-id="2d112-206">You cannot obtain an SSL certificate from a certificate authority (CA) for the cloudapp.net domain.</span></span> <span data-ttu-id="2d112-207">Musíte získat vlastní název domény má použít při přístupu ke službě.</span><span class="sxs-lookup"><span data-stu-id="2d112-207">You must acquire a custom domain name to use when access your service.</span></span> <span data-ttu-id="2d112-208">Pokud budete požadovat certifikát od certifikační Autority, název subjektu certifikátu musí odpovídat názvu vlastní domény, používá pro přístup k aplikaci.</span><span class="sxs-lookup"><span data-stu-id="2d112-208">When you request a certificate from a CA, the certificate's subject name must match the custom domain name used to access your application.</span></span> <span data-ttu-id="2d112-209">Například pokud je váš vlastní název domény contoso.com můžete by žádost o certifikát z certifikační Autority pro **. contoso.com** nebo **www.contoso.com.**</span><span class="sxs-lookup"><span data-stu-id="2d112-209">For example, if your custom domain name is contoso.com you would request a certificate from your CA for **.contoso.com** or **www.contoso.com.**</span></span>
-   <span data-ttu-id="2d112-210">Certifikát musí používat minimálně 2048bitové šifrování.</span><span class="sxs-lookup"><span data-stu-id="2d112-210">The certificate must use a minimum of 2048-bit encryption.</span></span>

<span data-ttu-id="2d112-211">HTTP je nezabezpečené a vystavené útokům odposlechu protože dat přenášených z webového prohlížeče na webový server nebo mezi ostatní koncové body, se přenášejí v podobě prostého textu.</span><span class="sxs-lookup"><span data-stu-id="2d112-211">HTTP is insecure and is subject to eavesdropping attacks because the data being transferred from the web browser to the web server or between other endpoints, is transmitted in plaintext.</span></span> <span data-ttu-id="2d112-212">To znamená, že útočník může zachytávat a zobrazit citlivá data, jako je například údajů z platební karty a účet přihlášení.</span><span class="sxs-lookup"><span data-stu-id="2d112-212">This means attackers can intercept and view sensitive data, such as credit card details and account logins.</span></span> <span data-ttu-id="2d112-213">Když nebo odeslání dat odeslány prostřednictvím prohlížeče pomocí protokolu HTTPS, SSL zajišťuje, že tyto údaje šifrované a před narušením zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="2d112-213">When data is sent or posted through a browser using HTTPS, SSL ensures that such information is encrypted and secure from interception.</span></span>

<span data-ttu-id="2d112-214">Další informace najdete v tématu, [konfigurace protokolu SSL pro aplikaci azure](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span><span class="sxs-lookup"><span data-stu-id="2d112-214">To learn more, see, [Configure SSL for azure application](https://docs.microsoft.com/azure/cloud-services/cloud-services-configure-ssl-certificate).</span></span>

## <a name="network-isolationsecurity-with-azure-service-fabric"></a><span data-ttu-id="2d112-215">Izolace nebo zabezpečení sítě pomocí služby Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="2d112-215">Network Isolation/Security with Azure Service Fabric</span></span>
<span data-ttu-id="2d112-216">Použití [šablony Azure Resource Manager (ARM)](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) jako ukázka pro nastavení zabezpečení clusteru tři nodetype a řídit příchozí a odchozí síťový provoz, použití skupin zabezpečení sítě.</span><span class="sxs-lookup"><span data-stu-id="2d112-216">Use [Azure Resource Manager (ARM) template](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-authoring-templates) as a sample for setting up a three nodetype secure cluster and to control the inbound and outbound network traffic using Network Security Groups.</span></span>

<span data-ttu-id="2d112-217">Šablona má skupina zabezpečení sítě pro každou set(VMSS) škálování virtuálního počítače k řízení provozu do a z VMSS.</span><span class="sxs-lookup"><span data-stu-id="2d112-217">The template has a Network Security Group for each of the virtual machine scale set(VMSS) to control the traffic in and out of the VMSS.</span></span> <span data-ttu-id="2d112-218">Ve výchozím nastavení jsou pravidla nastavit tak, aby veškerý provoz vyžaduje systémové služby a porty aplikace zadané v šabloně.</span><span class="sxs-lookup"><span data-stu-id="2d112-218">As a default, the rules are set up to allow all the traffic needed by the system services and the application ports specified in the template.</span></span> <span data-ttu-id="2d112-219">Zkontrolujte tato pravidla a provést změny podle vašich potřeb, včetně přidání jakékoli nové pro vaše aplikace.</span><span class="sxs-lookup"><span data-stu-id="2d112-219">Review those rules and make changes to fit your needs, including add any new ones for your applications.</span></span>

<span data-ttu-id="2d112-220">Další informace najdete v tématu [Azure Service Fabric – běžné scénáře sítě](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span><span class="sxs-lookup"><span data-stu-id="2d112-220">For more information, see [Azure Service Fabric – Common Networking Scenarios](https://docs.microsoft.com/azure/service-fabric/service-fabric-patterns-networking).</span></span>

## <a name="set-up-a-key-vault-for-security"></a><span data-ttu-id="2d112-221">Nastavení trezoru klíčů pro zabezpečení</span><span class="sxs-lookup"><span data-stu-id="2d112-221">Set up a key vault for security</span></span>
<span data-ttu-id="2d112-222">Ve službě Service Fabric se k ověřování a šifrování pro zabezpečení různých aspektů clusteru a jeho aplikací využívají certifikáty.</span><span class="sxs-lookup"><span data-stu-id="2d112-222">Certificates are used in Service Fabric to provide authentication and encryption to secure various aspects of a cluster and its applications.</span></span>

<span data-ttu-id="2d112-223">Service Fabric používá certifikáty X.509 k zabezpečení clusteru a poskytují funkce zabezpečení aplikací.</span><span class="sxs-lookup"><span data-stu-id="2d112-223">Service Fabric uses X.509 certificates to secure a cluster and provide application security features.</span></span> <span data-ttu-id="2d112-224">Pomocí Key Vault [spravovat certifikáty](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) pro clusterů Service Fabric v Azure.</span><span class="sxs-lookup"><span data-stu-id="2d112-224">You use Key Vault to [manage certificates](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-update-certs-azure) for Service Fabric clusters in Azure.</span></span> <span data-ttu-id="2d112-225">Pokud cluster je nasazené v Azure, poskytovatel prostředků Azure, která je odpovědná za vytváření clusterů Service Fabric vyžaduje certifikáty od Key Vault a nainstaluje je v clusteru virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="2d112-225">When a cluster is deployed in Azure, the Azure resource provider that's responsible for creating Service Fabric clusters pulls certificates from Key Vault and installs them on the cluster VMs.</span></span>

<span data-ttu-id="2d112-226">Vztah mezi [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), service fabric cluster a poskytovatel prostředků Azure, která používá certifikáty uložené v trezoru klíčů při vytváření clusteru.</span><span class="sxs-lookup"><span data-stu-id="2d112-226">The relationship between [Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-secure-your-key-vault), a service fabric cluster, and the Azure resource provider that uses certificates stored in a key vault when it creates a cluster.</span></span>

<span data-ttu-id="2d112-227">**Vytvořte skupinu prostředků** prvním krokem je vytvoření skupiny prostředků speciálně pro váš trezor klíčů.</span><span class="sxs-lookup"><span data-stu-id="2d112-227">**Create a resource group** The first step is to create a resource group specifically for your key vault.</span></span> <span data-ttu-id="2d112-228">Doporučujeme převést trezoru klíčů do vlastní skupiny prostředků.</span><span class="sxs-lookup"><span data-stu-id="2d112-228">We recommend that you put the key vault into its own resource group.</span></span> <span data-ttu-id="2d112-229">Tato akce umožňuje odstranit výpočetního prostředí a úložiště skupiny prostředků, včetně skupinu prostředků, která obsahuje daný cluster Service Fabric bez ztráty klíče a tajné klíče.</span><span class="sxs-lookup"><span data-stu-id="2d112-229">This action lets you remove the compute and storage resource groups, including the resource group that contains your Service Fabric cluster, without losing your keys and secrets.</span></span> <span data-ttu-id="2d112-230">Skupinu prostředků, která obsahuje váš trezor klíčů musí být ve stejné oblasti jako cluster, který se používá.</span><span class="sxs-lookup"><span data-stu-id="2d112-230">The resource group that contains your key vault must be in the same region as the cluster that is using it.</span></span>

<span data-ttu-id="2d112-231">**Vytvoření trezoru klíčů do nové skupiny prostředků** trezoru klíčů musí být povolen pro nasazení, který poskytovatele výpočetních prostředků z něj získat certifikáty a nainstalujte ji na instancí virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="2d112-231">**Create a key vault in the new resource group** The key vault must be enabled for deployment to allow the compute resource provider to get certificates from it and install it on virtual machine instances.</span></span>
<span data-ttu-id="2d112-232">Další informace o tom, jak nastavit trezor klíčů služby Azure naleznete v tématu [Začínáme s Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span><span class="sxs-lookup"><span data-stu-id="2d112-232">To learn more how to set up Azure key vault see, [Get started with Azure Key Vault](https://docs.microsoft.com/azure/key-vault/key-vault-get-started).</span></span>

## <a name="assign-users-roles"></a><span data-ttu-id="2d112-233">Přiřadit role uživatele</span><span class="sxs-lookup"><span data-stu-id="2d112-233">Assign users roles</span></span>
<span data-ttu-id="2d112-234">Po vytvoření aplikace, které chcete představují clusteru přiřadit uživatelům role nepodporuje Service Fabric: jen pro čtení a správce. Pomocí portálu Azure classic můžete přiřadit role.</span><span class="sxs-lookup"><span data-stu-id="2d112-234">After you have created the applications to represent your cluster, assign your users to the roles supported by Service Fabric: read-only and admin. You can assign the roles by using the Azure classic portal.</span></span>

>[!Note]
> <span data-ttu-id="2d112-235">Další informace o rolích v Service Fabric najdete v tématu [řízení přístupu na základě rolí pro Service Fabric klienty](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span><span class="sxs-lookup"><span data-stu-id="2d112-235">For more information about roles in Service Fabric, see [Role-based access control for Service Fabric clients](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-security-roles).</span></span>

<span data-ttu-id="2d112-236">Azure Service Fabric podporuje dva typy ovládacích prvků různý přístup pro klienty, které jsou připojené k [cluster Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): správce a uživatele.</span><span class="sxs-lookup"><span data-stu-id="2d112-236">Azure Service Fabric supports two different access control types for clients that are connected to a [Service Fabric cluster](https://docs.microsoft.com/azure/service-fabric/service-fabric-cluster-creation-via-arm): administrator and user.</span></span> <span data-ttu-id="2d112-237">Řízení přístupu umožňuje omezit přístup k určité operace clusteru pro různé skupiny uživatelů, lepší zabezpečení clusteru pomocí Správce clusteru.</span><span class="sxs-lookup"><span data-stu-id="2d112-237">Access control allows the cluster administrator to limit access to certain cluster operations for different groups of users, making the cluster more secure.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2d112-238">Další kroky</span><span class="sxs-lookup"><span data-stu-id="2d112-238">Next steps</span></span>
- <span data-ttu-id="2d112-239">Nastavení Service Fabric [vývojového prostředí](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span><span class="sxs-lookup"><span data-stu-id="2d112-239">Setting up your Service Fabric [development environment](https://docs.microsoft.com/azure/service-fabric/service-fabric-get-started).</span></span>
- <span data-ttu-id="2d112-240">Další informace o [možnosti podpory Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span><span class="sxs-lookup"><span data-stu-id="2d112-240">Learn about [Service Fabric support options](https://docs.microsoft.com/azure/service-fabric/service-fabric-support).</span></span>

