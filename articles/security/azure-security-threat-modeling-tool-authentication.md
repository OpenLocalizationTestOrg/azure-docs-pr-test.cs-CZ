---
title: "Ověřování – nástroj Microsoft Threat modelování – Azure | Microsoft Docs"
description: "způsoby zmírnění hrozeb, které jsou zveřejněné v nástroji pro modelování hrozeb"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: e547469dc61eddd1d772571ab0919532ac91f128
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/29/2017
---
# <a name="security-frame-authentication--mitigations"></a><span data-ttu-id="31371-103">Zabezpečení rámce: Ověřování | Způsoby zmírnění rizik</span><span class="sxs-lookup"><span data-stu-id="31371-103">Security Frame: Authentication | Mitigations</span></span> 
| <span data-ttu-id="31371-104">Produktům a službám</span><span class="sxs-lookup"><span data-stu-id="31371-104">Product/Service</span></span> | <span data-ttu-id="31371-105">Článek</span><span class="sxs-lookup"><span data-stu-id="31371-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="31371-106">**Webové aplikace**</span><span class="sxs-lookup"><span data-stu-id="31371-106">**Web Application**</span></span>    | <ul><li>[<span data-ttu-id="31371-107">Zvažte použití standardní ověřovací mechanismus ke svému ověření u webové aplikace</span><span class="sxs-lookup"><span data-stu-id="31371-107">Consider using a standard authentication mechanism to authenticate to Web Application</span></span>](#standard-authn-web-app)</li><li>[<span data-ttu-id="31371-108">Aplikace musí bezpečně zpracovávají scénáře selhání ověřování</span><span class="sxs-lookup"><span data-stu-id="31371-108">Applications must handle failed authentication scenarios securely</span></span>](#handle-failed-authn)</li><li>[<span data-ttu-id="31371-109">Povolit krok nahoru nebo Adaptivní ověřování</span><span class="sxs-lookup"><span data-stu-id="31371-109">Enable step up or adaptive authentication</span></span>](#step-up-adaptive-authn)</li><li>[<span data-ttu-id="31371-110">Ujistěte se, že jsou správně uzamčené rozhraní pro správu</span><span class="sxs-lookup"><span data-stu-id="31371-110">Ensure that administrative interfaces are appropriately locked down</span></span>](#admin-interface-lockdown)</li><li>[<span data-ttu-id="31371-111">Implementace zapomněli jste heslo funkce bezpečně</span><span class="sxs-lookup"><span data-stu-id="31371-111">Implement forgot password functionalities securely</span></span>](#forgot-pword-fxn)</li><li>[<span data-ttu-id="31371-112">Uplatňování zásady hesla a účtu</span><span class="sxs-lookup"><span data-stu-id="31371-112">Ensure that password and account policy are implemented</span></span>](#pword-account-policy)</li><li>[<span data-ttu-id="31371-113">Implementovat kontroly, aby se zabránilo username – výčet</span><span class="sxs-lookup"><span data-stu-id="31371-113">Implement controls to prevent username enumeration</span></span>](#controls-username-enum)</li></ul> |
| <span data-ttu-id="31371-114">**Database**</span><span class="sxs-lookup"><span data-stu-id="31371-114">**Database**</span></span> | <ul><li>[<span data-ttu-id="31371-115">Pokud je to možné, použijte ověřování systému Windows pro připojení k systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="31371-115">When possible, use Windows Authentication for connecting to SQL Server</span></span>](#win-authn-sql)</li><li>[<span data-ttu-id="31371-116">Pokud je to možné používejte ověřování Azure Active Directory pro připojení k databázi SQL</span><span class="sxs-lookup"><span data-stu-id="31371-116">When possible use Azure Active Directory Authentication for Connecting to SQL Database</span></span>](#aad-authn-sql)</li><li>[<span data-ttu-id="31371-117">Když se používá režim ověřování systému SQL, ujistěte se, že účet a heslo, zásady se vynucují v systému SQL server</span><span class="sxs-lookup"><span data-stu-id="31371-117">When SQL authentication mode is used, ensure that account and password policy are enforced on SQL server</span></span>](#authn-account-pword)</li><li>[<span data-ttu-id="31371-118">Nepoužívejte v databázích s omezením ověřování SQL.</span><span class="sxs-lookup"><span data-stu-id="31371-118">Do not use SQL Authentication in contained databases</span></span>](#autn-contained-db)</li></ul> |
| <span data-ttu-id="31371-119">**Centra událostí Azure**</span><span class="sxs-lookup"><span data-stu-id="31371-119">**Azure Event Hub**</span></span> | <ul><li>[<span data-ttu-id="31371-120">Podle zařízení ověřování přihlašovacích údajů pomocí tokeny SaS</span><span class="sxs-lookup"><span data-stu-id="31371-120">Use per device authentication credentials using SaS tokens</span></span>](#authn-sas-tokens)</li></ul> |
| <span data-ttu-id="31371-121">**Hranice vztahů důvěryhodnosti Azure**</span><span class="sxs-lookup"><span data-stu-id="31371-121">**Azure Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="31371-122">Povolení Azure Multi-Factor Authentication pro Azure správce</span><span class="sxs-lookup"><span data-stu-id="31371-122">Enable Azure Multi-Factor Authentication for Azure Administrators</span></span>](#multi-factor-azure-admin)</li></ul> |
| <span data-ttu-id="31371-123">**Hranice vztahů důvěryhodnosti Service Fabric**</span><span class="sxs-lookup"><span data-stu-id="31371-123">**Service Fabric Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="31371-124">Omezení anonymní přístup k Service Fabric Cluster</span><span class="sxs-lookup"><span data-stu-id="31371-124">Restrict anonymous access to Service Fabric Cluster</span></span>](#anon-access-cluster)</li><li>[<span data-ttu-id="31371-125">Zajistěte, aby byl certifikát klienta uzlu Service Fabric liší od certifikátu – uzly</span><span class="sxs-lookup"><span data-stu-id="31371-125">Ensure that Service Fabric client-to-node certificate is different from node-to-node certificate</span></span>](#fabric-cn-nn)</li><li>[<span data-ttu-id="31371-126">Použít k ověřování klientů pro clustery infrastruktury služby AAD</span><span class="sxs-lookup"><span data-stu-id="31371-126">Use AAD to authenticate clients to service fabric clusters</span></span>](#aad-client-fabric)</li><li>[<span data-ttu-id="31371-127">Ujistěte se, že certifikáty infrastruktury služby jsou získány z schválené certifikační autoritou (CA)</span><span class="sxs-lookup"><span data-stu-id="31371-127">Ensure that service fabric certificates are obtained from an approved Certificate Authority (CA)</span></span>](#fabric-cert-ca)</li></ul> |
| <span data-ttu-id="31371-128">**Serveru identit**</span><span class="sxs-lookup"><span data-stu-id="31371-128">**Identity Server**</span></span> | <ul><li>[<span data-ttu-id="31371-129">Použijte standardní ověřování scénáře nepodporuje serveru identit</span><span class="sxs-lookup"><span data-stu-id="31371-129">Use standard authentication scenarios supported by Identity Server</span></span>](#standard-authn-id)</li><li>[<span data-ttu-id="31371-130">Přepsat výchozí Identity mezipaměti na serveru tokenu škálovatelné alternativou</span><span class="sxs-lookup"><span data-stu-id="31371-130">Override the default Identity Server token cache with a scalable alternative</span></span>](#override-token)</li></ul> |
| <span data-ttu-id="31371-131">**Počítač hranice vztahů důvěryhodnosti**</span><span class="sxs-lookup"><span data-stu-id="31371-131">**Machine Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="31371-132">Ujistěte se, že binární soubory nasazené aplikace jsou digitálně podepsané.</span><span class="sxs-lookup"><span data-stu-id="31371-132">Ensure that deployed application's binaries are digitally signed</span></span>](#binaries-signed)</li></ul> |
| <span data-ttu-id="31371-133">**WCF**</span><span class="sxs-lookup"><span data-stu-id="31371-133">**WCF**</span></span> | <ul><li>[<span data-ttu-id="31371-134">Povolit ověřování při připojování k MSMQ fronty ve WCF</span><span class="sxs-lookup"><span data-stu-id="31371-134">Enable authentication when connecting to MSMQ queues in WCF</span></span>](#msmq-queues)</li><li>[<span data-ttu-id="31371-135">Proveďte WCF clientCredentialType zpráva není nastavena na hodnotu none</span><span class="sxs-lookup"><span data-stu-id="31371-135">WCF-Do not set Message clientCredentialType to none</span></span>](#message-none)</li><li>[<span data-ttu-id="31371-136">Přenos clientCredentialType WCF proveďte není nastavena na hodnotu none</span><span class="sxs-lookup"><span data-stu-id="31371-136">WCF-Do not set Transport clientCredentialType to none</span></span>](#transport-none)</li></ul> |
| <span data-ttu-id="31371-137">**Webové rozhraní API**</span><span class="sxs-lookup"><span data-stu-id="31371-137">**Web API**</span></span> | <ul><li>[<span data-ttu-id="31371-138">Ujistěte se, že standardní ověřování, postupy se používají k zabezpečení rozhraní Web API</span><span class="sxs-lookup"><span data-stu-id="31371-138">Ensure that standard authentication techniques are used to secure Web APIs</span></span>](#authn-secure-api)</li></ul> |
| <span data-ttu-id="31371-139">**Azure AD**</span><span class="sxs-lookup"><span data-stu-id="31371-139">**Azure AD**</span></span> | <ul><li>[<span data-ttu-id="31371-140">Použijte standardní ověřování scénáře podporované službou Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="31371-140">Use standard authentication scenarios supported by Azure Active Directory</span></span>](#authn-aad)</li><li>[<span data-ttu-id="31371-141">Přepsat výchozí ADAL mezipamětí tokenů škálovatelné alternativou</span><span class="sxs-lookup"><span data-stu-id="31371-141">Override the default ADAL token cache with a scalable alternative</span></span>](#adal-scalable)</li><li>[<span data-ttu-id="31371-142">Ujistěte se, že TokenReplayCache se používá při prevenci opětovného přehrání tokenů ověřování ADAL</span><span class="sxs-lookup"><span data-stu-id="31371-142">Ensure that TokenReplayCache is used to prevent the replay of ADAL authentication tokens</span></span>](#tokenreplaycache-adal)</li><li>[<span data-ttu-id="31371-143">Správa žádosti o tokeny od klientů OAuth2 aad pomocí knihovny ADAL (nebo místní AD)</span><span class="sxs-lookup"><span data-stu-id="31371-143">Use ADAL libraries to manage token requests from OAuth2 clients to AAD (or on-premises AD)</span></span>](#adal-oauth2)</li></ul> |
| <span data-ttu-id="31371-144">**Brána pole IoT**</span><span class="sxs-lookup"><span data-stu-id="31371-144">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="31371-145">Ověření zařízení připojující se k bráně pole</span><span class="sxs-lookup"><span data-stu-id="31371-145">Authenticate devices connecting to the Field Gateway</span></span>](#authn-devices-field)</li></ul> |
| <span data-ttu-id="31371-146">**Brána IoT cloudu**</span><span class="sxs-lookup"><span data-stu-id="31371-146">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="31371-147">Ujistěte se, že se zařízení připojující se ke cloudové brány ověří</span><span class="sxs-lookup"><span data-stu-id="31371-147">Ensure that devices connecting to Cloud gateway are authenticated</span></span>](#authn-devices-cloud)</li><li>[<span data-ttu-id="31371-148">Použít pověření ověřování podle zařízení</span><span class="sxs-lookup"><span data-stu-id="31371-148">Use per-device authentication credentials</span></span>](#authn-cred)</li></ul> |
| <span data-ttu-id="31371-149">**Azure Storage**</span><span class="sxs-lookup"><span data-stu-id="31371-149">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="31371-150">Zajištění, aby pouze požadované kontejnery a objekty BLOB anonymní přístup pro čtení</span><span class="sxs-lookup"><span data-stu-id="31371-150">Ensure that only the required containers and blobs are given anonymous read access</span></span>](#req-containers-anon)</li><li>[<span data-ttu-id="31371-151">Udělit omezený přístup k objektům v úložišti Azure pomocí SAS nebo SAP</span><span class="sxs-lookup"><span data-stu-id="31371-151">Grant limited access to objects in Azure storage using SAS or SAP</span></span>](#limited-access-sas)</li></ul> |

## <span data-ttu-id="31371-152"><a id="standard-authn-web-app"></a>Zvažte použití standardní ověřovací mechanismus ke svému ověření u webové aplikace</span><span class="sxs-lookup"><span data-stu-id="31371-152"><a id="standard-authn-web-app"></a>Consider using a standard authentication mechanism to authenticate to Web Application</span></span>

| <span data-ttu-id="31371-153">Název</span><span class="sxs-lookup"><span data-stu-id="31371-153">Title</span></span>                   | <span data-ttu-id="31371-154">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-154">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-155">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-155">**Component**</span></span>               | <span data-ttu-id="31371-156">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="31371-156">Web Application</span></span> | 
| <span data-ttu-id="31371-157">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-157">**SDL Phase**</span></span>               | <span data-ttu-id="31371-158">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-158">Build</span></span> |  
| <span data-ttu-id="31371-159">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-159">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-160">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-160">Generic</span></span> |
| <span data-ttu-id="31371-161">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-161">**Attributes**</span></span>              | <span data-ttu-id="31371-162">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-162">N/A</span></span>  |
| <span data-ttu-id="31371-163">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-163">**References**</span></span>              | <span data-ttu-id="31371-164">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-164">N/A</span></span>  |
| <span data-ttu-id="31371-165">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-165">Details</span></span> | <p><span data-ttu-id="31371-166">Ověřování je proces, kde entity prokáže svou identitu, obvykle prostřednictvím přihlašovacích údajů, jako je například uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="31371-166">Authentication is the process where an entity proves its identity, typically through credentials, such as a user name and password.</span></span> <span data-ttu-id="31371-167">Existuje více ověřovací protokoly dostupné kterých lze považovat za.</span><span class="sxs-lookup"><span data-stu-id="31371-167">There are multiple authentication protocols available which may be considered.</span></span> <span data-ttu-id="31371-168">Některé z nich, jsou uvedeny níže:</span><span class="sxs-lookup"><span data-stu-id="31371-168">Some of them are listed below:</span></span></p><ul><li><span data-ttu-id="31371-169">Klientské certifikáty</span><span class="sxs-lookup"><span data-stu-id="31371-169">Client certificates</span></span></li><li><span data-ttu-id="31371-170">Na základě systému Windows</span><span class="sxs-lookup"><span data-stu-id="31371-170">Windows based</span></span></li><li><span data-ttu-id="31371-171">Na základě formulářů</span><span class="sxs-lookup"><span data-stu-id="31371-171">Forms based</span></span></li><li><span data-ttu-id="31371-172">Federační - služby AD FS</span><span class="sxs-lookup"><span data-stu-id="31371-172">Federation - ADFS</span></span></li><li><span data-ttu-id="31371-173">Federační – Azure AD</span><span class="sxs-lookup"><span data-stu-id="31371-173">Federation - Azure AD</span></span></li><li><span data-ttu-id="31371-174">Federační - serveru identit</span><span class="sxs-lookup"><span data-stu-id="31371-174">Federation - Identity Server</span></span></li></ul><p><span data-ttu-id="31371-175">Zvažte použití standardní ověřovací mechanismus pro identifikaci zdroje procesu</span><span class="sxs-lookup"><span data-stu-id="31371-175">Consider using a standard authentication mechanism to identify the source process</span></span></p>|

## <span data-ttu-id="31371-176"><a id="handle-failed-authn"></a>Aplikace musí bezpečně zpracovávají scénáře selhání ověřování</span><span class="sxs-lookup"><span data-stu-id="31371-176"><a id="handle-failed-authn"></a>Applications must handle failed authentication scenarios securely</span></span>

| <span data-ttu-id="31371-177">Název</span><span class="sxs-lookup"><span data-stu-id="31371-177">Title</span></span>                   | <span data-ttu-id="31371-178">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-178">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-179">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-179">**Component**</span></span>               | <span data-ttu-id="31371-180">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="31371-180">Web Application</span></span> | 
| <span data-ttu-id="31371-181">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-181">**SDL Phase**</span></span>               | <span data-ttu-id="31371-182">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-182">Build</span></span> |  
| <span data-ttu-id="31371-183">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-183">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-184">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-184">Generic</span></span> |
| <span data-ttu-id="31371-185">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-185">**Attributes**</span></span>              | <span data-ttu-id="31371-186">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-186">N/A</span></span>  |
| <span data-ttu-id="31371-187">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-187">**References**</span></span>              | <span data-ttu-id="31371-188">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-188">N/A</span></span>  |
| <span data-ttu-id="31371-189">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-189">Details</span></span> | <p><span data-ttu-id="31371-190">Aplikace, které explicitně ověřování uživatelů musí bezpečně zpracovávat scénáře neúspěšné ověřování. Musí být tento mechanismus ověřování:</span><span class="sxs-lookup"><span data-stu-id="31371-190">Applications that explicitly authenticate users must handle failed authentication scenarios securely.The authentication mechanism must:</span></span></p><ul><li><span data-ttu-id="31371-191">Odepřít přístup k privilegované prostředky, pokud se ověření nezdaří</span><span class="sxs-lookup"><span data-stu-id="31371-191">Deny access to privileged resources when authentication fails</span></span></li><li><span data-ttu-id="31371-192">Zobrazit obecnou chybovou zprávu po selhání ověření a dojde k odepření přístupu</span><span class="sxs-lookup"><span data-stu-id="31371-192">Display a generic error message after failed authentication and access denied occurs</span></span></li></ul><p><span data-ttu-id="31371-193">Test pro:</span><span class="sxs-lookup"><span data-stu-id="31371-193">Test for:</span></span></p><ul><li><span data-ttu-id="31371-194">Ochranu privilegovaných prostředků po neúspěšných přihlášení</span><span class="sxs-lookup"><span data-stu-id="31371-194">Protection of privileged resources after failed logins</span></span></li><li><span data-ttu-id="31371-195">Zobrazí se obecnou chybovou zprávu o selhání ověřování a přístup odepřen událostí</span><span class="sxs-lookup"><span data-stu-id="31371-195">A generic error message is displayed on failed authentication and access denied event(s)</span></span></li><li><span data-ttu-id="31371-196">Účty jsou zakázány po nadměrný počet neúspěšných pokusů o přihlášení</span><span class="sxs-lookup"><span data-stu-id="31371-196">Accounts are disabled after an excessive number of failed attempts</span></span></li><ul>|

## <span data-ttu-id="31371-197"><a id="step-up-adaptive-authn"></a>Povolit krok nahoru nebo Adaptivní ověřování</span><span class="sxs-lookup"><span data-stu-id="31371-197"><a id="step-up-adaptive-authn"></a>Enable step up or adaptive authentication</span></span>

| <span data-ttu-id="31371-198">Název</span><span class="sxs-lookup"><span data-stu-id="31371-198">Title</span></span>                   | <span data-ttu-id="31371-199">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-199">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-200">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-200">**Component**</span></span>               | <span data-ttu-id="31371-201">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="31371-201">Web Application</span></span> | 
| <span data-ttu-id="31371-202">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-202">**SDL Phase**</span></span>               | <span data-ttu-id="31371-203">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-203">Build</span></span> |  
| <span data-ttu-id="31371-204">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-204">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-205">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-205">Generic</span></span> |
| <span data-ttu-id="31371-206">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-206">**Attributes**</span></span>              | <span data-ttu-id="31371-207">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-207">N/A</span></span>  |
| <span data-ttu-id="31371-208">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-208">**References**</span></span>              | <span data-ttu-id="31371-209">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-209">N/A</span></span>  |
| <span data-ttu-id="31371-210">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-210">Details</span></span> | <p><span data-ttu-id="31371-211">Ověřte aplikace má další autorizace (například krok nebo Adaptivní ověřování pomocí služby Multi-Factor authentication, například odeslání jednorázového HESLA v serveru SMS, e-mailu atd. nebo dotaz na opětovné ověření), uživatel je postiženy před udělením přístupu k důvěrným informacím.</span><span class="sxs-lookup"><span data-stu-id="31371-211">Verify the application has additional authorization (such as step up or adaptive authentication, via multi-factor authentication such as sending OTP in SMS, email etc. or prompting for re-authentication) so the user is challenged before being granted access to sensitive information.</span></span> <span data-ttu-id="31371-212">Toto pravidlo platí také pro provádění změn důležité účtu nebo akce</span><span class="sxs-lookup"><span data-stu-id="31371-212">This rule also applies for making critical changes to an account or action</span></span></p><p><span data-ttu-id="31371-213">Zároveň to znamená, že přizpůsobení ověřování musí implementovat způsobem, aplikace správně vynucuje kontextová autorizace tak, aby se v příkladu nepovolíte neoprávněné manipulaci prostřednictvím parametru manipulaci</span><span class="sxs-lookup"><span data-stu-id="31371-213">This also means that the adaptation of authentication has to be implemented in such a manner that the application correctly enforces context-sensitive authorization so as to not allow unauthorized manipulation by means of in example, parameter tampering</span></span></p>|

## <span data-ttu-id="31371-214"><a id="admin-interface-lockdown"></a>Ujistěte se, že jsou správně uzamčené rozhraní pro správu</span><span class="sxs-lookup"><span data-stu-id="31371-214"><a id="admin-interface-lockdown"></a>Ensure that administrative interfaces are appropriately locked down</span></span>

| <span data-ttu-id="31371-215">Název</span><span class="sxs-lookup"><span data-stu-id="31371-215">Title</span></span>                   | <span data-ttu-id="31371-216">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-216">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-217">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-217">**Component**</span></span>               | <span data-ttu-id="31371-218">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="31371-218">Web Application</span></span> | 
| <span data-ttu-id="31371-219">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-219">**SDL Phase**</span></span>               | <span data-ttu-id="31371-220">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-220">Build</span></span> |  
| <span data-ttu-id="31371-221">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-221">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-222">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-222">Generic</span></span> |
| <span data-ttu-id="31371-223">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-223">**Attributes**</span></span>              | <span data-ttu-id="31371-224">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-224">N/A</span></span>  |
| <span data-ttu-id="31371-225">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-225">**References**</span></span>              | <span data-ttu-id="31371-226">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-226">N/A</span></span>  |
| <span data-ttu-id="31371-227">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-227">Details</span></span> | <span data-ttu-id="31371-228">První řešením je poskytnout přístup pouze z určitý rozsah zdrojové IP rozhraní pro správu.</span><span class="sxs-lookup"><span data-stu-id="31371-228">The first solution is to grant access only from a certain source IP range to the administrative interface.</span></span> <span data-ttu-id="31371-229">Pokud toto řešení nebude možné, než je vždy nedoporučuje k vynucení přechody nebo Adaptivní ověřování pro přihlášení do rozhraní pro správu</span><span class="sxs-lookup"><span data-stu-id="31371-229">If that solution would not be possible than it is always recommended to enforce a step-up or adaptive authentication for logging in into the administrative interface</span></span> |

## <span data-ttu-id="31371-230"><a id="forgot-pword-fxn"></a>Implementace zapomněli jste heslo funkce bezpečně</span><span class="sxs-lookup"><span data-stu-id="31371-230"><a id="forgot-pword-fxn"></a>Implement forgot password functionalities securely</span></span>

| <span data-ttu-id="31371-231">Název</span><span class="sxs-lookup"><span data-stu-id="31371-231">Title</span></span>                   | <span data-ttu-id="31371-232">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-232">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-233">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-233">**Component**</span></span>               | <span data-ttu-id="31371-234">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="31371-234">Web Application</span></span> | 
| <span data-ttu-id="31371-235">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-235">**SDL Phase**</span></span>               | <span data-ttu-id="31371-236">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-236">Build</span></span> |  
| <span data-ttu-id="31371-237">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-237">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-238">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-238">Generic</span></span> |
| <span data-ttu-id="31371-239">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-239">**Attributes**</span></span>              | <span data-ttu-id="31371-240">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-240">N/A</span></span>  |
| <span data-ttu-id="31371-241">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-241">**References**</span></span>              | <span data-ttu-id="31371-242">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-242">N/A</span></span>  |
| <span data-ttu-id="31371-243">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-243">Details</span></span> | <p><span data-ttu-id="31371-244">První věc, kterou je ověřit, jestli zapomněli jste heslo a jiných cest obnovení odeslat odkaz včetně token časově omezené aktivace, nikoli heslo sám sebe.</span><span class="sxs-lookup"><span data-stu-id="31371-244">The first thing is to verify that forgot password and other recovery paths send a link including a time-limited activation token rather than the password itself.</span></span> <span data-ttu-id="31371-245">Další ověřování podle konfigurace soft tokeny (například SMS tokenu, nativní mobilní aplikace atd.) může být nutná také před odesláním přes odkaz.</span><span class="sxs-lookup"><span data-stu-id="31371-245">Additional authentication based on soft-tokens (e.g. SMS token, native mobile applications, etc.) can be required as well before the link is sent over.</span></span> <span data-ttu-id="31371-246">Druhý jste neměli zablokovat účet uživatele a zároveň probíhá proces získávání nové heslo.</span><span class="sxs-lookup"><span data-stu-id="31371-246">Second, you should not lock out the users account whilst the process of getting a new password is in progress.</span></span></p><p><span data-ttu-id="31371-247">To může vést k útoku DoS vždy, když útočník rozhodne na záměrně uzamčení uživatele s automatizované útoku.</span><span class="sxs-lookup"><span data-stu-id="31371-247">This could lead to a Denial of service attack whenever an attacker decides to intentionally lock out the users with an automated attack.</span></span> <span data-ttu-id="31371-248">Třetí vždy, když požadavek na novou heslo bylo nastaveno v průběhu, zprávu, kterou můžete zobrazit by měl využívajících prevence výčtu uživatelské jméno.</span><span class="sxs-lookup"><span data-stu-id="31371-248">Third, whenever the new password request was set in progress, the message you display should be generalized in order to prevent username enumeration.</span></span> <span data-ttu-id="31371-249">Čtvrté vždy zakáže použití původního hesla a implementovat zásady silné heslo.</span><span class="sxs-lookup"><span data-stu-id="31371-249">Fourth, always disallow the use of old passwords and implement a strong password policy.</span></span></p> |

## <span data-ttu-id="31371-250"><a id="pword-account-policy"></a>Uplatňování zásady hesla a účtu</span><span class="sxs-lookup"><span data-stu-id="31371-250"><a id="pword-account-policy"></a>Ensure that password and account policy are implemented</span></span>

| <span data-ttu-id="31371-251">Název</span><span class="sxs-lookup"><span data-stu-id="31371-251">Title</span></span>                   | <span data-ttu-id="31371-252">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-252">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-253">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-253">**Component**</span></span>               | <span data-ttu-id="31371-254">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="31371-254">Web Application</span></span> | 
| <span data-ttu-id="31371-255">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-255">**SDL Phase**</span></span>               | <span data-ttu-id="31371-256">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-256">Build</span></span> |  
| <span data-ttu-id="31371-257">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-257">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-258">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-258">Generic</span></span> |
| <span data-ttu-id="31371-259">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-259">**Attributes**</span></span>              | <span data-ttu-id="31371-260">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-260">N/A</span></span>  |
| <span data-ttu-id="31371-261">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-261">**References**</span></span>              | <span data-ttu-id="31371-262">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-262">N/A</span></span>  |
| <span data-ttu-id="31371-263">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-263">Details</span></span> | <p><span data-ttu-id="31371-264">Zásady účet a heslo v souladu s zásad organizace a osvědčené postupy by měla být implementována.</span><span class="sxs-lookup"><span data-stu-id="31371-264">Password and account policy in compliance with organizational policy and best practices should be implemented.</span></span></p><p><span data-ttu-id="31371-265">Bránit proti hrubou silou a slovník na základě uhodnutí: zásady silné heslo, musí být implementována zajistit, že uživatelé vytvářet složité heslo (např. minimální délka 12 znaků, alfanumerické a speciální znaky).</span><span class="sxs-lookup"><span data-stu-id="31371-265">To defend against brute-force and dictionary based guessing: Strong password policy must be implemented to ensure that users create complex password (e.g., 12 characters minimum length, alphanumeric and special characters).</span></span></p><p><span data-ttu-id="31371-266">Zásady uzamčení účtu může být implementována následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="31371-266">Account lockout policies may be implemented in the following manner:</span></span></p><ul><li><span data-ttu-id="31371-267">**Logicky uzamčení:** to může být vhodný pro ochranu před útoky hrubou silou vaši uživatelé.</span><span class="sxs-lookup"><span data-stu-id="31371-267">**Soft lock-out:** This can be a good option for protecting your users against brute force attacks.</span></span> <span data-ttu-id="31371-268">Například pokaždé, když uživatel zadá chybné heslo třikrát aplikace může zamknout účet pro minutu aby zpomalí hrubou vynucení jeho hesla. Díky tomu méně ziskové útočník by mohl pokračovat.</span><span class="sxs-lookup"><span data-stu-id="31371-268">For example, whenever the user enters a wrong password three times the application could lock down the account for a minute in order to slow down the process of brute forcing his password making it less profitable for the attacker to proceed.</span></span> <span data-ttu-id="31371-269">Pokud byste chtěli implementovat pevný opatření na více systémů zámek pro tento příklad by dosáhnout a "Dos" podle trvale uzamykání účtů.</span><span class="sxs-lookup"><span data-stu-id="31371-269">If u were to implement hard lock-out countermeasures for this example you would achieve a "Dos" by permanently locking out accounts.</span></span> <span data-ttu-id="31371-270">Alternativně může aplikace generovat Jednorázovým (jedno heslo času) a odešle out-of-band (prostřednictvím e-mailu, sms atd.) pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="31371-270">Alternatively, application may generate an OTP (One Time Password) and send it out-of-band (through email, sms etc.) to the user.</span></span> <span data-ttu-id="31371-271">K implementaci CAPTCHA po dosažení prahová hodnota počtu neúspěšných pokusů o přihlášení může být jiná možnost.</span><span class="sxs-lookup"><span data-stu-id="31371-271">Another approach may be to implement CAPTCHA after a threshold number of failed attempts is reached.</span></span></li><li><span data-ttu-id="31371-272">**Pevné uzamčení:** tento typ uzamčení bude použito, vždy, když zjistit uživatele napadení vaší aplikace a čítač mu prostřednictvím trvale uzamčení účtu, dokud tým odpovědi měl čas jejich forenzních.</span><span class="sxs-lookup"><span data-stu-id="31371-272">**Hard lock-out:** This type of lockout should be applied whenever you detect a user attacking your application and counter him by means of permanently locking out his account until a response team had time to do their forensics.</span></span> <span data-ttu-id="31371-273">Po tento proces, můžete se rozhodnout uživateli přidělit zpět svůj účet nebo provádět další právní akce u mu.</span><span class="sxs-lookup"><span data-stu-id="31371-273">After this process you can decide to give the user back his account or take further legal actions against him.</span></span> <span data-ttu-id="31371-274">Tento typ přístupu útočník zabrání další narušující vaše aplikace a infrastrukturu.</span><span class="sxs-lookup"><span data-stu-id="31371-274">This type of approach prevents the attacker from further penetrating your application and infrastructure.</span></span></li></ul><p><span data-ttu-id="31371-275">Bránit proti útokům na výchozí a předvídatelný účtů, ověřte, zda všechny klíče a hesla jsou nahraditelné a jsou generována nebo změní za čas instalace.</span><span class="sxs-lookup"><span data-stu-id="31371-275">To defend against attacks on default and predictable accounts, verify that all keys and passwords are replaceable, and are generated or replaced after installation time.</span></span></p><p><span data-ttu-id="31371-276">Pokud aplikace má pro automatické generování hesel, zajistěte, aby vygenerované hesla jsou náhodných a mají vysokou šifrování.</span><span class="sxs-lookup"><span data-stu-id="31371-276">If the application has to auto-generate passwords, ensure that the generated passwords are random and have high entropy.</span></span></p>|

## <span data-ttu-id="31371-277"><a id="controls-username-enum"></a>Implementovat kontroly, aby se zabránilo username – výčet</span><span class="sxs-lookup"><span data-stu-id="31371-277"><a id="controls-username-enum"></a>Implement controls to prevent username enumeration</span></span>

| <span data-ttu-id="31371-278">Název</span><span class="sxs-lookup"><span data-stu-id="31371-278">Title</span></span>                   | <span data-ttu-id="31371-279">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-279">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-280">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-280">**Component**</span></span>               | <span data-ttu-id="31371-281">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="31371-281">Web Application</span></span> | 
| <span data-ttu-id="31371-282">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-282">**SDL Phase**</span></span>               | <span data-ttu-id="31371-283">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-283">Build</span></span> |  
| <span data-ttu-id="31371-284">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-284">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-285">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-285">Generic</span></span> |
| <span data-ttu-id="31371-286">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-286">**Attributes**</span></span>              | <span data-ttu-id="31371-287">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-287">N/A</span></span>  |
| <span data-ttu-id="31371-288">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-288">**References**</span></span>              | <span data-ttu-id="31371-289">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-289">N/A</span></span>  |
| <span data-ttu-id="31371-290">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-290">**Steps**</span></span> | <span data-ttu-id="31371-291">Všechny chybové zprávy by měl být zobecněn prevence výčtu uživatelské jméno.</span><span class="sxs-lookup"><span data-stu-id="31371-291">All error messages should be generalized in order to prevent username enumeration.</span></span> <span data-ttu-id="31371-292">Také v některých případech se nelze vyhnout informace vracena v odkudkoli třeba na stránce registrace.</span><span class="sxs-lookup"><span data-stu-id="31371-292">Also sometimes you cannot avoid information leaking in functionalities such as a registration page.</span></span> <span data-ttu-id="31371-293">Tady budete muset použít omezení rychlosti metody, třeba CAPTCHA, abyste zabránili automatizované útok uživatelem se zlými úmysly.</span><span class="sxs-lookup"><span data-stu-id="31371-293">Here you need to use rate-limiting methods like CAPTCHA to prevent an automated attack by an attacker.</span></span> |

## <span data-ttu-id="31371-294"><a id="win-authn-sql"></a>Pokud je to možné, použijte ověřování systému Windows pro připojení k systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="31371-294"><a id="win-authn-sql"></a>When possible, use Windows Authentication for connecting to SQL Server</span></span>

| <span data-ttu-id="31371-295">Název</span><span class="sxs-lookup"><span data-stu-id="31371-295">Title</span></span>                   | <span data-ttu-id="31371-296">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-296">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-297">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-297">**Component**</span></span>               | <span data-ttu-id="31371-298">Databáze</span><span class="sxs-lookup"><span data-stu-id="31371-298">Database</span></span> | 
| <span data-ttu-id="31371-299">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-299">**SDL Phase**</span></span>               | <span data-ttu-id="31371-300">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-300">Build</span></span> |  
| <span data-ttu-id="31371-301">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-301">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-302">Místní</span><span class="sxs-lookup"><span data-stu-id="31371-302">OnPrem</span></span> |
| <span data-ttu-id="31371-303">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-303">**Attributes**</span></span>              | <span data-ttu-id="31371-304">Verze SQL – všechny</span><span class="sxs-lookup"><span data-stu-id="31371-304">SQL Version - All</span></span> |
| <span data-ttu-id="31371-305">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-305">**References**</span></span>              | [<span data-ttu-id="31371-306">SQL Server – volba režimu ověřování</span><span class="sxs-lookup"><span data-stu-id="31371-306">SQL Server - Choose an Authentication Mode</span></span>](https://msdn.microsoft.com/library/ms144284.aspx) |
| <span data-ttu-id="31371-307">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-307">**Steps**</span></span> | <span data-ttu-id="31371-308">Ověřování systému Windows používá bezpečnostní protokol Kerberos, umožňuje vynucování zásad hesel s ohledem na složitost ověření pro silná hesla, poskytuje podporu pro uzamčení účtu a vypršení platnosti hesla.</span><span class="sxs-lookup"><span data-stu-id="31371-308">Windows Authentication uses Kerberos security protocol, provides password policy enforcement with regard to complexity validation for strong passwords, provides support for account lockout, and supports password expiration.</span></span>|

## <span data-ttu-id="31371-309"><a id="aad-authn-sql"></a>Pokud je to možné používejte ověřování Azure Active Directory pro připojení k databázi SQL</span><span class="sxs-lookup"><span data-stu-id="31371-309"><a id="aad-authn-sql"></a>When possible use Azure Active Directory Authentication for Connecting to SQL Database</span></span>

| <span data-ttu-id="31371-310">Název</span><span class="sxs-lookup"><span data-stu-id="31371-310">Title</span></span>                   | <span data-ttu-id="31371-311">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-311">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-312">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-312">**Component**</span></span>               | <span data-ttu-id="31371-313">Databáze</span><span class="sxs-lookup"><span data-stu-id="31371-313">Database</span></span> | 
| <span data-ttu-id="31371-314">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-314">**SDL Phase**</span></span>               | <span data-ttu-id="31371-315">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-315">Build</span></span> |  
| <span data-ttu-id="31371-316">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-316">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-317">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="31371-317">SQL Azure</span></span> |
| <span data-ttu-id="31371-318">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-318">**Attributes**</span></span>              | <span data-ttu-id="31371-319">Verze SQL - V12</span><span class="sxs-lookup"><span data-stu-id="31371-319">SQL Version - V12</span></span> |
| <span data-ttu-id="31371-320">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-320">**References**</span></span>              | [<span data-ttu-id="31371-321">Připojení k databázi SQL pomocí ověřování Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="31371-321">Connecting to SQL Database By Using Azure Active Directory Authentication</span></span>](https://azure.microsoft.com/documentation/articles/sql-database-aad-authentication/) |
| <span data-ttu-id="31371-322">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-322">**Steps**</span></span> | <span data-ttu-id="31371-323">**Minimální verze:** Azure SQL Database V12 nutný pro povolení Azure SQL Database používat ověřování AAD proti Microsoft Directory</span><span class="sxs-lookup"><span data-stu-id="31371-323">**Minimum version:** Azure SQL Database V12 required to allow Azure SQL Database to use AAD Authentication against the Microsoft Directory</span></span> |

## <span data-ttu-id="31371-324"><a id="authn-account-pword"></a>Když se používá režim ověřování systému SQL, ujistěte se, že účet a heslo, zásady se vynucují v systému SQL server</span><span class="sxs-lookup"><span data-stu-id="31371-324"><a id="authn-account-pword"></a>When SQL authentication mode is used, ensure that account and password policy are enforced on SQL server</span></span>

| <span data-ttu-id="31371-325">Název</span><span class="sxs-lookup"><span data-stu-id="31371-325">Title</span></span>                   | <span data-ttu-id="31371-326">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-326">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-327">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-327">**Component**</span></span>               | <span data-ttu-id="31371-328">Databáze</span><span class="sxs-lookup"><span data-stu-id="31371-328">Database</span></span> | 
| <span data-ttu-id="31371-329">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-329">**SDL Phase**</span></span>               | <span data-ttu-id="31371-330">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-330">Build</span></span> |  
| <span data-ttu-id="31371-331">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-331">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-332">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-332">Generic</span></span> |
| <span data-ttu-id="31371-333">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-333">**Attributes**</span></span>              | <span data-ttu-id="31371-334">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-334">N/A</span></span>  |
| <span data-ttu-id="31371-335">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-335">**References**</span></span>              | <span data-ttu-id="31371-336">[Zásady hesel systému SQL Server](https://technet.microsoft.com/library/ms161959(v=sql.110).aspx)</span><span class="sxs-lookup"><span data-stu-id="31371-336">[SQL Server password policy](https://technet.microsoft.com/library/ms161959(v=sql.110).aspx)</span></span> |
| <span data-ttu-id="31371-337">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-337">**Steps**</span></span> | <span data-ttu-id="31371-338">Pokud používáte ověřování systému SQL Server, přihlášení se vytvoří v systému SQL Server, které nejsou založené na uživatelské účty systému Windows.</span><span class="sxs-lookup"><span data-stu-id="31371-338">When using SQL Server Authentication, logins are created in SQL Server that are not based on Windows user accounts.</span></span> <span data-ttu-id="31371-339">Uživatelské jméno a heslo jsou vytvořené pomocí serveru SQL Server a uložené v systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="31371-339">Both the user name and the password are created by using SQL Server and stored in SQL Server.</span></span> <span data-ttu-id="31371-340">SQL Server můžete použít mechanismy zásady hesel systému Windows.</span><span class="sxs-lookup"><span data-stu-id="31371-340">SQL Server can use Windows password policy mechanisms.</span></span> <span data-ttu-id="31371-341">Můžete ji použít stejné složitost a zásadami pro konec platnosti hesla použit v rámci systému SQL Server používá v systému Windows.</span><span class="sxs-lookup"><span data-stu-id="31371-341">It can apply the same complexity and expiration policies used in Windows to passwords used inside SQL Server.</span></span> |

## <span data-ttu-id="31371-342"><a id="autn-contained-db"></a>Nepoužívejte v databázích s omezením ověřování SQL.</span><span class="sxs-lookup"><span data-stu-id="31371-342"><a id="autn-contained-db"></a>Do not use SQL Authentication in contained databases</span></span>

| <span data-ttu-id="31371-343">Název</span><span class="sxs-lookup"><span data-stu-id="31371-343">Title</span></span>                   | <span data-ttu-id="31371-344">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-344">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-345">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-345">**Component**</span></span>               | <span data-ttu-id="31371-346">Databáze</span><span class="sxs-lookup"><span data-stu-id="31371-346">Database</span></span> | 
| <span data-ttu-id="31371-347">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-347">**SDL Phase**</span></span>               | <span data-ttu-id="31371-348">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-348">Build</span></span> |  
| <span data-ttu-id="31371-349">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-349">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-350">OnPrem, SQL Azure</span><span class="sxs-lookup"><span data-stu-id="31371-350">OnPrem, SQL Azure</span></span> |
| <span data-ttu-id="31371-351">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-351">**Attributes**</span></span>              | <span data-ttu-id="31371-352">Verze - MSSQL2012, verze SQL - SQL verze 12</span><span class="sxs-lookup"><span data-stu-id="31371-352">SQL Version - MSSQL2012, SQL Version - V12</span></span> |
| <span data-ttu-id="31371-353">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-353">**References**</span></span>              | [<span data-ttu-id="31371-354">Osvědčené postupy zabezpečení pomocí databáze s omezením</span><span class="sxs-lookup"><span data-stu-id="31371-354">Security Best Practices with Contained Databases</span></span>](http://msdn.microsoft.com/library/ff929055.aspx) |
| <span data-ttu-id="31371-355">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-355">**Steps**</span></span> | <span data-ttu-id="31371-356">Neexistence zásadu vynucené heslo může zvýšit pravděpodobnost slabé pověření zavedeno v databázi s omezením.</span><span class="sxs-lookup"><span data-stu-id="31371-356">The absence of an enforced password policy may increase the likelihood of a weak credential being established in a contained database.</span></span> <span data-ttu-id="31371-357">Ověřování systému Windows využívají.</span><span class="sxs-lookup"><span data-stu-id="31371-357">Leverage Windows Authentication.</span></span> |

## <span data-ttu-id="31371-358"><a id="authn-sas-tokens"></a>Podle zařízení ověřování přihlašovacích údajů pomocí tokeny SaS</span><span class="sxs-lookup"><span data-stu-id="31371-358"><a id="authn-sas-tokens"></a>Use per device authentication credentials using SaS tokens</span></span>

| <span data-ttu-id="31371-359">Název</span><span class="sxs-lookup"><span data-stu-id="31371-359">Title</span></span>                   | <span data-ttu-id="31371-360">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-360">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-361">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-361">**Component**</span></span>               | <span data-ttu-id="31371-362">Centra událostí Azure</span><span class="sxs-lookup"><span data-stu-id="31371-362">Azure Event Hub</span></span> | 
| <span data-ttu-id="31371-363">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-363">**SDL Phase**</span></span>               | <span data-ttu-id="31371-364">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-364">Build</span></span> |  
| <span data-ttu-id="31371-365">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-365">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-366">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-366">Generic</span></span> |
| <span data-ttu-id="31371-367">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-367">**Attributes**</span></span>              | <span data-ttu-id="31371-368">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-368">N/A</span></span>  |
| <span data-ttu-id="31371-369">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-369">**References**</span></span>              | [<span data-ttu-id="31371-370">Ověřování a zabezpečení modelu přehled služby Event Hubs</span><span class="sxs-lookup"><span data-stu-id="31371-370">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="31371-371">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-371">**Steps**</span></span> | <p><span data-ttu-id="31371-372">Model zabezpečení služby Event Hubs je založena na kombinaci tokenů sdíleného přístupového podpisu (SAS) a zdroje událostí.</span><span class="sxs-lookup"><span data-stu-id="31371-372">The Event Hubs security model is based on a combination of Shared Access Signature (SAS) tokens and event publishers.</span></span> <span data-ttu-id="31371-373">Název vydavatele představuje ID zařízení, která přijímá token.</span><span class="sxs-lookup"><span data-stu-id="31371-373">The publisher name represents the DeviceID that receives the token.</span></span> <span data-ttu-id="31371-374">To by pomoci přidružit tokeny vygenerovat pomocí příslušné zařízení.</span><span class="sxs-lookup"><span data-stu-id="31371-374">This would help associate the tokens generated with the respective devices.</span></span></p><p><span data-ttu-id="31371-375">Všechny zprávy jsou označené původce na straně služby povolení detekce falšování pokusy o původu ve datové části.</span><span class="sxs-lookup"><span data-stu-id="31371-375">All messages are tagged with originator on service side allowing detection of in-payload origin spoofing attempts.</span></span> <span data-ttu-id="31371-376">Při ověřování zařízení, generovat za token SaS zařízení obor na jedinečný vydavatele.</span><span class="sxs-lookup"><span data-stu-id="31371-376">When authenticating devices, generate a per device SaS token scoped to a unique publisher.</span></span></p>|

## <span data-ttu-id="31371-377"><a id="multi-factor-azure-admin"></a>Povolení Azure Multi-Factor Authentication pro Azure správce</span><span class="sxs-lookup"><span data-stu-id="31371-377"><a id="multi-factor-azure-admin"></a>Enable Azure Multi-Factor Authentication for Azure Administrators</span></span>

| <span data-ttu-id="31371-378">Název</span><span class="sxs-lookup"><span data-stu-id="31371-378">Title</span></span>                   | <span data-ttu-id="31371-379">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-379">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-380">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-380">**Component**</span></span>               | <span data-ttu-id="31371-381">Hranice vztahů důvěryhodnosti Azure</span><span class="sxs-lookup"><span data-stu-id="31371-381">Azure Trust Boundary</span></span> | 
| <span data-ttu-id="31371-382">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-382">**SDL Phase**</span></span>               | <span data-ttu-id="31371-383">Nasazení</span><span class="sxs-lookup"><span data-stu-id="31371-383">Deployment</span></span> |  
| <span data-ttu-id="31371-384">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-384">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-385">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-385">Generic</span></span> |
| <span data-ttu-id="31371-386">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-386">**Attributes**</span></span>              | <span data-ttu-id="31371-387">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-387">N/A</span></span>  |
| <span data-ttu-id="31371-388">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-388">**References**</span></span>              | [<span data-ttu-id="31371-389">Co je Azure Multi-Factor Authentication?</span><span class="sxs-lookup"><span data-stu-id="31371-389">What is Azure Multi-Factor Authentication?</span></span>](https://azure.microsoft.com/documentation/articles/multi-factor-authentication/) |
| <span data-ttu-id="31371-390">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-390">**Steps**</span></span> | <p><span data-ttu-id="31371-391">Vícefaktorové ověřování (MFA) je metoda ověřování, který vyžaduje více než jednu metodu ověřování a přidá velmi důležitou druhou vrstvu zabezpečení uživatelská přihlášení a transakce.</span><span class="sxs-lookup"><span data-stu-id="31371-391">Multi-factor authentication (MFA) is a method of authentication that requires more than one verification method and adds a critical second layer of security to user sign-ins and transactions.</span></span> <span data-ttu-id="31371-392">Funguje tím, že jakékoliv dva nebo více z následujících metod ověřování:</span><span class="sxs-lookup"><span data-stu-id="31371-392">It works by requiring any two or more of the following verification methods:</span></span></p><ul><li><span data-ttu-id="31371-393">Něco znáte (obvykle heslo)</span><span class="sxs-lookup"><span data-stu-id="31371-393">Something you know (typically a password)</span></span></li><li><span data-ttu-id="31371-394">Něco co uživatel má (důvěryhodné zařízení, která není duplikovaná snadno, například telefon)</span><span class="sxs-lookup"><span data-stu-id="31371-394">Something you have (a trusted device that is not easily duplicated, like a phone)</span></span></li><li><span data-ttu-id="31371-395">Něco že se (biometrika)</span><span class="sxs-lookup"><span data-stu-id="31371-395">Something you are (biometrics)</span></span></li><ul>|

## <span data-ttu-id="31371-396"><a id="anon-access-cluster"></a>Omezení anonymní přístup k Service Fabric Cluster</span><span class="sxs-lookup"><span data-stu-id="31371-396"><a id="anon-access-cluster"></a>Restrict anonymous access to Service Fabric Cluster</span></span>

| <span data-ttu-id="31371-397">Název</span><span class="sxs-lookup"><span data-stu-id="31371-397">Title</span></span>                   | <span data-ttu-id="31371-398">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-398">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-399">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-399">**Component**</span></span>               | <span data-ttu-id="31371-400">Hranice vztahů důvěryhodnosti Service Fabric</span><span class="sxs-lookup"><span data-stu-id="31371-400">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="31371-401">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-401">**SDL Phase**</span></span>               | <span data-ttu-id="31371-402">Nasazení</span><span class="sxs-lookup"><span data-stu-id="31371-402">Deployment</span></span> |  
| <span data-ttu-id="31371-403">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-403">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-404">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-404">Generic</span></span> |
| <span data-ttu-id="31371-405">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-405">**Attributes**</span></span>              | <span data-ttu-id="31371-406">Prostředí – Azure</span><span class="sxs-lookup"><span data-stu-id="31371-406">Environment - Azure</span></span>  |
| <span data-ttu-id="31371-407">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-407">**References**</span></span>              | [<span data-ttu-id="31371-408">Scénáře zabezpečení clusteru Service Fabric</span><span class="sxs-lookup"><span data-stu-id="31371-408">Service Fabric cluster security scenarios</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security) |
| <span data-ttu-id="31371-409">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-409">**Steps**</span></span> | <p><span data-ttu-id="31371-410">Clustery musí být vždy zabezpečený neoprávněným uživatelům zabránit v připojení ke clusteru, zejména v případě, že je v něm spuštěny úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="31371-410">Clusters should always be secured to prevent unauthorized users from connecting to your cluster, especially when it has production workloads running on it.</span></span></p><p><span data-ttu-id="31371-411">Při vytváření service fabric cluster, ujistěte se, zda režim zabezpečení je nastavena na "secure (zabezpečeno) a nakonfigurovat požadovaný certifikát X.509 serveru.</span><span class="sxs-lookup"><span data-stu-id="31371-411">While creating a service fabric cluster, ensure that the security mode is set to "secure" and configure the required X.509 server certificate.</span></span> <span data-ttu-id="31371-412">Vytváření clusteru služby "nezabezpečené" vám umožní všem anonymní uživatelům k nim připojit, pokud vystavuje koncové body správy do veřejného Internetu.</span><span class="sxs-lookup"><span data-stu-id="31371-412">Creating an "insecure" cluster will allow any anonymous user to connect to it if it exposes management endpoints to the public Internet.</span></span></p>|

## <span data-ttu-id="31371-413"><a id="fabric-cn-nn"></a>Zajistěte, aby byl certifikát klienta uzlu Service Fabric liší od certifikátu – uzly</span><span class="sxs-lookup"><span data-stu-id="31371-413"><a id="fabric-cn-nn"></a>Ensure that Service Fabric client-to-node certificate is different from node-to-node certificate</span></span>

| <span data-ttu-id="31371-414">Název</span><span class="sxs-lookup"><span data-stu-id="31371-414">Title</span></span>                   | <span data-ttu-id="31371-415">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-415">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-416">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-416">**Component**</span></span>               | <span data-ttu-id="31371-417">Hranice vztahů důvěryhodnosti Service Fabric</span><span class="sxs-lookup"><span data-stu-id="31371-417">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="31371-418">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-418">**SDL Phase**</span></span>               | <span data-ttu-id="31371-419">Nasazení</span><span class="sxs-lookup"><span data-stu-id="31371-419">Deployment</span></span> |  
| <span data-ttu-id="31371-420">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-420">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-421">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-421">Generic</span></span> |
| <span data-ttu-id="31371-422">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-422">**Attributes**</span></span>              | <span data-ttu-id="31371-423">Prostředí – Azure, prostředí – samostatný</span><span class="sxs-lookup"><span data-stu-id="31371-423">Environment - Azure, Environment - Stand alone</span></span> |
| <span data-ttu-id="31371-424">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-424">**References**</span></span>              | <span data-ttu-id="31371-425">[Zabezpečení certificate Service Fabric klientský uzel](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#_client-to-node-certificate-security), [připojení ke clusteru zabezpečené pomocí klientského certifikátu](https://azure.microsoft.com/documentation/articles/service-fabric-connect-to-secure-cluster/)</span><span class="sxs-lookup"><span data-stu-id="31371-425">[Service Fabric Client-to-node certificate security](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#_client-to-node-certificate-security), [Connect to a secure cluster using client certificate](https://azure.microsoft.com/documentation/articles/service-fabric-connect-to-secure-cluster/)</span></span> |
| <span data-ttu-id="31371-426">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-426">**Steps**</span></span> | <p><span data-ttu-id="31371-427">Při vytváření clusteru, buď prostřednictvím portálu Azure Resource Manager šablony nebo šablony JSON samostatné zadáním certifikát klienta správce nebo klientský certifikát uživatele konfigurace uzlu klientů certifikát zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="31371-427">Client-to-node certificate security is configured while creating the cluster either through the Azure portal, Resource Manager templates or a standalone JSON template by specifying an admin client certificate and/or a user client certificate.</span></span></p><p><span data-ttu-id="31371-428">Správce klienta a uživatelské certifikáty klienta, který zadáte, musí být jiné než primární a sekundární certifikáty, které zadáte pro zabezpečení mezi uzly.</span><span class="sxs-lookup"><span data-stu-id="31371-428">The admin client and user client certificates you specify should be different than the primary and secondary certificates you specify for Node-to-node security.</span></span></p>|

## <span data-ttu-id="31371-429"><a id="aad-client-fabric"></a>Použít k ověřování klientů pro clustery infrastruktury služby AAD</span><span class="sxs-lookup"><span data-stu-id="31371-429"><a id="aad-client-fabric"></a>Use AAD to authenticate clients to service fabric clusters</span></span>

| <span data-ttu-id="31371-430">Název</span><span class="sxs-lookup"><span data-stu-id="31371-430">Title</span></span>                   | <span data-ttu-id="31371-431">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-431">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-432">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-432">**Component**</span></span>               | <span data-ttu-id="31371-433">Hranice vztahů důvěryhodnosti Service Fabric</span><span class="sxs-lookup"><span data-stu-id="31371-433">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="31371-434">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-434">**SDL Phase**</span></span>               | <span data-ttu-id="31371-435">Nasazení</span><span class="sxs-lookup"><span data-stu-id="31371-435">Deployment</span></span> |  
| <span data-ttu-id="31371-436">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-436">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-437">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-437">Generic</span></span> |
| <span data-ttu-id="31371-438">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-438">**Attributes**</span></span>              | <span data-ttu-id="31371-439">Prostředí – Azure</span><span class="sxs-lookup"><span data-stu-id="31371-439">Environment - Azure</span></span> |
| <span data-ttu-id="31371-440">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-440">**References**</span></span>              | [<span data-ttu-id="31371-441">Cluster scénáře zabezpečení - doporučení zabezpečení</span><span class="sxs-lookup"><span data-stu-id="31371-441">Cluster security scenarios - Security Recommendations</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#security-recommendations) |
| <span data-ttu-id="31371-442">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-442">**Steps**</span></span> | <span data-ttu-id="31371-443">Clustery se systémem na platformě Azure můžete také zabezpečený přístup ke koncovým bodům správy pomocí Azure Active Directory (AAD), kromě klientských certifikátů.</span><span class="sxs-lookup"><span data-stu-id="31371-443">Clusters running on Azure can also secure access to the management endpoints using Azure Active Directory (AAD), apart from client certificates.</span></span> <span data-ttu-id="31371-444">Pro Azure clusterů se doporučuje použít k ověřování klientů a certifikáty pro zabezpečení – uzly zabezpečení AAD.</span><span class="sxs-lookup"><span data-stu-id="31371-444">For Azure clusters, it is recommended that you use AAD security to authenticate clients and certificates for node-to-node security.</span></span>|

## <span data-ttu-id="31371-445"><a id="fabric-cert-ca"></a>Ujistěte se, že certifikáty infrastruktury služby jsou získány z schválené certifikační autoritou (CA)</span><span class="sxs-lookup"><span data-stu-id="31371-445"><a id="fabric-cert-ca"></a>Ensure that service fabric certificates are obtained from an approved Certificate Authority (CA)</span></span>

| <span data-ttu-id="31371-446">Název</span><span class="sxs-lookup"><span data-stu-id="31371-446">Title</span></span>                   | <span data-ttu-id="31371-447">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-447">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-448">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-448">**Component**</span></span>               | <span data-ttu-id="31371-449">Hranice vztahů důvěryhodnosti Service Fabric</span><span class="sxs-lookup"><span data-stu-id="31371-449">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="31371-450">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-450">**SDL Phase**</span></span>               | <span data-ttu-id="31371-451">Nasazení</span><span class="sxs-lookup"><span data-stu-id="31371-451">Deployment</span></span> |  
| <span data-ttu-id="31371-452">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-452">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-453">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-453">Generic</span></span> |
| <span data-ttu-id="31371-454">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-454">**Attributes**</span></span>              | <span data-ttu-id="31371-455">Prostředí – Azure</span><span class="sxs-lookup"><span data-stu-id="31371-455">Environment - Azure</span></span> |
| <span data-ttu-id="31371-456">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-456">**References**</span></span>              | [<span data-ttu-id="31371-457">X.509 – certifikáty a Service Fabric</span><span class="sxs-lookup"><span data-stu-id="31371-457">X.509 certificates and Service Fabric</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#x509-certificates-and-service-fabric) |
| <span data-ttu-id="31371-458">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-458">**Steps**</span></span> | <p><span data-ttu-id="31371-459">Service Fabric používá certifikáty X.509 serveru za účelem ověřování totožnosti uzly a klienty.</span><span class="sxs-lookup"><span data-stu-id="31371-459">Service Fabric uses X.509 server certificates for authenticating nodes and clients.</span></span></p><p><span data-ttu-id="31371-460">Některé důležité co je třeba zvážit při používání certifikátů v service Fabric:</span><span class="sxs-lookup"><span data-stu-id="31371-460">Some important things to consider while using certificates in service fabrics:</span></span></p><ul><li><span data-ttu-id="31371-461">Certifikáty používané v clusterech spuštění úlohy v produkčním prostředí by měla být vytvořen pomocí správně nakonfigurovaných certifikát služby Windows Server nebo získat ze schválené certifikační autoritou (CA).</span><span class="sxs-lookup"><span data-stu-id="31371-461">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span> <span data-ttu-id="31371-462">Certifikační Autorita může být schválené externí certifikační Autority nebo správně spravované interní infrastruktury veřejných klíčů (PKI)</span><span class="sxs-lookup"><span data-stu-id="31371-462">The CA can be an approved external CA or a properly managed internal Public Key Infrastructure (PKI)</span></span></li><li><span data-ttu-id="31371-463">Nikdy nepoužívejte žádné dočasných nebo testovací certifikáty v produkčním prostředí, které jsou vytvořeny pomocí nástrojů, jako je MakeCert.exe</span><span class="sxs-lookup"><span data-stu-id="31371-463">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe</span></span></li><li><span data-ttu-id="31371-464">Můžete použít certifikát podepsaný svým držitelem, ale měli tak učinit pouze pro testovací clustery a ne v produkčním prostředí</span><span class="sxs-lookup"><span data-stu-id="31371-464">You can use a self-signed certificate, but should only do so for test clusters and not in production</span></span></li></ul>|

## <span data-ttu-id="31371-465"><a id="standard-authn-id"></a>Použijte standardní ověřování scénáře nepodporuje serveru identit</span><span class="sxs-lookup"><span data-stu-id="31371-465"><a id="standard-authn-id"></a>Use standard authentication scenarios supported by Identity Server</span></span>

| <span data-ttu-id="31371-466">Název</span><span class="sxs-lookup"><span data-stu-id="31371-466">Title</span></span>                   | <span data-ttu-id="31371-467">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-467">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-468">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-468">**Component**</span></span>               | <span data-ttu-id="31371-469">Serveru identit</span><span class="sxs-lookup"><span data-stu-id="31371-469">Identity Server</span></span> | 
| <span data-ttu-id="31371-470">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-470">**SDL Phase**</span></span>               | <span data-ttu-id="31371-471">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-471">Build</span></span> |  
| <span data-ttu-id="31371-472">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-472">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-473">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-473">Generic</span></span> |
| <span data-ttu-id="31371-474">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-474">**Attributes**</span></span>              | <span data-ttu-id="31371-475">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-475">N/A</span></span>  |
| <span data-ttu-id="31371-476">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-476">**References**</span></span>              | [<span data-ttu-id="31371-477">IdentityServer3 - velký obrázek</span><span class="sxs-lookup"><span data-stu-id="31371-477">IdentityServer3 - The Big Picture</span></span>](https://identityserver.github.io/Documentation/docsv2/overview/bigPicture.html) |
| <span data-ttu-id="31371-478">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-478">**Steps**</span></span> | <p><span data-ttu-id="31371-479">Tady jsou obvyklá interakce nepodporuje serveru identit:</span><span class="sxs-lookup"><span data-stu-id="31371-479">Below are the typical interactions supported by Identity Server:</span></span></p><ul><li><span data-ttu-id="31371-480">Prohlížeče komunikovat s webovými aplikacemi</span><span class="sxs-lookup"><span data-stu-id="31371-480">Browsers communicate with web applications</span></span></li><li><span data-ttu-id="31371-481">Webové aplikace komunikovat s webových rozhraní API (někdy na své vlastní, někdy jménem uživatele)</span><span class="sxs-lookup"><span data-stu-id="31371-481">Web applications communicate with web APIs (sometimes on their own, sometimes on behalf of a user)</span></span></li><li><span data-ttu-id="31371-482">Aplikace založené na prohlížeči komunikovat s webových rozhraní API</span><span class="sxs-lookup"><span data-stu-id="31371-482">Browser-based applications communicate with web APIs</span></span></li><li><span data-ttu-id="31371-483">Nativní aplikace komunikovat s webových rozhraní API</span><span class="sxs-lookup"><span data-stu-id="31371-483">Native applications communicate with web APIs</span></span></li><li><span data-ttu-id="31371-484">Serverové aplikace komunikovat s webových rozhraní API</span><span class="sxs-lookup"><span data-stu-id="31371-484">Server-based applications communicate with web APIs</span></span></li><li><span data-ttu-id="31371-485">Webová rozhraní API komunikovat s webových rozhraní API (někdy na své vlastní, někdy jménem uživatele)</span><span class="sxs-lookup"><span data-stu-id="31371-485">Web APIs communicate with web APIs (sometimes on their own, sometimes on behalf of a user)</span></span></li></ul>|

## <span data-ttu-id="31371-486"><a id="override-token"></a>Přepsat výchozí Identity mezipaměti na serveru tokenu škálovatelné alternativou</span><span class="sxs-lookup"><span data-stu-id="31371-486"><a id="override-token"></a>Override the default Identity Server token cache with a scalable alternative</span></span>

| <span data-ttu-id="31371-487">Název</span><span class="sxs-lookup"><span data-stu-id="31371-487">Title</span></span>                   | <span data-ttu-id="31371-488">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-488">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-489">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-489">**Component**</span></span>               | <span data-ttu-id="31371-490">Serveru identit</span><span class="sxs-lookup"><span data-stu-id="31371-490">Identity Server</span></span> | 
| <span data-ttu-id="31371-491">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-491">**SDL Phase**</span></span>               | <span data-ttu-id="31371-492">Nasazení</span><span class="sxs-lookup"><span data-stu-id="31371-492">Deployment</span></span> |  
| <span data-ttu-id="31371-493">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-493">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-494">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-494">Generic</span></span> |
| <span data-ttu-id="31371-495">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-495">**Attributes**</span></span>              | <span data-ttu-id="31371-496">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-496">N/A</span></span>  |
| <span data-ttu-id="31371-497">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-497">**References**</span></span>              | [<span data-ttu-id="31371-498">Nasazení serveru identity - ukládání do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="31371-498">Identity Server Deployment - Caching</span></span>](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html) |
| <span data-ttu-id="31371-499">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-499">**Steps**</span></span> | <p><span data-ttu-id="31371-500">IdentityServer má jednoduché předdefinované mezipaměti v paměti.</span><span class="sxs-lookup"><span data-stu-id="31371-500">IdentityServer has a simple built-in in-memory cache.</span></span> <span data-ttu-id="31371-501">To je vhodné pro nativní aplikace v menším měřítku, není vhodné pro střední vrstvy a back-end aplikace z následujících důvodů:</span><span class="sxs-lookup"><span data-stu-id="31371-501">While this is good for small scale native apps, it does not scale for mid tier and backend applications for the following reasons:</span></span></p><ul><li><span data-ttu-id="31371-502">Tyto aplikace jsou dostupné přes mnoho uživatelů najednou.</span><span class="sxs-lookup"><span data-stu-id="31371-502">These applications are accessed by many users at once.</span></span> <span data-ttu-id="31371-503">Ukládání všechny tokeny přístupu v úložišti stejné vytvoří izolace problémů a představuje výzvy při fungování ve velkém měřítku: mnoho uživatelů, každý s tolik tokeny jako prostředky aplikace přístup k jejich jménem, může zahrnovat vyhledávání velmi náročná operace a velký čísla</span><span class="sxs-lookup"><span data-stu-id="31371-503">Saving all access tokens in the same store creates isolation issues and presents challenges when operating at scale: many users, each with as many tokens as the resources the app accesses on their behalf, can mean huge numbers and very expensive lookup operations</span></span></li><li><span data-ttu-id="31371-504">Tyto aplikace se obvykle nasazují na Distribuovaná topologie, kde více uzlů musí mít přístup ke stejným mezipaměti</span><span class="sxs-lookup"><span data-stu-id="31371-504">These applications are typically deployed on distributed topologies, where multiple nodes must have access to the same cache</span></span></li><li><span data-ttu-id="31371-505">V mezipaměti tokeny musí překonat proces recykluje a deaktivací</span><span class="sxs-lookup"><span data-stu-id="31371-505">Cached tokens must survive process recycles and deactivations</span></span></li><li><span data-ttu-id="31371-506">Pro všechny výše uvedené důvody při implementaci webové aplikace, se doporučuje přepsat výchozí Server Identity tokenu mezipaměti škálovatelné alternativou například Azure Redis cache</span><span class="sxs-lookup"><span data-stu-id="31371-506">For all the above reasons, while implementing web apps, it is recommended to override the default Identity Server's token cache with a scalable alternative such as Azure Redis cache</span></span></li></ul>|

## <span data-ttu-id="31371-507"><a id="binaries-signed"></a>Ujistěte se, že binární soubory nasazené aplikace jsou digitálně podepsané.</span><span class="sxs-lookup"><span data-stu-id="31371-507"><a id="binaries-signed"></a>Ensure that deployed application's binaries are digitally signed</span></span>

| <span data-ttu-id="31371-508">Název</span><span class="sxs-lookup"><span data-stu-id="31371-508">Title</span></span>                   | <span data-ttu-id="31371-509">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-509">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-510">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-510">**Component**</span></span>               | <span data-ttu-id="31371-511">Počítač hranice vztahů důvěryhodnosti</span><span class="sxs-lookup"><span data-stu-id="31371-511">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="31371-512">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-512">**SDL Phase**</span></span>               | <span data-ttu-id="31371-513">Nasazení</span><span class="sxs-lookup"><span data-stu-id="31371-513">Deployment</span></span> |  
| <span data-ttu-id="31371-514">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-514">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-515">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-515">Generic</span></span> |
| <span data-ttu-id="31371-516">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-516">**Attributes**</span></span>              | <span data-ttu-id="31371-517">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-517">N/A</span></span>  |
| <span data-ttu-id="31371-518">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-518">**References**</span></span>              | <span data-ttu-id="31371-519">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-519">N/A</span></span>  |
| <span data-ttu-id="31371-520">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-520">**Steps**</span></span> | <span data-ttu-id="31371-521">Ujistěte se, že binární soubory nasazené aplikace jsou digitálně podepsané, aby se dá ověřit integritu binárních souborů</span><span class="sxs-lookup"><span data-stu-id="31371-521">Ensure that deployed application's binaries are digitally signed so that the integrity of the binaries can be verified</span></span>|

## <span data-ttu-id="31371-522"><a id="msmq-queues"></a>Povolit ověřování při připojování k MSMQ fronty ve WCF</span><span class="sxs-lookup"><span data-stu-id="31371-522"><a id="msmq-queues"></a>Enable authentication when connecting to MSMQ queues in WCF</span></span>

| <span data-ttu-id="31371-523">Název</span><span class="sxs-lookup"><span data-stu-id="31371-523">Title</span></span>                   | <span data-ttu-id="31371-524">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-524">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-525">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-525">**Component**</span></span>               | <span data-ttu-id="31371-526">WCF</span><span class="sxs-lookup"><span data-stu-id="31371-526">WCF</span></span> | 
| <span data-ttu-id="31371-527">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-527">**SDL Phase**</span></span>               | <span data-ttu-id="31371-528">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-528">Build</span></span> |  
| <span data-ttu-id="31371-529">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-529">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-530">Obecné, NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="31371-530">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="31371-531">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-531">**Attributes**</span></span>              | <span data-ttu-id="31371-532">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-532">N/A</span></span> |
| <span data-ttu-id="31371-533">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-533">**References**</span></span>              | [<span data-ttu-id="31371-534">MSDN</span><span class="sxs-lookup"><span data-stu-id="31371-534">MSDN</span></span>](https://msdn.microsoft.com/library/ff648500.aspx) |
| <span data-ttu-id="31371-535">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-535">**Steps**</span></span> | <span data-ttu-id="31371-536">Program selže k povolení ověřování při připojení k frontám služby MSMQ, útočník může anonymně odeslání zprávy do fronty pro zpracování.</span><span class="sxs-lookup"><span data-stu-id="31371-536">Program fails to enable authentication when connecting to MSMQ queues, an attacker can anonymously submit messages to the queue for processing.</span></span> <span data-ttu-id="31371-537">Pokud ověření není používá pro připojení pro frontu MSMQ používá pro doručení zprávy do jiného programu, útočník může odeslat zprávu anonymní, který je škodlivý.</span><span class="sxs-lookup"><span data-stu-id="31371-537">If authentication is not used to connect to an MSMQ queue used to deliver a message to another program, an attacker could submit an anonymous message that is malicious.</span></span>|

### <a name="example"></a><span data-ttu-id="31371-538">Příklad</span><span class="sxs-lookup"><span data-stu-id="31371-538">Example</span></span>
<span data-ttu-id="31371-539">`<netMsmqBinding/>` Prvek konfiguračního souboru WCF, které jsou níže dá pokyn WCF zakázat ověřování při připojování k frontu služby MSMQ pro doručování zpráv.</span><span class="sxs-lookup"><span data-stu-id="31371-539">The `<netMsmqBinding/>` element of the WCF configuration file below instructs WCF to disable authentication when connecting to an MSMQ queue for message delivery.</span></span>
```
<bindings>
    <netMsmqBinding>
        <binding>
            <security>
                <transport msmqAuthenticationMode=""None"" />
            </security>
        </binding>
    </netMsmqBinding>
</bindings>
```
<span data-ttu-id="31371-540">Konfigurace služby MSMQ tak, aby vyžadovala domény systému Windows nebo ověření certifikátu po celou dobu pro všechny příchozí nebo odchozí zprávy.</span><span class="sxs-lookup"><span data-stu-id="31371-540">Configure MSMQ to require Windows Domain or Certificate authentication at all times for any incoming or outgoing messages.</span></span>

### <a name="example"></a><span data-ttu-id="31371-541">Příklad</span><span class="sxs-lookup"><span data-stu-id="31371-541">Example</span></span>
<span data-ttu-id="31371-542">`<netMsmqBinding/>` Prvek konfiguračního souboru WCF, které jsou níže dá pokyn k povolení ověřování pomocí certifikátů, pokud se připojujete pro frontu MSMQ WCF.</span><span class="sxs-lookup"><span data-stu-id="31371-542">The `<netMsmqBinding/>` element of the WCF configuration file below instructs WCF to enable certificate authentication when connecting to an MSMQ queue.</span></span> <span data-ttu-id="31371-543">Klient je ověřen pomocí certifikátů X.509.</span><span class="sxs-lookup"><span data-stu-id="31371-543">The client is authenticated using X.509 certificates.</span></span> <span data-ttu-id="31371-544">Klientský certifikát musí být v úložišti certifikátů serveru.</span><span class="sxs-lookup"><span data-stu-id="31371-544">The client certificate must be present in the certificate store of the server.</span></span>
```
<bindings>
    <netMsmqBinding>
        <binding>
            <security>
                <transport msmqAuthenticationMode=""Certificate"" />
            </security>
        </binding>
    </netMsmqBinding>
</bindings>
```

## <span data-ttu-id="31371-545"><a id="message-none"></a>Proveďte WCF clientCredentialType zpráva není nastavena na hodnotu none</span><span class="sxs-lookup"><span data-stu-id="31371-545"><a id="message-none"></a>WCF-Do not set Message clientCredentialType to none</span></span>

| <span data-ttu-id="31371-546">Název</span><span class="sxs-lookup"><span data-stu-id="31371-546">Title</span></span>                   | <span data-ttu-id="31371-547">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-547">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-548">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-548">**Component**</span></span>               | <span data-ttu-id="31371-549">WCF</span><span class="sxs-lookup"><span data-stu-id="31371-549">WCF</span></span> | 
| <span data-ttu-id="31371-550">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-550">**SDL Phase**</span></span>               | <span data-ttu-id="31371-551">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-551">Build</span></span> |  
| <span data-ttu-id="31371-552">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-552">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-553">Rozhraní .NET framework 3</span><span class="sxs-lookup"><span data-stu-id="31371-553">.NET Framework 3</span></span> |
| <span data-ttu-id="31371-554">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-554">**Attributes**</span></span>              | <span data-ttu-id="31371-555">Typ pověření klienta - None</span><span class="sxs-lookup"><span data-stu-id="31371-555">Client Credential Type - None</span></span> |
| <span data-ttu-id="31371-556">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-556">**References**</span></span>              | <span data-ttu-id="31371-557">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [obohacení](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="31371-557">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="31371-558">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-558">**Steps**</span></span> | <span data-ttu-id="31371-559">Neexistence ověřování znamená, že všichni je mít přístup k této službě.</span><span class="sxs-lookup"><span data-stu-id="31371-559">The absence of authentication means everyone is able to access this service.</span></span> <span data-ttu-id="31371-560">Služba, která neověřuje svým klientům umožňuje přístup na všechny uživatele.</span><span class="sxs-lookup"><span data-stu-id="31371-560">A service that does not authenticate its clients allows access to all users.</span></span> <span data-ttu-id="31371-561">Konfigurace aplikace pro ověřování na základě pověření klienta.</span><span class="sxs-lookup"><span data-stu-id="31371-561">Configure the application to authenticate against client credentials.</span></span> <span data-ttu-id="31371-562">Tento krok můžete provést nastavením clientCredentialType zpráv systému Windows nebo certifikátu.</span><span class="sxs-lookup"><span data-stu-id="31371-562">This can be done by setting the message clientCredentialType to Windows or Certificate.</span></span> |

### <a name="example"></a><span data-ttu-id="31371-563">Příklad</span><span class="sxs-lookup"><span data-stu-id="31371-563">Example</span></span>
```
<message clientCredentialType=""Certificate""/>
```

## <span data-ttu-id="31371-564"><a id="transport-none"></a>Přenos clientCredentialType WCF proveďte není nastavena na hodnotu none</span><span class="sxs-lookup"><span data-stu-id="31371-564"><a id="transport-none"></a>WCF-Do not set Transport clientCredentialType to none</span></span>

| <span data-ttu-id="31371-565">Název</span><span class="sxs-lookup"><span data-stu-id="31371-565">Title</span></span>                   | <span data-ttu-id="31371-566">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-566">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-567">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-567">**Component**</span></span>               | <span data-ttu-id="31371-568">WCF</span><span class="sxs-lookup"><span data-stu-id="31371-568">WCF</span></span> | 
| <span data-ttu-id="31371-569">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-569">**SDL Phase**</span></span>               | <span data-ttu-id="31371-570">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-570">Build</span></span> |  
| <span data-ttu-id="31371-571">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-571">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-572">Obecná rozhraní .NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="31371-572">Generic, .NET Framework 3</span></span> |
| <span data-ttu-id="31371-573">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-573">**Attributes**</span></span>              | <span data-ttu-id="31371-574">Typ pověření klienta - None</span><span class="sxs-lookup"><span data-stu-id="31371-574">Client Credential Type - None</span></span> |
| <span data-ttu-id="31371-575">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-575">**References**</span></span>              | <span data-ttu-id="31371-576">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [obohacení](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="31371-576">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="31371-577">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-577">**Steps**</span></span> | <span data-ttu-id="31371-578">Neexistence ověřování znamená, že všichni je mít přístup k této službě.</span><span class="sxs-lookup"><span data-stu-id="31371-578">The absence of authentication means everyone is able to access this service.</span></span> <span data-ttu-id="31371-579">Služba, která neověřuje svým klientům umožňuje všem uživatelům přístup k jeho funkci.</span><span class="sxs-lookup"><span data-stu-id="31371-579">A service that does not authenticate its clients allows all users to access its functionality.</span></span> <span data-ttu-id="31371-580">Konfigurace aplikace pro ověřování na základě pověření klienta.</span><span class="sxs-lookup"><span data-stu-id="31371-580">Configure the application to authenticate against client credentials.</span></span> <span data-ttu-id="31371-581">Tento krok můžete provést nastavením clientCredentialType přenosu Windows nebo certifikátu.</span><span class="sxs-lookup"><span data-stu-id="31371-581">This can be done by setting the transport clientCredentialType to Windows or Certificate.</span></span> |

### <a name="example"></a><span data-ttu-id="31371-582">Příklad</span><span class="sxs-lookup"><span data-stu-id="31371-582">Example</span></span>
```
<transport clientCredentialType=""Certificate""/>
```

## <span data-ttu-id="31371-583"><a id="authn-secure-api"></a>Ujistěte se, že standardní ověřování, postupy se používají k zabezpečení rozhraní Web API</span><span class="sxs-lookup"><span data-stu-id="31371-583"><a id="authn-secure-api"></a>Ensure that standard authentication techniques are used to secure Web APIs</span></span>

| <span data-ttu-id="31371-584">Název</span><span class="sxs-lookup"><span data-stu-id="31371-584">Title</span></span>                   | <span data-ttu-id="31371-585">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-585">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-586">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-586">**Component**</span></span>               | <span data-ttu-id="31371-587">Web API</span><span class="sxs-lookup"><span data-stu-id="31371-587">Web API</span></span> | 
| <span data-ttu-id="31371-588">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-588">**SDL Phase**</span></span>               | <span data-ttu-id="31371-589">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-589">Build</span></span> |  
| <span data-ttu-id="31371-590">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-590">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-591">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-591">Generic</span></span> |
| <span data-ttu-id="31371-592">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-592">**Attributes**</span></span>              | <span data-ttu-id="31371-593">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-593">N/A</span></span>  |
| <span data-ttu-id="31371-594">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-594">**References**</span></span>              | <span data-ttu-id="31371-595">[Ověřování a autorizace v rozhraní ASP.NET Web API](http://www.asp.net/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api), [externí ověřovací služby s rozhraním ASP.NET Web API (C#)](http://www.asp.net/web-api/overview/security/external-authentication-services)</span><span class="sxs-lookup"><span data-stu-id="31371-595">[Authentication and Authorization in ASP.NET Web API](http://www.asp.net/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api), [External Authentication Services with ASP.NET Web API (C#)](http://www.asp.net/web-api/overview/security/external-authentication-services)</span></span> |
| <span data-ttu-id="31371-596">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-596">**Steps**</span></span> | <p><span data-ttu-id="31371-597">Ověřování je proces, kde entity prokáže svou identitu, obvykle prostřednictvím přihlašovacích údajů, jako je například uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="31371-597">Authentication is the process where an entity proves its identity, typically through credentials, such as a user name and password.</span></span> <span data-ttu-id="31371-598">Existuje více ověřovací protokoly dostupné kterých lze považovat za.</span><span class="sxs-lookup"><span data-stu-id="31371-598">There are multiple authentication protocols available which may be considered.</span></span> <span data-ttu-id="31371-599">Některé z nich, jsou uvedeny níže:</span><span class="sxs-lookup"><span data-stu-id="31371-599">Some of them are listed below:</span></span></p><ul><li><span data-ttu-id="31371-600">Klientské certifikáty</span><span class="sxs-lookup"><span data-stu-id="31371-600">Client certificates</span></span></li><li><span data-ttu-id="31371-601">Na základě systému Windows</span><span class="sxs-lookup"><span data-stu-id="31371-601">Windows based</span></span></li><li><span data-ttu-id="31371-602">Na základě formulářů</span><span class="sxs-lookup"><span data-stu-id="31371-602">Forms based</span></span></li><li><span data-ttu-id="31371-603">Federační - služby AD FS</span><span class="sxs-lookup"><span data-stu-id="31371-603">Federation - ADFS</span></span></li><li><span data-ttu-id="31371-604">Federační – Azure AD</span><span class="sxs-lookup"><span data-stu-id="31371-604">Federation - Azure AD</span></span></li><li><span data-ttu-id="31371-605">Federační - serveru identit</span><span class="sxs-lookup"><span data-stu-id="31371-605">Federation - Identity Server</span></span></li></ul><p><span data-ttu-id="31371-606">Odkazy v části odkazy obsahují nízké úrovně podrobnosti o tom, jak každý z schémat ověřování můžete implementují pro zabezpečení webového rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="31371-606">Links in the references section provide low-level details on how each of the authentication schemes can be implemented to secure a Web API.</span></span></p>|

## <span data-ttu-id="31371-607"><a id="authn-aad"></a>Použijte standardní ověřování scénáře podporované službou Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="31371-607"><a id="authn-aad"></a>Use standard authentication scenarios supported by Azure Active Directory</span></span>

| <span data-ttu-id="31371-608">Název</span><span class="sxs-lookup"><span data-stu-id="31371-608">Title</span></span>                   | <span data-ttu-id="31371-609">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-609">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-610">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-610">**Component**</span></span>               | <span data-ttu-id="31371-611">Azure AD</span><span class="sxs-lookup"><span data-stu-id="31371-611">Azure AD</span></span> | 
| <span data-ttu-id="31371-612">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-612">**SDL Phase**</span></span>               | <span data-ttu-id="31371-613">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-613">Build</span></span> |  
| <span data-ttu-id="31371-614">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-614">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-615">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-615">Generic</span></span> |
| <span data-ttu-id="31371-616">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-616">**Attributes**</span></span>              | <span data-ttu-id="31371-617">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-617">N/A</span></span>  |
| <span data-ttu-id="31371-618">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-618">**References**</span></span>              | <span data-ttu-id="31371-619">[Scénáře ověřování pro Azure AD](https://azure.microsoft.com/documentation/articles/active-directory-authentication-scenarios/), [Azure Active Directory ukázky kódu](https://azure.microsoft.com/documentation/articles/active-directory-code-samples/), [Příručka pro vývojáře Azure Active Directory](https://azure.microsoft.com/documentation/articles/active-directory-developers-guide/)</span><span class="sxs-lookup"><span data-stu-id="31371-619">[Authentication Scenarios for Azure AD](https://azure.microsoft.com/documentation/articles/active-directory-authentication-scenarios/), [Azure Active Directory Code Samples](https://azure.microsoft.com/documentation/articles/active-directory-code-samples/), [Azure Active Directory developer's guide](https://azure.microsoft.com/documentation/articles/active-directory-developers-guide/)</span></span> |
| <span data-ttu-id="31371-620">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-620">**Steps**</span></span> | <p><span data-ttu-id="31371-621">Azure Active Directory (Azure AD) zjednodušuje ověřování pro vývojáře a poskytovat identity jako služby, podpora pro standardní protokoly, jako je například OAuth 2.0 a OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="31371-621">Azure Active Directory (Azure AD) simplifies authentication for developers by providing identity as a service, with support for industry-standard protocols such as OAuth 2.0 and OpenID Connect.</span></span> <span data-ttu-id="31371-622">V následující tabulce jsou pět scénáře primární aplikace podporované službou Azure AD:</span><span class="sxs-lookup"><span data-stu-id="31371-622">Below are the five primary application scenarios supported by Azure AD:</span></span></p><ul><li><span data-ttu-id="31371-623">Webový prohlížeč k webové aplikaci: uživatel potřebuje k přihlášení k webové aplikaci, která je zabezpečená službou Azure AD</span><span class="sxs-lookup"><span data-stu-id="31371-623">Web Browser to Web Application: A user needs to sign in to a web application that is secured by Azure AD</span></span></li><li><span data-ttu-id="31371-624">Jediné stránce aplikace (SPA): Uživatel musí pro přihlášení k jednostránkové aplikace, která je zabezpečená službou Azure AD</span><span class="sxs-lookup"><span data-stu-id="31371-624">Single Page Application (SPA): A user needs to sign in to a single page application that is secured by Azure AD</span></span></li><li><span data-ttu-id="31371-625">Nativní aplikace za účelem webového rozhraní API: nativní aplikaci, která běží na telefon, tablet nebo počítač potřebuje k ověření uživatele k získání prostředky z webového rozhraní API, která je zabezpečená službou Azure AD</span><span class="sxs-lookup"><span data-stu-id="31371-625">Native Application to Web API: A native application that runs on a phone, tablet, or PC needs to authenticate a user to get resources from a web API that is secured by Azure AD</span></span></li><li><span data-ttu-id="31371-626">Webové aplikace do webového rozhraní API: webová aplikace musí získat prostředky z webového rozhraní API, které jsou zabezpečené službou Azure AD</span><span class="sxs-lookup"><span data-stu-id="31371-626">Web Application to Web API: A web application needs to get resources from a web API secured by Azure AD</span></span></li><li><span data-ttu-id="31371-627">Démon procesu nebo serverové aplikace webového rozhraní API: démon aplikaci nebo serveru bez webového uživatelského rozhraní musí získat prostředky z webového rozhraní API, které jsou zabezpečené službou Azure AD</span><span class="sxs-lookup"><span data-stu-id="31371-627">Daemon or Server Application to Web API: A daemon application or a server application with no web user interface needs to get resources from a web API secured by Azure AD</span></span></li></ul><p><span data-ttu-id="31371-628">Podrobnosti najdete na odkazy v části odkazy podrobnosti implementace nízké úrovně</span><span class="sxs-lookup"><span data-stu-id="31371-628">Please refer to the links in the references section for low-level implementation details</span></span></p>|

## <span data-ttu-id="31371-629"><a id="adal-scalable"></a>Přepsat výchozí ADAL mezipamětí tokenů škálovatelné alternativou</span><span class="sxs-lookup"><span data-stu-id="31371-629"><a id="adal-scalable"></a>Override the default ADAL token cache with a scalable alternative</span></span>

| <span data-ttu-id="31371-630">Název</span><span class="sxs-lookup"><span data-stu-id="31371-630">Title</span></span>                   | <span data-ttu-id="31371-631">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-631">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-632">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-632">**Component**</span></span>               | <span data-ttu-id="31371-633">Azure AD</span><span class="sxs-lookup"><span data-stu-id="31371-633">Azure AD</span></span> | 
| <span data-ttu-id="31371-634">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-634">**SDL Phase**</span></span>               | <span data-ttu-id="31371-635">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-635">Build</span></span> |  
| <span data-ttu-id="31371-636">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-636">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-637">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-637">Generic</span></span> |
| <span data-ttu-id="31371-638">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-638">**Attributes**</span></span>              | <span data-ttu-id="31371-639">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-639">N/A</span></span>  |
| <span data-ttu-id="31371-640">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-640">**References**</span></span>              | <span data-ttu-id="31371-641">[Moderní ověřování s Azure Active Directory pro webové aplikace](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/), [pomocí Redis jako ADAL mezipamětí tokenů](https://blogs.msdn.microsoft.com/mrochon/2016/09/19/using-redis-as-adal-token-cache/)</span><span class="sxs-lookup"><span data-stu-id="31371-641">[Modern Authentication with Azure Active Directory for Web Applications](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/), [Using Redis as ADAL token cache](https://blogs.msdn.microsoft.com/mrochon/2016/09/19/using-redis-as-adal-token-cache/)</span></span>  |
| <span data-ttu-id="31371-642">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-642">**Steps**</span></span> | <p><span data-ttu-id="31371-643">Výchozí mezipaměti, která používá ADAL (Active Directory Authentication Library), je mezipaměti v paměti, které jsou závislé na statické úložiště, k dispozici úrovni procesu.</span><span class="sxs-lookup"><span data-stu-id="31371-643">The default cache that ADAL (Active Directory Authentication Library) uses is an in-memory cache that relies on a static store, available process-wide.</span></span> <span data-ttu-id="31371-644">Když tato metoda funguje u nativních aplikací, není vhodné pro střední vrstvy a back-end aplikace z následujících důvodů:</span><span class="sxs-lookup"><span data-stu-id="31371-644">While this works for native applications, it does not scale for mid tier and backend applications for the following reasons:</span></span></p><ul><li><span data-ttu-id="31371-645">Tyto aplikace jsou dostupné přes mnoho uživatelů najednou.</span><span class="sxs-lookup"><span data-stu-id="31371-645">These applications are accessed by many users at once.</span></span> <span data-ttu-id="31371-646">Ukládání všechny tokeny přístupu v úložišti stejné vytvoří izolace problémů a představuje výzvy při fungování ve velkém měřítku: mnoho uživatelů, každý s tolik tokeny jako prostředky aplikace přístup k jejich jménem, může zahrnovat vyhledávání velmi náročná operace a velký čísla</span><span class="sxs-lookup"><span data-stu-id="31371-646">Saving all access tokens in the same store creates isolation issues and presents challenges when operating at scale: many users, each with as many tokens as the resources the app accesses on their behalf, can mean huge numbers and very expensive lookup operations</span></span></li><li><span data-ttu-id="31371-647">Tyto aplikace se obvykle nasazují na Distribuovaná topologie, kde více uzlů musí mít přístup ke stejným mezipaměti</span><span class="sxs-lookup"><span data-stu-id="31371-647">These applications are typically deployed on distributed topologies, where multiple nodes must have access to the same cache</span></span></li><li><span data-ttu-id="31371-648">V mezipaměti tokeny musí překonat proces recykluje a deaktivací</span><span class="sxs-lookup"><span data-stu-id="31371-648">Cached tokens must survive process recycles and deactivations</span></span></li></ul><p><span data-ttu-id="31371-649">Pro všechny výše uvedené důvody při implementaci webové aplikace, se doporučuje přepsat výchozí ADAL mezipamětí tokenů škálovatelné alternativou například Azure Redis cache.</span><span class="sxs-lookup"><span data-stu-id="31371-649">For all the above reasons, while implementing web apps, it is recommended to override the default ADAL token cache with a scalable alternative such as Azure Redis cache.</span></span></p>|

## <span data-ttu-id="31371-650"><a id="tokenreplaycache-adal"></a>Ujistěte se, že TokenReplayCache se používá při prevenci opětovného přehrání tokenů ověřování ADAL</span><span class="sxs-lookup"><span data-stu-id="31371-650"><a id="tokenreplaycache-adal"></a>Ensure that TokenReplayCache is used to prevent the replay of ADAL authentication tokens</span></span>

| <span data-ttu-id="31371-651">Název</span><span class="sxs-lookup"><span data-stu-id="31371-651">Title</span></span>                   | <span data-ttu-id="31371-652">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-652">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-653">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-653">**Component**</span></span>               | <span data-ttu-id="31371-654">Azure AD</span><span class="sxs-lookup"><span data-stu-id="31371-654">Azure AD</span></span> | 
| <span data-ttu-id="31371-655">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-655">**SDL Phase**</span></span>               | <span data-ttu-id="31371-656">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-656">Build</span></span> |  
| <span data-ttu-id="31371-657">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-657">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-658">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-658">Generic</span></span> |
| <span data-ttu-id="31371-659">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-659">**Attributes**</span></span>              | <span data-ttu-id="31371-660">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-660">N/A</span></span>  |
| <span data-ttu-id="31371-661">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-661">**References**</span></span>              | [<span data-ttu-id="31371-662">Moderní ověřování s Azure Active Directory pro webové aplikace</span><span class="sxs-lookup"><span data-stu-id="31371-662">Modern Authentication with Azure Active Directory for Web Applications</span></span>](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/) |
| <span data-ttu-id="31371-663">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-663">**Steps**</span></span> | <p><span data-ttu-id="31371-664">Vlastnost TokenReplayCache umožňuje vývojářům vyhradit mezipaměť opětovného přehrání tokenu, úložiště, které lze použít pro ukládání tokeny pro účely ověření, že žádné token lze použít více než jednou.</span><span class="sxs-lookup"><span data-stu-id="31371-664">The TokenReplayCache property allows developers to define a token replay cache, a store that can be used for saving tokens for the purpose of verifying that no token can be used more than once.</span></span></p><p><span data-ttu-id="31371-665">Toto je míra proti útoku běžné útoku vhodně volané opětovného přehrání tokenu: útočník brání token odeslaný při přihlášení se může pokusit znovu odeslat do aplikace ("" Přehrajte si jej znovu) pro vytvoření nové relace.</span><span class="sxs-lookup"><span data-stu-id="31371-665">This is a measure against a common attack, the aptly called token replay attack: an attacker intercepting the token sent at sign-in might try to send it to the app again (“replay” it) for establishing a new session.</span></span> <span data-ttu-id="31371-666">Například v OIDC kódu grant tok, po úspěšné ověření uživatele, požadavek na "/ signin-oidc" koncový bod předávající strany se provádí s "požadavku id_token", "kódu" a "stavu" parametry.</span><span class="sxs-lookup"><span data-stu-id="31371-666">E.g., In OIDC code-grant flow, after successful user authentication, a request to "/signin-oidc" endpoint of the relying party is made with "id_token", "code" and "state" parameters.</span></span></p><p><span data-ttu-id="31371-667">Předávající strana ověří tento požadavek a vytvoří novou relaci.</span><span class="sxs-lookup"><span data-stu-id="31371-667">The relying party validates this request and establishes a new session.</span></span> <span data-ttu-id="31371-668">Pokud nežádoucí osoba zaznamená tuto žádost a replays ho, si můžete určit úspěšné relace a zfalšovat uživatele.</span><span class="sxs-lookup"><span data-stu-id="31371-668">If an adversary captures this request and replays it, he/she can establish a successful session and spoof the user.</span></span> <span data-ttu-id="31371-669">Přítomnost hodnotu nonce v OpenID Connect můžete omezit, ale není plně eliminovat v případech, ve kterých útok úspěšně použity.</span><span class="sxs-lookup"><span data-stu-id="31371-669">The presence of the nonce in OpenID Connect can limit but not fully eliminate the circumstances in which the attack can be successfully enacted.</span></span> <span data-ttu-id="31371-670">Vývojáři můžou chránit své aplikace, zadejte implementaci ITokenReplayCache a přiřadit TokenReplayCache instance.</span><span class="sxs-lookup"><span data-stu-id="31371-670">To protect their applications, developers can provide an implementation of ITokenReplayCache and assign an instance to TokenReplayCache.</span></span></p>|

### <a name="example"></a><span data-ttu-id="31371-671">Příklad</span><span class="sxs-lookup"><span data-stu-id="31371-671">Example</span></span>
```C#
// ITokenReplayCache defined in ADAL
public interface ITokenReplayCache
{
bool TryAdd(string securityToken, DateTime expiresOn);
bool TryFind(string securityToken);
}
```

### <a name="example"></a><span data-ttu-id="31371-672">Příklad</span><span class="sxs-lookup"><span data-stu-id="31371-672">Example</span></span>
<span data-ttu-id="31371-673">Zde je ukázka implementace rozhraní ITokenReplayCache.</span><span class="sxs-lookup"><span data-stu-id="31371-673">Here is a sample implementation of the ITokenReplayCache interface.</span></span> <span data-ttu-id="31371-674">(Prosím přizpůsobit a implementovat vaše specifické pro projekt ukládání do mezipaměti framework)</span><span class="sxs-lookup"><span data-stu-id="31371-674">(Please customize and implement your project-specific caching framework)</span></span>
```C#
public class TokenReplayCache : ITokenReplayCache
{
    private readonly ICacheProvider cache; // Your project-specific cache provider
    public TokenReplayCache(ICacheProvider cache)
    {
        this.cache = cache;
    }
    public bool TryAdd(string securityToken, DateTime expiresOn)
    {
        if (this.cache.Get<string>(securityToken) == null)
        {
            this.cache.Set(securityToken, securityToken);
            return true;
        }
        return false;
    }
    public bool TryFind(string securityToken)
    {
        return this.cache.Get<string>(securityToken) != null;
    }
}
```
<span data-ttu-id="31371-675">Implementovaná mezipaměť obsahuje bude odkazovat na možnosti OIDC přes vlastnost "parametry tokenvalidationparameters." následujícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="31371-675">The implemented cache has to be referenced in OIDC options via the "TokenValidationParameters" property as follows.</span></span>
```C#
OpenIdConnectOptions openIdConnectOptions = new OpenIdConnectOptions
{
    AutomaticAuthenticate = true,
    ... // other configuration properties follow..
    TokenValidationParameters = new TokenValidationParameters
    {
        TokenReplayCache = new TokenReplayCache(/*Inject your cache provider*/);
    }
}
```

<span data-ttu-id="31371-676">Pamatujte, že pro testování efektivitu této konfigurace přihlášení do místní OIDC chráněné aplikace a zaznamenat požadavek na `"/signin-oidc"` koncového bodu v aplikaci fiddler.</span><span class="sxs-lookup"><span data-stu-id="31371-676">Please note that to test the effectiveness of this configuration, login into your local OIDC-protected application and capture the request to `"/signin-oidc"` endpoint in fiddler.</span></span> <span data-ttu-id="31371-677">Pokud ochranu není na místě, přehrání této žádosti v aplikaci fiddler nastaví nového souboru cookie relace.</span><span class="sxs-lookup"><span data-stu-id="31371-677">When the protection is not in place, replaying this request in fiddler will set a new session cookie.</span></span> <span data-ttu-id="31371-678">Při požadavku je přehrány po přidání ochrany TokenReplayCache, aplikace bude vyvolána výjimka následujícím způsobem:`SecurityTokenReplayDetectedException: IDX10228: The securityToken has previously been validated, securityToken: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ1......`</span><span class="sxs-lookup"><span data-stu-id="31371-678">When the request is replayed after the TokenReplayCache protection is added, the application will throw an exception as follows: `SecurityTokenReplayDetectedException: IDX10228: The securityToken has previously been validated, securityToken: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ1......`</span></span>

## <span data-ttu-id="31371-679"><a id="adal-oauth2"></a>Správa žádosti o tokeny od klientů OAuth2 aad pomocí knihovny ADAL (nebo místní AD)</span><span class="sxs-lookup"><span data-stu-id="31371-679"><a id="adal-oauth2"></a>Use ADAL libraries to manage token requests from OAuth2 clients to AAD (or on-premises AD)</span></span>

| <span data-ttu-id="31371-680">Název</span><span class="sxs-lookup"><span data-stu-id="31371-680">Title</span></span>                   | <span data-ttu-id="31371-681">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-681">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-682">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-682">**Component**</span></span>               | <span data-ttu-id="31371-683">Azure AD</span><span class="sxs-lookup"><span data-stu-id="31371-683">Azure AD</span></span> | 
| <span data-ttu-id="31371-684">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-684">**SDL Phase**</span></span>               | <span data-ttu-id="31371-685">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-685">Build</span></span> |  
| <span data-ttu-id="31371-686">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-686">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-687">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-687">Generic</span></span> |
| <span data-ttu-id="31371-688">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-688">**Attributes**</span></span>              | <span data-ttu-id="31371-689">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-689">N/A</span></span>  |
| <span data-ttu-id="31371-690">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-690">**References**</span></span>              | [<span data-ttu-id="31371-691">ADAL</span><span class="sxs-lookup"><span data-stu-id="31371-691">ADAL</span></span>](https://azure.microsoft.com/documentation/articles/active-directory-authentication-libraries/) |
| <span data-ttu-id="31371-692">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-692">**Steps**</span></span> | <p><span data-ttu-id="31371-693">Azure AD authentication Library (ADAL) umožňuje vývojářům aplikací klienta snadno ověřování uživatelů do cloudu nebo místní služby Active Directory (AD) a získat přístupové tokeny zabezpečení volání rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="31371-693">The Azure AD authentication Library (ADAL) enables client application developers to easily authenticate users to cloud or on-premises Active Directory (AD), and then obtain access tokens for securing API calls.</span></span></p><p><span data-ttu-id="31371-694">ADAL obsahuje mnoho funkcí, zkontrolujte ověření snazší pro vývojáře, jako je třeba asynchronní podpora, konfigurovat tokenu mezipaměti, která ukládá přístupové tokeny a obnovovacích tokenů, automatické aktualizace tokenu, když vyprší platnost přístupového tokenu a obnovovací token je k dispozici a další.</span><span class="sxs-lookup"><span data-stu-id="31371-694">ADAL has many features that make authentication easier for developers, such as asynchronous support, a configurable token cache that stores access tokens and refresh tokens, automatic token refresh when an access token expires and a refresh token is available, and more.</span></span></p><p><span data-ttu-id="31371-695">Pomocí zpracování většinu složitost, můžete ADAL pomáhají vývojáře zaměřená na obchodní logiku ve svých aplikacích a snadno zabezpečení prostředků, aniž by musel být odborník na zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="31371-695">By handling most of the complexity, ADAL can help a developer focus on business logic in their application and easily secure resources without being an expert on security.</span></span> <span data-ttu-id="31371-696">Samostatné knihovny jsou k dispozici pro rozhraní .NET, JavaScript (klient a Node.js), iOS, Android a Java.</span><span class="sxs-lookup"><span data-stu-id="31371-696">Separate libraries are available for .NET, JavaScript (client and Node.js), iOS, Android and Java.</span></span></p>|

## <span data-ttu-id="31371-697"><a id="authn-devices-field"></a>Ověření zařízení připojující se k bráně pole</span><span class="sxs-lookup"><span data-stu-id="31371-697"><a id="authn-devices-field"></a>Authenticate devices connecting to the Field Gateway</span></span>

| <span data-ttu-id="31371-698">Název</span><span class="sxs-lookup"><span data-stu-id="31371-698">Title</span></span>                   | <span data-ttu-id="31371-699">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-699">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-700">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-700">**Component**</span></span>               | <span data-ttu-id="31371-701">Brána pole IoT</span><span class="sxs-lookup"><span data-stu-id="31371-701">IoT Field Gateway</span></span> | 
| <span data-ttu-id="31371-702">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-702">**SDL Phase**</span></span>               | <span data-ttu-id="31371-703">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-703">Build</span></span> |  
| <span data-ttu-id="31371-704">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-704">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-705">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-705">Generic</span></span> |
| <span data-ttu-id="31371-706">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-706">**Attributes**</span></span>              | <span data-ttu-id="31371-707">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-707">N/A</span></span>  |
| <span data-ttu-id="31371-708">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-708">**References**</span></span>              | <span data-ttu-id="31371-709">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-709">N/A</span></span>  |
| <span data-ttu-id="31371-710">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-710">**Steps**</span></span> | <span data-ttu-id="31371-711">Ujistěte se, že každé zařízení je ověřována brána pole před přijetím data z nich a před usnadnění nadřazeného komunikace s Cloudová brána.</span><span class="sxs-lookup"><span data-stu-id="31371-711">Ensure that each device is authenticated by the Field Gateway before accepting data from them and before facilitating upstream communications with the Cloud Gateway.</span></span> <span data-ttu-id="31371-712">Také se ujistěte, že zařízení připojit s na každé zařízení přihlašovacích údajů, aby jednotlivých zařízení je možné jednoznačně identifikovat.</span><span class="sxs-lookup"><span data-stu-id="31371-712">Also, ensure that devices connect with a per device credential so that individual devices can be uniquely identified.</span></span>|

## <span data-ttu-id="31371-713"><a id="authn-devices-cloud"></a>Ujistěte se, že se zařízení připojující se ke cloudové brány ověří</span><span class="sxs-lookup"><span data-stu-id="31371-713"><a id="authn-devices-cloud"></a>Ensure that devices connecting to Cloud gateway are authenticated</span></span>

| <span data-ttu-id="31371-714">Název</span><span class="sxs-lookup"><span data-stu-id="31371-714">Title</span></span>                   | <span data-ttu-id="31371-715">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-715">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-716">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-716">**Component**</span></span>               | <span data-ttu-id="31371-717">Brána IoT cloudu</span><span class="sxs-lookup"><span data-stu-id="31371-717">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="31371-718">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-718">**SDL Phase**</span></span>               | <span data-ttu-id="31371-719">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-719">Build</span></span> |  
| <span data-ttu-id="31371-720">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-720">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-721">Obecné, C#, Node.JS,</span><span class="sxs-lookup"><span data-stu-id="31371-721">Generic, C#, Node.JS,</span></span>  |
| <span data-ttu-id="31371-722">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-722">**Attributes**</span></span>              | <span data-ttu-id="31371-723">Není k dispozici, brány volba - Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="31371-723">N/A, Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="31371-724">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-724">**References**</span></span>              | <span data-ttu-id="31371-725">Není k dispozici, [Azure IoT hub pro rozhraní .NET](https://azure.microsoft.com/documentation/articles/iot-hub-csharp-csharp-getstarted/), [Začínáme se službou IoT hub wih a uzel JS](https://azure.microsoft.com/documentation/articles/iot-hub-node-node-getstarted), [zabezpečení IoT SAS a certifikáty](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/), [úložiště Git](https://github.com/Azure/azure-iot-sdks/tree/master/node)</span><span class="sxs-lookup"><span data-stu-id="31371-725">N/A, [Azure IoT hub with .NET](https://azure.microsoft.com/documentation/articles/iot-hub-csharp-csharp-getstarted/), [Getting Started wih IoT hub and Node JS](https://azure.microsoft.com/documentation/articles/iot-hub-node-node-getstarted), [Securing IoT with SAS and certificates](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/), [Git repository](https://github.com/Azure/azure-iot-sdks/tree/master/node)</span></span> |
| <span data-ttu-id="31371-726">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-726">**Steps**</span></span> | <ul><li><span data-ttu-id="31371-727">**Obecné:** ověření zařízení pomocí zabezpečení TLS (Transport Layer) nebo protokol IPSec.</span><span class="sxs-lookup"><span data-stu-id="31371-727">**Generic:** Authenticate the device using Transport Layer Security (TLS) or IPSec.</span></span> <span data-ttu-id="31371-728">Infrastruktura by měla podporovat použití předsdílený klíč (PSK) na těchto zařízeních, které nelze zpracovat úplné asymetrické šifrování.</span><span class="sxs-lookup"><span data-stu-id="31371-728">Infrastructure should support using pre-shared key (PSK) on those devices that cannot handle full asymmetric cryptography.</span></span> <span data-ttu-id="31371-729">Využijte Azure AD, Oauth.</span><span class="sxs-lookup"><span data-stu-id="31371-729">Leverage Azure AD, Oauth.</span></span></li><li><span data-ttu-id="31371-730">**C#:** při vytváření DeviceClient instance, ve výchozím nastavení, metodu Create vytvoří instanci DeviceClient, který používá protokol AMQP komunikovat s centrem IoT.</span><span class="sxs-lookup"><span data-stu-id="31371-730">**C#:** When creating a DeviceClient instance, by default, the Create method creates a DeviceClient instance that uses the AMQP protocol to communicate with IoT Hub.</span></span> <span data-ttu-id="31371-731">Pokud chcete používat protokol HTTPS, použijte přepis metody Create, která umožňuje určit protokol.</span><span class="sxs-lookup"><span data-stu-id="31371-731">To use the HTTPS protocol, use the override of the Create method that enables you to specify the protocol.</span></span> <span data-ttu-id="31371-732">Pokud používáte protokol HTTPS, měli byste také přidat `Microsoft.AspNet.WebApi.Client` balíček NuGet do projektu zahrnout `System.Net.Http.Formatting` oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="31371-732">If you use the HTTPS protocol, you should also add the `Microsoft.AspNet.WebApi.Client` NuGet package to your project to include the `System.Net.Http.Formatting` namespace.</span></span></li></ul>|

### <a name="example"></a><span data-ttu-id="31371-733">Příklad</span><span class="sxs-lookup"><span data-stu-id="31371-733">Example</span></span>
```C#
static DeviceClient deviceClient;

static string deviceKey = "{device key}";
static string iotHubUri = "{iot hub hostname}";

var messageString = "{message in string format}";
var message = new Message(Encoding.ASCII.GetBytes(messageString));

deviceClient = DeviceClient.Create(iotHubUri, new DeviceAuthenticationWithRegistrySymmetricKey("myFirstDevice", deviceKey));

await deviceClient.SendEventAsync(message);
```

### <a name="example"></a><span data-ttu-id="31371-734">Příklad</span><span class="sxs-lookup"><span data-stu-id="31371-734">Example</span></span>
<span data-ttu-id="31371-735">**Node.JS: ověřování**</span><span class="sxs-lookup"><span data-stu-id="31371-735">**Node.JS: Authentication**</span></span>
#### <a name="symmetric-key"></a><span data-ttu-id="31371-736">Symetrický klíč</span><span class="sxs-lookup"><span data-stu-id="31371-736">Symmetric key</span></span>
* <span data-ttu-id="31371-737">Vytvoření centra IoT v azure</span><span class="sxs-lookup"><span data-stu-id="31371-737">Create a IoT hub on azure</span></span>
* <span data-ttu-id="31371-738">Vytvořit položku v registru identit zařízení</span><span class="sxs-lookup"><span data-stu-id="31371-738">Create an entry in the device identity registry</span></span>
    ```javascript
    var device = new iothub.Device(null);
    device.deviceId = <DeviceId >
    registry.create(device, function(err, deviceInfo, res) {})
    ```
* <span data-ttu-id="31371-739">Vytvoření simulovaného zařízení</span><span class="sxs-lookup"><span data-stu-id="31371-739">Create a simulated device</span></span>
    ```javascript
    var clientFromConnectionString = require('azure-iot-device-amqp').clientFromConnectionString;
    var Message = require('azure-iot-device').Message;
    var connectionString = 'HostName=<HostName>DeviceId=<DeviceId>SharedAccessKey=<SharedAccessKey>';
    var client = clientFromConnectionString(connectionString);
    ```
#### <a name="sas-token"></a><span data-ttu-id="31371-740">SAS Token</span><span class="sxs-lookup"><span data-stu-id="31371-740">SAS Token</span></span>
* <span data-ttu-id="31371-741">Získá generované interně při použití symetrický klíč, ale nemůžeme můžete vygenerovat a použít jej explicitně také</span><span class="sxs-lookup"><span data-stu-id="31371-741">Gets internally generated when using symmetric key but we can generate and use it explicitly as well</span></span>
* <span data-ttu-id="31371-742">Definujte protokol:`var Http = require('azure-iot-device-http').Http;`</span><span class="sxs-lookup"><span data-stu-id="31371-742">Define a protocol : `var Http = require('azure-iot-device-http').Http;`</span></span>
* <span data-ttu-id="31371-743">Vytvořte sas token:</span><span class="sxs-lookup"><span data-stu-id="31371-743">Create a sas token :</span></span>
    ```javascript
    resourceUri = encodeURIComponent(resourceUri.toLowerCase()).toLowerCase();
    var deviceName = "<deviceName >";
    var expires = (Date.now() / 1000) + expiresInMins * 60;
    var toSign = resourceUri + '\n' + expires;
    // using crypto
    var decodedPassword = new Buffer(signingKey, 'base64').toString('binary');
    const hmac = crypto.createHmac('sha256', decodedPassword);
    hmac.update(toSign);
    var base64signature = hmac.digest('base64');
    var base64UriEncoded = encodeURIComponent(base64signature);
    // construct authorization string
    var token = "SharedAccessSignature sr=" + resourceUri + "%2fdevices%2f"+deviceName+"&sig="
    + base64UriEncoded + "&se=" + expires;
    if (policyName) token += "&skn="+policyName;
    return token;
    ```
* <span data-ttu-id="31371-744">Připojte pomocí tokenu sas:</span><span class="sxs-lookup"><span data-stu-id="31371-744">Connect using sas token:</span></span> 
    ```javascript
    Client.fromSharedAccessSignature(sas, Http); 
    ```
#### <a name="certificates"></a><span data-ttu-id="31371-745">Certifikáty</span><span class="sxs-lookup"><span data-stu-id="31371-745">Certificates</span></span>
* <span data-ttu-id="31371-746">Generovat vlastní podepsané X509 certifikátů pomocí libovolného nástroje, jako je například OpenSSL pro vygenerování .cert a s příponou Key souborů k ukládání certifikát a klíč v uvedeném pořadí</span><span class="sxs-lookup"><span data-stu-id="31371-746">Generate a self signed X509 certificate using any tool such as OpenSSL to generate a .cert and .key files to store the certificate and the key respectively</span></span>
* <span data-ttu-id="31371-747">Zřídit zařízení, které přijímá zabezpečené připojení pomocí certifikátů.</span><span class="sxs-lookup"><span data-stu-id="31371-747">Provision a device that accepts secured connection using certificates.</span></span>
    ```javascript
    var connectionString = '<connectionString>';
    var registry = iothub.Registry.fromConnectionString(connectionString);
    var deviceJSON = {deviceId:"<deviceId>",
    authentication: {
        x509Thumbprint: {
        primaryThumbprint: "<PrimaryThumbprint>",
        secondaryThumbprint: "<SecondaryThumbprint>"
        }
    }}
    var device = deviceJSON;
    registry.create(device, function (err) {});
    ```
* <span data-ttu-id="31371-748">Připojení zařízení pomocí certifikátu</span><span class="sxs-lookup"><span data-stu-id="31371-748">Connect a device using a certificate</span></span>
    ```javascript
    var Protocol = require('azure-iot-device-http').Http;
    var Client = require('azure-iot-device').Client;
    var connectionString = 'HostName=<HostName>DeviceId=<DeviceId>x509=true';
    var client = Client.fromConnectionString(connectionString, Protocol);
    var options = {
        key: fs.readFileSync('./key.pem', 'utf8'),
        cert: fs.readFileSync('./server.crt', 'utf8')
    }; 
    // Calling setOptions with the x509 certificate and key (and optionally, passphrase) will configure the client //transport to use x509 when connecting to IoT Hub
    client.setOptions(options);
    //call fn to execute after the connection is set up
    client.open(fn);
    ```

## <span data-ttu-id="31371-749"><a id="authn-cred"></a>Použít pověření ověřování podle zařízení</span><span class="sxs-lookup"><span data-stu-id="31371-749"><a id="authn-cred"></a>Use per-device authentication credentials</span></span>

| <span data-ttu-id="31371-750">Název</span><span class="sxs-lookup"><span data-stu-id="31371-750">Title</span></span>                   | <span data-ttu-id="31371-751">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-751">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-752">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-752">**Component**</span></span>               | <span data-ttu-id="31371-753">Brána IoT cloudu</span><span class="sxs-lookup"><span data-stu-id="31371-753">IoT Cloud Gateway</span></span>  | 
| <span data-ttu-id="31371-754">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-754">**SDL Phase**</span></span>               | <span data-ttu-id="31371-755">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-755">Build</span></span> |  
| <span data-ttu-id="31371-756">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-756">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-757">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-757">Generic</span></span> |
| <span data-ttu-id="31371-758">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-758">**Attributes**</span></span>              | <span data-ttu-id="31371-759">Volba brány - Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="31371-759">Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="31371-760">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-760">**References**</span></span>              | [<span data-ttu-id="31371-761">Tokeny zabezpečení Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="31371-761">Azure IoT Hub Security Tokens</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/) |
| <span data-ttu-id="31371-762">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-762">**Steps**</span></span> | <span data-ttu-id="31371-763">Použití za použití tokeny SaS pověření ověřování zařízení na základě klíč zařízení nebo klientský certifikát, místo IoT Hub úrovni sdílených zásad přístupu.</span><span class="sxs-lookup"><span data-stu-id="31371-763">Use per device authentication credentials using SaS tokens based on Device key or Client Certificate, instead of IoT Hub-level shared access policies.</span></span> <span data-ttu-id="31371-764">Zabrání se tak opakované použití ověřování tokenů jednoho zařízení nebo pole brány jiným</span><span class="sxs-lookup"><span data-stu-id="31371-764">This prevents the reuse of authentication tokens of one device or field gateway by another</span></span> |

## <span data-ttu-id="31371-765"><a id="req-containers-anon"></a>Zajištění, aby pouze požadované kontejnery a objekty BLOB anonymní přístup pro čtení</span><span class="sxs-lookup"><span data-stu-id="31371-765"><a id="req-containers-anon"></a>Ensure that only the required containers and blobs are given anonymous read access</span></span>

| <span data-ttu-id="31371-766">Název</span><span class="sxs-lookup"><span data-stu-id="31371-766">Title</span></span>                   | <span data-ttu-id="31371-767">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-767">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-768">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-768">**Component**</span></span>               | <span data-ttu-id="31371-769">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="31371-769">Azure Storage</span></span> | 
| <span data-ttu-id="31371-770">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-770">**SDL Phase**</span></span>               | <span data-ttu-id="31371-771">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-771">Build</span></span> |  
| <span data-ttu-id="31371-772">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-772">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-773">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-773">Generic</span></span> |
| <span data-ttu-id="31371-774">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-774">**Attributes**</span></span>              | <span data-ttu-id="31371-775">StorageType – objekt Blob</span><span class="sxs-lookup"><span data-stu-id="31371-775">StorageType - Blob</span></span> |
| <span data-ttu-id="31371-776">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-776">**References**</span></span>              | <span data-ttu-id="31371-777">[Správa anonymního přístupu pro čtení ke kontejnerům a objektům blob](https://azure.microsoft.com/documentation/articles/storage-manage-access-to-resources/), [sdílené přístupové podpisy, část 1: vysvětlení modelu SAS](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/)</span><span class="sxs-lookup"><span data-stu-id="31371-777">[Manage anonymous read access to containers and blobs](https://azure.microsoft.com/documentation/articles/storage-manage-access-to-resources/), [Shared Access Signatures, Part 1: Understanding the SAS model](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/)</span></span> |
| <span data-ttu-id="31371-778">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-778">**Steps**</span></span> | <p><span data-ttu-id="31371-779">Ve výchozím kontejneru a všechny objekty BLOB v něm může být přístupné jenom vlastník účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="31371-779">By default, a container and any blobs within it may be accessed only by the owner of the storage account.</span></span> <span data-ttu-id="31371-780">Umožnit anonymní uživatelé oprávnění ke čtení pro kontejner a jeho objekty BLOB jeden můžete nastavit kontejner oprávnění, která umožní veřejný přístup.</span><span class="sxs-lookup"><span data-stu-id="31371-780">To give anonymous users read permissions to a container and its blobs, one can set the container permissions to allow public access.</span></span> <span data-ttu-id="31371-781">Anonymní uživatelé mohou číst objekty BLOB do kontejneru, veřejně přístupný bez ověřování žádosti.</span><span class="sxs-lookup"><span data-stu-id="31371-781">Anonymous users can read blobs within a publicly accessible container without authenticating the request.</span></span></p><p><span data-ttu-id="31371-782">Kontejnery poskytují následující možnosti pro správu přístupu kontejneru:</span><span class="sxs-lookup"><span data-stu-id="31371-782">Containers provide the following options for managing container access:</span></span></p><ul><li><span data-ttu-id="31371-783">Úplný veřejný přístup pro čtení: přes anonymní dotazy můžete číst data kontejnerů a objektů blob.</span><span class="sxs-lookup"><span data-stu-id="31371-783">Full public read access: Container and blob data can be read via anonymous request.</span></span> <span data-ttu-id="31371-784">Klienti, můžete vytvořit výčet objektů BLOB v kontejneru přes anonymní žádost, ale nemůže vytvořit výčet kontejnery v rámci účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="31371-784">Clients can enumerate blobs within the container via anonymous request, but cannot enumerate containers within the storage account.</span></span></li><li><span data-ttu-id="31371-785">Veřejný přístup pro objekty BLOB pouze pro čtení: data objektu Blob v tomto kontejneru mohou číst přes anonymní žádost, ale kontejneru data nejsou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="31371-785">Public read access for blobs only: Blob data within this container can be read via anonymous request, but container data is not available.</span></span> <span data-ttu-id="31371-786">Klienty nelze vytvořit výčet objektů BLOB v kontejneru přes anonymní dotazy</span><span class="sxs-lookup"><span data-stu-id="31371-786">Clients cannot enumerate blobs within the container via anonymous request</span></span></li><li><span data-ttu-id="31371-787">Žádný veřejný přístup pro čtení: kontejnerů a objektů blob dat může číst pouze majiteli účtu</span><span class="sxs-lookup"><span data-stu-id="31371-787">No public read access: Container and blob data can be read by the account owner only</span></span></li></ul><p><span data-ttu-id="31371-788">Anonymní přístup je nejvhodnější pro scénáře, kde některé objekty BLOB musí být vždy k dispozici pro anonymní přístup pro čtení.</span><span class="sxs-lookup"><span data-stu-id="31371-788">Anonymous access is best for scenarios where certain blobs should always be available for anonymous read access.</span></span> <span data-ttu-id="31371-789">Pro řízení citlivější jeden můžete vytvořit sdílený přístupový podpis, který umožňuje delegáta omezený přístup pomocí různých oprávnění a v zadaném časovém intervalu.</span><span class="sxs-lookup"><span data-stu-id="31371-789">For finer-grained control, one can create a shared access signature, which enables to delegate restricted access using different permissions and over a specified time interval.</span></span> <span data-ttu-id="31371-790">Zajištění, aby kontejnery a objekty BLOB, které mohou obsahovat potenciálně citlivá data, nejsou anonymní přístup omylem</span><span class="sxs-lookup"><span data-stu-id="31371-790">Ensure that containers and blobs, which may potentially contain sensitive data, are not given anonymous access accidentally</span></span></p>|

## <span data-ttu-id="31371-791"><a id="limited-access-sas"></a>Udělit omezený přístup k objektům v úložišti Azure pomocí SAS nebo SAP</span><span class="sxs-lookup"><span data-stu-id="31371-791"><a id="limited-access-sas"></a>Grant limited access to objects in Azure storage using SAS or SAP</span></span>

| <span data-ttu-id="31371-792">Název</span><span class="sxs-lookup"><span data-stu-id="31371-792">Title</span></span>                   | <span data-ttu-id="31371-793">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="31371-793">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="31371-794">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="31371-794">**Component**</span></span>               | <span data-ttu-id="31371-795">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="31371-795">Azure Storage</span></span> | 
| <span data-ttu-id="31371-796">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="31371-796">**SDL Phase**</span></span>               | <span data-ttu-id="31371-797">Sestavení</span><span class="sxs-lookup"><span data-stu-id="31371-797">Build</span></span> |  
| <span data-ttu-id="31371-798">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="31371-798">**Applicable Technologies**</span></span> | <span data-ttu-id="31371-799">Obecné</span><span class="sxs-lookup"><span data-stu-id="31371-799">Generic</span></span> |
| <span data-ttu-id="31371-800">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="31371-800">**Attributes**</span></span>              | <span data-ttu-id="31371-801">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="31371-801">N/A</span></span> |
| <span data-ttu-id="31371-802">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="31371-802">**References**</span></span>              | <span data-ttu-id="31371-803">[Sdílené přístupové podpisy, část 1: Vysvětlení modelu SAS](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/), [sdílené přístupové podpisy, část 2: vytvoření a použití SAS s úložištěm Blob](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-2/), [postup delegovat přístup k objektům v účtu pomocí sdílené přístupové podpisy a uložené zásad přístupu](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies)</span><span class="sxs-lookup"><span data-stu-id="31371-803">[Shared Access Signatures, Part 1: Understanding the SAS model](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/), [Shared Access Signatures, Part 2: Create and use a SAS with Blob storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-2/), [How to delegate access to objects in your account using Shared Access Signatures and Stored Access Policies](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies)</span></span> |
| <span data-ttu-id="31371-804">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="31371-804">**Steps**</span></span> | <p><span data-ttu-id="31371-805">Použití sdíleného přístupového podpisu (SAS) je efektivní způsob, jak udělit omezený přístup k objektům v účtu úložiště pro ostatní klienty, aniž by bylo nutné vystavit přístupový klíč účtu.</span><span class="sxs-lookup"><span data-stu-id="31371-805">Using a shared access signature (SAS) is a powerful way to grant limited access to objects in a storage account to other clients, without having to expose account access key.</span></span> <span data-ttu-id="31371-806">SAS je identifikátor URI, který zahrnuje v jeho parametry dotazu všechny informace potřebné pro ověřený přístup k prostředku úložiště.</span><span class="sxs-lookup"><span data-stu-id="31371-806">The SAS is a URI that encompasses in its query parameters all of the information necessary for authenticated access to a storage resource.</span></span> <span data-ttu-id="31371-807">Pro přístup k prostředkům úložiště s SAS, klient pouze musí předat SAS metodu, nebo odpovídající konstruktor.</span><span class="sxs-lookup"><span data-stu-id="31371-807">To access storage resources with the SAS, the client only needs to pass in the SAS to the appropriate constructor or method.</span></span></p><p><span data-ttu-id="31371-808">SAS můžete použít, pokud chcete poskytnout přístup k prostředkům ve vašem účtu úložiště do klienta, který nemůže být považován za důvěryhodný klíč účtu.</span><span class="sxs-lookup"><span data-stu-id="31371-808">You can use a SAS when you want to provide access to resources in your storage account to a client that can't be trusted with the account key.</span></span> <span data-ttu-id="31371-809">Klíče účtu úložiště zahrnují jak primární a sekundární klíč, které obě udělit přístup pro správu pro váš účet a všechny prostředky v ní.</span><span class="sxs-lookup"><span data-stu-id="31371-809">Your storage account keys include both a primary and secondary key, both of which grant administrative access to your account and all of the resources in it.</span></span> <span data-ttu-id="31371-810">Vystavení buď klíče účtu otevře účet tak, aby možnost škodlivý nebo nedbalosti použití.</span><span class="sxs-lookup"><span data-stu-id="31371-810">Exposing either of your account keys opens your account to the possibility of malicious or negligent use.</span></span> <span data-ttu-id="31371-811">Sdílené přístupové podpisy zadejte bezpečné alternativu, která umožňuje dalším klientům čtení, zápisu a odstranění dat ve vašem účtu úložiště podle oprávnění, která jste udělena a bez nutnosti klíč účtu.</span><span class="sxs-lookup"><span data-stu-id="31371-811">Shared access signatures provide a safe alternative that allows other clients to read, write, and delete data in your storage account according to the permissions you've granted, and without need for the account key.</span></span></p><p><span data-ttu-id="31371-812">Pokud máte logickou sadu parametrů, které jsou podobné pokaždé, když, použití uložené přístup zásad (SAP) je lepší představu.</span><span class="sxs-lookup"><span data-stu-id="31371-812">If you have a logical set of parameters that are similar each time, using a Stored Access Policy (SAP) is a better idea.</span></span> <span data-ttu-id="31371-813">Protože pomocí SAS odvozené od zásadu uložené přístupu vám dává možnost odvolat tuto SAS okamžitě, je vždy nutné použít uložené Pokud je to možné zásady přístupu doporučený osvědčený postup.</span><span class="sxs-lookup"><span data-stu-id="31371-813">Because using a SAS derived from a Stored Access Policy gives you the ability to revoke that SAS immediately, it is the recommended best practice to always use Stored Access Policies when possible.</span></span></p>|