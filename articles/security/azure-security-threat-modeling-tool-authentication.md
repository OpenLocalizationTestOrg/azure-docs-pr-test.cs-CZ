---
title: "aaaAuthentication - Microsoft Threat modelování nástroj – Azure | Microsoft Docs"
description: "způsoby zmírnění hrozeb v hello nástroj modelování hrozeb"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: 06c1b1aebab25e6fb5b666d24ecd9d86085d656c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-authentication--mitigations"></a><span data-ttu-id="098bc-103">Zabezpečení rámce: Ověřování | Způsoby zmírnění rizik</span><span class="sxs-lookup"><span data-stu-id="098bc-103">Security Frame: Authentication | Mitigations</span></span> 
| <span data-ttu-id="098bc-104">Produktům a službám</span><span class="sxs-lookup"><span data-stu-id="098bc-104">Product/Service</span></span> | <span data-ttu-id="098bc-105">Článek</span><span class="sxs-lookup"><span data-stu-id="098bc-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="098bc-106">**Webové aplikace**</span><span class="sxs-lookup"><span data-stu-id="098bc-106">**Web Application**</span></span>    | <ul><li>[<span data-ttu-id="098bc-107">Zvažte použití standardní ověřovací mechanismus tooauthenticate tooWeb aplikace</span><span class="sxs-lookup"><span data-stu-id="098bc-107">Consider using a standard authentication mechanism tooauthenticate tooWeb Application</span></span>](#standard-authn-web-app)</li><li>[<span data-ttu-id="098bc-108">Aplikace musí bezpečně zpracovávají scénáře selhání ověřování</span><span class="sxs-lookup"><span data-stu-id="098bc-108">Applications must handle failed authentication scenarios securely</span></span>](#handle-failed-authn)</li><li>[<span data-ttu-id="098bc-109">Povolit krok nahoru nebo Adaptivní ověřování</span><span class="sxs-lookup"><span data-stu-id="098bc-109">Enable step up or adaptive authentication</span></span>](#step-up-adaptive-authn)</li><li>[<span data-ttu-id="098bc-110">Ujistěte se, že jsou správně uzamčené rozhraní pro správu</span><span class="sxs-lookup"><span data-stu-id="098bc-110">Ensure that administrative interfaces are appropriately locked down</span></span>](#admin-interface-lockdown)</li><li>[<span data-ttu-id="098bc-111">Implementace zapomněli jste heslo funkce bezpečně</span><span class="sxs-lookup"><span data-stu-id="098bc-111">Implement forgot password functionalities securely</span></span>](#forgot-pword-fxn)</li><li>[<span data-ttu-id="098bc-112">Uplatňování zásady hesla a účtu</span><span class="sxs-lookup"><span data-stu-id="098bc-112">Ensure that password and account policy are implemented</span></span>](#pword-account-policy)</li><li>[<span data-ttu-id="098bc-113">Implementujte ovládací prvky tooprevent username – výčet</span><span class="sxs-lookup"><span data-stu-id="098bc-113">Implement controls tooprevent username enumeration</span></span>](#controls-username-enum)</li></ul> |
| <span data-ttu-id="098bc-114">**Database**</span><span class="sxs-lookup"><span data-stu-id="098bc-114">**Database**</span></span> | <ul><li>[<span data-ttu-id="098bc-115">Pokud je to možné, použijte ověřování systému Windows pro připojení tooSQL serveru</span><span class="sxs-lookup"><span data-stu-id="098bc-115">When possible, use Windows Authentication for connecting tooSQL Server</span></span>](#win-authn-sql)</li><li>[<span data-ttu-id="098bc-116">Pokud je to možné používejte ověřování Azure Active Directory pro tooSQL připojení databáze</span><span class="sxs-lookup"><span data-stu-id="098bc-116">When possible use Azure Active Directory Authentication for Connecting tooSQL Database</span></span>](#aad-authn-sql)</li><li>[<span data-ttu-id="098bc-117">Když se používá režim ověřování systému SQL, ujistěte se, že účet a heslo, zásady se vynucují v systému SQL server</span><span class="sxs-lookup"><span data-stu-id="098bc-117">When SQL authentication mode is used, ensure that account and password policy are enforced on SQL server</span></span>](#authn-account-pword)</li><li>[<span data-ttu-id="098bc-118">Nepoužívejte v databázích s omezením ověřování SQL.</span><span class="sxs-lookup"><span data-stu-id="098bc-118">Do not use SQL Authentication in contained databases</span></span>](#autn-contained-db)</li></ul> |
| <span data-ttu-id="098bc-119">**Centra událostí Azure**</span><span class="sxs-lookup"><span data-stu-id="098bc-119">**Azure Event Hub**</span></span> | <ul><li>[<span data-ttu-id="098bc-120">Podle zařízení ověřování přihlašovacích údajů pomocí tokeny SaS</span><span class="sxs-lookup"><span data-stu-id="098bc-120">Use per device authentication credentials using SaS tokens</span></span>](#authn-sas-tokens)</li></ul> |
| <span data-ttu-id="098bc-121">**Hranice vztahů důvěryhodnosti Azure**</span><span class="sxs-lookup"><span data-stu-id="098bc-121">**Azure Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="098bc-122">Povolení Azure Multi-Factor Authentication pro Azure správce</span><span class="sxs-lookup"><span data-stu-id="098bc-122">Enable Azure Multi-Factor Authentication for Azure Administrators</span></span>](#multi-factor-azure-admin)</li></ul> |
| <span data-ttu-id="098bc-123">**Hranice vztahů důvěryhodnosti Service Fabric**</span><span class="sxs-lookup"><span data-stu-id="098bc-123">**Service Fabric Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="098bc-124">Omezit anonymní přístup tooService Fabric Cluster</span><span class="sxs-lookup"><span data-stu-id="098bc-124">Restrict anonymous access tooService Fabric Cluster</span></span>](#anon-access-cluster)</li><li>[<span data-ttu-id="098bc-125">Zajistěte, aby byl certifikát klienta uzlu Service Fabric liší od certifikátu – uzly</span><span class="sxs-lookup"><span data-stu-id="098bc-125">Ensure that Service Fabric client-to-node certificate is different from node-to-node certificate</span></span>](#fabric-cn-nn)</li><li>[<span data-ttu-id="098bc-126">Použít clustery infrastruktury tooservice klienti tooauthenticate AAD</span><span class="sxs-lookup"><span data-stu-id="098bc-126">Use AAD tooauthenticate clients tooservice fabric clusters</span></span>](#aad-client-fabric)</li><li>[<span data-ttu-id="098bc-127">Ujistěte se, že certifikáty infrastruktury služby jsou získány z schválené certifikační autoritou (CA)</span><span class="sxs-lookup"><span data-stu-id="098bc-127">Ensure that service fabric certificates are obtained from an approved Certificate Authority (CA)</span></span>](#fabric-cert-ca)</li></ul> |
| <span data-ttu-id="098bc-128">**Serveru identit**</span><span class="sxs-lookup"><span data-stu-id="098bc-128">**Identity Server**</span></span> | <ul><li>[<span data-ttu-id="098bc-129">Použijte standardní ověřování scénáře nepodporuje serveru identit</span><span class="sxs-lookup"><span data-stu-id="098bc-129">Use standard authentication scenarios supported by Identity Server</span></span>](#standard-authn-id)</li><li>[<span data-ttu-id="098bc-130">Přepsání serveru identit výchozí hello škálovatelné alternativou tokenu mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="098bc-130">Override hello default Identity Server token cache with a scalable alternative</span></span>](#override-token)</li></ul> |
| <span data-ttu-id="098bc-131">**Počítač hranice vztahů důvěryhodnosti**</span><span class="sxs-lookup"><span data-stu-id="098bc-131">**Machine Trust Boundary**</span></span> | <ul><li>[<span data-ttu-id="098bc-132">Ujistěte se, že binární soubory nasazené aplikace jsou digitálně podepsané.</span><span class="sxs-lookup"><span data-stu-id="098bc-132">Ensure that deployed application's binaries are digitally signed</span></span>](#binaries-signed)</li></ul> |
| <span data-ttu-id="098bc-133">**WCF**</span><span class="sxs-lookup"><span data-stu-id="098bc-133">**WCF**</span></span> | <ul><li>[<span data-ttu-id="098bc-134">Povolit ověřování při připojování tooMSMQ fronty ve WCF</span><span class="sxs-lookup"><span data-stu-id="098bc-134">Enable authentication when connecting tooMSMQ queues in WCF</span></span>](#msmq-queues)</li><li>[<span data-ttu-id="098bc-135">Není nastavena toonone clientCredentialType zpráv WCF</span><span class="sxs-lookup"><span data-stu-id="098bc-135">WCF-Do not set Message clientCredentialType toonone</span></span>](#message-none)</li><li>[<span data-ttu-id="098bc-136">Není nastavena toonone clientCredentialType přenosu WCF</span><span class="sxs-lookup"><span data-stu-id="098bc-136">WCF-Do not set Transport clientCredentialType toonone</span></span>](#transport-none)</li></ul> |
| <span data-ttu-id="098bc-137">**Webové rozhraní API**</span><span class="sxs-lookup"><span data-stu-id="098bc-137">**Web API**</span></span> | <ul><li>[<span data-ttu-id="098bc-138">Zajistěte, aby techniky standardní ověřování použité toosecure webová rozhraní API</span><span class="sxs-lookup"><span data-stu-id="098bc-138">Ensure that standard authentication techniques are used toosecure Web APIs</span></span>](#authn-secure-api)</li></ul> |
| <span data-ttu-id="098bc-139">**Azure AD**</span><span class="sxs-lookup"><span data-stu-id="098bc-139">**Azure AD**</span></span> | <ul><li>[<span data-ttu-id="098bc-140">Použijte standardní ověřování scénáře podporované službou Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="098bc-140">Use standard authentication scenarios supported by Azure Active Directory</span></span>](#authn-aad)</li><li>[<span data-ttu-id="098bc-141">Přepsání hello výchozí ADAL mezipamětí tokenů škálovatelné alternativou</span><span class="sxs-lookup"><span data-stu-id="098bc-141">Override hello default ADAL token cache with a scalable alternative</span></span>](#adal-scalable)</li><li>[<span data-ttu-id="098bc-142">Zajistěte, aby TokenReplayCache opětovného přehrání hello použité tooprevent tokenů ověřování ADAL</span><span class="sxs-lookup"><span data-stu-id="098bc-142">Ensure that TokenReplayCache is used tooprevent hello replay of ADAL authentication tokens</span></span>](#tokenreplaycache-adal)</li><li>[<span data-ttu-id="098bc-143">Použití knihovny ADAL toomanage token požadavky od klientů tooAAD OAuth2 (nebo místní AD)</span><span class="sxs-lookup"><span data-stu-id="098bc-143">Use ADAL libraries toomanage token requests from OAuth2 clients tooAAD (or on-premises AD)</span></span>](#adal-oauth2)</li></ul> |
| <span data-ttu-id="098bc-144">**Brána pole IoT**</span><span class="sxs-lookup"><span data-stu-id="098bc-144">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="098bc-145">Ověření zařízení připojující se toohello brána pole</span><span class="sxs-lookup"><span data-stu-id="098bc-145">Authenticate devices connecting toohello Field Gateway</span></span>](#authn-devices-field)</li></ul> |
| <span data-ttu-id="098bc-146">**Brána IoT cloudu**</span><span class="sxs-lookup"><span data-stu-id="098bc-146">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="098bc-147">Ujistěte se, že se ověří zařízení připojující se tooCloud brány</span><span class="sxs-lookup"><span data-stu-id="098bc-147">Ensure that devices connecting tooCloud gateway are authenticated</span></span>](#authn-devices-cloud)</li><li>[<span data-ttu-id="098bc-148">Použít pověření ověřování podle zařízení</span><span class="sxs-lookup"><span data-stu-id="098bc-148">Use per-device authentication credentials</span></span>](#authn-cred)</li></ul> |
| <span data-ttu-id="098bc-149">**Azure Storage**</span><span class="sxs-lookup"><span data-stu-id="098bc-149">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="098bc-150">Ujistěte se, že tento pouze hello požadované kontejnery a objekty BLOB jsou uvedeny anonymní přístup pro čtení</span><span class="sxs-lookup"><span data-stu-id="098bc-150">Ensure that only hello required containers and blobs are given anonymous read access</span></span>](#req-containers-anon)</li><li>[<span data-ttu-id="098bc-151">Udělit omezený přístup tooobjects v úložišti Azure pomocí SAS nebo SAP</span><span class="sxs-lookup"><span data-stu-id="098bc-151">Grant limited access tooobjects in Azure storage using SAS or SAP</span></span>](#limited-access-sas)</li></ul> |

## <span data-ttu-id="098bc-152"><a id="standard-authn-web-app"></a>Zvažte použití standardní ověřovací mechanismus tooauthenticate tooWeb aplikace</span><span class="sxs-lookup"><span data-stu-id="098bc-152"><a id="standard-authn-web-app"></a>Consider using a standard authentication mechanism tooauthenticate tooWeb Application</span></span>

| <span data-ttu-id="098bc-153">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-153">Title</span></span>                   | <span data-ttu-id="098bc-154">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-154">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-155">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-155">**Component**</span></span>               | <span data-ttu-id="098bc-156">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="098bc-156">Web Application</span></span> | 
| <span data-ttu-id="098bc-157">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-157">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-158">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-158">Build</span></span> |  
| <span data-ttu-id="098bc-159">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-159">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-160">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-160">Generic</span></span> |
| <span data-ttu-id="098bc-161">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-161">**Attributes**</span></span>              | <span data-ttu-id="098bc-162">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-162">N/A</span></span>  |
| <span data-ttu-id="098bc-163">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-163">**References**</span></span>              | <span data-ttu-id="098bc-164">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-164">N/A</span></span>  |
| <span data-ttu-id="098bc-165">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-165">Details</span></span> | <p><span data-ttu-id="098bc-166">Ověřování je proces hello prokáže, kde entity svou identitu, obvykle prostřednictvím přihlašovacích údajů, jako je například uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="098bc-166">Authentication is hello process where an entity proves its identity, typically through credentials, such as a user name and password.</span></span> <span data-ttu-id="098bc-167">Existuje více ověřovací protokoly dostupné kterých lze považovat za.</span><span class="sxs-lookup"><span data-stu-id="098bc-167">There are multiple authentication protocols available which may be considered.</span></span> <span data-ttu-id="098bc-168">Některé z nich, jsou uvedeny níže:</span><span class="sxs-lookup"><span data-stu-id="098bc-168">Some of them are listed below:</span></span></p><ul><li><span data-ttu-id="098bc-169">Klientské certifikáty</span><span class="sxs-lookup"><span data-stu-id="098bc-169">Client certificates</span></span></li><li><span data-ttu-id="098bc-170">Na základě systému Windows</span><span class="sxs-lookup"><span data-stu-id="098bc-170">Windows based</span></span></li><li><span data-ttu-id="098bc-171">Na základě formulářů</span><span class="sxs-lookup"><span data-stu-id="098bc-171">Forms based</span></span></li><li><span data-ttu-id="098bc-172">Federační - služby AD FS</span><span class="sxs-lookup"><span data-stu-id="098bc-172">Federation - ADFS</span></span></li><li><span data-ttu-id="098bc-173">Federační – Azure AD</span><span class="sxs-lookup"><span data-stu-id="098bc-173">Federation - Azure AD</span></span></li><li><span data-ttu-id="098bc-174">Federační - serveru identit</span><span class="sxs-lookup"><span data-stu-id="098bc-174">Federation - Identity Server</span></span></li></ul><p><span data-ttu-id="098bc-175">Zvažte použití standardní ověřovací mechanismus tooidentify hello zdroje procesu</span><span class="sxs-lookup"><span data-stu-id="098bc-175">Consider using a standard authentication mechanism tooidentify hello source process</span></span></p>|

## <span data-ttu-id="098bc-176"><a id="handle-failed-authn"></a>Aplikace musí bezpečně zpracovávají scénáře selhání ověřování</span><span class="sxs-lookup"><span data-stu-id="098bc-176"><a id="handle-failed-authn"></a>Applications must handle failed authentication scenarios securely</span></span>

| <span data-ttu-id="098bc-177">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-177">Title</span></span>                   | <span data-ttu-id="098bc-178">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-178">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-179">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-179">**Component**</span></span>               | <span data-ttu-id="098bc-180">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="098bc-180">Web Application</span></span> | 
| <span data-ttu-id="098bc-181">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-181">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-182">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-182">Build</span></span> |  
| <span data-ttu-id="098bc-183">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-183">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-184">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-184">Generic</span></span> |
| <span data-ttu-id="098bc-185">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-185">**Attributes**</span></span>              | <span data-ttu-id="098bc-186">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-186">N/A</span></span>  |
| <span data-ttu-id="098bc-187">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-187">**References**</span></span>              | <span data-ttu-id="098bc-188">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-188">N/A</span></span>  |
| <span data-ttu-id="098bc-189">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-189">Details</span></span> | <p><span data-ttu-id="098bc-190">Aplikace, které explicitně ověřování uživatelů musí zpracovávat scénáře neúspěšné ověřování, které musí securely.hello ověřovací mechanismus:</span><span class="sxs-lookup"><span data-stu-id="098bc-190">Applications that explicitly authenticate users must handle failed authentication scenarios securely.hello authentication mechanism must:</span></span></p><ul><li><span data-ttu-id="098bc-191">Odepřít přístup tooprivileged prostředky, pokud se ověření nezdaří</span><span class="sxs-lookup"><span data-stu-id="098bc-191">Deny access tooprivileged resources when authentication fails</span></span></li><li><span data-ttu-id="098bc-192">Zobrazit obecnou chybovou zprávu po selhání ověření a dojde k odepření přístupu</span><span class="sxs-lookup"><span data-stu-id="098bc-192">Display a generic error message after failed authentication and access denied occurs</span></span></li></ul><p><span data-ttu-id="098bc-193">Test pro:</span><span class="sxs-lookup"><span data-stu-id="098bc-193">Test for:</span></span></p><ul><li><span data-ttu-id="098bc-194">Ochranu privilegovaných prostředků po neúspěšných přihlášení</span><span class="sxs-lookup"><span data-stu-id="098bc-194">Protection of privileged resources after failed logins</span></span></li><li><span data-ttu-id="098bc-195">Zobrazí se obecnou chybovou zprávu o selhání ověřování a přístup odepřen událostí</span><span class="sxs-lookup"><span data-stu-id="098bc-195">A generic error message is displayed on failed authentication and access denied event(s)</span></span></li><li><span data-ttu-id="098bc-196">Účty jsou zakázány po nadměrný počet neúspěšných pokusů o přihlášení</span><span class="sxs-lookup"><span data-stu-id="098bc-196">Accounts are disabled after an excessive number of failed attempts</span></span></li><ul>|

## <span data-ttu-id="098bc-197"><a id="step-up-adaptive-authn"></a>Povolit krok nahoru nebo Adaptivní ověřování</span><span class="sxs-lookup"><span data-stu-id="098bc-197"><a id="step-up-adaptive-authn"></a>Enable step up or adaptive authentication</span></span>

| <span data-ttu-id="098bc-198">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-198">Title</span></span>                   | <span data-ttu-id="098bc-199">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-199">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-200">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-200">**Component**</span></span>               | <span data-ttu-id="098bc-201">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="098bc-201">Web Application</span></span> | 
| <span data-ttu-id="098bc-202">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-202">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-203">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-203">Build</span></span> |  
| <span data-ttu-id="098bc-204">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-204">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-205">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-205">Generic</span></span> |
| <span data-ttu-id="098bc-206">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-206">**Attributes**</span></span>              | <span data-ttu-id="098bc-207">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-207">N/A</span></span>  |
| <span data-ttu-id="098bc-208">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-208">**References**</span></span>              | <span data-ttu-id="098bc-209">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-209">N/A</span></span>  |
| <span data-ttu-id="098bc-210">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-210">Details</span></span> | <p><span data-ttu-id="098bc-211">Ověřte hello aplikace má další autorizace (například krok nebo Adaptivní ověřování pomocí služby Multi-Factor authentication, například odeslání jednorázového HESLA v serveru SMS, e-mailu atd. nebo dotaz na opětovné ověření), je před udělením přístupu postiženy hello uživatele toosensitive informace.</span><span class="sxs-lookup"><span data-stu-id="098bc-211">Verify hello application has additional authorization (such as step up or adaptive authentication, via multi-factor authentication such as sending OTP in SMS, email etc. or prompting for re-authentication) so hello user is challenged before being granted access toosensitive information.</span></span> <span data-ttu-id="098bc-212">Toto pravidlo platí také pro provádění důležité změny tooan účet nebo akce</span><span class="sxs-lookup"><span data-stu-id="098bc-212">This rule also applies for making critical changes tooan account or action</span></span></p><p><span data-ttu-id="098bc-213">Také to znamená, že přizpůsobení hello ověřování má toobe implementované v například, takovým způsobem, který aplikace hello správně vynucuje kontextová autorizace tak jako toonot povolit neoprávněné manipulaci prostřednictvím v příkladu manipulaci parametr</span><span class="sxs-lookup"><span data-stu-id="098bc-213">This also means that hello adaptation of authentication has toobe implemented in such a manner that hello application correctly enforces context-sensitive authorization so as toonot allow unauthorized manipulation by means of in example, parameter tampering</span></span></p>|

## <span data-ttu-id="098bc-214"><a id="admin-interface-lockdown"></a>Ujistěte se, že jsou správně uzamčené rozhraní pro správu</span><span class="sxs-lookup"><span data-stu-id="098bc-214"><a id="admin-interface-lockdown"></a>Ensure that administrative interfaces are appropriately locked down</span></span>

| <span data-ttu-id="098bc-215">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-215">Title</span></span>                   | <span data-ttu-id="098bc-216">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-216">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-217">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-217">**Component**</span></span>               | <span data-ttu-id="098bc-218">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="098bc-218">Web Application</span></span> | 
| <span data-ttu-id="098bc-219">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-219">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-220">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-220">Build</span></span> |  
| <span data-ttu-id="098bc-221">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-221">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-222">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-222">Generic</span></span> |
| <span data-ttu-id="098bc-223">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-223">**Attributes**</span></span>              | <span data-ttu-id="098bc-224">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-224">N/A</span></span>  |
| <span data-ttu-id="098bc-225">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-225">**References**</span></span>              | <span data-ttu-id="098bc-226">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-226">N/A</span></span>  |
| <span data-ttu-id="098bc-227">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-227">Details</span></span> | <span data-ttu-id="098bc-228">první řešení Hello je toogrant přístup jenom určité zdrojové IP rozsah toohello rozhraní pro správu.</span><span class="sxs-lookup"><span data-stu-id="098bc-228">hello first solution is toogrant access only from a certain source IP range toohello administrative interface.</span></span> <span data-ttu-id="098bc-229">Pokud toto řešení nebude možné, než je vždy doporučujeme tooenforce přechody nebo Adaptivní ověřování pro přihlášení do rozhraní pro správu hello</span><span class="sxs-lookup"><span data-stu-id="098bc-229">If that solution would not be possible than it is always recommended tooenforce a step-up or adaptive authentication for logging in into hello administrative interface</span></span> |

## <span data-ttu-id="098bc-230"><a id="forgot-pword-fxn"></a>Implementace zapomněli jste heslo funkce bezpečně</span><span class="sxs-lookup"><span data-stu-id="098bc-230"><a id="forgot-pword-fxn"></a>Implement forgot password functionalities securely</span></span>

| <span data-ttu-id="098bc-231">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-231">Title</span></span>                   | <span data-ttu-id="098bc-232">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-232">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-233">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-233">**Component**</span></span>               | <span data-ttu-id="098bc-234">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="098bc-234">Web Application</span></span> | 
| <span data-ttu-id="098bc-235">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-235">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-236">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-236">Build</span></span> |  
| <span data-ttu-id="098bc-237">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-237">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-238">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-238">Generic</span></span> |
| <span data-ttu-id="098bc-239">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-239">**Attributes**</span></span>              | <span data-ttu-id="098bc-240">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-240">N/A</span></span>  |
| <span data-ttu-id="098bc-241">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-241">**References**</span></span>              | <span data-ttu-id="098bc-242">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-242">N/A</span></span>  |
| <span data-ttu-id="098bc-243">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-243">Details</span></span> | <p><span data-ttu-id="098bc-244">Hello je nejdřív thing tooverify, který zapomněli jste, že heslo a jiných cest obnovení odeslat odkaz včetně časově omezené aktivace token spíše než hello heslo sám sebe.</span><span class="sxs-lookup"><span data-stu-id="098bc-244">hello first thing is tooverify that forgot password and other recovery paths send a link including a time-limited activation token rather than hello password itself.</span></span> <span data-ttu-id="098bc-245">Další ověřování podle konfigurace soft tokeny (například SMS tokenu, nativní mobilní aplikace atd.) může být nutná také před odesláním odkazu hello přes.</span><span class="sxs-lookup"><span data-stu-id="098bc-245">Additional authentication based on soft-tokens (e.g. SMS token, native mobile applications, etc.) can be required as well before hello link is sent over.</span></span> <span data-ttu-id="098bc-246">Druhý, můžete nesmí hello uživatelé účet uzamčen a zároveň probíhá proces hello nové heslo.</span><span class="sxs-lookup"><span data-stu-id="098bc-246">Second, you should not lock out hello users account whilst hello process of getting a new password is in progress.</span></span></p><p><span data-ttu-id="098bc-247">To může vést tooa útok vždy, když útočník rozhodne toointentionally uzamčení hello uživatelé s automatizované útoku.</span><span class="sxs-lookup"><span data-stu-id="098bc-247">This could lead tooa Denial of service attack whenever an attacker decides toointentionally lock out hello users with an automated attack.</span></span> <span data-ttu-id="098bc-248">Třetí vždy, když hello novou žádost o heslo bylo nastaveno v průběhu, uvítací zprávu, kterou je zobrazit by měl být zobecněn ve výčtu uživatelské jméno tooprevent pořadí.</span><span class="sxs-lookup"><span data-stu-id="098bc-248">Third, whenever hello new password request was set in progress, hello message you display should be generalized in order tooprevent username enumeration.</span></span> <span data-ttu-id="098bc-249">Čtvrté vždy zakáže použití hello staré hesel a implementovat zásady silné heslo.</span><span class="sxs-lookup"><span data-stu-id="098bc-249">Fourth, always disallow hello use of old passwords and implement a strong password policy.</span></span></p> |

## <span data-ttu-id="098bc-250"><a id="pword-account-policy"></a>Uplatňování zásady hesla a účtu</span><span class="sxs-lookup"><span data-stu-id="098bc-250"><a id="pword-account-policy"></a>Ensure that password and account policy are implemented</span></span>

| <span data-ttu-id="098bc-251">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-251">Title</span></span>                   | <span data-ttu-id="098bc-252">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-252">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-253">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-253">**Component**</span></span>               | <span data-ttu-id="098bc-254">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="098bc-254">Web Application</span></span> | 
| <span data-ttu-id="098bc-255">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-255">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-256">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-256">Build</span></span> |  
| <span data-ttu-id="098bc-257">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-257">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-258">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-258">Generic</span></span> |
| <span data-ttu-id="098bc-259">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-259">**Attributes**</span></span>              | <span data-ttu-id="098bc-260">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-260">N/A</span></span>  |
| <span data-ttu-id="098bc-261">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-261">**References**</span></span>              | <span data-ttu-id="098bc-262">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-262">N/A</span></span>  |
| <span data-ttu-id="098bc-263">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-263">Details</span></span> | <p><span data-ttu-id="098bc-264">Zásady účet a heslo v souladu s zásad organizace a osvědčené postupy by měla být implementována.</span><span class="sxs-lookup"><span data-stu-id="098bc-264">Password and account policy in compliance with organizational policy and best practices should be implemented.</span></span></p><p><span data-ttu-id="098bc-265">toodefend před hrubou silou a slovník na základě uhodnutí: zásady silné heslo musí být implementovaná tooensure, že uživatelé vytvářet složité heslo (např. minimální délka 12 znaků, alfanumerické a speciální znaky).</span><span class="sxs-lookup"><span data-stu-id="098bc-265">toodefend against brute-force and dictionary based guessing: Strong password policy must be implemented tooensure that users create complex password (e.g., 12 characters minimum length, alphanumeric and special characters).</span></span></p><p><span data-ttu-id="098bc-266">Zásady uzamčení účtu mohou být prováděny v hello následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="098bc-266">Account lockout policies may be implemented in hello following manner:</span></span></p><ul><li><span data-ttu-id="098bc-267">**Logicky uzamčení:** to může být vhodný pro ochranu před útoky hrubou silou vaši uživatelé.</span><span class="sxs-lookup"><span data-stu-id="098bc-267">**Soft lock-out:** This can be a good option for protecting your users against brute force attacks.</span></span> <span data-ttu-id="098bc-268">Například pokaždé, když uživatel hello zadá chybné heslo aplikace hello třikrát může zamknout hello účet pro několik minut v pořadí tooslow dolů hello proces hrubou vynucení jeho hesla. Díky tomu méně ziskové pro tooproceed útočník hello.</span><span class="sxs-lookup"><span data-stu-id="098bc-268">For example, whenever hello user enters a wrong password three times hello application could lock down hello account for a minute in order tooslow down hello process of brute forcing his password making it less profitable for hello attacker tooproceed.</span></span> <span data-ttu-id="098bc-269">Pokud byste byli tooimplement pevný opatření na více systémů zámek pro tento příklad by dosáhnout a "Dos" podle trvale uzamykání účtů.</span><span class="sxs-lookup"><span data-stu-id="098bc-269">If u were tooimplement hard lock-out countermeasures for this example you would achieve a "Dos" by permanently locking out accounts.</span></span> <span data-ttu-id="098bc-270">Alternativně může aplikace generovat Jednorázovým (jedno heslo času) a odešle out-of-band (prostřednictvím e-mailu, sms atd.) toohello uživatele.</span><span class="sxs-lookup"><span data-stu-id="098bc-270">Alternatively, application may generate an OTP (One Time Password) and send it out-of-band (through email, sms etc.) toohello user.</span></span> <span data-ttu-id="098bc-271">Jiná možnost může být tooimplement CAPTCHA, po dosažení prahová hodnota počtu neúspěšných pokusů o přihlášení.</span><span class="sxs-lookup"><span data-stu-id="098bc-271">Another approach may be tooimplement CAPTCHA after a threshold number of failed attempts is reached.</span></span></li><li><span data-ttu-id="098bc-272">**Pevné uzamčení:** tento typ uzamčení bude použito, vždy, když zjistit uživatele napadení vaší aplikace a čítač mu prostřednictvím trvale uzamčení účtu, dokud tým odpovědi měl toodo čas jejich forenzních.</span><span class="sxs-lookup"><span data-stu-id="098bc-272">**Hard lock-out:** This type of lockout should be applied whenever you detect a user attacking your application and counter him by means of permanently locking out his account until a response team had time toodo their forensics.</span></span> <span data-ttu-id="098bc-273">Po tento proces můžete rozhodnout toogive hello uživatele zpět svůj účet nebo proveďte další právní proti ní.</span><span class="sxs-lookup"><span data-stu-id="098bc-273">After this process you can decide toogive hello user back his account or take further legal actions against him.</span></span> <span data-ttu-id="098bc-274">Tento typ přístupu hello útočník zabrání další narušující vaše aplikace a infrastrukturu.</span><span class="sxs-lookup"><span data-stu-id="098bc-274">This type of approach prevents hello attacker from further penetrating your application and infrastructure.</span></span></li></ul><p><span data-ttu-id="098bc-275">toodefend proti útokům na výchozí a předvídatelný účtů, ověřte, zda všechny klíče a hesla jsou nahraditelné a jsou generované nebo změní za čas instalace.</span><span class="sxs-lookup"><span data-stu-id="098bc-275">toodefend against attacks on default and predictable accounts, verify that all keys and passwords are replaceable, and are generated or replaced after installation time.</span></span></p><p><span data-ttu-id="098bc-276">Pokud má aplikace hello tooauto-generování hesel, zajistěte, aby hello generované hesla jsou náhodných a mají vysokou šifrování.</span><span class="sxs-lookup"><span data-stu-id="098bc-276">If hello application has tooauto-generate passwords, ensure that hello generated passwords are random and have high entropy.</span></span></p>|

## <span data-ttu-id="098bc-277"><a id="controls-username-enum"></a>Implementujte ovládací prvky tooprevent username – výčet</span><span class="sxs-lookup"><span data-stu-id="098bc-277"><a id="controls-username-enum"></a>Implement controls tooprevent username enumeration</span></span>

| <span data-ttu-id="098bc-278">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-278">Title</span></span>                   | <span data-ttu-id="098bc-279">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-279">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-280">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-280">**Component**</span></span>               | <span data-ttu-id="098bc-281">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="098bc-281">Web Application</span></span> | 
| <span data-ttu-id="098bc-282">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-282">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-283">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-283">Build</span></span> |  
| <span data-ttu-id="098bc-284">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-284">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-285">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-285">Generic</span></span> |
| <span data-ttu-id="098bc-286">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-286">**Attributes**</span></span>              | <span data-ttu-id="098bc-287">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-287">N/A</span></span>  |
| <span data-ttu-id="098bc-288">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-288">**References**</span></span>              | <span data-ttu-id="098bc-289">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-289">N/A</span></span>  |
| <span data-ttu-id="098bc-290">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-290">**Steps**</span></span> | <span data-ttu-id="098bc-291">Všechny chybové zprávy musí být zobecněn ve výčtu uživatelské jméno tooprevent pořadí.</span><span class="sxs-lookup"><span data-stu-id="098bc-291">All error messages should be generalized in order tooprevent username enumeration.</span></span> <span data-ttu-id="098bc-292">Také v některých případech se nelze vyhnout informace vracena v odkudkoli třeba na stránce registrace.</span><span class="sxs-lookup"><span data-stu-id="098bc-292">Also sometimes you cannot avoid information leaking in functionalities such as a registration page.</span></span> <span data-ttu-id="098bc-293">Zde je třeba toouse omezení rychlosti metody jako CAPTCHA tooprevent útoku automatizované uživatelem se zlými úmysly.</span><span class="sxs-lookup"><span data-stu-id="098bc-293">Here you need toouse rate-limiting methods like CAPTCHA tooprevent an automated attack by an attacker.</span></span> |

## <span data-ttu-id="098bc-294"><a id="win-authn-sql"></a>Pokud je to možné, použijte ověřování systému Windows pro připojení tooSQL serveru</span><span class="sxs-lookup"><span data-stu-id="098bc-294"><a id="win-authn-sql"></a>When possible, use Windows Authentication for connecting tooSQL Server</span></span>

| <span data-ttu-id="098bc-295">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-295">Title</span></span>                   | <span data-ttu-id="098bc-296">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-296">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-297">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-297">**Component**</span></span>               | <span data-ttu-id="098bc-298">Databáze</span><span class="sxs-lookup"><span data-stu-id="098bc-298">Database</span></span> | 
| <span data-ttu-id="098bc-299">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-299">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-300">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-300">Build</span></span> |  
| <span data-ttu-id="098bc-301">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-301">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-302">Místní</span><span class="sxs-lookup"><span data-stu-id="098bc-302">OnPrem</span></span> |
| <span data-ttu-id="098bc-303">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-303">**Attributes**</span></span>              | <span data-ttu-id="098bc-304">Verze SQL – všechny</span><span class="sxs-lookup"><span data-stu-id="098bc-304">SQL Version - All</span></span> |
| <span data-ttu-id="098bc-305">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-305">**References**</span></span>              | [<span data-ttu-id="098bc-306">SQL Server – volba režimu ověřování</span><span class="sxs-lookup"><span data-stu-id="098bc-306">SQL Server - Choose an Authentication Mode</span></span>](https://msdn.microsoft.com/library/ms144284.aspx) |
| <span data-ttu-id="098bc-307">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-307">**Steps**</span></span> | <span data-ttu-id="098bc-308">Ověřování systému Windows používá bezpečnostní protokol Kerberos, poskytuje vynucení zásad hesel s ohledem toocomplexity ověřování pro silná hesla, poskytuje podporu pro uzamčení účtu a vypršení platnosti hesla.</span><span class="sxs-lookup"><span data-stu-id="098bc-308">Windows Authentication uses Kerberos security protocol, provides password policy enforcement with regard toocomplexity validation for strong passwords, provides support for account lockout, and supports password expiration.</span></span>|

## <span data-ttu-id="098bc-309"><a id="aad-authn-sql"></a>Pokud je to možné používejte ověřování Azure Active Directory pro tooSQL připojení databáze</span><span class="sxs-lookup"><span data-stu-id="098bc-309"><a id="aad-authn-sql"></a>When possible use Azure Active Directory Authentication for Connecting tooSQL Database</span></span>

| <span data-ttu-id="098bc-310">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-310">Title</span></span>                   | <span data-ttu-id="098bc-311">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-311">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-312">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-312">**Component**</span></span>               | <span data-ttu-id="098bc-313">Databáze</span><span class="sxs-lookup"><span data-stu-id="098bc-313">Database</span></span> | 
| <span data-ttu-id="098bc-314">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-314">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-315">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-315">Build</span></span> |  
| <span data-ttu-id="098bc-316">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-316">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-317">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="098bc-317">SQL Azure</span></span> |
| <span data-ttu-id="098bc-318">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-318">**Attributes**</span></span>              | <span data-ttu-id="098bc-319">Verze SQL - V12</span><span class="sxs-lookup"><span data-stu-id="098bc-319">SQL Version - V12</span></span> |
| <span data-ttu-id="098bc-320">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-320">**References**</span></span>              | [<span data-ttu-id="098bc-321">Připojení tooSQL ověřování databáze s pomocí pomocí Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="098bc-321">Connecting tooSQL Database By Using Azure Active Directory Authentication</span></span>](https://azure.microsoft.com/documentation/articles/sql-database-aad-authentication/) |
| <span data-ttu-id="098bc-322">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-322">**Steps**</span></span> | <span data-ttu-id="098bc-323">**Minimální verze:** Azure SQL Database V12 požadované tooallow Azure SQL Database toouse AAD ověřování proti hello Microsoft Directory</span><span class="sxs-lookup"><span data-stu-id="098bc-323">**Minimum version:** Azure SQL Database V12 required tooallow Azure SQL Database toouse AAD Authentication against hello Microsoft Directory</span></span> |

## <span data-ttu-id="098bc-324"><a id="authn-account-pword"></a>Když se používá režim ověřování systému SQL, ujistěte se, že účet a heslo, zásady se vynucují v systému SQL server</span><span class="sxs-lookup"><span data-stu-id="098bc-324"><a id="authn-account-pword"></a>When SQL authentication mode is used, ensure that account and password policy are enforced on SQL server</span></span>

| <span data-ttu-id="098bc-325">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-325">Title</span></span>                   | <span data-ttu-id="098bc-326">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-326">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-327">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-327">**Component**</span></span>               | <span data-ttu-id="098bc-328">Databáze</span><span class="sxs-lookup"><span data-stu-id="098bc-328">Database</span></span> | 
| <span data-ttu-id="098bc-329">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-329">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-330">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-330">Build</span></span> |  
| <span data-ttu-id="098bc-331">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-331">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-332">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-332">Generic</span></span> |
| <span data-ttu-id="098bc-333">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-333">**Attributes**</span></span>              | <span data-ttu-id="098bc-334">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-334">N/A</span></span>  |
| <span data-ttu-id="098bc-335">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-335">**References**</span></span>              | <span data-ttu-id="098bc-336">[Zásady hesel systému SQL Server](https://technet.microsoft.com/library/ms161959(v=sql.110).aspx)</span><span class="sxs-lookup"><span data-stu-id="098bc-336">[SQL Server password policy](https://technet.microsoft.com/library/ms161959(v=sql.110).aspx)</span></span> |
| <span data-ttu-id="098bc-337">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-337">**Steps**</span></span> | <span data-ttu-id="098bc-338">Pokud používáte ověřování systému SQL Server, přihlášení se vytvoří v systému SQL Server, které nejsou založené na uživatelské účty systému Windows.</span><span class="sxs-lookup"><span data-stu-id="098bc-338">When using SQL Server Authentication, logins are created in SQL Server that are not based on Windows user accounts.</span></span> <span data-ttu-id="098bc-339">Hello uživatelské jméno a heslo hello jsou vytvořené pomocí serveru SQL Server a uložené v systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="098bc-339">Both hello user name and hello password are created by using SQL Server and stored in SQL Server.</span></span> <span data-ttu-id="098bc-340">SQL Server můžete použít mechanismy zásady hesel systému Windows.</span><span class="sxs-lookup"><span data-stu-id="098bc-340">SQL Server can use Windows password policy mechanisms.</span></span> <span data-ttu-id="098bc-341">Použije hello použít stejné zásady složitost a vypršení platnosti v systému Windows toopasswords použit v rámci systému SQL Server.</span><span class="sxs-lookup"><span data-stu-id="098bc-341">It can apply hello same complexity and expiration policies used in Windows toopasswords used inside SQL Server.</span></span> |

## <span data-ttu-id="098bc-342"><a id="autn-contained-db"></a>Nepoužívejte v databázích s omezením ověřování SQL.</span><span class="sxs-lookup"><span data-stu-id="098bc-342"><a id="autn-contained-db"></a>Do not use SQL Authentication in contained databases</span></span>

| <span data-ttu-id="098bc-343">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-343">Title</span></span>                   | <span data-ttu-id="098bc-344">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-344">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-345">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-345">**Component**</span></span>               | <span data-ttu-id="098bc-346">Databáze</span><span class="sxs-lookup"><span data-stu-id="098bc-346">Database</span></span> | 
| <span data-ttu-id="098bc-347">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-347">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-348">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-348">Build</span></span> |  
| <span data-ttu-id="098bc-349">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-349">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-350">OnPrem, SQL Azure</span><span class="sxs-lookup"><span data-stu-id="098bc-350">OnPrem, SQL Azure</span></span> |
| <span data-ttu-id="098bc-351">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-351">**Attributes**</span></span>              | <span data-ttu-id="098bc-352">Verze - MSSQL2012, verze SQL - SQL verze 12</span><span class="sxs-lookup"><span data-stu-id="098bc-352">SQL Version - MSSQL2012, SQL Version - V12</span></span> |
| <span data-ttu-id="098bc-353">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-353">**References**</span></span>              | [<span data-ttu-id="098bc-354">Osvědčené postupy zabezpečení pomocí databáze s omezením</span><span class="sxs-lookup"><span data-stu-id="098bc-354">Security Best Practices with Contained Databases</span></span>](http://msdn.microsoft.com/library/ff929055.aspx) |
| <span data-ttu-id="098bc-355">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-355">**Steps**</span></span> | <span data-ttu-id="098bc-356">Hello absenci zásadu vynucené heslo může zvýšit pravděpodobnost hello slabé pověření zavedeno v databázi s omezením.</span><span class="sxs-lookup"><span data-stu-id="098bc-356">hello absence of an enforced password policy may increase hello likelihood of a weak credential being established in a contained database.</span></span> <span data-ttu-id="098bc-357">Ověřování systému Windows využívají.</span><span class="sxs-lookup"><span data-stu-id="098bc-357">Leverage Windows Authentication.</span></span> |

## <span data-ttu-id="098bc-358"><a id="authn-sas-tokens"></a>Podle zařízení ověřování přihlašovacích údajů pomocí tokeny SaS</span><span class="sxs-lookup"><span data-stu-id="098bc-358"><a id="authn-sas-tokens"></a>Use per device authentication credentials using SaS tokens</span></span>

| <span data-ttu-id="098bc-359">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-359">Title</span></span>                   | <span data-ttu-id="098bc-360">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-360">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-361">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-361">**Component**</span></span>               | <span data-ttu-id="098bc-362">Centra událostí Azure</span><span class="sxs-lookup"><span data-stu-id="098bc-362">Azure Event Hub</span></span> | 
| <span data-ttu-id="098bc-363">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-363">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-364">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-364">Build</span></span> |  
| <span data-ttu-id="098bc-365">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-365">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-366">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-366">Generic</span></span> |
| <span data-ttu-id="098bc-367">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-367">**Attributes**</span></span>              | <span data-ttu-id="098bc-368">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-368">N/A</span></span>  |
| <span data-ttu-id="098bc-369">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-369">**References**</span></span>              | [<span data-ttu-id="098bc-370">Ověřování a zabezpečení modelu přehled služby Event Hubs</span><span class="sxs-lookup"><span data-stu-id="098bc-370">Event Hubs authentication and security model overview</span></span>](https://azure.microsoft.com/documentation/articles/event-hubs-authentication-and-security-model-overview/) |
| <span data-ttu-id="098bc-371">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-371">**Steps**</span></span> | <p><span data-ttu-id="098bc-372">model zabezpečení služby Event Hubs Hello je založena na kombinaci tokenů sdíleného přístupového podpisu (SAS) a zdroje událostí.</span><span class="sxs-lookup"><span data-stu-id="098bc-372">hello Event Hubs security model is based on a combination of Shared Access Signature (SAS) tokens and event publishers.</span></span> <span data-ttu-id="098bc-373">Název vydavatele Hello představuje hello DeviceID, která přijímá hello token.</span><span class="sxs-lookup"><span data-stu-id="098bc-373">hello publisher name represents hello DeviceID that receives hello token.</span></span> <span data-ttu-id="098bc-374">To by pomoci přidružit hello tokeny vygeneroval s hello příslušné zařízení.</span><span class="sxs-lookup"><span data-stu-id="098bc-374">This would help associate hello tokens generated with hello respective devices.</span></span></p><p><span data-ttu-id="098bc-375">Všechny zprávy jsou označené původce na straně služby povolení detekce falšování pokusy o původu ve datové části.</span><span class="sxs-lookup"><span data-stu-id="098bc-375">All messages are tagged with originator on service side allowing detection of in-payload origin spoofing attempts.</span></span> <span data-ttu-id="098bc-376">Při ověřování zařízení, generovat na zařízení SaS token vymezená tooa jedinečný vydavatele.</span><span class="sxs-lookup"><span data-stu-id="098bc-376">When authenticating devices, generate a per device SaS token scoped tooa unique publisher.</span></span></p>|

## <span data-ttu-id="098bc-377"><a id="multi-factor-azure-admin"></a>Povolení Azure Multi-Factor Authentication pro Azure správce</span><span class="sxs-lookup"><span data-stu-id="098bc-377"><a id="multi-factor-azure-admin"></a>Enable Azure Multi-Factor Authentication for Azure Administrators</span></span>

| <span data-ttu-id="098bc-378">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-378">Title</span></span>                   | <span data-ttu-id="098bc-379">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-379">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-380">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-380">**Component**</span></span>               | <span data-ttu-id="098bc-381">Hranice vztahů důvěryhodnosti Azure</span><span class="sxs-lookup"><span data-stu-id="098bc-381">Azure Trust Boundary</span></span> | 
| <span data-ttu-id="098bc-382">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-382">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-383">Nasazení</span><span class="sxs-lookup"><span data-stu-id="098bc-383">Deployment</span></span> |  
| <span data-ttu-id="098bc-384">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-384">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-385">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-385">Generic</span></span> |
| <span data-ttu-id="098bc-386">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-386">**Attributes**</span></span>              | <span data-ttu-id="098bc-387">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-387">N/A</span></span>  |
| <span data-ttu-id="098bc-388">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-388">**References**</span></span>              | [<span data-ttu-id="098bc-389">Co je Azure Multi-Factor Authentication?</span><span class="sxs-lookup"><span data-stu-id="098bc-389">What is Azure Multi-Factor Authentication?</span></span>](https://azure.microsoft.com/documentation/articles/multi-factor-authentication/) |
| <span data-ttu-id="098bc-390">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-390">**Steps**</span></span> | <p><span data-ttu-id="098bc-391">Vícefaktorové ověřování (MFA) je metoda ověřování, který vyžaduje více než jednu metodu ověřování a přidá velmi důležitou druhou vrstvu zabezpečení toouser přihlášení a transakce.</span><span class="sxs-lookup"><span data-stu-id="098bc-391">Multi-factor authentication (MFA) is a method of authentication that requires more than one verification method and adds a critical second layer of security toouser sign-ins and transactions.</span></span> <span data-ttu-id="098bc-392">Funguje tím, že jakékoliv dva nebo více hello následující metody ověření:</span><span class="sxs-lookup"><span data-stu-id="098bc-392">It works by requiring any two or more of hello following verification methods:</span></span></p><ul><li><span data-ttu-id="098bc-393">Něco znáte (obvykle heslo)</span><span class="sxs-lookup"><span data-stu-id="098bc-393">Something you know (typically a password)</span></span></li><li><span data-ttu-id="098bc-394">Něco co uživatel má (důvěryhodné zařízení, která není duplikovaná snadno, například telefon)</span><span class="sxs-lookup"><span data-stu-id="098bc-394">Something you have (a trusted device that is not easily duplicated, like a phone)</span></span></li><li><span data-ttu-id="098bc-395">Něco že se (biometrika)</span><span class="sxs-lookup"><span data-stu-id="098bc-395">Something you are (biometrics)</span></span></li><ul>|

## <span data-ttu-id="098bc-396"><a id="anon-access-cluster"></a>Omezit anonymní přístup tooService Fabric Cluster</span><span class="sxs-lookup"><span data-stu-id="098bc-396"><a id="anon-access-cluster"></a>Restrict anonymous access tooService Fabric Cluster</span></span>

| <span data-ttu-id="098bc-397">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-397">Title</span></span>                   | <span data-ttu-id="098bc-398">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-398">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-399">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-399">**Component**</span></span>               | <span data-ttu-id="098bc-400">Hranice vztahů důvěryhodnosti Service Fabric</span><span class="sxs-lookup"><span data-stu-id="098bc-400">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="098bc-401">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-401">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-402">Nasazení</span><span class="sxs-lookup"><span data-stu-id="098bc-402">Deployment</span></span> |  
| <span data-ttu-id="098bc-403">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-403">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-404">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-404">Generic</span></span> |
| <span data-ttu-id="098bc-405">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-405">**Attributes**</span></span>              | <span data-ttu-id="098bc-406">Prostředí – Azure</span><span class="sxs-lookup"><span data-stu-id="098bc-406">Environment - Azure</span></span>  |
| <span data-ttu-id="098bc-407">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-407">**References**</span></span>              | [<span data-ttu-id="098bc-408">Scénáře zabezpečení clusteru Service Fabric</span><span class="sxs-lookup"><span data-stu-id="098bc-408">Service Fabric cluster security scenarios</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security) |
| <span data-ttu-id="098bc-409">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-409">**Steps**</span></span> | <p><span data-ttu-id="098bc-410">Clustery musí být vždy zabezpečené tooprevent neoprávněného uživatele z připojení clusteru tooyour, zejména v případě, že je v něm spuštěny úlohy v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="098bc-410">Clusters should always be secured tooprevent unauthorized users from connecting tooyour cluster, especially when it has production workloads running on it.</span></span></p><p><span data-ttu-id="098bc-411">Při vytváření service fabric cluster, ujistěte se, že tento režim zabezpečení hello je nastaven příliš "zabezpečené" a nakonfigurujte certifikát serveru hello požadované X.509.</span><span class="sxs-lookup"><span data-stu-id="098bc-411">While creating a service fabric cluster, ensure that hello security mode is set too"secure" and configure hello required X.509 server certificate.</span></span> <span data-ttu-id="098bc-412">Vytváření clusteru služby "nezabezpečené" vám umožní žádné tooit tooconnect anonymního uživatele, pokud vystavuje toohello koncové body správy veřejného Internetu.</span><span class="sxs-lookup"><span data-stu-id="098bc-412">Creating an "insecure" cluster will allow any anonymous user tooconnect tooit if it exposes management endpoints toohello public Internet.</span></span></p>|

## <span data-ttu-id="098bc-413"><a id="fabric-cn-nn"></a>Zajistěte, aby byl certifikát klienta uzlu Service Fabric liší od certifikátu – uzly</span><span class="sxs-lookup"><span data-stu-id="098bc-413"><a id="fabric-cn-nn"></a>Ensure that Service Fabric client-to-node certificate is different from node-to-node certificate</span></span>

| <span data-ttu-id="098bc-414">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-414">Title</span></span>                   | <span data-ttu-id="098bc-415">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-415">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-416">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-416">**Component**</span></span>               | <span data-ttu-id="098bc-417">Hranice vztahů důvěryhodnosti Service Fabric</span><span class="sxs-lookup"><span data-stu-id="098bc-417">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="098bc-418">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-418">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-419">Nasazení</span><span class="sxs-lookup"><span data-stu-id="098bc-419">Deployment</span></span> |  
| <span data-ttu-id="098bc-420">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-420">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-421">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-421">Generic</span></span> |
| <span data-ttu-id="098bc-422">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-422">**Attributes**</span></span>              | <span data-ttu-id="098bc-423">Prostředí – Azure, prostředí – samostatný</span><span class="sxs-lookup"><span data-stu-id="098bc-423">Environment - Azure, Environment - Stand alone</span></span> |
| <span data-ttu-id="098bc-424">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-424">**References**</span></span>              | <span data-ttu-id="098bc-425">[Zabezpečení certificate Service Fabric klientský uzel](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#_client-to-node-certificate-security), [Connect tooa zabezpečení clusteru pomocí klientského certifikátu](https://azure.microsoft.com/documentation/articles/service-fabric-connect-to-secure-cluster/)</span><span class="sxs-lookup"><span data-stu-id="098bc-425">[Service Fabric Client-to-node certificate security](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#_client-to-node-certificate-security), [Connect tooa secure cluster using client certificate](https://azure.microsoft.com/documentation/articles/service-fabric-connect-to-secure-cluster/)</span></span> |
| <span data-ttu-id="098bc-426">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-426">**Steps**</span></span> | <p><span data-ttu-id="098bc-427">Při vytváření clusteru hello buď prostřednictvím hello portálu Azure, šablony Resource Manageru nebo šablonu JSON samostatné zadáním certifikát klienta správce nebo klientský certifikát uživatele konfigurace uzlu klientů certifikát zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="098bc-427">Client-to-node certificate security is configured while creating hello cluster either through hello Azure portal, Resource Manager templates or a standalone JSON template by specifying an admin client certificate and/or a user client certificate.</span></span></p><p><span data-ttu-id="098bc-428">Hello Správce klientů a uživatelů klientské certifikáty, které zadáte musí být jiný než hello primární a sekundární certifikáty, které zadáte pro zabezpečení mezi uzly.</span><span class="sxs-lookup"><span data-stu-id="098bc-428">hello admin client and user client certificates you specify should be different than hello primary and secondary certificates you specify for Node-to-node security.</span></span></p>|

## <span data-ttu-id="098bc-429"><a id="aad-client-fabric"></a>Použít clustery infrastruktury tooservice klienti tooauthenticate AAD</span><span class="sxs-lookup"><span data-stu-id="098bc-429"><a id="aad-client-fabric"></a>Use AAD tooauthenticate clients tooservice fabric clusters</span></span>

| <span data-ttu-id="098bc-430">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-430">Title</span></span>                   | <span data-ttu-id="098bc-431">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-431">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-432">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-432">**Component**</span></span>               | <span data-ttu-id="098bc-433">Hranice vztahů důvěryhodnosti Service Fabric</span><span class="sxs-lookup"><span data-stu-id="098bc-433">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="098bc-434">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-434">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-435">Nasazení</span><span class="sxs-lookup"><span data-stu-id="098bc-435">Deployment</span></span> |  
| <span data-ttu-id="098bc-436">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-436">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-437">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-437">Generic</span></span> |
| <span data-ttu-id="098bc-438">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-438">**Attributes**</span></span>              | <span data-ttu-id="098bc-439">Prostředí – Azure</span><span class="sxs-lookup"><span data-stu-id="098bc-439">Environment - Azure</span></span> |
| <span data-ttu-id="098bc-440">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-440">**References**</span></span>              | [<span data-ttu-id="098bc-441">Cluster scénáře zabezpečení - doporučení zabezpečení</span><span class="sxs-lookup"><span data-stu-id="098bc-441">Cluster security scenarios - Security Recommendations</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#security-recommendations) |
| <span data-ttu-id="098bc-442">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-442">**Steps**</span></span> | <span data-ttu-id="098bc-443">Clustery se systémem na platformě Azure také můžete zabezpečit přístup koncových bodů pro správu toohello pomocí Azure Active Directory (AAD), kromě klientských certifikátů.</span><span class="sxs-lookup"><span data-stu-id="098bc-443">Clusters running on Azure can also secure access toohello management endpoints using Azure Active Directory (AAD), apart from client certificates.</span></span> <span data-ttu-id="098bc-444">Pro Azure clusterů se doporučuje použít AAD zabezpečení tooauthenticate klientů a certifikáty pro zabezpečení mezi uzly.</span><span class="sxs-lookup"><span data-stu-id="098bc-444">For Azure clusters, it is recommended that you use AAD security tooauthenticate clients and certificates for node-to-node security.</span></span>|

## <span data-ttu-id="098bc-445"><a id="fabric-cert-ca"></a>Ujistěte se, že certifikáty infrastruktury služby jsou získány z schválené certifikační autoritou (CA)</span><span class="sxs-lookup"><span data-stu-id="098bc-445"><a id="fabric-cert-ca"></a>Ensure that service fabric certificates are obtained from an approved Certificate Authority (CA)</span></span>

| <span data-ttu-id="098bc-446">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-446">Title</span></span>                   | <span data-ttu-id="098bc-447">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-447">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-448">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-448">**Component**</span></span>               | <span data-ttu-id="098bc-449">Hranice vztahů důvěryhodnosti Service Fabric</span><span class="sxs-lookup"><span data-stu-id="098bc-449">Service Fabric Trust Boundary</span></span> | 
| <span data-ttu-id="098bc-450">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-450">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-451">Nasazení</span><span class="sxs-lookup"><span data-stu-id="098bc-451">Deployment</span></span> |  
| <span data-ttu-id="098bc-452">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-452">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-453">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-453">Generic</span></span> |
| <span data-ttu-id="098bc-454">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-454">**Attributes**</span></span>              | <span data-ttu-id="098bc-455">Prostředí – Azure</span><span class="sxs-lookup"><span data-stu-id="098bc-455">Environment - Azure</span></span> |
| <span data-ttu-id="098bc-456">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-456">**References**</span></span>              | [<span data-ttu-id="098bc-457">X.509 – certifikáty a Service Fabric</span><span class="sxs-lookup"><span data-stu-id="098bc-457">X.509 certificates and Service Fabric</span></span>](https://azure.microsoft.com/documentation/articles/service-fabric-cluster-security/#x509-certificates-and-service-fabric) |
| <span data-ttu-id="098bc-458">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-458">**Steps**</span></span> | <p><span data-ttu-id="098bc-459">Service Fabric používá certifikáty X.509 serveru za účelem ověřování totožnosti uzly a klienty.</span><span class="sxs-lookup"><span data-stu-id="098bc-459">Service Fabric uses X.509 server certificates for authenticating nodes and clients.</span></span></p><p><span data-ttu-id="098bc-460">Některé důležité věci tooconsider při používání certifikátů v service Fabric:</span><span class="sxs-lookup"><span data-stu-id="098bc-460">Some important things tooconsider while using certificates in service fabrics:</span></span></p><ul><li><span data-ttu-id="098bc-461">Certifikáty používané v clusterech spuštění úlohy v produkčním prostředí by měla být vytvořen pomocí správně nakonfigurovaných certifikát služby Windows Server nebo získat ze schválené certifikační autoritou (CA).</span><span class="sxs-lookup"><span data-stu-id="098bc-461">Certificates used in clusters running production workloads should be created by using a correctly configured Windows Server certificate service or obtained from an approved Certificate Authority (CA).</span></span> <span data-ttu-id="098bc-462">Hello certifikační Autority může být schválené externí certifikační Autority nebo správně spravované interní infrastruktury veřejných klíčů (PKI)</span><span class="sxs-lookup"><span data-stu-id="098bc-462">hello CA can be an approved external CA or a properly managed internal Public Key Infrastructure (PKI)</span></span></li><li><span data-ttu-id="098bc-463">Nikdy nepoužívejte žádné dočasných nebo testovací certifikáty v produkčním prostředí, které jsou vytvořeny pomocí nástrojů, jako je MakeCert.exe</span><span class="sxs-lookup"><span data-stu-id="098bc-463">Never use any temporary or test certificates in production that are created with tools such as MakeCert.exe</span></span></li><li><span data-ttu-id="098bc-464">Můžete použít certifikát podepsaný svým držitelem, ale měli tak učinit pouze pro testovací clustery a ne v produkčním prostředí</span><span class="sxs-lookup"><span data-stu-id="098bc-464">You can use a self-signed certificate, but should only do so for test clusters and not in production</span></span></li></ul>|

## <span data-ttu-id="098bc-465"><a id="standard-authn-id"></a>Použijte standardní ověřování scénáře nepodporuje serveru identit</span><span class="sxs-lookup"><span data-stu-id="098bc-465"><a id="standard-authn-id"></a>Use standard authentication scenarios supported by Identity Server</span></span>

| <span data-ttu-id="098bc-466">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-466">Title</span></span>                   | <span data-ttu-id="098bc-467">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-467">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-468">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-468">**Component**</span></span>               | <span data-ttu-id="098bc-469">Serveru identit</span><span class="sxs-lookup"><span data-stu-id="098bc-469">Identity Server</span></span> | 
| <span data-ttu-id="098bc-470">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-470">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-471">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-471">Build</span></span> |  
| <span data-ttu-id="098bc-472">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-472">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-473">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-473">Generic</span></span> |
| <span data-ttu-id="098bc-474">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-474">**Attributes**</span></span>              | <span data-ttu-id="098bc-475">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-475">N/A</span></span>  |
| <span data-ttu-id="098bc-476">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-476">**References**</span></span>              | [<span data-ttu-id="098bc-477">IdentityServer3 - hello velký obrázek</span><span class="sxs-lookup"><span data-stu-id="098bc-477">IdentityServer3 - hello Big Picture</span></span>](https://identityserver.github.io/Documentation/docsv2/overview/bigPicture.html) |
| <span data-ttu-id="098bc-478">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-478">**Steps**</span></span> | <p><span data-ttu-id="098bc-479">Níže jsou hello typické interakce nepodporuje serveru identit:</span><span class="sxs-lookup"><span data-stu-id="098bc-479">Below are hello typical interactions supported by Identity Server:</span></span></p><ul><li><span data-ttu-id="098bc-480">Prohlížeče komunikovat s webovými aplikacemi</span><span class="sxs-lookup"><span data-stu-id="098bc-480">Browsers communicate with web applications</span></span></li><li><span data-ttu-id="098bc-481">Webové aplikace komunikovat s webových rozhraní API (někdy na své vlastní, někdy jménem uživatele)</span><span class="sxs-lookup"><span data-stu-id="098bc-481">Web applications communicate with web APIs (sometimes on their own, sometimes on behalf of a user)</span></span></li><li><span data-ttu-id="098bc-482">Aplikace založené na prohlížeči komunikovat s webových rozhraní API</span><span class="sxs-lookup"><span data-stu-id="098bc-482">Browser-based applications communicate with web APIs</span></span></li><li><span data-ttu-id="098bc-483">Nativní aplikace komunikovat s webových rozhraní API</span><span class="sxs-lookup"><span data-stu-id="098bc-483">Native applications communicate with web APIs</span></span></li><li><span data-ttu-id="098bc-484">Serverové aplikace komunikovat s webových rozhraní API</span><span class="sxs-lookup"><span data-stu-id="098bc-484">Server-based applications communicate with web APIs</span></span></li><li><span data-ttu-id="098bc-485">Webová rozhraní API komunikovat s webových rozhraní API (někdy na své vlastní, někdy jménem uživatele)</span><span class="sxs-lookup"><span data-stu-id="098bc-485">Web APIs communicate with web APIs (sometimes on their own, sometimes on behalf of a user)</span></span></li></ul>|

## <span data-ttu-id="098bc-486"><a id="override-token"></a>Přepsání serveru identit výchozí hello škálovatelné alternativou tokenu mezipaměti.</span><span class="sxs-lookup"><span data-stu-id="098bc-486"><a id="override-token"></a>Override hello default Identity Server token cache with a scalable alternative</span></span>

| <span data-ttu-id="098bc-487">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-487">Title</span></span>                   | <span data-ttu-id="098bc-488">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-488">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-489">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-489">**Component**</span></span>               | <span data-ttu-id="098bc-490">Serveru identit</span><span class="sxs-lookup"><span data-stu-id="098bc-490">Identity Server</span></span> | 
| <span data-ttu-id="098bc-491">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-491">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-492">Nasazení</span><span class="sxs-lookup"><span data-stu-id="098bc-492">Deployment</span></span> |  
| <span data-ttu-id="098bc-493">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-493">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-494">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-494">Generic</span></span> |
| <span data-ttu-id="098bc-495">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-495">**Attributes**</span></span>              | <span data-ttu-id="098bc-496">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-496">N/A</span></span>  |
| <span data-ttu-id="098bc-497">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-497">**References**</span></span>              | [<span data-ttu-id="098bc-498">Nasazení serveru identity - ukládání do mezipaměti</span><span class="sxs-lookup"><span data-stu-id="098bc-498">Identity Server Deployment - Caching</span></span>](https://identityserver.github.io/Documentation/docsv2/advanced/deployment.html) |
| <span data-ttu-id="098bc-499">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-499">**Steps**</span></span> | <p><span data-ttu-id="098bc-500">IdentityServer má jednoduché předdefinované mezipaměti v paměti.</span><span class="sxs-lookup"><span data-stu-id="098bc-500">IdentityServer has a simple built-in in-memory cache.</span></span> <span data-ttu-id="098bc-501">To je vhodné pro nativní aplikace v menším měřítku, není vhodné pro mid vrstvy a back-end aplikace hello následujících důvodů:</span><span class="sxs-lookup"><span data-stu-id="098bc-501">While this is good for small scale native apps, it does not scale for mid tier and backend applications for hello following reasons:</span></span></p><ul><li><span data-ttu-id="098bc-502">Tyto aplikace jsou dostupné přes mnoho uživatelů najednou.</span><span class="sxs-lookup"><span data-stu-id="098bc-502">These applications are accessed by many users at once.</span></span> <span data-ttu-id="098bc-503">Ukládání všech přístupových tokenů v hello stejné úložiště, vytvoří izolace problémů a představuje výzvy při fungování ve velkém měřítku: mnoho uživatelů, každý s tolik tokeny jako prostředky hello hello přistupuje aplikace jejich jménem, může znamenat velký čísla a velmi náročná vyhledávání operace</span><span class="sxs-lookup"><span data-stu-id="098bc-503">Saving all access tokens in hello same store creates isolation issues and presents challenges when operating at scale: many users, each with as many tokens as hello resources hello app accesses on their behalf, can mean huge numbers and very expensive lookup operations</span></span></li><li><span data-ttu-id="098bc-504">Tyto aplikace se obvykle nasazují na Distribuovaná topologie, kde více uzlů musí mít přístup toohello stejné mezipaměti</span><span class="sxs-lookup"><span data-stu-id="098bc-504">These applications are typically deployed on distributed topologies, where multiple nodes must have access toohello same cache</span></span></li><li><span data-ttu-id="098bc-505">V mezipaměti tokeny musí překonat proces recykluje a deaktivací</span><span class="sxs-lookup"><span data-stu-id="098bc-505">Cached tokens must survive process recycles and deactivations</span></span></li><li><span data-ttu-id="098bc-506">Pro všechny hello výše důvodů při implementaci webové aplikace se doporučuje toooverride hello výchozí Identity tokenu mezipaměti serveru škálovatelné alternativou například Azure Redis cache</span><span class="sxs-lookup"><span data-stu-id="098bc-506">For all hello above reasons, while implementing web apps, it is recommended toooverride hello default Identity Server's token cache with a scalable alternative such as Azure Redis cache</span></span></li></ul>|

## <span data-ttu-id="098bc-507"><a id="binaries-signed"></a>Ujistěte se, že binární soubory nasazené aplikace jsou digitálně podepsané.</span><span class="sxs-lookup"><span data-stu-id="098bc-507"><a id="binaries-signed"></a>Ensure that deployed application's binaries are digitally signed</span></span>

| <span data-ttu-id="098bc-508">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-508">Title</span></span>                   | <span data-ttu-id="098bc-509">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-509">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-510">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-510">**Component**</span></span>               | <span data-ttu-id="098bc-511">Počítač hranice vztahů důvěryhodnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-511">Machine Trust Boundary</span></span> | 
| <span data-ttu-id="098bc-512">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-512">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-513">Nasazení</span><span class="sxs-lookup"><span data-stu-id="098bc-513">Deployment</span></span> |  
| <span data-ttu-id="098bc-514">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-514">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-515">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-515">Generic</span></span> |
| <span data-ttu-id="098bc-516">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-516">**Attributes**</span></span>              | <span data-ttu-id="098bc-517">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-517">N/A</span></span>  |
| <span data-ttu-id="098bc-518">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-518">**References**</span></span>              | <span data-ttu-id="098bc-519">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-519">N/A</span></span>  |
| <span data-ttu-id="098bc-520">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-520">**Steps**</span></span> | <span data-ttu-id="098bc-521">Ujistěte se, že binární soubory nasazené aplikace jsou digitálně podepsané, tak, aby lze ověřit integritu hello hello binárních souborů</span><span class="sxs-lookup"><span data-stu-id="098bc-521">Ensure that deployed application's binaries are digitally signed so that hello integrity of hello binaries can be verified</span></span>|

## <span data-ttu-id="098bc-522"><a id="msmq-queues"></a>Povolit ověřování při připojování tooMSMQ fronty ve WCF</span><span class="sxs-lookup"><span data-stu-id="098bc-522"><a id="msmq-queues"></a>Enable authentication when connecting tooMSMQ queues in WCF</span></span>

| <span data-ttu-id="098bc-523">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-523">Title</span></span>                   | <span data-ttu-id="098bc-524">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-524">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-525">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-525">**Component**</span></span>               | <span data-ttu-id="098bc-526">WCF</span><span class="sxs-lookup"><span data-stu-id="098bc-526">WCF</span></span> | 
| <span data-ttu-id="098bc-527">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-527">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-528">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-528">Build</span></span> |  
| <span data-ttu-id="098bc-529">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-529">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-530">Obecné, NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="098bc-530">Generic, NET Framework 3</span></span> |
| <span data-ttu-id="098bc-531">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-531">**Attributes**</span></span>              | <span data-ttu-id="098bc-532">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-532">N/A</span></span> |
| <span data-ttu-id="098bc-533">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-533">**References**</span></span>              | [<span data-ttu-id="098bc-534">MSDN</span><span class="sxs-lookup"><span data-stu-id="098bc-534">MSDN</span></span>](https://msdn.microsoft.com/library/ff648500.aspx) |
| <span data-ttu-id="098bc-535">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-535">**Steps**</span></span> | <span data-ttu-id="098bc-536">Program selže tooenable ověřování při připojování tooMSMQ fronty, útočník může odeslat anonymně toohello fronty zpráv pro zpracování.</span><span class="sxs-lookup"><span data-stu-id="098bc-536">Program fails tooenable authentication when connecting tooMSMQ queues, an attacker can anonymously submit messages toohello queue for processing.</span></span> <span data-ttu-id="098bc-537">Pokud ověření není použité tooconnect tooan MSMQ fronty použít toodeliver program tooanother zpráv, útočník může odeslat zprávu anonymní, který je škodlivý.</span><span class="sxs-lookup"><span data-stu-id="098bc-537">If authentication is not used tooconnect tooan MSMQ queue used toodeliver a message tooanother program, an attacker could submit an anonymous message that is malicious.</span></span>|

### <a name="example"></a><span data-ttu-id="098bc-538">Příklad</span><span class="sxs-lookup"><span data-stu-id="098bc-538">Example</span></span>
<span data-ttu-id="098bc-539">Hello `<netMsmqBinding/>` prvek hello WCF konfiguračního souboru níže dá pokyn WCF toodisable ověřování při připojování frontu MSMQ tooan pro doručování zpráv.</span><span class="sxs-lookup"><span data-stu-id="098bc-539">hello `<netMsmqBinding/>` element of hello WCF configuration file below instructs WCF toodisable authentication when connecting tooan MSMQ queue for message delivery.</span></span>
```
<bindings>
    <netMsmqBinding>
        <binding>
            <security>
                <transport msmqAuthenticationMode=""None"" />
            </security>
        </binding>
    </netMsmqBinding>
</bindings>
```
<span data-ttu-id="098bc-540">Konfigurace služby MSMQ toorequire domény systému Windows nebo ověření certifikátu po celou dobu pro všechny příchozí nebo odchozí zprávy.</span><span class="sxs-lookup"><span data-stu-id="098bc-540">Configure MSMQ toorequire Windows Domain or Certificate authentication at all times for any incoming or outgoing messages.</span></span>

### <a name="example"></a><span data-ttu-id="098bc-541">Příklad</span><span class="sxs-lookup"><span data-stu-id="098bc-541">Example</span></span>
<span data-ttu-id="098bc-542">Hello `<netMsmqBinding/>` prvek hello WCF konfiguračního souboru níže dá pokyn WCF tooenable certifikát ověřování při připojování frontu MSMQ tooan.</span><span class="sxs-lookup"><span data-stu-id="098bc-542">hello `<netMsmqBinding/>` element of hello WCF configuration file below instructs WCF tooenable certificate authentication when connecting tooan MSMQ queue.</span></span> <span data-ttu-id="098bc-543">Hello klienta je ověřen pomocí certifikátů X.509.</span><span class="sxs-lookup"><span data-stu-id="098bc-543">hello client is authenticated using X.509 certificates.</span></span> <span data-ttu-id="098bc-544">Hello klientský certifikát musí být v úložišti certifikátů hello hello serveru existuje.</span><span class="sxs-lookup"><span data-stu-id="098bc-544">hello client certificate must be present in hello certificate store of hello server.</span></span>
```
<bindings>
    <netMsmqBinding>
        <binding>
            <security>
                <transport msmqAuthenticationMode=""Certificate"" />
            </security>
        </binding>
    </netMsmqBinding>
</bindings>
```

## <span data-ttu-id="098bc-545"><a id="message-none"></a>Není nastavena toonone clientCredentialType zpráv WCF</span><span class="sxs-lookup"><span data-stu-id="098bc-545"><a id="message-none"></a>WCF-Do not set Message clientCredentialType toonone</span></span>

| <span data-ttu-id="098bc-546">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-546">Title</span></span>                   | <span data-ttu-id="098bc-547">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-547">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-548">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-548">**Component**</span></span>               | <span data-ttu-id="098bc-549">WCF</span><span class="sxs-lookup"><span data-stu-id="098bc-549">WCF</span></span> | 
| <span data-ttu-id="098bc-550">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-550">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-551">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-551">Build</span></span> |  
| <span data-ttu-id="098bc-552">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-552">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-553">Rozhraní .NET framework 3</span><span class="sxs-lookup"><span data-stu-id="098bc-553">.NET Framework 3</span></span> |
| <span data-ttu-id="098bc-554">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-554">**Attributes**</span></span>              | <span data-ttu-id="098bc-555">Typ pověření klienta - None</span><span class="sxs-lookup"><span data-stu-id="098bc-555">Client Credential Type - None</span></span> |
| <span data-ttu-id="098bc-556">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-556">**References**</span></span>              | <span data-ttu-id="098bc-557">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [obohacení](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="098bc-557">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="098bc-558">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-558">**Steps**</span></span> | <span data-ttu-id="098bc-559">Hello absenci ověřování znamená všem uživatelům je možné tooaccess této služby.</span><span class="sxs-lookup"><span data-stu-id="098bc-559">hello absence of authentication means everyone is able tooaccess this service.</span></span> <span data-ttu-id="098bc-560">Služba, která neověřuje svým klientům umožňuje přístup uživatelům tooall.</span><span class="sxs-lookup"><span data-stu-id="098bc-560">A service that does not authenticate its clients allows access tooall users.</span></span> <span data-ttu-id="098bc-561">Nakonfigurujte tooauthenticate aplikace hello proti pověření klienta.</span><span class="sxs-lookup"><span data-stu-id="098bc-561">Configure hello application tooauthenticate against client credentials.</span></span> <span data-ttu-id="098bc-562">Tento krok můžete provést nastavením hello zpráva clientCredentialType tooWindows nebo certifikát.</span><span class="sxs-lookup"><span data-stu-id="098bc-562">This can be done by setting hello message clientCredentialType tooWindows or Certificate.</span></span> |

### <a name="example"></a><span data-ttu-id="098bc-563">Příklad</span><span class="sxs-lookup"><span data-stu-id="098bc-563">Example</span></span>
```
<message clientCredentialType=""Certificate""/>
```

## <span data-ttu-id="098bc-564"><a id="transport-none"></a>Není nastavena toonone clientCredentialType přenosu WCF</span><span class="sxs-lookup"><span data-stu-id="098bc-564"><a id="transport-none"></a>WCF-Do not set Transport clientCredentialType toonone</span></span>

| <span data-ttu-id="098bc-565">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-565">Title</span></span>                   | <span data-ttu-id="098bc-566">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-566">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-567">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-567">**Component**</span></span>               | <span data-ttu-id="098bc-568">WCF</span><span class="sxs-lookup"><span data-stu-id="098bc-568">WCF</span></span> | 
| <span data-ttu-id="098bc-569">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-569">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-570">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-570">Build</span></span> |  
| <span data-ttu-id="098bc-571">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-571">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-572">Obecná rozhraní .NET Framework 3</span><span class="sxs-lookup"><span data-stu-id="098bc-572">Generic, .NET Framework 3</span></span> |
| <span data-ttu-id="098bc-573">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-573">**Attributes**</span></span>              | <span data-ttu-id="098bc-574">Typ pověření klienta - None</span><span class="sxs-lookup"><span data-stu-id="098bc-574">Client Credential Type - None</span></span> |
| <span data-ttu-id="098bc-575">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-575">**References**</span></span>              | <span data-ttu-id="098bc-576">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [obohacení](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="098bc-576">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="098bc-577">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-577">**Steps**</span></span> | <span data-ttu-id="098bc-578">Hello absenci ověřování znamená všem uživatelům je možné tooaccess této služby.</span><span class="sxs-lookup"><span data-stu-id="098bc-578">hello absence of authentication means everyone is able tooaccess this service.</span></span> <span data-ttu-id="098bc-579">Služba, která neověřuje svým klientům umožňuje všechny uživatele tooaccess její funkce.</span><span class="sxs-lookup"><span data-stu-id="098bc-579">A service that does not authenticate its clients allows all users tooaccess its functionality.</span></span> <span data-ttu-id="098bc-580">Nakonfigurujte tooauthenticate aplikace hello proti pověření klienta.</span><span class="sxs-lookup"><span data-stu-id="098bc-580">Configure hello application tooauthenticate against client credentials.</span></span> <span data-ttu-id="098bc-581">Tento krok můžete provést nastavením hello přenosu clientCredentialType tooWindows nebo certifikát.</span><span class="sxs-lookup"><span data-stu-id="098bc-581">This can be done by setting hello transport clientCredentialType tooWindows or Certificate.</span></span> |

### <a name="example"></a><span data-ttu-id="098bc-582">Příklad</span><span class="sxs-lookup"><span data-stu-id="098bc-582">Example</span></span>
```
<transport clientCredentialType=""Certificate""/>
```

## <span data-ttu-id="098bc-583"><a id="authn-secure-api"></a>Zajistěte, aby techniky standardní ověřování použité toosecure webová rozhraní API</span><span class="sxs-lookup"><span data-stu-id="098bc-583"><a id="authn-secure-api"></a>Ensure that standard authentication techniques are used toosecure Web APIs</span></span>

| <span data-ttu-id="098bc-584">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-584">Title</span></span>                   | <span data-ttu-id="098bc-585">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-585">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-586">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-586">**Component**</span></span>               | <span data-ttu-id="098bc-587">Web API</span><span class="sxs-lookup"><span data-stu-id="098bc-587">Web API</span></span> | 
| <span data-ttu-id="098bc-588">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-588">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-589">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-589">Build</span></span> |  
| <span data-ttu-id="098bc-590">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-590">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-591">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-591">Generic</span></span> |
| <span data-ttu-id="098bc-592">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-592">**Attributes**</span></span>              | <span data-ttu-id="098bc-593">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-593">N/A</span></span>  |
| <span data-ttu-id="098bc-594">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-594">**References**</span></span>              | <span data-ttu-id="098bc-595">[Ověřování a autorizace v rozhraní ASP.NET Web API](http://www.asp.net/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api), [externí ověřovací služby s rozhraním ASP.NET Web API (C#)](http://www.asp.net/web-api/overview/security/external-authentication-services)</span><span class="sxs-lookup"><span data-stu-id="098bc-595">[Authentication and Authorization in ASP.NET Web API](http://www.asp.net/web-api/overview/security/authentication-and-authorization-in-aspnet-web-api), [External Authentication Services with ASP.NET Web API (C#)](http://www.asp.net/web-api/overview/security/external-authentication-services)</span></span> |
| <span data-ttu-id="098bc-596">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-596">**Steps**</span></span> | <p><span data-ttu-id="098bc-597">Ověřování je proces hello prokáže, kde entity svou identitu, obvykle prostřednictvím přihlašovacích údajů, jako je například uživatelské jméno a heslo.</span><span class="sxs-lookup"><span data-stu-id="098bc-597">Authentication is hello process where an entity proves its identity, typically through credentials, such as a user name and password.</span></span> <span data-ttu-id="098bc-598">Existuje více ověřovací protokoly dostupné kterých lze považovat za.</span><span class="sxs-lookup"><span data-stu-id="098bc-598">There are multiple authentication protocols available which may be considered.</span></span> <span data-ttu-id="098bc-599">Některé z nich, jsou uvedeny níže:</span><span class="sxs-lookup"><span data-stu-id="098bc-599">Some of them are listed below:</span></span></p><ul><li><span data-ttu-id="098bc-600">Klientské certifikáty</span><span class="sxs-lookup"><span data-stu-id="098bc-600">Client certificates</span></span></li><li><span data-ttu-id="098bc-601">Na základě systému Windows</span><span class="sxs-lookup"><span data-stu-id="098bc-601">Windows based</span></span></li><li><span data-ttu-id="098bc-602">Na základě formulářů</span><span class="sxs-lookup"><span data-stu-id="098bc-602">Forms based</span></span></li><li><span data-ttu-id="098bc-603">Federační - služby AD FS</span><span class="sxs-lookup"><span data-stu-id="098bc-603">Federation - ADFS</span></span></li><li><span data-ttu-id="098bc-604">Federační – Azure AD</span><span class="sxs-lookup"><span data-stu-id="098bc-604">Federation - Azure AD</span></span></li><li><span data-ttu-id="098bc-605">Federační - serveru identit</span><span class="sxs-lookup"><span data-stu-id="098bc-605">Federation - Identity Server</span></span></li></ul><p><span data-ttu-id="098bc-606">Odkazy v části odkazy hello poskytují nízké úrovně podrobnosti o jednotlivých hello schémat ověřování, jak mohou být implementována toosecure webového rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="098bc-606">Links in hello references section provide low-level details on how each of hello authentication schemes can be implemented toosecure a Web API.</span></span></p>|

## <span data-ttu-id="098bc-607"><a id="authn-aad"></a>Použijte standardní ověřování scénáře podporované službou Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="098bc-607"><a id="authn-aad"></a>Use standard authentication scenarios supported by Azure Active Directory</span></span>

| <span data-ttu-id="098bc-608">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-608">Title</span></span>                   | <span data-ttu-id="098bc-609">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-609">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-610">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-610">**Component**</span></span>               | <span data-ttu-id="098bc-611">Azure AD</span><span class="sxs-lookup"><span data-stu-id="098bc-611">Azure AD</span></span> | 
| <span data-ttu-id="098bc-612">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-612">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-613">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-613">Build</span></span> |  
| <span data-ttu-id="098bc-614">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-614">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-615">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-615">Generic</span></span> |
| <span data-ttu-id="098bc-616">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-616">**Attributes**</span></span>              | <span data-ttu-id="098bc-617">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-617">N/A</span></span>  |
| <span data-ttu-id="098bc-618">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-618">**References**</span></span>              | <span data-ttu-id="098bc-619">[Scénáře ověřování pro Azure AD](https://azure.microsoft.com/documentation/articles/active-directory-authentication-scenarios/), [Azure Active Directory ukázky kódu](https://azure.microsoft.com/documentation/articles/active-directory-code-samples/), [Příručka pro vývojáře Azure Active Directory](https://azure.microsoft.com/documentation/articles/active-directory-developers-guide/)</span><span class="sxs-lookup"><span data-stu-id="098bc-619">[Authentication Scenarios for Azure AD](https://azure.microsoft.com/documentation/articles/active-directory-authentication-scenarios/), [Azure Active Directory Code Samples](https://azure.microsoft.com/documentation/articles/active-directory-code-samples/), [Azure Active Directory developer's guide](https://azure.microsoft.com/documentation/articles/active-directory-developers-guide/)</span></span> |
| <span data-ttu-id="098bc-620">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-620">**Steps**</span></span> | <p><span data-ttu-id="098bc-621">Azure Active Directory (Azure AD) zjednodušuje ověřování pro vývojáře a poskytovat identity jako služby, podpora pro standardní protokoly, jako je například OAuth 2.0 a OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="098bc-621">Azure Active Directory (Azure AD) simplifies authentication for developers by providing identity as a service, with support for industry-standard protocols such as OAuth 2.0 and OpenID Connect.</span></span> <span data-ttu-id="098bc-622">V následující tabulce jsou hello pět scénáře primární aplikace podporované službou Azure AD:</span><span class="sxs-lookup"><span data-stu-id="098bc-622">Below are hello five primary application scenarios supported by Azure AD:</span></span></p><ul><li><span data-ttu-id="098bc-623">Webové prohlížeče tooWeb aplikace: uživatel potřebuje toosign ve tooa webové aplikaci, která je zabezpečená službou Azure AD</span><span class="sxs-lookup"><span data-stu-id="098bc-623">Web Browser tooWeb Application: A user needs toosign in tooa web application that is secured by Azure AD</span></span></li><li><span data-ttu-id="098bc-624">Jediné stránce aplikace (SPA): Uživatel potřebuje toosign tooa jednostránkové aplikace, která je zabezpečená službou Azure AD</span><span class="sxs-lookup"><span data-stu-id="098bc-624">Single Page Application (SPA): A user needs toosign in tooa single page application that is secured by Azure AD</span></span></li><li><span data-ttu-id="098bc-625">Nativní aplikace tooWeb rozhraní API: nativní aplikaci spuštěnou v telefonu, tabletu nebo tooauthenticate musí počítač uživatele tooget prostředky z webového rozhraní API, která je zabezpečená službou Azure AD</span><span class="sxs-lookup"><span data-stu-id="098bc-625">Native Application tooWeb API: A native application that runs on a phone, tablet, or PC needs tooauthenticate a user tooget resources from a web API that is secured by Azure AD</span></span></li><li><span data-ttu-id="098bc-626">Webové rozhraní API aplikace tooWeb: webová aplikace musí tooget prostředky z webového rozhraní API, které jsou zabezpečené službou Azure AD</span><span class="sxs-lookup"><span data-stu-id="098bc-626">Web Application tooWeb API: A web application needs tooget resources from a web API secured by Azure AD</span></span></li><li><span data-ttu-id="098bc-627">Démon procesu nebo serverové aplikace tooWeb rozhraní API: démon aplikaci nebo serveru bez webového uživatelského rozhraní musí tooget prostředky z webového rozhraní API, které jsou zabezpečené službou Azure AD</span><span class="sxs-lookup"><span data-stu-id="098bc-627">Daemon or Server Application tooWeb API: A daemon application or a server application with no web user interface needs tooget resources from a web API secured by Azure AD</span></span></li></ul><p><span data-ttu-id="098bc-628">Podrobnosti implementace nízké úrovně naleznete toohello odkazy v části odkazy hello</span><span class="sxs-lookup"><span data-stu-id="098bc-628">Please refer toohello links in hello references section for low-level implementation details</span></span></p>|

## <span data-ttu-id="098bc-629"><a id="adal-scalable"></a>Přepsání hello výchozí ADAL mezipamětí tokenů škálovatelné alternativou</span><span class="sxs-lookup"><span data-stu-id="098bc-629"><a id="adal-scalable"></a>Override hello default ADAL token cache with a scalable alternative</span></span>

| <span data-ttu-id="098bc-630">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-630">Title</span></span>                   | <span data-ttu-id="098bc-631">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-631">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-632">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-632">**Component**</span></span>               | <span data-ttu-id="098bc-633">Azure AD</span><span class="sxs-lookup"><span data-stu-id="098bc-633">Azure AD</span></span> | 
| <span data-ttu-id="098bc-634">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-634">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-635">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-635">Build</span></span> |  
| <span data-ttu-id="098bc-636">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-636">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-637">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-637">Generic</span></span> |
| <span data-ttu-id="098bc-638">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-638">**Attributes**</span></span>              | <span data-ttu-id="098bc-639">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-639">N/A</span></span>  |
| <span data-ttu-id="098bc-640">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-640">**References**</span></span>              | <span data-ttu-id="098bc-641">[Moderní ověřování s Azure Active Directory pro webové aplikace](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/), [pomocí Redis jako ADAL mezipamětí tokenů](https://blogs.msdn.microsoft.com/mrochon/2016/09/19/using-redis-as-adal-token-cache/)</span><span class="sxs-lookup"><span data-stu-id="098bc-641">[Modern Authentication with Azure Active Directory for Web Applications](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/), [Using Redis as ADAL token cache](https://blogs.msdn.microsoft.com/mrochon/2016/09/19/using-redis-as-adal-token-cache/)</span></span>  |
| <span data-ttu-id="098bc-642">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-642">**Steps**</span></span> | <p><span data-ttu-id="098bc-643">Hello mezipaměť používá ADAL (Active Directory Authentication Library), je mezipaměti v paměti, které jsou závislé na statické úložiště, k dispozici úrovni procesu.</span><span class="sxs-lookup"><span data-stu-id="098bc-643">hello default cache that ADAL (Active Directory Authentication Library) uses is an in-memory cache that relies on a static store, available process-wide.</span></span> <span data-ttu-id="098bc-644">Když tato metoda funguje u nativních aplikací, není vhodné pro mid vrstvy a back-end aplikace hello následujících důvodů:</span><span class="sxs-lookup"><span data-stu-id="098bc-644">While this works for native applications, it does not scale for mid tier and backend applications for hello following reasons:</span></span></p><ul><li><span data-ttu-id="098bc-645">Tyto aplikace jsou dostupné přes mnoho uživatelů najednou.</span><span class="sxs-lookup"><span data-stu-id="098bc-645">These applications are accessed by many users at once.</span></span> <span data-ttu-id="098bc-646">Ukládání všech přístupových tokenů v hello stejné úložiště, vytvoří izolace problémů a představuje výzvy při fungování ve velkém měřítku: mnoho uživatelů, každý s tolik tokeny jako prostředky hello hello přistupuje aplikace jejich jménem, může znamenat velký čísla a velmi náročná vyhledávání operace</span><span class="sxs-lookup"><span data-stu-id="098bc-646">Saving all access tokens in hello same store creates isolation issues and presents challenges when operating at scale: many users, each with as many tokens as hello resources hello app accesses on their behalf, can mean huge numbers and very expensive lookup operations</span></span></li><li><span data-ttu-id="098bc-647">Tyto aplikace se obvykle nasazují na Distribuovaná topologie, kde více uzlů musí mít přístup toohello stejné mezipaměti</span><span class="sxs-lookup"><span data-stu-id="098bc-647">These applications are typically deployed on distributed topologies, where multiple nodes must have access toohello same cache</span></span></li><li><span data-ttu-id="098bc-648">V mezipaměti tokeny musí překonat proces recykluje a deaktivací</span><span class="sxs-lookup"><span data-stu-id="098bc-648">Cached tokens must survive process recycles and deactivations</span></span></li></ul><p><span data-ttu-id="098bc-649">Pro všechny hello výše důvodů při implementaci webové aplikace se doporučuje toooverride hello výchozí ADAL mezipamětí tokenů škálovatelné alternativou například Azure Redis cache.</span><span class="sxs-lookup"><span data-stu-id="098bc-649">For all hello above reasons, while implementing web apps, it is recommended toooverride hello default ADAL token cache with a scalable alternative such as Azure Redis cache.</span></span></p>|

## <span data-ttu-id="098bc-650"><a id="tokenreplaycache-adal"></a>Zajistěte, aby TokenReplayCache opětovného přehrání hello použité tooprevent tokenů ověřování ADAL</span><span class="sxs-lookup"><span data-stu-id="098bc-650"><a id="tokenreplaycache-adal"></a>Ensure that TokenReplayCache is used tooprevent hello replay of ADAL authentication tokens</span></span>

| <span data-ttu-id="098bc-651">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-651">Title</span></span>                   | <span data-ttu-id="098bc-652">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-652">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-653">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-653">**Component**</span></span>               | <span data-ttu-id="098bc-654">Azure AD</span><span class="sxs-lookup"><span data-stu-id="098bc-654">Azure AD</span></span> | 
| <span data-ttu-id="098bc-655">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-655">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-656">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-656">Build</span></span> |  
| <span data-ttu-id="098bc-657">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-657">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-658">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-658">Generic</span></span> |
| <span data-ttu-id="098bc-659">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-659">**Attributes**</span></span>              | <span data-ttu-id="098bc-660">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-660">N/A</span></span>  |
| <span data-ttu-id="098bc-661">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-661">**References**</span></span>              | [<span data-ttu-id="098bc-662">Moderní ověřování s Azure Active Directory pro webové aplikace</span><span class="sxs-lookup"><span data-stu-id="098bc-662">Modern Authentication with Azure Active Directory for Web Applications</span></span>](https://blogs.msdn.microsoft.com/microsoft_press/2016/01/04/new-book-modern-authentication-with-azure-active-directory-for-web-applications/) |
| <span data-ttu-id="098bc-663">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-663">**Steps**</span></span> | <p><span data-ttu-id="098bc-664">Vlastnost TokenReplayCache Hello umožňuje vývojářům toodefine mezipaměti opětovného přehrání tokenu, úložiště, které lze použít pro ukládání žádné token tokeny hello za účelem ověření, který lze použít více než jednou.</span><span class="sxs-lookup"><span data-stu-id="098bc-664">hello TokenReplayCache property allows developers toodefine a token replay cache, a store that can be used for saving tokens for hello purpose of verifying that no token can be used more than once.</span></span></p><p><span data-ttu-id="098bc-665">Toto je míra proti útoku běžné hello vhodně názvem opětovného přehrání tokenu útoku: útočník brání hello token odeslaný při přihlášení se může pokusit toosend ho znovu toohello aplikace ("" Přehrajte si jej znovu) pro vytvoření nové relace.</span><span class="sxs-lookup"><span data-stu-id="098bc-665">This is a measure against a common attack, hello aptly called token replay attack: an attacker intercepting hello token sent at sign-in might try toosend it toohello app again (“replay” it) for establishing a new session.</span></span> <span data-ttu-id="098bc-666">Například v OIDC kódu grant tok, po úspěšné ověření uživatele, žádost o příliš "/ signin-oidc" koncový bod hello předávající strany se provádí s "požadavku id_token", "kódu" a "stavu" parametry.</span><span class="sxs-lookup"><span data-stu-id="098bc-666">E.g., In OIDC code-grant flow, after successful user authentication, a request too"/signin-oidc" endpoint of hello relying party is made with "id_token", "code" and "state" parameters.</span></span></p><p><span data-ttu-id="098bc-667">Hello předávající strany ověří tento požadavek a vytvoří novou relaci.</span><span class="sxs-lookup"><span data-stu-id="098bc-667">hello relying party validates this request and establishes a new session.</span></span> <span data-ttu-id="098bc-668">Pokud nežádoucí osoba zaznamená tuto žádost a replays ho, si můžete vytvořit úspěšné relace a uživatel hello falešná identita.</span><span class="sxs-lookup"><span data-stu-id="098bc-668">If an adversary captures this request and replays it, he/she can establish a successful session and spoof hello user.</span></span> <span data-ttu-id="098bc-669">Hello přítomnost hodnotu nonce hello v OpenID Connect můžete omezit, ale není plně eliminovat hello případech, ve kterých hello útok úspěšně použity.</span><span class="sxs-lookup"><span data-stu-id="098bc-669">hello presence of hello nonce in OpenID Connect can limit but not fully eliminate hello circumstances in which hello attack can be successfully enacted.</span></span> <span data-ttu-id="098bc-670">tooprotect jejich vlastních aplikací, vývojáři můžete poskytnout implementaci ITokenReplayCache a přiřadit tooTokenReplayCache instance.</span><span class="sxs-lookup"><span data-stu-id="098bc-670">tooprotect their applications, developers can provide an implementation of ITokenReplayCache and assign an instance tooTokenReplayCache.</span></span></p>|

### <a name="example"></a><span data-ttu-id="098bc-671">Příklad</span><span class="sxs-lookup"><span data-stu-id="098bc-671">Example</span></span>
```C#
// ITokenReplayCache defined in ADAL
public interface ITokenReplayCache
{
bool TryAdd(string securityToken, DateTime expiresOn);
bool TryFind(string securityToken);
}
```

### <a name="example"></a><span data-ttu-id="098bc-672">Příklad</span><span class="sxs-lookup"><span data-stu-id="098bc-672">Example</span></span>
<span data-ttu-id="098bc-673">Zde je ukázka implementace rozhraní ITokenReplayCache hello.</span><span class="sxs-lookup"><span data-stu-id="098bc-673">Here is a sample implementation of hello ITokenReplayCache interface.</span></span> <span data-ttu-id="098bc-674">(Prosím přizpůsobit a implementovat vaše specifické pro projekt ukládání do mezipaměti framework)</span><span class="sxs-lookup"><span data-stu-id="098bc-674">(Please customize and implement your project-specific caching framework)</span></span>
```C#
public class TokenReplayCache : ITokenReplayCache
{
    private readonly ICacheProvider cache; // Your project-specific cache provider
    public TokenReplayCache(ICacheProvider cache)
    {
        this.cache = cache;
    }
    public bool TryAdd(string securityToken, DateTime expiresOn)
    {
        if (this.cache.Get<string>(securityToken) == null)
        {
            this.cache.Set(securityToken, securityToken);
            return true;
        }
        return false;
    }
    public bool TryFind(string securityToken)
    {
        return this.cache.Get<string>(securityToken) != null;
    }
}
```
<span data-ttu-id="098bc-675">mezipaměť Hello implementována má toobe odkazovaná v možnostech OIDC prostřednictvím hello "Parametry tokenvalidationparameters." vlastnost následujícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="098bc-675">hello implemented cache has toobe referenced in OIDC options via hello "TokenValidationParameters" property as follows.</span></span>
```C#
OpenIdConnectOptions openIdConnectOptions = new OpenIdConnectOptions
{
    AutomaticAuthenticate = true,
    ... // other configuration properties follow..
    TokenValidationParameters = new TokenValidationParameters
    {
        TokenReplayCache = new TokenReplayCache(/*Inject your cache provider*/);
    }
}
```

<span data-ttu-id="098bc-676">Prosím Všimněte si, že tootest hello efektivita této konfigurace přihlášení do místní OIDC chráněné aplikace a zachycení hello požadavku příliš`"/signin-oidc"` koncového bodu v aplikaci fiddler.</span><span class="sxs-lookup"><span data-stu-id="098bc-676">Please note that tootest hello effectiveness of this configuration, login into your local OIDC-protected application and capture hello request too`"/signin-oidc"` endpoint in fiddler.</span></span> <span data-ttu-id="098bc-677">Pokud hello ochrany není na místě, přehrání této žádosti v aplikaci fiddler nastaví nového souboru cookie relace.</span><span class="sxs-lookup"><span data-stu-id="098bc-677">When hello protection is not in place, replaying this request in fiddler will set a new session cookie.</span></span> <span data-ttu-id="098bc-678">Při požadavku hello je přehrány po přidání hello TokenReplayCache ochrany, aplikace hello vyvolá výjimku následujícím způsobem:`SecurityTokenReplayDetectedException: IDX10228: hello securityToken has previously been validated, securityToken: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ1......`</span><span class="sxs-lookup"><span data-stu-id="098bc-678">When hello request is replayed after hello TokenReplayCache protection is added, hello application will throw an exception as follows: `SecurityTokenReplayDetectedException: IDX10228: hello securityToken has previously been validated, securityToken: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ1......`</span></span>

## <span data-ttu-id="098bc-679"><a id="adal-oauth2"></a>Použití knihovny ADAL toomanage token požadavky od klientů tooAAD OAuth2 (nebo místní AD)</span><span class="sxs-lookup"><span data-stu-id="098bc-679"><a id="adal-oauth2"></a>Use ADAL libraries toomanage token requests from OAuth2 clients tooAAD (or on-premises AD)</span></span>

| <span data-ttu-id="098bc-680">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-680">Title</span></span>                   | <span data-ttu-id="098bc-681">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-681">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-682">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-682">**Component**</span></span>               | <span data-ttu-id="098bc-683">Azure AD</span><span class="sxs-lookup"><span data-stu-id="098bc-683">Azure AD</span></span> | 
| <span data-ttu-id="098bc-684">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-684">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-685">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-685">Build</span></span> |  
| <span data-ttu-id="098bc-686">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-686">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-687">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-687">Generic</span></span> |
| <span data-ttu-id="098bc-688">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-688">**Attributes**</span></span>              | <span data-ttu-id="098bc-689">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-689">N/A</span></span>  |
| <span data-ttu-id="098bc-690">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-690">**References**</span></span>              | [<span data-ttu-id="098bc-691">ADAL</span><span class="sxs-lookup"><span data-stu-id="098bc-691">ADAL</span></span>](https://azure.microsoft.com/documentation/articles/active-directory-authentication-libraries/) |
| <span data-ttu-id="098bc-692">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-692">**Steps**</span></span> | <p><span data-ttu-id="098bc-693">Hello Azure AD authentication Library (ADAL) umožňuje klienta aplikace vývojáři tooeasily ověření uživatelé toocloud nebo místní služby Active Directory (AD) a získat přístupové tokeny zabezpečení volání rozhraní API.</span><span class="sxs-lookup"><span data-stu-id="098bc-693">hello Azure AD authentication Library (ADAL) enables client application developers tooeasily authenticate users toocloud or on-premises Active Directory (AD), and then obtain access tokens for securing API calls.</span></span></p><p><span data-ttu-id="098bc-694">ADAL obsahuje mnoho funkcí, zkontrolujte ověření snazší pro vývojáře, jako je třeba asynchronní podpora, konfigurovat tokenu mezipaměti, která ukládá přístupové tokeny a obnovovacích tokenů, automatické aktualizace tokenu, když vyprší platnost přístupového tokenu a obnovovací token je k dispozici a další.</span><span class="sxs-lookup"><span data-stu-id="098bc-694">ADAL has many features that make authentication easier for developers, such as asynchronous support, a configurable token cache that stores access tokens and refresh tokens, automatic token refresh when an access token expires and a refresh token is available, and more.</span></span></p><p><span data-ttu-id="098bc-695">Zpracování většinu složitost hello, ADAL může pomoci vývojáře zaměřená na obchodní logiku ve svých aplikacích a snadno zabezpečení prostředků, aniž by musel být odborník na zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="098bc-695">By handling most of hello complexity, ADAL can help a developer focus on business logic in their application and easily secure resources without being an expert on security.</span></span> <span data-ttu-id="098bc-696">Samostatné knihovny jsou k dispozici pro rozhraní .NET, JavaScript (klient a Node.js), iOS, Android a Java.</span><span class="sxs-lookup"><span data-stu-id="098bc-696">Separate libraries are available for .NET, JavaScript (client and Node.js), iOS, Android and Java.</span></span></p>|

## <span data-ttu-id="098bc-697"><a id="authn-devices-field"></a>Ověření zařízení připojující se toohello brána pole</span><span class="sxs-lookup"><span data-stu-id="098bc-697"><a id="authn-devices-field"></a>Authenticate devices connecting toohello Field Gateway</span></span>

| <span data-ttu-id="098bc-698">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-698">Title</span></span>                   | <span data-ttu-id="098bc-699">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-699">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-700">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-700">**Component**</span></span>               | <span data-ttu-id="098bc-701">Brána pole IoT</span><span class="sxs-lookup"><span data-stu-id="098bc-701">IoT Field Gateway</span></span> | 
| <span data-ttu-id="098bc-702">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-702">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-703">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-703">Build</span></span> |  
| <span data-ttu-id="098bc-704">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-704">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-705">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-705">Generic</span></span> |
| <span data-ttu-id="098bc-706">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-706">**Attributes**</span></span>              | <span data-ttu-id="098bc-707">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-707">N/A</span></span>  |
| <span data-ttu-id="098bc-708">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-708">**References**</span></span>              | <span data-ttu-id="098bc-709">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-709">N/A</span></span>  |
| <span data-ttu-id="098bc-710">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-710">**Steps**</span></span> | <span data-ttu-id="098bc-711">Ujistěte se, že každé zařízení je ověřována hello brána pole před přijetím data z nich a před usnadnění nadřazeného komunikace s hello Cloudová brána.</span><span class="sxs-lookup"><span data-stu-id="098bc-711">Ensure that each device is authenticated by hello Field Gateway before accepting data from them and before facilitating upstream communications with hello Cloud Gateway.</span></span> <span data-ttu-id="098bc-712">Také se ujistěte, že zařízení připojit s na každé zařízení přihlašovacích údajů, aby jednotlivých zařízení je možné jednoznačně identifikovat.</span><span class="sxs-lookup"><span data-stu-id="098bc-712">Also, ensure that devices connect with a per device credential so that individual devices can be uniquely identified.</span></span>|

## <span data-ttu-id="098bc-713"><a id="authn-devices-cloud"></a>Ujistěte se, že se ověří zařízení připojující se tooCloud brány</span><span class="sxs-lookup"><span data-stu-id="098bc-713"><a id="authn-devices-cloud"></a>Ensure that devices connecting tooCloud gateway are authenticated</span></span>

| <span data-ttu-id="098bc-714">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-714">Title</span></span>                   | <span data-ttu-id="098bc-715">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-715">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-716">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-716">**Component**</span></span>               | <span data-ttu-id="098bc-717">Brána IoT cloudu</span><span class="sxs-lookup"><span data-stu-id="098bc-717">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="098bc-718">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-718">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-719">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-719">Build</span></span> |  
| <span data-ttu-id="098bc-720">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-720">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-721">Obecné, C#, Node.JS,</span><span class="sxs-lookup"><span data-stu-id="098bc-721">Generic, C#, Node.JS,</span></span>  |
| <span data-ttu-id="098bc-722">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-722">**Attributes**</span></span>              | <span data-ttu-id="098bc-723">Není k dispozici, brány volba - Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="098bc-723">N/A, Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="098bc-724">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-724">**References**</span></span>              | <span data-ttu-id="098bc-725">Není k dispozici, [Azure IoT hub pro rozhraní .NET](https://azure.microsoft.com/documentation/articles/iot-hub-csharp-csharp-getstarted/), [Začínáme se službou IoT hub wih a uzel JS](https://azure.microsoft.com/documentation/articles/iot-hub-node-node-getstarted), [zabezpečení IoT SAS a certifikáty](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/), [úložiště Git](https://github.com/Azure/azure-iot-sdks/tree/master/node)</span><span class="sxs-lookup"><span data-stu-id="098bc-725">N/A, [Azure IoT hub with .NET](https://azure.microsoft.com/documentation/articles/iot-hub-csharp-csharp-getstarted/), [Getting Started wih IoT hub and Node JS](https://azure.microsoft.com/documentation/articles/iot-hub-node-node-getstarted), [Securing IoT with SAS and certificates](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/), [Git repository](https://github.com/Azure/azure-iot-sdks/tree/master/node)</span></span> |
| <span data-ttu-id="098bc-726">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-726">**Steps**</span></span> | <ul><li><span data-ttu-id="098bc-727">**Obecné:** zařízení hello ověřit pomocí zabezpečení TLS (Transport Layer) nebo protokol IPSec.</span><span class="sxs-lookup"><span data-stu-id="098bc-727">**Generic:** Authenticate hello device using Transport Layer Security (TLS) or IPSec.</span></span> <span data-ttu-id="098bc-728">Infrastruktura by měla podporovat použití předsdílený klíč (PSK) na těchto zařízeních, které nelze zpracovat úplné asymetrické šifrování.</span><span class="sxs-lookup"><span data-stu-id="098bc-728">Infrastructure should support using pre-shared key (PSK) on those devices that cannot handle full asymmetric cryptography.</span></span> <span data-ttu-id="098bc-729">Využijte Azure AD, Oauth.</span><span class="sxs-lookup"><span data-stu-id="098bc-729">Leverage Azure AD, Oauth.</span></span></li><li><span data-ttu-id="098bc-730">**C#:** při vytváření DeviceClient instance, ve výchozím nastavení, hello vytvořit metoda vytvoří instanci DeviceClient používající toocommunicate protokol AMQP hello službou IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="098bc-730">**C#:** When creating a DeviceClient instance, by default, hello Create method creates a DeviceClient instance that uses hello AMQP protocol toocommunicate with IoT Hub.</span></span> <span data-ttu-id="098bc-731">toouse hello protokol HTTPS, použijte hello přepsání metody vytvořit hello, která vám umožní toospecify hello protokolu.</span><span class="sxs-lookup"><span data-stu-id="098bc-731">toouse hello HTTPS protocol, use hello override of hello Create method that enables you toospecify hello protocol.</span></span> <span data-ttu-id="098bc-732">Pokud používáte hello protokol HTTPS, měli byste také přidat hello `Microsoft.AspNet.WebApi.Client` NuGet balíček tooyour projektu tooinclude hello `System.Net.Http.Formatting` oboru názvů.</span><span class="sxs-lookup"><span data-stu-id="098bc-732">If you use hello HTTPS protocol, you should also add hello `Microsoft.AspNet.WebApi.Client` NuGet package tooyour project tooinclude hello `System.Net.Http.Formatting` namespace.</span></span></li></ul>|

### <a name="example"></a><span data-ttu-id="098bc-733">Příklad</span><span class="sxs-lookup"><span data-stu-id="098bc-733">Example</span></span>
```C#
static DeviceClient deviceClient;

static string deviceKey = "{device key}";
static string iotHubUri = "{iot hub hostname}";

var messageString = "{message in string format}";
var message = new Message(Encoding.ASCII.GetBytes(messageString));

deviceClient = DeviceClient.Create(iotHubUri, new DeviceAuthenticationWithRegistrySymmetricKey("myFirstDevice", deviceKey));

await deviceClient.SendEventAsync(message);
```

### <a name="example"></a><span data-ttu-id="098bc-734">Příklad</span><span class="sxs-lookup"><span data-stu-id="098bc-734">Example</span></span>
<span data-ttu-id="098bc-735">**Node.JS: ověřování**</span><span class="sxs-lookup"><span data-stu-id="098bc-735">**Node.JS: Authentication**</span></span>
#### <a name="symmetric-key"></a><span data-ttu-id="098bc-736">Symetrický klíč</span><span class="sxs-lookup"><span data-stu-id="098bc-736">Symmetric key</span></span>
* <span data-ttu-id="098bc-737">Vytvoření centra IoT v azure</span><span class="sxs-lookup"><span data-stu-id="098bc-737">Create a IoT hub on azure</span></span>
* <span data-ttu-id="098bc-738">Vytvořit položku v registru identit zařízení hello</span><span class="sxs-lookup"><span data-stu-id="098bc-738">Create an entry in hello device identity registry</span></span>
    ```javascript
    var device = new iothub.Device(null);
    device.deviceId = <DeviceId >
    registry.create(device, function(err, deviceInfo, res) {})
    ```
* <span data-ttu-id="098bc-739">Vytvoření simulovaného zařízení</span><span class="sxs-lookup"><span data-stu-id="098bc-739">Create a simulated device</span></span>
    ```javascript
    var clientFromConnectionString = require('azure-iot-device-amqp').clientFromConnectionString;
    var Message = require('azure-iot-device').Message;
    var connectionString = 'HostName=<HostName>DeviceId=<DeviceId>SharedAccessKey=<SharedAccessKey>';
    var client = clientFromConnectionString(connectionString);
    ```
#### <a name="sas-token"></a><span data-ttu-id="098bc-740">SAS Token</span><span class="sxs-lookup"><span data-stu-id="098bc-740">SAS Token</span></span>
* <span data-ttu-id="098bc-741">Získá generované interně při použití symetrický klíč, ale nemůžeme můžete vygenerovat a použít jej explicitně také</span><span class="sxs-lookup"><span data-stu-id="098bc-741">Gets internally generated when using symmetric key but we can generate and use it explicitly as well</span></span>
* <span data-ttu-id="098bc-742">Definujte protokol:`var Http = require('azure-iot-device-http').Http;`</span><span class="sxs-lookup"><span data-stu-id="098bc-742">Define a protocol : `var Http = require('azure-iot-device-http').Http;`</span></span>
* <span data-ttu-id="098bc-743">Vytvořte sas token:</span><span class="sxs-lookup"><span data-stu-id="098bc-743">Create a sas token :</span></span>
    ```javascript
    resourceUri = encodeURIComponent(resourceUri.toLowerCase()).toLowerCase();
    var deviceName = "<deviceName >";
    var expires = (Date.now() / 1000) + expiresInMins * 60;
    var toSign = resourceUri + '\n' + expires;
    // using crypto
    var decodedPassword = new Buffer(signingKey, 'base64').toString('binary');
    const hmac = crypto.createHmac('sha256', decodedPassword);
    hmac.update(toSign);
    var base64signature = hmac.digest('base64');
    var base64UriEncoded = encodeURIComponent(base64signature);
    // construct authorization string
    var token = "SharedAccessSignature sr=" + resourceUri + "%2fdevices%2f"+deviceName+"&sig="
    + base64UriEncoded + "&se=" + expires;
    if (policyName) token += "&skn="+policyName;
    return token;
    ```
* <span data-ttu-id="098bc-744">Připojte pomocí tokenu sas:</span><span class="sxs-lookup"><span data-stu-id="098bc-744">Connect using sas token:</span></span> 
    ```javascript
    Client.fromSharedAccessSignature(sas, Http); 
    ```
#### <a name="certificates"></a><span data-ttu-id="098bc-745">Certifikáty</span><span class="sxs-lookup"><span data-stu-id="098bc-745">Certificates</span></span>
* <span data-ttu-id="098bc-746">Generovat vlastní podepsané X509 certifikát pomocí kteréhokoli nástroj například OpenSSL toogenerate .cert a s příponou Key soubory toostore hello certifikát a hello klíč v uvedeném pořadí</span><span class="sxs-lookup"><span data-stu-id="098bc-746">Generate a self signed X509 certificate using any tool such as OpenSSL toogenerate a .cert and .key files toostore hello certificate and hello key respectively</span></span>
* <span data-ttu-id="098bc-747">Zřídit zařízení, které přijímá zabezpečené připojení pomocí certifikátů.</span><span class="sxs-lookup"><span data-stu-id="098bc-747">Provision a device that accepts secured connection using certificates.</span></span>
    ```javascript
    var connectionString = '<connectionString>';
    var registry = iothub.Registry.fromConnectionString(connectionString);
    var deviceJSON = {deviceId:"<deviceId>",
    authentication: {
        x509Thumbprint: {
        primaryThumbprint: "<PrimaryThumbprint>",
        secondaryThumbprint: "<SecondaryThumbprint>"
        }
    }}
    var device = deviceJSON;
    registry.create(device, function (err) {});
    ```
* <span data-ttu-id="098bc-748">Připojení zařízení pomocí certifikátu</span><span class="sxs-lookup"><span data-stu-id="098bc-748">Connect a device using a certificate</span></span>
    ```javascript
    var Protocol = require('azure-iot-device-http').Http;
    var Client = require('azure-iot-device').Client;
    var connectionString = 'HostName=<HostName>DeviceId=<DeviceId>x509=true';
    var client = Client.fromConnectionString(connectionString, Protocol);
    var options = {
        key: fs.readFileSync('./key.pem', 'utf8'),
        cert: fs.readFileSync('./server.crt', 'utf8')
    }; 
    // Calling setOptions with hello x509 certificate and key (and optionally, passphrase) will configure hello client //transport toouse x509 when connecting tooIoT Hub
    client.setOptions(options);
    //call fn tooexecute after hello connection is set up
    client.open(fn);
    ```

## <span data-ttu-id="098bc-749"><a id="authn-cred"></a>Použít pověření ověřování podle zařízení</span><span class="sxs-lookup"><span data-stu-id="098bc-749"><a id="authn-cred"></a>Use per-device authentication credentials</span></span>

| <span data-ttu-id="098bc-750">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-750">Title</span></span>                   | <span data-ttu-id="098bc-751">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-751">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-752">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-752">**Component**</span></span>               | <span data-ttu-id="098bc-753">Brána IoT cloudu</span><span class="sxs-lookup"><span data-stu-id="098bc-753">IoT Cloud Gateway</span></span>  | 
| <span data-ttu-id="098bc-754">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-754">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-755">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-755">Build</span></span> |  
| <span data-ttu-id="098bc-756">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-756">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-757">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-757">Generic</span></span> |
| <span data-ttu-id="098bc-758">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-758">**Attributes**</span></span>              | <span data-ttu-id="098bc-759">Volba brány - Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="098bc-759">Gateway choice - Azure IoT Hub</span></span> |
| <span data-ttu-id="098bc-760">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-760">**References**</span></span>              | [<span data-ttu-id="098bc-761">Tokeny zabezpečení Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="098bc-761">Azure IoT Hub Security Tokens</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-sas-tokens/) |
| <span data-ttu-id="098bc-762">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-762">**Steps**</span></span> | <span data-ttu-id="098bc-763">Použití za použití tokeny SaS pověření ověřování zařízení na základě klíč zařízení nebo klientský certifikát, místo IoT Hub úrovni sdílených zásad přístupu.</span><span class="sxs-lookup"><span data-stu-id="098bc-763">Use per device authentication credentials using SaS tokens based on Device key or Client Certificate, instead of IoT Hub-level shared access policies.</span></span> <span data-ttu-id="098bc-764">Zabrání se tak opakované použití hello ověřování tokenů jednoho zařízení nebo pole brány jiným</span><span class="sxs-lookup"><span data-stu-id="098bc-764">This prevents hello reuse of authentication tokens of one device or field gateway by another</span></span> |

## <span data-ttu-id="098bc-765"><a id="req-containers-anon"></a>Ujistěte se, že tento pouze hello požadované kontejnery a objekty BLOB jsou uvedeny anonymní přístup pro čtení</span><span class="sxs-lookup"><span data-stu-id="098bc-765"><a id="req-containers-anon"></a>Ensure that only hello required containers and blobs are given anonymous read access</span></span>

| <span data-ttu-id="098bc-766">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-766">Title</span></span>                   | <span data-ttu-id="098bc-767">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-767">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-768">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-768">**Component**</span></span>               | <span data-ttu-id="098bc-769">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="098bc-769">Azure Storage</span></span> | 
| <span data-ttu-id="098bc-770">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-770">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-771">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-771">Build</span></span> |  
| <span data-ttu-id="098bc-772">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-772">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-773">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-773">Generic</span></span> |
| <span data-ttu-id="098bc-774">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-774">**Attributes**</span></span>              | <span data-ttu-id="098bc-775">StorageType – objekt Blob</span><span class="sxs-lookup"><span data-stu-id="098bc-775">StorageType - Blob</span></span> |
| <span data-ttu-id="098bc-776">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-776">**References**</span></span>              | <span data-ttu-id="098bc-777">[Správa toocontainers anonymní přístup pro čtení a objekty BLOB](https://azure.microsoft.com/documentation/articles/storage-manage-access-to-resources/), [sdílené přístupové podpisy, část 1: vysvětlení modelu SAS hello](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/)</span><span class="sxs-lookup"><span data-stu-id="098bc-777">[Manage anonymous read access toocontainers and blobs](https://azure.microsoft.com/documentation/articles/storage-manage-access-to-resources/), [Shared Access Signatures, Part 1: Understanding hello SAS model](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/)</span></span> |
| <span data-ttu-id="098bc-778">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-778">**Steps**</span></span> | <p><span data-ttu-id="098bc-779">Ve výchozím nastavení kontejner a všechny objekty BLOB v něm může být přístupné pouze vlastník hello hello účtu úložiště.</span><span class="sxs-lookup"><span data-stu-id="098bc-779">By default, a container and any blobs within it may be accessed only by hello owner of hello storage account.</span></span> <span data-ttu-id="098bc-780">toogive anonymní uživatelé oprávnění ke čtení tooa kontejner a jeho objekty BLOB, jeden můžete nastavit hello kontejneru oprávnění tooallow veřejný přístup.</span><span class="sxs-lookup"><span data-stu-id="098bc-780">toogive anonymous users read permissions tooa container and its blobs, one can set hello container permissions tooallow public access.</span></span> <span data-ttu-id="098bc-781">Anonymní uživatelé mohou číst objekty BLOB do kontejneru, veřejně přístupný bez ověřování hello požadavku.</span><span class="sxs-lookup"><span data-stu-id="098bc-781">Anonymous users can read blobs within a publicly accessible container without authenticating hello request.</span></span></p><p><span data-ttu-id="098bc-782">Kontejnery poskytují následující možnosti pro správu přístupu kontejneru hello:</span><span class="sxs-lookup"><span data-stu-id="098bc-782">Containers provide hello following options for managing container access:</span></span></p><ul><li><span data-ttu-id="098bc-783">Úplný veřejný přístup pro čtení: přes anonymní dotazy můžete číst data kontejnerů a objektů blob.</span><span class="sxs-lookup"><span data-stu-id="098bc-783">Full public read access: Container and blob data can be read via anonymous request.</span></span> <span data-ttu-id="098bc-784">Klienti, můžete vytvořit výčet objektů BLOB v kontejneru hello přes anonymní žádost, ale nemůže vytvořit výčet kontejnery v rámci účtu úložiště hello.</span><span class="sxs-lookup"><span data-stu-id="098bc-784">Clients can enumerate blobs within hello container via anonymous request, but cannot enumerate containers within hello storage account.</span></span></li><li><span data-ttu-id="098bc-785">Veřejný přístup pro objekty BLOB pouze pro čtení: data objektu Blob v tomto kontejneru mohou číst přes anonymní žádost, ale kontejneru data nejsou k dispozici.</span><span class="sxs-lookup"><span data-stu-id="098bc-785">Public read access for blobs only: Blob data within this container can be read via anonymous request, but container data is not available.</span></span> <span data-ttu-id="098bc-786">Klienty nelze vytvořit výčet objektů BLOB v kontejneru hello přes anonymní dotazy</span><span class="sxs-lookup"><span data-stu-id="098bc-786">Clients cannot enumerate blobs within hello container via anonymous request</span></span></li><li><span data-ttu-id="098bc-787">Žádný veřejný přístup pro čtení: kontejnerů a objektů blob dat může číst pouze vlastníka účtu hello</span><span class="sxs-lookup"><span data-stu-id="098bc-787">No public read access: Container and blob data can be read by hello account owner only</span></span></li></ul><p><span data-ttu-id="098bc-788">Anonymní přístup je nejvhodnější pro scénáře, kde některé objekty BLOB musí být vždy k dispozici pro anonymní přístup pro čtení.</span><span class="sxs-lookup"><span data-stu-id="098bc-788">Anonymous access is best for scenarios where certain blobs should always be available for anonymous read access.</span></span> <span data-ttu-id="098bc-789">Pro řízení citlivější jeden můžete vytvořit sdílený přístupový podpis, který umožňuje toodelegate omezený přístup pomocí různých oprávnění a v zadaném časovém intervalu.</span><span class="sxs-lookup"><span data-stu-id="098bc-789">For finer-grained control, one can create a shared access signature, which enables toodelegate restricted access using different permissions and over a specified time interval.</span></span> <span data-ttu-id="098bc-790">Zajištění, aby kontejnery a objekty BLOB, které mohou obsahovat potenciálně citlivá data, nejsou anonymní přístup omylem</span><span class="sxs-lookup"><span data-stu-id="098bc-790">Ensure that containers and blobs, which may potentially contain sensitive data, are not given anonymous access accidentally</span></span></p>|

## <span data-ttu-id="098bc-791"><a id="limited-access-sas"></a>Udělit omezený přístup tooobjects v úložišti Azure pomocí SAS nebo SAP</span><span class="sxs-lookup"><span data-stu-id="098bc-791"><a id="limited-access-sas"></a>Grant limited access tooobjects in Azure storage using SAS or SAP</span></span>

| <span data-ttu-id="098bc-792">Název</span><span class="sxs-lookup"><span data-stu-id="098bc-792">Title</span></span>                   | <span data-ttu-id="098bc-793">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="098bc-793">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="098bc-794">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="098bc-794">**Component**</span></span>               | <span data-ttu-id="098bc-795">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="098bc-795">Azure Storage</span></span> | 
| <span data-ttu-id="098bc-796">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="098bc-796">**SDL Phase**</span></span>               | <span data-ttu-id="098bc-797">Sestavení</span><span class="sxs-lookup"><span data-stu-id="098bc-797">Build</span></span> |  
| <span data-ttu-id="098bc-798">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="098bc-798">**Applicable Technologies**</span></span> | <span data-ttu-id="098bc-799">Obecné</span><span class="sxs-lookup"><span data-stu-id="098bc-799">Generic</span></span> |
| <span data-ttu-id="098bc-800">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="098bc-800">**Attributes**</span></span>              | <span data-ttu-id="098bc-801">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="098bc-801">N/A</span></span> |
| <span data-ttu-id="098bc-802">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="098bc-802">**References**</span></span>              | <span data-ttu-id="098bc-803">[Sdílené přístupové podpisy, část 1: Pochopení hello SAS modelu](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/), [sdílené přístupové podpisy, část 2: vytvoření a použití SAS s úložištěm Blob](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-2/), [přístupu tooobjects v účtu pomocí toodelegate Sdílené přístupové podpisy uložené zásady a přístupu](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies)</span><span class="sxs-lookup"><span data-stu-id="098bc-803">[Shared Access Signatures, Part 1: Understanding hello SAS model](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-1/), [Shared Access Signatures, Part 2: Create and use a SAS with Blob storage](https://azure.microsoft.com/documentation/articles/storage-dotnet-shared-access-signature-part-2/), [How toodelegate access tooobjects in your account using Shared Access Signatures and Stored Access Policies](https://azure.microsoft.com/documentation/articles/storage-security-guide/#_how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies)</span></span> |
| <span data-ttu-id="098bc-804">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="098bc-804">**Steps**</span></span> | <p><span data-ttu-id="098bc-805">Použití sdíleného přístupového podpisu (SAS) je efektivní způsob toogrant omezený přístup tooobjects v úložiště účet tooother klienty, bez nutnosti přístupový klíč účtu tooexpose.</span><span class="sxs-lookup"><span data-stu-id="098bc-805">Using a shared access signature (SAS) is a powerful way toogrant limited access tooobjects in a storage account tooother clients, without having tooexpose account access key.</span></span> <span data-ttu-id="098bc-806">Hello SAS je identifikátor URI, který zahrnuje v jeho parametry dotazu všechny hello informace potřebné pro ověřený přístup k prostředku úložiště tooa.</span><span class="sxs-lookup"><span data-stu-id="098bc-806">hello SAS is a URI that encompasses in its query parameters all of hello information necessary for authenticated access tooa storage resource.</span></span> <span data-ttu-id="098bc-807">tooaccess prostředky úložiště s hello SAS, hello klienta stačí toopass v odpovídající konstruktor toohello hello SAS nebo metoda.</span><span class="sxs-lookup"><span data-stu-id="098bc-807">tooaccess storage resources with hello SAS, hello client only needs toopass in hello SAS toohello appropriate constructor or method.</span></span></p><p><span data-ttu-id="098bc-808">SAS můžete použít, pokud chcete přístup tooresources tooprovide v vašeho klienta tooa účet úložiště, která nemůže být považován za důvěryhodný hello klíč účtu.</span><span class="sxs-lookup"><span data-stu-id="098bc-808">You can use a SAS when you want tooprovide access tooresources in your storage account tooa client that can't be trusted with hello account key.</span></span> <span data-ttu-id="098bc-809">Klíče účtu úložiště zahrnují jak primární a sekundární klíč, které obě udělit přístup pro správu tooyour účet a všechny hello prostředky v ní.</span><span class="sxs-lookup"><span data-stu-id="098bc-809">Your storage account keys include both a primary and secondary key, both of which grant administrative access tooyour account and all of hello resources in it.</span></span> <span data-ttu-id="098bc-810">Vystavení buď klíče účtu otevře toohello možnost škodlivý nebo nedbalosti použití vašeho účtu.</span><span class="sxs-lookup"><span data-stu-id="098bc-810">Exposing either of your account keys opens your account toohello possibility of malicious or negligent use.</span></span> <span data-ttu-id="098bc-811">Sdílené přístupové podpisy zadejte alternativní bezpečné, který umožňuje ostatní klienty tooread, zápisu a odstranění dat ve vašem účtu úložiště podle toohello oprávnění, která jste udělena a bez nutnosti hello klíč účtu.</span><span class="sxs-lookup"><span data-stu-id="098bc-811">Shared access signatures provide a safe alternative that allows other clients tooread, write, and delete data in your storage account according toohello permissions you've granted, and without need for hello account key.</span></span></p><p><span data-ttu-id="098bc-812">Pokud máte logickou sadu parametrů, které jsou podobné pokaždé, když, použití uložené přístup zásad (SAP) je lepší představu.</span><span class="sxs-lookup"><span data-stu-id="098bc-812">If you have a logical set of parameters that are similar each time, using a Stored Access Policy (SAP) is a better idea.</span></span> <span data-ttu-id="098bc-813">Protože pomocí SAS odvozené od zásadu uložené přístupu vám dává toorevoke hello možnost, že SAS okamžitě, je, že hello doporučuje nejlepší postup tooalways používají uložené Pokud je to možné zásady přístupu.</span><span class="sxs-lookup"><span data-stu-id="098bc-813">Because using a SAS derived from a Stored Access Policy gives you hello ability toorevoke that SAS immediately, it is hello recommended best practice tooalways use Stored Access Policies when possible.</span></span></p>|
