---
title: "aaaAuditing a protokolování - Microsoft Threat modelování nástroj – Azure | Microsoft Docs"
description: "způsoby zmírnění hrozeb v hello nástroj modelování hrozeb"
services: security
documentationcenter: na
author: RodSan
manager: RodSan
editor: RodSan
ms.assetid: na
ms.service: security
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/17/2017
ms.author: rodsan
ms.openlocfilehash: f28988833eba251b6ceb8bbd47cde37e871af609
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="security-frame-auditing-and-logging--mitigations"></a><span data-ttu-id="cff38-103">Zabezpečení rámce: Auditování a protokolování | Způsoby zmírnění rizik</span><span class="sxs-lookup"><span data-stu-id="cff38-103">Security Frame: Auditing and Logging | Mitigations</span></span> 
| <span data-ttu-id="cff38-104">Produktům a službám</span><span class="sxs-lookup"><span data-stu-id="cff38-104">Product/Service</span></span> | <span data-ttu-id="cff38-105">Článek</span><span class="sxs-lookup"><span data-stu-id="cff38-105">Article</span></span> |
| --------------- | ------- |
| <span data-ttu-id="cff38-106">**Dynamics CRM**</span><span class="sxs-lookup"><span data-stu-id="cff38-106">**Dynamics CRM**</span></span>    | <ul><li>[<span data-ttu-id="cff38-107">Identifikovat citlivé entity ve vašem řešení a implementovat auditování změn</span><span class="sxs-lookup"><span data-stu-id="cff38-107">Identify sensitive entities in your solution and implement change auditing</span></span>](#sensitive-entities)</li></ul> |
| <span data-ttu-id="cff38-108">**Webové aplikace**</span><span class="sxs-lookup"><span data-stu-id="cff38-108">**Web Application**</span></span> | <ul><li>[<span data-ttu-id="cff38-109">Ujistěte se, že se vynucuje auditování a protokolování u aplikace hello</span><span class="sxs-lookup"><span data-stu-id="cff38-109">Ensure that auditing and logging is enforced on hello application</span></span>](#auditing)</li><li>[<span data-ttu-id="cff38-110">Zkontrolujte, zda jsou na místě oběh protokolu a oddělení</span><span class="sxs-lookup"><span data-stu-id="cff38-110">Ensure that log rotation and separation are in place</span></span>](#log-rotation)</li><li>[<span data-ttu-id="cff38-111">Ujistěte se, aplikace hello není přihlašujete citlivá uživatelská data</span><span class="sxs-lookup"><span data-stu-id="cff38-111">Ensure that hello application does not log sensitive user data</span></span>](#log-sensitive-data)</li><li>[<span data-ttu-id="cff38-112">Ujistěte se, že auditu a soubory protokolů mají omezený přístup</span><span class="sxs-lookup"><span data-stu-id="cff38-112">Ensure that Audit and Log Files have Restricted Access</span></span>](#log-restricted-access)</li><li>[<span data-ttu-id="cff38-113">Ujistěte se, že jsou zaznamenány události správy uživatelů</span><span class="sxs-lookup"><span data-stu-id="cff38-113">Ensure that User Management Events are Logged</span></span>](#user-management)</li><li>[<span data-ttu-id="cff38-114">Zkontrolujte, zda text hello systému integrované obranu proti zneužití</span><span class="sxs-lookup"><span data-stu-id="cff38-114">Ensure that hello system has inbuilt defenses against misuse</span></span>](#inbuilt-defenses)</li><li>[<span data-ttu-id="cff38-115">Povolit protokolování diagnostiky pro webové aplikace v Azure App Service</span><span class="sxs-lookup"><span data-stu-id="cff38-115">Enable diagnostics logging for web apps in Azure App Service</span></span>](#diagnostics-logging)</li></ul> |
| <span data-ttu-id="cff38-116">**Database**</span><span class="sxs-lookup"><span data-stu-id="cff38-116">**Database**</span></span> | <ul><li>[<span data-ttu-id="cff38-117">Ujistěte se, že přihlášení auditování je povolena v systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="cff38-117">Ensure that login auditing is enabled on SQL Server</span></span>](#identify-sensitive-entities)</li><li>[<span data-ttu-id="cff38-118">Povolení detekce hrozeb v Azure SQL</span><span class="sxs-lookup"><span data-stu-id="cff38-118">Enable Threat detection on Azure SQL</span></span>](#threat-detection)</li></ul> |
| <span data-ttu-id="cff38-119">**Azure Storage**</span><span class="sxs-lookup"><span data-stu-id="cff38-119">**Azure Storage**</span></span> | <ul><li>[<span data-ttu-id="cff38-120">Použití Azure Storage Analytics tooaudit přístupu Azure Storage</span><span class="sxs-lookup"><span data-stu-id="cff38-120">Use Azure Storage Analytics tooaudit access of Azure Storage</span></span>](#analytics)</li></ul> |
| <span data-ttu-id="cff38-121">**WCF**</span><span class="sxs-lookup"><span data-stu-id="cff38-121">**WCF**</span></span> | <ul><li>[<span data-ttu-id="cff38-122">Implementace dostatečná protokolování</span><span class="sxs-lookup"><span data-stu-id="cff38-122">Implement sufficient Logging</span></span>](#sufficient-logging)</li><li>[<span data-ttu-id="cff38-123">Implementace dostatečná auditu selhání zpracování</span><span class="sxs-lookup"><span data-stu-id="cff38-123">Implement sufficient Audit Failure Handling</span></span>](#audit-failure-handling)</li></ul> |
| <span data-ttu-id="cff38-124">**Webové rozhraní API**</span><span class="sxs-lookup"><span data-stu-id="cff38-124">**Web API**</span></span> | <ul><li>[<span data-ttu-id="cff38-125">Ujistěte se, že se vynucuje auditování a protokolování u webového rozhraní API</span><span class="sxs-lookup"><span data-stu-id="cff38-125">Ensure that auditing and logging is enforced on Web API</span></span>](#logging-web-api)</li></ul> |
| <span data-ttu-id="cff38-126">**Brána pole IoT**</span><span class="sxs-lookup"><span data-stu-id="cff38-126">**IoT Field Gateway**</span></span> | <ul><li>[<span data-ttu-id="cff38-127">Ujistěte se, že odpovídající auditování a protokolování se vynucuje u brána pole</span><span class="sxs-lookup"><span data-stu-id="cff38-127">Ensure that appropriate auditing and logging is enforced on Field Gateway</span></span>](#logging-field-gateway)</li></ul> |
| <span data-ttu-id="cff38-128">**Brána IoT cloudu**</span><span class="sxs-lookup"><span data-stu-id="cff38-128">**IoT Cloud Gateway**</span></span> | <ul><li>[<span data-ttu-id="cff38-129">Ujistěte se, že odpovídající auditování a protokolování se vynucuje u brány cloudu</span><span class="sxs-lookup"><span data-stu-id="cff38-129">Ensure that appropriate auditing and logging is enforced on Cloud Gateway</span></span>](#logging-cloud-gateway)</li></ul> |

## <span data-ttu-id="cff38-130"><a id="sensitive-entities"></a>Identifikovat citlivé entity ve vašem řešení a implementovat auditování změn</span><span class="sxs-lookup"><span data-stu-id="cff38-130"><a id="sensitive-entities"></a>Identify sensitive entities in your solution and implement change auditing</span></span>

| <span data-ttu-id="cff38-131">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-131">Title</span></span>                   | <span data-ttu-id="cff38-132">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-132">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-133">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-133">**Component**</span></span>               | <span data-ttu-id="cff38-134">Dynamics CRM</span><span class="sxs-lookup"><span data-stu-id="cff38-134">Dynamics CRM</span></span> | 
| <span data-ttu-id="cff38-135">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-135">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-136">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-136">Build</span></span> |  
| <span data-ttu-id="cff38-137">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-137">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-138">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-138">Generic</span></span> |
| <span data-ttu-id="cff38-139">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-139">**Attributes**</span></span>              | <span data-ttu-id="cff38-140">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-140">N/A</span></span>  |
| <span data-ttu-id="cff38-141">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-141">**References**</span></span>              | <span data-ttu-id="cff38-142">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-142">N/A</span></span>  |
| <span data-ttu-id="cff38-143">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-143">**Steps**</span></span>                   | <span data-ttu-id="cff38-144">Určit entity ve vašem řešení obsahující citlivá data a implementovat auditování změn v těchto entit a polí</span><span class="sxs-lookup"><span data-stu-id="cff38-144">Identify entities in your solution containing sensitive data and implement change auditing on those entities and fields</span></span> |

## <span data-ttu-id="cff38-145"><a id="auditing"></a>Ujistěte se, že se vynucuje auditování a protokolování u aplikace hello</span><span class="sxs-lookup"><span data-stu-id="cff38-145"><a id="auditing"></a>Ensure that auditing and logging is enforced on hello application</span></span>

| <span data-ttu-id="cff38-146">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-146">Title</span></span>                   | <span data-ttu-id="cff38-147">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-147">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-148">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-148">**Component**</span></span>               | <span data-ttu-id="cff38-149">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="cff38-149">Web Application</span></span> | 
| <span data-ttu-id="cff38-150">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-150">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-151">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-151">Build</span></span> |  
| <span data-ttu-id="cff38-152">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-152">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-153">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-153">Generic</span></span> |
| <span data-ttu-id="cff38-154">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-154">**Attributes**</span></span>              | <span data-ttu-id="cff38-155">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-155">N/A</span></span>  |
| <span data-ttu-id="cff38-156">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-156">**References**</span></span>              | <span data-ttu-id="cff38-157">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-157">N/A</span></span>  |
| <span data-ttu-id="cff38-158">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-158">**Steps**</span></span>                   | <span data-ttu-id="cff38-159">Povolte auditování a protokolování na všechny součásti.</span><span class="sxs-lookup"><span data-stu-id="cff38-159">Enable auditing and logging on all components.</span></span> <span data-ttu-id="cff38-160">Protokoly auditu měli zaznamenat kontextu uživatele.</span><span class="sxs-lookup"><span data-stu-id="cff38-160">Audit logs should capture user context.</span></span> <span data-ttu-id="cff38-161">Identifikujte všechny důležité události a zaznamenat tyto události do protokolu.</span><span class="sxs-lookup"><span data-stu-id="cff38-161">Identify all important events and log those events.</span></span> <span data-ttu-id="cff38-162">Implementace centralizované protokolování</span><span class="sxs-lookup"><span data-stu-id="cff38-162">Implement centralized logging</span></span> |

## <span data-ttu-id="cff38-163"><a id="log-rotation"></a>Zkontrolujte, zda jsou na místě oběh protokolu a oddělení</span><span class="sxs-lookup"><span data-stu-id="cff38-163"><a id="log-rotation"></a>Ensure that log rotation and separation are in place</span></span>

| <span data-ttu-id="cff38-164">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-164">Title</span></span>                   | <span data-ttu-id="cff38-165">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-165">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-166">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-166">**Component**</span></span>               | <span data-ttu-id="cff38-167">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="cff38-167">Web Application</span></span> | 
| <span data-ttu-id="cff38-168">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-168">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-169">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-169">Build</span></span> |  
| <span data-ttu-id="cff38-170">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-170">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-171">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-171">Generic</span></span> |
| <span data-ttu-id="cff38-172">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-172">**Attributes**</span></span>              | <span data-ttu-id="cff38-173">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-173">N/A</span></span>  |
| <span data-ttu-id="cff38-174">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-174">**References**</span></span>              | <span data-ttu-id="cff38-175">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-175">N/A</span></span>  |
| <span data-ttu-id="cff38-176">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-176">**Steps**</span></span>                   | <p><span data-ttu-id="cff38-177">Oběh protokolu se používá v systému správy, ve kterém datem protokolu soubory jsou archivovány automatizovaný proces.</span><span class="sxs-lookup"><span data-stu-id="cff38-177">Log rotation is an automated process used in system administration in which dated log files are archived.</span></span> <span data-ttu-id="cff38-178">Servery, které používají velké aplikace často protokolovat každou žádost: hello stěně objemné protokoly, je oběh protokolu způsob toolimit hello celková velikost protokolů hello zároveň umožňuje analýzu poslední události.</span><span class="sxs-lookup"><span data-stu-id="cff38-178">Servers which run large applications often log every request: in hello face of bulky logs, log rotation is a way toolimit hello total size of hello logs while still allowing analysis of recent events.</span></span> </p><p><span data-ttu-id="cff38-179">Oddělení protokolu v podstatě znamená, že budete mít toostore útokům vaše soubory protokolu na jiný oddíl jako kde operačního systému nebo aplikace běží v pořadí tooavert odmítnutí služby nebo hello přechod na starší verzi aplikace jeho výkon</span><span class="sxs-lookup"><span data-stu-id="cff38-179">Log separation basically means that you have toostore your log files on a different partition as where your OS/application is running on in order tooavert a Denial of service attack or hello downgrading of your application its performance</span></span></p>|

## <span data-ttu-id="cff38-180"><a id="log-sensitive-data"></a>Ujistěte se, aplikace hello není přihlašujete citlivá uživatelská data</span><span class="sxs-lookup"><span data-stu-id="cff38-180"><a id="log-sensitive-data"></a>Ensure that hello application does not log sensitive user data</span></span>

| <span data-ttu-id="cff38-181">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-181">Title</span></span>                   | <span data-ttu-id="cff38-182">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-182">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-183">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-183">**Component**</span></span>               | <span data-ttu-id="cff38-184">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="cff38-184">Web Application</span></span> | 
| <span data-ttu-id="cff38-185">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-185">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-186">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-186">Build</span></span> |  
| <span data-ttu-id="cff38-187">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-187">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-188">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-188">Generic</span></span> |
| <span data-ttu-id="cff38-189">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-189">**Attributes**</span></span>              | <span data-ttu-id="cff38-190">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-190">N/A</span></span>  |
| <span data-ttu-id="cff38-191">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-191">**References**</span></span>              | <span data-ttu-id="cff38-192">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-192">N/A</span></span>  |
| <span data-ttu-id="cff38-193">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-193">**Steps**</span></span>                   | <p><span data-ttu-id="cff38-194">Kontrola protokolu citlivé údaje, aby uživatel odešle tooyour lokality.</span><span class="sxs-lookup"><span data-stu-id="cff38-194">Check that you do not log any sensitive data that a user submits tooyour site.</span></span> <span data-ttu-id="cff38-195">Kontrola úmyslné protokolování, jakož i vedlejší účinky, které jsou způsobeny problémy návrhu.</span><span class="sxs-lookup"><span data-stu-id="cff38-195">Check for intentional logging as well as side effects caused by design issues.</span></span> <span data-ttu-id="cff38-196">Příklady citlivých dat:</span><span class="sxs-lookup"><span data-stu-id="cff38-196">Examples of sensitive data include:</span></span></p><ul><li><span data-ttu-id="cff38-197">Přihlašovací údaje uživatele</span><span class="sxs-lookup"><span data-stu-id="cff38-197">User Credentials</span></span></li><li><span data-ttu-id="cff38-198">Číslo sociálního pojištění nebo jiné identifikační údaje</span><span class="sxs-lookup"><span data-stu-id="cff38-198">Social Security number or other identifying information</span></span></li><li><span data-ttu-id="cff38-199">Čísla platebních karet nebo jiné finanční informace</span><span class="sxs-lookup"><span data-stu-id="cff38-199">Credit card numbers or other financial information</span></span></li><li><span data-ttu-id="cff38-200">Informace o stavu</span><span class="sxs-lookup"><span data-stu-id="cff38-200">Health information</span></span></li><li><span data-ttu-id="cff38-201">Privátní klíče nebo jiná data, které by mohly být použité toodecrypt šifrované informace</span><span class="sxs-lookup"><span data-stu-id="cff38-201">Private keys or other data that could be used toodecrypt encrypted information</span></span></li><li><span data-ttu-id="cff38-202">Systém nebo aplikace, informace, které mohou být použity toomore efektivně útokům aplikace hello</span><span class="sxs-lookup"><span data-stu-id="cff38-202">System or application information that can be used toomore effectively attack hello application</span></span></li></ul>|

## <span data-ttu-id="cff38-203"><a id="log-restricted-access"></a>Ujistěte se, že auditu a soubory protokolů mají omezený přístup</span><span class="sxs-lookup"><span data-stu-id="cff38-203"><a id="log-restricted-access"></a>Ensure that Audit and Log Files have Restricted Access</span></span>

| <span data-ttu-id="cff38-204">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-204">Title</span></span>                   | <span data-ttu-id="cff38-205">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-205">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-206">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-206">**Component**</span></span>               | <span data-ttu-id="cff38-207">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="cff38-207">Web Application</span></span> | 
| <span data-ttu-id="cff38-208">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-208">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-209">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-209">Build</span></span> |  
| <span data-ttu-id="cff38-210">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-210">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-211">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-211">Generic</span></span> |
| <span data-ttu-id="cff38-212">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-212">**Attributes**</span></span>              | <span data-ttu-id="cff38-213">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-213">N/A</span></span>  |
| <span data-ttu-id="cff38-214">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-214">**References**</span></span>              | <span data-ttu-id="cff38-215">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-215">N/A</span></span>  |
| <span data-ttu-id="cff38-216">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-216">**Steps**</span></span>                   | <p><span data-ttu-id="cff38-217">Zkontrolujte, zda jsou správně nastaveny tooensure přístup práva toolog soubory.</span><span class="sxs-lookup"><span data-stu-id="cff38-217">Check tooensure access rights toolog files are appropriately set.</span></span> <span data-ttu-id="cff38-218">Účty aplikace by měl mít přístup jen pro zápis a operátory a pracovníky technické podpory by měl mít přístup jen pro čtení, podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="cff38-218">Application accounts should have write-only access and operators and support personnel should have read-only access as needed.</span></span></p><p><span data-ttu-id="cff38-219">Účty správců jsou hello pouze účty, které by měl mít úplný přístup.</span><span class="sxs-lookup"><span data-stu-id="cff38-219">Administrators accounts are hello only accounts which should have full access.</span></span> <span data-ttu-id="cff38-220">Zkontrolujte, že seznamů ACL systému Windows v protokolu soubory tooensure jsou správně s omezeným přístupem:</span><span class="sxs-lookup"><span data-stu-id="cff38-220">Check Windows ACL on log files tooensure they are properly restricted:</span></span></p><ul><li><span data-ttu-id="cff38-221">Účty aplikace mají mít přístup jen pro zápis</span><span class="sxs-lookup"><span data-stu-id="cff38-221">Application accounts should have write-only access</span></span></li><li><span data-ttu-id="cff38-222">Operátory a pracovníky technické podpory musí mít oprávnění jen pro čtení, podle potřeby</span><span class="sxs-lookup"><span data-stu-id="cff38-222">Operators and support personnel should have read-only access as needed</span></span></li><li><span data-ttu-id="cff38-223">Správci jsou hello pouze účty, které by měl mít úplný přístup</span><span class="sxs-lookup"><span data-stu-id="cff38-223">Administrators are hello only accounts that should have full access</span></span></li></ul>|

## <span data-ttu-id="cff38-224"><a id="user-management"></a>Ujistěte se, že jsou zaznamenány události správy uživatelů</span><span class="sxs-lookup"><span data-stu-id="cff38-224"><a id="user-management"></a>Ensure that User Management Events are Logged</span></span>

| <span data-ttu-id="cff38-225">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-225">Title</span></span>                   | <span data-ttu-id="cff38-226">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-226">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-227">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-227">**Component**</span></span>               | <span data-ttu-id="cff38-228">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="cff38-228">Web Application</span></span> | 
| <span data-ttu-id="cff38-229">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-229">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-230">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-230">Build</span></span> |  
| <span data-ttu-id="cff38-231">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-231">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-232">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-232">Generic</span></span> |
| <span data-ttu-id="cff38-233">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-233">**Attributes**</span></span>              | <span data-ttu-id="cff38-234">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-234">N/A</span></span>  |
| <span data-ttu-id="cff38-235">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-235">**References**</span></span>              | <span data-ttu-id="cff38-236">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-236">N/A</span></span>  |
| <span data-ttu-id="cff38-237">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-237">**Steps**</span></span>                   | <p><span data-ttu-id="cff38-238">Zkontrolujte, zda aplikace hello monitoruje událostí správy uživatele jako je přihlášení úspěšné i neúspěšné uživatelů, resetování hesel, změny hesel, uzamčení účtu, registrace uživatele.</span><span class="sxs-lookup"><span data-stu-id="cff38-238">Ensure that hello application monitors user management events such as successful and failed user logins, password resets, password changes, account lockout, user registration.</span></span> <span data-ttu-id="cff38-239">To pomáhá toodetect a reagovat toopotentially podezřelého chování.</span><span class="sxs-lookup"><span data-stu-id="cff38-239">Doing this helps toodetect and react toopotentially suspicious behavior.</span></span> <span data-ttu-id="cff38-240">Umožňuje také dat nástroje operations toogather; například tootrack, kdo přistupuje k aplikaci hello</span><span class="sxs-lookup"><span data-stu-id="cff38-240">It also enables toogather operations data; for example, tootrack who is accessing hello application</span></span></p>|

## <span data-ttu-id="cff38-241"><a id="inbuilt-defenses"></a>Zkontrolujte, zda text hello systému integrované obranu proti zneužití</span><span class="sxs-lookup"><span data-stu-id="cff38-241"><a id="inbuilt-defenses"></a>Ensure that hello system has inbuilt defenses against misuse</span></span>

| <span data-ttu-id="cff38-242">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-242">Title</span></span>                   | <span data-ttu-id="cff38-243">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-243">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-244">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-244">**Component**</span></span>               | <span data-ttu-id="cff38-245">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="cff38-245">Web Application</span></span> | 
| <span data-ttu-id="cff38-246">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-246">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-247">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-247">Build</span></span> |  
| <span data-ttu-id="cff38-248">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-248">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-249">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-249">Generic</span></span> |
| <span data-ttu-id="cff38-250">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-250">**Attributes**</span></span>              | <span data-ttu-id="cff38-251">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-251">N/A</span></span>  |
| <span data-ttu-id="cff38-252">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-252">**References**</span></span>              | <span data-ttu-id="cff38-253">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-253">N/A</span></span>  |
| <span data-ttu-id="cff38-254">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-254">**Steps**</span></span>                   | <p><span data-ttu-id="cff38-255">Ovládací prvky musí být na místě, které vyvolávají výjimka zabezpečení v případě zneužití aplikací.</span><span class="sxs-lookup"><span data-stu-id="cff38-255">Controls should be in place which throw security exception in case of application misuse.</span></span> <span data-ttu-id="cff38-256">Například pokud ověření vstupu je na místě a útočník pokusí tooinject škodlivého kódu, který neodpovídá hello regex, vyvolána výjimka zabezpečení může být může být předběžné zneužít systému</span><span class="sxs-lookup"><span data-stu-id="cff38-256">E.g., If input validation is in place and an attacker attempts tooinject malicious code that does not match hello regex, a security exception can be thrown which can be an indicative of system misuse</span></span></p><p><span data-ttu-id="cff38-257">Doporučujeme například toohave výjimky zabezpečení přihlášení a akce prováděné na hello následující problémy:</span><span class="sxs-lookup"><span data-stu-id="cff38-257">For example, it is recommended toohave security exceptions logged and actions taken for hello following issues:</span></span></p><ul><li><span data-ttu-id="cff38-258">Ověření vstupu</span><span class="sxs-lookup"><span data-stu-id="cff38-258">Input validation</span></span></li><li><span data-ttu-id="cff38-259">Porušení proti útokům CSRF</span><span class="sxs-lookup"><span data-stu-id="cff38-259">CSRF violations</span></span></li><li><span data-ttu-id="cff38-260">Útok hrubou silou (horní limit pro počet požadavků na uživatele na prostředků)</span><span class="sxs-lookup"><span data-stu-id="cff38-260">Brute force (upper limit for number of requests per user per resource)</span></span></li><li><span data-ttu-id="cff38-261">Narušení nahrávání souborů</span><span class="sxs-lookup"><span data-stu-id="cff38-261">File upload violations</span></span></li><ul>|

## <span data-ttu-id="cff38-262"><a id="diagnostics-logging"></a>Povolit protokolování diagnostiky pro webové aplikace v Azure App Service</span><span class="sxs-lookup"><span data-stu-id="cff38-262"><a id="diagnostics-logging"></a>Enable diagnostics logging for web apps in Azure App Service</span></span>

| <span data-ttu-id="cff38-263">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-263">Title</span></span>                   | <span data-ttu-id="cff38-264">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-264">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-265">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-265">**Component**</span></span>               | <span data-ttu-id="cff38-266">Webová aplikace</span><span class="sxs-lookup"><span data-stu-id="cff38-266">Web Application</span></span> | 
| <span data-ttu-id="cff38-267">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-267">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-268">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-268">Build</span></span> |  
| <span data-ttu-id="cff38-269">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-269">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-270">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-270">Generic</span></span> |
| <span data-ttu-id="cff38-271">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-271">**Attributes**</span></span>              | <span data-ttu-id="cff38-272">EnvironmentType – Azure</span><span class="sxs-lookup"><span data-stu-id="cff38-272">EnvironmentType - Azure</span></span> |
| <span data-ttu-id="cff38-273">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-273">**References**</span></span>              | <span data-ttu-id="cff38-274">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-274">N/A</span></span>  |
| <span data-ttu-id="cff38-275">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-275">**Steps**</span></span> | <p><span data-ttu-id="cff38-276">Azure poskytuje integrované diagnostiky tooassist s laděním aplikační službu webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="cff38-276">Azure provides built-in diagnostics tooassist with debugging an App Service web app.</span></span> <span data-ttu-id="cff38-277">Platí také tooAPI a mobilní aplikace.</span><span class="sxs-lookup"><span data-stu-id="cff38-277">It also applies tooAPI apps and mobile apps.</span></span> <span data-ttu-id="cff38-278">Webové aplikace služby App Service poskytují diagnostické funkce pro protokolování informací z hello webový server a hello webové aplikace.</span><span class="sxs-lookup"><span data-stu-id="cff38-278">App Service web apps provide diagnostic functionality for logging information from both hello web server and hello web application.</span></span></p><p><span data-ttu-id="cff38-279">Tyto jsou logicky rozdělené do webového serveru diagnostics a application diagnostics</span><span class="sxs-lookup"><span data-stu-id="cff38-279">These are logically separated into web server diagnostics and application diagnostics</span></span></p>|

## <span data-ttu-id="cff38-280"><a id="identify-sensitive-entities"></a>Ujistěte se, že přihlášení auditování je povolena v systému SQL Server</span><span class="sxs-lookup"><span data-stu-id="cff38-280"><a id="identify-sensitive-entities"></a>Ensure that login auditing is enabled on SQL Server</span></span>

| <span data-ttu-id="cff38-281">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-281">Title</span></span>                   | <span data-ttu-id="cff38-282">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-282">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-283">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-283">**Component**</span></span>               | <span data-ttu-id="cff38-284">Databáze</span><span class="sxs-lookup"><span data-stu-id="cff38-284">Database</span></span> | 
| <span data-ttu-id="cff38-285">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-285">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-286">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-286">Build</span></span> |  
| <span data-ttu-id="cff38-287">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-287">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-288">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-288">Generic</span></span> |
| <span data-ttu-id="cff38-289">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-289">**Attributes**</span></span>              | <span data-ttu-id="cff38-290">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-290">N/A</span></span>  |
| <span data-ttu-id="cff38-291">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-291">**References**</span></span>              | [<span data-ttu-id="cff38-292">Konfigurace auditování přihlášení</span><span class="sxs-lookup"><span data-stu-id="cff38-292">Configure Login Auditing</span></span>](https://msdn.microsoft.com/library/ms175850.aspx) |
| <span data-ttu-id="cff38-293">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-293">**Steps**</span></span> | <p><span data-ttu-id="cff38-294">Auditování databáze serveru přihlášení musí být povoleno toodetect nebo potvrďte za účelem uhodnutí hesla útoky.</span><span class="sxs-lookup"><span data-stu-id="cff38-294">Database Server login auditing must be enabled toodetect/confirm password guessing attacks.</span></span> <span data-ttu-id="cff38-295">Je důležité toocapture neúspěšné pokusy o přihlášení.</span><span class="sxs-lookup"><span data-stu-id="cff38-295">It is important toocapture failed login attempts.</span></span> <span data-ttu-id="cff38-296">Další výhodou zaznamenávání obou pokusů o přihlášení úspěšné i neúspěšné poskytuje během forenzního vyšetřování</span><span class="sxs-lookup"><span data-stu-id="cff38-296">Capturing both successful and failed login attempts provides additional benefit during forensic investigations</span></span></p>|

## <span data-ttu-id="cff38-297"><a id="threat-detection"></a>Povolení detekce hrozeb v Azure SQL</span><span class="sxs-lookup"><span data-stu-id="cff38-297"><a id="threat-detection"></a>Enable Threat detection on Azure SQL</span></span>

| <span data-ttu-id="cff38-298">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-298">Title</span></span>                   | <span data-ttu-id="cff38-299">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-299">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-300">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-300">**Component**</span></span>               | <span data-ttu-id="cff38-301">Databáze</span><span class="sxs-lookup"><span data-stu-id="cff38-301">Database</span></span> | 
| <span data-ttu-id="cff38-302">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-302">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-303">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-303">Build</span></span> |  
| <span data-ttu-id="cff38-304">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-304">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-305">SQL Azure</span><span class="sxs-lookup"><span data-stu-id="cff38-305">SQL Azure</span></span> |
| <span data-ttu-id="cff38-306">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-306">**Attributes**</span></span>              | <span data-ttu-id="cff38-307">Verze SQL - V12</span><span class="sxs-lookup"><span data-stu-id="cff38-307">SQL Version - V12</span></span> |
| <span data-ttu-id="cff38-308">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-308">**References**</span></span>              | [<span data-ttu-id="cff38-309">Začínáme s detekce hrozeb databáze SQL</span><span class="sxs-lookup"><span data-stu-id="cff38-309">Get Started with SQL Database Threat Detection</span></span>](https://azure.microsoft.com/documentation/articles/sql-database-threat-detection-get-started/)|
| <span data-ttu-id="cff38-310">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-310">**Steps**</span></span> |<p><span data-ttu-id="cff38-311">Detekce hrozeb zjistila nezvyklé databázové aktivity, které indikují potenciální bezpečnostní hrozby toohello databáze.</span><span class="sxs-lookup"><span data-stu-id="cff38-311">Threat Detection detects anomalous database activities indicating potential security threats toohello database.</span></span> <span data-ttu-id="cff38-312">Poskytuje novou vrstvu zabezpečení, což umožňuje zákazníkům toodetect a toopotential hrozeb reagovat, když k nim dojde tím, že poskytuje výstrahy zabezpečení na neobvyklé aktivity.</span><span class="sxs-lookup"><span data-stu-id="cff38-312">It provides a new layer of security, which enables customers toodetect and respond toopotential threats as they occur by providing security alerts on anomalous activities.</span></span></p><p><span data-ttu-id="cff38-313">Uživatele můžete prozkoumat hello podezřelé události pomocí audity Azure SQL Database toodetermine pokud vyplývají z tooaccess pokusu o porušení nebo zneužití data v databázi hello.</span><span class="sxs-lookup"><span data-stu-id="cff38-313">Users can explore hello suspicious events using Azure SQL Database Auditing toodetermine if they result from an attempt tooaccess, breach or exploit data in hello database.</span></span></p><p><span data-ttu-id="cff38-314">Detekce hrozeb je jednoduchý tooaddress potenciální hrozby toohello databáze bez hello nutné toobe expert zabezpečení nebo spravovat pokročilým zabezpečením monitorování systémů</span><span class="sxs-lookup"><span data-stu-id="cff38-314">Threat Detection makes it simple tooaddress potential threats toohello database without hello need toobe a security expert or manage advanced security monitoring systems</span></span></p>|

## <span data-ttu-id="cff38-315"><a id="analytics"></a>Použití Azure Storage Analytics tooaudit přístupu Azure Storage</span><span class="sxs-lookup"><span data-stu-id="cff38-315"><a id="analytics"></a>Use Azure Storage Analytics tooaudit access of Azure Storage</span></span>

| <span data-ttu-id="cff38-316">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-316">Title</span></span>                   | <span data-ttu-id="cff38-317">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-317">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-318">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-318">**Component**</span></span>               | <span data-ttu-id="cff38-319">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="cff38-319">Azure Storage</span></span> | 
| <span data-ttu-id="cff38-320">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-320">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-321">Nasazení</span><span class="sxs-lookup"><span data-stu-id="cff38-321">Deployment</span></span> |  
| <span data-ttu-id="cff38-322">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-322">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-323">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-323">Generic</span></span> |
| <span data-ttu-id="cff38-324">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-324">**Attributes**</span></span>              | <span data-ttu-id="cff38-325">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-325">N/A</span></span> |
| <span data-ttu-id="cff38-326">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-326">**References**</span></span>              | [<span data-ttu-id="cff38-327">Pomocí Storage Analytics toomonitor autorizace typu</span><span class="sxs-lookup"><span data-stu-id="cff38-327">Using Storage Analytics toomonitor authorization type</span></span>](https://azure.microsoft.com/documentation/articles/storage-security-guide/#storage-analytics) |
| <span data-ttu-id="cff38-328">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-328">**Steps**</span></span> | <p><span data-ttu-id="cff38-329">Pro každý účet úložiště jeden můžete povolit protokolování tooperform Azure Storage Analytics a ukládat data metriky.</span><span class="sxs-lookup"><span data-stu-id="cff38-329">For each storage account, one can enable Azure Storage Analytics tooperform logging and store metrics data.</span></span> <span data-ttu-id="cff38-330">Hello úložiště analýzy protokolů obsahují důležité informace, jako je například metodu ověřování používanou někdo při přístupu k úložišti.</span><span class="sxs-lookup"><span data-stu-id="cff38-330">hello storage analytics logs provide important information such as authentication method used by someone when they access storage.</span></span></p><p><span data-ttu-id="cff38-331">To může být velmi užitečné, pokud jsou úzce ochrana toostorage přístup.</span><span class="sxs-lookup"><span data-stu-id="cff38-331">This can be really helpful if you are tightly guarding access toostorage.</span></span> <span data-ttu-id="cff38-332">V úložišti objektů Blob můžete například nastavit všechny kontejnery tooprivate hello a implementovat hello použití služby SAS v celé vaší aplikace.</span><span class="sxs-lookup"><span data-stu-id="cff38-332">For example, in Blob Storage you can set all of hello containers tooprivate and implement hello use of an SAS service throughout your applications.</span></span> <span data-ttu-id="cff38-333">Zkontrolujte, zda text hello protokoly pravidelně toosee Pokud objektů BLOB ke kterým se přistupuje pomocí klíčů k účtu úložiště hello, které mohou indikovat porušení zabezpečení, nebo pokud jsou objekty BLOB hello veřejné, ale nemělo by být.</span><span class="sxs-lookup"><span data-stu-id="cff38-333">Then you can check hello logs regularly toosee if your blobs are accessed using hello storage account keys, which may indicate a breach of security, or if hello blobs are public but they shouldn’t be.</span></span></p>|

## <span data-ttu-id="cff38-334"><a id="sufficient-logging"></a>Implementace dostatečná protokolování</span><span class="sxs-lookup"><span data-stu-id="cff38-334"><a id="sufficient-logging"></a>Implement sufficient Logging</span></span>

| <span data-ttu-id="cff38-335">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-335">Title</span></span>                   | <span data-ttu-id="cff38-336">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-336">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-337">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-337">**Component**</span></span>               | <span data-ttu-id="cff38-338">WCF</span><span class="sxs-lookup"><span data-stu-id="cff38-338">WCF</span></span> | 
| <span data-ttu-id="cff38-339">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-339">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-340">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-340">Build</span></span> |  
| <span data-ttu-id="cff38-341">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-341">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-342">Rozhraní .NET framework</span><span class="sxs-lookup"><span data-stu-id="cff38-342">.NET Framework</span></span> |
| <span data-ttu-id="cff38-343">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-343">**Attributes**</span></span>              | <span data-ttu-id="cff38-344">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-344">N/A</span></span>  |
| <span data-ttu-id="cff38-345">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-345">**References**</span></span>              | <span data-ttu-id="cff38-346">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [obohacení království](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="cff38-346">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="cff38-347">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-347">**Steps**</span></span> | <p><span data-ttu-id="cff38-348">Nedostatečná Hello správné kontrolní záznam incidentu zabezpečení může zabránit spuštění forenzní úsilí.</span><span class="sxs-lookup"><span data-stu-id="cff38-348">hello lack of a proper audit trail after a security incident can hamper forensic efforts.</span></span> <span data-ttu-id="cff38-349">Windows Communication Foundation (WCF) nabízí hello možnost toolog úspěšné nebo neúspěšné pokusy o přihlášení.</span><span class="sxs-lookup"><span data-stu-id="cff38-349">Windows Communication Foundation (WCF) offers hello ability toolog successful and/or failed authentication attempts.</span></span></p><p><span data-ttu-id="cff38-350">Protokolování neúspěšných pokusů o přihlášení může upozornit, že správci potenciální útoky hrubou silou.</span><span class="sxs-lookup"><span data-stu-id="cff38-350">Logging failed authentication attempts can warn administrators of potential brute-force attacks.</span></span> <span data-ttu-id="cff38-351">Protokolování událostí úspěšné ověření podobně, zadejte záznam pro audit užitečné při ohrožení legitimní účtu.</span><span class="sxs-lookup"><span data-stu-id="cff38-351">Similarly, logging successful authentication events can provide a useful audit trail when a legitimate account is compromised.</span></span> <span data-ttu-id="cff38-352">Povolení funkce auditu zabezpečení služby WCF na</span><span class="sxs-lookup"><span data-stu-id="cff38-352">Enable WCF's service security audit feature</span></span> |

### <a name="example"></a><span data-ttu-id="cff38-353">Příklad</span><span class="sxs-lookup"><span data-stu-id="cff38-353">Example</span></span>
<span data-ttu-id="cff38-354">Následuje příklad konfigurace auditování povolené Hello</span><span class="sxs-lookup"><span data-stu-id="cff38-354">hello following is an example configuration with auditing enabled</span></span>
```
<system.serviceModel>
    <behaviors>
        <serviceBehaviors>
            <behavior name=""NewBehavior"">
                <serviceSecurityAudit auditLogLocation=""Default""
                suppressAuditFailure=""false"" 
                serviceAuthorizationAuditLevel=""SuccessAndFailure""
                messageAuthenticationAuditLevel=""SuccessAndFailure"" />
                ...
            </behavior>
        </servicebehaviors>
    </behaviors>
</system.serviceModel>
```

## <span data-ttu-id="cff38-355"><a id="audit-failure-handling"></a>Implementace dostatečná auditu selhání zpracování</span><span class="sxs-lookup"><span data-stu-id="cff38-355"><a id="audit-failure-handling"></a>Implement sufficient Audit Failure Handling</span></span>

| <span data-ttu-id="cff38-356">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-356">Title</span></span>                   | <span data-ttu-id="cff38-357">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-357">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-358">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-358">**Component**</span></span>               | <span data-ttu-id="cff38-359">WCF</span><span class="sxs-lookup"><span data-stu-id="cff38-359">WCF</span></span> | 
| <span data-ttu-id="cff38-360">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-360">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-361">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-361">Build</span></span> |  
| <span data-ttu-id="cff38-362">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-362">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-363">Rozhraní .NET framework</span><span class="sxs-lookup"><span data-stu-id="cff38-363">.NET Framework</span></span> |
| <span data-ttu-id="cff38-364">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-364">**Attributes**</span></span>              | <span data-ttu-id="cff38-365">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-365">N/A</span></span>  |
| <span data-ttu-id="cff38-366">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-366">**References**</span></span>              | <span data-ttu-id="cff38-367">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [obohacení království](https://vulncat.fortify.com/en/vulncat/index.html)</span><span class="sxs-lookup"><span data-stu-id="cff38-367">[MSDN](https://msdn.microsoft.com/library/ff648500.aspx), [Fortify Kingdom](https://vulncat.fortify.com/en/vulncat/index.html)</span></span> |
| <span data-ttu-id="cff38-368">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-368">**Steps**</span></span> | <p><span data-ttu-id="cff38-369">Je nakonfigurovaný vyvinuté řešení toogenerate výjimku, pokud se nezdaří toowrite tooan auditní protokol.</span><span class="sxs-lookup"><span data-stu-id="cff38-369">Developed solution is configured not toogenerate an exception when it fails toowrite tooan audit log.</span></span> <span data-ttu-id="cff38-370">Pokud je nakonfigurovaný WCF toothrow výjimku, pokud je protokol auditování tooan nelze toowrite, programu hello nebudete nijak upozorněni hello selhání a může přestat docházet k auditování událostí zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="cff38-370">If WCF is configured not toothrow an exception when it is unable toowrite tooan audit log, hello program will not be notified of hello failure and auditing of critical security events may not occur.</span></span></p>|

### <a name="example"></a><span data-ttu-id="cff38-371">Příklad</span><span class="sxs-lookup"><span data-stu-id="cff38-371">Example</span></span>
<span data-ttu-id="cff38-372">Hello `<behavior/>` prvek hello WCF konfiguračního souboru níže dá pokyn WCF toonot informovala, že aplikace hello WCF selže toowrite tooan auditní protokol.</span><span class="sxs-lookup"><span data-stu-id="cff38-372">hello `<behavior/>` element of hello WCF configuration file below instructs WCF toonot notify hello application when WCF fails toowrite tooan audit log.</span></span>
````
<behaviors>
    <serviceBehaviors>
        <behavior name="NewBehavior">
            <serviceSecurityAudit auditLogLocation="Application"
            suppressAuditFailure="true"
            serviceAuthorizationAuditLevel="Success"
            messageAuthenticationAuditLevel="Success" />
        </behavior>
    </serviceBehaviors>
</behaviors>
````
<span data-ttu-id="cff38-373">Konfigurace programu hello toonotify WCF vždy, když je protokol auditování tooan nelze toowrite.</span><span class="sxs-lookup"><span data-stu-id="cff38-373">Configure WCF toonotify hello program whenever it is unable toowrite tooan audit log.</span></span> <span data-ttu-id="cff38-374">Hello program by měl mít příslušné schéma alternativní oznámení v místě tooalert hello organizace nejsou neudržují záznamy auditu.</span><span class="sxs-lookup"><span data-stu-id="cff38-374">hello program should have an alternative notification scheme in place tooalert hello organization that audit trails are not being maintained.</span></span> 

## <span data-ttu-id="cff38-375"><a id="logging-web-api"></a>Ujistěte se, že se vynucuje auditování a protokolování u webového rozhraní API</span><span class="sxs-lookup"><span data-stu-id="cff38-375"><a id="logging-web-api"></a>Ensure that auditing and logging is enforced on Web API</span></span>

| <span data-ttu-id="cff38-376">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-376">Title</span></span>                   | <span data-ttu-id="cff38-377">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-377">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-378">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-378">**Component**</span></span>               | <span data-ttu-id="cff38-379">Web API</span><span class="sxs-lookup"><span data-stu-id="cff38-379">Web API</span></span> | 
| <span data-ttu-id="cff38-380">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-380">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-381">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-381">Build</span></span> |  
| <span data-ttu-id="cff38-382">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-382">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-383">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-383">Generic</span></span> |
| <span data-ttu-id="cff38-384">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-384">**Attributes**</span></span>              | <span data-ttu-id="cff38-385">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-385">N/A</span></span>  |
| <span data-ttu-id="cff38-386">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-386">**References**</span></span>              | <span data-ttu-id="cff38-387">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-387">N/A</span></span>  |
| <span data-ttu-id="cff38-388">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-388">**Steps**</span></span> | <span data-ttu-id="cff38-389">Povolte auditování a protokolování na webovým rozhraním API.</span><span class="sxs-lookup"><span data-stu-id="cff38-389">Enable auditing and logging on Web APIs.</span></span> <span data-ttu-id="cff38-390">Protokoly auditu měli zaznamenat kontextu uživatele.</span><span class="sxs-lookup"><span data-stu-id="cff38-390">Audit logs should capture user context.</span></span> <span data-ttu-id="cff38-391">Identifikujte všechny důležité události a zaznamenat tyto události do protokolu.</span><span class="sxs-lookup"><span data-stu-id="cff38-391">Identify all important events and log those events.</span></span> <span data-ttu-id="cff38-392">Implementace centralizované protokolování</span><span class="sxs-lookup"><span data-stu-id="cff38-392">Implement centralized logging</span></span> |

## <span data-ttu-id="cff38-393"><a id="logging-field-gateway"></a>Ujistěte se, že odpovídající auditování a protokolování se vynucuje u brána pole</span><span class="sxs-lookup"><span data-stu-id="cff38-393"><a id="logging-field-gateway"></a>Ensure that appropriate auditing and logging is enforced on Field Gateway</span></span>

| <span data-ttu-id="cff38-394">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-394">Title</span></span>                   | <span data-ttu-id="cff38-395">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-395">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-396">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-396">**Component**</span></span>               | <span data-ttu-id="cff38-397">Brána pole IoT</span><span class="sxs-lookup"><span data-stu-id="cff38-397">IoT Field Gateway</span></span> | 
| <span data-ttu-id="cff38-398">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-398">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-399">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-399">Build</span></span> |  
| <span data-ttu-id="cff38-400">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-400">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-401">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-401">Generic</span></span> |
| <span data-ttu-id="cff38-402">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-402">**Attributes**</span></span>              | <span data-ttu-id="cff38-403">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-403">N/A</span></span>  |
| <span data-ttu-id="cff38-404">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-404">**References**</span></span>              | <span data-ttu-id="cff38-405">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-405">N/A</span></span>  |
| <span data-ttu-id="cff38-406">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-406">**Steps**</span></span> | <p><span data-ttu-id="cff38-407">Pokud se více zařízení připojují tooa brána pole, zajistěte, aby pokusy o připojení a stavu ověření (úspěch nebo neúspěch) pro jednotlivá zařízení jsou přihlášení a udržovaný na hello brána pole.</span><span class="sxs-lookup"><span data-stu-id="cff38-407">When multiple devices connect tooa Field Gateway, ensure that connection attempts and authentication status (success or failure) for individual devices are logged and maintained on hello Field Gateway.</span></span></p><p><span data-ttu-id="cff38-408">Také v případech, kde je brána pole zachování hello IoT Hub přihlašovací údaje pro jednotlivá zařízení, ujistěte se, že auditování se provádí tyto přihlašovací údaje jsou načteny. Vývoj proces tooperiodically nahrávání hello protokoly tooAzure IoT Hub úložiště pro dlouhodobé uchovávání.</span><span class="sxs-lookup"><span data-stu-id="cff38-408">Also, in cases where Field Gateway is maintaining hello IoT Hub credentials for individual devices, ensure that auditing is performed when these credentials are retrieved.Develop a process tooperiodically upload hello logs tooAzure IoT Hub/storage for long term retention.</span></span></p> |

## <span data-ttu-id="cff38-409"><a id="logging-cloud-gateway"></a>Ujistěte se, že odpovídající auditování a protokolování se vynucuje u brány cloudu</span><span class="sxs-lookup"><span data-stu-id="cff38-409"><a id="logging-cloud-gateway"></a>Ensure that appropriate auditing and logging is enforced on Cloud Gateway</span></span>

| <span data-ttu-id="cff38-410">Název</span><span class="sxs-lookup"><span data-stu-id="cff38-410">Title</span></span>                   | <span data-ttu-id="cff38-411">Podrobnosti</span><span class="sxs-lookup"><span data-stu-id="cff38-411">Details</span></span>      |
| ----------------------- | ------------ |
| <span data-ttu-id="cff38-412">**Komponenta**</span><span class="sxs-lookup"><span data-stu-id="cff38-412">**Component**</span></span>               | <span data-ttu-id="cff38-413">Brána IoT cloudu</span><span class="sxs-lookup"><span data-stu-id="cff38-413">IoT Cloud Gateway</span></span> | 
| <span data-ttu-id="cff38-414">**SDL fáze**</span><span class="sxs-lookup"><span data-stu-id="cff38-414">**SDL Phase**</span></span>               | <span data-ttu-id="cff38-415">Sestavení</span><span class="sxs-lookup"><span data-stu-id="cff38-415">Build</span></span> |  
| <span data-ttu-id="cff38-416">**Použít technologie**</span><span class="sxs-lookup"><span data-stu-id="cff38-416">**Applicable Technologies**</span></span> | <span data-ttu-id="cff38-417">Obecné</span><span class="sxs-lookup"><span data-stu-id="cff38-417">Generic</span></span> |
| <span data-ttu-id="cff38-418">**Atributy**</span><span class="sxs-lookup"><span data-stu-id="cff38-418">**Attributes**</span></span>              | <span data-ttu-id="cff38-419">Není k dispozici</span><span class="sxs-lookup"><span data-stu-id="cff38-419">N/A</span></span>  |
| <span data-ttu-id="cff38-420">**Odkazy**</span><span class="sxs-lookup"><span data-stu-id="cff38-420">**References**</span></span>              | [<span data-ttu-id="cff38-421">Úvod tooIoT rozbočovače operations monitorování</span><span class="sxs-lookup"><span data-stu-id="cff38-421">Introduction tooIoT Hub operations monitoring</span></span>](https://azure.microsoft.com/documentation/articles/iot-hub-operations-monitoring/) |
| <span data-ttu-id="cff38-422">**Kroky**</span><span class="sxs-lookup"><span data-stu-id="cff38-422">**Steps**</span></span> | <p><span data-ttu-id="cff38-423">Návrh pro shromažďování a ukládání dat auditu shromáždit prostřednictvím monitorování nástroje Operations IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="cff38-423">Design for collecting and storing audit data gathered through IoT Hub Operations Monitoring.</span></span> <span data-ttu-id="cff38-424">Povolte hello následující monitorování kategorií:</span><span class="sxs-lookup"><span data-stu-id="cff38-424">Enable hello following monitoring categories:</span></span></p><ul><li><span data-ttu-id="cff38-425">Operace identity zařízení</span><span class="sxs-lookup"><span data-stu-id="cff38-425">Device identity operations</span></span></li><li><span data-ttu-id="cff38-426">Komunikace zařízení cloud</span><span class="sxs-lookup"><span data-stu-id="cff38-426">Device-to-cloud communications</span></span></li><li><span data-ttu-id="cff38-427">Komunikace cloud zařízení</span><span class="sxs-lookup"><span data-stu-id="cff38-427">Cloud-to-device communications</span></span></li><li><span data-ttu-id="cff38-428">Připojení</span><span class="sxs-lookup"><span data-stu-id="cff38-428">Connections</span></span></li><li><span data-ttu-id="cff38-429">Nahrávání souborů</span><span class="sxs-lookup"><span data-stu-id="cff38-429">File uploads</span></span></li></ul>|
