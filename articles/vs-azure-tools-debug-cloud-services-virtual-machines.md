---
title: "aaaDebugging Azure cloudové služby nebo virtuálního počítače v sadě Visual Studio | Microsoft Docs"
description: "Ladění cloudové služby nebo virtuálního počítače v sadě Visual Studio"
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 945e06e0-2100-41af-b218-72347367ddab
ms.service: visual-studio-online
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: multiple
ms.workload: na
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 32a326430021ba2ea9317a6a71fa005d4b87c273
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="debugging-an-azure-cloud-service-or-virtual-machine-in-visual-studio"></a><span data-ttu-id="793ad-103">Ladění služby Azure cloudové služby nebo virtuálního počítače v sadě Visual Studio</span><span class="sxs-lookup"><span data-stu-id="793ad-103">Debugging an Azure cloud service or virtual machine in Visual Studio</span></span>
<span data-ttu-id="793ad-104">Visual Studio poskytuje různé možnosti pro ladění cloudových služeb Azure a virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="793ad-104">Visual Studio gives you different options for debugging Azure cloud services and virtual machines.</span></span>

## <a name="debug-your-cloud-service-on-your-local-computer"></a><span data-ttu-id="793ad-105">Ladění cloudové služby na místním počítači</span><span class="sxs-lookup"><span data-stu-id="793ad-105">Debug your cloud service on your local computer</span></span>
<span data-ttu-id="793ad-106">Můžete uložit čas a peníze pomocí toodebug emulátor výpočtů Azure hello cloudové služby v místním počítači.</span><span class="sxs-lookup"><span data-stu-id="793ad-106">You can save time and money by using hello Azure compute emulator toodebug your cloud service on a local machine.</span></span> <span data-ttu-id="793ad-107">Ladění služby místně, před nasazením, můžete zlepšit spolehlivost a výkon bez placení pro dobu výpočtů.</span><span class="sxs-lookup"><span data-stu-id="793ad-107">By debugging a service locally before you deploy it, you can improve reliability and performance without paying for compute time.</span></span> <span data-ttu-id="793ad-108">Ale některé může dojít k chybám pouze při spuštění cloudové služby v Azure sám sebe.</span><span class="sxs-lookup"><span data-stu-id="793ad-108">However, some errors might occur only when you run a cloud service in Azure itself.</span></span> <span data-ttu-id="793ad-109">Tyto chyby můžete ladit, pokud povolíte vzdálené ladění při publikování služby a pak připojte instanci role tooa hello ladicí program.</span><span class="sxs-lookup"><span data-stu-id="793ad-109">You can debug these errors if you enable remote debugging when you publish your service and then attach hello debugger tooa role instance.</span></span>

<span data-ttu-id="793ad-110">emulátor Hello simuluje služby Azure Compute hello a běží ve vašem místním prostředí, aby mohli testování a ladění cloudové služby, před nasazením.</span><span class="sxs-lookup"><span data-stu-id="793ad-110">hello emulator simulates hello Azure Compute service and runs in your local environment so that you can test and debug your cloud service before you deploy it.</span></span> <span data-ttu-id="793ad-111">obslužné rutiny emulátoru Hello hello životní cyklus instance role a poskytuje přístup toosimulated prostředky, například místní úložiště.</span><span class="sxs-lookup"><span data-stu-id="793ad-111">hello emulator handles hello lifecycle of your role instances and provides access toosimulated resources, such as local storage.</span></span> <span data-ttu-id="793ad-112">Při ladění a spouštění služby ze sady Visual Studio, automaticky spustí hello emulátor jako pozadí aplikaci a poté nasadí emulátoru toohello vaší služby.</span><span class="sxs-lookup"><span data-stu-id="793ad-112">When you debug or run your service from Visual Studio, it automatically starts hello emulator as a background application and then deploys your service toohello emulator.</span></span> <span data-ttu-id="793ad-113">Můžete použít tooview hello emulátor služby při spuštění v místním prostředí hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-113">You can use hello emulator tooview your service when it runs in hello local environment.</span></span> <span data-ttu-id="793ad-114">Můžete spustit úplnou verzi hello nebo hello expresní verze emulátoru hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-114">You can run hello full version or hello express version of hello emulator.</span></span> <span data-ttu-id="793ad-115">(Počínaje Azure 2.3, hello expresní verze emulátoru hello je výchozí hello.) V tématu [pomocí emulátoru Express tooRun a ladění cloudové služby místně](https://msdn.microsoft.com/library/dn339018.aspx).</span><span class="sxs-lookup"><span data-stu-id="793ad-115">(Starting with Azure 2.3, hello express version of hello emulator is hello default.) See [Using Emulator Express tooRun and Debug a Cloud Service Locally](https://msdn.microsoft.com/library/dn339018.aspx).</span></span>

### <a name="toodebug-your-cloud-service-on-your-local-computer"></a><span data-ttu-id="793ad-116">toodebug vaše cloudové služby na místním počítači</span><span class="sxs-lookup"><span data-stu-id="793ad-116">toodebug your cloud service on your local computer</span></span>
1. <span data-ttu-id="793ad-117">V řádku nabídek hello zvolte **ladění**, **spustit ladění** toorun projektu Azure cloud service.</span><span class="sxs-lookup"><span data-stu-id="793ad-117">On hello menu bar, choose **Debug**, **Start Debugging** toorun your Azure cloud service project.</span></span> <span data-ttu-id="793ad-118">Jako alternativu můžete stisknutím klávesy F5.</span><span class="sxs-lookup"><span data-stu-id="793ad-118">As an alternative, you can press F5.</span></span> <span data-ttu-id="793ad-119">Uvidíte, že se spouští zprávu, která hello výpočetní emulátor.</span><span class="sxs-lookup"><span data-stu-id="793ad-119">You’ll see a message that hello Compute Emulator is starting.</span></span> <span data-ttu-id="793ad-120">Když se spustí hello emulátoru, potvrdí hello ikonu na hlavním panelu ho.</span><span class="sxs-lookup"><span data-stu-id="793ad-120">When hello emulator starts, hello system tray icon confirms it.</span></span>

    ![Azure emulátoru na panelu systému hello](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC783828.png)
2. <span data-ttu-id="793ad-122">Zobrazení hello uživatelského rozhraní pro emulátoru služby výpočty hello otevřením hello místní nabídku pro hello Azure ikonu v oznamovací oblasti hello a potom vyberte **zobrazit uživatelské prostředí emulátoru výpočtů**.</span><span class="sxs-lookup"><span data-stu-id="793ad-122">Display hello user interface for hello compute emulator by opening hello shortcut menu for hello Azure icon in hello notification area, and then select **Show Compute Emulator UI**.</span></span>

    <span data-ttu-id="793ad-123">Hello levém podokně hello uživatelského rozhraní obsahuje hello služby, které jsou aktuálně nasazené toohello výpočetní emulátor a hello instance rolí, které běží jednotlivých služeb.</span><span class="sxs-lookup"><span data-stu-id="793ad-123">hello left pane of hello UI shows hello services that are currently deployed toohello compute emulator and hello role instances that each service is running.</span></span> <span data-ttu-id="793ad-124">V pravém podokně hello můžete životního cyklu toodisplay hello služby nebo role, protokolování a diagnostické informace.</span><span class="sxs-lookup"><span data-stu-id="793ad-124">You can choose hello service or roles toodisplay lifecycle, logging, and diagnostic information in hello right pane.</span></span> <span data-ttu-id="793ad-125">Pokud hello zaměřit na horním okrajem hello zahrnuté okna, rozšíří toofill hello pravém podokně.</span><span class="sxs-lookup"><span data-stu-id="793ad-125">If you put hello focus in hello top margin of an included window, it expands toofill hello right pane.</span></span>
3. <span data-ttu-id="793ad-126">Krok prostřednictvím aplikace hello výběrem příkazů na hello **ladění** nabídce a nastavení zarážek v kódu.</span><span class="sxs-lookup"><span data-stu-id="793ad-126">Step through hello application by selecting commands on hello **Debug** menu and setting breakpoints in your code.</span></span> <span data-ttu-id="793ad-127">Krocích aplikace hello v ladicím programu hello hello podokna aktualizují hello aktuální stav aplikace hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-127">As you step through hello application in hello debugger, hello panes are updated with hello current status of hello application.</span></span> <span data-ttu-id="793ad-128">Když zastavíte ladění, nasazení aplikace hello je odstraněn.</span><span class="sxs-lookup"><span data-stu-id="793ad-128">When you stop debugging, hello application deployment is deleted.</span></span> <span data-ttu-id="793ad-129">Pokud vaše aplikace obsahuje webovou roli a nastavili jste hello spuštění akce vlastnost toostart hello webový prohlížeč, Visual Studio spustí webovou aplikaci v prohlížeči hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-129">If your application includes a web role and you've set hello Startup action property toostart hello web browser, Visual Studio starts your web application in hello browser.</span></span> <span data-ttu-id="793ad-130">Pokud změníte hello počet instancí role v konfiguraci služby hello, musíte zastavit cloudovou službu a poté znovu spusťte ladění tak, že ladíte tyto nové instance role hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-130">If you change hello number of instances of a role in hello service configuration, you must stop your cloud service and then restart debugging so that you can debug these new instances of hello role.</span></span>

    <span data-ttu-id="793ad-131">**Poznámka:** při zastavení, spuštění nebo ladění vaší služby, hello emulátoru služby výpočty místní a emulátoru úložiště nejsou byla zastavena.</span><span class="sxs-lookup"><span data-stu-id="793ad-131">**Note:** When you stop running or debugging your service, hello local compute emulator and storage emulator aren't stopped.</span></span> <span data-ttu-id="793ad-132">Explicitně je potřeba zastavit z oznamovací oblasti hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-132">You must stop them explicitly from hello notification area.</span></span>

## <a name="debug-a-cloud-service-in-azure"></a><span data-ttu-id="793ad-133">Ladění cloudové služby v Azure</span><span class="sxs-lookup"><span data-stu-id="793ad-133">Debug a cloud service in Azure</span></span>
<span data-ttu-id="793ad-134">toodebug Cloudová služba ze vzdáleného počítače, je nutné povolit tuto funkci explicitně při nasazení cloudové služby tak, aby požadované na virtuálních počítačích hello spuštěné instance role jsou nainstalovány služby (například msvsmon.exe).</span><span class="sxs-lookup"><span data-stu-id="793ad-134">toodebug a cloud service from a remote machine, you must enable that functionality explicitly when you deploy your cloud service so that required services (msvsmon.exe, for example) are installed on hello virtual machines that run your role instances.</span></span> <span data-ttu-id="793ad-135">Pokud nebylo povolení vzdáleného ladění při publikování služby hello, máte toorepublish hello služby s povoleným laděním vzdálené.</span><span class="sxs-lookup"><span data-stu-id="793ad-135">If you didn't enable remote debugging when you published hello service, you have toorepublish hello service with remote debugging enabled.</span></span>

<span data-ttu-id="793ad-136">Pokud povolíte vzdálené ladění pro cloudovou službu, ho nebude vykazovat snížení výkonu nebo toho vám být účtovány další poplatky.</span><span class="sxs-lookup"><span data-stu-id="793ad-136">If you enable remote debugging for a cloud service, it doesn't exhibit degraded performance or incur additional charges.</span></span> <span data-ttu-id="793ad-137">Neměli byste používat vzdáleného ladění na produkční služby, protože klienty, kteří používají službu hello může být nepříznivě ovlivněn.</span><span class="sxs-lookup"><span data-stu-id="793ad-137">You shouldn't use remote debugging on a production service, because clients who use hello service might be adversely affected.</span></span>

> [!NOTE]
> <span data-ttu-id="793ad-138">Když publikujete Cloudová služba ze sady Visual Studio, můžete povolit **IntelliTrace** pro všechny role v tom, že služba hello této cílové rozhraní .NET Framework 4 nebo hello rozhraní .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="793ad-138">When you publish a cloud service from Visual Studio, you can enable **IntelliTrace** for any roles in that service that target hello .NET Framework 4 or hello .NET Framework 4.5.</span></span> <span data-ttu-id="793ad-139">Pomocí **IntelliTrace**, můžete prozkoumat události, k nimž došlo v instanci role v posledních hello a reprodukujte hello kontext z této doby.</span><span class="sxs-lookup"><span data-stu-id="793ad-139">By using **IntelliTrace**, you can examine events that occurred in a role instance in hello past and reproduce hello context from that time.</span></span> <span data-ttu-id="793ad-140">V tématu [ladění publikované Cloudová služba se IntelliTrace a Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016) a [IntelliTrace pomocí](https://msdn.microsoft.com/library/dd264915.aspx).</span><span class="sxs-lookup"><span data-stu-id="793ad-140">See [Debugging a published cloud service with IntelliTrace and Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016) and [Using IntelliTrace](https://msdn.microsoft.com/library/dd264915.aspx).</span></span>
>
>

### <a name="tooenable-remote-debugging-for-a-cloud-service"></a><span data-ttu-id="793ad-141">tooenable vzdáleného ladění pro cloudové služby</span><span class="sxs-lookup"><span data-stu-id="793ad-141">tooenable remote debugging for a cloud service</span></span>
1. <span data-ttu-id="793ad-142">Otevřete hello místní nabídku pro hello projektu Azure a pak vyberte **publikovat**.</span><span class="sxs-lookup"><span data-stu-id="793ad-142">Open hello shortcut menu for hello Azure project, and then select **Publish**.</span></span>
2. <span data-ttu-id="793ad-143">Vyberte hello **pracovní** prostředí a hello **ladění** konfigurace.</span><span class="sxs-lookup"><span data-stu-id="793ad-143">Select hello **Staging** environment and hello **Debug** configuration.</span></span>

    <span data-ttu-id="793ad-144">Toto je pouze platí.</span><span class="sxs-lookup"><span data-stu-id="793ad-144">This is only a guideline.</span></span> <span data-ttu-id="793ad-145">Můžete se taky rozhodnout toorun vaše testovací prostředí v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="793ad-145">You can opt toorun your test environments in a Production environment.</span></span> <span data-ttu-id="793ad-146">Pokud povolíte vzdáleného ladění na hello provozním prostředí však může ovlivnit nepříznivě uživatele.</span><span class="sxs-lookup"><span data-stu-id="793ad-146">However, you may adversely affect users if you enable remote debugging on hello Production environment.</span></span> <span data-ttu-id="793ad-147">Konfigurace verze hello můžete, ale hello ladění konfigurace umožňuje snazší ladění.</span><span class="sxs-lookup"><span data-stu-id="793ad-147">You can choose hello Release configuration, but hello Debug configuration makes debugging easier.</span></span>

    ![Vyberte konfiguraci ladění hello](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746717.gif)
3. <span data-ttu-id="793ad-149">Postupujte podle kroků obvyklé hello, ale vyberte hello **povolení vzdáleného ladicího programu u všech rolí** políčko hello **Upřesnit nastavení** kartě.</span><span class="sxs-lookup"><span data-stu-id="793ad-149">Follow hello usual steps, but select hello **Enable Remote Debugger for all roles** check box on hello **Advanced Settings** tab.</span></span>

    ![Konfigurace ladění](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746718.gif)

### <a name="tooattach-hello-debugger-tooa-cloud-service-in-azure"></a><span data-ttu-id="793ad-151">tooattach hello ladicí program tooa cloudové služby v Azure</span><span class="sxs-lookup"><span data-stu-id="793ad-151">tooattach hello debugger tooa cloud service in Azure</span></span>
1. <span data-ttu-id="793ad-152">V Průzkumníku serveru rozbalte uzel hello vaší cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="793ad-152">In Server Explorer, expand hello node for your cloud service.</span></span>
2. <span data-ttu-id="793ad-153">Otevřete hello místní nabídky pro hello roli nebo role instance toowhich chcete tooattach a potom vyberte **připojit ladicí program**.</span><span class="sxs-lookup"><span data-stu-id="793ad-153">Open hello shortcut menu for hello role or role instance toowhich you want tooattach, and then select **Attach Debugger**.</span></span>

    <span data-ttu-id="793ad-154">Pokud ladíte roli, připojí ladicí program Visual Studio hello tooeach instance dané role.</span><span class="sxs-lookup"><span data-stu-id="793ad-154">If you debug a role, hello Visual Studio debugger attaches tooeach instance of that role.</span></span> <span data-ttu-id="793ad-155">ladicí program Hello dojde k přerušení na zarážky pro hello první role instanci, která spouští tohoto řádku kódu a splňuje všechny podmínky této zarážek.</span><span class="sxs-lookup"><span data-stu-id="793ad-155">hello debugger will break on a breakpoint for hello first role instance that runs that line of code and meets any conditions of that breakpoint.</span></span> <span data-ttu-id="793ad-156">Při ladění instance, připojí ladicí program hello tooonly, instanci a zalomení na zarážku jenom v případě, že konkrétní instanci běží tohoto řádku kódu a splňuje hello na zarážek podmínky.</span><span class="sxs-lookup"><span data-stu-id="793ad-156">If you debug an instance, hello debugger attaches tooonly that instance and breaks on a breakpoint only when that specific instance runs that line of code and meets hello breakpoint's conditions.</span></span>

    ![Připojit ladicí program](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746719.gif)
3. <span data-ttu-id="793ad-158">Po ladicího programu hello připojí tooan instance, ladění jako obvykle.</span><span class="sxs-lookup"><span data-stu-id="793ad-158">After hello debugger attaches tooan instance, debug as usual.</span></span> <span data-ttu-id="793ad-159">ladicí program Hello automaticky připojí toohello odpovídající hostitelský proces pro vaši roli.</span><span class="sxs-lookup"><span data-stu-id="793ad-159">hello debugger automatically attaches toohello appropriate host process for your role.</span></span> <span data-ttu-id="793ad-160">V závislosti na tom, jaké hello role je toow3wp.exe připojí ladicí program hello, WaWorkerHost.exe nebo WaIISHost.exe.</span><span class="sxs-lookup"><span data-stu-id="793ad-160">Depending on what hello role is, hello debugger attaches toow3wp.exe, WaWorkerHost.exe, or WaIISHost.exe.</span></span> <span data-ttu-id="793ad-161">je připojen ladicí program tooverify hello proces toowhich hello, rozbalte uzel hello instance v Průzkumníku serveru.</span><span class="sxs-lookup"><span data-stu-id="793ad-161">tooverify hello process toowhich hello debugger is attached, expand hello instance node in Server Explorer.</span></span> <span data-ttu-id="793ad-162">V tématu [architektura Role Azure](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) Další informace o Azure procesy.</span><span class="sxs-lookup"><span data-stu-id="793ad-162">See [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) for more information about Azure processes.</span></span>

    ![Vyberte typ kód – dialogové okno](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
4. <span data-ttu-id="793ad-164">tooidentify hello procesy, které je připojen ladicí program hello toowhich, otevřete hello procesy dialogové okno, v nabídce hello panelu Výběr ladění, Windows, procesy.</span><span class="sxs-lookup"><span data-stu-id="793ad-164">tooidentify hello processes toowhich hello debugger is attached, open hello Processes dialog box by, on hello menu bar, choosing Debug, Windows, Processes.</span></span> <span data-ttu-id="793ad-165">(Klávesové: Ctrl + Alt + Z) toodetach konkrétního procesu otevřete jeho místní nabídce a potom vyberte **odpojit proces**.</span><span class="sxs-lookup"><span data-stu-id="793ad-165">(Keyboard: Ctrl+Alt+Z)toodetach a specific process, open its shortcut menu, and then select **Detach Process**.</span></span> <span data-ttu-id="793ad-166">Nebo, najít uzel hello instance v Průzkumníku serveru, najít hello proces, otevřete jeho místní nabídky a pak vyberte **odpojit proces**.</span><span class="sxs-lookup"><span data-stu-id="793ad-166">Or, locate hello instance node in Server Explorer, find hello process, open its shortcut menu, and then select **Detach Process**.</span></span>

    ![Ladění procesů](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC690787.gif)

> [!WARNING]
> <span data-ttu-id="793ad-168">Vyhněte se dlouho se zastavuje na zarážky při vzdáleném ladění.</span><span class="sxs-lookup"><span data-stu-id="793ad-168">Avoid long stops at breakpoints when remote debugging.</span></span> <span data-ttu-id="793ad-169">Azure zpracovává proces, který je zastavena po dobu delší než několik minut jako reagovat a zastaví odesílání přenosů toothat instance.</span><span class="sxs-lookup"><span data-stu-id="793ad-169">Azure treats a process that's stopped for longer than a few minutes as unresponsive and stops sending traffic toothat instance.</span></span> <span data-ttu-id="793ad-170">Pokud zastavíte příliš dlouho, msvsmon.exe odpojí z procesu hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-170">If you stop for too long, msvsmon.exe detaches from hello process.</span></span>
>
>

<span data-ttu-id="793ad-171">ladicí program hello toodetach ze všech procesů ve vaší instanci nebo role, otevřete hello místní nabídku pro hello role nebo instance, kterou ladíte a potom vyberte **odpojit ladicí program**.</span><span class="sxs-lookup"><span data-stu-id="793ad-171">toodetach hello debugger from all processes in your instance or role, open hello shortcut menu for hello role or instance that you're debugging, and then select **Detach Debugger**.</span></span>

## <a name="limitations-of-remote-debugging-in-azure"></a><span data-ttu-id="793ad-172">Omezení pro vzdálené ladění v Azure</span><span class="sxs-lookup"><span data-stu-id="793ad-172">Limitations of remote debugging in Azure</span></span>
<span data-ttu-id="793ad-173">Z Azure SDK 2.3 vzdálené ladění má následující omezení hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-173">From Azure SDK 2.3, remote debugging has hello following limitations.</span></span>

* <span data-ttu-id="793ad-174">S vzdálené ladění povoleno, nelze publikovat Cloudová služba, ve kterém žádné role, má víc než 25 instancí.</span><span class="sxs-lookup"><span data-stu-id="793ad-174">With remote debugging enabled, you can't publish a cloud service in which any role has more than 25 instances.</span></span>
* <span data-ttu-id="793ad-175">ladicí program Hello používá 30400 too30424 porty, 31400 too31424 a 32400 too32424.</span><span class="sxs-lookup"><span data-stu-id="793ad-175">hello debugger uses ports 30400 too30424, 31400 too31424 and 32400 too32424.</span></span> <span data-ttu-id="793ad-176">Pokud toouse pokusíte některý z těchto portů, nebudete moct toopublish, služby a jeden z následujících chybových zpráv hello se zobrazí v protokolu aktivit hello pro Azure:</span><span class="sxs-lookup"><span data-stu-id="793ad-176">If you try toouse any of these ports, you won't be able toopublish your service, and one of hello following error messages will appear in hello activity log for Azure:</span></span>

  * <span data-ttu-id="793ad-177">Chyba při ověřování hello souboru .cscfg proti souboru .csdef hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-177">Error validating hello .cscfg file against hello .csdef file.</span></span>
    <span data-ttu-id="793ad-178">Hello vyhrazený rozsah portů "rozsah" pro koncový bod, který Microsoft.WindowsAzure.Plugins.RemoteDebugger.Connector role role se překrývá s již definovaný port nebo rozsah.</span><span class="sxs-lookup"><span data-stu-id="793ad-178">hello reserved port range 'range' for endpoint Microsoft.WindowsAzure.Plugins.RemoteDebugger.Connector of role 'role' overlaps with an already defined port or range.</span></span>
  * <span data-ttu-id="793ad-179">Přidělení se nezdařilo.</span><span class="sxs-lookup"><span data-stu-id="793ad-179">Allocation failed.</span></span> <span data-ttu-id="793ad-180">Opakujte akci později, zkuste zmenšit hello velikost virtuálního počítače nebo počet instancí role nebo vyzkoušejte nasazení tooa jiné oblasti.</span><span class="sxs-lookup"><span data-stu-id="793ad-180">Please retry later, try reducing hello VM size or number of role instances, or try deploying tooa different region.</span></span>

## <a name="debugging-azure-virtual-machines"></a><span data-ttu-id="793ad-181">Ladění virtuální počítače Azure</span><span class="sxs-lookup"><span data-stu-id="793ad-181">Debugging Azure virtual machines</span></span>
<span data-ttu-id="793ad-182">Můžete ladit programy, které běží na virtuálních počítačích Azure s použitím Průzkumníka serveru v sadě Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="793ad-182">You can debug programs that run on Azure virtual machines by using Server Explorer in Visual Studio.</span></span> <span data-ttu-id="793ad-183">Když povolíte vzdálené ladění na virtuální počítač Azure, Azure nainstaluje hello vzdáleného ladění rozšíření ve virtuálním počítači hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-183">When you enable remote debugging on an Azure virtual machine, Azure installs hello remote debugging extension on hello virtual machine.</span></span> <span data-ttu-id="793ad-184">Pak můžete připojit tooprocesses hello virtuálního počítače a ladění běžným způsobem.</span><span class="sxs-lookup"><span data-stu-id="793ad-184">Then, you can attach tooprocesses on hello virtual machine and debug as you normally would.</span></span>

> [!NOTE]
> <span data-ttu-id="793ad-185">Virtuální počítače vytvořené přes hello Azure resource manager protokolů můžete vzdáleně ladit pomocí Průzkumníku cloudu ve Visual Studiu 2015.</span><span class="sxs-lookup"><span data-stu-id="793ad-185">Virtual machines created through hello Azure resource manager stack can be remotely debugged by using Cloud Explorer in Visual Studio 2015.</span></span> <span data-ttu-id="793ad-186">Další informace najdete v tématu [Správa prostředků Azure pomocí Průzkumníku cloudu](http://go.microsoft.com/fwlink/?LinkId=623031).</span><span class="sxs-lookup"><span data-stu-id="793ad-186">For more information, see [Managing Azure Resources with Cloud Explorer](http://go.microsoft.com/fwlink/?LinkId=623031).</span></span>
>
>

### <a name="toodebug-an-azure-virtual-machine"></a><span data-ttu-id="793ad-187">toodebug virtuální počítač Azure</span><span class="sxs-lookup"><span data-stu-id="793ad-187">toodebug an Azure virtual machine</span></span>
1. <span data-ttu-id="793ad-188">V Průzkumníku serveru rozbalte uzel hello virtuální počítače a vyberte hello uzel hello virtuálního počítače, které chcete toodebug.</span><span class="sxs-lookup"><span data-stu-id="793ad-188">In Server Explorer, expand hello Virtual Machines node and select hello node of hello virtual machine that you want toodebug.</span></span>
2. <span data-ttu-id="793ad-189">Otevřete hello kontextovou nabídku a vyberte **povolit ladění**.</span><span class="sxs-lookup"><span data-stu-id="793ad-189">Open hello context menu and select **Enable Debugging**.</span></span> <span data-ttu-id="793ad-190">Když se zobrazí dotaz, pokud jste si jisti, zda chcete tooenable ladění na hello virtuálního počítače, vyberte **Ano**.</span><span class="sxs-lookup"><span data-stu-id="793ad-190">When asked if you're sure if you want tooenable debugging on hello virtual machine, select **Yes**.</span></span>

    <span data-ttu-id="793ad-191">Azure nainstaluje hello vzdáleného ladění rozšíření ladění tooenable hello virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="793ad-191">Azure installs hello remote debugging extension on hello virtual machine tooenable debugging.</span></span>

    ![Virtuální počítač povolit ladění příkaz](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Protokol činnosti Azure](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)
3. <span data-ttu-id="793ad-194">Po dokončení instalace vzdáleného ladění rozšíření hello otevřete kontextu nabídku hello virtuálního počítače a vyberte možnost **připojit ladicí program...**</span><span class="sxs-lookup"><span data-stu-id="793ad-194">After hello remote debugging extension finishes installing, open hello virtual machine's context menu and select **Attach Debugger...**</span></span>

    <span data-ttu-id="793ad-195">Azure získá seznam procesů, hello hello virtuálního počítače a zobrazí je v dialogovém okně tooProcess hello připojit.</span><span class="sxs-lookup"><span data-stu-id="793ad-195">Azure gets a list of hello processes on hello virtual machine and shows them in hello Attach tooProcess dialog box.</span></span>

    ![Připojit ladicí program příkaz](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)
4. <span data-ttu-id="793ad-197">V hello **připojit tooProcess** dialogové okno, vyberte **vyberte** toolimit hello výsledky seznamu tooshow pouze hello typy kódu chcete toodebug.</span><span class="sxs-lookup"><span data-stu-id="793ad-197">In hello **Attach tooProcess** dialog box, select **Select** toolimit hello results list tooshow only hello types of code you want toodebug.</span></span> <span data-ttu-id="793ad-198">Můžete ladit 32 - nebo 64bitový spravovaný kód, nativního kódu nebo obojí.</span><span class="sxs-lookup"><span data-stu-id="793ad-198">You can debug 32- or 64-bit managed code, native code, or both.</span></span>

    ![Vyberte typ kód – dialogové okno](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
5. <span data-ttu-id="793ad-200">Vyberte hello procesy mají toodebug hello virtuálního počítače a potom vyberte **Attach**.</span><span class="sxs-lookup"><span data-stu-id="793ad-200">Select hello processes you want toodebug on hello virtual machine and then select **Attach**.</span></span> <span data-ttu-id="793ad-201">Například můžete zvolit proces w3wp.exe hello, pokud jste chtěli toodebug webové aplikace na virtuálním počítači hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-201">For example, you might choose hello w3wp.exe process if you wanted toodebug a web app on hello virtual machine.</span></span> <span data-ttu-id="793ad-202">V tématu [ladění jeden nebo více procesy v sadě Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) a [architektura Role Azure](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) Další informace.</span><span class="sxs-lookup"><span data-stu-id="793ad-202">See [Debug One or More Processes in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) and [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) for more information.</span></span>

## <a name="create-a-web-project-and-a-virtual-machine-for-debugging"></a><span data-ttu-id="793ad-203">Vytvoření webového projektu a virtuální počítač pro ladění</span><span class="sxs-lookup"><span data-stu-id="793ad-203">Create a web project and a virtual machine for debugging</span></span>
<span data-ttu-id="793ad-204">Před publikováním projektu Azure, může pro vás užitečné tootest v prostředí s omezením podporující ladění a testování scénáře a kde můžete nainstalovat testování a monitorování programy.</span><span class="sxs-lookup"><span data-stu-id="793ad-204">Before publishing your Azure project, you might find it useful tootest it in a contained environment that supports debugging and testing scenarios, and where you can install testing and monitoring programs.</span></span> <span data-ttu-id="793ad-205">Jedním ze způsobů toodo jde tooremotely ladění aplikace s virtuálním počítačem.</span><span class="sxs-lookup"><span data-stu-id="793ad-205">One way toodo this is tooremotely debug your app on a virtual machine.</span></span>

<span data-ttu-id="793ad-206">Projekty Visual Studio ASP.NET nabízejí toocreate možnost užitečný virtuální počítač, který můžete použít pro testování aplikace.</span><span class="sxs-lookup"><span data-stu-id="793ad-206">Visual Studio ASP.NET projects offer an option toocreate a handy virtual machine that you can use for app testing.</span></span> <span data-ttu-id="793ad-207">virtuální počítač Hello zahrnuje běžně potřeby koncových bodů například prostředí PowerShell, vzdálené plochy a WebDeploy.</span><span class="sxs-lookup"><span data-stu-id="793ad-207">hello virtual machine includes commonly-needed endpoints such as PowerShell, remote desktop, and WebDeploy.</span></span>

### <a name="toocreate-a-web-project-and-a-virtual-machine-for-debugging"></a><span data-ttu-id="793ad-208">toocreate webový projekt a virtuální počítač pro ladění</span><span class="sxs-lookup"><span data-stu-id="793ad-208">toocreate a web project and a virtual machine for debugging</span></span>
1. <span data-ttu-id="793ad-209">V sadě Visual Studio vytvořte novou webovou aplikaci ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="793ad-209">In Visual Studio, create a new ASP.NET Web Application.</span></span>
2. <span data-ttu-id="793ad-210">V dialogovém okně Nový projekt ASP.NET hello, v hello Azure části, zvolte **virtuálního počítače** v rozevíracím seznamu hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-210">In hello New ASP.NET Project dialog, in hello Azure section, choose **Virtual Machine** in hello dropdown list box.</span></span> <span data-ttu-id="793ad-211">Nechte hello **vytvořit vzdálené prostředky** zaškrtnuté políčko.</span><span class="sxs-lookup"><span data-stu-id="793ad-211">Leave hello **Create remote resources** check box selected.</span></span> <span data-ttu-id="793ad-212">Vyberte **OK** tooproceed.</span><span class="sxs-lookup"><span data-stu-id="793ad-212">Select **OK** tooproceed.</span></span>

    <span data-ttu-id="793ad-213">Hello **vytvořit virtuální počítač na platformě Azure** zobrazí se dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="793ad-213">hello **Create virtual machine on Azure** dialog box appears.</span></span>

    ![ASP.NET webového projektu dialogové okno vytvořit](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746723.png)

    <span data-ttu-id="793ad-215">**Poznámka:** budete dotázáni, toosign v tooyour účet Azure Pokud jste již přihlášeni.</span><span class="sxs-lookup"><span data-stu-id="793ad-215">**Note:** You'll be asked toosign in tooyour Azure account if you're not already signed in.</span></span>

1. <span data-ttu-id="793ad-216">Vyberte hello různá nastavení pro hello virtuální počítač a potom vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="793ad-216">Select hello various settings for hello virtual machine and then select **OK**.</span></span> <span data-ttu-id="793ad-217">V tématu [virtuální počítače](http://go.microsoft.com/fwlink/?LinkId=623033) Další informace.</span><span class="sxs-lookup"><span data-stu-id="793ad-217">See [Virtual Machines](http://go.microsoft.com/fwlink/?LinkId=623033) for more information.</span></span>

    <span data-ttu-id="793ad-218">Název Hello, které zadáte pro název DNS bude hello název hello virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="793ad-218">hello name you enter for DNS name will be hello name of hello virtual machine.</span></span>

    ![Vytvoření virtuálního počítače na Azure dialogové okno](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746724.png)

    <span data-ttu-id="793ad-220">Azure vytvoří hello virtuálního počítače a pak poskytuje a konfiguruje hello koncových bodů, jako je vzdálené plochy a nasazení webu</span><span class="sxs-lookup"><span data-stu-id="793ad-220">Azure creates hello virtual machine and then provisions and configures hello endpoints, such as Remote Desktop and Web Deploy</span></span>
2. <span data-ttu-id="793ad-221">Po nakonfigurování hello virtuální počítač vyberte uzel hello virtuálního počítače v Průzkumníku serveru.</span><span class="sxs-lookup"><span data-stu-id="793ad-221">After hello virtual machine is fully configured, select hello virtual machine’s node in Server Explorer.</span></span>
3. <span data-ttu-id="793ad-222">Otevřete hello kontextovou nabídku a vyberte **povolit ladění**.</span><span class="sxs-lookup"><span data-stu-id="793ad-222">Open hello context menu and select **Enable Debugging**.</span></span> <span data-ttu-id="793ad-223">Když se zobrazí dotaz, pokud jste si jisti, zda chcete tooenable ladění na hello virtuálního počítače, vyberte **Ano**.</span><span class="sxs-lookup"><span data-stu-id="793ad-223">When asked if you're sure if you want tooenable debugging on hello virtual machine, select **Yes**.</span></span>

    <span data-ttu-id="793ad-224">Azure nainstaluje hello vzdálené ladění rozšíření toohello virtuální počítač tooenable ladění.</span><span class="sxs-lookup"><span data-stu-id="793ad-224">Azure installs hello remote debugging extension toohello virtual machine tooenable debugging.</span></span>

    ![Virtuální počítač povolit ladění příkaz](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Protokol činnosti Azure](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)
4. <span data-ttu-id="793ad-227">Publikování projektu, jak je uvedeno v [postupy: nasazení webového projektu pomocí publikování jedním kliknutím v sadě Visual Studio](https://msdn.microsoft.com/library/dd465337.aspx).</span><span class="sxs-lookup"><span data-stu-id="793ad-227">Publish your project as outlined in [How to: Deploy a Web Project Using One-Click Publish in Visual Studio](https://msdn.microsoft.com/library/dd465337.aspx).</span></span> <span data-ttu-id="793ad-228">Protože chcete, aby toodebug na hello virtuálním počítači, na hello **nastavení** stránku hello **Publikovat Web** průvodci vyberte **ladění** jako hello konfigurace.</span><span class="sxs-lookup"><span data-stu-id="793ad-228">Because you want toodebug on hello virtual machine, on hello **Settings** page of hello **Publish Web** wizard, select **Debug** as hello configuration.</span></span> <span data-ttu-id="793ad-229">Tím je zajištěno, že symboly kódu jsou k dispozici při ladění.</span><span class="sxs-lookup"><span data-stu-id="793ad-229">This makes sure that code symbols are available while debugging.</span></span>

    ![Nastavení publikování](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718349.png)
5. <span data-ttu-id="793ad-231">V hello **možností publikování souboru**, vyberte **odebrat další soubory v cílovém umístění** Pokud hello projekt již byl nasazen na dřívější čas.</span><span class="sxs-lookup"><span data-stu-id="793ad-231">In hello **File Publish Options**, select **Remove additional files at destination** if hello project was already deployed at an earlier time.</span></span>
6. <span data-ttu-id="793ad-232">Když projekt hello publikuje v místní nabídce hello virtuálního počítače v Průzkumníku serveru, vyberte **připojit ladicí program...**</span><span class="sxs-lookup"><span data-stu-id="793ad-232">After hello project publishes, on hello virtual machine's context menu in Server Explorer, select **Attach Debugger...**</span></span>

    <span data-ttu-id="793ad-233">Azure získá seznam procesů, hello hello virtuálního počítače a zobrazí je v dialogovém okně tooProcess hello připojit.</span><span class="sxs-lookup"><span data-stu-id="793ad-233">Azure gets a list of hello processes on hello virtual machine and shows them in hello Attach tooProcess dialog box.</span></span>

    ![Připojit ladicí program příkaz](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)
7. <span data-ttu-id="793ad-235">V hello **připojit tooProcess** dialogové okno, vyberte **vyberte** toolimit hello výsledky seznamu tooshow pouze hello typy kódu chcete toodebug.</span><span class="sxs-lookup"><span data-stu-id="793ad-235">In hello **Attach tooProcess** dialog box, select **Select** toolimit hello results list tooshow only hello types of code you want toodebug.</span></span> <span data-ttu-id="793ad-236">Můžete ladit 32 - nebo 64bitový spravovaný kód, nativního kódu nebo obojí.</span><span class="sxs-lookup"><span data-stu-id="793ad-236">You can debug 32- or 64-bit managed code, native code, or both.</span></span>

    ![Vyberte typ kód – dialogové okno](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
8. <span data-ttu-id="793ad-238">Vyberte hello procesy mají toodebug hello virtuálního počítače a potom vyberte **Attach**.</span><span class="sxs-lookup"><span data-stu-id="793ad-238">Select hello processes you want toodebug on hello virtual machine and then select **Attach**.</span></span> <span data-ttu-id="793ad-239">Například můžete zvolit proces w3wp.exe hello, pokud jste chtěli toodebug webové aplikace na virtuálním počítači hello.</span><span class="sxs-lookup"><span data-stu-id="793ad-239">For example, you might choose hello w3wp.exe process if you wanted toodebug a web app on hello virtual machine.</span></span> <span data-ttu-id="793ad-240">V tématu [ladění jeden nebo více procesy v sadě Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) Další informace.</span><span class="sxs-lookup"><span data-stu-id="793ad-240">See [Debug One or More Processes in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="793ad-241">Další kroky</span><span class="sxs-lookup"><span data-stu-id="793ad-241">Next steps</span></span>
* <span data-ttu-id="793ad-242">Použití **Intellitrace** toocollect protokolu volání a událostí ze serveru verze.</span><span class="sxs-lookup"><span data-stu-id="793ad-242">Use **Intellitrace** toocollect a log of calls and events from a release server.</span></span> <span data-ttu-id="793ad-243">V tématu [ladění publikované Cloudová služba se IntelliTrace a Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016).</span><span class="sxs-lookup"><span data-stu-id="793ad-243">See [Debugging a Published Cloud Service with IntelliTrace and Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016).</span></span>
* <span data-ttu-id="793ad-244">Použití **Azure Diagnostics** toolog podrobné informace o spouštění kódu v rámci role, zda text hello role běží ve vývojovém prostředí hello nebo v Azure.</span><span class="sxs-lookup"><span data-stu-id="793ad-244">Use **Azure Diagnostics** toolog detailed information from code running within roles, whether hello roles are running in hello development environment or in Azure.</span></span> <span data-ttu-id="793ad-245">V tématu [shromažďování dat protokolování pomocí Azure Diagnostics](http://go.microsoft.com/fwlink/p/?LinkId=400450).</span><span class="sxs-lookup"><span data-stu-id="793ad-245">See [Collecting logging data by using Azure Diagnostics](http://go.microsoft.com/fwlink/p/?LinkId=400450).</span></span>
