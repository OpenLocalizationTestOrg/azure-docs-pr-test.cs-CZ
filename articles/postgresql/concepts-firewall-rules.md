---
title: "Databáze Azure pro pravidla brány firewall serveru PostgreSQL | Microsoft Docs"
description: "Popisuje pravidla brány firewall pro vaši databázi Azure pro PostgreSQL server."
services: postgresql
author: jasonwhowell
ms.author: jasonh
manager: jhubbard
editor: jasonwhowell
ms.service: postgresql
ms.topic: article
ms.date: 05/10/2017
ms.openlocfilehash: 1d46a4434c483c3612a9a7b4cdef718d6dc3e765
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/06/2017
---
# <a name="azure-database-for-postgresql-server-firewall-rules"></a><span data-ttu-id="bd99f-103">Databáze Azure pro pravidla brány firewall serveru PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="bd99f-103">Azure Database for PostgreSQL Server firewall rules</span></span>
<span data-ttu-id="bd99f-104">Brány firewall zabránit všechny přístup tooyour databázový server, dokud nezadáte, které počítače mají oprávnění.</span><span class="sxs-lookup"><span data-stu-id="bd99f-104">Firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="bd99f-105">brány firewall Hello uděluje přístup k serveru toohello podle hello pocházející IP adresu každého požadavku.</span><span class="sxs-lookup"><span data-stu-id="bd99f-105">hello firewall grants access toohello server based on hello originating IP address of each request.</span></span>
<span data-ttu-id="bd99f-106">tooconfigure brány firewall, vytvořte pravidla firewallu, která zadejte rozsahy IP adres, přijatelný.</span><span class="sxs-lookup"><span data-stu-id="bd99f-106">tooconfigure your firewall, you create firewall rules that specify ranges of acceptable IP addresses.</span></span> <span data-ttu-id="bd99f-107">Můžete vytvořit pravidla brány firewall na úrovni serveru hello.</span><span class="sxs-lookup"><span data-stu-id="bd99f-107">You can create firewall rules at hello server level.</span></span>

<span data-ttu-id="bd99f-108">**Pravidla brány firewall:** tato pravidla povolit klienty tooaccess celou databázi Azure pro PostgreSQL Server, tedy hello všechny hello databází v rámci stejného logického serveru.</span><span class="sxs-lookup"><span data-stu-id="bd99f-108">**Firewall rules:** These rules enable clients tooaccess your entire Azure Database for PostgreSQL Server, that is, all hello databases within hello same logical server.</span></span> <span data-ttu-id="bd99f-109">Pravidla brány firewall na úrovni serveru se dá nakonfigurovat pomocí hello portál Azure nebo pomocí rozhraní příkazového řádku Azure.</span><span class="sxs-lookup"><span data-stu-id="bd99f-109">Server-level firewall rules can be configured by using hello Azure portal or using Azure CLI commands.</span></span> <span data-ttu-id="bd99f-110">brány firewall na úrovni serveru toocreate pravidla, musí být Přispěvatel předplatné nebo vlastníka předplatného hello.</span><span class="sxs-lookup"><span data-stu-id="bd99f-110">toocreate server-level firewall rules, you must be hello subscription owner or a subscription contributor.</span></span>

## <a name="firewall-overview"></a><span data-ttu-id="bd99f-111">Přehled brány firewall</span><span class="sxs-lookup"><span data-stu-id="bd99f-111">Firewall overview</span></span>
<span data-ttu-id="bd99f-112">Všechny databáze tooyour přístup k databázi Azure pro PostgreSQL server je blokován bránou hello firewall ve výchozím nastavení.</span><span class="sxs-lookup"><span data-stu-id="bd99f-112">All database access tooyour Azure Database for PostgreSQL server is blocked by hello firewall by default.</span></span> <span data-ttu-id="bd99f-113">toobegin pomocí serveru z jiného počítače, je nutné toospecify jeden nebo více úrovni serveru brány firewall pravidla tooenable přístup tooyour serveru.</span><span class="sxs-lookup"><span data-stu-id="bd99f-113">toobegin using your server from another computer, you need toospecify one or more server-level firewall rules tooenable access tooyour server.</span></span> <span data-ttu-id="bd99f-114">Použijte toospecify pravidla brány firewall hello rozsahy IP adresu, která z Internetu tooallow hello.</span><span class="sxs-lookup"><span data-stu-id="bd99f-114">Use hello firewall rules toospecify which IP address ranges from hello Internet tooallow.</span></span> <span data-ttu-id="bd99f-115">Toohello přístup k webu Azure portal, samotné nebude ovlivněné hello pravidla brány firewall.</span><span class="sxs-lookup"><span data-stu-id="bd99f-115">Access toohello Azure portal website itself is not impacted by hello firewall rules.</span></span>
<span data-ttu-id="bd99f-116">Hello pokusy o připojení z Internetu a Azure musí nejdřív projít přes bránu firewall hello než dosáhnou databáze PostgreSQL, jak je znázorněno v následujícím diagramu hello:</span><span class="sxs-lookup"><span data-stu-id="bd99f-116">Connection attempts from hello Internet and Azure must first pass through hello firewall before they can reach your PostgreSQL Database, as shown in hello following diagram:</span></span>

![Tok příklad toho, jak funguje hello brány firewall](media/concepts-firewall-rules/1-firewall-concept.png)

## <a name="connecting-from-hello-internet"></a><span data-ttu-id="bd99f-118">Připojení z Internetu hello</span><span class="sxs-lookup"><span data-stu-id="bd99f-118">Connecting from hello Internet</span></span>
<span data-ttu-id="bd99f-119">Pravidla brány firewall na úrovni serveru použít tooall databází na hello Azure databáze pro PostgreSQL server.</span><span class="sxs-lookup"><span data-stu-id="bd99f-119">Server-level firewall rules apply tooall databases on hello Azure Database for PostgreSQL server.</span></span> <span data-ttu-id="bd99f-120">Pokud IP adresa hello hello požadavku je do jedné z hello rozsahů určených v hello pravidla brány firewall na úrovni serveru, jsou udělena hello připojení.</span><span class="sxs-lookup"><span data-stu-id="bd99f-120">If hello IP address of hello request is within one of hello ranges specified in hello server-level firewall rules, hello connection is granted.</span></span>
<span data-ttu-id="bd99f-121">Pokud IP adresa hello hello požadavku není v rámci hello rozsahy zadanému v některém z hello úroveň databáze nebo pravidla brány firewall na úrovni serveru, hello žádost o připojení selže.</span><span class="sxs-lookup"><span data-stu-id="bd99f-121">If hello IP address of hello request is not within hello ranges specified in any of hello database-level or server-level firewall rules, hello connection request fails.</span></span>
<span data-ttu-id="bd99f-122">Například pokud vaše aplikace připojí k ovladač JDBC pro PostgreSQL, se může zobrazit tuto chybu pokus tooconnect při hello brána firewall blokuje připojení hello.</span><span class="sxs-lookup"><span data-stu-id="bd99f-122">For example, if your application connects with JDBC driver for PostgreSQL, you may encounter this error attempting tooconnect when hello firewall is blocking hello connection.</span></span>
> <span data-ttu-id="bd99f-123">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: závažná: žádné pg\_hba.conf položka pro uživatele "adminuser" hostitel "123.45.67.890", databáze "postgresql", SSL</span><span class="sxs-lookup"><span data-stu-id="bd99f-123">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: no pg\_hba.conf entry for host "123.45.67.890", user "adminuser", database "postgresql", SSL</span></span>

## <a name="programmatically-managing-firewall-rules"></a><span data-ttu-id="bd99f-124">Programová správa pravidel brány firewall</span><span class="sxs-lookup"><span data-stu-id="bd99f-124">Programmatically managing firewall rules</span></span>
<span data-ttu-id="bd99f-125">Kromě toho toohello portál Azure, brána firewall, který může být pravidla spravované programově pomocí rozhraní příkazového řádku Azure.</span><span class="sxs-lookup"><span data-stu-id="bd99f-125">In addition toohello Azure portal, firewall rules can be managed programmatically using Azure CLI.</span></span>
<span data-ttu-id="bd99f-126">Viz také [vytvořit a spravovat databáze Azure pro pravidla brány firewall PostgreSQL pomocí rozhraní příkazového řádku Azure](howto-manage-firewall-using-cli.md)</span><span class="sxs-lookup"><span data-stu-id="bd99f-126">See also [Create and manage Azure Database for PostgreSQL firewall rules using Azure CLI](howto-manage-firewall-using-cli.md)</span></span>

## <a name="troubleshooting-hello-database-firewall"></a><span data-ttu-id="bd99f-127">Řešení potíží s hello databáze brány firewall</span><span class="sxs-lookup"><span data-stu-id="bd99f-127">Troubleshooting hello database firewall</span></span>
<span data-ttu-id="bd99f-128">Mějte na paměti následující body při přístupu toohello databáze Microsoft Azure pro službu PostgreSQL Server tak, jak očekáváte, že hello:</span><span class="sxs-lookup"><span data-stu-id="bd99f-128">Consider hello following points when access toohello Microsoft Azure Database for PostgreSQL Server service does not behave as you expect:</span></span>

* <span data-ttu-id="bd99f-129">**Seznam povolených změny toohello ještě nevstoupilo v platnost:** může být co nejvíce pět minut zpoždění pro změny toohello databáze Azure pro efekt tootake konfigurace brány firewall serveru PostgreSQL.</span><span class="sxs-lookup"><span data-stu-id="bd99f-129">**Changes toohello allow list have not taken effect yet:** There may be as much as a five-minute delay for changes toohello Azure Database for PostgreSQL Server firewall configuration tootake effect.</span></span>

* <span data-ttu-id="bd99f-130">**Hello přihlášení nemá oprávnění nebo nesprávné heslo byl použit:** Pokud přihlášení nemá oprávnění na hello databáze Azure pro PostgreSQL serveru nebo hello heslo používané je nesprávná, hello toohello připojení databáze Azure pro PostgreSQL server je byl odepřen.</span><span class="sxs-lookup"><span data-stu-id="bd99f-130">**hello login is not authorized or an incorrect password was used:** If a login does not have permissions on hello Azure Database for PostgreSQL server or hello password used is incorrect, hello connection toohello Azure Database for PostgreSQL server is denied.</span></span> <span data-ttu-id="bd99f-131">Vytvoření nastavení brány firewall pouze poskytuje klientům tooattempt možnost připojení serveru tooyour; Každý klient musí poskytnout hello potřebná zabezpečovací pověření.</span><span class="sxs-lookup"><span data-stu-id="bd99f-131">Creating a firewall setting only provides clients with an opportunity tooattempt connecting tooyour server; each client must provide hello necessary security credentials.</span></span>

<span data-ttu-id="bd99f-132">Například pomocí klienta JDBC, může zobrazit hello následující chyba.</span><span class="sxs-lookup"><span data-stu-id="bd99f-132">For example, using a JDBC client, hello following error may appear.</span></span>
> <span data-ttu-id="bd99f-133">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: závažná: selhalo ověřování hesla pro uživatele "uživatelské_jméno"</span><span class="sxs-lookup"><span data-stu-id="bd99f-133">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: password authentication failed for user "yourusername"</span></span>

* <span data-ttu-id="bd99f-134">**Dynamickou IP adresu:** Pokud máte připojení k Internetu pomocí dynamické IP adresy a máte potíže získávání přes bránu firewall hello, mohou zkuste jednu z následujících řešení hello:</span><span class="sxs-lookup"><span data-stu-id="bd99f-134">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through hello firewall, you could try one of hello following solutions:</span></span>

* <span data-ttu-id="bd99f-135">Zeptejte se, že poskytovatele služeb Internetu (ISP) pro rozsah IP adres hello hello tento přístup k databázi Azure přiřadili tooyour klientské počítače pro PostgreSQL Server a poté přidejte hello rozsah IP adres jako pravidlo brány firewall.</span><span class="sxs-lookup"><span data-stu-id="bd99f-135">Ask your Internet Service Provider (ISP) for hello IP address range assigned tooyour client computers that access hello Azure Database for PostgreSQL Server, and then add hello IP address range as a firewall rule.</span></span>

* <span data-ttu-id="bd99f-136">Získat statické IP adresy místo pro klientské počítače a poté přidejte hello IP adresy jako pravidla brány firewall.</span><span class="sxs-lookup"><span data-stu-id="bd99f-136">Get static IP addressing instead for your client computers, and then add hello IP addresses as firewall rules.</span></span>

## <a name="next-steps"></a><span data-ttu-id="bd99f-137">Další kroky</span><span class="sxs-lookup"><span data-stu-id="bd99f-137">Next steps</span></span>
<span data-ttu-id="bd99f-138">Články o vytvoření pravidla brány firewall serveru úroveň a databáze naleznete na stránce:</span><span class="sxs-lookup"><span data-stu-id="bd99f-138">For articles on creating server-level and database-level firewall rules, see:</span></span>
* [<span data-ttu-id="bd99f-139">Vytvářet a spravovat databáze Azure pro pravidla brány firewall PostgreSQL pomocí hello portálu Azure</span><span class="sxs-lookup"><span data-stu-id="bd99f-139">Create and manage Azure Database for PostgreSQL firewall rules using hello Azure portal</span></span>](howto-manage-firewall-using-portal.md)
* [<span data-ttu-id="bd99f-140">Vytvářet a spravovat databáze Azure pro pravidla brány firewall PostgreSQL pomocí rozhraní příkazového řádku Azure</span><span class="sxs-lookup"><span data-stu-id="bd99f-140">Create and manage Azure Database for PostgreSQL firewall rules using Azure CLI</span></span>](howto-manage-firewall-using-cli.md)