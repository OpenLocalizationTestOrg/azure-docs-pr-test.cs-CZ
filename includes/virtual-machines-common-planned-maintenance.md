<span data-ttu-id="6bdcd-101">Azure pravidelně provádí aktualizace tooimprove hello spolehlivost, výkon a zabezpečení infrastruktury hello hostitele pro virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-101">Azure periodically performs updates tooimprove hello reliability, performance, and security of hello host infrastructure for virtual machines.</span></span> <span data-ttu-id="6bdcd-102">Tyto aktualizace v rozsahu od opravy softwarové součásti v hello hostitelské prostředí (např. operační systém, hypervisor a různé agenty nasazený na hostiteli hello), upgrade síťových součástí, toohardware vyřazení z provozu.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-102">These updates range from patching software components in hello hosting environment (like operating system, hypervisor, and various agents deployed on hello host), upgrading networking components, toohardware decommissioning.</span></span> <span data-ttu-id="6bdcd-103">Většina Hello tyto aktualizace se provádějí bez jakékoli dopad toohello hostovaných virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-103">hello majority of these updates are performed without any impact toohello hosted virtual machines.</span></span> <span data-ttu-id="6bdcd-104">Ale existují případy, kdy aktualizace mít vliv:</span><span class="sxs-lookup"><span data-stu-id="6bdcd-104">However, there are cases where updates do have an impact:</span></span>

- <span data-ttu-id="6bdcd-105">Pokud hello údržby nevyžaduje restartování, používá Azure hello toopause místní migrace virtuálních počítačů během hello hostitele je aktualizována.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-105">If hello maintenance does not require a reboot, Azure uses in-place migration toopause hello VM while hello host is updated.</span></span>

- <span data-ttu-id="6bdcd-106">Pokud údržby vyžaduje restartování, dostanete oznámení o, když je plánované údržby hello.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-106">If maintenance requires a reboot, you get a notice of when hello maintenance is planned.</span></span> <span data-ttu-id="6bdcd-107">V těchto případech budete také mít k dispozici časový interval, kde můžete spustit hello údržby sami, v čase, který vám vyhovuje.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-107">In these cases, you'll also be given a time window where you can start hello maintenance yourself, at a time that works for you.</span></span>

<span data-ttu-id="6bdcd-108">Tato stránka popisuje, jak Microsoft Azure provádí oba typy údržby.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-108">This page describes how Microsoft Azure performs both types of maintenance.</span></span> <span data-ttu-id="6bdcd-109">Další informace o neplánované události (výpadků), najdete v části Správa hello dostupnosti virtuálních počítačů [Windows] (.. / articles/virtual-machines/windows/manage-availability.md) nebo [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="6bdcd-109">For more information about unplanned events (outages), see Manage hello availability of virtual machines for [Windows] (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>

<span data-ttu-id="6bdcd-110">Aplikace běžící na virtuálním počítači můžete shromáždění informací o budoucích aktualizacích pomocí hello Metadata služby Azure pro [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) nebo [Linux] (.. / articles/virtual-machines/linux/instance-metadata-service.md).</span><span class="sxs-lookup"><span data-stu-id="6bdcd-110">Applications running in a virtual machine can gather information about upcoming updates by using hello Azure Metadata Service for [Windows](../articles/virtual-machines/windows/instance-metadata-service.md) or [Linux] (../articles/virtual-machines/linux/instance-metadata-service.md).</span></span>

## <a name="in-place-vm-migration"></a><span data-ttu-id="6bdcd-111">Místní migrace virtuálních počítačů</span><span class="sxs-lookup"><span data-stu-id="6bdcd-111">In-place VM migration</span></span>

<span data-ttu-id="6bdcd-112">Když se aktualizace nevyžadují úplné restartování, použije se při migraci za provozu na místě.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-112">When updates don't require a full reboot, an in-place live migration is used.</span></span> <span data-ttu-id="6bdcd-113">Během aktualizace hello hello virtuálního počítače je pozastaven pro přibližně 30 sekund, zachování hello paměti RAM, během hello hostování prostředí hello potřebné aktualizace a opravy.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-113">During hello update hello virtual machine is paused for about 30 seconds, preserving hello memory in RAM, while hello hosting environment applies hello necessary updates and patches.</span></span> <span data-ttu-id="6bdcd-114">potom Hello virtuálního počítače obnoví a automaticky synchronizuje hodiny hello hello virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-114">hello virtual machine is then resumed and hello clock of hello virtual machine is automatically synchronized.</span></span>

<span data-ttu-id="6bdcd-115">U virtuálních počítačů ve skupinách dostupnosti aktualizace domény jsou aktualizované současně.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-115">For VMs in availability sets, update domains are updated one at a time.</span></span> <span data-ttu-id="6bdcd-116">Všechny virtuální počítače v jedné doméně aktualizace (UD) jsou pozastavena, aktualizovat a potom obnovit před plánovanou údržbu přesune na toohello další UD.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-116">All VMs in one update domain (UD) are paused, updated and then resumed before planned maintenance moves on toohello next UD.</span></span>

<span data-ttu-id="6bdcd-117">Některé aplikace může být ovlivněno tyto typy aktualizací.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-117">Some applications may be impacted by these types of updates.</span></span> <span data-ttu-id="6bdcd-118">Aplikace, které provádějí v reálném čase událostí zpracování, jako jsou datové proudy media nebo překódování nebo vysokou propustnost sítě scénáře, nemusí být navrženou tootolerate 30 sekundové pauzy.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-118">Applications that perform real-time event processing, like media streaming or transcoding, or high throughput networking scenarios, may not be designed tootolerate a 30 second pause.</span></span> <!-- sooooo, what should they do? --> 


## <a name="maintenance-requiring-a-reboot"></a><span data-ttu-id="6bdcd-119">Údržby, které vyžadují restartování</span><span class="sxs-lookup"><span data-stu-id="6bdcd-119">Maintenance requiring a reboot</span></span>

<span data-ttu-id="6bdcd-120">Pokud virtuální počítače potřebovat toobe restartovat kvůli plánované údržbě, zobrazí se zpráva předem.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-120">When VMs need toobe rebooted for planned maintenance, you are notified in advance.</span></span> <span data-ttu-id="6bdcd-121">Plánovaná údržba má dvě fáze: hello okno samoobslužné služby a plánované údržby.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-121">Planned maintenance has two phases: hello self-service window and a scheduled maintenance window.</span></span>

<span data-ttu-id="6bdcd-122">Hello **samoobslužné služby okno** umožňuje zahájení údržby hello na virtuální počítače.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-122">hello **self-service window** lets you initiate hello maintenance on your VMs.</span></span> <span data-ttu-id="6bdcd-123">Během této doby se můžete dotazovat jednotlivých virtuálních počítačů toosee jejich stav a zkontrolujte výsledek hello vaší poslední žádosti údržby.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-123">During this time, you can query each VM toosee their status and check hello result of your last maintenance request.</span></span>

<span data-ttu-id="6bdcd-124">Spouštění samoobslužné služby údržby je virtuální počítač přesunutý tooa uzlu, který již byl aktualizován a pak ho znovu zapne.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-124">When you start self-service maintenance, your VM is moved tooa node that has already been updated and then powers it back on.</span></span> <span data-ttu-id="6bdcd-125">Protože hello virtuální počítač se restartuje, dojde ke ztrátě dočasným diskovým hello a dynamické IP adresy přidružené k rozhraní virtuální sítě se aktualizují.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-125">Because hello VM reboots, hello temporary disk is lost and dynamic IP addresses associated with virtual network interface are updated.</span></span>

<span data-ttu-id="6bdcd-126">Pokud spustíte samoobslužné služby údržby a dojde k chybě během procesu hello, operace hello je zastavena, hello, není aktualizován virtuálních počítačů a se odebere i z iterace hello plánované údržby.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-126">If you start self-service maintenance and there is an error during hello process, hello operation is stopped, hello VM is not updated and it is also removed from hello planned maintenance iteration.</span></span> <span data-ttu-id="6bdcd-127">Můžete se kontaktovat v později pomocí nového plánu a nabízí novou možnost toodo samoobslužné služby údržby.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-127">You will be contacted in a later time with a new schedule and offered a new opportunity toodo self-service maintenance.</span></span> 

<span data-ttu-id="6bdcd-128">Když hello samoobslužné služby okno období uplyne, hello **plánované údržby** začne.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-128">When hello self-service window has passed, hello **scheduled maintenance window** begins.</span></span> <span data-ttu-id="6bdcd-129">Během této doby čas můžete stále dotazu pro hello údržby, ale již nebude možné toostart hello údržby sami.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-129">During this time window, you can still query for hello maintenance window, but no longer be able toostart hello maintenance yourself.</span></span>

## <a name="availability-considerations-during-planned-maintenance"></a><span data-ttu-id="6bdcd-130">Důležité informace o dostupnosti během plánované údržby</span><span class="sxs-lookup"><span data-stu-id="6bdcd-130">Availability Considerations during Planned Maintenance</span></span> 

<span data-ttu-id="6bdcd-131">Pokud se rozhodnete toowait dokud hello plánované údržby, existuje pár věcí tooconsider pro údržbu hello nejvyšší availabilty vaše virtuálních počítačů.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-131">If you decide toowait until hello planned maintenance window, there are a few things tooconsider for maintaining hello highest availabilty of your VMs.</span></span> 

### <a name="paired-regions"></a><span data-ttu-id="6bdcd-132">Spárované oblastí</span><span class="sxs-lookup"><span data-stu-id="6bdcd-132">Paired Regions</span></span>

<span data-ttu-id="6bdcd-133">Každé oblasti Azure je spárován s jinou oblast v rámci hello stejné geography, společně provádění pár místní.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-133">Each Azure region is paired with another region within hello same geography, together they make a regional pair.</span></span> <span data-ttu-id="6bdcd-134">Během plánované údržby bude Azure aktualizovat pouze hello virtuálních počítačů v jedné oblasti pár oblast.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-134">During planned maintenance, Azure will only update hello VMs in a single region of a region pair.</span></span> <span data-ttu-id="6bdcd-135">Například při aktualizaci hello virtuálních počítačů v Severní jihu USA, Azure nebude aktualizujte všechny virtuální počítače v jihu USA v hello stejnou dobu.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-135">For example, when updating hello Virtual Machines in North Central US, Azure will not update any Virtual Machines in South Central US at hello same time.</span></span> <span data-ttu-id="6bdcd-136">Ale jiných oblastech, jako je Severní Evropa může být v rámci údržby v hello stejný čas jako východní USA.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-136">However, other regions such as North Europe can be under maintenance at hello same time as East US.</span></span> <span data-ttu-id="6bdcd-137">Pochopení fungování oblast páry vám může pomoci lépe distribuovat virtuální počítače v oblastech.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-137">Understanding how region pairs work can help you better distribute your VMs across regions.</span></span> <span data-ttu-id="6bdcd-138">Další informace najdete v tématu [oblast Azure páry](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="6bdcd-138">For more information, see [Azure region pairs](https://docs.microsoft.com/azure/best-practices-availability-paired-regions).</span></span>

### <a name="availability-sets-and-scale-sets"></a><span data-ttu-id="6bdcd-139">Skupiny dostupnosti a sady škálování</span><span class="sxs-lookup"><span data-stu-id="6bdcd-139">Availability sets and scale sets</span></span>

<span data-ttu-id="6bdcd-140">Pokud nasazujete zatížení na virtuálních počítačích Azure, můžete vytvořit hello virtuálních počítačů v rámci aplikace tooyour vysokou dostupnost tooprovide sady dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-140">When deploying a workload on Azure VMs, you can create hello VMs within an availability set tooprovide high availability tooyour application.</span></span> <span data-ttu-id="6bdcd-141">To zajistí, že během výpadku nebo údržby událostí, je k dispozici alespoň jeden virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-141">This ensures that during either an outage or maintenance events, at least one virtual machine is available.</span></span>

<span data-ttu-id="6bdcd-142">V rámci skupiny dostupnosti jednotlivé virtuální počítače jsou rozloženy do too20 aktualizace domény (UDs).</span><span class="sxs-lookup"><span data-stu-id="6bdcd-142">Within an availability set, individual VMs are spread across up too20 update domains (UDs).</span></span> <span data-ttu-id="6bdcd-143">Během plánované údržby je v každém okamžiku dopad pouze jednu aktualizaci domény.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-143">During planned maintenance, only a single update domain is impacted at any given time.</span></span> <span data-ttu-id="6bdcd-144">Upozorňujeme, že pořadí hello aktualizace domén ovlivněný neodehrává nutně postupně.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-144">Be aware that hello order of update domains being impacted does not necessarily happen sequentially.</span></span> 

<span data-ttu-id="6bdcd-145">Sady škálování virtuálního počítače se Azure výpočtový prostředek, který vám umožní toodeploy a spravovat sadu identické virtuální počítače jako jeden prostředek.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-145">Virtual machine scale sets are an Azure compute resource that enables you toodeploy and manage a set of identical VMs as a single resource.</span></span> <span data-ttu-id="6bdcd-146">Sada škálování Hello je automaticky nasadí napříč doménami aktualizace, jako jsou virtuální počítače v nastavení dostupnosti.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-146">hello scale set is automatically deployed across update domains, like VMs in an availability set.</span></span> <span data-ttu-id="6bdcd-147">Stejně jako s skupiny dostupnosti s sady škálování pouze jednu aktualizaci doméně ovlivní v každém okamžiku.</span><span class="sxs-lookup"><span data-stu-id="6bdcd-147">Just like with availability sets, with scale sets only a single update domain is impacted at any given time.</span></span>

<span data-ttu-id="6bdcd-148">Další informace o konfiguraci virtuálních počítačů pro vysokou dostupnost, najdete v části Správa hello dostupnosti virtuálních počítačů pro Windows (.. / articles/virtual-machines/windows/manage-availability.md) nebo [Linux](../articles/virtual-machines/linux/manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="6bdcd-148">For more information about configuring your virtual machines for high availability, see Manage hello availability of your virtual machines for Windows (../articles/virtual-machines/windows/manage-availability.md) or [Linux](../articles/virtual-machines/linux/manage-availability.md).</span></span>
