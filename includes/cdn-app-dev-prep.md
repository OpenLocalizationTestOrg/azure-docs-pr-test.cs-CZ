## <a name="prerequisites"></a><span data-ttu-id="bbfdd-101">Požadavky</span><span class="sxs-lookup"><span data-stu-id="bbfdd-101">Prerequisites</span></span>
<span data-ttu-id="bbfdd-102">Před jsme můžete napsat kód správu CDN, je potřeba provést určitou přípravu pro povolení naše kódu pro interakci s Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-102">Before we can write CDN management code, we need to do some preparation to enable our code to interact with the Azure Resource Manager.</span></span>  <span data-ttu-id="bbfdd-103">Chcete-li to provést, musíte:</span><span class="sxs-lookup"><span data-stu-id="bbfdd-103">To do this, you'll need to:</span></span>

* <span data-ttu-id="bbfdd-104">Vytvořte skupinu prostředků tak, aby obsahovala, které jsme v tomto kurzu vytvoříte profil CDN</span><span class="sxs-lookup"><span data-stu-id="bbfdd-104">Create a resource group to contain the CDN profile we create in this tutorial</span></span>
* <span data-ttu-id="bbfdd-105">Konfigurace služby Azure Active Directory pro zajištění ověřování pro naši aplikaci</span><span class="sxs-lookup"><span data-stu-id="bbfdd-105">Configure Azure Active Directory to provide authentication for our application</span></span>
* <span data-ttu-id="bbfdd-106">Použití oprávnění ke skupině prostředků, takže jenom autorizovaným uživatelům z našich klienta Azure AD mohou komunikovat s naše profil CDN</span><span class="sxs-lookup"><span data-stu-id="bbfdd-106">Apply permissions to the resource group so that only authorized users from our Azure AD tenant can interact with our CDN profile</span></span>

### <a name="creating-the-resource-group"></a><span data-ttu-id="bbfdd-107">Vytvoření skupiny prostředků</span><span class="sxs-lookup"><span data-stu-id="bbfdd-107">Creating the resource group</span></span>
1. <span data-ttu-id="bbfdd-108">Přihlaste se [portál Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="bbfdd-108">Log into the [Azure Portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="bbfdd-109">Klikněte na tlačítko **nový** tlačítko v levém horním a potom **správy**, a **skupiny prostředků**.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-109">Click the **New** button in the upper left, and then **Management**, and **Resource Group**.</span></span>

    ![Vytvoření nové skupiny prostředků](./media/cdn-app-dev-prep/cdn-new-rg-1-include.png)
3. <span data-ttu-id="bbfdd-111">Volání vaší skupiny prostředků *CdnConsoleTutorial*.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-111">Call your resource group *CdnConsoleTutorial*.</span></span>  <span data-ttu-id="bbfdd-112">Vyberte předplatné a zvolte umístění okolo vás.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-112">Select your subscription and choose a location near you.</span></span>  <span data-ttu-id="bbfdd-113">Pokud chcete, mohou kliknutím **připnout na řídicí panel** chcete připnout na řídicí panel skupinu prostředků na portálu.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-113">If you wish, you may click the **Pin to dashboard** checkbox to pin the resource group to the dashboard in the portal.</span></span>  <span data-ttu-id="bbfdd-114">To bude bylo snazší najít později.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-114">This will make it easier to find later.</span></span>  <span data-ttu-id="bbfdd-115">Po provedení váš výběr, klikněte na tlačítko **vytvořit**.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-115">After you've made your selections, click **Create**.</span></span>

    ![Názvy skupiny prostředků](./media/cdn-app-dev-prep/cdn-new-rg-2-include.png)
4. <span data-ttu-id="bbfdd-117">Po vytvoření skupiny prostředků nebyla připnout na řídicí panel, najdete ho kliknutím na **Procházet**, pak **skupiny prostředků**.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-117">After the resource group is created, if you didn't pin it to your dashboard, you can find it by clicking **Browse**, then **Resource Groups**.</span></span>  <span data-ttu-id="bbfdd-118">Klikněte na skupinu prostředků a ten se otevře.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-118">Click the resource group to open it.</span></span>  <span data-ttu-id="bbfdd-119">Poznamenejte si vaše **ID předplatného**.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-119">Make a note of your **Subscription ID**.</span></span>  <span data-ttu-id="bbfdd-120">Budeme ho později potřebovat.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-120">We'll need it later.</span></span>

    ![Názvy skupiny prostředků](./media/cdn-app-dev-prep/cdn-subscription-id-include.png)

### <a name="creating-the-azure-ad-application-and-applying-permissions"></a><span data-ttu-id="bbfdd-122">Vytvoření aplikace Azure AD a použití oprávnění</span><span class="sxs-lookup"><span data-stu-id="bbfdd-122">Creating the Azure AD application and applying permissions</span></span>
<span data-ttu-id="bbfdd-123">Existují dva přístupy k ověřování aplikace v Azure Active Directory: jednotlivé uživatele nebo hlavní název služby.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-123">There are two approaches to app authentication with Azure Active Directory: Individual users or a service principal.</span></span> <span data-ttu-id="bbfdd-124">Objekt služby je podobný účet služby v systému Windows.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-124">A service principal is similar to a service account in Windows.</span></span>  <span data-ttu-id="bbfdd-125">Namísto udělení oprávnění k interakci s profily CDN určitého uživatele, místo toho jsme udělit oprávnění k instanční objekt.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-125">Instead of granting a particular user permissions to interact with the CDN profiles, we instead grant the permissions to the service principal.</span></span>  <span data-ttu-id="bbfdd-126">Objekty služby se obecně používají pro neinteraktivní, automatizované procesy.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-126">Service principals are generally used for automated, non-interactive processes.</span></span>  <span data-ttu-id="bbfdd-127">I když v tomto kurzu je zápis aplikace interaktivní konzoly, zaměříme budete na hlavní přístupu služby.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-127">Even though this tutorial is writing an interactive console app, we'll focus on the service principal approach.</span></span>

<span data-ttu-id="bbfdd-128">Vytvoření objektu služby se skládá z několika kroků, včetně vytváření aplikací Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-128">Creating a service principal consists of several steps, including creating an Azure Active Directory application.</span></span>  <span data-ttu-id="bbfdd-129">K tomuto účelu vytvoříme [v tomto kurzu](../articles/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="bbfdd-129">To do this, we're going to [follow this tutorial](../articles/resource-group-create-service-principal-portal.md).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="bbfdd-130">Postupujte podle pokynů v [propojené kurzu](../articles/resource-group-create-service-principal-portal.md).</span><span class="sxs-lookup"><span data-stu-id="bbfdd-130">Be sure to follow all the steps in the [linked tutorial](../articles/resource-group-create-service-principal-portal.md).</span></span>  <span data-ttu-id="bbfdd-131">Je *velmi důležité* dokončit ho přesně tak, jak je popsáno.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-131">It is *extremely important* that you complete it exactly as described.</span></span>  <span data-ttu-id="bbfdd-132">Zajistěte, aby si uvědomit, vaše **ID klienta**, **název domény klienta** (běžně *. onmicrosoft.com* domény Pokud jste zadali vlastní domény), **ID klienta** , a **ověřovací klíč klienta**, jak jsme budete potřebovat později.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-132">Make sure to note your **tenant ID**, **tenant domain name** (commonly a *.onmicrosoft.com* domain unless you've specified a custom domain), **client ID**, and **client authentication key**, as we will need these later.</span></span>  <span data-ttu-id="bbfdd-133">Buďte velmi opatrní ochrana vašeho **ID klienta** a **ověřovací klíč klienta**, jak tyto přihlašovací údaje můžete použít libovolný uživatel k provedení operací jako objekt služby.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-133">Be very careful to guard your **client ID** and **client authentication key**, as these credentials can be used by anyone to execute operations as the service principal.</span></span>
>
> <span data-ttu-id="bbfdd-134">Při přechodu na krok s názvem konfigurace víceklientské aplikace, vyberte **ne**.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-134">When you get to the step named Configure multi-tenant application, select **No**.</span></span>
>
> <span data-ttu-id="bbfdd-135">Při přechodu na krok [přiřazení aplikace k roli](../articles/azure-resource-manager/resource-group-create-service-principal-portal.md#assign-application-to-role), použít skupinu prostředků, kterou jsme vytvořili výše, *CdnConsoleTutorial*, ale místo **čtečky** role, přiřadit  **Přispěvatel profil CDN** role.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-135">When you get to the step [Assign application to role](../articles/azure-resource-manager/resource-group-create-service-principal-portal.md#assign-application-to-role), use the resource group we created earlier,  *CdnConsoleTutorial*, but instead of the **Reader** role, assign the **CDN Profile Contributor** role.</span></span>  <span data-ttu-id="bbfdd-136">Po přiřazení aplikace **Přispěvatel profil CDN** role ve vaší skupině prostředků, vraťte se do tohoto kurzu.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-136">After you assign the application the **CDN Profile Contributor** role on your resource group, return to this tutorial.</span></span> 
>
>

<span data-ttu-id="bbfdd-137">Po vytvoření instančního objektu a přiřadit **Přispěvatel profil CDN** role, **uživatelé** okno skupiny prostředků by měl vypadat podobně jako tento.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-137">Once you've created your service principal and assigned the **CDN Profile Contributor** role, the **Users** blade for your resource group should look similar to this.</span></span>

![Okno Uživatelé](./media/cdn-app-dev-prep/cdn-service-principal-include.png)

### <a name="interactive-user-authentication"></a><span data-ttu-id="bbfdd-139">Interaktivním ověřování uživatelů</span><span class="sxs-lookup"><span data-stu-id="bbfdd-139">Interactive user authentication</span></span>
<span data-ttu-id="bbfdd-140">Pokud místo hlavní název služby, byste měli místo ověřování interaktivní jednotlivých uživatelů, proces je velmi podobný pro hlavní název služby.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-140">If, instead of a service principal, you'd rather have interactive individual user authentication, the process is very similar to that for a service principal.</span></span>  <span data-ttu-id="bbfdd-141">Musíte ve skutečnosti, postupujte stejným způsobem, ale provést několik menších změn.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-141">In fact, you will need to follow the same procedure, but make a few minor changes.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="bbfdd-142">Následujícím postupem další, pouze pokud se rozhodnete používat ověřování jednotlivých uživatelů místo instanční objekt.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-142">Only follow these next steps if you are choosing to use individual user authentication instead of a service principal.</span></span>
>
>

1. <span data-ttu-id="bbfdd-143">Při vytváření aplikace, místo **webové aplikace**, zvolte **nativní aplikace**.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-143">When creating your application, instead of **Web Application**, choose **Native application**.</span></span>

    ![Nativní aplikace](./media/cdn-app-dev-prep/cdn-native-application-include.png)
2. <span data-ttu-id="bbfdd-145">Na další stránce, zobrazí se výzva pro **identifikátor URI pro přesměrování**.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-145">On the next page, you will be prompted for a **redirect URI**.</span></span>  <span data-ttu-id="bbfdd-146">Identifikátor URI nebude ověřena, ale mějte na paměti, jste zadali.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-146">The URI won't be validated, but remember what you entered.</span></span>  <span data-ttu-id="bbfdd-147">Budete ho potřebovat později.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-147">You'll need it later.</span></span>
3. <span data-ttu-id="bbfdd-148">Není nutné vytvořit **ověřovací klíč klienta**.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-148">There is no need to create a **client authentication key**.</span></span>
4. <span data-ttu-id="bbfdd-149">Místo objekt služby pro přiřazení **Přispěvatel profil CDN** role, vytvoříme přiřadit jednotlivým uživatelům nebo skupinám.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-149">Instead of assigning a service principal to the **CDN Profile Contributor** role, we're going to assign individual users or groups.</span></span>  <span data-ttu-id="bbfdd-150">V tomto příkladu uvidíte, že jste přidělený *uživatel Demo CDN* k **Přispěvatel profil CDN** role.</span><span class="sxs-lookup"><span data-stu-id="bbfdd-150">In this example, you can see that I've assigned  *CDN Demo User* to the **CDN Profile Contributor** role.</span></span>  

    ![Přístup jednotlivých uživatelů](./media/cdn-app-dev-prep/cdn-aad-user-include.png)
