
<span data-ttu-id="16a64-101">Každý koncový bod má *veřejný port* a *privátní port*:</span><span class="sxs-lookup"><span data-stu-id="16a64-101">Each endpoint has a *public port* and a *private port*:</span></span>

* <span data-ttu-id="16a64-102">Veřejný port se používá nástrojem pro vyrovnávání zatížení Azure pro naslouchání pro příchozí provoz na virtuální počítač z Internetu.</span><span class="sxs-lookup"><span data-stu-id="16a64-102">The public port is used by the Azure load balancer to listen for incoming traffic to the virtual machine from the Internet.</span></span>
* <span data-ttu-id="16a64-103">Privátní port se používá pro virtuální počítač tak, aby naslouchala pro příchozí provoz, obvykle určené do aplikace nebo služby spuštěné na virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="16a64-103">The private port is used by the virtual machine to listen for incoming traffic, typically destined to an application or service running on the virtual machine.</span></span>

<span data-ttu-id="16a64-104">Výchozí hodnoty pro protokol IP a porty TCP nebo UDP pro dobře známé sítě, které jsou určeny protokoly, když vytvoříte koncové body pomocí portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="16a64-104">Default values for the IP protocol and TCP or UDP ports for well-known network protocols are provided when you create endpoints with the Azure portal.</span></span> <span data-ttu-id="16a64-105">Pro vlastní koncové body musíte zadat správný protokol IP (TCP nebo UDP) a veřejné a privátní porty.</span><span class="sxs-lookup"><span data-stu-id="16a64-105">For custom endpoints, you'll need to specify the correct IP protocol (TCP or UDP) and the public and private ports.</span></span> <span data-ttu-id="16a64-106">Pokud chcete distribuovat náhodně příchozí provoz napříč více virtuálních počítačů, budete muset vytvořit sadu Vyrovnávání zatížení sítě skládající se z více koncových bodů.</span><span class="sxs-lookup"><span data-stu-id="16a64-106">To distribute incoming traffic randomly across multiple virtual machines, you'll need to create a load-balanced set consisting of multiple endpoints.</span></span>

<span data-ttu-id="16a64-107">Po vytvoření koncového bodu, můžete použít seznam řízení přístupu (ACL) můžete definovat pravidla povolení nebo odmítnutí příchozí provoz veřejný port, na základě jeho IP adresy zdrojového koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="16a64-107">After you create an endpoint, you can use an access control list (ACL) to define rules that permit or deny the incoming traffic to the public port of the endpoint based on its source IP address.</span></span> <span data-ttu-id="16a64-108">Ale pokud virtuální počítač je ve virtuální síť Azure, je vhodnější použít skupiny zabezpečení sítě.</span><span class="sxs-lookup"><span data-stu-id="16a64-108">However, if the virtual machine is in an Azure virtual network, you should use network security groups instead.</span></span> <span data-ttu-id="16a64-109">Podrobnosti najdete v tématu [o skupinách zabezpečení sítě](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="16a64-109">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

> [!NOTE]
> <span data-ttu-id="16a64-110">Konfigurace brány firewall pro virtuální počítače Azure se provádí automaticky pro porty, které jsou přidružené k připojení k vzdálené koncové body, které Azure nastaví automaticky.</span><span class="sxs-lookup"><span data-stu-id="16a64-110">Firewall configuration for Azure virtual machines is done automatically for ports associated with remote connectivity endpoints that Azure sets up automatically.</span></span> <span data-ttu-id="16a64-111">Pro porty určené pro všechny ostatní koncové body se automaticky provádí žádná konfigurace brány firewall virtuálního počítače.</span><span class="sxs-lookup"><span data-stu-id="16a64-111">For ports specified for all other endpoints, no configuration is done automatically to the firewall of the virtual machine.</span></span> <span data-ttu-id="16a64-112">Když vytvoříte koncový bod virtuálního počítače, musíte zajistit, že brána firewall virtuálního počítače také umožňuje přenos pro protokol a privátní port odpovídající konfiguraci koncového bodu.</span><span class="sxs-lookup"><span data-stu-id="16a64-112">When you create an endpoint for the virtual machine, you'll need to ensure that the firewall of the virtual machine also allows the traffic for the protocol and private port corresponding to the endpoint configuration.</span></span> <span data-ttu-id="16a64-113">Chcete-li nakonfigurovat bránu firewall, naleznete v dokumentaci nebo online nápověda pro operační systém spuštěný na virtuálním počítači.</span><span class="sxs-lookup"><span data-stu-id="16a64-113">To configure the firewall, see the documentation or on-line help for the operating system running on the virtual machine.</span></span>
>
>

## <a name="create-an-endpoint"></a><span data-ttu-id="16a64-114">Vytvoření koncového bodu</span><span class="sxs-lookup"><span data-stu-id="16a64-114">Create an endpoint</span></span>
1. <span data-ttu-id="16a64-115">Pokud jste to ještě neudělali, přihlaste se k [Portálu Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="16a64-115">If you haven't already done so, sign in to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="16a64-116">Klikněte na tlačítko **virtuální počítače**a potom klikněte na název virtuálního počítače, který chcete nakonfigurovat.</span><span class="sxs-lookup"><span data-stu-id="16a64-116">Click **Virtual Machines**, and then click the name of the virtual machine that you want to configure.</span></span>
3. <span data-ttu-id="16a64-117">Klikněte na tlačítko **koncové body** v **nastavení** skupiny.</span><span class="sxs-lookup"><span data-stu-id="16a64-117">Click **Endpoints** in the **Settings** group.</span></span> <span data-ttu-id="16a64-118">**Koncové body** stránce uvedeny všechny aktuální koncové body pro virtuální počítač.</span><span class="sxs-lookup"><span data-stu-id="16a64-118">The **Endpoints** page lists all the current endpoints for the virtual machine.</span></span> <span data-ttu-id="16a64-119">(V tomto příkladu je virtuální počítač s Windows.</span><span class="sxs-lookup"><span data-stu-id="16a64-119">(This example is a Windows VM.</span></span> <span data-ttu-id="16a64-120">Linux virtuálního počítače se ve výchozím nastavení zobrazí koncový bod SSH.)</span><span class="sxs-lookup"><span data-stu-id="16a64-120">A Linux VM will by default show an endpoint for SSH.)</span></span>

   <!-- ![Endpoints](./media/virtual-machines-common-classic-setup-endpoints/endpointswindows.png) -->
   ![Koncové body](./media/virtual-machines-common-classic-setup-endpoints/endpointsblade.png)

4. <span data-ttu-id="16a64-122">Na panelu příkazů výše položky koncového bodu, klikněte na tlačítko **přidat**.</span><span class="sxs-lookup"><span data-stu-id="16a64-122">In the command bar above the endpoint entries, click **Add**.</span></span>
5. <span data-ttu-id="16a64-123">Na **přidání koncového bodu** stránky, zadejte název koncového bodu v **název**.</span><span class="sxs-lookup"><span data-stu-id="16a64-123">On the **Add endpoint** page, type a name for the endpoint in **Name**.</span></span>
6. <span data-ttu-id="16a64-124">V **protokol**, vyberte buď **TCP** nebo **UDP**.</span><span class="sxs-lookup"><span data-stu-id="16a64-124">In **Protocol**, choose either **TCP** or **UDP**.</span></span>
7. <span data-ttu-id="16a64-125">V **veřejný Port**, zadejte číslo portu pro příchozí provoz z Internetu.</span><span class="sxs-lookup"><span data-stu-id="16a64-125">In **Public Port**, type the port number for the incoming traffic from the Internet.</span></span> <span data-ttu-id="16a64-126">V **privátní Port**, zadejte číslo portu, na kterém je virtuální počítač přijímá.</span><span class="sxs-lookup"><span data-stu-id="16a64-126">In **Private Port**, type the port number on which the virtual machine is listening.</span></span> <span data-ttu-id="16a64-127">Tato čísla portů se může lišit.</span><span class="sxs-lookup"><span data-stu-id="16a64-127">These port numbers can be different.</span></span> <span data-ttu-id="16a64-128">Ujistěte se, že v bráně firewall na virtuální počítač nakonfigurovaný umožňující přenos odpovídající protokol (v kroku 6) a privátní port.</span><span class="sxs-lookup"><span data-stu-id="16a64-128">Ensure that the firewall on the virtual machine has been configured to allow the traffic corresponding to the protocol (in step 6) and private port.</span></span>
10. <span data-ttu-id="16a64-129">Klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="16a64-129">Click **Ok**.</span></span>

<span data-ttu-id="16a64-130">Nový koncový bod se objeví na **koncové body** stránky.</span><span class="sxs-lookup"><span data-stu-id="16a64-130">The new endpoint will be listed on the **Endpoints** page.</span></span>

![Úspěšné vytvoření koncového bodu](./media/virtual-machines-common-classic-setup-endpoints/endpointcreated.png)

## <a name="manage-the-acl-on-an-endpoint"></a><span data-ttu-id="16a64-132">Správa seznamu ACL v koncovém bodě</span><span class="sxs-lookup"><span data-stu-id="16a64-132">Manage the ACL on an endpoint</span></span>
<span data-ttu-id="16a64-133">K definování sady počítačů, které mohou odesílat provoz, můžete omezit seznam ACL u koncového bodu provozu na základě zdrojové IP adresy.</span><span class="sxs-lookup"><span data-stu-id="16a64-133">To define the set of computers that can send traffic, the ACL on an endpoint can restrict traffic based upon source IP address.</span></span> <span data-ttu-id="16a64-134">Postupujte podle těchto kroků přidávat, upravovat nebo odebírat ACL v koncovém bodě.</span><span class="sxs-lookup"><span data-stu-id="16a64-134">Follow these steps to add, modify, or remove an ACL on an endpoint.</span></span>

> [!NOTE]
> <span data-ttu-id="16a64-135">Pokud koncový bod je součástí skupiny s vyrovnáváním zatížení, všechny změny provedené v seznamu ACL v koncovém bodě platí pro všechny koncové body v sadě.</span><span class="sxs-lookup"><span data-stu-id="16a64-135">If the endpoint is part of a load-balanced set, any changes you make to the ACL on an endpoint are applied to all endpoints in the set.</span></span>
>
>

<span data-ttu-id="16a64-136">Pokud virtuální počítač je ve virtuální síť Azure, doporučujeme skupin zabezpečení sítě místo seznamy ACL.</span><span class="sxs-lookup"><span data-stu-id="16a64-136">If the virtual machine is in an Azure virtual network, we recommend network security groups instead of ACLs.</span></span> <span data-ttu-id="16a64-137">Podrobnosti najdete v tématu [o skupinách zabezpečení sítě](../articles/virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="16a64-137">For details, see [About network security groups](../articles/virtual-network/virtual-networks-nsg.md).</span></span>

1. <span data-ttu-id="16a64-138">Pokud jste zatím žádný nevytvořili, přihlášený k portálu Azure.</span><span class="sxs-lookup"><span data-stu-id="16a64-138">If you haven't already done so, sign in to the Azure portal.</span></span>
2. <span data-ttu-id="16a64-139">Klikněte na tlačítko **virtuální počítače**a potom klikněte na název virtuálního počítače, který chcete nakonfigurovat.</span><span class="sxs-lookup"><span data-stu-id="16a64-139">Click **Virtual Machines**, and then click the name of the virtual machine that you want to configure.</span></span>
3. <span data-ttu-id="16a64-140">Klikněte na **Koncové body**.</span><span class="sxs-lookup"><span data-stu-id="16a64-140">Click **Endpoints**.</span></span> <span data-ttu-id="16a64-141">Ze seznamu vyberte příslušný koncový bod.</span><span class="sxs-lookup"><span data-stu-id="16a64-141">From the list, select the appropriate endpoint.</span></span> <span data-ttu-id="16a64-142">V seznamu ACL je v dolní části stránky.</span><span class="sxs-lookup"><span data-stu-id="16a64-142">The ACL list is at the bottom of the page.</span></span>

   ![Zadejte podrobnosti seznamu ACL](./media/virtual-machines-common-classic-setup-endpoints/aclpreentry.png)

4. <span data-ttu-id="16a64-144">Řádky v seznamu použijte k přidání, odstranění, nebo upravit pravidla pro seznam ACL a změnit jejich pořadí.</span><span class="sxs-lookup"><span data-stu-id="16a64-144">Use rows in the list to add, delete, or edit rules for an ACL and change their order.</span></span> <span data-ttu-id="16a64-145">**Vzdálené podsíti** hodnota je rozsah IP adres pro příchozí provoz z Internetu pomocí nástroje pro vyrovnávání zatížení Azure, která povolí nebo zakážou provoz na základě jeho zdrojové IP adresy.</span><span class="sxs-lookup"><span data-stu-id="16a64-145">The **Remote Subnet** value is an IP address range for incoming traffic from the Internet that the Azure load balancer uses to permit or deny the traffic based on its source IP address.</span></span> <span data-ttu-id="16a64-146">Nezapomeňte zadat rozsah IP adres ve formátu CIDR, také známé jako formát předponu adresy.</span><span class="sxs-lookup"><span data-stu-id="16a64-146">Be sure to specify the IP address range in CIDR format, also known as address prefix format.</span></span> <span data-ttu-id="16a64-147">Příkladem je `10.1.0.0/8`.</span><span class="sxs-lookup"><span data-stu-id="16a64-147">An example is `10.1.0.0/8`.</span></span>

 ![Nová položka seznamu ACL](./media/virtual-machines-common-classic-setup-endpoints/newaclentry.png)


<span data-ttu-id="16a64-149">Můžete vytvořit pravidla a povolit pouze provoz z konkrétní počítače odpovídající počítače na Internetu nebo zakážou provoz z rozsahů adres konkrétní, známé.</span><span class="sxs-lookup"><span data-stu-id="16a64-149">You can use rules to allow only traffic from specific computers corresponding to your computers on the Internet or to deny traffic from specific, known address ranges.</span></span>

<span data-ttu-id="16a64-150">Pravidla jsou vyhodnocovány v pořadí od první pravidlo a konče posledním pravidlem.</span><span class="sxs-lookup"><span data-stu-id="16a64-150">The rules are evaluated in order starting with the first rule and ending with the last rule.</span></span> <span data-ttu-id="16a64-151">To znamená, že by měl pravidla řazení z nejméně omezující na nejvíc omezující.</span><span class="sxs-lookup"><span data-stu-id="16a64-151">This means that rules should be ordered from least restrictive to most restrictive.</span></span> <span data-ttu-id="16a64-152">Příklady a další informace najdete v tématu [co je seznam řízení přístupu sítě](../articles/virtual-network/virtual-networks-acl.md).</span><span class="sxs-lookup"><span data-stu-id="16a64-152">For examples and more information, see [What is a Network Access Control List](../articles/virtual-network/virtual-networks-acl.md).</span></span>
