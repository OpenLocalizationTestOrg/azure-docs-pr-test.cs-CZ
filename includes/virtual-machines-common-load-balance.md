

<span data-ttu-id="4b8ca-101">Existují dvě úrovně služby Vyrovnávání zatížení pro služby infrastruktury Azure k dispozici:</span><span class="sxs-lookup"><span data-stu-id="4b8ca-101">There are two levels of load balancing available for Azure infrastructure services:</span></span>

* <span data-ttu-id="4b8ca-102">**Úroveň DNS**: Vyrovnávání zatížení pro provoz toodifferent cloudové služby umístěné v různých datových centrech, toodifferent weby Azure umístěné v různých datových střediscích nebo tooexternal koncové body.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-102">**DNS Level**:  Load balancing for traffic toodifferent cloud services located in different data centers, toodifferent Azure websites located in different data centers, or tooexternal endpoints.</span></span> <span data-ttu-id="4b8ca-103">To se provádí pomocí nástroje Azure Traffic Manager a hello kruhové dotazování metoda Vyrovnávání zatížení.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-103">This is done with Azure Traffic Manager and hello Round Robin load balancing method.</span></span>
* <span data-ttu-id="4b8ca-104">**Sítě úroveň**: příchozí internetové přenosy toodifferent virtuálních počítačů cloudové služby Vyrovnávání zatížení nebo provozu mezi virtuálními počítači v cloudové službě nebo virtuální sítě vyrovnávání zatížení.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-104">**Network Level**:  Load balancing of incoming Internet traffic toodifferent virtual machines of a cloud service, or load balancing of traffic between virtual machines in a cloud service or virtual network.</span></span> <span data-ttu-id="4b8ca-105">To lze provést pomocí nástroje pro vyrovnávání zatížení Azure hello.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-105">This is done with hello Azure load balancer.</span></span>

## <a name="traffic-manager-load-balancing-for-cloud-services-and-websites"></a><span data-ttu-id="4b8ca-106">Správce provozu Vyrovnávání zatížení pro služby cloud services a weby</span><span class="sxs-lookup"><span data-stu-id="4b8ca-106">Traffic Manager load balancing for cloud services and websites</span></span>
<span data-ttu-id="4b8ca-107">Traffic Manager umožňuje distribuci hello toocontrol tooendpoints provoz uživatele, která může zahrnovat cloudové služby, weby, externí servery a jiné profily Traffic Manageru.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-107">Traffic Manager allows you toocontrol hello distribution of user traffic tooendpoints, which can include cloud services, websites, external sites, and other Traffic Manager profiles.</span></span> <span data-ttu-id="4b8ca-108">Traffic Manager funguje tak, že použití inteligentních zásad modul tooDomain systému DNS (Name) dotazy na názvy domény hello prostředkům na Internetu.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-108">Traffic Manager works by applying an intelligent policy engine tooDomain Name System (DNS) queries for hello domain names of your Internet resources.</span></span> <span data-ttu-id="4b8ca-109">Cloudové služby nebo weby lze spustit v různých datových centrech napříč hello, world.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-109">Your cloud services or websites can be running in different datacenters across hello world.</span></span>

<span data-ttu-id="4b8ca-110">REST nebo prostředí Windows PowerShell tooconfigure externí koncové body ani profily Traffic Manageru musí používat jako koncové body.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-110">You must use either REST or Windows PowerShell tooconfigure external endpoints or Traffic Manager profiles as endpoints.</span></span>

<span data-ttu-id="4b8ca-111">Traffic Manager používá tři Vyrovnávání zatížení provozu toodistribute metody:</span><span class="sxs-lookup"><span data-stu-id="4b8ca-111">Traffic Manager uses three load-balancing methods toodistribute traffic:</span></span>

* <span data-ttu-id="4b8ca-112">**Převzetí služeb při selhání**: tuto metodu použijte, když chcete toouse primární koncový bod pro všechny přenosy, ale zadejte zálohování v případě, že primární hello nedostupný.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-112">**Failover**:  Use this method when you want toouse a primary endpoint for all traffic, but provide backups in case hello primary becomes unavailable.</span></span>
* <span data-ttu-id="4b8ca-113">**Výkon**: tuto metodu použijte, pokud máte koncové body v různých zeměpisných místech a chcete, aby požaduje "nejbližší" endpoint hello klientům toouse z hlediska hello nejnižší latenci.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-113">**Performance**:  Use this method when you have endpoints in different geographic locations and you want requesting clients toouse hello "closest" endpoint in terms of hello lowest latency.</span></span>
* <span data-ttu-id="4b8ca-114">**Kruhové dotazování:** tuto metodu použijte, pokud chcete toodistribute zatížení mezi sadu cloud services v hello stejné datové centrum nebo přes cloud services nebo weby v různých datových centrech.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-114">**Round Robin:**  Use this method when you want toodistribute load across a set of cloud services in hello same datacenter or across cloud services or websites in different datacenters.</span></span>

<span data-ttu-id="4b8ca-115">Další informace najdete v tématu [o provozu Manager zatížení vyrovnávání metody](../articles/traffic-manager/traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="4b8ca-115">For more information, see [About Traffic Manager Load Balancing Methods](../articles/traffic-manager/traffic-manager-routing-methods.md).</span></span>

<span data-ttu-id="4b8ca-116">Hello následující diagram ukazuje příklad hello metoda Vyrovnávání zatížení s každým pro distribuci přenosů mezi jiné cloudové služby.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-116">hello following diagram shows an example of hello Round Robin load balancing method for distributing traffic between different cloud services.</span></span>

![Vyrovnávání zatížení](./media/virtual-machines-common-load-balance/TMSummary.png)

<span data-ttu-id="4b8ca-118">Hello základní proces je hello následující:</span><span class="sxs-lookup"><span data-stu-id="4b8ca-118">hello basic process is hello following:</span></span>

1. <span data-ttu-id="4b8ca-119">Internetový klient se dotazuje domény název odpovídající tooa webové služby.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-119">An Internet client queries a domain name corresponding tooa web service.</span></span>
2. <span data-ttu-id="4b8ca-120">DNS předává hello název dotazu požadavku tooTraffic správce.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-120">DNS forwards hello name query request tooTraffic Manager.</span></span>
3. <span data-ttu-id="4b8ca-121">Traffic Manager vybere hello další cloudové služby v hello seznamu kruhové dotazování a odesílá zpět hello název DNS.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-121">Traffic Manager chooses hello next cloud service in hello Round Robin list and sends back hello DNS name.</span></span> <span data-ttu-id="4b8ca-122">server DNS Hello internetového klienta přeloží hello název tooan IP adresu a odešle ho toohello internetovým klientem.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-122">hello Internet client's DNS server resolves hello name tooan IP address and sends it toohello Internet client.</span></span>
4. <span data-ttu-id="4b8ca-123">Hello internetový klient připojí s cloudovou službou hello vybrali Traffic Managerem.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-123">hello Internet client connects with hello cloud service chosen by Traffic Manager.</span></span>

<span data-ttu-id="4b8ca-124">Další informace najdete v tématu [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4b8ca-124">For more information, see [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span></span>

## <a name="azure-load-balancing-for-virtual-machines"></a><span data-ttu-id="4b8ca-125">Azure Vyrovnávání zatížení pro virtuální počítače</span><span class="sxs-lookup"><span data-stu-id="4b8ca-125">Azure load balancing for virtual machines</span></span>
<span data-ttu-id="4b8ca-126">Hello virtuální počítače ve stejné cloudové služby nebo virtuální sítě může komunikovat s navzájem přímo pomocí jejich soukromé IP adresy.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-126">Virtual machines in hello same cloud service or virtual network can communicate with each other directly using their private IP addresses.</span></span> <span data-ttu-id="4b8ca-127">Počítače a služby mimo hello cloudovou službu nebo virtuální sítě může komunikovat pouze s virtuálními počítači v cloudové službě nebo virtuální sítě s nakonfigurovanou koncový bod.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-127">Computers and services outside hello cloud service or virtual network can only communicate with virtual machines in a cloud service or virtual network with a configured endpoint.</span></span> <span data-ttu-id="4b8ca-128">Koncový bod je mapování veřejnou IP adresu a port toothat privátní IP adresy a portu virtuálního počítače nebo webovou roli v rámci cloudové služby Azure.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-128">An endpoint is a mapping of a public IP address and port toothat private IP address and port of a virtual machine or web role within an Azure cloud service.</span></span>

<span data-ttu-id="4b8ca-129">Hello Vyrovnávání zatížení Azure náhodně distribuuje určitý typ příchozí provoz mezi více virtuálních počítačů nebo služby v konfiguraci se označuje jako sadu s vyrovnáváním zatížení.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-129">hello Azure Load Balancer randomly distributes a specific type of incoming traffic across multiple virtual machines or services in a configuration known as a load-balanced set.</span></span> <span data-ttu-id="4b8ca-130">Můžete například šíří hello zátěž webové žádosti o provozu mezi více webové servery nebo webové role.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-130">For example, you can spread hello load of web request traffic across multiple web servers or web roles.</span></span>

<span data-ttu-id="4b8ca-131">Hello následující diagram znázorňuje koncový bod Vyrovnávání zatížení sítě pro standardní (nezašifrované) webový provoz, která je sdílena mezi tři virtuální počítače pro hello veřejné a privátní port TCP 80.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-131">hello following diagram shows a load-balanced endpoint for standard (unencrypted) web traffic that is shared among three virtual machines for hello public and private TCP port of 80.</span></span> <span data-ttu-id="4b8ca-132">Tyto tři virtuální počítače jsou v sadě s vyrovnáváním zatížení.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-132">These three virtual machines are in a load-balanced set.</span></span>

![Vyrovnávání zatížení](./media/virtual-machines-common-load-balance/LoadBalancing.png)

<span data-ttu-id="4b8ca-134">Další informace najdete v tématu [nástroj pro vyrovnávání zatížení Azure](../articles/load-balancer/load-balancer-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4b8ca-134">For more information, see [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md).</span></span> <span data-ttu-id="4b8ca-135">Hello kroky toocreate sadu Vyrovnávání zatížení sítě, najdete v části [nakonfigurovat sadu s vyrovnáváním zatížení](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="4b8ca-135">For hello steps toocreate a load-balanced set, see [Configure a load-balanced set](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span></span>

<span data-ttu-id="4b8ca-136">Azure můžete také načíst vyrovnání v rámci cloudové služby nebo virtuální sítě.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-136">Azure can also load balance within a cloud service or virtual network.</span></span> <span data-ttu-id="4b8ca-137">To se označuje jako interní zátěže a mohou být používány hello následující způsoby:</span><span class="sxs-lookup"><span data-stu-id="4b8ca-137">This is known as internal load balancing and can be used in hello following ways:</span></span>

* <span data-ttu-id="4b8ca-138">tooload rovnováhu mezi servery v různých vrstev vícevrstvé aplikace (například mezi webové a databázová vrstva).</span><span class="sxs-lookup"><span data-stu-id="4b8ca-138">tooload balance between servers in different tiers of a multi-tier application (for example, between web and database tiers).</span></span>
* <span data-ttu-id="4b8ca-139">aplikace (LOB)-obchodní vyrovnávání tooload hostované v Azure bez nutnosti další zátěž vyrovnávání hardwaru nebo softwaru.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-139">tooload balance line-of-business (LOB) applications hosted in Azure without requiring additional load balancer hardware or software.</span></span>
* <span data-ttu-id="4b8ca-140">tooinclude místní servery v hello sadu počítačů, jejichž provoz se provede Vyrovnávání zatížení.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-140">tooinclude on-premises servers in hello set of computers whose traffic is load balanced.</span></span>

<span data-ttu-id="4b8ca-141">Podobně jako tooAzure Vyrovnávání zatížení, interní Vyrovnávání zatížení je usnadněno konfigurace interní sady vyrovnáváním zatížení.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-141">Similar tooAzure load balancing, internal load balancing is facilitated by configuring an internal load-balanced set.</span></span>

<span data-ttu-id="4b8ca-142">Hello následující diagram ukazuje příklad interního Vyrovnávání zatížení koncového bodu pro řádek obchodní (LOB) aplikace, která je sdílena mezi tři virtuální počítače ve virtuální síti mezi různými místy.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-142">hello following diagram shows an example of an internal load-balanced endpoint for a line of business (LOB) application that is shared among three virtual machines in a cross-premises virtual network.</span></span>

![Vyrovnávání zatížení](./media/virtual-machines-common-load-balance/LOBServers.png)

## <a name="load-balancer-considerations"></a><span data-ttu-id="4b8ca-144">Důležité informace o vyrovnávání zatížení</span><span class="sxs-lookup"><span data-stu-id="4b8ca-144">Load balancer considerations</span></span>
<span data-ttu-id="4b8ca-145">Nástroj pro vyrovnávání zatížení je ve výchozím nastavení nakonfigurované tootimeout na nečinnosti relace v 4 minuty.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-145">A load balancer is configured by default tootimeout an idle session in 4 minutes.</span></span> <span data-ttu-id="4b8ca-146">Pokud vaše aplikace za službou Vyrovnávání zatížení odejde připojení nečinnosti pro více než 4 minuty a nemá Keep-Alive konfigurace, hello připojení bude zrušeno.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-146">If your application behind a load balancer leaves a connection idle for more than 4 minutes and it doesn't have a Keep-Alive configuration, hello connection will be dropped.</span></span> <span data-ttu-id="4b8ca-147">Můžete změnit tooallow chování nástroje pro vyrovnávání zatížení hello [delší časový limit nastavení nástroje pro vyrovnávání zatížení Azure](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span><span class="sxs-lookup"><span data-stu-id="4b8ca-147">You can change hello load balancer behavior tooallow a [longer timeout setting for Azure load balancer](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span></span>

<span data-ttu-id="4b8ca-148">Další aspekt je typ hello režim distribuce podporovaný nástroj pro vyrovnávání zatížení Azure.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-148">Other consideration is hello type of distribution mode supported by Azure Load Balancer.</span></span> <span data-ttu-id="4b8ca-149">Můžete nakonfigurovat spřažení IP zdroje (zdrojová adresa IP, cílovou IP adresu) nebo zdroj protokol IP (zdrojová adresa IP, cílovou IP adresu a protocol).</span><span class="sxs-lookup"><span data-stu-id="4b8ca-149">You can configure source IP affinity (source IP, destination IP) or source IP protocol (source IP , destination IP and protocol).</span></span> <span data-ttu-id="4b8ca-150">Podívejte se na [režim distribuce pro vyrovnávání zatížení Azure (zdrojové IP spřažení)](../articles/load-balancer/load-balancer-distribution-mode.md) Další informace.</span><span class="sxs-lookup"><span data-stu-id="4b8ca-150">Check out [Azure Load Balancer distribution mode (source IP affinity)](../articles/load-balancer/load-balancer-distribution-mode.md) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4b8ca-151">Další kroky</span><span class="sxs-lookup"><span data-stu-id="4b8ca-151">Next steps</span></span>
<span data-ttu-id="4b8ca-152">Hello kroky toocreate sadu Vyrovnávání zatížení sítě, najdete v části [konfigurace interní sady vyrovnáváním zatížení](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="4b8ca-152">For hello steps toocreate a load-balanced set, see [Configure an internal load-balanced set](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span></span>

<span data-ttu-id="4b8ca-153">Další informace o vyrovnávání zatížení najdete v tématu [Vyrovnávání zatížení pro vnitřní](../articles/load-balancer/load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="4b8ca-153">For more information about load balancer, see [Internal load balancing](../articles/load-balancer/load-balancer-internal-overview.md).</span></span>

