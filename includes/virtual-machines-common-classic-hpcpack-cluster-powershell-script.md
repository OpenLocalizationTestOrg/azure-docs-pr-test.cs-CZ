



<span data-ttu-id="cf19a-101">V závislosti na prostředí a možnosti můžete vytvořit skript hello všechny infrastruktury hello clusteru, včetně hello virtuální síť Azure, účty úložiště, cloudové služby, řadič domény, vzdálení nebo místní databáze SQL, hlavního uzlu a další clusteru uzly.</span><span class="sxs-lookup"><span data-stu-id="cf19a-101">Depending on your environment and choices, hello script can create all hello cluster infrastructure, including hello Azure virtual network, storage accounts, cloud services, domain controller, remote or local SQL databases, head node, and additional cluster nodes.</span></span> <span data-ttu-id="cf19a-102">Hello skriptu můžete alternativně použít existující infrastrukturu Azure a vytvořit pouze hello uzly clusteru prostředí HPC.</span><span class="sxs-lookup"><span data-stu-id="cf19a-102">Alternatively, hello script can use pre-existing Azure infrastructure and create only hello HPC cluster nodes.</span></span>

<span data-ttu-id="cf19a-103">Základní informace o plánování clusteru služby HPC Pack, najdete v části hello [období pro vyzkoušení produktu a plánování](https://technet.microsoft.com/library/jj899596.aspx) a [Začínáme](https://technet.microsoft.com/library/jj899590.aspx) obsahu v hello knihovně TechNet HPC Pack 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="cf19a-103">For background information about planning an HPC Pack cluster, see hello [Product Evaluation and Planning](https://technet.microsoft.com/library/jj899596.aspx) and [Getting Started](https://technet.microsoft.com/library/jj899590.aspx) content in hello HPC Pack 2012 R2 TechNet Library.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="cf19a-104">Požadavky</span><span class="sxs-lookup"><span data-stu-id="cf19a-104">Prerequisites</span></span>
* <span data-ttu-id="cf19a-105">**Předplatné Azure**: předplatné můžete použít v obou hello globální Azure nebo službu Azure China.</span><span class="sxs-lookup"><span data-stu-id="cf19a-105">**Azure subscription**: You can use a subscription in either hello Azure Global or Azure China service.</span></span> <span data-ttu-id="cf19a-106">Vaše předplatné omezení ovlivnit hello počet a typ uzly clusteru, který můžete nasadit.</span><span class="sxs-lookup"><span data-stu-id="cf19a-106">Your subscription limits affect hello number and type of cluster nodes you can deploy.</span></span> <span data-ttu-id="cf19a-107">Informace najdete v tématu [předplatného Azure a omezení služby, kvóty a omezení](../articles/azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="cf19a-107">For information, see [Azure subscription and service limits, quotas, and constraints](../articles/azure-subscription-service-limits.md).</span></span>
* <span data-ttu-id="cf19a-108">**Klientský počítač s Windows v prostředí Azure PowerShell 0.8.10 nebo později nainstalovaný a nakonfigurovaný**: najdete v části [Začínáme s Azure PowerShell](/powershell/azureps-cmdlets-docs) pro instalaci pokyny a kroky tooconnect tooyour předplatného Azure.</span><span class="sxs-lookup"><span data-stu-id="cf19a-108">**Windows client computer with Azure PowerShell 0.8.10 or later installed and configured**: See [Get started with Azure PowerShell](/powershell/azureps-cmdlets-docs) for installation instructions and steps tooconnect tooyour Azure subscription.</span></span>
* <span data-ttu-id="cf19a-109">**Skript nasazení HPC Pack IaaS**: Stáhněte a rozbalte hello nejnovější verzi hello skript z hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span><span class="sxs-lookup"><span data-stu-id="cf19a-109">**HPC Pack IaaS deployment script**: Download and unpack hello latest version of hello script from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span></span> <span data-ttu-id="cf19a-110">Zkontrolujte verzi hello hello skriptu spuštěním `New-HPCIaaSCluster.ps1 –Version`.</span><span class="sxs-lookup"><span data-stu-id="cf19a-110">Check hello version of hello script by running `New-HPCIaaSCluster.ps1 –Version`.</span></span> <span data-ttu-id="cf19a-111">Tento článek vychází z verze 4.5.2 hello skriptu.</span><span class="sxs-lookup"><span data-stu-id="cf19a-111">This article is based on version 4.5.2 of hello script.</span></span>
* <span data-ttu-id="cf19a-112">**Konfigurační soubor skriptu**: Vytvořte soubor XML, že skript hello používá clusteru HPC tooconfigure hello.</span><span class="sxs-lookup"><span data-stu-id="cf19a-112">**Script configuration file**: Create an XML file that hello script uses tooconfigure hello HPC cluster.</span></span> <span data-ttu-id="cf19a-113">Informace a příklady naleznete v částech později v tomto článku a hello souboru Manual.rtf, který doprovází skript nasazení hello.</span><span class="sxs-lookup"><span data-stu-id="cf19a-113">For information and examples, see sections later in this article and hello file Manual.rtf that accompanies hello deployment script.</span></span>

## <a name="syntax"></a><span data-ttu-id="cf19a-114">Syntaxe</span><span class="sxs-lookup"><span data-stu-id="cf19a-114">Syntax</span></span>
```PowerShell
New-HPCIaaSCluster.ps1 [-ConfigFile] <String> [-AdminUserName]<String> [[-AdminPassword] <String>] [[-HPCImageName] <String>] [[-LogFile] <String>] [-Force] [-NoCleanOnFailure] [-PSSessionSkipCACheck] [<CommonParameters>]
```
> [!NOTE]
> <span data-ttu-id="cf19a-115">Spusťte skript hello jako správce.</span><span class="sxs-lookup"><span data-stu-id="cf19a-115">Run hello script as an administrator.</span></span>
> 
> 

### <a name="parameters"></a><span data-ttu-id="cf19a-116">Parametry</span><span class="sxs-lookup"><span data-stu-id="cf19a-116">Parameters</span></span>
* <span data-ttu-id="cf19a-117">**ConfigFile**: Určuje cestu souboru hello hello konfigurační soubor clusteru HPC toodescribe hello.</span><span class="sxs-lookup"><span data-stu-id="cf19a-117">**ConfigFile**: Specifies hello file path of hello configuration file toodescribe hello HPC cluster.</span></span> <span data-ttu-id="cf19a-118">Další informace naleznete v o hello konfigurační soubor v tomto tématu nebo v souboru hello Manual.rtf ve složce hello obsahující hello skriptu.</span><span class="sxs-lookup"><span data-stu-id="cf19a-118">See more about hello configuration file in this topic, or in hello file Manual.rtf in hello folder containing hello script.</span></span>
* <span data-ttu-id="cf19a-119">**AdminUserName**: Určuje hello uživatelské jméno.</span><span class="sxs-lookup"><span data-stu-id="cf19a-119">**AdminUserName**: Specifies hello user name.</span></span> <span data-ttu-id="cf19a-120">Pokud hello domény doménové struktury je vytvořen skriptem hello, stane hello uživatelské jméno místního správce pro všechny virtuální počítače a jméno správce domény hello.</span><span class="sxs-lookup"><span data-stu-id="cf19a-120">If hello domain forest is created by hello script, this becomes hello local administrator user name for all VMs and hello domain administrator name.</span></span> <span data-ttu-id="cf19a-121">Pokud hello domény doménové struktury již existuje, určuje uživatele domény hello jako místní správce uživatele název tooinstall HPC Pack hello.</span><span class="sxs-lookup"><span data-stu-id="cf19a-121">If hello domain forest already exists, this specifies hello domain user as hello local administrator user name tooinstall HPC Pack.</span></span>
* <span data-ttu-id="cf19a-122">**AdminPassword**: Určuje heslo správce hello.</span><span class="sxs-lookup"><span data-stu-id="cf19a-122">**AdminPassword**: Specifies hello administrator’s password.</span></span> <span data-ttu-id="cf19a-123">Pokud není zadaný v hello příkazového řádku, vyzve vás hello skriptu tooinput hello heslo.</span><span class="sxs-lookup"><span data-stu-id="cf19a-123">If not specified in hello command line, hello script prompts you tooinput hello password.</span></span>
* <span data-ttu-id="cf19a-124">**HPCImageName** (volitelné): Určuje název bitové kopie virtuálních počítačů HPC Pack hello používá clusteru HPC toodeploy hello.</span><span class="sxs-lookup"><span data-stu-id="cf19a-124">**HPCImageName** (optional): Specifies hello HPC Pack VM image name used toodeploy hello HPC cluster.</span></span> <span data-ttu-id="cf19a-125">Musí to být image poskytovaný společností Microsoft HPC Pack z hello Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="cf19a-125">It must be a Microsoft-provided HPC Pack image from hello Azure Marketplace.</span></span> <span data-ttu-id="cf19a-126">Pokud není zadaný hello (doporučená obvykle), skript zvolí hello nejnovější publikovaná [image HPC Pack 2012 R2](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span><span class="sxs-lookup"><span data-stu-id="cf19a-126">If not specified (recommended usually), hello script chooses hello latest published [HPC Pack 2012 R2 image](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span></span> <span data-ttu-id="cf19a-127">Hello nejnovější image založena na Windows Server 2012 R2 Datacenter s HPC Pack 2012 R2 Update 3 nainstalován.</span><span class="sxs-lookup"><span data-stu-id="cf19a-127">hello latest image is based on Windows Server 2012 R2 Datacenter with HPC Pack 2012 R2 Update 3 installed.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="cf19a-128">Nasazení se nezdaří, pokud neurčíte platnou bitovou kopií HPC Pack.</span><span class="sxs-lookup"><span data-stu-id="cf19a-128">Deployment fails if you don't specify a valid HPC Pack image.</span></span>
  > 
  > 
* <span data-ttu-id="cf19a-129">**Soubor protokolu** (volitelné): Určuje cestu souboru protokolu nasazení hello.</span><span class="sxs-lookup"><span data-stu-id="cf19a-129">**LogFile** (optional): Specifies hello deployment log file path.</span></span> <span data-ttu-id="cf19a-130">Pokud není zadaný, skript hello vytvoří soubor protokolu v adresáři temp hello hello počítače se systémem hello skriptu.</span><span class="sxs-lookup"><span data-stu-id="cf19a-130">If not specified, hello script creates a log file in hello temp directory of hello computer running hello script.</span></span>
* <span data-ttu-id="cf19a-131">**Platnost** (volitelné): potlačí všechny výzvy potvrzení hello.</span><span class="sxs-lookup"><span data-stu-id="cf19a-131">**Force** (optional): Suppresses all hello confirmation prompts.</span></span>
* <span data-ttu-id="cf19a-132">**NoCleanOnFailure** (volitelné): Určuje, že hello virtuálních počítačích Azure, která nejsou nasazena úspěšně neodeberou.</span><span class="sxs-lookup"><span data-stu-id="cf19a-132">**NoCleanOnFailure** (optional): Specifies that hello Azure VMs that are not successfully deployed are not removed.</span></span> <span data-ttu-id="cf19a-133">Odebrat tyto virtuální počítače ručně před opětovným spuštěním hello skriptu toocontinue hello nasazení nebo hello nasazení může selhat.</span><span class="sxs-lookup"><span data-stu-id="cf19a-133">Remove these VMs manually before rerunning hello script toocontinue hello deployment, or hello deployment may fail.</span></span>
* <span data-ttu-id="cf19a-134">**PSSessionSkipCACheck** (volitelné): pro všechny cloudové služby s virtuálními počítači nasadit pomocí tohoto skriptu certifikát podepsaný svým držitelem je automaticky generován Azure a hello všechny virtuální počítače v cloudové službě hello použít tento certifikát jako výchozí Windows hello Vzdálená správa systému Windows (WinRM) certifikát.</span><span class="sxs-lookup"><span data-stu-id="cf19a-134">**PSSessionSkipCACheck** (optional): For every cloud service with VMs deployed by this script, a self-signed certificate is automatically generated by Azure, and all hello VMs in hello cloud service use this certificate as hello default Windows Remote Management (WinRM) certificate.</span></span> <span data-ttu-id="cf19a-135">Funkce toodeploy HPC v těchto virtuálních počítačích Azure, skript hello ve výchozím nastavení dočasně nainstaluje tyto certifikáty v místním počítači hello\\úložiště Důvěryhodné kořenové certifikační autority hello klientský počítač toosuppress hello "není důvěryhodné certifikační Autority" zabezpečení Při provádění skriptu došlo k chybě.</span><span class="sxs-lookup"><span data-stu-id="cf19a-135">toodeploy HPC features in these Azure VMs, hello script by default temporarily installs these certificates in hello Local Computer\\Trusted Root Certification Authorities store of hello client computer toosuppress hello “not trusted CA” security error during script execution.</span></span> <span data-ttu-id="cf19a-136">Hello certifikáty jsou odebrány, po dokončení skriptu hello.</span><span class="sxs-lookup"><span data-stu-id="cf19a-136">hello certificates are removed when hello script finishes.</span></span> <span data-ttu-id="cf19a-137">Pokud je tento parametr zadán, hello certifikáty nejsou nainstalované v klientském počítači hello a potlačeno hello upozornění zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="cf19a-137">If this parameter is specified, hello certificates are not installed in hello client computer, and hello security warning is suppressed.</span></span>
  
  > [!IMPORTANT]
  > <span data-ttu-id="cf19a-138">Tento parametr se nedoporučuje pro nasazení v produkčním prostředí.</span><span class="sxs-lookup"><span data-stu-id="cf19a-138">This parameter is not recommended for production deployments.</span></span>
  > 
  > 

### <a name="example"></a><span data-ttu-id="cf19a-139">Příklad</span><span class="sxs-lookup"><span data-stu-id="cf19a-139">Example</span></span>
<span data-ttu-id="cf19a-140">Hello následující příklad vytvoří cluster služby HPC Pack pomocí konfiguračního souboru *MyConfigFile.xml*a určuje přihlašovací údaje správce pro instalaci clusteru hello.</span><span class="sxs-lookup"><span data-stu-id="cf19a-140">hello following example creates an HPC Pack cluster using the configuration file *MyConfigFile.xml*, and specifies administrator credentials for installing hello cluster.</span></span>

```PowerShell
.\New-HPCIaaSCluster.ps1 –ConfigFile MyConfigFile.xml -AdminUserName <username> –AdminPassword <password>
```

### <a name="additional-considerations"></a><span data-ttu-id="cf19a-141">Další aspekty</span><span class="sxs-lookup"><span data-stu-id="cf19a-141">Additional considerations</span></span>
* <span data-ttu-id="cf19a-142">skript Hello Volitelně můžete umožnit odesílání úlohy prostřednictvím webového portálu HPC Pack hello nebo hello HPC Pack REST API.</span><span class="sxs-lookup"><span data-stu-id="cf19a-142">hello script can optionally enable job submission through hello HPC Pack web portal or hello HPC Pack REST API.</span></span>
* <span data-ttu-id="cf19a-143">Hello skriptu můžete případně spustit vlastní skripty před a po konfiguraci hlavního uzlu hello Chcete-li další software tooinstall nebo konfigurovat další nastavení.</span><span class="sxs-lookup"><span data-stu-id="cf19a-143">hello script can optionally run custom pre- and post-configuration scripts on hello head node if you want tooinstall additional software or configure other settings.</span></span>

## <a name="configuration-file"></a><span data-ttu-id="cf19a-144">Konfigurační soubor</span><span class="sxs-lookup"><span data-stu-id="cf19a-144">Configuration file</span></span>
<span data-ttu-id="cf19a-145">konfigurační soubor Hello hello nasazení skriptu je soubor XML.</span><span class="sxs-lookup"><span data-stu-id="cf19a-145">hello configuration file for hello deployment script is an XML file.</span></span> <span data-ttu-id="cf19a-146">soubor schématu Hello HPCIaaSClusterConfig.xsd je ve složce skriptu nasazení HPC Pack IaaS hello.</span><span class="sxs-lookup"><span data-stu-id="cf19a-146">hello schema file HPCIaaSClusterConfig.xsd is in hello HPC Pack IaaS deployment script folder.</span></span> <span data-ttu-id="cf19a-147">**IaaSClusterConfig** je hello kořenový element hello konfiguračního souboru, který obsahuje podrobný popis naleznete v souboru hello Manual.rtf ve složce skriptu nasazení hello hello podřízené elementy.</span><span class="sxs-lookup"><span data-stu-id="cf19a-147">**IaaSClusterConfig** is hello root element of hello configuration file, which contains hello child elements described in detail in hello file Manual.rtf in hello deployment script folder.</span></span>

